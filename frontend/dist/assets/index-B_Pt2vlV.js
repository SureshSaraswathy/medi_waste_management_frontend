var lD=Object.defineProperty;var cD=(r,e,n)=>e in r?lD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Gi=(r,e,n)=>cD(r,typeof e!="symbol"?e+"":e,n);function uD(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var iA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cx={exports:{}},Hm={},ux={exports:{}},Ni={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function dD(){if(sS)return Ni;sS=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function A(fe){return fe===null||typeof fe!="object"?null:(fe=h&&fe[h]||fe["@@iterator"],typeof fe=="function"?fe:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(fe,le,ve){this.props=fe,this.context=le,this.refs=m,this.updater=ve||f}x.prototype.isReactComponent={},x.prototype.setState=function(fe,le){if(typeof fe!="object"&&typeof fe!="function"&&fe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,fe,le,"setState")},x.prototype.forceUpdate=function(fe){this.updater.enqueueForceUpdate(this,fe,"forceUpdate")};function y(){}y.prototype=x.prototype;function b(fe,le,ve){this.props=fe,this.context=le,this.refs=m,this.updater=ve||f}var w=b.prototype=new y;w.constructor=b,g(w,x.prototype),w.isPureReactComponent=!0;var N=Array.isArray,S=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(fe,le,ve){var se,he={},Ne=null,Pe=null;if(le!=null)for(se in le.ref!==void 0&&(Pe=le.ref),le.key!==void 0&&(Ne=""+le.key),le)S.call(le,se)&&!_.hasOwnProperty(se)&&(he[se]=le[se]);var ye=arguments.length-2;if(ye===1)he.children=ve;else if(1<ye){for(var ce=Array(ye),q=0;q<ye;q++)ce[q]=arguments[q+2];he.children=ce}if(fe&&fe.defaultProps)for(se in ye=fe.defaultProps,ye)he[se]===void 0&&(he[se]=ye[se]);return{$$typeof:r,type:fe,key:Ne,ref:Pe,props:he,_owner:j.current}}function Z(fe,le){return{$$typeof:r,type:fe.type,key:le,ref:fe.ref,props:fe.props,_owner:fe._owner}}function ee(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===r}function V(fe){var le={"=":"=0",":":"=2"};return"$"+fe.replace(/[=:]/g,function(ve){return le[ve]})}var re=/\/+/g;function R(fe,le){return typeof fe=="object"&&fe!==null&&fe.key!=null?V(""+fe.key):le.toString(36)}function Y(fe,le,ve,se,he){var Ne=typeof fe;(Ne==="undefined"||Ne==="boolean")&&(fe=null);var Pe=!1;if(fe===null)Pe=!0;else switch(Ne){case"string":case"number":Pe=!0;break;case"object":switch(fe.$$typeof){case r:case e:Pe=!0}}if(Pe)return Pe=fe,he=he(Pe),fe=se===""?"."+R(Pe,0):se,N(he)?(ve="",fe!=null&&(ve=fe.replace(re,"$&/")+"/"),Y(he,le,ve,"",function(q){return q})):he!=null&&(ee(he)&&(he=Z(he,ve+(!he.key||Pe&&Pe.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+fe)),le.push(he)),1;if(Pe=0,se=se===""?".":se+":",N(fe))for(var ye=0;ye<fe.length;ye++){Ne=fe[ye];var ce=se+R(Ne,ye);Pe+=Y(Ne,le,ve,ce,he)}else if(ce=A(fe),typeof ce=="function")for(fe=ce.call(fe),ye=0;!(Ne=fe.next()).done;)Ne=Ne.value,ce=se+R(Ne,ye++),Pe+=Y(Ne,le,ve,ce,he);else if(Ne==="object")throw le=String(fe),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Pe}function L(fe,le,ve){if(fe==null)return fe;var se=[],he=0;return Y(fe,se,"","",function(Ne){return le.call(ve,Ne,he++)}),se}function $(fe){if(fe._status===-1){var le=fe._result;le=le(),le.then(function(ve){(fe._status===0||fe._status===-1)&&(fe._status=1,fe._result=ve)},function(ve){(fe._status===0||fe._status===-1)&&(fe._status=2,fe._result=ve)}),fe._status===-1&&(fe._status=0,fe._result=le)}if(fe._status===1)return fe._result.default;throw fe._result}var je={current:null},ge={transition:null},Ie={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ge,ReactCurrentOwner:j};function _e(){throw Error("act(...) is not supported in production builds of React.")}return Ni.Children={map:L,forEach:function(fe,le,ve){L(fe,function(){le.apply(this,arguments)},ve)},count:function(fe){var le=0;return L(fe,function(){le++}),le},toArray:function(fe){return L(fe,function(le){return le})||[]},only:function(fe){if(!ee(fe))throw Error("React.Children.only expected to receive a single React element child.");return fe}},Ni.Component=x,Ni.Fragment=n,Ni.Profiler=i,Ni.PureComponent=b,Ni.StrictMode=a,Ni.Suspense=u,Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,Ni.act=_e,Ni.cloneElement=function(fe,le,ve){if(fe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+fe+".");var se=g({},fe.props),he=fe.key,Ne=fe.ref,Pe=fe._owner;if(le!=null){if(le.ref!==void 0&&(Ne=le.ref,Pe=j.current),le.key!==void 0&&(he=""+le.key),fe.type&&fe.type.defaultProps)var ye=fe.type.defaultProps;for(ce in le)S.call(le,ce)&&!_.hasOwnProperty(ce)&&(se[ce]=le[ce]===void 0&&ye!==void 0?ye[ce]:le[ce])}var ce=arguments.length-2;if(ce===1)se.children=ve;else if(1<ce){ye=Array(ce);for(var q=0;q<ce;q++)ye[q]=arguments[q+2];se.children=ye}return{$$typeof:r,type:fe.type,key:he,ref:Ne,props:se,_owner:Pe}},Ni.createContext=function(fe){return fe={$$typeof:c,_currentValue:fe,_currentValue2:fe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},fe.Provider={$$typeof:s,_context:fe},fe.Consumer=fe},Ni.createElement=k,Ni.createFactory=function(fe){var le=k.bind(null,fe);return le.type=fe,le},Ni.createRef=function(){return{current:null}},Ni.forwardRef=function(fe){return{$$typeof:l,render:fe}},Ni.isValidElement=ee,Ni.lazy=function(fe){return{$$typeof:d,_payload:{_status:-1,_result:fe},_init:$}},Ni.memo=function(fe,le){return{$$typeof:o,type:fe,compare:le===void 0?null:le}},Ni.startTransition=function(fe){var le=ge.transition;ge.transition={};try{fe()}finally{ge.transition=le}},Ni.unstable_act=_e,Ni.useCallback=function(fe,le){return je.current.useCallback(fe,le)},Ni.useContext=function(fe){return je.current.useContext(fe)},Ni.useDebugValue=function(){},Ni.useDeferredValue=function(fe){return je.current.useDeferredValue(fe)},Ni.useEffect=function(fe,le){return je.current.useEffect(fe,le)},Ni.useId=function(){return je.current.useId()},Ni.useImperativeHandle=function(fe,le,ve){return je.current.useImperativeHandle(fe,le,ve)},Ni.useInsertionEffect=function(fe,le){return je.current.useInsertionEffect(fe,le)},Ni.useLayoutEffect=function(fe,le){return je.current.useLayoutEffect(fe,le)},Ni.useMemo=function(fe,le){return je.current.useMemo(fe,le)},Ni.useReducer=function(fe,le,ve){return je.current.useReducer(fe,le,ve)},Ni.useRef=function(fe){return je.current.useRef(fe)},Ni.useState=function(fe){return je.current.useState(fe)},Ni.useSyncExternalStore=function(fe,le,ve){return je.current.useSyncExternalStore(fe,le,ve)},Ni.useTransition=function(){return je.current.useTransition()},Ni.version="18.3.1",Ni}var oS;function M4(){return oS||(oS=1,ux.exports=dD()),ux.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function hD(){if(lS)return Hm;lS=1;var r=M4(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,o){var d,h={},A=null,f=null;o!==void 0&&(A=""+o),u.key!==void 0&&(A=""+u.key),u.ref!==void 0&&(f=u.ref);for(d in u)a.call(u,d)&&!s.hasOwnProperty(d)&&(h[d]=u[d]);if(l&&l.defaultProps)for(d in u=l.defaultProps,u)h[d]===void 0&&(h[d]=u[d]);return{$$typeof:e,type:l,key:A,ref:f,props:h,_owner:i.current}}return Hm.Fragment=n,Hm.jsx=c,Hm.jsxs=c,Hm}var cS;function AD(){return cS||(cS=1,cx.exports=hD()),cx.exports}var t=AD(),P=M4();const St=Zi(P),fD=uD({__proto__:null,default:St},[P]);var Xg={},dx={exports:{}},ku={},hx={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function pD(){return uS||(uS=1,(function(r){function e(ge,Ie){var _e=ge.length;ge.push(Ie);e:for(;0<_e;){var fe=_e-1>>>1,le=ge[fe];if(0<i(le,Ie))ge[fe]=Ie,ge[_e]=le,_e=fe;else break e}}function n(ge){return ge.length===0?null:ge[0]}function a(ge){if(ge.length===0)return null;var Ie=ge[0],_e=ge.pop();if(_e!==Ie){ge[0]=_e;e:for(var fe=0,le=ge.length,ve=le>>>1;fe<ve;){var se=2*(fe+1)-1,he=ge[se],Ne=se+1,Pe=ge[Ne];if(0>i(he,_e))Ne<le&&0>i(Pe,he)?(ge[fe]=Pe,ge[Ne]=_e,fe=Ne):(ge[fe]=he,ge[se]=_e,fe=se);else if(Ne<le&&0>i(Pe,_e))ge[fe]=Pe,ge[Ne]=_e,fe=Ne;else break e}}return Ie}function i(ge,Ie){var _e=ge.sortIndex-Ie.sortIndex;return _e!==0?_e:ge.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();r.unstable_now=function(){return c.now()-l}}var u=[],o=[],d=1,h=null,A=3,f=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ge){for(var Ie=n(o);Ie!==null;){if(Ie.callback===null)a(o);else if(Ie.startTime<=ge)a(o),Ie.sortIndex=Ie.expirationTime,e(u,Ie);else break;Ie=n(o)}}function N(ge){if(m=!1,w(ge),!g)if(n(u)!==null)g=!0,$(S);else{var Ie=n(o);Ie!==null&&je(N,Ie.startTime-ge)}}function S(ge,Ie){g=!1,m&&(m=!1,y(k),k=-1),f=!0;var _e=A;try{for(w(Ie),h=n(u);h!==null&&(!(h.expirationTime>Ie)||ge&&!V());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,A=h.priorityLevel;var le=fe(h.expirationTime<=Ie);Ie=r.unstable_now(),typeof le=="function"?h.callback=le:h===n(u)&&a(u),w(Ie)}else a(u);h=n(u)}if(h!==null)var ve=!0;else{var se=n(o);se!==null&&je(N,se.startTime-Ie),ve=!1}return ve}finally{h=null,A=_e,f=!1}}var j=!1,_=null,k=-1,Z=5,ee=-1;function V(){return!(r.unstable_now()-ee<Z)}function re(){if(_!==null){var ge=r.unstable_now();ee=ge;var Ie=!0;try{Ie=_(!0,ge)}finally{Ie?R():(j=!1,_=null)}}else j=!1}var R;if(typeof b=="function")R=function(){b(re)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,L=Y.port2;Y.port1.onmessage=re,R=function(){L.postMessage(null)}}else R=function(){x(re,0)};function $(ge){_=ge,j||(j=!0,R())}function je(ge,Ie){k=x(function(){ge(r.unstable_now())},Ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ge){ge.callback=null},r.unstable_continueExecution=function(){g||f||(g=!0,$(S))},r.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ge?Math.floor(1e3/ge):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return n(u)},r.unstable_next=function(ge){switch(A){case 1:case 2:case 3:var Ie=3;break;default:Ie=A}var _e=A;A=Ie;try{return ge()}finally{A=_e}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ge,Ie){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var _e=A;A=ge;try{return Ie()}finally{A=_e}},r.unstable_scheduleCallback=function(ge,Ie,_e){var fe=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?fe+_e:fe):_e=fe,ge){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=_e+le,ge={id:d++,callback:Ie,priorityLevel:ge,startTime:_e,expirationTime:le,sortIndex:-1},_e>fe?(ge.sortIndex=_e,e(o,ge),n(u)===null&&ge===n(o)&&(m?(y(k),k=-1):m=!0,je(N,_e-fe))):(ge.sortIndex=le,e(u,ge),g||f||(g=!0,$(S))),ge},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ge){var Ie=A;return function(){var _e=A;A=Ie;try{return ge.apply(this,arguments)}finally{A=_e}}}})(Ax)),Ax}var dS;function mD(){return dS||(dS=1,hx.exports=pD()),hx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function gD(){if(hS)return ku;hS=1;var r=M4(),e=mD();function n(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,C=1;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function s(p,v){c(p,v),c(p+"Capture",v)}function c(p,v){for(i[p]=v,p=0;p<v.length;p++)a.add(v[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function A(p){return u.call(h,p)?!0:u.call(d,p)?!1:o.test(p)?h[p]=!0:(d[p]=!0,!1)}function f(p,v,C,z){if(C!==null&&C.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return z?!1:C!==null?!C.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,C,z){if(v===null||typeof v>"u"||f(p,v,C,z))return!0;if(z)return!1;if(C!==null)switch(C.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,C,z,Ae,Be,$e){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=z,this.attributeNamespace=Ae,this.mustUseProperty=C,this.propertyName=p,this.type=v,this.sanitizeURL=Be,this.removeEmptyString=$e}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];x[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function w(p,v,C,z){var Ae=x.hasOwnProperty(v)?x[v]:null;(Ae!==null?Ae.type!==0:z||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,C,Ae,z)&&(C=null),z||Ae===null?A(v)&&(C===null?p.removeAttribute(v):p.setAttribute(v,""+C)):Ae.mustUseProperty?p[Ae.propertyName]=C===null?Ae.type===3?!1:"":C:(v=Ae.attributeName,z=Ae.attributeNamespace,C===null?p.removeAttribute(v):(Ae=Ae.type,C=Ae===3||Ae===4&&C===!0?"":""+C,z?p.setAttributeNS(z,v,C):p.setAttribute(v,C))))}var N=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),V=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Ie(p){return p===null||typeof p!="object"?null:(p=ge&&p[ge]||p["@@iterator"],typeof p=="function"?p:null)}var _e=Object.assign,fe;function le(p){if(fe===void 0)try{throw Error()}catch(C){var v=C.stack.trim().match(/\n( *(at )?)/);fe=v&&v[1]||""}return`
`+fe+p}var ve=!1;function se(p,v){if(!p||ve)return"";ve=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Ar){var z=Ar}Reflect.construct(p,[],v)}else{try{v.call()}catch(Ar){z=Ar}p.call(v.prototype)}else{try{throw Error()}catch(Ar){z=Ar}p()}}catch(Ar){if(Ar&&z&&typeof Ar.stack=="string"){for(var Ae=Ar.stack.split(`
`),Be=z.stack.split(`
`),$e=Ae.length-1,wt=Be.length-1;1<=$e&&0<=wt&&Ae[$e]!==Be[wt];)wt--;for(;1<=$e&&0<=wt;$e--,wt--)if(Ae[$e]!==Be[wt]){if($e!==1||wt!==1)do if($e--,wt--,0>wt||Ae[$e]!==Be[wt]){var Dt=`
`+Ae[$e].replace(" at new "," at ");return p.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",p.displayName)),Dt}while(1<=$e&&0<=wt);break}}}finally{ve=!1,Error.prepareStackTrace=C}return(p=p?p.displayName||p.name:"")?le(p):""}function he(p){switch(p.tag){case 5:return le(p.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return p=se(p.type,!1),p;case 11:return p=se(p.type.render,!1),p;case 1:return p=se(p.type,!0),p;default:return""}}function Ne(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case _:return"Fragment";case j:return"Portal";case Z:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case Y:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case V:return(p.displayName||"Context")+".Consumer";case ee:return(p._context.displayName||"Context")+".Provider";case re:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case L:return v=p.displayName||null,v!==null?v:Ne(p.type)||"Memo";case $:v=p._payload,p=p._init;try{return Ne(p(v))}catch{}}return null}function Pe(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(v);case 8:return v===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ye(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ce(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function q(p){var v=ce(p)?"checked":"value",C=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),z=""+p[v];if(!p.hasOwnProperty(v)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var Ae=C.get,Be=C.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return Ae.call(this)},set:function($e){z=""+$e,Be.call(this,$e)}}),Object.defineProperty(p,v,{enumerable:C.enumerable}),{getValue:function(){return z},setValue:function($e){z=""+$e},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function pe(p){p._valueTracker||(p._valueTracker=q(p))}function oe(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var C=v.getValue(),z="";return p&&(z=ce(p)?p.checked?"true":"false":p.value),p=z,p!==C?(v.setValue(p),!0):!1}function We(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Re(p,v){var C=v.checked;return _e({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??p._wrapperState.initialChecked})}function Ee(p,v){var C=v.defaultValue==null?"":v.defaultValue,z=v.checked!=null?v.checked:v.defaultChecked;C=ye(v.value!=null?v.value:C),p._wrapperState={initialChecked:z,initialValue:C,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function ae(p,v){v=v.checked,v!=null&&w(p,"checked",v,!1)}function Le(p,v){ae(p,v);var C=ye(v.value),z=v.type;if(C!=null)z==="number"?(C===0&&p.value===""||p.value!=C)&&(p.value=""+C):p.value!==""+C&&(p.value=""+C);else if(z==="submit"||z==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?jt(p,v.type,C):v.hasOwnProperty("defaultValue")&&jt(p,v.type,ye(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function Ze(p,v,C){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var z=v.type;if(!(z!=="submit"&&z!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,C||v===p.value||(p.value=v),p.defaultValue=v}C=p.name,C!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,C!==""&&(p.name=C)}function jt(p,v,C){(v!=="number"||We(p.ownerDocument)!==p)&&(C==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+C&&(p.defaultValue=""+C))}var Lt=Array.isArray;function Ct(p,v,C,z){if(p=p.options,v){v={};for(var Ae=0;Ae<C.length;Ae++)v["$"+C[Ae]]=!0;for(C=0;C<p.length;C++)Ae=v.hasOwnProperty("$"+p[C].value),p[C].selected!==Ae&&(p[C].selected=Ae),Ae&&z&&(p[C].defaultSelected=!0)}else{for(C=""+ye(C),v=null,Ae=0;Ae<p.length;Ae++){if(p[Ae].value===C){p[Ae].selected=!0,z&&(p[Ae].defaultSelected=!0);return}v!==null||p[Ae].disabled||(v=p[Ae])}v!==null&&(v.selected=!0)}}function Xt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(n(91));return _e({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function _r(p,v){var C=v.value;if(C==null){if(C=v.children,v=v.defaultValue,C!=null){if(v!=null)throw Error(n(92));if(Lt(C)){if(1<C.length)throw Error(n(93));C=C[0]}v=C}v==null&&(v=""),C=v}p._wrapperState={initialValue:ye(C)}}function Or(p,v){var C=ye(v.value),z=ye(v.defaultValue);C!=null&&(C=""+C,C!==p.value&&(p.value=C),v.defaultValue==null&&p.defaultValue!==C&&(p.defaultValue=C)),z!=null&&(p.defaultValue=""+z)}function He(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function Zt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?Zt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var $r,pr=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,C,z,Ae){MSApp.execUnsafeLocalFunction(function(){return p(v,C,z,Ae)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=$r.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function on(p,v){if(v){var C=p.firstChild;if(C&&C===p.lastChild&&C.nodeType===3){C.nodeValue=v;return}}p.textContent=v}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(p){qr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),Yr[v]=Yr[p]})});function Ir(p,v,C){return v==null||typeof v=="boolean"||v===""?"":C||typeof v!="number"||v===0||Yr.hasOwnProperty(p)&&Yr[p]?(""+v).trim():v+"px"}function dr(p,v){p=p.style;for(var C in v)if(v.hasOwnProperty(C)){var z=C.indexOf("--")===0,Ae=Ir(C,v[C],z);C==="float"&&(C="cssFloat"),z?p.setProperty(C,Ae):p[C]=Ae}}var Cr=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vr(p,v){if(v){if(Cr[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(n(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(n(61))}if(v.style!=null&&typeof v.style!="object")throw Error(n(62))}}function zr(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gn=null;function Wr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var $n=null,Lr=null,Dr=null;function wn(p){if(p=Iu(p)){if(typeof $n!="function")throw Error(n(280));var v=p.stateNode;v&&(v=gd(v),$n(p.stateNode,p.type,v))}}function cn(p){Lr?Dr?Dr.push(p):Dr=[p]:Lr=p}function bt(){if(Lr){var p=Lr,v=Dr;if(Dr=Lr=null,wn(p),v)for(p=0;p<v.length;p++)wn(v[p])}}function Sr(p,v){return p(v)}function dn(){}var Dn=!1;function Xr(p,v,C){if(Dn)return p(v,C);Dn=!0;try{return Sr(p,v,C)}finally{Dn=!1,(Lr!==null||Dr!==null)&&(dn(),bt())}}function Un(p,v){var C=p.stateNode;if(C===null)return null;var z=gd(C);if(z===null)return null;C=z[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(z=!z.disabled)||(p=p.type,z=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!z;break e;default:p=!1}if(p)return null;if(C&&typeof C!="function")throw Error(n(231,v,typeof C));return C}var Ur=!1;if(l)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Ur=!1}function os(p,v,C,z,Ae,Be,$e,wt,Dt){var Ar=Array.prototype.slice.call(arguments,3);try{v.apply(C,Ar)}catch(Gr){this.onError(Gr)}}var jn=!1,Ss=null,ji=!1,vi=null,Ui={onError:function(p){jn=!0,Ss=p}};function Bi(p,v,C,z,Ae,Be,$e,wt,Dt){jn=!1,Ss=null,os.apply(Ui,arguments)}function Bs(p,v,C,z,Ae,Be,$e,wt,Dt){if(Bi.apply(this,arguments),jn){if(jn){var Ar=Ss;jn=!1,Ss=null}else throw Error(n(198));ji||(ji=!0,vi=Ar)}}function ri(p){var v=p,C=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(C=v.return),p=v.return;while(p)}return v.tag===3?C:null}function Ks(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Wa(p){if(ri(p)!==p)throw Error(n(188))}function wc(p){var v=p.alternate;if(!v){if(v=ri(p),v===null)throw Error(n(188));return v!==p?null:p}for(var C=p,z=v;;){var Ae=C.return;if(Ae===null)break;var Be=Ae.alternate;if(Be===null){if(z=Ae.return,z!==null){C=z;continue}break}if(Ae.child===Be.child){for(Be=Ae.child;Be;){if(Be===C)return Wa(Ae),p;if(Be===z)return Wa(Ae),v;Be=Be.sibling}throw Error(n(188))}if(C.return!==z.return)C=Ae,z=Be;else{for(var $e=!1,wt=Ae.child;wt;){if(wt===C){$e=!0,C=Ae,z=Be;break}if(wt===z){$e=!0,z=Ae,C=Be;break}wt=wt.sibling}if(!$e){for(wt=Be.child;wt;){if(wt===C){$e=!0,C=Be,z=Ae;break}if(wt===z){$e=!0,z=Be,C=Ae;break}wt=wt.sibling}if(!$e)throw Error(n(189))}}if(C.alternate!==z)throw Error(n(190))}if(C.tag!==3)throw Error(n(188));return C.stateNode.current===C?p:v}function ms(p){return p=wc(p),p!==null?Nl(p):null}function Nl(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=Nl(p);if(v!==null)return v;p=p.sibling}return null}var jc=e.unstable_scheduleCallback,Sl=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,go=e.unstable_requestPaint,ha=e.unstable_now,Yl=e.unstable_getCurrentPriorityLevel,ni=e.unstable_ImmediatePriority,Bo=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,Eo=e.unstable_LowPriority,el=e.unstable_IdlePriority,Io=null,Hs=null;function Ci(p){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Io,p,void 0,(p.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:Lc,Al=Math.log,To=Math.LN2;function Lc(p){return p>>>=0,p===0?32:31-(Al(p)/To|0)|0}var ls=64,qn=4194304;function Qi(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function gs(p,v){var C=p.pendingLanes;if(C===0)return 0;var z=0,Ae=p.suspendedLanes,Be=p.pingedLanes,$e=C&268435455;if($e!==0){var wt=$e&~Ae;wt!==0?z=Qi(wt):(Be&=$e,Be!==0&&(z=Qi(Be)))}else $e=C&~Ae,$e!==0?z=Qi($e):Be!==0&&(z=Qi(Be));if(z===0)return 0;if(v!==0&&v!==z&&(v&Ae)===0&&(Ae=z&-z,Be=v&-v,Ae>=Be||Ae===16&&(Be&4194240)!==0))return v;if((z&4)!==0&&(z|=C&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=z;0<v;)C=31-ai(v),Ae=1<<C,z|=p[C],v&=~Ae;return z}function vs(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(p,v){for(var C=p.suspendedLanes,z=p.pingedLanes,Ae=p.expirationTimes,Be=p.pendingLanes;0<Be;){var $e=31-ai(Be),wt=1<<$e,Dt=Ae[$e];Dt===-1?((wt&C)===0||(wt&z)!==0)&&(Ae[$e]=vs(wt,v)):Dt<=v&&(p.expiredLanes|=wt),Be&=~wt}}function Di(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function so(){var p=ls;return ls<<=1,(ls&4194240)===0&&(ls=64),p}function Xi(p){for(var v=[],C=0;31>C;C++)v.push(p);return v}function ki(p,v,C){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-ai(v),p[v]=C}function vo(p,v){var C=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var z=p.eventTimes;for(p=p.expirationTimes;0<C;){var Ae=31-ai(C),Be=1<<Ae;v[Ae]=0,z[Ae]=-1,p[Ae]=-1,C&=~Be}}function Oo(p,v){var C=p.entangledLanes|=v;for(p=p.entanglements;C;){var z=31-ai(C),Ae=1<<z;Ae&v|p[z]&v&&(p[z]|=v),C&=~Ae}}var pa=0;function Wi(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var xs,qs,ks,ko,Ut,Q=!1,ie=[],ue=null,M=null,W=null,te=new Map,Ce=new Map,ke=[],Ge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function it(p,v){switch(p){case"focusin":case"focusout":ue=null;break;case"dragenter":case"dragleave":M=null;break;case"mouseover":case"mouseout":W=null;break;case"pointerover":case"pointerout":te.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ce.delete(v.pointerId)}}function I(p,v,C,z,Ae,Be){return p===null||p.nativeEvent!==Be?(p={blockedOn:v,domEventName:C,eventSystemFlags:z,nativeEvent:Be,targetContainers:[Ae]},v!==null&&(v=Iu(v),v!==null&&qs(v)),p):(p.eventSystemFlags|=z,v=p.targetContainers,Ae!==null&&v.indexOf(Ae)===-1&&v.push(Ae),p)}function B(p,v,C,z,Ae){switch(v){case"focusin":return ue=I(ue,p,v,C,z,Ae),!0;case"dragenter":return M=I(M,p,v,C,z,Ae),!0;case"mouseover":return W=I(W,p,v,C,z,Ae),!0;case"pointerover":var Be=Ae.pointerId;return te.set(Be,I(te.get(Be)||null,p,v,C,z,Ae)),!0;case"gotpointercapture":return Be=Ae.pointerId,Ce.set(Be,I(Ce.get(Be)||null,p,v,C,z,Ae)),!0}return!1}function D(p){var v=Ko(p.target);if(v!==null){var C=ri(v);if(C!==null){if(v=C.tag,v===13){if(v=Ks(C),v!==null){p.blockedOn=v,Ut(p.priority,function(){ks(C)});return}}else if(v===3&&C.stateNode.current.memoizedState.isDehydrated){p.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}p.blockedOn=null}function K(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var C=vt(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(C===null){C=p.nativeEvent;var z=new C.constructor(C.type,C);gn=z,C.target.dispatchEvent(z),gn=null}else return v=Iu(C),v!==null&&qs(v),p.blockedOn=C,!1;v.shift()}return!0}function X(p,v,C){K(p)&&C.delete(v)}function ne(){Q=!1,ue!==null&&K(ue)&&(ue=null),M!==null&&K(M)&&(M=null),W!==null&&K(W)&&(W=null),te.forEach(X),Ce.forEach(X)}function Se(p,v){p.blockedOn===v&&(p.blockedOn=null,Q||(Q=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ne)))}function me(p){function v(Ae){return Se(Ae,p)}if(0<ie.length){Se(ie[0],p);for(var C=1;C<ie.length;C++){var z=ie[C];z.blockedOn===p&&(z.blockedOn=null)}}for(ue!==null&&Se(ue,p),M!==null&&Se(M,p),W!==null&&Se(W,p),te.forEach(v),Ce.forEach(v),C=0;C<ke.length;C++)z=ke[C],z.blockedOn===p&&(z.blockedOn=null);for(;0<ke.length&&(C=ke[0],C.blockedOn===null);)D(C),C.blockedOn===null&&ke.shift()}var xe=N.ReactCurrentBatchConfig,De=!0;function Ve(p,v,C,z){var Ae=pa,Be=xe.transition;xe.transition=null;try{pa=1,st(p,v,C,z)}finally{pa=Ae,xe.transition=Be}}function et(p,v,C,z){var Ae=pa,Be=xe.transition;xe.transition=null;try{pa=4,st(p,v,C,z)}finally{pa=Ae,xe.transition=Be}}function st(p,v,C,z){if(De){var Ae=vt(p,v,C,z);if(Ae===null)au(p,v,z,Oe,C),it(p,z);else if(B(Ae,p,v,C,z))z.stopPropagation();else if(it(p,z),v&4&&-1<Ge.indexOf(p)){for(;Ae!==null;){var Be=Iu(Ae);if(Be!==null&&xs(Be),Be=vt(p,v,C,z),Be===null&&au(p,v,z,Oe,C),Be===Ae)break;Ae=Be}Ae!==null&&z.stopPropagation()}else au(p,v,z,null,C)}}var Oe=null;function vt(p,v,C,z){if(Oe=null,p=Wr(z),p=Ko(p),p!==null)if(v=ri(p),v===null)p=null;else if(C=v.tag,C===13){if(p=Ks(v),p!==null)return p;p=null}else if(C===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Oe=p,null}function mt(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yl()){case ni:return 1;case Bo:return 4;case Gs:case Eo:return 16;case el:return 536870912;default:return 16}default:return 16}}var yt=null,nt=null,kt=null;function Kt(){if(kt)return kt;var p,v=nt,C=v.length,z,Ae="value"in yt?yt.value:yt.textContent,Be=Ae.length;for(p=0;p<C&&v[p]===Ae[p];p++);var $e=C-p;for(z=1;z<=$e&&v[C-z]===Ae[Be-z];z++);return kt=Ae.slice(p,1<z?1-z:void 0)}function Et(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function tt(){return!0}function Qt(){return!1}function lr(p){function v(C,z,Ae,Be,$e){this._reactName=C,this._targetInst=Ae,this.type=z,this.nativeEvent=Be,this.target=$e,this.currentTarget=null;for(var wt in p)p.hasOwnProperty(wt)&&(C=p[wt],this[wt]=C?C(Be):Be[wt]);return this.isDefaultPrevented=(Be.defaultPrevented!=null?Be.defaultPrevented:Be.returnValue===!1)?tt:Qt,this.isPropagationStopped=Qt,this}return _e(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){},isPersistent:tt}),v}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_t=lr(qt),or=_e({},qt,{view:0,detail:0}),at=lr(or),dt,It,Tt,cr=_e({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Tt&&(Tt&&p.type==="mousemove"?(dt=p.screenX-Tt.screenX,It=p.screenY-Tt.screenY):It=dt=0,Tt=p),dt)},movementY:function(p){return"movementY"in p?p.movementY:It}}),fr=lr(cr),xr=_e({},cr,{dataTransfer:0}),Jt=lr(xr),gr=_e({},or,{relatedTarget:0}),Zr=lr(gr),Hr=_e({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ye=lr(Hr),xt=_e({},qt,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Nt=lr(xt),Wt=_e({},qt,{data:0}),zt=lr(Wt),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=vr[p])?!!v[p]:!1}function Jr(){return Pr}var Cn=_e({},or,{key:function(p){if(p.key){var v=nr[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Et(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?mr[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(p){return p.type==="keypress"?Et(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Et(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Bn=lr(Cn),ca=_e({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ut=lr(ca),hn=_e({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),ma=lr(hn),un=_e({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qr=lr(un),oa=_e({},cr,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=lr(oa),Jn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,fi=null;l&&"documentMode"in document&&(fi=document.documentMode);var La=l&&"TextEvent"in window&&!fi,Fn=l&&(!Rn||fi&&8<fi&&11>=fi),si=" ",la=!1;function _n(p,v){switch(p){case"keyup":return Jn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var On=!1;function wa(p,v){switch(p){case"compositionend":return ua(v);case"keypress":return v.which!==32?null:(la=!0,si);case"textInput":return p=v.data,p===si&&la?null:p;default:return null}}function ci(p,v){if(On)return p==="compositionend"||!Rn&&_n(p,v)?(p=Kt(),kt=nt=yt=null,On=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Fn&&v.locale!=="ko"?null:v.data;default:return null}}var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function za(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Va[p.type]:v==="textarea"}function Ji(p,v,C,z){cn(z),v=Wu(v,"onChange"),0<v.length&&(C=new _t("onChange","change",null,C,z),p.push({event:C,listeners:v}))}var Kn=null,Ei=null;function ga(p){tc(p,0)}function zn(p){var v=ml(p);if(oe(v))return p}function Ii(p,v){if(p==="change")return v}var ja=!1;if(l){var En;if(l){var Xa="oninput"in document;if(!Xa){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),Xa=typeof eu.oninput=="function"}En=Xa}else En=!1;ja=En&&(!document.documentMode||9<document.documentMode)}function Qs(){Kn&&(Kn.detachEvent("onpropertychange",xo),Ei=Kn=null)}function xo(p){if(p.propertyName==="value"&&zn(Ei)){var v=[];Ji(v,Ei,p,Wr(p)),Xr(ga,v)}}function Cc(p,v,C){p==="focusin"?(Qs(),Kn=v,Ei=C,Kn.attachEvent("onpropertychange",xo)):p==="focusout"&&Qs()}function Aa(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return zn(Ei)}function ys(p,v){if(p==="click")return zn(v)}function yo(p,v){if(p==="input"||p==="change")return zn(v)}function Bl(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Ps=typeof Object.is=="function"?Object.is:Bl;function Pi(p,v){if(Ps(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var C=Object.keys(p),z=Object.keys(v);if(C.length!==z.length)return!1;for(z=0;z<C.length;z++){var Ae=C[z];if(!u.call(v,Ae)||!Ps(p[Ae],v[Ae]))return!1}return!0}function Es(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function oo(p,v){var C=Es(p);p=0;for(var z;C;){if(C.nodeType===3){if(z=p+C.textContent.length,p<=v&&z>=v)return{node:C,offset:v-p};p=z}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=Es(C)}}function tu(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?tu(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Xs(){for(var p=window,v=We();v instanceof p.HTMLIFrameElement;){try{var C=typeof v.contentWindow.location.href=="string"}catch{C=!1}if(C)p=v.contentWindow;else break;v=We(p.document)}return v}function tl(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Nc(p){var v=Xs(),C=p.focusedElem,z=p.selectionRange;if(v!==C&&C&&C.ownerDocument&&tu(C.ownerDocument.documentElement,C)){if(z!==null&&tl(C)){if(v=z.start,p=z.end,p===void 0&&(p=v),"selectionStart"in C)C.selectionStart=v,C.selectionEnd=Math.min(p,C.value.length);else if(p=(v=C.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var Ae=C.textContent.length,Be=Math.min(z.start,Ae);z=z.end===void 0?Be:Math.min(z.end,Ae),!p.extend&&Be>z&&(Ae=z,z=Be,Be=Ae),Ae=oo(C,Be);var $e=oo(C,z);Ae&&$e&&(p.rangeCount!==1||p.anchorNode!==Ae.node||p.anchorOffset!==Ae.offset||p.focusNode!==$e.node||p.focusOffset!==$e.offset)&&(v=v.createRange(),v.setStart(Ae.node,Ae.offset),p.removeAllRanges(),Be>z?(p.addRange(v),p.extend($e.node,$e.offset)):(v.setEnd($e.node,$e.offset),p.addRange(v)))}}for(v=[],p=C;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<v.length;C++)p=v[C],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Zl=l&&"documentMode"in document&&11>=document.documentMode,Ys=null,rl=null,El=null,$o=!1;function Po(p,v,C){var z=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;$o||Ys==null||Ys!==We(z)||(z=Ys,"selectionStart"in z&&tl(z)?z={start:z.selectionStart,end:z.selectionEnd}:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection(),z={anchorNode:z.anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset}),El&&Pi(El,z)||(El=z,z=Wu(rl,"onSelect"),0<z.length&&(v=new _t("onSelect","select",null,v,C),p.push({event:v,listeners:z}),v.target=Ys)))}function Jl(p,v){var C={};return C[p.toLowerCase()]=v.toLowerCase(),C["Webkit"+p]="webkit"+v,C["Moz"+p]="moz"+v,C}var Il={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Sc={},ud={};l&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Uc(p){if(Sc[p])return Sc[p];if(!Il[p])return p;var v=Il[p],C;for(C in v)if(v.hasOwnProperty(C)&&C in ud)return Sc[p]=v[C];return p}var dd=Uc("animationend"),ru=Uc("animationiteration"),Vo=Uc("animationstart"),nu=Uc("transitionend"),bu=new Map,Lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(p,v){bu.set(p,v),s(v,[p])}for(var Uu=0;Uu<Lu.length;Uu++){var Hu=Lu[Uu],ec=Hu.toLowerCase(),Qu=Hu[0].toUpperCase()+Hu.slice(1);Tl(ec,"on"+Qu)}Tl(dd,"onAnimationEnd"),Tl(ru,"onAnimationIteration"),Tl(Vo,"onAnimationStart"),Tl("dblclick","onDoubleClick"),Tl("focusin","onFocus"),Tl("focusout","onBlur"),Tl(nu,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ya=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function hd(p,v,C){var z=p.type||"unknown-event";p.currentTarget=C,Bs(z,v,void 0,p),p.currentTarget=null}function tc(p,v){v=(v&4)!==0;for(var C=0;C<p.length;C++){var z=p[C],Ae=z.event;z=z.listeners;e:{var Be=void 0;if(v)for(var $e=z.length-1;0<=$e;$e--){var wt=z[$e],Dt=wt.instance,Ar=wt.currentTarget;if(wt=wt.listener,Dt!==Be&&Ae.isPropagationStopped())break e;hd(Ae,wt,Ar),Be=Dt}else for($e=0;$e<z.length;$e++){if(wt=z[$e],Dt=wt.instance,Ar=wt.currentTarget,wt=wt.listener,Dt!==Be&&Ae.isPropagationStopped())break e;hd(Ae,wt,Ar),Be=Dt}}}if(ji)throw p=vi,ji=!1,vi=null,p}function xi(p,v){var C=v[$d];C===void 0&&(C=v[$d]=new Set);var z=p+"__bubble";C.has(z)||(Bc(v,p,2,!1),C.add(z))}function Ad(p,v,C){var z=0;v&&(z|=4),Bc(C,p,z,v)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Is(p){if(!p[fl]){p[fl]=!0,a.forEach(function(C){C!=="selectionchange"&&(ya.has(C)||Ad(C,!1,p),Ad(C,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[fl]||(v[fl]=!0,Ad("selectionchange",!1,v))}}function Bc(p,v,C,z){switch(mt(v)){case 1:var Ae=Ve;break;case 4:Ae=et;break;default:Ae=st}C=Ae.bind(null,v,C,p),Ae=void 0,!Ur||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(Ae=!0),z?Ae!==void 0?p.addEventListener(v,C,{capture:!0,passive:Ae}):p.addEventListener(v,C,!0):Ae!==void 0?p.addEventListener(v,C,{passive:Ae}):p.addEventListener(v,C,!1)}function au(p,v,C,z,Ae){var Be=z;if((v&1)===0&&(v&2)===0&&z!==null)e:for(;;){if(z===null)return;var $e=z.tag;if($e===3||$e===4){var wt=z.stateNode.containerInfo;if(wt===Ae||wt.nodeType===8&&wt.parentNode===Ae)break;if($e===4)for($e=z.return;$e!==null;){var Dt=$e.tag;if((Dt===3||Dt===4)&&(Dt=$e.stateNode.containerInfo,Dt===Ae||Dt.nodeType===8&&Dt.parentNode===Ae))return;$e=$e.return}for(;wt!==null;){if($e=Ko(wt),$e===null)return;if(Dt=$e.tag,Dt===5||Dt===6){z=Be=$e;continue e}wt=wt.parentNode}}z=z.return}Xr(function(){var Ar=Be,Gr=Wr(C),en=[];e:{var Kr=bu.get(p);if(Kr!==void 0){var Ln=_t,Zn=p;switch(p){case"keypress":if(Et(C)===0)break e;case"keydown":case"keyup":Ln=Bn;break;case"focusin":Zn="focus",Ln=Zr;break;case"focusout":Zn="blur",Ln=Zr;break;case"beforeblur":case"afterblur":Ln=Zr;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ln=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ln=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ln=ma;break;case dd:case ru:case Vo:Ln=Ye;break;case nu:Ln=Qr;break;case"scroll":Ln=at;break;case"wheel":Ln=Mn;break;case"copy":case"cut":case"paste":Ln=Nt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ln=ut}var ra=(v&4)!==0,ul=!ra&&p==="scroll",sr=ra?Kr!==null?Kr+"Capture":null:Kr;ra=[];for(var Vt=Ar,hr;Vt!==null;){hr=Vt;var sn=hr.stateNode;if(hr.tag===5&&sn!==null&&(hr=sn,sr!==null&&(sn=Un(Vt,sr),sn!=null&&ra.push(_l(Vt,sn,hr)))),ul)break;Vt=Vt.return}0<ra.length&&(Kr=new Ln(Kr,Zn,null,C,Gr),en.push({event:Kr,listeners:ra}))}}if((v&7)===0){e:{if(Kr=p==="mouseover"||p==="pointerover",Ln=p==="mouseout"||p==="pointerout",Kr&&C!==gn&&(Zn=C.relatedTarget||C.fromElement)&&(Ko(Zn)||Zn[rc]))break e;if((Ln||Kr)&&(Kr=Gr.window===Gr?Gr:(Kr=Gr.ownerDocument)?Kr.defaultView||Kr.parentWindow:window,Ln?(Zn=C.relatedTarget||C.toElement,Ln=Ar,Zn=Zn?Ko(Zn):null,Zn!==null&&(ul=ri(Zn),Zn!==ul||Zn.tag!==5&&Zn.tag!==6)&&(Zn=null)):(Ln=null,Zn=Ar),Ln!==Zn)){if(ra=fr,sn="onMouseLeave",sr="onMouseEnter",Vt="mouse",(p==="pointerout"||p==="pointerover")&&(ra=ut,sn="onPointerLeave",sr="onPointerEnter",Vt="pointer"),ul=Ln==null?Kr:ml(Ln),hr=Zn==null?Kr:ml(Zn),Kr=new ra(sn,Vt+"leave",Ln,C,Gr),Kr.target=ul,Kr.relatedTarget=hr,sn=null,Ko(Gr)===Ar&&(ra=new ra(sr,Vt+"enter",Zn,C,Gr),ra.target=hr,ra.relatedTarget=ul,sn=ra),ul=sn,Ln&&Zn)t:{for(ra=Ln,sr=Zn,Vt=0,hr=ra;hr;hr=zo(hr))Vt++;for(hr=0,sn=sr;sn;sn=zo(sn))hr++;for(;0<Vt-hr;)ra=zo(ra),Vt--;for(;0<hr-Vt;)sr=zo(sr),hr--;for(;Vt--;){if(ra===sr||sr!==null&&ra===sr.alternate)break t;ra=zo(ra),sr=zo(sr)}ra=null}else ra=null;Ln!==null&&fd(en,Kr,Ln,ra,!1),Zn!==null&&ul!==null&&fd(en,ul,Zn,ra,!0)}}e:{if(Kr=Ar?ml(Ar):window,Ln=Kr.nodeName&&Kr.nodeName.toLowerCase(),Ln==="select"||Ln==="input"&&Kr.type==="file")var sa=Ii;else if(za(Kr))if(ja)sa=yo;else{sa=Aa;var Ia=Cc}else(Ln=Kr.nodeName)&&Ln.toLowerCase()==="input"&&(Kr.type==="checkbox"||Kr.type==="radio")&&(sa=ys);if(sa&&(sa=sa(p,Ar))){Ji(en,sa,C,Gr);break e}Ia&&Ia(p,Kr,Ar),p==="focusout"&&(Ia=Kr._wrapperState)&&Ia.controlled&&Kr.type==="number"&&jt(Kr,"number",Kr.value)}switch(Ia=Ar?ml(Ar):window,p){case"focusin":(za(Ia)||Ia.contentEditable==="true")&&(Ys=Ia,rl=Ar,El=null);break;case"focusout":El=rl=Ys=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Po(en,C,Gr);break;case"selectionchange":if(Zl)break;case"keydown":case"keyup":Po(en,C,Gr)}var Ta;if(Rn)e:{switch(p){case"compositionstart":var Ga="onCompositionStart";break e;case"compositionend":Ga="onCompositionEnd";break e;case"compositionupdate":Ga="onCompositionUpdate";break e}Ga=void 0}else On?_n(p,C)&&(Ga="onCompositionEnd"):p==="keydown"&&C.keyCode===229&&(Ga="onCompositionStart");Ga&&(Fn&&C.locale!=="ko"&&(On||Ga!=="onCompositionStart"?Ga==="onCompositionEnd"&&On&&(Ta=Kt()):(yt=Gr,nt="value"in yt?yt.value:yt.textContent,On=!0)),Ia=Wu(Ar,Ga),0<Ia.length&&(Ga=new zt(Ga,p,null,C,Gr),en.push({event:Ga,listeners:Ia}),Ta?Ga.data=Ta:(Ta=ua(C),Ta!==null&&(Ga.data=Ta)))),(Ta=La?wa(p,C):ci(p,C))&&(Ar=Wu(Ar,"onBeforeInput"),0<Ar.length&&(Gr=new zt("onBeforeInput","beforeinput",null,C,Gr),en.push({event:Gr,listeners:Ar}),Gr.data=Ta))}tc(en,v)})}function _l(p,v,C){return{instance:p,listener:v,currentTarget:C}}function Wu(p,v){for(var C=v+"Capture",z=[];p!==null;){var Ae=p,Be=Ae.stateNode;Ae.tag===5&&Be!==null&&(Ae=Be,Be=Un(p,C),Be!=null&&z.unshift(_l(p,Be,Ae)),Be=Un(p,v),Be!=null&&z.push(_l(p,Be,Ae))),p=p.return}return z}function zo(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function fd(p,v,C,z,Ae){for(var Be=v._reactName,$e=[];C!==null&&C!==z;){var wt=C,Dt=wt.alternate,Ar=wt.stateNode;if(Dt!==null&&Dt===z)break;wt.tag===5&&Ar!==null&&(wt=Ar,Ae?(Dt=Un(C,Be),Dt!=null&&$e.unshift(_l(C,Dt,wt))):Ae||(Dt=Un(C,Be),Dt!=null&&$e.push(_l(C,Dt,wt)))),C=C.return}$e.length!==0&&p.push({event:v,listeners:$e})}var ju=/\r\n?/g,pd=/\u0000|\uFFFD/g;function iu(p){return(typeof p=="string"?p:""+p).replace(ju,`
`).replace(pd,"")}function Cu(p,v,C){if(v=iu(v),iu(p)!==v&&C)throw Error(n(425))}function Nu(){}var Su=null,Bu=null;function md(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,Mh=typeof clearTimeout=="function"?clearTimeout:void 0,Eu=typeof Promise=="function"?Promise:void 0,Wd=typeof queueMicrotask=="function"?queueMicrotask:typeof Eu<"u"?function(p){return Eu.resolve(null).then(p).catch(Rh)}:Ol;function Rh(p){setTimeout(function(){throw p})}function Ca(p,v){var C=v,z=0;do{var Ae=C.nextSibling;if(p.removeChild(C),Ae&&Ae.nodeType===8)if(C=Ae.data,C==="/$"){if(z===0){p.removeChild(Ae),me(v);return}z--}else C!=="$"&&C!=="$?"&&C!=="$!"||z++;C=Ae}while(C);me(v)}function Hc(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function hh(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var C=p.data;if(C==="$"||C==="$!"||C==="$?"){if(v===0)return p;v--}else C==="/$"&&v++}p=p.previousSibling}return null}var Ec=Math.random().toString(36).slice(2),bo="__reactFiber$"+Ec,kl="__reactProps$"+Ec,rc="__reactContainer$"+Ec,$d="__reactEvents$"+Ec,pl="__reactListeners$"+Ec,$u="__reactHandles$"+Ec;function Ko(p){var v=p[bo];if(v)return v;for(var C=p.parentNode;C;){if(v=C[rc]||C[bo]){if(C=v.alternate,v.child!==null||C!==null&&C.child!==null)for(p=hh(p);p!==null;){if(C=p[bo])return C;p=hh(p)}return v}p=C,C=p.parentNode}return null}function Iu(p){return p=p[bo]||p[rc],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function ml(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function gd(p){return p[kl]||null}var Ic=[],nc=-1;function Pl(p){return{current:p}}function ui(p){0>nc||(p.current=Ic[nc],Ic[nc]=null,nc--)}function Ti(p,v){nc++,Ic[nc]=p.current,p.current=v}var Fl={},bs=Pl(Fl),Fs=Pl(!1),Tc=Fl;function su(p,v){var C=p.type.contextTypes;if(!C)return Fl;var z=p.stateNode;if(z&&z.__reactInternalMemoizedUnmaskedChildContext===v)return z.__reactInternalMemoizedMaskedChildContext;var Ae={},Be;for(Be in C)Ae[Be]=v[Be];return z&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=Ae),Ae}function Fo(p){return p=p.childContextTypes,p!=null}function ac(){ui(Fs),ui(bs)}function Qc(p,v,C){if(bs.current!==Fl)throw Error(n(168));Ti(bs,v),Ti(Fs,C)}function Vd(p,v,C){var z=p.stateNode;if(v=v.childContextTypes,typeof z.getChildContext!="function")return C;z=z.getChildContext();for(var Ae in z)if(!(Ae in v))throw Error(n(108,Pe(p)||"Unknown",Ae));return _e({},C,z)}function Wc(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Fl,Tc=bs.current,Ti(bs,p),Ti(Fs,Fs.current),!0}function zd(p,v,C){var z=p.stateNode;if(!z)throw Error(n(169));C?(p=Vd(p,v,Tc),z.__reactInternalMemoizedMergedChildContext=p,ui(Fs),ui(bs),Ti(bs,p)):ui(Fs),Ti(Fs,C)}var de=null,Ue=!1,gt=!1;function Ot(p){de===null?de=[p]:de.push(p)}function Gt(p){Ue=!0,Ot(p)}function yr(){if(!gt&&de!==null){gt=!0;var p=0,v=pa;try{var C=de;for(pa=1;p<C.length;p++){var z=C[p];do z=z(!0);while(z!==null)}de=null,Ue=!1}catch(Ae){throw de!==null&&(de=de.slice(p+1)),jc(ni,yr),Ae}finally{pa=v,gt=!1}}return null}var Fr=[],In=0,Hn=null,fa=0,aa=[],Oa=0,Fi=null,Mi=1,hi="";function cs(p,v){Fr[In++]=fa,Fr[In++]=Hn,Hn=p,fa=v}function T(p,v,C){aa[Oa++]=Mi,aa[Oa++]=hi,aa[Oa++]=Fi,Fi=p;var z=Mi;p=hi;var Ae=32-ai(z)-1;z&=~(1<<Ae),C+=1;var Be=32-ai(v)+Ae;if(30<Be){var $e=Ae-Ae%5;Be=(z&(1<<$e)-1).toString(32),z>>=$e,Ae-=$e,Mi=1<<32-ai(v)+Ae|C<<Ae|z,hi=Be+p}else Mi=1<<Be|C<<Ae|z,hi=p}function Me(p){p.return!==null&&(cs(p,1),T(p,1,0))}function J(p){for(;p===Hn;)Hn=Fr[--In],Fr[In]=null,fa=Fr[--In],Fr[In]=null;for(;p===Fi;)Fi=aa[--Oa],aa[Oa]=null,hi=aa[--Oa],aa[Oa]=null,Mi=aa[--Oa],aa[Oa]=null}var Xe=null,ht=null,ot=!1,er=null;function $t(p,v){var C=Ht(5,null,null,0);C.elementType="DELETED",C.stateNode=v,C.return=p,v=p.deletions,v===null?(p.deletions=[C],p.flags|=16):v.push(C)}function Nn(p,v){switch(p.tag){case 5:var C=p.type;return v=v.nodeType!==1||C.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Xe=p,ht=Hc(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Xe=p,ht=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(C=Fi!==null?{id:Mi,overflow:hi}:null,p.memoizedState={dehydrated:v,treeContext:C,retryLane:1073741824},C=Ht(18,null,null,0),C.stateNode=v,C.return=p,p.child=C,Xe=p,ht=null,!0):!1;default:return!1}}function Pt(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ir(p){if(ot){var v=ht;if(v){var C=v;if(!Nn(p,v)){if(Pt(p))throw Error(n(418));v=Hc(C.nextSibling);var z=Xe;v&&Nn(p,v)?$t(z,C):(p.flags=p.flags&-4097|2,ot=!1,Xe=p)}}else{if(Pt(p))throw Error(n(418));p.flags=p.flags&-4097|2,ot=!1,Xe=p}}}function va(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Xe=p}function An(p){if(p!==Xe)return!1;if(!ot)return va(p),ot=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!md(p.type,p.memoizedProps)),v&&(v=ht)){if(Pt(p))throw Mr(),Error(n(418));for(;v;)$t(p,v),v=Hc(v.nextSibling)}if(va(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var C=p.data;if(C==="/$"){if(v===0){ht=Hc(p.nextSibling);break e}v--}else C!=="$"&&C!=="$!"&&C!=="$?"||v++}p=p.nextSibling}ht=null}}else ht=Xe?Hc(p.stateNode.nextSibling):null;return!0}function Mr(){for(var p=ht;p;)p=Hc(p.nextSibling)}function br(){ht=Xe=null,ot=!1}function Ri(p){er===null?er=[p]:er.push(p)}var ba=N.ReactCurrentBatchConfig;function ia(p,v,C){if(p=C.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(n(309));var z=C.stateNode}if(!z)throw Error(n(147,p));var Ae=z,Be=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Be?v.ref:(v=function($e){var wt=Ae.refs;$e===null?delete wt[Be]:wt[Be]=$e},v._stringRef=Be,v)}if(typeof p!="string")throw Error(n(284));if(!C._owner)throw Error(n(290,p))}return p}function Na(p,v){throw p=Object.prototype.toString.call(v),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Ya(p){var v=p._init;return v(p._payload)}function an(p){function v(sr,Vt){if(p){var hr=sr.deletions;hr===null?(sr.deletions=[Vt],sr.flags|=16):hr.push(Vt)}}function C(sr,Vt){if(!p)return null;for(;Vt!==null;)v(sr,Vt),Vt=Vt.sibling;return null}function z(sr,Vt){for(sr=new Map;Vt!==null;)Vt.key!==null?sr.set(Vt.key,Vt):sr.set(Vt.index,Vt),Vt=Vt.sibling;return sr}function Ae(sr,Vt){return sr=bn(sr,Vt),sr.index=0,sr.sibling=null,sr}function Be(sr,Vt,hr){return sr.index=hr,p?(hr=sr.alternate,hr!==null?(hr=hr.index,hr<Vt?(sr.flags|=2,Vt):hr):(sr.flags|=2,Vt)):(sr.flags|=1048576,Vt)}function $e(sr){return p&&sr.alternate===null&&(sr.flags|=2),sr}function wt(sr,Vt,hr,sn){return Vt===null||Vt.tag!==6?(Vt=Yn(hr,sr.mode,sn),Vt.return=sr,Vt):(Vt=Ae(Vt,hr),Vt.return=sr,Vt)}function Dt(sr,Vt,hr,sn){var sa=hr.type;return sa===_?Gr(sr,Vt,hr.props.children,sn,hr.key):Vt!==null&&(Vt.elementType===sa||typeof sa=="object"&&sa!==null&&sa.$$typeof===$&&Ya(sa)===Vt.type)?(sn=Ae(Vt,hr.props),sn.ref=ia(sr,Vt,hr),sn.return=sr,sn):(sn=nn(hr.type,hr.key,hr.props,null,sr.mode,sn),sn.ref=ia(sr,Vt,hr),sn.return=sr,sn)}function Ar(sr,Vt,hr,sn){return Vt===null||Vt.tag!==4||Vt.stateNode.containerInfo!==hr.containerInfo||Vt.stateNode.implementation!==hr.implementation?(Vt=Vn(hr,sr.mode,sn),Vt.return=sr,Vt):(Vt=Ae(Vt,hr.children||[]),Vt.return=sr,Vt)}function Gr(sr,Vt,hr,sn,sa){return Vt===null||Vt.tag!==7?(Vt=vn(hr,sr.mode,sn,sa),Vt.return=sr,Vt):(Vt=Ae(Vt,hr),Vt.return=sr,Vt)}function en(sr,Vt,hr){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return Vt=Yn(""+Vt,sr.mode,hr),Vt.return=sr,Vt;if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case S:return hr=nn(Vt.type,Vt.key,Vt.props,null,sr.mode,hr),hr.ref=ia(sr,null,Vt),hr.return=sr,hr;case j:return Vt=Vn(Vt,sr.mode,hr),Vt.return=sr,Vt;case $:var sn=Vt._init;return en(sr,sn(Vt._payload),hr)}if(Lt(Vt)||Ie(Vt))return Vt=vn(Vt,sr.mode,hr,null),Vt.return=sr,Vt;Na(sr,Vt)}return null}function Kr(sr,Vt,hr,sn){var sa=Vt!==null?Vt.key:null;if(typeof hr=="string"&&hr!==""||typeof hr=="number")return sa!==null?null:wt(sr,Vt,""+hr,sn);if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case S:return hr.key===sa?Dt(sr,Vt,hr,sn):null;case j:return hr.key===sa?Ar(sr,Vt,hr,sn):null;case $:return sa=hr._init,Kr(sr,Vt,sa(hr._payload),sn)}if(Lt(hr)||Ie(hr))return sa!==null?null:Gr(sr,Vt,hr,sn,null);Na(sr,hr)}return null}function Ln(sr,Vt,hr,sn,sa){if(typeof sn=="string"&&sn!==""||typeof sn=="number")return sr=sr.get(hr)||null,wt(Vt,sr,""+sn,sa);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case S:return sr=sr.get(sn.key===null?hr:sn.key)||null,Dt(Vt,sr,sn,sa);case j:return sr=sr.get(sn.key===null?hr:sn.key)||null,Ar(Vt,sr,sn,sa);case $:var Ia=sn._init;return Ln(sr,Vt,hr,Ia(sn._payload),sa)}if(Lt(sn)||Ie(sn))return sr=sr.get(hr)||null,Gr(Vt,sr,sn,sa,null);Na(Vt,sn)}return null}function Zn(sr,Vt,hr,sn){for(var sa=null,Ia=null,Ta=Vt,Ga=Vt=0,fc=null;Ta!==null&&Ga<hr.length;Ga++){Ta.index>Ga?(fc=Ta,Ta=null):fc=Ta.sibling;var ns=Kr(sr,Ta,hr[Ga],sn);if(ns===null){Ta===null&&(Ta=fc);break}p&&Ta&&ns.alternate===null&&v(sr,Ta),Vt=Be(ns,Vt,Ga),Ia===null?sa=ns:Ia.sibling=ns,Ia=ns,Ta=fc}if(Ga===hr.length)return C(sr,Ta),ot&&cs(sr,Ga),sa;if(Ta===null){for(;Ga<hr.length;Ga++)Ta=en(sr,hr[Ga],sn),Ta!==null&&(Vt=Be(Ta,Vt,Ga),Ia===null?sa=Ta:Ia.sibling=Ta,Ia=Ta);return ot&&cs(sr,Ga),sa}for(Ta=z(sr,Ta);Ga<hr.length;Ga++)fc=Ln(Ta,sr,Ga,hr[Ga],sn),fc!==null&&(p&&fc.alternate!==null&&Ta.delete(fc.key===null?Ga:fc.key),Vt=Be(fc,Vt,Ga),Ia===null?sa=fc:Ia.sibling=fc,Ia=fc);return p&&Ta.forEach(function(HA){return v(sr,HA)}),ot&&cs(sr,Ga),sa}function ra(sr,Vt,hr,sn){var sa=Ie(hr);if(typeof sa!="function")throw Error(n(150));if(hr=sa.call(hr),hr==null)throw Error(n(151));for(var Ia=sa=null,Ta=Vt,Ga=Vt=0,fc=null,ns=hr.next();Ta!==null&&!ns.done;Ga++,ns=hr.next()){Ta.index>Ga?(fc=Ta,Ta=null):fc=Ta.sibling;var HA=Kr(sr,Ta,ns.value,sn);if(HA===null){Ta===null&&(Ta=fc);break}p&&Ta&&HA.alternate===null&&v(sr,Ta),Vt=Be(HA,Vt,Ga),Ia===null?sa=HA:Ia.sibling=HA,Ia=HA,Ta=fc}if(ns.done)return C(sr,Ta),ot&&cs(sr,Ga),sa;if(Ta===null){for(;!ns.done;Ga++,ns=hr.next())ns=en(sr,ns.value,sn),ns!==null&&(Vt=Be(ns,Vt,Ga),Ia===null?sa=ns:Ia.sibling=ns,Ia=ns);return ot&&cs(sr,Ga),sa}for(Ta=z(sr,Ta);!ns.done;Ga++,ns=hr.next())ns=Ln(Ta,sr,Ga,ns.value,sn),ns!==null&&(p&&ns.alternate!==null&&Ta.delete(ns.key===null?Ga:ns.key),Vt=Be(ns,Vt,Ga),Ia===null?sa=ns:Ia.sibling=ns,Ia=ns);return p&&Ta.forEach(function(oD){return v(sr,oD)}),ot&&cs(sr,Ga),sa}function ul(sr,Vt,hr,sn){if(typeof hr=="object"&&hr!==null&&hr.type===_&&hr.key===null&&(hr=hr.props.children),typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case S:e:{for(var sa=hr.key,Ia=Vt;Ia!==null;){if(Ia.key===sa){if(sa=hr.type,sa===_){if(Ia.tag===7){C(sr,Ia.sibling),Vt=Ae(Ia,hr.props.children),Vt.return=sr,sr=Vt;break e}}else if(Ia.elementType===sa||typeof sa=="object"&&sa!==null&&sa.$$typeof===$&&Ya(sa)===Ia.type){C(sr,Ia.sibling),Vt=Ae(Ia,hr.props),Vt.ref=ia(sr,Ia,hr),Vt.return=sr,sr=Vt;break e}C(sr,Ia);break}else v(sr,Ia);Ia=Ia.sibling}hr.type===_?(Vt=vn(hr.props.children,sr.mode,sn,hr.key),Vt.return=sr,sr=Vt):(sn=nn(hr.type,hr.key,hr.props,null,sr.mode,sn),sn.ref=ia(sr,Vt,hr),sn.return=sr,sr=sn)}return $e(sr);case j:e:{for(Ia=hr.key;Vt!==null;){if(Vt.key===Ia)if(Vt.tag===4&&Vt.stateNode.containerInfo===hr.containerInfo&&Vt.stateNode.implementation===hr.implementation){C(sr,Vt.sibling),Vt=Ae(Vt,hr.children||[]),Vt.return=sr,sr=Vt;break e}else{C(sr,Vt);break}else v(sr,Vt);Vt=Vt.sibling}Vt=Vn(hr,sr.mode,sn),Vt.return=sr,sr=Vt}return $e(sr);case $:return Ia=hr._init,ul(sr,Vt,Ia(hr._payload),sn)}if(Lt(hr))return Zn(sr,Vt,hr,sn);if(Ie(hr))return ra(sr,Vt,hr,sn);Na(sr,hr)}return typeof hr=="string"&&hr!==""||typeof hr=="number"?(hr=""+hr,Vt!==null&&Vt.tag===6?(C(sr,Vt.sibling),Vt=Ae(Vt,hr),Vt.return=sr,sr=Vt):(C(sr,Vt),Vt=Yn(hr,sr.mode,sn),Vt.return=sr,sr=Vt),$e(sr)):C(sr,Vt)}return ul}var Ea=an(!0),es=an(!1),ea=Pl(null),oi=null,ka=null,Qn=null;function da(){Qn=ka=oi=null}function wo(p){var v=ea.current;ui(ea),p._currentValue=v}function ic(p,v,C){for(;p!==null;){var z=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,z!==null&&(z.childLanes|=v)):z!==null&&(z.childLanes&v)!==v&&(z.childLanes|=v),p===C)break;p=p.return}}function Do(p,v){oi=p,Qn=ka=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(Rl=!0),p.firstContext=null)}function lo(p){var v=p._currentValue;if(Qn!==p)if(p={context:p,memoizedValue:v,next:null},ka===null){if(oi===null)throw Error(n(308));ka=p,oi.dependencies={lanes:0,firstContext:p}}else ka=ka.next=p;return v}var sc=null;function Ws(p){sc===null?sc=[p]:sc.push(p)}function Lh(p,v,C,z){var Ae=v.interleaved;return Ae===null?(C.next=C,Ws(v)):(C.next=Ae.next,Ae.next=C),v.interleaved=C,Go(p,z)}function Go(p,v){p.lanes|=v;var C=p.alternate;for(C!==null&&(C.lanes|=v),C=p,p=p.return;p!==null;)p.childLanes|=v,C=p.alternate,C!==null&&(C.childLanes|=v),C=p,p=p.return;return C.tag===3?C.stateNode:null}var nl=!1;function Kd(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function _c(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function $c(p,v,C){var z=p.updateQueue;if(z===null)return null;if(z=z.shared,(Xn&2)!==0){var Ae=z.pending;return Ae===null?v.next=v:(v.next=Ae.next,Ae.next=v),z.pending=v,Go(p,C)}return Ae=z.interleaved,Ae===null?(v.next=v,Ws(z)):(v.next=Ae.next,Ae.next=v),z.interleaved=v,Go(p,C)}function Vc(p,v,C){if(v=v.updateQueue,v!==null&&(v=v.shared,(C&4194240)!==0)){var z=v.lanes;z&=p.pendingLanes,C|=z,v.lanes=C,Oo(p,C)}}function Vu(p,v){var C=p.updateQueue,z=p.alternate;if(z!==null&&(z=z.updateQueue,C===z)){var Ae=null,Be=null;if(C=C.firstBaseUpdate,C!==null){do{var $e={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};Be===null?Ae=Be=$e:Be=Be.next=$e,C=C.next}while(C!==null);Be===null?Ae=Be=v:Be=Be.next=v}else Ae=Be=v;C={baseState:z.baseState,firstBaseUpdate:Ae,lastBaseUpdate:Be,shared:z.shared,effects:z.effects},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=v:p.next=v,C.lastBaseUpdate=v}function ou(p,v,C,z){var Ae=p.updateQueue;nl=!1;var Be=Ae.firstBaseUpdate,$e=Ae.lastBaseUpdate,wt=Ae.shared.pending;if(wt!==null){Ae.shared.pending=null;var Dt=wt,Ar=Dt.next;Dt.next=null,$e===null?Be=Ar:$e.next=Ar,$e=Dt;var Gr=p.alternate;Gr!==null&&(Gr=Gr.updateQueue,wt=Gr.lastBaseUpdate,wt!==$e&&(wt===null?Gr.firstBaseUpdate=Ar:wt.next=Ar,Gr.lastBaseUpdate=Dt))}if(Be!==null){var en=Ae.baseState;$e=0,Gr=Ar=Dt=null,wt=Be;do{var Kr=wt.lane,Ln=wt.eventTime;if((z&Kr)===Kr){Gr!==null&&(Gr=Gr.next={eventTime:Ln,lane:0,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null});e:{var Zn=p,ra=wt;switch(Kr=v,Ln=C,ra.tag){case 1:if(Zn=ra.payload,typeof Zn=="function"){en=Zn.call(Ln,en,Kr);break e}en=Zn;break e;case 3:Zn.flags=Zn.flags&-65537|128;case 0:if(Zn=ra.payload,Kr=typeof Zn=="function"?Zn.call(Ln,en,Kr):Zn,Kr==null)break e;en=_e({},en,Kr);break e;case 2:nl=!0}}wt.callback!==null&&wt.lane!==0&&(p.flags|=64,Kr=Ae.effects,Kr===null?Ae.effects=[wt]:Kr.push(wt))}else Ln={eventTime:Ln,lane:Kr,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null},Gr===null?(Ar=Gr=Ln,Dt=en):Gr=Gr.next=Ln,$e|=Kr;if(wt=wt.next,wt===null){if(wt=Ae.shared.pending,wt===null)break;Kr=wt,wt=Kr.next,Kr.next=null,Ae.lastBaseUpdate=Kr,Ae.shared.pending=null}}while(!0);if(Gr===null&&(Dt=en),Ae.baseState=Dt,Ae.firstBaseUpdate=Ar,Ae.lastBaseUpdate=Gr,v=Ae.shared.interleaved,v!==null){Ae=v;do $e|=Ae.lane,Ae=Ae.next;while(Ae!==v)}else Be===null&&(Ae.shared.lanes=0);_u|=$e,p.lanes=$e,p.memoizedState=en}}function vd(p,v,C){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var z=p[v],Ae=z.callback;if(Ae!==null){if(z.callback=null,z=C,typeof Ae!="function")throw Error(n(191,Ae));Ae.call(z)}}}var Oc={},gl=Pl(Oc),Mo=Pl(Oc),oc=Pl(Oc);function di(p){if(p===Oc)throw Error(n(174));return p}function Li(p,v){switch(Ti(oc,v),Ti(Mo,p),Ti(gl,Oc),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Bt(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Bt(v,p)}ui(gl),Ti(gl,v)}function us(){ui(gl),ui(Mo),ui(oc)}function co(p){di(oc.current);var v=di(gl.current),C=Bt(v,p.type);v!==C&&(Ti(Mo,p),Ti(gl,C))}function lu(p){Mo.current===p&&(ui(gl),ui(Mo))}var ts=Pl(0);function cu(p){for(var v=p;v!==null;){if(v.tag===13){var C=v.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var xd=[];function Uh(){for(var p=0;p<xd.length;p++)xd[p]._workInProgressVersionPrimary=null;xd.length=0}var fh=N.ReactCurrentDispatcher,Hh=N.ReactCurrentBatchConfig,zu=0,ws=null,jo=null,Zs=null,Qh=!1,al=!1,yd=0,xp=0;function il(){throw Error(n(321))}function yA(p,v){if(v===null)return!1;for(var C=0;C<v.length&&C<p.length;C++)if(!Ps(p[C],v[C]))return!1;return!0}function bA(p,v,C,z,Ae,Be){if(zu=Be,ws=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,fh.current=p===null||p.memoizedState===null?uu:jp,p=C(z,Ae),al){Be=0;do{if(al=!1,yd=0,25<=Be)throw Error(n(301));Be+=1,Zs=jo=null,v.updateQueue=null,fh.current=xf,p=C(z,Ae)}while(al)}if(fh.current=Ml,v=jo!==null&&jo.next!==null,zu=0,Zs=jo=ws=null,Qh=!1,v)throw Error(n(300));return p}function wA(){var p=yd!==0;return yd=0,p}function zc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zs===null?ws.memoizedState=Zs=p:Zs=Zs.next=p,Zs}function Dl(){if(jo===null){var p=ws.alternate;p=p!==null?p.memoizedState:null}else p=jo.next;var v=Zs===null?ws.memoizedState:Zs.next;if(v!==null)Zs=v,jo=p;else{if(p===null)throw Error(n(310));jo=p,p={memoizedState:jo.memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},Zs===null?ws.memoizedState=Zs=p:Zs=Zs.next=p}return Zs}function sl(p,v){return typeof v=="function"?v(p):v}function lc(p){var v=Dl(),C=v.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=p;var z=jo,Ae=z.baseQueue,Be=C.pending;if(Be!==null){if(Ae!==null){var $e=Ae.next;Ae.next=Be.next,Be.next=$e}z.baseQueue=Ae=Be,C.pending=null}if(Ae!==null){Be=Ae.next,z=z.baseState;var wt=$e=null,Dt=null,Ar=Be;do{var Gr=Ar.lane;if((zu&Gr)===Gr)Dt!==null&&(Dt=Dt.next={lane:0,action:Ar.action,hasEagerState:Ar.hasEagerState,eagerState:Ar.eagerState,next:null}),z=Ar.hasEagerState?Ar.eagerState:p(z,Ar.action);else{var en={lane:Gr,action:Ar.action,hasEagerState:Ar.hasEagerState,eagerState:Ar.eagerState,next:null};Dt===null?(wt=Dt=en,$e=z):Dt=Dt.next=en,ws.lanes|=Gr,_u|=Gr}Ar=Ar.next}while(Ar!==null&&Ar!==Be);Dt===null?$e=z:Dt.next=wt,Ps(z,v.memoizedState)||(Rl=!0),v.memoizedState=z,v.baseState=$e,v.baseQueue=Dt,C.lastRenderedState=z}if(p=C.interleaved,p!==null){Ae=p;do Be=Ae.lane,ws.lanes|=Be,_u|=Be,Ae=Ae.next;while(Ae!==p)}else Ae===null&&(C.lanes=0);return[v.memoizedState,C.dispatch]}function Gd(p){var v=Dl(),C=v.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=p;var z=C.dispatch,Ae=C.pending,Be=v.memoizedState;if(Ae!==null){C.pending=null;var $e=Ae=Ae.next;do Be=p(Be,$e.action),$e=$e.next;while($e!==Ae);Ps(Be,v.memoizedState)||(Rl=!0),v.memoizedState=Be,v.baseQueue===null&&(v.baseState=Be),C.lastRenderedState=Be}return[Be,z]}function Wh(){}function $h(p,v){var C=ws,z=Dl(),Ae=v(),Be=!Ps(z.memoizedState,Ae);if(Be&&(z.memoizedState=Ae,Rl=!0),z=z.queue,mf(bd.bind(null,C,z,p),[p]),z.getSnapshot!==v||Be||Zs!==null&&Zs.memoizedState.tag&1){if(C.flags|=2048,Tu(9,uo.bind(null,C,z,Ae,v),void 0,null),zi===null)throw Error(n(349));(zu&30)!==0||ph(C,v,Ae)}return Ae}function ph(p,v,C){p.flags|=16384,p={getSnapshot:v,value:C},v=ws.updateQueue,v===null?(v={lastEffect:null,stores:null},ws.updateQueue=v,v.stores=[p]):(C=v.stores,C===null?v.stores=[p]:C.push(p))}function uo(p,v,C,z){v.value=C,v.getSnapshot=z,ff(v)&&jA(p)}function bd(p,v,C){return C(function(){ff(v)&&jA(p)})}function ff(p){var v=p.getSnapshot;p=p.value;try{var C=v();return!Ps(p,C)}catch{return!0}}function jA(p){var v=Go(p,1);v!==null&&bl(v,p,1,-1)}function Vh(p){var v=zc();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:p},v.queue=p,p=p.dispatch=Lm.bind(null,ws,p),[v.memoizedState,p]}function Tu(p,v,C,z){return p={tag:p,create:v,destroy:C,deps:z,next:null},v=ws.updateQueue,v===null?(v={lastEffect:null,stores:null},ws.updateQueue=v,v.lastEffect=p.next=p):(C=v.lastEffect,C===null?v.lastEffect=p.next=p:(z=C.next,C.next=p,p.next=z,v.lastEffect=p)),p}function CA(){return Dl().memoizedState}function NA(p,v,C,z){var Ae=zc();ws.flags|=p,Ae.memoizedState=Tu(1|v,C,void 0,z===void 0?null:z)}function SA(p,v,C,z){var Ae=Dl();z=z===void 0?null:z;var Be=void 0;if(jo!==null){var $e=jo.memoizedState;if(Be=$e.destroy,z!==null&&yA(z,$e.deps)){Ae.memoizedState=Tu(v,C,Be,z);return}}ws.flags|=p,Ae.memoizedState=Tu(1|v,C,Be,z)}function pf(p,v){return NA(8390656,8,p,v)}function mf(p,v){return SA(2048,8,p,v)}function yp(p,v){return SA(4,2,p,v)}function bp(p,v){return SA(4,4,p,v)}function wp(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function gf(p,v,C){return C=C!=null?C.concat([p]):null,SA(4,4,wp.bind(null,v,p),C)}function mh(){}function zh(p,v){var C=Dl();v=v===void 0?null:v;var z=C.memoizedState;return z!==null&&v!==null&&yA(v,z[1])?z[0]:(C.memoizedState=[p,v],p)}function qd(p,v){var C=Dl();v=v===void 0?null:v;var z=C.memoizedState;return z!==null&&v!==null&&yA(v,z[1])?z[0]:(p=p(),C.memoizedState=[p,v],p)}function BA(p,v,C){return(zu&21)===0?(p.baseState&&(p.baseState=!1,Rl=!0),p.memoizedState=C):(Ps(C,v)||(C=so(),ws.lanes|=C,_u|=C,p.baseState=!0),v)}function Mm(p,v){var C=pa;pa=C!==0&&4>C?C:4,p(!0);var z=Hh.transition;Hh.transition={};try{p(!1),v()}finally{pa=C,Hh.transition=z}}function vf(){return Dl().memoizedState}function Rm(p,v,C){var z=dc(p);if(C={lane:z,action:C,hasEagerState:!1,eagerState:null,next:null},Kh(p))Gh(v,C);else if(C=Lh(p,v,C,z),C!==null){var Ae=No();bl(C,p,z,Ae),Ku(C,v,z)}}function Lm(p,v,C){var z=dc(p),Ae={lane:z,action:C,hasEagerState:!1,eagerState:null,next:null};if(Kh(p))Gh(v,Ae);else{var Be=p.alternate;if(p.lanes===0&&(Be===null||Be.lanes===0)&&(Be=v.lastRenderedReducer,Be!==null))try{var $e=v.lastRenderedState,wt=Be($e,C);if(Ae.hasEagerState=!0,Ae.eagerState=wt,Ps(wt,$e)){var Dt=v.interleaved;Dt===null?(Ae.next=Ae,Ws(v)):(Ae.next=Dt.next,Dt.next=Ae),v.interleaved=Ae;return}}catch{}finally{}C=Lh(p,v,Ae,z),C!==null&&(Ae=No(),bl(C,p,z,Ae),Ku(C,v,z))}}function Kh(p){var v=p.alternate;return p===ws||v!==null&&v===ws}function Gh(p,v){al=Qh=!0;var C=p.pending;C===null?v.next=v:(v.next=C.next,C.next=v),p.pending=v}function Ku(p,v,C){if((C&4194240)!==0){var z=v.lanes;z&=p.pendingLanes,C|=z,v.lanes=C,Oo(p,C)}}var Ml={readContext:lo,useCallback:il,useContext:il,useEffect:il,useImperativeHandle:il,useInsertionEffect:il,useLayoutEffect:il,useMemo:il,useReducer:il,useRef:il,useState:il,useDebugValue:il,useDeferredValue:il,useTransition:il,useMutableSource:il,useSyncExternalStore:il,useId:il,unstable_isNewReconciler:!1},uu={readContext:lo,useCallback:function(p,v){return zc().memoizedState=[p,v===void 0?null:v],p},useContext:lo,useEffect:pf,useImperativeHandle:function(p,v,C){return C=C!=null?C.concat([p]):null,NA(4194308,4,wp.bind(null,v,p),C)},useLayoutEffect:function(p,v){return NA(4194308,4,p,v)},useInsertionEffect:function(p,v){return NA(4,2,p,v)},useMemo:function(p,v){var C=zc();return v=v===void 0?null:v,p=p(),C.memoizedState=[p,v],p},useReducer:function(p,v,C){var z=zc();return v=C!==void 0?C(v):v,z.memoizedState=z.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},z.queue=p,p=p.dispatch=Rm.bind(null,ws,p),[z.memoizedState,p]},useRef:function(p){var v=zc();return p={current:p},v.memoizedState=p},useState:Vh,useDebugValue:mh,useDeferredValue:function(p){return zc().memoizedState=p},useTransition:function(){var p=Vh(!1),v=p[0];return p=Mm.bind(null,p[1]),zc().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,C){var z=ws,Ae=zc();if(ot){if(C===void 0)throw Error(n(407));C=C()}else{if(C=v(),zi===null)throw Error(n(349));(zu&30)!==0||ph(z,v,C)}Ae.memoizedState=C;var Be={value:C,getSnapshot:v};return Ae.queue=Be,pf(bd.bind(null,z,Be,p),[p]),z.flags|=2048,Tu(9,uo.bind(null,z,Be,C,v),void 0,null),C},useId:function(){var p=zc(),v=zi.identifierPrefix;if(ot){var C=hi,z=Mi;C=(z&~(1<<32-ai(z)-1)).toString(32)+C,v=":"+v+"R"+C,C=yd++,0<C&&(v+="H"+C.toString(32)),v+=":"}else C=xp++,v=":"+v+"r"+C.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},jp={readContext:lo,useCallback:zh,useContext:lo,useEffect:mf,useImperativeHandle:gf,useInsertionEffect:yp,useLayoutEffect:bp,useMemo:qd,useReducer:lc,useRef:CA,useState:function(){return lc(sl)},useDebugValue:mh,useDeferredValue:function(p){var v=Dl();return BA(v,jo.memoizedState,p)},useTransition:function(){var p=lc(sl)[0],v=Dl().memoizedState;return[p,v]},useMutableSource:Wh,useSyncExternalStore:$h,useId:vf,unstable_isNewReconciler:!1},xf={readContext:lo,useCallback:zh,useContext:lo,useEffect:mf,useImperativeHandle:gf,useInsertionEffect:yp,useLayoutEffect:bp,useMemo:qd,useReducer:Gd,useRef:CA,useState:function(){return Gd(sl)},useDebugValue:mh,useDeferredValue:function(p){var v=Dl();return jo===null?v.memoizedState=p:BA(v,jo.memoizedState,p)},useTransition:function(){var p=Gd(sl)[0],v=Dl().memoizedState;return[p,v]},useMutableSource:Wh,useSyncExternalStore:$h,useId:vf,unstable_isNewReconciler:!1};function Ro(p,v){if(p&&p.defaultProps){v=_e({},v),p=p.defaultProps;for(var C in p)v[C]===void 0&&(v[C]=p[C]);return v}return v}function cc(p,v,C,z){v=p.memoizedState,C=C(z,v),C=C==null?v:_e({},v,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}var Xd={isMounted:function(p){return(p=p._reactInternals)?ri(p)===p:!1},enqueueSetState:function(p,v,C){p=p._reactInternals;var z=No(),Ae=dc(p),Be=_c(z,Ae);Be.payload=v,C!=null&&(Be.callback=C),v=$c(p,Be,Ae),v!==null&&(bl(v,p,Ae,z),Vc(v,p,Ae))},enqueueReplaceState:function(p,v,C){p=p._reactInternals;var z=No(),Ae=dc(p),Be=_c(z,Ae);Be.tag=1,Be.payload=v,C!=null&&(Be.callback=C),v=$c(p,Be,Ae),v!==null&&(bl(v,p,Ae,z),Vc(v,p,Ae))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var C=No(),z=dc(p),Ae=_c(C,z);Ae.tag=2,v!=null&&(Ae.callback=v),v=$c(p,Ae,z),v!==null&&(bl(v,p,z,C),Vc(v,p,z))}};function yf(p,v,C,z,Ae,Be,$e){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(z,Be,$e):v.prototype&&v.prototype.isPureReactComponent?!Pi(C,z)||!Pi(Ae,Be):!0}function EA(p,v,C){var z=!1,Ae=Fl,Be=v.contextType;return typeof Be=="object"&&Be!==null?Be=lo(Be):(Ae=Fo(v)?Tc:bs.current,z=v.contextTypes,Be=(z=z!=null)?su(p,Ae):Fl),v=new v(C,Be),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Xd,p.stateNode=v,v._reactInternals=p,z&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=Ae,p.__reactInternalMemoizedMaskedChildContext=Be),v}function bf(p,v,C,z){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(C,z),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(C,z),v.state!==p&&Xd.enqueueReplaceState(v,v.state,null)}function IA(p,v,C,z){var Ae=p.stateNode;Ae.props=C,Ae.state=p.memoizedState,Ae.refs={},Kd(p);var Be=v.contextType;typeof Be=="object"&&Be!==null?Ae.context=lo(Be):(Be=Fo(v)?Tc:bs.current,Ae.context=su(p,Be)),Ae.state=p.memoizedState,Be=v.getDerivedStateFromProps,typeof Be=="function"&&(cc(p,v,Be,C),Ae.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof Ae.getSnapshotBeforeUpdate=="function"||typeof Ae.UNSAFE_componentWillMount!="function"&&typeof Ae.componentWillMount!="function"||(v=Ae.state,typeof Ae.componentWillMount=="function"&&Ae.componentWillMount(),typeof Ae.UNSAFE_componentWillMount=="function"&&Ae.UNSAFE_componentWillMount(),v!==Ae.state&&Xd.enqueueReplaceState(Ae,Ae.state,null),ou(p,C,Ae,z),Ae.state=p.memoizedState),typeof Ae.componentDidMount=="function"&&(p.flags|=4194308)}function wd(p,v){try{var C="",z=v;do C+=he(z),z=z.return;while(z);var Ae=C}catch(Be){Ae=`
Error generating stack: `+Be.message+`
`+Be.stack}return{value:p,source:v,stack:Ae,digest:null}}function jd(p,v,C){return{value:p,source:null,stack:C??null,digest:v??null}}function Cd(p,v){try{console.error(v.value)}catch(C){setTimeout(function(){throw C})}}var Yd=typeof WeakMap=="function"?WeakMap:Map;function gh(p,v,C){C=_c(-1,C),C.tag=3,C.payload={element:null};var z=v.value;return C.callback=function(){Yh||(Yh=!0,PA=z),Cd(p,v)},C}function TA(p,v,C){C=_c(-1,C),C.tag=3;var z=p.type.getDerivedStateFromError;if(typeof z=="function"){var Ae=v.value;C.payload=function(){return z(Ae)},C.callback=function(){Cd(p,v)}}var Be=p.stateNode;return Be!==null&&typeof Be.componentDidCatch=="function"&&(C.callback=function(){Cd(p,v),typeof z!="function"&&(du===null?du=new Set([this]):du.add(this));var $e=v.stack;this.componentDidCatch(v.value,{componentStack:$e!==null?$e:""})}),C}function Cp(p,v,C){var z=p.pingCache;if(z===null){z=p.pingCache=new Yd;var Ae=new Set;z.set(v,Ae)}else Ae=z.get(v),Ae===void 0&&(Ae=new Set,z.set(v,Ae));Ae.has(C)||(Ae.add(C),p=H.bind(null,p,v,C),v.then(p,p))}function wf(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function jf(p,v,C,z,Ae){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(v=_c(-1,1),v.tag=2,$c(C,v,1))),C.lanes|=1),p):(p.flags|=65536,p.lanes=Ae,p)}var Cf=N.ReactCurrentOwner,Rl=!1;function vl(p,v,C,z){v.child=p===null?es(v,null,C,z):Ea(v,p.child,C,z)}function _A(p,v,C,z,Ae){C=C.render;var Be=v.ref;return Do(v,Ae),z=bA(p,v,C,z,Be,Ae),C=wA(),p!==null&&!Rl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~Ae,Mt(p,v,Ae)):(ot&&C&&Me(v),v.flags|=1,vl(p,v,z,Ae),v.child)}function Nf(p,v,C,z,Ae){if(p===null){var Be=C.type;return typeof Be=="function"&&!tr(Be)&&Be.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(v.tag=15,v.type=Be,OA(p,v,Be,z,Ae)):(p=nn(C.type,null,z,v,v.mode,Ae),p.ref=v.ref,p.return=v,v.child=p)}if(Be=p.child,(p.lanes&Ae)===0){var $e=Be.memoizedProps;if(C=C.compare,C=C!==null?C:Pi,C($e,z)&&p.ref===v.ref)return Mt(p,v,Ae)}return v.flags|=1,p=bn(Be,z),p.ref=v.ref,p.return=v,v.child=p}function OA(p,v,C,z,Ae){if(p!==null){var Be=p.memoizedProps;if(Pi(Be,z)&&p.ref===v.ref)if(Rl=!1,v.pendingProps=z=Be,(p.lanes&Ae)!==0)(p.flags&131072)!==0&&(Rl=!0);else return v.lanes=p.lanes,Mt(p,v,Ae)}return vh(p,v,C,z,Ae)}function qh(p,v,C){var z=v.pendingProps,Ae=z.children,Be=p!==null?p.memoizedState:null;if(z.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Js,Rs),Rs|=C;else{if((C&1073741824)===0)return p=Be!==null?Be.baseLanes|C:C,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Ti(Js,Rs),Rs|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},z=Be!==null?Be.baseLanes:C,Ti(Js,Rs),Rs|=z}else Be!==null?(z=Be.baseLanes|C,v.memoizedState=null):z=C,Ti(Js,Rs),Rs|=z;return vl(p,v,Ae,C),v.child}function Xh(p,v){var C=v.ref;(p===null&&C!==null||p!==null&&p.ref!==C)&&(v.flags|=512,v.flags|=2097152)}function vh(p,v,C,z,Ae){var Be=Fo(C)?Tc:bs.current;return Be=su(v,Be),Do(v,Ae),C=bA(p,v,C,z,Be,Ae),z=wA(),p!==null&&!Rl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~Ae,Mt(p,v,Ae)):(ot&&z&&Me(v),v.flags|=1,vl(p,v,C,Ae),v.child)}function kA(p,v,C,z,Ae){if(Fo(C)){var Be=!0;Wc(v)}else Be=!1;if(Do(v,Ae),v.stateNode===null)At(p,v),EA(v,C,z),IA(v,C,z,Ae),z=!0;else if(p===null){var $e=v.stateNode,wt=v.memoizedProps;$e.props=wt;var Dt=$e.context,Ar=C.contextType;typeof Ar=="object"&&Ar!==null?Ar=lo(Ar):(Ar=Fo(C)?Tc:bs.current,Ar=su(v,Ar));var Gr=C.getDerivedStateFromProps,en=typeof Gr=="function"||typeof $e.getSnapshotBeforeUpdate=="function";en||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(wt!==z||Dt!==Ar)&&bf(v,$e,z,Ar),nl=!1;var Kr=v.memoizedState;$e.state=Kr,ou(v,z,$e,Ae),Dt=v.memoizedState,wt!==z||Kr!==Dt||Fs.current||nl?(typeof Gr=="function"&&(cc(v,C,Gr,z),Dt=v.memoizedState),(wt=nl||yf(v,C,wt,z,Kr,Dt,Ar))?(en||typeof $e.UNSAFE_componentWillMount!="function"&&typeof $e.componentWillMount!="function"||(typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount()),typeof $e.componentDidMount=="function"&&(v.flags|=4194308)):(typeof $e.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=z,v.memoizedState=Dt),$e.props=z,$e.state=Dt,$e.context=Ar,z=wt):(typeof $e.componentDidMount=="function"&&(v.flags|=4194308),z=!1)}else{$e=v.stateNode,Ah(p,v),wt=v.memoizedProps,Ar=v.type===v.elementType?wt:Ro(v.type,wt),$e.props=Ar,en=v.pendingProps,Kr=$e.context,Dt=C.contextType,typeof Dt=="object"&&Dt!==null?Dt=lo(Dt):(Dt=Fo(C)?Tc:bs.current,Dt=su(v,Dt));var Ln=C.getDerivedStateFromProps;(Gr=typeof Ln=="function"||typeof $e.getSnapshotBeforeUpdate=="function")||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(wt!==en||Kr!==Dt)&&bf(v,$e,z,Dt),nl=!1,Kr=v.memoizedState,$e.state=Kr,ou(v,z,$e,Ae);var Zn=v.memoizedState;wt!==en||Kr!==Zn||Fs.current||nl?(typeof Ln=="function"&&(cc(v,C,Ln,z),Zn=v.memoizedState),(Ar=nl||yf(v,C,Ar,z,Kr,Zn,Dt)||!1)?(Gr||typeof $e.UNSAFE_componentWillUpdate!="function"&&typeof $e.componentWillUpdate!="function"||(typeof $e.componentWillUpdate=="function"&&$e.componentWillUpdate(z,Zn,Dt),typeof $e.UNSAFE_componentWillUpdate=="function"&&$e.UNSAFE_componentWillUpdate(z,Zn,Dt)),typeof $e.componentDidUpdate=="function"&&(v.flags|=4),typeof $e.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof $e.componentDidUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=1024),v.memoizedProps=z,v.memoizedState=Zn),$e.props=z,$e.state=Zn,$e.context=Dt,z=Ar):(typeof $e.componentDidUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=1024),z=!1)}return O(p,v,C,z,Be,Ae)}function O(p,v,C,z,Ae,Be){Xh(p,v);var $e=(v.flags&128)!==0;if(!z&&!$e)return Ae&&zd(v,C,!1),Mt(p,v,Be);z=v.stateNode,Cf.current=v;var wt=$e&&typeof C.getDerivedStateFromError!="function"?null:z.render();return v.flags|=1,p!==null&&$e?(v.child=Ea(v,p.child,null,Be),v.child=Ea(v,null,wt,Be)):vl(p,v,wt,Be),v.memoizedState=z.state,Ae&&zd(v,C,!0),v.child}function G(p){var v=p.stateNode;v.pendingContext?Qc(p,v.pendingContext,v.pendingContext!==v.context):v.context&&Qc(p,v.context,!1),Li(p,v.containerInfo)}function be(p,v,C,z,Ae){return br(),Ri(Ae),v.flags|=256,vl(p,v,C,z),v.child}var Te={dehydrated:null,treeContext:null,retryLane:0};function Qe(p){return{baseLanes:p,cachePool:null,transitions:null}}function Ke(p,v,C){var z=v.pendingProps,Ae=ts.current,Be=!1,$e=(v.flags&128)!==0,wt;if((wt=$e)||(wt=p!==null&&p.memoizedState===null?!1:(Ae&2)!==0),wt?(Be=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(Ae|=1),Ti(ts,Ae&1),p===null)return ir(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):($e=z.children,p=z.fallback,Be?(z=v.mode,Be=v.child,$e={mode:"hidden",children:$e},(z&1)===0&&Be!==null?(Be.childLanes=0,Be.pendingProps=$e):Be=Za($e,z,0,null),p=vn(p,z,C,null),Be.return=v,p.return=v,Be.sibling=p,v.child=Be,v.child.memoizedState=Qe(C),v.memoizedState=Te,p):qe(v,$e));if(Ae=p.memoizedState,Ae!==null&&(wt=Ae.dehydrated,wt!==null))return rt(p,v,$e,z,wt,Ae,C);if(Be){Be=z.fallback,$e=v.mode,Ae=p.child,wt=Ae.sibling;var Dt={mode:"hidden",children:z.children};return($e&1)===0&&v.child!==Ae?(z=v.child,z.childLanes=0,z.pendingProps=Dt,v.deletions=null):(z=bn(Ae,Dt),z.subtreeFlags=Ae.subtreeFlags&14680064),wt!==null?Be=bn(wt,Be):(Be=vn(Be,$e,C,null),Be.flags|=2),Be.return=v,z.return=v,z.sibling=Be,v.child=z,z=Be,Be=v.child,$e=p.child.memoizedState,$e=$e===null?Qe(C):{baseLanes:$e.baseLanes|C,cachePool:null,transitions:$e.transitions},Be.memoizedState=$e,Be.childLanes=p.childLanes&~C,v.memoizedState=Te,z}return Be=p.child,p=Be.sibling,z=bn(Be,{mode:"visible",children:z.children}),(v.mode&1)===0&&(z.lanes=C),z.return=v,z.sibling=null,p!==null&&(C=v.deletions,C===null?(v.deletions=[p],v.flags|=16):C.push(p)),v.child=z,v.memoizedState=null,z}function qe(p,v){return v=Za({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function Je(p,v,C,z){return z!==null&&Ri(z),Ea(v,p.child,null,C),p=qe(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function rt(p,v,C,z,Ae,Be,$e){if(C)return v.flags&256?(v.flags&=-257,z=jd(Error(n(422))),Je(p,v,$e,z)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Be=z.fallback,Ae=v.mode,z=Za({mode:"visible",children:z.children},Ae,0,null),Be=vn(Be,Ae,$e,null),Be.flags|=2,z.return=v,Be.return=v,z.sibling=Be,v.child=z,(v.mode&1)!==0&&Ea(v,p.child,null,$e),v.child.memoizedState=Qe($e),v.memoizedState=Te,Be);if((v.mode&1)===0)return Je(p,v,$e,null);if(Ae.data==="$!"){if(z=Ae.nextSibling&&Ae.nextSibling.dataset,z)var wt=z.dgst;return z=wt,Be=Error(n(419)),z=jd(Be,z,void 0),Je(p,v,$e,z)}if(wt=($e&p.childLanes)!==0,Rl||wt){if(z=zi,z!==null){switch($e&-$e){case 4:Ae=2;break;case 16:Ae=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ae=32;break;case 536870912:Ae=268435456;break;default:Ae=0}Ae=(Ae&(z.suspendedLanes|$e))!==0?0:Ae,Ae!==0&&Ae!==Be.retryLane&&(Be.retryLane=Ae,Go(p,Ae),bl(z,p,Ae,-1))}return bh(),z=jd(Error(n(421))),Je(p,v,$e,z)}return Ae.data==="$?"?(v.flags|=128,v.child=p.child,v=Fe.bind(null,p),Ae._reactRetry=v,null):(p=Be.treeContext,ht=Hc(Ae.nextSibling),Xe=v,ot=!0,er=null,p!==null&&(aa[Oa++]=Mi,aa[Oa++]=hi,aa[Oa++]=Fi,Mi=p.id,hi=p.overflow,Fi=v),v=qe(v,z.children),v.flags|=4096,v)}function pt(p,v,C){p.lanes|=v;var z=p.alternate;z!==null&&(z.lanes|=v),ic(p.return,v,C)}function Ft(p,v,C,z,Ae){var Be=p.memoizedState;Be===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:z,tail:C,tailMode:Ae}:(Be.isBackwards=v,Be.rendering=null,Be.renderingStartTime=0,Be.last=z,Be.tail=C,Be.tailMode=Ae)}function rr(p,v,C){var z=v.pendingProps,Ae=z.revealOrder,Be=z.tail;if(vl(p,v,z.children,C),z=ts.current,(z&2)!==0)z=z&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&pt(p,C,v);else if(p.tag===19)pt(p,C,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}z&=1}if(Ti(ts,z),(v.mode&1)===0)v.memoizedState=null;else switch(Ae){case"forwards":for(C=v.child,Ae=null;C!==null;)p=C.alternate,p!==null&&cu(p)===null&&(Ae=C),C=C.sibling;C=Ae,C===null?(Ae=v.child,v.child=null):(Ae=C.sibling,C.sibling=null),Ft(v,!1,Ae,C,Be);break;case"backwards":for(C=null,Ae=v.child,v.child=null;Ae!==null;){if(p=Ae.alternate,p!==null&&cu(p)===null){v.child=Ae;break}p=Ae.sibling,Ae.sibling=C,C=Ae,Ae=p}Ft(v,!0,C,null,Be);break;case"together":Ft(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function At(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Mt(p,v,C){if(p!==null&&(v.dependencies=p.dependencies),_u|=v.lanes,(C&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(n(153));if(v.child!==null){for(p=v.child,C=bn(p,p.pendingProps),v.child=C,C.return=v;p.sibling!==null;)p=p.sibling,C=C.sibling=bn(p,p.pendingProps),C.return=v;C.sibling=null}return v.child}function Yt(p,v,C){switch(v.tag){case 3:G(v),br();break;case 5:co(v);break;case 1:Fo(v.type)&&Wc(v);break;case 4:Li(v,v.stateNode.containerInfo);break;case 10:var z=v.type._context,Ae=v.memoizedProps.value;Ti(ea,z._currentValue),z._currentValue=Ae;break;case 13:if(z=v.memoizedState,z!==null)return z.dehydrated!==null?(Ti(ts,ts.current&1),v.flags|=128,null):(C&v.child.childLanes)!==0?Ke(p,v,C):(Ti(ts,ts.current&1),p=Mt(p,v,C),p!==null?p.sibling:null);Ti(ts,ts.current&1);break;case 19:if(z=(C&v.childLanes)!==0,(p.flags&128)!==0){if(z)return rr(p,v,C);v.flags|=128}if(Ae=v.memoizedState,Ae!==null&&(Ae.rendering=null,Ae.tail=null,Ae.lastEffect=null),Ti(ts,ts.current),z)break;return null;case 22:case 23:return v.lanes=0,qh(p,v,C)}return Mt(p,v,C)}var wr,ar,Nr,Er;wr=function(p,v){for(var C=v.child;C!==null;){if(C.tag===5||C.tag===6)p.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===v)break;for(;C.sibling===null;){if(C.return===null||C.return===v)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},ar=function(){},Nr=function(p,v,C,z){var Ae=p.memoizedProps;if(Ae!==z){p=v.stateNode,di(gl.current);var Be=null;switch(C){case"input":Ae=Re(p,Ae),z=Re(p,z),Be=[];break;case"select":Ae=_e({},Ae,{value:void 0}),z=_e({},z,{value:void 0}),Be=[];break;case"textarea":Ae=Xt(p,Ae),z=Xt(p,z),Be=[];break;default:typeof Ae.onClick!="function"&&typeof z.onClick=="function"&&(p.onclick=Nu)}Vr(C,z);var $e;C=null;for(Ar in Ae)if(!z.hasOwnProperty(Ar)&&Ae.hasOwnProperty(Ar)&&Ae[Ar]!=null)if(Ar==="style"){var wt=Ae[Ar];for($e in wt)wt.hasOwnProperty($e)&&(C||(C={}),C[$e]="")}else Ar!=="dangerouslySetInnerHTML"&&Ar!=="children"&&Ar!=="suppressContentEditableWarning"&&Ar!=="suppressHydrationWarning"&&Ar!=="autoFocus"&&(i.hasOwnProperty(Ar)?Be||(Be=[]):(Be=Be||[]).push(Ar,null));for(Ar in z){var Dt=z[Ar];if(wt=Ae!=null?Ae[Ar]:void 0,z.hasOwnProperty(Ar)&&Dt!==wt&&(Dt!=null||wt!=null))if(Ar==="style")if(wt){for($e in wt)!wt.hasOwnProperty($e)||Dt&&Dt.hasOwnProperty($e)||(C||(C={}),C[$e]="");for($e in Dt)Dt.hasOwnProperty($e)&&wt[$e]!==Dt[$e]&&(C||(C={}),C[$e]=Dt[$e])}else C||(Be||(Be=[]),Be.push(Ar,C)),C=Dt;else Ar==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,wt=wt?wt.__html:void 0,Dt!=null&&wt!==Dt&&(Be=Be||[]).push(Ar,Dt)):Ar==="children"?typeof Dt!="string"&&typeof Dt!="number"||(Be=Be||[]).push(Ar,""+Dt):Ar!=="suppressContentEditableWarning"&&Ar!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ar)?(Dt!=null&&Ar==="onScroll"&&xi("scroll",p),Be||wt===Dt||(Be=[])):(Be=Be||[]).push(Ar,Dt))}C&&(Be=Be||[]).push("style",C);var Ar=Be;(v.updateQueue=Ar)&&(v.flags|=4)}},Er=function(p,v,C,z){C!==z&&(v.flags|=4)};function Rr(p,v){if(!ot)switch(p.tailMode){case"hidden":v=p.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var z=null;C!==null;)C.alternate!==null&&(z=C),C=C.sibling;z===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:z.sibling=null}}function Tr(p){var v=p.alternate!==null&&p.alternate.child===p.child,C=0,z=0;if(v)for(var Ae=p.child;Ae!==null;)C|=Ae.lanes|Ae.childLanes,z|=Ae.subtreeFlags&14680064,z|=Ae.flags&14680064,Ae.return=p,Ae=Ae.sibling;else for(Ae=p.child;Ae!==null;)C|=Ae.lanes|Ae.childLanes,z|=Ae.subtreeFlags,z|=Ae.flags,Ae.return=p,Ae=Ae.sibling;return p.subtreeFlags|=z,p.childLanes=C,v}function ta(p,v,C){var z=v.pendingProps;switch(J(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(v),null;case 1:return Fo(v.type)&&ac(),Tr(v),null;case 3:return z=v.stateNode,us(),ui(Fs),ui(bs),Uh(),z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),(p===null||p.child===null)&&(An(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,er!==null&&(Bf(er),er=null))),ar(p,v),Tr(v),null;case 5:lu(v);var Ae=di(oc.current);if(C=v.type,p!==null&&v.stateNode!=null)Nr(p,v,C,z,Ae),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!z){if(v.stateNode===null)throw Error(n(166));return Tr(v),null}if(p=di(gl.current),An(v)){z=v.stateNode,C=v.type;var Be=v.memoizedProps;switch(z[bo]=v,z[kl]=Be,p=(v.mode&1)!==0,C){case"dialog":xi("cancel",z),xi("close",z);break;case"iframe":case"object":case"embed":xi("load",z);break;case"video":case"audio":for(Ae=0;Ae<wu.length;Ae++)xi(wu[Ae],z);break;case"source":xi("error",z);break;case"img":case"image":case"link":xi("error",z),xi("load",z);break;case"details":xi("toggle",z);break;case"input":Ee(z,Be),xi("invalid",z);break;case"select":z._wrapperState={wasMultiple:!!Be.multiple},xi("invalid",z);break;case"textarea":_r(z,Be),xi("invalid",z)}Vr(C,Be),Ae=null;for(var $e in Be)if(Be.hasOwnProperty($e)){var wt=Be[$e];$e==="children"?typeof wt=="string"?z.textContent!==wt&&(Be.suppressHydrationWarning!==!0&&Cu(z.textContent,wt,p),Ae=["children",wt]):typeof wt=="number"&&z.textContent!==""+wt&&(Be.suppressHydrationWarning!==!0&&Cu(z.textContent,wt,p),Ae=["children",""+wt]):i.hasOwnProperty($e)&&wt!=null&&$e==="onScroll"&&xi("scroll",z)}switch(C){case"input":pe(z),Ze(z,Be,!0);break;case"textarea":pe(z),He(z);break;case"select":case"option":break;default:typeof Be.onClick=="function"&&(z.onclick=Nu)}z=Ae,v.updateQueue=z,z!==null&&(v.flags|=4)}else{$e=Ae.nodeType===9?Ae:Ae.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Zt(C)),p==="http://www.w3.org/1999/xhtml"?C==="script"?(p=$e.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof z.is=="string"?p=$e.createElement(C,{is:z.is}):(p=$e.createElement(C),C==="select"&&($e=p,z.multiple?$e.multiple=!0:z.size&&($e.size=z.size))):p=$e.createElementNS(p,C),p[bo]=v,p[kl]=z,wr(p,v,!1,!1),v.stateNode=p;e:{switch($e=zr(C,z),C){case"dialog":xi("cancel",p),xi("close",p),Ae=z;break;case"iframe":case"object":case"embed":xi("load",p),Ae=z;break;case"video":case"audio":for(Ae=0;Ae<wu.length;Ae++)xi(wu[Ae],p);Ae=z;break;case"source":xi("error",p),Ae=z;break;case"img":case"image":case"link":xi("error",p),xi("load",p),Ae=z;break;case"details":xi("toggle",p),Ae=z;break;case"input":Ee(p,z),Ae=Re(p,z),xi("invalid",p);break;case"option":Ae=z;break;case"select":p._wrapperState={wasMultiple:!!z.multiple},Ae=_e({},z,{value:void 0}),xi("invalid",p);break;case"textarea":_r(p,z),Ae=Xt(p,z),xi("invalid",p);break;default:Ae=z}Vr(C,Ae),wt=Ae;for(Be in wt)if(wt.hasOwnProperty(Be)){var Dt=wt[Be];Be==="style"?dr(p,Dt):Be==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,Dt!=null&&pr(p,Dt)):Be==="children"?typeof Dt=="string"?(C!=="textarea"||Dt!=="")&&on(p,Dt):typeof Dt=="number"&&on(p,""+Dt):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?Dt!=null&&Be==="onScroll"&&xi("scroll",p):Dt!=null&&w(p,Be,Dt,$e))}switch(C){case"input":pe(p),Ze(p,z,!1);break;case"textarea":pe(p),He(p);break;case"option":z.value!=null&&p.setAttribute("value",""+ye(z.value));break;case"select":p.multiple=!!z.multiple,Be=z.value,Be!=null?Ct(p,!!z.multiple,Be,!1):z.defaultValue!=null&&Ct(p,!!z.multiple,z.defaultValue,!0);break;default:typeof Ae.onClick=="function"&&(p.onclick=Nu)}switch(C){case"button":case"input":case"select":case"textarea":z=!!z.autoFocus;break e;case"img":z=!0;break e;default:z=!1}}z&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Tr(v),null;case 6:if(p&&v.stateNode!=null)Er(p,v,p.memoizedProps,z);else{if(typeof z!="string"&&v.stateNode===null)throw Error(n(166));if(C=di(oc.current),di(gl.current),An(v)){if(z=v.stateNode,C=v.memoizedProps,z[bo]=v,(Be=z.nodeValue!==C)&&(p=Xe,p!==null))switch(p.tag){case 3:Cu(z.nodeValue,C,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Cu(z.nodeValue,C,(p.mode&1)!==0)}Be&&(v.flags|=4)}else z=(C.nodeType===9?C:C.ownerDocument).createTextNode(z),z[bo]=v,v.stateNode=z}return Tr(v),null;case 13:if(ui(ts),z=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ot&&ht!==null&&(v.mode&1)!==0&&(v.flags&128)===0)Mr(),br(),v.flags|=98560,Be=!1;else if(Be=An(v),z!==null&&z.dehydrated!==null){if(p===null){if(!Be)throw Error(n(318));if(Be=v.memoizedState,Be=Be!==null?Be.dehydrated:null,!Be)throw Error(n(317));Be[bo]=v}else br(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Tr(v),Be=!1}else er!==null&&(Bf(er),er=null),Be=!0;if(!Be)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=C,v):(z=z!==null,z!==(p!==null&&p.memoizedState!==null)&&z&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(ts.current&1)!==0?eo===0&&(eo=3):bh())),v.updateQueue!==null&&(v.flags|=4),Tr(v),null);case 4:return us(),ar(p,v),p===null&&Is(v.stateNode.containerInfo),Tr(v),null;case 10:return wo(v.type._context),Tr(v),null;case 17:return Fo(v.type)&&ac(),Tr(v),null;case 19:if(ui(ts),Be=v.memoizedState,Be===null)return Tr(v),null;if(z=(v.flags&128)!==0,$e=Be.rendering,$e===null)if(z)Rr(Be,!1);else{if(eo!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if($e=cu(p),$e!==null){for(v.flags|=128,Rr(Be,!1),z=$e.updateQueue,z!==null&&(v.updateQueue=z,v.flags|=4),v.subtreeFlags=0,z=C,C=v.child;C!==null;)Be=C,p=z,Be.flags&=14680066,$e=Be.alternate,$e===null?(Be.childLanes=0,Be.lanes=p,Be.child=null,Be.subtreeFlags=0,Be.memoizedProps=null,Be.memoizedState=null,Be.updateQueue=null,Be.dependencies=null,Be.stateNode=null):(Be.childLanes=$e.childLanes,Be.lanes=$e.lanes,Be.child=$e.child,Be.subtreeFlags=0,Be.deletions=null,Be.memoizedProps=$e.memoizedProps,Be.memoizedState=$e.memoizedState,Be.updateQueue=$e.updateQueue,Be.type=$e.type,p=$e.dependencies,Be.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),C=C.sibling;return Ti(ts,ts.current&1|2),v.child}p=p.sibling}Be.tail!==null&&ha()>Zd&&(v.flags|=128,z=!0,Rr(Be,!1),v.lanes=4194304)}else{if(!z)if(p=cu($e),p!==null){if(v.flags|=128,z=!0,C=p.updateQueue,C!==null&&(v.updateQueue=C,v.flags|=4),Rr(Be,!0),Be.tail===null&&Be.tailMode==="hidden"&&!$e.alternate&&!ot)return Tr(v),null}else 2*ha()-Be.renderingStartTime>Zd&&C!==1073741824&&(v.flags|=128,z=!0,Rr(Be,!1),v.lanes=4194304);Be.isBackwards?($e.sibling=v.child,v.child=$e):(C=Be.last,C!==null?C.sibling=$e:v.child=$e,Be.last=$e)}return Be.tail!==null?(v=Be.tail,Be.rendering=v,Be.tail=v.sibling,Be.renderingStartTime=ha(),v.sibling=null,C=ts.current,Ti(ts,z?C&1|2:C&1),v):(Tr(v),null);case 22:case 23:return RA(),z=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==z&&(v.flags|=8192),z&&(v.mode&1)!==0?(Rs&1073741824)!==0&&(Tr(v),v.subtreeFlags&6&&(v.flags|=8192)):Tr(v),null;case 24:return null;case 25:return null}throw Error(n(156,v.tag))}function kn(p,v){switch(J(v),v.tag){case 1:return Fo(v.type)&&ac(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return us(),ui(Fs),ui(bs),Uh(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return lu(v),null;case 13:if(ui(ts),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(n(340));br()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ui(ts),null;case 4:return us(),null;case 10:return wo(v.type._context),null;case 22:case 23:return RA(),null;case 24:return null;default:return null}}var $a=!1,yn=!1,yi=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Ma(p,v){var C=p.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(z){U(p,v,z)}else C.current=null}function Wn(p,v,C){try{C()}catch(z){U(p,v,z)}}var fn=!1;function ho(p,v){if(Su=De,p=Xs(),tl(p)){if("selectionStart"in p)var C={start:p.selectionStart,end:p.selectionEnd};else e:{C=(C=p.ownerDocument)&&C.defaultView||window;var z=C.getSelection&&C.getSelection();if(z&&z.rangeCount!==0){C=z.anchorNode;var Ae=z.anchorOffset,Be=z.focusNode;z=z.focusOffset;try{C.nodeType,Be.nodeType}catch{C=null;break e}var $e=0,wt=-1,Dt=-1,Ar=0,Gr=0,en=p,Kr=null;t:for(;;){for(var Ln;en!==C||Ae!==0&&en.nodeType!==3||(wt=$e+Ae),en!==Be||z!==0&&en.nodeType!==3||(Dt=$e+z),en.nodeType===3&&($e+=en.nodeValue.length),(Ln=en.firstChild)!==null;)Kr=en,en=Ln;for(;;){if(en===p)break t;if(Kr===C&&++Ar===Ae&&(wt=$e),Kr===Be&&++Gr===z&&(Dt=$e),(Ln=en.nextSibling)!==null)break;en=Kr,Kr=en.parentNode}en=Ln}C=wt===-1||Dt===-1?null:{start:wt,end:Dt}}else C=null}C=C||{start:0,end:0}}else C=null;for(Bu={focusedElem:p,selectionRange:C},De=!1,ln=v;ln!==null;)if(v=ln,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,ln=p;else for(;ln!==null;){v=ln;try{var Zn=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Zn!==null){var ra=Zn.memoizedProps,ul=Zn.memoizedState,sr=v.stateNode,Vt=sr.getSnapshotBeforeUpdate(v.elementType===v.type?ra:Ro(v.type,ra),ul);sr.__reactInternalSnapshotBeforeUpdate=Vt}break;case 3:var hr=v.stateNode.containerInfo;hr.nodeType===1?hr.textContent="":hr.nodeType===9&&hr.documentElement&&hr.removeChild(hr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(sn){U(v,v.return,sn)}if(p=v.sibling,p!==null){p.return=v.return,ln=p;break}ln=v.return}return Zn=fn,fn=!1,Zn}function Pa(p,v,C){var z=v.updateQueue;if(z=z!==null?z.lastEffect:null,z!==null){var Ae=z=z.next;do{if((Ae.tag&p)===p){var Be=Ae.destroy;Ae.destroy=void 0,Be!==void 0&&Wn(v,C,Be)}Ae=Ae.next}while(Ae!==z)}}function Ai(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var C=v=v.next;do{if((C.tag&p)===p){var z=C.create;C.destroy=z()}C=C.next}while(C!==v)}}function ds(p){var v=p.ref;if(v!==null){var C=p.stateNode;switch(p.tag){case 5:p=C;break;default:p=C}typeof v=="function"?v(p):v.current=p}}function Co(p){var v=p.alternate;v!==null&&(p.alternate=null,Co(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[bo],delete v[kl],delete v[$d],delete v[pl],delete v[$u])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function qo(p){return p.tag===5||p.tag===3||p.tag===4}function Ds(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||qo(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Xo(p,v,C){var z=p.tag;if(z===5||z===6)p=p.stateNode,v?C.nodeType===8?C.parentNode.insertBefore(p,v):C.insertBefore(p,v):(C.nodeType===8?(v=C.parentNode,v.insertBefore(p,C)):(v=C,v.appendChild(p)),C=C._reactRootContainer,C!=null||v.onclick!==null||(v.onclick=Nu));else if(z!==4&&(p=p.child,p!==null))for(Xo(p,v,C),p=p.sibling;p!==null;)Xo(p,v,C),p=p.sibling}function ol(p,v,C){var z=p.tag;if(z===5||z===6)p=p.stateNode,v?C.insertBefore(p,v):C.appendChild(p);else if(z!==4&&(p=p.child,p!==null))for(ol(p,v,C),p=p.sibling;p!==null;)ol(p,v,C),p=p.sibling}var pi=null,Ka=!1;function mi(p,v,C){for(C=C.child;C!==null;)$s(p,v,C),C=C.sibling}function $s(p,v,C){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Io,C)}catch{}switch(C.tag){case 5:yn||Ma(C,v);case 6:var z=pi,Ae=Ka;pi=null,mi(p,v,C),pi=z,Ka=Ae,pi!==null&&(Ka?(p=pi,C=C.stateNode,p.nodeType===8?p.parentNode.removeChild(C):p.removeChild(C)):pi.removeChild(C.stateNode));break;case 18:pi!==null&&(Ka?(p=pi,C=C.stateNode,p.nodeType===8?Ca(p.parentNode,C):p.nodeType===1&&Ca(p,C),me(p)):Ca(pi,C.stateNode));break;case 4:z=pi,Ae=Ka,pi=C.stateNode.containerInfo,Ka=!0,mi(p,v,C),pi=z,Ka=Ae;break;case 0:case 11:case 14:case 15:if(!yn&&(z=C.updateQueue,z!==null&&(z=z.lastEffect,z!==null))){Ae=z=z.next;do{var Be=Ae,$e=Be.destroy;Be=Be.tag,$e!==void 0&&((Be&2)!==0||(Be&4)!==0)&&Wn(C,v,$e),Ae=Ae.next}while(Ae!==z)}mi(p,v,C);break;case 1:if(!yn&&(Ma(C,v),z=C.stateNode,typeof z.componentWillUnmount=="function"))try{z.props=C.memoizedProps,z.state=C.memoizedState,z.componentWillUnmount()}catch(wt){U(C,v,wt)}mi(p,v,C);break;case 21:mi(p,v,C);break;case 22:C.mode&1?(yn=(z=yn)||C.memoizedState!==null,mi(p,v,C),yn=z):mi(p,v,C);break;default:mi(p,v,C)}}function $i(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var C=p.stateNode;C===null&&(C=p.stateNode=new yi),v.forEach(function(z){var Ae=ze.bind(null,p,z);C.has(z)||(C.add(z),z.then(Ae,Ae))})}}function hs(p,v){var C=v.deletions;if(C!==null)for(var z=0;z<C.length;z++){var Ae=C[z];try{var Be=p,$e=v,wt=$e;e:for(;wt!==null;){switch(wt.tag){case 5:pi=wt.stateNode,Ka=!1;break e;case 3:pi=wt.stateNode.containerInfo,Ka=!0;break e;case 4:pi=wt.stateNode.containerInfo,Ka=!0;break e}wt=wt.return}if(pi===null)throw Error(n(160));$s(Be,$e,Ae),pi=null,Ka=!1;var Dt=Ae.alternate;Dt!==null&&(Dt.return=null),Ae.return=null}catch(Ar){U(Ae,v,Ar)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)uc(v,p),v=v.sibling}function uc(p,v){var C=p.alternate,z=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(hs(v,p),Vi(p),z&4){try{Pa(3,p,p.return),Ai(3,p)}catch(ra){U(p,p.return,ra)}try{Pa(5,p,p.return)}catch(ra){U(p,p.return,ra)}}break;case 1:hs(v,p),Vi(p),z&512&&C!==null&&Ma(C,C.return);break;case 5:if(hs(v,p),Vi(p),z&512&&C!==null&&Ma(C,C.return),p.flags&32){var Ae=p.stateNode;try{on(Ae,"")}catch(ra){U(p,p.return,ra)}}if(z&4&&(Ae=p.stateNode,Ae!=null)){var Be=p.memoizedProps,$e=C!==null?C.memoizedProps:Be,wt=p.type,Dt=p.updateQueue;if(p.updateQueue=null,Dt!==null)try{wt==="input"&&Be.type==="radio"&&Be.name!=null&&ae(Ae,Be),zr(wt,$e);var Ar=zr(wt,Be);for($e=0;$e<Dt.length;$e+=2){var Gr=Dt[$e],en=Dt[$e+1];Gr==="style"?dr(Ae,en):Gr==="dangerouslySetInnerHTML"?pr(Ae,en):Gr==="children"?on(Ae,en):w(Ae,Gr,en,Ar)}switch(wt){case"input":Le(Ae,Be);break;case"textarea":Or(Ae,Be);break;case"select":var Kr=Ae._wrapperState.wasMultiple;Ae._wrapperState.wasMultiple=!!Be.multiple;var Ln=Be.value;Ln!=null?Ct(Ae,!!Be.multiple,Ln,!1):Kr!==!!Be.multiple&&(Be.defaultValue!=null?Ct(Ae,!!Be.multiple,Be.defaultValue,!0):Ct(Ae,!!Be.multiple,Be.multiple?[]:"",!1))}Ae[kl]=Be}catch(ra){U(p,p.return,ra)}}break;case 6:if(hs(v,p),Vi(p),z&4){if(p.stateNode===null)throw Error(n(162));Ae=p.stateNode,Be=p.memoizedProps;try{Ae.nodeValue=Be}catch(ra){U(p,p.return,ra)}}break;case 3:if(hs(v,p),Vi(p),z&4&&C!==null&&C.memoizedState.isDehydrated)try{me(v.containerInfo)}catch(ra){U(p,p.return,ra)}break;case 4:hs(v,p),Vi(p);break;case 13:hs(v,p),Vi(p),Ae=p.child,Ae.flags&8192&&(Be=Ae.memoizedState!==null,Ae.stateNode.isHidden=Be,!Be||Ae.alternate!==null&&Ae.alternate.memoizedState!==null||(Kc=ha())),z&4&&$i(p);break;case 22:if(Gr=C!==null&&C.memoizedState!==null,p.mode&1?(yn=(Ar=yn)||Gr,hs(v,p),yn=Ar):hs(v,p),Vi(p),z&8192){if(Ar=p.memoizedState!==null,(p.stateNode.isHidden=Ar)&&!Gr&&(p.mode&1)!==0)for(ln=p,Gr=p.child;Gr!==null;){for(en=ln=Gr;ln!==null;){switch(Kr=ln,Ln=Kr.child,Kr.tag){case 0:case 11:case 14:case 15:Pa(4,Kr,Kr.return);break;case 1:Ma(Kr,Kr.return);var Zn=Kr.stateNode;if(typeof Zn.componentWillUnmount=="function"){z=Kr,C=Kr.return;try{v=z,Zn.props=v.memoizedProps,Zn.state=v.memoizedState,Zn.componentWillUnmount()}catch(ra){U(z,C,ra)}}break;case 5:Ma(Kr,Kr.return);break;case 22:if(Kr.memoizedState!==null){Lo(en);continue}}Ln!==null?(Ln.return=Kr,ln=Ln):Lo(en)}Gr=Gr.sibling}e:for(Gr=null,en=p;;){if(en.tag===5){if(Gr===null){Gr=en;try{Ae=en.stateNode,Ar?(Be=Ae.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none"):(wt=en.stateNode,Dt=en.memoizedProps.style,$e=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null,wt.style.display=Ir("display",$e))}catch(ra){U(p,p.return,ra)}}}else if(en.tag===6){if(Gr===null)try{en.stateNode.nodeValue=Ar?"":en.memoizedProps}catch(ra){U(p,p.return,ra)}}else if((en.tag!==22&&en.tag!==23||en.memoizedState===null||en===p)&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===p)break e;for(;en.sibling===null;){if(en.return===null||en.return===p)break e;Gr===en&&(Gr=null),en=en.return}Gr===en&&(Gr=null),en.sibling.return=en.return,en=en.sibling}}break;case 19:hs(v,p),Vi(p),z&4&&$i(p);break;case 21:break;default:hs(v,p),Vi(p)}}function Vi(p){var v=p.flags;if(v&2){try{e:{for(var C=p.return;C!==null;){if(qo(C)){var z=C;break e}C=C.return}throw Error(n(160))}switch(z.tag){case 5:var Ae=z.stateNode;z.flags&32&&(on(Ae,""),z.flags&=-33);var Be=Ds(p);ol(p,Be,Ae);break;case 3:case 4:var $e=z.stateNode.containerInfo,wt=Ds(p);Xo(p,wt,$e);break;default:throw Error(n(161))}}catch(Dt){U(p,p.return,Dt)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function xl(p,v,C){ln=p,rs(p)}function rs(p,v,C){for(var z=(p.mode&1)!==0;ln!==null;){var Ae=ln,Be=Ae.child;if(Ae.tag===22&&z){var $e=Ae.memoizedState!==null||$a;if(!$e){var wt=Ae.alternate,Dt=wt!==null&&wt.memoizedState!==null||yn;wt=$a;var Ar=yn;if($a=$e,(yn=Dt)&&!Ar)for(ln=Ae;ln!==null;)$e=ln,Dt=$e.child,$e.tag===22&&$e.memoizedState!==null?Uo(Ae):Dt!==null?(Dt.return=$e,ln=Dt):Uo(Ae);for(;Be!==null;)ln=Be,rs(Be),Be=Be.sibling;ln=Ae,$a=wt,yn=Ar}tn(p)}else(Ae.subtreeFlags&8772)!==0&&Be!==null?(Be.return=Ae,ln=Be):tn(p)}}function tn(p){for(;ln!==null;){var v=ln;if((v.flags&8772)!==0){var C=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:yn||Ai(5,v);break;case 1:var z=v.stateNode;if(v.flags&4&&!yn)if(C===null)z.componentDidMount();else{var Ae=v.elementType===v.type?C.memoizedProps:Ro(v.type,C.memoizedProps);z.componentDidUpdate(Ae,C.memoizedState,z.__reactInternalSnapshotBeforeUpdate)}var Be=v.updateQueue;Be!==null&&vd(v,Be,z);break;case 3:var $e=v.updateQueue;if($e!==null){if(C=null,v.child!==null)switch(v.child.tag){case 5:C=v.child.stateNode;break;case 1:C=v.child.stateNode}vd(v,$e,C)}break;case 5:var wt=v.stateNode;if(C===null&&v.flags&4){C=wt;var Dt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Dt.autoFocus&&C.focus();break;case"img":Dt.src&&(C.src=Dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var Ar=v.alternate;if(Ar!==null){var Gr=Ar.memoizedState;if(Gr!==null){var en=Gr.dehydrated;en!==null&&me(en)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||v.flags&512&&ds(v)}catch(Kr){U(v,v.return,Kr)}}if(v===p){ln=null;break}if(C=v.sibling,C!==null){C.return=v.return,ln=C;break}ln=v.return}}function Lo(p){for(;ln!==null;){var v=ln;if(v===p){ln=null;break}var C=v.sibling;if(C!==null){C.return=v.return,ln=C;break}ln=v.return}}function Uo(p){for(;ln!==null;){var v=ln;try{switch(v.tag){case 0:case 11:case 15:var C=v.return;try{Ai(4,v)}catch(Dt){U(v,C,Dt)}break;case 1:var z=v.stateNode;if(typeof z.componentDidMount=="function"){var Ae=v.return;try{z.componentDidMount()}catch(Dt){U(v,Ae,Dt)}}var Be=v.return;try{ds(v)}catch(Dt){U(v,Be,Dt)}break;case 5:var $e=v.return;try{ds(v)}catch(Dt){U(v,$e,Dt)}}}catch(Dt){U(v,v.return,Dt)}if(v===p){ln=null;break}var wt=v.sibling;if(wt!==null){wt.return=v.return,ln=wt;break}ln=v.return}}var Ms=Math.ceil,yl=N.ReactCurrentDispatcher,Ua=N.ReactCurrentOwner,Fa=N.ReactCurrentBatchConfig,Xn=0,zi=null,_i=null,Vs=0,Rs=0,Js=Pl(0),eo=0,Nd=null,_u=0,Gu=0,Sf=0,xh=null,ll=null,Kc=0,Zd=1/0,qu=null,Yh=!1,PA=null,du=null,Zh=!1,Gc=null,Yo=0,Sd=0,Ou=null,Jh=-1,FA=0;function No(){return(Xn&6)!==0?ha():Jh!==-1?Jh:Jh=ha()}function dc(p){return(p.mode&1)===0?1:(Xn&2)!==0&&Vs!==0?Vs&-Vs:ba.transition!==null?(FA===0&&(FA=so()),FA):(p=pa,p!==0||(p=window.event,p=p===void 0?16:mt(p.type)),p)}function bl(p,v,C,z){if(50<Sd)throw Sd=0,Ou=null,Error(n(185));ki(p,C,z),((Xn&2)===0||p!==zi)&&(p===zi&&((Xn&2)===0&&(Gu|=C),eo===4&&kc(p,Vs)),Ao(p,z),C===1&&Xn===0&&(v.mode&1)===0&&(Zd=ha()+500,Ue&&yr()))}function Ao(p,v){var C=p.callbackNode;_o(p,v);var z=gs(p,p===zi?Vs:0);if(z===0)C!==null&&Sl(C),p.callbackNode=null,p.callbackPriority=0;else if(v=z&-z,p.callbackPriority!==v){if(C!=null&&Sl(C),v===1)p.tag===0?Gt(If.bind(null,p)):Ot(If.bind(null,p)),Wd(function(){(Xn&6)===0&&yr()}),C=null;else{switch(Wi(z)){case 1:C=ni;break;case 4:C=Bo;break;case 16:C=Gs;break;case 536870912:C=el;break;default:C=Gs}C=lt(C,Bd.bind(null,p))}p.callbackPriority=v,p.callbackNode=C}}function Bd(p,v){if(Jh=-1,FA=0,(Xn&6)!==0)throw Error(n(327));var C=p.callbackNode;if(F()&&p.callbackNode!==C)return null;var z=gs(p,p===zi?Vs:0);if(z===0)return null;if((z&30)!==0||(z&p.expiredLanes)!==0||v)v=qc(p,z);else{v=z;var Ae=Xn;Xn|=2;var Be=LA();(zi!==p||Vs!==v)&&(qu=null,Zd=ha()+500,eh(p,v));do try{Id();break}catch(wt){yh(p,wt)}while(!0);da(),yl.current=Be,Xn=Ae,_i!==null?v=0:(zi=null,Vs=0,v=eo)}if(v!==0){if(v===2&&(Ae=Di(p),Ae!==0&&(z=Ae,v=DA(p,Ae))),v===1)throw C=Nd,eh(p,0),kc(p,z),Ao(p,ha()),C;if(v===6)kc(p,z);else{if(Ae=p.current.alternate,(z&30)===0&&!Ef(Ae)&&(v=qc(p,z),v===2&&(Be=Di(p),Be!==0&&(z=Be,v=DA(p,Be))),v===1))throw C=Nd,eh(p,0),kc(p,z),Ao(p,ha()),C;switch(p.finishedWork=Ae,p.finishedLanes=z,v){case 0:case 1:throw Error(n(345));case 2:Td(p,ll,qu);break;case 3:if(kc(p,z),(z&130023424)===z&&(v=Kc+500-ha(),10<v)){if(gs(p,0)!==0)break;if(Ae=p.suspendedLanes,(Ae&z)!==z){No(),p.pingedLanes|=p.suspendedLanes&Ae;break}p.timeoutHandle=Ol(Td.bind(null,p,ll,qu),v);break}Td(p,ll,qu);break;case 4:if(kc(p,z),(z&4194240)===z)break;for(v=p.eventTimes,Ae=-1;0<z;){var $e=31-ai(z);Be=1<<$e,$e=v[$e],$e>Ae&&(Ae=$e),z&=~Be}if(z=Ae,z=ha()-z,z=(120>z?120:480>z?480:1080>z?1080:1920>z?1920:3e3>z?3e3:4320>z?4320:1960*Ms(z/1960))-z,10<z){p.timeoutHandle=Ol(Td.bind(null,p,ll,qu),z);break}Td(p,ll,qu);break;case 5:Td(p,ll,qu);break;default:throw Error(n(329))}}}return Ao(p,ha()),p.callbackNode===C?Bd.bind(null,p):null}function DA(p,v){var C=xh;return p.current.memoizedState.isDehydrated&&(eh(p,v).flags|=256),p=qc(p,v),p!==2&&(v=ll,ll=C,v!==null&&Bf(v)),p}function Bf(p){ll===null?ll=p:ll.push.apply(ll,p)}function Ef(p){for(var v=p;;){if(v.flags&16384){var C=v.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var z=0;z<C.length;z++){var Ae=C[z],Be=Ae.getSnapshot;Ae=Ae.value;try{if(!Ps(Be(),Ae))return!1}catch{return!1}}}if(C=v.child,v.subtreeFlags&16384&&C!==null)C.return=v,v=C;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function kc(p,v){for(v&=~Sf,v&=~Gu,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var C=31-ai(v),z=1<<C;p[C]=-1,v&=~z}}function If(p){if((Xn&6)!==0)throw Error(n(327));F();var v=gs(p,0);if((v&1)===0)return Ao(p,ha()),null;var C=qc(p,v);if(p.tag!==0&&C===2){var z=Di(p);z!==0&&(v=z,C=DA(p,z))}if(C===1)throw C=Nd,eh(p,0),kc(p,v),Ao(p,ha()),C;if(C===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,Td(p,ll,qu),Ao(p,ha()),null}function MA(p,v){var C=Xn;Xn|=1;try{return p(v)}finally{Xn=C,Xn===0&&(Zd=ha()+500,Ue&&yr())}}function Jd(p){Gc!==null&&Gc.tag===0&&(Xn&6)===0&&F();var v=Xn;Xn|=1;var C=Fa.transition,z=pa;try{if(Fa.transition=null,pa=1,p)return p()}finally{pa=z,Fa.transition=C,Xn=v,(Xn&6)===0&&yr()}}function RA(){Rs=Js.current,ui(Js)}function eh(p,v){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;if(C!==-1&&(p.timeoutHandle=-1,Mh(C)),_i!==null)for(C=_i.return;C!==null;){var z=C;switch(J(z),z.tag){case 1:z=z.type.childContextTypes,z!=null&&ac();break;case 3:us(),ui(Fs),ui(bs),Uh();break;case 5:lu(z);break;case 4:us();break;case 13:ui(ts);break;case 19:ui(ts);break;case 10:wo(z.type._context);break;case 22:case 23:RA()}C=C.return}if(zi=p,_i=p=bn(p.current,null),Vs=Rs=v,eo=0,Nd=null,Sf=Gu=_u=0,ll=xh=null,sc!==null){for(v=0;v<sc.length;v++)if(C=sc[v],z=C.interleaved,z!==null){C.interleaved=null;var Ae=z.next,Be=C.pending;if(Be!==null){var $e=Be.next;Be.next=Ae,z.next=$e}C.pending=z}sc=null}return p}function yh(p,v){do{var C=_i;try{if(da(),fh.current=Ml,Qh){for(var z=ws.memoizedState;z!==null;){var Ae=z.queue;Ae!==null&&(Ae.pending=null),z=z.next}Qh=!1}if(zu=0,Zs=jo=ws=null,al=!1,yd=0,Ua.current=null,C===null||C.return===null){eo=1,Nd=v,_i=null;break}e:{var Be=p,$e=C.return,wt=C,Dt=v;if(v=Vs,wt.flags|=32768,Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var Ar=Dt,Gr=wt,en=Gr.tag;if((Gr.mode&1)===0&&(en===0||en===11||en===15)){var Kr=Gr.alternate;Kr?(Gr.updateQueue=Kr.updateQueue,Gr.memoizedState=Kr.memoizedState,Gr.lanes=Kr.lanes):(Gr.updateQueue=null,Gr.memoizedState=null)}var Ln=wf($e);if(Ln!==null){Ln.flags&=-257,jf(Ln,$e,wt,Be,v),Ln.mode&1&&Cp(Be,Ar,v),v=Ln,Dt=Ar;var Zn=v.updateQueue;if(Zn===null){var ra=new Set;ra.add(Dt),v.updateQueue=ra}else Zn.add(Dt);break e}else{if((v&1)===0){Cp(Be,Ar,v),bh();break e}Dt=Error(n(426))}}else if(ot&&wt.mode&1){var ul=wf($e);if(ul!==null){(ul.flags&65536)===0&&(ul.flags|=256),jf(ul,$e,wt,Be,v),Ri(wd(Dt,wt));break e}}Be=Dt=wd(Dt,wt),eo!==4&&(eo=2),xh===null?xh=[Be]:xh.push(Be),Be=$e;do{switch(Be.tag){case 3:Be.flags|=65536,v&=-v,Be.lanes|=v;var sr=gh(Be,Dt,v);Vu(Be,sr);break e;case 1:wt=Dt;var Vt=Be.type,hr=Be.stateNode;if((Be.flags&128)===0&&(typeof Vt.getDerivedStateFromError=="function"||hr!==null&&typeof hr.componentDidCatch=="function"&&(du===null||!du.has(hr)))){Be.flags|=65536,v&=-v,Be.lanes|=v;var sn=TA(Be,wt,v);Vu(Be,sn);break e}}Be=Be.return}while(Be!==null)}UA(C)}catch(sa){v=sa,_i===C&&C!==null&&(_i=C=C.return);continue}break}while(!0)}function LA(){var p=yl.current;return yl.current=Ml,p===null?Ml:p}function bh(){(eo===0||eo===3||eo===2)&&(eo=4),zi===null||(_u&268435455)===0&&(Gu&268435455)===0||kc(zi,Vs)}function qc(p,v){var C=Xn;Xn|=2;var z=LA();(zi!==p||Vs!==v)&&(qu=null,eh(p,v));do try{Ed();break}catch(Ae){yh(p,Ae)}while(!0);if(da(),Xn=C,yl.current=z,_i!==null)throw Error(n(261));return zi=null,Vs=0,eo}function Ed(){for(;_i!==null;)eA(_i)}function Id(){for(;_i!==null&&!Hi();)eA(_i)}function eA(p){var v=ct(p.alternate,p,Rs);p.memoizedProps=p.pendingProps,v===null?UA(p):_i=v,Ua.current=null}function UA(p){var v=p;do{var C=v.alternate;if(p=v.return,(v.flags&32768)===0){if(C=ta(C,v,Rs),C!==null){_i=C;return}}else{if(C=kn(C,v),C!==null){C.flags&=32767,_i=C;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{eo=6,_i=null;return}}if(v=v.sibling,v!==null){_i=v;return}_i=v=p}while(v!==null);eo===0&&(eo=5)}function Td(p,v,C){var z=pa,Ae=Fa.transition;try{Fa.transition=null,pa=1,Um(p,v,C,z)}finally{Fa.transition=Ae,pa=z}return null}function Um(p,v,C,z){do F();while(Gc!==null);if((Xn&6)!==0)throw Error(n(327));C=p.finishedWork;var Ae=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Be=C.lanes|C.childLanes;if(vo(p,Be),p===zi&&(_i=zi=null,Vs=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Zh||(Zh=!0,lt(Gs,function(){return F(),null})),Be=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||Be){Be=Fa.transition,Fa.transition=null;var $e=pa;pa=1;var wt=Xn;Xn|=4,Ua.current=null,ho(p,C),uc(C,p),Nc(Bu),De=!!Su,Bu=Su=null,p.current=C,xl(C),go(),Xn=wt,pa=$e,Fa.transition=Be}else p.current=C;if(Zh&&(Zh=!1,Gc=p,Yo=Ae),Be=p.pendingLanes,Be===0&&(du=null),Ci(C.stateNode),Ao(p,ha()),v!==null)for(z=p.onRecoverableError,C=0;C<v.length;C++)Ae=v[C],z(Ae.value,{componentStack:Ae.stack,digest:Ae.digest});if(Yh)throw Yh=!1,p=PA,PA=null,p;return(Yo&1)!==0&&p.tag!==0&&F(),Be=p.pendingLanes,(Be&1)!==0?p===Ou?Sd++:(Sd=0,Ou=p):Sd=0,yr(),null}function F(){if(Gc!==null){var p=Wi(Yo),v=Fa.transition,C=pa;try{if(Fa.transition=null,pa=16>p?16:p,Gc===null)var z=!1;else{if(p=Gc,Gc=null,Yo=0,(Xn&6)!==0)throw Error(n(331));var Ae=Xn;for(Xn|=4,ln=p.current;ln!==null;){var Be=ln,$e=Be.child;if((ln.flags&16)!==0){var wt=Be.deletions;if(wt!==null){for(var Dt=0;Dt<wt.length;Dt++){var Ar=wt[Dt];for(ln=Ar;ln!==null;){var Gr=ln;switch(Gr.tag){case 0:case 11:case 15:Pa(8,Gr,Be)}var en=Gr.child;if(en!==null)en.return=Gr,ln=en;else for(;ln!==null;){Gr=ln;var Kr=Gr.sibling,Ln=Gr.return;if(Co(Gr),Gr===Ar){ln=null;break}if(Kr!==null){Kr.return=Ln,ln=Kr;break}ln=Ln}}}var Zn=Be.alternate;if(Zn!==null){var ra=Zn.child;if(ra!==null){Zn.child=null;do{var ul=ra.sibling;ra.sibling=null,ra=ul}while(ra!==null)}}ln=Be}}if((Be.subtreeFlags&2064)!==0&&$e!==null)$e.return=Be,ln=$e;else e:for(;ln!==null;){if(Be=ln,(Be.flags&2048)!==0)switch(Be.tag){case 0:case 11:case 15:Pa(9,Be,Be.return)}var sr=Be.sibling;if(sr!==null){sr.return=Be.return,ln=sr;break e}ln=Be.return}}var Vt=p.current;for(ln=Vt;ln!==null;){$e=ln;var hr=$e.child;if(($e.subtreeFlags&2064)!==0&&hr!==null)hr.return=$e,ln=hr;else e:for($e=Vt;ln!==null;){if(wt=ln,(wt.flags&2048)!==0)try{switch(wt.tag){case 0:case 11:case 15:Ai(9,wt)}}catch(sa){U(wt,wt.return,sa)}if(wt===$e){ln=null;break e}var sn=wt.sibling;if(sn!==null){sn.return=wt.return,ln=sn;break e}ln=wt.return}}if(Xn=Ae,yr(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Io,p)}catch{}z=!0}return z}finally{pa=C,Fa.transition=v}}return!1}function E(p,v,C){v=wd(C,v),v=gh(p,v,1),p=$c(p,v,1),v=No(),p!==null&&(ki(p,1,v),Ao(p,v))}function U(p,v,C){if(p.tag===3)E(p,p,C);else for(;v!==null;){if(v.tag===3){E(v,p,C);break}else if(v.tag===1){var z=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(du===null||!du.has(z))){p=wd(C,p),p=TA(v,p,1),v=$c(v,p,1),p=No(),v!==null&&(ki(v,1,p),Ao(v,p));break}}v=v.return}}function H(p,v,C){var z=p.pingCache;z!==null&&z.delete(v),v=No(),p.pingedLanes|=p.suspendedLanes&C,zi===p&&(Vs&C)===C&&(eo===4||eo===3&&(Vs&130023424)===Vs&&500>ha()-Kc?eh(p,0):Sf|=C),Ao(p,v)}function we(p,v){v===0&&((p.mode&1)===0?v=1:(v=qn,qn<<=1,(qn&130023424)===0&&(qn=4194304)));var C=No();p=Go(p,v),p!==null&&(ki(p,v,C),Ao(p,C))}function Fe(p){var v=p.memoizedState,C=0;v!==null&&(C=v.retryLane),we(p,C)}function ze(p,v){var C=0;switch(p.tag){case 13:var z=p.stateNode,Ae=p.memoizedState;Ae!==null&&(C=Ae.retryLane);break;case 19:z=p.stateNode;break;default:throw Error(n(314))}z!==null&&z.delete(v),we(p,C)}var ct;ct=function(p,v,C){if(p!==null)if(p.memoizedProps!==v.pendingProps||Fs.current)Rl=!0;else{if((p.lanes&C)===0&&(v.flags&128)===0)return Rl=!1,Yt(p,v,C);Rl=(p.flags&131072)!==0}else Rl=!1,ot&&(v.flags&1048576)!==0&&T(v,fa,v.index);switch(v.lanes=0,v.tag){case 2:var z=v.type;At(p,v),p=v.pendingProps;var Ae=su(v,bs.current);Do(v,C),Ae=bA(null,v,z,p,Ae,C);var Be=wA();return v.flags|=1,typeof Ae=="object"&&Ae!==null&&typeof Ae.render=="function"&&Ae.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Fo(z)?(Be=!0,Wc(v)):Be=!1,v.memoizedState=Ae.state!==null&&Ae.state!==void 0?Ae.state:null,Kd(v),Ae.updater=Xd,v.stateNode=Ae,Ae._reactInternals=v,IA(v,z,p,C),v=O(null,v,z,!0,Be,C)):(v.tag=0,ot&&Be&&Me(v),vl(null,v,Ae,C),v=v.child),v;case 16:z=v.elementType;e:{switch(At(p,v),p=v.pendingProps,Ae=z._init,z=Ae(z._payload),v.type=z,Ae=v.tag=jr(z),p=Ro(z,p),Ae){case 0:v=vh(null,v,z,p,C);break e;case 1:v=kA(null,v,z,p,C);break e;case 11:v=_A(null,v,z,p,C);break e;case 14:v=Nf(null,v,z,Ro(z.type,p),C);break e}throw Error(n(306,z,""))}return v;case 0:return z=v.type,Ae=v.pendingProps,Ae=v.elementType===z?Ae:Ro(z,Ae),vh(p,v,z,Ae,C);case 1:return z=v.type,Ae=v.pendingProps,Ae=v.elementType===z?Ae:Ro(z,Ae),kA(p,v,z,Ae,C);case 3:e:{if(G(v),p===null)throw Error(n(387));z=v.pendingProps,Be=v.memoizedState,Ae=Be.element,Ah(p,v),ou(v,z,null,C);var $e=v.memoizedState;if(z=$e.element,Be.isDehydrated)if(Be={element:z,isDehydrated:!1,cache:$e.cache,pendingSuspenseBoundaries:$e.pendingSuspenseBoundaries,transitions:$e.transitions},v.updateQueue.baseState=Be,v.memoizedState=Be,v.flags&256){Ae=wd(Error(n(423)),v),v=be(p,v,z,C,Ae);break e}else if(z!==Ae){Ae=wd(Error(n(424)),v),v=be(p,v,z,C,Ae);break e}else for(ht=Hc(v.stateNode.containerInfo.firstChild),Xe=v,ot=!0,er=null,C=es(v,null,z,C),v.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(br(),z===Ae){v=Mt(p,v,C);break e}vl(p,v,z,C)}v=v.child}return v;case 5:return co(v),p===null&&ir(v),z=v.type,Ae=v.pendingProps,Be=p!==null?p.memoizedProps:null,$e=Ae.children,md(z,Ae)?$e=null:Be!==null&&md(z,Be)&&(v.flags|=32),Xh(p,v),vl(p,v,$e,C),v.child;case 6:return p===null&&ir(v),null;case 13:return Ke(p,v,C);case 4:return Li(v,v.stateNode.containerInfo),z=v.pendingProps,p===null?v.child=Ea(v,null,z,C):vl(p,v,z,C),v.child;case 11:return z=v.type,Ae=v.pendingProps,Ae=v.elementType===z?Ae:Ro(z,Ae),_A(p,v,z,Ae,C);case 7:return vl(p,v,v.pendingProps,C),v.child;case 8:return vl(p,v,v.pendingProps.children,C),v.child;case 12:return vl(p,v,v.pendingProps.children,C),v.child;case 10:e:{if(z=v.type._context,Ae=v.pendingProps,Be=v.memoizedProps,$e=Ae.value,Ti(ea,z._currentValue),z._currentValue=$e,Be!==null)if(Ps(Be.value,$e)){if(Be.children===Ae.children&&!Fs.current){v=Mt(p,v,C);break e}}else for(Be=v.child,Be!==null&&(Be.return=v);Be!==null;){var wt=Be.dependencies;if(wt!==null){$e=Be.child;for(var Dt=wt.firstContext;Dt!==null;){if(Dt.context===z){if(Be.tag===1){Dt=_c(-1,C&-C),Dt.tag=2;var Ar=Be.updateQueue;if(Ar!==null){Ar=Ar.shared;var Gr=Ar.pending;Gr===null?Dt.next=Dt:(Dt.next=Gr.next,Gr.next=Dt),Ar.pending=Dt}}Be.lanes|=C,Dt=Be.alternate,Dt!==null&&(Dt.lanes|=C),ic(Be.return,C,v),wt.lanes|=C;break}Dt=Dt.next}}else if(Be.tag===10)$e=Be.type===v.type?null:Be.child;else if(Be.tag===18){if($e=Be.return,$e===null)throw Error(n(341));$e.lanes|=C,wt=$e.alternate,wt!==null&&(wt.lanes|=C),ic($e,C,v),$e=Be.sibling}else $e=Be.child;if($e!==null)$e.return=Be;else for($e=Be;$e!==null;){if($e===v){$e=null;break}if(Be=$e.sibling,Be!==null){Be.return=$e.return,$e=Be;break}$e=$e.return}Be=$e}vl(p,v,Ae.children,C),v=v.child}return v;case 9:return Ae=v.type,z=v.pendingProps.children,Do(v,C),Ae=lo(Ae),z=z(Ae),v.flags|=1,vl(p,v,z,C),v.child;case 14:return z=v.type,Ae=Ro(z,v.pendingProps),Ae=Ro(z.type,Ae),Nf(p,v,z,Ae,C);case 15:return OA(p,v,v.type,v.pendingProps,C);case 17:return z=v.type,Ae=v.pendingProps,Ae=v.elementType===z?Ae:Ro(z,Ae),At(p,v),v.tag=1,Fo(z)?(p=!0,Wc(v)):p=!1,Do(v,C),EA(v,z,Ae),IA(v,z,Ae,C),O(null,v,z,!0,p,C);case 19:return rr(p,v,C);case 22:return qh(p,v,C)}throw Error(n(156,v.tag))};function lt(p,v){return jc(p,v)}function Rt(p,v,C,z){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(p,v,C,z){return new Rt(p,v,C,z)}function tr(p){return p=p.prototype,!(!p||!p.isReactComponent)}function jr(p){if(typeof p=="function")return tr(p)?1:0;if(p!=null){if(p=p.$$typeof,p===re)return 11;if(p===L)return 14}return 2}function bn(p,v){var C=p.alternate;return C===null?(C=Ht(p.tag,v,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=v,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&14680064,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,v=p.dependencies,C.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C}function nn(p,v,C,z,Ae,Be){var $e=2;if(z=p,typeof p=="function")tr(p)&&($e=1);else if(typeof p=="string")$e=5;else e:switch(p){case _:return vn(C.children,Ae,Be,v);case k:$e=8,Ae|=8;break;case Z:return p=Ht(12,C,v,Ae|2),p.elementType=Z,p.lanes=Be,p;case R:return p=Ht(13,C,v,Ae),p.elementType=R,p.lanes=Be,p;case Y:return p=Ht(19,C,v,Ae),p.elementType=Y,p.lanes=Be,p;case je:return Za(C,Ae,Be,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case ee:$e=10;break e;case V:$e=9;break e;case re:$e=11;break e;case L:$e=14;break e;case $:$e=16,z=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return v=Ht($e,C,v,Ae),v.elementType=p,v.type=z,v.lanes=Be,v}function vn(p,v,C,z){return p=Ht(7,p,z,v),p.lanes=C,p}function Za(p,v,C,z){return p=Ht(22,p,z,v),p.elementType=je,p.lanes=C,p.stateNode={isHidden:!1},p}function Yn(p,v,C){return p=Ht(6,p,null,v),p.lanes=C,p}function Vn(p,v,C){return v=Ht(4,p.children!==null?p.children:[],p.key,v),v.lanes=C,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Ki(p,v,C,z,Ae){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=z,this.onRecoverableError=Ae,this.mutableSourceEagerHydrationData=null}function ii(p,v,C,z,Ae,Be,$e,wt,Dt){return p=new Ki(p,v,C,wt,Dt),v===1?(v=1,Be===!0&&(v|=8)):v=0,Be=Ht(3,null,null,v),p.current=Be,Be.stateNode=p,Be.memoizedState={element:z,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(Be),p}function Ha(p,v,C){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:z==null?null:""+z,children:p,containerInfo:v,implementation:C}}function Tn(p){if(!p)return Fl;p=p._reactInternals;e:{if(ri(p)!==p||p.tag!==1)throw Error(n(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Fo(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(n(171))}if(p.tag===1){var C=p.type;if(Fo(C))return Vd(p,C,v)}return v}function Oi(p,v,C,z,Ae,Be,$e,wt,Dt){return p=ii(C,z,!0,p,Ae,Be,$e,wt,Dt),p.context=Tn(null),C=p.current,z=No(),Ae=dc(C),Be=_c(z,Ae),Be.callback=v??null,$c(C,Be,Ae),p.current.lanes=Ae,ki(p,Ae,z),Ao(p,z),p}function bi(p,v,C,z){var Ae=v.current,Be=No(),$e=dc(Ae);return C=Tn(C),v.context===null?v.context=C:v.pendingContext=C,v=_c(Be,$e),v.payload={element:p},z=z===void 0?null:z,z!==null&&(v.callback=z),p=$c(Ae,v,$e),p!==null&&(bl(p,Ae,$e,Be),Vc(p,Ae,$e)),$e}function Da(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function Ho(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<v?C:v}}function hc(p,v){Ho(p,v),(p=p.alternate)&&Ho(p,v)}function hu(){return null}var As=typeof reportError=="function"?reportError:function(p){console.error(p)};function cl(p){this._internalRoot=p}Xu.prototype.render=cl.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(n(409));bi(p,v,null,null)},Xu.prototype.unmount=cl.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;Jd(function(){bi(null,p,null,null)}),v[rc]=null}};function Xu(p){this._internalRoot=p}Xu.prototype.unstable_scheduleHydration=function(p){if(p){var v=ko();p={blockedOn:null,target:p,priority:v};for(var C=0;C<ke.length&&v!==0&&v<ke[C].priority;C++);ke.splice(C,0,p),C===0&&D(p)}};function Ac(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Ll(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function wh(){}function _d(p,v,C,z,Ae){if(Ae){if(typeof z=="function"){var Be=z;z=function(){var Ar=Da($e);Be.call(Ar)}}var $e=Oi(v,z,p,0,null,!1,!1,"",wh);return p._reactRootContainer=$e,p[rc]=$e.current,Is(p.nodeType===8?p.parentNode:p),Jd(),$e}for(;Ae=p.lastChild;)p.removeChild(Ae);if(typeof z=="function"){var wt=z;z=function(){var Ar=Da(Dt);wt.call(Ar)}}var Dt=ii(p,0,!1,null,null,!1,!1,"",wh);return p._reactRootContainer=Dt,p[rc]=Dt.current,Is(p.nodeType===8?p.parentNode:p),Jd(function(){bi(v,Dt,C,z)}),Dt}function Yu(p,v,C,z,Ae){var Be=C._reactRootContainer;if(Be){var $e=Be;if(typeof Ae=="function"){var wt=Ae;Ae=function(){var Dt=Da($e);wt.call(Dt)}}bi(v,$e,p,Ae)}else $e=_d(C,v,p,Ae,z);return Da($e)}xs=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var C=Qi(v.pendingLanes);C!==0&&(Oo(v,C|1),Ao(v,ha()),(Xn&6)===0&&(Zd=ha()+500,yr()))}break;case 13:Jd(function(){var z=Go(p,1);if(z!==null){var Ae=No();bl(z,p,1,Ae)}}),hc(p,1)}},qs=function(p){if(p.tag===13){var v=Go(p,134217728);if(v!==null){var C=No();bl(v,p,134217728,C)}hc(p,134217728)}},ks=function(p){if(p.tag===13){var v=dc(p),C=Go(p,v);if(C!==null){var z=No();bl(C,p,v,z)}hc(p,v)}},ko=function(){return pa},Ut=function(p,v){var C=pa;try{return pa=p,v()}finally{pa=C}},$n=function(p,v,C){switch(v){case"input":if(Le(p,C),v=C.name,C.type==="radio"&&v!=null){for(C=p;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<C.length;v++){var z=C[v];if(z!==p&&z.form===p.form){var Ae=gd(z);if(!Ae)throw Error(n(90));oe(z),Le(z,Ae)}}}break;case"textarea":Or(p,C);break;case"select":v=C.value,v!=null&&Ct(p,!!C.multiple,v,!1)}},Sr=MA,dn=Jd;var tA={usingClientEntryPoint:!1,Events:[Iu,ml,gd,cn,bt,MA]},Zu={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},th={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=ms(p),p===null?null:p.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||hu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Io=Od.inject(th),Hs=Od}catch{}}return ku.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tA,ku.createPortal=function(p,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(v))throw Error(n(200));return Ha(p,v,null,C)},ku.createRoot=function(p,v){if(!Ac(p))throw Error(n(299));var C=!1,z="",Ae=As;return v!=null&&(v.unstable_strictMode===!0&&(C=!0),v.identifierPrefix!==void 0&&(z=v.identifierPrefix),v.onRecoverableError!==void 0&&(Ae=v.onRecoverableError)),v=ii(p,1,!1,null,null,C,!1,z,Ae),p[rc]=v.current,Is(p.nodeType===8?p.parentNode:p),new cl(v)},ku.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=ms(v),p=p===null?null:p.stateNode,p},ku.flushSync=function(p){return Jd(p)},ku.hydrate=function(p,v,C){if(!Ll(v))throw Error(n(200));return Yu(null,p,v,!0,C)},ku.hydrateRoot=function(p,v,C){if(!Ac(p))throw Error(n(405));var z=C!=null&&C.hydratedSources||null,Ae=!1,Be="",$e=As;if(C!=null&&(C.unstable_strictMode===!0&&(Ae=!0),C.identifierPrefix!==void 0&&(Be=C.identifierPrefix),C.onRecoverableError!==void 0&&($e=C.onRecoverableError)),v=Oi(v,null,p,1,C??null,Ae,!1,Be,$e),p[rc]=v.current,Is(p),z)for(p=0;p<z.length;p++)C=z[p],Ae=C._getVersion,Ae=Ae(C._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[C,Ae]:v.mutableSourceEagerHydrationData.push(C,Ae);return new Xu(v)},ku.render=function(p,v,C){if(!Ll(v))throw Error(n(200));return Yu(null,p,v,!1,C)},ku.unmountComponentAtNode=function(p){if(!Ll(p))throw Error(n(40));return p._reactRootContainer?(Jd(function(){Yu(null,null,p,!1,function(){p._reactRootContainer=null,p[rc]=null})}),!0):!1},ku.unstable_batchedUpdates=MA,ku.unstable_renderSubtreeIntoContainer=function(p,v,C,z){if(!Ll(C))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return Yu(p,v,C,!1,z)},ku.version="18.3.1-next-f1338f8080-20240426",ku}var AS;function Q_(){if(AS)return dx.exports;AS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dx.exports=gD(),dx.exports}var fS;function vD(){if(fS)return Xg;fS=1;var r=Q_();return Xg.createRoot=r.createRoot,Xg.hydrateRoot=r.hydrateRoot,Xg}var xD=vD();const yD=Zi(xD);var Rc=Q_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q0(){return q0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},q0.apply(this,arguments)}var YA;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(YA||(YA={}));const pS="popstate";function bD(r){r===void 0&&(r={});function e(a,i){let{pathname:s,search:c,hash:l}=a.location;return tC("",{pathname:s,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:cv(i)}return jD(e,n,null,r)}function hl(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function R4(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wD(){return Math.random().toString(36).substr(2,8)}function mS(r,e){return{usr:r.state,key:r.key,idx:e}}function tC(r,e,n,a){return n===void 0&&(n=null),q0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Nm(e):e,{state:n,key:e&&e.key||a||wD()})}function cv(r){let{pathname:e="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Nm(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substr(a),r=r.substr(0,a)),r&&(e.pathname=r)}return e}function jD(r,e,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,c=i.history,l=YA.Pop,u=null,o=d();o==null&&(o=0,c.replaceState(q0({},c.state,{idx:o}),""));function d(){return(c.state||{idx:null}).idx}function h(){l=YA.Pop;let x=d(),y=x==null?null:x-o;o=x,u&&u({action:l,location:m.location,delta:y})}function A(x,y){l=YA.Push;let b=tC(m.location,x,y);o=d()+1;let w=mS(b,o),N=m.createHref(b);try{c.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}s&&u&&u({action:l,location:m.location,delta:1})}function f(x,y){l=YA.Replace;let b=tC(m.location,x,y);o=d();let w=mS(b,o),N=m.createHref(b);c.replaceState(w,"",N),s&&u&&u({action:l,location:m.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:cv(x);return b=b.replace(/ $/,"%20"),hl(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return r(i,c)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(pS,h),u=x,()=>{i.removeEventListener(pS,h),u=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:A,replace:f,go(x){return c.go(x)}};return m}var gS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(gS||(gS={}));function CD(r,e,n){return n===void 0&&(n="/"),ND(r,e,n)}function ND(r,e,n,a){let i=typeof e=="string"?Nm(e):e,s=L4(i.pathname||"/",n);if(s==null)return null;let c=W_(r);SD(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let o=RD(s);l=FD(c[u],o)}return l}function W_(r,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(s,c,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};u.relativePath.startsWith("/")&&(hl(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let o=ef([a,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(hl(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),W_(s.children,e,d,o)),!(s.path==null&&!s.index)&&e.push({path:o,score:kD(o,s.index),routesMeta:d})};return r.forEach((s,c)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,c);else for(let u of $_(s.path))i(s,c,u)}),e}function $_(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let c=$_(a.join("/")),l=[];return l.push(...c.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...c),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function SD(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:PD(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const BD=/^:[\w-]+$/,ED=3,ID=2,TD=1,_D=10,OD=-2,vS=r=>r==="*";function kD(r,e){let n=r.split("/"),a=n.length;return n.some(vS)&&(a+=OD),e&&(a+=ID),n.filter(i=>!vS(i)).reduce((i,s)=>i+(BD.test(s)?ED:s===""?TD:_D),a)}function PD(r,e){return r.length===e.length&&r.slice(0,-1).every((a,i)=>a===e[i])?r[r.length-1]-e[e.length-1]:0}function FD(r,e,n){let{routesMeta:a}=r,i={},s="/",c=[];for(let l=0;l<a.length;++l){let u=a[l],o=l===a.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=DD({path:u.relativePath,caseSensitive:u.caseSensitive,end:o},d),A=u.route;if(!h)return null;Object.assign(i,h.params),c.push({params:i,pathname:ef([s,h.pathname]),pathnameBase:WD(ef([s,h.pathnameBase])),route:A}),h.pathnameBase!=="/"&&(s=ef([s,h.pathnameBase]))}return c}function DD(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=MD(r.path,r.caseSensitive,r.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((o,d,h)=>{let{paramName:A,isOptional:f}=d;if(A==="*"){let m=l[h]||"";c=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?o[A]=void 0:o[A]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:c,pattern:r}}function MD(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R4(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(a.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function RD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R4(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function L4(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const LD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UD=r=>LD.test(r);function HD(r,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:i=""}=typeof r=="string"?Nm(r):r,s;if(n)if(UD(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),R4(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=xS(n.substring(1),"/"):s=xS(n,e)}else s=e;return{pathname:s,search:$D(a),hash:VD(i)}}function xS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fx(r,e,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U4(r,e){let n=QD(r);return e?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function H4(r,e,n,a){a===void 0&&(a=!1);let i;typeof r=="string"?i=Nm(r):(i=q0({},r),hl(!i.pathname||!i.pathname.includes("?"),fx("?","pathname","search",i)),hl(!i.pathname||!i.pathname.includes("#"),fx("#","pathname","hash",i)),hl(!i.search||!i.search.includes("#"),fx("#","search","hash",i)));let s=r===""||i.pathname==="",c=s?"/":i.pathname,l;if(c==null)l=n;else{let h=e.length-1;if(!a&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),h-=1;i.pathname=A.join("/")}l=h>=0?e[h]:"/"}let u=HD(i,l),o=c&&c!=="/"&&c.endsWith("/"),d=(s||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(o||d)&&(u.pathname+="/"),u}const ef=r=>r.join("/").replace(/\/\/+/g,"/"),WD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$D=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const V_=["post","put","patch","delete"];new Set(V_);const KD=["get",...V_];new Set(KD);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},X0.apply(this,arguments)}const Q4=P.createContext(null),GD=P.createContext(null),lf=P.createContext(null),g2=P.createContext(null),cf=P.createContext({outlet:null,matches:[],isDataRoute:!1}),z_=P.createContext(null);function qD(r,e){let{relative:n}=e===void 0?{}:e;Sm()||hl(!1);let{basename:a,navigator:i}=P.useContext(lf),{hash:s,pathname:c,search:l}=G_(r,{relative:n}),u=c;return a!=="/"&&(u=c==="/"?a:ef([a,c])),i.createHref({pathname:u,search:l,hash:s})}function Sm(){return P.useContext(g2)!=null}function Pn(){return Sm()||hl(!1),P.useContext(g2).location}function K_(r){P.useContext(lf).static||P.useLayoutEffect(r)}function ti(){let{isDataRoute:r}=P.useContext(cf);return r?lM():XD()}function XD(){Sm()||hl(!1);let r=P.useContext(Q4),{basename:e,future:n,navigator:a}=P.useContext(lf),{matches:i}=P.useContext(cf),{pathname:s}=Pn(),c=JSON.stringify(U4(i,n.v7_relativeSplatPath)),l=P.useRef(!1);return K_(()=>{l.current=!0}),P.useCallback(function(o,d){if(d===void 0&&(d={}),!l.current)return;if(typeof o=="number"){a.go(o);return}let h=H4(o,JSON.parse(c),s,d.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ef([e,h.pathname])),(d.replace?a.replace:a.push)(h,d.state,d)},[e,a,c,s,r])}function G_(r,e){let{relative:n}=e===void 0?{}:e,{future:a}=P.useContext(lf),{matches:i}=P.useContext(cf),{pathname:s}=Pn(),c=JSON.stringify(U4(i,a.v7_relativeSplatPath));return P.useMemo(()=>H4(r,JSON.parse(c),s,n==="path"),[r,c,s,n])}function YD(r,e){return ZD(r,e)}function ZD(r,e,n,a){Sm()||hl(!1);let{navigator:i}=P.useContext(lf),{matches:s}=P.useContext(cf),c=s[s.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let o=Pn(),d;if(e){var h;let x=typeof e=="string"?Nm(e):e;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||hl(!1),d=x}else d=o;let A=d.pathname||"/",f=A;if(u!=="/"){let x=u.replace(/^\//,"").split("/");f="/"+A.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=CD(r,{pathname:f}),m=nM(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ef([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ef([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,a);return e&&m?P.createElement(g2.Provider,{value:{location:X0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:YA.Pop}},m):m}function JD(){let r=oM(),e=zD(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const eM=P.createElement(JD,null);class tM extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(cf.Provider,{value:this.props.routeContext},P.createElement(z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rM(r){let{routeContext:e,match:n,children:a}=r,i=P.useContext(Q4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(cf.Provider,{value:e},a)}function nM(r,e,n,a){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var s;if(!n)return null;if(n.errors)r=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=c.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||hl(!1),c=c.slice(0,Math.min(c.length,d+1))}let u=!1,o=-1;if(n&&a&&a.v7_partialHydration)for(let d=0;d<c.length;d++){let h=c[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=d),h.route.id){let{loaderData:A,errors:f}=n,g=h.route.loader&&A[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){u=!0,o>=0?c=c.slice(0,o+1):c=[c[0]];break}}}return c.reduceRight((d,h,A)=>{let f,g=!1,m=null,x=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||eM,u&&(o<0&&A===0?(cM("route-fallback"),g=!0,x=null):o===A&&(g=!0,x=h.route.hydrateFallbackElement||null)));let y=e.concat(c.slice(0,A+1)),b=()=>{let w;return f?w=m:g?w=x:h.route.Component?w=P.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,P.createElement(rM,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||A===0)?P.createElement(tM,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var q_=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(q_||{}),X_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(X_||{});function aM(r){let e=P.useContext(Q4);return e||hl(!1),e}function iM(r){let e=P.useContext(GD);return e||hl(!1),e}function sM(r){let e=P.useContext(cf);return e||hl(!1),e}function Y_(r){let e=sM(),n=e.matches[e.matches.length-1];return n.route.id||hl(!1),n.route.id}function oM(){var r;let e=P.useContext(z_),n=iM(),a=Y_();return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function lM(){let{router:r}=aM(q_.UseNavigateStable),e=Y_(X_.UseNavigateStable),n=P.useRef(!1);return K_(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,X0({fromRouteId:e},s)))},[r,e])}const yS={};function cM(r,e,n){yS[r]||(yS[r]=!0)}function uM(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function rC(r){let{to:e,replace:n,state:a,relative:i}=r;Sm()||hl(!1);let{future:s,static:c}=P.useContext(lf),{matches:l}=P.useContext(cf),{pathname:u}=Pn(),o=ti(),d=H4(e,U4(l,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(d);return P.useEffect(()=>o(JSON.parse(h),{replace:n,state:a,relative:i}),[o,h,i,n,a]),null}function xn(r){hl(!1)}function dM(r){let{basename:e="/",children:n=null,location:a,navigationType:i=YA.Pop,navigator:s,static:c=!1,future:l}=r;Sm()&&hl(!1);let u=e.replace(/^\/*/,"/"),o=P.useMemo(()=>({basename:u,navigator:s,static:c,future:X0({v7_relativeSplatPath:!1},l)}),[u,l,s,c]);typeof a=="string"&&(a=Nm(a));let{pathname:d="/",search:h="",hash:A="",state:f=null,key:g="default"}=a,m=P.useMemo(()=>{let x=L4(d,u);return x==null?null:{location:{pathname:x,search:h,hash:A,state:f,key:g},navigationType:i}},[u,d,h,A,f,g,i]);return m==null?null:P.createElement(lf.Provider,{value:o},P.createElement(g2.Provider,{children:n,value:m}))}function hM(r){let{children:e,location:n}=r;return YD(nC(e),n)}new Promise(()=>{});function nC(r,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(r,(a,i)=>{if(!P.isValidElement(a))return;let s=[...e,i];if(a.type===P.Fragment){n.push.apply(n,nC(a.props.children,s));return}a.type!==xn&&hl(!1),!a.props.index||!a.props.children||hl(!1);let c={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=nC(a.props.children,s)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aC(){return aC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},aC.apply(this,arguments)}function AM(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function fM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pM(r,e){return r.button===0&&(!e||e==="_self")&&!fM(r)}function iC(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function mM(r,e){let n=iC(r);return e&&e.forEach((a,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const gM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vM="6";try{window.__reactRouterVersion=vM}catch{}const xM="startTransition",bS=fD[xM];function yM(r){let{basename:e,children:n,future:a,window:i}=r,s=P.useRef();s.current==null&&(s.current=bD({window:i,v5Compat:!0}));let c=s.current,[l,u]=P.useState({action:c.action,location:c.location}),{v7_startTransition:o}=a||{},d=P.useCallback(h=>{o&&bS?bS(()=>u(h)):u(h)},[u,o]);return P.useLayoutEffect(()=>c.listen(d),[c,d]),P.useEffect(()=>uM(a),[a]),P.createElement(dM,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:c,future:a})}const bM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=P.forwardRef(function(e,n){let{onClick:a,relative:i,reloadDocument:s,replace:c,state:l,target:u,to:o,preventScrollReset:d,viewTransition:h}=e,A=AM(e,gM),{basename:f}=P.useContext(lf),g,m=!1;if(typeof o=="string"&&wM.test(o)&&(g=o,bM))try{let w=new URL(window.location.href),N=o.startsWith("//")?new URL(w.protocol+o):new URL(o),S=L4(N.pathname,f);N.origin===w.origin&&S!=null?o=S+N.search+N.hash:m=!0}catch{}let x=qD(o,{relative:i}),y=jM(o,{replace:c,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:h});function b(w){a&&a(w),w.defaultPrevented||y(w)}return P.createElement("a",aC({},A,{href:g||x,onClick:m||s?a:b,ref:n,target:u}))});var wS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(wS||(wS={}));var jS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function jM(r,e){let{target:n,replace:a,state:i,preventScrollReset:s,relative:c,viewTransition:l}=e===void 0?{}:e,u=ti(),o=Pn(),d=G_(r,{relative:c});return P.useCallback(h=>{if(pM(h,n)){h.preventDefault();let A=a!==void 0?a:cv(o)===cv(d);u(r,{replace:A,state:i,preventScrollReset:s,relative:c,viewTransition:l})}},[o,u,d,a,i,n,r,s,c,l])}function W4(r){let e=P.useRef(iC(r)),n=P.useRef(!1),a=Pn(),i=P.useMemo(()=>mM(a.search,n.current?null:e.current),[a.search]),s=ti(),c=P.useCallback((l,u)=>{const o=iC(typeof l=="function"?l(i):l);n.current=!0,s("?"+o,u)},[s,i]);return[i,c]}const CM=()=>{var r;return typeof window<"u"&&((r=window.location)!=null&&r.hostname)?`http://${window.location.hostname}:3000/api/v1`:"http://localhost:3000/api/v1"},of=CM(),NM=r=>new Promise(e=>setTimeout(e,r));async function $4(r,e={}){const n=`${of}${r}`;let a;try{a=await fetch(n,{...e,headers:{"Content-Type":"application/json",...e.headers}})}catch{const c=`Failed to reach backend at ${n}. If you are using a mobile device/emulator, set VITE_API_BASE_URL to http://<YOUR_PC_IP>:3000/api/v1 and ensure backend CORS allows your frontend origin.`;throw new Error(c)}if(!a.ok){const s=await a.json().catch(()=>({})),c=s.message||s.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const Z_=async r=>{await $4("/auth/send-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r})})},SM=async(r,e)=>{var n;try{const a=await $4("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:r.trim(),password:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await Z_(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},BM=async(r,e)=>{var n;try{const a=await $4("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r,otp:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin";return{id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`}}catch(a){throw console.error("OTP login error:",a),new Error("Invalid or expired OTP")}},EM=async(r,e)=>{if(await NM(500),!e)throw new Error("Unauthorized");if(r.password.length<8)throw new Error("Password must be at least 8 characters");return{id:`u-${Date.now()}`,name:r.name,email:r.email.toLowerCase(),roles:[r.role],token:`issued-${Date.now()}`}},IM=async r=>{try{const e=async i=>{const s=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!s.ok)throw new Error("Failed to fetch permissions");return s.json()};try{const i=await e(`${of}/permissions/me`);return(i==null?void 0:i.data)||[]}catch{}const n=await fetch(`${of}/auth/permissions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Failed to fetch permissions");return(await n.json()).data.permissions||[]}catch(e){return console.error("Error fetching permissions:",e),[]}},J_=async r=>{try{const e=await fetch(`${of}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!e.ok)throw new Error("Failed to fetch menu config");return(await e.json()).data}catch(e){return console.error("Error fetching menu config:",e),null}},V4=(r,e)=>{if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},qA=(r,e,n)=>{if(!r)return!1;const a=r[e];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const i=a.submenus[n];return i?i.visible:!1}return a.visible},eO=P.createContext(void 0),Np="mw-auth-user",Sp="mw-auth-permissions",TM=({children:r})=>{const[e,n]=P.useState(null),[a,i]=P.useState(!0),[s,c]=P.useState([]);P.useEffect(()=>{(()=>{try{const x=localStorage.getItem(Np);if(x){const y=JSON.parse(x);if(y&&y.id&&y.token&&y.token.trim()!=="")if(y.token.split(".").length===3){n(y);try{const w=localStorage.getItem(Sp);w&&c(JSON.parse(w)||[])}catch{c([])}}else console.warn("Invalid token format in storage"),localStorage.removeItem(Np),localStorage.removeItem(Sp),n(null),c([]);else console.warn("Invalid user data in storage"),localStorage.removeItem(Np),n(null),localStorage.removeItem(Sp),c([])}else n(null),c([])}catch(x){console.error("Error loading user from storage:",x),localStorage.removeItem(Np),n(null),localStorage.removeItem(Sp),c([])}finally{i(!1)}})()},[]);const l=P.useCallback(m=>{if(n(m),m)try{localStorage.setItem(Np,JSON.stringify(m))}catch(x){console.error("Error saving user to storage:",x)}else{try{localStorage.removeItem(Np)}catch(x){console.error("Error removing user from storage:",x)}try{localStorage.removeItem(Sp)}catch{}c([])}},[]);P.useEffect(()=>{(async()=>{if(!(e!=null&&e.token)){c([]);return}try{const x=await IM(e.token);c(x||[]);try{localStorage.setItem(Sp,JSON.stringify(x||[]))}catch{}}catch{}})()},[e==null?void 0:e.token]);const u=P.useCallback(async(m,x)=>{i(!0);try{const y=await SM(m,x);if(y.requiresOTP)return l(null),{requiresOTP:!0,email:y.email};if(y.user)return l(y.user),{requiresOTP:!1};throw new Error("Login failed")}finally{i(!1)}},[l]),o=P.useCallback(async m=>{i(!0);try{await Z_(m)}finally{i(!1)}},[]),d=P.useCallback(async(m,x)=>{i(!0);try{const y=await BM(m,x);l(y)}finally{i(!1)}},[l]),h=P.useCallback(()=>{l(null)},[l]),A=P.useCallback(async m=>{if(!e)throw new Error("Unauthorized");i(!0);try{return await EM(m,e.token)}finally{i(!1)}},[e]),f=P.useCallback(m=>{const x=Array.isArray(m)?m:[m];return!!(e!=null&&e.roles.some(y=>x.includes(y)))},[e]),g=P.useMemo(()=>({user:e,loading:a,permissions:s,login:u,sendOTP:o,verifyOTP:d,logout:h,createUser:A,hasRole:f}),[e,a,s,u,o,d,h,A,f]);return t.jsx(eO.Provider,{value:g,children:r})},tO=()=>{const r=P.useContext(eO);if(!r)throw new Error("useAuthContext must be used within AuthProvider");return r},xa=()=>tO(),CS=({children:r})=>{const{user:e,logout:n}=xa(),{pathname:a}=Pn();return t.jsxs("div",{className:"app-shell",children:[t.jsxs("header",{className:"app-shell__header",children:[t.jsxs(rn,{to:"/",className:"brand",children:["MediWaste",t.jsx("span",{className:"brand__tag",children:"Control"})]}),t.jsx("nav",{className:"app-shell__nav",children:e?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"nav__user",children:[e.name,t.jsx("small",{children:e.roles.join(", ")})]}),t.jsx(rn,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),t.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(rn,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),t.jsx(rn,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),t.jsx("main",{className:"app-shell__body",children:r})]})},Sn=({roles:r,children:e})=>{const{user:n,loading:a}=xa(),i=Pn();if(a)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return t.jsx(rC,{to:"/login",replace:!0,state:{from:i}});const s=Array.isArray(n.roles)?n.roles:[];return r&&r.length>0&&!s.some(c=>r.includes(c))?t.jsx(rC,{to:"/login",replace:!0}):t.jsx(t.Fragment,{children:e})},_M=P.createContext(void 0),OM=({children:r,user:e})=>{var d,h;const[n,a]=P.useState({enabled:!1,previewRole:null,originalRole:((d=e==null?void 0:e.roles)==null?void 0:d[0])||"viewer"}),i=P.useCallback(A=>{a(A)},[]),s=P.useCallback((A,f)=>{a({enabled:!0,previewRole:A,originalRole:f})},[]),c=P.useCallback(()=>{a(A=>({enabled:!1,previewRole:null,originalRole:A.originalRole}))},[]),l=n.enabled,u=n.enabled&&n.previewRole?n.previewRole:((h=e==null?void 0:e.roles)==null?void 0:h[0])||"viewer",o={previewMode:n,setPreviewMode:i,startPreview:s,exitPreview:c,isPreviewMode:l,currentRole:u,user:e};return t.jsx(_M.Provider,{value:o,children:r})},kM=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=xa(),i=ti(),s=Pn(),[c,l]=P.useState(""),[u,o]=P.useState(""),[d,h]=P.useState(!1),[A,f]=P.useState(!1),[g,m]=P.useState(null),[x,y]=P.useState(!1),[b,w]=P.useState(""),[N,S]=P.useState(["","","","","",""]),[j,_]=P.useState(0);if(P.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),P.useEffect(()=>{var Y,L;if(a&&!n){const $=(L=(Y=s.state)==null?void 0:Y.from)==null?void 0:L.pathname;i($||"/dashboard",{replace:!0})}},[a,n,i,s]),P.useEffect(()=>{if(j>0){const Y=setTimeout(()=>_(j-1),1e3);return()=>clearTimeout(Y)}},[j]),n)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const k=Y=>{if(!Y||Y.trim().length===0)return!1;const L=/^[a-zA-Z0-9_-]+$/,$=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return L.test(Y.trim())||$.test(Y.trim())},Z=async Y=>{var L,$;if(Y.preventDefault(),m(null),!k(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const je=await r(c.trim(),u);if(je.requiresOTP&&je.email)w(je.email),y(!0),_(60);else{const ge=($=(L=s.state)==null?void 0:L.from)==null?void 0:$.pathname;i(ge||"/dashboard",{replace:!0})}}catch(je){m(je.message||"Invalid credentials. Please check your username and password.")}},ee=(Y,L)=>{if(L.length>1)return;const $=[...N];if($[Y]=L,S($),L&&Y<5){const je=document.getElementById(`otp-input-${Y+1}`);je==null||je.focus()}},V=(Y,L)=>{if(L.key==="Backspace"&&!N[Y]&&Y>0){const $=document.getElementById(`otp-input-${Y-1}`);$==null||$.focus()}},re=async Y=>{var $,je,ge;Y.preventDefault(),m(null);const L=N.join("");if(L.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,L);const Ie=(je=($=s.state)==null?void 0:$.from)==null?void 0:je.pathname;i(Ie||"/dashboard",{replace:!0})}catch(Ie){m(Ie.message||"Invalid OTP"),S(["","","","","",""]),(ge=document.getElementById("otp-input-0"))==null||ge.focus()}},R=async()=>{if(!(j>0)){m(null);try{await r(c,u),_(60),S(["","","","","",""])}catch(Y){m(Y.message||"Failed to resend OTP")}}};return t.jsx("div",{className:"login-page-template",children:t.jsxs("div",{className:"login-template-wrapper",children:[t.jsxs("div",{className:"login-left-panel",children:[t.jsxs("div",{className:"left-panel-header",children:[t.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("div",{className:"left-panel-image-container",children:t.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:Y=>{const L=Y.target;L.style.display="none";const $=L.parentElement;if($&&!$.querySelector(".image-placeholder")){const je=document.createElement("div");je.className="image-placeholder",je.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;"> Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,$.appendChild(je)}}})})]}),t.jsx("div",{className:"login-right-panel",children:t.jsxs("div",{className:"login-form-wrapper",children:[t.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form otp-form-inline",onSubmit:re,children:[t.jsx("div",{className:"otp-instruction",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row",children:N.map((Y,L)=>t.jsx("input",{id:`otp-input-${L}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:Y,onChange:$=>ee(L,$.target.value),onKeyDown:$=>V(L,$),autoFocus:L===0,disabled:n},L))}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||N.some(Y=>!Y),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-inline",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",j>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",j,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link",onClick:R,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:Z,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:Y=>{l(Y.target.value),m(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{id:"password",type:A?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:u,onChange:Y=>{o(Y.target.value),m(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),t.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>f(!A),disabled:x,children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:A?t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),t.jsxs("div",{className:"form-options-row",children:[t.jsxs("label",{className:"remember-me-label",children:[t.jsx("input",{type:"checkbox",checked:d,onChange:Y=>h(Y.target.checked),disabled:x}),t.jsx("span",{children:"Remember Me"})]}),t.jsx(rn,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},PM=()=>{const{sendOTP:r,verifyOTP:e,loading:n}=xa(),a=ti(),i=Pn(),[s,c]=P.useState(["","","","","",""]),[l,u]=P.useState(null),[o,d]=P.useState(0),[h,A]=P.useState("");P.useEffect(()=>{var b;const y=(b=i.state)==null?void 0:b.email;y?(A(y),d(60)):a("/login",{replace:!0})},[i,a]),P.useEffect(()=>{if(o>0){const y=setTimeout(()=>d(o-1),1e3);return()=>clearTimeout(y)}},[o]);const f=(y,b)=>{if(b.length>1)return;const w=[...s];if(w[y]=b,c(w),b&&y<5){const N=document.getElementById(`otp-${y+1}`);N==null||N.focus()}},g=(y,b)=>{if(b.key==="Backspace"&&!s[y]&&y>0){const w=document.getElementById(`otp-${y-1}`);w==null||w.focus()}},m=async()=>{if(!(o>0)){u(null);try{await r(h),d(60),c(["","","","","",""])}catch(y){u(y.message||"Failed to resend OTP")}}},x=async y=>{var w,N,S;y.preventDefault(),u(null);const b=s.join("");if(b.length!==6){u("Please enter a valid 6-digit OTP");return}try{await e(h,b);const j=(N=(w=i.state)==null?void 0:w.from)==null?void 0:N.pathname;a(j||"/dashboard",{replace:!0})}catch(j){u(j.message||"Invalid OTP"),c(["","","","","",""]),(S=document.getElementById("otp-0"))==null||S.focus()}};return t.jsx("div",{className:"otp-verification-page",children:t.jsxs("div",{className:"otp-verification-container",children:[t.jsxs("div",{className:"otp-header",children:[t.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),t.jsx("p",{className:"otp-subtitle",children:h.toLowerCase()==="superadmin@medi-waste.io"||h.toLowerCase()==="superadmin"?t.jsx(t.Fragment,{children:"Use your configured SuperAdmin OTP."}):t.jsx(t.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),t.jsxs("form",{className:"otp-form",onSubmit:x,children:[t.jsx("div",{className:"otp-inputs-container",children:s.map((y,b)=>t.jsx("input",{id:`otp-${b}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:w=>f(b,w.target.value),onKeyDown:w=>g(b,w),autoFocus:b===0,disabled:n},b))}),l&&t.jsx("div",{className:"otp-error",children:l}),t.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||s.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",o>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",o,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-button",onClick:m,children:"Resend OTP"})]})})]})]})})},FM="http://localhost:3000/api/v1",DM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Bp=async(r,e={})=>{const n=DM(),a=`${FM}${r}`,i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw s instanceof TypeError&&s.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:s.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:s instanceof Error?s.message:String(s)}),s}},Vf={getDashboardConfig:async r=>{try{const n=(await Bp(`/dashboard/config/${r}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const i=Array.isArray(n.menuItems)?n.menuItems:[],s=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return{role:n.role||r,widgets:a,menuItems:i,permissions:s}}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),NS(r)}},getUserOverrides:async r=>{try{return(await Bp(`/dashboard/user-overrides/${r}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch user overrides:",e),null}},computePermissions:(r,e)=>{const n={...r.permissions},a=[...r.menuItems],i=[...r.widgets];e&&(Object.entries(e.permissions).forEach(([u,o])=>{n[u]=o}),e.menuOverrides&&a.forEach(u=>{e.menuOverrides[u.id]!==void 0&&(u.visible=e.menuOverrides[u.id])}),e.widgetOverrides&&i.forEach(u=>{if(e.widgetOverrides[u.id]!==void 0){const o=i.indexOf(u);!e.widgetOverrides[u.id]&&o!==-1&&i.splice(o,1)}}));const s=u=>u.filter(o=>!(!o.visible||o.permission&&!n[o.permission])).map(o=>{if(o.children&&o.children.length>0){const d=s(o.children);return{...o,children:d.length>0?d:void 0}}return o}),c=s(a),l=i.filter(u=>{var o;return!((o=u.permissions)!=null&&o.view&&!n[u.permissions.view])});return{permissions:n,menuItems:c,widgets:l}},getAvailableRoles:async()=>{try{return(await Bp("/dashboard/roles")).data}catch(r){return console.error("[dashboardService] Failed to fetch roles:",r),[]}},getCatalog:async()=>{try{return(await Bp("/dashboard/catalog")).data}catch(r){return console.error("[dashboardService] Failed to fetch catalog:",r),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async r=>{try{const e=JSON.stringify(r);return(await Bp("/dashboard/config",{method:"POST",body:e})).data}catch(e){throw console.error("[dashboardService] Failed to save dashboard config:",e),console.error("[dashboardService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack,config:r}),e}},getDashboardConfigByTarget:async r=>{try{return(await Bp(`/dashboard/config?target=${encodeURIComponent(r)}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),NS(r)}}};function NS(r){return r==="superadmin"?{role:r,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:r,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const Yg="http://localhost:3000/api/v1",MM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},v2=async(r,e={})=>{const n=MM();let a;r.startsWith("http")?a=r:r.startsWith("/api/v1")?a=`${Yg.endsWith("/api/v1")?Yg.replace("/api/v1",""):Yg.split("/api/v1")[0]||"http://localhost:3000"}${r}`:a=`${Yg}${r}`;const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw console.error("[widgetDataService] Request failed:",s),s}},RM=async r=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",r);const e=await v2(r);console.log("[widgetDataService] Raw API response:",e);let n;e&&typeof e=="object"?e.success!==void 0&&e.data?n=e.data:e.value!==void 0||e.label!==void 0?n=e:e.data&&(e.data.value!==void 0||e.data.label!==void 0)?n=e.data:n=e:(console.warn("[widgetDataService] Unexpected response format:",e),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,i=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,s={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:i};return console.log("[widgetDataService] Final mapped KPI result:",s),s}catch(e){return console.error("[widgetDataService] Failed to fetch KPI data:",e),console.error("[widgetDataService] Endpoint:",r),console.error("[widgetDataService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack}),{value:0,unit:"",label:""}}},LM=async r=>{try{const n=(await v2(r)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,i)=>({label:a,value:n.data[i]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(e){throw console.error("[widgetDataService] Failed to fetch chart data:",e),e}},UM=async r=>{try{const n=(await v2(r)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const i={};return n.columns.forEach(s=>{i[s]=a[s]||""}),i})}:{columns:[],data:[]}}catch(e){throw console.error("[widgetDataService] Failed to fetch table data:",e),e}},HM=async r=>{try{const n=(await v2(r)).data;return Array.isArray(n)?r.includes("task")||r.includes("approval")?{tasks:n,items:n}:r.includes("alert")?{alerts:n}:r.includes("activity")||r.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(e){throw console.error("[widgetDataService] Failed to fetch task data:",e),e}},QM=async r=>{var e;if(!((e=r.dataSource)!=null&&e.endpoint))return null;try{switch(r.type){case"metric":return await RM(r.dataSource.endpoint);case"chart":return await LM(r.dataSource.endpoint);case"table":return await UM(r.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await HM(r.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${r.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${r.type}:`,n),n}},WM=({title:r,value:e,unit:n,label:a,trend:i,loading:s=!1})=>s?t.jsx("div",{className:"widget-panel widget-panel--metric",children:t.jsxs("div",{className:"widget-panel__skeleton",children:[t.jsx("div",{className:"skeleton-line skeleton-line--title"}),t.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):t.jsxs("div",{className:"widget-panel widget-panel--metric",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsxs("div",{className:"widget-panel__body",children:[t.jsxs("div",{className:"metric-value",children:[typeof e=="number"?e.toLocaleString():e,n&&t.jsx("span",{className:"metric-unit",children:n})]}),a&&t.jsx("div",{className:"metric-label",children:a}),i&&t.jsxs("div",{className:`metric-trend metric-trend--${i.isPositive?"positive":"negative"}`,children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.isPositive?t.jsx("polyline",{points:"18 15 12 9 6 15"}):t.jsx("polyline",{points:"6 9 12 15 18 9"})}),t.jsxs("span",{children:[Math.abs(i.value),"%"]}),i.period&&t.jsx("span",{className:"metric-trend-period",children:i.period})]})]})]});function rO(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(n=rO(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function gi(){for(var r,e,n=0,a="",i=arguments.length;n<i;n++)(r=arguments[n])&&(e=rO(r))&&(a&&(a+=" "),a+=e);return a}var px,SS;function Mu(){if(SS)return px;SS=1;var r=Array.isArray;return px=r,px}var mx,BS;function nO(){if(BS)return mx;BS=1;var r=typeof iA=="object"&&iA&&iA.Object===Object&&iA;return mx=r,mx}var gx,ES;function Ph(){if(ES)return gx;ES=1;var r=nO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return gx=n,gx}var vx,IS;function Og(){if(IS)return vx;IS=1;var r=Ph(),e=r.Symbol;return vx=e,vx}var xx,TS;function $M(){if(TS)return xx;TS=1;var r=Og(),e=Object.prototype,n=e.hasOwnProperty,a=e.toString,i=r?r.toStringTag:void 0;function s(c){var l=n.call(c,i),u=c[i];try{c[i]=void 0;var o=!0}catch{}var d=a.call(c);return o&&(l?c[i]=u:delete c[i]),d}return xx=s,xx}var yx,_S;function VM(){if(_S)return yx;_S=1;var r=Object.prototype,e=r.toString;function n(a){return e.call(a)}return yx=n,yx}var bx,OS;function mA(){if(OS)return bx;OS=1;var r=Og(),e=$M(),n=VM(),a="[object Null]",i="[object Undefined]",s=r?r.toStringTag:void 0;function c(l){return l==null?l===void 0?i:a:s&&s in Object(l)?e(l):n(l)}return bx=c,bx}var wx,kS;function gA(){if(kS)return wx;kS=1;function r(e){return e!=null&&typeof e=="object"}return wx=r,wx}var jx,PS;function Bm(){if(PS)return jx;PS=1;var r=mA(),e=gA(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return jx=a,jx}var Cx,FS;function z4(){if(FS)return Cx;FS=1;var r=Mu(),e=Bm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,c){if(r(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:a.test(s)||!n.test(s)||c!=null&&s in Object(c)}return Cx=i,Cx}var Nx,DS;function uf(){if(DS)return Nx;DS=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Nx=r,Nx}var Sx,MS;function K4(){if(MS)return Sx;MS=1;var r=mA(),e=uf(),n="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function c(l){if(!e(l))return!1;var u=r(l);return u==a||u==i||u==n||u==s}return Sx=c,Sx}var Bx,RS;function zM(){if(RS)return Bx;RS=1;var r=Ph(),e=r["__core-js_shared__"];return Bx=e,Bx}var Ex,LS;function KM(){if(LS)return Ex;LS=1;var r=zM(),e=(function(){var a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!e&&e in a}return Ex=n,Ex}var Ix,US;function aO(){if(US)return Ix;US=1;var r=Function.prototype,e=r.toString;function n(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Ix=n,Ix}var Tx,HS;function GM(){if(HS)return Tx;HS=1;var r=K4(),e=KM(),n=uf(),a=aO(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,o=l.hasOwnProperty,d=RegExp("^"+u.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(A){if(!n(A)||e(A))return!1;var f=r(A)?d:s;return f.test(a(A))}return Tx=h,Tx}var _x,QS;function qM(){if(QS)return _x;QS=1;function r(e,n){return e==null?void 0:e[n]}return _x=r,_x}var Ox,WS;function op(){if(WS)return Ox;WS=1;var r=GM(),e=qM();function n(a,i){var s=e(a,i);return r(s)?s:void 0}return Ox=n,Ox}var kx,$S;function x2(){if($S)return kx;$S=1;var r=op(),e=r(Object,"create");return kx=e,kx}var Px,VS;function XM(){if(VS)return Px;VS=1;var r=x2();function e(){this.__data__=r?r(null):{},this.size=0}return Px=e,Px}var Fx,zS;function YM(){if(zS)return Fx;zS=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Fx=r,Fx}var Dx,KS;function ZM(){if(KS)return Dx;KS=1;var r=x2(),e="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function i(s){var c=this.__data__;if(r){var l=c[s];return l===e?void 0:l}return a.call(c,s)?c[s]:void 0}return Dx=i,Dx}var Mx,GS;function JM(){if(GS)return Mx;GS=1;var r=x2(),e=Object.prototype,n=e.hasOwnProperty;function a(i){var s=this.__data__;return r?s[i]!==void 0:n.call(s,i)}return Mx=a,Mx}var Rx,qS;function eR(){if(qS)return Rx;qS=1;var r=x2(),e="__lodash_hash_undefined__";function n(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=r&&i===void 0?e:i,this}return Rx=n,Rx}var Lx,XS;function tR(){if(XS)return Lx;XS=1;var r=XM(),e=YM(),n=ZM(),a=JM(),i=eR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Lx=s,Lx}var Ux,YS;function rR(){if(YS)return Ux;YS=1;function r(){this.__data__=[],this.size=0}return Ux=r,Ux}var Hx,ZS;function G4(){if(ZS)return Hx;ZS=1;function r(e,n){return e===n||e!==e&&n!==n}return Hx=r,Hx}var Qx,JS;function y2(){if(JS)return Qx;JS=1;var r=G4();function e(n,a){for(var i=n.length;i--;)if(r(n[i][0],a))return i;return-1}return Qx=e,Qx}var Wx,eB;function nR(){if(eB)return Wx;eB=1;var r=y2(),e=Array.prototype,n=e.splice;function a(i){var s=this.__data__,c=r(s,i);if(c<0)return!1;var l=s.length-1;return c==l?s.pop():n.call(s,c,1),--this.size,!0}return Wx=a,Wx}var $x,tB;function aR(){if(tB)return $x;tB=1;var r=y2();function e(n){var a=this.__data__,i=r(a,n);return i<0?void 0:a[i][1]}return $x=e,$x}var Vx,rB;function iR(){if(rB)return Vx;rB=1;var r=y2();function e(n){return r(this.__data__,n)>-1}return Vx=e,Vx}var zx,nB;function sR(){if(nB)return zx;nB=1;var r=y2();function e(n,a){var i=this.__data__,s=r(i,n);return s<0?(++this.size,i.push([n,a])):i[s][1]=a,this}return zx=e,zx}var Kx,aB;function b2(){if(aB)return Kx;aB=1;var r=rR(),e=nR(),n=aR(),a=iR(),i=sR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Kx=s,Kx}var Gx,iB;function q4(){if(iB)return Gx;iB=1;var r=op(),e=Ph(),n=r(e,"Map");return Gx=n,Gx}var qx,sB;function oR(){if(sB)return qx;sB=1;var r=tR(),e=b2(),n=q4();function a(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return qx=a,qx}var Xx,oB;function lR(){if(oB)return Xx;oB=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Xx=r,Xx}var Yx,lB;function w2(){if(lB)return Yx;lB=1;var r=lR();function e(n,a){var i=n.__data__;return r(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Yx=e,Yx}var Zx,cB;function cR(){if(cB)return Zx;cB=1;var r=w2();function e(n){var a=r(this,n).delete(n);return this.size-=a?1:0,a}return Zx=e,Zx}var Jx,uB;function uR(){if(uB)return Jx;uB=1;var r=w2();function e(n){return r(this,n).get(n)}return Jx=e,Jx}var ey,dB;function dR(){if(dB)return ey;dB=1;var r=w2();function e(n){return r(this,n).has(n)}return ey=e,ey}var ty,hB;function hR(){if(hB)return ty;hB=1;var r=w2();function e(n,a){var i=r(this,n),s=i.size;return i.set(n,a),this.size+=i.size==s?0:1,this}return ty=e,ty}var ry,AB;function X4(){if(AB)return ry;AB=1;var r=oR(),e=cR(),n=uR(),a=dR(),i=hR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,ry=s,ry}var ny,fB;function iO(){if(fB)return ny;fB=1;var r=X4(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var c=arguments,l=i?i.apply(this,c):c[0],u=s.cache;if(u.has(l))return u.get(l);var o=a.apply(this,c);return s.cache=u.set(l,o)||u,o};return s.cache=new(n.Cache||r),s}return n.Cache=r,ny=n,ny}var ay,pB;function AR(){if(pB)return ay;pB=1;var r=iO(),e=500;function n(a){var i=r(a,function(c){return s.size===e&&s.clear(),c}),s=i.cache;return i}return ay=n,ay}var iy,mB;function fR(){if(mB)return iy;mB=1;var r=AR(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(c,l,u,o){s.push(u?o.replace(n,"$1"):l||c)}),s});return iy=a,iy}var sy,gB;function Y4(){if(gB)return sy;gB=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=Array(i);++a<i;)s[a]=n(e[a],a,e);return s}return sy=r,sy}var oy,vB;function pR(){if(vB)return oy;vB=1;var r=Og(),e=Y4(),n=Mu(),a=Bm(),i=r?r.prototype:void 0,s=i?i.toString:void 0;function c(l){if(typeof l=="string")return l;if(n(l))return e(l,c)+"";if(a(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return oy=c,oy}var ly,xB;function sO(){if(xB)return ly;xB=1;var r=pR();function e(n){return n==null?"":r(n)}return ly=e,ly}var cy,yB;function oO(){if(yB)return cy;yB=1;var r=Mu(),e=z4(),n=fR(),a=sO();function i(s,c){return r(s)?s:e(s,c)?[s]:n(a(s))}return cy=i,cy}var uy,bB;function j2(){if(bB)return uy;bB=1;var r=Bm();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return uy=e,uy}var dy,wB;function Z4(){if(wB)return dy;wB=1;var r=oO(),e=j2();function n(a,i){i=r(i,a);for(var s=0,c=i.length;a!=null&&s<c;)a=a[e(i[s++])];return s&&s==c?a:void 0}return dy=n,dy}var hy,jB;function lO(){if(jB)return hy;jB=1;var r=Z4();function e(n,a,i){var s=n==null?void 0:r(n,a);return s===void 0?i:s}return hy=e,hy}var mR=lO();const od=Zi(mR);var Ay,CB;function gR(){if(CB)return Ay;CB=1;function r(e){return e==null}return Ay=r,Ay}var vR=gR();const li=Zi(vR);var fy,NB;function xR(){if(NB)return fy;NB=1;var r=mA(),e=Mu(),n=gA(),a="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&r(s)==a}return fy=i,fy}var yR=xR();const kg=Zi(yR);var bR=K4();const qa=Zi(bR);var wR=uf();const Em=Zi(wR);var py={exports:{}},js={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SB;function jR(){if(SB)return js;SB=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case r:switch(x=x.type,x){case n:case i:case a:case o:case d:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case u:case A:case h:case s:return x;default:return y}}case e:return y}}}return js.ContextConsumer=c,js.ContextProvider=s,js.Element=r,js.ForwardRef=u,js.Fragment=n,js.Lazy=A,js.Memo=h,js.Portal=e,js.Profiler=i,js.StrictMode=a,js.Suspense=o,js.SuspenseList=d,js.isAsyncMode=function(){return!1},js.isConcurrentMode=function(){return!1},js.isContextConsumer=function(x){return m(x)===c},js.isContextProvider=function(x){return m(x)===s},js.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===r},js.isForwardRef=function(x){return m(x)===u},js.isFragment=function(x){return m(x)===n},js.isLazy=function(x){return m(x)===A},js.isMemo=function(x){return m(x)===h},js.isPortal=function(x){return m(x)===e},js.isProfiler=function(x){return m(x)===i},js.isStrictMode=function(x){return m(x)===a},js.isSuspense=function(x){return m(x)===o},js.isSuspenseList=function(x){return m(x)===d},js.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===a||x===o||x===d||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===A||x.$$typeof===h||x.$$typeof===s||x.$$typeof===c||x.$$typeof===u||x.$$typeof===g||x.getModuleId!==void 0)},js.typeOf=m,js}var BB;function CR(){return BB||(BB=1,py.exports=jR()),py.exports}var NR=CR(),my,EB;function cO(){if(EB)return my;EB=1;var r=mA(),e=gA(),n="[object Number]";function a(i){return typeof i=="number"||e(i)&&r(i)==n}return my=a,my}var gy,IB;function SR(){if(IB)return gy;IB=1;var r=cO();function e(n){return r(n)&&n!=+n}return gy=e,gy}var BR=SR();const Pg=Zi(BR);var ER=cO();const IR=Zi(ER);var vu=function(e){return e===0?0:e>0?1:-1},zf=function(e){return kg(e)&&e.indexOf("%")===e.length-1},mn=function(e){return IR(e)&&!Pg(e)},Gl=function(e){return mn(e)||kg(e)},TR=0,Im=function(e){var n=++TR;return"".concat(e||"").concat(n)},xu=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mn(e)&&!kg(e))return a;var s;if(zf(e)){var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Pg(s)&&(s=a),i&&s>n&&(s=n),s},XA=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},_R=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,a={},i=0;i<n;i++)if(!a[e[i]])a[e[i]]=!0;else return!0;return!1},id=function(e,n){return mn(e)&&mn(n)?function(a){return e+a*(n-e)}:function(){return n}};function uv(r,e,n){return!r||!r.length?null:r.find(function(a){return a&&(typeof e=="function"?e(a):od(a,e))===n})}function qp(r,e){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(e,n)||r[n]!==e[n]))return!1;for(var a in e)if({}.hasOwnProperty.call(e,a)&&!{}.hasOwnProperty.call(r,a))return!1;return!0}function sC(r){"@babel/helpers - typeof";return sC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sC(r)}var OR=["viewBox","children"],kR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TB=["points","pathLength"],vy={svg:OR,polygon:TB,polyline:TB},J4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(P.isValidElement(e)&&(a=e.props),!Em(a))return null;var i={};return Object.keys(a).forEach(function(s){J4.includes(s)&&(i[s]=n||function(c){return a[s](a,c)})}),i},PR=function(e,n,a){return function(i){return e(n,a,i),null}},rp=function(e,n,a){if(!Em(e)||sC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var c=e[s];J4.includes(s)&&typeof c=="function"&&(i||(i={}),i[s]=PR(c,n,a))}),i},FR=["children"],DR=["children"];function _B(r,e){if(r==null)return{};var n=MR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function MR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function oC(r){"@babel/helpers - typeof";return oC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oC(r)}var OB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uA=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},kB=null,xy=null,eN=function r(e){if(e===kB&&Array.isArray(xy))return xy;var n=[];return P.Children.forEach(e,function(a){li(a)||(NR.isFragment(a)?n=n.concat(r(a.props.children)):n.push(a))}),xy=n,kB=e,n};function ld(r,e){var n=[],a=[];return Array.isArray(e)?a=e.map(function(i){return uA(i)}):a=[uA(e)],eN(r).forEach(function(i){var s=od(i,"type.displayName")||od(i,"type.name");a.indexOf(s)!==-1&&n.push(i)}),n}function nd(r,e){var n=ld(r,e);return n&&n[0]}var PB=function(e){if(!e||!e.props)return!1;var n=e.props,a=n.width,i=n.height;return!(!mn(a)||a<=0||!mn(i)||i<=0)},RR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],LR=function(e){return e&&e.type&&kg(e.type)&&RR.indexOf(e.type)>=0},UR=function(e){return e&&oC(e)==="object"&&"clipDot"in e},HR=function(e,n,a,i){var s,c=(s=vy==null?void 0:vy[i])!==null&&s!==void 0?s:[];return!qa(e)&&(i&&c.includes(n)||kR.includes(n))||a&&J4.includes(n)},_a=function(e,n,a){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!Em(i))return null;var s={};return Object.keys(i).forEach(function(c){var l;HR((l=i)===null||l===void 0?void 0:l[c],c,n,a)&&(s[c]=i[c])}),s},lC=function r(e,n){if(e===n)return!0;var a=P.Children.count(e);if(a!==P.Children.count(n))return!1;if(a===0)return!0;if(a===1)return FB(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var s=e[i],c=n[i];if(Array.isArray(s)||Array.isArray(c)){if(!r(s,c))return!1}else if(!FB(s,c))return!1}return!0},FB=function(e,n){if(li(e)&&li(n))return!0;if(!li(e)&&!li(n)){var a=e.props||{},i=a.children,s=_B(a,FR),c=n.props||{},l=c.children,u=_B(c,DR);return i&&l?qp(s,u)&&lC(i,l):!i&&!l?qp(s,u):!1}return!1},DB=function(e,n){var a=[],i={};return eN(e).forEach(function(s,c){if(LR(s))a.push(s);else if(s){var l=uA(s.type),u=n[l]||{},o=u.handler,d=u.once;if(o&&(!d||!i[l])){var h=o(s,l,c);a.push(h),i[l]=!0}}}),a},QR=function(e){var n=e&&e.type;return n&&OB[n]?OB[n]:null},WR=function(e,n){return eN(n).indexOf(e)},$R=["children","width","height","viewBox","className","style","title","desc"];function cC(){return cC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},cC.apply(this,arguments)}function VR(r,e){if(r==null)return{};var n=zR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function zR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function uC(r){var e=r.children,n=r.width,a=r.height,i=r.viewBox,s=r.className,c=r.style,l=r.title,u=r.desc,o=VR(r,$R),d=i||{width:n,height:a,x:0,y:0},h=gi("recharts-surface",s);return St.createElement("svg",cC({},_a(o,!0,"svg"),{className:h,width:n,height:a,style:c,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),St.createElement("title",null,l),St.createElement("desc",null,u),e)}var KR=["children","className"];function dC(){return dC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},dC.apply(this,arguments)}function GR(r,e){if(r==null)return{};var n=qR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function qR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var is=St.forwardRef(function(r,e){var n=r.children,a=r.className,i=GR(r,KR),s=gi("recharts-layer",a);return St.createElement("g",dC({className:s},_a(i,!0),{ref:e}),n)}),uh=function(e,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},yy,MB;function XR(){if(MB)return yy;MB=1;function r(e,n,a){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),a=a>s?s:a,a<0&&(a+=s),s=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(s);++i<s;)c[i]=e[i+n];return c}return yy=r,yy}var by,RB;function YR(){if(RB)return by;RB=1;var r=XR();function e(n,a,i){var s=n.length;return i=i===void 0?s:i,!a&&i>=s?n:r(n,a,i)}return by=e,by}var wy,LB;function uO(){if(LB)return wy;LB=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+r+i+s+"]");function u(o){return l.test(o)}return wy=u,wy}var jy,UB;function ZR(){if(UB)return jy;UB=1;function r(e){return e.split("")}return jy=r,jy}var Cy,HB;function JR(){if(HB)return Cy;HB=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="["+r+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",o="(?:"+l+"|"+u+")",d="[^"+r+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",g=o+"?",m="["+s+"]?",x="(?:"+f+"(?:"+[d,h,A].join("|")+")"+m+g+")*",y=m+g+x,b="(?:"+[d+l+"?",l,h,A,c].join("|")+")",w=RegExp(u+"(?="+u+")|"+b+y,"g");function N(S){return S.match(w)||[]}return Cy=N,Cy}var Ny,QB;function eL(){if(QB)return Ny;QB=1;var r=ZR(),e=uO(),n=JR();function a(i){return e(i)?n(i):r(i)}return Ny=a,Ny}var Sy,WB;function tL(){if(WB)return Sy;WB=1;var r=YR(),e=uO(),n=eL(),a=sO();function i(s){return function(c){c=a(c);var l=e(c)?n(c):void 0,u=l?l[0]:c.charAt(0),o=l?r(l,1).join(""):c.slice(1);return u[s]()+o}}return Sy=i,Sy}var By,$B;function rL(){if($B)return By;$B=1;var r=tL(),e=r("toUpperCase");return By=e,By}var nL=rL();const C2=Zi(nL);function ro(r){return function(){return r}}const dO=Math.cos,hv=Math.sin,dh=Math.sqrt,Av=Math.PI,N2=2*Av,hC=Math.PI,AC=2*hC,Hf=1e-6,aL=AC-Hf;function hO(r){this._+=r[0];for(let e=1,n=r.length;e<n;++e)this._+=arguments[e]+r[e]}function iL(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return hO;const n=10**e;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}class sL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hO:iL(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,a,i){this._append`Q${+e},${+n},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(e,n,a,i,s,c){this._append`C${+e},${+n},${+a},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,a,i,s){if(e=+e,n=+n,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,l=this._y1,u=a-e,o=i-n,d=c-e,h=l-n,A=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(A>Hf)if(!(Math.abs(h*u-o*d)>Hf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=a-c,g=i-l,m=u*u+o*o,x=f*f+g*g,y=Math.sqrt(m),b=Math.sqrt(A),w=s*Math.tan((hC-Math.acos((m+A-x)/(2*y*b)))/2),N=w/b,S=w/y;Math.abs(N-1)>Hf&&this._append`L${e+N*d},${n+N*h}`,this._append`A${s},${s},0,0,${+(h*f>d*g)},${this._x1=e+S*u},${this._y1=n+S*o}`}}arc(e,n,a,i,s,c){if(e=+e,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(i),u=a*Math.sin(i),o=e+l,d=n+u,h=1^c,A=c?i-s:s-i;this._x1===null?this._append`M${o},${d}`:(Math.abs(this._x1-o)>Hf||Math.abs(this._y1-d)>Hf)&&this._append`L${o},${d}`,a&&(A<0&&(A=A%AC+AC),A>aL?this._append`A${a},${a},0,1,${h},${e-l},${n-u}A${a},${a},0,1,${h},${this._x1=o},${this._y1=d}`:A>Hf&&this._append`A${a},${a},0,${+(A>=hC)},${h},${this._x1=e+a*Math.cos(s)},${this._y1=n+a*Math.sin(s)}`)}rect(e,n,a,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function tN(r){let e=3;return r.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);e=a}return r},()=>new sL(e)}function rN(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function AO(r){this._context=r}AO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function S2(r){return new AO(r)}function fO(r){return r[0]}function pO(r){return r[1]}function mO(r,e){var n=ro(!0),a=null,i=S2,s=null,c=tN(l);r=typeof r=="function"?r:r===void 0?fO:ro(r),e=typeof e=="function"?e:e===void 0?pO:ro(e);function l(u){var o,d=(u=rN(u)).length,h,A=!1,f;for(a==null&&(s=i(f=c())),o=0;o<=d;++o)!(o<d&&n(h=u[o],o,u))===A&&((A=!A)?s.lineStart():s.lineEnd()),A&&s.point(+r(h,o,u),+e(h,o,u));if(f)return s=null,f+""||null}return l.x=function(u){return arguments.length?(r=typeof u=="function"?u:ro(+u),l):r},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:ro(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ro(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),l):i},l.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),l):a},l}function Zg(r,e,n){var a=null,i=ro(!0),s=null,c=S2,l=null,u=tN(o);r=typeof r=="function"?r:r===void 0?fO:ro(+r),e=typeof e=="function"?e:ro(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pO:ro(+n);function o(h){var A,f,g,m=(h=rN(h)).length,x,y=!1,b,w=new Array(m),N=new Array(m);for(s==null&&(l=c(b=u())),A=0;A<=m;++A){if(!(A<m&&i(x=h[A],A,h))===y)if(y=!y)f=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=A-1;g>=f;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}y&&(w[A]=+r(x,A,h),N[A]=+e(x,A,h),l.point(a?+a(x,A,h):w[A],n?+n(x,A,h):N[A]))}if(b)return l=null,b+""||null}function d(){return mO().defined(i).curve(c).context(s)}return o.x=function(h){return arguments.length?(r=typeof h=="function"?h:ro(+h),a=null,o):r},o.x0=function(h){return arguments.length?(r=typeof h=="function"?h:ro(+h),o):r},o.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:ro(+h),o):a},o.y=function(h){return arguments.length?(e=typeof h=="function"?h:ro(+h),n=null,o):e},o.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ro(+h),o):e},o.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ro(+h),o):n},o.lineX0=o.lineY0=function(){return d().x(r).y(e)},o.lineY1=function(){return d().x(r).y(n)},o.lineX1=function(){return d().x(a).y(e)},o.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ro(!!h),o):i},o.curve=function(h){return arguments.length?(c=h,s!=null&&(l=c(s)),o):c},o.context=function(h){return arguments.length?(h==null?s=l=null:l=c(s=h),o):s},o}class gO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oL(r){return new gO(r,!0)}function lL(r){return new gO(r,!1)}const nN={draw(r,e){const n=dh(e/Av);r.moveTo(n,0),r.arc(0,0,n,0,N2)}},cL={draw(r,e){const n=dh(e/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},vO=dh(1/3),uL=vO*2,dL={draw(r,e){const n=dh(e/uL),a=n*vO;r.moveTo(0,-n),r.lineTo(a,0),r.lineTo(0,n),r.lineTo(-a,0),r.closePath()}},hL={draw(r,e){const n=dh(e),a=-n/2;r.rect(a,a,n,n)}},AL=.8908130915292852,xO=hv(Av/10)/hv(7*Av/10),fL=hv(N2/10)*xO,pL=-dO(N2/10)*xO,mL={draw(r,e){const n=dh(e*AL),a=fL*n,i=pL*n;r.moveTo(0,-n),r.lineTo(a,i);for(let s=1;s<5;++s){const c=N2*s/5,l=dO(c),u=hv(c);r.lineTo(u*n,-l*n),r.lineTo(l*a-u*i,u*a+l*i)}r.closePath()}},Ey=dh(3),gL={draw(r,e){const n=-dh(e/(Ey*3));r.moveTo(0,n*2),r.lineTo(-Ey*n,-n),r.lineTo(Ey*n,-n),r.closePath()}},kd=-.5,Pd=dh(3)/2,fC=1/dh(12),vL=(fC/2+1)*3,xL={draw(r,e){const n=dh(e/vL),a=n/2,i=n*fC,s=a,c=n*fC+n,l=-s,u=c;r.moveTo(a,i),r.lineTo(s,c),r.lineTo(l,u),r.lineTo(kd*a-Pd*i,Pd*a+kd*i),r.lineTo(kd*s-Pd*c,Pd*s+kd*c),r.lineTo(kd*l-Pd*u,Pd*l+kd*u),r.lineTo(kd*a+Pd*i,kd*i-Pd*a),r.lineTo(kd*s+Pd*c,kd*c-Pd*s),r.lineTo(kd*l+Pd*u,kd*u-Pd*l),r.closePath()}};function yL(r,e){let n=null,a=tN(i);r=typeof r=="function"?r:ro(r||nN),e=typeof e=="function"?e:ro(e===void 0?64:+e);function i(){let s;if(n||(n=s=a()),r.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(r=typeof s=="function"?s:ro(s),i):r},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ro(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function fv(){}function pv(r,e,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+n)/6)}function yO(r){this._context=r}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function bL(r){return new yO(r)}function bO(r){this._context=r}bO.prototype={areaStart:fv,areaEnd:fv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:pv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function wL(r){return new bO(r)}function wO(r){this._context=r}wO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:pv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function jL(r){return new wO(r)}function jO(r){this._context=r}jO.prototype={areaStart:fv,areaEnd:fv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function CL(r){return new jO(r)}function VB(r){return r<0?-1:1}function zB(r,e,n){var a=r._x1-r._x0,i=e-r._x1,s=(r._y1-r._y0)/(a||i<0&&-0),c=(n-r._y1)/(i||a<0&&-0),l=(s*i+c*a)/(a+i);return(VB(s)+VB(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(l))||0}function KB(r,e){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-e)/2:e}function Iy(r,e,n){var a=r._x0,i=r._y0,s=r._x1,c=r._y1,l=(s-a)/3;r._context.bezierCurveTo(a+l,i+l*e,s-l,c-l*n,s,c)}function mv(r){this._context=r}mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iy(this,this._t0,KB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var n=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,Iy(this,KB(this,n=zB(this,r,e)),n);break;default:Iy(this,this._t0,n=zB(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=n}}};function CO(r){this._context=new NO(r)}(CO.prototype=Object.create(mv.prototype)).point=function(r,e){mv.prototype.point.call(this,e,r)};function NO(r){this._context=r}NO.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,n,a,i,s){this._context.bezierCurveTo(e,r,a,n,s,i)}};function NL(r){return new mv(r)}function SL(r){return new CO(r)}function SO(r){this._context=r}SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),n===2)this._context.lineTo(r[1],e[1]);else for(var a=GB(r),i=GB(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],r[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function GB(r){var e,n=r.length-1,a,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=r[0]+2*r[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*r[e]+2*r[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*r[n-1]+r[n],e=1;e<n;++e)a=i[e]/s[e-1],s[e]-=a,c[e]-=a*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(r[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*r[e+1]-i[e+1];return[i,s]}function BL(r){return new SO(r)}function B2(r,e){this._context=r,this._t=e}B2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=r,this._y=e}};function EL(r){return new B2(r,.5)}function IL(r){return new B2(r,0)}function TL(r){return new B2(r,1)}function Zp(r,e){if((c=r.length)>1)for(var n=1,a,i,s=r[e[0]],c,l=s.length;n<c;++n)for(i=s,s=r[e[n]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function pC(r){for(var e=r.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _L(r,e){return r[e]}function OL(r){const e=[];return e.key=r,e}function kL(){var r=ro([]),e=pC,n=Zp,a=_L;function i(s){var c=Array.from(r.apply(this,arguments),OL),l,u=c.length,o=-1,d;for(const h of s)for(l=0,++o;l<u;++l)(c[l][o]=[0,+a(h,c[l].key,o,s)]).data=h;for(l=0,d=rN(e(c));l<u;++l)c[d[l]].index=l;return n(c,d),c}return i.keys=function(s){return arguments.length?(r=typeof s=="function"?s:ro(Array.from(s)),i):r},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:ro(+s),i):a},i.order=function(s){return arguments.length?(e=s==null?pC:typeof s=="function"?s:ro(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Zp,i):n},i}function PL(r,e){if((a=r.length)>0){for(var n,a,i=0,s=r[0].length,c;i<s;++i){for(c=n=0;n<a;++n)c+=r[n][i][1]||0;if(c)for(n=0;n<a;++n)r[n][i][1]/=c}Zp(r,e)}}function FL(r,e){if((i=r.length)>0){for(var n=0,a=r[e[0]],i,s=a.length;n<s;++n){for(var c=0,l=0;c<i;++c)l+=r[c][n][1]||0;a[n][1]+=a[n][0]=-l/2}Zp(r,e)}}function DL(r,e){if(!(!((c=r.length)>0)||!((s=(i=r[e[0]]).length)>0))){for(var n=0,a=1,i,s,c;a<s;++a){for(var l=0,u=0,o=0;l<c;++l){for(var d=r[e[l]],h=d[a][1]||0,A=d[a-1][1]||0,f=(h-A)/2,g=0;g<l;++g){var m=r[e[g]],x=m[a][1]||0,y=m[a-1][1]||0;f+=x-y}u+=h,o+=f*h}i[a-1][1]+=i[a-1][0]=n,u&&(n-=o/u)}i[a-1][1]+=i[a-1][0]=n,Zp(r,e)}}function Y0(r){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(r)}var ML=["type","size","sizeType"];function mC(){return mC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},mC.apply(this,arguments)}function qB(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function XB(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(a){RL(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function RL(r,e,n){return e=LL(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function LL(r){var e=UL(r,"string");return Y0(e)=="symbol"?e:e+""}function UL(r,e){if(Y0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Y0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function HL(r,e){if(r==null)return{};var n=QL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function QL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var BO={symbolCircle:nN,symbolCross:cL,symbolDiamond:dL,symbolSquare:hL,symbolStar:mL,symbolTriangle:gL,symbolWye:xL},WL=Math.PI/180,$L=function(e){var n="symbol".concat(C2(e));return BO[n]||nN},VL=function(e,n,a){if(n==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*WL;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zL=function(e,n){BO["symbol".concat(C2(e))]=n},aN=function(e){var n=e.type,a=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,c=e.sizeType,l=c===void 0?"area":c,u=HL(e,ML),o=XB(XB({},u),{},{type:a,size:s,sizeType:l}),d=function(){var x=$L(a),y=yL().type(x).size(VL(s,l,a));return y()},h=o.className,A=o.cx,f=o.cy,g=_a(o,!0);return A===+A&&f===+f&&s===+s?St.createElement("path",mC({},g,{className:gi("recharts-symbols",h),transform:"translate(".concat(A,", ").concat(f,")"),d:d()})):null};aN.registerSymbol=zL;function Jp(r){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(r)}function gC(){return gC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gC.apply(this,arguments)}function YB(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function KL(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(a){Z0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function GL(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qL(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,IO(a.key),a)}}function XL(r,e,n){return e&&qL(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function YL(r,e,n){return e=gv(e),ZL(r,EO()?Reflect.construct(e,n||[],gv(r).constructor):e.apply(r,n))}function ZL(r,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JL(r)}function JL(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!r})()}function gv(r){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(r)}function e7(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&vC(r,e)}function vC(r,e){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},vC(r,e)}function Z0(r,e,n){return e=IO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function IO(r){var e=t7(r,"string");return Jp(e)=="symbol"?e:e+""}function t7(r,e){if(Jp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Jp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Fd=32,iN=(function(r){function e(){return GL(this,e),YL(this,e,arguments)}return e7(e,r),XL(e,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=Fd/2,c=Fd/6,l=Fd/3,u=a.inactive?i:a.color;if(a.type==="plainline")return St.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Fd,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return St.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Fd,"M").concat(2*l,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return St.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Fd/8,"h").concat(Fd,"v").concat(Fd*3/4,"h").concat(-Fd,"z"),className:"recharts-legend-icon"});if(St.isValidElement(a.legendIcon)){var o=KL({},a);return delete o.legendIcon,St.cloneElement(a.legendIcon,o)}return St.createElement(aN,{fill:u,cx:s,cy:s,size:Fd,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,c=i.iconSize,l=i.layout,u=i.formatter,o=i.inactiveColor,d={x:0,y:0,width:Fd,height:Fd},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var m=f.formatter||u,x=gi(Z0(Z0({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=qa(f.value)?null:f.value;uh(!qa(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?o:f.color;return St.createElement("li",gC({className:x,style:h,key:"legend-item-".concat(g)},rp(a.props,f,g)),St.createElement(uC,{width:c,height:c,viewBox:d,style:A},a.renderIcon(f)),St.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,f,g):y))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,c=a.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return St.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(P.PureComponent);Z0(iN,"displayName","Legend");Z0(iN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ty,ZB;function r7(){if(ZB)return Ty;ZB=1;var r=b2();function e(){this.__data__=new r,this.size=0}return Ty=e,Ty}var _y,JB;function n7(){if(JB)return _y;JB=1;function r(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}return _y=r,_y}var Oy,eE;function a7(){if(eE)return Oy;eE=1;function r(e){return this.__data__.get(e)}return Oy=r,Oy}var ky,tE;function i7(){if(tE)return ky;tE=1;function r(e){return this.__data__.has(e)}return ky=r,ky}var Py,rE;function s7(){if(rE)return Py;rE=1;var r=b2(),e=q4(),n=X4(),a=200;function i(s,c){var l=this.__data__;if(l instanceof r){var u=l.__data__;if(!e||u.length<a-1)return u.push([s,c]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(s,c),this.size=l.size,this}return Py=i,Py}var Fy,nE;function TO(){if(nE)return Fy;nE=1;var r=b2(),e=r7(),n=n7(),a=a7(),i=i7(),s=s7();function c(l){var u=this.__data__=new r(l);this.size=u.size}return c.prototype.clear=e,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,Fy=c,Fy}var Dy,aE;function o7(){if(aE)return Dy;aE=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return Dy=e,Dy}var My,iE;function l7(){if(iE)return My;iE=1;function r(e){return this.__data__.has(e)}return My=r,My}var Ry,sE;function _O(){if(sE)return Ry;sE=1;var r=X4(),e=o7(),n=l7();function a(i){var s=-1,c=i==null?0:i.length;for(this.__data__=new r;++s<c;)this.add(i[s])}return a.prototype.add=a.prototype.push=e,a.prototype.has=n,Ry=a,Ry}var Ly,oE;function OO(){if(oE)return Ly;oE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(e[a],a,e))return!0;return!1}return Ly=r,Ly}var Uy,lE;function kO(){if(lE)return Uy;lE=1;function r(e,n){return e.has(n)}return Uy=r,Uy}var Hy,cE;function PO(){if(cE)return Hy;cE=1;var r=_O(),e=OO(),n=kO(),a=1,i=2;function s(c,l,u,o,d,h){var A=u&a,f=c.length,g=l.length;if(f!=g&&!(A&&g>f))return!1;var m=h.get(c),x=h.get(l);if(m&&x)return m==l&&x==c;var y=-1,b=!0,w=u&i?new r:void 0;for(h.set(c,l),h.set(l,c);++y<f;){var N=c[y],S=l[y];if(o)var j=A?o(S,N,y,l,c,h):o(N,S,y,c,l,h);if(j!==void 0){if(j)continue;b=!1;break}if(w){if(!e(l,function(_,k){if(!n(w,k)&&(N===_||d(N,_,u,o,h)))return w.push(k)})){b=!1;break}}else if(!(N===S||d(N,S,u,o,h))){b=!1;break}}return h.delete(c),h.delete(l),b}return Hy=s,Hy}var Qy,uE;function c7(){if(uE)return Qy;uE=1;var r=Ph(),e=r.Uint8Array;return Qy=e,Qy}var Wy,dE;function u7(){if(dE)return Wy;dE=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i,s){a[++n]=[s,i]}),a}return Wy=r,Wy}var $y,hE;function sN(){if(hE)return $y;hE=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i){a[++n]=i}),a}return $y=r,$y}var Vy,AE;function d7(){if(AE)return Vy;AE=1;var r=Og(),e=c7(),n=G4(),a=PO(),i=u7(),s=sN(),c=1,l=2,u="[object Boolean]",o="[object Date]",d="[object Error]",h="[object Map]",A="[object Number]",f="[object RegExp]",g="[object Set]",m="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,N=w?w.valueOf:void 0;function S(j,_,k,Z,ee,V,re){switch(k){case b:if(j.byteLength!=_.byteLength||j.byteOffset!=_.byteOffset)return!1;j=j.buffer,_=_.buffer;case y:return!(j.byteLength!=_.byteLength||!V(new e(j),new e(_)));case u:case o:case A:return n(+j,+_);case d:return j.name==_.name&&j.message==_.message;case f:case m:return j==_+"";case h:var R=i;case g:var Y=Z&c;if(R||(R=s),j.size!=_.size&&!Y)return!1;var L=re.get(j);if(L)return L==_;Z|=l,re.set(j,_);var $=a(R(j),R(_),Z,ee,V,re);return re.delete(j),$;case x:if(N)return N.call(j)==N.call(_)}return!1}return Vy=S,Vy}var zy,fE;function FO(){if(fE)return zy;fE=1;function r(e,n){for(var a=-1,i=n.length,s=e.length;++a<i;)e[s+a]=n[a];return e}return zy=r,zy}var Ky,pE;function h7(){if(pE)return Ky;pE=1;var r=FO(),e=Mu();function n(a,i,s){var c=i(a);return e(a)?c:r(c,s(a))}return Ky=n,Ky}var Gy,mE;function A7(){if(mE)return Gy;mE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=0,c=[];++a<i;){var l=e[a];n(l,a,e)&&(c[s++]=l)}return c}return Gy=r,Gy}var qy,gE;function f7(){if(gE)return qy;gE=1;function r(){return[]}return qy=r,qy}var Xy,vE;function p7(){if(vE)return Xy;vE=1;var r=A7(),e=f7(),n=Object.prototype,a=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(c){return c==null?[]:(c=Object(c),r(i(c),function(l){return a.call(c,l)}))}:e;return Xy=s,Xy}var Yy,xE;function m7(){if(xE)return Yy;xE=1;function r(e,n){for(var a=-1,i=Array(e);++a<e;)i[a]=n(a);return i}return Yy=r,Yy}var Zy,yE;function g7(){if(yE)return Zy;yE=1;var r=mA(),e=gA(),n="[object Arguments]";function a(i){return e(i)&&r(i)==n}return Zy=a,Zy}var Jy,bE;function oN(){if(bE)return Jy;bE=1;var r=g7(),e=gA(),n=Object.prototype,a=n.hasOwnProperty,i=n.propertyIsEnumerable,s=r((function(){return arguments})())?r:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return Jy=s,Jy}var B0={exports:{}},eb,wE;function v7(){if(wE)return eb;wE=1;function r(){return!1}return eb=r,eb}B0.exports;var jE;function DO(){return jE||(jE=1,(function(r,e){var n=Ph(),a=v7(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,c=s&&s.exports===i,l=c?n.Buffer:void 0,u=l?l.isBuffer:void 0,o=u||a;r.exports=o})(B0,B0.exports)),B0.exports}var tb,CE;function lN(){if(CE)return tb;CE=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(a,i){var s=typeof a;return i=i??r,!!i&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return tb=n,tb}var rb,NE;function cN(){if(NE)return rb;NE=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return rb=e,rb}var nb,SE;function x7(){if(SE)return nb;SE=1;var r=mA(),e=cN(),n=gA(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",o="[object Map]",d="[object Number]",h="[object Object]",A="[object RegExp]",f="[object Set]",g="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",Z="[object Uint16Array]",ee="[object Uint32Array]",V={};V[b]=V[w]=V[N]=V[S]=V[j]=V[_]=V[k]=V[Z]=V[ee]=!0,V[a]=V[i]=V[x]=V[s]=V[y]=V[c]=V[l]=V[u]=V[o]=V[d]=V[h]=V[A]=V[f]=V[g]=V[m]=!1;function re(R){return n(R)&&e(R.length)&&!!V[r(R)]}return nb=re,nb}var ab,BE;function MO(){if(BE)return ab;BE=1;function r(e){return function(n){return e(n)}}return ab=r,ab}var E0={exports:{}};E0.exports;var EE;function y7(){return EE||(EE=1,(function(r,e){var n=nO(),a=e&&!e.nodeType&&e,i=a&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===a,c=s&&n.process,l=(function(){try{var u=i&&i.require&&i.require("util").types;return u||c&&c.binding&&c.binding("util")}catch{}})();r.exports=l})(E0,E0.exports)),E0.exports}var ib,IE;function RO(){if(IE)return ib;IE=1;var r=x7(),e=MO(),n=y7(),a=n&&n.isTypedArray,i=a?e(a):r;return ib=i,ib}var sb,TE;function b7(){if(TE)return sb;TE=1;var r=m7(),e=oN(),n=Mu(),a=DO(),i=lN(),s=RO(),c=Object.prototype,l=c.hasOwnProperty;function u(o,d){var h=n(o),A=!h&&e(o),f=!h&&!A&&a(o),g=!h&&!A&&!f&&s(o),m=h||A||f||g,x=m?r(o.length,String):[],y=x.length;for(var b in o)(d||l.call(o,b))&&!(m&&(b=="length"||f&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&x.push(b);return x}return sb=u,sb}var ob,_E;function w7(){if(_E)return ob;_E=1;var r=Object.prototype;function e(n){var a=n&&n.constructor,i=typeof a=="function"&&a.prototype||r;return n===i}return ob=e,ob}var lb,OE;function LO(){if(OE)return lb;OE=1;function r(e,n){return function(a){return e(n(a))}}return lb=r,lb}var cb,kE;function j7(){if(kE)return cb;kE=1;var r=LO(),e=r(Object.keys,Object);return cb=e,cb}var ub,PE;function C7(){if(PE)return ub;PE=1;var r=w7(),e=j7(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!r(s))return e(s);var c=[];for(var l in Object(s))a.call(s,l)&&l!="constructor"&&c.push(l);return c}return ub=i,ub}var db,FE;function Fg(){if(FE)return db;FE=1;var r=K4(),e=cN();function n(a){return a!=null&&e(a.length)&&!r(a)}return db=n,db}var hb,DE;function E2(){if(DE)return hb;DE=1;var r=b7(),e=C7(),n=Fg();function a(i){return n(i)?r(i):e(i)}return hb=a,hb}var Ab,ME;function N7(){if(ME)return Ab;ME=1;var r=h7(),e=p7(),n=E2();function a(i){return r(i,n,e)}return Ab=a,Ab}var fb,RE;function S7(){if(RE)return fb;RE=1;var r=N7(),e=1,n=Object.prototype,a=n.hasOwnProperty;function i(s,c,l,u,o,d){var h=l&e,A=r(s),f=A.length,g=r(c),m=g.length;if(f!=m&&!h)return!1;for(var x=f;x--;){var y=A[x];if(!(h?y in c:a.call(c,y)))return!1}var b=d.get(s),w=d.get(c);if(b&&w)return b==c&&w==s;var N=!0;d.set(s,c),d.set(c,s);for(var S=h;++x<f;){y=A[x];var j=s[y],_=c[y];if(u)var k=h?u(_,j,y,c,s,d):u(j,_,y,s,c,d);if(!(k===void 0?j===_||o(j,_,l,u,d):k)){N=!1;break}S||(S=y=="constructor")}if(N&&!S){var Z=s.constructor,ee=c.constructor;Z!=ee&&"constructor"in s&&"constructor"in c&&!(typeof Z=="function"&&Z instanceof Z&&typeof ee=="function"&&ee instanceof ee)&&(N=!1)}return d.delete(s),d.delete(c),N}return fb=i,fb}var pb,LE;function B7(){if(LE)return pb;LE=1;var r=op(),e=Ph(),n=r(e,"DataView");return pb=n,pb}var mb,UE;function E7(){if(UE)return mb;UE=1;var r=op(),e=Ph(),n=r(e,"Promise");return mb=n,mb}var gb,HE;function UO(){if(HE)return gb;HE=1;var r=op(),e=Ph(),n=r(e,"Set");return gb=n,gb}var vb,QE;function I7(){if(QE)return vb;QE=1;var r=op(),e=Ph(),n=r(e,"WeakMap");return vb=n,vb}var xb,WE;function T7(){if(WE)return xb;WE=1;var r=B7(),e=q4(),n=E7(),a=UO(),i=I7(),s=mA(),c=aO(),l="[object Map]",u="[object Object]",o="[object Promise]",d="[object Set]",h="[object WeakMap]",A="[object DataView]",f=c(r),g=c(e),m=c(n),x=c(a),y=c(i),b=s;return(r&&b(new r(new ArrayBuffer(1)))!=A||e&&b(new e)!=l||n&&b(n.resolve())!=o||a&&b(new a)!=d||i&&b(new i)!=h)&&(b=function(w){var N=s(w),S=N==u?w.constructor:void 0,j=S?c(S):"";if(j)switch(j){case f:return A;case g:return l;case m:return o;case x:return d;case y:return h}return N}),xb=b,xb}var yb,$E;function _7(){if($E)return yb;$E=1;var r=TO(),e=PO(),n=d7(),a=S7(),i=T7(),s=Mu(),c=DO(),l=RO(),u=1,o="[object Arguments]",d="[object Array]",h="[object Object]",A=Object.prototype,f=A.hasOwnProperty;function g(m,x,y,b,w,N){var S=s(m),j=s(x),_=S?d:i(m),k=j?d:i(x);_=_==o?h:_,k=k==o?h:k;var Z=_==h,ee=k==h,V=_==k;if(V&&c(m)){if(!c(x))return!1;S=!0,Z=!1}if(V&&!Z)return N||(N=new r),S||l(m)?e(m,x,y,b,w,N):n(m,x,_,y,b,w,N);if(!(y&u)){var re=Z&&f.call(m,"__wrapped__"),R=ee&&f.call(x,"__wrapped__");if(re||R){var Y=re?m.value():m,L=R?x.value():x;return N||(N=new r),w(Y,L,y,b,N)}}return V?(N||(N=new r),a(m,x,y,b,w,N)):!1}return yb=g,yb}var bb,VE;function uN(){if(VE)return bb;VE=1;var r=_7(),e=gA();function n(a,i,s,c,l){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:r(a,i,s,c,n,l)}return bb=n,bb}var wb,zE;function O7(){if(zE)return wb;zE=1;var r=TO(),e=uN(),n=1,a=2;function i(s,c,l,u){var o=l.length,d=o,h=!u;if(s==null)return!d;for(s=Object(s);o--;){var A=l[o];if(h&&A[2]?A[1]!==s[A[0]]:!(A[0]in s))return!1}for(;++o<d;){A=l[o];var f=A[0],g=s[f],m=A[1];if(h&&A[2]){if(g===void 0&&!(f in s))return!1}else{var x=new r;if(u)var y=u(g,m,f,s,c,x);if(!(y===void 0?e(m,g,n|a,u,x):y))return!1}}return!0}return wb=i,wb}var jb,KE;function HO(){if(KE)return jb;KE=1;var r=uf();function e(n){return n===n&&!r(n)}return jb=e,jb}var Cb,GE;function k7(){if(GE)return Cb;GE=1;var r=HO(),e=E2();function n(a){for(var i=e(a),s=i.length;s--;){var c=i[s],l=a[c];i[s]=[c,l,r(l)]}return i}return Cb=n,Cb}var Nb,qE;function QO(){if(qE)return Nb;qE=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return Nb=r,Nb}var Sb,XE;function P7(){if(XE)return Sb;XE=1;var r=O7(),e=k7(),n=QO();function a(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(c){return c===i||r(c,i,s)}}return Sb=a,Sb}var Bb,YE;function F7(){if(YE)return Bb;YE=1;function r(e,n){return e!=null&&n in Object(e)}return Bb=r,Bb}var Eb,ZE;function D7(){if(ZE)return Eb;ZE=1;var r=oO(),e=oN(),n=Mu(),a=lN(),i=cN(),s=j2();function c(l,u,o){u=r(u,l);for(var d=-1,h=u.length,A=!1;++d<h;){var f=s(u[d]);if(!(A=l!=null&&o(l,f)))break;l=l[f]}return A||++d!=h?A:(h=l==null?0:l.length,!!h&&i(h)&&a(f,h)&&(n(l)||e(l)))}return Eb=c,Eb}var Ib,JE;function M7(){if(JE)return Ib;JE=1;var r=F7(),e=D7();function n(a,i){return a!=null&&e(a,i,r)}return Ib=n,Ib}var Tb,e5;function R7(){if(e5)return Tb;e5=1;var r=uN(),e=lO(),n=M7(),a=z4(),i=HO(),s=QO(),c=j2(),l=1,u=2;function o(d,h){return a(d)&&i(h)?s(c(d),h):function(A){var f=e(A,d);return f===void 0&&f===h?n(A,d):r(h,f,l|u)}}return Tb=o,Tb}var _b,t5;function Tm(){if(t5)return _b;t5=1;function r(e){return e}return _b=r,_b}var Ob,r5;function L7(){if(r5)return Ob;r5=1;function r(e){return function(n){return n==null?void 0:n[e]}}return Ob=r,Ob}var kb,n5;function U7(){if(n5)return kb;n5=1;var r=Z4();function e(n){return function(a){return r(a,n)}}return kb=e,kb}var Pb,a5;function H7(){if(a5)return Pb;a5=1;var r=L7(),e=U7(),n=z4(),a=j2();function i(s){return n(s)?r(a(s)):e(s)}return Pb=i,Pb}var Fb,i5;function Fh(){if(i5)return Fb;i5=1;var r=P7(),e=R7(),n=Tm(),a=Mu(),i=H7();function s(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?e(c[0],c[1]):r(c):i(c)}return Fb=s,Fb}var Db,s5;function WO(){if(s5)return Db;s5=1;function r(e,n,a,i){for(var s=e.length,c=a+(i?1:-1);i?c--:++c<s;)if(n(e[c],c,e))return c;return-1}return Db=r,Db}var Mb,o5;function Q7(){if(o5)return Mb;o5=1;function r(e){return e!==e}return Mb=r,Mb}var Rb,l5;function W7(){if(l5)return Rb;l5=1;function r(e,n,a){for(var i=a-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return Rb=r,Rb}var Lb,c5;function $7(){if(c5)return Lb;c5=1;var r=WO(),e=Q7(),n=W7();function a(i,s,c){return s===s?n(i,s,c):r(i,e,c)}return Lb=a,Lb}var Ub,u5;function V7(){if(u5)return Ub;u5=1;var r=$7();function e(n,a){var i=n==null?0:n.length;return!!i&&r(n,a,0)>-1}return Ub=e,Ub}var Hb,d5;function z7(){if(d5)return Hb;d5=1;function r(e,n,a){for(var i=-1,s=e==null?0:e.length;++i<s;)if(a(n,e[i]))return!0;return!1}return Hb=r,Hb}var Qb,h5;function K7(){if(h5)return Qb;h5=1;function r(){}return Qb=r,Qb}var Wb,A5;function G7(){if(A5)return Wb;A5=1;var r=UO(),e=K7(),n=sN(),a=1/0,i=r&&1/n(new r([,-0]))[1]==a?function(s){return new r(s)}:e;return Wb=i,Wb}var $b,f5;function q7(){if(f5)return $b;f5=1;var r=_O(),e=V7(),n=z7(),a=kO(),i=G7(),s=sN(),c=200;function l(u,o,d){var h=-1,A=e,f=u.length,g=!0,m=[],x=m;if(d)g=!1,A=n;else if(f>=c){var y=o?null:i(u);if(y)return s(y);g=!1,A=a,x=new r}else x=o?[]:m;e:for(;++h<f;){var b=u[h],w=o?o(b):b;if(b=d||b!==0?b:0,g&&w===w){for(var N=x.length;N--;)if(x[N]===w)continue e;o&&x.push(w),m.push(b)}else A(x,w,d)||(x!==m&&x.push(w),m.push(b))}return m}return $b=l,$b}var Vb,p5;function X7(){if(p5)return Vb;p5=1;var r=Fh(),e=q7();function n(a,i){return a&&a.length?e(a,r(i,2)):[]}return Vb=n,Vb}var Y7=X7();const m5=Zi(Y7);function $O(r,e,n){return e===!0?m5(r,n):qa(e)?m5(r,e):r}function em(r){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(r)}var Z7=["ref"];function g5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function rA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(a){I2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function J7(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function v5(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,zO(a.key),a)}}function eU(r,e,n){return e&&v5(r.prototype,e),n&&v5(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function tU(r,e,n){return e=vv(e),rU(r,VO()?Reflect.construct(e,n||[],vv(r).constructor):e.apply(r,n))}function rU(r,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nU(r)}function nU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!r})()}function vv(r){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(r)}function aU(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&xC(r,e)}function xC(r,e){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},xC(r,e)}function I2(r,e,n){return e=zO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function zO(r){var e=iU(r,"string");return em(e)=="symbol"?e:e+""}function iU(r,e){if(em(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(em(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function sU(r,e){if(r==null)return{};var n=oU(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function oU(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function lU(r){return r.value}function cU(r,e){if(St.isValidElement(r))return St.cloneElement(r,e);if(typeof r=="function")return St.createElement(r,e);e.ref;var n=sU(e,Z7);return St.createElement(iN,n)}var x5=1,Nh=(function(r){function e(){var n;J7(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=tU(this,e,[].concat(i)),I2(n,"lastBoundingBox",{width:-1,height:-1}),n}return aU(e,r),eU(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>x5||Math.abs(i.height-this.lastBoundingBox.height)>x5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,c=i.align,l=i.verticalAlign,u=i.margin,o=i.chartWidth,d=i.chartHeight,h,A;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();h={left:((o||0)-f.width)/2}}else h=c==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();A={top:((d||0)-g.height)/2}}else A=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return rA(rA({},h),A)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,c=i.width,l=i.height,u=i.wrapperStyle,o=i.payloadUniqBy,d=i.payload,h=rA(rA({position:"absolute",width:c||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return St.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){a.wrapperNode=f}},cU(s,rA(rA({},this.props),{},{payload:$O(d,o,lU)})))}}],[{key:"getWithHeight",value:function(a,i){var s=rA(rA({},this.defaultProps),a.props),c=s.layout;return c==="vertical"&&mn(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||i}:null}}])})(P.PureComponent);I2(Nh,"displayName","Legend");I2(Nh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zb,y5;function uU(){if(y5)return zb;y5=1;var r=Og(),e=oN(),n=Mu(),a=r?r.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(a&&s&&s[a])}return zb=i,zb}var Kb,b5;function KO(){if(b5)return Kb;b5=1;var r=FO(),e=uU();function n(a,i,s,c,l){var u=-1,o=a.length;for(s||(s=e),l||(l=[]);++u<o;){var d=a[u];i>0&&s(d)?i>1?n(d,i-1,s,c,l):r(l,d):c||(l[l.length]=d)}return l}return Kb=n,Kb}var Gb,w5;function dU(){if(w5)return Gb;w5=1;function r(e){return function(n,a,i){for(var s=-1,c=Object(n),l=i(n),u=l.length;u--;){var o=l[e?u:++s];if(a(c[o],o,c)===!1)break}return n}}return Gb=r,Gb}var qb,j5;function hU(){if(j5)return qb;j5=1;var r=dU(),e=r();return qb=e,qb}var Xb,C5;function GO(){if(C5)return Xb;C5=1;var r=hU(),e=E2();function n(a,i){return a&&r(a,i,e)}return Xb=n,Xb}var Yb,N5;function AU(){if(N5)return Yb;N5=1;var r=Fg();function e(n,a){return function(i,s){if(i==null)return i;if(!r(i))return n(i,s);for(var c=i.length,l=a?c:-1,u=Object(i);(a?l--:++l<c)&&s(u[l],l,u)!==!1;);return i}}return Yb=e,Yb}var Zb,S5;function dN(){if(S5)return Zb;S5=1;var r=GO(),e=AU(),n=e(r);return Zb=n,Zb}var Jb,B5;function qO(){if(B5)return Jb;B5=1;var r=dN(),e=Fg();function n(a,i){var s=-1,c=e(a)?Array(a.length):[];return r(a,function(l,u,o){c[++s]=i(l,u,o)}),c}return Jb=n,Jb}var ew,E5;function fU(){if(E5)return ew;E5=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return ew=r,ew}var tw,I5;function pU(){if(I5)return tw;I5=1;var r=Bm();function e(n,a){if(n!==a){var i=n!==void 0,s=n===null,c=n===n,l=r(n),u=a!==void 0,o=a===null,d=a===a,h=r(a);if(!o&&!h&&!l&&n>a||l&&u&&d&&!o&&!h||s&&u&&d||!i&&d||!c)return 1;if(!s&&!l&&!h&&n<a||h&&i&&c&&!s&&!l||o&&i&&c||!u&&c||!d)return-1}return 0}return tw=e,tw}var rw,T5;function mU(){if(T5)return rw;T5=1;var r=pU();function e(n,a,i){for(var s=-1,c=n.criteria,l=a.criteria,u=c.length,o=i.length;++s<u;){var d=r(c[s],l[s]);if(d){if(s>=o)return d;var h=i[s];return d*(h=="desc"?-1:1)}}return n.index-a.index}return rw=e,rw}var nw,_5;function gU(){if(_5)return nw;_5=1;var r=Y4(),e=Z4(),n=Fh(),a=qO(),i=fU(),s=MO(),c=mU(),l=Tm(),u=Mu();function o(d,h,A){h.length?h=r(h,function(m){return u(m)?function(x){return e(x,m.length===1?m[0]:m)}:m}):h=[l];var f=-1;h=r(h,s(n));var g=a(d,function(m,x,y){var b=r(h,function(w){return w(m)});return{criteria:b,index:++f,value:m}});return i(g,function(m,x){return c(m,x,A)})}return nw=o,nw}var aw,O5;function vU(){if(O5)return aw;O5=1;function r(e,n,a){switch(a.length){case 0:return e.call(n);case 1:return e.call(n,a[0]);case 2:return e.call(n,a[0],a[1]);case 3:return e.call(n,a[0],a[1],a[2])}return e.apply(n,a)}return aw=r,aw}var iw,k5;function xU(){if(k5)return iw;k5=1;var r=vU(),e=Math.max;function n(a,i,s){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,l=-1,u=e(c.length-i,0),o=Array(u);++l<u;)o[l]=c[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=c[l];return d[i]=s(o),r(a,this,d)}}return iw=n,iw}var sw,P5;function yU(){if(P5)return sw;P5=1;function r(e){return function(){return e}}return sw=r,sw}var ow,F5;function XO(){if(F5)return ow;F5=1;var r=op(),e=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return ow=e,ow}var lw,D5;function bU(){if(D5)return lw;D5=1;var r=yU(),e=XO(),n=Tm(),a=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;return lw=a,lw}var cw,M5;function wU(){if(M5)return cw;M5=1;var r=800,e=16,n=Date.now;function a(i){var s=0,c=0;return function(){var l=n(),u=e-(l-c);if(c=l,u>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return cw=a,cw}var uw,R5;function jU(){if(R5)return uw;R5=1;var r=bU(),e=wU(),n=e(r);return uw=n,uw}var dw,L5;function CU(){if(L5)return dw;L5=1;var r=Tm(),e=xU(),n=jU();function a(i,s){return n(e(i,s,r),i+"")}return dw=a,dw}var hw,U5;function T2(){if(U5)return hw;U5=1;var r=G4(),e=Fg(),n=lN(),a=uf();function i(s,c,l){if(!a(l))return!1;var u=typeof c;return(u=="number"?e(l)&&n(c,l.length):u=="string"&&c in l)?r(l[c],s):!1}return hw=i,hw}var Aw,H5;function NU(){if(H5)return Aw;H5=1;var r=KO(),e=gU(),n=CU(),a=T2(),i=n(function(s,c){if(s==null)return[];var l=c.length;return l>1&&a(s,c[0],c[1])?c=[]:l>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(s,r(c,1),[])});return Aw=i,Aw}var SU=NU();const hN=Zi(SU);function J0(r){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(r)}function yC(){return yC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},yC.apply(this,arguments)}function BU(r,e){return _U(r)||TU(r,e)||IU(r,e)||EU()}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IU(r,e){if(r){if(typeof r=="string")return Q5(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q5(r,e)}}function Q5(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function TU(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function _U(r){if(Array.isArray(r))return r}function W5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function fw(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(a){OU(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function OU(r,e,n){return e=kU(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function kU(r){var e=PU(r,"string");return J0(e)=="symbol"?e:e+""}function PU(r,e){if(J0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(J0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function FU(r){return Array.isArray(r)&&Gl(r[0])&&Gl(r[1])?r.join(" ~ "):r}var DU=function(e){var n=e.separator,a=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,c=e.itemStyle,l=c===void 0?{}:c,u=e.labelStyle,o=u===void 0?{}:u,d=e.payload,h=e.formatter,A=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,m=e.label,x=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var re={padding:0,margin:0},R=(A?hN(d,A):d).map(function(Y,L){if(Y.type==="none")return null;var $=fw({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},l),je=Y.formatter||h||FU,ge=Y.value,Ie=Y.name,_e=ge,fe=Ie;if(je&&_e!=null&&fe!=null){var le=je(ge,Ie,Y,L,d);if(Array.isArray(le)){var ve=BU(le,2);_e=ve[0],fe=ve[1]}else _e=le}return St.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:$},Gl(fe)?St.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,Gl(fe)?St.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,St.createElement("span",{className:"recharts-tooltip-item-value"},_e),St.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return St.createElement("ul",{className:"recharts-tooltip-item-list",style:re},R)}return null},N=fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=fw({margin:0},o),j=!li(m),_=j?m:"",k=gi("recharts-default-tooltip",f),Z=gi("recharts-tooltip-label",g);j&&x&&d!==void 0&&d!==null&&(_=x(m,d));var ee=b?{role:"status","aria-live":"assertive"}:{};return St.createElement("div",yC({className:k,style:N},ee),St.createElement("p",{className:Z,style:S},St.isValidElement(_)?_:"".concat(_)),w())};function eg(r){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(r)}function Jg(r,e,n){return e=MU(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function MU(r){var e=RU(r,"string");return eg(e)=="symbol"?e:e+""}function RU(r,e){if(eg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Qm="recharts-tooltip-wrapper",LU={visibility:"hidden"};function UU(r){var e=r.coordinate,n=r.translateX,a=r.translateY;return gi(Qm,Jg(Jg(Jg(Jg({},"".concat(Qm,"-right"),mn(n)&&e&&mn(e.x)&&n>=e.x),"".concat(Qm,"-left"),mn(n)&&e&&mn(e.x)&&n<e.x),"".concat(Qm,"-bottom"),mn(a)&&e&&mn(e.y)&&a>=e.y),"".concat(Qm,"-top"),mn(a)&&e&&mn(e.y)&&a<e.y))}function $5(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.key,i=r.offsetTopLeft,s=r.position,c=r.reverseDirection,l=r.tooltipDimension,u=r.viewBox,o=r.viewBoxDimension;if(s&&mn(s[a]))return s[a];var d=n[a]-l-i,h=n[a]+i;if(e[a])return c[a]?d:h;if(c[a]){var A=d,f=u[a];return A<f?Math.max(h,u[a]):Math.max(d,u[a])}var g=h+l,m=u[a]+o;return g>m?Math.max(d,u[a]):Math.max(h,u[a])}function HU(r){var e=r.translateX,n=r.translateY,a=r.useTranslate3d;return{transform:a?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function QU(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.offsetTopLeft,i=r.position,s=r.reverseDirection,c=r.tooltipBox,l=r.useTranslate3d,u=r.viewBox,o,d,h;return c.height>0&&c.width>0&&n?(d=$5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),h=$5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),o=HU({translateX:d,translateY:h,useTranslate3d:l})):o=LU,{cssProperties:o,cssClasses:UU({translateX:d,translateY:h,coordinate:n})}}function tm(r){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(r)}function V5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function z5(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(n),!0).forEach(function(a){wC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function WU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $U(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ZO(a.key),a)}}function VU(r,e,n){return e&&$U(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function zU(r,e,n){return e=xv(e),KU(r,YO()?Reflect.construct(e,n||[],xv(r).constructor):e.apply(r,n))}function KU(r,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GU(r)}function GU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function YO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YO=function(){return!!r})()}function xv(r){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(r)}function qU(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&bC(r,e)}function bC(r,e){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},bC(r,e)}function wC(r,e,n){return e=ZO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZO(r){var e=XU(r,"string");return tm(e)=="symbol"?e:e+""}function XU(r,e){if(tm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var K5=1,YU=(function(r){function e(){var n;WU(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=zU(this,e,[].concat(i)),wC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wC(n,"handleKeyDown",function(c){if(c.key==="Escape"){var l,u,o,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(o=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&o!==void 0?o:0}})}}),n}return qU(e,r),VU(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>K5||Math.abs(a.height-this.state.lastBoundingBox.height)>K5)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.children,d=i.coordinate,h=i.hasPayload,A=i.isAnimationActive,f=i.offset,g=i.position,m=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=QU({allowEscapeViewBox:c,coordinate:d,offsetTopLeft:f,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),N=w.cssClasses,S=w.cssProperties,j=z5(z5({transition:A&&s?"transform ".concat(l,"ms ").concat(u):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return St.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(k){a.wrapperNode=k}},o)}}])})(P.PureComponent),ZU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lp={isSsr:ZU()};function rm(r){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(r)}function G5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function q5(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(a){AN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function JU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e9(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ek(a.key),a)}}function t9(r,e,n){return e&&e9(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function r9(r,e,n){return e=yv(e),n9(r,JO()?Reflect.construct(e,n||[],yv(r).constructor):e.apply(r,n))}function n9(r,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a9(r)}function a9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!r})()}function yv(r){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(r)}function i9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&jC(r,e)}function jC(r,e){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},jC(r,e)}function AN(r,e,n){return e=ek(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ek(r){var e=s9(r,"string");return rm(e)=="symbol"?e:e+""}function s9(r,e){if(rm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function o9(r){return r.dataKey}function l9(r,e){return St.isValidElement(r)?St.cloneElement(r,e):typeof r=="function"?St.createElement(r,e):St.createElement(DU,e)}var ad=(function(r){function e(){return JU(this,e),r9(this,e,arguments)}return i9(e,r),t9(e,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.content,d=i.coordinate,h=i.filterNull,A=i.isAnimationActive,f=i.offset,g=i.payload,m=i.payloadUniqBy,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,S=g??[];h&&S.length&&(S=$O(g.filter(function(_){return _.value!=null&&(_.hide!==!0||a.props.includeHidden)}),m,o9));var j=S.length>0;return St.createElement(YU,{allowEscapeViewBox:c,animationDuration:l,animationEasing:u,isAnimationActive:A,active:s,coordinate:d,hasPayload:j,offset:f,position:x,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:N},l9(o,q5(q5({},this.props),{},{payload:S})))}}])})(P.PureComponent);AN(ad,"displayName","Tooltip");AN(ad,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pw,X5;function c9(){if(X5)return pw;X5=1;var r=Ph(),e=function(){return r.Date.now()};return pw=e,pw}var mw,Y5;function u9(){if(Y5)return mw;Y5=1;var r=/\s/;function e(n){for(var a=n.length;a--&&r.test(n.charAt(a)););return a}return mw=e,mw}var gw,Z5;function d9(){if(Z5)return gw;Z5=1;var r=u9(),e=/^\s+/;function n(a){return a&&a.slice(0,r(a)+1).replace(e,"")}return gw=n,gw}var vw,J5;function tk(){if(J5)return vw;J5=1;var r=d9(),e=uf(),n=Bm(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function u(o){if(typeof o=="number")return o;if(n(o))return a;if(e(o)){var d=typeof o.valueOf=="function"?o.valueOf():o;o=e(d)?d+"":d}if(typeof o!="string")return o===0?o:+o;o=r(o);var h=s.test(o);return h||c.test(o)?l(o.slice(2),h?2:8):i.test(o)?a:+o}return vw=u,vw}var xw,e3;function h9(){if(e3)return xw;e3=1;var r=uf(),e=c9(),n=tk(),a="Expected a function",i=Math.max,s=Math.min;function c(l,u,o){var d,h,A,f,g,m,x=0,y=!1,b=!1,w=!0;if(typeof l!="function")throw new TypeError(a);u=n(u)||0,r(o)&&(y=!!o.leading,b="maxWait"in o,A=b?i(n(o.maxWait)||0,u):A,w="trailing"in o?!!o.trailing:w);function N(R){var Y=d,L=h;return d=h=void 0,x=R,f=l.apply(L,Y),f}function S(R){return x=R,g=setTimeout(k,u),y?N(R):f}function j(R){var Y=R-m,L=R-x,$=u-Y;return b?s($,A-L):$}function _(R){var Y=R-m,L=R-x;return m===void 0||Y>=u||Y<0||b&&L>=A}function k(){var R=e();if(_(R))return Z(R);g=setTimeout(k,j(R))}function Z(R){return g=void 0,w&&d?N(R):(d=h=void 0,f)}function ee(){g!==void 0&&clearTimeout(g),x=0,d=m=h=g=void 0}function V(){return g===void 0?f:Z(e())}function re(){var R=e(),Y=_(R);if(d=arguments,h=this,m=R,Y){if(g===void 0)return S(m);if(b)return clearTimeout(g),g=setTimeout(k,u),N(m)}return g===void 0&&(g=setTimeout(k,u)),f}return re.cancel=ee,re.flush=V,re}return xw=c,xw}var yw,t3;function A9(){if(t3)return yw;t3=1;var r=h9(),e=uf(),n="Expected a function";function a(i,s,c){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(n);return e(c)&&(l="leading"in c?!!c.leading:l,u="trailing"in c?!!c.trailing:u),r(i,s,{leading:l,maxWait:s,trailing:u})}return yw=a,yw}var f9=A9();const rk=Zi(f9);function tg(r){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(r)}function r3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function e1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(a){p9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function p9(r,e,n){return e=m9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function m9(r){var e=g9(r,"string");return tg(e)=="symbol"?e:e+""}function g9(r,e){if(tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function v9(r,e){return w9(r)||b9(r,e)||y9(r,e)||x9()}function x9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9(r,e){if(r){if(typeof r=="string")return n3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n3(r,e)}}function n3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function b9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function w9(r){if(Array.isArray(r))return r}var j9=P.forwardRef(function(r,e){var n=r.aspect,a=r.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=r.width,c=s===void 0?"100%":s,l=r.height,u=l===void 0?"100%":l,o=r.minWidth,d=o===void 0?0:o,h=r.minHeight,A=r.maxHeight,f=r.children,g=r.debounce,m=g===void 0?0:g,x=r.id,y=r.className,b=r.onResize,w=r.style,N=w===void 0?{}:w,S=P.useRef(null),j=P.useRef();j.current=b,P.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=P.useState({containerWidth:i.width,containerHeight:i.height}),k=v9(_,2),Z=k[0],ee=k[1],V=P.useCallback(function(R,Y){ee(function(L){var $=Math.round(R),je=Math.round(Y);return L.containerWidth===$&&L.containerHeight===je?L:{containerWidth:$,containerHeight:je}})},[]);P.useEffect(function(){var R=function(Ie){var _e,fe=Ie[0].contentRect,le=fe.width,ve=fe.height;V(le,ve),(_e=j.current)===null||_e===void 0||_e.call(j,le,ve)};m>0&&(R=rk(R,m,{trailing:!0,leading:!1}));var Y=new ResizeObserver(R),L=S.current.getBoundingClientRect(),$=L.width,je=L.height;return V($,je),Y.observe(S.current),function(){Y.disconnect()}},[V,m]);var re=P.useMemo(function(){var R=Z.containerWidth,Y=Z.containerHeight;if(R<0||Y<0)return null;uh(zf(c)||zf(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,u),uh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=zf(c)?R:c,$=zf(u)?Y:u;n&&n>0&&(L?$=L/n:$&&(L=$*n),A&&$>A&&($=A)),uh(L>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,$,c,u,d,h,n);var je=!Array.isArray(f)&&uA(f.type).endsWith("Chart");return St.Children.map(f,function(ge){return St.isValidElement(ge)?P.cloneElement(ge,e1({width:L,height:$},je?{style:e1({height:"100%",width:"100%",maxHeight:$,maxWidth:L},ge.props.style)}:{})):ge})},[n,f,u,A,h,d,Z,c]);return St.createElement("div",{id:x?"".concat(x):void 0,className:gi("recharts-responsive-container",y),style:e1(e1({},N),{},{width:c,height:u,minWidth:d,minHeight:h,maxHeight:A}),ref:S},re)}),_2=function(e){return null};_2.displayName="Cell";function rg(r){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(r)}function a3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function CC(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(a){C9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function C9(r,e,n){return e=N9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function N9(r){var e=S9(r,"string");return rg(e)=="symbol"?e:e+""}function S9(r,e){if(rg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ep={widthCache:{},cacheCount:0},B9=2e3,E9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i3="recharts_measurement_span";function I9(r){var e=CC({},r);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var U0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lp.isSsr)return{width:0,height:0};var a=I9(n),i=JSON.stringify({text:e,copyStyle:a});if(Ep.widthCache[i])return Ep.widthCache[i];try{var s=document.getElementById(i3);s||(s=document.createElement("span"),s.setAttribute("id",i3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=CC(CC({},E9),a);Object.assign(s.style,c),s.textContent="".concat(e);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return Ep.widthCache[i]=u,++Ep.cacheCount>B9&&(Ep.cacheCount=0,Ep.widthCache={}),u}catch{return{width:0,height:0}}},T9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ng(r){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(r)}function bv(r,e){return P9(r)||k9(r,e)||O9(r,e)||_9()}function _9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(r,e){if(r){if(typeof r=="string")return s3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(r,e)}}function s3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function k9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function P9(r){if(Array.isArray(r))return r}function F9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function o3(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,M9(a.key),a)}}function D9(r,e,n){return e&&o3(r.prototype,e),n&&o3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function M9(r){var e=R9(r,"string");return ng(e)=="symbol"?e:e+""}function R9(r,e){if(ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var l3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,U9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},H9=Object.keys(nk),Lp="NaN";function Q9(r,e){return r*nk[e]}var t1=(function(){function r(e,n){F9(this,r),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!L9.test(n)&&(this.num=NaN,this.unit=""),H9.includes(n)&&(this.num=Q9(e,n),this.unit="px")}return D9(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,i=(a=U9.exec(n))!==null&&a!==void 0?a:[],s=bv(i,3),c=s[1],l=s[2];return new r(parseFloat(c),l??"")}}])})();function ak(r){if(r.includes(Lp))return Lp;for(var e=r;e.includes("*")||e.includes("/");){var n,a=(n=l3.exec(e))!==null&&n!==void 0?n:[],i=bv(a,4),s=i[1],c=i[2],l=i[3],u=t1.parse(s??""),o=t1.parse(l??""),d=c==="*"?u.multiply(o):u.divide(o);if(d.isNaN())return Lp;e=e.replace(l3,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,A=(h=c3.exec(e))!==null&&h!==void 0?h:[],f=bv(A,4),g=f[1],m=f[2],x=f[3],y=t1.parse(g??""),b=t1.parse(x??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Lp;e=e.replace(c3,w.toString())}return e}var u3=/\(([^()]*)\)/;function W9(r){for(var e=r;e.includes("(");){var n=u3.exec(e),a=bv(n,2),i=a[1];e=e.replace(u3,ak(i))}return e}function $9(r){var e=r.replace(/\s+/g,"");return e=W9(e),e=ak(e),e}function V9(r){try{return $9(r)}catch{return Lp}}function bw(r){var e=V9(r.slice(5,-1));return e===Lp?"":e}var z9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],K9=["dx","dy","angle","className","breakAll"];function NC(){return NC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},NC.apply(this,arguments)}function d3(r,e){if(r==null)return{};var n=G9(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function G9(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function h3(r,e){return Z9(r)||Y9(r,e)||X9(r,e)||q9()}function q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X9(r,e){if(r){if(typeof r=="string")return A3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A3(r,e)}}function A3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function Y9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function Z9(r){if(Array.isArray(r))return r}var ik=/[ \f\n\r\t\v\u2028\u2029]+/,sk=function(e){var n=e.children,a=e.breakAll,i=e.style;try{var s=[];li(n)||(a?s=n.toString().split(""):s=n.toString().split(ik));var c=s.map(function(u){return{word:u,width:U0(u,i).width}}),l=a?0:U0("",i).width;return{wordsWithComputedWidth:c,spaceWidth:l}}catch{return null}},J9=function(e,n,a,i,s){var c=e.maxLines,l=e.children,u=e.style,o=e.breakAll,d=mn(c),h=l,A=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function($,je){var ge=je.word,Ie=je.width,_e=$[$.length-1];if(_e&&(i==null||s||_e.width+Ie+a<Number(i)))_e.words.push(ge),_e.width+=Ie+a;else{var fe={words:[ge],width:Ie};$.push(fe)}return $},[])},f=A(n),g=function(L){return L.reduce(function($,je){return $.width>je.width?$:je})};if(!d)return f;for(var m="",x=function(L){var $=h.slice(0,L),je=sk({breakAll:o,style:u,children:$+m}).wordsWithComputedWidth,ge=A(je),Ie=ge.length>c||g(ge).width>Number(i);return[Ie,ge]},y=0,b=h.length-1,w=0,N;y<=b&&w<=h.length-1;){var S=Math.floor((y+b)/2),j=S-1,_=x(j),k=h3(_,2),Z=k[0],ee=k[1],V=x(S),re=h3(V,1),R=re[0];if(!Z&&!R&&(y=S+1),Z&&R&&(b=S-1),!Z&&R){N=ee;break}w++}return N||f},f3=function(e){var n=li(e)?[]:e.toString().split(ik);return[{words:n}]},eH=function(e){var n=e.width,a=e.scaleToFit,i=e.children,s=e.style,c=e.breakAll,l=e.maxLines;if((n||a)&&!lp.isSsr){var u,o,d=sk({breakAll:c,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,A=d.spaceWidth;u=h,o=A}else return f3(i);return J9({breakAll:c,children:i,maxLines:l,style:s},u,o,n,a)}return f3(i)},p3="#808080",np=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.lineHeight,l=c===void 0?"1em":c,u=e.capHeight,o=u===void 0?"0.71em":u,d=e.scaleToFit,h=d===void 0?!1:d,A=e.textAnchor,f=A===void 0?"start":A,g=e.verticalAnchor,m=g===void 0?"end":g,x=e.fill,y=x===void 0?p3:x,b=d3(e,z9),w=P.useMemo(function(){return eH({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),N=b.dx,S=b.dy,j=b.angle,_=b.className,k=b.breakAll,Z=d3(b,K9);if(!Gl(a)||!Gl(s))return null;var ee=a+(mn(N)?N:0),V=s+(mn(S)?S:0),re;switch(m){case"start":re=bw("calc(".concat(o,")"));break;case"middle":re=bw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:re=bw("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(h){var Y=w[0].width,L=b.width;R.push("scale(".concat((mn(L)?L/Y:1)/Y,")"))}return j&&R.push("rotate(".concat(j,", ").concat(ee,", ").concat(V,")")),R.length&&(Z.transform=R.join(" ")),St.createElement("text",NC({},_a(Z,!0),{x:ee,y:V,className:gi("recharts-text",_),textAnchor:f,fill:y.includes("url")?p3:y}),w.map(function($,je){var ge=$.words.join(k?"":" ");return St.createElement("tspan",{x:ee,dy:je===0?re:l,key:"".concat(ge,"-").concat(je)},ge)}))};function tf(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function tH(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function fN(r){let e,n,a;r.length!==2?(e=tf,n=(l,u)=>tf(r(l),u),a=(l,u)=>r(l)-u):(e=r===tf||r===tH?r:rH,n=r,a=r);function i(l,u,o=0,d=l.length){if(o<d){if(e(u,u)!==0)return d;do{const h=o+d>>>1;n(l[h],u)<0?o=h+1:d=h}while(o<d)}return o}function s(l,u,o=0,d=l.length){if(o<d){if(e(u,u)!==0)return d;do{const h=o+d>>>1;n(l[h],u)<=0?o=h+1:d=h}while(o<d)}return o}function c(l,u,o=0,d=l.length){const h=i(l,u,o,d-1);return h>o&&a(l[h-1],u)>-a(l[h],u)?h-1:h}return{left:i,center:c,right:s}}function rH(){return 0}function ok(r){return r===null?NaN:+r}function*nH(r,e){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const aH=fN(tf),Dg=aH.right;fN(ok).center;class m3 extends Map{constructor(e,n=oH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[a,i]of e)this.set(a,i)}get(e){return super.get(g3(this,e))}has(e){return super.has(g3(this,e))}set(e,n){return super.set(iH(this,e),n)}delete(e){return super.delete(sH(this,e))}}function g3({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):n}function iH({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):(r.set(a,n),n)}function sH({_intern:r,_key:e},n){const a=e(n);return r.has(a)&&(n=r.get(a),r.delete(a)),n}function oH(r){return r!==null&&typeof r=="object"?r.valueOf():r}function lH(r=tf){if(r===tf)return lk;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,n)=>{const a=r(e,n);return a||a===0?a:(r(n,n)===0)-(r(e,e)===0)}}function lk(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const cH=Math.sqrt(50),uH=Math.sqrt(10),dH=Math.sqrt(2);function wv(r,e,n){const a=(e-r)/Math.max(0,n),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),c=s>=cH?10:s>=uH?5:s>=dH?2:1;let l,u,o;return i<0?(o=Math.pow(10,-i)/c,l=Math.round(r*o),u=Math.round(e*o),l/o<r&&++l,u/o>e&&--u,o=-o):(o=Math.pow(10,i)*c,l=Math.round(r/o),u=Math.round(e/o),l*o<r&&++l,u*o>e&&--u),u<l&&.5<=n&&n<2?wv(r,e,n*2):[l,u,o]}function SC(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const a=e<r,[i,s,c]=a?wv(e,r,n):wv(r,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(a)if(c<0)for(let o=0;o<l;++o)u[o]=(s-o)/-c;else for(let o=0;o<l;++o)u[o]=(s-o)*c;else if(c<0)for(let o=0;o<l;++o)u[o]=(i+o)/-c;else for(let o=0;o<l;++o)u[o]=(i+o)*c;return u}function BC(r,e,n){return e=+e,r=+r,n=+n,wv(r,e,n)[2]}function EC(r,e,n){e=+e,r=+r,n=+n;const a=e<r,i=a?BC(e,r,n):BC(r,e,n);return(a?-1:1)*(i<0?1/-i:i)}function v3(r,e){let n;for(const a of r)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function x3(r,e){let n;for(const a of r)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function ck(r,e,n=0,a=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(r.length-1,a)),!(n<=e&&e<=a))return r;for(i=i===void 0?lk:lH(i);a>n;){if(a-n>600){const u=a-n+1,o=e-n+1,d=Math.log(u),h=.5*Math.exp(2*d/3),A=.5*Math.sqrt(d*h*(u-h)/u)*(o-u/2<0?-1:1),f=Math.max(n,Math.floor(e-o*h/u+A)),g=Math.min(a,Math.floor(e+(u-o)*h/u+A));ck(r,e,f,g,i)}const s=r[e];let c=n,l=a;for(Wm(r,n,e),i(r[a],s)>0&&Wm(r,n,a);c<l;){for(Wm(r,c,l),++c,--l;i(r[c],s)<0;)++c;for(;i(r[l],s)>0;)--l}i(r[n],s)===0?Wm(r,n,l):(++l,Wm(r,l,a)),l<=e&&(n=l+1),e<=l&&(a=l-1)}return r}function Wm(r,e,n){const a=r[e];r[e]=r[n],r[n]=a}function hH(r,e,n){if(r=Float64Array.from(nH(r)),!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return x3(r);if(e>=1)return v3(r);var a,i=(a-1)*e,s=Math.floor(i),c=v3(ck(r,s).subarray(0,s+1)),l=x3(r.subarray(s+1));return c+(l-c)*(i-s)}}function AH(r,e,n=ok){if(!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return+n(r[0],0,r);if(e>=1)return+n(r[a-1],a-1,r);var a,i=(a-1)*e,s=Math.floor(i),c=+n(r[s],s,r),l=+n(r[s+1],s+1,r);return c+(l-c)*(i-s)}}function fH(r,e,n){r=+r,e=+e,n=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+n;for(var a=-1,i=Math.max(0,Math.ceil((e-r)/n))|0,s=new Array(i);++a<i;)s[a]=r+a*n;return s}function Qd(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function vA(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IC=Symbol("implicit");function pN(){var r=new m3,e=[],n=[],a=IC;function i(s){let c=r.get(s);if(c===void 0){if(a!==IC)return a;r.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new m3;for(const c of s)r.has(c)||r.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return pN(e,n).unknown(a)},Qd.apply(i,arguments),i}function ag(){var r=pN().unknown(void 0),e=r.domain,n=r.range,a=0,i=1,s,c,l=!1,u=0,o=0,d=.5;delete r.unknown;function h(){var A=e().length,f=i<a,g=f?i:a,m=f?a:i;s=(m-g)/Math.max(1,A-u+o*2),l&&(s=Math.floor(s)),g+=(m-g-s*(A-u))*d,c=s*(1-u),l&&(g=Math.round(g),c=Math.round(c));var x=fH(A).map(function(y){return g+s*y});return n(f?x.reverse():x)}return r.domain=function(A){return arguments.length?(e(A),h()):e()},r.range=function(A){return arguments.length?([a,i]=A,a=+a,i=+i,h()):[a,i]},r.rangeRound=function(A){return[a,i]=A,a=+a,i=+i,l=!0,h()},r.bandwidth=function(){return c},r.step=function(){return s},r.round=function(A){return arguments.length?(l=!!A,h()):l},r.padding=function(A){return arguments.length?(u=Math.min(1,o=+A),h()):u},r.paddingInner=function(A){return arguments.length?(u=Math.min(1,A),h()):u},r.paddingOuter=function(A){return arguments.length?(o=+A,h()):o},r.align=function(A){return arguments.length?(d=Math.max(0,Math.min(1,A)),h()):d},r.copy=function(){return ag(e(),[a,i]).round(l).paddingInner(u).paddingOuter(o).align(d)},Qd.apply(h(),arguments)}function uk(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return uk(e())},r}function H0(){return uk(ag.apply(null,arguments).paddingInner(1))}function mN(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function dk(r,e){var n=Object.create(r.prototype);for(var a in e)n[a]=e[a];return n}function Mg(){}var ig=.7,jv=1/ig,Xp="\\s*([+-]?\\d+)\\s*",sg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pH=/^#([0-9a-f]{3,8})$/,mH=new RegExp(`^rgb\\(${Xp},${Xp},${Xp}\\)$`),gH=new RegExp(`^rgb\\(${Ih},${Ih},${Ih}\\)$`),vH=new RegExp(`^rgba\\(${Xp},${Xp},${Xp},${sg}\\)$`),xH=new RegExp(`^rgba\\(${Ih},${Ih},${Ih},${sg}\\)$`),yH=new RegExp(`^hsl\\(${sg},${Ih},${Ih}\\)$`),bH=new RegExp(`^hsla\\(${sg},${Ih},${Ih},${sg}\\)$`),y3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mN(Mg,og,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:b3,formatHex:b3,formatHex8:wH,formatHsl:jH,formatRgb:w3,toString:w3});function b3(){return this.rgb().formatHex()}function wH(){return this.rgb().formatHex8()}function jH(){return hk(this).formatHsl()}function w3(){return this.rgb().formatRgb()}function og(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=pH.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?j3(e):n===3?new Du(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?r1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?r1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mH.exec(r))?new Du(e[1],e[2],e[3],1):(e=gH.exec(r))?new Du(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vH.exec(r))?r1(e[1],e[2],e[3],e[4]):(e=xH.exec(r))?r1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yH.exec(r))?S3(e[1],e[2]/100,e[3]/100,1):(e=bH.exec(r))?S3(e[1],e[2]/100,e[3]/100,e[4]):y3.hasOwnProperty(r)?j3(y3[r]):r==="transparent"?new Du(NaN,NaN,NaN,0):null}function j3(r){return new Du(r>>16&255,r>>8&255,r&255,1)}function r1(r,e,n,a){return a<=0&&(r=e=n=NaN),new Du(r,e,n,a)}function CH(r){return r instanceof Mg||(r=og(r)),r?(r=r.rgb(),new Du(r.r,r.g,r.b,r.opacity)):new Du}function TC(r,e,n,a){return arguments.length===1?CH(r):new Du(r,e,n,a??1)}function Du(r,e,n,a){this.r=+r,this.g=+e,this.b=+n,this.opacity=+a}mN(Du,TC,dk(Mg,{brighter(r){return r=r==null?jv:Math.pow(jv,r),new Du(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?ig:Math.pow(ig,r),new Du(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Du(Yf(this.r),Yf(this.g),Yf(this.b),Cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C3,formatHex:C3,formatHex8:NH,formatRgb:N3,toString:N3}));function C3(){return`#${Kf(this.r)}${Kf(this.g)}${Kf(this.b)}`}function NH(){return`#${Kf(this.r)}${Kf(this.g)}${Kf(this.b)}${Kf((isNaN(this.opacity)?1:this.opacity)*255)}`}function N3(){const r=Cv(this.opacity);return`${r===1?"rgb(":"rgba("}${Yf(this.r)}, ${Yf(this.g)}, ${Yf(this.b)}${r===1?")":`, ${r})`}`}function Cv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Yf(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Kf(r){return r=Yf(r),(r<16?"0":"")+r.toString(16)}function S3(r,e,n,a){return a<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new oh(r,e,n,a)}function hk(r){if(r instanceof oh)return new oh(r.h,r.s,r.l,r.opacity);if(r instanceof Mg||(r=og(r)),!r)return new oh;if(r instanceof oh)return r;r=r.rgb();var e=r.r/255,n=r.g/255,a=r.b/255,i=Math.min(e,n,a),s=Math.max(e,n,a),c=NaN,l=s-i,u=(s+i)/2;return l?(e===s?c=(n-a)/l+(n<a)*6:n===s?c=(a-e)/l+2:c=(e-n)/l+4,l/=u<.5?s+i:2-s-i,c*=60):l=u>0&&u<1?0:c,new oh(c,l,u,r.opacity)}function SH(r,e,n,a){return arguments.length===1?hk(r):new oh(r,e,n,a??1)}function oh(r,e,n,a){this.h=+r,this.s=+e,this.l=+n,this.opacity=+a}mN(oh,SH,dk(Mg,{brighter(r){return r=r==null?jv:Math.pow(jv,r),new oh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?ig:Math.pow(ig,r),new oh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new Du(ww(r>=240?r-240:r+120,i,a),ww(r,i,a),ww(r<120?r+240:r-120,i,a),this.opacity)},clamp(){return new oh(B3(this.h),n1(this.s),n1(this.l),Cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Cv(this.opacity);return`${r===1?"hsl(":"hsla("}${B3(this.h)}, ${n1(this.s)*100}%, ${n1(this.l)*100}%${r===1?")":`, ${r})`}`}}));function B3(r){return r=(r||0)%360,r<0?r+360:r}function n1(r){return Math.max(0,Math.min(1,r||0))}function ww(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const gN=r=>()=>r;function BH(r,e){return function(n){return r+n*e}}function EH(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function IH(r){return(r=+r)==1?Ak:function(e,n){return n-e?EH(e,n,r):gN(isNaN(e)?n:e)}}function Ak(r,e){var n=e-r;return n?BH(r,n):gN(isNaN(r)?e:r)}const E3=(function r(e){var n=IH(e);function a(i,s){var c=n((i=TC(i)).r,(s=TC(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),o=Ak(i.opacity,s.opacity);return function(d){return i.r=c(d),i.g=l(d),i.b=u(d),i.opacity=o(d),i+""}}return a.gamma=r,a})(1);function TH(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,a=e.slice(),i;return function(s){for(i=0;i<n;++i)a[i]=r[i]*(1-s)+e[i]*s;return a}}function _H(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function OH(r,e){var n=e?e.length:0,a=r?Math.min(n,r.length):0,i=new Array(a),s=new Array(n),c;for(c=0;c<a;++c)i[c]=_m(r[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(l){for(c=0;c<a;++c)s[c]=i[c](l);return s}}function kH(r,e){var n=new Date;return r=+r,e=+e,function(a){return n.setTime(r*(1-a)+e*a),n}}function Nv(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}function PH(r,e){var n={},a={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?n[i]=_m(r[i],e[i]):a[i]=e[i];return function(s){for(i in n)a[i]=n[i](s);return a}}var _C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jw=new RegExp(_C.source,"g");function FH(r){return function(){return r}}function DH(r){return function(e){return r(e)+""}}function MH(r,e){var n=_C.lastIndex=jw.lastIndex=0,a,i,s,c=-1,l=[],u=[];for(r=r+"",e=e+"";(a=_C.exec(r))&&(i=jw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[c]?l[c]+=s:l[++c]=s),(a=a[0])===(i=i[0])?l[c]?l[c]+=i:l[++c]=i:(l[++c]=null,u.push({i:c,x:Nv(a,i)})),n=jw.lastIndex;return n<e.length&&(s=e.slice(n),l[c]?l[c]+=s:l[++c]=s),l.length<2?u[0]?DH(u[0].x):FH(e):(e=u.length,function(o){for(var d=0,h;d<e;++d)l[(h=u[d]).i]=h.x(o);return l.join("")})}function _m(r,e){var n=typeof e,a;return e==null||n==="boolean"?gN(e):(n==="number"?Nv:n==="string"?(a=og(e))?(e=a,E3):MH:e instanceof og?E3:e instanceof Date?kH:_H(e)?TH:Array.isArray(e)?OH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?PH:Nv)(r,e)}function vN(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}function RH(r,e){e===void 0&&(e=r,r=_m);for(var n=0,a=e.length-1,i=e[0],s=new Array(a<0?0:a);n<a;)s[n]=r(i,i=e[++n]);return function(c){var l=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return s[l](c-l)}}function LH(r){return function(){return r}}function Sv(r){return+r}var I3=[0,1];function yu(r){return r}function OC(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:LH(isNaN(e)?NaN:.5)}function UH(r,e){var n;return r>e&&(n=r,r=e,e=n),function(a){return Math.max(r,Math.min(e,a))}}function HH(r,e,n){var a=r[0],i=r[1],s=e[0],c=e[1];return i<a?(a=OC(i,a),s=n(c,s)):(a=OC(a,i),s=n(s,c)),function(l){return s(a(l))}}function QH(r,e,n){var a=Math.min(r.length,e.length)-1,i=new Array(a),s=new Array(a),c=-1;for(r[a]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++c<a;)i[c]=OC(r[c],r[c+1]),s[c]=n(e[c],e[c+1]);return function(l){var u=Dg(r,l,1,a)-1;return s[u](i[u](l))}}function Rg(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function O2(){var r=I3,e=I3,n=_m,a,i,s,c=yu,l,u,o;function d(){var A=Math.min(r.length,e.length);return c!==yu&&(c=UH(r[0],r[A-1])),l=A>2?QH:HH,u=o=null,h}function h(A){return A==null||isNaN(A=+A)?s:(u||(u=l(r.map(a),e,n)))(a(c(A)))}return h.invert=function(A){return c(i((o||(o=l(e,r.map(a),Nv)))(A)))},h.domain=function(A){return arguments.length?(r=Array.from(A,Sv),d()):r.slice()},h.range=function(A){return arguments.length?(e=Array.from(A),d()):e.slice()},h.rangeRound=function(A){return e=Array.from(A),n=vN,d()},h.clamp=function(A){return arguments.length?(c=A?!0:yu,d()):c!==yu},h.interpolate=function(A){return arguments.length?(n=A,d()):n},h.unknown=function(A){return arguments.length?(s=A,h):s},function(A,f){return a=A,i=f,d()}}function xN(){return O2()(yu,yu)}function WH(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Bv(r,e){if(!isFinite(r)||r===0)return null;var n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"),a=r.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+r.slice(n+1)]}function nm(r){return r=Bv(Math.abs(r)),r?r[1]:NaN}function $H(r,e){return function(n,a){for(var i=n.length,s=[],c=0,l=r[0],u=0;i>0&&l>0&&(u+l+1>a&&(l=Math.max(1,a-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>a));)l=r[c=(c+1)%r.length];return s.reverse().join(e)}}function VH(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var zH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lg(r){if(!(e=zH.exec(r)))throw new Error("invalid format: "+r);var e;return new yN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lg.prototype=yN.prototype;function yN(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}yN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KH(r){e:for(var e=r.length,n=1,a=-1,i;n<e;++n)switch(r[n]){case".":a=i=n;break;case"0":a===0&&(a=n),i=n;break;default:if(!+r[n])break e;a>0&&(a=0);break}return a>0?r.slice(0,a)+r.slice(i+1):r}var Ev;function GH(r,e){var n=Bv(r,e);if(!n)return Ev=void 0,r.toPrecision(e);var a=n[0],i=n[1],s=i-(Ev=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=a.length;return s===c?a:s>c?a+new Array(s-c+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+Bv(r,Math.max(0,e+s-1))[0]}function T3(r,e){var n=Bv(r,e);if(!n)return r+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const _3={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:WH,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>T3(r*100,e),r:T3,s:GH,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function O3(r){return r}var k3=Array.prototype.map,P3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qH(r){var e=r.grouping===void 0||r.thousands===void 0?O3:$H(k3.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",a=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?O3:VH(k3.call(r.numerals,String)),c=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",u=r.nan===void 0?"NaN":r.nan+"";function o(h,A){h=lg(h);var f=h.fill,g=h.align,m=h.sign,x=h.symbol,y=h.zero,b=h.width,w=h.comma,N=h.precision,S=h.trim,j=h.type;j==="n"?(w=!0,j="g"):_3[j]||(N===void 0&&(N=12),S=!0,j="g"),(y||f==="0"&&g==="=")&&(y=!0,f="0",g="=");var _=(A&&A.prefix!==void 0?A.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),k=(x==="$"?a:/[%p]/.test(j)?c:"")+(A&&A.suffix!==void 0?A.suffix:""),Z=_3[j],ee=/[defgprs%]/.test(j);N=N===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function V(re){var R=_,Y=k,L,$,je;if(j==="c")Y=Z(re)+Y,re="";else{re=+re;var ge=re<0||1/re<0;if(re=isNaN(re)?u:Z(Math.abs(re),N),S&&(re=KH(re)),ge&&+re==0&&m!=="+"&&(ge=!1),R=(ge?m==="("?m:l:m==="-"||m==="("?"":m)+R,Y=(j==="s"&&!isNaN(re)&&Ev!==void 0?P3[8+Ev/3]:"")+Y+(ge&&m==="("?")":""),ee){for(L=-1,$=re.length;++L<$;)if(je=re.charCodeAt(L),48>je||je>57){Y=(je===46?i+re.slice(L+1):re.slice(L))+Y,re=re.slice(0,L);break}}}w&&!y&&(re=e(re,1/0));var Ie=R.length+re.length+Y.length,_e=Ie<b?new Array(b-Ie+1).join(f):"";switch(w&&y&&(re=e(_e+re,_e.length?b-Y.length:1/0),_e=""),g){case"<":re=R+re+Y+_e;break;case"=":re=R+_e+re+Y;break;case"^":re=_e.slice(0,Ie=_e.length>>1)+R+re+Y+_e.slice(Ie);break;default:re=_e+R+re+Y;break}return s(re)}return V.toString=function(){return h+""},V}function d(h,A){var f=Math.max(-8,Math.min(8,Math.floor(nm(A)/3)))*3,g=Math.pow(10,-f),m=o((h=lg(h),h.type="f",h),{suffix:P3[8+f/3]});return function(x){return m(g*x)}}return{format:o,formatPrefix:d}}var a1,bN,fk;XH({thousands:",",grouping:[3],currency:["$",""]});function XH(r){return a1=qH(r),bN=a1.format,fk=a1.formatPrefix,a1}function YH(r){return Math.max(0,-nm(Math.abs(r)))}function ZH(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nm(e)/3)))*3-nm(Math.abs(r)))}function JH(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,nm(e)-nm(r))+1}function pk(r,e,n,a){var i=EC(r,e,n),s;switch(a=lg(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(r),Math.abs(e));return a.precision==null&&!isNaN(s=ZH(i,c))&&(a.precision=s),fk(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=JH(i,Math.max(Math.abs(r),Math.abs(e))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=YH(i))&&(a.precision=s-(a.type==="%")*2);break}}return bN(a)}function df(r){var e=r.domain;return r.ticks=function(n){var a=e();return SC(a[0],a[a.length-1],n??10)},r.tickFormat=function(n,a){var i=e();return pk(i[0],i[i.length-1],n??10,a)},r.nice=function(n){n==null&&(n=10);var a=e(),i=0,s=a.length-1,c=a[i],l=a[s],u,o,d=10;for(l<c&&(o=c,c=l,l=o,o=i,i=s,s=o);d-- >0;){if(o=BC(c,l,n),o===u)return a[i]=c,a[s]=l,e(a);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else if(o<0)c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o;else break;u=o}return r},r}function Iv(){var r=xN();return r.copy=function(){return Rg(r,Iv())},Qd.apply(r,arguments),df(r)}function mk(r){var e;function n(a){return a==null||isNaN(a=+a)?e:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(r=Array.from(a,Sv),n):r.slice()},n.unknown=function(a){return arguments.length?(e=a,n):e},n.copy=function(){return mk(r).unknown(e)},r=arguments.length?Array.from(r,Sv):[0,1],df(n)}function gk(r,e){r=r.slice();var n=0,a=r.length-1,i=r[n],s=r[a],c;return s<i&&(c=n,n=a,a=c,c=i,i=s,s=c),r[n]=e.floor(i),r[a]=e.ceil(s),r}function F3(r){return Math.log(r)}function D3(r){return Math.exp(r)}function eQ(r){return-Math.log(-r)}function tQ(r){return-Math.exp(-r)}function rQ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function nQ(r){return r===10?rQ:r===Math.E?Math.exp:e=>Math.pow(r,e)}function aQ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function M3(r){return(e,n)=>-r(-e,n)}function wN(r){const e=r(F3,D3),n=e.domain;let a=10,i,s;function c(){return i=aQ(a),s=nQ(a),n()[0]<0?(i=M3(i),s=M3(s),r(eQ,tQ)):r(F3,D3),e}return e.base=function(l){return arguments.length?(a=+l,c()):a},e.domain=function(l){return arguments.length?(n(l),c()):n()},e.ticks=l=>{const u=n();let o=u[0],d=u[u.length-1];const h=d<o;h&&([o,d]=[d,o]);let A=i(o),f=i(d),g,m;const x=l==null?10:+l;let y=[];if(!(a%1)&&f-A<x){if(A=Math.floor(A),f=Math.ceil(f),o>0){for(;A<=f;++A)for(g=1;g<a;++g)if(m=A<0?g/s(-A):g*s(A),!(m<o)){if(m>d)break;y.push(m)}}else for(;A<=f;++A)for(g=a-1;g>=1;--g)if(m=A>0?g/s(-A):g*s(A),!(m<o)){if(m>d)break;y.push(m)}y.length*2<x&&(y=SC(o,d,x))}else y=SC(A,f,Math.min(f-A,x)).map(s);return h?y.reverse():y},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=lg(u)).precision==null&&(u.trim=!0),u=bN(u)),l===1/0)return u;const o=Math.max(1,a*l/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*a<a-.5&&(h*=a),h<=o?u(d):""}},e.nice=()=>n(gk(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function vk(){const r=wN(O2()).domain([1,10]);return r.copy=()=>Rg(r,vk()).base(r.base()),Qd.apply(r,arguments),r}function R3(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function L3(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function jN(r){var e=1,n=r(R3(e),L3(e));return n.constant=function(a){return arguments.length?r(R3(e=+a),L3(e)):e},df(n)}function xk(){var r=jN(O2());return r.copy=function(){return Rg(r,xk()).constant(r.constant())},Qd.apply(r,arguments)}function U3(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function iQ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function sQ(r){return r<0?-r*r:r*r}function CN(r){var e=r(yu,yu),n=1;function a(){return n===1?r(yu,yu):n===.5?r(iQ,sQ):r(U3(n),U3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,a()):n},df(e)}function NN(){var r=CN(O2());return r.copy=function(){return Rg(r,NN()).exponent(r.exponent())},Qd.apply(r,arguments),r}function oQ(){return NN.apply(null,arguments).exponent(.5)}function H3(r){return Math.sign(r)*r*r}function lQ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function yk(){var r=xN(),e=[0,1],n=!1,a;function i(s){var c=lQ(r(s));return isNaN(c)?a:n?Math.round(c):c}return i.invert=function(s){return r.invert(H3(s))},i.domain=function(s){return arguments.length?(r.domain(s),i):r.domain()},i.range=function(s){return arguments.length?(r.range((e=Array.from(s,Sv)).map(H3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(r.clamp(s),i):r.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return yk(r.domain(),e).round(n).clamp(r.clamp()).unknown(a)},Qd.apply(i,arguments),df(i)}function bk(){var r=[],e=[],n=[],a;function i(){var c=0,l=Math.max(1,e.length);for(n=new Array(l-1);++c<l;)n[c-1]=AH(r,c/l);return s}function s(c){return c==null||isNaN(c=+c)?a:e[Dg(n,c)]}return s.invertExtent=function(c){var l=e.indexOf(c);return l<0?[NaN,NaN]:[l>0?n[l-1]:r[0],l<n.length?n[l]:r[r.length-1]]},s.domain=function(c){if(!arguments.length)return r.slice();r=[];for(let l of c)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(tf),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(a=c,s):a},s.quantiles=function(){return n.slice()},s.copy=function(){return bk().domain(r).range(e).unknown(a)},Qd.apply(s,arguments)}function wk(){var r=0,e=1,n=1,a=[.5],i=[0,1],s;function c(u){return u!=null&&u<=u?i[Dg(a,u,0,n)]:s}function l(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*e-(u-n)*r)/(n+1);return c}return c.domain=function(u){return arguments.length?([r,e]=u,r=+r,e=+e,l()):[r,e]},c.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},c.invertExtent=function(u){var o=i.indexOf(u);return o<0?[NaN,NaN]:o<1?[r,a[0]]:o>=n?[a[n-1],e]:[a[o-1],a[o]]},c.unknown=function(u){return arguments.length&&(s=u),c},c.thresholds=function(){return a.slice()},c.copy=function(){return wk().domain([r,e]).range(i).unknown(s)},Qd.apply(df(c),arguments)}function jk(){var r=[.5],e=[0,1],n,a=1;function i(s){return s!=null&&s<=s?e[Dg(r,s,0,a)]:n}return i.domain=function(s){return arguments.length?(r=Array.from(s),a=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),a=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[r[c-1],r[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jk().domain(r).range(e).unknown(n)},Qd.apply(i,arguments)}const Cw=new Date,Nw=new Date;function Xl(r,e,n,a){function i(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(r(s=new Date(+s)),s),i.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),i.round=s=>{const c=i(s),l=i.ceil(s);return s-c<l-s?c:l},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<c)||!(l>0))return u;let o;do u.push(o=new Date(+s)),e(s,l),r(s);while(o<s&&s<c);return u},i.filter=s=>Xl(c=>{if(c>=c)for(;r(c),!s(c);)c.setTime(c-1)},(c,l)=>{if(c>=c)if(l<0)for(;++l<=0;)for(;e(c,-1),!s(c););else for(;--l>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(Cw.setTime(+s),Nw.setTime(+c),r(Cw),r(Nw),Math.floor(n(Cw,Nw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?c=>a(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Tv=Xl(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);Tv.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Xl(e=>{e.setTime(Math.floor(e/r)*r)},(e,n)=>{e.setTime(+e+n*r)},(e,n)=>(n-e)/r):Tv);Tv.range;const sA=1e3,Rd=sA*60,oA=Rd*60,AA=oA*24,SN=AA*7,Q3=AA*30,Sw=AA*365,Gf=Xl(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*sA)},(r,e)=>(e-r)/sA,r=>r.getUTCSeconds());Gf.range;const BN=Xl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*sA)},(r,e)=>{r.setTime(+r+e*Rd)},(r,e)=>(e-r)/Rd,r=>r.getMinutes());BN.range;const EN=Xl(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Rd)},(r,e)=>(e-r)/Rd,r=>r.getUTCMinutes());EN.range;const IN=Xl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*sA-r.getMinutes()*Rd)},(r,e)=>{r.setTime(+r+e*oA)},(r,e)=>(e-r)/oA,r=>r.getHours());IN.range;const TN=Xl(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*oA)},(r,e)=>(e-r)/oA,r=>r.getUTCHours());TN.range;const Lg=Xl(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Rd)/AA,r=>r.getDate()-1);Lg.range;const k2=Xl(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/AA,r=>r.getUTCDate()-1);k2.range;const Ck=Xl(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/AA,r=>Math.floor(r/AA));Ck.range;function cp(r){return Xl(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Rd)/SN)}const P2=cp(0),_v=cp(1),cQ=cp(2),uQ=cp(3),am=cp(4),dQ=cp(5),hQ=cp(6);P2.range;_v.range;cQ.range;uQ.range;am.range;dQ.range;hQ.range;function up(r){return Xl(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/SN)}const F2=up(0),Ov=up(1),AQ=up(2),fQ=up(3),im=up(4),pQ=up(5),mQ=up(6);F2.range;Ov.range;AQ.range;fQ.range;im.range;pQ.range;mQ.range;const _N=Xl(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());_N.range;const ON=Xl(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());ON.range;const fA=Xl(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());fA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Xl(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*r)});fA.range;const pA=Xl(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());pA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Xl(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*r)});pA.range;function Nk(r,e,n,a,i,s){const c=[[Gf,1,sA],[Gf,5,5*sA],[Gf,15,15*sA],[Gf,30,30*sA],[s,1,Rd],[s,5,5*Rd],[s,15,15*Rd],[s,30,30*Rd],[i,1,oA],[i,3,3*oA],[i,6,6*oA],[i,12,12*oA],[a,1,AA],[a,2,2*AA],[n,1,SN],[e,1,Q3],[e,3,3*Q3],[r,1,Sw]];function l(o,d,h){const A=d<o;A&&([o,d]=[d,o]);const f=h&&typeof h.range=="function"?h:u(o,d,h),g=f?f.range(o,+d+1):[];return A?g.reverse():g}function u(o,d,h){const A=Math.abs(d-o)/h,f=fN(([,,x])=>x).right(c,A);if(f===c.length)return r.every(EC(o/Sw,d/Sw,h));if(f===0)return Tv.every(Math.max(EC(o,d,h),1));const[g,m]=c[A/c[f-1][2]<c[f][2]/A?f-1:f];return g.every(m)}return[l,u]}const[gQ,vQ]=Nk(pA,ON,F2,Ck,TN,EN),[xQ,yQ]=Nk(fA,_N,P2,Lg,IN,BN);function Bw(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Ew(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function $m(r,e,n){return{y:r,m:e,d:n,H:0,M:0,S:0,L:0}}function bQ(r){var e=r.dateTime,n=r.date,a=r.time,i=r.periods,s=r.days,c=r.shortDays,l=r.months,u=r.shortMonths,o=Vm(i),d=zm(i),h=Vm(s),A=zm(s),f=Vm(c),g=zm(c),m=Vm(l),x=zm(l),y=Vm(u),b=zm(u),w={a:je,A:ge,b:Ie,B:_e,c:null,d:G3,e:G3,f:$Q,g:eW,G:rW,H:HQ,I:QQ,j:WQ,L:Sk,m:VQ,M:zQ,p:fe,q:le,Q:Y3,s:Z3,S:KQ,u:GQ,U:qQ,V:XQ,w:YQ,W:ZQ,x:null,X:null,y:JQ,Y:tW,Z:nW,"%":X3},N={a:ve,A:se,b:he,B:Ne,c:null,d:q3,e:q3,f:oW,g:gW,G:xW,H:aW,I:iW,j:sW,L:Ek,m:lW,M:cW,p:Pe,q:ye,Q:Y3,s:Z3,S:uW,u:dW,U:hW,V:AW,w:fW,W:pW,x:null,X:null,y:mW,Y:vW,Z:yW,"%":X3},S={a:ee,A:V,b:re,B:R,c:Y,d:z3,e:z3,f:MQ,g:V3,G:$3,H:K3,I:K3,j:kQ,L:DQ,m:OQ,M:PQ,p:Z,q:_Q,Q:LQ,s:UQ,S:FQ,u:SQ,U:BQ,V:EQ,w:NQ,W:IQ,x:L,X:$,y:V3,Y:$3,Z:TQ,"%":RQ};w.x=j(n,w),w.X=j(a,w),w.c=j(e,w),N.x=j(n,N),N.X=j(a,N),N.c=j(e,N);function j(ce,q){return function(pe){var oe=[],We=-1,Re=0,Ee=ce.length,ae,Le,Ze;for(pe instanceof Date||(pe=new Date(+pe));++We<Ee;)ce.charCodeAt(We)===37&&(oe.push(ce.slice(Re,We)),(Le=W3[ae=ce.charAt(++We)])!=null?ae=ce.charAt(++We):Le=ae==="e"?" ":"0",(Ze=q[ae])&&(ae=Ze(pe,Le)),oe.push(ae),Re=We+1);return oe.push(ce.slice(Re,We)),oe.join("")}}function _(ce,q){return function(pe){var oe=$m(1900,void 0,1),We=k(oe,ce,pe+="",0),Re,Ee;if(We!=pe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(q&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Re=Ew($m(oe.y,0,1)),Ee=Re.getUTCDay(),Re=Ee>4||Ee===0?Ov.ceil(Re):Ov(Re),Re=k2.offset(Re,(oe.V-1)*7),oe.y=Re.getUTCFullYear(),oe.m=Re.getUTCMonth(),oe.d=Re.getUTCDate()+(oe.w+6)%7):(Re=Bw($m(oe.y,0,1)),Ee=Re.getDay(),Re=Ee>4||Ee===0?_v.ceil(Re):_v(Re),Re=Lg.offset(Re,(oe.V-1)*7),oe.y=Re.getFullYear(),oe.m=Re.getMonth(),oe.d=Re.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Ee="Z"in oe?Ew($m(oe.y,0,1)).getUTCDay():Bw($m(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Ee+5)%7:oe.w+oe.U*7-(Ee+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Ew(oe)):Bw(oe)}}function k(ce,q,pe,oe){for(var We=0,Re=q.length,Ee=pe.length,ae,Le;We<Re;){if(oe>=Ee)return-1;if(ae=q.charCodeAt(We++),ae===37){if(ae=q.charAt(We++),Le=S[ae in W3?q.charAt(We++):ae],!Le||(oe=Le(ce,pe,oe))<0)return-1}else if(ae!=pe.charCodeAt(oe++))return-1}return oe}function Z(ce,q,pe){var oe=o.exec(q.slice(pe));return oe?(ce.p=d.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function ee(ce,q,pe){var oe=f.exec(q.slice(pe));return oe?(ce.w=g.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function V(ce,q,pe){var oe=h.exec(q.slice(pe));return oe?(ce.w=A.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function re(ce,q,pe){var oe=y.exec(q.slice(pe));return oe?(ce.m=b.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function R(ce,q,pe){var oe=m.exec(q.slice(pe));return oe?(ce.m=x.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function Y(ce,q,pe){return k(ce,e,q,pe)}function L(ce,q,pe){return k(ce,n,q,pe)}function $(ce,q,pe){return k(ce,a,q,pe)}function je(ce){return c[ce.getDay()]}function ge(ce){return s[ce.getDay()]}function Ie(ce){return u[ce.getMonth()]}function _e(ce){return l[ce.getMonth()]}function fe(ce){return i[+(ce.getHours()>=12)]}function le(ce){return 1+~~(ce.getMonth()/3)}function ve(ce){return c[ce.getUTCDay()]}function se(ce){return s[ce.getUTCDay()]}function he(ce){return u[ce.getUTCMonth()]}function Ne(ce){return l[ce.getUTCMonth()]}function Pe(ce){return i[+(ce.getUTCHours()>=12)]}function ye(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var q=j(ce+="",w);return q.toString=function(){return ce},q},parse:function(ce){var q=_(ce+="",!1);return q.toString=function(){return ce},q},utcFormat:function(ce){var q=j(ce+="",N);return q.toString=function(){return ce},q},utcParse:function(ce){var q=_(ce+="",!0);return q.toString=function(){return ce},q}}}var W3={"-":"",_:" ",0:"0"},yc=/^\s*\d+/,wQ=/^%/,jQ=/[\\^$*+?|[\]().{}]/g;function ss(r,e,n){var a=r<0?"-":"",i=(a?-r:r)+"",s=i.length;return a+(s<n?new Array(n-s+1).join(e)+i:i)}function CQ(r){return r.replace(jQ,"\\$&")}function Vm(r){return new RegExp("^(?:"+r.map(CQ).join("|")+")","i")}function zm(r){return new Map(r.map((e,n)=>[e.toLowerCase(),n]))}function NQ(r,e,n){var a=yc.exec(e.slice(n,n+1));return a?(r.w=+a[0],n+a[0].length):-1}function SQ(r,e,n){var a=yc.exec(e.slice(n,n+1));return a?(r.u=+a[0],n+a[0].length):-1}function BQ(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.U=+a[0],n+a[0].length):-1}function EQ(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.V=+a[0],n+a[0].length):-1}function IQ(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.W=+a[0],n+a[0].length):-1}function $3(r,e,n){var a=yc.exec(e.slice(n,n+4));return a?(r.y=+a[0],n+a[0].length):-1}function V3(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function TQ(r,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(r.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function _Q(r,e,n){var a=yc.exec(e.slice(n,n+1));return a?(r.q=a[0]*3-3,n+a[0].length):-1}function OQ(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.m=a[0]-1,n+a[0].length):-1}function z3(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.d=+a[0],n+a[0].length):-1}function kQ(r,e,n){var a=yc.exec(e.slice(n,n+3));return a?(r.m=0,r.d=+a[0],n+a[0].length):-1}function K3(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.H=+a[0],n+a[0].length):-1}function PQ(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.M=+a[0],n+a[0].length):-1}function FQ(r,e,n){var a=yc.exec(e.slice(n,n+2));return a?(r.S=+a[0],n+a[0].length):-1}function DQ(r,e,n){var a=yc.exec(e.slice(n,n+3));return a?(r.L=+a[0],n+a[0].length):-1}function MQ(r,e,n){var a=yc.exec(e.slice(n,n+6));return a?(r.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function RQ(r,e,n){var a=wQ.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function LQ(r,e,n){var a=yc.exec(e.slice(n));return a?(r.Q=+a[0],n+a[0].length):-1}function UQ(r,e,n){var a=yc.exec(e.slice(n));return a?(r.s=+a[0],n+a[0].length):-1}function G3(r,e){return ss(r.getDate(),e,2)}function HQ(r,e){return ss(r.getHours(),e,2)}function QQ(r,e){return ss(r.getHours()%12||12,e,2)}function WQ(r,e){return ss(1+Lg.count(fA(r),r),e,3)}function Sk(r,e){return ss(r.getMilliseconds(),e,3)}function $Q(r,e){return Sk(r,e)+"000"}function VQ(r,e){return ss(r.getMonth()+1,e,2)}function zQ(r,e){return ss(r.getMinutes(),e,2)}function KQ(r,e){return ss(r.getSeconds(),e,2)}function GQ(r){var e=r.getDay();return e===0?7:e}function qQ(r,e){return ss(P2.count(fA(r)-1,r),e,2)}function Bk(r){var e=r.getDay();return e>=4||e===0?am(r):am.ceil(r)}function XQ(r,e){return r=Bk(r),ss(am.count(fA(r),r)+(fA(r).getDay()===4),e,2)}function YQ(r){return r.getDay()}function ZQ(r,e){return ss(_v.count(fA(r)-1,r),e,2)}function JQ(r,e){return ss(r.getFullYear()%100,e,2)}function eW(r,e){return r=Bk(r),ss(r.getFullYear()%100,e,2)}function tW(r,e){return ss(r.getFullYear()%1e4,e,4)}function rW(r,e){var n=r.getDay();return r=n>=4||n===0?am(r):am.ceil(r),ss(r.getFullYear()%1e4,e,4)}function nW(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ss(e/60|0,"0",2)+ss(e%60,"0",2)}function q3(r,e){return ss(r.getUTCDate(),e,2)}function aW(r,e){return ss(r.getUTCHours(),e,2)}function iW(r,e){return ss(r.getUTCHours()%12||12,e,2)}function sW(r,e){return ss(1+k2.count(pA(r),r),e,3)}function Ek(r,e){return ss(r.getUTCMilliseconds(),e,3)}function oW(r,e){return Ek(r,e)+"000"}function lW(r,e){return ss(r.getUTCMonth()+1,e,2)}function cW(r,e){return ss(r.getUTCMinutes(),e,2)}function uW(r,e){return ss(r.getUTCSeconds(),e,2)}function dW(r){var e=r.getUTCDay();return e===0?7:e}function hW(r,e){return ss(F2.count(pA(r)-1,r),e,2)}function Ik(r){var e=r.getUTCDay();return e>=4||e===0?im(r):im.ceil(r)}function AW(r,e){return r=Ik(r),ss(im.count(pA(r),r)+(pA(r).getUTCDay()===4),e,2)}function fW(r){return r.getUTCDay()}function pW(r,e){return ss(Ov.count(pA(r)-1,r),e,2)}function mW(r,e){return ss(r.getUTCFullYear()%100,e,2)}function gW(r,e){return r=Ik(r),ss(r.getUTCFullYear()%100,e,2)}function vW(r,e){return ss(r.getUTCFullYear()%1e4,e,4)}function xW(r,e){var n=r.getUTCDay();return r=n>=4||n===0?im(r):im.ceil(r),ss(r.getUTCFullYear()%1e4,e,4)}function yW(){return"+0000"}function X3(){return"%"}function Y3(r){return+r}function Z3(r){return Math.floor(+r/1e3)}var Ip,Tk,_k;bW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bW(r){return Ip=bQ(r),Tk=Ip.format,Ip.parse,_k=Ip.utcFormat,Ip.utcParse,Ip}function wW(r){return new Date(r)}function jW(r){return r instanceof Date?+r:+new Date(+r)}function kN(r,e,n,a,i,s,c,l,u,o){var d=xN(),h=d.invert,A=d.domain,f=o(".%L"),g=o(":%S"),m=o("%I:%M"),x=o("%I %p"),y=o("%a %d"),b=o("%b %d"),w=o("%B"),N=o("%Y");function S(j){return(u(j)<j?f:l(j)<j?g:c(j)<j?m:s(j)<j?x:a(j)<j?i(j)<j?y:b:n(j)<j?w:N)(j)}return d.invert=function(j){return new Date(h(j))},d.domain=function(j){return arguments.length?A(Array.from(j,jW)):A().map(wW)},d.ticks=function(j){var _=A();return r(_[0],_[_.length-1],j??10)},d.tickFormat=function(j,_){return _==null?S:o(_)},d.nice=function(j){var _=A();return(!j||typeof j.range!="function")&&(j=e(_[0],_[_.length-1],j??10)),j?A(gk(_,j)):d},d.copy=function(){return Rg(d,kN(r,e,n,a,i,s,c,l,u,o))},d}function CW(){return Qd.apply(kN(xQ,yQ,fA,_N,P2,Lg,IN,BN,Gf,Tk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NW(){return Qd.apply(kN(gQ,vQ,pA,ON,F2,k2,TN,EN,Gf,_k).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D2(){var r=0,e=1,n,a,i,s,c=yu,l=!1,u;function o(h){return h==null||isNaN(h=+h)?u:c(i===0?.5:(h=(s(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}o.domain=function(h){return arguments.length?([r,e]=h,n=s(r=+r),a=s(e=+e),i=n===a?0:1/(a-n),o):[r,e]},o.clamp=function(h){return arguments.length?(l=!!h,o):l},o.interpolator=function(h){return arguments.length?(c=h,o):c};function d(h){return function(A){var f,g;return arguments.length?([f,g]=A,c=h(f,g),o):[c(0),c(1)]}}return o.range=d(_m),o.rangeRound=d(vN),o.unknown=function(h){return arguments.length?(u=h,o):u},function(h){return s=h,n=h(r),a=h(e),i=n===a?0:1/(a-n),o}}function hf(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function Ok(){var r=df(D2()(yu));return r.copy=function(){return hf(r,Ok())},vA.apply(r,arguments)}function kk(){var r=wN(D2()).domain([1,10]);return r.copy=function(){return hf(r,kk()).base(r.base())},vA.apply(r,arguments)}function Pk(){var r=jN(D2());return r.copy=function(){return hf(r,Pk()).constant(r.constant())},vA.apply(r,arguments)}function PN(){var r=CN(D2());return r.copy=function(){return hf(r,PN()).exponent(r.exponent())},vA.apply(r,arguments)}function SW(){return PN.apply(null,arguments).exponent(.5)}function Fk(){var r=[],e=yu;function n(a){if(a!=null&&!isNaN(a=+a))return e((Dg(r,a,1)-1)/(r.length-1))}return n.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let i of a)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(tf),n},n.interpolator=function(a){return arguments.length?(e=a,n):e},n.range=function(){return r.map((a,i)=>e(i/(r.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(i,s)=>hH(r,s/a))},n.copy=function(){return Fk(e).domain(r)},vA.apply(n,arguments)}function M2(){var r=0,e=.5,n=1,a=1,i,s,c,l,u,o=yu,d,h=!1,A;function f(m){return isNaN(m=+m)?A:(m=.5+((m=+d(m))-s)*(a*m<a*s?l:u),o(h?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([r,e,n]=m,i=d(r=+r),s=d(e=+e),c=d(n=+n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,f):[r,e,n]},f.clamp=function(m){return arguments.length?(h=!!m,f):h},f.interpolator=function(m){return arguments.length?(o=m,f):o};function g(m){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,o=RH(m,[y,b,w]),f):[o(0),o(.5),o(1)]}}return f.range=g(_m),f.rangeRound=g(vN),f.unknown=function(m){return arguments.length?(A=m,f):A},function(m){return d=m,i=m(r),s=m(e),c=m(n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,f}}function Dk(){var r=df(M2()(yu));return r.copy=function(){return hf(r,Dk())},vA.apply(r,arguments)}function Mk(){var r=wN(M2()).domain([.1,1,10]);return r.copy=function(){return hf(r,Mk()).base(r.base())},vA.apply(r,arguments)}function Rk(){var r=jN(M2());return r.copy=function(){return hf(r,Rk()).constant(r.constant())},vA.apply(r,arguments)}function FN(){var r=CN(M2());return r.copy=function(){return hf(r,FN()).exponent(r.exponent())},vA.apply(r,arguments)}function BW(){return FN.apply(null,arguments).exponent(.5)}const J3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ag,scaleDiverging:Dk,scaleDivergingLog:Mk,scaleDivergingPow:FN,scaleDivergingSqrt:BW,scaleDivergingSymlog:Rk,scaleIdentity:mk,scaleImplicit:IC,scaleLinear:Iv,scaleLog:vk,scaleOrdinal:pN,scalePoint:H0,scalePow:NN,scaleQuantile:bk,scaleQuantize:wk,scaleRadial:yk,scaleSequential:Ok,scaleSequentialLog:kk,scaleSequentialPow:PN,scaleSequentialQuantile:Fk,scaleSequentialSqrt:SW,scaleSequentialSymlog:Pk,scaleSqrt:oQ,scaleSymlog:xk,scaleThreshold:jk,scaleTime:CW,scaleUtc:NW,tickFormat:pk},Symbol.toStringTag,{value:"Module"}));var Iw,eI;function R2(){if(eI)return Iw;eI=1;var r=Bm();function e(n,a,i){for(var s=-1,c=n.length;++s<c;){var l=n[s],u=a(l);if(u!=null&&(o===void 0?u===u&&!r(u):i(u,o)))var o=u,d=l}return d}return Iw=e,Iw}var Tw,tI;function Lk(){if(tI)return Tw;tI=1;function r(e,n){return e>n}return Tw=r,Tw}var _w,rI;function EW(){if(rI)return _w;rI=1;var r=R2(),e=Lk(),n=Tm();function a(i){return i&&i.length?r(i,n,e):void 0}return _w=a,_w}var IW=EW();const L2=Zi(IW);var Ow,nI;function Uk(){if(nI)return Ow;nI=1;function r(e,n){return e<n}return Ow=r,Ow}var kw,aI;function TW(){if(aI)return kw;aI=1;var r=R2(),e=Uk(),n=Tm();function a(i){return i&&i.length?r(i,n,e):void 0}return kw=a,kw}var _W=TW();const U2=Zi(_W);var Pw,iI;function OW(){if(iI)return Pw;iI=1;var r=Y4(),e=Fh(),n=qO(),a=Mu();function i(s,c){var l=a(s)?r:n;return l(s,e(c,3))}return Pw=i,Pw}var Fw,sI;function kW(){if(sI)return Fw;sI=1;var r=KO(),e=OW();function n(a,i){return r(e(a,i),1)}return Fw=n,Fw}var PW=kW();const FW=Zi(PW);var Dw,oI;function DW(){if(oI)return Dw;oI=1;var r=uN();function e(n,a){return r(n,a)}return Dw=e,Dw}var MW=DW();const Ug=Zi(MW);var Om=1e9,RW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MN,So=!0,Hd="[DecimalError] ",Zf=Hd+"Invalid argument: ",DN=Hd+"Exponent out of range: ",km=Math.floor,Qf=Math.pow,LW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sd,gc=1e7,mo=7,Hk=9007199254740991,kv=km(Hk/mo),Gn={};Gn.absoluteValue=Gn.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Gn.comparedTo=Gn.cmp=function(r){var e,n,a,i,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(a=s.d.length,i=r.d.length,e=0,n=a<i?a:i;e<n;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};Gn.decimalPlaces=Gn.dp=function(){var r=this,e=r.d.length-1,n=(e-r.e)*mo;if(e=r.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Gn.dividedBy=Gn.div=function(r){return dA(this,new this.constructor(r))};Gn.dividedToIntegerBy=Gn.idiv=function(r){var e=this,n=e.constructor;return zs(dA(e,new n(r),0,1),n.precision)};Gn.equals=Gn.eq=function(r){return!this.cmp(r)};Gn.exponent=function(){return Cl(this)};Gn.greaterThan=Gn.gt=function(r){return this.cmp(r)>0};Gn.greaterThanOrEqualTo=Gn.gte=function(r){return this.cmp(r)>=0};Gn.isInteger=Gn.isint=function(){return this.e>this.d.length-2};Gn.isNegative=Gn.isneg=function(){return this.s<0};Gn.isPositive=Gn.ispos=function(){return this.s>0};Gn.isZero=function(){return this.s===0};Gn.lessThan=Gn.lt=function(r){return this.cmp(r)<0};Gn.lessThanOrEqualTo=Gn.lte=function(r){return this.cmp(r)<1};Gn.logarithm=Gn.log=function(r){var e,n=this,a=n.constructor,i=a.precision,s=i+5;if(r===void 0)r=new a(10);else if(r=new a(r),r.s<1||r.eq(sd))throw Error(Hd+"NaN");if(n.s<1)throw Error(Hd+(n.s?"NaN":"-Infinity"));return n.eq(sd)?new a(0):(So=!1,e=dA(cg(n,s),cg(r,s),s),So=!0,zs(e,i))};Gn.minus=Gn.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?$k(e,r):Qk(e,(r.s=-r.s,r))};Gn.modulo=Gn.mod=function(r){var e,n=this,a=n.constructor,i=a.precision;if(r=new a(r),!r.s)throw Error(Hd+"NaN");return n.s?(So=!1,e=dA(n,r,0,1).times(r),So=!0,n.minus(e)):zs(new a(n),i)};Gn.naturalExponential=Gn.exp=function(){return Wk(this)};Gn.naturalLogarithm=Gn.ln=function(){return cg(this)};Gn.negated=Gn.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Gn.plus=Gn.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Qk(e,r):$k(e,(r.s=-r.s,r))};Gn.precision=Gn.sd=function(r){var e,n,a,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Zf+r);if(e=Cl(i)+1,a=i.d.length-1,n=a*mo+1,a=i.d[a],a){for(;a%10==0;a/=10)n--;for(a=i.d[0];a>=10;a/=10)n++}return r&&e>n?e:n};Gn.squareRoot=Gn.sqrt=function(){var r,e,n,a,i,s,c,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Hd+"NaN")}for(r=Cl(l),So=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Sh(l.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=km((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),a=new u(e)):a=new u(i.toString()),n=u.precision,i=c=n+3;;)if(s=a,a=s.plus(dA(l,s,c+2)).times(.5),Sh(s.d).slice(0,c)===(e=Sh(a.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(zs(s,n+1,0),s.times(s).eq(l)){a=s;break}}else if(e!="9999")break;c+=4}return So=!0,zs(a,n)};Gn.times=Gn.mul=function(r){var e,n,a,i,s,c,l,u,o,d=this,h=d.constructor,A=d.d,f=(r=new h(r)).d;if(!d.s||!r.s)return new h(0);for(r.s*=d.s,n=d.e+r.e,u=A.length,o=f.length,u<o&&(s=A,A=f,f=s,c=u,u=o,o=c),s=[],c=u+o,a=c;a--;)s.push(0);for(a=o;--a>=0;){for(e=0,i=u+a;i>a;)l=s[i]+f[a]*A[i-a-1]+e,s[i--]=l%gc|0,e=l/gc|0;s[i]=(s[i]+e)%gc|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),r.d=s,r.e=n,So?zs(r,h.precision):r};Gn.toDecimalPlaces=Gn.todp=function(r,e){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(_h(r,0,Om),e===void 0?e=a.rounding:_h(e,0,8),zs(n,r+Cl(n)+1,e))};Gn.toExponential=function(r,e){var n,a=this,i=a.constructor;return r===void 0?n=ap(a,!0):(_h(r,0,Om),e===void 0?e=i.rounding:_h(e,0,8),a=zs(new i(a),r+1,e),n=ap(a,!0,r+1)),n};Gn.toFixed=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?ap(i):(_h(r,0,Om),e===void 0?e=s.rounding:_h(e,0,8),a=zs(new s(i),r+Cl(i)+1,e),n=ap(a.abs(),!1,r+Cl(a)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Gn.toInteger=Gn.toint=function(){var r=this,e=r.constructor;return zs(new e(r),Cl(r)+1,e.rounding)};Gn.toNumber=function(){return+this};Gn.toPower=Gn.pow=function(r){var e,n,a,i,s,c,l=this,u=l.constructor,o=12,d=+(r=new u(r));if(!r.s)return new u(sd);if(l=new u(l),!l.s){if(r.s<1)throw Error(Hd+"Infinity");return l}if(l.eq(sd))return l;if(a=u.precision,r.eq(sd))return zs(l,a);if(e=r.e,n=r.d.length-1,c=e>=n,s=l.s,c){if((n=d<0?-d:d)<=Hk){for(i=new u(sd),e=Math.ceil(a/mo+4),So=!1;n%2&&(i=i.times(l),cI(i.d,e)),n=km(n/2),n!==0;)l=l.times(l),cI(l.d,e);return So=!0,r.s<0?new u(sd).div(i):zs(i,a)}}else if(s<0)throw Error(Hd+"NaN");return s=s<0&&r.d[Math.max(e,n)]&1?-1:1,l.s=1,So=!1,i=r.times(cg(l,a+o)),So=!0,i=Wk(i),i.s=s,i};Gn.toPrecision=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?(n=Cl(i),a=ap(i,n<=s.toExpNeg||n>=s.toExpPos)):(_h(r,1,Om),e===void 0?e=s.rounding:_h(e,0,8),i=zs(new s(i),r,e),n=Cl(i),a=ap(i,r<=n||n<=s.toExpNeg,r)),a};Gn.toSignificantDigits=Gn.tosd=function(r,e){var n=this,a=n.constructor;return r===void 0?(r=a.precision,e=a.rounding):(_h(r,1,Om),e===void 0?e=a.rounding:_h(e,0,8)),zs(new a(n),r,e)};Gn.toString=Gn.valueOf=Gn.val=Gn.toJSON=Gn[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Cl(r),n=r.constructor;return ap(r,e<=n.toExpNeg||e>=n.toExpPos)};function Qk(r,e){var n,a,i,s,c,l,u,o,d=r.constructor,h=d.precision;if(!r.s||!e.s)return e.s||(e=new d(r)),So?zs(e,h):e;if(u=r.d,o=e.d,c=r.e,i=e.e,u=u.slice(),s=c-i,s){for(s<0?(a=u,s=-s,l=o.length):(a=o,i=c,l=u.length),c=Math.ceil(h/mo),l=c>l?c+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=u.length,s=o.length,l-s<0&&(s=l,a=o,o=u,u=a),n=0;s;)n=(u[--s]=u[s]+o[s]+n)/gc|0,u[s]%=gc;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,So?zs(e,h):e}function _h(r,e,n){if(r!==~~r||r<e||r>n)throw Error(Zf+r)}function Sh(r){var e,n,a,i=r.length-1,s="",c=r[0];if(i>0){for(s+=c,e=1;e<i;e++)a=r[e]+"",n=mo-a.length,n&&(s+=KA(n)),s+=a;c=r[e],a=c+"",n=mo-a.length,n&&(s+=KA(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var dA=(function(){function r(a,i){var s,c=0,l=a.length;for(a=a.slice();l--;)s=a[l]*i+c,a[l]=s%gc|0,c=s/gc|0;return c&&a.unshift(c),a}function e(a,i,s,c){var l,u;if(s!=c)u=s>c?1:-1;else for(l=u=0;l<s;l++)if(a[l]!=i[l]){u=a[l]>i[l]?1:-1;break}return u}function n(a,i,s){for(var c=0;s--;)a[s]-=c,c=a[s]<i[s]?1:0,a[s]=c*gc+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,c){var l,u,o,d,h,A,f,g,m,x,y,b,w,N,S,j,_,k,Z=a.constructor,ee=a.s==i.s?1:-1,V=a.d,re=i.d;if(!a.s)return new Z(a);if(!i.s)throw Error(Hd+"Division by zero");for(u=a.e-i.e,_=re.length,S=V.length,f=new Z(ee),g=f.d=[],o=0;re[o]==(V[o]||0);)++o;if(re[o]>(V[o]||0)&&--u,s==null?b=s=Z.precision:c?b=s+(Cl(a)-Cl(i))+1:b=s,b<0)return new Z(0);if(b=b/mo+2|0,o=0,_==1)for(d=0,re=re[0],b++;(o<S||d)&&b--;o++)w=d*gc+(V[o]||0),g[o]=w/re|0,d=w%re|0;else{for(d=gc/(re[0]+1)|0,d>1&&(re=r(re,d),V=r(V,d),_=re.length,S=V.length),N=_,m=V.slice(0,_),x=m.length;x<_;)m[x++]=0;k=re.slice(),k.unshift(0),j=re[0],re[1]>=gc/2&&++j;do d=0,l=e(re,m,_,x),l<0?(y=m[0],_!=x&&(y=y*gc+(m[1]||0)),d=y/j|0,d>1?(d>=gc&&(d=gc-1),h=r(re,d),A=h.length,x=m.length,l=e(h,m,A,x),l==1&&(d--,n(h,_<A?k:re,A))):(d==0&&(l=d=1),h=re.slice()),A=h.length,A<x&&h.unshift(0),n(m,h,x),l==-1&&(x=m.length,l=e(re,m,_,x),l<1&&(d++,n(m,_<x?k:re,x))),x=m.length):l===0&&(d++,m=[0]),g[o++]=d,l&&m[0]?m[x++]=V[N]||0:(m=[V[N]],x=1);while((N++<S||m[0]!==void 0)&&b--)}return g[0]||g.shift(),f.e=u,zs(f,c?s+Cl(f)+1:s)}})();function Wk(r,e){var n,a,i,s,c,l,u=0,o=0,d=r.constructor,h=d.precision;if(Cl(r)>16)throw Error(DN+Cl(r));if(!r.s)return new d(sd);for(So=!1,l=h,c=new d(.03125);r.abs().gte(.1);)r=r.times(c),o+=5;for(a=Math.log(Qf(2,o))/Math.LN10*2+5|0,l+=a,n=i=s=new d(sd),d.precision=l;;){if(i=zs(i.times(r),l),n=n.times(++u),c=s.plus(dA(i,n,l)),Sh(c.d).slice(0,l)===Sh(s.d).slice(0,l)){for(;o--;)s=zs(s.times(s),l);return d.precision=h,e==null?(So=!0,zs(s,h)):s}s=c}}function Cl(r){for(var e=r.e*mo,n=r.d[0];n>=10;n/=10)e++;return e}function Mw(r,e,n){if(e>r.LN10.sd())throw So=!0,n&&(r.precision=n),Error(Hd+"LN10 precision limit exceeded");return zs(new r(r.LN10),e)}function KA(r){for(var e="";r--;)e+="0";return e}function cg(r,e){var n,a,i,s,c,l,u,o,d,h=1,A=10,f=r,g=f.d,m=f.constructor,x=m.precision;if(f.s<1)throw Error(Hd+(f.s?"NaN":"-Infinity"));if(f.eq(sd))return new m(0);if(e==null?(So=!1,o=x):o=e,f.eq(10))return e==null&&(So=!0),Mw(m,o);if(o+=A,m.precision=o,n=Sh(g),a=n.charAt(0),s=Cl(f),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)f=f.times(r),n=Sh(f.d),a=n.charAt(0),h++;s=Cl(f),a>1?(f=new m("0."+n),s++):f=new m(a+"."+n.slice(1))}else return u=Mw(m,o+2,x).times(s+""),f=cg(new m(a+"."+n.slice(1)),o-A).plus(u),m.precision=x,e==null?(So=!0,zs(f,x)):f;for(l=c=f=dA(f.minus(sd),f.plus(sd),o),d=zs(f.times(f),o),i=3;;){if(c=zs(c.times(d),o),u=l.plus(dA(c,new m(i),o)),Sh(u.d).slice(0,o)===Sh(l.d).slice(0,o))return l=l.times(2),s!==0&&(l=l.plus(Mw(m,o+2,x).times(s+""))),l=dA(l,new m(h),o),m.precision=x,e==null?(So=!0,zs(l,x)):l;l=u,i+=2}}function lI(r,e){var n,a,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charCodeAt(a)===48;)++a;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(a,i),e){if(i-=a,n=n-a-1,r.e=km(n/mo),r.d=[],a=(n+1)%mo,n<0&&(a+=mo),a<i){for(a&&r.d.push(+e.slice(0,a)),i-=mo;a<i;)r.d.push(+e.slice(a,a+=mo));e=e.slice(a),a=mo-e.length}else a-=i;for(;a--;)e+="0";if(r.d.push(+e),So&&(r.e>kv||r.e<-kv))throw Error(DN+n)}else r.s=0,r.e=0,r.d=[0];return r}function zs(r,e,n){var a,i,s,c,l,u,o,d,h=r.d;for(c=1,s=h[0];s>=10;s/=10)c++;if(a=e-c,a<0)a+=mo,i=e,o=h[d=0];else{if(d=Math.ceil((a+1)/mo),s=h.length,d>=s)return r;for(o=s=h[d],c=1;s>=10;s/=10)c++;a%=mo,i=a-mo+c}if(n!==void 0&&(s=Qf(10,c-i-1),l=o/s%10|0,u=e<0||h[d+1]!==void 0||o%s,u=n<4?(l||u)&&(n==0||n==(r.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(a>0?i>0?o/Qf(10,c-i):0:h[d-1])%10&1||n==(r.s<0?8:7))),e<1||!h[0])return u?(s=Cl(r),h.length=1,e=e-s-1,h[0]=Qf(10,(mo-e%mo)%mo),r.e=km(-e/mo)||0):(h.length=1,h[0]=r.e=r.s=0),r;if(a==0?(h.length=d,s=1,d--):(h.length=d+1,s=Qf(10,mo-a),h[d]=i>0?(o/Qf(10,c-i)%Qf(10,i)|0)*s:0),u)for(;;)if(d==0){(h[0]+=s)==gc&&(h[0]=1,++r.e);break}else{if(h[d]+=s,h[d]!=gc)break;h[d--]=0,s=1}for(a=h.length;h[--a]===0;)h.pop();if(So&&(r.e>kv||r.e<-kv))throw Error(DN+Cl(r));return r}function $k(r,e){var n,a,i,s,c,l,u,o,d,h,A=r.constructor,f=A.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new A(r),So?zs(e,f):e;if(u=r.d,h=e.d,a=e.e,o=r.e,u=u.slice(),c=o-a,c){for(d=c<0,d?(n=u,c=-c,l=h.length):(n=h,a=o,l=u.length),i=Math.max(Math.ceil(f/mo),l)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=h[i]){d=u[i]<h[i];break}c=0}for(d&&(n=u,u=h,h=n,e.s=-e.s),l=u.length,i=h.length-l;i>0;--i)u[l++]=0;for(i=h.length;i>c;){if(u[--i]<h[i]){for(s=i;s&&u[--s]===0;)u[s]=gc-1;--u[s],u[i]+=gc}u[i]-=h[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(e.d=u,e.e=a,So?zs(e,f):e):new A(0)}function ap(r,e,n){var a,i=Cl(r),s=Sh(r.d),c=s.length;return e?(n&&(a=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+KA(a):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+KA(-i-1)+s,n&&(a=n-c)>0&&(s+=KA(a))):i>=c?(s+=KA(i+1-c),n&&(a=n-i-1)>0&&(s=s+"."+KA(a))):((a=i+1)<c&&(s=s.slice(0,a)+"."+s.slice(a)),n&&(a=n-c)>0&&(i+1===c&&(s+="."),s+=KA(a))),r.s<0?"-"+s:s}function cI(r,e){if(r.length>e)return r.length=e,!0}function Vk(r){var e,n,a;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zf+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return lI(c,s.toString())}else if(typeof s!="string")throw Error(Zf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,LW.test(s))lI(c,s);else throw Error(Zf+s)}if(i.prototype=Gn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Vk,i.config=i.set=UW,r===void 0&&(r={}),r)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<a.length;)r.hasOwnProperty(n=a[e++])||(r[n]=this[n]);return i.config(r),i}function UW(r){if(!r||typeof r!="object")throw Error(Hd+"Object expected");var e,n,a,i=["precision",1,Om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((a=r[n=i[e]])!==void 0)if(km(a)===a&&a>=i[e+1]&&a<=i[e+2])this[n]=a;else throw Error(Zf+n+": "+a);if((a=r[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Zf+n+": "+a);return this}var MN=Vk(RW);sd=new MN(1);const Us=MN;function HW(r){return VW(r)||$W(r)||WW(r)||QW()}function QW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(r,e){if(r){if(typeof r=="string")return kC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(r,e)}}function $W(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function VW(r){if(Array.isArray(r))return kC(r)}function kC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var zW=function(e){return e},zk={},Kk=function(e){return e===zk},uI=function(e){return function n(){return arguments.length===0||arguments.length===1&&Kk(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},KW=function r(e,n){return e===1?n:uI(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var c=i.filter(function(l){return l!==zk}).length;return c>=e?n.apply(void 0,i):r(e-c,uI(function(){for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];var d=i.map(function(h){return Kk(h)?u.shift():h});return n.apply(void 0,HW(d).concat(u))}))})},H2=function(e){return KW(e.length,e)},PC=function(e,n){for(var a=[],i=e;i<n;++i)a[i-e]=i;return a},GW=H2(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(n){return e[n]}).map(r)}),qW=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!n.length)return zW;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},FC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Gk=function(e){var n=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return n&&s.every(function(l,u){return l===n[u]})||(n=s,a=e.apply(void 0,s)),a}};function XW(r){var e;return r===0?e=1:e=Math.floor(new Us(r).abs().log(10).toNumber())+1,e}function YW(r,e,n){for(var a=new Us(r),i=0,s=[];a.lt(e)&&i<1e5;)s.push(a.toNumber()),a=a.add(n),i++;return s}var ZW=H2(function(r,e,n){var a=+r,i=+e;return a+n*(i-a)}),JW=H2(function(r,e,n){var a=e-+r;return a=a||1/0,(n-r)/a}),e$=H2(function(r,e,n){var a=e-+r;return a=a||1/0,Math.max(0,Math.min(1,(n-r)/a))});const Q2={rangeStep:YW,getDigitCount:XW,interpolateNumber:ZW,uninterpolateNumber:JW,uninterpolateTruncation:e$};function DC(r){return n$(r)||r$(r)||qk(r)||t$()}function t$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function n$(r){if(Array.isArray(r))return MC(r)}function ug(r,e){return s$(r)||i$(r,e)||qk(r,e)||a$()}function a$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qk(r,e){if(r){if(typeof r=="string")return MC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(r,e)}}function MC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function i$(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,i=!1,s=void 0;try{for(var c=r[Symbol.iterator](),l;!(a=(l=c.next()).done)&&(n.push(l.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&c.return!=null&&c.return()}finally{if(i)throw s}}return n}}function s$(r){if(Array.isArray(r))return r}function Xk(r){var e=ug(r,2),n=e[0],a=e[1],i=n,s=a;return n>a&&(i=a,s=n),[i,s]}function Yk(r,e,n){if(r.lte(0))return new Us(0);var a=Q2.getDigitCount(r.toNumber()),i=new Us(10).pow(a),s=r.div(i),c=a!==1?.05:.1,l=new Us(Math.ceil(s.div(c).toNumber())).add(n).mul(c),u=l.mul(i);return e?u:new Us(Math.ceil(u))}function o$(r,e,n){var a=1,i=new Us(r);if(!i.isint()&&n){var s=Math.abs(r);s<1?(a=new Us(10).pow(Q2.getDigitCount(r)-1),i=new Us(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new Us(Math.floor(r)))}else r===0?i=new Us(Math.floor((e-1)/2)):n||(i=new Us(Math.floor(r)));var c=Math.floor((e-1)/2),l=qW(GW(function(u){return i.add(new Us(u-c).mul(a)).toNumber()}),PC);return l(0,e)}function Zk(r,e,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(n-1)))return{step:new Us(0),tickMin:new Us(0),tickMax:new Us(0)};var s=Yk(new Us(e).sub(r).div(n-1),a,i),c;r<=0&&e>=0?c=new Us(0):(c=new Us(r).add(e).div(2),c=c.sub(new Us(c).mod(s)));var l=Math.ceil(c.sub(r).div(s).toNumber()),u=Math.ceil(new Us(e).sub(c).div(s).toNumber()),o=l+u+1;return o>n?Zk(r,e,n,a,i+1):(o<n&&(u=e>0?u+(n-o):u,l=e>0?l:l+(n-o)),{step:s,tickMin:c.sub(new Us(l).mul(s)),tickMax:c.add(new Us(u).mul(s))})}function l$(r){var e=ug(r,2),n=e[0],a=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),l=Xk([n,a]),u=ug(l,2),o=u[0],d=u[1];if(o===-1/0||d===1/0){var h=d===1/0?[o].concat(DC(PC(0,i-1).map(function(){return 1/0}))):[].concat(DC(PC(0,i-1).map(function(){return-1/0})),[d]);return n>a?FC(h):h}if(o===d)return o$(o,i,s);var A=Zk(o,d,c,s),f=A.step,g=A.tickMin,m=A.tickMax,x=Q2.rangeStep(g,m.add(new Us(.1).mul(f)),f);return n>a?FC(x):x}function c$(r,e){var n=ug(r,2),a=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Xk([a,i]),l=ug(c,2),u=l[0],o=l[1];if(u===-1/0||o===1/0)return[a,i];if(u===o)return[u];var d=Math.max(e,2),h=Yk(new Us(o).sub(u).div(d-1),s,0),A=[].concat(DC(Q2.rangeStep(new Us(u),new Us(o).sub(new Us(.99).mul(h)),h)),[o]);return a>i?FC(A):A}var u$=Gk(l$),d$=Gk(c$),h$="Invariant failed";function ip(r,e){throw new Error(h$)}var A$=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sm(r){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(r)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Pv.apply(this,arguments)}function f$(r,e){return v$(r)||g$(r,e)||m$(r,e)||p$()}function p$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$(r,e){if(r){if(typeof r=="string")return dI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(r,e)}}function dI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function g$(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function v$(r){if(Array.isArray(r))return r}function x$(r,e){if(r==null)return{};var n=y$(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function y$(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function b$(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function w$(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,tP(a.key),a)}}function j$(r,e,n){return e&&w$(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function C$(r,e,n){return e=Fv(e),N$(r,Jk()?Reflect.construct(e,n||[],Fv(r).constructor):e.apply(r,n))}function N$(r,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S$(r)}function S$(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Jk(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jk=function(){return!!r})()}function Fv(r){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(r)}function B$(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&RC(r,e)}function RC(r,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},RC(r,e)}function eP(r,e,n){return e=tP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tP(r){var e=E$(r,"string");return sm(e)=="symbol"?e:e+""}function E$(r,e){if(sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Hg=(function(r){function e(){return b$(this,e),C$(this,e,arguments)}return B$(e,r),j$(e,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,c=a.width,l=a.dataKey,u=a.data,o=a.dataPointFormatter,d=a.xAxis,h=a.yAxis,A=x$(a,A$),f=_a(A,!1);this.props.direction==="x"&&d.type!=="number"&&ip();var g=u.map(function(m){var x=o(m,l),y=x.x,b=x.y,w=x.value,N=x.errorVal;if(!N)return null;var S=[],j,_;if(Array.isArray(N)){var k=f$(N,2);j=k[0],_=k[1]}else j=_=N;if(s==="vertical"){var Z=d.scale,ee=b+i,V=ee+c,re=ee-c,R=Z(w-j),Y=Z(w+_);S.push({x1:Y,y1:V,x2:Y,y2:re}),S.push({x1:R,y1:ee,x2:Y,y2:ee}),S.push({x1:R,y1:V,x2:R,y2:re})}else if(s==="horizontal"){var L=h.scale,$=y+i,je=$-c,ge=$+c,Ie=L(w-j),_e=L(w+_);S.push({x1:je,y1:_e,x2:ge,y2:_e}),S.push({x1:$,y1:Ie,x2:$,y2:_e}),S.push({x1:je,y1:Ie,x2:ge,y2:Ie})}return St.createElement(is,Pv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},f),S.map(function(fe){return St.createElement("line",Pv({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return St.createElement(is,{className:"recharts-errorBars"},g)}}])})(St.Component);eP(Hg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});eP(Hg,"displayName","ErrorBar");function dg(r){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(r)}function hI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Tf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(a){I$(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function I$(r,e,n){return e=T$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function T$(r){var e=_$(r,"string");return dg(e)=="symbol"?e:e+""}function _$(r,e){if(dg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(dg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var rP=function(e){var n=e.children,a=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,c=nd(n,Nh);if(!c)return null;var l=Nh.defaultProps,u=l!==void 0?Tf(Tf({},l),c.props):{},o;return c.props&&c.props.payload?o=c.props&&c.props.payload:s==="children"?o=(a||[]).reduce(function(d,h){var A=h.item,f=h.props,g=f.sectors||f.data||[];return d.concat(g.map(function(m){return{type:c.props.iconType||A.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):o=(a||[]).map(function(d){var h=d.item,A=h.type.defaultProps,f=A!==void 0?Tf(Tf({},A),h.props):{},g=f.dataKey,m=f.name,x=f.legendType,y=f.hide;return{inactive:y,dataKey:g,type:u.iconType||x||"square",color:RN(h),value:m||g,payload:f}}),Tf(Tf(Tf({},u),Nh.getWithHeight(c,i)),{},{payload:o,item:c})};function hg(r){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(r)}function AI(r){return F$(r)||P$(r)||k$(r)||O$()}function O$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k$(r,e){if(r){if(typeof r=="string")return LC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(r,e)}}function P$(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function F$(r){if(Array.isArray(r))return LC(r)}function LC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function fI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Jo(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(a){Yp(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Yp(r,e,n){return e=D$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function D$(r){var e=M$(r,"string");return hg(e)=="symbol"?e:e+""}function M$(r,e){if(hg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(hg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zl(r,e,n){return li(r)||li(e)?n:Gl(e)?od(r,e,n):qa(e)?e(r):n}function Q0(r,e,n,a){var i=FW(r,function(l){return zl(l,e)});if(n==="number"){var s=i.filter(function(l){return mn(l)||parseFloat(l)});return s.length?[U2(s),L2(s)]:[1/0,-1/0]}var c=a?i.filter(function(l){return!li(l)}):i;return c.map(function(l){return Gl(l)||l instanceof Date?l:""})}var R$=function(e){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,o=0;o<l;o++){var d=o>0?i[o-1].coordinate:i[l-1].coordinate,h=i[o].coordinate,A=o>=l-1?i[0].coordinate:i[o+1].coordinate,f=void 0;if(vu(h-d)!==vu(A-h)){var g=[];if(vu(A-h)===vu(u[1]-u[0])){f=A;var m=h+u[1]-u[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{f=d;var x=A+u[1]-u[0];g[0]=Math.min(h,(x+h)/2),g[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){c=i[o].index;break}}else{var b=Math.min(d,A),w=Math.max(d,A);if(e>(b+h)/2&&e<=(w+h)/2){c=i[o].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<l-1&&e>(a[N].coordinate+a[N-1].coordinate)/2&&e<=(a[N].coordinate+a[N+1].coordinate)/2||N===l-1&&e>(a[N].coordinate+a[N-1].coordinate)/2){c=a[N].index;break}return c},RN=function(e){var n,a=e,i=a.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jo(Jo({},e.type.defaultProps),e.props):e.props,c=s.stroke,l=s.fill,u;switch(i){case"Line":u=c;break;case"Area":case"Radar":u=c&&c!=="none"?c:l;break;default:u=l;break}return u},L$=function(e){var n=e.barSize,a=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var c={},l=Object.keys(s),u=0,o=l.length;u<o;u++)for(var d=s[l[u]].stackGroups,h=Object.keys(d),A=0,f=h.length;A<f;A++){var g=d[h[A]],m=g.items,x=g.cateAxisId,y=m.filter(function(_){return uA(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Jo(Jo({},b),y[0].props):y[0].props,N=w.barSize,S=w[x];c[S]||(c[S]=[]);var j=li(N)?n:N;c[S].push({item:y[0],stackList:y.slice(1),barSize:li(j)?void 0:xu(j,a,0)})}}return c},U$=function(e){var n=e.barGap,a=e.barCategoryGap,i=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,l=e.maxBarSize,u=c.length;if(u<1)return null;var o=xu(n,i,0,!0),d,h=[];if(c[0].barSize===+c[0].barSize){var A=!1,f=i/u,g=c.reduce(function(N,S){return N+S.barSize||0},0);g+=(u-1)*o,g>=i&&(g-=(u-1)*o,o=0),g>=i&&f>0&&(A=!0,f*=.9,g=u*f);var m=(i-g)/2>>0,x={offset:m-o,size:0};d=c.reduce(function(N,S){var j={item:S.item,position:{offset:x.offset+x.size+o,size:A?f:S.barSize}},_=[].concat(AI(N),[j]);return x=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){_.push({item:k,position:x})}),_},h)}else{var y=xu(a,i,0,!0);i-2*y-(u-1)*o<=0&&(o=0);var b=(i-2*y-(u-1)*o)/u;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=c.reduce(function(N,S,j){var _=[].concat(AI(N),[{item:S.item,position:{offset:y+(b+o)*j+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},h)}return d},H$=function(e,n,a,i){var s=a.children,c=a.width,l=a.margin,u=c-(l.left||0)-(l.right||0),o=rP({children:s,legendWidth:u});if(o){var d=i||{},h=d.width,A=d.height,f=o.align,g=o.verticalAlign,m=o.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&f!=="center"&&mn(e[f]))return Jo(Jo({},e),{},Yp({},f,e[f]+(h||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&g!=="middle"&&mn(e[g]))return Jo(Jo({},e),{},Yp({},g,e[g]+(A||0)))}return e},Q$=function(e,n,a){return li(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},nP=function(e,n,a,i,s){var c=n.props.children,l=ld(c,Hg).filter(function(o){return Q$(i,s,o.props.direction)});if(l&&l.length){var u=l.map(function(o){return o.props.dataKey});return e.reduce(function(o,d){var h=zl(d,a);if(li(h))return o;var A=Array.isArray(h)?[U2(h),L2(h)]:[h,h],f=u.reduce(function(g,m){var x=zl(d,m,0),y=A[0]-Math.abs(Array.isArray(x)?x[0]:x),b=A[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(f[0],o[0]),Math.max(f[1],o[1])]},[1/0,-1/0])}return null},W$=function(e,n,a,i,s){var c=n.map(function(l){return nP(e,l,a,s,i)}).filter(function(l){return!li(l)});return c&&c.length?c.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},aP=function(e,n,a,i,s){var c=n.map(function(u){var o=u.props.dataKey;return a==="number"&&o&&nP(e,u,o,i)||Q0(e,o,a,s)});if(a==="number")return c.reduce(function(u,o){return[Math.min(u[0],o[0]),Math.max(u[1],o[1])]},[1/0,-1/0]);var l={};return c.reduce(function(u,o){for(var d=0,h=o.length;d<h;d++)l[o[d]]||(l[o[d]]=!0,u.push(o[d]));return u},[])},iP=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},sP=function(e,n,a,i){if(i)return e.map(function(u){return u.coordinate});var s,c,l=e.map(function(u){return u.coordinate===n&&(s=!0),u.coordinate===a&&(c=!0),u.coordinate});return s||l.push(n),c||l.push(a),l},lA=function(e,n,a){if(!e)return null;var i=e.scale,s=e.duplicateDomain,c=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(n||a)&&c==="category"&&i.bandwidth?i.bandwidth()/u:0;if(o=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?vu(l[0]-l[1])*2*o:o,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var A=s?s.indexOf(h):h;return{coordinate:i(A)+o,value:h,offset:o}});return d.filter(function(h){return!Pg(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,A){return{coordinate:i(h)+o,value:h,index:A,offset:o}}):i.ticks&&!a?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+o,value:h,offset:o}}):i.domain().map(function(h,A){return{coordinate:i(h)+o,value:s?s[h]:h,index:A,offset:o}})},Rw=new WeakMap,i1=function(e,n){if(typeof n!="function")return e;Rw.has(e)||Rw.set(e,new WeakMap);var a=Rw.get(e);if(a.has(n))return a.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,i),i},oP=function(e,n,a){var i=e.scale,s=e.type,c=e.layout,l=e.axisType;if(i==="auto")return c==="radial"&&l==="radiusAxis"?{scale:ag(),realScaleType:"band"}:c==="radial"&&l==="angleAxis"?{scale:Iv(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:H0(),realScaleType:"point"}:s==="category"?{scale:ag(),realScaleType:"band"}:{scale:Iv(),realScaleType:"linear"};if(kg(i)){var u="scale".concat(C2(i));return{scale:(J3[u]||H0)(),realScaleType:J3[u]?u:"point"}}return qa(i)?{scale:i}:{scale:H0(),realScaleType:"point"}},pI=1e-4,lP=function(e){var n=e.domain();if(!(!n||n.length<=2)){var a=n.length,i=e.range(),s=Math.min(i[0],i[1])-pI,c=Math.max(i[0],i[1])+pI,l=e(n[0]),u=e(n[a-1]);(l<s||l>c||u<s||u>c)&&e.domain([n[0],n[a-1]])}},$$=function(e,n){if(!e)return null;for(var a=0,i=e.length;a<i;a++)if(e[a].item===n)return e[a].position;return null},V$=function(e,n){if(!n||n.length!==2||!mn(n[0])||!mn(n[1]))return e;var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!mn(e[0])||e[0]<a)&&(s[0]=a),(!mn(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},z$=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0,l=0;l<n;++l){var u=Pg(e[l][a][1])?e[l][a][0]:e[l][a][1];u>=0?(e[l][a][0]=s,e[l][a][1]=s+u,s=e[l][a][1]):(e[l][a][0]=c,e[l][a][1]=c+u,c=e[l][a][1])}},K$=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0;c<n;++c){var l=Pg(e[c][a][1])?e[c][a][0]:e[c][a][1];l>=0?(e[c][a][0]=s,e[c][a][1]=s+l,s=e[c][a][1]):(e[c][a][0]=0,e[c][a][1]=0)}},G$={sign:z$,expand:PL,none:Zp,silhouette:FL,wiggle:DL,positive:K$},q$=function(e,n,a){var i=n.map(function(l){return l.props.dataKey}),s=G$[a],c=kL().keys(i).value(function(l,u){return+zl(l,u,0)}).order(pC).offset(s);return c(e)},X$=function(e,n,a,i,s,c){if(!e)return null;var l=c?n.reverse():n,u={},o=l.reduce(function(h,A){var f,g=(f=A.type)!==null&&f!==void 0&&f.defaultProps?Jo(Jo({},A.type.defaultProps),A.props):A.props,m=g.stackId,x=g.hide;if(x)return h;var y=g[a],b=h[y]||{hasStack:!1,stackGroups:{}};if(Gl(m)){var w=b.stackGroups[m]||{numericAxisId:a,cateAxisId:i,items:[]};w.items.push(A),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Im("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[A]};return Jo(Jo({},h),{},Yp({},y,b))},u),d={};return Object.keys(o).reduce(function(h,A){var f=o[A];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,x){var y=f.stackGroups[x];return Jo(Jo({},m),{},Yp({},x,{numericAxisId:a,cateAxisId:i,items:y.items,stackedData:q$(e,y.items,s)}))},g)}return Jo(Jo({},h),{},Yp({},A,f))},d)},cP=function(e,n){var a=n.realScaleType,i=n.type,s=n.tickCount,c=n.originalDomain,l=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var o=e.domain();if(!o.length)return null;var d=u$(o,s,l);return e.domain([U2(d),L2(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),A=d$(h,s,l);return{niceTicks:A}}return null};function mI(r){var e=r.axis,n=r.ticks,a=r.bandSize,i=r.entry,s=r.index,c=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!li(i[e.dataKey])){var l=uv(n,"value",i[e.dataKey]);if(l)return l.coordinate+a/2}return n[s]?n[s].coordinate+a/2:null}var u=zl(i,li(c)?e.dataKey:c);return li(u)?null:e.scale(u)}var gI=function(e){var n=e.axis,a=e.ticks,i=e.offset,s=e.bandSize,c=e.entry,l=e.index;if(n.type==="category")return a[l]?a[l].coordinate+i:null;var u=zl(c,n.dataKey,n.domain[l]);return li(u)?null:n.scale(u)-s/2+i},Y$=function(e){var n=e.numericAxis,a=n.scale.domain();if(n.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},Z$=function(e,n){var a,i=(a=e.type)!==null&&a!==void 0&&a.defaultProps?Jo(Jo({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Gl(s)){var c=n[s];if(c){var l=c.items.indexOf(e);return l>=0?c.stackedData[l]:null}}return null},J$=function(e){return e.reduce(function(n,a){return[U2(a.concat([n[0]]).filter(mn)),L2(a.concat([n[1]]).filter(mn))]},[1/0,-1/0])},uP=function(e,n,a){return Object.keys(e).reduce(function(i,s){var c=e[s],l=c.stackedData,u=l.reduce(function(o,d){var h=J$(d.slice(n,a+1));return[Math.min(o[0],h[0]),Math.max(o[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},vI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UC=function(e,n,a){if(qa(e))return e(n,a);if(!Array.isArray(e))return n;var i=[];if(mn(e[0]))i[0]=a?e[0]:Math.min(e[0],n[0]);else if(vI.test(e[0])){var s=+vI.exec(e[0])[1];i[0]=n[0]-s}else qa(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(mn(e[1]))i[1]=a?e[1]:Math.max(e[1],n[1]);else if(xI.test(e[1])){var c=+xI.exec(e[1])[1];i[1]=n[1]+c}else qa(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Dv=function(e,n,a){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!a||i>0)return i}if(e&&n&&n.length>=2){for(var s=hN(n,function(h){return h.coordinate}),c=1/0,l=1,u=s.length;l<u;l++){var o=s[l],d=s[l-1];c=Math.min((o.coordinate||0)-(d.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},yI=function(e,n,a){return!e||!e.length||Ug(e,od(a,"type.defaultProps.domain"))?n:e},dP=function(e,n){var a=e.type.defaultProps?Jo(Jo({},e.type.defaultProps),e.props):e.props,i=a.dataKey,s=a.name,c=a.unit,l=a.formatter,u=a.tooltipType,o=a.chartType,d=a.hide;return Jo(Jo({},_a(e,!1)),{},{dataKey:i,unit:c,formatter:l,name:s||i,color:RN(e),value:zl(n,i),type:u,payload:n,chartType:o,hide:d})};function Ag(r){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(r)}function bI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function aA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(a){hP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function hP(r,e,n){return e=eV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function eV(r){var e=tV(r,"string");return Ag(e)=="symbol"?e:e+""}function tV(r,e){if(Ag(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function rV(r,e){return sV(r)||iV(r,e)||aV(r,e)||nV()}function nV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aV(r,e){if(r){if(typeof r=="string")return wI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wI(r,e)}}function wI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function iV(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function sV(r){if(Array.isArray(r))return r}var Mv=Math.PI/180,oV=function(e){return e*180/Math.PI},no=function(e,n,a,i){return{x:e+Math.cos(-Mv*i)*a,y:n+Math.sin(-Mv*i)*a}},AP=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},lV=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.startAngle,o=e.endAngle,d=xu(e.cx,c,c/2),h=xu(e.cy,l,l/2),A=AP(c,l,a),f=xu(e.innerRadius,A,0),g=xu(e.outerRadius,A,A*.8),m=Object.keys(n);return m.reduce(function(x,y){var b=n[y],w=b.domain,N=b.reversed,S;if(li(b.range))i==="angleAxis"?S=[u,o]:i==="radiusAxis"&&(S=[f,g]),N&&(S=[S[1],S[0]]);else{S=b.range;var j=S,_=rV(j,2);u=_[0],o=_[1]}var k=oP(b,s),Z=k.realScaleType,ee=k.scale;ee.domain(w).range(S),lP(ee);var V=cP(ee,aA(aA({},b),{},{realScaleType:Z})),re=aA(aA(aA({},b),V),{},{range:S,radius:g,realScaleType:Z,scale:ee,cx:d,cy:h,innerRadius:f,outerRadius:g,startAngle:u,endAngle:o});return aA(aA({},x),{},hP({},y,re))},{})},cV=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-c,2))},uV=function(e,n){var a=e.x,i=e.y,s=n.cx,c=n.cy,l=cV({x:a,y:i},{x:s,y:c});if(l<=0)return{radius:l};var u=(a-s)/l,o=Math.acos(u);return i>c&&(o=2*Math.PI-o),{radius:l,angle:oV(o),angleInRadian:o}},dV=function(e){var n=e.startAngle,a=e.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return{startAngle:n-c*360,endAngle:a-c*360}},hV=function(e,n){var a=n.startAngle,i=n.endAngle,s=Math.floor(a/360),c=Math.floor(i/360),l=Math.min(s,c);return e+l*360},jI=function(e,n){var a=e.x,i=e.y,s=uV({x:a,y:i},n),c=s.radius,l=s.angle,u=n.innerRadius,o=n.outerRadius;if(c<u||c>o)return!1;if(c===0)return!0;var d=dV(n),h=d.startAngle,A=d.endAngle,f=l,g;if(h<=A){for(;f>A;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=A}else{for(;f>h;)f-=360;for(;f<A;)f+=360;g=f>=A&&f<=h}return g?aA(aA({},n),{},{radius:c,angle:hV(f,n)}):null},fP=function(e){return!P.isValidElement(e)&&!qa(e)&&typeof e!="boolean"?e.className:""};function fg(r){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(r)}var AV=["offset"];function fV(r){return vV(r)||gV(r)||mV(r)||pV()}function pV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mV(r,e){if(r){if(typeof r=="string")return HC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(r,e)}}function gV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vV(r){if(Array.isArray(r))return HC(r)}function HC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function xV(r,e){if(r==null)return{};var n=yV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function yV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function CI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Ul(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(a){bV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function bV(r,e,n){return e=wV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function wV(r){var e=jV(r,"string");return fg(e)=="symbol"?e:e+""}function jV(r,e){if(fg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pg(){return pg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},pg.apply(this,arguments)}var CV=function(e){var n=e.value,a=e.formatter,i=li(e.children)?n:e.children;return qa(a)?a(i):i},NV=function(e,n){var a=vu(n-e),i=Math.min(Math.abs(n-e),360);return a*i},SV=function(e,n,a){var i=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,o=u.cx,d=u.cy,h=u.innerRadius,A=u.outerRadius,f=u.startAngle,g=u.endAngle,m=u.clockWise,x=(h+A)/2,y=NV(f,g),b=y>=0?1:-1,w,N;i==="insideStart"?(w=f+b*c,N=m):i==="insideEnd"?(w=g-b*c,N=!m):i==="end"&&(w=g+b*c,N=m),N=y<=0?N:!N;var S=no(o,d,x,w),j=no(o,d,x,w+(N?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),k=li(e.id)?Im("recharts-radial-line-"):e.id;return St.createElement("text",pg({},a,{dominantBaseline:"central",className:gi("recharts-radial-bar-label",l)}),St.createElement("defs",null,St.createElement("path",{id:k,d:_})),St.createElement("textPath",{xlinkHref:"#".concat(k)},n))},BV=function(e){var n=e.viewBox,a=e.offset,i=e.position,s=n,c=s.cx,l=s.cy,u=s.innerRadius,o=s.outerRadius,d=s.startAngle,h=s.endAngle,A=(d+h)/2;if(i==="outside"){var f=no(c,l,o+a,A),g=f.x,m=f.y;return{x:g,y:m,textAnchor:g>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+o)/2,y=no(c,l,x,A),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},EV=function(e){var n=e.viewBox,a=e.parentViewBox,i=e.offset,s=e.position,c=n,l=c.x,u=c.y,o=c.width,d=c.height,h=d>=0?1:-1,A=h*i,f=h>0?"end":"start",g=h>0?"start":"end",m=o>=0?1:-1,x=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(s==="top"){var w={x:l+o/2,y:u-h*i,textAnchor:"middle",verticalAnchor:f};return Ul(Ul({},w),a?{height:Math.max(u-a.y,0),width:o}:{})}if(s==="bottom"){var N={x:l+o/2,y:u+d+A,textAnchor:"middle",verticalAnchor:g};return Ul(Ul({},N),a?{height:Math.max(a.y+a.height-(u+d),0),width:o}:{})}if(s==="left"){var S={x:l-x,y:u+d/2,textAnchor:y,verticalAnchor:"middle"};return Ul(Ul({},S),a?{width:Math.max(S.x-a.x,0),height:d}:{})}if(s==="right"){var j={x:l+o+x,y:u+d/2,textAnchor:b,verticalAnchor:"middle"};return Ul(Ul({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:d}:{})}var _=a?{width:o,height:d}:{};return s==="insideLeft"?Ul({x:l+x,y:u+d/2,textAnchor:b,verticalAnchor:"middle"},_):s==="insideRight"?Ul({x:l+o-x,y:u+d/2,textAnchor:y,verticalAnchor:"middle"},_):s==="insideTop"?Ul({x:l+o/2,y:u+A,textAnchor:"middle",verticalAnchor:g},_):s==="insideBottom"?Ul({x:l+o/2,y:u+d-A,textAnchor:"middle",verticalAnchor:f},_):s==="insideTopLeft"?Ul({x:l+x,y:u+A,textAnchor:b,verticalAnchor:g},_):s==="insideTopRight"?Ul({x:l+o-x,y:u+A,textAnchor:y,verticalAnchor:g},_):s==="insideBottomLeft"?Ul({x:l+x,y:u+d-A,textAnchor:b,verticalAnchor:f},_):s==="insideBottomRight"?Ul({x:l+o-x,y:u+d-A,textAnchor:y,verticalAnchor:f},_):Em(s)&&(mn(s.x)||zf(s.x))&&(mn(s.y)||zf(s.y))?Ul({x:l+xu(s.x,o),y:u+xu(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):Ul({x:l+o/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},IV=function(e){return"cx"in e&&mn(e.cx)};function vc(r){var e=r.offset,n=e===void 0?5:e,a=xV(r,AV),i=Ul({offset:n},a),s=i.viewBox,c=i.position,l=i.value,u=i.children,o=i.content,d=i.className,h=d===void 0?"":d,A=i.textBreakAll;if(!s||li(l)&&li(u)&&!P.isValidElement(o)&&!qa(o))return null;if(P.isValidElement(o))return P.cloneElement(o,i);var f;if(qa(o)){if(f=P.createElement(o,i),P.isValidElement(f))return f}else f=CV(i);var g=IV(s),m=_a(i,!0);if(g&&(c==="insideStart"||c==="insideEnd"||c==="end"))return SV(i,f,m);var x=g?BV(i):EV(i);return St.createElement(np,pg({className:gi("recharts-label",h)},m,x,{breakAll:A}),f)}vc.displayName="Label";var pP=function(e){var n=e.cx,a=e.cy,i=e.angle,s=e.startAngle,c=e.endAngle,l=e.r,u=e.radius,o=e.innerRadius,d=e.outerRadius,h=e.x,A=e.y,f=e.top,g=e.left,m=e.width,x=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(mn(m)&&mn(x)){if(mn(h)&&mn(A))return{x:h,y:A,width:m,height:x};if(mn(f)&&mn(g))return{x:f,y:g,width:m,height:x}}return mn(h)&&mn(A)?{x:h,y:A,width:0,height:0}:mn(n)&&mn(a)?{cx:n,cy:a,startAngle:s||i||0,endAngle:c||i||0,innerRadius:o||0,outerRadius:d||u||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},TV=function(e,n){return e?e===!0?St.createElement(vc,{key:"label-implicit",viewBox:n}):Gl(e)?St.createElement(vc,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===vc?P.cloneElement(e,{key:"label-implicit",viewBox:n}):St.createElement(vc,{key:"label-implicit",content:e,viewBox:n}):qa(e)?St.createElement(vc,{key:"label-implicit",content:e,viewBox:n}):Em(e)?St.createElement(vc,pg({viewBox:n},e,{key:"label-implicit"})):null:null},_V=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var i=e.children,s=pP(e),c=ld(i,vc).map(function(u,o){return P.cloneElement(u,{viewBox:n||s,key:"label-".concat(o)})});if(!a)return c;var l=TV(e.label,n||s);return[l].concat(fV(c))};vc.parseViewBox=pP;vc.renderCallByParent=_V;var Lw,NI;function OV(){if(NI)return Lw;NI=1;function r(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Lw=r,Lw}var kV=OV();const PV=Zi(kV);function mg(r){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}var FV=["valueAccessor"],DV=["data","dataKey","clockWise","id","textBreakAll"];function MV(r){return HV(r)||UV(r)||LV(r)||RV()}function RV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LV(r,e){if(r){if(typeof r=="string")return QC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(r,e)}}function UV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function HV(r){if(Array.isArray(r))return QC(r)}function QC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function Rv(){return Rv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Rv.apply(this,arguments)}function SI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function BI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(a){QV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function QV(r,e,n){return e=WV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function WV(r){var e=$V(r,"string");return mg(e)=="symbol"?e:e+""}function $V(r,e){if(mg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function EI(r,e){if(r==null)return{};var n=VV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function VV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var zV=function(e){return Array.isArray(e.value)?PV(e.value):e.value};function hA(r){var e=r.valueAccessor,n=e===void 0?zV:e,a=EI(r,FV),i=a.data,s=a.dataKey,c=a.clockWise,l=a.id,u=a.textBreakAll,o=EI(a,DV);return!i||!i.length?null:St.createElement(is,{className:"recharts-label-list"},i.map(function(d,h){var A=li(s)?n(d,h):zl(d&&d.payload,s),f=li(l)?{}:{id:"".concat(l,"-").concat(h)};return St.createElement(vc,Rv({},_a(d,!0),o,f,{parentViewBox:d.parentViewBox,value:A,textBreakAll:u,viewBox:vc.parseViewBox(li(c)?d:BI(BI({},d),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}hA.displayName="LabelList";function KV(r,e){return r?r===!0?St.createElement(hA,{key:"labelList-implicit",data:e}):St.isValidElement(r)||qa(r)?St.createElement(hA,{key:"labelList-implicit",data:e,content:r}):Em(r)?St.createElement(hA,Rv({data:e},r,{key:"labelList-implicit"})):null:null}function GV(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,i=ld(a,hA).map(function(c,l){return P.cloneElement(c,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=KV(r.label,e);return[s].concat(MV(i))}hA.renderCallByParent=GV;function gg(r){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(r)}function WC(){return WC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},WC.apply(this,arguments)}function II(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function TI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(a){qV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function qV(r,e,n){return e=XV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function XV(r){var e=YV(r,"string");return gg(e)=="symbol"?e:e+""}function YV(r,e){if(gg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(gg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ZV=function(e,n){var a=vu(n-e),i=Math.min(Math.abs(n-e),359.999);return a*i},s1=function(e){var n=e.cx,a=e.cy,i=e.radius,s=e.angle,c=e.sign,l=e.isExternal,u=e.cornerRadius,o=e.cornerIsExternal,d=u*(l?1:-1)+i,h=Math.asin(u/d)/Mv,A=o?s:s+c*h,f=no(n,a,d,A),g=no(n,a,i,A),m=o?s-c*h:s,x=no(n,a,d*Math.cos(h*Mv),m);return{center:f,circleTangency:g,lineTangency:x,theta:h}},mP=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.startAngle,l=e.endAngle,u=ZV(c,l),o=c+u,d=no(n,a,s,c),h=no(n,a,s,o),A="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(c>o),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var f=no(n,a,i,c),g=no(n,a,i,o);A+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(c<=o),`,
            `).concat(f.x,",").concat(f.y," Z")}else A+="L ".concat(n,",").concat(a," Z");return A},JV=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,o=e.startAngle,d=e.endAngle,h=vu(d-o),A=s1({cx:n,cy:a,radius:s,angle:o,sign:h,cornerRadius:c,cornerIsExternal:u}),f=A.circleTangency,g=A.lineTangency,m=A.theta,x=s1({cx:n,cy:a,radius:s,angle:d,sign:-h,cornerRadius:c,cornerIsExternal:u}),y=x.circleTangency,b=x.lineTangency,w=x.theta,N=u?Math.abs(o-d):Math.abs(o-d)-m-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):mP({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=s1({cx:n,cy:a,radius:i,angle:o,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),_=j.circleTangency,k=j.lineTangency,Z=j.theta,ee=s1({cx:n,cy:a,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),V=ee.circleTangency,re=ee.lineTangency,R=ee.theta,Y=u?Math.abs(o-d):Math.abs(o-d)-Z-R;if(Y<0&&c===0)return"".concat(S,"L").concat(n,",").concat(a,"Z");S+="L".concat(re.x,",").concat(re.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(a,"Z");return S},ez={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gP=function(e){var n=TI(TI({},ez),e),a=n.cx,i=n.cy,s=n.innerRadius,c=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,o=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,A=n.className;if(c<s||d===h)return null;var f=gi("recharts-sector",A),g=c-s,m=xu(l,g,0,!0),x;return m>0&&Math.abs(d-h)<360?x=JV({cx:a,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(m,g/2),forceCornerRadius:u,cornerIsExternal:o,startAngle:d,endAngle:h}):x=mP({cx:a,cy:i,innerRadius:s,outerRadius:c,startAngle:d,endAngle:h}),St.createElement("path",WC({},_a(n,!0),{className:f,d:x,role:"img"}))};function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}function $C(){return $C=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$C.apply(this,arguments)}function _I(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function OI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(a){tz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tz(r,e,n){return e=rz(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function rz(r){var e=nz(r,"string");return vg(e)=="symbol"?e:e+""}function nz(r,e){if(vg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var kI={curveBasisClosed:wL,curveBasisOpen:jL,curveBasis:bL,curveBumpX:oL,curveBumpY:lL,curveLinearClosed:CL,curveLinear:S2,curveMonotoneX:NL,curveMonotoneY:SL,curveNatural:BL,curveStep:EL,curveStepAfter:TL,curveStepBefore:IL},o1=function(e){return e.x===+e.x&&e.y===+e.y},Km=function(e){return e.x},Gm=function(e){return e.y},az=function(e,n){if(qa(e))return e;var a="curve".concat(C2(e));return(a==="curveMonotone"||a==="curveBump")&&n?kI["".concat(a).concat(n==="vertical"?"Y":"X")]:kI[a]||S2},iz=function(e){var n=e.type,a=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,c=e.baseLine,l=e.layout,u=e.connectNulls,o=u===void 0?!1:u,d=az(a,l),h=o?s.filter(function(m){return o1(m)}):s,A;if(Array.isArray(c)){var f=o?c.filter(function(m){return o1(m)}):c,g=h.map(function(m,x){return OI(OI({},m),{},{base:f[x]})});return l==="vertical"?A=Zg().y(Gm).x1(Km).x0(function(m){return m.base.x}):A=Zg().x(Km).y1(Gm).y0(function(m){return m.base.y}),A.defined(o1).curve(d),A(g)}return l==="vertical"&&mn(c)?A=Zg().y(Gm).x1(Km).x0(c):mn(c)?A=Zg().x(Km).y1(Gm).y0(c):A=mO().x(Km).y(Gm),A.defined(o1).curve(d),A(h)},Lv=function(e){var n=e.className,a=e.points,i=e.path,s=e.pathRef;if((!a||!a.length)&&!i)return null;var c=a&&a.length?iz(e):i;return St.createElement("path",$C({},_a(e,!1),dv(e),{className:gi("recharts-curve",n),d:c,ref:s}))},Uw={exports:{}},Hw,PI;function sz(){if(PI)return Hw;PI=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hw=r,Hw}var Qw,FI;function oz(){if(FI)return Qw;FI=1;var r=sz();function e(){}function n(){}return n.resetWarningCache=e,Qw=function(){function a(c,l,u,o,d,h){if(h!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Qw}var DI;function lz(){return DI||(DI=1,Uw.exports=oz()()),Uw.exports}var cz=lz();const Cs=Zi(cz),{getOwnPropertyNames:uz,getOwnPropertySymbols:dz}=Object,{hasOwnProperty:hz}=Object.prototype;function Ww(r,e){return function(a,i,s){return r(a,i,s)&&e(a,i,s)}}function l1(r){return function(n,a,i){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,i);const{cache:s}=i,c=s.get(n),l=s.get(a);if(c&&l)return c===a&&l===n;s.set(n,a),s.set(a,n);const u=r(n,a,i);return s.delete(n),s.delete(a),u}}function Az(r){return r!=null?r[Symbol.toStringTag]:void 0}function MI(r){return uz(r).concat(dz(r))}const fz=Object.hasOwn||((r,e)=>hz.call(r,e));function dp(r,e){return r===e||!r&&!e&&r!==r&&e!==e}const pz="__v",mz="__o",gz="_owner",{getOwnPropertyDescriptor:RI,keys:LI}=Object;function vz(r,e){return r.byteLength===e.byteLength&&Uv(new Uint8Array(r),new Uint8Array(e))}function xz(r,e,n){let a=r.length;if(e.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],e[a],a,a,r,e,n))return!1;return!0}function yz(r,e){return r.byteLength===e.byteLength&&Uv(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function bz(r,e){return dp(r.getTime(),e.getTime())}function wz(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function jz(r,e){return r===e}function UI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.entries();let c,l,u=0;for(;(c=s.next())&&!c.done;){const o=e.entries();let d=!1,h=0;for(;(l=o.next())&&!l.done;){if(i[h]){h++;continue}const A=c.value,f=l.value;if(n.equals(A[0],f[0],u,h,r,e,n)&&n.equals(A[1],f[1],A[0],f[0],r,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;u++}return!0}const Cz=dp;function Nz(r,e,n){const a=LI(r);let i=a.length;if(LI(e).length!==i)return!1;for(;i-- >0;)if(!vP(r,e,n,a[i]))return!1;return!0}function qm(r,e,n){const a=MI(r);let i=a.length;if(MI(e).length!==i)return!1;let s,c,l;for(;i-- >0;)if(s=a[i],!vP(r,e,n,s)||(c=RI(r,s),l=RI(e,s),(c||l)&&(!c||!l||c.configurable!==l.configurable||c.enumerable!==l.enumerable||c.writable!==l.writable)))return!1;return!0}function Sz(r,e){return dp(r.valueOf(),e.valueOf())}function Bz(r,e){return r.source===e.source&&r.flags===e.flags}function HI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.values();let c,l;for(;(c=s.next())&&!c.done;){const u=e.values();let o=!1,d=0;for(;(l=u.next())&&!l.done;){if(!i[d]&&n.equals(c.value,l.value,c.value,l.value,r,e,n)){o=i[d]=!0;break}d++}if(!o)return!1}return!0}function Uv(r,e){let n=r.byteLength;if(e.byteLength!==n||r.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(r[n]!==e[n])return!1;return!0}function Ez(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function vP(r,e,n,a){return(a===gz||a===mz||a===pz)&&(r.$$typeof||e.$$typeof)?!0:fz(e,a)&&n.equals(r[a],e[a],a,a,r,e,n)}const Iz="[object ArrayBuffer]",Tz="[object Arguments]",_z="[object Boolean]",Oz="[object DataView]",kz="[object Date]",Pz="[object Error]",Fz="[object Map]",Dz="[object Number]",Mz="[object Object]",Rz="[object RegExp]",Lz="[object Set]",Uz="[object String]",Hz={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Qz="[object URL]",Wz=Object.prototype.toString;function $z({areArrayBuffersEqual:r,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:o,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:A,areUrlsEqual:f,unknownTagComparators:g}){return function(x,y,b){if(x===y)return!0;if(x==null||y==null)return!1;const w=typeof x;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(x,y,b):w==="function"?s(x,y,b):!1;const N=x.constructor;if(N!==y.constructor)return!1;if(N===Object)return u(x,y,b);if(Array.isArray(x))return e(x,y,b);if(N===Date)return a(x,y,b);if(N===RegExp)return d(x,y,b);if(N===Map)return c(x,y,b);if(N===Set)return h(x,y,b);const S=Wz.call(x);if(S===kz)return a(x,y,b);if(S===Rz)return d(x,y,b);if(S===Fz)return c(x,y,b);if(S===Lz)return h(x,y,b);if(S===Mz)return typeof x.then!="function"&&typeof y.then!="function"&&u(x,y,b);if(S===Qz)return f(x,y,b);if(S===Pz)return i(x,y,b);if(S===Tz)return u(x,y,b);if(Hz[S])return A(x,y,b);if(S===Iz)return r(x,y,b);if(S===Oz)return n(x,y,b);if(S===_z||S===Dz||S===Uz)return o(x,y,b);if(g){let j=g[S];if(!j){const _=Az(x);_&&(j=g[_])}if(j)return j(x,y,b)}return!1}}function Vz({circular:r,createCustomConfig:e,strict:n}){let a={areArrayBuffersEqual:vz,areArraysEqual:n?qm:xz,areDataViewsEqual:yz,areDatesEqual:bz,areErrorsEqual:wz,areFunctionsEqual:jz,areMapsEqual:n?Ww(UI,qm):UI,areNumbersEqual:Cz,areObjectsEqual:n?qm:Nz,arePrimitiveWrappersEqual:Sz,areRegExpsEqual:Bz,areSetsEqual:n?Ww(HI,qm):HI,areTypedArraysEqual:n?Ww(Uv,qm):Uv,areUrlsEqual:Ez,unknownTagComparators:void 0};if(e&&(a=Object.assign({},a,e(a))),r){const i=l1(a.areArraysEqual),s=l1(a.areMapsEqual),c=l1(a.areObjectsEqual),l=l1(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:l})}return a}function zz(r){return function(e,n,a,i,s,c,l){return r(e,n,l)}}function Kz({circular:r,comparator:e,createState:n,equals:a,strict:i}){if(n)return function(l,u){const{cache:o=r?new WeakMap:void 0,meta:d}=n();return e(l,u,{cache:o,equals:a,meta:d,strict:i})};if(r)return function(l,u){return e(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};const s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return e(l,u,s)}}const Gz=Af();Af({strict:!0});Af({circular:!0});Af({circular:!0,strict:!0});Af({createInternalComparator:()=>dp});Af({strict:!0,createInternalComparator:()=>dp});Af({circular:!0,createInternalComparator:()=>dp});Af({circular:!0,createInternalComparator:()=>dp,strict:!0});function Af(r={}){const{circular:e=!1,createInternalComparator:n,createState:a,strict:i=!1}=r,s=Vz(r),c=$z(s),l=n?n(c):zz(c);return Kz({circular:e,comparator:c,createState:a,equals:l,strict:i})}function qz(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function QI(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function i(s){n<0&&(n=s),s-n>e?(r(s),n=-1):qz(i)};requestAnimationFrame(a)}function VC(r){"@babel/helpers - typeof";return VC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VC(r)}function Xz(r){return eK(r)||Jz(r)||Zz(r)||Yz()}function Yz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(r,e){if(r){if(typeof r=="string")return WI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(r,e)}}function WI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function Jz(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function eK(r){if(Array.isArray(r))return r}function tK(){var r={},e=function(){return null},n=!1,a=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,l=Xz(c),u=l[0],o=l.slice(1);if(typeof u=="number"){QI(i.bind(null,o),u);return}i(u),QI(i.bind(null,o));return}VC(s)==="object"&&(r=s,e(r)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,a(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function xg(r){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(r)}function $I(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function VI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(a){xP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function xP(r,e,n){return e=rK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function rK(r){var e=nK(r,"string");return xg(e)==="symbol"?e:String(e)}function nK(r,e){if(xg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(xg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var aK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},iK=function(e){return e},sK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},W0=function(e,n){return Object.keys(n).reduce(function(a,i){return VI(VI({},a),{},xP({},i,e(i,n[i])))},{})},zI=function(e,n,a){return e.map(function(i){return"".concat(sK(i)," ").concat(n,"ms ").concat(a)}).join(",")};function oK(r,e){return uK(r)||cK(r,e)||yP(r,e)||lK()}function lK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function uK(r){if(Array.isArray(r))return r}function dK(r){return fK(r)||AK(r)||yP(r)||hK()}function hK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yP(r,e){if(r){if(typeof r=="string")return zC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(r,e)}}function AK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function fK(r){if(Array.isArray(r))return zC(r)}function zC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var Hv=1e-4,bP=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},wP=function(e,n){return e.map(function(a,i){return a*Math.pow(n,i)}).reduce(function(a,i){return a+i})},KI=function(e,n){return function(a){var i=bP(e,n);return wP(i,a)}},pK=function(e,n){return function(a){var i=bP(e,n),s=[].concat(dK(i.map(function(c,l){return c*l}).slice(1)),[0]);return wP(s,a)}},GI=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0],s=n[1],c=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,c=1,l=1;break;case"ease":i=.25,s=.1,c=.25,l=1;break;case"ease-in":i=.42,s=0,c=1,l=1;break;case"ease-out":i=.42,s=0,c=.58,l=1;break;case"ease-in-out":i=0,s=0,c=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var o=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=oK(o,4);i=d[0],s=d[1],c=d[2],l=d[3]}}}var h=KI(i,c),A=KI(s,l),f=pK(i,c),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,N=0;N<8;++N){var S=h(w)-b,j=f(w);if(Math.abs(S-b)<Hv||j<Hv)return A(w);w=g(w-S/j)}return A(w)};return m.isStepper=!1,m},mK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,a=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,c=e.dt,l=c===void 0?17:c,u=function(d,h,A){var f=-(d-h)*a,g=A*s,m=A+(f-g)*l/1e3,x=A*l/1e3+d;return Math.abs(x-h)<Hv&&Math.abs(m)<Hv?[h,0]:[x,m]};return u.isStepper=!0,u.dt=l,u},gK=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GI(i);case"spring":return mK();default:if(i.split("(")[0]==="cubic-bezier")return GI(i)}return typeof i=="function"?i:null};function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}function qI(r){return yK(r)||xK(r)||jP(r)||vK()}function vK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function yK(r){if(Array.isArray(r))return GC(r)}function XI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Dc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(a){KC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function KC(r,e,n){return e=bK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bK(r){var e=wK(r,"string");return yg(e)==="symbol"?e:String(e)}function wK(r,e){if(yg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(yg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jK(r,e){return SK(r)||NK(r,e)||jP(r,e)||CK()}function CK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jP(r,e){if(r){if(typeof r=="string")return GC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(r,e)}}function GC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function NK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function SK(r){if(Array.isArray(r))return r}var Qv=function(e,n,a){return e+(n-e)*a},qC=function(e){var n=e.from,a=e.to;return n!==a},BK=function r(e,n,a){var i=W0(function(s,c){if(qC(c)){var l=e(c.from,c.to,c.velocity),u=jK(l,2),o=u[0],d=u[1];return Dc(Dc({},c),{},{from:o,velocity:d})}return c},n);return a<1?W0(function(s,c){return qC(c)?Dc(Dc({},c),{},{velocity:Qv(c.velocity,i[s].velocity,a),from:Qv(c.from,i[s].from,a)}):c},n):r(e,i,a-1)};const EK=(function(r,e,n,a,i){var s=aK(r,e),c=s.reduce(function(x,y){return Dc(Dc({},x),{},KC({},y,[r[y],e[y]]))},{}),l=s.reduce(function(x,y){return Dc(Dc({},x),{},KC({},y,{from:r[y],velocity:0,to:e[y]}))},{}),u=-1,o,d,h=function(){return null},A=function(){return W0(function(y,b){return b.from},l)},f=function(){return!Object.values(l).filter(qC).length},g=function(y){o||(o=y);var b=y-o,w=b/n.dt;l=BK(n,l,w),i(Dc(Dc(Dc({},r),e),A())),o=y,f()||(u=requestAnimationFrame(h))},m=function(y){d||(d=y);var b=(y-d)/a,w=W0(function(S,j){return Qv.apply(void 0,qI(j).concat([n(b)]))},c);if(i(Dc(Dc(Dc({},r),e),w)),b<1)u=requestAnimationFrame(h);else{var N=W0(function(S,j){return Qv.apply(void 0,qI(j).concat([n(1)]))},c);i(Dc(Dc(Dc({},r),e),N))}};return h=n.isStepper?g:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}});function om(r){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(r)}var IK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function TK(r,e){if(r==null)return{};var n=_K(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function _K(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function $w(r){return FK(r)||PK(r)||kK(r)||OK()}function OK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kK(r,e){if(r){if(typeof r=="string")return XC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(r,e)}}function PK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function FK(r){if(Array.isArray(r))return XC(r)}function XC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function YI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function rh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(a){I0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function I0(r,e,n){return e=CP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function DK(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function MK(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,CP(a.key),a)}}function RK(r,e,n){return e&&MK(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function CP(r){var e=LK(r,"string");return om(e)==="symbol"?e:String(e)}function LK(r,e){if(om(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(om(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function UK(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&YC(r,e)}function YC(r,e){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},YC(r,e)}function HK(r){var e=QK();return function(){var a=Wv(r),i;if(e){var s=Wv(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return ZC(this,i)}}function ZC(r,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JC(r)}function JC(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function QK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wv(r){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(r)}var Oh=(function(r){UK(n,r);var e=HK(n);function n(a,i){var s;DK(this,n),s=e.call(this,a,i);var c=s.props,l=c.isActive,u=c.attributeName,o=c.from,d=c.to,h=c.steps,A=c.children,f=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(JC(s)),s.changeStyle=s.changeStyle.bind(JC(s)),!l||f<=0)return s.state={style:{}},typeof A=="function"&&(s.state={style:d}),ZC(s);if(h&&h.length)s.state={style:h[0].style};else if(o){if(typeof A=="function")return s.state={style:o},ZC(s);s.state={style:u?I0({},u,o):o}}else s.state={style:{}};return s}return RK(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,c=i.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,c=s.isActive,l=s.canBegin,u=s.attributeName,o=s.shouldReAnimate,d=s.to,h=s.from,A=this.state.style;if(l){if(!c){var f={style:u?I0({},u,d):d};this.state&&A&&(u&&A[u]!==d||!u&&A!==d)&&this.setState(f);return}if(!(Gz(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||o?h:i.to;if(this.state&&A){var x={style:u?I0({},u,m):m};(u&&A[u]!==m||!u&&A!==m)&&this.setState(x)}this.runAnimation(rh(rh({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,c=i.from,l=i.to,u=i.duration,o=i.easing,d=i.begin,h=i.onAnimationEnd,A=i.onAnimationStart,f=EK(c,l,gK(o),u,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([A,d,g,u,h])}},{key:"runStepAnimation",value:function(i){var s=this,c=i.steps,l=i.begin,u=i.onAnimationStart,o=c[0],d=o.style,h=o.duration,A=h===void 0?0:h,f=function(m,x,y){if(y===0)return m;var b=x.duration,w=x.easing,N=w===void 0?"ease":w,S=x.style,j=x.properties,_=x.onAnimationEnd,k=y>0?c[y-1]:x,Z=j||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat($w(m),[s.runJSAnimation.bind(s,{from:k.style,to:S,duration:b,easing:N}),b]);var ee=zI(Z,b,N),V=rh(rh(rh({},k.style),S),{},{transition:ee});return[].concat($w(m),[V,b,_]).filter(iK)};return this.manager.start([u].concat($w(c.reduce(f,[d,Math.max(A,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=tK());var s=i.begin,c=i.duration,l=i.attributeName,u=i.to,o=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,A=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof o=="function"||typeof f=="function"||o==="spring"){this.runJSAnimation(i);return}if(A.length>1){this.runStepAnimation(i);return}var m=l?I0({},l,u):u,x=zI(Object.keys(m),c,o);g.start([d,s,rh(rh({},m),{},{transition:x}),c,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=TK(i,IK),o=P.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||o===0||c<=0)return s;var h=function(f){var g=f.props,m=g.style,x=m===void 0?{}:m,y=g.className,b=P.cloneElement(f,rh(rh({},u),{},{style:rh(rh({},x),d),className:y}));return b};return o===1?h(P.Children.only(s)):St.createElement("div",null,P.Children.map(s,function(A){return h(A)}))}}]),n})(P.PureComponent);Oh.displayName="Animate";Oh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oh.propTypes={from:Cs.oneOfType([Cs.object,Cs.string]),to:Cs.oneOfType([Cs.object,Cs.string]),attributeName:Cs.string,duration:Cs.number,begin:Cs.number,easing:Cs.oneOfType([Cs.string,Cs.func]),steps:Cs.arrayOf(Cs.shape({duration:Cs.number.isRequired,style:Cs.object.isRequired,easing:Cs.oneOfType([Cs.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Cs.func]),properties:Cs.arrayOf("string"),onAnimationEnd:Cs.func})),children:Cs.oneOfType([Cs.node,Cs.func]),isActive:Cs.bool,canBegin:Cs.bool,onAnimationEnd:Cs.func,shouldReAnimate:Cs.bool,onAnimationStart:Cs.func,onAnimationReStart:Cs.func};function bg(r){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(r)}function $v(){return $v=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$v.apply(this,arguments)}function WK(r,e){return KK(r)||zK(r,e)||VK(r,e)||$K()}function $K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(r,e){if(r){if(typeof r=="string")return ZI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZI(r,e)}}function ZI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function zK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function KK(r){if(Array.isArray(r))return r}function JI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function e8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(a){GK(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function GK(r,e,n){return e=qK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function qK(r){var e=XK(r,"string");return bg(e)=="symbol"?e:e+""}function XK(r,e){if(bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var t8=function(e,n,a,i,s){var c=Math.min(Math.abs(a)/2,Math.abs(i)/2),l=i>=0?1:-1,u=a>=0?1:-1,o=i>=0&&a>=0||i<0&&a<0?1:0,d;if(c>0&&s instanceof Array){for(var h=[0,0,0,0],A=0,f=4;A<f;A++)h[A]=s[A]>c?c:s[A];d="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(o,",").concat(e+u*h[0],",").concat(n)),d+="L ".concat(e+a-u*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(o,`,
        `).concat(e+a,",").concat(n+l*h[1])),d+="L ".concat(e+a,",").concat(n+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(o,`,
        `).concat(e+a-u*h[2],",").concat(n+i)),d+="L ".concat(e+u*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(o,`,
        `).concat(e,",").concat(n+i-l*h[3])),d+="Z"}else if(c>0&&s===+s&&s>0){var g=Math.min(c,s);d="M ".concat(e,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+u*g,",").concat(n,`
            L `).concat(e+a-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a,",").concat(n+l*g,`
            L `).concat(e+a,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a-u*g,",").concat(n+i,`
            L `).concat(e+u*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e,",").concat(n+i-l*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return d},YK=function(e,n){if(!e||!n)return!1;var a=e.x,i=e.y,s=n.x,c=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var o=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(c,c+u),A=Math.max(c,c+u);return a>=o&&a<=d&&i>=h&&i<=A}return!1},ZK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LN=function(e){var n=e8(e8({},ZK),e),a=P.useRef(),i=P.useState(-1),s=WK(i,2),c=s[0],l=s[1];P.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var u=n.x,o=n.y,d=n.width,h=n.height,A=n.radius,f=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(u!==+u||o!==+o||d!==+d||h!==+h||d===0||h===0)return null;var w=gi("recharts-rectangle",f);return b?St.createElement(Oh,{canBegin:c>0,from:{width:d,height:h,x:u,y:o},to:{width:d,height:h,x:u,y:o},duration:m,animationEasing:g,isActive:b},function(N){var S=N.width,j=N.height,_=N.x,k=N.y;return St.createElement(Oh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:y,easing:g},St.createElement("path",$v({},_a(n,!0),{className:w,d:t8(_,k,S,j,A),ref:a})))}):St.createElement("path",$v({},_a(n,!0),{className:w,d:t8(u,o,d,h,A)}))},JK=["points","className","baseLinePoints","connectNulls"];function Up(){return Up=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Up.apply(this,arguments)}function eG(r,e){if(r==null)return{};var n=tG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function tG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function r8(r){return iG(r)||aG(r)||nG(r)||rG()}function rG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(r,e){if(r){if(typeof r=="string")return e4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e4(r,e)}}function aG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function iG(r){if(Array.isArray(r))return e4(r)}function e4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var n8=function(e){return e&&e.x===+e.x&&e.y===+e.y},sG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(a){n8(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),n8(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},$0=function(e,n){var a=sG(e);n&&(a=[a.reduce(function(s,c){return[].concat(r8(s),r8(c))},[])]);var i=a.map(function(s){return s.reduce(function(c,l,u){return"".concat(c).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(i,"Z"):i},oG=function(e,n,a){var i=$0(e,a);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($0(n.reverse(),a).slice(1))},lG=function(e){var n=e.points,a=e.className,i=e.baseLinePoints,s=e.connectNulls,c=eG(e,JK);if(!n||!n.length)return null;var l=gi("recharts-polygon",a);if(i&&i.length){var u=c.stroke&&c.stroke!=="none",o=oG(n,i,s);return St.createElement("g",{className:l},St.createElement("path",Up({},_a(c,!0),{fill:o.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:o})),u?St.createElement("path",Up({},_a(c,!0),{fill:"none",d:$0(n,s)})):null,u?St.createElement("path",Up({},_a(c,!0),{fill:"none",d:$0(i,s)})):null)}var d=$0(n,s);return St.createElement("path",Up({},_a(c,!0),{fill:d.slice(-1)==="Z"?c.fill:"none",className:l,d}))};function t4(){return t4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},t4.apply(this,arguments)}var W2=function(e){var n=e.cx,a=e.cy,i=e.r,s=e.className,c=gi("recharts-dot",s);return n===+n&&a===+a&&i===+i?St.createElement("circle",t4({},_a(e,!1),dv(e),{className:c,cx:n,cy:a,r:i})):null};function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}var cG=["x","y","top","left","width","height","className"];function r4(){return r4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},r4.apply(this,arguments)}function a8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function uG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(a){dG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function dG(r,e,n){return e=hG(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function hG(r){var e=AG(r,"string");return wg(e)=="symbol"?e:e+""}function AG(r,e){if(wg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(wg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function fG(r,e){if(r==null)return{};var n=pG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function pG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var mG=function(e,n,a,i,s,c){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(a)},gG=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.top,l=c===void 0?0:c,u=e.left,o=u===void 0?0:u,d=e.width,h=d===void 0?0:d,A=e.height,f=A===void 0?0:A,g=e.className,m=fG(e,cG),x=uG({x:a,y:s,top:l,left:o,width:h,height:f},m);return!mn(a)||!mn(s)||!mn(h)||!mn(f)||!mn(l)||!mn(o)?null:St.createElement("path",r4({},_a(x,!0),{className:gi("recharts-cross",g),d:mG(a,s,h,f,l,o)}))},Vw,i8;function vG(){if(i8)return Vw;i8=1;var r=R2(),e=Lk(),n=Fh();function a(i,s){return i&&i.length?r(i,n(s,2),e):void 0}return Vw=a,Vw}var xG=vG();const yG=Zi(xG);var zw,s8;function bG(){if(s8)return zw;s8=1;var r=R2(),e=Fh(),n=Uk();function a(i,s){return i&&i.length?r(i,e(s,2),n):void 0}return zw=a,zw}var wG=bG();const jG=Zi(wG);var CG=["cx","cy","angle","ticks","axisLine"],NG=["ticks","tick","angle","tickFormatter","stroke"];function lm(r){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(r)}function V0(){return V0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},V0.apply(this,arguments)}function o8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function _f(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(n),!0).forEach(function(a){$2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function l8(r,e){if(r==null)return{};var n=SG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function SG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function BG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function c8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,SP(a.key),a)}}function EG(r,e,n){return e&&c8(r.prototype,e),n&&c8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function IG(r,e,n){return e=Vv(e),TG(r,NP()?Reflect.construct(e,n||[],Vv(r).constructor):e.apply(r,n))}function TG(r,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _G(r)}function _G(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NP=function(){return!!r})()}function Vv(r){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(r)}function OG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&n4(r,e)}function n4(r,e){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},n4(r,e)}function $2(r,e,n){return e=SP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function SP(r){var e=kG(r,"string");return lm(e)=="symbol"?e:e+""}function kG(r,e){if(lm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var V2=(function(r){function e(){return BG(this,e),IG(this,e,arguments)}return OG(e,r),EG(e,[{key:"getTickValueCoord",value:function(a){var i=a.coordinate,s=this.props,c=s.angle,l=s.cx,u=s.cy;return no(l,u,i,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,i;switch(a){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=yG(l,function(d){return d.coordinate||0}),o=jG(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:c,endAngle:c,innerRadius:o.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=a.axisLine,o=l8(a,CG),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),h=no(i,s,d[0],c),A=no(i,s,d[1],c),f=_f(_f(_f({},_a(o,!1)),{},{fill:"none"},_a(u,!1)),{},{x1:h.x,y1:h.y,x2:A.x,y2:A.y});return St.createElement("line",V0({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.angle,u=i.tickFormatter,o=i.stroke,d=l8(i,NG),h=this.getTickTextAnchor(),A=_a(d,!1),f=_a(c,!1),g=s.map(function(m,x){var y=a.getTickValueCoord(m),b=_f(_f(_f(_f({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},A),{},{stroke:"none",fill:o},f),{},{index:x},y),{},{payload:m});return St.createElement(is,V0({className:gi("recharts-polar-radius-axis-tick",fP(c)),key:"tick-".concat(m.coordinate)},rp(a.props,m,x)),e.renderTickItem(c,b,u?u(m.value,x):m.value))});return St.createElement(is,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.axisLine,c=a.tick;return!i||!i.length?null:St.createElement(is,{className:gi("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),vc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return St.isValidElement(a)?c=St.cloneElement(a,i):qa(a)?c=a(i):c=St.createElement(np,V0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(P.PureComponent);$2(V2,"displayName","PolarRadiusAxis");$2(V2,"axisType","radiusAxis");$2(V2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cm(r){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(r)}function $f(){return $f=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$f.apply(this,arguments)}function u8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Of(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(n),!0).forEach(function(a){z2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function PG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function d8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,EP(a.key),a)}}function FG(r,e,n){return e&&d8(r.prototype,e),n&&d8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function DG(r,e,n){return e=zv(e),MG(r,BP()?Reflect.construct(e,n||[],zv(r).constructor):e.apply(r,n))}function MG(r,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RG(r)}function RG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function BP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!r})()}function zv(r){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(r)}function LG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&a4(r,e)}function a4(r,e){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},a4(r,e)}function z2(r,e,n){return e=EP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function EP(r){var e=UG(r,"string");return cm(e)=="symbol"?e:e+""}function UG(r,e){if(cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var HG=Math.PI/180,h8=1e-5,K2=(function(r){function e(){return PG(this,e),DG(this,e,arguments)}return LG(e,r),FG(e,[{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.cx,c=i.cy,l=i.radius,u=i.orientation,o=i.tickSize,d=o||8,h=no(s,c,l,a.coordinate),A=no(s,c,l+(u==="inner"?-1:1)*d,a.coordinate);return{x1:h.x,y1:h.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(a){var i=this.props.orientation,s=Math.cos(-a.coordinate*HG),c;return s>h8?c=i==="outer"?"start":"end":s<-h8?c=i==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.radius,l=a.axisLine,u=a.axisLineType,o=Of(Of({},_a(this.props,!1)),{},{fill:"none"},_a(l,!1));if(u==="circle")return St.createElement(W2,$f({className:"recharts-polar-angle-axis-line"},o,{cx:i,cy:s,r:c}));var d=this.props.ticks,h=d.map(function(A){return no(i,s,c,A.coordinate)});return St.createElement(lG,$f({className:"recharts-polar-angle-axis-line"},o,{points:h}))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.tickLine,u=i.tickFormatter,o=i.stroke,d=_a(this.props,!1),h=_a(c,!1),A=Of(Of({},d),{},{fill:"none"},_a(l,!1)),f=s.map(function(g,m){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),b=Of(Of(Of({textAnchor:y},d),{},{stroke:"none",fill:o},h),{},{index:m,payload:g,x:x.x2,y:x.y2});return St.createElement(is,$f({className:gi("recharts-polar-angle-axis-tick",fP(c)),key:"tick-".concat(g.coordinate)},rp(a.props,g,m)),l&&St.createElement("line",$f({className:"recharts-polar-angle-axis-tick-line"},A,x)),c&&e.renderTickItem(c,b,u?u(g.value,m):g.value))});return St.createElement(is,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.radius,c=a.axisLine;return s<=0||!i||!i.length?null:St.createElement(is,{className:gi("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,i,s){var c;return St.isValidElement(a)?c=St.cloneElement(a,i):qa(a)?c=a(i):c=St.createElement(np,$f({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(P.PureComponent);z2(K2,"displayName","PolarAngleAxis");z2(K2,"axisType","angleAxis");z2(K2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Kw,A8;function QG(){if(A8)return Kw;A8=1;var r=LO(),e=r(Object.getPrototypeOf,Object);return Kw=e,Kw}var Gw,f8;function WG(){if(f8)return Gw;f8=1;var r=mA(),e=QG(),n=gA(),a="[object Object]",i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);function o(d){if(!n(d)||r(d)!=a)return!1;var h=e(d);if(h===null)return!0;var A=l.call(h,"constructor")&&h.constructor;return typeof A=="function"&&A instanceof A&&c.call(A)==u}return Gw=o,Gw}var $G=WG();const VG=Zi($G);var qw,p8;function zG(){if(p8)return qw;p8=1;var r=mA(),e=gA(),n="[object Boolean]";function a(i){return i===!0||i===!1||e(i)&&r(i)==n}return qw=a,qw}var KG=zG();const GG=Zi(KG);function jg(r){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(r)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Kv.apply(this,arguments)}function qG(r,e){return JG(r)||ZG(r,e)||YG(r,e)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(r,e){if(r){if(typeof r=="string")return m8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m8(r,e)}}function m8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function ZG(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function JG(r){if(Array.isArray(r))return r}function g8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function v8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(n),!0).forEach(function(a){eq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function eq(r,e,n){return e=tq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tq(r){var e=rq(r,"string");return jg(e)=="symbol"?e:e+""}function rq(r,e){if(jg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var x8=function(e,n,a,i,s){var c=a-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+a,",").concat(n),l+="L ".concat(e+a-c/2,",").concat(n+s),l+="L ".concat(e+a-c/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},nq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aq=function(e){var n=v8(v8({},nq),e),a=P.useRef(),i=P.useState(-1),s=qG(i,2),c=s[0],l=s[1];P.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&l(w)}catch{}},[]);var u=n.x,o=n.y,d=n.upperWidth,h=n.lowerWidth,A=n.height,f=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(u!==+u||o!==+o||d!==+d||h!==+h||A!==+A||d===0&&h===0||A===0)return null;var b=gi("recharts-trapezoid",f);return y?St.createElement(Oh,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:A,x:u,y:o},to:{upperWidth:d,lowerWidth:h,height:A,x:u,y:o},duration:m,animationEasing:g,isActive:y},function(w){var N=w.upperWidth,S=w.lowerWidth,j=w.height,_=w.x,k=w.y;return St.createElement(Oh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},St.createElement("path",Kv({},_a(n,!0),{className:b,d:x8(_,k,N,S,j),ref:a})))}):St.createElement("g",null,St.createElement("path",Kv({},_a(n,!0),{className:b,d:x8(u,o,d,h,A)})))},iq=["option","shapeType","propTransformer","activeClassName","isActive"];function Cg(r){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(r)}function sq(r,e){if(r==null)return{};var n=oq(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function oq(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function y8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Gv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(a){lq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function lq(r,e,n){return e=cq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cq(r){var e=uq(r,"string");return Cg(e)=="symbol"?e:e+""}function uq(r,e){if(Cg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Cg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dq(r,e){return Gv(Gv({},e),r)}function hq(r,e){return r==="symbols"}function b8(r){var e=r.shapeType,n=r.elementProps;switch(e){case"rectangle":return St.createElement(LN,n);case"trapezoid":return St.createElement(aq,n);case"sector":return St.createElement(gP,n);case"symbols":if(hq(e))return St.createElement(aN,n);break;default:return null}}function Aq(r){return P.isValidElement(r)?r.props:r}function IP(r){var e=r.option,n=r.shapeType,a=r.propTransformer,i=a===void 0?dq:a,s=r.activeClassName,c=s===void 0?"recharts-active-shape":s,l=r.isActive,u=sq(r,iq),o;if(P.isValidElement(e))o=P.cloneElement(e,Gv(Gv({},u),Aq(e)));else if(qa(e))o=e(u);else if(VG(e)&&!GG(e)){var d=i(e,u);o=St.createElement(b8,{shapeType:n,elementProps:d})}else{var h=u;o=St.createElement(b8,{shapeType:n,elementProps:h})}return l?St.createElement(is,{className:c},o):o}function G2(r,e){return e!=null&&"trapezoids"in r.props}function q2(r,e){return e!=null&&"sectors"in r.props}function Ng(r,e){return e!=null&&"points"in r.props}function fq(r,e){var n,a,i=r.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===e.x,s=r.y===(e==null||(a=e.labelViewBox)===null||a===void 0?void 0:a.y)||r.y===e.y;return i&&s}function pq(r,e){var n=r.endAngle===e.endAngle,a=r.startAngle===e.startAngle;return n&&a}function mq(r,e){var n=r.x===e.x,a=r.y===e.y,i=r.z===e.z;return n&&a&&i}function gq(r,e){var n;return G2(r,e)?n=fq:q2(r,e)?n=pq:Ng(r,e)&&(n=mq),n}function vq(r,e){var n;return G2(r,e)?n="trapezoids":q2(r,e)?n="sectors":Ng(r,e)&&(n="points"),n}function xq(r,e){if(G2(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(q2(r,e)){var a;return(a=e.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Ng(r,e)?e.payload:{}}function yq(r){var e=r.activeTooltipItem,n=r.graphicalItem,a=r.itemData,i=vq(n,e),s=xq(n,e),c=a.filter(function(u,o){var d=Ug(s,u),h=n.props[i].filter(function(g){var m=gq(n,e);return m(g,e)}),A=n.props[i].indexOf(h[h.length-1]),f=o===A;return d&&f}),l=a.indexOf(c[c.length-1]);return l}var rv;function um(r){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(r)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Hp.apply(this,arguments)}function w8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function to(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(a){Md(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function bq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function j8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,_P(a.key),a)}}function wq(r,e,n){return e&&j8(r.prototype,e),n&&j8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function jq(r,e,n){return e=qv(e),Cq(r,TP()?Reflect.construct(e,n||[],qv(r).constructor):e.apply(r,n))}function Cq(r,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nq(r)}function Nq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function TP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TP=function(){return!!r})()}function qv(r){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(r)}function Sq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&i4(r,e)}function i4(r,e){return i4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},i4(r,e)}function Md(r,e,n){return e=_P(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _P(r){var e=Bq(r,"string");return um(e)=="symbol"?e:e+""}function Bq(r,e){if(um(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(um(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xA=(function(r){function e(n){var a;return bq(this,e),a=jq(this,e,[n]),Md(a,"pieRef",null),Md(a,"sectorRefs",[]),Md(a,"id",Im("recharts-pie-")),Md(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),qa(i)&&i()}),Md(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),qa(i)&&i()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return Sq(e,r),wq(e,[{key:"isActiveIndex",value:function(a){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(a)!==-1:a===i}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,l=s.labelLine,u=s.dataKey,o=s.valueKey,d=_a(this.props,!1),h=_a(c,!1),A=_a(l,!1),f=c&&c.offsetRadius||20,g=a.map(function(m,x){var y=(m.startAngle+m.endAngle)/2,b=no(m.cx,m.cy,m.outerRadius+f,y),w=to(to(to(to({},d),m),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(b.x,m.cx)},b),N=to(to(to(to({},d),m),{},{fill:"none",stroke:m.fill},A),{},{index:x,points:[no(m.cx,m.cy,m.outerRadius,y),b]}),S=u;return li(u)&&li(o)?S="value":li(u)&&(S=o),St.createElement(is,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(c,w,zl(m,S)))});return St.createElement(is,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var i=this,s=this.props,c=s.activeShape,l=s.blendStroke,u=s.inactiveShape;return a.map(function(o,d){if((o==null?void 0:o.startAngle)===0&&(o==null?void 0:o.endAngle)===0&&a.length!==1)return null;var h=i.isActiveIndex(d),A=u&&i.hasActiveIndex()?u:null,f=h?c:A,g=to(to({},o),{},{stroke:l?o.fill:o.stroke,tabIndex:-1});return St.createElement(is,Hp({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},rp(i.props,o,d),{key:"sector-".concat(o==null?void 0:o.startAngle,"-").concat(o==null?void 0:o.endAngle,"-").concat(o.midAngle,"-").concat(d)}),St.createElement(IP,Hp({option:f,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,i=this.props,s=i.sectors,c=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,o=i.animationEasing,d=i.animationId,h=this.state,A=h.prevSectors,f=h.prevIsAnimationActive;return St.createElement(Oh,{begin:l,duration:u,isActive:c,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,N){var S=A&&A[N],j=N>0?od(w,"paddingAngle",0):0;if(S){var _=id(S.endAngle-S.startAngle,w.endAngle-w.startAngle),k=to(to({},w),{},{startAngle:b+j,endAngle:b+_(m)+j});x.push(k),b=k.endAngle}else{var Z=w.endAngle,ee=w.startAngle,V=id(0,Z-ee),re=V(m),R=to(to({},w),{},{startAngle:b+j,endAngle:b+re+j});x.push(R),b=R.endAngle}}),St.createElement(is,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var i=this;a.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,i=a.sectors,s=a.isAnimationActive,c=this.state.prevSectors;return s&&i&&i.length&&(!c||!Ug(c,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,i=this.props,s=i.hide,c=i.sectors,l=i.className,u=i.label,o=i.cx,d=i.cy,h=i.innerRadius,A=i.outerRadius,f=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!c||!c.length||!mn(o)||!mn(d)||!mn(h)||!mn(A))return null;var m=gi("recharts-pie",l);return St.createElement(is,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){a.pieRef=y}},this.renderSectors(),u&&this.renderLabels(c),vc.renderCallByParent(this.props,null,!1),(!f||g)&&hA.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return i.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:a.sectors!==i.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,i){return a>i?"start":a<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,i,s){if(St.isValidElement(a))return St.cloneElement(a,i);if(qa(a))return a(i);var c=gi("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return St.createElement(Lv,Hp({},i,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,i,s){if(St.isValidElement(a))return St.cloneElement(a,i);var c=s;if(qa(a)&&(c=a(i),St.isValidElement(c)))return c;var l=gi("recharts-pie-label-text",typeof a!="boolean"&&!qa(a)?a.className:"");return St.createElement(np,Hp({},i,{alignmentBaseline:"middle",className:l}),c)}}])})(P.PureComponent);rv=xA;Md(xA,"displayName","Pie");Md(xA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Md(xA,"parseDeltaAngle",function(r,e){var n=vu(e-r),a=Math.min(Math.abs(e-r),360);return n*a});Md(xA,"getRealPieData",function(r){var e=r.data,n=r.children,a=_a(r,!1),i=ld(n,_2);return e&&e.length?e.map(function(s,c){return to(to(to({payload:s},a),s),i&&i[c]&&i[c].props)}):i&&i.length?i.map(function(s){return to(to({},a),s.props)}):[]});Md(xA,"parseCoordinateOfPie",function(r,e){var n=e.top,a=e.left,i=e.width,s=e.height,c=AP(i,s),l=a+xu(r.cx,i,i/2),u=n+xu(r.cy,s,s/2),o=xu(r.innerRadius,c,0),d=xu(r.outerRadius,c,c*.8),h=r.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:o,outerRadius:d,maxRadius:h}});Md(xA,"getComposedData",function(r){var e=r.item,n=r.offset,a=e.type.defaultProps!==void 0?to(to({},e.type.defaultProps),e.props):e.props,i=rv.getRealPieData(a);if(!i||!i.length)return null;var s=a.cornerRadius,c=a.startAngle,l=a.endAngle,u=a.paddingAngle,o=a.dataKey,d=a.nameKey,h=a.valueKey,A=a.tooltipType,f=Math.abs(a.minAngle),g=rv.parseCoordinateOfPie(a,n),m=rv.parseDeltaAngle(c,l),x=Math.abs(m),y=o;li(o)&&li(h)?(uh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):li(o)&&(uh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var b=i.filter(function(k){return zl(k,y,0)!==0}).length,w=(x>=360?b:b-1)*u,N=x-b*f-w,S=i.reduce(function(k,Z){var ee=zl(Z,y,0);return k+(mn(ee)?ee:0)},0),j;if(S>0){var _;j=i.map(function(k,Z){var ee=zl(k,y,0),V=zl(k,d,Z),re=(mn(ee)?ee:0)/S,R;Z?R=_.endAngle+vu(m)*u*(ee!==0?1:0):R=c;var Y=R+vu(m)*((ee!==0?f:0)+re*N),L=(R+Y)/2,$=(g.innerRadius+g.outerRadius)/2,je=[{name:V,value:ee,payload:k,dataKey:y,type:A}],ge=no(g.cx,g.cy,$,L);return _=to(to(to({percent:re,cornerRadius:s,name:V,tooltipPayload:je,midAngle:L,middleRadius:$,tooltipPosition:ge},k),g),{},{value:zl(k,y),startAngle:R,endAngle:Y,payload:k,paddingAngle:vu(m)*u}),_})}return to(to({},g),{},{sectors:j,data:i})});var Xw,C8;function Eq(){if(C8)return Xw;C8=1;var r=Math.ceil,e=Math.max;function n(a,i,s,c){for(var l=-1,u=e(r((i-a)/(s||1)),0),o=Array(u);u--;)o[c?u:++l]=a,a+=s;return o}return Xw=n,Xw}var Yw,N8;function OP(){if(N8)return Yw;N8=1;var r=tk(),e=1/0,n=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return Yw=a,Yw}var Zw,S8;function Iq(){if(S8)return Zw;S8=1;var r=Eq(),e=T2(),n=OP();function a(i){return function(s,c,l){return l&&typeof l!="number"&&e(s,c,l)&&(c=l=void 0),s=n(s),c===void 0?(c=s,s=0):c=n(c),l=l===void 0?s<c?1:-1:n(l),r(s,c,l,i)}}return Zw=a,Zw}var Jw,B8;function Tq(){if(B8)return Jw;B8=1;var r=Iq(),e=r();return Jw=e,Jw}var _q=Tq();const Xv=Zi(_q);function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}function E8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function I8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(n),!0).forEach(function(a){kP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function kP(r,e,n){return e=Oq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Oq(r){var e=kq(r,"string");return Sg(e)=="symbol"?e:e+""}function kq(r,e){if(Sg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Pq=["Webkit","Moz","O","ms"],Fq=function(e,n){var a=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Pq.reduce(function(s,c){return I8(I8({},s),{},kP({},c+a,n))},{});return i[e]=n,i};function dm(r){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(r)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Yv.apply(this,arguments)}function T8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ej(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(a){rd(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Dq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,FP(a.key),a)}}function Mq(r,e,n){return e&&_8(r.prototype,e),n&&_8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Rq(r,e,n){return e=Zv(e),Lq(r,PP()?Reflect.construct(e,n||[],Zv(r).constructor):e.apply(r,n))}function Lq(r,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uq(r)}function Uq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!r})()}function Zv(r){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(r)}function Hq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&s4(r,e)}function s4(r,e){return s4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},s4(r,e)}function rd(r,e,n){return e=FP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function FP(r){var e=Qq(r,"string");return dm(e)=="symbol"?e:e+""}function Qq(r,e){if(dm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Wq=function(e){var n=e.data,a=e.startIndex,i=e.endIndex,s=e.x,c=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,o=H0().domain(Xv(0,u)).range([s,s+c-l]),d=o.domain().map(function(h){return o(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(a),endX:o(i),scale:o,scaleValues:d}},O8=function(e){return e.changedTouches&&!!e.changedTouches.length},hm=(function(r){function e(n){var a;return Dq(this,e),a=Rq(this,e,[n]),rd(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),rd(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),rd(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,c=i.onDragEnd,l=i.startIndex;c==null||c({endIndex:s,startIndex:l})}),a.detachDragEndListener()}),rd(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),rd(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),rd(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),rd(a,"handleSlideDragStart",function(i){var s=O8(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Hq(e,r),Mq(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,c=this.state.scaleValues,l=this.props,u=l.gap,o=l.data,d=o.length-1,h=Math.min(i,s),A=Math.max(i,s),f=e.getIndexInRange(c,h),g=e.getIndexInRange(c,A);return{startIndex:f-f%u,endIndex:g===d?d:g-g%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,c=i.tickFormatter,l=i.dataKey,u=zl(s[a],l,a);return qa(c)?c(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,c=i.startX,l=i.endX,u=this.props,o=u.x,d=u.width,h=u.travellerWidth,A=u.startIndex,f=u.endIndex,g=u.onChange,m=a.pageX-s;m>0?m=Math.min(m,o+d-h-l,o+d-h-c):m<0&&(m=Math.max(m,o-c,o-l));var x=this.getIndex({startX:c+m,endX:l+m});(x.startIndex!==A||x.endIndex!==f)&&g&&g(x),this.setState({startX:c+m,endX:l+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=O8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,c=i.movingTravellerId,l=i.endX,u=i.startX,o=this.state[c],d=this.props,h=d.x,A=d.width,f=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},b=a.pageX-s;b>0?b=Math.min(b,h+A-f-o):b<0&&(b=Math.max(b,h-o)),y[c]=o+b;var w=this.getIndex(y),N=w.startIndex,S=w.endIndex,j=function(){var k=x.length-1;return c==="startX"&&(l>u?N%m===0:S%m===0)||l<u&&S===k||c==="endX"&&(l>u?S%m===0:N%m===0)||l>u&&S===k};this.setState(rd(rd({},c,o+b),"brushMoveStartX",a.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,c=this.state,l=c.scaleValues,u=c.startX,o=c.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var A=h+a;if(!(A===-1||A>=l.length)){var f=l[A];i==="startX"&&f>=o||i==="endX"&&f<=u||this.setState(rd({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.fill,o=a.stroke;return St.createElement("rect",{stroke:o,fill:u,x:i,y:s,width:c,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.data,o=a.children,d=a.padding,h=P.Children.only(o);return h?St.cloneElement(h,{x:i,y:s,width:c,height:l,margin:d,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,c,l=this,u=this.props,o=u.y,d=u.travellerWidth,h=u.height,A=u.traveller,f=u.ariaLabel,g=u.data,m=u.startIndex,x=u.endIndex,y=Math.max(a,this.props.x),b=ej(ej({},_a(this.props,!1)),{},{x:y,y:o,width:d,height:h}),w=f||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=g[x])===null||c===void 0?void 0:c.name);return St.createElement(is,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(A,b))}},{key:"renderSlide",value:function(a,i){var s=this.props,c=s.y,l=s.height,u=s.stroke,o=s.travellerWidth,d=Math.min(a,i)+o,h=Math.max(Math.abs(i-a)-o,0);return St.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:d,y:c,width:h,height:l})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,c=a.y,l=a.height,u=a.travellerWidth,o=a.stroke,d=this.state,h=d.startX,A=d.endX,f=5,g={pointerEvents:"none",fill:o};return St.createElement(is,{className:"recharts-brush-texts"},St.createElement(np,Yv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,A)-f,y:c+l/2},g),this.getTextOfTick(i)),St.createElement(np,Yv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,A)+u+f,y:c+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,c=a.children,l=a.x,u=a.y,o=a.width,d=a.height,h=a.alwaysShowText,A=this.state,f=A.startX,g=A.endX,m=A.isTextActive,x=A.isSlideMoving,y=A.isTravellerMoving,b=A.isTravellerFocused;if(!i||!i.length||!mn(l)||!mn(u)||!mn(o)||!mn(d)||o<=0||d<=0)return null;var w=gi("recharts-brush",s),N=St.Children.count(c)===1,S=Fq("userSelect","none");return St.createElement(is,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||y||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,c=a.width,l=a.height,u=a.stroke,o=Math.floor(s+l/2)-1;return St.createElement(St.Fragment,null,St.createElement("rect",{x:i,y:s,width:c,height:l,fill:u,stroke:"none"}),St.createElement("line",{x1:i+1,y1:o,x2:i+c-1,y2:o,fill:"none",stroke:"#fff"}),St.createElement("line",{x1:i+1,y1:o+2,x2:i+c-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return St.isValidElement(a)?s=St.cloneElement(a,i):qa(a)?s=a(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,c=a.width,l=a.x,u=a.travellerWidth,o=a.updateId,d=a.startIndex,h=a.endIndex;if(s!==i.prevData||o!==i.prevUpdateId)return ej({prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c},s&&s.length?Wq({data:s,width:c,x:l,travellerWidth:u,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+c-u]);var A=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,c=0,l=s-1;l-c>1;){var u=Math.floor((c+l)/2);a[u]>i?l=u:c=u}return i>=a[l]?l:c}}])})(P.PureComponent);rd(hm,"displayName","Brush");rd(hm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tj,k8;function $q(){if(k8)return tj;k8=1;var r=dN();function e(n,a){var i;return r(n,function(s,c,l){return i=a(s,c,l),!i}),!!i}return tj=e,tj}var rj,P8;function Vq(){if(P8)return rj;P8=1;var r=OO(),e=Fh(),n=$q(),a=Mu(),i=T2();function s(c,l,u){var o=a(c)?r:n;return u&&i(c,l,u)&&(l=void 0),o(c,e(l,3))}return rj=s,rj}var zq=Vq();const Kq=Zi(zq);var Th=function(e,n){var a=e.alwaysShow,i=e.ifOverflow;return a&&(i="extendDomain"),i===n},nj,F8;function Gq(){if(F8)return nj;F8=1;var r=XO();function e(n,a,i){a=="__proto__"&&r?r(n,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[a]=i}return nj=e,nj}var aj,D8;function qq(){if(D8)return aj;D8=1;var r=Gq(),e=GO(),n=Fh();function a(i,s){var c={};return s=n(s,3),e(i,function(l,u,o){r(c,u,s(l,u,o))}),c}return aj=a,aj}var Xq=qq();const Yq=Zi(Xq);var ij,M8;function Zq(){if(M8)return ij;M8=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(!n(e[a],a,e))return!1;return!0}return ij=r,ij}var sj,R8;function Jq(){if(R8)return sj;R8=1;var r=dN();function e(n,a){var i=!0;return r(n,function(s,c,l){return i=!!a(s,c,l),i}),i}return sj=e,sj}var oj,L8;function eX(){if(L8)return oj;L8=1;var r=Zq(),e=Jq(),n=Fh(),a=Mu(),i=T2();function s(c,l,u){var o=a(c)?r:e;return u&&i(c,l,u)&&(l=void 0),o(c,n(l,3))}return oj=s,oj}var tX=eX();const DP=Zi(tX);var rX=["x","y"];function Bg(r){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(r)}function o4(){return o4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},o4.apply(this,arguments)}function U8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Xm(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(a){nX(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function nX(r,e,n){return e=aX(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function aX(r){var e=iX(r,"string");return Bg(e)=="symbol"?e:e+""}function iX(r,e){if(Bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function sX(r,e){if(r==null)return{};var n=oX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function oX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function lX(r,e){var n=r.x,a=r.y,i=sX(r,rX),s="".concat(n),c=parseInt(s,10),l="".concat(a),u=parseInt(l,10),o="".concat(e.height||i.height),d=parseInt(o,10),h="".concat(e.width||i.width),A=parseInt(h,10);return Xm(Xm(Xm(Xm(Xm({},e),i),c?{x:c}:{}),u?{y:u}:{}),{},{height:d,width:A,name:e.name,radius:e.radius})}function H8(r){return St.createElement(IP,o4({shapeType:"rectangle",propTransformer:lX,activeClassName:"recharts-active-bar"},r))}var cX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof e=="number")return e;var s=typeof a=="number";return s?e(a,i):(s||ip(),n)}},uX=["value","background"],MP;function Am(r){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(r)}function dX(r,e){if(r==null)return{};var n=hX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function hX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function Jv(){return Jv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Jv.apply(this,arguments)}function Q8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function wl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(a){ZA(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function AX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,LP(a.key),a)}}function fX(r,e,n){return e&&W8(r.prototype,e),n&&W8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function pX(r,e,n){return e=e2(e),mX(r,RP()?Reflect.construct(e,n||[],e2(r).constructor):e.apply(r,n))}function mX(r,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(r)}function gX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function RP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!r})()}function e2(r){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e2(r)}function vX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&l4(r,e)}function l4(r,e){return l4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},l4(r,e)}function ZA(r,e,n){return e=LP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function LP(r){var e=xX(r,"string");return Am(e)=="symbol"?e:e+""}function xX(r,e){if(Am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var hp=(function(r){function e(){var n;AX(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=pX(this,e,[].concat(i)),ZA(n,"state",{isAnimationFinished:!1}),ZA(n,"id",Im("recharts-bar-")),ZA(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),ZA(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return vX(e,r),fX(e,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,c=s.shape,l=s.dataKey,u=s.activeIndex,o=s.activeBar,d=_a(this.props,!1);return a&&a.map(function(h,A){var f=A===u,g=f?o:c,m=wl(wl(wl({},d),h),{},{isActive:f,option:g,index:A,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return St.createElement(is,Jv({className:"recharts-bar-rectangle"},rp(i.props,h,A),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),St.createElement(H8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,c=i.layout,l=i.isAnimationActive,u=i.animationBegin,o=i.animationDuration,d=i.animationEasing,h=i.animationId,A=this.state.prevData;return St.createElement(Oh,{begin:u,duration:o,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,m=s.map(function(x,y){var b=A&&A[y];if(b){var w=id(b.x,x.x),N=id(b.y,x.y),S=id(b.width,x.width),j=id(b.height,x.height);return wl(wl({},x),{},{x:w(g),y:N(g),width:S(g),height:j(g)})}if(c==="horizontal"){var _=id(0,x.height),k=_(g);return wl(wl({},x),{},{y:x.y+x.height-k,height:k})}var Z=id(0,x.width),ee=Z(g);return wl(wl({},x),{},{width:ee})});return St.createElement(is,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,c=this.state.prevData;return s&&i&&i.length&&(!c||!Ug(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,c=i.dataKey,l=i.activeIndex,u=_a(this.props.background,!1);return s.map(function(o,d){o.value;var h=o.background,A=dX(o,uX);if(!h)return null;var f=wl(wl(wl(wl(wl({},A),{},{fill:"#eee"},h),u),rp(a.props,o,d)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:d,className:"recharts-bar-background-rectangle"});return St.createElement(H8,Jv({key:"background-bar-".concat(d),option:a.props.background,isActive:d===l},f))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,l=s.xAxis,u=s.yAxis,o=s.layout,d=s.children,h=ld(d,Hg);if(!h)return null;var A=o==="vertical"?c[0].height/2:c[0].width/2,f=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:zl(x,y)}},g={clipPath:a?"url(#clipPath-".concat(i,")"):null};return St.createElement(is,g,h.map(function(m){return St.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,offset:A,dataPointFormatter:f})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,c=a.className,l=a.xAxis,u=a.yAxis,o=a.left,d=a.top,h=a.width,A=a.height,f=a.isAnimationActive,g=a.background,m=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=gi("recharts-bar",c),b=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,N=b||w,S=li(m)?this.id:m;return St.createElement(is,{className:y},b||w?St.createElement("defs",null,St.createElement("clipPath",{id:"clipPath-".concat(S)},St.createElement("rect",{x:b?o:o-h/2,y:w?d:d-A/2,width:b?h:h*2,height:w?A:A*2}))):null,St.createElement(is,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!f||x)&&hA.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])})(P.PureComponent);MP=hp;ZA(hp,"displayName","Bar");ZA(hp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ZA(hp,"getComposedData",function(r){var e=r.props,n=r.item,a=r.barPosition,i=r.bandSize,s=r.xAxis,c=r.yAxis,l=r.xAxisTicks,u=r.yAxisTicks,o=r.stackedData,d=r.dataStartIndex,h=r.displayedData,A=r.offset,f=$$(a,n);if(!f)return null;var g=e.layout,m=n.type.defaultProps,x=m!==void 0?wl(wl({},m),n.props):n.props,y=x.dataKey,b=x.children,w=x.minPointSize,N=g==="horizontal"?c:s,S=o?N.scale.domain():null,j=Y$({numericAxis:N}),_=ld(b,_2),k=h.map(function(Z,ee){var V,re,R,Y,L,$;o?V=V$(o[d+ee],S):(V=zl(Z,y),Array.isArray(V)||(V=[j,V]));var je=cX(w,MP.defaultProps.minPointSize)(V[1],ee);if(g==="horizontal"){var ge,Ie=[c.scale(V[0]),c.scale(V[1])],_e=Ie[0],fe=Ie[1];re=gI({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:Z,index:ee}),R=(ge=fe??_e)!==null&&ge!==void 0?ge:void 0,Y=f.size;var le=_e-fe;if(L=Number.isNaN(le)?0:le,$={x:re,y:c.y,width:Y,height:c.height},Math.abs(je)>0&&Math.abs(L)<Math.abs(je)){var ve=vu(L||je)*(Math.abs(je)-Math.abs(L));R-=ve,L+=ve}}else{var se=[s.scale(V[0]),s.scale(V[1])],he=se[0],Ne=se[1];if(re=he,R=gI({axis:c,ticks:u,bandSize:i,offset:f.offset,entry:Z,index:ee}),Y=Ne-he,L=f.size,$={x:s.x,y:R,width:s.width,height:L},Math.abs(je)>0&&Math.abs(Y)<Math.abs(je)){var Pe=vu(Y||je)*(Math.abs(je)-Math.abs(Y));Y+=Pe}}return wl(wl(wl({},Z),{},{x:re,y:R,width:Y,height:L,value:o?V:V[1],payload:Z,background:$},_&&_[ee]&&_[ee].props),{},{tooltipPayload:[dP(n,Z)],tooltipPosition:{x:re+Y/2,y:R+L/2}})});return wl({data:k,layout:g},A)});function Eg(r){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(r)}function yX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,UP(a.key),a)}}function bX(r,e,n){return e&&$8(r.prototype,e),n&&$8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function V8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ih(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(a){X2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function X2(r,e,n){return e=UP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function UP(r){var e=wX(r,"string");return Eg(e)=="symbol"?e:e+""}function wX(r,e){if(Eg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var HP=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.layout,o=e.children,d=Object.keys(n),h={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},A=!!nd(o,hp);return d.reduce(function(f,g){var m=n[g],x=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,N=m.mirror,S=m.reversed,j="".concat(x).concat(N?"Mirror":""),_,k,Z,ee,V;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var re=y[1]-y[0],R=1/0,Y=m.categoricalDomain.sort();if(Y.forEach(function(se,he){he>0&&(R=Math.min((se||0)-(Y[he-1]||0),R))}),Number.isFinite(R)){var L=R/re,$=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(_=L*$/2),m.padding==="no-gap"){var je=xu(e.barCategoryGap,L*$),ge=L*$/2;_=ge-je-(ge-je)/$*je}}}i==="xAxis"?k=[a.left+(w.left||0)+(_||0),a.left+a.width-(w.right||0)-(_||0)]:i==="yAxis"?k=u==="horizontal"?[a.top+a.height-(w.bottom||0),a.top+(w.top||0)]:[a.top+(w.top||0)+(_||0),a.top+a.height-(w.bottom||0)-(_||0)]:k=m.range,S&&(k=[k[1],k[0]]);var Ie=oP(m,s,A),_e=Ie.scale,fe=Ie.realScaleType;_e.domain(y).range(k),lP(_e);var le=cP(_e,ih(ih({},m),{},{realScaleType:fe}));i==="xAxis"?(V=x==="top"&&!N||x==="bottom"&&N,Z=a.left,ee=h[j]-V*m.height):i==="yAxis"&&(V=x==="left"&&!N||x==="right"&&N,Z=h[j]-V*m.width,ee=a.top);var ve=ih(ih(ih({},m),le),{},{realScaleType:fe,x:Z,y:ee,scale:_e,width:i==="xAxis"?a.width:m.width,height:i==="yAxis"?a.height:m.height});return ve.bandSize=Dv(ve,le),!m.hide&&i==="xAxis"?h[j]+=(V?-1:1)*ve.height:m.hide||(h[j]+=(V?-1:1)*ve.width),ih(ih({},f),{},X2({},g,ve))},{})},QP=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return{x:Math.min(a,s),y:Math.min(i,c),width:Math.abs(s-a),height:Math.abs(c-i)}},jX=function(e){var n=e.x1,a=e.y1,i=e.x2,s=e.y2;return QP({x:n,y:a},{x:i,y:s})},WP=(function(){function r(e){yX(this,r),this.scale=e}return bX(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new r(n)}}])})();X2(WP,"EPS",1e-4);var UN=function(e){var n=Object.keys(e).reduce(function(a,i){return ih(ih({},a),{},X2({},i,WP.create(e[i])))},{});return ih(ih({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,l=s.position;return Yq(i,function(u,o){return n[o].apply(u,{bandAware:c,position:l})})},isInRange:function(i){return DP(i,function(s,c){return n[c].isInRange(s)})}})};function CX(r){return(r%180+180)%180}var NX=function(e){var n=e.width,a=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=CX(i),c=s*Math.PI/180,l=Math.atan(a/n),u=c>l&&c<Math.PI-l?a/Math.sin(c):n/Math.cos(c);return Math.abs(u)},lj,z8;function SX(){if(z8)return lj;z8=1;var r=Fh(),e=Fg(),n=E2();function a(i){return function(s,c,l){var u=Object(s);if(!e(s)){var o=r(c,3);s=n(s),c=function(h){return o(u[h],h,u)}}var d=i(s,c,l);return d>-1?u[o?s[d]:d]:void 0}}return lj=a,lj}var cj,K8;function BX(){if(K8)return cj;K8=1;var r=OP();function e(n){var a=r(n),i=a%1;return a===a?i?a-i:a:0}return cj=e,cj}var uj,G8;function EX(){if(G8)return uj;G8=1;var r=WO(),e=Fh(),n=BX(),a=Math.max;function i(s,c,l){var u=s==null?0:s.length;if(!u)return-1;var o=l==null?0:n(l);return o<0&&(o=a(u+o,0)),r(s,e(c,3),o)}return uj=i,uj}var dj,q8;function IX(){if(q8)return dj;q8=1;var r=SX(),e=EX(),n=r(e);return dj=n,dj}var TX=IX();const _X=Zi(TX);var OX=iO();const kX=Zi(OX);var PX=kX(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),HN=P.createContext(void 0),QN=P.createContext(void 0),$P=P.createContext(void 0),VP=P.createContext({}),zP=P.createContext(void 0),KP=P.createContext(0),GP=P.createContext(0),X8=function(e){var n=e.state,a=n.xAxisMap,i=n.yAxisMap,s=n.offset,c=e.clipPathId,l=e.children,u=e.width,o=e.height,d=PX(s);return St.createElement(HN.Provider,{value:a},St.createElement(QN.Provider,{value:i},St.createElement(VP.Provider,{value:s},St.createElement($P.Provider,{value:d},St.createElement(zP.Provider,{value:c},St.createElement(KP.Provider,{value:o},St.createElement(GP.Provider,{value:u},l)))))))},FX=function(){return P.useContext(zP)},qP=function(e){var n=P.useContext(HN);n==null&&ip();var a=n[e];return a==null&&ip(),a},DX=function(){var e=P.useContext(HN);return XA(e)},MX=function(){var e=P.useContext(QN),n=_X(e,function(a){return DP(a.domain,Number.isFinite)});return n||XA(e)},XP=function(e){var n=P.useContext(QN);n==null&&ip();var a=n[e];return a==null&&ip(),a},RX=function(){var e=P.useContext($P);return e},LX=function(){return P.useContext(VP)},WN=function(){return P.useContext(GP)},$N=function(){return P.useContext(KP)};function fm(r){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(r)}function UX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function HX(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ZP(a.key),a)}}function QX(r,e,n){return e&&HX(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function WX(r,e,n){return e=t2(e),$X(r,YP()?Reflect.construct(e,n||[],t2(r).constructor):e.apply(r,n))}function $X(r,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(r)}function VX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function YP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!r})()}function t2(r){return t2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t2(r)}function zX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&c4(r,e)}function c4(r,e){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},c4(r,e)}function Y8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Z8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(n),!0).forEach(function(a){VN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function VN(r,e,n){return e=ZP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZP(r){var e=KX(r,"string");return fm(e)=="symbol"?e:e+""}function KX(r,e){if(fm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function GX(r,e){return ZX(r)||YX(r,e)||XX(r,e)||qX()}function qX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(r,e){if(r){if(typeof r=="string")return J8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J8(r,e)}}function J8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function YX(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function ZX(r){if(Array.isArray(r))return r}function u4(){return u4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},u4.apply(this,arguments)}var JX=function(e,n){var a;return St.isValidElement(e)?a=St.cloneElement(e,n):qa(e)?a=e(n):a=St.createElement("line",u4({},n,{className:"recharts-reference-line-line"})),a},eY=function(e,n,a,i,s,c,l,u,o){var d=s.x,h=s.y,A=s.width,f=s.height;if(a){var g=o.y,m=e.y.apply(g,{position:c});if(Th(o,"discard")&&!e.y.isInRange(m))return null;var x=[{x:d+A,y:m},{x:d,y:m}];return u==="left"?x.reverse():x}if(n){var y=o.x,b=e.x.apply(y,{position:c});if(Th(o,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:h+f},{x:b,y:h}];return l==="top"?w.reverse():w}if(i){var N=o.segment,S=N.map(function(j){return e.apply(j,{position:c})});return Th(o,"discard")&&Kq(S,function(j){return!e.isInRange(j)})?null:S}return null};function tY(r){var e=r.x,n=r.y,a=r.segment,i=r.xAxisId,s=r.yAxisId,c=r.shape,l=r.className,u=r.alwaysShow,o=FX(),d=qP(i),h=XP(s),A=RX();if(!o||!A)return null;uh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=UN({x:d.scale,y:h.scale}),g=Gl(e),m=Gl(n),x=a&&a.length===2,y=eY(f,g,m,x,A,r.position,d.orientation,h.orientation,r);if(!y)return null;var b=GX(y,2),w=b[0],N=w.x,S=w.y,j=b[1],_=j.x,k=j.y,Z=Th(r,"hidden")?"url(#".concat(o,")"):void 0,ee=Z8(Z8({clipPath:Z},_a(r,!0)),{},{x1:N,y1:S,x2:_,y2:k});return St.createElement(is,{className:gi("recharts-reference-line",l)},JX(c,ee),vc.renderCallByParent(r,jX({x1:N,y1:S,x2:_,y2:k})))}var zN=(function(r){function e(){return UX(this,e),WX(this,e,arguments)}return zX(e,r),QX(e,[{key:"render",value:function(){return St.createElement(tY,this.props)}}])})(St.Component);VN(zN,"displayName","ReferenceLine");VN(zN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function d4(){return d4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},d4.apply(this,arguments)}function pm(r){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(r)}function e6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function t6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(a){Y2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function rY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function nY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,eF(a.key),a)}}function aY(r,e,n){return e&&nY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function iY(r,e,n){return e=r2(e),sY(r,JP()?Reflect.construct(e,n||[],r2(r).constructor):e.apply(r,n))}function sY(r,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oY(r)}function oY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JP=function(){return!!r})()}function r2(r){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r2(r)}function lY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&h4(r,e)}function h4(r,e){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},h4(r,e)}function Y2(r,e,n){return e=eF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function eF(r){var e=cY(r,"string");return pm(e)=="symbol"?e:e+""}function cY(r,e){if(pm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var uY=function(e){var n=e.x,a=e.y,i=e.xAxis,s=e.yAxis,c=UN({x:i.scale,y:s.scale}),l=c.apply({x:n,y:a},{bandAware:!0});return Th(e,"discard")&&!c.isInRange(l)?null:l},Z2=(function(r){function e(){return rY(this,e),iY(this,e,arguments)}return lY(e,r),aY(e,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,c=a.r,l=a.alwaysShow,u=a.clipPathId,o=Gl(i),d=Gl(s);if(uh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!d)return null;var h=uY(this.props);if(!h)return null;var A=h.x,f=h.y,g=this.props,m=g.shape,x=g.className,y=Th(this.props,"hidden")?"url(#".concat(u,")"):void 0,b=t6(t6({clipPath:y},_a(this.props,!0)),{},{cx:A,cy:f});return St.createElement(is,{className:gi("recharts-reference-dot",x)},e.renderDot(m,b),vc.renderCallByParent(this.props,{x:A-c,y:f-c,width:2*c,height:2*c}))}}])})(St.Component);Y2(Z2,"displayName","ReferenceDot");Y2(Z2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Y2(Z2,"renderDot",function(r,e){var n;return St.isValidElement(r)?n=St.cloneElement(r,e):qa(r)?n=r(e):n=St.createElement(W2,d4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function A4(){return A4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},A4.apply(this,arguments)}function mm(r){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(r)}function r6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function n6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(a){J2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function dY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,rF(a.key),a)}}function AY(r,e,n){return e&&hY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function fY(r,e,n){return e=n2(e),pY(r,tF()?Reflect.construct(e,n||[],n2(r).constructor):e.apply(r,n))}function pY(r,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(r)}function mY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!r})()}function n2(r){return n2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n2(r)}function gY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&f4(r,e)}function f4(r,e){return f4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},f4(r,e)}function J2(r,e,n){return e=rF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function rF(r){var e=vY(r,"string");return mm(e)=="symbol"?e:e+""}function vY(r,e){if(mm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xY=function(e,n,a,i,s){var c=s.x1,l=s.x2,u=s.y1,o=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var A=UN({x:d.scale,y:h.scale}),f={x:e?A.x.apply(c,{position:"start"}):A.x.rangeMin,y:a?A.y.apply(u,{position:"start"}):A.y.rangeMin},g={x:n?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:i?A.y.apply(o,{position:"end"}):A.y.rangeMax};return Th(s,"discard")&&(!A.isInRange(f)||!A.isInRange(g))?null:QP(f,g)},ex=(function(r){function e(){return dY(this,e),fY(this,e,arguments)}return gY(e,r),AY(e,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.className,o=a.alwaysShow,d=a.clipPathId;uh(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Gl(i),A=Gl(s),f=Gl(c),g=Gl(l),m=this.props.shape;if(!h&&!A&&!f&&!g&&!m)return null;var x=xY(h,A,f,g,this.props);if(!x&&!m)return null;var y=Th(this.props,"hidden")?"url(#".concat(d,")"):void 0;return St.createElement(is,{className:gi("recharts-reference-area",u)},e.renderRect(m,n6(n6({clipPath:y},_a(this.props,!0)),x)),vc.renderCallByParent(this.props,x))}}])})(St.Component);J2(ex,"displayName","ReferenceArea");J2(ex,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});J2(ex,"renderRect",function(r,e){var n;return St.isValidElement(r)?n=St.cloneElement(r,e):qa(r)?n=r(e):n=St.createElement(LN,A4({},e,{className:"recharts-reference-area-rect"})),n});function nF(r,e,n){if(e<1)return[];if(e===1&&n===void 0)return r;for(var a=[],i=0;i<r.length;i+=e)a.push(r[i]);return a}function yY(r,e,n){var a={width:r.width+e.width,height:r.height+e.height};return NX(a,n)}function bY(r,e,n){var a=n==="width",i=r.x,s=r.y,c=r.width,l=r.height;return e===1?{start:a?i:s,end:a?i+c:s+l}:{start:a?i+c:s+l,end:a?i:s}}function a2(r,e,n,a,i){if(r*e<r*a||r*e>r*i)return!1;var s=n();return r*(e-r*s/2-a)>=0&&r*(e+r*s/2-i)<=0}function wY(r,e){return nF(r,e+1)}function jY(r,e,n,a,i){for(var s=(a||[]).slice(),c=e.start,l=e.end,u=0,o=1,d=c,h=function(){var g=a==null?void 0:a[u];if(g===void 0)return{v:nF(a,o)};var m=u,x,y=function(){return x===void 0&&(x=n(g,m)),x},b=g.coordinate,w=u===0||a2(r,b,y,d,l);w||(u=0,d=c,o+=1),w&&(d=b+r*(y()/2+i),u+=o)},A;o<=s.length;)if(A=h(),A)return A.v;return[]}function Ig(r){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(r)}function a6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Yc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(a){CY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function CY(r,e,n){return e=NY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function NY(r){var e=SY(r,"string");return Ig(e)=="symbol"?e:e+""}function SY(r,e){if(Ig(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function BY(r,e,n,a,i){for(var s=(a||[]).slice(),c=s.length,l=e.start,u=e.end,o=function(A){var f=s[A],g,m=function(){return g===void 0&&(g=n(f,A)),g};if(A===c-1){var x=r*(f.coordinate+r*m()/2-u);s[A]=f=Yc(Yc({},f),{},{tickCoord:x>0?f.coordinate-x*r:f.coordinate})}else s[A]=f=Yc(Yc({},f),{},{tickCoord:f.coordinate});var y=a2(r,f.tickCoord,m,l,u);y&&(u=f.tickCoord-r*(m()/2+i),s[A]=Yc(Yc({},f),{},{isShow:!0}))},d=c-1;d>=0;d--)o(d);return s}function EY(r,e,n,a,i,s){var c=(a||[]).slice(),l=c.length,u=e.start,o=e.end;if(s){var d=a[l-1],h=n(d,l-1),A=r*(d.coordinate+r*h/2-o);c[l-1]=d=Yc(Yc({},d),{},{tickCoord:A>0?d.coordinate-A*r:d.coordinate});var f=a2(r,d.tickCoord,function(){return h},u,o);f&&(o=d.tickCoord-r*(h/2+i),c[l-1]=Yc(Yc({},d),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(b){var w=c[b],N,S=function(){return N===void 0&&(N=n(w,b)),N};if(b===0){var j=r*(w.coordinate-r*S()/2-u);c[b]=w=Yc(Yc({},w),{},{tickCoord:j<0?w.coordinate-j*r:w.coordinate})}else c[b]=w=Yc(Yc({},w),{},{tickCoord:w.coordinate});var _=a2(r,w.tickCoord,S,u,o);_&&(u=w.tickCoord+r*(S()/2+i),c[b]=Yc(Yc({},w),{},{isShow:!0}))},x=0;x<g;x++)m(x);return c}function KN(r,e,n){var a=r.tick,i=r.ticks,s=r.viewBox,c=r.minTickGap,l=r.orientation,u=r.interval,o=r.tickFormatter,d=r.unit,h=r.angle;if(!i||!i.length||!a)return[];if(mn(u)||lp.isSsr)return wY(i,typeof u=="number"&&mn(u)?u:0);var A=[],f=l==="top"||l==="bottom"?"width":"height",g=d&&f==="width"?U0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(w,N){var S=qa(o)?o(w.value,N):w.value;return f==="width"?yY(U0(S,{fontSize:e,letterSpacing:n}),g,h):U0(S,{fontSize:e,letterSpacing:n})[f]},x=i.length>=2?vu(i[1].coordinate-i[0].coordinate):1,y=bY(s,x,f);return u==="equidistantPreserveStart"?jY(x,y,m,i,c):(u==="preserveStart"||u==="preserveStartEnd"?A=EY(x,y,m,i,c,u==="preserveStartEnd"):A=BY(x,y,m,i,c),A.filter(function(b){return b.isShow}))}var IY=["viewBox"],TY=["viewBox"],_Y=["ticks"];function gm(r){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(r)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Qp.apply(this,arguments)}function i6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Au(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(a){GN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function hj(r,e){if(r==null)return{};var n=OY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function OY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function kY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function s6(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,iF(a.key),a)}}function PY(r,e,n){return e&&s6(r.prototype,e),n&&s6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function FY(r,e,n){return e=i2(e),DY(r,aF()?Reflect.construct(e,n||[],i2(r).constructor):e.apply(r,n))}function DY(r,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(r)}function MY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!r})()}function i2(r){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i2(r)}function RY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&p4(r,e)}function p4(r,e){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},p4(r,e)}function GN(r,e,n){return e=iF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iF(r){var e=LY(r,"string");return gm(e)=="symbol"?e:e+""}function LY(r,e){if(gm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Pm=(function(r){function e(n){var a;return kY(this,e),a=FY(this,e,[n]),a.state={fontSize:"",letterSpacing:""},a}return RY(e,r),PY(e,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,c=hj(a,IY),l=this.props,u=l.viewBox,o=hj(l,TY);return!qp(s,u)||!qp(c,o)||!qp(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,c=i.y,l=i.width,u=i.height,o=i.orientation,d=i.tickSize,h=i.mirror,A=i.tickMargin,f,g,m,x,y,b,w=h?-1:1,N=a.tickSize||d,S=mn(a.tickCoord)?a.tickCoord:a.coordinate;switch(o){case"top":f=g=a.coordinate,x=c+ +!h*u,m=x-w*N,b=m-w*A,y=S;break;case"left":m=x=a.coordinate,g=s+ +!h*l,f=g-w*N,y=f-w*A,b=S;break;case"right":m=x=a.coordinate,g=s+ +h*l,f=g+w*N,y=f+w*A,b=S;break;default:f=g=a.coordinate,x=c+ +h*u,m=x+w*N,b=m+w*A,y=S;break}return{line:{x1:f,y1:m,x2:g,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c;switch(i){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.orientation,o=a.mirror,d=a.axisLine,h=Au(Au(Au({},_a(this.props,!1)),_a(d,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var A=+(u==="top"&&!o||u==="bottom"&&o);h=Au(Au({},h),{},{x1:i,y1:s+A*l,x2:i+c,y2:s+A*l})}else{var f=+(u==="left"&&!o||u==="right"&&o);h=Au(Au({},h),{},{x1:i+f*c,y1:s,x2:i+f*c,y2:s+l})}return St.createElement("line",Qp({},h,{className:gi("recharts-cartesian-axis-line",od(d,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var c=this,l=this.props,u=l.tickLine,o=l.stroke,d=l.tick,h=l.tickFormatter,A=l.unit,f=KN(Au(Au({},this.props),{},{ticks:a}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=_a(this.props,!1),y=_a(d,!1),b=Au(Au({},x),{},{fill:"none"},_a(u,!1)),w=f.map(function(N,S){var j=c.getTickLineCoord(N),_=j.line,k=j.tick,Z=Au(Au(Au(Au({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:o},y),k),{},{index:S,payload:N,visibleTicksCount:f.length,tickFormatter:h});return St.createElement(is,Qp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},rp(c.props,N,S)),u&&St.createElement("line",Qp({},b,_,{className:gi("recharts-cartesian-axis-tick-line",od(u,"className"))})),d&&e.renderTickItem(d,Z,"".concat(qa(h)?h(N.value,S):N.value).concat(A||"")))});return St.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,c=i.width,l=i.height,u=i.ticksGenerator,o=i.className,d=i.hide;if(d)return null;var h=this.props,A=h.ticks,f=hj(h,_Y),g=A;return qa(u)&&(g=A&&A.length>0?u(this.props):u(f)),c<=0||l<=0||!g||!g.length?null:St.createElement(is,{className:gi("recharts-cartesian-axis",o),ref:function(x){a.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),vc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return St.isValidElement(a)?c=St.cloneElement(a,i):qa(a)?c=a(i):c=St.createElement(np,Qp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(P.Component);GN(Pm,"displayName","CartesianAxis");GN(Pm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UY=["x1","y1","x2","y2","key"],HY=["offset"];function sp(r){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(r)}function o6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Zc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(a){QY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function QY(r,e,n){return e=WY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function WY(r){var e=$Y(r,"string");return sp(e)=="symbol"?e:e+""}function $Y(r,e){if(sp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function qf(){return qf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},qf.apply(this,arguments)}function l6(r,e){if(r==null)return{};var n=VY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function VY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var zY=function(e){var n=e.fill;if(!n||n==="none")return null;var a=e.fillOpacity,i=e.x,s=e.y,c=e.width,l=e.height,u=e.ry;return St.createElement("rect",{x:i,y:s,ry:u,width:c,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function sF(r,e){var n;if(St.isValidElement(r))n=St.cloneElement(r,e);else if(qa(r))n=r(e);else{var a=e.x1,i=e.y1,s=e.x2,c=e.y2,l=e.key,u=l6(e,UY),o=_a(u,!1);o.offset;var d=l6(o,HY);n=St.createElement("line",qf({},d,{x1:a,y1:i,x2:s,y2:c,fill:"none",key:l}))}return n}function KY(r){var e=r.x,n=r.width,a=r.horizontal,i=a===void 0?!0:a,s=r.horizontalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=Zc(Zc({},r),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(u),index:u});return sF(i,o)});return St.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function GY(r){var e=r.y,n=r.height,a=r.vertical,i=a===void 0?!0:a,s=r.verticalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=Zc(Zc({},r),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(u),index:u});return sF(i,o)});return St.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function qY(r){var e=r.horizontalFill,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=r.horizontalPoints,u=r.horizontal,o=u===void 0?!0:u;if(!o||!e||!e.length)return null;var d=l.map(function(A){return Math.round(A+i-i)}).sort(function(A,f){return A-f});i!==d[0]&&d.unshift(0);var h=d.map(function(A,f){var g=!d[f+1],m=g?i+c-A:d[f+1]-A;if(m<=0)return null;var x=f%e.length;return St.createElement("rect",{key:"react-".concat(f),y:A,x:a,height:m,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return St.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function XY(r){var e=r.vertical,n=e===void 0?!0:e,a=r.verticalFill,i=r.fillOpacity,s=r.x,c=r.y,l=r.width,u=r.height,o=r.verticalPoints;if(!n||!a||!a.length)return null;var d=o.map(function(A){return Math.round(A+s-s)}).sort(function(A,f){return A-f});s!==d[0]&&d.unshift(0);var h=d.map(function(A,f){var g=!d[f+1],m=g?s+l-A:d[f+1]-A;if(m<=0)return null;var x=f%a.length;return St.createElement("rect",{key:"react-".concat(f),x:A,y:c,width:m,height:u,stroke:"none",fill:a[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return St.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var YY=function(e,n){var a=e.xAxis,i=e.width,s=e.height,c=e.offset;return sP(KN(Zc(Zc(Zc({},Pm.defaultProps),a),{},{ticks:lA(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,n)},ZY=function(e,n){var a=e.yAxis,i=e.width,s=e.height,c=e.offset;return sP(KN(Zc(Zc(Zc({},Pm.defaultProps),a),{},{ticks:lA(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,n)},Tp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nv(r){var e,n,a,i,s,c,l=WN(),u=$N(),o=LX(),d=Zc(Zc({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:Tp.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:Tp.fill,horizontal:(a=r.horizontal)!==null&&a!==void 0?a:Tp.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:Tp.horizontalFill,vertical:(s=r.vertical)!==null&&s!==void 0?s:Tp.vertical,verticalFill:(c=r.verticalFill)!==null&&c!==void 0?c:Tp.verticalFill,x:mn(r.x)?r.x:o.left,y:mn(r.y)?r.y:o.top,width:mn(r.width)?r.width:o.width,height:mn(r.height)?r.height:o.height}),h=d.x,A=d.y,f=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,b=DX(),w=MX();if(!mn(f)||f<=0||!mn(g)||g<=0||!mn(h)||h!==+h||!mn(A)||A!==+A)return null;var N=d.verticalCoordinatesGenerator||YY,S=d.horizontalCoordinatesGenerator||ZY,j=d.horizontalPoints,_=d.verticalPoints;if((!j||!j.length)&&qa(S)){var k=x&&x.length,Z=S({yAxis:w?Zc(Zc({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:u,offset:o},k?!0:m);uh(Array.isArray(Z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sp(Z),"]")),Array.isArray(Z)&&(j=Z)}if((!_||!_.length)&&qa(N)){var ee=y&&y.length,V=N({xAxis:b?Zc(Zc({},b),{},{ticks:ee?y:b.ticks}):void 0,width:l,height:u,offset:o},ee?!0:m);uh(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sp(V),"]")),Array.isArray(V)&&(_=V)}return St.createElement("g",{className:"recharts-cartesian-grid"},St.createElement(zY,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),St.createElement(KY,qf({},d,{offset:o,horizontalPoints:j,xAxis:b,yAxis:w})),St.createElement(GY,qf({},d,{offset:o,verticalPoints:_,xAxis:b,yAxis:w})),St.createElement(qY,qf({},d,{horizontalPoints:j})),St.createElement(XY,qf({},d,{verticalPoints:_})))}nv.displayName="CartesianGrid";var JY=["type","layout","connectNulls","ref"],eZ=["key"];function vm(r){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(r)}function c6(r,e){if(r==null)return{};var n=tZ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function tZ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function z0(){return z0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},z0.apply(this,arguments)}function u6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function td(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(a){sh(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function _p(r){return iZ(r)||aZ(r)||nZ(r)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nZ(r,e){if(r){if(typeof r=="string")return m4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m4(r,e)}}function aZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function iZ(r){if(Array.isArray(r))return m4(r)}function m4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function sZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function d6(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,lF(a.key),a)}}function oZ(r,e,n){return e&&d6(r.prototype,e),n&&d6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function lZ(r,e,n){return e=s2(e),cZ(r,oF()?Reflect.construct(e,n||[],s2(r).constructor):e.apply(r,n))}function cZ(r,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uZ(r)}function uZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!r})()}function s2(r){return s2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s2(r)}function dZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&g4(r,e)}function g4(r,e){return g4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},g4(r,e)}function sh(r,e,n){return e=lF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function lF(r){var e=hZ(r,"string");return vm(e)=="symbol"?e:e+""}function hZ(r,e){if(vm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xm=(function(r){function e(){var n;sZ(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=lZ(this,e,[].concat(i)),sh(n,"state",{isAnimationFinished:!0,totalLength:0}),sh(n,"generateSimpleStrokeDasharray",function(c,l){return"".concat(l,"px ").concat(c-l,"px")}),sh(n,"getStrokeDasharray",function(c,l,u){var o=u.reduce(function(y,b){return y+b});if(!o)return n.generateSimpleStrokeDasharray(l,c);for(var d=Math.floor(c/o),h=c%o,A=l-c,f=[],g=0,m=0;g<u.length;m+=u[g],++g)if(m+u[g]>h){f=[].concat(_p(u.slice(0,g)),[h-m]);break}var x=f.length%2===0?[0,A]:[A];return[].concat(_p(e.repeat(u,d)),_p(f),x).map(function(y){return"".concat(y,"px")}).join(", ")}),sh(n,"id",Im("recharts-line-")),sh(n,"pathRef",function(c){n.mainCurve=c}),sh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),sh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return dZ(e,r),oZ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,l=s.xAxis,u=s.yAxis,o=s.layout,d=s.children,h=ld(d,Hg);if(!h)return null;var A=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:zl(m.payload,x)}},f={clipPath:a?"url(#clipPath-".concat(i,")"):null};return St.createElement(is,f,h.map(function(g){return St.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,dataPointFormatter:A})}))}},{key:"renderDots",value:function(a,i,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,o=l.points,d=l.dataKey,h=_a(this.props,!1),A=_a(u,!0),f=o.map(function(m,x){var y=td(td(td({key:"dot-".concat(x),r:3},h),A),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:x,payload:m.payload});return e.renderDotItem(u,y)}),g={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return St.createElement(is,z0({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(a,i,s,c){var l=this.props,u=l.type,o=l.layout,d=l.connectNulls;l.ref;var h=c6(l,JY),A=td(td(td({},_a(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},c),{},{type:u,layout:o,connectNulls:d});return St.createElement(Lv,z0({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,c=this.props,l=c.points,u=c.strokeDasharray,o=c.isAnimationActive,d=c.animationBegin,h=c.animationDuration,A=c.animationEasing,f=c.animationId,g=c.animateNewValues,m=c.width,x=c.height,y=this.state,b=y.prevPoints,w=y.totalLength;return St.createElement(Oh,{begin:d,duration:h,isActive:o,easing:A,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(b){var j=b.length/l.length,_=l.map(function(re,R){var Y=Math.floor(R*j);if(b[Y]){var L=b[Y],$=id(L.x,re.x),je=id(L.y,re.y);return td(td({},re),{},{x:$(S),y:je(S)})}if(g){var ge=id(m*2,re.x),Ie=id(x/2,re.y);return td(td({},re),{},{x:ge(S),y:Ie(S)})}return td(td({},re),{},{x:re.x,y:re.y})});return s.renderCurveStatically(_,a,i)}var k=id(0,w),Z=k(S),ee;if(u){var V="".concat(u).split(/[,\s]+/gim).map(function(re){return parseFloat(re)});ee=s.getStrokeDasharray(Z,w,V)}else ee=s.generateSimpleStrokeDasharray(w,Z);return s.renderCurveStatically(l,a,i,{strokeDasharray:ee})})}},{key:"renderCurve",value:function(a,i){var s=this.props,c=s.points,l=s.isAnimationActive,u=this.state,o=u.prevPoints,d=u.totalLength;return l&&c&&c.length&&(!o&&d>0||!Ug(o,c))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(c,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,c=i.dot,l=i.points,u=i.className,o=i.xAxis,d=i.yAxis,h=i.top,A=i.left,f=i.width,g=i.height,m=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=gi("recharts-line",u),N=o&&o.allowDataOverflow,S=d&&d.allowDataOverflow,j=N||S,_=li(x)?this.id:x,k=(a=_a(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},Z=k.r,ee=Z===void 0?3:Z,V=k.strokeWidth,re=V===void 0?2:V,R=UR(c)?c:{},Y=R.clipDot,L=Y===void 0?!0:Y,$=ee*2+re;return St.createElement(is,{className:w},N||S?St.createElement("defs",null,St.createElement("clipPath",{id:"clipPath-".concat(_)},St.createElement("rect",{x:N?A:A-f/2,y:S?h:h-g/2,width:N?f:f*2,height:S?g:g*2})),!L&&St.createElement("clipPath",{id:"clipPath-dots-".concat(_)},St.createElement("rect",{x:A-$/2,y:h-$/2,width:f+$,height:g+$}))):null,!b&&this.renderCurve(j,_),this.renderErrorBar(j,_),(b||c)&&this.renderDots(j,L,_),(!m||y)&&hA.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(_p(a),[0]):a,c=[],l=0;l<i;++l)c=[].concat(_p(c),_p(s));return c}},{key:"renderDotItem",value:function(a,i){var s;if(St.isValidElement(a))s=St.cloneElement(a,i);else if(qa(a))s=a(i);else{var c=i.key,l=c6(i,eZ),u=gi("recharts-line-dot",typeof a!="boolean"?a.className:"");s=St.createElement(W2,z0({key:c},l,{className:u}))}return s}}])})(P.PureComponent);sh(xm,"displayName","Line");sh(xm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!lp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});sh(xm,"getComposedData",function(r){var e=r.props,n=r.xAxis,a=r.yAxis,i=r.xAxisTicks,s=r.yAxisTicks,c=r.dataKey,l=r.bandSize,u=r.displayedData,o=r.offset,d=e.layout,h=u.map(function(A,f){var g=zl(A,c);return d==="horizontal"?{x:mI({axis:n,ticks:i,bandSize:l,entry:A,index:f}),y:li(g)?null:a.scale(g),value:g,payload:A}:{x:li(g)?null:n.scale(g),y:mI({axis:a,ticks:s,bandSize:l,entry:A,index:f}),value:g,payload:A}});return td({points:h,layout:d},o)});function ym(r){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(r)}function AZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,dF(a.key),a)}}function pZ(r,e,n){return e&&fZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function mZ(r,e,n){return e=o2(e),gZ(r,cF()?Reflect.construct(e,n||[],o2(r).constructor):e.apply(r,n))}function gZ(r,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vZ(r)}function vZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!r})()}function o2(r){return o2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o2(r)}function xZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&v4(r,e)}function v4(r,e){return v4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},v4(r,e)}function uF(r,e,n){return e=dF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function dF(r){var e=yZ(r,"string");return ym(e)=="symbol"?e:e+""}function yZ(r,e){if(ym(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function x4(){return x4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},x4.apply(this,arguments)}function bZ(r){var e=r.xAxisId,n=WN(),a=$N(),i=qP(e);return i==null?null:St.createElement(Pm,x4({},i,{className:gi("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return lA(c,!0)}}))}var Jf=(function(r){function e(){return AZ(this,e),mZ(this,e,arguments)}return xZ(e,r),pZ(e,[{key:"render",value:function(){return St.createElement(bZ,this.props)}}])})(St.Component);uF(Jf,"displayName","XAxis");uF(Jf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bm(r){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(r)}function wZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,fF(a.key),a)}}function CZ(r,e,n){return e&&jZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function NZ(r,e,n){return e=l2(e),SZ(r,hF()?Reflect.construct(e,n||[],l2(r).constructor):e.apply(r,n))}function SZ(r,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BZ(r)}function BZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!r})()}function l2(r){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l2(r)}function EZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&y4(r,e)}function y4(r,e){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},y4(r,e)}function AF(r,e,n){return e=fF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function fF(r){var e=IZ(r,"string");return bm(e)=="symbol"?e:e+""}function IZ(r,e){if(bm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function b4(){return b4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},b4.apply(this,arguments)}var TZ=function(e){var n=e.yAxisId,a=WN(),i=$N(),s=XP(n);return s==null?null:St.createElement(Pm,b4({},s,{className:gi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(l){return lA(l,!0)}}))},ep=(function(r){function e(){return wZ(this,e),NZ(this,e,arguments)}return EZ(e,r),CZ(e,[{key:"render",value:function(){return St.createElement(TZ,this.props)}}])})(St.Component);AF(ep,"displayName","YAxis");AF(ep,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function h6(r){return PZ(r)||kZ(r)||OZ(r)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(r,e){if(r){if(typeof r=="string")return w4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w4(r,e)}}function kZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function PZ(r){if(Array.isArray(r))return w4(r)}function w4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var j4=function(e,n,a,i,s){var c=ld(e,zN),l=ld(e,Z2),u=[].concat(h6(c),h6(l)),o=ld(e,ex),d="".concat(i,"Id"),h=i[0],A=n;if(u.length&&(A=u.reduce(function(m,x){if(x.props[d]===a&&Th(x.props,"extendDomain")&&mn(x.props[h])){var y=x.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},A)),o.length){var f="".concat(h,"1"),g="".concat(h,"2");A=o.reduce(function(m,x){if(x.props[d]===a&&Th(x.props,"extendDomain")&&mn(x.props[f])&&mn(x.props[g])){var y=x.props[f],b=x.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},A)}return s&&s.length&&(A=s.reduce(function(m,x){return mn(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},A)),A},Aj={exports:{}},A6;function FZ(){return A6||(A6=1,(function(r){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(u,o,d){this.fn=u,this.context=o,this.once=d||!1}function s(u,o,d,h,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,h||u,A),g=n?n+o:o;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],f]:u._events[g].push(f):(u._events[g]=f,u._eventsCount++),u}function c(u,o){--u._eventsCount===0?u._events=new a:delete u._events[o]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var o=[],d,h;if(this._eventsCount===0)return o;for(h in d=this._events)e.call(d,h)&&o.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(d)):o},l.prototype.listeners=function(o){var d=n?n+o:o,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var A=0,f=h.length,g=new Array(f);A<f;A++)g[A]=h[A].fn;return g},l.prototype.listenerCount=function(o){var d=n?n+o:o,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(o,d,h,A,f,g){var m=n?n+o:o;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(o,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,A),!0;case 5:return x.fn.call(x.context,d,h,A,f),!0;case 6:return x.fn.call(x.context,d,h,A,f,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var N=x.length,S;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(o,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,A);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(o,d,h){return s(this,o,d,h,!1)},l.prototype.once=function(o,d,h){return s(this,o,d,h,!0)},l.prototype.removeListener=function(o,d,h,A){var f=n?n+o:o;if(!this._events[f])return this;if(!d)return c(this,f),this;var g=this._events[f];if(g.fn)g.fn===d&&(!A||g.once)&&(!h||g.context===h)&&c(this,f);else{for(var m=0,x=[],y=g.length;m<y;m++)(g[m].fn!==d||A&&!g[m].once||h&&g[m].context!==h)&&x.push(g[m]);x.length?this._events[f]=x.length===1?x[0]:x:c(this,f)}return this},l.prototype.removeAllListeners=function(o){var d;return o?(d=n?n+o:o,this._events[d]&&c(this,d)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(Aj)),Aj.exports}var DZ=FZ();const MZ=Zi(DZ);var fj=new MZ,pj="recharts.syncMouseEvents";function Tg(r){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(r)}function RZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function LZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,pF(a.key),a)}}function UZ(r,e,n){return e&&LZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function mj(r,e,n){return e=pF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function pF(r){var e=HZ(r,"string");return Tg(e)=="symbol"?e:e+""}function HZ(r,e){if(Tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var QZ=(function(){function r(){RZ(this,r),mj(this,"activeIndex",0),mj(this,"coordinateList",[]),mj(this,"layout","horizontal")}return UZ(r,[{key:"setDetails",value:function(n){var a,i=n.coordinateList,s=i===void 0?null:i,c=n.container,l=c===void 0?null:c,u=n.layout,o=u===void 0?null:u,d=n.offset,h=d===void 0?null:d,A=n.mouseHandlerCallback,f=A===void 0?null:A;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=o??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,c=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,o=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=s+u+o,A=c+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:A})}}}])})();function WZ(r,e,n){if(n==="number"&&e===!0&&Array.isArray(r)){var a=r==null?void 0:r[0],i=r==null?void 0:r[1];if(a&&i&&mn(a)&&mn(i))return!0}return!1}function $Z(r,e,n,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:n.left+.5,y:r==="horizontal"?n.top+.5:e.y-i,width:r==="horizontal"?a:n.width-1,height:r==="horizontal"?n.height-1:a}}function mF(r){var e=r.cx,n=r.cy,a=r.radius,i=r.startAngle,s=r.endAngle,c=no(e,n,a,i),l=no(e,n,a,s);return{points:[c,l],cx:e,cy:n,radius:a,startAngle:i,endAngle:s}}function VZ(r,e,n){var a,i,s,c;if(r==="horizontal")a=e.x,s=a,i=n.top,c=n.top+n.height;else if(r==="vertical")i=e.y,c=i,a=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var l=e.cx,u=e.cy,o=e.innerRadius,d=e.outerRadius,h=e.angle,A=no(l,u,o,h),f=no(l,u,d,h);a=A.x,i=A.y,s=f.x,c=f.y}else return mF(e);return[{x:a,y:i},{x:s,y:c}]}function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function f6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function c1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(a){zZ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function zZ(r,e,n){return e=KZ(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function KZ(r){var e=GZ(r,"string");return _g(e)=="symbol"?e:e+""}function GZ(r,e){if(_g(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(_g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function qZ(r){var e,n,a=r.element,i=r.tooltipEventType,s=r.isActive,c=r.activeCoordinate,l=r.activePayload,u=r.offset,o=r.activeTooltipIndex,d=r.tooltipAxisBandSize,h=r.layout,A=r.chartName,f=(e=a.props.cursor)!==null&&e!==void 0?e:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!f||!s||!c||A!=="ScatterChart"&&i!=="axis")return null;var g,m=Lv;if(A==="ScatterChart")g=c,m=gG;else if(A==="BarChart")g=$Z(h,c,u,d),m=LN;else if(h==="radial"){var x=mF(c),y=x.cx,b=x.cy,w=x.radius,N=x.startAngle,S=x.endAngle;g={cx:y,cy:b,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},m=gP}else g={points:VZ(h,c,u)},m=Lv;var j=c1(c1(c1(c1({stroke:"#ccc",pointerEvents:"none"},u),g),_a(f,!1)),{},{payload:l,payloadIndex:o,className:gi("recharts-tooltip-cursor",f.className)});return P.isValidElement(f)?P.cloneElement(f,j):P.createElement(m,j)}var XZ=["item"],YZ=["children","className","width","height","style","compact","title","desc"];function wm(r){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(r)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Wp.apply(this,arguments)}function p6(r,e){return eJ(r)||JZ(r,e)||vF(r,e)||ZZ()}function ZZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JZ(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(d){o=!0,i=d}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function eJ(r){if(Array.isArray(r))return r}function m6(r,e){if(r==null)return{};var n=tJ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function tJ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function rJ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function nJ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,xF(a.key),a)}}function aJ(r,e,n){return e&&nJ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function iJ(r,e,n){return e=c2(e),sJ(r,gF()?Reflect.construct(e,n||[],c2(r).constructor):e.apply(r,n))}function sJ(r,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oJ(r)}function oJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!r})()}function c2(r){return c2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c2(r)}function lJ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&C4(r,e)}function C4(r,e){return C4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},C4(r,e)}function jm(r){return dJ(r)||uJ(r)||vF(r)||cJ()}function cJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(r,e){if(r){if(typeof r=="string")return N4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N4(r,e)}}function uJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function dJ(r){if(Array.isArray(r))return N4(r)}function N4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function g6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(n),!0).forEach(function(a){Ra(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Ra(r,e,n){return e=xF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xF(r){var e=hJ(r,"string");return wm(e)=="symbol"?e:e+""}function hJ(r,e){if(wm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(wm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var AJ={xAxis:["bottom","top"],yAxis:["left","right"]},fJ={width:"100%",height:"100%"},yF={x:0,y:0};function u1(r){return r}var pJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},mJ=function(e,n,a,i){var s=n.find(function(d){return d&&d.index===a});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,l=i.radius;return kr(kr(kr({},i),no(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}var u=s.coordinate,o=i.angle;return kr(kr(kr({},i),no(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}return yF},tx=function(e,n){var a=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,c=(a??[]).reduce(function(l,u){var o=u.props.data;return o&&o.length?[].concat(jm(l),jm(o)):l},[]);return c.length>0?c:e&&e.length&&mn(i)&&mn(s)?e.slice(i,s+1):[]};function bF(r){return r==="number"?[0,"auto"]:void 0}var S4=function(e,n,a,i){var s=e.graphicalItems,c=e.tooltipAxis,l=tx(n,e);return a<0||!s||!s.length||a>=l.length?null:s.reduce(function(u,o){var d,h=(d=o.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=a&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var A;if(c.dataKey&&!c.allowDuplicatedCategory){var f=h===void 0?l:h;A=uv(f,c.dataKey,i)}else A=h&&h[a]||l[a];return A?[].concat(jm(u),[dP(o,A)]):u},[])},v6=function(e,n,a,i){var s=i||{x:e.chartX,y:e.chartY},c=pJ(s,a),l=e.orderedTooltipTicks,u=e.tooltipAxis,o=e.tooltipTicks,d=R$(c,l,o,u);if(d>=0&&o){var h=o[d]&&o[d].value,A=S4(e,n,d,h),f=mJ(a,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:A,activeCoordinate:f}}return null},gJ=function(e,n){var a=n.axes,i=n.graphicalItems,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,d=e.layout,h=e.children,A=e.stackOffset,f=iP(d,s);return a.reduce(function(g,m){var x,y=m.type.defaultProps!==void 0?kr(kr({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,N=y.allowDataOverflow,S=y.allowDuplicatedCategory,j=y.scale,_=y.ticks,k=y.includeHidden,Z=y[c];if(g[Z])return g;var ee=tx(e.data,{graphicalItems:i.filter(function(le){var ve,se=c in le.props?le.props[c]:(ve=le.type.defaultProps)===null||ve===void 0?void 0:ve[c];return se===Z}),dataStartIndex:u,dataEndIndex:o}),V=ee.length,re,R,Y;WZ(y.domain,N,b)&&(re=UC(y.domain,null,N),f&&(b==="number"||j!=="auto")&&(Y=Q0(ee,w,"category")));var L=bF(b);if(!re||re.length===0){var $,je=($=y.domain)!==null&&$!==void 0?$:L;if(w){if(re=Q0(ee,w,b),b==="category"&&f){var ge=_R(re);S&&ge?(R=re,re=Xv(0,V)):S||(re=yI(je,re,m).reduce(function(le,ve){return le.indexOf(ve)>=0?le:[].concat(jm(le),[ve])},[]))}else if(b==="category")S?re=re.filter(function(le){return le!==""&&!li(le)}):re=yI(je,re,m).reduce(function(le,ve){return le.indexOf(ve)>=0||ve===""||li(ve)?le:[].concat(jm(le),[ve])},[]);else if(b==="number"){var Ie=W$(ee,i.filter(function(le){var ve,se,he=c in le.props?le.props[c]:(ve=le.type.defaultProps)===null||ve===void 0?void 0:ve[c],Ne="hide"in le.props?le.props.hide:(se=le.type.defaultProps)===null||se===void 0?void 0:se.hide;return he===Z&&(k||!Ne)}),w,s,d);Ie&&(re=Ie)}f&&(b==="number"||j!=="auto")&&(Y=Q0(ee,w,"category"))}else f?re=Xv(0,V):l&&l[Z]&&l[Z].hasStack&&b==="number"?re=A==="expand"?[0,1]:uP(l[Z].stackGroups,u,o):re=aP(ee,i.filter(function(le){var ve=c in le.props?le.props[c]:le.type.defaultProps[c],se="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return ve===Z&&(k||!se)}),b,d,!0);if(b==="number")re=j4(h,re,Z,s,_),je&&(re=UC(je,re,N));else if(b==="category"&&je){var _e=je,fe=re.every(function(le){return _e.indexOf(le)>=0});fe&&(re=_e)}}return kr(kr({},g),{},Ra({},Z,kr(kr({},y),{},{axisType:s,domain:re,categoricalDomain:Y,duplicateDomain:R,originalDomain:(x=y.domain)!==null&&x!==void 0?x:L,isCategorical:f,layout:d})))},{})},vJ=function(e,n){var a=n.graphicalItems,i=n.Axis,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,d=e.layout,h=e.children,A=tx(e.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:o}),f=A.length,g=iP(d,s),m=-1;return a.reduce(function(x,y){var b=y.type.defaultProps!==void 0?kr(kr({},y.type.defaultProps),y.props):y.props,w=b[c],N=bF("number");if(!x[w]){m++;var S;return g?S=Xv(0,f):l&&l[w]&&l[w].hasStack?(S=uP(l[w].stackGroups,u,o),S=j4(h,S,w,s)):(S=UC(N,aP(A,a.filter(function(j){var _,k,Z=c in j.props?j.props[c]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[c],ee="hide"in j.props?j.props.hide:(k=j.type.defaultProps)===null||k===void 0?void 0:k.hide;return Z===w&&!ee}),"number",d),i.defaultProps.allowDataOverflow),S=j4(h,S,w,s)),kr(kr({},x),{},Ra({},w,kr(kr({axisType:s},i.defaultProps),{},{hide:!0,orientation:od(AJ,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:N,isCategorical:g,layout:d})))}return x},{})},xJ=function(e,n){var a=n.axisType,i=a===void 0?"xAxis":a,s=n.AxisComp,c=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),A=ld(d,s),f={};return A&&A.length?f=gJ(e,{axes:A,graphicalItems:c,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:o}):c&&c.length&&(f=vJ(e,{Axis:s,graphicalItems:c,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:o})),f},yJ=function(e){var n=XA(e),a=lA(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:hN(a,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Dv(n,a)}},x6=function(e){var n=e.children,a=e.defaultShowTooltip,i=nd(n,hm),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},bJ=function(e){return!e||!e.length?!1:e.some(function(n){var a=uA(n&&n.type);return a&&a.indexOf("Bar")>=0})},y6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wJ=function(e,n){var a=e.props,i=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,l=e.yAxisMap,u=l===void 0?{}:l,o=a.width,d=a.height,h=a.children,A=a.margin||{},f=nd(h,hm),g=nd(h,Nh),m=Object.keys(u).reduce(function(S,j){var _=u[j],k=_.orientation;return!_.mirror&&!_.hide?kr(kr({},S),{},Ra({},k,S[k]+_.width)):S},{left:A.left||0,right:A.right||0}),x=Object.keys(c).reduce(function(S,j){var _=c[j],k=_.orientation;return!_.mirror&&!_.hide?kr(kr({},S),{},Ra({},k,od(S,"".concat(k))+_.height)):S},{top:A.top||0,bottom:A.bottom||0}),y=kr(kr({},x),m),b=y.bottom;f&&(y.bottom+=f.props.height||hm.defaultProps.height),g&&n&&(y=H$(y,i,a,n));var w=o-y.left-y.right,N=d-y.top-y.bottom;return kr(kr({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(N,0)})},jJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},qN=function(e){var n=e.chartName,a=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,c=e.validateTooltipEventTypes,l=c===void 0?["axis"]:c,u=e.axisComponents,o=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,A=function(y,b){var w=b.graphicalItems,N=b.stackGroups,S=b.offset,j=b.updateId,_=b.dataStartIndex,k=b.dataEndIndex,Z=y.barSize,ee=y.layout,V=y.barGap,re=y.barCategoryGap,R=y.maxBarSize,Y=y6(ee),L=Y.numericAxisName,$=Y.cateAxisName,je=bJ(w),ge=[];return w.forEach(function(Ie,_e){var fe=tx(y.data,{graphicalItems:[Ie],dataStartIndex:_,dataEndIndex:k}),le=Ie.type.defaultProps!==void 0?kr(kr({},Ie.type.defaultProps),Ie.props):Ie.props,ve=le.dataKey,se=le.maxBarSize,he=le["".concat(L,"Id")],Ne=le["".concat($,"Id")],Pe={},ye=u.reduce(function(Ct,Xt){var _r=b["".concat(Xt.axisType,"Map")],Or=le["".concat(Xt.axisType,"Id")];_r&&_r[Or]||Xt.axisType==="zAxis"||ip();var He=_r[Or];return kr(kr({},Ct),{},Ra(Ra({},Xt.axisType,He),"".concat(Xt.axisType,"Ticks"),lA(He)))},Pe),ce=ye[$],q=ye["".concat($,"Ticks")],pe=N&&N[he]&&N[he].hasStack&&Z$(Ie,N[he].stackGroups),oe=uA(Ie.type).indexOf("Bar")>=0,We=Dv(ce,q),Re=[],Ee=je&&L$({barSize:Z,stackGroups:N,totalSize:jJ(ye,$)});if(oe){var ae,Le,Ze=li(se)?R:se,jt=(ae=(Le=Dv(ce,q,!0))!==null&&Le!==void 0?Le:Ze)!==null&&ae!==void 0?ae:0;Re=U$({barGap:V,barCategoryGap:re,bandSize:jt!==We?jt:We,sizeList:Ee[Ne],maxBarSize:Ze}),jt!==We&&(Re=Re.map(function(Ct){return kr(kr({},Ct),{},{position:kr(kr({},Ct.position),{},{offset:Ct.position.offset-jt/2})})}))}var Lt=Ie&&Ie.type&&Ie.type.getComposedData;Lt&&ge.push({props:kr(kr({},Lt(kr(kr({},ye),{},{displayedData:fe,props:y,dataKey:ve,item:Ie,bandSize:We,barPosition:Re,offset:S,stackedData:pe,layout:ee,dataStartIndex:_,dataEndIndex:k}))),{},Ra(Ra(Ra({key:Ie.key||"item-".concat(_e)},L,ye[L]),$,ye[$]),"animationId",j)),childIndex:WR(Ie,y.children),item:Ie})}),ge},f=function(y,b){var w=y.props,N=y.dataStartIndex,S=y.dataEndIndex,j=y.updateId;if(!PB({props:w}))return null;var _=w.children,k=w.layout,Z=w.stackOffset,ee=w.data,V=w.reverseStackOrder,re=y6(k),R=re.numericAxisName,Y=re.cateAxisName,L=ld(_,a),$=X$(ee,L,"".concat(R,"Id"),"".concat(Y,"Id"),Z,V),je=u.reduce(function(le,ve){var se="".concat(ve.axisType,"Map");return kr(kr({},le),{},Ra({},se,xJ(w,kr(kr({},ve),{},{graphicalItems:L,stackGroups:ve.axisType===R&&$,dataStartIndex:N,dataEndIndex:S}))))},{}),ge=wJ(kr(kr({},je),{},{props:w,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(je).forEach(function(le){je[le]=d(w,je[le],ge,le.replace("Map",""),n)});var Ie=je["".concat(Y,"Map")],_e=yJ(Ie),fe=A(w,kr(kr({},je),{},{dataStartIndex:N,dataEndIndex:S,updateId:j,graphicalItems:L,stackGroups:$,offset:ge}));return kr(kr({formattedGraphicalItems:fe,graphicalItems:L,offset:ge,stackGroups:$},_e),je)},g=(function(x){function y(b){var w,N,S;return rJ(this,y),S=iJ(this,y,[b]),Ra(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ra(S,"accessibilityManager",new QZ),Ra(S,"handleLegendBBoxUpdate",function(j){if(j){var _=S.state,k=_.dataStartIndex,Z=_.dataEndIndex,ee=_.updateId;S.setState(kr({legendBBox:j},f({props:S.props,dataStartIndex:k,dataEndIndex:Z,updateId:ee},kr(kr({},S.state),{},{legendBBox:j}))))}}),Ra(S,"handleReceiveSyncEvent",function(j,_,k){if(S.props.syncId===j){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),Ra(S,"handleBrushChange",function(j){var _=j.startIndex,k=j.endIndex;if(_!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var Z=S.state.updateId;S.setState(function(){return kr({dataStartIndex:_,dataEndIndex:k},f({props:S.props,dataStartIndex:_,dataEndIndex:k,updateId:Z},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Ra(S,"handleMouseEnter",function(j){var _=S.getMouseInfo(j);if(_){var k=kr(kr({},_),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var Z=S.props.onMouseEnter;qa(Z)&&Z(k,j)}}),Ra(S,"triggeredAfterMouseMove",function(j){var _=S.getMouseInfo(j),k=_?kr(kr({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var Z=S.props.onMouseMove;qa(Z)&&Z(k,j)}),Ra(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ra(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ra(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),Ra(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var k=S.props.onMouseLeave;qa(k)&&k(_,j)}),Ra(S,"handleOuterEvent",function(j){var _=QR(j),k=od(S.props,"".concat(_));if(_&&qa(k)){var Z,ee;/.*touch.*/i.test(_)?ee=S.getMouseInfo(j.changedTouches[0]):ee=S.getMouseInfo(j),k((Z=ee)!==null&&Z!==void 0?Z:{},j)}}),Ra(S,"handleClick",function(j){var _=S.getMouseInfo(j);if(_){var k=kr(kr({},_),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var Z=S.props.onClick;qa(Z)&&Z(k,j)}}),Ra(S,"handleMouseDown",function(j){var _=S.props.onMouseDown;if(qa(_)){var k=S.getMouseInfo(j);_(k,j)}}),Ra(S,"handleMouseUp",function(j){var _=S.props.onMouseUp;if(qa(_)){var k=S.getMouseInfo(j);_(k,j)}}),Ra(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ra(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),Ra(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),Ra(S,"handleDoubleClick",function(j){var _=S.props.onDoubleClick;if(qa(_)){var k=S.getMouseInfo(j);_(k,j)}}),Ra(S,"handleContextMenu",function(j){var _=S.props.onContextMenu;if(qa(_)){var k=S.getMouseInfo(j);_(k,j)}}),Ra(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&fj.emit(pj,S.props.syncId,j,S.eventEmitterSymbol)}),Ra(S,"applySyncEvent",function(j){var _=S.props,k=_.layout,Z=_.syncMethod,ee=S.state.updateId,V=j.dataStartIndex,re=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(kr({dataStartIndex:V,dataEndIndex:re},f({props:S.props,dataStartIndex:V,dataEndIndex:re,updateId:ee},S.state)));else if(j.activeTooltipIndex!==void 0){var R=j.chartX,Y=j.chartY,L=j.activeTooltipIndex,$=S.state,je=$.offset,ge=$.tooltipTicks;if(!je)return;if(typeof Z=="function")L=Z(ge,j);else if(Z==="value"){L=-1;for(var Ie=0;Ie<ge.length;Ie++)if(ge[Ie].value===j.activeLabel){L=Ie;break}}var _e=kr(kr({},je),{},{x:je.left,y:je.top}),fe=Math.min(R,_e.x+_e.width),le=Math.min(Y,_e.y+_e.height),ve=ge[L]&&ge[L].value,se=S4(S.state,S.props.data,L),he=ge[L]?{x:k==="horizontal"?ge[L].coordinate:fe,y:k==="horizontal"?le:ge[L].coordinate}:yF;S.setState(kr(kr({},j),{},{activeLabel:ve,activeCoordinate:he,activePayload:se,activeTooltipIndex:L}))}else S.setState(j)}),Ra(S,"renderCursor",function(j){var _,k=S.state,Z=k.isTooltipActive,ee=k.activeCoordinate,V=k.activePayload,re=k.offset,R=k.activeTooltipIndex,Y=k.tooltipAxisBandSize,L=S.getTooltipEventType(),$=(_=j.props.active)!==null&&_!==void 0?_:Z,je=S.props.layout,ge=j.key||"_recharts-cursor";return St.createElement(qZ,{key:ge,activeCoordinate:ee,activePayload:V,activeTooltipIndex:R,chartName:n,element:j,isActive:$,layout:je,offset:re,tooltipAxisBandSize:Y,tooltipEventType:L})}),Ra(S,"renderPolarAxis",function(j,_,k){var Z=od(j,"type.axisType"),ee=od(S.state,"".concat(Z,"Map")),V=j.type.defaultProps,re=V!==void 0?kr(kr({},V),j.props):j.props,R=ee&&ee[re["".concat(Z,"Id")]];return P.cloneElement(j,kr(kr({},R),{},{className:gi(Z,R.className),key:j.key||"".concat(_,"-").concat(k),ticks:lA(R,!0)}))}),Ra(S,"renderPolarGrid",function(j){var _=j.props,k=_.radialLines,Z=_.polarAngles,ee=_.polarRadius,V=S.state,re=V.radiusAxisMap,R=V.angleAxisMap,Y=XA(re),L=XA(R),$=L.cx,je=L.cy,ge=L.innerRadius,Ie=L.outerRadius;return P.cloneElement(j,{polarAngles:Array.isArray(Z)?Z:lA(L,!0).map(function(_e){return _e.coordinate}),polarRadius:Array.isArray(ee)?ee:lA(Y,!0).map(function(_e){return _e.coordinate}),cx:$,cy:je,innerRadius:ge,outerRadius:Ie,key:j.key||"polar-grid",radialLines:k})}),Ra(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,_=S.props,k=_.children,Z=_.width,ee=_.height,V=S.props.margin||{},re=Z-(V.left||0)-(V.right||0),R=rP({children:k,formattedGraphicalItems:j,legendWidth:re,legendContent:o});if(!R)return null;var Y=R.item,L=m6(R,XZ);return P.cloneElement(Y,kr(kr({},L),{},{chartWidth:Z,chartHeight:ee,margin:V,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ra(S,"renderTooltip",function(){var j,_=S.props,k=_.children,Z=_.accessibilityLayer,ee=nd(k,ad);if(!ee)return null;var V=S.state,re=V.isTooltipActive,R=V.activeCoordinate,Y=V.activePayload,L=V.activeLabel,$=V.offset,je=(j=ee.props.active)!==null&&j!==void 0?j:re;return P.cloneElement(ee,{viewBox:kr(kr({},$),{},{x:$.left,y:$.top}),active:je,label:L,payload:je?Y:[],coordinate:R,accessibilityLayer:Z})}),Ra(S,"renderBrush",function(j){var _=S.props,k=_.margin,Z=_.data,ee=S.state,V=ee.offset,re=ee.dataStartIndex,R=ee.dataEndIndex,Y=ee.updateId;return P.cloneElement(j,{key:j.key||"_recharts-brush",onChange:i1(S.handleBrushChange,j.props.onChange),data:Z,x:mn(j.props.x)?j.props.x:V.left,y:mn(j.props.y)?j.props.y:V.top+V.height+V.brushBottom-(k.bottom||0),width:mn(j.props.width)?j.props.width:V.width,startIndex:re,endIndex:R,updateId:"brush-".concat(Y)})}),Ra(S,"renderReferenceElement",function(j,_,k){if(!j)return null;var Z=S,ee=Z.clipPathId,V=S.state,re=V.xAxisMap,R=V.yAxisMap,Y=V.offset,L=j.type.defaultProps||{},$=j.props,je=$.xAxisId,ge=je===void 0?L.xAxisId:je,Ie=$.yAxisId,_e=Ie===void 0?L.yAxisId:Ie;return P.cloneElement(j,{key:j.key||"".concat(_,"-").concat(k),xAxis:re[ge],yAxis:R[_e],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:ee})}),Ra(S,"renderActivePoints",function(j){var _=j.item,k=j.activePoint,Z=j.basePoint,ee=j.childIndex,V=j.isRange,re=[],R=_.props.key,Y=_.item.type.defaultProps!==void 0?kr(kr({},_.item.type.defaultProps),_.item.props):_.item.props,L=Y.activeDot,$=Y.dataKey,je=kr(kr({index:ee,dataKey:$,cx:k.x,cy:k.y,r:4,fill:RN(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},_a(L,!1)),dv(L));return re.push(y.renderActiveDot(L,je,"".concat(R,"-activePoint-").concat(ee))),Z?re.push(y.renderActiveDot(L,kr(kr({},je),{},{cx:Z.x,cy:Z.y}),"".concat(R,"-basePoint-").concat(ee))):V&&re.push(null),re}),Ra(S,"renderGraphicChild",function(j,_,k){var Z=S.filterFormatItem(j,_,k);if(!Z)return null;var ee=S.getTooltipEventType(),V=S.state,re=V.isTooltipActive,R=V.tooltipAxis,Y=V.activeTooltipIndex,L=V.activeLabel,$=S.props.children,je=nd($,ad),ge=Z.props,Ie=ge.points,_e=ge.isRange,fe=ge.baseLine,le=Z.item.type.defaultProps!==void 0?kr(kr({},Z.item.type.defaultProps),Z.item.props):Z.item.props,ve=le.activeDot,se=le.hide,he=le.activeBar,Ne=le.activeShape,Pe=!!(!se&&re&&je&&(ve||he||Ne)),ye={};ee!=="axis"&&je&&je.props.trigger==="click"?ye={onClick:i1(S.handleItemMouseEnter,j.props.onClick)}:ee!=="axis"&&(ye={onMouseLeave:i1(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:i1(S.handleItemMouseEnter,j.props.onMouseEnter)});var ce=P.cloneElement(j,kr(kr({},Z.props),ye));function q(Xt){return typeof R.dataKey=="function"?R.dataKey(Xt.payload):null}if(Pe)if(Y>=0){var pe,oe;if(R.dataKey&&!R.allowDuplicatedCategory){var We=typeof R.dataKey=="function"?q:"payload.".concat(R.dataKey.toString());pe=uv(Ie,We,L),oe=_e&&fe&&uv(fe,We,L)}else pe=Ie==null?void 0:Ie[Y],oe=_e&&fe&&fe[Y];if(Ne||he){var Re=j.props.activeIndex!==void 0?j.props.activeIndex:Y;return[P.cloneElement(j,kr(kr(kr({},Z.props),ye),{},{activeIndex:Re})),null,null]}if(!li(pe))return[ce].concat(jm(S.renderActivePoints({item:Z,activePoint:pe,basePoint:oe,childIndex:Y,isRange:_e})))}else{var Ee,ae=(Ee=S.getItemByXY(S.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ce},Le=ae.graphicalItem,Ze=Le.item,jt=Ze===void 0?j:Ze,Lt=Le.childIndex,Ct=kr(kr(kr({},Z.props),ye),{},{activeIndex:Lt});return[P.cloneElement(jt,Ct),null,null]}return _e?[ce,null,null]:[ce,null]}),Ra(S,"renderCustomized",function(j,_,k){return P.cloneElement(j,kr(kr({key:"recharts-customized-".concat(k)},S.props),S.state))}),Ra(S,"renderMap",{CartesianGrid:{handler:u1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:u1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:u1},YAxis:{handler:u1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Im("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=rk(S.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return lJ(y,x),aJ(y,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,j=w.height,_=w.layout,k=nd(N,ad);if(k){var Z=k.props.defaultIndex;if(!(typeof Z!="number"||Z<0||Z>this.state.tooltipTicks.length-1)){var ee=this.state.tooltipTicks[Z]&&this.state.tooltipTicks[Z].value,V=S4(this.state,S,Z,ee),re=this.state.tooltipTicks[Z].coordinate,R=(this.state.offset.top+j)/2,Y=_==="horizontal",L=Y?{x:re,y:R}:{y:re,x:R},$=this.state.formattedGraphicalItems.find(function(ge){var Ie=ge.item;return Ie.type.name==="Scatter"});$&&(L=kr(kr({},L),$.props.points[Z].tooltipPosition),V=$.props.points[Z].tooltipPayload);var je={activeTooltipIndex:Z,isTooltipActive:!0,activeLabel:ee,activePayload:V,activeCoordinate:L};this.setState(je),this.renderCursor(k),this.accessibilityManager.setIndex(Z)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){lC([nd(w.children,ad)],[nd(this.props.children,ad)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=nd(this.props.children,ad);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),j=T9(S),_={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},k=S.width/N.offsetWidth||1,Z=this.inRange(_.chartX,_.chartY,k);if(!Z)return null;var ee=this.state,V=ee.xAxisMap,re=ee.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&V&&re){var Y=XA(V).scale,L=XA(re).scale,$=Y&&Y.invert?Y.invert(_.chartX):null,je=L&&L.invert?L.invert(_.chartY):null;return kr(kr({},_),{},{xValue:$,yValue:je})}var ge=v6(this.state,this.props.data,this.props.layout,Z);return ge?kr(kr({},_),ge):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,_=w/S,k=N/S;if(j==="horizontal"||j==="vertical"){var Z=this.state.offset,ee=_>=Z.left&&_<=Z.left+Z.width&&k>=Z.top&&k<=Z.top+Z.height;return ee?{x:_,y:k}:null}var V=this.state,re=V.angleAxisMap,R=V.radiusAxisMap;if(re&&R){var Y=XA(re);return jI({x:_,y:k},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=nd(w,ad),j={};S&&N==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=dv(this.props,this.handleOuterEvent);return kr(kr({},_),j)}},{key:"addListener",value:function(){fj.on(pj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fj.removeListener(pj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var j=this.state.formattedGraphicalItems,_=0,k=j.length;_<k;_++){var Z=j[_];if(Z.item===w||Z.props.key===w.key||N===uA(Z.item.type)&&S===Z.childIndex)return Z}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,j=N.top,_=N.height,k=N.width;return St.createElement("defs",null,St.createElement("clipPath",{id:w},St.createElement("rect",{x:S,y:j,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var j=p6(S,2),_=j[0],k=j[1];return kr(kr({},N),{},Ra({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var j=p6(S,2),_=j[0],k=j[1];return kr(kr({},N),{},Ra({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,j=N.activeItem;if(S&&S.length)for(var _=0,k=S.length;_<k;_++){var Z=S[_],ee=Z.props,V=Z.item,re=V.type.defaultProps!==void 0?kr(kr({},V.type.defaultProps),V.props):V.props,R=uA(V.type);if(R==="Bar"){var Y=(ee.data||[]).find(function(ge){return YK(w,ge)});if(Y)return{graphicalItem:Z,payload:Y}}else if(R==="RadialBar"){var L=(ee.data||[]).find(function(ge){return jI(w,ge)});if(L)return{graphicalItem:Z,payload:L}}else if(G2(Z,j)||q2(Z,j)||Ng(Z,j)){var $=yq({graphicalItem:Z,activeTooltipItem:j,itemData:re.data}),je=re.activeIndex===void 0?$:re.activeIndex;return{graphicalItem:kr(kr({},Z),{},{childIndex:je}),payload:Ng(Z,j)?re.data[$]:Z.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!PB(this))return null;var N=this.props,S=N.children,j=N.className,_=N.width,k=N.height,Z=N.style,ee=N.compact,V=N.title,re=N.desc,R=m6(N,YZ),Y=_a(R,!1);if(ee)return St.createElement(X8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},St.createElement(uC,Wp({},Y,{width:_,height:k,title:V,desc:re}),this.renderClipPath(),DB(S,this.renderMap)));if(this.props.accessibilityLayer){var L,$;Y.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,Y.role=($=this.props.role)!==null&&$!==void 0?$:"application",Y.onKeyDown=function(ge){w.accessibilityManager.keyboardEvent(ge)},Y.onFocus=function(){w.accessibilityManager.focus()}}var je=this.parseEventsOfWrapper();return St.createElement(X8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},St.createElement("div",Wp({className:gi("recharts-wrapper",j),style:kr({position:"relative",cursor:"default",width:_,height:k},Z)},je,{ref:function(Ie){w.container=Ie}}),St.createElement(uC,Wp({},Y,{width:_,height:k,title:V,desc:re,style:fJ}),this.renderClipPath(),DB(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);Ra(g,"displayName",n),Ra(g,"defaultProps",kr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ra(g,"getDerivedStateFromProps",function(x,y){var b=x.dataKey,w=x.data,N=x.children,S=x.width,j=x.height,_=x.layout,k=x.stackOffset,Z=x.margin,ee=y.dataStartIndex,V=y.dataEndIndex;if(y.updateId===void 0){var re=x6(x);return kr(kr(kr({},re),{},{updateId:0},f(kr(kr({props:x},re),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:j,prevLayout:_,prevStackOffset:k,prevMargin:Z,prevChildren:N})}if(b!==y.prevDataKey||w!==y.prevData||S!==y.prevWidth||j!==y.prevHeight||_!==y.prevLayout||k!==y.prevStackOffset||!qp(Z,y.prevMargin)){var R=x6(x),Y={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},L=kr(kr({},v6(y,w,_)),{},{updateId:y.updateId+1}),$=kr(kr(kr({},R),Y),L);return kr(kr(kr({},$),f(kr({props:x},$),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:j,prevLayout:_,prevStackOffset:k,prevMargin:Z,prevChildren:N})}if(!lC(N,y.prevChildren)){var je,ge,Ie,_e,fe=nd(N,hm),le=fe&&(je=(ge=fe.props)===null||ge===void 0?void 0:ge.startIndex)!==null&&je!==void 0?je:ee,ve=fe&&(Ie=(_e=fe.props)===null||_e===void 0?void 0:_e.endIndex)!==null&&Ie!==void 0?Ie:V,se=le!==ee||ve!==V,he=!li(w),Ne=he&&!se?y.updateId:y.updateId+1;return kr(kr({updateId:Ne},f(kr(kr({props:x},y),{},{updateId:Ne,dataStartIndex:le,dataEndIndex:ve}),y)),{},{prevChildren:N,dataStartIndex:le,dataEndIndex:ve})}return null}),Ra(g,"renderActiveDot",function(x,y,b){var w;return P.isValidElement(x)?w=P.cloneElement(x,y):qa(x)?w=x(y):w=St.createElement(W2,y),St.createElement(is,{className:"recharts-active-dot",key:b},w)});var m=P.forwardRef(function(y,b){return St.createElement(g,Wp({},y,{ref:b}))});return m.displayName=g.displayName,m},b6=qN({chartName:"LineChart",GraphicalChild:xm,axisComponents:[{axisType:"xAxis",AxisComp:Jf},{axisType:"yAxis",AxisComp:ep}],formatAxisMap:HP}),CJ=qN({chartName:"BarChart",GraphicalChild:hp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Jf},{axisType:"yAxis",AxisComp:ep}],formatAxisMap:HP}),NJ=qN({chartName:"PieChart",GraphicalChild:xA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:K2},{axisType:"radiusAxis",AxisComp:V2}],formatAxisMap:lV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const SJ=({title:r,type:e,data:n=[],loading:a=!1,xAxis:i,yAxis:s,series:c})=>{const[l,u]=P.useState([]),[o,d]=P.useState([]),h=i||"label",A=s||"value";P.useEffect(()=>{Array.isArray(n)?(u(n),d(n.map((m,x)=>m.label||m[h]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(d(n.labels||[]),u((n.data||[]).map((m,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:m}}))):(u([]),d([]))},[n,h]);const f=P.useMemo(()=>Array.isArray(c)&&c.length>0?c:[A],[A,c]),g=P.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-chart"})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:l.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),t.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),t.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"chart-container",children:t.jsx(j9,{width:"100%",height:260,children:e==="line"?t.jsxs(b6,{data:l,children:[t.jsx(nv,{strokeDasharray:"3 3"}),t.jsx(Jf,{dataKey:h}),t.jsx(ep,{}),t.jsx(ad,{}),t.jsx(Nh,{}),f.map(m=>t.jsx(xm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]}):e==="bar"?t.jsxs(CJ,{data:l,children:[t.jsx(nv,{strokeDasharray:"3 3"}),t.jsx(Jf,{dataKey:h}),t.jsx(ep,{}),t.jsx(ad,{}),t.jsx(Nh,{}),f.map(m=>t.jsx(hp,{dataKey:m,fill:"#2563eb",radius:[6,6,0,0]},m))]}):e==="pie"||e==="doughnut"?t.jsxs(NJ,{children:[t.jsx(ad,{}),t.jsx(Nh,{}),t.jsx(xA,{data:l,dataKey:A,nameKey:h,cx:"50%",cy:"50%",outerRadius:90,innerRadius:e==="doughnut"?55:0,paddingAngle:2,children:l.map((m,x)=>t.jsx(_2,{fill:g[x%g.length]},`cell-${x}`))})]}):t.jsxs(b6,{data:l,children:[t.jsx(nv,{strokeDasharray:"3 3"}),t.jsx(Jf,{dataKey:h}),t.jsx(ep,{}),t.jsx(ad,{}),t.jsx(Nh,{}),f.map(m=>t.jsx(xm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]})})})})]})},BJ=({title:r,columns:e,data:n,loading:a=!1,maxRows:i=5,onRowClick:s})=>{const c=n.slice(0,i);return a?t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-row",children:e.map((o,d)=>t.jsx("div",{className:"skeleton-cell"},d))},u))})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),n.length>i&&t.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:c.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"table-widget",children:t.jsxs("table",{className:"table-widget__table",children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(l=>t.jsx("th",{children:l.label},l.key))})}),t.jsx("tbody",{children:c.map((l,u)=>t.jsx("tr",{onClick:()=>s==null?void 0:s(l),className:s?"table-widget__row--clickable":"",children:e.map(o=>t.jsx("td",{children:o.render?o.render(l[o.key],l):l[o.key]||"-"},o.key))},u))})]})})})]})},EJ=({title:r,tasks:e,loading:n=!1,maxItems:a=5,onTaskClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-task-item"},u))})})]});const c=l=>{switch(l){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),t.jsx("p",{children:"No tasks available"})]}):t.jsx("ul",{className:"task-list",children:s.map(l=>t.jsxs("li",{className:`task-item ${i?"task-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsxs("div",{className:"task-item__header",children:[t.jsx("h4",{className:"task-item__title",children:l.title}),t.jsx("span",{className:"task-item__status",style:{backgroundColor:c(l.status)},children:l.status})]}),l.description&&t.jsx("p",{className:"task-item__description",children:l.description}),l.dueDate&&t.jsx("div",{className:"task-item__meta",children:t.jsxs("span",{className:"task-item__due-date",children:["Due: ",l.dueDate]})})]},l.id))})})]})},IJ=({title:r,items:e,loading:n=!1,maxItems:a=5,onApprove:i,onReject:s,onView:c,canApprove:l=!1,canReject:u=!1})=>{const o=e.slice(0,a);return n?t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((d,h)=>t.jsx("div",{className:"skeleton-approval-item"},h))})})]}):t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," pending"]})]}),t.jsx("div",{className:"widget-panel__body",children:o.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No pending approvals"})]}):t.jsx("ul",{className:"approval-queue",children:o.map(d=>t.jsxs("li",{className:"approval-item",children:[t.jsxs("div",{className:"approval-item__header",children:[t.jsxs("div",{className:"approval-item__info",children:[t.jsx("h4",{className:"approval-item__title",children:d.title}),d.description&&t.jsx("p",{className:"approval-item__description",children:d.description})]}),d.amount&&t.jsxs("div",{className:"approval-item__amount",children:["",d.amount.toLocaleString()]})]}),t.jsxs("div",{className:"approval-item__meta",children:[t.jsxs("span",{className:"approval-item__submitted",children:["By ",d.submittedBy,"  ",d.submittedOn]}),d.priority&&t.jsx("span",{className:`approval-item__priority approval-item__priority--${d.priority}`,children:d.priority})]}),t.jsxs("div",{className:"approval-item__actions",children:[c&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(d),children:"View"}),u&&s&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>s(d),children:"Reject"}),l&&i&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>i(d),children:"Approve"})]})]},d.id))})})]})},TJ=({title:r,alerts:e,loading:n=!1,maxItems:a=5})=>{const i=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,l)=>t.jsx("div",{className:"skeleton-alert-item"},l))})})]});const s=c=>{switch(c){case"error":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:i.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No alerts"})]}):t.jsx("ul",{className:"alert-list",children:i.map(c=>t.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[t.jsx("div",{className:"alert-item__icon",children:s(c.type)}),t.jsxs("div",{className:"alert-item__content",children:[t.jsx("h4",{className:"alert-item__title",children:c.title}),t.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&t.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&t.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},_J=({title:r,activities:e,loading:n=!1,maxItems:a=10,onItemClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((l,u)=>t.jsx("div",{className:"skeleton-activity-item"},u))})})]});const c=l=>{switch(l){case"success":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t.jsx("p",{children:"No recent activity"})]}):t.jsx("ul",{className:"activity-timeline",children:s.map((l,u)=>t.jsxs("li",{className:`activity-item activity-item--${l.type||"info"} ${i?"activity-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsx("div",{className:"activity-item__line",children:u<s.length-1&&t.jsx("div",{className:"activity-item__line-connector"})}),t.jsx("div",{className:"activity-item__icon",children:l.icon||c(l.type)}),t.jsxs("div",{className:"activity-item__content",children:[t.jsxs("div",{className:"activity-item__header",children:[t.jsx("span",{className:"activity-item__user",children:l.user}),t.jsx("span",{className:"activity-item__timestamp",children:l.timestamp})]}),t.jsx("div",{className:"activity-item__action",children:l.action}),l.description&&t.jsx("div",{className:"activity-item__description",children:l.description})]})]},l.id))})})]})},OJ=({widget:r,permissions:e,isPreviewMode:n})=>{var h,A,f,g,m,x,y,b,w,N,S,j,_,k;const[a,i]=P.useState(null),[s,c]=P.useState(!0),[l,u]=P.useState(null);if(!r||typeof r!="object"||Array.isArray(r))return console.error("[WidgetRenderer] Invalid widget passed:",r),null;if(!r.id||!r.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",r),null;const o=P.useMemo(()=>{var Z;return(Z=r.permissions)!=null&&Z.view?e[r.permissions.view]===!0:!0},[r.permissions,e]);if(P.useEffect(()=>{var V,re,R,Y;if(!r||!r.id||!r.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",r),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${r.id} check:`,{hasDataSource:!!r.dataSource,hasEndpoint:!!((V=r.dataSource)!=null&&V.endpoint),endpoint:(re=r.dataSource)==null?void 0:re.endpoint,canView:o,permissions:r.permissions,widgetType:r.type}),!((R=r.dataSource)!=null&&R.endpoint)){console.warn(`[WidgetRenderer] Widget ${r.id} has no dataSource.endpoint, skipping API call`,{widgetId:r.id,widgetTitle:r.title,widgetType:r.type,dataSource:r.dataSource,fullWidget:r}),c(!1);return}if(!o){console.warn(`[WidgetRenderer] Widget ${r.id} cannot be viewed (permission check failed)`,{widgetId:r.id,widgetTitle:r.title,requiredPermission:(Y=r.permissions)==null?void 0:Y.view,permissions:e}),c(!1);return}const Z=async()=>{var L;try{c(!0),u(null),console.log("[WidgetRenderer] Loading data for widget:",{id:r.id,type:r.type,endpoint:(L=r.dataSource)==null?void 0:L.endpoint,fullWidget:r});const $=await QM(r);console.log(`[WidgetRenderer] Data loaded for widget ${r.id}:`,{data:$,hasValue:($==null?void 0:$.value)!==void 0,value:$==null?void 0:$.value,fullData:$}),$==null?(console.warn(`[WidgetRenderer] Widget ${r.id} returned null/undefined data`),i({value:0})):i($)}catch($){console.error(`[WidgetRenderer] Failed to load data for widget ${r.id}:`,$),console.error("[WidgetRenderer] Error type:",typeof $),console.error("[WidgetRenderer] Error message:",$==null?void 0:$.message),console.error("[WidgetRenderer] Error stack:",$==null?void 0:$.stack),console.error("[WidgetRenderer] Widget config:",r),u("Failed to load data"),i({value:0})}finally{c(!1)}};Z();let ee=null;return r.dataSource.refreshInterval&&r.dataSource.refreshInterval>0&&(ee=setInterval(Z,r.dataSource.refreshInterval*1e3)),()=>{ee&&clearInterval(ee)}},[r,o]),!o)return null;const d=((h=r.type)==null?void 0:h.toLowerCase().trim())||"metric";switch(d){case"metric":case"kpi":return t.jsx(WM,{title:r.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:s});case"chart":return t.jsx(SJ,{title:r.title,type:((A=r.chartConfig)==null?void 0:A.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:s,xAxis:(f=r.chartConfig)==null?void 0:f.xAxis,yAxis:(g=r.chartConfig)==null?void 0:g.yAxis,series:(m=r.chartConfig)==null?void 0:m.series});case"table":return t.jsx(BJ,{title:r.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:s,maxRows:((x=r.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":return t.jsx(EJ,{title:r.title,tasks:(a==null?void 0:a.tasks)||[],loading:s,maxItems:((y=r.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return t.jsx(IJ,{title:r.title,items:(a==null?void 0:a.items)||[],loading:s,maxItems:((b=r.props)==null?void 0:b.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:e[((N=(w=r.permissions)==null?void 0:w.actions)==null?void 0:N.approve)||""]||!1,canReject:e[((j=(S=r.permissions)==null?void 0:S.actions)==null?void 0:j.approve)||""]||!1});case"activity-timeline":return t.jsx(_J,{title:r.title,activities:(a==null?void 0:a.activities)||[],loading:s,maxItems:((_=r.props)==null?void 0:_.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return t.jsx(TJ,{title:r.title,alerts:(a==null?void 0:a.alerts)||[],loading:s,maxItems:((k=r.props)==null?void 0:k.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${r.type}" (normalized: "${d}")`,r),t.jsxs("div",{className:"dashboard-widget-error",children:[t.jsxs("p",{children:["Unknown widget type: ",r.type||"undefined"]}),t.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",r.id||"N/A"]})]})}},kJ=()=>{var j,_,k;const{user:r,permissions:e,logout:n}=xa(),a=Pn(),[i]=W4(),[s,c]=P.useState([]),[l,u]=P.useState({}),[o,d]=P.useState(!0),[h,A]=P.useState(!1),[f,g]=P.useState({enabled:!1,role:null});P.useEffect(()=>{const Z=i.get("preview")==="true",ee=sessionStorage.getItem("dashboard-preview-config"),V=sessionStorage.getItem("dashboard-preview-role");if(Z&&ee&&V)try{const re=JSON.parse(ee);g({enabled:!0,role:V}),c(re.widgets||[]),u(re.permissions||{}),d(!1)}catch(re){console.error("Failed to load preview config:",re)}},[i]);const m=f.enabled&&f.role?f.role:((j=r==null?void 0:r.roles)==null?void 0:j[0])||"viewer",x=f.enabled,y=e.includes("*")||V4(e,"DASHBOARD_CONFIG.VIEW"),b=()=>{A(!h)},w=()=>{g({enabled:!1,role:null})},N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...y?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")}]:[]];P.useEffect(()=>{if(f.enabled)return;(async()=>{d(!0);try{console.log("[DashboardPage] Loading dashboard for role:",m);const ee=await Vf.getDashboardConfig(m);console.log("[DashboardPage] Loaded role config:",{role:ee.role,widgetsCount:Array.isArray(ee.widgets)?ee.widgets.length:0,widgets:ee.widgets});const V=r!=null&&r.id?await Vf.getUserOverrides(r.id):null,re=Vf.computePermissions(ee,V);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray(re.widgets)?re.widgets.length:0,widgets:re.widgets});let R=[];Array.isArray(re.widgets)?re.widgets.forEach(L=>{Array.isArray(L)?L.forEach($=>{$&&typeof $=="object"&&!Array.isArray($)&&R.push($)}):L&&typeof L=="object"&&!Array.isArray(L)&&R.push(L)}):re.widgets&&typeof re.widgets=="object"&&!Array.isArray(re.widgets)&&(R=[re.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray(re.widgets)?re.widgets.length:0,processedCount:R.length,widgets:R});const Y=R.filter(L=>!L||typeof L!="object"||Array.isArray(L)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",L),!1):!0).map((L,$)=>{var _e,fe,le,ve,se,he;if(L.id||(L.id=`widget-${Date.now()}-${$}-${Math.random()}`),L.dataSource||(L.dataSource={}),!L.dataSource.endpoint){const Ne=L.id.toLowerCase(),Pe=(L.title||"").toLowerCase(),ye=`${Ne} ${Pe}`;let ce=null;if(Ne.includes("total-invoices")||Ne.includes("totalinvoices")||Ne.startsWith("metric-total-invoices")?ce="/dashboard/kpi/total-invoices":Ne.includes("pending-invoices")||Ne.includes("pendinginvoices")||Ne.startsWith("metric-pending-invoices")?ce="/dashboard/kpi/pending-invoices":Ne.includes("total-revenue")||Ne.includes("totalrevenue")||Ne.startsWith("metric-total-revenue")?ce="/dashboard/kpi/total-revenue":Ne.includes("pending-payments")||Ne.includes("pendingpayments")||Ne.startsWith("metric-pending-payments")?ce="/dashboard/kpi/pending-payments":Ne.includes("receipts-today")||Ne.includes("receiptstoday")?ce="/dashboard/kpi/receipts-today":Ne.includes("active-users")||Ne.includes("activeusers")?ce="/dashboard/kpi/active-users":Ne.includes("errors-today")||Ne.includes("errorstoday")?ce="/dashboard/kpi/errors-today":Ne.includes("monthly-revenue")||Ne.includes("monthlyrevenue")||Ne.startsWith("chart-monthly-revenue")?ce="/dashboard/chart/monthly-revenue":Ne.includes("payment-status")||Ne.includes("paymentstatus")?ce="/dashboard/chart/payment-status":Ne.includes("invoice-aging")||Ne.includes("invoiceaging")?ce="/dashboard/chart/invoice-aging":Ne.includes("recent-invoices")||Ne.includes("recentinvoices")||Ne.startsWith("table-recent-invoices")?ce="/dashboard/table/recent-invoices":Ne.includes("recent-payments")||Ne.includes("recentpayments")?ce="/dashboard/table/recent-payments":Ne.includes("pending-receipts")||Ne.includes("pendingreceipts")?ce="/dashboard/table/pending-receipts":Ne.includes("pending-approvals")||Ne.includes("pendingapprovals")||Ne.includes("approval-queue")||Ne.startsWith("approval-queue")?ce="/dashboard/tasks/pending-approvals":Ne.includes("assigned-tasks")||Ne.includes("assignedtasks")?ce="/dashboard/tasks/assigned":Ne.includes("payment-overdue")||Ne.includes("paymentoverdue")?ce="/dashboard/alerts/payment-overdue":(Ne.includes("compliance-expiry")||Ne.includes("complianceexpiry"))&&(ce="/dashboard/alerts/compliance-expiry"),ce||(ye.includes("total invoices")||ye.includes("totalinvoices")?ce="/dashboard/kpi/total-invoices":ye.includes("pending invoices")||ye.includes("pendinginvoices")?ce="/dashboard/kpi/pending-invoices":ye.includes("total revenue")||ye.includes("totalrevenue")?ce="/dashboard/kpi/total-revenue":ye.includes("pending payments")||ye.includes("pendingpayments")?ce="/dashboard/kpi/pending-payments":ye.includes("receipts today")||ye.includes("receiptstoday")?ce="/dashboard/kpi/receipts-today":ye.includes("active users")||ye.includes("activeusers")?ce="/dashboard/kpi/active-users":ye.includes("errors today")||ye.includes("errorstoday")?ce="/dashboard/kpi/errors-today":ye.includes("monthly revenue")||ye.includes("monthlyrevenue")?ce="/dashboard/chart/monthly-revenue":ye.includes("payment status")||ye.includes("paymentstatus")?ce="/dashboard/chart/payment-status":ye.includes("invoice aging")||ye.includes("invoiceaging")?ce="/dashboard/chart/invoice-aging":ye.includes("recent invoices")||ye.includes("recentinvoices")?ce="/dashboard/table/recent-invoices":ye.includes("recent payments")||ye.includes("recentpayments")?ce="/dashboard/table/recent-payments":ye.includes("pending receipts")||ye.includes("pendingreceipts")?ce="/dashboard/table/pending-receipts":ye.includes("pending approvals")||ye.includes("pendingapprovals")||ye.includes("approval queue")?ce="/dashboard/tasks/pending-approvals":ye.includes("assigned tasks")||ye.includes("assignedtasks")?ce="/dashboard/tasks/assigned":ye.includes("payment overdue")||ye.includes("paymentoverdue")?ce="/dashboard/alerts/payment-overdue":(ye.includes("compliance expiry")||ye.includes("complianceexpiry"))&&(ce="/dashboard/alerts/compliance-expiry")),ce)console.log(`[DashboardPage] Widget ${L.id} endpoint inferred from ID/title:`,{widgetId:L.id,widgetTitle:L.title,inferredEndpoint:ce});else{const q=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];L.type==="metric"||L.type==="kpi"?ce=q[$%q.length]||"/dashboard/kpi/total-invoices":L.type==="chart"?ce="/dashboard/chart/monthly-revenue":L.type==="table"?ce="/dashboard/table/recent-invoices":L.type==="task-list"||L.type==="approval-queue"?ce="/dashboard/tasks/pending-approvals":L.type==="alert"?ce="/dashboard/alerts/payment-overdue":ce=q[$%q.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${L.id} missing endpoint, using index-based assignment:`,{widgetId:L.id,widgetTitle:L.title,widgetType:L.type,widgetIndex:$,assignedEndpoint:ce})}L.dataSource.endpoint=ce}if(!L.title){const Ne=((_e=L.dataSource)==null?void 0:_e.endpoint)||"";Ne.includes("total-invoices")?L.title="Total Invoices":Ne.includes("pending-invoices")?L.title="Pending Invoices":Ne.includes("total-revenue")?L.title="Total Revenue":Ne.includes("pending-payments")?L.title="Pending Payments":Ne.includes("receipts-today")?L.title="Receipts Today":Ne.includes("active-users")?L.title="Active Users":Ne.includes("errors-today")?L.title="Errors Today":Ne.includes("monthly-revenue")?L.title="Monthly Revenue":Ne.includes("payment-status")?L.title="Payment Status":Ne.includes("invoice-aging")?L.title="Invoice Aging":Ne.includes("recent-invoices")?L.title="Recent Invoices":Ne.includes("recent-payments")?L.title="Recent Payments":Ne.includes("pending-receipts")?L.title="Pending Receipts":Ne.includes("pending-approvals")?L.title="Pending Approvals":Ne.includes("assigned-tasks")?L.title="Assigned Tasks":Ne.includes("payment-overdue")?L.title="Payment Overdue":Ne.includes("compliance-expiry")?L.title="Compliance Expiry":L.title=`Widget ${$+1}`,console.log(`[DashboardPage] Widget ${L.id} missing title, inferred from endpoint:`,{widgetId:L.id,inferredTitle:L.title,endpoint:(fe=L.dataSource)==null?void 0:fe.endpoint})}if(!L.type){const Ne=((le=L.dataSource)==null?void 0:le.endpoint)||"";Ne.includes("/kpi/")||Ne.includes("/dashboard/kpi/")?L.type="metric":Ne.includes("/chart/")||Ne.includes("/dashboard/chart/")?L.type="chart":Ne.includes("/table/")||Ne.includes("/dashboard/table/")?L.type="table":Ne.includes("/tasks/")||Ne.includes("/approval")||Ne.includes("/dashboard/tasks/")?L.type="task-list":Ne.includes("/alerts/")||Ne.includes("/dashboard/alerts/")?L.type="alert":Ne.includes("/activity")||Ne.includes("/timeline")?L.type="activity-timeline":(L.id&&!L.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:L.id,title:L.title,endpoint:Ne||"none"}),L.type="metric")}const je=L.type.toLowerCase().trim(),Ie={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[je];return Ie?L.type=Ie:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(je)||(console.warn(`[DashboardPage] Unknown widget type "${L.type}", defaulting to "metric"`,L),L.type="metric"),(!L.gridColumn||L.gridColumn<1)&&(L.gridColumn=1),L.gridColumn>4&&(L.gridColumn=4),(ve=L.dataSource)!=null&&ve.endpoint||(console.error(`[DashboardPage] Widget ${L.id} still missing endpoint after validation!`,L),L.dataSource=L.dataSource||{},L.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:L.id,title:L.title,type:L.type,endpoint:(se=L.dataSource)==null?void 0:se.endpoint,hasEndpoint:!!((he=L.dataSource)!=null&&he.endpoint)}),L}).filter(L=>!L||typeof L!="object"||Array.isArray(L)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",L),!1):!L.id||!L.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",L),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(L.type)?!L.dataSource||!L.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",L),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",L),!1));console.log("[DashboardPage] Final validated widgets:",{count:Y.length,widgets:Y}),c(Y),u(re.permissions)}catch(ee){console.error("[DashboardPage] Failed to load dashboard:",ee),c([]),u({})}finally{d(!1)}})()},[m,r==null?void 0:r.id,f.enabled,a.pathname]);const S=P.useMemo(()=>{const Z=[];let ee=[],V=0;return s.forEach(re=>{const R=re.gridColumn||1;V+R>4?(Z.push(ee),ee=[re],V=R):(ee.push(re),V+=R)}),ee.length>0&&Z.push(ee),Z},[s]);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${h?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!h&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":h?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(Z=>t.jsx("li",{children:t.jsxs(rn,{to:Z.path,className:`nav-link ${Z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Z.icon}),!h&&t.jsx("span",{className:"nav-label",children:Z.label})]})},Z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!h&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!h&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard"})})}),t.jsxs("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:[x&&t.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),t.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",((_=f.role)==null?void 0:_.charAt(0).toUpperCase())+((k=f.role)==null?void 0:k.slice(1))]})]}),t.jsx("button",{onClick:w,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),o&&t.jsxs("div",{className:"dashboard-loading",children:[t.jsx("div",{className:"dashboard-loading-spinner"}),t.jsx("p",{children:"Loading dashboard..."})]}),!o&&t.jsx("div",{className:"dashboard-widget-grid",children:S.map((Z,ee)=>t.jsx("div",{className:"dashboard-widget-row",children:Z.map((V,re)=>!V||typeof V!="object"||Array.isArray(V)||!V.id||!V.type?(console.error("[DashboardPage] Invalid widget in render:",V),t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:"span 1"},children:t.jsx("div",{className:"widget-error",children:"Invalid widget configuration"})},`invalid-widget-${ee}-${re}`)):t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:`span ${V.gridColumn||1}`,gridRow:V.gridRow?`span ${V.gridRow}`:void 0},children:t.jsx(P.Suspense,{fallback:t.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:t.jsx(OJ,{widget:V,permissions:l,isPreviewMode:x})})},V.id||`widget-${ee}-${re}`))},`row-${ee}`))}),!o&&s.length===0&&t.jsxs("div",{className:"dashboard-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),t.jsx("h2",{children:"No widgets configured"}),t.jsx("p",{children:"Your dashboard is empty. Contact your administrator to configure widgets for your role."})]})]})]})]})},PJ=({catalog:r,onAddWidget:e})=>{const[n,a]=St.useState({kpis:!0,charts:!0,tables:!0,tasks:!0,alerts:!0}),i=c=>{a(l=>({...l,[c]:!l[c]}))},s=(c,l,u,o)=>{const d=n[o];return t.jsxs("div",{className:"catalog-group",children:[t.jsxs("button",{className:"catalog-group-header",onClick:()=>i(o),children:[t.jsx("span",{className:"catalog-group-title",children:c}),t.jsxs("span",{className:"catalog-group-count",children:["(",l.length,")"]}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`catalog-group-arrow ${d?"expanded":""}`,children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),d&&t.jsx("div",{className:"catalog-group-items",children:l.length===0?t.jsx("div",{className:"catalog-empty",children:"No items available"}):l.map(h=>t.jsxs("div",{className:"catalog-item",onClick:()=>e(h,u),children:[t.jsxs("div",{className:"catalog-item-header",children:[t.jsx("span",{className:"catalog-item-title",children:h.title}),t.jsx("button",{className:"catalog-item-add-btn",onClick:A=>{A.stopPropagation(),e(h,u)},title:"Add to dashboard",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),h.description&&t.jsx("div",{className:"catalog-item-description",children:h.description}),t.jsxs("div",{className:"catalog-item-meta",children:[t.jsx("span",{className:"catalog-item-type",children:u.toUpperCase()}),h.format&&t.jsx("span",{className:"catalog-item-format",children:h.format})]})]},h.code))})]})};return t.jsxs("div",{className:"catalog-panel",children:[t.jsxs("div",{className:"catalog-panel-header",children:[t.jsx("h2",{className:"catalog-panel-title",children:"Available Widgets"}),t.jsx("p",{className:"catalog-panel-subtitle",children:"Click to add widgets to the dashboard configuration"})]}),t.jsxs("div",{className:"catalog-panel-content",children:[s("KPIs",r.kpis,"kpi","kpis"),s("Charts",r.charts,"chart","charts"),s("Tables",r.tables,"table","tables"),s("Tasks",r.tasks,"task","tasks"),s("Alerts",r.alerts,"alert","alerts")]})]})},FJ=({widgets:r,selectedWidgetId:e,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:i,onReorderWidget:s})=>{const c=u=>u===4?"Full":u===2?"Half":u===1?"Quarter":`${u}/4`,l=(u,o)=>{a(u,{gridColumn:o})};return t.jsxs("div",{className:"dashboard-canvas",children:[t.jsxs("div",{className:"dashboard-canvas-header",children:[t.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),t.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),t.jsx("div",{className:"dashboard-canvas-content",children:r.length===0?t.jsxs("div",{className:"dashboard-canvas-empty",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),t.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),t.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):t.jsx("div",{className:"dashboard-canvas-widgets",children:r.map((u,o)=>{const d=e===u.id,h=o>0,A=o<r.length-1;return t.jsxs("div",{className:`dashboard-canvas-widget ${d?"selected":""}`,style:{gridColumn:`span ${u.gridColumn}`},onClick:()=>n(u.id),children:[t.jsxs("div",{className:"dashboard-canvas-widget-header",children:[t.jsxs("div",{className:"dashboard-canvas-widget-info",children:[t.jsx("span",{className:"dashboard-canvas-widget-title",children:u.title}),t.jsx("span",{className:"dashboard-canvas-widget-type",children:u.type})]}),t.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[t.jsxs("select",{value:u.gridColumn,onChange:f=>l(u.id,parseInt(f.target.value,10)),onClick:f=>f.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[t.jsx("option",{value:"1",children:"Quarter"}),t.jsx("option",{value:"2",children:"Half"}),t.jsx("option",{value:"4",children:"Full"})]}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:f=>{f.stopPropagation(),h&&s(u.id,"up")},disabled:!h,title:"Move up",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:f=>{f.stopPropagation(),A&&s(u.id,"down")},disabled:!A,title:"Move down",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:f=>{f.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&i(u.id)},title:"Remove widget",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),t.jsx("div",{className:"dashboard-canvas-widget-preview",children:t.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[t.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[u.type==="metric"&&" Metric Widget",u.type==="chart"&&" Chart Widget",u.type==="table"&&" Table Widget",u.type==="task-list"&&" Task List Widget",u.type==="alert"&&" Alert Widget",!["metric","chart","table","task-list","alert"].includes(u.type)&&"Widget Preview"]}),t.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(u.gridColumn)})]})})]},u.id||`widget-${o}`)})})})]})},DJ=({widget:r,onUpdateWidget:e})=>{if(!r)return t.jsx("div",{className:"widget-settings-panel",children:t.jsxs("div",{className:"widget-settings-empty",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),t.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{e(r.id,{title:c})},a=c=>{e(r.id,{description:c})},i=c=>{e(r.id,{gridColumn:c})},s=c=>{e(r.id,{chartConfig:{...r.chartConfig,type:c}})};return t.jsxs("div",{className:"widget-settings-panel",children:[t.jsxs("div",{className:"widget-settings-header",children:[t.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),t.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),t.jsxs("div",{className:"widget-settings-content",children:[t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),t.jsx("div",{className:"widget-settings-readonly",children:r.id})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),t.jsx("div",{className:"widget-settings-readonly",children:r.type})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),t.jsx("input",{id:"widget-title",type:"text",value:r.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),t.jsx("textarea",{id:"widget-description",value:r.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),t.jsxs("select",{id:"widget-size",value:r.gridColumn,onChange:c=>i(parseInt(c.target.value,10)),className:"widget-settings-select",children:[t.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),t.jsx("option",{value:"2",children:"Half (1/2 width)"}),t.jsx("option",{value:"4",children:"Full (full width)"})]})]}),r.type==="chart"&&r.chartConfig&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),t.jsxs("select",{id:"widget-chart-type",value:r.chartConfig.type||"line",onChange:c=>s(c.target.value),className:"widget-settings-select",children:[t.jsx("option",{value:"line",children:"Line Chart"}),t.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),r.dataSource&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),t.jsx("div",{className:"widget-settings-readonly",children:r.dataSource.endpoint}),t.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),r.permissions&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Permissions"}),t.jsxs("div",{className:"widget-settings-permissions",children:[r.permissions.view&&t.jsxs("div",{className:"widget-settings-permission",children:[t.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),t.jsx("span",{className:"widget-settings-permission-value",children:r.permissions.view})]}),r.permissions.actions&&Object.entries(r.permissions.actions).map(([c,l])=>t.jsxs("div",{className:"widget-settings-permission",children:[t.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),t.jsx("span",{className:"widget-settings-permission-value",children:l})]},c))]})]})]})]})},MJ=()=>{const r=ti(),[e,n]=St.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,i]=St.useState([]),[s,c]=St.useState(""),[l,u]=St.useState("role"),[o,d]=St.useState(null),[h,A]=St.useState(null),[f,g]=St.useState(!1),[m,x]=St.useState(!1),[y,b]=St.useState(null);St.useEffect(()=>{(async()=>{g(!0);try{const[V,re]=await Promise.all([Vf.getCatalog(),Vf.getAvailableRoles()]);n(V),i(re)}catch(V){console.error("Failed to load catalog:",V),b("Failed to load dashboard catalog")}finally{g(!1)}})()},[]),St.useEffect(()=>{s?(async()=>{g(!0);try{const V=await Vf.getDashboardConfigByTarget(s);d(V),A(null)}catch(V){console.error("Failed to load configuration:",V),b("Failed to load dashboard configuration")}finally{g(!1)}})():(d(null),A(null))},[s,l]);const w=(ee,V)=>{if(!o){alert("Please select a role or department first");return}const re={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},R={id:`${ee.code.toLowerCase()}-${Date.now()}`,type:re[V]||"metric",title:ee.title,description:ee.description,gridColumn:2,dataSource:{endpoint:ee.api,method:"GET"},...V==="chart"&&ee.chartTypes&&ee.chartTypes.length>0&&{chartConfig:{type:ee.chartTypes[0]}}};d({...o,widgets:[...o.widgets,R]}),A(R.id)},N=(ee,V)=>{o&&d({...o,widgets:o.widgets.map(re=>re.id===ee?{...re,...V}:re)})},S=ee=>{o&&(d({...o,widgets:o.widgets.filter(V=>V.id!==ee)}),h===ee&&A(null))},j=(ee,V)=>{if(!o)return;const re=o.widgets.findIndex(L=>L.id===ee);if(re===-1)return;const R=V==="up"?re-1:re+1;if(R<0||R>=o.widgets.length)return;const Y=[...o.widgets];[Y[re],Y[R]]=[Y[R],Y[re]],d({...o,widgets:Y})},_=async()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}x(!0),b(null);try{const ee={...o,widgets:(o.widgets||[]).filter(V=>V&&typeof V=="object"&&!Array.isArray(V)),menuItems:Array.isArray(o.menuItems)?o.menuItems:[],permissions:o.permissions&&typeof o.permissions=="object"&&!Array.isArray(o.permissions)?o.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:ee.role,widgetsCount:ee.widgets.length,widgets:ee.widgets}),await Vf.saveDashboardConfig(ee),alert("Dashboard configuration saved successfully")}catch(ee){console.error("Failed to save configuration:",ee);const V=(ee==null?void 0:ee.message)||"Failed to save dashboard configuration";b(V)}finally{x(!1)}},k=()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(o)),sessionStorage.setItem("dashboard-preview-role",s),r("/dashboard?preview=true")},Z=(o==null?void 0:o.widgets.find(ee=>ee.id===h))||null;return t.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[t.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),t.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),t.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[t.jsxs("div",{className:"dashboard-configuration-target-selector",children:[t.jsxs("select",{value:l,onChange:ee=>{u(ee.target.value),c("")},className:"dashboard-configuration-type-select",children:[t.jsx("option",{value:"role",children:"Role"}),t.jsx("option",{value:"department",children:"Department"})]}),t.jsxs("select",{value:s,onChange:ee=>c(ee.target.value),className:"dashboard-configuration-target-select",disabled:f,children:[t.jsxs("option",{value:"",children:["Select ",l,"..."]}),l==="role"&&a.map(ee=>t.jsx("option",{value:ee,children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))]})]}),t.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:k,disabled:!o||!s||o.widgets.length===0,title:"Preview dashboard with current configuration",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),t.jsx("button",{className:"dashboard-configuration-btn save",onClick:_,disabled:!o||!s||m,children:m?"Saving...":"Save Configuration"})]})]}),y&&t.jsxs("div",{className:"dashboard-configuration-error",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),t.jsxs("div",{className:"dashboard-configuration-panels",children:[t.jsx("div",{className:"dashboard-configuration-panel-left",children:f&&!e.kpis.length?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):t.jsx(PJ,{catalog:e,onAddWidget:w})}),t.jsx("div",{className:"dashboard-configuration-panel-center",children:f&&!o?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):o?t.jsx(FJ,{widgets:o.widgets,selectedWidgetId:h,onSelectWidget:A,onUpdateWidget:N,onRemoveWidget:S,onReorderWidget:j}):t.jsx("div",{className:"dashboard-configuration-empty-state",children:t.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),t.jsx("div",{className:"dashboard-configuration-panel-right",children:t.jsx(DJ,{widget:Z,onUpdateWidget:N})})]})]})},RJ=()=>{const{user:r,permissions:e,logout:n}=xa(),a=Pn(),[i,s]=St.useState(!1),c=e.includes("*")||V4(e,"DASHBOARD_CONFIG.VIEW");St.useEffect(()=>{c||(window.location.href="/dashboard")},[c]);const l=()=>{s(!i)},u=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...c?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")}]:[]];return c?t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(o=>t.jsx("li",{children:t.jsxs(rn,{to:o.path,className:`nav-link ${o.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:o.icon}),!i&&t.jsx("span",{className:"nav-label",children:o.label})]})},o.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Dashboard Configuration"})})}),t.jsx("div",{className:"dashboard-configuration-content",style:{padding:0,overflow:"hidden",flex:1},children:t.jsx(MJ,{})})]})]}):null},LJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},u=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),t.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Transaction"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Transaction"}),t.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},UJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},u=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Finance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Finance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},HJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},u=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Commercial / Agreements"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),t.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},QJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},u=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Compliance & Training"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Compliance & Training"}),t.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},WJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},u=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),t.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),t.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),t.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),t.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Masters"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Masters"}),t.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},$J=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ym=async(r,e={})=>{const n=$J(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${of}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{i.status===401?s="User not authenticated":i.status===403&&(s="Access forbidden")}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Qa={createCompany:async r=>(await Ym("/companies",{method:"POST",body:JSON.stringify(r)})).data,getCompanyById:async r=>(await Ym(`/companies/${r}`,{method:"GET"})).data,getAllCompanies:async(r=!1)=>(await Ym(r?"/companies?activeOnly=true":"/companies",{method:"GET"})).data,updateCompany:async(r,e)=>(await Ym(`/companies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCompany:async r=>{await Ym(`/companies/${r}`,{method:"DELETE"})}},XN=(r,e)=>{if(!Array.isArray(r)||r.length===0)return!1;if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},Ap=r=>XN(r,"MASTERS.CREATE")?!0:r.includes("*")||r.some(e=>e.endsWith(".CREATE")||e.endsWith("_CREATE")),VJ=r=>XN(r,"MASTERS.EDIT")?!0:r.includes("*")||r.some(e=>e.endsWith(".EDIT")||e.endsWith("_EDIT")||e.endsWith(".UPDATE")||e.endsWith("_UPDATE")),zJ=r=>XN(r,"MASTERS.DELETE")?!0:r.includes("*")||r.some(e=>e.endsWith(".DELETE")||e.endsWith("_DELETE"));function rx({data:r,columns:e,onEdit:n,onDelete:a,onRowClick:i,getId:s,emptyMessage:c="No data available"}){return t.jsx("div",{className:"data-table-container",children:t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[e.map(l=>t.jsx("th",{style:{minWidth:l.minWidth?`${l.minWidth}px`:"auto"},children:l.label},l.key)),(n||a)&&t.jsx("th",{className:"col-actions",children:"Actions"})]})}),t.jsx("tbody",{children:r.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(n||a?1:0),className:"empty-state",children:c})}):r.map(l=>t.jsxs("tr",{onClick:()=>i&&i(l),style:{cursor:i?"pointer":"default"},className:i?"data-table-row-clickable":"",children:[e.map(u=>t.jsx("td",{className:u.allowWrap?"allow-wrap":"",onClick:o=>{o.target.closest(".action-btn")&&o.stopPropagation()},children:u.render?u.render(l):l[u.key]||"-"},u.key)),(n||a)&&t.jsxs("td",{onClick:u=>u.stopPropagation(),children:[n&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>n(l),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),a&&t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>a(s(l)),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},s(l)))})]})})}function fp({title:r,breadcrumb:e,data:n,filteredData:a,columns:i,searchQuery:s,onSearchChange:c,onAdd:l,onEdit:u,onDelete:o,getId:d,addButtonLabel:h="Add",emptyMessage:A,children:f,showAddButton:g}){const{permissions:m}=xa(),x=g!==void 0?g:Ap(m);return t.jsxs("div",{className:"master-page-layout",children:[t.jsx("div",{className:"master-page-header",children:t.jsx("h1",{className:"master-page-title",children:r})}),f&&t.jsx("div",{className:"master-page-content",children:f}),t.jsxs("div",{className:"master-page-actions",children:[t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:s,onChange:y=>c(y.target.value)})]}),x&&t.jsxs("button",{className:"add-item-btn",onClick:l,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),h]})]}),t.jsx(rx,{data:a,columns:i,onEdit:u,onDelete:o,getId:d,emptyMessage:A}),t.jsxs("div",{className:"master-pagination-info",children:["Showing ",a.length," of ",n.length," Items"]})]})}function pp({tabs:r,activeTab:e,onTabChange:n}){return t.jsx("div",{className:"tabs-container",children:r.map(a=>t.jsx("button",{className:`tab-button ${e===a.id?"tab-button--active":""}`,onClick:()=>n(a.id),children:a.label},a.id))})}const KJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(!1),i=()=>{a(!n)},s=ti(),[c,l]=P.useState(""),[u,o]=P.useState("list"),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b]=P.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[w]=P.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[N,S]=P.useState([]),j=L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:L.status,createdBy:L.createdBy||"System",createdOn:L.createdOn,modifiedBy:L.modifiedBy||"System",modifiedOn:L.modifiedOn}),_=async()=>{m(!0),y(null);try{const $=(await Qa.getAllCompanies(!0)).map(je=>j(je));S($)}catch(L){const $=L.message||"Failed to load companies";if(console.error("Error loading companies:",L),$.includes("not authenticated")||$.includes("Unauthorized")||$.includes("401")||$.includes("403")||(L==null?void 0:L.status)===401||(L==null?void 0:L.status)===403){localStorage.removeItem("mw-auth-user"),s("/login",{replace:!0});return}y($)}finally{m(!1)}};P.useEffect(()=>{_()},[]);const k=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],Z=N.filter(L=>{const $=c.toLowerCase();return(L.companyName||"").toLowerCase().includes($)||(L.companyCode||"").toLowerCase().includes($)||(L.gstin||"").toLowerCase().includes($)}),ee=()=>{f(null),h(!0)},V=L=>{f(L),h(!0)},re=async L=>{if(window.confirm("Are you sure you want to delete this company?")){m(!0),y(null);try{await Qa.deleteCompany(L),await _()}catch($){y($.message||"Failed to delete company"),console.error("Error deleting company:",$)}finally{m(!1)}}},R=async L=>{m(!0),y(null);try{if(A){const $={companyCode:L.companyCode,companyName:L.companyName,status:L.status};await Qa.updateCompany(A.id,$)}else{if(!L.companyCode||!L.companyName)throw new Error("Company Code and Company Name are required");const $={companyCode:L.companyCode,companyName:L.companyName};await Qa.createCompany($)}await _(),h(!1),f(null)}catch($){const je=$.message||"Failed to save company";y(je),console.error("Error saving company:",$),(je.includes("403")||je.includes("401")||je.includes("Unauthorized"))&&y("Authentication failed. Please login again.")}finally{m(!1)}},Y=[{key:"companyCode",label:"Code",minWidth:110},{key:"companyName",label:"Company Name",minWidth:150,allowWrap:!0},{key:"gstin",label:"GSTIN",minWidth:130},{key:"state",label:"State",minWidth:120},{key:"pcbauthNum",label:"PCB Auth #",minWidth:110},{key:"ctoWaterNum",label:"CTO Water #",minWidth:120},{key:"ctoWaterDate",label:"CTO Wtr Date",minWidth:130},{key:"ctoWaterValidUpto",label:"CTO Wtr Valid To",minWidth:150},{key:"ctoAirNum",label:"CTO Air #",minWidth:110},{key:"ctoAirDate",label:"CTO Air Date",minWidth:130},{key:"ctoAirValidUpto",label:"CTO Air Valid To",minWidth:150},{key:"cteWaterNum",label:"CTE Water #",minWidth:120},{key:"cteWaterDate",label:"CTE Wtr Date",minWidth:130},{key:"cteWaterValidUpto",label:"CTE Wtr Valid To",minWidth:150},{key:"cteAirNum",label:"CTE Air #",minWidth:110},{key:"cteAirDate",label:"CTE Air Date",minWidth:130},{key:"cteAirValidUpto",label:"CTE Air Valid To",minWidth:150},{key:"hazardousWasteNum",label:"Haz Waste #",minWidth:140},{key:"pcbZoneID",label:"PCB Zone",minWidth:110},{key:"gstValidFrom",label:"GST From",minWidth:130},{key:"gstRate",label:"GST Rate",minWidth:100},{key:"status",label:"Status",minWidth:90,render:L=>t.jsx("span",{className:`status-badge status-badge--${L.status.toLowerCase()}`,children:L.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:k.map(L=>t.jsx("li",{children:t.jsxs(rn,{to:L.path,className:`nav-link ${L.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:L.icon}),!n&&t.jsx("span",{className:"nav-label",children:L.label})]})},L.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Company Master"})})}),x&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),t.jsx(fp,{title:"Company Master",breadcrumb:"/ Masters / Company Master",data:N,filteredData:Z,columns:Y,searchQuery:c,onSearchChange:l,onAdd:ee,onEdit:V,onDelete:re,getId:L=>L.id,addButtonLabel:"Add Company",children:t.jsx(pp,{tabs:[{id:"list",label:"Company List"}],activeTab:u,onTabChange:L=>o(L)})})]}),d&&t.jsx(GJ,{company:A,states:b.filter(L=>L.status==="Active"),pcbZones:w.filter(L=>L.status==="Active"),loading:g,onClose:()=>{h(!1),f(null)},onSave:R})]})},GJ=({company:r,states:e,pcbZones:n,loading:a=!1,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),u=o=>{o.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Company":"Add Company"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"company-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Code *"}),t.jsx("input",{type:"text",value:c.companyCode||"",onChange:o=>l({...c,companyCode:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsx("input",{type:"text",value:c.companyName||"",onChange:o=>l({...c,companyName:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN *"}),t.jsx("input",{type:"text",value:c.gstin||"",onChange:o=>l({...c,gstin:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State *"}),t.jsxs("select",{value:c.state||"",onChange:o=>l({...c,state:o.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),e.map(o=>t.jsx("option",{value:o.stateCode,children:o.stateCode},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:c.pincode||"",onChange:o=>l({...c,pincode:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Prefix"}),t.jsx("input",{type:"text",value:c.prefix||"",onChange:o=>l({...c,prefix:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Addresses"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Registered Office Address"}),t.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:o=>l({...c,regdOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Admin Office Address"}),t.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:o=>l({...c,adminOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Factory Address"}),t.jsx("textarea",{value:c.factoryAddress||"",onChange:o=>l({...c,factoryAddress:o.target.value}),rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Authorized Person"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name"}),t.jsx("input",{type:"text",value:c.authPersonName||"",onChange:o=>l({...c,authPersonName:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation"}),t.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:o=>l({...c,authPersonDesignation:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:o=>l({...c,authPersonDOB:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"PCB Authorization"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Auth Num"}),t.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:o=>l({...c,pcbauthNum:o.target.value})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Num"}),t.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:o=>l({...c,ctoWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Date"}),t.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:o=>l({...c,ctoWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:o=>l({...c,ctoWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Num"}),t.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:o=>l({...c,ctoAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Date"}),t.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:o=>l({...c,ctoAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:o=>l({...c,ctoAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Num"}),t.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:o=>l({...c,cteWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Date"}),t.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:o=>l({...c,cteWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Valid Upto"}),t.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:o=>l({...c,cteWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Num"}),t.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:o=>l({...c,cteAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Date"}),t.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:o=>l({...c,cteAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Valid Upto"}),t.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:o=>l({...c,cteAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hazardous Waste Num"}),t.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:o=>l({...c,hazardousWasteNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone ID"}),t.jsxs("select",{value:c.pcbZoneID||"",onChange:o=>l({...c,pcbZoneID:o.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(o=>t.jsx("option",{value:o.pcbZoneName,children:o.pcbZoneName},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Valid From"}),t.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:o=>l({...c,gstValidFrom:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Rate"}),t.jsx("input",{type:"text",value:c.gstRate||"",onChange:o=>l({...c,gstRate:o.target.value}),placeholder:"e.g., 18%"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:o=>l({...c,status:o.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":r?"Update":"Save"})]})]})]})})},qJ="http://localhost:3000/api/v1",XJ=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Zm=async(r,e={})=>{const n=XJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${qJ}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},T0={createState:async r=>(await Zm("/states",{method:"POST",body:JSON.stringify(r)})).data,getStateById:async r=>(await Zm(`/states/${r}`,{method:"GET"})).data,getAllStates:async(r=!1)=>(await Zm(r?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(r,e)=>(await Zm(`/states/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteState:async r=>{await Zm(`/states/${r}`,{method:"DELETE"})}},YJ=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(!1),i=()=>{a(!n)},[s,c]=P.useState(""),[l,u]=P.useState("list"),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(null),w=async()=>{x(!0),b(null);try{const re=(await T0.getAllStates(!0)).map(R=>({id:R.id,stateCode:R.stateCode,stateName:R.stateName,status:R.status,createdBy:R.createdBy||"",createdOn:R.createdOn,modifiedBy:R.modifiedBy||"",modifiedOn:R.modifiedOn}));g(re)}catch(V){const re=V instanceof Error?V.message:"Failed to load states";b(re),console.error("Error loading states:",V)}finally{x(!1)}};P.useEffect(()=>{w()},[]);const N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],S=f.filter(V=>V.stateName.toLowerCase().includes(s.toLowerCase())||V.stateCode.toLowerCase().includes(s.toLowerCase())),j=()=>{A(null),d(!0)},_=V=>{A(V),d(!0)},k=async V=>{if(window.confirm("Are you sure you want to delete this state?"))try{x(!0),await T0.deleteState(V),await w(),alert("State deleted successfully")}catch(re){const R=re instanceof Error?re.message:"Failed to delete state";alert(`Error: ${R}`),console.error("Error deleting state:",re)}finally{x(!1)}},Z=async V=>{try{if(x(!0),b(null),h)await T0.updateState(h.id,{status:V.status}),alert("State updated successfully");else{if(!V.stateCode||!V.stateName){alert("Please fill in all required fields");return}await T0.createState({stateCode:V.stateCode,stateName:V.stateName}),alert("State created successfully")}d(!1),A(null),await w()}catch(re){const R=re instanceof Error?re.message:"Failed to save state";b(R),alert(`Error: ${R}`),console.error("Error saving state:",re)}finally{x(!1)}},ee=[{key:"stateCode",label:"State Code",minWidth:120},{key:"stateName",label:"State Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:V=>t.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(V=>t.jsx("li",{children:t.jsxs(rn,{to:V.path,className:`nav-link ${V.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:V.icon}),!n&&t.jsx("span",{className:"nav-label",children:V.label})]})},V.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / State Master"})})}),y&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),m&&!f.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading states..."}),t.jsx(fp,{title:"State Master",breadcrumb:"/ Masters / State Master",data:f,filteredData:S,columns:ee,searchQuery:s,onSearchChange:c,onAdd:j,onEdit:_,onDelete:k,getId:V=>V.id,addButtonLabel:"Add State",children:t.jsx(pp,{tabs:[{id:"list",label:"State List"}],activeTab:l,onTabChange:V=>u(V)})})]}),o&&t.jsx(ZJ,{state:h,onClose:()=>{d(!1),A(null)},onSave:Z})]})},ZJ=({state:r,onClose:e,onSave:n})=>{const[a,i]=P.useState(r||{stateCode:"",stateName:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit State":"Add State"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"state-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>i({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Name *"}),t.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>i({...a,stateName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},JJ="http://localhost:3000/api/v1",eee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Jm=async(r,e={})=>{const n=eee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${JJ}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},_0={createArea:async r=>(await Jm("/areas",{method:"POST",body:JSON.stringify(r)})).data,getAreaById:async r=>(await Jm(`/areas/${r}`,{method:"GET"})).data,getAllAreas:async(r=!1)=>(await Jm(r?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(r,e)=>(await Jm(`/areas/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteArea:async r=>{await Jm(`/areas/${r}`,{method:"DELETE"})}},tee=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(!1),i=()=>{a(!n)},[s,c]=P.useState(""),[l,u]=P.useState("list"),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(null),w=async()=>{x(!0),b(null);try{const re=(await _0.getAllAreas(!0)).map(R=>({id:R.id,areaCode:R.areaCode,areaName:R.areaName,areaPincode:R.areaPincode,status:R.status,createdBy:R.createdBy||"",createdOn:R.createdOn,modifiedBy:R.modifiedBy||"",modifiedOn:R.modifiedOn}));g(re)}catch(V){const re=V instanceof Error?V.message:"Failed to load areas";b(re),console.error("Error loading areas:",V)}finally{x(!1)}};P.useEffect(()=>{w()},[]);const N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],S=f.filter(V=>V.areaName.toLowerCase().includes(s.toLowerCase())||V.areaCode.toLowerCase().includes(s.toLowerCase())||V.areaPincode.toLowerCase().includes(s.toLowerCase())),j=()=>{A(null),d(!0)},_=V=>{A(V),d(!0)},k=async V=>{if(window.confirm("Are you sure you want to delete this area?"))try{x(!0),await _0.deleteArea(V),await w(),alert("Area deleted successfully")}catch(re){const R=re instanceof Error?re.message:"Failed to delete area";alert(`Error: ${R}`),console.error("Error deleting area:",re)}finally{x(!1)}},Z=async V=>{try{if(x(!0),b(null),h)await _0.updateArea(h.id,{areaPincode:V.areaPincode,status:V.status}),alert("Area updated successfully");else{if(!V.areaCode||!V.areaName||!V.areaPincode){alert("Please fill in all required fields");return}await _0.createArea({areaCode:V.areaCode,areaName:V.areaName,areaPincode:V.areaPincode}),alert("Area created successfully")}d(!1),A(null),await w()}catch(re){const R=re instanceof Error?re.message:"Failed to save area";b(R),alert(`Error: ${R}`),console.error("Error saving area:",re)}finally{x(!1)}},ee=[{key:"areaCode",label:"Area Code",minWidth:120},{key:"areaName",label:"Area Name",minWidth:200,allowWrap:!0},{key:"areaPincode",label:"Area Pincode",minWidth:130},{key:"status",label:"Status",minWidth:100,render:V=>t.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(V=>t.jsx("li",{children:t.jsxs(rn,{to:V.path,className:`nav-link ${V.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:V.icon}),!n&&t.jsx("span",{className:"nav-label",children:V.label})]})},V.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Area Master"})})}),y&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),m&&!f.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading areas..."}),t.jsx(fp,{title:"Area Master",breadcrumb:"/ Masters / Area Master",data:f,filteredData:S,columns:ee,searchQuery:s,onSearchChange:c,onAdd:j,onEdit:_,onDelete:k,getId:V=>V.id,addButtonLabel:"Add Area",children:t.jsx(pp,{tabs:[{id:"list",label:"Area List"}],activeTab:l,onTabChange:V=>u(V)})})]}),o&&t.jsx(ree,{area:h,onClose:()=>{d(!1),A(null)},onSave:Z})]})},ree=({area:r,onClose:e,onSave:n})=>{const[a,i]=P.useState(r||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Area":"Add Area"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"area-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Code *"}),t.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>i({...a,areaCode:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Name *"}),t.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>i({...a,areaName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Pincode *"}),t.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>i({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},nee="http://localhost:3000/api/v1",aee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},e0=async(r,e={})=>{const n=aee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${nee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},O0={createCategory:async r=>(await e0("/categories",{method:"POST",body:JSON.stringify(r)})).data,getCategoryById:async r=>(await e0(`/categories/${r}`,{method:"GET"})).data,getAllCategories:async(r,e=!1)=>{let n="/categories";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await e0(n,{method:"GET"})).data},updateCategory:async(r,e)=>(await e0(`/categories/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCategory:async r=>{await e0(`/categories/${r}`,{method:"DELETE"})}},iee=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(!1),i=()=>{a(!n)},[s,c]=P.useState(""),[l,u]=P.useState("list"),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=async()=>{try{const L=(await Qa.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));x(L)}catch(Y){console.error("Error loading companies:",Y)}},j=async()=>{b(!0),N(null);try{const L=(await O0.getAllCategories(void 0,!0)).map($=>{const je=m.find(ge=>ge.id===$.companyId);return{id:$.id,companyName:(je==null?void 0:je.companyName)||"Unknown Company",categoryCode:$.categoryCode,categoryName:$.categoryName,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});g(L)}catch(Y){const L=Y instanceof Error?Y.message:"Failed to load categories";N(L),console.error("Error loading categories:",Y),g([])}finally{b(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{m.length>0&&j()},[m.length]);const _=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],k=f.filter(Y=>Y.categoryName.toLowerCase().includes(s.toLowerCase())||Y.categoryCode.toLowerCase().includes(s.toLowerCase())||Y.companyName.toLowerCase().includes(s.toLowerCase())),Z=()=>{A(null),d(!0)},ee=Y=>{A(Y),d(!0)},V=async Y=>{if(window.confirm("Are you sure you want to delete this category?"))try{b(!0),await O0.deleteCategory(Y),await j(),alert("Category deleted successfully")}catch(L){const $=L instanceof Error?L.message:"Failed to delete category";alert(`Error: ${$}`),console.error("Error deleting category:",L)}finally{b(!1)}},re=async Y=>{try{b(!0),N(null);const L=m.find($=>$.companyName===Y.companyName);if(!L){alert("Please select a valid company");return}if(h)await O0.updateCategory(h.id,{status:Y.status}),alert("Category updated successfully");else{if(!Y.categoryCode||!Y.categoryName||!Y.companyName){alert("Please fill in all required fields");return}await O0.createCategory({categoryCode:Y.categoryCode,categoryName:Y.categoryName,companyId:L.id}),alert("Category created successfully")}d(!1),A(null),await j()}catch(L){const $=L instanceof Error?L.message:"Failed to save category";N($),alert(`Error: ${$}`),console.error("Error saving category:",L)}finally{b(!1)}},R=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"categoryCode",label:"Category Code",minWidth:140},{key:"categoryName",label:"Category Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:Y=>t.jsx("span",{className:`status-badge status-badge--${Y.status.toLowerCase()}`,children:Y.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(Y=>t.jsx("li",{children:t.jsxs(rn,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),!n&&t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Category Master"})})}),w&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:w}),y&&!f.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading categories..."}),t.jsx(fp,{title:"Category Master",breadcrumb:"/ Masters / Category Master",data:f,filteredData:k,columns:R,searchQuery:s,onSearchChange:c,onAdd:Z,onEdit:ee,onDelete:V,getId:Y=>Y.id,addButtonLabel:"Add Category",children:t.jsx(pp,{tabs:[{id:"list",label:"Category List"}],activeTab:l,onTabChange:Y=>u(Y)})})]}),o&&t.jsx(see,{category:h,companies:m.filter(Y=>Y.status==="Active"),onClose:()=>{d(!1),A(null)},onSave:re})]})},see=({category:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Category":"Add Category"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"category-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Code *"}),t.jsx("input",{type:"text",value:i.categoryCode||"",onChange:l=>s({...i,categoryCode:l.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Name *"}),t.jsx("input",{type:"text",value:i.categoryName||"",onChange:l=>s({...i,categoryName:l.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},oee="http://localhost:3000/api/v1",lee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},t0=async(r,e={})=>{const n=lee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${oee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},k0={createPcbZone:async r=>(await t0("/pcb-zones",{method:"POST",body:JSON.stringify(r)})).data,getPcbZoneById:async r=>(await t0(`/pcb-zones/${r}`,{method:"GET"})).data,getAllPcbZones:async(r=!1)=>(await t0(r?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(r,e)=>(await t0(`/pcb-zones/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deletePcbZone:async r=>{await t0(`/pcb-zones/${r}`,{method:"DELETE"})}},cee=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(!1),i=()=>{a(!n)},[s,c]=P.useState(""),[l,u]=P.useState("list"),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(null),w=async()=>{x(!0),b(null);try{const re=(await k0.getAllPcbZones(!0)).map(R=>({id:R.id,pcbZoneName:R.pcbZoneName,pcbZoneAddress:R.pcbZoneAddress||"",contactNum:R.contactNum||"",contactEmail:R.contactEmail||"",alertEmail:R.alertEmail||"",status:R.status,createdBy:R.createdBy||"",createdOn:R.createdOn,modifiedBy:R.modifiedBy||"",modifiedOn:R.modifiedOn}));g(re)}catch(V){const re=V instanceof Error?V.message:"Failed to load PCB zones";b(re),console.error("Error loading PCB zones:",V)}finally{x(!1)}};P.useEffect(()=>{w()},[]);const N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],S=f.filter(V=>V.pcbZoneName.toLowerCase().includes(s.toLowerCase())||V.pcbZoneAddress.toLowerCase().includes(s.toLowerCase())||V.contactEmail.toLowerCase().includes(s.toLowerCase())),j=()=>{A(null),d(!0)},_=V=>{A(V),d(!0)},k=async V=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{x(!0),await k0.deletePcbZone(V),await w(),alert("PCB Zone deleted successfully")}catch(re){const R=re instanceof Error?re.message:"Failed to delete PCB zone";alert(`Error: ${R}`),console.error("Error deleting PCB zone:",re)}finally{x(!1)}},Z=async V=>{try{if(x(!0),b(null),h)await k0.updatePcbZone(h.id,{pcbZoneAddress:V.pcbZoneAddress,contactNum:V.contactNum,contactEmail:V.contactEmail,alertEmail:V.alertEmail,status:V.status}),alert("PCB Zone updated successfully");else{if(!V.pcbZoneName){alert("Please fill in PCB Zone Name");return}await k0.createPcbZone({pcbZoneName:V.pcbZoneName,pcbZoneAddress:V.pcbZoneAddress,contactNum:V.contactNum,contactEmail:V.contactEmail,alertEmail:V.alertEmail}),alert("PCB Zone created successfully")}d(!1),A(null),await w()}catch(re){const R=re instanceof Error?re.message:"Failed to save PCB zone";b(R),alert(`Error: ${R}`),console.error("Error saving PCB zone:",re)}finally{x(!1)}},ee=[{key:"pcbZoneName",label:"PCB Zone Name",minWidth:150,allowWrap:!0},{key:"pcbZoneAddress",label:"PCB Zone Address",minWidth:250,allowWrap:!0},{key:"contactNum",label:"Contact Number",minWidth:140},{key:"contactEmail",label:"Contact Email",minWidth:180,allowWrap:!0},{key:"alertEmail",label:"Alert Email",minWidth:180,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:V=>t.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(V=>t.jsx("li",{children:t.jsxs(rn,{to:V.path,className:`nav-link ${V.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:V.icon}),!n&&t.jsx("span",{className:"nav-label",children:V.label})]})},V.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / PCB Zone Master"})})}),y&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),m&&!f.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading PCB zones..."}),t.jsx(fp,{title:"PCB Zone Master",breadcrumb:"/ Masters / PCB Zone Master",data:f,filteredData:S,columns:ee,searchQuery:s,onSearchChange:c,onAdd:j,onEdit:_,onDelete:k,getId:V=>V.id,addButtonLabel:"Add PCB Zone",children:t.jsx(pp,{tabs:[{id:"list",label:"PCB Zone List"}],activeTab:l,onTabChange:V=>u(V)})})]}),o&&t.jsx(uee,{pcbZone:h,onClose:()=>{d(!1),A(null)},onSave:Z})]})},uee=({pcbZone:r,onClose:e,onSave:n})=>{const[a,i]=P.useState(r||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit PCB Zone":"Add PCB Zone"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"pcb-zone-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone Name *"}),t.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>i({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"PCB Zone Address *"}),t.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>i({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Number *"}),t.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>i({...a,contactNum:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email *"}),t.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>i({...a,contactEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Alert Email *"}),t.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>i({...a,alertEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},dee="http://localhost:3000/api/v1",hee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},r0=async(r,e={})=>{const n=hee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${dee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},JA={createRoute:async r=>(await r0("/routes",{method:"POST",body:JSON.stringify(r)})).data,getRouteById:async r=>(await r0(`/routes/${r}`,{method:"GET"})).data,getAllRoutes:async(r=!1)=>(await r0(r?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(r,e)=>(await r0(`/routes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRoute:async r=>{await r0(`/routes/${r}`,{method:"DELETE"})}},Aee="http://localhost:3000/api/v1",fee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},n0=async(r,e={})=>{const n=fee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Aee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},$p={createFrequency:async r=>(await n0("/frequencies",{method:"POST",body:JSON.stringify(r)})).data,getFrequencyById:async r=>(await n0(`/frequencies/${r}`,{method:"GET"})).data,getAllFrequencies:async(r,e=!1)=>{let n="/frequencies";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await n0(n,{method:"GET"})).data},updateFrequency:async(r,e)=>(await n0(`/frequencies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFrequency:async r=>{await n0(`/frequencies/${r}`,{method:"DELETE"})}},pee=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState("list"),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState([]),[x,y]=P.useState(!1),[b,w]=P.useState(null),N=async()=>{try{const L=(await Qa.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));f(L)}catch(Y){console.error("Error loading companies:",Y)}},S=async()=>{try{const L=(await $p.getAllFrequencies(void 0,!0)).map($=>({id:$.id,frequencyCode:$.frequencyCode,frequencyName:$.frequencyName,companyName:$.companyName||"",status:$.status}));m(L)}catch(Y){console.error("Error loading frequencies:",Y)}},j=async()=>{y(!0),w(null);try{let Y=A;Y.length===0&&(Y=(await Qa.getAllCompanies(!0)).map(Ie=>({id:Ie.id,companyCode:Ie.companyCode,companyName:Ie.companyName,status:Ie.status})),f(Y));let L=g;L.length===0&&(L=(await $p.getAllFrequencies(void 0,!0)).map(Ie=>({id:Ie.id,frequencyCode:Ie.frequencyCode,frequencyName:Ie.frequencyName,companyName:Ie.companyName||"",status:Ie.status})),m(L));const je=(await JA.getAllRoutes(!0)).map(ge=>{const Ie=Y.find(ve=>ve.id===ge.companyId),_e=(Ie==null?void 0:Ie.companyName)||"Unknown",fe=L.find(ve=>ve.id===ge.frequencyId),le=(fe==null?void 0:fe.frequencyCode)||ge.frequencyId||"";return{id:ge.id,companyName:_e,routeCode:ge.routeCode,routeName:ge.routeName,frequencyID:le,status:ge.status,createdBy:ge.createdBy||"",createdOn:ge.createdOn,modifiedBy:ge.modifiedBy||"",modifiedOn:ge.modifiedOn}});h(je)}catch(Y){const L=Y instanceof Error?Y.message:"Failed to load routes";w(L),console.error("Error loading routes:",Y)}finally{y(!1)}};P.useEffect(()=>{(async()=>{await N(),await S(),await j()})()},[]);const _=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],k=d.filter(Y=>Y.routeName.toLowerCase().includes(n.toLowerCase())||Y.routeCode.toLowerCase().includes(n.toLowerCase())||Y.frequencyID.toLowerCase().includes(n.toLowerCase())||Y.companyName.toLowerCase().includes(n.toLowerCase())),Z=()=>{o(null),l(!0)},ee=Y=>{o(Y),l(!0)},V=async Y=>{if(window.confirm("Are you sure you want to delete this route?"))try{y(!0),await JA.deleteRoute(Y),await j(),alert("Route deleted successfully")}catch(L){const $=L instanceof Error?L.message:"Failed to delete route";alert(`Error: ${$}`),console.error("Error deleting route:",L)}finally{y(!1)}},re=async Y=>{try{y(!0),w(null);const L=A.find(je=>je.companyName===Y.companyName);if(!L){alert("Please select a valid company");return}const $=g.find(je=>je.frequencyCode===Y.frequencyID);if(u)await JA.updateRoute(u.id,{frequencyId:$==null?void 0:$.id,status:Y.status}),alert("Route updated successfully");else{if(!Y.routeCode||!Y.routeName||!Y.companyName){alert("Please fill in all required fields");return}await JA.createRoute({routeCode:Y.routeCode,routeName:Y.routeName,companyId:L.id,frequencyId:$==null?void 0:$.id}),alert("Route created successfully")}l(!1),o(null),await j()}catch(L){const $=L instanceof Error?L.message:"Failed to save route";w($),alert(`Error: ${$}`),console.error("Error saving route:",L)}finally{y(!1)}},R=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"routeCode",label:"Route Code",minWidth:120},{key:"routeName",label:"Route Name",minWidth:200,allowWrap:!0},{key:"frequencyID",label:"Frequency ID",minWidth:130},{key:"status",label:"Status",minWidth:100,render:Y=>t.jsx("span",{className:`status-badge status-badge--${Y.status.toLowerCase()}`,children:Y.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(Y=>t.jsx("li",{children:t.jsxs(rn,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!d.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading routes..."}),t.jsx(fp,{title:"Route Master",breadcrumb:"/ Masters / Route Master",data:d,filteredData:k,columns:R,searchQuery:n,onSearchChange:a,onAdd:Z,onEdit:ee,onDelete:V,getId:Y=>Y.id,addButtonLabel:"Add Route",children:t.jsx(pp,{tabs:[{id:"list",label:"Route List"}],activeTab:i,onTabChange:Y=>s(Y)})})]}),c&&t.jsx(mee,{route:u,companies:A.filter(Y=>Y.status==="Active"),frequencies:g.filter(Y=>Y.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:re})]})},mee=({route:r,companies:e,frequencies:n,onClose:a,onSave:i})=>{const[s,c]=P.useState(r||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),l=u=>{u.preventDefault(),i(s)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Route":"Add Route"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"route-form",onSubmit:l,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:s.companyName||"",onChange:u=>c({...s,companyName:u.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(u=>t.jsx("option",{value:u.companyName,children:u.companyName},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsx("input",{type:"text",value:s.routeCode||"",onChange:u=>c({...s,routeCode:u.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Name *"}),t.jsx("input",{type:"text",value:s.routeName||"",onChange:u=>c({...s,routeName:u.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency"}),t.jsxs("select",{value:s.frequencyID||"",onChange:u=>c({...s,frequencyID:u.target.value}),children:[t.jsx("option",{value:"",children:"Select Frequency"}),n.map(u=>t.jsxs("option",{value:u.frequencyCode,children:[u.frequencyName," (",u.frequencyCode,")"]},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:s.status||"Active",onChange:u=>c({...s,status:u.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},gee="http://localhost:3000/api/v1",vee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},a0=async(r,e={})=>{const n=vee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${gee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},d1={createColor:async r=>(await a0("/colors",{method:"POST",body:JSON.stringify(r)})).data,getColorById:async r=>(await a0(`/colors/${r}`,{method:"GET"})).data,getAllColors:async(r,e=!1)=>{let n="/colors";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await a0(n,{method:"GET"})).data},updateColor:async(r,e)=>(await a0(`/colors/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteColor:async r=>{await a0(`/colors/${r}`,{method:"DELETE"})}},xee=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(!1),i=()=>{a(!n)},[s,c]=P.useState(""),[l,u]=P.useState("list"),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=async()=>{try{const L=(await Qa.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));x(L)}catch(Y){console.error("Error loading companies:",Y)}},j=async()=>{b(!0),N(null);try{const L=(await d1.getAllColors(void 0,!0)).map($=>{const je=m.find(ge=>ge.id===$.companyId);return{id:$.id,colorName:$.colorName,companyName:(je==null?void 0:je.companyName)||"Unknown Company",status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});g(L)}catch(Y){const L=Y instanceof Error?Y.message:"Failed to load color codes";N(L),console.error("Error loading color codes:",Y)}finally{b(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{m.length>0&&j()},[m.length]);const _=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],k=f.filter(Y=>Y.colorName.toLowerCase().includes(s.toLowerCase())||Y.companyName.toLowerCase().includes(s.toLowerCase())),Z=()=>{A(null),d(!0)},ee=Y=>{A(Y),d(!0)},V=async Y=>{if(window.confirm("Are you sure you want to delete this color code?"))try{b(!0),await d1.deleteColor(Y),await j(),alert("Color code deleted successfully")}catch(L){const $=L instanceof Error?L.message:"Failed to delete color code";alert(`Error: ${$}`),console.error("Error deleting color code:",L)}finally{b(!1)}},re=async Y=>{try{b(!0),N(null);const L=m.find($=>$.companyName===Y.companyName);if(!L){alert("Please select a valid company");return}if(h)await d1.updateColor(h.id,{status:Y.status}),alert("Color code updated successfully");else{if(!Y.colorName||!Y.companyName){alert("Please fill in all required fields");return}await d1.createColor({colorName:Y.colorName,companyId:L.id}),alert("Color code created successfully")}d(!1),A(null),await j()}catch(L){const $=L instanceof Error?L.message:"Failed to save color code";N($),alert(`Error: ${$}`),console.error("Error saving color code:",L)}finally{b(!1)}},R=[{key:"colorName",label:"Color Name",minWidth:200,allowWrap:!0},{key:"companyName",label:"Company Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:Y=>t.jsx("span",{className:`status-badge status-badge--${Y.status.toLowerCase()}`,children:Y.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(Y=>t.jsx("li",{children:t.jsxs(rn,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),!n&&t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Color Code Master"})})}),w&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:w}),y&&!f.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading color codes..."}),t.jsx(fp,{title:"Color Code Master",breadcrumb:"/ Masters / Color Code Master",data:f,filteredData:k,columns:R,searchQuery:s,onSearchChange:c,onAdd:Z,onEdit:ee,onDelete:V,getId:Y=>Y.id,addButtonLabel:"Add Color Code",children:t.jsx(pp,{tabs:[{id:"list",label:"Color Code List"}],activeTab:l,onTabChange:Y=>u(Y)})})]}),o&&t.jsx(yee,{colorCode:h,companies:m.filter(Y=>Y.status==="Active"),onClose:()=>{d(!1),A(null)},onSave:re})]})},yee=({colorCode:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{colorName:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Color Code":"Add Color Code"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"color-code-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Color Name *"}),t.jsx("input",{type:"text",value:i.colorName||"",onChange:l=>s({...i,colorName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},bee="http://localhost:3000/api/v1",wee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},jh=async(r,e={})=>{const n=wee(),a=`${bee}${r}`;console.log("[apiRequest] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[apiRequest] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok,headers:Object.fromEntries(s.headers.entries())}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const d=await s.text();console.log("[apiRequest] Error response text:",d),d&&(u=JSON.parse(d),console.log("[apiRequest] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(d){console.error("[apiRequest] Failed to parse error response:",d)}console.error("[apiRequest] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[apiRequest] Success response data:",c),c}catch(s){if(console.error("[apiRequest] Fetch error:",s),console.error("[apiRequest] Fetch error details:",{message:s instanceof Error?s.message:String(s),name:s instanceof Error?s.name:void 0,stack:s instanceof Error?s.stack:void 0}),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},$l={createUser:async r=>(await jh("/users",{method:"POST",body:JSON.stringify(r)})).data,createCompleteUser:async r=>{console.log("[userService] createCompleteUser called with data:",r),console.log("[userService] API endpoint: POST /users/complete");try{const e=await jh("/users/complete",{method:"POST",body:JSON.stringify(r)});return console.log("[userService] createCompleteUser success - Response:",e),e.data}catch(e){throw console.error("[userService] createCompleteUser error:",e),console.error("[userService] Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),e}},getUserById:async r=>(await jh(`/users/${r}`,{method:"GET"})).data,updateUser:async(r,e)=>(await jh(`/users/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,updateCompleteUser:async(r,e)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",r),console.log("[userService] Data:",e),console.log("[userService] API endpoint: PUT /users/"+r+"/complete");try{const n=await jh(`/users/${r}/complete`,{method:"PUT",body:JSON.stringify(e)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async r=>{await jh(`/users/${r}`,{method:"DELETE"})},activateUser:async(r,e)=>(await jh(`/users/${r}/activate`,{method:"POST",body:JSON.stringify(e)})).data,deactivateUser:async r=>(await jh(`/users/${r}/deactivate`,{method:"POST"})).data,getUsersByCompany:async r=>(await jh(`/users/company/${r}`,{method:"GET"})).data,getUserByUsername:async r=>(await jh(`/users/username/${encodeURIComponent(r)}`,{method:"GET"})).data},jee="http://localhost:3000/api/v1",Cee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},i0=async(r,e={})=>{const n=Cee(),a=`${jee}${r}`;console.log("[roleService] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[roleService] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const d=await s.text();console.log("[roleService] Error response text:",d),d&&(u=JSON.parse(d),console.log("[roleService] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(d){console.error("[roleService] Failed to parse error response:",d)}console.error("[roleService] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[roleService] Success response data:",c),c}catch(s){if(console.error("[roleService] Fetch error:",s),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},P0={createRole:async r=>(console.log("[roleService] createRole called with data:",r),(await i0("/roles",{method:"POST",body:JSON.stringify(r)})).data),getRoleById:async r=>(await i0(`/roles/${r}`,{method:"GET"})).data,getAllRoles:async(r,e)=>{let n="/roles";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await i0(n,{method:"GET"})).data},updateRole:async(r,e)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",r),console.log("[roleService] Data:",e),(await i0(`/roles/${r}`,{method:"PUT",body:JSON.stringify(e)})).data),deleteRole:async r=>{await i0(`/roles/${r}`,{method:"DELETE"})}},Nee="http://localhost:3000/api/v1",See=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},YN=async(r,e={})=>{const n=See(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Nee}${r}`,{...e,headers:a});if(!i.ok){const c=await i.json().catch(()=>({}));let l=`HTTP error! status: ${i.status}`;throw c.message?Array.isArray(c.message)?l=c.message.join(", "):l=c.message:c.error&&(l=c.error),new Error(l)}return(await i.json()).data},Bee=async(r,e)=>YN(`/users/${r}/activate-with-password`,{method:"POST",body:JSON.stringify(e)}),u2=async(r,e)=>YN(`/users/${r}/change-password`,{method:"POST",body:JSON.stringify(e)}),Eee=async r=>YN(`/users/${r}/reset-password`,{method:"POST"}),Iee=({isOpen:r,onClose:e})=>{const{user:n}=xa(),[a,i]=P.useState(!1),[s,c]=P.useState(null),[l,u]=P.useState(null),[o,d]=P.useState("basic"),[h,A]=P.useState(null),[f,g]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=P.useState(!1);P.useEffect(()=>{r&&n&&y()},[r,n]);const y=async()=>{if(n){i(!0),c(null);try{if(n.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id))try{const N=await $l.getUserById(n.id);A(N),x(N.otpEnabled||!1);return}catch(N){console.log("User ID lookup failed, trying search by username:",N)}if(n.name)try{const N=await $l.getUserByUsername(n.name);A(N),x(N.otpEnabled||!1);return}catch(N){console.log("User lookup by username failed:",N)}A({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}catch(w){console.error("Error loading user profile:",w),A({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},b=async w=>{if(w.preventDefault(),c(null),u(null),f.newPassword!==f.confirmPassword){c("New password and confirm password do not match");return}if(f.newPassword.length<8){c("New password must be at least 8 characters long");return}i(!0);try{if(!(n!=null&&n.id))throw new Error("User ID not found");const N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id);if(!N&&n.name){const S=await $l.getUserByUsername(n.name);await u2(S.userId,{currentPassword:f.currentPassword,newPassword:f.newPassword})}else if(N)await u2(n.id,{currentPassword:f.currentPassword,newPassword:f.newPassword});else throw new Error("Unable to identify user for password change");u("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{e(),u(null),c(null)},1500)}catch(N){c(N.message||"Failed to change password")}finally{i(!1)}};return r?t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content profile-modal-content",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"My Profile"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body profile-modal-body",children:[s&&t.jsxs("div",{className:"profile-error-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),s]}),l&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),l]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${o==="basic"?"active":""}`,onClick:()=>d("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${o==="contact"?"active":""}`,onClick:()=>d("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${o==="security"?"active":""}`,onClick:()=>d("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!h?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading profile data..."}):t.jsxs(t.Fragment,{children:[o==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"User Name"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.userName)||(n==null?void 0:n.name)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employee Code"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.employeeCode)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Mobile Number"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.mobileNumber)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Status"}),t.jsx("div",{className:"info-value",children:t.jsx("span",{className:`status-badge status-badge--${((h==null?void 0:h.status)||"active").toLowerCase()}`,children:(h==null?void 0:h.status)||"Active"})})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Role"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.userRoleId)||(n==null?void 0:n.roles.join(", "))||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employment Type"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.employmentType)||"-"})]})]})]}),o==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:"Update your contact details (email is optional)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Email Address"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.emailAddress)||(n==null?void 0:n.email)||"Not provided"}),t.jsx("small",{className:"info-hint",children:"Email is optional and can be updated by admin"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Emergency Contact"}),t.jsx("div",{className:"info-value",children:(h==null?void 0:h.emergencyContact)||"-"})]}),t.jsxs("div",{className:"info-item",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{className:"info-label",children:"Address"}),t.jsx("div",{className:"info-value",children:h!=null&&h.addressLine?t.jsxs("div",{children:[t.jsx("div",{children:h.addressLine}),h.area&&t.jsx("div",{children:h.area}),h.city&&t.jsxs("div",{children:[h.city,", ",h.district]}),h.pincode&&t.jsxs("div",{children:["PIN: ",h.pincode]})]}):"-"})]})]})]}),o==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"Change Password"}),t.jsxs("form",{onSubmit:b,className:"password-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"currentPassword",children:"Current Password *"}),t.jsx("input",{type:"password",id:"currentPassword",value:f.currentPassword,onChange:w=>g({...f,currentPassword:w.target.value}),required:!0,placeholder:"Enter your current password"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"newPassword",children:"New Password *"}),t.jsx("input",{type:"password",id:"newPassword",value:f.newPassword,onChange:w=>g({...f,newPassword:w.target.value}),required:!0,minLength:8,placeholder:"Enter new password (min 8 characters)"}),t.jsx("small",{className:"form-hint",children:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password *"}),t.jsx("input",{type:"password",id:"confirmPassword",value:f.confirmPassword,onChange:w=>g({...f,confirmPassword:w.target.value}),required:!0,minLength:8,placeholder:"Confirm new password"})]}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Changing Password...":"Change Password"})]})]}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"OTP Settings"}),t.jsxs("div",{className:"otp-settings",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{className:"setting-label",children:"OTP Enabled"}),t.jsx("p",{className:"setting-description",children:h!=null&&h.emailAddress?"OTP can be enabled if you have an email address":"OTP requires an email address. Please contact admin to add your email."})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:m,onChange:w=>x(w.target.checked),disabled:!(h!=null&&h.emailAddress)}),t.jsx("span",{className:"toggle-slider"})]})})]}),!(h!=null&&h.emailAddress)&&t.jsxs("div",{className:"setting-note",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Email address is required to enable OTP. Please contact your administrator."]})]})]})]})]})})]})]})}):null},Tee=()=>{const{user:r,logout:e}=xa(),n=Pn();ti();const[a,i]=P.useState("users"),[s,c]=P.useState(""),[l,u]=P.useState(!1),[o,d]=P.useState(!1),[h,A]=P.useState(!1),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(null),[w,N]=P.useState(null),[S,j]=P.useState(!1),[_,k]=P.useState(null),Z=He=>{if(console.log("[extractErrorMessage] Extracting error message from:",He),He instanceof Error){const Zt=He;Zt.status&&console.log("[extractErrorMessage] Error has status:",Zt.status),Zt.errorData&&console.log("[extractErrorMessage] Error has errorData:",Zt.errorData);const Bt=Zt.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",Bt),Bt}if(typeof He=="string")return He;if(He&&typeof He=="object"){const Zt=He;if(Array.isArray(Zt.message))return Zt.message.join(", ");if(Zt.message)return String(Zt.message);if(Zt.error)return Array.isArray(Zt.error)?Zt.error.join(", "):String(Zt.error);try{return JSON.stringify(Zt)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[ee,V]=P.useState([]),[re,R]=P.useState(!1),Y=He=>({id:He.id,companyCode:He.companyCode,companyName:He.companyName,status:He.status}),L=async()=>{R(!0);try{const Zt=(await Qa.getAllCompanies(!0)).map(Bt=>Y(Bt));return V(Zt),Zt}catch(He){console.error("Error loading companies:",He);const Zt=Z(He);return k(Zt||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{R(!1)}},[$,je]=P.useState([]),[ge,Ie]=P.useState([]),_e=He=>{if(!He)return null;if(q(He))return He;const Zt=ge.find(Bt=>Bt.roleName===He);return Zt?Zt.id:null},fe=(He,Zt)=>{let Bt="-";if(He.userRoleId)if(ge.length>0){const $r=ge.find(pr=>pr.id===He.userRoleId);Bt=$r?$r.roleName:"-"}else Bt=He.userRoleId;return{id:He.userId,companyName:Zt,mobileNumber:He.mobileNumber,userName:He.userName,empCode:He.employeeCode||"",userRoleID:Bt,employmentType:He.employmentType||"",designation:He.designation||"",contractorName:He.contractorName||"",companyNameThirdParty:He.companyNameThirdParty||"",grossSalary:He.grossSalary?String(He.grossSalary):"",emailAddress:He.emailAddress||"",aadhaar:He.aadhaarNumber||"",pan:He.panNumber||"",dlNum:He.drivingLicenseNumber||"",pfNum:He.pfNumber||"",uan:He.uanNumber||"",esiNum:He.esiNumber||"",address:He.addressLine||"",area:He.area||"",city:He.city||"",district:He.district||"",pincode:He.pincode||"",emergencyContact:He.emergencyContact||"",webLogin:He.webLogin,mobileApp:He.mobileAppAccess,password:"",status:He.status,passwordEnabled:He.passwordEnabled,otpEnabled:He.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:He.createdOn,modifiedBy:"",modifiedOn:He.modifiedOn}},le=async He=>{let Zt=He||ee;if(Zt.length===0&&(Zt=await L(),Zt.length===0)){je([]),j(!1),k("No companies found. Please create a company first.");return}j(!0),k(null);try{const Bt=[];let $r=!1;for(const pr of Zt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(pr.id)){console.warn(`Skipping company ${pr.companyName} - ID is not a valid UUID: ${pr.id}`);continue}try{$r=!0;const qr=(await $l.getUsersByCompany(pr.id)).map(Ir=>fe(Ir,pr.companyName));Bt.push(...qr)}catch(Yr){console.warn(`Failed to load users for company ${pr.companyName}:`,Yr);const qr=Z(Yr);qr.includes("403")||qr.includes("401")||qr.includes("Unauthorized")?k("Authentication failed. Please login again."):qr.includes("404")||console.warn(`Error loading users for ${pr.companyName}: ${qr}`)}}$r?(je(Bt),Bt.length>0&&k(null)):k("No valid companies found. Please create a company first.")}catch(Bt){const $r=Z(Bt);k($r||"Failed to load users"),console.error("Error loading users:",Bt)}finally{j(!1)}};P.useEffect(()=>{let He=!0;return(async()=>{try{const Bt=await L();if(!He)return;if(Bt.length>0){if(await We(Bt),!He)return;await le(Bt)}else k("No companies found. Please create a company first.")}catch(Bt){if(!He)return;console.error("[UserManagementPage] Error during initialization:",Bt);const $r=Z(Bt);k($r||"Failed to initialize page. Please refresh.")}})(),()=>{He=!1}},[]),P.useEffect(()=>{if(ge.length>0&&$.length>0){const He=$.map(Bt=>{if(Bt.userRoleID&&q(Bt.userRoleID)){const $r=ge.find(pr=>pr.id===Bt.userRoleID);return $r?{...Bt,userRoleID:$r.roleName}:{...Bt,userRoleID:"-"}}return Bt});He.some((Bt,$r)=>Bt.userRoleID!==$[$r].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),je(He))}},[ge]);const[ve]=P.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),se=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],he=$.filter(He=>{const Zt=s.toLowerCase();return(He.userName||"").toLowerCase().includes(Zt)||(He.emailAddress||"").toLowerCase().includes(Zt)||(He.empCode||"").toLowerCase().includes(Zt)||(He.mobileNumber||"").toLowerCase().includes(Zt)||(He.companyName||"").toLowerCase().includes(Zt)}),Ne=ge.filter(He=>He.roleName.toLowerCase().includes(s.toLowerCase())||He.description.toLowerCase().includes(s.toLowerCase())||He.companyName.toLowerCase().includes(s.toLowerCase())),Pe=()=>{x(null),u(!0)},ye=async He=>{console.log("[handleEditUser] Editing user:",He.id),j(!0),k(null);try{const Zt=await $l.getUserById(He.id);console.log("[handleEditUser] Complete user data fetched:",Zt);const Bt=ee.find(on=>on.id===Zt.companyId),$r=(Bt==null?void 0:Bt.companyName)||He.companyName,pr=fe(Zt,$r);console.log("[handleEditUser] Mapped user data:",pr),x(pr),u(!0)}catch(Zt){console.error("[handleEditUser] Error fetching user data:",Zt);const Bt=Z(Zt);k(Bt||"Failed to load user data. Please try again."),x(He),u(!0)}finally{j(!1)}},ce=async He=>{if(window.confirm("Are you sure you want to delete this user?")){j(!0),k(null);try{await $l.deleteUser(He),await le()}catch(Zt){const Bt=Z(Zt);k(Bt||"Failed to delete user"),console.error("Error deleting user:",Zt)}finally{j(!1)}}},q=He=>!He||He.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(He),pe=async He=>{console.log("handleSaveUser called with formData:",He),j(!0),k(null);try{if(m){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",m.id);const Zt=ee.find(pr=>pr.companyName===He.companyName)||ee[0];if(!Zt)throw new Error("Please select a company");if(!q(Zt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Zt.id}`);const Bt={companyId:Zt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode||null,emailAddress:He.emailAddress||null};if(He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const pr=_e(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",pr),pr&&q(pr)?(Bt.userRoleId=pr,console.log("[handleSaveUser]  Using converted UUID role ID:",pr)):q(He.userRoleID)?(Bt.userRoleId=He.userRoleID,console.log("[handleSaveUser]  Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser]  Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:pr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Bt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Bt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Bt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Bt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Bt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,Bt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Bt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Bt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Bt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Bt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Bt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,Bt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Bt.area=He.area&&He.area.trim()?He.area.trim():null,Bt.city=He.city&&He.city.trim()?He.city.trim():null,Bt.district=He.district&&He.district.trim()?He.district.trim():null,Bt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Bt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,Bt.webLogin=He.webLogin||!1,Bt.mobileAppAccess=He.mobileApp||!1,Bt.status=He.status||"Draft",Bt.passwordEnabled=He.passwordEnabled||!1,Bt.otpEnabled=He.otpEnabled||!1,Bt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(Bt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Bt.emailAddress),console.log("  - Aadhaar:",Bt.aadhaarNumber),console.log("  - PAN:",Bt.panNumber),console.log("  - ESI:",Bt.esiNumber),console.log("  - Address:",Bt.addressLine);let $r=!1;try{const pr=await $l.updateCompleteUser(m.id,Bt);$r=!0,console.log("[handleSaveUser]  UPDATE API call SUCCESSFUL! Result:",pr),alert(" User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),k(null),console.log("[handleSaveUser]  Modal closed"),setTimeout(async()=>{try{await le(),console.log("[handleSaveUser]  Users reloaded")}catch(on){console.error("[handleSaveUser]  Reload error (data was saved):",on)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch(pr){throw $r=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",pr),pr}}else{const Zt=ee.find(pr=>pr.companyName===He.companyName)||ee[0];if(!Zt)throw new Error("Please select a company");if(!q(Zt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Zt.id}`);const Bt={companyId:Zt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode,emailAddress:He.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",He.emailAddress),console.log("[handleSaveUser] Email address in createData:",Bt.emailAddress),He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const pr=_e(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",pr),pr&&q(pr)?(Bt.userRoleId=pr,console.log("[handleSaveUser]  Using converted UUID role ID:",pr)):q(He.userRoleID)?(Bt.userRoleId=He.userRoleID,console.log("[handleSaveUser]  Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser]  Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:pr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Bt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Bt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Bt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Bt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Bt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:Bt.employmentType,designation:Bt.designation,contractorName:Bt.contractorName,companyNameThirdParty:Bt.companyNameThirdParty,grossSalary:Bt.grossSalary}),Bt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Bt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Bt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Bt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Bt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Bt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:Bt.aadhaarNumber,pan:Bt.panNumber,drivingLicense:Bt.drivingLicenseNumber,pfNumber:Bt.pfNumber,uan:Bt.uanNumber,esi:Bt.esiNumber}),Bt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Bt.area=He.area&&He.area.trim()?He.area.trim():null,Bt.city=He.city&&He.city.trim()?He.city.trim():null,Bt.district=He.district&&He.district.trim()?He.district.trim():null,Bt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Bt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:Bt.addressLine,area:Bt.area,city:Bt.city,district:Bt.district,pincode:Bt.pincode,emergencyContact:Bt.emergencyContact}),Bt.webLogin=He.webLogin||!1,Bt.mobileAppAccess=He.mobileApp||!1,Bt.status=He.status||"Draft",Bt.passwordEnabled=He.passwordEnabled||!1,Bt.otpEnabled=He.otpEnabled||!1,Bt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",Bt),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(Bt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Bt.emailAddress),console.log("  - Aadhaar:",Bt.aadhaarNumber),console.log("  - PAN:",Bt.panNumber),console.log("  - ESI:",Bt.esiNumber),console.log("  - Address:",Bt.addressLine),console.log("  - Area:",Bt.area),console.log("  - City:",Bt.city);let $r=!1;try{const pr=await $l.createCompleteUser(Bt);$r=!0,console.log("[handleSaveUser]  API call SUCCESSFUL! Result:",pr),pr||console.warn("[handleSaveUser]  Warning: API returned empty result but status was 200"),alert(" User created successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),k(null),console.log("[handleSaveUser]  Modal closed"),setTimeout(async()=>{try{await le(),console.log("[handleSaveUser]  Users reloaded")}catch(on){console.error("[handleSaveUser]  Reload error (data was saved):",on)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch(pr){throw $r=!1,console.error("[handleSaveUser]  API CALL FAILED:",pr),pr}}}catch(Zt){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",Zt),console.error("[handleSaveUser] Error type:",typeof Zt),console.error("[handleSaveUser] Error instance check:",Zt instanceof Error);try{if(Zt instanceof Error){const pr=Zt;console.error("[handleSaveUser] Error details:",{message:pr.message,name:pr.name,stack:pr.stack,status:pr.status,statusText:pr.statusText,errorData:pr.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify(Zt,null,2))}catch(pr){console.error("[handleSaveUser] Could not log error details:",pr)}const Bt=Z(Zt);console.error("[handleSaveUser] Extracted error message:",Bt),console.error("[handleSaveUser] ========== ERROR END ==========");const $r=Bt||"Failed to save user. Please check console (F12) for details.";k($r),alert(` Error Saving User

${$r}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{j(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},oe=(He,Zt)=>({id:He.roleId,roleName:He.roleName,description:He.roleDescription||"",companyName:Zt,status:He.status,createdBy:He.createdBy||"",createdOn:He.createdOn,modifiedBy:He.modifiedBy||"",modifiedOn:He.modifiedOn}),We=async He=>{let Zt=He||ee;if(Zt.length===0&&(Zt=await L(),Zt.length===0)){console.warn("No companies available to load roles"),Ie([]);return}j(!0),k(null);try{const Bt=[];for(const $r of Zt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($r.id)){console.warn(`Skipping company ${$r.companyName} - ID is not a valid UUID: ${$r.id}`);continue}try{const Yr=(await P0.getAllRoles($r.id,!1)).map(qr=>oe(qr,$r.companyName));Bt.push(...Yr)}catch(on){console.warn(`Failed to load roles for company ${$r.companyName}:`,on)}}Ie(Bt),console.log(`[loadRoles] Loaded ${Bt.length} roles`)}catch(Bt){const $r=Z(Bt);k($r||"Failed to load roles"),console.error("Error loading roles:",Bt)}finally{j(!1)}},Re=()=>{b(null),d(!0)},Ee=He=>{b(He),d(!0)},ae=async He=>{if(window.confirm("Are you sure you want to delete this role?")){j(!0),k(null);try{await P0.deleteRole(He),await We(),alert(" Role deleted successfully!")}catch(Zt){const Bt=Z(Zt);k(Bt||"Failed to delete role"),console.error("Error deleting role:",Zt),alert(` Error Deleting Role

${Bt}

Please check the browser console (F12) for more details.`)}finally{j(!1)}}},Le=async He=>{j(!0),k(null);try{const Zt=ee.find(Bt=>Bt.companyName===He.companyName);if(!Zt)throw new Error("Please select a company");if(y){const Bt={roleName:He.roleName,roleDescription:He.description||null,status:He.status};console.log("[handleSaveRole] Updating role:",y.id,Bt),await P0.updateRole(y.id,Bt),console.log("[handleSaveRole]  Role updated successfully"),alert(" Role updated successfully!")}else{const Bt={companyId:Zt.id,roleName:He.roleName||"",roleDescription:He.description||null,status:He.status||"Active"};console.log("[handleSaveRole] Creating role:",Bt),await P0.createRole(Bt),console.log("[handleSaveRole]  Role created successfully"),alert(" Role created successfully!")}d(!1),b(null),await We()}catch(Zt){const Bt=Z(Zt);k(Bt||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",Zt),alert(` Error Saving Role

${Bt}

Please check the browser console (F12) for more details.`)}finally{j(!1)}},[Ze,jt]=P.useState(!1),[Lt,Ct]=P.useState(null),Xt=async(He,Zt)=>{j(!0),k(null);try{if(Zt.passwordEnabled){const Bt=await Bee(He,Zt);Ct({userName:Bt.userName,temporaryPassword:Bt.temporaryPassword,expiry:Bt.temporaryPasswordExpiry}),jt(!0),await le()}else await $l.activateUser(He,Zt),await le()}catch(Bt){const $r=Z(Bt);k($r||"Failed to activate user"),console.error("Error activating user:",Bt)}finally{j(!1)}},_r=async(He,Zt)=>{if(window.confirm(`Are you sure you want to reset the password for ${Zt}? A new temporary password will be generated.`)){j(!0),k(null);try{const Bt=await Eee(He);Ct({userName:Bt.userName,temporaryPassword:Bt.temporaryPassword,expiry:Bt.temporaryPasswordExpiry}),jt(!0),await le()}catch(Bt){const $r=Z(Bt);k($r||"Failed to reset password"),console.error("Error resetting password:",Bt),alert(` Error Resetting Password

${$r}

Please check the browser console (F12) for more details.`)}finally{j(!1)}}},Or=async He=>{if(window.confirm("Are you sure you want to deactivate this user?")){j(!0),k(null);try{await $l.deactivateUser(He),await le()}catch(Zt){const Bt=Z(Zt);k(Bt||"Failed to deactivate user"),console.error("Error deactivating user:",Zt)}finally{j(!1)}}};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:se.map(He=>t.jsx("li",{children:t.jsxs(rn,{to:He.path,className:`nav-link ${He.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:He.icon}),t.jsx("span",{className:"nav-label",children:He.label})]})},He.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsx("div",{className:"user-management-header",children:t.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})}),_&&t.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:_}),t.jsx("button",{onClick:()=>k(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),S&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),t.jsxs("div",{className:"user-management-tabs",children:[t.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>i("users"),children:"Users"}),t.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>i("roles"),children:"Roles & Permissions"})]}),t.jsxs("div",{className:"user-management-actions",children:[t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:a==="roles"?"Search roles...":"Search users...",value:s,onChange:He=>c(He.target.value)})]}),t.jsx("button",{className:"add-btn",onClick:a==="users"?Pe:Re,children:a==="users"?"Add User":"Add Role"})]}),a==="users"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Emp Code"}),t.jsx("th",{children:"Email Address"}),t.jsx("th",{children:"Mobile Number"}),t.jsx("th",{children:"User Role"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:he.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:S?"Loading users...":"No users found"})}):he.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:He.userName||"-"}),t.jsx("td",{children:He.empCode||"-"}),t.jsx("td",{children:He.emailAddress||"-"}),t.jsx("td",{children:He.mobileNumber||"-"}),t.jsx("td",{children:He.userRoleID||"-"}),t.jsx("td",{children:He.employmentType||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ye(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsxs("button",{className:"action-btn action-btn--reset",onClick:()=>_r(He.id,He.userName),title:"Reset Password - Generate new temporary password",style:{color:"#ffffff",background:"#f59e0b",border:"1px solid #f59e0b",padding:"6px 10px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M3 21v-5h5"})]}),t.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:"Reset"})]}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ce(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",he.length," of ",$.length," Items"]})]}),a==="roles"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ne.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:S?"Loading roles...":"No roles found"})}):Ne.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.roleName}),t.jsx("td",{children:He.description}),t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ee(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{N(He),A(!0)},title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ae(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",Ne.length," of ",ge.length," Items"]})]})]})]}),l&&t.jsx(_ee,{user:m,roles:ge.filter(He=>He.status==="Active"),companies:ee.filter(He=>He.status==="Active"),onClose:()=>{u(!1),x(null)},onSave:pe,onActivate:Xt,onDeactivate:Or,loading:S}),Ze&&Lt&&t.jsx("div",{className:"modal-overlay",onClick:()=>jt(!1),children:t.jsxs("div",{className:"modal-content",onClick:He=>He.stopPropagation(),style:{maxWidth:"500px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Temporary Password Generated"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>jt(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[t.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:"600",color:"#92400e"},children:" Important: This password will only be shown once!"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"#78350f"},children:"Please copy this password and share it securely with the user. The user must change this password on their first login."})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"User Name:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px"},children:Lt.userName})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Temporary Password:"}),t.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{flex:1,padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"600",letterSpacing:"2px",color:"#1f2937"},children:Lt.temporaryPassword}),t.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(Lt.temporaryPassword),alert("Password copied to clipboard!")},style:{padding:"8px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Copy"})]})]}),Lt.expiry&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Password Expires:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontSize:"14px",color:"#6b7280"},children:new Date(Lt.expiry).toLocaleString()})]}),t.jsxs("div",{style:{background:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"8px",padding:"12px",fontSize:"14px",color:"#1e40af"},children:[t.jsx("strong",{children:"Note:"})," The user will be forced to change this password on their first login. This temporary password expires in 24 hours."]})]}),t.jsx("div",{className:"modal-footer",style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb"},children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>{jt(!1),Ct(null)},style:{width:"100%"},children:"I've Copied the Password"})})]})}),o&&t.jsx(Oee,{role:y,companies:ee.filter(He=>He.status==="Active"),onClose:()=>{d(!1),b(null)},onSave:Le}),h&&w&&t.jsx(kee,{role:w,onClose:()=>{A(!1),N(null)},onSave:He=>{console.log("Saving permissions for role:",w.roleName,He),A(!1),N(null)}}),t.jsx(Iee,{isOpen:f,onClose:()=>g(!1)})]})},_ee=({user:r,roles:e,companies:n,onClose:a,onSave:i,onActivate:s,onDeactivate:c,loading:l})=>{const u=j=>{if(!j)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(j))return j;if(e&&e.length>0){const _=e.find(k=>k.roleName===j);return _?_.id:""}return""},[o,d]=P.useState(1),[h,A]=P.useState(r||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});P.useEffect(()=>{if(r)try{const j=u(r.userRoleID);A(_=>({...r,userRoleID:j||r.userRoleID||""}))}catch(j){console.error("[UserFormModal] Error converting role:",j),A(r)}},[r==null?void 0:r.id]);const f=()=>{const j=[h.companyName,h.userName,h.mobileNumber,h.empCode,h.userRoleID,h.employmentType,h.designation,h.aadhaar,h.pan,h.address,h.area,h.city,h.district,h.pincode,h.emergencyContact],_=j.filter(k=>k&&k.toString().trim()!=="").length;return Math.round(_/j.length*100)},g=(j,_)=>{A(j==="companyName"?{...h,[j]:_,userRoleID:""}:{...h,[j]:_})},m=()=>{if(console.log("handleNext called - Current step:",o),o<6){const j=o+1;console.log("Setting step to:",j),d(j)}else console.warn("handleNext called but already at step 6")},x=()=>{o>1&&d(o-1)},y=j=>{const _=[];switch(j){case 1:(!h.companyName||h.companyName.trim()==="")&&_.push("Company"),(!h.userName||h.userName.trim()==="")&&_.push("User Name"),(!h.mobileNumber||h.mobileNumber.trim()==="")&&_.push("Mobile Number"),(!h.empCode||h.empCode.trim()==="")&&_.push("Employee Code"),(!h.userRoleID||h.userRoleID.trim()==="")&&_.push("User Role");break;case 2:(!h.employmentType||h.employmentType.trim()==="")&&_.push("Employment Type"),(!h.designation||h.designation.trim()==="")&&_.push("Designation"),h.employmentType==="Contract"&&(!h.contractorName||h.contractorName.trim()==="")&&_.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!h.companyName||h.companyName.trim()==="")&&_.push("Company (Step 1)"),(!h.userName||h.userName.trim()==="")&&_.push("User Name (Step 1)"),(!h.mobileNumber||h.mobileNumber.trim()==="")&&_.push("Mobile Number (Step 1)"),(!h.empCode||h.empCode.trim()==="")&&_.push("Employee Code (Step 1)"),(!h.userRoleID||h.userRoleID.trim()==="")&&_.push("User Role (Step 1)"),(!h.employmentType||h.employmentType.trim()==="")&&_.push("Employment Type (Step 2)"),(!h.designation||h.designation.trim()==="")&&_.push("Designation (Step 2)"),h.employmentType==="Contract"&&(!h.contractorName||h.contractorName.trim()==="")&&_.push("Contractor Name (Step 2)");break}const k=_.length===0,ee=k?"":` Validation Error - Step ${j}: ${j===1?"Create User":j===2?"Employee Profile":j===3?"Identity & Compliance":j===4?"Address & Emergency":j===5?"User Activation":"Summary"}

Please fill in the following required fields:

${_.map((V,re)=>`  ${re+1}. ${V}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:k,missingFields:_,message:ee}},b=j=>{j&&(j.preventDefault(),j.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",o),console.log("Form data:",h);const _=y(o);if(!_.isValid){alert(_.message),console.error(`Step ${o} validation failed - Missing fields:`,_.missingFields);return}o<6?(console.log(`Moving from Step ${o} to Step ${o+1}`),m()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},w=j=>{if(j&&(j.preventDefault(),j.stopPropagation()),console.log("handleFinalSave called - Current step:",o),o===6){const _=[],k=y(1);if(k.isValid||_.push({step:1,fields:k.missingFields}),_.length>0){const ee=_.map(({step:V,fields:re})=>`Step ${V}:
${re.map((R,Y)=>`  ${Y+1}. ${R}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${ee}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",_);return}const Z={...h,status:h.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",Z),console.log("[handleFinalSave] Email address in finalData:",Z.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),i(Z)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",o)},N=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&a()},S=[{number:1,title:"Create user"},{number:2,title:"Employee profile"},{number:3,title:"Identity & compliance"},{number:4,title:"Address & emergency"},{number:5,title:"User activation"},{number:6,title:"Summary & confirm"}];return t.jsx("div",{className:"modal-overlay",onClick:N,children:t.jsxs("div",{className:"modal-content wizard-modal",onClick:j=>j.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit User":"Create User"}),t.jsx("button",{className:"modal-close-btn",onClick:N,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"wizard-progress",children:S.map(j=>t.jsxs("div",{className:`wizard-step ${o>=j.number?"wizard-step--active":""} ${o===j.number?"wizard-step--current":""}`,children:[t.jsx("div",{className:"wizard-step-number",children:j.number}),t.jsx("div",{className:"wizard-step-title",children:j.title})]},j.number))}),t.jsxs("div",{className:"wizard-content",children:[o===1&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Create user"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:h.companyName||"",onChange:j=>g("companyName",j.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select company"}),n.map(j=>t.jsx("option",{value:j.companyName,children:j.companyName},j.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User name *"}),t.jsx("input",{type:"text",value:h.userName||"",onChange:j=>g("userName",j.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$"}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Mobile number *"}),t.jsx("input",{type:"tel",value:h.mobileNumber||"",onChange:j=>g("mobileNumber",j.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email address"}),t.jsx("input",{type:"email",value:h.emailAddress||"",onChange:j=>g("emailAddress",j.target.value),placeholder:"e.g., user@example.com",maxLength:255}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),t.jsxs("div",{className:"form-group field-emp-code",children:[t.jsx("label",{children:"Employee code *"}),t.jsx("input",{type:"text",value:h.empCode||"",onChange:j=>g("empCode",j.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User role *"}),t.jsxs("select",{value:h.userRoleID||"",onChange:j=>g("userRoleID",j.target.value),required:!0,disabled:!h.companyName,children:[t.jsx("option",{value:"",children:h.companyName?"Select role":"Select company first"}),h.companyName&&e.filter(j=>j.companyName===h.companyName&&j.status==="Active").map(j=>t.jsx("option",{value:j.id,children:j.roleName},j.id))]}),!h.companyName&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),h.companyName&&e.filter(j=>j.companyName===h.companyName&&j.status==="Active").length===0&&t.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),o===2&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Employee profile"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Employment type *"}),t.jsxs("select",{value:h.employmentType||"",onChange:j=>g("employmentType",j.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"Permanent",children:"Permanent"}),t.jsx("option",{value:"Contract",children:"Contract"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:h.designation||"",onChange:j=>g("designation",j.target.value),required:!0})]}),h.employmentType==="Contract"&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contractor name *"}),t.jsx("input",{type:"text",value:h.contractorName||"",onChange:j=>g("contractorName",j.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company name (if third-party)"}),t.jsx("input",{type:"text",value:h.companyNameThirdParty||"",onChange:j=>g("companyNameThirdParty",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Gross salary"}),t.jsx("input",{type:"text",value:h.grossSalary||"",onChange:j=>g("grossSalary",j.target.value)})]})]})]}),o===3&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Identity & compliance details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group field-aadhaar",children:[t.jsx("label",{children:"Aadhaar"}),t.jsx("input",{type:"text",value:h.aadhaar||"",onChange:j=>g("aadhaar",j.target.value)})]}),t.jsxs("div",{className:"form-group field-pan",children:[t.jsx("label",{children:"PAN"}),t.jsx("input",{type:"text",value:h.pan||"",onChange:j=>g("pan",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driving license"}),t.jsx("input",{type:"text",value:h.dlNum||"",onChange:j=>g("dlNum",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PF number"}),t.jsx("input",{type:"text",value:h.pfNum||"",onChange:j=>g("pfNum",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"UAN"}),t.jsx("input",{type:"text",value:h.uan||"",onChange:j=>g("uan",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"ESI number"}),t.jsx("input",{type:"text",value:h.esiNum||"",onChange:j=>g("esiNum",j.target.value)})]})]})]}),o===4&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Address & emergency"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("textarea",{value:h.address||"",onChange:j=>g("address",j.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area"}),t.jsx("input",{type:"text",value:h.area||"",onChange:j=>g("area",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"City"}),t.jsx("input",{type:"text",value:h.city||"",onChange:j=>g("city",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District"}),t.jsx("input",{type:"text",value:h.district||"",onChange:j=>g("district",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:h.pincode||"",onChange:j=>g("pincode",j.target.value)})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Emergency contact number"}),t.jsx("input",{type:"tel",value:h.emergencyContact||"",onChange:j=>g("emergencyContact",j.target.value)})]})]})]}),o===5&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User activation & access enablement"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Web login *"}),t.jsxs("select",{value:h.webLogin?"Yes":"No",onChange:j=>g("webLogin",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Mobile app access *"}),t.jsxs("select",{value:h.mobileApp?"Yes":"No",onChange:j=>g("mobileApp",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:h.status||"Draft",onChange:j=>g("status",j.target.value),required:!0,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password enabled *"}),t.jsxs("select",{value:h.passwordEnabled?"Yes":"No",onChange:j=>g("passwordEnabled",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"OTP enabled *"}),t.jsxs("select",{value:h.otpEnabled?"Yes":"No",onChange:j=>g("otpEnabled",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"Force OTP on next login *"}),t.jsxs("select",{value:h.forceOtpOnNextLogin?"Yes":"No",onChange:j=>g("forceOtpOnNextLogin",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]})]})]}),o===6&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User summary & confirmation"}),t.jsx("div",{className:"activation-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"User summary"}),t.jsxs("div",{className:"summary-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Company:"}),t.jsx("span",{className:"info-value",children:h.companyName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"User name:"}),t.jsx("span",{className:"info-value",children:h.userName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Employee code:"}),t.jsx("span",{className:"info-value",children:h.empCode||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Role:"}),t.jsx("span",{className:"info-value",children:h.userRoleID||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Profile completeness:"}),t.jsxs("span",{className:"info-value",children:[f(),"%"]})]})]}),t.jsxs("div",{className:"activation-actions",children:[t.jsx("button",{type:"button",className:"btn btn--activate",onClick:async()=>{r!=null&&r.id&&s&&(await s(r.id,{passwordEnabled:h.passwordEnabled||!1,otpEnabled:h.otpEnabled||!1,webLogin:h.webLogin||!1,mobileAppAccess:h.mobileApp||!1,forceOtpOnNextLogin:h.forceOtpOnNextLogin||!1}),a())},disabled:!(r!=null&&r.id)||l,children:" Activate User"}),t.jsx("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{r!=null&&r.id&&c&&(await c(r.id),a())},disabled:!(r!=null&&r.id)||l,children:" Deactivate User"})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[o>1&&t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:N,children:"Cancel"}),o<6?t.jsx("button",{type:"button",className:"btn btn--primary",onClick:j=>{j.preventDefault(),j.stopPropagation(),console.log("Save & Continue button clicked!"),b(j)},disabled:l,children:"Save & Continue"}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:j=>{j.preventDefault(),j.stopPropagation(),console.log("Save & Complete button clicked!"),w(j)},disabled:l,children:"Save & Complete"})]})]})})},Oee=({role:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{roleName:"",description:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--role",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Role":"Add Role"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-single-column",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]}),r&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Role name *"}),t.jsx("input",{type:"text",value:i.roleName||"",onChange:l=>s({...i,roleName:l.target.value}),required:!0,maxLength:100})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:i.description||"",onChange:l=>s({...i,description:l.target.value}),rows:3,maxLength:500})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},kee=({role:r,onClose:e,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[i,s]=P.useState(()=>{const d={};return a.forEach(h=>{h.permissions.forEach(A=>{d[A.code]=!1})}),d}),c=r.status==="Inactive",l=(d,h)=>{c||s({...i,[d]:h})},u=d=>{if(c)return;const h={...i},A=d.every(f=>i[f.code]);d.forEach(f=>{h[f.code]=!A}),s(h)},o=d=>{d.preventDefault(),n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--permissions",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",r.roleName]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"permissions-form",onSubmit:o,children:[t.jsx("div",{className:"permissions-content",children:a.map(d=>{const h=d.permissions,A=h.every(f=>i[f.code]);return h.some(f=>i[f.code]),t.jsxs("div",{className:"permissions-module",children:[t.jsxs("div",{className:"permissions-module-header",children:[t.jsx("h3",{className:"permissions-module-title",children:d.module}),t.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>u(h),disabled:c,children:A?"Deselect All":"Select All"})]}),t.jsx("div",{className:"permissions-list",children:h.map(f=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:i[f.code]||!1,onChange:g=>l(f.code,g.target.checked),disabled:c}),t.jsx("span",{className:"permission-label",children:f.name})]},f.id))})]},d.module)})}),t.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},Pee=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),[c,l]=P.useState(null),[u,o]=P.useState({}),d={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[h]=P.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[A,f]=P.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[g,m]=P.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:e.pathname==="/master/user-management"||e.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],y=A.filter(V=>V.roleName.toLowerCase().includes(n.toLowerCase())||V.description.toLowerCase().includes(n.toLowerCase())||V.companyName.toLowerCase().includes(n.toLowerCase())),b=()=>{m({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),l(null),s(!0);const V={};Object.values(d).forEach(re=>{re.forEach(R=>{V[R.code]=!1})}),m(re=>({...re,permissions:V}))},w=V=>{m({roleName:V.roleName,description:V.description,companyName:V.companyName,landingPage:V.landingPage,status:V.status,accessLevel:V.accessLevel,permissions:V.permissions||{}}),l(V),s(!0)},N=V=>{window.confirm("Are you sure you want to delete this role?")&&f(A.filter(re=>re.id!==V))},S=()=>{if(!g.roleName||!g.companyName||!g.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)f(A.map(V=>V.id===c.id?{...V,roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:V));else{const V={id:Date.now().toString(),roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};f([...A,V])}s(!1),l(null)},j=(V,re)=>{m(R=>({...R,permissions:{...R.permissions,[V]:re}}))},_=(V,re)=>{const R=d[V]||[],Y={...g.permissions};R.forEach(L=>{Y[L.code]=re}),m(L=>({...L,permissions:Y}))},k=V=>{o(re=>({...re,[V]:!re[V]}))},Z=V=>{const re=d[V]||[];return re.length===0?!1:re.every(R=>g.permissions[R.code])},ee=V=>{const re=d[V]||[],R=re.filter(Y=>g.permissions[Y.code]).length;return R>0&&R<re.length};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsx("div",{className:"sidebar-header",children:t.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),t.jsx("nav",{className:"sidebar-nav",children:x.map(V=>t.jsxs(rn,{to:V.path,className:`nav-item ${V.active?"nav-item--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:V.icon}),t.jsx("span",{className:"nav-label",children:V.label})]},V.path))}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"logout-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management / Roles & Permissions"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsxs("div",{className:"user-management-header",children:[t.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),t.jsxs("button",{className:"btn btn-primary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),t.jsx("div",{className:"user-management-search-section",children:t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:V=>a(V.target.value)})]})}),t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:y.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(V=>t.jsxs("tr",{children:[t.jsx("td",{children:V.roleName}),t.jsx("td",{children:V.description}),t.jsx("td",{children:V.companyName}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>w(V),title:"Edit Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>w(V),title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>N(V.id),title:"Delete Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},V.id))})]})})]})]}),i&&t.jsx("div",{className:"modal-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"modal-content modal-content--role-form",onClick:V=>V.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),t.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Access Level"}),t.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(V=>t.jsxs("label",{className:"access-level-option",children:[t.jsx("input",{type:"radio",name:"accessLevel",value:V,checked:g.accessLevel===V,onChange:re=>m({...g,accessLevel:re.target.value})}),t.jsx("span",{children:V})]},V))})]}),t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Role Name *"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:g.roleName,onChange:V=>m({...g,roleName:V.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:g.description,onChange:V=>m({...g,description:V.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Company Name *"}),t.jsxs("select",{className:"form-input",value:g.companyName,onChange:V=>m({...g,companyName:V.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),h.filter(V=>V.status==="Active").map(V=>t.jsx("option",{value:V.companyName,children:V.companyName},V.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Status *"}),t.jsxs("select",{className:"form-input",value:g.status,onChange:V=>m({...g,status:V.target.value}),children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Permissions"}),t.jsx("div",{className:"permissions-list-container",children:Object.entries(d).map(([V,re])=>t.jsxs("div",{className:"permission-module-item",children:[t.jsxs("div",{className:"permission-module-header-row",children:[t.jsxs("div",{className:"permission-module-header-left",children:[t.jsx("input",{type:"checkbox",checked:Z(V),ref:R=>{R&&(R.indeterminate=ee(V))},onChange:R=>_(V,R.target.checked),className:"permission-module-checkbox"}),t.jsx("span",{className:"permission-module-title",children:V})]}),t.jsx("button",{className:"permission-module-toggle",onClick:()=>k(V),children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:u[V]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),u[V]&&t.jsx("div",{className:"permission-module-permissions",children:re.map(R=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:g.permissions[R.code]||!1,onChange:Y=>j(R.code,Y.target.checked)}),t.jsx("span",{children:R.name})]},R.id))})]},V))})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>s(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:S,children:"Save"})]})]})})]})},Fee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},s0=async(r,e={})=>{const n=Fee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${of}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Os={createHcf:async r=>(await s0("/hcfs",{method:"POST",body:JSON.stringify(r)})).data,getHcfById:async r=>(await s0(`/hcfs/${r}`,{method:"GET"})).data,getAllHcfs:async(r,e=!1)=>{let n="/hcfs";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await s0(n,{method:"GET"})).data},updateHcf:async(r,e)=>(await s0(`/hcfs/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcf:async r=>{await s0(`/hcfs/${r}`,{method:"DELETE"})}},Dee="http://localhost:3000/api/v1",Mee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},o0=async(r,e={})=>{const n=Mee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Dee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},F0={createHcfType:async r=>(await o0("/hcf-types",{method:"POST",body:JSON.stringify(r)})).data,getHcfTypeById:async r=>(await o0(`/hcf-types/${r}`,{method:"GET"})).data,getAllHcfTypes:async(r,e=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await o0(n,{method:"GET"})).data},updateHcfType:async(r,e)=>(await o0(`/hcf-types/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfType:async r=>{await o0(`/hcf-types/${r}`,{method:"DELETE"})}},Ree=()=>{const{logout:r,user:e,permissions:n}=xa(),a=Pn(),i=Ap(n),s=VJ(n),c=zJ(n);P.useEffect(()=>{e&&(console.log("HCF Master - User:",{id:e.id,email:e.email,name:e.name,roles:e.roles}),console.log("HCF Master - Permissions:",{canCreate:i,canEdit:s,canDelete:c}))},[e,i,s]);const[l,u]=P.useState(""),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(!1),[w,N]=P.useState(!1),S=()=>{N(!w)},[j,_]=P.useState([]),[k,Z]=P.useState([]),[ee,V]=P.useState([]),[re,R]=P.useState([]),[Y,L]=P.useState([]),[$,je]=P.useState([]),[ge,Ie]=P.useState([]),[_e,fe]=P.useState([]),le=P.useCallback(async()=>{try{const ae=await Qa.getAllCompanies(void 0,!0);_(ae.map(Le=>({id:Le.id,companyCode:Le.companyCode,companyName:Le.companyName,status:Le.status})))}catch(ae){console.error("Failed to load companies:",ae)}},[]),ve=P.useCallback(async()=>{try{const ae=await _0.getAllAreas(!0);Z(ae.map(Le=>({id:Le.id,areaName:Le.areaName,status:Le.status})))}catch(ae){console.error("Failed to load areas:",ae)}},[]),se=P.useCallback(async()=>{try{const ae=await T0.getAllStates(!0);V(ae.map(Le=>({id:Le.id,stateCode:Le.stateCode,stateName:Le.stateName,status:Le.status})))}catch(ae){console.error("Failed to load states:",ae)}},[]),he=P.useCallback(async()=>{try{const ae=await k0.getAllPcbZones(!0);R(ae.map(Le=>({id:Le.id,pcbZoneName:Le.pcbZoneName,status:Le.status})))}catch(ae){console.error("Failed to load PCB zones:",ae)}},[]),Ne=P.useCallback(async()=>{try{const ae=await O0.getAllCategories(void 0,!0);L(ae.map(Le=>({id:Le.id,categoryName:Le.categoryName,status:Le.status})))}catch(ae){console.error("Failed to load categories:",ae)}},[]),Pe=P.useCallback(async()=>{try{const ae=await JA.getAllRoutes(!0);je(ae.map(Le=>({id:Le.id,routeName:Le.routeName,status:Le.status})))}catch(ae){console.error("Failed to load routes:",ae)}},[]),ye=P.useCallback(async()=>{try{const ae=await F0.getAllHcfTypes(void 0,!0);Ie(ae)}catch(ae){console.error("Failed to load HCF types:",ae)}},[]),ce=P.useCallback(async()=>{try{g(!0),x(null);const Le=(await Os.getAllHcfs()).map(Ze=>{const jt=j.find(He=>He.id===Ze.companyId),Lt=k.find(He=>He.id===Ze.areaId),Ct=ee.find(He=>He.stateCode===Ze.stateCode),Xt=re.find(He=>He.id===Ze.pcbZone),_r=Y.find(He=>He.id===Ze.category),Or=$.find(He=>He.id===Ze.route);return{id:Ze.id,companyName:(jt==null?void 0:jt.companyName)||"",companyID:Ze.companyId,hcfCode:Ze.hcfCode,password:Ze.password||"",hcfTypeCode:Ze.hcfTypeCode||"",hcfName:Ze.hcfName,hcfShortName:Ze.hcfShortName||"",areaID:Ze.areaId||"",pincode:Ze.pincode||"",district:Ze.district||"",stateCode:Ze.stateCode||"",groupCode:Ze.groupCode||"",pcbZone:Ze.pcbZone||"",billingName:Ze.billingName||"",billingAddress:Ze.billingAddress||"",serviceAddress:Ze.serviceAddress||"",gstin:Ze.gstin||"",regnNum:Ze.regnNum||"",hospRegnDate:Ze.hospRegnDate||"",billingType:Ze.billingType||"",advAmount:Ze.advAmount||"",billingOption:Ze.billingOption||"",bedCount:Ze.bedCount||"",bedRate:Ze.bedRate||"",kgRate:Ze.kgRate||"",lumpsum:Ze.lumpsum||"",accountsLandline:Ze.accountsLandline||"",accountsMobile:Ze.accountsMobile||"",accountsEmail:Ze.accountsEmail||"",contactName:Ze.contactName||"",contactDesignation:Ze.contactDesignation||"",contactMobile:Ze.contactMobile||"",contactEmail:Ze.contactEmail||"",agrSignAuthName:Ze.agrSignAuthName||"",agrSignAuthDesignation:Ze.agrSignAuthDesignation||"",drName:Ze.drName||"",drPhNo:Ze.drPhNo||"",drEmail:Ze.drEmail||"",serviceStartDate:Ze.serviceStartDate||"",serviceEndDate:Ze.serviceEndDate||"",category:Ze.category||"",route:Ze.route||"",executive_Assigned:Ze.executive_Assigned||"",submitBy:Ze.submitBy||"",agrID:Ze.agrID||"",sortOrder:Ze.sortOrder||"",isGovt:Ze.isGovt||!1,isGSTExempt:Ze.isGSTExempt||!1,autoGen:Ze.autoGen||!1,status:Ze.status,createdBy:Ze.createdBy||"",createdOn:Ze.createdOn,modifiedBy:Ze.modifiedBy||"",modifiedOn:Ze.modifiedOn}});fe(Le)}catch(ae){console.error("Failed to load HCFs:",ae),x(ae.message||"Failed to load HCFs"),fe([])}finally{g(!1)}},[j,k,ee,re,Y,$]);P.useEffect(()=>{(async()=>{await Promise.all([le(),ve(),se(),he(),Ne(),Pe(),ye()])})()},[le,ve,se,he,Ne,Pe,ye]),P.useEffect(()=>{j.length>0&&ce()},[j.length,ce]);const q=_e.filter(ae=>ae.hcfName.toLowerCase().includes(l.toLowerCase())||ae.hcfCode.toLowerCase().includes(l.toLowerCase())||ae.companyName.toLowerCase().includes(l.toLowerCase())||ae.hcfShortName.toLowerCase().includes(l.toLowerCase()));P.useEffect(()=>{const ae=setTimeout(()=>{const Le=document.querySelector(".add-hcf-btn"),Ze=document.querySelectorAll(".action-btn"),jt=Le?window.getComputedStyle(Le):null,Lt=Ze[0],Ct=Lt?window.getComputedStyle(Lt):null;console.log("HCF Master - Button Check:",{addButtonExists:!!Le,addButtonVisible:Le?(jt==null?void 0:jt.display)!=="none"&&(jt==null?void 0:jt.visibility)!=="hidden":!1,addButtonStyles:Le?{display:jt==null?void 0:jt.display,visibility:jt==null?void 0:jt.visibility,opacity:jt==null?void 0:jt.opacity,width:jt==null?void 0:jt.width,height:jt==null?void 0:jt.height}:null,actionButtonsCount:Ze.length,firstActionButtonStyles:Lt?{display:Ct==null?void 0:Ct.display,visibility:Ct==null?void 0:Ct.visibility,opacity:Ct==null?void 0:Ct.opacity}:null,canCreate:i,canEdit:s,hcfsCount:_e.length,filteredHCFsCount:q.length})},500);return()=>clearTimeout(ae)},[i,s,_e.length,q.length]);const pe=()=>{A(null),d(!0)},oe=ae=>{A(ae),d(!0)},We=async ae=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{g(!0),await Os.deleteHcf(ae),await ce()}catch(Le){console.error("Failed to delete HCF:",Le),x(Le.message||"Failed to delete HCF"),alert(Le.message||"Failed to delete HCF")}finally{g(!1)}},Re=async ae=>{try{if(b(!0),x(null),h){const Le={hcfName:ae.hcfName,hcfShortName:ae.hcfShortName,areaId:ae.areaID,pincode:ae.pincode,district:ae.district,stateCode:ae.stateCode,groupCode:ae.groupCode,pcbZone:ae.pcbZone,billingName:ae.billingName,billingAddress:ae.billingAddress,serviceAddress:ae.serviceAddress,gstin:ae.gstin,regnNum:ae.regnNum,hospRegnDate:ae.hospRegnDate,billingType:ae.billingType,advAmount:ae.advAmount,billingOption:ae.billingOption,bedCount:ae.bedCount,bedRate:ae.bedRate,kgRate:ae.kgRate,lumpsum:ae.lumpsum,accountsLandline:ae.accountsLandline,accountsMobile:ae.accountsMobile,accountsEmail:ae.accountsEmail,contactName:ae.contactName,contactDesignation:ae.contactDesignation,contactMobile:ae.contactMobile,contactEmail:ae.contactEmail,agrSignAuthName:ae.agrSignAuthName,agrSignAuthDesignation:ae.agrSignAuthDesignation,drName:ae.drName,drPhNo:ae.drPhNo,drEmail:ae.drEmail,serviceStartDate:ae.serviceStartDate,serviceEndDate:ae.serviceEndDate,category:ae.category,route:ae.route,executive_Assigned:ae.executive_Assigned,submitBy:ae.submitBy,agrID:ae.agrID,sortOrder:ae.sortOrder,isGovt:ae.isGovt,isGSTExempt:ae.isGSTExempt,autoGen:ae.autoGen,status:ae.status};await Os.updateHcf(h.id,Le)}else{if(!ae.companyID)throw new Error("Company is required");if(!ae.hcfCode)throw new Error("HCF Code is required");if(!ae.hcfName)throw new Error("HCF Name is required");await Os.createHcf({companyId:ae.companyID,hcfCode:ae.hcfCode,password:ae.password,hcfTypeCode:ae.hcfTypeCode,hcfName:ae.hcfName,hcfShortName:ae.hcfShortName,areaId:ae.areaID,pincode:ae.pincode,district:ae.district,stateCode:ae.stateCode,groupCode:ae.groupCode,pcbZone:ae.pcbZone,billingName:ae.billingName,billingAddress:ae.billingAddress,serviceAddress:ae.serviceAddress,gstin:ae.gstin,regnNum:ae.regnNum,hospRegnDate:ae.hospRegnDate,billingType:ae.billingType,advAmount:ae.advAmount,billingOption:ae.billingOption,bedCount:ae.bedCount,bedRate:ae.bedRate,kgRate:ae.kgRate,lumpsum:ae.lumpsum,accountsLandline:ae.accountsLandline,accountsMobile:ae.accountsMobile,accountsEmail:ae.accountsEmail,contactName:ae.contactName,contactDesignation:ae.contactDesignation,contactMobile:ae.contactMobile,contactEmail:ae.contactEmail,agrSignAuthName:ae.agrSignAuthName,agrSignAuthDesignation:ae.agrSignAuthDesignation,drName:ae.drName,drPhNo:ae.drPhNo,drEmail:ae.drEmail,serviceStartDate:ae.serviceStartDate,serviceEndDate:ae.serviceEndDate,category:ae.category,route:ae.route,executive_Assigned:ae.executive_Assigned,submitBy:ae.submitBy,agrID:ae.agrID,sortOrder:ae.sortOrder,isGovt:ae.isGovt,isGSTExempt:ae.isGSTExempt,autoGen:ae.autoGen})}await ce(),d(!1),A(null)}catch(Le){console.error("Failed to save HCF:",Le),x(Le.message||"Failed to save HCF"),alert(Le.message||"Failed to save HCF")}finally{b(!1)}},Ee=[{path:"/dashboard",label:"Dashboard",icon:"",active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:a.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:a.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:a.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:a.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:a.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:a.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${w?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!w&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":w?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:w?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ee.map(ae=>t.jsx("li",{children:t.jsxs(rn,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ae.icon}),!w&&t.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!w&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!w&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Master"})})}),t.jsxs("div",{className:"hcf-master-page",children:[m&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:m}),f&&_e.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),t.jsx("div",{className:"hcf-master-header",children:t.jsx("h1",{className:"hcf-master-title",children:"HCF Master"})}),t.jsxs("div",{className:"hcf-master-actions",style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center",gap:"16px",marginBottom:"20px",flexWrap:"nowrap"},children:[t.jsxs("div",{className:"hcf-search-box",style:{flex:"0 1 auto",maxWidth:"400px",minWidth:"200px"},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-search-input",placeholder:"Search HCF...",value:l,onChange:ae=>u(ae.target.value)})]}),t.jsxs("button",{className:"add-hcf-btn",onClick:pe,disabled:!i,style:{display:"flex !important",visibility:"visible !important",opacity:i?1:.6,cursor:i?"pointer":"not-allowed",position:"relative",zIndex:10,minWidth:"120px",minHeight:"40px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"13px",fontWeight:600,flexShrink:0,alignItems:"center",gap:"8px",whiteSpace:"nowrap"},title:i?"Add new HCF":"No permission to create HCF",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]}),t.jsx("div",{className:"hcf-table-container",children:t.jsxs("table",{className:"hcf-table",style:{width:"100%",tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"12%"},children:"Company Name"}),t.jsx("th",{style:{width:"8%"},children:"HCF Code"}),t.jsx("th",{style:{width:"12%"},children:"HCF Name"}),t.jsx("th",{style:{width:"10%"},children:"HCF Short Name"}),t.jsx("th",{style:{width:"7%"},children:"State Code"}),t.jsx("th",{style:{width:"10%"},children:"District"}),t.jsx("th",{style:{width:"8%"},children:"Pincode"}),t.jsx("th",{style:{width:"8%"},children:"Status"}),t.jsx("th",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"10px 8px",textAlign:"left",backgroundColor:"#f1f5f9"},children:"Actions"})]})}),t.jsx("tbody",{children:f&&_e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading HCFs..."})}):q.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):q.map(ae=>t.jsxs("tr",{children:[t.jsx("td",{children:ae.companyName||"-"}),t.jsx("td",{children:ae.hcfCode||"-"}),t.jsx("td",{children:ae.hcfName||"-"}),t.jsx("td",{children:ae.hcfShortName||"-"}),t.jsx("td",{children:ae.stateCode||"-"}),t.jsx("td",{children:ae.district||"-"}),t.jsx("td",{children:ae.pincode||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${ae.status.toLowerCase()}`,children:ae.status})}),t.jsx("td",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"8px",whiteSpace:"nowrap",backgroundColor:"#ffffff"},children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-start",width:"100%",visibility:"visible",flexWrap:"nowrap"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>s&&oe(ae),title:s?"Edit":"No permission to edit",disabled:!s,style:{display:"flex",visibility:"visible",opacity:s?1:.5,cursor:s?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:s?"#3b82f6":"#e5e7eb",color:s?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>c&&We(ae.id),title:c?"Delete":"No permission to delete",disabled:!c,style:{display:"flex",visibility:"visible",opacity:c?1:.5,cursor:c?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:c?"#ef4444":"#e5e7eb",color:c?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},ae.id))})]})}),t.jsxs("div",{className:"hcf-pagination-info",children:["Showing ",q.length," of ",_e.length," Items"]})]})]}),o&&t.jsx(Lee,{hcf:h,companies:j.filter(ae=>ae.status==="Active"),areas:k.filter(ae=>ae.status==="Active"),states:ee.filter(ae=>ae.status==="Active"),pcbZones:re.filter(ae=>ae.status==="Active"),categories:Y.filter(ae=>ae.status==="Active"),routes:$.filter(ae=>ae.status==="Active"),hcfTypes:ge.filter(ae=>ae.status==="Active"),saving:y,onClose:()=>{d(!1),A(null)},onSave:Re})]})},Lee=({hcf:r,companies:e,areas:n,states:a,pcbZones:i,categories:s,routes:c,hcfTypes:l,saving:u,onClose:o,onSave:d})=>{const h=P.useCallback(()=>r?{...r}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[r]),[A,f]=P.useState(h);P.useEffect(()=>{f(h())},[r,h]);const g=m=>{m.preventDefault(),d(A)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF":"Add HCF"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-form",onSubmit:g,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:A.companyName||"",onChange:m=>{const x=e.find(y=>y.companyName===m.target.value);f({...A,companyName:m.target.value,companyID:(x==null?void 0:x.id)||""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.companyName,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company ID"}),t.jsx("input",{type:"text",value:A.companyID||"",readOnly:!0,style:{backgroundColor:"#f1f5f9"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsx("input",{type:"text",value:A.hcfCode||"",onChange:m=>f({...A,hcfCode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password *"}),t.jsx("input",{type:"password",value:A.password||"",onChange:m=>f({...A,password:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code"}),t.jsxs("select",{value:A.hcfTypeCode||"",onChange:m=>f({...A,hcfTypeCode:m.target.value}),children:[t.jsx("option",{value:"",children:"Select HCF Type"}),l.map(m=>t.jsxs("option",{value:m.hcfTypeCode,children:[m.hcfTypeCode," - ",m.hcfTypeName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Name *"}),t.jsx("input",{type:"text",value:A.hcfName||"",onChange:m=>f({...A,hcfName:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Short Name"}),t.jsx("input",{type:"text",value:A.hcfShortName||"",onChange:m=>f({...A,hcfShortName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Group Code"}),t.jsx("input",{type:"text",value:A.groupCode||"",onChange:m=>f({...A,groupCode:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Location Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area ID *"}),t.jsxs("select",{value:A.areaID||"",onChange:m=>f({...A,areaID:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Area"}),n.map(m=>t.jsx("option",{value:m.id,children:m.areaName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsxs("select",{value:A.stateCode||"",onChange:m=>f({...A,stateCode:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),a.map(m=>t.jsxs("option",{value:m.stateCode,children:[m.stateCode," - ",m.stateName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District *"}),t.jsx("input",{type:"text",value:A.district||"",onChange:m=>f({...A,district:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode *"}),t.jsx("input",{type:"text",value:A.pincode||"",onChange:m=>f({...A,pincode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone"}),t.jsxs("select",{value:A.pcbZone||"",onChange:m=>f({...A,pcbZone:m.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),i.map(m=>t.jsx("option",{value:m.id,children:m.pcbZoneName},m.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Billing Address"}),t.jsx("textarea",{value:A.billingAddress||"",onChange:m=>f({...A,billingAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Service Address"}),t.jsx("textarea",{value:A.serviceAddress||"",onChange:m=>f({...A,serviceAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Name"}),t.jsx("input",{type:"text",value:A.billingName||"",onChange:m=>f({...A,billingName:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Registration & GST Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN"}),t.jsx("input",{type:"text",value:A.gstin||"",onChange:m=>f({...A,gstin:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Registration Number"}),t.jsx("input",{type:"text",value:A.regnNum||"",onChange:m=>f({...A,regnNum:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hospital Registration Date"}),t.jsx("input",{type:"date",value:A.hospRegnDate||"",onChange:m=>f({...A,hospRegnDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is GST Exempt"}),t.jsxs("select",{value:A.isGSTExempt?"true":"false",onChange:m=>f({...A,isGSTExempt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is Government"}),t.jsxs("select",{value:A.isGovt?"true":"false",onChange:m=>f({...A,isGovt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type"}),t.jsxs("select",{value:A.billingType||"",onChange:m=>f({...A,billingType:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option"}),t.jsxs("select",{value:A.billingOption||"",onChange:m=>f({...A,billingOption:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Option"}),t.jsx("option",{value:"Per Bed",children:"Per Bed"}),t.jsx("option",{value:"Per Kg",children:"Per Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Advance Amount"}),t.jsx("input",{type:"text",value:A.advAmount||"",onChange:m=>f({...A,advAmount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:A.bedCount||"",onChange:m=>f({...A,bedCount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:A.bedRate||"",onChange:m=>f({...A,bedRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:A.kgRate||"",onChange:m=>f({...A,kgRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum"}),t.jsx("input",{type:"text",value:A.lumpsum||"",onChange:m=>f({...A,lumpsum:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Accounts Contact"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Landline"}),t.jsx("input",{type:"tel",value:A.accountsLandline||"",onChange:m=>f({...A,accountsLandline:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Mobile"}),t.jsx("input",{type:"tel",value:A.accountsMobile||"",onChange:m=>f({...A,accountsMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Email"}),t.jsx("input",{type:"email",value:A.accountsEmail||"",onChange:m=>f({...A,accountsEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contact Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Name"}),t.jsx("input",{type:"text",value:A.contactName||"",onChange:m=>f({...A,contactName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Designation"}),t.jsx("input",{type:"text",value:A.contactDesignation||"",onChange:m=>f({...A,contactDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Mobile"}),t.jsx("input",{type:"tel",value:A.contactMobile||"",onChange:m=>f({...A,contactMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email"}),t.jsx("input",{type:"email",value:A.contactEmail||"",onChange:m=>f({...A,contactEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Signatory"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Name"}),t.jsx("input",{type:"text",value:A.agrSignAuthName||"",onChange:m=>f({...A,agrSignAuthName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Designation"}),t.jsx("input",{type:"text",value:A.agrSignAuthDesignation||"",onChange:m=>f({...A,agrSignAuthDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID"}),t.jsx("input",{type:"text",value:A.agrID||"",onChange:m=>f({...A,agrID:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Doctor Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Name"}),t.jsx("input",{type:"text",value:A.drName||"",onChange:m=>f({...A,drName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Phone Number"}),t.jsx("input",{type:"tel",value:A.drPhNo||"",onChange:m=>f({...A,drPhNo:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Email"}),t.jsx("input",{type:"email",value:A.drEmail||"",onChange:m=>f({...A,drEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Service Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Start Date"}),t.jsx("input",{type:"date",value:A.serviceStartDate||"",onChange:m=>f({...A,serviceStartDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service End Date"}),t.jsx("input",{type:"date",value:A.serviceEndDate||"",onChange:m=>f({...A,serviceEndDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsxs("select",{value:A.category||"",onChange:m=>f({...A,category:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),s.map(m=>t.jsx("option",{value:m.id,children:m.categoryName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route"}),t.jsxs("select",{value:A.route||"",onChange:m=>f({...A,route:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Route"}),c.map(m=>t.jsx("option",{value:m.id,children:m.routeName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Executive Assigned"}),t.jsx("input",{type:"text",value:A.executive_Assigned||"",onChange:m=>f({...A,executive_Assigned:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Submit By"}),t.jsx("input",{type:"text",value:A.submitBy||"",onChange:m=>f({...A,submitBy:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Sort Order"}),t.jsx("input",{type:"text",value:A.sortOrder||"",onChange:m=>f({...A,sortOrder:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Auto Generate"}),t.jsxs("select",{value:A.autoGen?"true":"false",onChange:m=>f({...A,autoGen:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:A.status||"Active",onChange:m=>f({...A,status:m.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:u,children:u?"Saving...":r?"Update":"Save"})]})]})]})})},Uee="http://localhost:3000/api/v1",Hee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},l0=async(r,e={})=>{const n=Hee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Uee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},h1={createHcfAmendment:async r=>(await l0("/hcf-amendments",{method:"POST",body:JSON.stringify(r)})).data,getHcfAmendmentById:async r=>(await l0(`/hcf-amendments/${r}`,{method:"GET"})).data,getAllHcfAmendments:async(r,e=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return r&&a.append("hcfId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await l0(n,{method:"GET"})).data},updateHcfAmendment:async(r,e)=>(await l0(`/hcf-amendments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfAmendment:async r=>{await l0(`/hcf-amendments/${r}`,{method:"DELETE"})}},Qee=()=>{const{logout:r,permissions:e}=xa(),n=Pn(),a=Ap(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState(!0),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(!1),b=()=>{y(!x)},[w,N]=P.useState([]),[S,j]=P.useState([]),[_,k]=P.useState([]);P.useCallback(async()=>{try{const $=await Qa.getAllCompanies(void 0,!0);N($)}catch($){console.error("Failed to load companies:",$),f("Failed to load companies")}},[]),P.useCallback(async()=>{try{const $=await Os.getAllHcfs(void 0,!0);j($)}catch($){console.error("Failed to load HCFs:",$),f("Failed to load HCFs")}},[]);const Z=P.useCallback(async()=>{try{h(!0),f(null),console.log("Loading amendments...");const $=await h1.getAllHcfAmendments();console.log("Amendments loaded:",$),k($.map(je=>({id:je.id,hcfId:je.hcfId,amendmentType:je.amendmentType,amendmentDate:je.amendmentDate,description:je.description,status:je.status,approvedBy:je.approvedBy,approvedDate:je.approvedDate,createdBy:je.createdBy,createdOn:je.createdOn,modifiedBy:je.modifiedBy,modifiedOn:je.modifiedOn}))),h(!1)}catch($){console.error("Failed to load amendments:",$),f($.message||"Failed to load amendments"),k([]),h(!1)}},[]);P.useEffect(()=>{_.length>0&&w.length>0&&S.length>0&&k($=>{if(!$.some(_e=>!_e.hcfCode||!_e.companyName))return $;const ge=$.map(_e=>{if(_e.hcfCode&&_e.companyName)return _e;const fe=S.find(ve=>ve.id===_e.hcfId),le=fe?w.find(ve=>ve.id===fe.companyId):null;return{..._e,hcfCode:(fe==null?void 0:fe.hcfCode)||"",companyName:(le==null?void 0:le.companyName)||""}});return ge.some((_e,fe)=>{var le,ve;return _e.hcfCode!==((le=$[fe])==null?void 0:le.hcfCode)||_e.companyName!==((ve=$[fe])==null?void 0:ve.companyName)})?ge:$})},[w,S]),P.useEffect(()=>{let $=!0;return(async()=>{try{h(!0);const[ge,Ie]=await Promise.all([Qa.getAllCompanies(void 0,!0).catch(_e=>(console.error("Failed to load companies:",_e),[])),Os.getAllHcfs(void 0,!0).catch(_e=>(console.error("Failed to load HCFs:",_e),[]))]);if(!$)return;N(ge),j(Ie),await Z()}catch(ge){console.error("Failed to initialize:",ge),$&&(f("Failed to load data"),h(!1))}})(),()=>{$=!1}},[Z]);const ee=_.filter($=>($.companyName||"").toLowerCase().includes(i.toLowerCase())||($.hcfCode||"").toLowerCase().includes(i.toLowerCase())||$.amendmentType.toLowerCase().includes(i.toLowerCase())||($.description||"").toLowerCase().includes(i.toLowerCase())),V=()=>{o(null),l(!0)},re=$=>{o($),l(!0)},R=async $=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{h(!0),await h1.deleteHcfAmendment($),await Z()}catch(je){console.error("Failed to delete amendment:",je),alert(je.message||"Failed to delete amendment")}finally{h(!1)}},Y=async $=>{try{if(m(!0),f(null),u){const je={};$.amendmentType!==void 0&&(je.amendmentType=$.amendmentType),$.amendmentDate!==void 0&&(je.amendmentDate=$.amendmentDate),$.description!==void 0&&(je.description=$.description),$.status!==void 0&&(je.amendmentStatus=$.status),$.approvedBy!==void 0&&(je.approvedBy=$.approvedBy),$.approvedDate!==void 0&&(je.approvedDate=$.approvedDate),await h1.updateHcfAmendment(u.id,je)}else{if(!$.hcfId)throw new Error("HCF is required");if(!$.amendmentType)throw new Error("Amendment type is required");if(!$.amendmentDate)throw new Error("Amendment date is required");await h1.createHcfAmendment({hcfId:$.hcfId,amendmentType:$.amendmentType,amendmentDate:$.amendmentDate,description:$.description,status:$.status,approvedBy:$.approvedBy,approvedDate:$.approvedDate})}await Z(),l(!1),o(null)}catch(je){console.error("Failed to save amendment:",je),f(je.message||"Failed to save amendment"),alert(je.message||"Failed to save amendment")}finally{m(!1)}},L=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:L.map($=>t.jsx("li",{children:t.jsxs(rn,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:$.icon}),!x&&t.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Amendments"})})}),t.jsxs("div",{className:"hcf-amendments-page",children:[A&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:A}),d&&_.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading amendments..."}),t.jsx("div",{className:"hcf-amendments-header",children:t.jsx("h1",{className:"hcf-amendments-title",children:"HCF Amendments"})}),t.jsxs("div",{className:"hcf-amendments-actions",children:[t.jsxs("div",{className:"hcf-amendments-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-amendments-search-input",placeholder:"Search Amendments...",value:i,onChange:$=>s($.target.value)})]}),a&&t.jsxs("button",{className:"add-amendment-btn",onClick:V,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]}),t.jsx("div",{className:"hcf-amendments-table-container",children:t.jsxs("table",{className:"hcf-amendments-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Amendment Type"}),t.jsx("th",{children:"Amendment Date"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Approved By"}),t.jsx("th",{children:"Approved Date"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:d&&_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):ee.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):ee.map($=>{const je=S.find(ge=>ge.id===$.hcfId);return t.jsxs("tr",{children:[t.jsx("td",{children:$.companyName||"-"}),t.jsx("td",{children:je?`${je.hcfCode} - ${je.hcfName}`:$.hcfCode||"-"}),t.jsx("td",{children:$.amendmentType||"-"}),t.jsx("td",{children:$.amendmentDate?new Date($.amendmentDate).toLocaleDateString():"-"}),t.jsx("td",{children:$.description||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${($.status||"Pending").toLowerCase()}`,children:$.status||"Pending"})}),t.jsx("td",{children:$.approvedBy||"-"}),t.jsx("td",{children:$.approvedDate?new Date($.approvedDate).toLocaleDateString():"-"}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>re($),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>R($.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},$.id)})})]})}),t.jsxs("div",{className:"hcf-amendments-pagination-info",children:["Showing ",ee.length," of ",_.length," Items"]})]})]}),c&&t.jsx(Wee,{amendment:u,companies:w.filter($=>$.status==="Active"),hcfs:S.filter($=>$.status==="Active"),onClose:()=>{l(!1),o(null),f(null)},onSave:Y,saving:g})]})},Wee=({amendment:r,companies:e,hcfs:n,onClose:a,onSave:i,saving:s=!1})=>{const c=()=>r?{...r,hcfId:r.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[l,u]=P.useState(c()),o=()=>{if(r&&r.hcfId){const g=n.find(m=>m.id===r.hcfId);return(g==null?void 0:g.companyId)||""}return""},[d,h]=P.useState(o());P.useEffect(()=>{d&&!r&&u(g=>({...g,hcfId:""}))},[d,r]),P.useEffect(()=>{if(r&&r.hcfId&&n.length>0&&!d){const g=n.find(m=>m.id===r.hcfId);g&&h(g.companyId)}},[r,n,d]);const A=d?n.filter(g=>g.companyId===d&&g.status==="Active"):n,f=g=>{if(g.preventDefault(),!l.hcfId){alert("Please select an HCF");return}if(!l.amendmentType){alert("Amendment type is required");return}if(!l.amendmentDate){alert("Amendment date is required");return}i(l)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Amendment":"Add Amendment"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"amendment-form",onSubmit:f,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:d,onChange:g=>{h(g.target.value),u({...l,hcfId:""})},required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfId||"",onChange:g=>u({...l,hcfId:g.target.value}),required:!0,disabled:!d&&!r,children:[t.jsx("option",{value:"",children:"Select HCF"}),A.length===0&&(d||r)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):A.map(g=>t.jsxs("option",{value:g.id,children:[g.hcfCode," - ",g.hcfName]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Type *"}),t.jsx("input",{type:"text",value:l.amendmentType||"",onChange:g=>u({...l,amendmentType:g.target.value}),required:!0,placeholder:"Enter amendment type"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Date *"}),t.jsx("input",{type:"date",value:l.amendmentDate||"",onChange:g=>u({...l,amendmentDate:g.target.value}),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Description"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:l.description||"",onChange:g=>u({...l,description:g.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Approval Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:l.status||"Pending",onChange:g=>u({...l,status:g.target.value}),children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Approved",children:"Approved"}),t.jsx("option",{value:"Rejected",children:"Rejected"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved By"}),t.jsx("input",{type:"text",value:l.approvedBy||"",onChange:g=>u({...l,approvedBy:g.target.value}),placeholder:"Enter approver name or ID"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved Date"}),t.jsx("input",{type:"date",value:l.approvedDate||"",onChange:g=>u({...l,approvedDate:g.target.value})})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:s,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Saving...":r?"Update":"Save"})]})]})]})})},$ee=()=>{const{logout:r,permissions:e}=xa(),n=Pn(),a=Ap(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),N=()=>{w(!b)},S=async()=>{try{const Y=(await Qa.getAllCompanies(!0)).map(L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,status:L.status}));f(Y)}catch(R){console.error("Error loading companies:",R)}},j=async()=>{m(!0),y(null);try{const Y=(await F0.getAllHcfTypes(void 0,!0)).map(L=>{const $=A.find(je=>je.id===L.companyId);return{id:L.id,companyName:($==null?void 0:$.companyName)||"Unknown Company",hcfTypeCode:L.hcfTypeCode,hcfTypeName:L.hcfTypeName,status:L.status,createdBy:L.createdBy||"",createdOn:L.createdOn,modifiedBy:L.modifiedBy||"",modifiedOn:L.modifiedOn}});h(Y)}catch(R){const Y=R instanceof Error?R.message:"Failed to load HCF types";y(Y),console.error("Error loading HCF types:",R),h([])}finally{m(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{A.length>0&&j()},[A.length]);const _=d.filter(R=>R.companyName.toLowerCase().includes(i.toLowerCase())||R.hcfTypeCode.toLowerCase().includes(i.toLowerCase())||R.hcfTypeName.toLowerCase().includes(i.toLowerCase())),k=()=>{o(null),l(!0)},Z=R=>{o(R),l(!0)},ee=async R=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{m(!0),await F0.deleteHcfType(R),await j(),alert("HCF Type deleted successfully")}catch(Y){const L=Y instanceof Error?Y.message:"Failed to delete HCF type";alert(`Error: ${L}`),console.error("Error deleting HCF type:",Y)}finally{m(!1)}},V=async R=>{try{m(!0),y(null);const Y=A.find(L=>L.companyName===R.companyName);if(!Y){alert("Please select a valid company");return}if(u)await F0.updateHcfType(u.id,{status:R.status}),alert("HCF Type updated successfully");else{if(!R.hcfTypeCode||!R.hcfTypeName||!R.companyName){alert("Please fill in all required fields");return}await F0.createHcfType({hcfTypeCode:R.hcfTypeCode,hcfTypeName:R.hcfTypeName,companyId:Y.id}),alert("HCF Type created successfully")}l(!1),o(null),await j()}catch(Y){const L=Y instanceof Error?Y.message:"Failed to save HCF type";y(L),alert(`Error: ${L}`),console.error("Error saving HCF type:",Y)}finally{m(!1)}},re=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:re.map(R=>t.jsx("li",{children:t.jsxs(rn,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!b&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Type Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!d.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading HCF types..."}),t.jsxs("div",{className:"hcf-type-master-page",children:[t.jsx("div",{className:"hcf-type-master-header",children:t.jsx("h1",{className:"hcf-type-master-title",children:"HCF Type Master"})}),t.jsxs("div",{className:"hcf-type-master-actions",children:[t.jsxs("div",{className:"hcf-type-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-type-search-input",placeholder:"Search HCF Type...",value:i,onChange:R=>s(R.target.value)})]}),a&&t.jsxs("button",{className:"add-hcf-type-btn",onClick:k,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]}),t.jsx("div",{className:"hcf-type-table-container",children:t.jsxs("table",{className:"hcf-type-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Type Code"}),t.jsx("th",{children:"HCF Type Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No HCF Type records found"})}):_.map(R=>t.jsxs("tr",{children:[t.jsx("td",{children:R.companyName||"-"}),t.jsx("td",{children:R.hcfTypeCode||"-"}),t.jsx("td",{children:R.hcfTypeName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(R),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(R.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},R.id))})]})}),t.jsxs("div",{className:"hcf-type-pagination-info",children:["Showing ",_.length," of ",d.length," Items"]})]})]}),c&&t.jsx(Vee,{hcfType:u,companies:A.filter(R=>R.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:V})]})},Vee=({hcfType:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF Type":"Add HCF Type"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code *"}),t.jsx("input",{type:"text",value:i.hcfTypeCode||"",onChange:l=>s({...i,hcfTypeCode:l.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Name *"}),t.jsx("input",{type:"text",value:i.hcfTypeName||"",onChange:l=>s({...i,hcfTypeName:l.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},zee="http://localhost:3000/api/v1",Kee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},c0=async(r,e={})=>{const n=Kee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${zee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Bh={createFleet:async r=>(await c0("/fleets",{method:"POST",body:JSON.stringify(r)})).data,getFleetById:async r=>(await c0(`/fleets/${r}`,{method:"GET"})).data,getAllFleets:async(r,e=!1)=>{let n="/fleets";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await c0(n,{method:"GET"})).data},updateFleet:async(r,e)=>(await c0(`/fleets/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFleet:async r=>{await c0(`/fleets/${r}`,{method:"DELETE"})}},Gee=()=>{const{logout:r,permissions:e}=xa(),n=Pn(),a=Ap(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),N=()=>{w(!b)},S=async()=>{try{const Y=(await Qa.getAllCompanies(!0)).map(L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,status:L.status}));f(Y)}catch(R){console.error("Error loading companies:",R)}},j=async()=>{m(!0),y(null);try{const Y=(await Bh.getAllFleets(void 0,!0)).map(L=>{const $=A.find(je=>je.id===L.companyId);return{id:L.id,companyName:($==null?void 0:$.companyName)||"Unknown Company",vehicleNum:L.vehicleNum,capacity:L.capacity||"",vehMake:L.vehMake||"",vehModel:L.vehModel||"",mfgYear:L.mfgYear||"",nextFCDate:L.nextFCDate||"",pucDateValidUpto:L.pucDateValidUpto||"",insuranceValidUpto:L.insuranceValidUpto||"",ownerName:L.ownerName||"",ownerContact:L.ownerContact||"",ownerEmail:L.ownerEmail||"",ownerPAN:L.ownerPAN||"",ownerAadhaar:L.ownerAadhaar||"",pymtToName:L.pymtToName||"",pymtBankName:L.pymtBankName||"",pymtAccNum:L.pymtAccNum||"",pymtIFSCode:L.pymtIFSCode||"",pymtBranch:L.pymtBranch||"",contractAmount:L.contractAmount||"",tdsExemption:L.tdsExemption||!1,status:L.status,createdBy:L.createdBy||"",createdOn:L.createdOn,modifiedBy:L.modifiedBy||"",modifiedOn:L.modifiedOn}});h(Y)}catch(R){const Y=R instanceof Error?R.message:"Failed to load fleets";y(Y),console.error("Error loading fleets:",R),h([])}finally{m(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{A.length>0&&j()},[A.length]);const _=d.filter(R=>R.companyName.toLowerCase().includes(i.toLowerCase())||R.vehicleNum.toLowerCase().includes(i.toLowerCase())||R.vehMake.toLowerCase().includes(i.toLowerCase())||R.vehModel.toLowerCase().includes(i.toLowerCase())||R.ownerName.toLowerCase().includes(i.toLowerCase())),k=()=>{o(null),l(!0)},Z=R=>{o(R),l(!0)},ee=async R=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{m(!0),await Bh.deleteFleet(R),await j(),alert("Fleet deleted successfully")}catch(Y){const L=Y instanceof Error?Y.message:"Failed to delete fleet";alert(`Error: ${L}`),console.error("Error deleting fleet:",Y)}finally{m(!1)}},V=async R=>{try{m(!0),y(null);const Y=A.find(L=>L.companyName===R.companyName);if(!Y){alert("Please select a valid company");return}if(u)await Bh.updateFleet(u.id,{capacity:R.capacity,vehMake:R.vehMake,vehModel:R.vehModel,mfgYear:R.mfgYear,nextFCDate:R.nextFCDate,pucDateValidUpto:R.pucDateValidUpto,insuranceValidUpto:R.insuranceValidUpto,ownerName:R.ownerName,ownerContact:R.ownerContact,ownerEmail:R.ownerEmail,ownerPAN:R.ownerPAN,ownerAadhaar:R.ownerAadhaar,pymtToName:R.pymtToName,pymtBankName:R.pymtBankName,pymtAccNum:R.pymtAccNum,pymtIFSCode:R.pymtIFSCode,pymtBranch:R.pymtBranch,contractAmount:R.contractAmount,tdsExemption:R.tdsExemption,status:R.status}),alert("Fleet updated successfully");else{if(!R.vehicleNum||!R.companyName){alert("Please fill in Vehicle Number and Company Name");return}await Bh.createFleet({companyId:Y.id,vehicleNum:R.vehicleNum,capacity:R.capacity,vehMake:R.vehMake,vehModel:R.vehModel,mfgYear:R.mfgYear,nextFCDate:R.nextFCDate,pucDateValidUpto:R.pucDateValidUpto,insuranceValidUpto:R.insuranceValidUpto,ownerName:R.ownerName,ownerContact:R.ownerContact,ownerEmail:R.ownerEmail,ownerPAN:R.ownerPAN,ownerAadhaar:R.ownerAadhaar,pymtToName:R.pymtToName,pymtBankName:R.pymtBankName,pymtAccNum:R.pymtAccNum,pymtIFSCode:R.pymtIFSCode,pymtBranch:R.pymtBranch,contractAmount:R.contractAmount,tdsExemption:R.tdsExemption}),alert("Fleet created successfully")}l(!1),o(null),await j()}catch(Y){const L=Y instanceof Error?Y.message:"Failed to save fleet";y(L),alert(`Error: ${L}`),console.error("Error saving fleet:",Y)}finally{m(!1)}},re=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:re.map(R=>t.jsx("li",{children:t.jsxs(rn,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!b&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Fleet Management"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!d.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading fleets..."}),t.jsxs("div",{className:"fleet-management-page",children:[t.jsx("div",{className:"fleet-management-header",children:t.jsx("h1",{className:"fleet-management-title",children:"Fleet Management"})}),t.jsxs("div",{className:"fleet-management-actions",children:[t.jsxs("div",{className:"fleet-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"fleet-search-input",placeholder:"Search Fleet...",value:i,onChange:R=>s(R.target.value)})]}),a&&t.jsxs("button",{className:"add-fleet-btn",onClick:k,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]}),t.jsx("div",{className:"fleet-table-container",children:t.jsxs("table",{className:"fleet-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No fleet records found"})}):_.map(R=>t.jsxs("tr",{children:[t.jsx("td",{children:R.companyName||"-"}),t.jsx("td",{children:R.vehicleNum||"-"}),t.jsx("td",{children:R.vehMake||"-"}),t.jsx("td",{children:R.vehModel||"-"}),t.jsx("td",{children:R.capacity||"-"}),t.jsx("td",{children:R.ownerName||"-"}),t.jsx("td",{children:R.ownerContact||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(R),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(R.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},R.id))})]})}),t.jsxs("div",{className:"fleet-pagination-info",children:["Showing ",_.length," of ",d.length," Items"]})]})]}),c&&t.jsx(qee,{fleet:u,companies:A.filter(R=>R.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:V})]})},qee=({fleet:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Vehicle":"Add Vehicle"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"fleet-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Number *"}),t.jsx("input",{type:"text",value:i.vehicleNum||"",onChange:l=>s({...i,vehicleNum:l.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Capacity *"}),t.jsx("input",{type:"text",value:i.capacity||"",onChange:l=>s({...i,capacity:l.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Make *"}),t.jsx("input",{type:"text",value:i.vehMake||"",onChange:l=>s({...i,vehMake:l.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Model *"}),t.jsx("input",{type:"text",value:i.vehModel||"",onChange:l=>s({...i,vehModel:l.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Manufacturing Year"}),t.jsx("input",{type:"text",value:i.mfgYear||"",onChange:l=>s({...i,mfgYear:l.target.value}),placeholder:"e.g., 2020"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Next FC Date"}),t.jsx("input",{type:"date",value:i.nextFCDate||"",onChange:l=>s({...i,nextFCDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PUC Date Valid Upto"}),t.jsx("input",{type:"date",value:i.pucDateValidUpto||"",onChange:l=>s({...i,pucDateValidUpto:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Insurance Valid Upto"}),t.jsx("input",{type:"date",value:i.insuranceValidUpto||"",onChange:l=>s({...i,insuranceValidUpto:l.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Owner Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Name *"}),t.jsx("input",{type:"text",value:i.ownerName||"",onChange:l=>s({...i,ownerName:l.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Contact *"}),t.jsx("input",{type:"tel",value:i.ownerContact||"",onChange:l=>s({...i,ownerContact:l.target.value}),required:!0,placeholder:"+91-9876543210"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Email"}),t.jsx("input",{type:"email",value:i.ownerEmail||"",onChange:l=>s({...i,ownerEmail:l.target.value}),placeholder:"owner@example.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner PAN"}),t.jsx("input",{type:"text",value:i.ownerPAN||"",onChange:l=>s({...i,ownerPAN:l.target.value}),placeholder:"ABCDE1234F"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Aadhaar"}),t.jsx("input",{type:"text",value:i.ownerAadhaar||"",onChange:l=>s({...i,ownerAadhaar:l.target.value}),placeholder:"1234-5678-9012"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment To Name"}),t.jsx("input",{type:"text",value:i.pymtToName||"",onChange:l=>s({...i,pymtToName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.pymtBankName||"",onChange:l=>s({...i,pymtBankName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Account Number"}),t.jsx("input",{type:"text",value:i.pymtAccNum||"",onChange:l=>s({...i,pymtAccNum:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IFSC Code"}),t.jsx("input",{type:"text",value:i.pymtIFSCode||"",onChange:l=>s({...i,pymtIFSCode:l.target.value}),placeholder:"SBIN0001234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Branch"}),t.jsx("input",{type:"text",value:i.pymtBranch||"",onChange:l=>s({...i,pymtBranch:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Amount"}),t.jsx("input",{type:"text",value:i.contractAmount||"",onChange:l=>s({...i,contractAmount:l.target.value}),placeholder:"Enter amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"TDS Exemption"}),t.jsxs("select",{value:i.tdsExemption?"true":"false",onChange:l=>s({...i,tdsExemption:l.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Xee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},u0=async(r,e={})=>{const n=Xee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${of}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},D0={createRouteHcfMapping:async r=>(await u0("/route-hcf-mappings",{method:"POST",body:JSON.stringify(r)})).data,getRouteHcfMappingById:async r=>(await u0(`/route-hcf-mappings/${r}`,{method:"GET"})).data,getAllRouteHcfMappings:async(r,e,n,a=!1)=>{let i="/route-hcf-mappings";const s=new URLSearchParams;return r&&s.append("routeId",r),e&&s.append("hcfId",e),n&&s.append("companyId",n),a&&s.append("activeOnly","true"),s.toString()&&(i+=`?${s.toString()}`),(await u0(i,{method:"GET"})).data},updateRouteHcfMapping:async(r,e)=>(await u0(`/route-hcf-mappings/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteHcfMapping:async r=>{await u0(`/route-hcf-mappings/${r}`,{method:"DELETE"})}},Yee=()=>{const{logout:r,permissions:e}=xa(),n=Pn(),a=Ap(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(null),[x,y]=P.useState(!1),b=()=>{y(!x)},[w,N]=P.useState([]),[S,j]=P.useState([]),[_,k]=P.useState([]),[Z,ee]=P.useState([]),V=P.useCallback(async()=>{try{const ve=(await Qa.getAllCompanies(!0)).map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status}));N(ve)}catch(le){console.error("Error loading companies:",le)}},[]),re=P.useCallback(async()=>{try{const le=await JA.getAllRoutes(!0),ve=await Promise.all(le.map(async se=>{const he=w.find(Ne=>Ne.id===se.companyId);return{id:se.id,routeCode:se.routeCode,routeName:se.routeName,companyName:(he==null?void 0:he.companyName)||"Unknown",status:se.status}}));j(ve)}catch(le){console.error("Error loading routes:",le)}},[w]),R=P.useCallback(async()=>{try{const le=await Os.getAllHcfs(void 0,!0),ve=await Promise.all(le.map(async se=>{const he=w.find(Ne=>Ne.id===se.companyId);return{id:se.id,hcfCode:se.hcfCode,hcfName:se.hcfName,companyName:(he==null?void 0:he.companyName)||"Unknown",status:se.status}}));k(ve)}catch(le){console.error("Error loading HCFs:",le)}},[w]),Y=P.useCallback(async()=>{h(!0),f(null);try{const ve=(await D0.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(se=>{const he=S.find(ye=>ye.id===se.routeId),Ne=_.find(ye=>ye.id===se.hcfId),Pe=w.find(ye=>ye.id===se.companyId);return{id:se.id,routeId:se.routeId,routeCode:(he==null?void 0:he.routeCode)||"",routeName:(he==null?void 0:he.routeName)||"",hcfId:se.hcfId,hcfCode:(Ne==null?void 0:Ne.hcfCode)||"",hcfName:(Ne==null?void 0:Ne.hcfName)||"",companyId:se.companyId,companyName:(Pe==null?void 0:Pe.companyName)||"Unknown",sequenceOrder:se.sequenceOrder,status:se.status,createdBy:se.createdBy,createdOn:se.createdOn,modifiedBy:se.modifiedBy,modifiedOn:se.modifiedOn}});ee(ve)}catch(le){const ve=le instanceof Error?le.message:"Failed to load mappings";f(ve),console.error("Error loading mappings:",le)}finally{h(!1)}},[S,_,w]);P.useEffect(()=>{(async()=>{await V()})()},[V]),P.useEffect(()=>{w.length>0&&(re(),R())},[w,re,R]),P.useEffect(()=>{S.length>0&&_.length>0&&w.length>0&&Y()},[S,_,w,Y]);const L=Z.filter(le=>{var ve,se;return le.routeCode.toLowerCase().includes(i.toLowerCase())||le.hcfCode.toLowerCase().includes(i.toLowerCase())||le.companyName.toLowerCase().includes(i.toLowerCase())||((ve=S.find(he=>he.routeCode===le.routeCode))==null?void 0:ve.routeName.toLowerCase().includes(i.toLowerCase()))||((se=_.find(he=>he.hcfCode===le.hcfCode))==null?void 0:se.hcfName.toLowerCase().includes(i.toLowerCase()))}),$=()=>{o(null),l(!0)},je=le=>{o(le),l(!0)},ge=async le=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{h(!0),f(null),await D0.deleteRouteHcfMapping(le),m("Mapping deleted successfully"),await Y(),setTimeout(()=>{m(null)},3e3)}catch(ve){let se="Failed to delete mapping";ve instanceof Error&&(se=ve.message,se.includes("not found")?se="This mapping could not be found. It may have already been deleted.":(se.includes("permission")||se.includes("unauthorized"))&&(se="You do not have permission to delete this mapping.")),f(se),console.error("Error deleting mapping:",ve)}finally{h(!1)}},Ie=(le,ve,se)=>{let he="Failed to save mapping";return le instanceof Error&&(he=le.message,he.includes("already exists")||he.includes("mapping between")?ve&&se?he=`This mapping already exists: Route "${ve.routeCode} - ${ve.routeName}" and HCF "${se.hcfCode} - ${se.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:he="This mapping already exists. Each route-HCF combination can only be mapped once.":he.includes("not found")?he="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":he.includes("invalid")?he="Invalid data provided. Please check your inputs and try again.":he.includes("required")?he="Please fill in all required fields.":he.includes("permission")||he.includes("unauthorized")?he="You do not have permission to perform this action.":he.includes("HTTP 409")||he.includes("Conflict")?he="A conflict occurred. This mapping may already exist.":he.includes("HTTP 400")||he.includes("Bad Request")?he="Invalid request. Please check your inputs and try again.":(he.includes("HTTP 500")||he.includes("Internal Server Error"))&&(he="An internal server error occurred. Please try again later or contact support.")),he},_e=async le=>{try{h(!0),f(null);const ve=w.find(Ne=>Ne.companyName===le.companyName);if(!ve){f("Please select a valid company");return}const se=S.find(Ne=>Ne.routeCode===le.routeCode&&Ne.companyName===le.companyName);if(!se){f("Please select a valid route");return}const he=_.find(Ne=>Ne.hcfCode===le.hcfCode&&Ne.companyName===le.companyName);if(!he){f("Please select a valid HCF");return}u?(await D0.updateRouteHcfMapping(u.id,{sequenceOrder:le.sequenceOrder,status:le.status}),f(null),m("Mapping updated successfully"),l(!1),o(null),await Y(),setTimeout(()=>{m(null)},3e3)):(await D0.createRouteHcfMapping({routeId:se.id,hcfId:he.id,companyId:ve.id,sequenceOrder:le.sequenceOrder}),f(null),m("Mapping created successfully"),l(!1),o(null),await Y(),setTimeout(()=>{m(null)},3e3))}catch(ve){const se=S.find(Pe=>Pe.routeCode===le.routeCode&&Pe.companyName===le.companyName),he=_.find(Pe=>Pe.hcfCode===le.hcfCode&&Pe.companyName===le.companyName),Ne=Ie(ve,se,he);f(Ne),console.error("Error saving mapping:",ve)}finally{h(!1)}},fe=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:fe.map(le=>t.jsx("li",{children:t.jsxs(rn,{to:le.path,className:`nav-link ${le.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:le.icon}),!x&&t.jsx("span",{className:"nav-label",children:le.label})]})},le.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route-HCF Mapping"})})}),g&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:g}),t.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),A&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:A}),t.jsx("button",{onClick:()=>f(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),d&&!Z.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading mappings..."}),t.jsxs("div",{className:"route-hcf-mapping-page",children:[t.jsx("div",{className:"route-hcf-mapping-header",children:t.jsx("h1",{className:"route-hcf-mapping-title",children:"Route-HCF Mapping"})}),t.jsxs("div",{className:"route-hcf-mapping-actions",children:[t.jsxs("div",{className:"route-hcf-mapping-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"route-hcf-mapping-search-input",placeholder:"Search Mapping...",value:i,onChange:le=>s(le.target.value)})]}),a&&t.jsxs("button",{className:"add-mapping-btn",onClick:$,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]}),t.jsx("div",{className:"route-hcf-mapping-table-container",children:t.jsxs("table",{className:"route-hcf-mapping-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:L.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No mapping records found"})}):L.map(le=>t.jsxs("tr",{children:[t.jsx("td",{children:le.companyName||"-"}),t.jsx("td",{children:le.routeCode?`${le.routeCode} - ${le.routeName}`:"-"}),t.jsx("td",{children:le.hcfCode?`${le.hcfCode} - ${le.hcfName}`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${le.status.toLowerCase()}`,children:le.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>je(le),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ge(le.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},le.id))})]})}),t.jsxs("div",{className:"route-hcf-mapping-pagination-info",children:["Showing ",L.length," of ",Z.length," Items"]})]})]}),c&&t.jsx(Zee,{mapping:u,companies:w.filter(le=>le.status==="Active"),routes:S.filter(le=>le.status==="Active"),hcfs:_.filter(le=>le.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:_e})]})},Zee=({mapping:r,companies:e,routes:n,hcfs:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),u=c.companyName?n.filter(h=>h.companyName===c.companyName):n,o=c.companyName?a.filter(h=>h.companyName===c.companyName):a,d=h=>{h.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Mapping":"Add Mapping"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"mapping-form",onSubmit:d,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:h=>{l({...c,companyName:h.target.value,routeCode:"",hcfCode:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(h=>t.jsx("option",{value:h.companyName,children:h.companyName},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsxs("select",{value:c.routeCode||"",onChange:h=>l({...c,routeCode:h.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select Route"}),u.map(h=>t.jsxs("option",{value:h.routeCode,children:[h.routeCode," - ",h.routeName]},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:h=>l({...c,hcfCode:h.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),o.map(h=>t.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:h=>l({...c,status:h.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Jee=()=>{const{logout:r,permissions:e}=xa(),n=Pn(),a=Ap(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),N=()=>{w(!b)},S=async()=>{try{const Y=(await Qa.getAllCompanies(!0)).map(L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,status:L.status}));f(Y)}catch(R){console.error("Error loading companies:",R)}},j=async()=>{m(!0),y(null);try{const Y=(await $p.getAllFrequencies(void 0,!0)).map(L=>{const $=A.find(je=>je.id===L.companyId);return{id:L.id,frequencyCode:L.frequencyCode,frequencyName:L.frequencyName,companyName:($==null?void 0:$.companyName)||"Unknown Company",status:L.status,createdBy:L.createdBy||"",createdOn:L.createdOn,modifiedBy:L.modifiedBy||"",modifiedOn:L.modifiedOn}});h(Y)}catch(R){const Y=R instanceof Error?R.message:"Failed to load frequencies";y(Y),console.error("Error loading frequencies:",R),h([])}finally{m(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{A.length>0&&j()},[A.length]);const _=d.filter(R=>R.companyName.toLowerCase().includes(i.toLowerCase())||R.frequencyCode.toLowerCase().includes(i.toLowerCase())||R.frequencyName.toLowerCase().includes(i.toLowerCase())),k=()=>{o(null),l(!0)},Z=R=>{o(R),l(!0)},ee=async R=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{m(!0),await $p.deleteFrequency(R),await j(),alert("Frequency deleted successfully")}catch(Y){const L=Y instanceof Error?Y.message:"Failed to delete frequency";alert(`Error: ${L}`),console.error("Error deleting frequency:",Y)}finally{m(!1)}},V=async R=>{try{m(!0),y(null);const Y=A.find(L=>L.companyName===R.companyName);if(!Y){alert("Please select a valid company");return}if(u)await $p.updateFrequency(u.id,{status:R.status}),alert("Frequency updated successfully");else{if(!R.frequencyCode||!R.frequencyName||!R.companyName){alert("Please fill in all required fields");return}await $p.createFrequency({frequencyCode:R.frequencyCode,frequencyName:R.frequencyName,companyId:Y.id}),alert("Frequency created successfully")}l(!1),o(null),await j()}catch(Y){const L=Y instanceof Error?Y.message:"Failed to save frequency";y(L),alert(`Error: ${L}`),console.error("Error saving frequency:",Y)}finally{m(!1)}},re=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:re.map(R=>t.jsx("li",{children:t.jsxs(rn,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!b&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Frequency Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!d.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading frequencies..."}),t.jsxs("div",{className:"frequency-master-page",children:[t.jsx("div",{className:"frequency-master-header",children:t.jsx("h1",{className:"frequency-master-title",children:"Frequency Master"})}),t.jsxs("div",{className:"frequency-master-actions",children:[t.jsxs("div",{className:"frequency-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"frequency-search-input",placeholder:"Search Frequency...",value:i,onChange:R=>s(R.target.value)})]}),a&&t.jsxs("button",{className:"add-frequency-btn",onClick:k,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]}),t.jsx("div",{className:"frequency-table-container",children:t.jsxs("table",{className:"frequency-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Frequency Code"}),t.jsx("th",{children:"Frequency Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No frequency records found"})}):_.map(R=>t.jsxs("tr",{children:[t.jsx("td",{children:R.companyName||"-"}),t.jsx("td",{children:R.frequencyCode||"-"}),t.jsx("td",{children:R.frequencyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(R),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(R.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},R.id))})]})}),t.jsxs("div",{className:"frequency-pagination-info",children:["Showing ",_.length," of ",d.length," Items"]})]})]}),c&&t.jsx(ete,{frequency:u,companies:A.filter(R=>R.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:V})]})},ete=({frequency:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Frequency":"Add Frequency"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"frequency-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Code *"}),t.jsx("input",{type:"text",value:i.frequencyCode||"",onChange:l=>s({...i,frequencyCode:l.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Name *"}),t.jsx("input",{type:"text",value:i.frequencyName||"",onChange:l=>s({...i,frequencyName:l.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},tte="http://localhost:3000/api/v1",rte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},d0=async(r,e={})=>{const n=rte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${tte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},h0={createRouteAssignment:async r=>(await d0("/route-assignments",{method:"POST",body:JSON.stringify(r)})).data,getRouteAssignmentById:async r=>(await d0(`/route-assignments/${r}`,{method:"GET"})).data,getAllRouteAssignments:async(r,e,n)=>{let a="/route-assignments";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("date",e),n&&i.append("status",n),i.toString()&&(a+=`?${i.toString()}`),(await d0(a,{method:"GET"})).data},updateRouteAssignment:async(r,e)=>(await d0(`/route-assignments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteAssignment:async r=>{await d0(`/route-assignments/${r}`,{method:"DELETE"})}},nte=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(new Date().toISOString().split("T")[0]),[c,l]=P.useState("all"),[u,o]=P.useState(!1),[d,h]=P.useState(null),[A,f]=P.useState(!1),[g,m]=P.useState(null),[x,y]=P.useState(null),[b,w]=P.useState([]),[N,S]=P.useState([]),[j,_]=P.useState([]),[k,Z]=P.useState([]),[ee,V]=P.useState([]),[re,R]=P.useState([]),[Y,L]=P.useState([]),$=P.useCallback(async()=>{try{const pe=(await Qa.getAllCompanies(!0)).map(oe=>({id:oe.id,companyCode:oe.companyCode,companyName:oe.companyName,status:oe.status}));w(pe)}catch(q){console.error("Error loading companies:",q)}},[]),je=P.useCallback(async q=>{try{const oe=(await JA.getAllRoutes(q,!0)).map(We=>({id:We.id,routeCode:We.routeCode,routeName:We.routeName,companyId:We.companyId,status:We.status}));S(oe)}catch(pe){console.error("Error loading routes:",pe)}},[]),ge=P.useCallback(async q=>{try{const oe=(await Bh.getAllFleets(q,!0)).map(We=>({id:We.id,vehicleNum:We.vehicleNum,companyId:We.companyId,status:We.status}));_(oe)}catch(pe){console.error("Error loading vehicles:",pe)}},[]),Ie=P.useCallback(async q=>{if(!q){Z([]),V([]),R([]);return}try{const We=(await $l.getUsersByCompany(q)).map(Re=>({id:Re.userId,userName:Re.userName,employeeCode:Re.employeeCode,companyId:Re.companyId,status:Re.status})).filter(Re=>Re.status==="Active");Z(We),V(We),R(We)}catch(pe){console.error("Error loading users:",pe),Z([]),V([]),R([])}},[]),_e=P.useCallback(async()=>{f(!0),m(null);try{const q=await h0.getAllRouteAssignments(void 0,i,c!=="all"?c:void 0),pe=await Promise.all(q.map(async oe=>{const We=N.find(jt=>jt.id===oe.routeId),Re=j.find(jt=>jt.id===oe.vehicleId),Ee=k.find(jt=>jt.id===oe.driverId),ae=oe.pickerId?ee.find(jt=>jt.id===oe.pickerId):null,Le=oe.supervisorId?re.find(jt=>jt.id===oe.supervisorId):null,Ze=b.find(jt=>jt.id===oe.companyId);return{id:oe.id,assignmentDate:oe.assignmentDate,routeId:oe.routeId,routeCode:(We==null?void 0:We.routeCode)||"",routeName:(We==null?void 0:We.routeName)||"",vehicleId:oe.vehicleId,vehicleNum:(Re==null?void 0:Re.vehicleNum)||"",driverId:oe.driverId,driverName:(Ee==null?void 0:Ee.userName)||"",pickerId:oe.pickerId,pickerName:ae==null?void 0:ae.userName,supervisorId:oe.supervisorId,supervisorName:Le==null?void 0:Le.userName,companyId:oe.companyId,companyName:(Ze==null?void 0:Ze.companyName)||"Unknown",status:oe.status,notes:oe.notes,createdBy:oe.createdBy,createdOn:oe.createdOn,modifiedBy:oe.modifiedBy,modifiedOn:oe.modifiedOn}}));L(pe)}catch(q){const pe=q instanceof Error?q.message:"Failed to load assignments";m(pe),console.error("Error loading assignments:",q)}finally{f(!1)}},[i,c,N,j,k,ee,re,b]);P.useEffect(()=>{(async()=>{await $()})()},[$]),P.useEffect(()=>{b.length>0&&(je(),ge())},[b,je,ge]),P.useEffect(()=>{N.length>0&&j.length>0&&_e()},[i,c,N,j,k,ee,re,b,_e]);const fe=Y.filter(q=>q.routeCode.toLowerCase().includes(n.toLowerCase())||q.routeName.toLowerCase().includes(n.toLowerCase())||q.vehicleNum.toLowerCase().includes(n.toLowerCase())||q.driverName.toLowerCase().includes(n.toLowerCase())||q.companyName.toLowerCase().includes(n.toLowerCase())),le=()=>{h(null),o(!0)},ve=q=>{if(q.status==="In Progress"||q.status==="Completed"){m("Cannot edit assignments that are In Progress or Completed");return}h(q),o(!0)},se=async q=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{f(!0),m(null),await h0.deleteRouteAssignment(q),y("Assignment deleted successfully"),await _e(),setTimeout(()=>y(null),3e3)}catch(pe){const oe=pe instanceof Error?pe.message:"Failed to delete assignment";m(oe),console.error("Error deleting assignment:",pe)}finally{f(!1)}},he=async q=>{try{if(f(!0),m(null),d)await h0.updateRouteAssignment(d.id,{status:q.status,pickerId:q.pickerId,supervisorId:q.supervisorId,notes:q.notes}),y("Assignment updated successfully");else{const pe=b.find(oe=>oe.id===q.companyId);if(!pe){m("Please select a valid company");return}await h0.createRouteAssignment({assignmentDate:i,routeId:q.routeId,vehicleId:q.vehicleId,driverId:q.driverId,pickerId:q.pickerId,supervisorId:q.supervisorId,companyId:pe.id,status:q.status||"Draft",notes:q.notes}),y("Assignment created successfully")}o(!1),h(null),await _e(),setTimeout(()=>y(null),3e3)}catch(pe){const oe=pe instanceof Error?pe.message:"Failed to save assignment";m(oe),console.error("Error saving assignment:",pe)}finally{f(!1)}},Ne=async(q,pe)=>{try{f(!0),m(null),await h0.updateRouteAssignment(q.id,{status:pe}),y(`Assignment status changed to ${pe}`),await _e(),setTimeout(()=>y(null),3e3)}catch(oe){const We=oe instanceof Error?oe.message:"Failed to update status";m(We),console.error("Error updating status:",oe)}finally{f(!1)}},Pe=q=>{switch(q){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},ye=q=>q.status==="Draft"||q.status==="Assigned",ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(q=>t.jsx("li",{children:t.jsxs(rn,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:q.icon}),t.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Route Assignment"})})}),x&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),g&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:g}),t.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),A&&!Y.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),t.jsxs("div",{className:"route-assignment-page",children:[t.jsx("div",{className:"route-assignment-header",children:t.jsx("h1",{className:"route-assignment-title",children:"Route Assignment"})}),t.jsxs("div",{className:"route-assignment-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"assignment-date",children:"Assignment Date"}),t.jsx("input",{id:"assignment-date",type:"date",value:i,onChange:q=>s(q.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:q=>l(q.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by route, vehicle, driver...",value:n,onChange:q=>a(q.target.value),className:"search-input"})]})]}),t.jsxs("button",{className:"add-assignment-btn",onClick:le,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]}),t.jsx("div",{className:"route-assignment-table-container",children:t.jsxs("table",{className:"route-assignment-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Route"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Driver"}),t.jsx("th",{children:"Picker"}),t.jsx("th",{children:"Supervisor"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:fe.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:A?"Loading...":"No assignments found for the selected date"})}):fe.map(q=>t.jsxs("tr",{className:ye(q)?"":"read-only-row",children:[t.jsx("td",{children:new Date(q.assignmentDate).toLocaleDateString()}),t.jsx("td",{children:t.jsxs("div",{className:"route-info",children:[t.jsx("span",{className:"route-code",children:q.routeCode}),t.jsx("span",{className:"route-name",children:q.routeName})]})}),t.jsx("td",{children:q.vehicleNum}),t.jsx("td",{children:q.driverName}),t.jsx("td",{children:q.pickerName||"-"}),t.jsx("td",{children:q.supervisorName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${Pe(q.status)}`,children:q.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[ye(q)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ve(q),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>se(q.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),q.status==="Assigned"&&t.jsx("button",{className:"action-btn action-btn--start",onClick:()=>Ne(q,"In Progress"),title:"Start Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),q.status==="In Progress"&&t.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>Ne(q,"Completed"),title:"Complete Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!ye(q)&&t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ve(q),title:"View (Read-only)",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},q.id))})]})}),t.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",fe.length," of ",Y.length," Items"]})]})]}),u&&t.jsx(ate,{assignment:d,companies:b.filter(q=>q.status==="Active"),routes:N.filter(q=>q.status==="Active"),vehicles:j.filter(q=>q.status==="Active"),drivers:k,pickers:ee,supervisors:re,selectedDate:i,onLoadUsers:Ie,onClose:()=>{o(!1),h(null)},onSave:he})]})},ate=({assignment:r,companies:e,routes:n,vehicles:a,drivers:i,pickers:s,supervisors:c,selectedDate:l,onLoadUsers:u,onClose:o,onSave:d})=>{const[h,A]=P.useState(r||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),f=r&&(r.status==="In Progress"||r.status==="Completed");P.useEffect(()=>{h.companyId&&!r&&u(h.companyId)},[h.companyId,r,u]);const g=h.companyId?n.filter(N=>N.companyId===h.companyId):n,m=h.companyId?a.filter(N=>N.companyId===h.companyId):a,x=h.companyId?i.filter(N=>N.companyId===h.companyId):i,y=h.companyId?s.filter(N=>N.companyId===h.companyId):s,b=h.companyId?c.filter(N=>N.companyId===h.companyId):c,w=N=>{N.preventDefault(),d(h)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:N=>N.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?f?"View Assignment":"Edit Assignment":"Add Assignment"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"assignment-form",onSubmit:w,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Assignment Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Assignment Date *"}),t.jsx("input",{type:"date",value:r?r.assignmentDate:l,disabled:!0,className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:h.companyId||"",onChange:async N=>{const S=N.target.value;A({...h,companyId:S,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),S&&await u(S)},required:!0,disabled:!!r||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(N=>t.jsx("option",{value:N.id,children:N.companyName},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route *"}),t.jsxs("select",{value:h.routeId||"",onChange:N=>A({...h,routeId:N.target.value}),required:!0,disabled:!h.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Route"}),g.map(N=>t.jsxs("option",{value:N.id,children:[N.routeCode," - ",N.routeName]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle *"}),t.jsxs("select",{value:h.vehicleId||"",onChange:N=>A({...h,vehicleId:N.target.value}),required:!0,disabled:!h.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Vehicle"}),m.map(N=>t.jsx("option",{value:N.id,children:N.vehicleNum},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driver *"}),t.jsxs("select",{value:h.driverId||"",onChange:N=>A({...h,driverId:N.target.value}),required:!0,disabled:!h.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Driver"}),x.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Picker"}),t.jsxs("select",{value:h.pickerId||"",onChange:N=>A({...h,pickerId:N.target.value||null}),disabled:!h.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Supervisor"}),t.jsxs("select",{value:h.supervisorId||"",onChange:N=>A({...h,supervisorId:N.target.value||null}),disabled:!h.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),b.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:h.status||"Draft",onChange:N=>A({...h,status:N.target.value}),disabled:f,className:"form-select",children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),r&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:h.notes||"",onChange:N=>A({...h,notes:N.target.value||null}),disabled:f,rows:3,className:"form-textarea",placeholder:"Additional notes or instructions..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,children:f?"Close":"Cancel"}),!f&&t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Create"})]})]})]})})},ite=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},kf=async(r,e={})=>{const n=ite(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${of}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},cA={lookupBarcode:async r=>(await kf(`/waste-collections/barcode/${encodeURIComponent(r)}`,{method:"GET"})).data,createWasteCollection:async r=>(await kf("/waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getWasteCollectionById:async r=>(await kf(`/waste-collections/${r}`,{method:"GET"})).data,getAllWasteCollections:async(r,e,n,a,i,s)=>{let c="/waste-collections";const l=new URLSearchParams;return r&&l.append("companyId",r),e&&l.append("hcfId",e),n&&l.append("date",n),a&&l.append("endDate",a),i&&l.append("status",i),s&&l.append("routeAssignmentId",s),l.toString()&&(c+=`?${l.toString()}`),(await kf(c,{method:"GET"})).data},updateWasteCollection:async(r,e)=>(await kf(`/waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,collectWaste:async(r,e)=>(await kf(`/waste-collections/${r}/collect`,{method:"POST",body:JSON.stringify({weightKg:e})})).data,deleteWasteCollection:async r=>{await kf(`/waste-collections/${r}`,{method:"DELETE"})}},ste=()=>{const{logout:r,user:e}=xa(),n=Pn(),[a,i]=P.useState(""),[s,c]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState("all"),[o,d]=P.useState("all"),[h,A]=P.useState(!1),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(!1),[w,N]=P.useState(null),[S,j]=P.useState(null),[_,k]=P.useState(""),[Z,ee]=P.useState(null),[V,re]=P.useState(!1),R=P.useRef(null),[Y,L]=P.useState([]),[$,je]=P.useState([]),ge=P.useCallback(async()=>{try{const q=(await Qa.getAllCompanies(!0)).map(pe=>({id:pe.id,companyCode:pe.companyCode,companyName:pe.companyName,status:pe.status}));L(q)}catch(ce){console.error("Error loading companies:",ce)}},[]),Ie=P.useCallback(async()=>{b(!0),N(null);try{const ce=await cA.getAllWasteCollections(void 0,void 0,s,void 0,l!=="all"?l:void 0),q=await Promise.all(ce.map(async pe=>{const oe=Y.find(Ee=>Ee.id===pe.companyId);let We="",Re="";try{const Ee=await Os.getHcfById(pe.hcfId);We=Ee.hcfCode,Re=Ee.hcfName}catch(Ee){console.error("Error loading HCF:",Ee)}return{id:pe.id,barcode:pe.barcode,collectionDate:pe.collectionDate,companyId:pe.companyId,companyName:(oe==null?void 0:oe.companyName)||"Unknown",hcfId:pe.hcfId,hcfCode:We,hcfName:Re,wasteColor:pe.wasteColor,weightKg:pe.weightKg,status:pe.status,routeAssignmentId:pe.routeAssignmentId,collectedBy:pe.collectedBy,collectedAt:pe.collectedAt,notes:pe.notes,createdOn:pe.createdOn}}));je(q)}catch(ce){const q=ce instanceof Error?ce.message:"Failed to load collections";N(q),console.error("Error loading collections:",ce)}finally{b(!1)}},[s,l,Y]);P.useEffect(()=>{(async()=>{await ge()})()},[ge]),P.useEffect(()=>{Y.length>0&&Ie()},[s,l,Y,Ie]);const _e=async ce=>{if(!ce||ce.length<5){N("Please enter a valid barcode (at least 5 characters)");return}re(!0),N(null),ee(null);try{const q=await cA.lookupBarcode(ce);ee(q),$.find(oe=>oe.barcode===ce&&oe.collectionDate===s)?(N(`Barcode ${ce} has already been collected on ${s}`),ee(null)):A(!0)}catch(q){const pe=q instanceof Error?q.message:"Failed to lookup barcode";N(pe),ee(null)}finally{re(!1)}},fe=ce=>{ce==null||ce.preventDefault(),_.trim()&&(_e(_.trim()),k(""))},le=async ce=>{if(!Z){N("Barcode lookup result is missing");return}try{b(!0),N(null),await cA.createWasteCollection({barcode:Z.barcode,collectionDate:s,companyId:Z.companyId,hcfId:Z.hcfId,wasteColor:Z.wasteColor,weightKg:ce.weightKg||null,status:"Pending",notes:ce.notes||null}),j("Waste collection recorded successfully"),A(!1),ee(null),await Ie(),setTimeout(()=>j(null),3e3)}catch(q){const pe=q instanceof Error?q.message:"Failed to save collection";N(pe),console.error("Error saving collection:",q)}finally{b(!1)}},ve=async(ce,q)=>{try{b(!0),N(null),await cA.collectWaste(ce,q),j("Waste collected successfully"),await Ie(),setTimeout(()=>j(null),3e3)}catch(pe){const oe=pe instanceof Error?pe.message:"Failed to collect waste";N(oe),console.error("Error collecting waste:",pe)}finally{b(!1)}},se=ce=>{x(ce),g(!0)},he=$.filter(ce=>{const q=ce.barcode.toLowerCase().includes(a.toLowerCase())||ce.hcfCode.toLowerCase().includes(a.toLowerCase())||ce.hcfName.toLowerCase().includes(a.toLowerCase())||ce.companyName.toLowerCase().includes(a.toLowerCase()),pe=o==="all"||ce.wasteColor===o;return q&&pe}),Ne=ce=>{switch(ce){case"Pending":return"status-badge--pending";case"Collected":return"status-badge--collected";case"In Transit":return"status-badge--in-transit";case"Processed":return"status-badge--processed";case"Disposed":return"status-badge--disposed";default:return""}},Pe=ce=>{switch(ce){case"Yellow":return"color-badge--yellow";case"Red":return"color-badge--red";case"White":return"color-badge--white";default:return""}},ye=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:n.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ye.map(ce=>t.jsx("li",{children:t.jsxs(rn,{to:ce.path,className:`nav-link ${ce.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ce.icon}),t.jsx("span",{className:"nav-label",children:ce.label})]})},ce.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Collection"})})}),S&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:S}),t.jsx("button",{onClick:()=>j(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),w&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>N(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),y&&!$.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"waste-collection-page",children:[t.jsx("div",{className:"waste-collection-header",children:t.jsx("h1",{className:"waste-collection-title",children:"Waste Collection"})}),t.jsx("div",{className:"barcode-scanner-section",children:t.jsx("form",{onSubmit:fe,className:"barcode-scanner-form",children:t.jsxs("div",{className:"barcode-input-group",children:[t.jsx("label",{htmlFor:"barcode-input",children:"Scan Barcode"}),t.jsxs("div",{className:"barcode-input-wrapper",children:[t.jsx("input",{id:"barcode-input",ref:R,type:"text",value:_,onChange:ce=>k(ce.target.value),placeholder:"Scan or enter barcode...",className:"barcode-input",autoFocus:!0,disabled:V}),t.jsx("button",{type:"submit",className:"barcode-scan-btn",disabled:V||!_.trim(),children:V?t.jsx("span",{children:"Looking up..."}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"})}),"Scan"]})})]})]})})}),t.jsxs("div",{className:"waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:s,onChange:ce=>c(ce.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:ce=>u(ce.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Collected",children:"Collected"}),t.jsx("option",{value:"In Transit",children:"In Transit"}),t.jsx("option",{value:"Processed",children:"Processed"}),t.jsx("option",{value:"Disposed",children:"Disposed"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"color-filter",children:"Color"}),t.jsxs("select",{id:"color-filter",value:o,onChange:ce=>d(ce.target.value),className:"color-select",children:[t.jsx("option",{value:"all",children:"All Colors"}),t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by barcode, HCF, company...",value:a,onChange:ce=>i(ce.target.value),className:"search-input"})]})]})]}),t.jsx("div",{className:"waste-collection-table-container",children:t.jsxs("table",{className:"waste-collection-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Color"}),t.jsx("th",{children:"Weight (Kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:he.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:y?"Loading...":"No collections found for the selected date"})}):he.map(ce=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ce.collectionDate).toLocaleDateString()}),t.jsx("td",{children:t.jsx("span",{className:"barcode-display",children:ce.barcode})}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:ce.hcfCode}),t.jsx("span",{className:"hcf-name",children:ce.hcfName})]})}),t.jsx("td",{children:ce.companyName}),t.jsx("td",{children:t.jsx("span",{className:`color-badge ${Pe(ce.wasteColor)}`,children:ce.wasteColor})}),t.jsx("td",{children:ce.weightKg?`${ce.weightKg} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${Ne(ce.status)}`,children:ce.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>se(ce),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ce.status==="Pending"&&t.jsx("button",{className:"action-btn action-btn--collect",onClick:()=>{const q=prompt("Enter weight in kg:");q&&!isNaN(parseFloat(q))&&parseFloat(q)>0&&ve(ce.id,parseFloat(q))},title:"Collect Waste",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]},ce.id))})]})}),t.jsxs("div",{className:"waste-collection-pagination-info",children:["Showing ",he.length," of ",$.length," Items"]})]})]}),h&&Z&&t.jsx(ote,{barcodeLookup:Z,collectionDate:s,onClose:()=>{A(!1),ee(null)},onSave:le}),f&&m&&t.jsx(lte,{collection:m,onClose:()=>{g(!1),x(null)}})]})},ote=({barcodeLookup:r,collectionDate:e,onClose:n,onSave:a})=>{const[i,s]=P.useState({weightKg:null,notes:null}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--medium",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Waste Collection"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"collection-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Barcode Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode"}),t.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("input",{type:"date",value:e,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company"}),t.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF"}),t.jsx("input",{type:"text",value:`${r.hcfCode} - ${r.hcfName}`,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"form-input form-input--readonly"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Collection Details"}),t.jsx("div",{className:"form-grid form-grid--two-columns",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (Kg) *"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:i.weightKg||"",onChange:l=>s({...i,weightKg:parseFloat(l.target.value)||null}),required:!0,className:"form-input",placeholder:"Enter weight"})]})}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),rows:3,className:"form-textarea",placeholder:"Additional notes or observations..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Record Collection"})]})]})]})})},lte=({collection:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Collection Details"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"collection-detail-content",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Barcode"}),t.jsx("span",{children:r.barcode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("span",{children:new Date(r.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:r.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Code"}),t.jsx("span",{children:r.hcfCode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Name"}),t.jsx("span",{children:r.hcfName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("span",{className:`color-badge ${r.wasteColor.toLowerCase()}`,children:r.wasteColor})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Collection Details"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Weight"}),t.jsx("span",{children:r.weightKg?`${r.weightKg} kg`:"Not recorded"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`status-badge ${r.status.toLowerCase().replace(" ","-")}`,children:r.status})]}),r.collectedBy&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected By"}),t.jsx("span",{children:r.collectedBy})]}),r.collectedAt&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected At"}),t.jsx("span",{children:new Date(r.collectedAt).toLocaleString()})]}),r.notes&&t.jsxs("div",{className:"detail-item detail-item--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("span",{children:r.notes})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Audit Information"}),t.jsx("div",{className:"detail-grid",children:t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Created On"}),t.jsx("span",{children:new Date(r.createdOn).toLocaleString()})]})})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Close"})})]})}),cte="http://localhost:3000/api/v1",ute=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Pf=async(r,e={})=>{const n=ute(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${cte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Op={createTransaction:async r=>(await Pf("/waste-transactions",{method:"POST",body:JSON.stringify(r)})).data,getTransactionById:async r=>(await Pf(`/waste-transactions/${r}`,{method:"GET"})).data,getAllTransactions:async(r,e,n,a,i)=>{let s="/waste-transactions";const c=new URLSearchParams;return r&&c.append("companyId",r),e&&c.append("hcfId",e),n&&c.append("startDate",n),a&&c.append("endDate",a),i&&c.append("status",i),c.toString()&&(s+=`?${c.toString()}`),(await Pf(s,{method:"GET"})).data},updateTransaction:async(r,e)=>(await Pf(`/waste-transactions/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitTransaction:async r=>(await Pf(`/waste-transactions/${r}/submit`,{method:"PATCH"})).data,verifyTransaction:async r=>(await Pf(`/waste-transactions/${r}/verify`,{method:"PATCH"})).data,deleteTransaction:async r=>{await Pf(`/waste-transactions/${r}`,{method:"DELETE"})}},dte=()=>{var pe;const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(new Date().toISOString().split("T")[0]),[c,l]=P.useState("all"),[u,o]=P.useState(!1),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(null),[N,S]=P.useState(!1),[j,_]=P.useState(null),[k,Z]=P.useState([]),[ee,V]=P.useState([]),[re,R]=P.useState([]),[Y,L]=P.useState([]),[$,je]=P.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),ge=P.useCallback(async()=>{try{const oe=await Qa.getAllCompanies(void 0,!0);Z(oe)}catch(oe){console.error("Failed to load companies:",oe),y("Failed to load companies")}},[]),Ie=P.useCallback(async()=>{try{const oe=await Os.getAllHcfs(void 0,!0);V(oe)}catch(oe){console.error("Failed to load HCFs:",oe),y("Failed to load HCFs")}},[]),_e=P.useCallback(async()=>{m(!0),y(null);try{const oe=i,We=i,Re=await Op.getAllTransactions(void 0,void 0,oe,We,c!=="all"?c:void 0),Ee=await Promise.all(Re.map(async ae=>{const Le=k.find(Lt=>Lt.id===ae.companyId);let Ze="",jt="";try{const Lt=await Os.getHcfById(ae.hcfId);Ze=Lt.hcfName,jt=Lt.hcfCode}catch(Lt){console.error("Error loading HCF:",Lt)}return{id:ae.id,companyId:ae.companyId,companyName:(Le==null?void 0:Le.companyName)||"Unknown",hcfId:ae.hcfId,hcfCode:jt,hcfName:Ze,pickupDate:ae.pickupDate,isNilPickup:ae.isNilPickup,yellowBagCount:ae.yellowBagCount,redBagCount:ae.redBagCount,whiteBagCount:ae.whiteBagCount,yellowWeightKg:ae.yellowWeightKg,redWeightKg:ae.redWeightKg,whiteWeightKg:ae.whiteWeightKg,latitude:ae.latitude,longitude:ae.longitude,segregationQuality:ae.segregationQuality,status:ae.status,notes:ae.notes,createdOn:ae.createdOn}}));L(Ee)}catch(oe){const We=oe instanceof Error?oe.message:"Failed to load transactions";y(We),console.error("Error loading transactions:",oe)}finally{m(!1)}},[i,c,k]);P.useEffect(()=>{if($.companyId){const oe=ee.filter(We=>We.companyId===$.companyId);R(oe),$.hcfId&&!oe.find(We=>We.id===$.hcfId)&&je(We=>({...We,hcfId:""}))}else R([]),je(oe=>({...oe,hcfId:""}))},[$.companyId,ee]),P.useEffect(()=>{ge(),Ie()},[ge,Ie]),P.useEffect(()=>{k.length>0&&_e()},[i,c,k,_e]);const fe=P.useCallback(()=>{if(!navigator.geolocation){_("Geolocation is not supported by your browser");return}S(!0),_(null),navigator.geolocation.getCurrentPosition(oe=>{je(We=>({...We,latitude:oe.coords.latitude,longitude:oe.coords.longitude})),S(!1),w("GPS location captured successfully"),setTimeout(()=>w(null),3e3)},oe=>{_(`Failed to get GPS location: ${oe.message}`),S(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),le=async oe=>{if(oe.preventDefault(),!$.companyId||!$.hcfId||!$.pickupDate){y("Please fill in all required fields");return}if(!$.isNilPickup&&$.yellowBagCount===0&&$.redBagCount===0&&$.whiteBagCount===0){y("Please enter at least one bag count or select NIL pickup");return}try{if(m(!0),y(null),$.editingId){const We=Ee=>{if(Ee==null)return null;const ae=Number(Ee);return isNaN(ae)?null:ae},Re={pickupDate:$.pickupDate,isNilPickup:$.isNilPickup,yellowBagCount:$.yellowBagCount,redBagCount:$.redBagCount,whiteBagCount:$.whiteBagCount,yellowWeightKg:We($.yellowWeightKg),redWeightKg:We($.redWeightKg),whiteWeightKg:We($.whiteWeightKg),latitude:We($.latitude),longitude:We($.longitude),segregationQuality:$.segregationQuality,notes:$.notes};await Op.updateTransaction($.editingId,Re),w("Transaction updated successfully")}else{const We=Ee=>{if(Ee==null)return null;const ae=Number(Ee);return isNaN(ae)?null:ae},Re={companyId:$.companyId,hcfId:$.hcfId,pickupDate:$.pickupDate,isNilPickup:$.isNilPickup,yellowBagCount:$.yellowBagCount,redBagCount:$.redBagCount,whiteBagCount:$.whiteBagCount,yellowWeightKg:We($.yellowWeightKg),redWeightKg:We($.redWeightKg),whiteWeightKg:We($.whiteWeightKg),latitude:We($.latitude),longitude:We($.longitude),segregationQuality:$.segregationQuality,notes:$.notes};await Op.createTransaction(Re),w("Transaction created successfully")}await _e(),o(!1),he(),setTimeout(()=>w(null),3e3)}catch(We){const Re=We instanceof Error?We.message:"Failed to save transaction";y(Re),console.error("Error saving transaction:",We)}finally{m(!1)}},ve=async(oe,We)=>{try{m(!0),y(null),We==="submit"?(await Op.submitTransaction(oe),w("Transaction submitted successfully")):(await Op.verifyTransaction(oe),w("Transaction verified successfully")),await _e(),h(!1),setTimeout(()=>w(null),3e3)}catch(Re){const Ee=Re instanceof Error?Re.message:"Failed to update status";y(Ee),console.error("Error updating status:",Re)}finally{m(!1)}},se=async oe=>{if(confirm("Are you sure you want to delete this transaction?"))try{m(!0),y(null),await Op.deleteTransaction(oe),w("Transaction deleted successfully"),await _e(),h(!1),setTimeout(()=>w(null),3e3)}catch(We){const Re=We instanceof Error?We.message:"Failed to delete transaction";y(Re),console.error("Error deleting transaction:",We)}finally{m(!1)}},he=()=>{je({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Ne=oe=>{if(oe.status!=="Draft"){y("Only draft transactions can be edited");return}je({companyId:oe.companyId,hcfId:oe.hcfId,pickupDate:oe.pickupDate.split("T")[0],isNilPickup:oe.isNilPickup,yellowBagCount:oe.yellowBagCount,redBagCount:oe.redBagCount,whiteBagCount:oe.whiteBagCount,yellowWeightKg:oe.yellowWeightKg,redWeightKg:oe.redWeightKg,whiteWeightKg:oe.whiteWeightKg,latitude:oe.latitude,longitude:oe.longitude,segregationQuality:oe.segregationQuality,notes:oe.notes,editingId:oe.id}),o(!0)},Pe=oe=>{f(oe),h(!0)},ye=Y.filter(oe=>{if(!n.trim())return!0;const We=n.toLowerCase().trim();return oe.companyName.toLowerCase().includes(We)||oe.hcfName.toLowerCase().includes(We)||oe.hcfCode.toLowerCase().includes(We)}),ce=!$.editingId||((pe=Y.find(oe=>oe.id===$.editingId))==null?void 0:pe.status)==="Draft",q=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:q.map(oe=>t.jsx("li",{children:t.jsxs(rn,{to:oe.path,className:`nav-link ${oe.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:oe.icon}),t.jsx("span",{className:"nav-label",children:oe.label})]})},oe.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Transaction Data"})})}),b&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>w(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),x&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),g&&!Y.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),t.jsxs("div",{className:"waste-transaction-page",children:[t.jsx("div",{className:"waste-transaction-header",children:t.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})}),t.jsxs("div",{className:"waste-transaction-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"pickup-date",children:"Pickup Date"}),t.jsx("input",{id:"pickup-date",type:"date",value:i,onChange:oe=>s(oe.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:oe=>l(oe.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company, HCF...",value:n,onChange:oe=>a(oe.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-transaction-btn",onClick:()=>{he(),o(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),t.jsx("div",{className:"waste-transaction-table-container",children:t.jsxs("table",{className:"waste-transaction-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"NIL"}),t.jsx("th",{children:"Yellow"}),t.jsx("th",{children:"Red"}),t.jsx("th",{children:"White"}),t.jsx("th",{children:"Total Weight"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ye.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"empty-message",children:g?"Loading...":"No transactions found for the selected date"})}):ye.map(oe=>{const We=(Number(oe.yellowWeightKg)||0)+(Number(oe.redWeightKg)||0)+(Number(oe.whiteWeightKg)||0);return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(oe.pickupDate).toLocaleDateString()}),t.jsx("td",{children:oe.companyName}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:oe.hcfCode}),t.jsx("span",{className:"hcf-name",children:oe.hcfName})]})}),t.jsx("td",{children:oe.isNilPickup?t.jsx("span",{className:"nil-badge",children:"NIL"}):t.jsx("span",{className:"pickup-badge",children:"Yes"})}),t.jsx("td",{children:oe.yellowBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--yellow"}),oe.yellowBagCount,oe.yellowWeightKg&&` (${oe.yellowWeightKg}kg)`]}):"-"}),t.jsx("td",{children:oe.redBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--red"}),oe.redBagCount,oe.redWeightKg&&` (${oe.redWeightKg}kg)`]}):"-"}),t.jsx("td",{children:oe.whiteBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--white"}),oe.whiteBagCount,oe.whiteWeightKg&&` (${oe.whiteWeightKg}kg)`]}):"-"}),t.jsx("td",{children:We>0?`${Number(We).toFixed(2)} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${oe.status.toLowerCase()}`,children:oe.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Pe(oe),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),oe.status==="Draft"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ne(oe),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},oe.id)})})]})}),t.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",ye.length," of ",Y.length," Items"]})]})]}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>{o(!1),he()},children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:oe=>oe.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:$.editingId?"Edit Transaction":"Add Waste Transaction"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>{o(!1),he()},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"waste-transaction-form",onSubmit:le,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:$.companyId,onChange:oe=>je({...$,companyId:oe.target.value,hcfId:""}),required:!0,disabled:!ce,children:[t.jsx("option",{value:"",children:"Select Company"}),k.map(oe=>t.jsxs("option",{value:oe.id,children:[oe.companyCode," - ",oe.companyName]},oe.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:$.hcfId,onChange:oe=>je({...$,hcfId:oe.target.value}),required:!0,disabled:!$.companyId||!ce,children:[t.jsx("option",{value:"",children:"Select HCF"}),re.map(oe=>t.jsxs("option",{value:oe.id,children:[oe.hcfCode," - ",oe.hcfName]},oe.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date *"}),t.jsx("input",{type:"date",value:$.pickupDate,onChange:oe=>je({...$,pickupDate:oe.target.value}),required:!0,disabled:!ce})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:$.isNilPickup,onChange:oe=>je({...$,isNilPickup:oe.target.checked}),disabled:!ce}),"NIL Pickup (No waste collected)"]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"GPS Location"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Latitude"}),t.jsx("input",{type:"number",step:"any",value:$.latitude||"",onChange:oe=>je({...$,latitude:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Longitude"}),t.jsx("input",{type:"number",step:"any",value:$.longitude||"",onChange:oe=>je({...$,longitude:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:fe,disabled:!ce||N,children:N?"Capturing...":"Capture GPS Location"}),j&&t.jsx("div",{className:"form-error",children:j})]})]})]}),!$.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Bag Counts & Weights"}),t.jsxs("div",{className:"color-inputs-grid",children:[t.jsxs("div",{className:"color-input-group color-input-group--yellow",children:[t.jsx("h4",{className:"color-input-title",children:"Yellow Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:$.yellowBagCount||0,onChange:oe=>je({...$,yellowBagCount:parseInt(oe.target.value)||0}),disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:$.yellowWeightKg||"",onChange:oe=>je({...$,yellowWeightKg:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"0.00",disabled:!ce})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--red",children:[t.jsx("h4",{className:"color-input-title",children:"Red Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:$.redBagCount||0,onChange:oe=>je({...$,redBagCount:parseInt(oe.target.value)||0}),disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:$.redWeightKg||"",onChange:oe=>je({...$,redWeightKg:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"0.00",disabled:!ce})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--white",children:[t.jsx("h4",{className:"color-input-title",children:"White Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:$.whiteBagCount||0,onChange:oe=>je({...$,whiteBagCount:parseInt(oe.target.value)||0}),disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:$.whiteWeightKg||"",onChange:oe=>je({...$,whiteWeightKg:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"0.00",disabled:!ce})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Segregation Quality"}),t.jsx("div",{className:"form-group",children:t.jsxs("select",{value:$.segregationQuality||"",onChange:oe=>je({...$,segregationQuality:oe.target.value||null}),disabled:!ce,children:[t.jsx("option",{value:"",children:"Select Quality"}),t.jsx("option",{value:"Excellent",children:"Excellent"}),t.jsx("option",{value:"Good",children:"Good"}),t.jsx("option",{value:"Fair",children:"Fair"}),t.jsx("option",{value:"Poor",children:"Poor"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Notes"}),t.jsx("div",{className:"form-group",children:t.jsx("textarea",{value:$.notes||"",onChange:oe=>je({...$,notes:oe.target.value||null}),placeholder:"Enter any additional notes or remarks...",rows:3,disabled:!ce})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>{o(!1),he()},disabled:g,children:"Cancel"}),ce&&t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:g,children:g?"Saving...":$.editingId?"Update":"Create"})]})]})]})}),d&&A&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:oe=>oe.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Transaction Details"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>h(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"transaction-details",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Pickup Date"}),t.jsx("span",{children:new Date(A.pickupDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:A.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF"}),t.jsxs("span",{children:[A.hcfCode," - ",A.hcfName]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`badge badge--${A.status.toLowerCase()}`,children:A.status})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"NIL Pickup"}),t.jsx("span",{children:A.isNilPickup?"Yes":"No"})]})]})]}),!A.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Bag Counts & Weights"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Yellow Bags"}),t.jsxs("span",{children:[A.yellowBagCount," bags",A.yellowWeightKg&&` (${A.yellowWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Red Bags"}),t.jsxs("span",{children:[A.redBagCount," bags",A.redWeightKg&&` (${A.redWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"White Bags"}),t.jsxs("span",{children:[A.whiteBagCount," bags",A.whiteWeightKg&&` (${A.whiteWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight"}),t.jsxs("span",{children:[Number((Number(A.yellowWeightKg)||0)+(Number(A.redWeightKg)||0)+(Number(A.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),A.segregationQuality&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Segregation Quality"}),t.jsx("span",{children:A.segregationQuality})]})]})]}),(A.latitude||A.longitude)&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"GPS Location"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Latitude"}),t.jsx("span",{children:A.latitude})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Longitude"}),t.jsx("span",{children:A.longitude})]})]})]})]}),A.notes&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Notes"}),t.jsx("p",{children:A.notes})]}),t.jsxs("div",{className:"modal-footer",children:[A.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn--secondary",onClick:()=>{Ne(A),h(!1)},children:"Edit"}),t.jsx("button",{className:"btn btn--primary",onClick:()=>ve(A.id,"submit"),disabled:g,children:"Submit"})]}),A.status==="Submitted"&&t.jsx("button",{className:"btn btn--primary",onClick:()=>ve(A.id,"verify"),disabled:g,children:"Verify"}),A.status==="Draft"&&t.jsx("button",{className:"btn btn--danger",onClick:()=>se(A.id),disabled:g,children:"Delete"}),t.jsx("button",{className:"btn btn--secondary",onClick:()=>h(!1),children:"Close"})]})]})]})})]})},hte="http://localhost:3000/api/v1",Ate=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ff=async(r,e={})=>{const n=Ate(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${hte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},kp={createCollection:async r=>(await Ff("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getCollectionById:async r=>(await Ff(`/vehicle-waste-collections/${r}`,{method:"GET"})).data,getAllCollections:async(r,e,n,a)=>{let i="/vehicle-waste-collections";const s=new URLSearchParams;return r&&s.append("vehicleId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await Ff(i,{method:"GET"})).data},updateCollection:async(r,e)=>(await Ff(`/vehicle-waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitCollection:async r=>(await Ff(`/vehicle-waste-collections/${r}/submit`,{method:"PUT"})).data,verifyCollection:async r=>(await Ff(`/vehicle-waste-collections/${r}/verify`,{method:"PUT"})).data,deleteCollection:async r=>{await Ff(`/vehicle-waste-collections/${r}`,{method:"DELETE"})}},fte=()=>{var fe,le;const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(new Date().toISOString().split("T")[0]),[c,l]=P.useState("all"),[u,o]=P.useState(!1),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(null),[N,S]=P.useState([]),[j,_]=P.useState([]),[k,Z]=P.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),ee=P.useCallback(async()=>{try{const ve=await Bh.getAllFleets(void 0,!0);S(ve)}catch(ve){console.error("Failed to load vehicles:",ve),y("Failed to load vehicles")}},[]),V=P.useCallback(async()=>{m(!0),y(null);try{const ve=i,se=i,Ne=(await kp.getAllCollections(void 0,ve,se,c!=="all"?c:void 0)).map(Pe=>{const ye=N.find(ce=>ce.id===Pe.vehicleId);return{id:Pe.id,vehicleId:Pe.vehicleId,vehicleNum:(ye==null?void 0:ye.vehicleNum)||"Unknown",collectionDate:Pe.collectionDate,grossWeightKg:Number(Pe.grossWeightKg)||0,tareWeightKg:Number(Pe.tareWeightKg)||0,netWeightKg:Number(Pe.netWeightKg)||0,incinerationWeightKg:Number(Pe.incinerationWeightKg)||0,autoclaveWeightKg:Number(Pe.autoclaveWeightKg)||0,vehicleKm:Pe.vehicleKm!==null&&Pe.vehicleKm!==void 0?Number(Pe.vehicleKm):null,fuelUsageLiters:Pe.fuelUsageLiters!==null&&Pe.fuelUsageLiters!==void 0?Number(Pe.fuelUsageLiters):null,status:Pe.status,notes:Pe.notes,createdOn:Pe.createdOn}});_(Ne)}catch(ve){const se=ve instanceof Error?ve.message:"Failed to load collections";y(se),console.error("Error loading collections:",ve)}finally{m(!1)}},[i,c,N]);P.useEffect(()=>{ee()},[ee]),P.useEffect(()=>{N.length>0&&V()},[i,c,N,V]),P.useEffect(()=>{const ve=k.grossWeightKg-k.tareWeightKg;ve>=0&&Z(se=>({...se,netWeightKg:ve}))},[k.grossWeightKg,k.tareWeightKg]);const re=async ve=>{if(ve.preventDefault(),!k.vehicleId){y("Please select a vehicle");return}if(k.grossWeightKg<k.tareWeightKg){y("Gross weight must be greater than or equal to tare weight");return}try{if(m(!0),y(null),k.editingId){const se={grossWeightKg:k.grossWeightKg,tareWeightKg:k.tareWeightKg,netWeightKg:k.netWeightKg,incinerationWeightKg:k.incinerationWeightKg,autoclaveWeightKg:k.autoclaveWeightKg,vehicleKm:k.vehicleKm!==null&&k.vehicleKm!==void 0?Number(k.vehicleKm):null,fuelUsageLiters:k.fuelUsageLiters!==null&&k.fuelUsageLiters!==void 0?Number(k.fuelUsageLiters):null,notes:k.notes};await kp.updateCollection(k.editingId,se),w("Collection updated successfully")}else{const se={vehicleId:k.vehicleId,collectionDate:k.collectionDate,grossWeightKg:Number(k.grossWeightKg),tareWeightKg:Number(k.tareWeightKg),netWeightKg:Number(k.netWeightKg),incinerationWeightKg:Number(k.incinerationWeightKg),autoclaveWeightKg:Number(k.autoclaveWeightKg),vehicleKm:k.vehicleKm!==null&&k.vehicleKm!==void 0?Number(k.vehicleKm):null,fuelUsageLiters:k.fuelUsageLiters!==null&&k.fuelUsageLiters!==void 0?Number(k.fuelUsageLiters):null,notes:k.notes};await kp.createCollection(se),w("Collection created successfully")}await V(),o(!1),je(),setTimeout(()=>w(null),3e3)}catch(se){const he=se instanceof Error?se.message:"Failed to save collection";y(he),console.error("Error saving collection:",se)}finally{m(!1)}},R=async(ve,se)=>{try{m(!0),y(null),se==="submit"?(await kp.submitCollection(ve),w("Collection submitted successfully")):(await kp.verifyCollection(ve),w("Collection verified successfully")),await V(),setTimeout(()=>w(null),3e3)}catch(he){const Ne=he instanceof Error?he.message:"Failed to update status";y(Ne),console.error("Error updating status:",he)}finally{m(!1)}},Y=async ve=>{if(window.confirm("Are you sure you want to delete this collection?"))try{m(!0),y(null),await kp.deleteCollection(ve),w("Collection deleted successfully"),await V(),setTimeout(()=>w(null),3e3)}catch(se){const he=se instanceof Error?se.message:"Failed to delete collection";y(he),console.error("Error deleting collection:",se)}finally{m(!1)}},L=ve=>{Z({vehicleId:ve.vehicleId,collectionDate:ve.collectionDate,grossWeightKg:ve.grossWeightKg,tareWeightKg:ve.tareWeightKg,netWeightKg:ve.netWeightKg,incinerationWeightKg:ve.incinerationWeightKg,autoclaveWeightKg:ve.autoclaveWeightKg,vehicleKm:ve.vehicleKm,fuelUsageLiters:ve.fuelUsageLiters,notes:ve.notes,editingId:ve.id,editingStatus:ve.status}),o(!0)},$=ve=>{f(ve),h(!0)},je=()=>{Z({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},ge=j.filter(ve=>{if(n.trim()){const se=n.toLowerCase().trim();if(!ve.vehicleNum.toLowerCase().includes(se))return!1}return!0}),Ie=ve=>{switch(ve){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},_e=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5"}),t.jsx("path",{d:"M2 12l10 5 10-5"})]}),active:e.pathname==="/master"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname.startsWith("/transaction")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(ve=>t.jsx("li",{children:t.jsxs(rn,{to:ve.path,className:`nav-link ${ve.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ve.icon}),t.jsx("span",{className:"nav-label",children:ve.label})]})},ve.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Vehicle Waste Collection"})})}),b&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>w(null),"aria-label":"Close success message",children:""})]}),x&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),"aria-label":"Close error message",children:""})]}),g&&!j.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"vehicle-waste-collection-page",children:[t.jsx("div",{className:"vehicle-waste-collection-header",children:t.jsx("h1",{className:"vehicle-waste-collection-title",children:"Vehicle Waste Collection"})}),t.jsxs("div",{className:"vehicle-waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:i,onChange:ve=>s(ve.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:ve=>l(ve.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by vehicle number...",value:n,onChange:ve=>a(ve.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-collection-btn",onClick:()=>{je(),o(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),t.jsx("div",{className:"table-container",children:ge.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No collections found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Gross Weight (kg)"}),t.jsx("th",{children:"Tare Weight (kg)"}),t.jsx("th",{children:"Net Weight (kg)"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"KM"}),t.jsx("th",{children:"Fuel (L)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ge.map(ve=>{var se,he;return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ve.collectionDate).toLocaleDateString()}),t.jsx("td",{children:ve.vehicleNum}),t.jsx("td",{children:ve.grossWeightKg.toFixed(2)}),t.jsx("td",{children:ve.tareWeightKg.toFixed(2)}),t.jsx("td",{children:ve.netWeightKg.toFixed(2)}),t.jsx("td",{children:ve.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:ve.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:((se=ve.vehicleKm)==null?void 0:se.toFixed(2))||"-"}),t.jsx("td",{children:((he=ve.fuelUsageLiters)==null?void 0:he.toFixed(2))||"-"}),t.jsx("td",{children:t.jsx("span",{className:Ie(ve.status),children:ve.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>$(ve),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ve.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>L(ve),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>R(ve.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>Y(ve.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ve.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>R(ve.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},ve.id)})})]})}),ge.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",ge.length," of ",j.length," Items"]})]})]}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:t.jsxs("div",{className:"modal-content",onClick:ve=>ve.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:k.editingId?"Edit Collection":"Add Collection"}),t.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:""})]}),t.jsxs("form",{onSubmit:re,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs("select",{id:"vehicleId",value:k.vehicleId,onChange:ve=>Z({...k,vehicleId:ve.target.value}),required:!0,disabled:!!k.editingId,children:[t.jsx("option",{value:"",children:"Select Vehicle"}),N.filter(ve=>ve.status==="Active").map(ve=>t.jsx("option",{value:ve.id,children:ve.vehicleNum},ve.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"collectionDate",children:"Collection Date *"}),t.jsx("input",{id:"collectionDate",type:"date",value:k.collectionDate,onChange:ve=>Z({...k,collectionDate:ve.target.value}),required:!0,disabled:!!k.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossWeightKg",children:"Gross Weight (kg) *"}),t.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",value:k.grossWeightKg,onChange:ve=>Z({...k,grossWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!k.editingId&&k.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"tareWeightKg",children:"Tare Weight (kg) *"}),t.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",value:k.tareWeightKg,onChange:ve=>Z({...k,tareWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!k.editingId&&k.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"netWeightKg",children:"Net Weight (kg) *"}),t.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",value:k.netWeightKg.toFixed(2),readOnly:!0,className:"readonly-input"}),t.jsx("small",{children:"Auto-calculated: Gross - Tare"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",value:k.incinerationWeightKg,onChange:ve=>Z({...k,incinerationWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!k.editingId&&k.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",value:k.autoclaveWeightKg,onChange:ve=>Z({...k,autoclaveWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!k.editingId&&k.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleKm",children:"Vehicle KM"}),t.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",value:k.vehicleKm||"",onChange:ve=>Z({...k,vehicleKm:ve.target.value?parseFloat(ve.target.value):null}),disabled:!!k.editingId&&k.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"fuelUsageLiters",children:"Fuel Usage (Liters)"}),t.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",value:k.fuelUsageLiters||"",onChange:ve=>Z({...k,fuelUsageLiters:ve.target.value?parseFloat(ve.target.value):null}),disabled:!!k.editingId&&k.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:k.notes||"",onChange:ve=>Z({...k,notes:ve.target.value||null}),disabled:k.editingId&&k.status!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save"})]})]})]})}),d&&A&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:ve=>ve.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Collection Details"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle:"}),t.jsx("span",{children:A.vehicleNum})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date:"}),t.jsx("span",{children:new Date(A.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Gross Weight:"}),t.jsxs("span",{children:[A.grossWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Tare Weight:"}),t.jsxs("span",{children:[A.tareWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Net Weight:"}),t.jsxs("span",{children:[A.netWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[A.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[A.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle KM:"}),t.jsx("span",{children:((fe=A.vehicleKm)==null?void 0:fe.toFixed(2))||"-"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Fuel Usage:"}),t.jsxs("span",{children:[((le=A.fuelUsageLiters)==null?void 0:le.toFixed(2))||"-"," L"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:Ie(A.status),children:A.status})]}),A.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:A.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Close"})})]})})]})},pte="http://localhost:3000/api/v1",mte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},QA=async(r,e={})=>{const n=mte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Df={createProcess:async r=>(await QA("/waste-processes",{method:"POST",body:JSON.stringify(r)})).data,getProcessById:async r=>(await QA(`/waste-processes/${r}`,{method:"GET"})).data,getAllProcesses:async(r,e,n,a)=>{let i="/waste-processes";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await QA(i,{method:"GET"})).data},updateProcess:async(r,e)=>(await QA(`/waste-processes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitProcess:async r=>(await QA(`/waste-processes/${r}/submit`,{method:"PUT"})).data,verifyProcess:async r=>(await QA(`/waste-processes/${r}/verify`,{method:"PUT"})).data,closeProcess:async r=>(await QA(`/waste-processes/${r}/close`,{method:"PUT"})).data,deleteProcess:async r=>{await QA(`/waste-processes/${r}`,{method:"DELETE"})}},gte=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(new Date().toISOString().split("T")[0]),[c,l]=P.useState("all"),[u,o]=P.useState(!1),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(null),[N,S]=P.useState([]),[j,_]=P.useState([]),[k,Z]=P.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),ee=P.useCallback(async()=>{try{const fe=await Qa.getAllCompanies(void 0,!0);S(fe)}catch(fe){console.error("Failed to load companies:",fe),y("Failed to load companies")}},[]),V=P.useCallback(async()=>{m(!0),y(null);try{const fe=i,le=i,se=(await Df.getAllProcesses(void 0,fe,le,c!=="all"?c:void 0)).map(he=>{const Ne=N.find(Pe=>Pe.id===he.companyId);return{id:he.id,companyId:he.companyId,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown",processDate:he.processDate,incinerationWeightKg:Number(he.incinerationWeightKg)||0,autoclaveWeightKg:Number(he.autoclaveWeightKg)||0,status:he.status,notes:he.notes,createdOn:he.createdOn}});_(se)}catch(fe){const le=fe instanceof Error?fe.message:"Failed to load processes";y(le),console.error("Error loading processes:",fe)}finally{m(!1)}},[i,c,N]);P.useEffect(()=>{ee()},[ee]),P.useEffect(()=>{N.length>0&&V()},[i,c,N,V]);const re=async fe=>{if(fe.preventDefault(),!k.companyId){y("Please select a company");return}if(k.incinerationWeightKg<=0){y("Incineration weight must be greater than zero");return}if(k.autoclaveWeightKg<=0){y("Autoclave weight must be greater than zero");return}try{if(m(!0),y(null),k.editingId){const le={incinerationWeightKg:Number(k.incinerationWeightKg),autoclaveWeightKg:Number(k.autoclaveWeightKg),notes:k.notes};await Df.updateProcess(k.editingId,le),w("Process updated successfully")}else{const le={companyId:k.companyId,processDate:k.processDate,incinerationWeightKg:Number(k.incinerationWeightKg),autoclaveWeightKg:Number(k.autoclaveWeightKg),notes:k.notes};await Df.createProcess(le),w("Process created successfully")}await V(),o(!1),je(),setTimeout(()=>w(null),3e3)}catch(le){const ve=le instanceof Error?le.message:"Failed to save process";y(ve),console.error("Error saving process:",le)}finally{m(!1)}},R=async(fe,le)=>{try{m(!0),y(null),le==="submit"?(await Df.submitProcess(fe),w("Process submitted successfully")):le==="verify"?(await Df.verifyProcess(fe),w("Process verified successfully")):(await Df.closeProcess(fe),w("Process closed successfully")),await V(),setTimeout(()=>w(null),3e3)}catch(ve){const se=ve instanceof Error?ve.message:"Failed to update status";y(se),console.error("Error updating status:",ve)}finally{m(!1)}},Y=async fe=>{if(window.confirm("Are you sure you want to delete this process?"))try{m(!0),y(null),await Df.deleteProcess(fe),w("Process deleted successfully"),await V(),setTimeout(()=>w(null),3e3)}catch(le){const ve=le instanceof Error?le.message:"Failed to delete process";y(ve),console.error("Error deleting process:",le)}finally{m(!1)}},L=fe=>{Z({companyId:fe.companyId,processDate:fe.processDate,incinerationWeightKg:fe.incinerationWeightKg,autoclaveWeightKg:fe.autoclaveWeightKg,notes:fe.notes,editingId:fe.id,editingStatus:fe.status}),o(!0)},$=fe=>{f(fe),h(!0)},je=()=>{Z({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},ge=j.filter(fe=>{if(n.trim()){const le=n.toLowerCase().trim();if(!fe.companyName.toLowerCase().includes(le))return!1}return!0}),Ie=fe=>{switch(fe){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},_e=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5"}),t.jsx("path",{d:"M2 12l10 5 10-5"})]}),active:e.pathname==="/master"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname.startsWith("/transaction")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(fe=>t.jsx("li",{children:t.jsxs(rn,{to:fe.path,className:`nav-link ${fe.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:fe.icon}),t.jsx("span",{className:"nav-label",children:fe.label})]})},fe.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Processing"})})}),b&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>w(null),"aria-label":"Close success message",children:""})]}),x&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),"aria-label":"Close error message",children:""})]}),g&&!j.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),t.jsxs("div",{className:"waste-process-page",children:[t.jsx("div",{className:"waste-process-header",children:t.jsx("h1",{className:"waste-process-title",children:"Waste Processing"})}),t.jsxs("div",{className:"waste-process-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"process-date",children:"Process Date"}),t.jsx("input",{id:"process-date",type:"date",value:i,onChange:fe=>s(fe.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:fe=>l(fe.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:n,onChange:fe=>a(fe.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-process-btn",onClick:()=>{je(),o(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})]})]}),t.jsx("div",{className:"table-container",children:ge.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No processes found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"Total (kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ge.map(fe=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(fe.processDate).toLocaleDateString()}),t.jsx("td",{children:fe.companyName}),t.jsx("td",{children:fe.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:fe.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:(Number(fe.incinerationWeightKg)+Number(fe.autoclaveWeightKg)).toFixed(2)}),t.jsx("td",{children:t.jsx("span",{className:Ie(fe.status),children:fe.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>$(fe),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),fe.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>L(fe),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>R(fe.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>Y(fe.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),fe.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>R(fe.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),fe.status==="Verified"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>R(fe.id,"close"),title:"Close",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 6L6 18"}),t.jsx("path",{d:"M6 6l12 12"})]})})]})})]},fe.id))})]})}),ge.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",ge.length," of ",j.length," Items"]})]})]}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:t.jsxs("div",{className:"modal-content",onClick:fe=>fe.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:k.editingId?"Edit Process":"Add Process"}),t.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:""})]}),t.jsxs("form",{onSubmit:re,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyId",children:"Company *"}),t.jsxs("select",{id:"companyId",value:k.companyId,onChange:fe=>Z({...k,companyId:fe.target.value}),required:!0,disabled:!!k.editingId,children:[t.jsx("option",{value:"",children:"Select Company"}),N.filter(fe=>fe.status==="Active").map(fe=>t.jsx("option",{value:fe.id,children:fe.companyName},fe.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"processDate",children:"Process Date *"}),t.jsx("input",{id:"processDate",type:"date",value:k.processDate,onChange:fe=>Z({...k,processDate:fe.target.value}),required:!0,disabled:!!k.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:k.incinerationWeightKg,onChange:fe=>Z({...k,incinerationWeightKg:parseFloat(fe.target.value)||0}),required:!0,disabled:!!k.editingId&&k.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:k.autoclaveWeightKg,onChange:fe=>Z({...k,autoclaveWeightKg:parseFloat(fe.target.value)||0}),required:!0,disabled:!!k.editingId&&k.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:k.notes||"",onChange:fe=>Z({...k,notes:fe.target.value||null}),disabled:!!k.editingId&&k.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save"})]})]})]})}),d&&A&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:fe=>fe.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Process Details"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:A.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Process Date:"}),t.jsx("span",{children:new Date(A.processDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[A.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[A.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight:"}),t.jsxs("span",{children:[(Number(A.incinerationWeightKg)+Number(A.autoclaveWeightKg)).toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:Ie(A.status),children:A.status})]}),A.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:A.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Close"})})]})})]})},vte="http://localhost:3000/api/v1",xte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},mp=async(r,e={})=>{const n=xte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?c=l.message.join(", "):typeof l.message=="string"?c=l.message:l.error&&(c=typeof l.error=="string"?l.error:JSON.stringify(l.error)),i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c=l.message||l.error||"Forbidden: You do not have permission to access this resource":i.status===500&&(c=l.message||l.error||"Internal server error")}catch{i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c="Forbidden: You do not have permission to access this resource":i.status===500&&(c="Internal server error")}throw new Error(c)}return(await i.json()).data},wF=async r=>{const n=new URLSearchParams().toString();return mp(`/invoices${n?`?${n}`:""}`)},K0=async r=>{const e=r?{...r}:{};e.fromDate&&!e.invoiceFromDate&&(e.invoiceFromDate=e.fromDate),e.toDate&&!e.invoiceToDate&&(e.invoiceToDate=e.toDate),e.search&&!e.searchText&&(e.searchText=e.search),e.sortDir&&!e.sortOrder&&(e.sortOrder=e.sortDir);const n={};return Object.keys(e).forEach(a=>{const i=e[a];i!=null&&i!==""&&(n[a]=i)}),mp("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},yte=async r=>mp("/invoices",{method:"POST",body:JSON.stringify(r)}),bte=async(r,e)=>mp(`/invoices/${r}`,{method:"PUT",body:JSON.stringify(e)}),wte=async r=>mp("/invoices/generate",{method:"POST",body:JSON.stringify(r)}),jte=async r=>mp("/invoices/generate-weight",{method:"POST",body:JSON.stringify(r)}),Cte=async r=>mp("/invoices/generate-month",{method:"POST",body:JSON.stringify(r)}),Nte="http://localhost:3000/api/v1",Ste=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Qg=async(r,e={})=>{const n=Ste(),a={"Content-Type":"application/json",...e.headers};if(n&&(a.Authorization=`Bearer ${n}`),e.body&&r.includes("/payments"))try{const c=JSON.parse(e.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",r),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const i=await fetch(`${Nte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data};var Ja=(r=>(r.CASH="Cash",r.CHEQUE="Cheque",r.BANK_TRANSFER="Bank Transfer",r.UPI="UPI",r.NEFT="NEFT",r.RTGS="RTGS",r.OTHER="Other",r))(Ja||{});const jF=async r=>Qg("/payments",{method:"POST",body:JSON.stringify(r)}),Bte=async r=>{const e=new URLSearchParams;r!=null&&r.companyId&&e.append("companyId",r.companyId),r!=null&&r.status&&e.append("status",r.status),r!=null&&r.paymentDateFrom&&e.append("paymentDateFrom",r.paymentDateFrom),r!=null&&r.paymentDateTo&&e.append("paymentDateTo",r.paymentDateTo);const n=`/payments${e.toString()?`?${e.toString()}`:""}`;return Qg(n,{method:"GET"})},w6=async r=>Qg(`/payments/receipts/${r}`,{method:"GET"}),Ete=async r=>{const e=new URLSearchParams;r&&e.append("companyId",r);const n=`/payments/without-receipt${e.toString()?`?${e.toString()}`:""}`;return Qg(n,{method:"GET"})},Ite=async r=>Qg("/payments/receipts/manual",{method:"POST",body:JSON.stringify(r)}),Tte=()=>{const{logout:r}=xa(),e=Pn(),n=ti(),[a,i]=P.useState(""),[s,c]=P.useState("All"),[l,u]=P.useState(!1),[o,d]=P.useState(!1),[h,A]=P.useState(!1),[f,g]=P.useState(!1),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),[_,k]=P.useState(!1),[Z,ee]=P.useState([]),[V,re]=P.useState(!1),[R,Y]=P.useState(null),[L,$]=P.useState(!1),[je,ge]=P.useState(null),[Ie,_e]=P.useState(new Set),[fe,le]=P.useState(null),[ve,se]=P.useState(null),[he,Ne]=P.useState(!1),[Pe,ye]=P.useState(null),[ce,q]=P.useState(null),[pe,oe]=P.useState(!1),We=()=>{oe(!pe)},[Re,Ee]=P.useState([]),[ae,Le]=P.useState([]),[Ze,jt]=P.useState([]);P.useEffect(()=>{Lt()},[]);const Lt=async()=>{Ne(!0),ye(null);try{const bt=await Qa.getAllCompanies(!0),Sr=bt.map(Xr=>({id:Xr.id,companyCode:Xr.companyCode,companyName:Xr.companyName,status:Xr.status}));Ee(Sr);const Dn=(await Os.getAllHcfs(void 0,!0)).map(Xr=>{var Un;return{id:Xr.id,hcfCode:Xr.hcfCode,hcfName:Xr.hcfName,companyName:((Un=bt.find(Ur=>Ur.id===Xr.companyId))==null?void 0:Un.companyName)||"",status:Xr.status||"Active"}});Le(Dn),await Ct(Sr,Dn)}catch(bt){console.error("Error loading data:",bt);const Sr=bt.message||"Failed to load data";Sr.includes("Internal server error")||Sr.includes("500")?ye("Internal server error. Please check the backend logs."):ye(Sr)}finally{Ne(!1)}},Ct=async(bt,Sr)=>{try{const dn=await wF();console.log("Loaded invoices:",dn.length),console.log("Companies available:",bt.length),console.log("HCFs available:",Sr.length);const Dn=dn.map(Xr=>{var ei,os,jn,Ss,ji,vi,Ui,Bi;const Un=bt.find(Bs=>Bs.id===Xr.companyId),Ur=Sr.find(Bs=>Bs.id===Xr.hcfId);return dn.indexOf(Xr)===0&&console.log("First invoice mapping:",{invoiceId:Xr.invoiceId,companyId:Xr.companyId,hcfId:Xr.hcfId,foundCompany:!!Un,foundHcf:!!Ur,companyName:Un==null?void 0:Un.companyName,hcfCode:Ur==null?void 0:Ur.hcfCode}),{...Xr,id:Xr.invoiceId,invoiceNum:Xr.invoiceNumber,invoiceStatus:Xr.status,companyName:(Un==null?void 0:Un.companyName)||Xr.companyName||"",hcfCode:(Ur==null?void 0:Ur.hcfCode)||Xr.hcfCode||"",invoiceDate:Xr.invoiceDate||"",dueDate:Xr.dueDate||"",billingDays:Xr.billingDays!==null&&Xr.billingDays!==void 0?Xr.billingDays.toString():"",bedCount:Xr.bedCount!==null&&Xr.bedCount!==void 0?Xr.bedCount.toString():"",bedRate:Xr.bedRate!==null&&Xr.bedRate!==void 0?Xr.bedRate.toString():"",weightInKg:Xr.weightInKg!==null&&Xr.weightInKg!==void 0?Xr.weightInKg.toString():"",kgRate:Xr.kgRate!==null&&Xr.kgRate!==void 0?Xr.kgRate.toString():"",lumpsumAmount:Xr.lumpsumAmount!==null&&Xr.lumpsumAmount!==void 0?Xr.lumpsumAmount.toString():"",taxableValue:((ei=Xr.taxableValue)==null?void 0:ei.toString())||"",igst:((os=Xr.igst)==null?void 0:os.toString())||"",cgst:((jn=Xr.cgst)==null?void 0:jn.toString())||"",sgst:((Ss=Xr.sgst)==null?void 0:Ss.toString())||"",roundOff:((ji=Xr.roundOff)==null?void 0:ji.toString())||"",invoiceValue:((vi=Xr.invoiceValue)==null?void 0:vi.toString())||"",totalPaidAmount:((Ui=Xr.totalPaidAmount)==null?void 0:Ui.toString())||"",balanceAmount:((Bi=Xr.balanceAmount)==null?void 0:Bi.toString())||""}});console.log("Mapped invoices:",Dn.length),jt(Dn),Dn.length>0&&ye(null)}catch(dn){console.error("Error loading invoices:",dn);const Dn=dn.message||"Failed to load invoices";if(Dn.includes("Unauthorized")||Dn.includes("Forbidden")||Dn.includes("permission")){ye("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw Dn.includes("Internal server error")||Dn.includes("500")?ye("Internal server error. Please check the backend logs."):ye(Dn),dn}},Xt=async()=>{await Ct(Re,ae)},_r=Ze.filter(bt=>{var Dn;const Sr=bt.invoiceNum.toLowerCase().includes(a.toLowerCase())||bt.companyName.toLowerCase().includes(a.toLowerCase())||bt.hcfCode.toLowerCase().includes(a.toLowerCase())||((Dn=ae.find(Xr=>Xr.hcfCode===bt.hcfCode))==null?void 0:Dn.hcfName.toLowerCase().includes(a.toLowerCase())),dn=s==="All"||bt.invoiceStatus===s;return Sr&&dn}),Or=()=>{le(null),u(!0)},He=bt=>{se(bt),d(!0)},Zt=bt=>{bt.invoiceStatus==="Draft"?(le(bt),u(!0)):alert("Only Draft invoices can be edited.")},Bt=bt=>{if(bt.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},$r=bt=>{window.confirm("Are you sure you want to cancel this invoice?")&&jt(Ze.map(Sr=>Sr.id===bt.id?{...Sr,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:Sr))},pr=async bt=>{Ne(!0),ye(null),q(null);try{const Sr=await recordPayment(bt);q(`Payment recorded successfully! Receipt Number: ${Sr.data.receipt.receiptNumber}`);const dn=await w6(Sr.data.receipt.receiptId);Y(dn.data),re(!0),await Xt(),$(!1),ge(null)}catch(Sr){console.error("Error recording payment:",Sr);const dn=Sr.message||"Failed to record payment";ye(dn)}finally{Ne(!1)}},on=bt=>bt==="Generated"?"DUE":bt,Yr=bt=>bt.invoiceStatus==="Generated"||bt.invoiceStatus==="Partially Paid",qr=bt=>Ie.has(bt),Ir=bt=>{if(!Yr(bt))return;const Sr=new Set(Ie);Sr.has(bt.id)?Sr.delete(bt.id):Sr.add(bt.id),_e(Sr)},dr=()=>{if(_r.filter(dn=>Ie.has(dn.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const Sr=Array.from(Ie);n(`/finance/payment?invoices=${Sr.join(",")}`)},Cr=()=>{const bt=_r.filter(dn=>Ie.has(dn.id)),Sr=bt.reduce((dn,Dn)=>dn+parseFloat(Dn.balanceAmount||"0"),0);return{count:bt.length,totalBalance:Sr}},Vr=async bt=>{Ne(!0),ye(null),q(null);try{const Sr=await jF(bt);q(`Payment processed successfully! Receipt Number: ${Sr.data.receipt.receiptNumber}`);const dn=await w6(Sr.data.receipt.receiptId);Y(dn.data),re(!0),await Xt(),k(!1)}catch(Sr){console.error("Error processing payment:",Sr);const dn=Sr.message||"Failed to process payment";ye(dn)}finally{Ne(!1)}},zr=bt=>{window.print()},gn=()=>{alert("Export functionality will be implemented")},Wr=async(bt,Sr=!1)=>{Ne(!0),ye(null),q(null);try{const dn=Re.find(Xr=>Xr.companyName===bt.companyName),Dn=ae.find(Xr=>Xr.hcfCode===bt.hcfCode);if(!dn||!Dn)throw new Error("Company or HCF not found");if(fe){const Xr={invoiceDate:bt.invoiceDate,dueDate:bt.dueDate,billingType:bt.billingType,billingDays:bt.billingDays?parseInt(bt.billingDays):void 0,billingOption:bt.billingOption,bedCount:bt.bedCount?parseInt(bt.bedCount):void 0,bedRate:bt.bedRate?parseFloat(bt.bedRate):void 0,weightInKg:bt.weightInKg?parseFloat(bt.weightInKg):void 0,kgRate:bt.kgRate?parseFloat(bt.kgRate):void 0,lumpsumAmount:bt.lumpsumAmount?parseFloat(bt.lumpsumAmount):void 0,taxableValue:bt.taxableValue?parseFloat(bt.taxableValue):void 0,igst:bt.igst?parseFloat(bt.igst):void 0,cgst:bt.cgst?parseFloat(bt.cgst):void 0,sgst:bt.sgst?parseFloat(bt.sgst):void 0,roundOff:bt.roundOff?parseFloat(bt.roundOff):void 0,invoiceValue:bt.invoiceValue?parseFloat(bt.invoiceValue):void 0,notes:bt.notes};await bte(fe.id,Xr),q("Invoice updated successfully")}else{const Xr={companyId:dn.id,hcfId:Dn.id,invoiceDate:bt.invoiceDate||new Date().toISOString().split("T")[0],dueDate:bt.dueDate||new Date().toISOString().split("T")[0],billingType:bt.billingType||"Monthly",billingDays:bt.billingDays?parseInt(bt.billingDays):void 0,billingOption:bt.billingOption||"Bed-wise",generationType:"Manual",bedCount:bt.bedCount?parseInt(bt.bedCount):void 0,bedRate:bt.bedRate?parseFloat(bt.bedRate):void 0,weightInKg:bt.weightInKg?parseFloat(bt.weightInKg):void 0,kgRate:bt.kgRate?parseFloat(bt.kgRate):void 0,lumpsumAmount:bt.lumpsumAmount?parseFloat(bt.lumpsumAmount):void 0,taxableValue:bt.taxableValue?parseFloat(bt.taxableValue):void 0,igst:bt.igst?parseFloat(bt.igst):void 0,cgst:bt.cgst?parseFloat(bt.cgst):void 0,sgst:bt.sgst?parseFloat(bt.sgst):void 0,roundOff:bt.roundOff?parseFloat(bt.roundOff):void 0,invoiceValue:bt.invoiceValue?parseFloat(bt.invoiceValue):void 0,notes:bt.notes};await yte(Xr),q("Invoice created successfully")}await Xt(),u(!1),le(null)}catch(dn){console.error("Error saving invoice:",dn);const Dn=dn.message||"Failed to save invoice";Dn.includes("Internal server error")||Dn.includes("500")?ye("Internal server error. Please check the backend logs."):ye(Dn)}finally{Ne(!1)}},$n=async bt=>{Ne(!0),ye(null),q(null);try{const Sr=await wte(bt);if(Sr.summary.success>0&&q(`Generated ${Sr.summary.success} invoice(s) successfully. ${Sr.summary.failed} failed.`),Sr.failed.length>0){const dn=Sr.failed.map(Dn=>`${Dn.hcfCode}: ${Dn.reason}`).join(", ");ye(`Some invoices failed: ${dn}`)}await Xt(),A(!1)}catch(Sr){console.error("Error generating invoices:",Sr);const dn=Sr.message||"Failed to generate invoices";dn.includes("Internal server error")||dn.includes("500")?ye("Internal server error. Please check the backend logs."):ye(dn)}finally{Ne(!1)}},Lr=async bt=>{Ne(!0),ye(null),q(null);try{const Sr=await jte(bt);if(Sr.summary.success>0&&q(`Generated ${Sr.summary.success} invoice(s) successfully (Weight-based). ${Sr.summary.failed} failed.`),Sr.failed.length>0){const dn=Sr.failed.map(Dn=>`${Dn.hcfCode}: ${Dn.reason}`).join(", ");ye(`Some invoices failed: ${dn}`)}await Xt(),g(!1)}catch(Sr){console.error("Error generating weight-based invoices:",Sr);const dn=Sr.message||"Failed to generate invoices";dn.includes("Internal server error")||dn.includes("500")?ye("Internal server error. Please check the backend logs."):ye(dn)}finally{Ne(!1)}},Dr=async bt=>{Ne(!0),ye(null),q(null);try{const Sr=await Cte(bt);if(q(`Generated ${Sr.summary.success} invoice(s) successfully. ${Sr.summary.failed} failed. ${Sr.summary.skipped||0} skipped.`),Sr.skipped&&Sr.skipped.length>0&&(j({skipped:Sr.skipped}),N(!0)),Sr.failed.length>0){const dn=Sr.failed.map(Dn=>`${Dn.hcfCode}: ${Dn.reason}`).join(", ");ye(`Some invoices failed: ${dn}`)}await Xt(),x(!1),b(!1)}catch(Sr){console.error("Error generating month-based invoices:",Sr);const dn=Sr.message||"Failed to generate invoices";dn.includes("Internal server error")||dn.includes("500")?ye("Internal server error during invoice generation. Please check the backend logs."):ye(dn)}finally{Ne(!1)}},wn=bt=>{const Sr=parseFloat(bt.taxableValue||"0"),dn=parseFloat(bt.igst||"0"),Dn=parseFloat(bt.cgst||"0"),Xr=parseFloat(bt.sgst||"0"),Un=parseFloat(bt.roundOff||"0");return(Sr+dn+Dn+Xr+Un).toFixed(2)},cn=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${pe?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!pe&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:We,"aria-label":pe?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:pe?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:cn.map(bt=>t.jsx("li",{children:t.jsxs(rn,{to:bt.path,className:`nav-link ${bt.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:bt.icon}),!pe&&t.jsx("span",{className:"nav-label",children:bt.label})]})},bt.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!pe&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!pe&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Invoice Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Invoice Management"})}),Pe&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[Pe,t.jsx("button",{onClick:()=>ye(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),ce&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[ce,t.jsx("button",{onClick:()=>q(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search Invoice...",value:a,onChange:bt=>i(bt.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:bt=>c(bt.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"DUE"}),t.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),t.jsxs("button",{className:"export-btn",onClick:gn,disabled:he,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>x(!0),disabled:he,style:{marginRight:"8px",backgroundColor:"#3b82f6"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Bed / Lumpsum"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>b(!0),disabled:he,style:{marginRight:"8px",backgroundColor:"#10b981"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Weight Based"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:Or,disabled:he,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Invoice"]})]}),he&&!Ze.length&&t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),t.jsx("div",{className:"invoice-table-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice Number"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{children:"Invoice Value"}),t.jsx("th",{children:"Paid Amount"}),t.jsx("th",{children:"Balance"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_r.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:11,className:"empty-message",children:"No invoice records found"})}):_r.map(bt=>{const Sr=ae.find(Xr=>Xr.hcfCode===bt.hcfCode),dn=Yr(bt),Dn=qr(bt.id);return t.jsxs("tr",{style:{opacity:bt.invoiceStatus==="Paid"?.6:1},children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:Dn,onChange:()=>Ir(bt),disabled:!dn,title:dn?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),t.jsx("td",{children:bt.invoiceNum||"-"}),t.jsx("td",{children:bt.companyName||"-"}),t.jsx("td",{children:Sr?`${bt.hcfCode} - ${Sr.hcfName}`:bt.hcfCode}),t.jsx("td",{children:bt.invoiceDate||"-"}),t.jsx("td",{children:bt.dueDate||"-"}),t.jsxs("td",{children:["",bt.invoiceValue||"0"]}),t.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(bt.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(bt.balanceAmount||"0").toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${bt.invoiceStatus.toLowerCase().replace(" ","-")}`,children:on(bt.invoiceStatus)})}),t.jsx("td",{children:t.jsxs("div",{className:"invoice-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>He(bt),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),bt.invoiceStatus==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Zt(bt),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>Bt(bt),title:"Generate",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>zr(),title:"Download PDF",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),bt.invoiceStatus!=="Cancelled"&&bt.invoiceStatus!=="Paid"&&t.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>$r(bt),title:"Cancel",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},bt.id)})})]})}),Ie.size>0&&t.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),t.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:Cr().count})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",Cr().totalBalance.toFixed(2)]})]})]}),t.jsx("div",{style:{flexShrink:0},children:t.jsxs("button",{onClick:dr,disabled:Ie.size===0,title:Ie.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:Ie.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:Ie.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:bt=>{Ie.size>0&&(bt.currentTarget.style.background="#059669",bt.currentTarget.style.transform="translateY(-1px)",bt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:bt=>{Ie.size>0&&(bt.currentTarget.style.background="#10b981",bt.currentTarget.style.transform="translateY(0)",bt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),t.jsxs("div",{className:"invoice-pagination-info",style:{marginBottom:Ie.size>0?"80px":"0"},children:["Showing ",_r.length," of ",Ze.length," Items"]})]})]}),l&&t.jsx(kte,{invoice:fe,companies:Re.filter(bt=>bt.status==="Active"),hcfs:ae.filter(bt=>bt.status==="Active"),onClose:()=>{u(!1),le(null)},onSave:Wr,calculateInvoiceValue:wn}),o&&ve&&t.jsx(Pte,{invoice:ve,hcfs:ae,onClose:()=>{d(!1),se(null)},onPrint:zr}),_&&t.jsx(Dte,{invoices:Z,companies:Re.filter(bt=>bt.status==="Active"),onClose:()=>{k(!1),ee([])},onProcessPayment:Vr,loading:he}),L&&je&&t.jsx(Mte,{invoice:je,onClose:()=>{$(!1),ge(null)},onSubmit:pr,loading:he}),V&&R&&t.jsx(Rte,{receiptData:R,onClose:()=>{re(!1),Y(null)}}),h&&t.jsx(_te,{companies:Re.filter(bt=>bt.status==="Active"),hcfs:ae.filter(bt=>bt.status==="Active"),onClose:()=>A(!1),onGenerate:$n,loading:he}),f&&t.jsx(Ote,{companies:Re.filter(bt=>bt.status==="Active"),hcfs:ae.filter(bt=>bt.status==="Active"),onClose:()=>g(!1),onGenerate:Lr,loading:he}),m&&t.jsx(j6,{companies:Re.filter(bt=>bt.status==="Active"),onClose:()=>x(!1),onGenerate:Dr,loading:he,generationMode:"Bed/Lumpsum"}),y&&t.jsx(j6,{companies:Re.filter(bt=>bt.status==="Active"),onClose:()=>b(!1),onGenerate:Dr,loading:he,generationMode:"Weight Based"}),w&&S&&t.jsx(Fte,{skipped:S.skipped,onClose:()=>{N(!1),j(null)}})]})},_te=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=P.useState({companyId:"",billingPeriodStart:"",billingPeriodEnd:"",billingType:"Monthly",dueDays:30}),[l,u]=P.useState([]),o=s.companyId?e.filter(h=>{const A=r.find(f=>f.id===s.companyId);return A&&h.companyName===A.companyName}):e,d=h=>{h.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Auto Generate Invoices"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:d,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:h=>{c({...s,companyId:h.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(h=>t.jsx("option",{value:h.id,children:h.companyName},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:h=>{const A=Array.from(h.target.selectedOptions,f=>f.value);u(A)},style:{minHeight:"100px"},children:o.map(h=>t.jsxs("option",{value:h.id,children:[h.hcfCode," - ",h.hcfName]},h.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period Start *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodStart,onChange:h=>c({...s,billingPeriodStart:h.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period End *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodEnd,onChange:h=>c({...s,billingPeriodEnd:h.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option Filter"}),t.jsxs("select",{value:s.billingOption||"",onChange:h=>c({...s,billingOption:h.target.value}),children:[t.jsx("option",{value:"",children:"All Options"}),t.jsx("option",{value:"Bed-wise",children:"Bed-wise"}),t.jsx("option",{value:"Weight-wise",children:"Weight-wise"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Filter HCFs by billing option (optional)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:h=>c({...s,billingType:h.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:h=>c({...s,dueDays:parseInt(h.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices"})]})]})]})})},Ote=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=P.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),[l,u]=P.useState([]),o=s.companyId?e.filter(h=>{const A=r.find(f=>f.id===s.companyId);return A&&h.companyName===A.companyName}):e,d=h=>{h.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Invoice (Weight-Based)"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:d,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:h=>{c({...s,companyId:h.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(h=>t.jsx("option",{value:h.id,children:h.companyName},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:h=>{const A=Array.from(h.target.selectedOptions,f=>f.value);u(A)},style:{minHeight:"100px"},children:o.map(h=>t.jsxs("option",{value:h.id,children:[h.hcfCode," - ",h.hcfName]},h.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date From *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateFrom,onChange:h=>c({...s,pickupDateFrom:h.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Start date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date To *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateTo,onChange:h=>c({...s,pickupDateTo:h.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"End date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:h=>c({...s,billingType:h.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:h=>c({...s,dueDays:parseInt(h.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices (Weight-Based)"})]})]})]})})},kte=({invoice:r,companies:e,hcfs:n,onClose:a,onSave:i,calculateInvoiceValue:s})=>{const[c,l]=P.useState(r||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),u=c.companyName?n.filter(f=>f.companyName===c.companyName):n,o=(f,g)=>{const m={...c,[f]:g};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(f)){const w=s(m);m.invoiceValue=w}const x=parseFloat(m.invoiceValue||"0"),y=parseFloat(m.totalPaidAmount||"0"),b=(x-y).toFixed(2);m.balanceAmount=b,l(m)},d=f=>{f.preventDefault(),i(c,!1)},h=f=>{if(f.preventDefault(),!c.companyName||!c.hcfCode){alert("Please fill in all required fields");return}window.confirm("Are you sure you want to generate this invoice? This action cannot be undone.")&&i(c,!0)},A=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&l({companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Invoice":"Create Invoice"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"invoice-form",onSubmit:d,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:f=>{o("companyName",f.target.value),o("hcfCode","")},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(f=>t.jsx("option",{value:f.companyName,children:f.companyName},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:f=>o("hcfCode",f.target.value),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),u.map(f=>t.jsxs("option",{value:f.hcfCode,children:[f.hcfCode," - ",f.hcfName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Number *"}),t.jsx("input",{type:"text",value:c.invoiceNum||"",onChange:f=>o("invoiceNum",f.target.value),required:!0,placeholder:"e.g., INV-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",value:c.invoiceDate||"",onChange:f=>o("invoiceDate",f.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Date *"}),t.jsx("input",{type:"date",value:c.dueDate||"",onChange:f=>o("dueDate",f.target.value),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"",onChange:f=>o("billingType",f.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Days"}),t.jsx("input",{type:"text",value:c.billingDays||"",onChange:f=>o("billingDays",f.target.value),placeholder:"Enter billing days"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:c.bedCount||"",onChange:f=>o("bedCount",f.target.value),placeholder:"Enter bed count"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:c.bedRate||"",onChange:f=>o("bedRate",f.target.value),placeholder:"Enter bed rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight in Kg"}),t.jsx("input",{type:"text",value:c.weightInKg||"",onChange:f=>o("weightInKg",f.target.value),placeholder:"Enter weight in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:c.kgRate||"",onChange:f=>o("kgRate",f.target.value),placeholder:"Enter kg rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum Amount"}),t.jsx("input",{type:"text",value:c.lumpsumAmount||"",onChange:f=>o("lumpsumAmount",f.target.value),placeholder:"Enter lumpsum amount"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Tax & Amount Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Taxable Value *"}),t.jsx("input",{type:"text",value:c.taxableValue||"",onChange:f=>o("taxableValue",f.target.value),required:!0,placeholder:"Enter taxable value"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IGST"}),t.jsx("input",{type:"text",value:c.igst||"",onChange:f=>o("igst",f.target.value),placeholder:"Enter IGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CGST"}),t.jsx("input",{type:"text",value:c.cgst||"",onChange:f=>o("cgst",f.target.value),placeholder:"Enter CGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"SGST"}),t.jsx("input",{type:"text",value:c.sgst||"",onChange:f=>o("sgst",f.target.value),placeholder:"Enter SGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Round Off"}),t.jsx("input",{type:"text",value:c.roundOff||"0",onChange:f=>o("roundOff",f.target.value),placeholder:"Enter round off"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Value"}),t.jsx("input",{type:"text",value:c.invoiceValue||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Paid Amount"}),t.jsx("input",{type:"text",value:c.totalPaidAmount||"0",onChange:f=>o("totalPaidAmount",f.target.value),placeholder:"Enter paid amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Balance Amount"}),t.jsx("input",{type:"text",value:c.balanceAmount||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:A,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Draft"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:h,children:"Generate Invoice"})]})]})]})})},Pte=({invoice:r,hcfs:e,onClose:n,onPrint:a})=>{const i=e.find(l=>l.hcfCode===r.hcfCode),s=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",r.invoiceNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"invoice-view-content",children:[t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Company Name:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"HCF Code:"}),t.jsx("span",{children:i?`${r.hcfCode} - ${i.hcfName}`:r.hcfCode})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Number:"}),t.jsx("span",{children:r.invoiceNum||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Date:"}),t.jsx("span",{children:r.invoiceDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Due Date:"}),t.jsx("span",{children:r.dueDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${r.invoiceStatus.toLowerCase().replace(" ","-")}`,children:r.invoiceStatus})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Type:"}),t.jsx("span",{children:r.billingType||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Days:"}),t.jsx("span",{children:r.billingDays||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Count:"}),t.jsx("span",{children:r.bedCount||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Rate:"}),t.jsxs("span",{children:["",r.bedRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Weight in Kg:"}),t.jsxs("span",{children:[r.weightInKg||"-"," kg"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Kg Rate:"}),t.jsxs("span",{children:["",r.kgRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Lumpsum Amount:"}),t.jsxs("span",{children:["",r.lumpsumAmount||"-"]})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Taxable Value:"}),t.jsxs("span",{children:["",r.taxableValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"IGST:"}),t.jsxs("span",{children:["",r.igst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"CGST:"}),t.jsxs("span",{children:["",r.cgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"SGST:"}),t.jsxs("span",{children:["",r.sgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Round Off:"}),t.jsxs("span",{children:["",r.roundOff||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Invoice Value:"}),t.jsxs("span",{children:["",r.invoiceValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Total Paid Amount:"}),t.jsxs("span",{children:["",r.totalPaidAmount||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Balance Amount:"}),t.jsxs("span",{children:["",r.balanceAmount||"0"]})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(r.invoiceStatus==="Generated"||r.invoiceStatus==="Partially Paid"||r.invoiceStatus==="Paid")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:s,children:"Add Receipt"})]}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(r),children:"Print / Download PDF"})]})]})})},j6=({companies:r,onClose:e,onGenerate:n,loading:a,generationMode:i})=>{const s=new Date,c=s.getMonth()+1,l=s.getFullYear();let u=c-1,o=l;u===0&&(u=12,o=l-1);const[d,h]=P.useState({companyId:"",month:u,year:o,invoiceDate:new Date().toISOString().split("T")[0],generationMode:i,dueDays:30}),A=["January","February","March","April","May","June","July","August","September","October","November","December"],f=g=>{g.preventDefault(),n(d)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Auto Generate Invoices (",i,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:d.companyId,onChange:g=>h({...d,companyId:g.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Month *"}),t.jsx("select",{required:!0,value:d.month,onChange:g=>h({...d,month:parseInt(g.target.value)}),children:A.map((g,m)=>t.jsxs("option",{value:m+1,disabled:m+1!==u,children:[g," ",m+1===u?"(Previous Month)":""]},m+1))}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Only previous month (",A[u-1]," ",o,") can be selected"]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Year *"}),t.jsx("input",{type:"number",required:!0,min:"2000",max:"2100",value:d.year,onChange:g=>h({...d,year:parseInt(g.target.value)}),disabled:!0}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Year is automatically set to previous month's year"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",required:!0,value:d.invoiceDate,onChange:g=>h({...d,invoiceDate:g.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Enter the invoice date"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:d.dueDays||30,onChange:g=>h({...d,dueDays:parseInt(g.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Generating...":`Generate Invoices (${i})`})]})]})]})})},Fte=({skipped:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f5f5f5"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),t.jsx("tbody",{children:r.map((n,a)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"OK"})})]})}),Dte=({invoices:r,companies:e,onClose:n,onProcessPayment:a,loading:i})=>{const s=()=>{if(r.length===0)return"";const m=r[0],x=e.find(y=>y.companyName===m.companyName);return(x==null?void 0:x.id)||""},[c,l]=P.useState({companyId:s(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:Ja.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[u,o]=P.useState("FIFO"),[d,h]=P.useState({}),A=r.reduce((m,x)=>m+parseFloat(x.balanceAmount||"0"),0);P.useEffect(()=>{l(m=>({...m,paymentAmount:u==="FIFO"?A:Object.values(d).reduce((x,y)=>x+y,0)}))},[u,d,A]);const f=m=>{if(m.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:u==="FIFO"?[]:r.map(y=>({invoiceId:y.id,allocatedAmount:d[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},g=(m,x)=>{const y=r.find(N=>N.id===m),b=parseFloat((y==null?void 0:y.balanceAmount)||"0"),w=Math.min(Math.max(0,x),b);h(N=>({...N,[m]:w}))};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Make Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",r.length,")"]}),t.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),t.jsx("tbody",{children:r.map(m=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:m.invoiceNum}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.invoiceValue||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(m.balanceAmount||"0").toFixed(2)]})]},m.id))}),t.jsx("tfoot",{children:t.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[t.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),t.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",A.toFixed(2)]})]})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:c.companyId,onChange:m=>l({...c,companyId:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.id,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:m=>l({...c,paymentDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:c.paymentMode,onChange:m=>l({...c,paymentMode:m.target.value}),children:[t.jsx("option",{value:Ja.CASH,children:"Cash"}),t.jsx("option",{value:Ja.CHEQUE,children:"Cheque"}),t.jsx("option",{value:Ja.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:Ja.UPI,children:"UPI"}),t.jsx("option",{value:Ja.NEFT,children:"NEFT"}),t.jsx("option",{value:Ja.RTGS,children:"RTGS"}),t.jsx("option",{value:Ja.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:m=>l({...c,paymentAmount:parseFloat(m.target.value)||0}),disabled:u==="FIFO"}),u==="FIFO"&&t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===Ja.CHEQUE||c.paymentMode===Ja.BANK_TRANSFER||c.paymentMode===Ja.NEFT||c.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:m=>l({...c,referenceNumber:m.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:c.bankName||"",onChange:m=>l({...c,bankName:m.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:m=>l({...c,chequeNumber:m.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:c.chequeDate||"",onChange:m=>l({...c,chequeDate:m.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:c.notes||"",onChange:m=>l({...c,notes:m.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),t.jsx("div",{style:{marginBottom:"15px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:u==="FIFO",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),t.jsx("div",{children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:u==="Manual",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),u==="Manual"&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),t.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map(m=>{const x=parseFloat(m.balanceAmount||"0"),y=d[m.id]||0;return t.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[t.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:m.invoiceNum}),t.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),t.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:b=>g(m.id,parseFloat(b.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},m.id)})}),t.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[t.jsx("strong",{children:"Total Allocated:"})," ",Object.values(d).reduce((m,x)=>m+x,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Processing...":"Process Payment"})]})]})]})})},Mte=({invoice:r,onClose:e,onSubmit:n,loading:a})=>{const[i,s]=P.useState({invoiceId:r.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(r.balanceAmount||"0"),paymentMode:Ja.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async l=>{l.preventDefault();const u=parseFloat(r.balanceAmount||"0");if(i.paymentAmount>u){alert(`Payment amount cannot exceed invoice balance of ${u.toFixed(2)}`);return}if(i.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:c,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),t.jsxs("div",{style:{fontSize:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice #:"}),t.jsx("span",{style:{fontWeight:600},children:r.invoiceNum})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice Value:"}),t.jsxs("span",{children:["",parseFloat(r.invoiceValue||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Paid Amount:"}),t.jsxs("span",{children:["",parseFloat(r.totalPaidAmount||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[t.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),t.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(r.balanceAmount||"0").toFixed(2)]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:i.paymentDate,onChange:l=>s({...i,paymentDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:i.paymentMode,onChange:l=>s({...i,paymentMode:l.target.value}),children:[t.jsx("option",{value:Ja.CASH,children:"Cash"}),t.jsx("option",{value:Ja.CHEQUE,children:"Cheque"}),t.jsx("option",{value:Ja.NEFT,children:"NEFT"}),t.jsx("option",{value:Ja.RTGS,children:"RTGS"}),t.jsx("option",{value:Ja.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:Ja.UPI,children:"UPI"}),t.jsx("option",{value:Ja.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(r.balanceAmount||"0"),value:i.paymentAmount,onChange:l=>s({...i,paymentAmount:parseFloat(l.target.value)||0})}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(r.balanceAmount||"0").toFixed(2)]})]}),(i.paymentMode===Ja.CHEQUE||i.paymentMode===Ja.BANK_TRANSFER||i.paymentMode===Ja.NEFT||i.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:i.referenceNumber||"",onChange:l=>s({...i,referenceNumber:l.target.value||null}),placeholder:"Transaction/Reference number"})]}),i.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.bankName||"",onChange:l=>s({...i,bankName:l.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:i.chequeNumber||"",onChange:l=>s({...i,chequeNumber:l.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:i.chequeDate||"",onChange:l=>s({...i,chequeDate:l.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},Rte=({receiptData:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",r.receiptNumber]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),t.jsx("span",{children:r.receiptDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),t.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",r.totalAmount.toFixed(2)]})]}),r.payment&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),t.jsx("span",{children:r.payment.paymentMode})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),t.jsx("span",{children:r.payment.paymentDate})]})]})]}),r.invoices&&r.invoices.length>0&&t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),t.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),t.jsx("tbody",{children:r.invoices.map((n,a)=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),t.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:t.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",t.jsx("strong",{children:r.receiptNumber})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),Lte=()=>{var re;const{logout:r}=xa(),e=ti(),[n]=W4(),a=n.get("invoices")||"",i=a.split(",").filter(R=>R),[s,c]=P.useState([]),[l,u]=P.useState([]),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState(null),[m,x]=P.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:Ja.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,b]=P.useState(!1),[w,N]=P.useState(!1),S=P.useRef(0),j=P.useRef(null);P.useEffect(()=>{_()},[a]);const _=async()=>{var R,Y;if(i.length===0){A("No invoices selected");return}d(!0),A(null);try{const L=await Qa.getAllCompanies();u(L.filter(_e=>_e.status==="Active"));const je=(await wF()).filter(_e=>i.includes(_e.invoiceId));if(je.length===0){A("Selected invoices not found");return}const ge=je.map(_e=>({id:_e.invoiceId,invoiceId:_e.invoiceId,companyId:_e.companyId,companyName:_e.companyName,hcfId:_e.hcfId,hcfCode:_e.hcfCode,invoiceNum:_e.invoiceNumber,invoiceDate:_e.invoiceDate,dueDate:_e.dueDate,invoiceValue:_e.invoiceValue,totalPaidAmount:_e.totalPaidAmount,balanceAmount:_e.balanceAmount,invoiceStatus:_e.status}));c(ge),ge.length>0&&ge[0].companyId&&x(_e=>({..._e,companyId:ge[0].companyId}));const Ie=ge.reduce((_e,fe)=>_e+parseFloat(fe.balanceAmount||"0"),0);S.current=Ie,x(_e=>({..._e,paymentAmount:Ie}))}catch(L){console.error("Error loading data:",L);let $="Failed to load invoice data";L.message?$=L.message:(Y=(R=L.response)==null?void 0:R.data)!=null&&Y.message?$=L.response.data.message:typeof L=="string"&&($=L),($.includes("Internal server error")||$.includes("500"))&&($="Internal server error. Please check the backend logs or try again later."),A($)}finally{d(!1)}},k=s.reduce((R,Y)=>R+parseFloat(Y.balanceAmount||"0"),0),Z=async R=>{var L;R.preventDefault();let Y=0;if(j.current){const $=j.current.value;Y=$?parseFloat($):0}if((!Y||Y<=0)&&(Y=S.current>0?S.current:m.paymentAmount),Y=Number(Y),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",(L=j.current)==null?void 0:L.value),console.log("Payment Amount Ref:",S.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Current Amount:",Y),Y>k){A(`Payment amount (${Y.toFixed(2)}) cannot exceed total payable (${k.toFixed(2)})`);return}if(Y<=0||isNaN(Y)){A("Payment amount must be greater than zero"),Y=k,S.current=k,x($=>({...$,paymentAmount:k})),j.current&&(j.current.value=k.toString());return}S.current=Y,x($=>({...$,paymentAmount:Y})),j.current&&(j.current.value=Y.toString()),b(!0)},ee=async()=>{var R,Y,L;b(!1),N(!0),d(!0),A(null),g(null);try{let $=0;if(j.current){const fe=j.current.value;$=fe?parseFloat(fe):0,console.log("Reading from input field:",fe,"->",$)}if((!$||$<=0)&&($=S.current>0?S.current:m.paymentAmount,console.log("Using fallback - Ref:",S.current,"FormData:",m.paymentAmount)),$=Number($),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(R=j.current)==null?void 0:R.value),console.log("Payment Amount Ref:",S.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Final Payment Amount:",$),console.log("Total Payable:",k),!$||$<=0||isNaN($)){A(`Invalid payment amount: ${$}. Please enter a valid amount greater than zero.`),N(!1),d(!1);return}if($>k){A(`Payment amount (${$.toFixed(2)}) cannot exceed total payable (${k.toFixed(2)})`),N(!1),d(!1);return}const je=s.map(fe=>({invoiceId:fe.id,allocatedAmount:0})),ge={companyId:m.companyId||"",paymentDate:m.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:$,paymentMode:m.paymentMode||Ja.CASH,referenceNumber:m.referenceNumber||null,bankName:m.bankName||null,chequeNumber:m.chequeNumber||null,chequeDate:m.chequeDate||null,notes:m.notes||null,invoiceAllocations:je},Ie=Number(ge.paymentAmount);if(!Ie||Ie<=0||isNaN(Ie)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",ge),console.error("Payment Amount:",ge.paymentAmount),console.error("Final Payment Amount:",Ie),A(`Invalid payment amount: ${ge.paymentAmount}. Cannot proceed. Please check the amount and try again.`),N(!1),d(!1);return}ge.paymentAmount=Ie,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",ge),console.log("Payment Amount Type:",typeof ge.paymentAmount),console.log("Payment Amount Value:",ge.paymentAmount),console.log("Payment Amount is Number?",!isNaN(ge.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(ge,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(ge).match(/"paymentAmount":\s*([^,}]+)/));const _e=await jF(ge);e("/finance/payment-success",{state:{receiptNumber:_e.receipt.receiptNumber,receiptId:_e.receipt.receiptId,totalAmount:_e.receipt.totalAmount,receiptDate:_e.receipt.receiptDate,invoiceUpdates:_e.invoiceUpdates}})}catch($){console.error("Error processing payment:",$);let je="Failed to process payment";$.message?je=$.message:(L=(Y=$.response)==null?void 0:Y.data)!=null&&L.message?je=$.response.data.message:typeof $=="string"&&(je=$),(je.includes("Internal server error")||je.includes("500"))&&(je="Internal server error. Please check the backend logs or try again later."),A(je),N(!1)}finally{d(!1)}},V=()=>{e("/finance/invoice-management")};return i.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[t.jsx("h2",{children:"No invoices selected"}),t.jsx("p",{children:"Please select invoices from the Invoice Management page."}),t.jsx("button",{onClick:V,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):t.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[t.jsxs("button",{onClick:V,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:R=>{R.currentTarget.style.background="#F1F5F9",R.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:R=>{R.currentTarget.style.background="#FFFFFF",R.currentTarget.style.borderColor="#E2E8F0"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),t.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),h&&t.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[h,t.jsx("button",{onClick:()=>A(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),f&&t.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:f}),t.jsxs("form",{onSubmit:Z,children:[t.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[t.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",s.length,")"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:s.map(R=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),t.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:R.invoiceNum}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),t.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(R.balanceAmount||"0").toFixed(2)]})]},R.id))}),t.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",k.toFixed(2)]})]})]}),t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),t.jsx("input",{type:"text",value:((re=l.find(R=>R.id===m.companyId))==null?void 0:re.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:m.paymentDate,onChange:R=>x(Y=>({...Y,paymentDate:R.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:m.paymentMode,onChange:R=>x(Y=>({...Y,paymentMode:R.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[t.jsx("option",{value:Ja.CASH,children:"Cash"}),t.jsx("option",{value:Ja.CHEQUE,children:"Cheque"}),t.jsx("option",{value:Ja.NEFT,children:"NEFT"}),t.jsx("option",{value:Ja.RTGS,children:"RTGS"}),t.jsx("option",{value:Ja.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:Ja.UPI,children:"UPI"}),t.jsx("option",{value:Ja.OTHER,children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),t.jsx("input",{ref:j,type:"number",required:!0,min:"0.01",step:"0.01",max:k,value:m.paymentAmount>0?m.paymentAmount:"",onChange:R=>{const Y=R.target.value.trim();if(Y===""){x($=>({...$,paymentAmount:0})),A(null);return}const L=parseFloat(Y);if(isNaN(L)){x($=>({...$,paymentAmount:0}));return}if(L<0){x($=>({...$,paymentAmount:0}));return}L>k?A(`Payment amount cannot exceed total payable of ${k.toFixed(2)}`):A(null),S.current=L,x($=>({...$,paymentAmount:L})),console.log("Payment amount updated to:",L)},onBlur:R=>{const Y=R.target.value.trim();if(Y===""){S.current=k,x($=>({...$,paymentAmount:k}));return}const L=parseFloat(Y);isNaN(L)||L<=0?(S.current=k,x($=>({...$,paymentAmount:k}))):(S.current=L,x($=>({...$,paymentAmount:L})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",k.toFixed(2)," (supports partial payments)"]})]}),(m.paymentMode===Ja.CHEQUE||m.paymentMode===Ja.BANK_TRANSFER||m.paymentMode===Ja.NEFT||m.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:R=>x({...m,referenceNumber:R.target.value||null}),placeholder:"Transaction/Reference number"})]}),m.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:R=>x({...m,bankName:R.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:R=>x({...m,chequeNumber:R.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:R=>x({...m,chequeDate:R.target.value||null})})]})]})]}),(m.paymentMode===Ja.CHEQUE||m.paymentMode===Ja.BANK_TRANSFER||m.paymentMode===Ja.NEFT||m.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:R=>x({...m,referenceNumber:R.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),m.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:R=>x({...m,bankName:R.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:R=>x({...m,chequeNumber:R.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:R=>x({...m,chequeDate:R.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),t.jsx("textarea",{value:m.notes||"",onChange:R=>x({...m,notes:R.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),t.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),t.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[t.jsx("button",{type:"button",onClick:V,disabled:o||w,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:o||w?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o||w,style:{padding:"12px 32px",background:w?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:w?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:w?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:R=>{!w&&!o&&(R.currentTarget.style.background="#059669",R.currentTarget.style.transform="translateY(-1px)",R.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:R=>{!w&&!o&&(R.currentTarget.style.background="#10b981",R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:w?"Processing...":o?"Loading...":"Process Payment"})]})]}),y&&t.jsx("div",{className:"modal-overlay",onClick:()=>!w&&b(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[t.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:" This action cannot be undone."}),t.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",t.jsxs("strong",{children:["",m.paymentAmount.toFixed(2)]}),"."]}),t.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{type:"button",onClick:()=>b(!1),disabled:w,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:ee,disabled:w,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:w?"not-allowed":"pointer",fontWeight:600},children:w?"Processing...":"Confirm & Process Payment"})]})]})})]})})},Ute=()=>{const r=Pn(),e=ti(),n=r.state;P.useEffect(()=>{if(!(n!=null&&n.receiptId)){e("/finance/invoice-management");return}},[n,e]);const a=()=>{window.print()},i=()=>{e("/finance/invoice-management")};return n?t.jsxs("div",{className:"payment-success-page",children:[t.jsx("div",{className:"payment-success-header",children:t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),t.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),t.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),t.jsxs("div",{className:"payment-success-content",children:[t.jsxs("div",{className:"success-card receipt-card",children:[t.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),t.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),t.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),t.jsx("div",{className:"amount-received-section",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[t.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),t.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),t.jsxs("div",{className:"success-card settlement-card",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),t.jsx("tbody",{children:n.invoiceUpdates.map(s=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:s.invoiceNumber}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",s.totalPaidAmount.toFixed(2)]}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:s.balanceAmount>0?"#dc2626":"#059669"},children:["",s.balanceAmount.toFixed(2)]}),t.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:t.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:s.status==="Paid"?"#d1fae5":s.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:s.status==="Paid"?"#065f46":s.status==="Partially Paid"?"#92400e":"#3730a3"},children:s.status==="Generated"?"DUE":s.status})})]},s.invoiceId))})]})]}),t.jsxs("div",{className:"action-buttons",children:[t.jsxs("button",{onClick:a,className:"primary-action-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),t.jsx("button",{onClick:i,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):t.jsx("div",{style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"No payment data found. Redirecting..."})})},Hte=()=>{const{logout:r}=xa(),e=Pn();ti();const[n,a]=P.useState(""),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(null),[N,S]=P.useState(!1),j=()=>{S(!N)},[_,k]=P.useState({paymentId:"",receiptDate:"",notes:null});P.useEffect(()=>{Z()},[]),P.useEffect(()=>{A.length>0&&(i?ee(i):ee())},[i,A.length]);const Z=async()=>{var L,$;try{m(!0),y(null);const ge=(await Qa.getAllCompanies(!0)).map(Ie=>({id:Ie.id,companyCode:Ie.companyCode,companyName:Ie.companyName,status:Ie.status}));f(ge),console.log("Loaded companies:",ge.length),await ee(),y(null)}catch(je){console.error("Error loading data:",je);const ge=je.message||(($=(L=je.response)==null?void 0:L.data)==null?void 0:$.message)||"Failed to load data";y(ge)}finally{m(!1)}},ee=async L=>{var $,je;try{m(!0),y(null);const ge=await Ete(L),Ie=Array.isArray(ge)?ge:[];h(Ie),y(null),Ie.length>0&&(console.log("Payments loaded:",Ie.length),console.log("Payment company IDs:",Ie.map(_e=>_e.companyId)),console.log("Available companies:",A.map(_e=>({id:_e.id,name:_e.companyName}))))}catch(ge){console.error("Error loading payments:",ge);const Ie=ge.message||((je=($=ge.response)==null?void 0:$.data)==null?void 0:je.message)||"Failed to load payments";y(Ie),h([])}finally{m(!1)}},V=L=>{o(L),k({paymentId:L.paymentId,receiptDate:L.paymentDate,notes:null}),l(!0)},re=async()=>{if(!_.paymentId){y("Please select a payment");return}try{m(!0),y(null),w(null);const L=await Ite(_);w(`Receipt ${L.data.receipt.receiptNumber} created successfully!`),l(!1),o(null),k({paymentId:"",receiptDate:"",notes:null}),await ee(i||void 0)}catch(L){console.error("Error creating receipt:",L),y(L.message||"Failed to create receipt")}finally{m(!1)}},R=d.filter(L=>{var ge,Ie;const $=L.paymentId.toLowerCase().includes(n.toLowerCase())||((ge=L.receiptNumber)==null?void 0:ge.toLowerCase().includes(n.toLowerCase()))||((Ie=A.find(_e=>_e.id===L.companyId))==null?void 0:Ie.companyName.toLowerCase().includes(n.toLowerCase())),je=!i||L.companyId===i;return $&&je}),Y=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${N?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!N&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:j,"aria-label":N?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Y.map(L=>t.jsx("li",{children:t.jsxs(rn,{to:L.path,className:`nav-link ${L.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:L.icon}),!N&&t.jsx("span",{className:"nav-label",children:L.label})]})},L.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!N&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!N&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Receipt Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Receipt Management"})}),x&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[x,t.jsx("button",{onClick:()=>y(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),b&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[b,t.jsx("button",{onClick:()=>w(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by payment ID, receipt number, or company...",value:n,onChange:L=>a(L.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:i,onChange:L=>s(L.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),A.filter(L=>L.status==="Active").map(L=>t.jsx("option",{value:L.id,children:L.companyName},L.id))]})]}),t.jsx("div",{className:"invoice-table-container",children:g&&d.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading payments..."}):R.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:d.length===0?"No payments found without receipts":"No payments match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Payment ID"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Amount"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:R.map(L=>{const $=A.find(je=>je.id===L.companyId);return t.jsxs("tr",{children:[t.jsxs("td",{children:[L.paymentId.substring(0,8),"..."]}),t.jsx("td",{children:($==null?void 0:$.companyName)||L.companyId||"-"}),t.jsx("td",{children:L.paymentDate}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(L.paymentAmount).toFixed(2)]}),t.jsx("td",{children:L.paymentMode}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:L.status==="Completed"?"#d1fae5":"#fef3c7",color:L.status==="Completed"?"#065f46":"#92400e"},children:L.status})}),t.jsx("td",{children:t.jsx("button",{onClick:()=>V(L),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Create Receipt"})})]},L.paymentId)})})]})}),c&&u&&t.jsx("div",{className:"modal-overlay",onClick:()=>l(!1),children:t.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Create Receipt"}),t.jsx("button",{onClick:()=>l(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:t.jsxs("div",{style:{display:"grid",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),t.jsxs("span",{style:{fontWeight:600},children:[u.paymentId.substring(0,8),"..."]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),t.jsxs("span",{style:{fontWeight:600},children:["",Number(u.paymentAmount).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),t.jsx("span",{children:u.paymentDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),t.jsx("span",{children:u.paymentMode})]})]})}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:_.receiptDate||"",onChange:L=>k({..._,receiptDate:L.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:_.notes||"",onChange:L=>k({..._,notes:L.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>l(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:re,disabled:g||!_.receiptDate,style:{padding:"10px 20px",background:g||!_.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:g||!_.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Creating...":"Create Receipt"})]})]})})]})]})]})},CF="http://localhost:3000/api/v1",NF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Wg=async(r,e={})=>{const n=NF(),a={"Content-Type":"application/json",...e.headers};n&&(a.Authorization=`Bearer ${n}`);const i=await fetch(`${CF}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data},Qte=async r=>{const e=r?`?companyId=${r}`:"";return Wg(`/fin-balance${e}`,{method:"GET"})},Wte=async r=>Wg("/fin-balance",{method:"POST",body:JSON.stringify(r)}),$te=async(r,e)=>Wg(`/fin-balance/${r}`,{method:"PUT",body:JSON.stringify(e)}),Vte=async r=>Wg(`/fin-balance/${r}`,{method:"DELETE"}),zte=async r=>{const e=NF(),n=new FormData;n.append("file",r);const a=await fetch(`${CF}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...e&&{Authorization:`Bearer ${e}`}},body:n});if(!a.ok){let s=`HTTP error! status: ${a.status}`;try{const c=await a.json();s=c.message||c.error||s}catch{s="Failed to preview bulk upload"}throw new Error(s)}return(await a.json()).data},Kte=async r=>Wg("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:r})}),Gte=()=>{const{logout:r}=xa(),e=Pn();ti();const n=P.useRef(null),[a,i]=P.useState(""),[s,c]=P.useState(""),[l,u]=P.useState([]),[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(null),[w,N]=P.useState(!1),S=()=>{N(!w)},[j,_]=P.useState(!1),[k,Z]=P.useState(!1),[ee,V]=P.useState(!1),[re,R]=P.useState(null),[Y,L]=P.useState(null),[$,je]=P.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});P.useEffect(()=>{ge()},[]),P.useEffect(()=>{s?Ie(s):Ie()},[s]);const ge=async()=>{try{g(!0),x(null);const q=await Qa.getAllCompanies(!0);d(q.map(oe=>({id:oe.id,companyCode:oe.companyCode,companyName:oe.companyName,status:oe.status})));const pe=await Os.getAllHcfs(void 0,!1);A(pe.map(oe=>{var We;return{id:oe.id,hcfCode:oe.hcfCode,hcfName:oe.hcfName,companyId:oe.companyId,companyName:((We=q.find(Re=>Re.id===oe.companyId))==null?void 0:We.companyName)||""}})),await Ie()}catch(q){console.error("Error loading data:",q),x(q.message||"Failed to load data")}finally{g(!1)}},Ie=async q=>{var pe,oe;try{g(!0),x(null);const We=await Qte(q);u(Array.isArray(We)?We:[]),x(null)}catch(We){console.error("Error loading balances:",We);const Re=We.message||((oe=(pe=We.response)==null?void 0:pe.data)==null?void 0:oe.message)||"Failed to load balances";x(Re),u([])}finally{g(!1)}},_e=async q=>{var oe;const pe=(oe=q.target.files)==null?void 0:oe[0];if(pe)try{g(!0),x(null),b(null);const We=await zte(pe);L(We),V(!0)}catch(We){console.error("Error previewing upload:",We),x(We.message||"Failed to preview Excel file")}finally{g(!1),n.current&&(n.current.value="")}},fe=async()=>{if(Y)try{g(!0),x(null),b(null);const q=await Kte(Y),pe=q.created.length+q.updated.length;b(`Successfully processed ${pe} records (${q.created.length} created, ${q.updated.length} updated)`),V(!1),L(null),await Ie(s||void 0)}catch(q){console.error("Error executing bulk upload:",q),x(q.message||"Failed to execute bulk upload")}finally{g(!1)}},le=()=>{je({companyId:"",hcfId:"",openingBalance:0,notes:null}),_(!0)},ve=q=>{R(q),je({companyId:q.companyId,hcfId:q.hcfId,openingBalance:q.openingBalance,notes:q.notes}),Z(!0)},se=async q=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{g(!0),x(null),await Vte(q),b("Financial balance deleted successfully"),await Ie(s||void 0)}catch(pe){console.error("Error deleting balance:",pe),x(pe.message||"Failed to delete financial balance")}finally{g(!1)}},he=async()=>{try{g(!0),x(null),b(null),await Wte($),b("Financial balance created successfully"),_(!1),je({companyId:"",hcfId:"",openingBalance:0,notes:null}),await Ie(s||void 0)}catch(q){console.error("Error creating balance:",q),x(q.message||"Failed to create financial balance")}finally{g(!1)}},Ne=async()=>{if(re)try{g(!0),x(null),b(null);const q={openingBalance:$.openingBalance,notes:$.notes};await $te(re.finBalanceId,q),b("Financial balance updated successfully (current balance reset to opening balance)"),Z(!1),R(null),await Ie(s||void 0)}catch(q){console.error("Error updating balance:",q),x(q.message||"Failed to update financial balance")}finally{g(!1)}},Pe=l.filter(q=>{var We,Re,Ee,ae;const pe=((We=q.companyName)==null?void 0:We.toLowerCase().includes(a.toLowerCase()))||((Re=q.companyCode)==null?void 0:Re.toLowerCase().includes(a.toLowerCase()))||((Ee=q.hcfCode)==null?void 0:Ee.toLowerCase().includes(a.toLowerCase()))||((ae=q.hcfName)==null?void 0:ae.toLowerCase().includes(a.toLowerCase())),oe=!s||q.companyId===s;return pe&&oe}),ye=$.companyId?h.filter(q=>q.companyId===$.companyId):[],ce=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${w?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!w&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":w?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:w?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(q=>t.jsx("li",{children:t.jsxs(rn,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:q.icon}),!w&&t.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!w&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!w&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Financial Balance Summary"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Financial Balance Summary"})}),m&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[m,t.jsx("button",{onClick:()=>x(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),y&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[y,t.jsx("button",{onClick:()=>b(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by company, HCF code, or name...",value:a,onChange:q=>i(q.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:q=>c(q.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),o.filter(q=>q.status==="Active").map(q=>t.jsx("option",{value:q.id,children:q.companyName},q.id))]}),t.jsxs("label",{className:"export-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",t.jsx("input",{ref:n,type:"file",accept:".xlsx,.xls",onChange:_e,style:{display:"none"}})]}),t.jsxs("button",{className:"add-invoice-btn",onClick:le,disabled:f,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]}),t.jsx("div",{className:"invoice-table-container",children:f&&l.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading balances..."}):Pe.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:l.length===0?"No financial balance records found":"No records match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Opening Balance"}),t.jsx("th",{children:"Current Balance"}),t.jsx("th",{children:"Is Manual"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Pe.map(q=>t.jsxs("tr",{children:[t.jsx("td",{children:q.companyName||"-"}),t.jsx("td",{children:q.hcfCode||"-"}),t.jsx("td",{children:q.hcfName||"-"}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(q.openingBalance).toFixed(2)]}),t.jsxs("td",{style:{fontWeight:600,color:q.currentBalance<0?"#dc2626":"#059669"},children:["",Number(q.currentBalance).toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:q.isManual?"#dbeafe":"#f3f4f6",color:q.isManual?"#1e40af":"#6b7280"},children:q.isManual?"Manual":"Auto"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>ve(q),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Edit"}),t.jsx("button",{onClick:()=>se(q.finBalanceId),style:{padding:"6px 12px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Delete"})]})})]},q.finBalanceId))})]})}),j&&t.jsx("div",{className:"modal-overlay",onClick:()=>_(!1),children:t.jsxs("div",{className:"modal-content",onClick:q=>q.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add Financial Balance"}),t.jsx("button",{onClick:()=>_(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:$.companyId,onChange:q=>je({...$,companyId:q.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"",children:"Select Company"}),o.filter(q=>q.status==="Active").map(q=>t.jsx("option",{value:q.id,children:q.companyName},q.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:$.hcfId,onChange:q=>je({...$,hcfId:q.target.value}),required:!0,disabled:!$.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:$.companyId?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"",children:$.companyId?"Select HCF":"Select Company first"}),ye.map(q=>t.jsxs("option",{value:q.id,children:[q.hcfCode," - ",q.hcfName]},q.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:$.openingBalance,onChange:q=>je({...$,openingBalance:parseFloat(q.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:$.notes||"",onChange:q=>je({...$,notes:q.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>_(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:he,disabled:f||!$.companyId||!$.hcfId||$.openingBalance<0,style:{padding:"10px 20px",background:f||!$.companyId||!$.hcfId||$.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:f||!$.companyId||!$.hcfId||$.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:f?"Creating...":"Create"})]})]})}),k&&re&&t.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:t.jsxs("div",{className:"modal-content",onClick:q=>q.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Edit Financial Balance"}),t.jsx("button",{onClick:()=>Z(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[t.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),t.jsx("input",{type:"text",value:re.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),t.jsx("input",{type:"text",value:`${re.hcfCode||""} - ${re.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:$.openingBalance,onChange:q=>je({...$,openingBalance:parseFloat(q.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),t.jsx("input",{type:"text",value:`${Number(re.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:$.notes||"",onChange:q=>je({...$,notes:q.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>Z(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Ne,disabled:f||$.openingBalance<0,style:{padding:"10px 20px",background:f||$.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:f||$.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:f?"Updating...":"Update"})]})]})}),ee&&Y&&t.jsx("div",{className:"modal-overlay",onClick:()=>V(!1),children:t.jsxs("div",{className:"modal-content",onClick:q=>q.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Preview Bulk Upload"}),t.jsx("button",{onClick:()=>V(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:Y.inserts.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:Y.updates.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:Y.errors.length+Y.parseErrors.length})]})]}),Y.parseErrors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:Y.parseErrors.map((q,pe)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",q.row,":"]})," ",q.message]},pe))})]}),Y.errors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:Y.errors.map((q,pe)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",q.row,":"]})," ",q.message]},pe))})]}),(Y.inserts.length>0||Y.updates.length>0)&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),t.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:t.jsxs("tr",{children:[t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),t.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),t.jsxs("tbody",{children:[Y.inserts.map((q,pe)=>{const oe=o.find(Re=>Re.id===q.companyId),We=h.find(Re=>Re.id===q.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),t.jsx("td",{style:{padding:"10px"},children:(oe==null?void 0:oe.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(q.openingBalance).toFixed(2)]})]},`insert-${pe}`)}),Y.updates.map((q,pe)=>{const oe=o.find(Re=>Re.id===q.data.companyId),We=h.find(Re=>Re.id===q.data.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),t.jsx("td",{style:{padding:"10px"},children:(oe==null?void 0:oe.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(q.data.openingBalance).toFixed(2)]})]},`update-${pe}`)})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>V(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:fe,disabled:f||Y.inserts.length===0&&Y.updates.length===0,style:{padding:"10px 20px",background:f||Y.inserts.length===0&&Y.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:f||Y.inserts.length===0&&Y.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:f?"Processing...":"Save All"})]})]})})]})]})]})},qte="http://localhost:3000/api/v1",Xte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},A0=async(r,e={})=>{const n=Xte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${qte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},rf={generateLabels:async r=>(await A0("/barcode-labels",{method:"POST",body:JSON.stringify(r)})).data,getBarcodeLabelById:async r=>(await A0(`/barcode-labels/${r}`,{method:"GET"})).data,getAllBarcodeLabels:async(r,e,n,a)=>{let i="/barcode-labels";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("hcfId",e),n&&s.append("hcfCode",n),a&&s.append("barcodeType",a),s.toString()&&(i+=`?${s.toString()}`),(await A0(i,{method:"GET"})).data},getLastSequence:async(r,e)=>(await A0(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(r)}&barcodeType=${encodeURIComponent(e)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async r=>{await A0(`/barcode-labels/${r}`,{method:"DELETE"})}};var A1={},f0={},f1={},C6;function cd(){if(C6)return f1;C6=1,Object.defineProperty(f1,"__esModule",{value:!0});function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function n(a,i){r(this,n),this.data=a,this.text=i.text||a,this.options=i};return f1.default=e,f1}var N6;function Yte(){if(N6)return f0;N6=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.CODE39=void 0;var r=(function(){function m(x,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,y,b){return y&&m(x.prototype,y),b&&m(x,b),x}})(),e=cd(),n=a(e);function a(m){return m&&m.__esModule?m:{default:m}}function i(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function s(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function c(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var l=(function(m){c(x,m);function x(y,b){return i(this,x),y=y.toUpperCase(),b.mod43&&(y+=A(g(y))),s(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,b))}return r(x,[{key:"encode",value:function(){for(var b=d("*"),w=0;w<this.data.length;w++)b+=d(this.data[w])+"0";return b+=d("*"),{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],o=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function d(m){return h(f(m))}function h(m){return o[m].toString(2)}function A(m){return u[m]}function f(m){return u.indexOf(m)}function g(m){for(var x=0,y=0;y<m.length;y++)x+=f(m[y]);return x=x%43,x}return f0.CODE39=l,f0}var nh={},p1={},m1={},Zo={},S6;function $g(){if(S6)return Zo;S6=1,Object.defineProperty(Zo,"__esModule",{value:!0});var r;function e(u,o,d){return o in u?Object.defineProperty(u,o,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[o]=d,u}var n=Zo.SET_A=0,a=Zo.SET_B=1,i=Zo.SET_C=2;Zo.SHIFT=98;var s=Zo.START_A=103,c=Zo.START_B=104,l=Zo.START_C=105;return Zo.MODULO=103,Zo.STOP=106,Zo.FNC1=207,Zo.SET_BY_CODE=(r={},e(r,s,n),e(r,c,a),e(r,l,i),r),Zo.SWAP={101:n,100:a,99:i},Zo.A_START_CHAR="",Zo.B_START_CHAR="",Zo.C_START_CHAR="",Zo.A_CHARS="[\0-_-]",Zo.B_CHARS="[ --]",Zo.C_CHARS="(*[0-9]{2}*)",Zo.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Zo}var B6;function nx(){if(B6)return m1;B6=1,Object.defineProperty(m1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=cd(),n=i(e),a=$g();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(h,A){s(this,d);var f=c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,h.substring(1),A));return f.bytes=h.split("").map(function(g){return g.charCodeAt(0)}),f}return r(d,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.bytes,f=A.shift()-105,g=a.SET_BY_CODE[f];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&A.unshift(a.FNC1);var m=d.next(A,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:d.getBar(f)+m.result+d.getBar((m.checksum+f)%a.MODULO)+d.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var A=this.options.ean128||!1;return typeof A=="string"&&(A=A.toLowerCase()==="true"),A}}],[{key:"getBar",value:function(A){return a.BARS[A]?a.BARS[A].toString():""}},{key:"correctIndex",value:function(A,f){if(f===a.SET_A){var g=A.shift();return g<32?g+64:g-32}else return f===a.SET_B?A.shift()-32:(A.shift()-48)*10+A.shift()-48}},{key:"next",value:function(A,f,g){if(!A.length)return{result:"",checksum:0};var m=void 0,x=void 0;if(A[0]>=200){x=A.shift()-105;var y=a.SWAP[x];y!==void 0?m=d.next(A,f+1,y):((g===a.SET_A||g===a.SET_B)&&x===a.SHIFT&&(A[0]=g===a.SET_A?A[0]>95?A[0]-96:A[0]:A[0]<32?A[0]+96:A[0]),m=d.next(A,f+1,g))}else x=d.correctIndex(A,g),m=d.next(A,f+1,g);var b=d.getBar(x),w=x*f;return{result:b+m.result,checksum:w+m.checksum}}}]),d})(n.default);return m1.default=u,m1}var g1={},E6;function Zte(){if(E6)return g1;E6=1,Object.defineProperty(g1,"__esModule",{value:!0});var r=$g(),e=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},n=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function i(c,l){var u=l?r.A_CHARS:r.B_CHARS,o=c.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+""+s(c.substring(o[1].length));var d=c.match(new RegExp("^"+u+"+"))[0];return d.length===c.length?c:d+String.fromCharCode(l?205:206)+i(c.substring(d.length),!l)}function s(c){var l=a(c),u=l.length;if(u===c.length)return c;c=c.substring(u);var o=e(c)>=n(c);return l+String.fromCharCode(o?206:205)+i(c,o)}return g1.default=function(c){var l=void 0,u=a(c).length;if(u>=2)l=r.C_START_CHAR+s(c);else{var o=e(c)>n(c);l=(o?r.A_START_CHAR:r.B_START_CHAR)+i(c,o)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(d,h){return""+h})},g1}var I6;function Jte(){if(I6)return p1;I6=1,Object.defineProperty(p1,"__esModule",{value:!0});var r=nx(),e=i(r),n=Zte(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(h,A){if(s(this,d),/^[\x00-\x7F\xC8-\xD3]+$/.test(h))var f=c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,(0,a.default)(h),A));else var f=c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,h,A));return c(f)}return d})(e.default);return p1.default=u,p1}var v1={},T6;function ere(){if(T6)return v1;T6=1,Object.defineProperty(v1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=nx(),n=i(e),a=$g();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(h,A){return s(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a.A_START_CHAR+h,A))}return r(d,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),d})(n.default);return v1.default=u,v1}var x1={},_6;function tre(){if(_6)return x1;_6=1,Object.defineProperty(x1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=nx(),n=i(e),a=$g();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(h,A){return s(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a.B_START_CHAR+h,A))}return r(d,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),d})(n.default);return x1.default=u,x1}var y1={},O6;function rre(){if(O6)return y1;O6=1,Object.defineProperty(y1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=nx(),n=i(e),a=$g();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(h,A){return s(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a.C_START_CHAR+h,A))}return r(d,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),d})(n.default);return y1.default=u,y1}var k6;function nre(){if(k6)return nh;k6=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.CODE128C=nh.CODE128B=nh.CODE128A=nh.CODE128=void 0;var r=Jte(),e=u(r),n=ere(),a=u(n),i=tre(),s=u(i),c=rre(),l=u(c);function u(o){return o&&o.__esModule?o:{default:o}}return nh.CODE128=e.default,nh.CODE128A=a.default,nh.CODE128B=s.default,nh.CODE128C=l.default,nh}var fu={},b1={},nA={},P6;function Vg(){return P6||(P6=1,Object.defineProperty(nA,"__esModule",{value:!0}),nA.SIDE_BIN="101",nA.MIDDLE_BIN="01010",nA.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},nA.EAN2_STRUCTURE=["LL","LG","GL","GG"],nA.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],nA.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),nA}var w1={},j1={},F6;function zg(){if(F6)return j1;F6=1,Object.defineProperty(j1,"__esModule",{value:!0});var r=Vg(),e=function(a,i,s){var c=a.split("").map(function(u,o){return r.BINARIES[i[o]]}).map(function(u,o){return u?u[a[o]]:""});if(s){var l=a.length-1;c=c.map(function(u,o){return o<l?u+s:u})}return c.join("")};return j1.default=e,j1}var D6;function SF(){if(D6)return w1;D6=1,Object.defineProperty(w1,"__esModule",{value:!0});var r=(function(){function h(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&h(A.prototype,f),g&&h(A,g),A}})(),e=Vg(),n=zg(),a=c(n),i=cd(),s=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,A){if(!(h instanceof A))throw new TypeError("Cannot call a class as a function")}function u(h,A){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:h}function o(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);h.prototype=Object.create(A&&A.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(h,A):h.__proto__=A)}var d=(function(h){o(A,h);function A(f,g){l(this,A);var m=u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(A,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:e.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:e.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:e.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),A})(s.default);return w1.default=d,w1}var M6;function are(){if(M6)return b1;M6=1,Object.defineProperty(b1,"__esModule",{value:!0});var r=(function(){function h(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&h(A.prototype,f),g&&h(A,g),A}})(),e=function h(A,f,g){A===null&&(A=Function.prototype);var m=Object.getOwnPropertyDescriptor(A,f);if(m===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:h(x,f,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},n=Vg(),a=SF(),i=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function c(h,A){if(!(h instanceof A))throw new TypeError("Cannot call a class as a function")}function l(h,A){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:h}function u(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);h.prototype=Object.create(A&&A.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(h,A):h.__proto__=A)}var o=function(A){var f=A.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,x){return x%2?g+m*3:g+m},0);return(10-f%10)%10},d=(function(h){u(A,h);function A(f,g){c(this,A),f.search(/^[0-9]{12}$/)!==-1&&(f+=o(f));var m=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.lastChar=g.lastChar,m}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===o(this.data)}},{key:"leftText",value:function(){return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),A})(i.default);return b1.default=d,b1}var C1={},R6;function ire(){if(R6)return C1;R6=1,Object.defineProperty(C1,"__esModule",{value:!0});var r=(function(){function d(h,A){for(var f=0;f<A.length;f++){var g=A[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,A,f){return A&&d(h.prototype,A),f&&d(h,f),h}})(),e=function d(h,A,f){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,A);if(g===void 0){var m=Object.getPrototypeOf(h);return m===null?void 0:d(m,A,f)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(f)}},n=SF(),a=i(n);function i(d){return d&&d.__esModule?d:{default:d}}function s(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function c(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function l(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var u=function(h){var A=h.substr(0,7).split("").map(function(f){return+f}).reduce(function(f,g,m){return m%2?f+g:f+g*3},0);return(10-A%10)%10},o=(function(d){l(h,d);function h(A,f){return s(this,h),A.search(/^[0-9]{7}$/)!==-1&&(A+=u(A)),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,A,f))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var f=this.data.substr(0,4);return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftEncode",this).call(this,f,"LLLL")}},{key:"rightText",value:function(){return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var f=this.data.substr(4,4);return e(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightEncode",this).call(this,f,"RRRR")}}]),h})(a.default);return C1.default=o,C1}var N1={},L6;function sre(){if(L6)return N1;L6=1,Object.defineProperty(N1,"__esModule",{value:!0});var r=(function(){function A(f,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,g,m){return g&&A(f.prototype,g),m&&A(f,m),f}})(),e=Vg(),n=zg(),a=c(n),i=cd(),s=c(i);function c(A){return A&&A.__esModule?A:{default:A}}function l(A,f){if(!(A instanceof f))throw new TypeError("Cannot call a class as a function")}function u(A,f){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:A}function o(A,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);A.prototype=Object.create(f&&f.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(A,f):A.__proto__=f)}var d=function(f){var g=f.split("").map(function(m){return+m}).reduce(function(m,x,y){return y%2?m+x*9:m+x*3},0);return g%10},h=(function(A){o(f,A);function f(g,m){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,m))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=e.EAN5_STRUCTURE[d(this.data)];return{data:"1011"+(0,a.default)(this.data,m,"01"),text:this.text}}}]),f})(s.default);return N1.default=h,N1}var S1={},U6;function ore(){if(U6)return S1;U6=1,Object.defineProperty(S1,"__esModule",{value:!0});var r=(function(){function h(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&h(A.prototype,f),g&&h(A,g),A}})(),e=Vg(),n=zg(),a=c(n),i=cd(),s=c(i);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,A){if(!(h instanceof A))throw new TypeError("Cannot call a class as a function")}function u(h,A){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:h}function o(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);h.prototype=Object.create(A&&A.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(h,A):h.__proto__=A)}var d=(function(h){o(A,h);function A(f,g){return l(this,A),u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g))}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),A})(s.default);return S1.default=d,S1}var p0={},H6;function BF(){if(H6)return p0;H6=1,Object.defineProperty(p0,"__esModule",{value:!0});var r=(function(){function h(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&h(A.prototype,f),g&&h(A,g),A}})();p0.checksum=d;var e=zg(),n=s(e),a=cd(),i=s(a);function s(h){return h&&h.__esModule?h:{default:h}}function c(h,A){if(!(h instanceof A))throw new TypeError("Cannot call a class as a function")}function l(h,A){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:h}function u(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);h.prototype=Object.create(A&&A.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(h,A):h.__proto__=A)}var o=(function(h){u(A,h);function A(f,g){c(this,A),f.search(/^[0-9]{11}$/)!==-1&&(f+=d(f));var m=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==d(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),A})(i.default);function d(h){var A=0,f;for(f=1;f<11;f+=2)A+=parseInt(h[f]);for(f=0;f<11;f+=2)A+=parseInt(h[f])*3;return(10-A%10)%10}return p0.default=o,p0}var B1={},Q6;function lre(){if(Q6)return B1;Q6=1,Object.defineProperty(B1,"__esModule",{value:!0});var r=(function(){function g(m,x){for(var y=0;y<x.length;y++){var b=x[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,y){return x&&g(m.prototype,x),y&&g(m,y),m}})(),e=zg(),n=c(e),a=cd(),i=c(a),s=BF();function c(g){return g&&g.__esModule?g:{default:g}}function l(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function o(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var d=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],A=(function(g){o(m,g);function m(x,y){l(this,m);var b=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,y));if(b.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)b.middleDigits=x,b.upcA=f(x,"0"),b.text=y.text||""+b.upcA[0]+x+b.upcA[b.upcA.length-1],b.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(b.middleDigits=x.substring(1,x.length-1),b.upcA=f(b.middleDigits,x[0]),b.upcA[b.upcA.length-1]===x[x.length-1])b.isValid=!0;else return u(b);else return u(b);return b.displayValue=y.displayValue,y.fontSize>y.width*10?b.fontSize=y.width*10:b.fontSize=y.fontSize,b.guardHeight=y.height+b.fontSize/2+y.textMargin,b}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],b=this.upcA[this.upcA.length-1],w=h[parseInt(b)][parseInt(y)];return(0,n.default)(this.middleDigits,w)}}]),m})(i.default);function f(g,m){for(var x=parseInt(g[g.length-1]),y=d[x],b="",w=0,N=0;N<y.length;N++){var S=y[N];S==="X"?b+=g[w++]:b+=S}return b=""+m+b,""+b+(0,s.checksum)(b)}return B1.default=A,B1}var W6;function cre(){if(W6)return fu;W6=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.UPCE=fu.UPC=fu.EAN2=fu.EAN5=fu.EAN8=fu.EAN13=void 0;var r=are(),e=A(r),n=ire(),a=A(n),i=sre(),s=A(i),c=ore(),l=A(c),u=BF(),o=A(u),d=lre(),h=A(d);function A(f){return f&&f.__esModule?f:{default:f}}return fu.EAN13=e.default,fu.EAN8=a.default,fu.EAN5=s.default,fu.EAN2=l.default,fu.UPC=o.default,fu.UPCE=h.default,fu}var Mf={},E1={},Pp={},$6;function ure(){return $6||($6=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.START_BIN="1010",Pp.END_BIN="11101",Pp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Pp}var V6;function EF(){if(V6)return E1;V6=1,Object.defineProperty(E1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=ure(),n=cd(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(){return s(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return r(d,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var A=this,f=this.data.match(/.{2}/g).map(function(g){return A.encodePair(g)}).join("");return{data:e.START_BIN+f+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(A){var f=e.BINARIES[A[1]];return e.BINARIES[A[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(f[m]==="1"?"000":"0")}).join("")}}]),d})(a.default);return E1.default=u,E1}var I1={},z6;function dre(){if(z6)return I1;z6=1,Object.defineProperty(I1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=EF(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function s(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function c(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var l=function(d){var h=d.substr(0,13).split("").map(function(A){return parseInt(A,10)}).reduce(function(A,f,g){return A+f*(3-g%2*2)},0);return Math.ceil(h/10)*10-h},u=(function(o){c(d,o);function d(h,A){return i(this,d),h.search(/^[0-9]{13}$/)!==-1&&(h+=l(h)),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,h,A))}return r(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),d})(n.default);return I1.default=u,I1}var K6;function hre(){if(K6)return Mf;K6=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.ITF14=Mf.ITF=void 0;var r=EF(),e=i(r),n=dre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return Mf.ITF=e.default,Mf.ITF14=a.default,Mf}var Ju={},T1={},G6;function Kg(){if(G6)return T1;G6=1,Object.defineProperty(T1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=cd(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function s(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function c(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var l=(function(o){c(d,o);function d(h,A){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,h,A))}return r(d,[{key:"encode",value:function(){for(var A="110",f=0;f<this.data.length;f++){var g=parseInt(this.data[f]),m=g.toString(2);m=u(m,4-m.length);for(var x=0;x<m.length;x++)A+=m[x]=="0"?"100":"110"}return A+="1001",{data:A,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),d})(n.default);function u(o,d){for(var h=0;h<d;h++)o="0"+o;return o}return T1.default=l,T1}var _1={},m0={},q6;function ax(){if(q6)return m0;q6=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.mod10=r,m0.mod11=e;function r(n){for(var a=0,i=0;i<n.length;i++){var s=parseInt(n[i]);(i+n.length)%2===0?a+=s:a+=s*2%10+Math.floor(s*2/10)}return(10-a%10)%10}function e(n){for(var a=0,i=[2,3,4,5,6,7],s=0;s<n.length;s++){var c=parseInt(n[n.length-1-s]);a+=i[s%i.length]*c}return(11-a%11)%11}return m0}var X6;function Are(){if(X6)return _1;X6=1,Object.defineProperty(_1,"__esModule",{value:!0});var r=Kg(),e=a(r),n=ax();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d+(0,n.mod10)(d),h))}return o})(e.default);return _1.default=l,_1}var O1={},Y6;function fre(){if(Y6)return O1;Y6=1,Object.defineProperty(O1,"__esModule",{value:!0});var r=Kg(),e=a(r),n=ax();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d+(0,n.mod11)(d),h))}return o})(e.default);return O1.default=l,O1}var k1={},Z6;function pre(){if(Z6)return k1;Z6=1,Object.defineProperty(k1,"__esModule",{value:!0});var r=Kg(),e=a(r),n=ax();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){return i(this,o),d+=(0,n.mod10)(d),d+=(0,n.mod10)(d),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d,h))}return o})(e.default);return k1.default=l,k1}var P1={},J6;function mre(){if(J6)return P1;J6=1,Object.defineProperty(P1,"__esModule",{value:!0});var r=Kg(),e=a(r),n=ax();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){return i(this,o),d+=(0,n.mod11)(d),d+=(0,n.mod10)(d),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d,h))}return o})(e.default);return P1.default=l,P1}var eT;function gre(){if(eT)return Ju;eT=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.MSI1110=Ju.MSI1010=Ju.MSI11=Ju.MSI10=Ju.MSI=void 0;var r=Kg(),e=d(r),n=Are(),a=d(n),i=fre(),s=d(i),c=pre(),l=d(c),u=mre(),o=d(u);function d(h){return h&&h.__esModule?h:{default:h}}return Ju.MSI=e.default,Ju.MSI10=a.default,Ju.MSI11=s.default,Ju.MSI1010=l.default,Ju.MSI1110=o.default,Ju}var g0={},tT;function vre(){if(tT)return g0;tT=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.pharmacode=void 0;var r=(function(){function u(o,d){for(var h=0;h<d.length;h++){var A=d[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,d,h){return d&&u(o.prototype,d),h&&u(o,h),o}})(),e=cd(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){i(this,o);var A=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d,h));return A.number=parseInt(d,10),A}return r(o,[{key:"encode",value:function(){for(var h=this.number,A="";!isNaN(h)&&h!=0;)h%2===0?(A="11100"+A,h=(h-2)/2):(A="100"+A,h=(h-1)/2);return A=A.slice(0,-2),{data:A,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),o})(n.default);return g0.pharmacode=l,g0}var v0={},rT;function xre(){if(rT)return v0;rT=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.codabar=void 0;var r=(function(){function u(o,d){for(var h=0;h<d.length;h++){var A=d[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,d,h){return d&&u(o.prototype,d),h&&u(o,h),o}})(),e=cd(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){i(this,o),d.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(d="A"+d+"A");var A=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d.toUpperCase(),h));return A.text=A.options.text||A.text.replace(/[A-D]/g,""),A}return r(o,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],A=this.getEncodings(),f=0;f<this.data.length;f++)h.push(A[this.data.charAt(f)]),f!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),o})(n.default);return v0.codabar=l,v0}var Rf={},F1={},Fp={},nT;function yre(){return nT||(nT=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Fp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Fp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Fp}var aT;function IF(){if(aT)return F1;aT=1,Object.defineProperty(F1,"__esModule",{value:!0});var r=(function(){function o(d,h){for(var A=0;A<h.length;A++){var f=h[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,h,A){return h&&o(d.prototype,h),A&&o(d,A),d}})(),e=yre(),n=cd(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function c(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function l(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=(function(o){l(d,o);function d(h,A){return s(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,h,A))}return r(d,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.data.split("").flatMap(function(x){return e.MULTI_SYMBOLS[x]||x}),f=A.map(function(x){return d.getEncoding(x)}).join(""),g=d.checksum(A,20),m=d.checksum(A.concat(g),15);return{text:this.text,data:d.getEncoding("")+f+d.getEncoding(g)+d.getEncoding(m)+d.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(A){return e.BINARIES[d.symbolValue(A)]}},{key:"getSymbol",value:function(A){return e.SYMBOLS[A]}},{key:"symbolValue",value:function(A){return e.SYMBOLS.indexOf(A)}},{key:"checksum",value:function(A,f){var g=A.slice().reverse().reduce(function(m,x,y){var b=y%f+1;return m+d.symbolValue(x)*b},0);return d.getSymbol(g%47)}}]),d})(a.default);return F1.default=u,F1}var D1={},iT;function bre(){if(iT)return D1;iT=1,Object.defineProperty(D1,"__esModule",{value:!0});var r=(function(){function u(o,d){for(var h=0;h<d.length;h++){var A=d[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,d,h){return d&&u(o.prototype,d),h&&u(o,h),o}})(),e=IF(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d,h))}return r(o,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),o})(n.default);return D1.default=l,D1}var sT;function wre(){if(sT)return Rf;sT=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.CODE93FullASCII=Rf.CODE93=void 0;var r=IF(),e=i(r),n=bre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return Rf.CODE93=e.default,Rf.CODE93FullASCII=a.default,Rf}var x0={},oT;function jre(){if(oT)return x0;oT=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.GenericBarcode=void 0;var r=(function(){function u(o,d){for(var h=0;h<d.length;h++){var A=d[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,d,h){return d&&u(o.prototype,d),h&&u(o,h),o}})(),e=cd(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(d,h){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d,h))}return r(o,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),o})(n.default);return x0.GenericBarcode=l,x0}var lT;function Cre(){if(lT)return A1;lT=1,Object.defineProperty(A1,"__esModule",{value:!0});var r=Yte(),e=nre(),n=cre(),a=hre(),i=gre(),s=vre(),c=xre(),l=wre(),u=jre();return A1.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:s.pharmacode,codabar:c.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:u.GenericBarcode},A1}var M1={},cT;function ix(){if(cT)return M1;cT=1,Object.defineProperty(M1,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};return M1.default=function(e,n){return r({},e,n)},M1}var R1={},uT;function Nre(){if(uT)return R1;uT=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.default=r;function r(e){var n=[];function a(i){if(Array.isArray(i))for(var s=0;s<i.length;s++)a(i[s]);else i.text=i.text||"",i.data=i.data||"",n.push(i)}return a(e),n}return R1}var L1={},dT;function Sre(){if(dT)return L1;dT=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return L1}var U1={},H1={},Q1={},hT;function TF(){if(hT)return Q1;hT=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.default=r;function r(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof e[a]=="string"&&(e[a]=parseInt(e[a],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Q1}var W1={},AT;function _F(){if(AT)return W1;AT=1,Object.defineProperty(W1,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return W1.default=r,W1}var fT;function Bre(){if(fT)return H1;fT=1,Object.defineProperty(H1,"__esModule",{value:!0});var r=TF(),e=i(r),n=_F(),a=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function s(c){var l={};for(var u in a.default)a.default.hasOwnProperty(u)&&(c.hasAttribute("jsbarcode-"+u.toLowerCase())&&(l[u]=c.getAttribute("jsbarcode-"+u.toLowerCase())),c.hasAttribute("data-"+u.toLowerCase())&&(l[u]=c.getAttribute("data-"+u.toLowerCase())));return l.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),l=(0,e.default)(l),l}return H1.default=s,H1}var $1={},V1={},ed={},pT;function OF(){if(pT)return ed;pT=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.getTotalWidthOfEncodings=ed.calculateEncodingAttributes=ed.getBarcodePadding=ed.getEncodingHeight=ed.getMaximumHeightOfEncodings=void 0;var r=ix(),e=n(r);function n(o){return o&&o.__esModule?o:{default:o}}function a(o,d){return d.height+(d.displayValue&&o.text.length>0?d.fontSize+d.textMargin:0)+d.marginTop+d.marginBottom}function i(o,d,h){if(h.displayValue&&d<o){if(h.textAlign=="center")return Math.floor((o-d)/2);if(h.textAlign=="left")return 0;if(h.textAlign=="right")return Math.floor(o-d)}return 0}function s(o,d,h){for(var A=0;A<o.length;A++){var f=o[A],g=(0,e.default)(d,f.options),m;g.displayValue?m=u(f.text,g,h):m=0;var x=f.data.length*g.width;f.width=Math.ceil(Math.max(m,x)),f.height=a(f,g),f.barcodePadding=i(m,x,g)}}function c(o){for(var d=0,h=0;h<o.length;h++)d+=o[h].width;return d}function l(o){for(var d=0,h=0;h<o.length;h++)o[h].height>d&&(d=o[h].height);return d}function u(o,d,h){var A;if(h)A=h;else if(typeof document<"u")A=document.createElement("canvas").getContext("2d");else return 0;A.font=d.fontOptions+" "+d.fontSize+"px "+d.font;var f=A.measureText(o);if(!f)return 0;var g=f.width;return g}return ed.getMaximumHeightOfEncodings=l,ed.getEncodingHeight=a,ed.getBarcodePadding=i,ed.calculateEncodingAttributes=s,ed.getTotalWidthOfEncodings=c,ed}var mT;function Ere(){if(mT)return V1;mT=1,Object.defineProperty(V1,"__esModule",{value:!0});var r=(function(){function l(u,o){for(var d=0;d<o.length;d++){var h=o[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,o,d){return o&&l(u.prototype,o),d&&l(u,d),u}})(),e=ix(),n=i(e),a=OF();function i(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=(function(){function l(u,o,d){s(this,l),this.canvas=u,this.encodings=o,this.options=d}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var d=(0,n.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(d,this.encodings[o]),this.drawCanvasText(d,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,o);var d=(0,a.getTotalWidthOfEncodings)(this.encodings),h=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=d+this.options.marginLeft+this.options.marginRight,this.canvas.height=h,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,d){var h=this.canvas.getContext("2d"),A=d.data,f;o.textPosition=="top"?f=o.marginTop+o.fontSize+o.textMargin:f=o.marginTop,h.fillStyle=o.lineColor;for(var g=0;g<A.length;g++){var m=g*o.width+d.barcodePadding;A[g]==="1"?h.fillRect(m,f,o.width,o.height):A[g]&&h.fillRect(m,f,o.width,o.height*A[g])}}},{key:"drawCanvasText",value:function(o,d){var h=this.canvas.getContext("2d"),A=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var f,g;o.textPosition=="top"?g=o.marginTop+o.fontSize-o.textMargin:g=o.height+o.textMargin+o.marginTop+o.fontSize,h.font=A,o.textAlign=="left"||d.barcodePadding>0?(f=0,h.textAlign="left"):o.textAlign=="right"?(f=d.width-1,h.textAlign="right"):(f=d.width/2,h.textAlign="center"),h.fillText(d.text,f,g)}}},{key:"moveCanvasDrawing",value:function(o){var d=this.canvas.getContext("2d");d.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),l})();return V1.default=c,V1}var z1={},gT;function Ire(){if(gT)return z1;gT=1,Object.defineProperty(z1,"__esModule",{value:!0});var r=(function(){function u(o,d){for(var h=0;h<d.length;h++){var A=d[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,d,h){return d&&u(o.prototype,d),h&&u(o,h),o}})(),e=ix(),n=i(e),a=OF();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",l=(function(){function u(o,d,h){s(this,u),this.svg=o,this.encodings=d,this.options=h,this.document=h.xmlDocument||document}return r(u,[{key:"render",value:function(){var d=this.options.marginLeft;this.prepareSVG();for(var h=0;h<this.encodings.length;h++){var A=this.encodings[h],f=(0,n.default)(this.options,A.options),g=this.createGroup(d,f.marginTop,this.svg);this.setGroupOptions(g,f),this.drawSvgBarcode(g,f,A),this.drawSVGText(g,f,A),d+=A.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var d=(0,a.getTotalWidthOfEncodings)(this.encodings),h=(0,a.getMaximumHeightOfEncodings)(this.encodings),A=d+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(A,h),this.options.background&&this.drawRect(0,0,A,h,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(d,h,A){var f=A.data,g;h.textPosition=="top"?g=h.fontSize+h.textMargin:g=0;for(var m=0,x=0,y=0;y<f.length;y++)x=y*h.width+A.barcodePadding,f[y]==="1"?m++:m>0&&(this.drawRect(x-h.width*m,g,h.width*m,h.height,d),m=0);m>0&&this.drawRect(x-h.width*(m-1),g,h.width*m,h.height,d)}},{key:"drawSVGText",value:function(d,h,A){var f=this.document.createElementNS(c,"text");if(h.displayValue){var g,m;f.setAttribute("font-family",h.font),f.setAttribute("font-size",h.fontSize),h.fontOptions.includes("bold")&&f.setAttribute("font-weight","bold"),h.fontOptions.includes("italic")&&f.setAttribute("font-style","italic"),h.textPosition=="top"?m=h.fontSize-h.textMargin:m=h.height+h.textMargin+h.fontSize,h.textAlign=="left"||A.barcodePadding>0?(g=0,f.setAttribute("text-anchor","start")):h.textAlign=="right"?(g=A.width-1,f.setAttribute("text-anchor","end")):(g=A.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",g),f.setAttribute("y",m),f.appendChild(this.document.createTextNode(A.text)),d.appendChild(f)}}},{key:"setSvgAttributes",value:function(d,h){var A=this.svg;A.setAttribute("width",d+"px"),A.setAttribute("height",h+"px"),A.setAttribute("x","0px"),A.setAttribute("y","0px"),A.setAttribute("viewBox","0 0 "+d+" "+h),A.setAttribute("xmlns",c),A.setAttribute("version","1.1")}},{key:"createGroup",value:function(d,h,A){var f=this.document.createElementNS(c,"g");return f.setAttribute("transform","translate("+d+", "+h+")"),A.appendChild(f),f}},{key:"setGroupOptions",value:function(d,h){d.setAttribute("fill",h.lineColor)}},{key:"drawRect",value:function(d,h,A,f,g){var m=this.document.createElementNS(c,"rect");return m.setAttribute("x",d),m.setAttribute("y",h),m.setAttribute("width",A),m.setAttribute("height",f),g.appendChild(m),m}}]),u})();return z1.default=l,z1}var K1={},vT;function Tre(){if(vT)return K1;vT=1,Object.defineProperty(K1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i,s,c){e(this,a),this.object=i,this.encodings=s,this.options=c}return r(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return K1.default=n,K1}var xT;function _re(){if(xT)return $1;xT=1,Object.defineProperty($1,"__esModule",{value:!0});var r=Ere(),e=c(r),n=Ire(),a=c(n),i=Tre(),s=c(i);function c(l){return l&&l.__esModule?l:{default:l}}return $1.default={CanvasRenderer:e.default,SVGRenderer:a.default,ObjectRenderer:s.default},$1}var Dp={},yT;function kF(){if(yT)return Dp;yT=1,Object.defineProperty(Dp,"__esModule",{value:!0});function r(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function e(c,l){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:c}function n(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(c,l):c.__proto__=l)}var a=(function(c){n(l,c);function l(u,o){r(this,l);var d=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return d.name="InvalidInputException",d.symbology=u,d.input=o,d.message='"'+d.input+'" is not a valid input for '+d.symbology,d}return l})(Error),i=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return l})(Error),s=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return l})(Error);return Dp.InvalidInputException=a,Dp.InvalidElementException=i,Dp.NoElementException=s,Dp}var bT;function Ore(){if(bT)return U1;bT=1,Object.defineProperty(U1,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e=Bre(),n=c(e),a=_re(),i=c(a),s=kF();function c(d){return d&&d.__esModule?d:{default:d}}function l(d){if(typeof d=="string")return u(d);if(Array.isArray(d)){for(var h=[],A=0;A<d.length;A++)h.push(l(d[A]));return h}else{if(typeof HTMLCanvasElement<"u"&&d instanceof HTMLImageElement)return o(d);if(d&&d.nodeName&&d.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&d instanceof SVGElement)return{element:d,options:(0,n.default)(d),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement)return{element:d,options:(0,n.default)(d),renderer:i.default.CanvasRenderer};if(d&&d.getContext)return{element:d,renderer:i.default.CanvasRenderer};if(d&&(typeof d>"u"?"undefined":r(d))==="object"&&!d.nodeName)return{element:d,renderer:i.default.ObjectRenderer};throw new s.InvalidElementException}}function u(d){var h=document.querySelectorAll(d);if(h.length!==0){for(var A=[],f=0;f<h.length;f++)A.push(l(h[f]));return A}}function o(d){var h=document.createElement("canvas");return{element:h,options:(0,n.default)(d),renderer:i.default.CanvasRenderer,afterRender:function(){d.setAttribute("src",h.toDataURL())}}}return U1.default=l,U1}var G1={},wT;function kre(){if(wT)return G1;wT=1,Object.defineProperty(G1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i){e(this,a),this.api=i}return r(a,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var c=s.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(l){return this.handleCatch(l),this.api}}}]),a})();return G1.default=n,G1}var gj,jT;function Pre(){if(jT)return gj;jT=1;var r=Cre(),e=y(r),n=ix(),a=y(n),i=Nre(),s=y(i),c=Sre(),l=y(c),u=Ore(),o=y(u),d=TF(),h=y(d),A=kre(),f=y(A),g=kF(),m=_F(),x=y(m);function y(Z){return Z&&Z.__esModule?Z:{default:Z}}var b=function(){},w=function(ee,V,re){var R=new b;if(typeof ee>"u")throw Error("No element to render on was provided.");return R._renderProperties=(0,o.default)(ee),R._encodings=[],R._options=x.default,R._errorHandler=new f.default(R),typeof V<"u"&&(re=re||{},re.format||(re.format=_()),R.options(re)[re.format](V,re).render()),R};w.getModule=function(Z){return e.default[Z]};for(var N in e.default)e.default.hasOwnProperty(N)&&S(e.default,N);function S(Z,ee){b.prototype[ee]=b.prototype[ee.toUpperCase()]=b.prototype[ee.toLowerCase()]=function(V,re){var R=this;return R._errorHandler.wrapBarcodeCall(function(){re.text=typeof re.text>"u"?void 0:""+re.text;var Y=(0,a.default)(R._options,re);Y=(0,h.default)(Y);var L=Z[ee],$=j(V,L,Y);return R._encodings.push($),R})}}function j(Z,ee,V){Z=""+Z;var re=new ee(Z,V);if(!re.valid())throw new g.InvalidInputException(re.constructor.name,Z);var R=re.encode();R=(0,s.default)(R);for(var Y=0;Y<R.length;Y++)R[Y].options=(0,a.default)(V,R[Y].options);return R}function _(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}b.prototype.options=function(Z){return this._options=(0,a.default)(this._options,Z),this},b.prototype.blank=function(Z){var ee=new Array(Z+1).join("0");return this._encodings.push({data:ee}),this},b.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var Z;for(var ee in this._renderProperties){Z=this._renderProperties[ee];var V=(0,a.default)(this._options,Z.options);V.format=="auto"&&(V.format=_()),this._errorHandler.wrapBarcodeCall(function(){var re=V.value,R=e.default[V.format.toUpperCase()],Y=j(re,R,V);k(Z,Y,V)})}}},b.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var Z=0;Z<this._renderProperties.length;Z++)k(this._renderProperties[Z],this._encodings,this._options);else k(this._renderProperties,this._encodings,this._options);return this},b.prototype._defaults=x.default;function k(Z,ee,V){ee=(0,s.default)(ee);for(var re=0;re<ee.length;re++)ee[re].options=(0,a.default)(V,ee[re].options),(0,l.default)(ee[re].options);(0,l.default)(V);var R=Z.renderer,Y=new R(Z.element,ee,V);Y.render(),Z.afterRender&&Z.afterRender()}return typeof window<"u"&&(window.JsBarcode=w),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Z,ee){var V=[];return jQuery(this).each(function(){V.push(this)}),w(V,Z,ee)}),gj=w,gj}var Fre=Pre();const CT=Zi(Fre);var Mp={},vj,NT;function Dre(){return NT||(NT=1,vj=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),vj}var xj={},WA={},ST;function gp(){if(ST)return WA;ST=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return WA.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},WA.getSymbolTotalCodewords=function(a){return e[a]},WA.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},WA.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},WA.isKanjiModeEnabled=function(){return typeof r<"u"},WA.toSJIS=function(a){return r(a)},WA}var yj={},BT;function ZN(){return BT||(BT=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,i){if(r.isValid(a))return a;try{return e(a)}catch{return i}}})(yj)),yj}var bj,ET;function Mre(){if(ET)return bj;ET=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let a=0;a<n;a++)this.putBit((e>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},bj=r,bj}var wj,IT;function Rre(){if(IT)return wj;IT=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,a,i){const s=e*this.size+n;this.data[s]=a,i&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,a){this.data[e*this.size+n]^=a},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},wj=r,wj}var jj={},TT;function Lre(){return TT||(TT=1,(function(r){const e=gp().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const i=Math.floor(a/7)+2,s=e(a),c=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let u=1;u<i-1;u++)l[u]=l[u-1]-c;return l.push(6),l.reverse()},r.getPositions=function(a){const i=[],s=r.getRowColCoords(a),c=s.length;for(let l=0;l<c;l++)for(let u=0;u<c;u++)l===0&&u===0||l===0&&u===c-1||l===c-1&&u===0||i.push([s[l],s[u]]);return i}})(jj)),jj}var Cj={},_T;function Ure(){if(_T)return Cj;_T=1;const r=gp().getSymbolSize,e=7;return Cj.getPositions=function(a){const i=r(a);return[[0,0],[i-e,0],[0,i-e]]},Cj}var Nj={},OT;function Hre(){return OT||(OT=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const s=i.size;let c=0,l=0,u=0,o=null,d=null;for(let h=0;h<s;h++){l=u=0,o=d=null;for(let A=0;A<s;A++){let f=i.get(h,A);f===o?l++:(l>=5&&(c+=e.N1+(l-5)),o=f,l=1),f=i.get(A,h),f===d?u++:(u>=5&&(c+=e.N1+(u-5)),d=f,u=1)}l>=5&&(c+=e.N1+(l-5)),u>=5&&(c+=e.N1+(u-5))}return c},r.getPenaltyN2=function(i){const s=i.size;let c=0;for(let l=0;l<s-1;l++)for(let u=0;u<s-1;u++){const o=i.get(l,u)+i.get(l,u+1)+i.get(l+1,u)+i.get(l+1,u+1);(o===4||o===0)&&c++}return c*e.N2},r.getPenaltyN3=function(i){const s=i.size;let c=0,l=0,u=0;for(let o=0;o<s;o++){l=u=0;for(let d=0;d<s;d++)l=l<<1&2047|i.get(o,d),d>=10&&(l===1488||l===93)&&c++,u=u<<1&2047|i.get(d,o),d>=10&&(u===1488||u===93)&&c++}return c*e.N3},r.getPenaltyN4=function(i){let s=0;const c=i.data.length;for(let u=0;u<c;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/c/5)-10)*e.N4};function n(a,i,s){switch(a){case r.Patterns.PATTERN000:return(i+s)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(i+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return i*s%2+i*s%3===0;case r.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case r.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(i,s){const c=s.size;for(let l=0;l<c;l++)for(let u=0;u<c;u++)s.isReserved(u,l)||s.xor(u,l,n(i,u,l))},r.getBestMask=function(i,s){const c=Object.keys(r.Patterns).length;let l=0,u=1/0;for(let o=0;o<c;o++){s(o),r.applyMask(o,i);const d=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(o,i),d<u&&(u=d,l=o)}return l}})(Nj)),Nj}var q1={},kT;function PF(){if(kT)return q1;kT=1;const r=ZN(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return q1.getBlocksCount=function(i,s){switch(s){case r.L:return e[(i-1)*4+0];case r.M:return e[(i-1)*4+1];case r.Q:return e[(i-1)*4+2];case r.H:return e[(i-1)*4+3];default:return}},q1.getTotalCodewordsCount=function(i,s){switch(s){case r.L:return n[(i-1)*4+0];case r.M:return n[(i-1)*4+1];case r.Q:return n[(i-1)*4+2];case r.H:return n[(i-1)*4+3];default:return}},q1}var Sj={},y0={},PT;function Qre(){if(PT)return y0;PT=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let a=1;for(let i=0;i<255;i++)r[i]=a,e[a]=i,a<<=1,a&256&&(a^=285);for(let i=255;i<512;i++)r[i]=r[i-255]})(),y0.log=function(a){if(a<1)throw new Error("log("+a+")");return e[a]},y0.exp=function(a){return r[a]},y0.mul=function(a,i){return a===0||i===0?0:r[e[a]+e[i]]},y0}var FT;function Wre(){return FT||(FT=1,(function(r){const e=Qre();r.mul=function(a,i){const s=new Uint8Array(a.length+i.length-1);for(let c=0;c<a.length;c++)for(let l=0;l<i.length;l++)s[c+l]^=e.mul(a[c],i[l]);return s},r.mod=function(a,i){let s=new Uint8Array(a);for(;s.length-i.length>=0;){const c=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],c);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},r.generateECPolynomial=function(a){let i=new Uint8Array([1]);for(let s=0;s<a;s++)i=r.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Sj)),Sj}var Bj,DT;function $re(){if(DT)return Bj;DT=1;const r=Wre();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(a.length+this.degree);i.set(a);const s=r.mod(i,this.genPoly),c=this.degree-s.length;if(c>0){const l=new Uint8Array(this.degree);return l.set(s,c),l}return s},Bj=e,Bj}var Ej={},Ij={},Tj={},MT;function FF(){return MT||(MT=1,Tj.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Tj}var Ch={},RT;function DF(){if(RT)return Ch;RT=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ch.KANJI=new RegExp(n,"g"),Ch.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ch.BYTE=new RegExp(a,"g"),Ch.NUMERIC=new RegExp(r,"g"),Ch.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ch.testKanji=function(u){return i.test(u)},Ch.testNumeric=function(u){return s.test(u)},Ch.testAlphanumeric=function(u){return c.test(u)},Ch}var LT;function vp(){return LT||(LT=1,(function(r){const e=FF(),n=DF();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return n.testNumeric(s)?r.NUMERIC:n.testAlphanumeric(s)?r.ALPHANUMERIC:n.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function a(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(s,c){if(r.isValid(s))return s;try{return a(s)}catch{return c}}})(Ij)),Ij}var UT;function Vre(){return UT||(UT=1,(function(r){const e=gp(),n=PF(),a=ZN(),i=vp(),s=FF(),c=7973,l=e.getBCHDigit(c);function u(A,f,g){for(let m=1;m<=40;m++)if(f<=r.getCapacity(m,g,A))return m}function o(A,f){return i.getCharCountIndicator(A,f)+4}function d(A,f){let g=0;return A.forEach(function(m){const x=o(m.mode,f);g+=x+m.getBitsLength()}),g}function h(A,f){for(let g=1;g<=40;g++)if(d(A,g)<=r.getCapacity(g,f,i.MIXED))return g}r.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},r.getCapacity=function(f,g,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const x=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,g),b=(x-y)*8;if(m===i.MIXED)return b;const w=b-o(m,f);switch(m){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(f,g){let m;const x=a.from(g,a.M);if(Array.isArray(f)){if(f.length>1)return h(f,x);if(f.length===0)return 1;m=f[0]}else m=f;return u(m.mode,m.getLength(),x)},r.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-l>=0;)g^=c<<e.getBCHDigit(g)-l;return f<<12|g}})(Ej)),Ej}var _j={},HT;function zre(){if(HT)return _j;HT=1;const r=gp(),e=1335,n=21522,a=r.getBCHDigit(e);return _j.getEncodedBits=function(s,c){const l=s.bit<<3|c;let u=l<<10;for(;r.getBCHDigit(u)-a>=0;)u^=e<<r.getBCHDigit(u)-a;return(l<<10|u)^n},_j}var Oj={},kj,QT;function Kre(){if(QT)return kj;QT=1;const r=vp();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let i,s,c;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),c=parseInt(s,10),a.put(c,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),c=parseInt(s,10),a.put(c,l*3+1))},kj=e,kj}var Pj,WT;function Gre(){if(WT)return Pj;WT=1;const r=vp(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let c=e.indexOf(this.data[s])*45;c+=e.indexOf(this.data[s+1]),i.put(c,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Pj=n,Pj}var Fj,$T;function qre(){if($T)return Fj;$T=1;const r=vp();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(a){return a*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let a=0,i=this.data.length;a<i;a++)n.put(this.data[a],8)},Fj=e,Fj}var Dj,VT;function Xre(){if(VT)return Dj;VT=1;const r=vp(),e=gp();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),a.put(s,13)}},Dj=n,Dj}var Mj={exports:{}},zT;function Yre(){return zT||(zT=1,(function(r){var e={single_source_shortest_paths:function(n,a,i){var s={},c={};c[a]=0;var l=e.PriorityQueue.make();l.push(a,0);for(var u,o,d,h,A,f,g,m,x;!l.empty();){u=l.pop(),o=u.value,h=u.cost,A=n[o]||{};for(d in A)A.hasOwnProperty(d)&&(f=A[d],g=h+f,m=c[d],x=typeof c[d]>"u",(x||m>g)&&(c[d]=g,l.push(d,g),s[d]=o))}if(typeof i<"u"&&typeof c[i]>"u"){var y=["Could not find a path from ",a," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(n,a){for(var i=[],s=a;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,a,i){var s=e.single_source_shortest_paths(n,a,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var a=e.PriorityQueue,i={},s;n=n||{};for(s in a)a.hasOwnProperty(s)&&(i[s]=a[s]);return i.queue=[],i.sorter=n.sorter||a.default_sorter,i},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var i={value:n,cost:a};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Mj)),Mj.exports}var KT;function Zre(){return KT||(KT=1,(function(r){const e=vp(),n=Kre(),a=Gre(),i=qre(),s=Xre(),c=DF(),l=gp(),u=Yre();function o(y){return unescape(encodeURIComponent(y)).length}function d(y,b,w){const N=[];let S;for(;(S=y.exec(w))!==null;)N.push({data:S[0],index:S.index,mode:b,length:S[0].length});return N}function h(y){const b=d(c.NUMERIC,e.NUMERIC,y),w=d(c.ALPHANUMERIC,e.ALPHANUMERIC,y);let N,S;return l.isKanjiModeEnabled()?(N=d(c.BYTE,e.BYTE,y),S=d(c.KANJI,e.KANJI,y)):(N=d(c.BYTE_KANJI,e.BYTE,y),S=[]),b.concat(w,N,S).sort(function(_,k){return _.index-k.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function A(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return a.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,w){const N=b.length-1>=0?b[b.length-1]:null;return N&&N.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function g(y){const b=[];for(let w=0;w<y.length;w++){const N=y[w];switch(N.mode){case e.NUMERIC:b.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:b.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:b.push([N,{data:N.data,mode:e.BYTE,length:o(N.data)}]);break;case e.BYTE:b.push([{data:N.data,mode:e.BYTE,length:o(N.data)}])}}return b}function m(y,b){const w={},N={start:{}};let S=["start"];for(let j=0;j<y.length;j++){const _=y[j],k=[];for(let Z=0;Z<_.length;Z++){const ee=_[Z],V=""+j+Z;k.push(V),w[V]={node:ee,lastCount:0},N[V]={};for(let re=0;re<S.length;re++){const R=S[re];w[R]&&w[R].node.mode===ee.mode?(N[R][V]=A(w[R].lastCount+ee.length,ee.mode)-A(w[R].lastCount,ee.mode),w[R].lastCount+=ee.length):(w[R]&&(w[R].lastCount=ee.length),N[R][V]=A(ee.length,ee.mode)+4+e.getCharCountIndicator(ee.mode,b))}}S=k}for(let j=0;j<S.length;j++)N[S[j]].end=0;return{map:N,table:w}}function x(y,b){let w;const N=e.getBestModeForData(y);if(w=e.from(b,N),w!==e.BYTE&&w.bit<N.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(N));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new a(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}r.fromArray=function(b){return b.reduce(function(w,N){return typeof N=="string"?w.push(x(N,null)):N.data&&w.push(x(N.data,N.mode)),w},[])},r.fromString=function(b,w){const N=h(b,l.isKanjiModeEnabled()),S=g(N),j=m(S,w),_=u.find_path(j.map,"start","end"),k=[];for(let Z=1;Z<_.length-1;Z++)k.push(j.table[_[Z]].node);return r.fromArray(f(k))},r.rawSplit=function(b){return r.fromArray(h(b,l.isKanjiModeEnabled()))}})(Oj)),Oj}var GT;function Jre(){if(GT)return xj;GT=1;const r=gp(),e=ZN(),n=Mre(),a=Rre(),i=Lre(),s=Ure(),c=Hre(),l=PF(),u=$re(),o=Vre(),d=zre(),h=vp(),A=Zre();function f(j,_){const k=j.size,Z=s.getPositions(_);for(let ee=0;ee<Z.length;ee++){const V=Z[ee][0],re=Z[ee][1];for(let R=-1;R<=7;R++)if(!(V+R<=-1||k<=V+R))for(let Y=-1;Y<=7;Y++)re+Y<=-1||k<=re+Y||(R>=0&&R<=6&&(Y===0||Y===6)||Y>=0&&Y<=6&&(R===0||R===6)||R>=2&&R<=4&&Y>=2&&Y<=4?j.set(V+R,re+Y,!0,!0):j.set(V+R,re+Y,!1,!0))}}function g(j){const _=j.size;for(let k=8;k<_-8;k++){const Z=k%2===0;j.set(k,6,Z,!0),j.set(6,k,Z,!0)}}function m(j,_){const k=i.getPositions(_);for(let Z=0;Z<k.length;Z++){const ee=k[Z][0],V=k[Z][1];for(let re=-2;re<=2;re++)for(let R=-2;R<=2;R++)re===-2||re===2||R===-2||R===2||re===0&&R===0?j.set(ee+re,V+R,!0,!0):j.set(ee+re,V+R,!1,!0)}}function x(j,_){const k=j.size,Z=o.getEncodedBits(_);let ee,V,re;for(let R=0;R<18;R++)ee=Math.floor(R/3),V=R%3+k-8-3,re=(Z>>R&1)===1,j.set(ee,V,re,!0),j.set(V,ee,re,!0)}function y(j,_,k){const Z=j.size,ee=d.getEncodedBits(_,k);let V,re;for(V=0;V<15;V++)re=(ee>>V&1)===1,V<6?j.set(V,8,re,!0):V<8?j.set(V+1,8,re,!0):j.set(Z-15+V,8,re,!0),V<8?j.set(8,Z-V-1,re,!0):V<9?j.set(8,15-V-1+1,re,!0):j.set(8,15-V-1,re,!0);j.set(Z-8,8,1,!0)}function b(j,_){const k=j.size;let Z=-1,ee=k-1,V=7,re=0;for(let R=k-1;R>0;R-=2)for(R===6&&R--;;){for(let Y=0;Y<2;Y++)if(!j.isReserved(ee,R-Y)){let L=!1;re<_.length&&(L=(_[re]>>>V&1)===1),j.set(ee,R-Y,L),V--,V===-1&&(re++,V=7)}if(ee+=Z,ee<0||k<=ee){ee-=Z,Z=-Z;break}}}function w(j,_,k){const Z=new n;k.forEach(function(Y){Z.put(Y.mode.bit,4),Z.put(Y.getLength(),h.getCharCountIndicator(Y.mode,j)),Y.write(Z)});const ee=r.getSymbolTotalCodewords(j),V=l.getTotalCodewordsCount(j,_),re=(ee-V)*8;for(Z.getLengthInBits()+4<=re&&Z.put(0,4);Z.getLengthInBits()%8!==0;)Z.putBit(0);const R=(re-Z.getLengthInBits())/8;for(let Y=0;Y<R;Y++)Z.put(Y%2?17:236,8);return N(Z,j,_)}function N(j,_,k){const Z=r.getSymbolTotalCodewords(_),ee=l.getTotalCodewordsCount(_,k),V=Z-ee,re=l.getBlocksCount(_,k),R=Z%re,Y=re-R,L=Math.floor(Z/re),$=Math.floor(V/re),je=$+1,ge=L-$,Ie=new u(ge);let _e=0;const fe=new Array(re),le=new Array(re);let ve=0;const se=new Uint8Array(j.buffer);for(let ce=0;ce<re;ce++){const q=ce<Y?$:je;fe[ce]=se.slice(_e,_e+q),le[ce]=Ie.encode(fe[ce]),_e+=q,ve=Math.max(ve,q)}const he=new Uint8Array(Z);let Ne=0,Pe,ye;for(Pe=0;Pe<ve;Pe++)for(ye=0;ye<re;ye++)Pe<fe[ye].length&&(he[Ne++]=fe[ye][Pe]);for(Pe=0;Pe<ge;Pe++)for(ye=0;ye<re;ye++)he[Ne++]=le[ye][Pe];return he}function S(j,_,k,Z){let ee;if(Array.isArray(j))ee=A.fromArray(j);else if(typeof j=="string"){let L=_;if(!L){const $=A.rawSplit(j);L=o.getBestVersionForData($,k)}ee=A.fromString(j,L||40)}else throw new Error("Invalid data");const V=o.getBestVersionForData(ee,k);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=V;else if(_<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const re=w(_,k,ee),R=r.getSymbolSize(_),Y=new a(R);return f(Y,_),g(Y),m(Y,_),y(Y,k,0),_>=7&&x(Y,_),b(Y,re),isNaN(Z)&&(Z=c.getBestMask(Y,y.bind(null,Y,k))),c.applyMask(Z,Y),y(Y,k,Z),{modules:Y,version:_,errorCorrectionLevel:k,maskPattern:Z,segments:ee}}return xj.create=function(_,k){if(typeof _>"u"||_==="")throw new Error("No input text");let Z=e.M,ee,V;return typeof k<"u"&&(Z=e.from(k.errorCorrectionLevel,e.M),ee=o.from(k.version),V=c.from(k.maskPattern),k.toSJISFunc&&r.setToSJISFunction(k.toSJISFunc)),S(_,ee,Z,V)},xj}var Rj={},Lj={},qT;function MF(){return qT||(qT=1,(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(s){return[s,s]}))),a.length===6&&a.push("F","F");const i=parseInt(a.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const i=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,s=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:s,scale:s?4:c,margin:i,color:{dark:e(a.color.dark||"#000000ff"),light:e(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,i){return i.width&&i.width>=a+i.margin*2?i.width/(a+i.margin*2):i.scale},r.getImageWidth=function(a,i){const s=r.getScale(a,i);return Math.floor((a+i.margin*2)*s)},r.qrToImageData=function(a,i,s){const c=i.modules.size,l=i.modules.data,u=r.getScale(c,s),o=Math.floor((c+s.margin*2)*u),d=s.margin*u,h=[s.color.light,s.color.dark];for(let A=0;A<o;A++)for(let f=0;f<o;f++){let g=(A*o+f)*4,m=s.color.light;if(A>=d&&f>=d&&A<o-d&&f<o-d){const x=Math.floor((A-d)/u),y=Math.floor((f-d)/u);m=h[l[x*c+y]?1:0]}a[g++]=m.r,a[g++]=m.g,a[g++]=m.b,a[g]=m.a}}})(Lj)),Lj}var XT;function ene(){return XT||(XT=1,(function(r){const e=MF();function n(i,s,c){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,c,l){let u=l,o=c;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),c||(o=a()),u=e.getOptions(u);const d=e.getImageWidth(s.modules.size,u),h=o.getContext("2d"),A=h.createImageData(d,d);return e.qrToImageData(A.data,s,u),n(h,o,d),h.putImageData(A,0,0),o},r.renderToDataURL=function(s,c,l){let u=l;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),u||(u={});const o=r.render(s,c,u),d=u.type||"image/png",h=u.rendererOpts||{};return o.toDataURL(d,h.quality)}})(Rj)),Rj}var Uj={},YT;function tne(){if(YT)return Uj;YT=1;const r=MF();function e(i,s){const c=i.a/255,l=s+'="'+i.hex+'"';return c<1?l+" "+s+'-opacity="'+c.toFixed(2).slice(1)+'"':l}function n(i,s,c){let l=i+s;return typeof c<"u"&&(l+=" "+c),l}function a(i,s,c){let l="",u=0,o=!1,d=0;for(let h=0;h<i.length;h++){const A=Math.floor(h%s),f=Math.floor(h/s);!A&&!o&&(o=!0),i[h]?(d++,h>0&&A>0&&i[h-1]||(l+=o?n("M",A+c,.5+f+c):n("m",u,0),u=0,o=!1),A+1<s&&i[h+1]||(l+=n("h",d),d=0)):u++}return l}return Uj.render=function(s,c,l){const u=r.getOptions(c),o=s.modules.size,d=s.modules.data,h=o+u.margin*2,A=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",f="<path "+e(u.color.dark,"stroke")+' d="'+a(d,o,u.margin)+'"/>',g='viewBox="0 0 '+h+" "+h+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+g+' shape-rendering="crispEdges">'+A+f+`</svg>
`;return typeof l=="function"&&l(null,x),x},Uj}var ZT;function rne(){if(ZT)return Mp;ZT=1;const r=Dre(),e=Jre(),n=ene(),a=tne();function i(s,c,l,u,o){const d=[].slice.call(arguments,1),h=d.length,A=typeof d[h-1]=="function";if(!A&&!r())throw new Error("Callback required as last argument");if(A){if(h<2)throw new Error("Too few arguments provided");h===2?(o=l,l=c,c=u=void 0):h===3&&(c.getContext&&typeof o>"u"?(o=u,u=void 0):(o=u,u=l,l=c,c=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(l=c,c=u=void 0):h===2&&!c.getContext&&(u=l,l=c,c=void 0),new Promise(function(f,g){try{const m=e.create(l,u);f(s(m,c,u))}catch(m){g(m)}})}try{const f=e.create(l,u);o(null,s(f,c,u))}catch(f){o(f)}}return Mp.create=e.create,Mp.toCanvas=i.bind(null,n.render),Mp.toDataURL=i.bind(null,n.renderToDataURL),Mp.toString=i.bind(null,function(s,c,l){return a.render(s,l)}),Mp}var nne=rne();const JT=Zi(nne),ane=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),[c,l]=P.useState(!1),[u,o]=P.useState([]),d=P.useRef(null),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState([]),[w,N]=P.useState(!1),[S,j]=P.useState(null),[_,k]=P.useState(!1),Z=()=>{k(!_)},[ee,V]=P.useState({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1}),re=P.useCallback(async()=>{try{const Ie=await Qa.getAllCompanies(void 0,!0);A(Ie)}catch(Ie){console.error("Failed to load companies:",Ie),j("Failed to load companies")}},[]),R=P.useCallback(async()=>{try{const Ie=await Os.getAllHcfs(void 0,!0);g(Ie)}catch(Ie){console.error("Failed to load HCFs:",Ie),j("Failed to load HCFs")}},[]);P.useEffect(()=>{if(ee.companyId){const Ie=f.filter(_e=>_e.companyId===ee.companyId);x(Ie),ee.hcfId&&!Ie.find(_e=>_e.id===ee.hcfId)&&V(_e=>({..._e,hcfId:""}))}else x([]),V(Ie=>({...Ie,hcfId:""}))},[ee.companyId,f]);const Y=P.useCallback(async()=>{try{N(!0);const Ie=await rf.getAllBarcodeLabels(),_e=await Promise.all(Ie.map(async fe=>{const le=h.find(se=>se.id===fe.companyId);let ve="";try{ve=(await Os.getHcfById(fe.hcfId)).hcfName}catch(se){console.error("Error loading HCF:",se)}return{id:fe.id,hcfCode:fe.hcfCode,hcfName:ve,companyId:fe.companyId,companyName:(le==null?void 0:le.companyName)||"Unknown",sequenceNumber:fe.sequenceNumber,barcodeType:fe.barcodeType,colorBlock:fe.colorBlock,barcodeValue:fe.barcodeValue,createdAt:fe.createdOn}}));b(_e)}catch(Ie){console.error("Failed to load labels:",Ie),j("Failed to load labels")}finally{N(!1)}},[h]);P.useEffect(()=>{re(),R()},[re,R]),P.useEffect(()=>{h.length>0&&Y()},[h,Y]),P.useCallback(async(Ie,_e)=>{try{return await rf.getLastSequence(Ie,_e)}catch(fe){return console.error("Failed to get last sequence:",fe),0}},[]);const L=async()=>{if(!ee.companyId||!ee.hcfId||ee.count<1){j("Please select company, HCF, and enter valid count");return}const Ie=m.find(fe=>fe.id===ee.hcfId),_e=h.find(fe=>fe.id===ee.companyId);if(!Ie||!_e){j("Invalid selection");return}try{N(!0),j(null);const le=(await rf.generateLabels({hcfId:ee.hcfId,companyId:ee.companyId,barcodeType:ee.barcodeType,colorBlock:ee.colorBlock,count:ee.count})).map(ve=>({id:ve.id,hcfCode:ve.hcfCode,hcfName:Ie.hcfName,companyId:ve.companyId,companyName:_e.companyName,sequenceNumber:ve.sequenceNumber,barcodeType:ve.barcodeType,colorBlock:ve.colorBlock,barcodeValue:ve.barcodeValue,createdAt:ve.createdOn}));await Y(),o(le),l(!0),s(!1),V({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1})}catch(fe){const le=fe instanceof Error?fe.message:"Failed to generate labels";j(le),console.error("Error generating labels:",fe)}finally{N(!1)}};P.useEffect(()=>{c&&d.current&&u.length>0&&setTimeout(()=>{const Ie=d.current;if(!Ie)return;const _e=Ie.querySelectorAll(".barcode-svg"),fe=Ie.querySelectorAll(".qr-canvas");_e.forEach((le,ve)=>{const se=u[ve];if(se&&se.barcodeType==="Barcode")try{le.innerHTML="",CT(le,se.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(he){console.error("Failed to generate barcode:",he)}}),fe.forEach((le,ve)=>{const se=u[ve];se&&se.barcodeType==="QR Code"&&JT.toCanvas(le,se.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(he=>{console.error("Failed to generate QR code:",he)})})},100)},[u,c]);const $=()=>{!d.current||u.length===0||setTimeout(()=>{const Ie=d.current;if(!Ie)return;const _e=Ie.querySelectorAll(".barcode-svg"),fe=Ie.querySelectorAll(".qr-canvas");_e.forEach((le,ve)=>{const se=u[ve];if(se&&se.barcodeType==="Barcode")try{le.innerHTML="",CT(le,se.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(he){console.error("Failed to generate barcode:",he)}}),fe.forEach((le,ve)=>{const se=u[ve];se&&se.barcodeType==="QR Code"&&JT.toCanvas(le,se.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(he=>{console.error("Failed to generate QR code:",he)})}),setTimeout(()=>{window.print()},200)},100)},je=y.filter(Ie=>Ie.hcfCode.toLowerCase().includes(n.toLowerCase())||Ie.hcfName.toLowerCase().includes(n.toLowerCase())||Ie.companyName.toLowerCase().includes(n.toLowerCase())||Ie.barcodeValue.toLowerCase().includes(n.toLowerCase())),ge=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${_?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!_&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:Z,"aria-label":_?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ge.map(Ie=>t.jsx("li",{children:t.jsxs(rn,{to:Ie.path,className:`nav-link ${Ie.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Ie.icon}),!_&&t.jsx("span",{className:"nav-label",children:Ie.label})]})},Ie.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!_&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!_&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Barcode Generation"})})}),t.jsxs("div",{className:"barcode-generation-page",children:[t.jsxs("div",{className:"barcode-generation-header",children:[t.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),t.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]}),t.jsxs("div",{className:"barcode-generation-actions",children:[t.jsxs("div",{className:"barcode-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:n,onChange:Ie=>a(Ie.target.value)})]}),t.jsxs("button",{className:"generate-btn",onClick:()=>s(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]}),S&&t.jsxs("div",{className:"barcode-error-banner",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),S]}),t.jsx("div",{className:"barcode-table-container",children:t.jsxs("table",{className:"barcode-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Sequence"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:je.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:'No labels generated yet. Click "Generate Labels" to create barcode/QR labels.'})}):je.map(Ie=>t.jsxs("tr",{children:[t.jsx("td",{className:"sequence-cell",children:Ie.sequenceNumber}),t.jsx("td",{className:"hcf-code-cell",children:Ie.hcfCode}),t.jsx("td",{children:Ie.hcfName}),t.jsx("td",{children:Ie.companyName}),t.jsx("td",{children:t.jsx("span",{className:`barcode-type-badge barcode-type-badge--${Ie.barcodeType.toLowerCase().replace(" ","-")}`,children:Ie.barcodeType})}),t.jsx("td",{children:t.jsx("span",{className:`color-block-badge color-block-badge--${Ie.colorBlock.toLowerCase()}`,children:Ie.colorBlock})}),t.jsx("td",{className:"barcode-value-cell",children:Ie.barcodeValue}),t.jsx("td",{children:t.jsx("div",{className:"barcode-action-buttons",children:t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>{o([Ie]),l(!0)},title:"Preview & Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})})})]},Ie.id))})]})}),t.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",je.length," of ",y.length," Labels"]})]})]}),i&&t.jsx(ine,{companies:h,hcfs:m,formData:ee,setFormData:V,onClose:()=>s(!1),onGenerate:L}),c&&u.length>0&&t.jsx(sne,{labels:u,printContainerRef:d,onClose:()=>l(!1),onPrint:$}),t.jsx("div",{className:"print-container",ref:d,children:u.map(Ie=>t.jsxs("div",{className:"print-label",children:[t.jsxs("div",{className:"print-label-header",children:[t.jsx("div",{className:`print-color-block-square print-color-block-square--${Ie.colorBlock.toLowerCase()}`,children:Ie.colorBlock.toUpperCase()}),t.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",Ie.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsxs("div",{className:"print-barcode-container",children:[Ie.barcodeType==="QR Code"?t.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):t.jsx("svg",{className:"barcode-svg"}),t.jsx("div",{className:"print-barcode-value",children:Ie.barcodeValue})]}),t.jsx("div",{className:"print-label-footer",children:t.jsx("div",{className:"print-type-label",children:Ie.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},Ie.id))})]})},ine=({companies:r,hcfs:e,formData:n,setFormData:a,onClose:i,onGenerate:s})=>{const c=e.find(f=>f.id===n.hcfId),[l,u]=P.useState(0),[o,d]=P.useState(0),[h,A]=P.useState(!1);return P.useEffect(()=>{c?(A(!0),Promise.all([rf.getLastSequence(c.hcfCode,"Barcode").catch(()=>0),rf.getLastSequence(c.hcfCode,"QR Code").catch(()=>0)]).then(([f,g])=>{u(f),d(g),A(!1)}).catch(()=>{A(!1)})):(u(0),d(0))},[c]),t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Barcode/QR Labels"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"barcode-form",onSubmit:f=>{f.preventDefault(),s()},children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Label Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:n.companyId,onChange:f=>a({...n,companyId:f.target.value,hcfId:""}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(f=>t.jsxs("option",{value:f.id,children:[f.companyCode," - ",f.companyName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:n.hcfId,onChange:f=>a({...n,hcfId:f.target.value}),required:!0,disabled:!n.companyId,children:[t.jsx("option",{value:"",children:"Select HCF"}),e.map(f=>t.jsxs("option",{value:f.id,children:[f.hcfCode," - ",f.hcfName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode Type *"}),t.jsxs("select",{value:n.barcodeType,onChange:f=>a({...n,barcodeType:f.target.value}),required:!0,children:[t.jsx("option",{value:"Barcode",children:"Barcode (Code128)"}),t.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Print Color Block *"}),t.jsxs("select",{value:n.colorBlock,onChange:f=>a({...n,colorBlock:f.target.value}),required:!0,children:[t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode Count *"}),t.jsx("input",{type:"number",value:n.count,onChange:f=>a({...n,count:parseInt(f.target.value)||1}),required:!0,min:1,max:1e3,placeholder:"Enter count (1-1000)"})]}),c&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Sequence"}),t.jsx("input",{type:"text",value:h?"Loading...":`Barcode: ${l} | QR: ${o}`,readOnly:!0,style:{backgroundColor:"#f1f5f9",cursor:"not-allowed"}})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Generate Labels"})]})]})]})})},sne=({labels:r,printContainerRef:e,onClose:n,onPrint:a})=>{var i,s,c,l,u,o,d;return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--preview",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Preview Labels (",r.length,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"preview-content",children:[t.jsxs("div",{className:"preview-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"HCF:"})," ",(i=r[0])==null?void 0:i.hcfCode," - ",(s=r[0])==null?void 0:s.hcfName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Company:"})," ",(c=r[0])==null?void 0:c.companyName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",(l=r[0])==null?void 0:l.barcodeType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Color Block:"})," ",(u=r[0])==null?void 0:u.colorBlock]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Sequence Range:"})," ",(o=r[0])==null?void 0:o.sequenceNumber," - ",(d=r[r.length-1])==null?void 0:d.sequenceNumber]})]}),t.jsx("div",{className:"preview-labels-grid",children:r.slice(0,6).map(h=>t.jsxs("div",{className:"preview-label",children:[t.jsxs("div",{className:"preview-label-header",children:[t.jsx("div",{className:`preview-color-block-square preview-color-block-square--${h.colorBlock.toLowerCase()}`,children:h.colorBlock.toUpperCase()}),t.jsxs("div",{className:"preview-sequence-text",children:["Seq. No. ",h.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsx("div",{className:"preview-barcode-placeholder",children:h.barcodeType==="QR Code"?"QR Code":"Barcode"}),t.jsx("div",{className:"preview-barcode-value",children:h.barcodeValue}),t.jsx("div",{className:"preview-label-footer",children:t.jsx("div",{className:"preview-type-label",children:h.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},h.id))}),r.length>6&&t.jsxs("p",{className:"preview-more-info",children:["... and ",r.length-6," more labels"]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:a,children:"Print Labels"})]})]})})},one="http://localhost:3000/api/v1",lne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},b0=async(r,e={})=>{const n=lne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${one}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},av={createCertificate:async r=>(await b0("/training-certificates",{method:"POST",body:JSON.stringify(r)})).data,getCertificateById:async r=>(await b0(`/training-certificates/${r}`,{method:"GET"})).data,getAllCertificates:async(r,e,n)=>{let a="/training-certificates";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("activeOnly","true"),n!=null&&n.hcfId&&i.append("hcfId",n.hcfId),n!=null&&n.status&&i.append("status",n.status),n!=null&&n.dateFrom&&i.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&i.append("dateTo",n.dateTo),n!=null&&n.search&&i.append("search",n.search),i.toString()&&(a+=`?${i.toString()}`),(await b0(a,{method:"GET"})).data},updateCertificate:async(r,e)=>(await b0(`/training-certificates/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCertificate:async r=>{await b0(`/training-certificates/${r}`,{method:"DELETE"})}},cne=()=>{const{logout:r,user:e}=xa(),n=Pn(),[a,i]=P.useState(""),[s,c]=P.useState("All"),[l,u]=P.useState("All"),[o,d]=P.useState("All"),[h,A]=P.useState(""),[f,g]=P.useState(""),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),[S,j]=P.useState(null),[_,k]=P.useState(!0),[Z,ee]=P.useState(null),[V,re]=P.useState(!1),[R,Y]=P.useState(!1),L=()=>{Y(!R)},[$,je]=P.useState([]),[ge,Ie]=P.useState([]),[_e,fe]=P.useState([]),le=P.useCallback(async()=>{try{const ae=await Qa.getAllCompanies(void 0,!0);je(ae)}catch(ae){console.error("Failed to load companies:",ae),ee("Failed to load companies")}},[]),ve=P.useCallback(async ae=>{try{const Le=await Os.getAllHcfs(ae,!0);Ie(Le)}catch(Le){console.error("Failed to load HCFs:",Le),ee("Failed to load HCFs")}},[]),se=P.useCallback(async()=>{var ae;try{k(!0),ee(null);const Le=s!=="All"?(ae=$.find(Ct=>Ct.companyName===s))==null?void 0:ae.id:void 0,Ze={};if(l!=="All"){const Ct=ge.find(Xt=>Xt.hcfCode===l);Ct&&(Ze.hcfId=Ct.id)}o!=="All"&&(Ze.status=o),h&&(Ze.dateFrom=h),f&&(Ze.dateTo=f),a&&(Ze.search=a);const Lt=(await av.getAllCertificates(Le,!1,Object.keys(Ze).length>0?Ze:void 0)).map(Ct=>{const Xt=$.find(Or=>Or.id===Ct.companyId),_r=ge.find(Or=>Or.id===Ct.hcfId);return{id:Ct.id,certificateNo:Ct.certificateNo,staffName:Ct.staffName,staffCode:Ct.staffCode,designation:Ct.designation||"",hcfCode:(_r==null?void 0:_r.hcfCode)||"",hcfId:Ct.hcfId,trainingDate:Ct.trainingDate,status:Ct.status,companyName:(Xt==null?void 0:Xt.companyName)||"",companyId:Ct.companyId,trainedBy:Ct.trainedBy,createdBy:Ct.createdBy||"",createdOn:Ct.createdOn,modifiedBy:Ct.modifiedBy||"",modifiedOn:Ct.modifiedOn}});fe(Lt)}catch(Le){console.error("Failed to load certificates:",Le),ee(Le.message||"Failed to load certificates")}finally{k(!1)}},[s,l,o,h,f,a,$,ge]);P.useEffect(()=>{(async()=>{await le(),await ve()})()},[le,ve]),P.useEffect(()=>{$.length>0&&ge.length>0&&se()},[s,l,o,h,f,a,$,ge,se]),P.useEffect(()=>{if(s!=="All"){const ae=$.find(Le=>Le.companyName===s);ae&&ve(ae.id)}else ve()},[s,$,ve]);const he=_e,Ne=()=>{N(null),x(!0)},Pe=ae=>{j(ae),b(!0)},ye=ae=>{ae.status==="Active"?(N(ae),x(!0)):alert("Only Active certificates can be edited.")},ce=ae=>{window.print()},q=()=>{alert("Export functionality will be implemented")},pe=async ae=>{try{if(re(!0),ee(null),w){const Le={};ae.staffName!==void 0&&(Le.staffName=ae.staffName),ae.staffCode!==void 0&&(Le.staffCode=ae.staffCode),ae.designation!==void 0&&(Le.designation=ae.designation),ae.hcfId!==void 0&&(Le.hcfId=ae.hcfId),ae.trainingDate!==void 0&&(Le.trainingDate=ae.trainingDate),ae.trainedBy!==void 0&&(Le.trainedBy=ae.trainedBy),ae.status!==void 0&&(Le.status=ae.status),await av.updateCertificate(w.id,Le)}else{const Le=$.find(Ze=>Ze.companyName===ae.companyName);if(!Le)throw new Error("Company not found");if(!ae.hcfId)throw new Error("HCF is required");if(!ae.certificateNo)throw new Error("Certificate number is required");await av.createCertificate({certificateNo:ae.certificateNo||oe(),staffName:ae.staffName||"",staffCode:ae.staffCode||"",designation:ae.designation,hcfId:ae.hcfId,trainingDate:ae.trainingDate||new Date().toISOString().split("T")[0],companyId:Le.id,trainedBy:ae.trainedBy||""})}await se(),x(!1),N(null)}catch(Le){console.error("Failed to save certificate:",Le),ee(Le.message||"Failed to save certificate"),alert(Le.message||"Failed to save certificate")}finally{re(!1)}},oe=()=>{const ae=new Date().getFullYear(),Le=_e.length+1;return`CERT-${ae}-${Le.toString().padStart(3,"0")}`},We=ae=>{if(ae==="All")return ge.filter(Ze=>Ze.status==="Active");const Le=$.find(Ze=>Ze.companyName===ae);return Le?ge.filter(Ze=>Ze.companyId===Le.id&&Ze.status==="Active"):[]},Re=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}],Ee=We(s);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${R?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!R&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:L,"aria-label":R?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Re.map(ae=>t.jsx("li",{children:t.jsxs(rn,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ae.icon}),!R&&t.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!R&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!R&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Compliance & Training / Training Certificate Management"})})}),t.jsxs("div",{className:"training-certificate-page",children:[Z&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:Z}),_&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading..."}),t.jsx("div",{className:"training-certificate-header",children:t.jsx("h1",{className:"training-certificate-title",children:"Training Certificate Management"})}),t.jsx("div",{className:"training-certificate-filters",children:t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Company"}),t.jsxs("select",{className:"filter-select",value:s,onChange:ae=>{c(ae.target.value),ae.target.value==="All"&&u("All")},children:[t.jsx("option",{value:"All",children:"All Companies"}),$.filter(ae=>ae.status==="Active").map(ae=>t.jsx("option",{value:ae.companyName,children:ae.companyName},ae.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"HCF"}),t.jsxs("select",{className:"filter-select",value:l,onChange:ae=>u(ae.target.value),children:[t.jsx("option",{value:"All",children:"All HCFs"}),Ee.map(ae=>t.jsxs("option",{value:ae.hcfCode,children:[ae.hcfCode," - ",ae.hcfName]},ae.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date From"}),t.jsx("input",{type:"date",className:"filter-input",value:h,onChange:ae=>A(ae.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date To"}),t.jsx("input",{type:"date",className:"filter-input",value:f,onChange:ae=>g(ae.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{className:"filter-select",value:o,onChange:ae=>d(ae.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsx("div",{className:"filter-group",children:t.jsx("button",{className:"clear-filters-btn",onClick:()=>{c("All"),u("All"),d("All"),A(""),g("")},children:"Clear Filters"})})]})}),t.jsxs("div",{className:"training-certificate-actions",children:[t.jsxs("div",{className:"certificate-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"certificate-search-input",placeholder:"Search Certificate...",value:a,onChange:ae=>i(ae.target.value)})]}),t.jsxs("button",{className:"export-btn",onClick:q,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-certificate-btn",onClick:Ne,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]}),t.jsx("div",{className:"certificate-table-container",children:t.jsxs("table",{className:"certificate-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Designation"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:he.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:"No certificate records found"})}):he.map(ae=>{const Le=ge.find(Ze=>Ze.hcfCode===ae.hcfCode);return t.jsxs("tr",{children:[t.jsx("td",{className:"certificate-no-cell",children:ae.certificateNo}),t.jsx("td",{children:ae.staffName}),t.jsx("td",{children:ae.staffCode}),t.jsx("td",{children:ae.designation}),t.jsx("td",{children:Le?`${ae.hcfCode} - ${Le.hcfName}`:ae.hcfCode}),t.jsx("td",{children:ae.trainingDate}),t.jsx("td",{children:t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${ae.status.toLowerCase()}`,children:ae.status})}),t.jsx("td",{children:t.jsxs("div",{className:"certificate-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Pe(ae),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ae.status==="Active"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ye(ae),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>ce(),title:"Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},ae.id)})})]})}),t.jsxs("div",{className:"certificate-pagination-info",children:["Showing ",he.length," of ",_e.length," Items"]})]})]}),m&&t.jsx(une,{certificate:w,companies:$.filter(ae=>ae.status==="Active"),hcfs:ge.filter(ae=>ae.status==="Active"),onClose:()=>{x(!1),N(null)},onSave:pe,generateCertificateNo:oe}),y&&S&&t.jsx(dne,{certificate:S,hcfs:ge,companies:$,onClose:()=>{b(!1),j(null)},onPrint:ce})]})},une=({certificate:r,companies:e,hcfs:n,onClose:a,onSave:i,generateCertificateNo:s})=>{const c=()=>{if(r){const y=e.find(b=>b.companyName===r.companyName);return{...r,companyId:r.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[l,u]=P.useState(c()),[o,d]=P.useState(r?"manual":"auto");P.useEffect(()=>{if(l.companyName&&!l.companyId&&e.length>0){const y=e.find(b=>b.companyName===l.companyName);y&&u(b=>({...b,companyId:y.id}))}},[l.companyName,e.length]);const h=(()=>{if(!l.companyId&&!l.companyName)return[];const y=l.companyId?e.find(w=>w.id===l.companyId):e.find(w=>w.companyName===l.companyName);return y?n.filter(w=>w.companyId===y.id):[]})(),A=(y,b)=>{const w={[y]:b};if(y==="companyName"){const N=e.find(S=>S.companyName===b);N&&(w.companyId=N.id),w.hcfCode="",w.hcfId=""}if(y==="hcfCode"){const N=h.find(S=>S.hcfCode===b);N&&(w.hcfId=N.id)}u({...l,...w})},f=y=>{d(y),u(y==="auto"?{...l,certificateNo:s()}:{...l,certificateNo:""})},g=()=>{u({...l,certificateNo:s()})},m=y=>{if(y.preventDefault(),!l.companyName||!l.hcfCode||!l.staffName||!l.staffCode||!l.trainingDate){alert("Please fill in all required fields");return}i(l)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&u({certificateNo:o==="auto"?s():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Training Certificate":"Create Training Certificate"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"certificate-form",onSubmit:m,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Organization Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:l.companyName||"",onChange:y=>{A("companyName",y.target.value)},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(y=>t.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfCode||"",onChange:y=>A("hcfCode",y.target.value),required:!0,disabled:!l.companyId&&!l.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),h.length===0&&(l.companyId||l.companyName)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):h.map(y=>t.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Staff Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Code *"}),t.jsx("input",{type:"text",value:l.staffCode||"",onChange:y=>A("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Name *"}),t.jsx("input",{type:"text",value:l.staffName||"",onChange:y=>A("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:l.designation||"",onChange:y=>A("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Training Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Certificate Number *"}),t.jsxs("div",{className:"certificate-no-input-group",children:[t.jsxs("div",{className:"certificate-no-mode-toggle",children:[t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="auto"?"active":""}`,onClick:()=>f("auto"),children:"Auto"}),t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="manual"?"active":""}`,onClick:()=>f("manual"),children:"Manual"})]}),t.jsx("input",{type:"text",value:l.certificateNo||"",onChange:y=>A("certificateNo",y.target.value),required:!0,placeholder:o==="auto"?"Auto-generated":"Enter certificate number",disabled:o==="auto"&&!r,style:{flex:1}}),o==="auto"&&!r&&t.jsx("button",{type:"button",className:"generate-btn-small",onClick:g,children:"Generate"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Training Date *"}),t.jsx("input",{type:"date",value:l.trainingDate||"",onChange:y=>A("trainingDate",y.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Trained By *"}),t.jsx("input",{type:"text",value:l.trainedBy||"",onChange:y=>A("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:l.status||"Active",onChange:y=>A("status",y.target.value),required:!0,children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},dne=({certificate:r,hcfs:e,companies:n,onClose:a,onPrint:i})=>{const s=e.find(c=>c.hcfCode===r.hcfCode);return n.find(c=>c.companyName===r.companyName),t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",r.certificateNo]}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"certificate-view-content",children:[t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"HCF:"}),t.jsx("span",{children:s?`${r.hcfCode} - ${s.hcfName}`:r.hcfCode})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Code:"}),t.jsx("span",{children:r.staffCode||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Name:"}),t.jsx("span",{children:r.staffName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Designation:"}),t.jsx("span",{children:r.designation||"-"})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Certificate Number:"}),t.jsx("span",{className:"certificate-no-display",children:r.certificateNo||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Training Date:"}),t.jsx("span",{children:r.trainingDate||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Trained By:"}),t.jsx("span",{children:r.trainedBy||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${r.status.toLowerCase()}`,children:r.status})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>i(r),children:"Print Certificate"})]})]})})},hne=({contracts:r,searchQuery:e,statusFilter:n})=>({filteredContracts:P.useMemo(()=>r.filter(i=>{const s=e===""||i.contractNum.toLowerCase().includes(e.toLowerCase())||i.companyName.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),Ane="http://localhost:3000/api/v1",fne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},w0=async(r,e={})=>{const n=fne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Ane}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},nf={getAllContracts:async(r,e)=>{let n="/contracts";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await w0(n,{method:"GET"})).data},getContractById:async r=>(await w0(`/contracts/${r}`,{method:"GET"})).data,createContract:async r=>(await w0("/contracts",{method:"POST",body:JSON.stringify(r)})).data,updateContract:async(r,e)=>(await w0(`/contracts/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteContract:async r=>{await w0(`/contracts/${r}`,{method:"DELETE"})}},pne=()=>{const{logout:r}=xa(),e=Pn(),n=ti(),[a,i]=P.useState(""),[s,c]=P.useState("All"),[l,u]=P.useState(!1),[o,d]=P.useState(null),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState([]),[w,N]=P.useState(!1),[S,j]=P.useState(null),[_,k]=P.useState(!1),[Z,ee]=P.useState(!1),V=()=>{ee(!Z)},re=P.useCallback(async()=>{try{const se=await Qa.getAllCompanies(!0);g(se.map(he=>({id:he.id,companyCode:he.companyCode,companyName:he.companyName})))}catch(se){console.error("Failed to load companies:",se)}},[]),R=P.useCallback(async()=>{try{const se=await Os.getAllHcfs(void 0,!0);x(se.map(he=>({id:he.id,hcfCode:he.hcfCode,hcfName:he.hcfName,companyId:he.companyId})))}catch(se){console.error("Failed to load HCFs:",se)}},[]),Y=P.useCallback(async()=>{try{N(!0),j(null);const se=await nf.getAllContracts(),he=await Promise.all(se.map(async Ne=>{const Pe=f.find(ce=>ce.id===Ne.companyId),ye=m.find(ce=>ce.id===Ne.hcfId);return{id:Ne.id,contractID:Ne.contractID,contractNum:Ne.contractNum,companyName:(Pe==null?void 0:Pe.companyName)||"Unknown",companyID:Ne.companyId,hcfName:(ye==null?void 0:ye.hcfName)||"Unknown",hcfID:Ne.hcfId,startDate:Ne.startDate,endDate:Ne.endDate,billingType:Ne.billingType,status:Ne.status}}));A(he)}catch(se){console.error("Failed to load contracts:",se),j(se.message||"Failed to load contracts")}finally{N(!1)}},[f,m]);P.useEffect(()=>{(async()=>{await Promise.all([re(),R()])})()},[re,R]),P.useEffect(()=>{f.length>0&&m.length>0&&Y()},[f.length,m.length,Y]),P.useEffect(()=>{o!=null&&o.companyID?b(m.filter(se=>se.companyId===o.companyID)):b(m)},[o==null?void 0:o.companyID,m]);const{filteredContracts:L}=hne({contracts:h,searchQuery:a,statusFilter:s}),$=()=>{d(null),u(!0)},je=(se,he)=>{he.stopPropagation(),d(se),u(!0)},ge=async se=>{try{k(!0),j(null),o?await nf.updateContract(o.id,{contractNum:se.contractNum,startDate:se.startDate,endDate:se.endDate,billingType:se.billingType,status:se.status}):await nf.createContract({contractNum:se.contractNum,companyId:se.companyID,hcfId:se.hcfID,startDate:se.startDate,endDate:se.endDate,billingType:se.billingType,status:se.status||"Draft"}),u(!1),d(null),await Y()}catch(he){console.error("Failed to save contract:",he),j(he.message||"Failed to save contract"),alert(he.message||"Failed to save contract")}finally{k(!1)}},Ie=se=>{n(`/commercial-agreements/agreement?contractId=${se.id}`)},_e=({status:se})=>{const he=`contract-status-badge contract-status-badge--${se.toLowerCase()}`;return t.jsx("span",{className:he,children:se})},fe=({contract:se})=>t.jsx("div",{className:"contract-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:t.jsx("button",{className:"action-btn action-btn--edit",onClick:he=>je(se,he),title:"Edit Contract","aria-label":`Edit contract ${se.contractNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),le=[{key:"contractNum",label:"Contract Number",minWidth:180,render:se=>t.jsx("span",{className:"contract-num-cell",children:se.contractNum})},{key:"contractID",label:"Contract ID",minWidth:120},{key:"companyName",label:"Company",minWidth:150,render:se=>se.companyName},{key:"hcfName",label:"HCF",minWidth:150,render:se=>se.hcfName},{key:"startDate",label:"Start Date",minWidth:120},{key:"endDate",label:"End Date",minWidth:120},{key:"billingType",label:"Billing Type",minWidth:120},{key:"status",label:"Status",minWidth:100,render:se=>t.jsx(_e,{status:se.status})},{key:"actions",label:"Actions",minWidth:100,render:se=>t.jsx(fe,{contract:se})}],ve=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${Z?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Z&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:V,"aria-label":Z?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ve.map(se=>t.jsx("li",{children:t.jsxs(rn,{to:se.path,className:`nav-link ${se.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:se.icon}),!Z&&t.jsx("span",{className:"nav-label",children:se.label})]})},se.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Z&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Z&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Contract Master"})})}),t.jsxs("div",{className:"contract-master-page",children:[t.jsx("div",{className:"contract-master-header",children:t.jsx("h1",{className:"contract-master-title",children:"Contract Master"})}),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:S}),t.jsxs("div",{className:"contract-master-actions",children:[t.jsxs("div",{className:"contract-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"contract-search-input",placeholder:"Search by contract number or company...",value:a,onChange:se=>i(se.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:se=>c(se.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]}),t.jsxs("button",{className:"add-contract-btn",onClick:$,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]}),w&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),t.jsx("div",{className:"contract-table-container",children:t.jsx(rx,{data:L,columns:le,getId:se=>se.id,onRowClick:Ie,emptyMessage:"No contract records found"})}),t.jsxs("div",{className:"contract-pagination-info",children:["Showing ",L.length," of ",h.length," Items"]})]})]}),l&&t.jsx(mne,{contract:o,companies:f,hcfs:y,saving:_,onClose:()=>{u(!1),d(null)},onSave:ge})]})},mne=({contract:r,companies:e,hcfs:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),u=h=>{l({...c,companyID:h,hcfID:""})},o=h=>{if(h.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}s(c)},d=c.companyID?n.filter(h=>h.companyId===c.companyID):[];return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Contract":"Add Contract"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"contract-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contract Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Number *"}),t.jsx("input",{type:"text",value:c.contractNum||"",onChange:h=>l({...c,contractNum:h.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:c.companyID||"",onChange:h=>u(h.target.value),required:!0,disabled:a||!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(h=>t.jsxs("option",{value:h.id,children:[h.companyCode," - ",h.companyName]},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:c.hcfID||"",onChange:h=>l({...c,hcfID:h.target.value}),required:!0,disabled:a||!c.companyID,children:[t.jsx("option",{value:"",children:"Select HCF"}),d.map(h=>t.jsxs("option",{value:h.id,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Start Date *"}),t.jsx("input",{type:"date",value:c.startDate||"",onChange:h=>l({...c,startDate:h.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"End Date *"}),t.jsx("input",{type:"date",value:c.endDate||"",onChange:h=>l({...c,endDate:h.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"Bed",onChange:h=>l({...c,billingType:h.target.value}),required:!0,disabled:a,children:[t.jsx("option",{value:"Bed",children:"Bed"}),t.jsx("option",{value:"Kg",children:"Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:h=>l({...c,status:h.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Contract"]})]})]})]})})},gne=({agreements:r,searchQuery:e,statusFilter:n})=>({filteredAgreements:P.useMemo(()=>r.filter(i=>{const s=e===""||i.agreementNum.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),RF="http://localhost:3000/api/v1",LF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},X1=async(r,e={})=>{const n=LF(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${RF}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},G0={getAllAgreements:async(r,e)=>{let n="/agreements";const a=new URLSearchParams;return r&&a.append("contractId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await X1(n,{method:"GET"})).data},getAgreementById:async r=>(await X1(`/agreements/${r}`,{method:"GET"})).data,createAgreement:async r=>(await X1("/agreements",{method:"POST",body:JSON.stringify(r)})).data,updateAgreement:async(r,e)=>(await X1(`/agreements/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,downloadAgreementPDF:async r=>{const e=LF(),n=await fetch(`${RF}/agreements/${r}/download`,{method:"GET",headers:{...e&&{Authorization:`Bearer ${e}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const i=await n.json();i.message&&(a=i.message)}catch{}throw new Error(a)}return n.blob()}},vne="http://localhost:3000/api/v1",xne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},j0=async(r,e={})=>{const n=xne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},zA={getAllClauses:async(r,e)=>{let n="/agreement-clauses";const a=new URLSearchParams;return r&&a.append("agreementId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await j0(n,{method:"GET"})).data},getClauseById:async r=>(await j0(`/agreement-clauses/${r}`,{method:"GET"})).data,createClause:async r=>(await j0("/agreement-clauses",{method:"POST",body:JSON.stringify(r)})).data,updateClause:async(r,e)=>(await j0(`/agreement-clauses/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,reorderClause:async(r,e)=>(await j0(`/agreement-clauses/${r}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:e})})).data};var Hj={exports:{}},iv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var yne=iv.exports,e_;function bne(){return e_||(e_=1,(function(r,e){(function(n,a){r.exports=a()})(yne,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,E){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,H){U.__proto__=H}||function(U,H){for(var we in H)Object.prototype.hasOwnProperty.call(H,we)&&(U[we]=H[we])},n(F,E)};function a(F,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");n(F,E);function U(){this.constructor=F}F.prototype=E===null?Object.create(E):(U.prototype=E.prototype,new U)}var i=function(){return i=Object.assign||function(E){for(var U,H=1,we=arguments.length;H<we;H++){U=arguments[H];for(var Fe in U)Object.prototype.hasOwnProperty.call(U,Fe)&&(E[Fe]=U[Fe])}return E},i.apply(this,arguments)};function s(F,E,U,H){function we(Fe){return Fe instanceof U?Fe:new U(function(ze){ze(Fe)})}return new(U||(U=Promise))(function(Fe,ze){function ct(Ht){try{Rt(H.next(Ht))}catch(tr){ze(tr)}}function lt(Ht){try{Rt(H.throw(Ht))}catch(tr){ze(tr)}}function Rt(Ht){Ht.done?Fe(Ht.value):we(Ht.value).then(ct,lt)}Rt((H=H.apply(F,[])).next())})}function c(F,E){var U={label:0,sent:function(){if(Fe[0]&1)throw Fe[1];return Fe[1]},trys:[],ops:[]},H,we,Fe,ze;return ze={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function ct(Rt){return function(Ht){return lt([Rt,Ht])}}function lt(Rt){if(H)throw new TypeError("Generator is already executing.");for(;U;)try{if(H=1,we&&(Fe=Rt[0]&2?we.return:Rt[0]?we.throw||((Fe=we.return)&&Fe.call(we),0):we.next)&&!(Fe=Fe.call(we,Rt[1])).done)return Fe;switch(we=0,Fe&&(Rt=[Rt[0]&2,Fe.value]),Rt[0]){case 0:case 1:Fe=Rt;break;case 4:return U.label++,{value:Rt[1],done:!1};case 5:U.label++,we=Rt[1],Rt=[0];continue;case 7:Rt=U.ops.pop(),U.trys.pop();continue;default:if(Fe=U.trys,!(Fe=Fe.length>0&&Fe[Fe.length-1])&&(Rt[0]===6||Rt[0]===2)){U=0;continue}if(Rt[0]===3&&(!Fe||Rt[1]>Fe[0]&&Rt[1]<Fe[3])){U.label=Rt[1];break}if(Rt[0]===6&&U.label<Fe[1]){U.label=Fe[1],Fe=Rt;break}if(Fe&&U.label<Fe[2]){U.label=Fe[2],U.ops.push(Rt);break}Fe[2]&&U.ops.pop(),U.trys.pop();continue}Rt=E.call(F,U)}catch(Ht){Rt=[6,Ht],we=0}finally{H=Fe=0}if(Rt[0]&5)throw Rt[1];return{value:Rt[0]?Rt[1]:void 0,done:!0}}}function l(F,E,U){if(arguments.length===2)for(var H=0,we=E.length,Fe;H<we;H++)(Fe||!(H in E))&&(Fe||(Fe=Array.prototype.slice.call(E,0,H)),Fe[H]=E[H]);return F.concat(Fe||E)}for(var u=(function(){function F(E,U,H,we){this.left=E,this.top=U,this.width=H,this.height=we}return F.prototype.add=function(E,U,H,we){return new F(this.left+E,this.top+U,this.width+H,this.height+we)},F.fromClientRect=function(E,U){return new F(U.left+E.windowBounds.left,U.top+E.windowBounds.top,U.width,U.height)},F.fromDOMRectList=function(E,U){var H=Array.from(U).find(function(we){return we.width!==0});return H?new F(H.left+E.windowBounds.left,H.top+E.windowBounds.top,H.width,H.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),o=function(F,E){return u.fromClientRect(F,E.getBoundingClientRect())},d=function(F){var E=F.body,U=F.documentElement;if(!E||!U)throw new Error("Unable to get document size");var H=Math.max(Math.max(E.scrollWidth,U.scrollWidth),Math.max(E.offsetWidth,U.offsetWidth),Math.max(E.clientWidth,U.clientWidth)),we=Math.max(Math.max(E.scrollHeight,U.scrollHeight),Math.max(E.offsetHeight,U.offsetHeight),Math.max(E.clientHeight,U.clientHeight));return new u(0,0,H,we)},h=function(F){for(var E=[],U=0,H=F.length;U<H;){var we=F.charCodeAt(U++);if(we>=55296&&we<=56319&&U<H){var Fe=F.charCodeAt(U++);(Fe&64512)===56320?E.push(((we&1023)<<10)+(Fe&1023)+65536):(E.push(we),U--)}else E.push(we)}return E},A=function(){for(var F=[],E=0;E<arguments.length;E++)F[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],we=-1,Fe="";++we<U;){var ze=F[we];ze<=65535?H.push(ze):(ze-=65536,H.push((ze>>10)+55296,ze%1024+56320)),(we+1===U||H.length>16384)&&(Fe+=String.fromCharCode.apply(String,H),H.length=0)}return Fe},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<f.length;m++)g[f.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<x.length;b++)y[x.charCodeAt(b)]=b;for(var w=function(F){var E=F.length*.75,U=F.length,H,we=0,Fe,ze,ct,lt;F[F.length-1]==="="&&(E--,F[F.length-2]==="="&&E--);var Rt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),Ht=Array.isArray(Rt)?Rt:new Uint8Array(Rt);for(H=0;H<U;H+=4)Fe=y[F.charCodeAt(H)],ze=y[F.charCodeAt(H+1)],ct=y[F.charCodeAt(H+2)],lt=y[F.charCodeAt(H+3)],Ht[we++]=Fe<<2|ze>>4,Ht[we++]=(ze&15)<<4|ct>>2,Ht[we++]=(ct&3)<<6|lt&63;return Rt},N=function(F){for(var E=F.length,U=[],H=0;H<E;H+=2)U.push(F[H+1]<<8|F[H]);return U},S=function(F){for(var E=F.length,U=[],H=0;H<E;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},j=5,_=11,k=2,Z=_-j,ee=65536>>j,V=1<<j,re=V-1,R=1024>>j,Y=ee+R,L=Y,$=32,je=L+$,ge=65536>>_,Ie=1<<Z,_e=Ie-1,fe=function(F,E,U){return F.slice?F.slice(E,U):new Uint16Array(Array.prototype.slice.call(F,E,U))},le=function(F,E,U){return F.slice?F.slice(E,U):new Uint32Array(Array.prototype.slice.call(F,E,U))},ve=function(F,E){var U=w(F),H=Array.isArray(U)?S(U):new Uint32Array(U),we=Array.isArray(U)?N(U):new Uint16Array(U),Fe=24,ze=fe(we,Fe/2,H[4]/2),ct=H[5]===2?fe(we,(Fe+H[4])/2):le(H,Math.ceil((Fe+H[4])/4));return new se(H[0],H[1],H[2],H[3],ze,ct)},se=(function(){function F(E,U,H,we,Fe,ze){this.initialValue=E,this.errorValue=U,this.highStart=H,this.highValueIndex=we,this.index=Fe,this.data=ze}return F.prototype.get=function(E){var U;if(E>=0){if(E<55296||E>56319&&E<=65535)return U=this.index[E>>j],U=(U<<k)+(E&re),this.data[U];if(E<=65535)return U=this.index[ee+(E-55296>>j)],U=(U<<k)+(E&re),this.data[U];if(E<this.highStart)return U=je-ge+(E>>_),U=this.index[U],U+=E>>j&_e,U=this.index[U],U=(U<<k)+(E&re),this.data[U];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ne=typeof Uint8Array>"u"?[]:new Uint8Array(256),Pe=0;Pe<he.length;Pe++)Ne[he.charCodeAt(Pe)]=Pe;var ye="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ce=50,q=1,pe=2,oe=3,We=4,Re=5,Ee=7,ae=8,Le=9,Ze=10,jt=11,Lt=12,Ct=13,Xt=14,_r=15,Or=16,He=17,Zt=18,Bt=19,$r=20,pr=21,on=22,Yr=23,qr=24,Ir=25,dr=26,Cr=27,Vr=28,zr=29,gn=30,Wr=31,$n=32,Lr=33,Dr=34,wn=35,cn=36,bt=37,Sr=38,dn=39,Dn=40,Xr=41,Un=42,Ur=43,ei=[9001,65288],os="!",jn="",Ss="",ji=ve(ye),vi=[gn,cn],Ui=[q,pe,oe,Re],Bi=[Ze,ae],Bs=[Cr,dr],ri=Ui.concat(Bi),Ks=[Sr,dn,Dn,Dr,wn],Wa=[_r,Ct],wc=function(F,E){E===void 0&&(E="strict");var U=[],H=[],we=[];return F.forEach(function(Fe,ze){var ct=ji.get(Fe);if(ct>ce?(we.push(!0),ct-=ce):we.push(!1),["normal","auto","loose"].indexOf(E)!==-1&&[8208,8211,12316,12448].indexOf(Fe)!==-1)return H.push(ze),U.push(Or);if(ct===We||ct===jt){if(ze===0)return H.push(ze),U.push(gn);var lt=U[ze-1];return ri.indexOf(lt)===-1?(H.push(H[ze-1]),U.push(lt)):(H.push(ze),U.push(gn))}if(H.push(ze),ct===Wr)return U.push(E==="strict"?pr:bt);if(ct===Un||ct===zr)return U.push(gn);if(ct===Ur)return Fe>=131072&&Fe<=196605||Fe>=196608&&Fe<=262141?U.push(bt):U.push(gn);U.push(ct)}),[H,U,we]},ms=function(F,E,U,H){var we=H[U];if(Array.isArray(F)?F.indexOf(we)!==-1:F===we)for(var Fe=U;Fe<=H.length;){Fe++;var ze=H[Fe];if(ze===E)return!0;if(ze!==Ze)break}if(we===Ze)for(var Fe=U;Fe>0;){Fe--;var ct=H[Fe];if(Array.isArray(F)?F.indexOf(ct)!==-1:F===ct)for(var lt=U;lt<=H.length;){lt++;var ze=H[lt];if(ze===E)return!0;if(ze!==Ze)break}if(ct!==Ze)break}return!1},Nl=function(F,E){for(var U=F;U>=0;){var H=E[U];if(H===Ze)U--;else return H}return 0},jc=function(F,E,U,H,we){if(U[H]===0)return jn;var Fe=H-1;if(Array.isArray(we)&&we[Fe]===!0)return jn;var ze=Fe-1,ct=Fe+1,lt=E[Fe],Rt=ze>=0?E[ze]:0,Ht=E[ct];if(lt===pe&&Ht===oe)return jn;if(Ui.indexOf(lt)!==-1)return os;if(Ui.indexOf(Ht)!==-1||Bi.indexOf(Ht)!==-1)return jn;if(Nl(Fe,E)===ae)return Ss;if(ji.get(F[Fe])===jt||(lt===$n||lt===Lr)&&ji.get(F[ct])===jt||lt===Ee||Ht===Ee||lt===Le||[Ze,Ct,_r].indexOf(lt)===-1&&Ht===Le||[He,Zt,Bt,qr,Vr].indexOf(Ht)!==-1||Nl(Fe,E)===on||ms(Yr,on,Fe,E)||ms([He,Zt],pr,Fe,E)||ms(Lt,Lt,Fe,E))return jn;if(lt===Ze)return Ss;if(lt===Yr||Ht===Yr)return jn;if(Ht===Or||lt===Or)return Ss;if([Ct,_r,pr].indexOf(Ht)!==-1||lt===Xt||Rt===cn&&Wa.indexOf(lt)!==-1||lt===Vr&&Ht===cn||Ht===$r||vi.indexOf(Ht)!==-1&&lt===Ir||vi.indexOf(lt)!==-1&&Ht===Ir||lt===Cr&&[bt,$n,Lr].indexOf(Ht)!==-1||[bt,$n,Lr].indexOf(lt)!==-1&&Ht===dr||vi.indexOf(lt)!==-1&&Bs.indexOf(Ht)!==-1||Bs.indexOf(lt)!==-1&&vi.indexOf(Ht)!==-1||[Cr,dr].indexOf(lt)!==-1&&(Ht===Ir||[on,_r].indexOf(Ht)!==-1&&E[ct+1]===Ir)||[on,_r].indexOf(lt)!==-1&&Ht===Ir||lt===Ir&&[Ir,Vr,qr].indexOf(Ht)!==-1)return jn;if([Ir,Vr,qr,He,Zt].indexOf(Ht)!==-1)for(var tr=Fe;tr>=0;){var jr=E[tr];if(jr===Ir)return jn;if([Vr,qr].indexOf(jr)!==-1)tr--;else break}if([Cr,dr].indexOf(Ht)!==-1)for(var tr=[He,Zt].indexOf(lt)!==-1?ze:Fe;tr>=0;){var jr=E[tr];if(jr===Ir)return jn;if([Vr,qr].indexOf(jr)!==-1)tr--;else break}if(Sr===lt&&[Sr,dn,Dr,wn].indexOf(Ht)!==-1||[dn,Dr].indexOf(lt)!==-1&&[dn,Dn].indexOf(Ht)!==-1||[Dn,wn].indexOf(lt)!==-1&&Ht===Dn||Ks.indexOf(lt)!==-1&&[$r,dr].indexOf(Ht)!==-1||Ks.indexOf(Ht)!==-1&&lt===Cr||vi.indexOf(lt)!==-1&&vi.indexOf(Ht)!==-1||lt===qr&&vi.indexOf(Ht)!==-1||vi.concat(Ir).indexOf(lt)!==-1&&Ht===on&&ei.indexOf(F[ct])===-1||vi.concat(Ir).indexOf(Ht)!==-1&&lt===Zt)return jn;if(lt===Xr&&Ht===Xr){for(var bn=U[Fe],nn=1;bn>0&&(bn--,E[bn]===Xr);)nn++;if(nn%2!==0)return jn}return lt===$n&&Ht===Lr?jn:Ss},Sl=function(F,E){E||(E={lineBreak:"normal",wordBreak:"normal"});var U=wc(F,E.lineBreak),H=U[0],we=U[1],Fe=U[2];(E.wordBreak==="break-all"||E.wordBreak==="break-word")&&(we=we.map(function(ct){return[Ir,gn,Un].indexOf(ct)!==-1?bt:ct}));var ze=E.wordBreak==="keep-all"?Fe.map(function(ct,lt){return ct&&F[lt]>=19968&&F[lt]<=40959}):void 0;return[H,we,ze]},Hi=(function(){function F(E,U,H,we){this.codePoints=E,this.required=U===os,this.start=H,this.end=we}return F.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),go=function(F,E){var U=h(F),H=Sl(U,E),we=H[0],Fe=H[1],ze=H[2],ct=U.length,lt=0,Rt=0;return{next:function(){if(Rt>=ct)return{done:!0,value:null};for(var Ht=jn;Rt<ct&&(Ht=jc(U,Fe,we,++Rt,ze))===jn;);if(Ht!==jn||Rt===ct){var tr=new Hi(U,Ht,lt,Rt);return lt=Rt,{value:tr,done:!1}}return{done:!0,value:null}}}},ha=1,Yl=2,ni=4,Bo=8,Gs=10,Eo=47,el=92,Io=9,Hs=32,Ci=34,ai=61,Al=35,To=36,Lc=37,ls=39,qn=40,Qi=41,gs=95,vs=45,_o=33,Di=60,so=62,Xi=64,ki=91,vo=93,Oo=61,pa=123,Wi=63,xs=125,qs=124,ks=126,ko=128,Ut=65533,Q=42,ie=43,ue=44,M=58,W=59,te=46,Ce=0,ke=8,Ge=11,it=14,I=31,B=127,D=-1,K=48,X=97,ne=101,Se=102,me=117,xe=122,De=65,Ve=69,et=70,st=85,Oe=90,vt=function(F){return F>=K&&F<=57},mt=function(F){return F>=55296&&F<=57343},yt=function(F){return vt(F)||F>=De&&F<=et||F>=X&&F<=Se},nt=function(F){return F>=X&&F<=xe},kt=function(F){return F>=De&&F<=Oe},Kt=function(F){return nt(F)||kt(F)},Et=function(F){return F>=ko},tt=function(F){return F===Gs||F===Io||F===Hs},Qt=function(F){return Kt(F)||Et(F)||F===gs},lr=function(F){return Qt(F)||vt(F)||F===vs},qt=function(F){return F>=Ce&&F<=ke||F===Ge||F>=it&&F<=I||F===B},_t=function(F,E){return F!==el?!1:E!==Gs},or=function(F,E,U){return F===vs?Qt(E)||_t(E,U):Qt(F)?!0:!!(F===el&&_t(F,E))},at=function(F,E,U){return F===ie||F===vs?vt(E)?!0:E===te&&vt(U):vt(F===te?E:F)},dt=function(F){var E=0,U=1;(F[E]===ie||F[E]===vs)&&(F[E]===vs&&(U=-1),E++);for(var H=[];vt(F[E]);)H.push(F[E++]);var we=H.length?parseInt(A.apply(void 0,H),10):0;F[E]===te&&E++;for(var Fe=[];vt(F[E]);)Fe.push(F[E++]);var ze=Fe.length,ct=ze?parseInt(A.apply(void 0,Fe),10):0;(F[E]===Ve||F[E]===ne)&&E++;var lt=1;(F[E]===ie||F[E]===vs)&&(F[E]===vs&&(lt=-1),E++);for(var Rt=[];vt(F[E]);)Rt.push(F[E++]);var Ht=Rt.length?parseInt(A.apply(void 0,Rt),10):0;return U*(we+ct*Math.pow(10,-ze))*Math.pow(10,lt*Ht)},It={type:2},Tt={type:3},cr={type:4},fr={type:13},xr={type:8},Jt={type:21},gr={type:9},Zr={type:10},Hr={type:11},Ye={type:12},xt={type:14},Nt={type:23},Wt={type:1},zt={type:25},nr={type:24},mr={type:26},vr={type:27},Pr={type:28},Jr={type:29},Cn={type:31},Bn={type:32},ca=(function(){function F(){this._value=[]}return F.prototype.write=function(E){this._value=this._value.concat(h(E))},F.prototype.read=function(){for(var E=[],U=this.consumeToken();U!==Bn;)E.push(U),U=this.consumeToken();return E},F.prototype.consumeToken=function(){var E=this.consumeCodePoint();switch(E){case Ci:return this.consumeStringToken(Ci);case Al:var U=this.peekCodePoint(0),H=this.peekCodePoint(1),we=this.peekCodePoint(2);if(lr(U)||_t(H,we)){var Fe=or(U,H,we)?Yl:ha,ze=this.consumeName();return{type:5,value:ze,flags:Fe}}break;case To:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),fr;break;case ls:return this.consumeStringToken(ls);case qn:return It;case Qi:return Tt;case Q:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),xt;break;case ie:if(at(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case ue:return cr;case vs:var ct=E,lt=this.peekCodePoint(0),Rt=this.peekCodePoint(1);if(at(ct,lt,Rt))return this.reconsumeCodePoint(E),this.consumeNumericToken();if(or(ct,lt,Rt))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();if(lt===vs&&Rt===so)return this.consumeCodePoint(),this.consumeCodePoint(),nr;break;case te:if(at(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case Eo:if(this.peekCodePoint(0)===Q)for(this.consumeCodePoint();;){var Ht=this.consumeCodePoint();if(Ht===Q&&(Ht=this.consumeCodePoint(),Ht===Eo))return this.consumeToken();if(Ht===D)return this.consumeToken()}break;case M:return mr;case W:return vr;case Di:if(this.peekCodePoint(0)===_o&&this.peekCodePoint(1)===vs&&this.peekCodePoint(2)===vs)return this.consumeCodePoint(),this.consumeCodePoint(),zt;break;case Xi:var tr=this.peekCodePoint(0),jr=this.peekCodePoint(1),bn=this.peekCodePoint(2);if(or(tr,jr,bn)){var ze=this.consumeName();return{type:7,value:ze}}break;case ki:return Pr;case el:if(_t(E,this.peekCodePoint(0)))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();break;case vo:return Jr;case Oo:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),xr;break;case pa:return Hr;case xs:return Ye;case me:case st:var nn=this.peekCodePoint(0),vn=this.peekCodePoint(1);return nn===ie&&(yt(vn)||vn===Wi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(E),this.consumeIdentLikeToken();case qs:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),gr;if(this.peekCodePoint(0)===qs)return this.consumeCodePoint(),Jt;break;case ks:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),Zr;break;case D:return Bn}return tt(E)?(this.consumeWhiteSpace(),Cn):vt(E)?(this.reconsumeCodePoint(E),this.consumeNumericToken()):Qt(E)?(this.reconsumeCodePoint(E),this.consumeIdentLikeToken()):{type:6,value:A(E)}},F.prototype.consumeCodePoint=function(){var E=this._value.shift();return typeof E>"u"?-1:E},F.prototype.reconsumeCodePoint=function(E){this._value.unshift(E)},F.prototype.peekCodePoint=function(E){return E>=this._value.length?-1:this._value[E]},F.prototype.consumeUnicodeRangeToken=function(){for(var E=[],U=this.consumeCodePoint();yt(U)&&E.length<6;)E.push(U),U=this.consumeCodePoint();for(var H=!1;U===Wi&&E.length<6;)E.push(U),U=this.consumeCodePoint(),H=!0;if(H){var we=parseInt(A.apply(void 0,E.map(function(lt){return lt===Wi?K:lt})),16),Fe=parseInt(A.apply(void 0,E.map(function(lt){return lt===Wi?et:lt})),16);return{type:30,start:we,end:Fe}}var ze=parseInt(A.apply(void 0,E),16);if(this.peekCodePoint(0)===vs&&yt(this.peekCodePoint(1))){this.consumeCodePoint(),U=this.consumeCodePoint();for(var ct=[];yt(U)&&ct.length<6;)ct.push(U),U=this.consumeCodePoint();var Fe=parseInt(A.apply(void 0,ct),16);return{type:30,start:ze,end:Fe}}else return{type:30,start:ze,end:ze}},F.prototype.consumeIdentLikeToken=function(){var E=this.consumeName();return E.toLowerCase()==="url"&&this.peekCodePoint(0)===qn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qn?(this.consumeCodePoint(),{type:19,value:E}):{type:20,value:E}},F.prototype.consumeUrlToken=function(){var E=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===D)return{type:22,value:""};var U=this.peekCodePoint(0);if(U===ls||U===Ci){var H=this.consumeStringToken(this.consumeCodePoint());return H.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===Qi)?(this.consumeCodePoint(),{type:22,value:H.value}):(this.consumeBadUrlRemnants(),Nt)}for(;;){var we=this.consumeCodePoint();if(we===D||we===Qi)return{type:22,value:A.apply(void 0,E)};if(tt(we))return this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===Qi?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,E)}):(this.consumeBadUrlRemnants(),Nt);if(we===Ci||we===ls||we===qn||qt(we))return this.consumeBadUrlRemnants(),Nt;if(we===el)if(_t(we,this.peekCodePoint(0)))E.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Nt;else E.push(we)}},F.prototype.consumeWhiteSpace=function(){for(;tt(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var E=this.consumeCodePoint();if(E===Qi||E===D)return;_t(E,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(E){for(var U=5e4,H="";E>0;){var we=Math.min(U,E);H+=A.apply(void 0,this._value.splice(0,we)),E-=we}return this._value.shift(),H},F.prototype.consumeStringToken=function(E){var U="",H=0;do{var we=this._value[H];if(we===D||we===void 0||we===E)return U+=this.consumeStringSlice(H),{type:0,value:U};if(we===Gs)return this._value.splice(0,H),Wt;if(we===el){var Fe=this._value[H+1];Fe!==D&&Fe!==void 0&&(Fe===Gs?(U+=this.consumeStringSlice(H),H=-1,this._value.shift()):_t(we,Fe)&&(U+=this.consumeStringSlice(H),U+=A(this.consumeEscapedCodePoint()),H=-1))}H++}while(!0)},F.prototype.consumeNumber=function(){var E=[],U=ni,H=this.peekCodePoint(0);for((H===ie||H===vs)&&E.push(this.consumeCodePoint());vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());H=this.peekCodePoint(0);var we=this.peekCodePoint(1);if(H===te&&vt(we))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),U=Bo;vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());H=this.peekCodePoint(0),we=this.peekCodePoint(1);var Fe=this.peekCodePoint(2);if((H===Ve||H===ne)&&((we===ie||we===vs)&&vt(Fe)||vt(we)))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),U=Bo;vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());return[dt(E),U]},F.prototype.consumeNumericToken=function(){var E=this.consumeNumber(),U=E[0],H=E[1],we=this.peekCodePoint(0),Fe=this.peekCodePoint(1),ze=this.peekCodePoint(2);if(or(we,Fe,ze)){var ct=this.consumeName();return{type:15,number:U,flags:H,unit:ct}}return we===Lc?(this.consumeCodePoint(),{type:16,number:U,flags:H}):{type:17,number:U,flags:H}},F.prototype.consumeEscapedCodePoint=function(){var E=this.consumeCodePoint();if(yt(E)){for(var U=A(E);yt(this.peekCodePoint(0))&&U.length<6;)U+=A(this.consumeCodePoint());tt(this.peekCodePoint(0))&&this.consumeCodePoint();var H=parseInt(U,16);return H===0||mt(H)||H>1114111?Ut:H}return E===D?Ut:E},F.prototype.consumeName=function(){for(var E="";;){var U=this.consumeCodePoint();if(lr(U))E+=A(U);else if(_t(U,this.peekCodePoint(0)))E+=A(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(U),E}},F})(),ut=(function(){function F(E){this._tokens=E}return F.create=function(E){var U=new ca;return U.write(E),new F(U.read())},F.parseValue=function(E){return F.create(E).parseComponentValue()},F.parseValues=function(E){return F.create(E).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var E=this.consumeToken();E.type===31;)E=this.consumeToken();if(E.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(E);var U=this.consumeComponentValue();do E=this.consumeToken();while(E.type===31);if(E.type===32)return U;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var E=[];;){var U=this.consumeComponentValue();if(U.type===32)return E;E.push(U),E.push()}},F.prototype.consumeComponentValue=function(){var E=this.consumeToken();switch(E.type){case 11:case 28:case 2:return this.consumeSimpleBlock(E.type);case 19:return this.consumeFunction(E)}return E},F.prototype.consumeSimpleBlock=function(E){for(var U={type:E,values:[]},H=this.consumeToken();;){if(H.type===32||fi(H,E))return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue()),H=this.consumeToken()}},F.prototype.consumeFunction=function(E){for(var U={name:E.value,values:[],type:18};;){var H=this.consumeToken();if(H.type===32||H.type===3)return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var E=this._tokens.shift();return typeof E>"u"?Bn:E},F.prototype.reconsumeToken=function(E){this._tokens.unshift(E)},F})(),hn=function(F){return F.type===15},ma=function(F){return F.type===17},un=function(F){return F.type===20},Qr=function(F){return F.type===0},oa=function(F,E){return un(F)&&F.value===E},Mn=function(F){return F.type!==31},Jn=function(F){return F.type!==31&&F.type!==4},Rn=function(F){var E=[],U=[];return F.forEach(function(H){if(H.type===4){if(U.length===0)throw new Error("Error parsing function args, zero tokens for arg");E.push(U),U=[];return}H.type!==31&&U.push(H)}),U.length&&E.push(U),E},fi=function(F,E){return E===11&&F.type===12||E===28&&F.type===29?!0:E===2&&F.type===3},La=function(F){return F.type===17||F.type===15},Fn=function(F){return F.type===16||La(F)},si=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},la={type:17,number:0,flags:ni},_n={type:16,number:50,flags:ni},ua={type:16,number:100,flags:ni},On=function(F,E,U){var H=F[0],we=F[1];return[wa(H,E),wa(typeof we<"u"?we:H,U)]},wa=function(F,E){if(F.type===16)return F.number/100*E;if(hn(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},ci="deg",Va="grad",za="rad",Ji="turn",Kn={name:"angle",parse:function(F,E){if(E.type===15)switch(E.unit){case ci:return Math.PI*E.number/180;case Va:return Math.PI/200*E.number;case za:return E.number;case Ji:return Math.PI*2*E.number}throw new Error("Unsupported angle type")}},Ei=function(F){return F.type===15&&(F.unit===ci||F.unit===Va||F.unit===za||F.unit===Ji)},ga=function(F){var E=F.filter(un).map(function(U){return U.value}).join(" ");switch(E){case"to bottom right":case"to right bottom":case"left top":case"top left":return[la,la];case"to top":case"bottom":return zn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[la,ua];case"to right":case"left":return zn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ua,ua];case"to bottom":case"top":return zn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ua,la];case"to left":case"right":return zn(270)}return 0},zn=function(F){return Math.PI*F/180},Ii={name:"color",parse:function(F,E){if(E.type===18){var U=Aa[E.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported color function "'+E.name+'"');return U(F,E.values)}if(E.type===5){if(E.value.length===3){var H=E.value.substring(0,1),we=E.value.substring(1,2),Fe=E.value.substring(2,3);return Xa(parseInt(H+H,16),parseInt(we+we,16),parseInt(Fe+Fe,16),1)}if(E.value.length===4){var H=E.value.substring(0,1),we=E.value.substring(1,2),Fe=E.value.substring(2,3),ze=E.value.substring(3,4);return Xa(parseInt(H+H,16),parseInt(we+we,16),parseInt(Fe+Fe,16),parseInt(ze+ze,16)/255)}if(E.value.length===6){var H=E.value.substring(0,2),we=E.value.substring(2,4),Fe=E.value.substring(4,6);return Xa(parseInt(H,16),parseInt(we,16),parseInt(Fe,16),1)}if(E.value.length===8){var H=E.value.substring(0,2),we=E.value.substring(2,4),Fe=E.value.substring(4,6),ze=E.value.substring(6,8);return Xa(parseInt(H,16),parseInt(we,16),parseInt(Fe,16),parseInt(ze,16)/255)}}if(E.type===20){var ct=yo[E.value.toUpperCase()];if(typeof ct<"u")return ct}return yo.TRANSPARENT}},ja=function(F){return(255&F)===0},En=function(F){var E=255&F,U=255&F>>8,H=255&F>>16,we=255&F>>24;return E<255?"rgba("+we+","+H+","+U+","+E/255+")":"rgb("+we+","+H+","+U+")"},Xa=function(F,E,U,H){return(F<<24|E<<16|U<<8|Math.round(H*255)<<0)>>>0},eu=function(F,E){if(F.type===17)return F.number;if(F.type===16){var U=E===3?1:255;return E===3?F.number/100*U:Math.round(F.number/100*U)}return 0},Qs=function(F,E){var U=E.filter(Jn);if(U.length===3){var H=U.map(eu),we=H[0],Fe=H[1],ze=H[2];return Xa(we,Fe,ze,1)}if(U.length===4){var ct=U.map(eu),we=ct[0],Fe=ct[1],ze=ct[2],lt=ct[3];return Xa(we,Fe,ze,lt)}return 0};function xo(F,E,U){return U<0&&(U+=1),U>=1&&(U-=1),U<1/6?(E-F)*U*6+F:U<1/2?E:U<2/3?(E-F)*6*(2/3-U)+F:F}var Cc=function(F,E){var U=E.filter(Jn),H=U[0],we=U[1],Fe=U[2],ze=U[3],ct=(H.type===17?zn(H.number):Kn.parse(F,H))/(Math.PI*2),lt=Fn(we)?we.number/100:0,Rt=Fn(Fe)?Fe.number/100:0,Ht=typeof ze<"u"&&Fn(ze)?wa(ze,1):1;if(lt===0)return Xa(Rt*255,Rt*255,Rt*255,1);var tr=Rt<=.5?Rt*(lt+1):Rt+lt-Rt*lt,jr=Rt*2-tr,bn=xo(jr,tr,ct+1/3),nn=xo(jr,tr,ct),vn=xo(jr,tr,ct-1/3);return Xa(bn*255,nn*255,vn*255,Ht)},Aa={hsl:Cc,hsla:Cc,rgb:Qs,rgba:Qs},ys=function(F,E){return Ii.parse(F,ut.create(E).parseComponentValue())},yo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Bl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,E){return E.map(function(U){if(un(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ps={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pi=function(F,E){var U=Ii.parse(F,E[0]),H=E[1];return H&&Fn(H)?{color:U,stop:H}:{color:U,stop:null}},Es=function(F,E){var U=F[0],H=F[F.length-1];U.stop===null&&(U.stop=la),H.stop===null&&(H.stop=ua);for(var we=[],Fe=0,ze=0;ze<F.length;ze++){var ct=F[ze].stop;if(ct!==null){var lt=wa(ct,E);lt>Fe?we.push(lt):we.push(Fe),Fe=lt}else we.push(null)}for(var Rt=null,ze=0;ze<we.length;ze++){var Ht=we[ze];if(Ht===null)Rt===null&&(Rt=ze);else if(Rt!==null){for(var tr=ze-Rt,jr=we[Rt-1],bn=(Ht-jr)/(tr+1),nn=1;nn<=tr;nn++)we[Rt+nn-1]=bn*nn;Rt=null}}return F.map(function(vn,Za){var Yn=vn.color;return{color:Yn,stop:Math.max(Math.min(1,we[Za]/E),0)}})},oo=function(F,E,U){var H=E/2,we=U/2,Fe=wa(F[0],E)-H,ze=we-wa(F[1],U);return(Math.atan2(ze,Fe)+Math.PI*2)%(Math.PI*2)},tu=function(F,E,U){var H=typeof F=="number"?F:oo(F,E,U),we=Math.abs(E*Math.sin(H))+Math.abs(U*Math.cos(H)),Fe=E/2,ze=U/2,ct=we/2,lt=Math.sin(H-Math.PI/2)*ct,Rt=Math.cos(H-Math.PI/2)*ct;return[we,Fe-Rt,Fe+Rt,ze-lt,ze+lt]},Xs=function(F,E){return Math.sqrt(F*F+E*E)},tl=function(F,E,U,H,we){var Fe=[[0,0],[0,E],[F,0],[F,E]];return Fe.reduce(function(ze,ct){var lt=ct[0],Rt=ct[1],Ht=Xs(U-lt,H-Rt);return(we?Ht<ze.optimumDistance:Ht>ze.optimumDistance)?{optimumCorner:ct,optimumDistance:Ht}:ze},{optimumDistance:we?1/0:-1/0,optimumCorner:null}).optimumCorner},Nc=function(F,E,U,H,we){var Fe=0,ze=0;switch(F.size){case 0:F.shape===0?Fe=ze=Math.min(Math.abs(E),Math.abs(E-H),Math.abs(U),Math.abs(U-we)):F.shape===1&&(Fe=Math.min(Math.abs(E),Math.abs(E-H)),ze=Math.min(Math.abs(U),Math.abs(U-we)));break;case 2:if(F.shape===0)Fe=ze=Math.min(Xs(E,U),Xs(E,U-we),Xs(E-H,U),Xs(E-H,U-we));else if(F.shape===1){var ct=Math.min(Math.abs(U),Math.abs(U-we))/Math.min(Math.abs(E),Math.abs(E-H)),lt=tl(H,we,E,U,!0),Rt=lt[0],Ht=lt[1];Fe=Xs(Rt-E,(Ht-U)/ct),ze=ct*Fe}break;case 1:F.shape===0?Fe=ze=Math.max(Math.abs(E),Math.abs(E-H),Math.abs(U),Math.abs(U-we)):F.shape===1&&(Fe=Math.max(Math.abs(E),Math.abs(E-H)),ze=Math.max(Math.abs(U),Math.abs(U-we)));break;case 3:if(F.shape===0)Fe=ze=Math.max(Xs(E,U),Xs(E,U-we),Xs(E-H,U),Xs(E-H,U-we));else if(F.shape===1){var ct=Math.max(Math.abs(U),Math.abs(U-we))/Math.max(Math.abs(E),Math.abs(E-H)),tr=tl(H,we,E,U,!1),Rt=tr[0],Ht=tr[1];Fe=Xs(Rt-E,(Ht-U)/ct),ze=ct*Fe}break}return Array.isArray(F.size)&&(Fe=wa(F.size[0],H),ze=F.size.length===2?wa(F.size[1],we):Fe),[Fe,ze]},Zl=function(F,E){var U=zn(180),H=[];return Rn(E).forEach(function(we,Fe){if(Fe===0){var ze=we[0];if(ze.type===20&&ze.value==="to"){U=ga(we);return}else if(Ei(ze)){U=Kn.parse(F,ze);return}}var ct=Pi(F,we);H.push(ct)}),{angle:U,stops:H,type:1}},Ys=function(F,E){var U=zn(180),H=[];return Rn(E).forEach(function(we,Fe){if(Fe===0){var ze=we[0];if(ze.type===20&&["top","left","right","bottom"].indexOf(ze.value)!==-1){U=ga(we);return}else if(Ei(ze)){U=(Kn.parse(F,ze)+zn(270))%zn(360);return}}var ct=Pi(F,we);H.push(ct)}),{angle:U,stops:H,type:1}},rl=function(F,E){var U=zn(180),H=[],we=1,Fe=0,ze=3,ct=[];return Rn(E).forEach(function(lt,Rt){var Ht=lt[0];if(Rt===0){if(un(Ht)&&Ht.value==="linear"){we=1;return}else if(un(Ht)&&Ht.value==="radial"){we=2;return}}if(Ht.type===18){if(Ht.name==="from"){var tr=Ii.parse(F,Ht.values[0]);H.push({stop:la,color:tr})}else if(Ht.name==="to"){var tr=Ii.parse(F,Ht.values[0]);H.push({stop:ua,color:tr})}else if(Ht.name==="color-stop"){var jr=Ht.values.filter(Jn);if(jr.length===2){var tr=Ii.parse(F,jr[1]),bn=jr[0];ma(bn)&&H.push({stop:{type:16,number:bn.number*100,flags:bn.flags},color:tr})}}}}),we===1?{angle:(U+zn(180))%zn(360),stops:H,type:we}:{size:ze,shape:Fe,stops:H,position:ct,type:we}},El="closest-side",$o="farthest-side",Po="closest-corner",Jl="farthest-corner",Il="circle",Sc="ellipse",ud="cover",Uc="contain",dd=function(F,E){var U=0,H=3,we=[],Fe=[];return Rn(E).forEach(function(ze,ct){var lt=!0;if(ct===0){var Rt=!1;lt=ze.reduce(function(tr,jr){if(Rt)if(un(jr))switch(jr.value){case"center":return Fe.push(_n),tr;case"top":case"left":return Fe.push(la),tr;case"right":case"bottom":return Fe.push(ua),tr}else(Fn(jr)||La(jr))&&Fe.push(jr);else if(un(jr))switch(jr.value){case Il:return U=0,!1;case Sc:return U=1,!1;case"at":return Rt=!0,!1;case El:return H=0,!1;case ud:case $o:return H=1,!1;case Uc:case Po:return H=2,!1;case Jl:return H=3,!1}else if(La(jr)||Fn(jr))return Array.isArray(H)||(H=[]),H.push(jr),!1;return tr},lt)}if(lt){var Ht=Pi(F,ze);we.push(Ht)}}),{size:H,shape:U,stops:we,position:Fe,type:2}},ru=function(F,E){var U=0,H=3,we=[],Fe=[];return Rn(E).forEach(function(ze,ct){var lt=!0;if(ct===0?lt=ze.reduce(function(Ht,tr){if(un(tr))switch(tr.value){case"center":return Fe.push(_n),!1;case"top":case"left":return Fe.push(la),!1;case"right":case"bottom":return Fe.push(ua),!1}else if(Fn(tr)||La(tr))return Fe.push(tr),!1;return Ht},lt):ct===1&&(lt=ze.reduce(function(Ht,tr){if(un(tr))switch(tr.value){case Il:return U=0,!1;case Sc:return U=1,!1;case Uc:case El:return H=0,!1;case $o:return H=1,!1;case Po:return H=2,!1;case ud:case Jl:return H=3,!1}else if(La(tr)||Fn(tr))return Array.isArray(H)||(H=[]),H.push(tr),!1;return Ht},lt)),lt){var Rt=Pi(F,ze);we.push(Rt)}}),{size:H,shape:U,stops:we,position:Fe,type:2}},Vo=function(F){return F.type===1},nu=function(F){return F.type===2},bu={name:"image",parse:function(F,E){if(E.type===22){var U={url:E.value,type:0};return F.cache.addImage(E.value),U}if(E.type===18){var H=Tl[E.name];if(typeof H>"u")throw new Error('Attempting to parse an unsupported image function "'+E.name+'"');return H(F,E.values)}throw new Error("Unsupported image type "+E.type)}};function Lu(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!Tl[F.name])}var Tl={"linear-gradient":Zl,"-moz-linear-gradient":Ys,"-ms-linear-gradient":Ys,"-o-linear-gradient":Ys,"-webkit-linear-gradient":Ys,"radial-gradient":dd,"-moz-radial-gradient":ru,"-ms-radial-gradient":ru,"-o-radial-gradient":ru,"-webkit-radial-gradient":ru,"-webkit-gradient":rl},Uu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,E){if(E.length===0)return[];var U=E[0];return U.type===20&&U.value==="none"?[]:E.filter(function(H){return Jn(H)&&Lu(H)}).map(function(H){return bu.parse(F,H)})}},Hu={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,E){return E.map(function(U){if(un(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ec={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,E){return Rn(E).map(function(U){return U.filter(Fn)}).map(si)}},Qu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,E){return Rn(E).map(function(U){return U.filter(un).map(function(H){return H.value}).join(" ")}).map(wu)}},wu=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ya;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(ya||(ya={}));var hd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,E){return Rn(E).map(function(U){return U.filter(tc)})}},tc=function(F){return un(F)||Fn(F)},xi=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ad=xi("top"),fl=xi("right"),Is=xi("bottom"),Bc=xi("left"),au=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(E,U){return si(U.filter(Fn))}}},_l=au("top-left"),Wu=au("top-right"),zo=au("bottom-right"),fd=au("bottom-left"),ju=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(E,U){switch(U){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pd=ju("top"),iu=ju("right"),Cu=ju("bottom"),Nu=ju("left"),Su=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(E,U){return hn(U)?U.number:0}}},Bu=Su("top"),md=Su("right"),Ol=Su("bottom"),Mh=Su("left"),Eu={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wd={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,E){switch(E){case"rtl":return 1;case"ltr":default:return 0}}},Rh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,E){return E.filter(un).reduce(function(U,H){return U|Ca(H.value)},0)}},Ca=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Hc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},hh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,E){return E.type===20&&E.value==="normal"?0:E.type===17||E.type===15?E.number:0}},Ec;(function(F){F.NORMAL="normal",F.STRICT="strict"})(Ec||(Ec={}));var bo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"strict":return Ec.STRICT;case"normal":default:return Ec.NORMAL}}},kl={name:"line-height",initialValue:"normal",prefix:!1,type:4},rc=function(F,E){return un(F)&&F.value==="normal"?1.2*E:F.type===17?E*F.number:Fn(F)?wa(F,E):E},$d={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,E){return E.type===20&&E.value==="none"?null:bu.parse(F,E)}},pl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,E){switch(E){case"inside":return 0;case"outside":default:return 1}}},$u={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ko=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},Iu=Ko("top"),ml=Ko("right"),gd=Ko("bottom"),Ic=Ko("left"),nc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,E){return E.filter(un).map(function(U){switch(U.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Pl={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"break-word":return"break-word";case"normal":default:return"normal"}}},ui=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ti=ui("top"),Fl=ui("right"),bs=ui("bottom"),Fs=ui("left"),Tc={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,E){switch(E){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},su={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,E){switch(E){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.length===1&&oa(E[0],"none")?[]:Rn(E).map(function(U){for(var H={color:yo.TRANSPARENT,offsetX:la,offsetY:la,blur:la},we=0,Fe=0;Fe<U.length;Fe++){var ze=U[Fe];La(ze)?(we===0?H.offsetX=ze:we===1?H.offsetY=ze:H.blur=ze,we++):H.color=Ii.parse(F,ze)}return H})}},ac={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Qc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,E){if(E.type===20&&E.value==="none")return null;if(E.type===18){var U=zd[E.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported transform function "'+E.name+'"');return U(E.values)}return null}},Vd=function(F){var E=F.filter(function(U){return U.type===17}).map(function(U){return U.number});return E.length===6?E:null},Wc=function(F){var E=F.filter(function(lt){return lt.type===17}).map(function(lt){return lt.number}),U=E[0],H=E[1];E[2],E[3];var we=E[4],Fe=E[5];E[6],E[7],E[8],E[9],E[10],E[11];var ze=E[12],ct=E[13];return E[14],E[15],E.length===16?[U,H,we,Fe,ze,ct]:null},zd={matrix:Vd,matrix3d:Wc},de={type:16,number:50,flags:ni},Ue=[de,de],gt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,E){var U=E.filter(Fn);return U.length!==2?Ue:[U[0],U[1]]}},Ot={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Gt;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(Gt||(Gt={}));for(var yr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"break-all":return Gt.BREAK_ALL;case"keep-all":return Gt.KEEP_ALL;case"normal":default:return Gt.NORMAL}}},Fr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,E){if(E.type===20)return{auto:!0,order:0};if(ma(E))return{auto:!1,order:E.number};throw new Error("Invalid z-index number parsed")}},In={name:"time",parse:function(F,E){if(E.type===15)switch(E.unit.toLowerCase()){case"s":return 1e3*E.number;case"ms":return E.number}throw new Error("Unsupported time type")}},Hn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,E){return ma(E)?E.number:1}},fa={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aa={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,E){return E.filter(un).map(function(U){switch(U.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(U){return U!==0})}},Oa={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,E){var U=[],H=[];return E.forEach(function(we){switch(we.type){case 20:case 0:U.push(we.value);break;case 17:U.push(we.number.toString());break;case 4:H.push(U.join(" ")),U.length=0;break}}),U.length&&H.push(U.join(" ")),H.map(function(we){return we.indexOf(" ")===-1?we:"'"+we+"'"})}},Fi={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Mi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,E){if(ma(E))return E.number;if(un(E))switch(E.value){case"bold":return 700;case"normal":default:return 400}return 400}},hi={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.filter(un).map(function(U){return U.value})}},cs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},T=function(F,E){return(F&E)!==0},Me={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,E){if(E.length===0)return[];var U=E[0];return U.type===20&&U.value==="none"?[]:E}},J={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return null;var U=E[0];if(U.type===20&&U.value==="none")return null;for(var H=[],we=E.filter(Mn),Fe=0;Fe<we.length;Fe++){var ze=we[Fe],ct=we[Fe+1];if(ze.type===20){var lt=ct&&ma(ct)?ct.number:1;H.push({counter:ze.value,increment:lt})}}return H}},Xe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return[];for(var U=[],H=E.filter(Mn),we=0;we<H.length;we++){var Fe=H[we],ze=H[we+1];if(un(Fe)&&Fe.value!=="none"){var ct=ze&&ma(ze)?ze.number:0;U.push({counter:Fe.value,reset:ct})}}return U}},ht={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,E){return E.filter(hn).map(function(U){return In.parse(F,U)})}},ot={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return null;var U=E[0];if(U.type===20&&U.value==="none")return null;var H=[],we=E.filter(Qr);if(we.length%2!==0)return null;for(var Fe=0;Fe<we.length;Fe+=2){var ze=we[Fe].value,ct=we[Fe+1].value;H.push({open:ze,close:ct})}return H}},er=function(F,E,U){if(!F)return"";var H=F[Math.min(E,F.length-1)];return H?U?H.open:H.close:""},$t={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.length===1&&oa(E[0],"none")?[]:Rn(E).map(function(U){for(var H={color:255,offsetX:la,offsetY:la,blur:la,spread:la,inset:!1},we=0,Fe=0;Fe<U.length;Fe++){var ze=U[Fe];oa(ze,"inset")?H.inset=!0:La(ze)?(we===0?H.offsetX=ze:we===1?H.offsetY=ze:we===2?H.blur=ze:H.spread=ze,we++):H.color=Ii.parse(F,ze)}return H})}},Nn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,E){var U=[0,1,2],H=[];return E.filter(un).forEach(function(we){switch(we.value){case"stroke":H.push(1);break;case"fill":H.push(0);break;case"markers":H.push(2);break}}),U.forEach(function(we){H.indexOf(we)===-1&&H.push(we)}),H}},Pt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ir={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,E){return hn(E)?E.number:0}},va=(function(){function F(E,U){var H,we;this.animationDuration=br(E,ht,U.animationDuration),this.backgroundClip=br(E,Bl,U.backgroundClip),this.backgroundColor=br(E,Ps,U.backgroundColor),this.backgroundImage=br(E,Uu,U.backgroundImage),this.backgroundOrigin=br(E,Hu,U.backgroundOrigin),this.backgroundPosition=br(E,ec,U.backgroundPosition),this.backgroundRepeat=br(E,Qu,U.backgroundRepeat),this.backgroundSize=br(E,hd,U.backgroundSize),this.borderTopColor=br(E,Ad,U.borderTopColor),this.borderRightColor=br(E,fl,U.borderRightColor),this.borderBottomColor=br(E,Is,U.borderBottomColor),this.borderLeftColor=br(E,Bc,U.borderLeftColor),this.borderTopLeftRadius=br(E,_l,U.borderTopLeftRadius),this.borderTopRightRadius=br(E,Wu,U.borderTopRightRadius),this.borderBottomRightRadius=br(E,zo,U.borderBottomRightRadius),this.borderBottomLeftRadius=br(E,fd,U.borderBottomLeftRadius),this.borderTopStyle=br(E,pd,U.borderTopStyle),this.borderRightStyle=br(E,iu,U.borderRightStyle),this.borderBottomStyle=br(E,Cu,U.borderBottomStyle),this.borderLeftStyle=br(E,Nu,U.borderLeftStyle),this.borderTopWidth=br(E,Bu,U.borderTopWidth),this.borderRightWidth=br(E,md,U.borderRightWidth),this.borderBottomWidth=br(E,Ol,U.borderBottomWidth),this.borderLeftWidth=br(E,Mh,U.borderLeftWidth),this.boxShadow=br(E,$t,U.boxShadow),this.color=br(E,Eu,U.color),this.direction=br(E,Wd,U.direction),this.display=br(E,Rh,U.display),this.float=br(E,Hc,U.cssFloat),this.fontFamily=br(E,Oa,U.fontFamily),this.fontSize=br(E,Fi,U.fontSize),this.fontStyle=br(E,cs,U.fontStyle),this.fontVariant=br(E,hi,U.fontVariant),this.fontWeight=br(E,Mi,U.fontWeight),this.letterSpacing=br(E,hh,U.letterSpacing),this.lineBreak=br(E,bo,U.lineBreak),this.lineHeight=br(E,kl,U.lineHeight),this.listStyleImage=br(E,$d,U.listStyleImage),this.listStylePosition=br(E,pl,U.listStylePosition),this.listStyleType=br(E,$u,U.listStyleType),this.marginTop=br(E,Iu,U.marginTop),this.marginRight=br(E,ml,U.marginRight),this.marginBottom=br(E,gd,U.marginBottom),this.marginLeft=br(E,Ic,U.marginLeft),this.opacity=br(E,Hn,U.opacity);var Fe=br(E,nc,U.overflow);this.overflowX=Fe[0],this.overflowY=Fe[Fe.length>1?1:0],this.overflowWrap=br(E,Pl,U.overflowWrap),this.paddingTop=br(E,Ti,U.paddingTop),this.paddingRight=br(E,Fl,U.paddingRight),this.paddingBottom=br(E,bs,U.paddingBottom),this.paddingLeft=br(E,Fs,U.paddingLeft),this.paintOrder=br(E,Nn,U.paintOrder),this.position=br(E,su,U.position),this.textAlign=br(E,Tc,U.textAlign),this.textDecorationColor=br(E,fa,(H=U.textDecorationColor)!==null&&H!==void 0?H:U.color),this.textDecorationLine=br(E,aa,(we=U.textDecorationLine)!==null&&we!==void 0?we:U.textDecoration),this.textShadow=br(E,Fo,U.textShadow),this.textTransform=br(E,ac,U.textTransform),this.transform=br(E,Qc,U.transform),this.transformOrigin=br(E,gt,U.transformOrigin),this.visibility=br(E,Ot,U.visibility),this.webkitTextStrokeColor=br(E,Pt,U.webkitTextStrokeColor),this.webkitTextStrokeWidth=br(E,ir,U.webkitTextStrokeWidth),this.wordBreak=br(E,yr,U.wordBreak),this.zIndex=br(E,Fr,U.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return ja(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return T(this.display,4)||T(this.display,33554432)||T(this.display,268435456)||T(this.display,536870912)||T(this.display,67108864)||T(this.display,134217728)},F})(),An=(function(){function F(E,U){this.content=br(E,Me,U.content),this.quotes=br(E,ot,U.quotes)}return F})(),Mr=(function(){function F(E,U){this.counterIncrement=br(E,J,U.counterIncrement),this.counterReset=br(E,Xe,U.counterReset)}return F})(),br=function(F,E,U){var H=new ca,we=U!==null&&typeof U<"u"?U.toString():E.initialValue;H.write(we);var Fe=new ut(H.read());switch(E.type){case 2:var ze=Fe.parseComponentValue();return E.parse(F,un(ze)?ze.value:E.initialValue);case 0:return E.parse(F,Fe.parseComponentValue());case 1:return E.parse(F,Fe.parseComponentValues());case 4:return Fe.parseComponentValue();case 3:switch(E.format){case"angle":return Kn.parse(F,Fe.parseComponentValue());case"color":return Ii.parse(F,Fe.parseComponentValue());case"image":return bu.parse(F,Fe.parseComponentValue());case"length":var ct=Fe.parseComponentValue();return La(ct)?ct:la;case"length-percentage":var lt=Fe.parseComponentValue();return Fn(lt)?lt:la;case"time":return In.parse(F,Fe.parseComponentValue())}break}},Ri="data-html2canvas-debug",ba=function(F){var E=F.getAttribute(Ri);switch(E){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ia=function(F,E){var U=ba(F);return U===1||E===U},Na=(function(){function F(E,U){if(this.context=E,this.textNodes=[],this.elements=[],this.flags=0,ia(U,3))debugger;this.styles=new va(E,window.getComputedStyle(U,null)),Cd(U)&&(this.styles.animationDuration.some(function(H){return H>0})&&(U.style.animationDuration="0s"),this.styles.transform!==null&&(U.style.transform="none")),this.bounds=o(this.context,U),ia(U,4)&&(this.flags|=16)}return F})(),Ya="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ea=typeof Uint8Array>"u"?[]:new Uint8Array(256),es=0;es<an.length;es++)Ea[an.charCodeAt(es)]=es;for(var ea=function(F){var E=F.length*.75,U=F.length,H,we=0,Fe,ze,ct,lt;F[F.length-1]==="="&&(E--,F[F.length-2]==="="&&E--);var Rt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),Ht=Array.isArray(Rt)?Rt:new Uint8Array(Rt);for(H=0;H<U;H+=4)Fe=Ea[F.charCodeAt(H)],ze=Ea[F.charCodeAt(H+1)],ct=Ea[F.charCodeAt(H+2)],lt=Ea[F.charCodeAt(H+3)],Ht[we++]=Fe<<2|ze>>4,Ht[we++]=(ze&15)<<4|ct>>2,Ht[we++]=(ct&3)<<6|lt&63;return Rt},oi=function(F){for(var E=F.length,U=[],H=0;H<E;H+=2)U.push(F[H+1]<<8|F[H]);return U},ka=function(F){for(var E=F.length,U=[],H=0;H<E;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},Qn=5,da=11,wo=2,ic=da-Qn,Do=65536>>Qn,lo=1<<Qn,sc=lo-1,Ws=1024>>Qn,Lh=Do+Ws,Go=Lh,nl=32,Kd=Go+nl,Ah=65536>>da,_c=1<<ic,$c=_c-1,Vc=function(F,E,U){return F.slice?F.slice(E,U):new Uint16Array(Array.prototype.slice.call(F,E,U))},Vu=function(F,E,U){return F.slice?F.slice(E,U):new Uint32Array(Array.prototype.slice.call(F,E,U))},ou=function(F,E){var U=ea(F),H=Array.isArray(U)?ka(U):new Uint32Array(U),we=Array.isArray(U)?oi(U):new Uint16Array(U),Fe=24,ze=Vc(we,Fe/2,H[4]/2),ct=H[5]===2?Vc(we,(Fe+H[4])/2):Vu(H,Math.ceil((Fe+H[4])/4));return new vd(H[0],H[1],H[2],H[3],ze,ct)},vd=(function(){function F(E,U,H,we,Fe,ze){this.initialValue=E,this.errorValue=U,this.highStart=H,this.highValueIndex=we,this.index=Fe,this.data=ze}return F.prototype.get=function(E){var U;if(E>=0){if(E<55296||E>56319&&E<=65535)return U=this.index[E>>Qn],U=(U<<wo)+(E&sc),this.data[U];if(E<=65535)return U=this.index[Do+(E-55296>>Qn)],U=(U<<wo)+(E&sc),this.data[U];if(E<this.highStart)return U=Kd-Ah+(E>>da),U=this.index[U],U+=E>>Qn&$c,U=this.index[U],U=(U<<wo)+(E&sc),this.data[U];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Mo=0;Mo<Oc.length;Mo++)gl[Oc.charCodeAt(Mo)]=Mo;var oc=1,di=2,Li=3,us=4,co=5,lu=7,ts=8,cu=9,xd=10,Uh=11,fh=12,Hh=13,zu=14,ws=15,jo=function(F){for(var E=[],U=0,H=F.length;U<H;){var we=F.charCodeAt(U++);if(we>=55296&&we<=56319&&U<H){var Fe=F.charCodeAt(U++);(Fe&64512)===56320?E.push(((we&1023)<<10)+(Fe&1023)+65536):(E.push(we),U--)}else E.push(we)}return E},Zs=function(){for(var F=[],E=0;E<arguments.length;E++)F[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],we=-1,Fe="";++we<U;){var ze=F[we];ze<=65535?H.push(ze):(ze-=65536,H.push((ze>>10)+55296,ze%1024+56320)),(we+1===U||H.length>16384)&&(Fe+=String.fromCharCode.apply(String,H),H.length=0)}return Fe},Qh=ou(Ya),al="",yd="",xp=function(F){return Qh.get(F)},il=function(F,E,U){var H=U-2,we=E[H],Fe=E[U-1],ze=E[U];if(Fe===di&&ze===Li)return al;if(Fe===di||Fe===Li||Fe===us||ze===di||ze===Li||ze===us)return yd;if(Fe===ts&&[ts,cu,Uh,fh].indexOf(ze)!==-1||(Fe===Uh||Fe===cu)&&(ze===cu||ze===xd)||(Fe===fh||Fe===xd)&&ze===xd||ze===Hh||ze===co||ze===lu||Fe===oc)return al;if(Fe===Hh&&ze===zu){for(;we===co;)we=E[--H];if(we===zu)return al}if(Fe===ws&&ze===ws){for(var ct=0;we===ws;)ct++,we=E[--H];if(ct%2===0)return al}return yd},yA=function(F){var E=jo(F),U=E.length,H=0,we=0,Fe=E.map(xp);return{next:function(){if(H>=U)return{done:!0,value:null};for(var ze=al;H<U&&(ze=il(E,Fe,++H))===al;);if(ze!==al||H===U){var ct=Zs.apply(null,E.slice(we,H));return we=H,{value:ct,done:!1}}return{done:!0,value:null}}}},bA=function(F){for(var E=yA(F),U=[],H;!(H=E.next()).done;)H.value&&U.push(H.value.slice());return U},wA=function(F){var E=123;if(F.createRange){var U=F.createRange();if(U.getBoundingClientRect){var H=F.createElement("boundtest");H.style.height=E+"px",H.style.display="block",F.body.appendChild(H),U.selectNode(H);var we=U.getBoundingClientRect(),Fe=Math.round(we.height);if(F.body.removeChild(H),Fe===E)return!0}}return!1},zc=function(F){var E=F.createElement("boundtest");E.style.width="50px",E.style.display="block",E.style.fontSize="12px",E.style.letterSpacing="0px",E.style.wordSpacing="0px",F.body.appendChild(E);var U=F.createRange();E.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var H=E.firstChild,we=h(H.data).map(function(lt){return A(lt)}),Fe=0,ze={},ct=we.every(function(lt,Rt){U.setStart(H,Fe),U.setEnd(H,Fe+lt.length);var Ht=U.getBoundingClientRect();Fe+=lt.length;var tr=Ht.x>ze.x||Ht.y>ze.y;return ze=Ht,Rt===0?!0:tr});return F.body.removeChild(E),ct},Dl=function(){return typeof new Image().crossOrigin<"u"},sl=function(){return typeof new XMLHttpRequest().responseType=="string"},lc=function(F){var E=new Image,U=F.createElement("canvas"),H=U.getContext("2d");if(!H)return!1;E.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{H.drawImage(E,0,0),U.toDataURL()}catch{return!1}return!0},Gd=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Wh=function(F){var E=F.createElement("canvas"),U=100;E.width=U,E.height=U;var H=E.getContext("2d");if(!H)return Promise.reject(!1);H.fillStyle="rgb(0, 255, 0)",H.fillRect(0,0,U,U);var we=new Image,Fe=E.toDataURL();we.src=Fe;var ze=$h(U,U,0,0,we);return H.fillStyle="red",H.fillRect(0,0,U,U),ph(ze).then(function(ct){H.drawImage(ct,0,0);var lt=H.getImageData(0,0,U,U).data;H.fillStyle="red",H.fillRect(0,0,U,U);var Rt=F.createElement("div");return Rt.style.backgroundImage="url("+Fe+")",Rt.style.height=U+"px",Gd(lt)?ph($h(U,U,0,0,Rt)):Promise.reject(!1)}).then(function(ct){return H.drawImage(ct,0,0),Gd(H.getImageData(0,0,U,U).data)}).catch(function(){return!1})},$h=function(F,E,U,H,we){var Fe="http://www.w3.org/2000/svg",ze=document.createElementNS(Fe,"svg"),ct=document.createElementNS(Fe,"foreignObject");return ze.setAttributeNS(null,"width",F.toString()),ze.setAttributeNS(null,"height",E.toString()),ct.setAttributeNS(null,"width","100%"),ct.setAttributeNS(null,"height","100%"),ct.setAttributeNS(null,"x",U.toString()),ct.setAttributeNS(null,"y",H.toString()),ct.setAttributeNS(null,"externalResourcesRequired","true"),ze.appendChild(ct),ct.appendChild(we),ze},ph=function(F){return new Promise(function(E,U){var H=new Image;H.onload=function(){return E(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},uo={get SUPPORT_RANGE_BOUNDS(){var F=wA(document);return Object.defineProperty(uo,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=uo.SUPPORT_RANGE_BOUNDS&&zc(document);return Object.defineProperty(uo,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=lc(document);return Object.defineProperty(uo,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Wh(document):Promise.resolve(!1);return Object.defineProperty(uo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=Dl();return Object.defineProperty(uo,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=sl();return Object.defineProperty(uo,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(uo,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(uo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},bd=(function(){function F(E,U){this.text=E,this.bounds=U}return F})(),ff=function(F,E,U,H){var we=NA(E,U),Fe=[],ze=0;return we.forEach(function(ct){if(U.textDecorationLine.length||ct.trim().length>0)if(uo.SUPPORT_RANGE_BOUNDS){var lt=Vh(H,ze,ct.length).getClientRects();if(lt.length>1){var Rt=Tu(ct),Ht=0;Rt.forEach(function(jr){Fe.push(new bd(jr,u.fromDOMRectList(F,Vh(H,Ht+ze,jr.length).getClientRects()))),Ht+=jr.length})}else Fe.push(new bd(ct,u.fromDOMRectList(F,lt)))}else{var tr=H.splitText(ct.length);Fe.push(new bd(ct,jA(F,H))),H=tr}else uo.SUPPORT_RANGE_BOUNDS||(H=H.splitText(ct.length));ze+=ct.length}),Fe},jA=function(F,E){var U=E.ownerDocument;if(U){var H=U.createElement("html2canvaswrapper");H.appendChild(E.cloneNode(!0));var we=E.parentNode;if(we){we.replaceChild(H,E);var Fe=o(F,H);return H.firstChild&&we.replaceChild(H.firstChild,H),Fe}}return u.EMPTY},Vh=function(F,E,U){var H=F.ownerDocument;if(!H)throw new Error("Node has no owner document");var we=H.createRange();return we.setStart(F,E),we.setEnd(F,E+U),we},Tu=function(F){if(uo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var E=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(E.segment(F)).map(function(U){return U.segment})}return bA(F)},CA=function(F,E){if(uo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var U=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(U.segment(F)).map(function(H){return H.segment})}return pf(F,E)},NA=function(F,E){return E.letterSpacing!==0?Tu(F):CA(F,E)},SA=[32,160,4961,65792,65793,4153,4241],pf=function(F,E){for(var U=go(F,{lineBreak:E.lineBreak,wordBreak:E.overflowWrap==="break-word"?"break-word":E.wordBreak}),H=[],we,Fe=function(){if(we.value){var ze=we.value.slice(),ct=h(ze),lt="";ct.forEach(function(Rt){SA.indexOf(Rt)===-1?lt+=A(Rt):(lt.length&&H.push(lt),H.push(A(Rt)),lt="")}),lt.length&&H.push(lt)}};!(we=U.next()).done;)Fe();return H},mf=(function(){function F(E,U,H){this.text=yp(U.data,H.textTransform),this.textBounds=ff(E,this.text,H,U)}return F})(),yp=function(F,E){switch(E){case 1:return F.toLowerCase();case 3:return F.replace(bp,wp);case 2:return F.toUpperCase();default:return F}},bp=/(^|\s|:|-|\(|\))([a-z])/g,wp=function(F,E,U){return F.length>0?E+U.toUpperCase():F},gf=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.src=H.currentSrc||H.src,we.intrinsicWidth=H.naturalWidth,we.intrinsicHeight=H.naturalHeight,we.context.cache.addImage(we.src),we}return E})(Na),mh=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.canvas=H,we.intrinsicWidth=H.width,we.intrinsicHeight=H.height,we}return E})(Na),zh=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this,Fe=new XMLSerializer,ze=o(U,H);return H.setAttribute("width",ze.width+"px"),H.setAttribute("height",ze.height+"px"),we.svg="data:image/svg+xml,"+encodeURIComponent(Fe.serializeToString(H)),we.intrinsicWidth=H.width.baseVal.value,we.intrinsicHeight=H.height.baseVal.value,we.context.cache.addImage(we.svg),we}return E})(Na),qd=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.value=H.value,we}return E})(Na),BA=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.start=H.start,we.reversed=typeof H.reversed=="boolean"&&H.reversed===!0,we}return E})(Na),Mm=[{type:15,flags:0,unit:"px",number:3}],vf=[{type:16,flags:0,number:50}],Rm=function(F){return F.width>F.height?new u(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new u(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},Lm=function(F){var E=F.type===Ku?new Array(F.value.length+1).join(""):F.value;return E.length===0?F.placeholder||"":E},Kh="checkbox",Gh="radio",Ku="password",Ml=707406591,uu=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;switch(we.type=H.type.toLowerCase(),we.checked=H.checked,we.value=Lm(H),(we.type===Kh||we.type===Gh)&&(we.styles.backgroundColor=3739148031,we.styles.borderTopColor=we.styles.borderRightColor=we.styles.borderBottomColor=we.styles.borderLeftColor=2779096575,we.styles.borderTopWidth=we.styles.borderRightWidth=we.styles.borderBottomWidth=we.styles.borderLeftWidth=1,we.styles.borderTopStyle=we.styles.borderRightStyle=we.styles.borderBottomStyle=we.styles.borderLeftStyle=1,we.styles.backgroundClip=[0],we.styles.backgroundOrigin=[0],we.bounds=Rm(we.bounds)),we.type){case Kh:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=Mm;break;case Gh:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=vf;break}return we}return E})(Na),jp=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this,Fe=H.options[H.selectedIndex||0];return we.value=Fe&&Fe.text||"",we}return E})(Na),xf=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.value=H.value,we}return E})(Na),Ro=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;we.src=H.src,we.width=parseInt(H.width,10)||0,we.height=parseInt(H.height,10)||0,we.backgroundColor=we.styles.backgroundColor;try{if(H.contentWindow&&H.contentWindow.document&&H.contentWindow.document.documentElement){we.tree=EA(U,H.contentWindow.document.documentElement);var Fe=H.contentWindow.document.documentElement?ys(U,getComputedStyle(H.contentWindow.document.documentElement).backgroundColor):yo.TRANSPARENT,ze=H.contentWindow.document.body?ys(U,getComputedStyle(H.contentWindow.document.body).backgroundColor):yo.TRANSPARENT;we.backgroundColor=ja(Fe)?ja(ze)?we.styles.backgroundColor:ze:Fe}}catch{}return we}return E})(Na),cc=["OL","UL","MENU"],Xd=function(F,E,U,H){for(var we=E.firstChild,Fe=void 0;we;we=Fe)if(Fe=we.nextSibling,wd(we)&&we.data.trim().length>0)U.textNodes.push(new mf(F,we,U.styles));else if(jd(we))if(kA(we)&&we.assignedNodes)we.assignedNodes().forEach(function(ct){return Xd(F,ct,U,H)});else{var ze=yf(F,we);ze.styles.isVisible()&&(bf(we,ze,H)?ze.flags|=4:IA(ze.styles)&&(ze.flags|=2),cc.indexOf(we.tagName)!==-1&&(ze.flags|=8),U.elements.push(ze),we.slot,we.shadowRoot?Xd(F,we.shadowRoot,ze,H):!Xh(we)&&!jf(we)&&!vh(we)&&Xd(F,we,ze,H))}},yf=function(F,E){return _A(E)?new gf(F,E):Rl(E)?new mh(F,E):jf(E)?new zh(F,E):gh(E)?new qd(F,E):TA(E)?new BA(F,E):Cp(E)?new uu(F,E):vh(E)?new jp(F,E):Xh(E)?new xf(F,E):Nf(E)?new Ro(F,E):new Na(F,E)},EA=function(F,E){var U=yf(F,E);return U.flags|=4,Xd(F,E,U,U),U},bf=function(F,E,U){return E.styles.isPositionedWithZIndex()||E.styles.opacity<1||E.styles.isTransformed()||Cf(F)&&U.styles.isTransparent()},IA=function(F){return F.isPositioned()||F.isFloating()},wd=function(F){return F.nodeType===Node.TEXT_NODE},jd=function(F){return F.nodeType===Node.ELEMENT_NODE},Cd=function(F){return jd(F)&&typeof F.style<"u"&&!Yd(F)},Yd=function(F){return typeof F.className=="object"},gh=function(F){return F.tagName==="LI"},TA=function(F){return F.tagName==="OL"},Cp=function(F){return F.tagName==="INPUT"},wf=function(F){return F.tagName==="HTML"},jf=function(F){return F.tagName==="svg"},Cf=function(F){return F.tagName==="BODY"},Rl=function(F){return F.tagName==="CANVAS"},vl=function(F){return F.tagName==="VIDEO"},_A=function(F){return F.tagName==="IMG"},Nf=function(F){return F.tagName==="IFRAME"},OA=function(F){return F.tagName==="STYLE"},qh=function(F){return F.tagName==="SCRIPT"},Xh=function(F){return F.tagName==="TEXTAREA"},vh=function(F){return F.tagName==="SELECT"},kA=function(F){return F.tagName==="SLOT"},O=function(F){return F.tagName.indexOf("-")>0},G=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(E){var U=this.counters[E];return U&&U.length?U[U.length-1]:1},F.prototype.getCounterValues=function(E){var U=this.counters[E];return U||[]},F.prototype.pop=function(E){var U=this;E.forEach(function(H){return U.counters[H].pop()})},F.prototype.parse=function(E){var U=this,H=E.counterIncrement,we=E.counterReset,Fe=!0;H!==null&&H.forEach(function(ct){var lt=U.counters[ct.counter];lt&&ct.increment!==0&&(Fe=!1,lt.length||lt.push(1),lt[Math.max(0,lt.length-1)]+=ct.increment)});var ze=[];return Fe&&we.forEach(function(ct){var lt=U.counters[ct.counter];ze.push(ct.counter),lt||(lt=U.counters[ct.counter]=[]),lt.push(ct.reset)}),ze},F})(),be={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Te={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qe=function(F,E,U,H,we,Fe){return F<E||F>U?Rr(F,we,Fe.length>0):H.integers.reduce(function(ze,ct,lt){for(;F>=ct;)F-=ct,ze+=H.values[lt];return ze},"")+Fe},Je=function(F,E,U,H){var we="";do U||F--,we=H(F)+we,F/=E;while(F*E>=E);return we},rt=function(F,E,U,H,we){var Fe=U-E+1;return(F<0?"-":"")+(Je(Math.abs(F),Fe,H,function(ze){return A(Math.floor(ze%Fe)+E)})+we)},pt=function(F,E,U){U===void 0&&(U=". ");var H=E.length;return Je(Math.abs(F),H,!1,function(we){return E[Math.floor(we%H)]})+U},Ft=1,rr=2,At=4,Mt=8,Yt=function(F,E,U,H,we,Fe){if(F<-9999||F>9999)return Rr(F,4,we.length>0);var ze=Math.abs(F),ct=we;if(ze===0)return E[0]+ct;for(var lt=0;ze>0&&lt<=4;lt++){var Rt=ze%10;Rt===0&&T(Fe,Ft)&&ct!==""?ct=E[Rt]+ct:Rt>1||Rt===1&&lt===0||Rt===1&&lt===1&&T(Fe,rr)||Rt===1&&lt===1&&T(Fe,At)&&F>100||Rt===1&&lt>1&&T(Fe,Mt)?ct=E[Rt]+(lt>0?U[lt-1]:"")+ct:Rt===1&&lt>0&&(ct=U[lt-1]+ct),ze=Math.floor(ze/10)}return(F<0?H:"")+ct},wr="",ar="",Nr="",Er="",Rr=function(F,E,U){var H=U?". ":"",we=U?"":"",Fe=U?", ":"",ze=U?" ":"";switch(E){case 0:return""+ze;case 1:return""+ze;case 2:return""+ze;case 5:var ct=rt(F,48,57,!0,H);return ct.length<4?"0"+ct:ct;case 4:return pt(F,"",we);case 6:return qe(F,1,3999,be,3,H).toLowerCase();case 7:return qe(F,1,3999,be,3,H);case 8:return rt(F,945,969,!1,H);case 9:return rt(F,97,122,!1,H);case 10:return rt(F,65,90,!1,H);case 11:return rt(F,1632,1641,!0,H);case 12:case 49:return qe(F,1,9999,Te,3,H);case 35:return qe(F,1,9999,Te,3,H).toLowerCase();case 13:return rt(F,2534,2543,!0,H);case 14:case 30:return rt(F,6112,6121,!0,H);case 15:return pt(F,"",we);case 16:return pt(F,"",we);case 17:case 48:return Yt(F,"",wr,"",we,rr|At|Mt);case 47:return Yt(F,"",ar,"",we,Ft|rr|At|Mt);case 42:return Yt(F,"",wr,"",we,rr|At|Mt);case 41:return Yt(F,"",ar,"",we,Ft|rr|At|Mt);case 26:return Yt(F,"","",Nr,we,0);case 25:return Yt(F,"","",Nr,we,Ft|rr|At);case 31:return Yt(F,"","",Er,Fe,Ft|rr|At);case 33:return Yt(F,"","",Er,Fe,0);case 32:return Yt(F,"","",Er,Fe,Ft|rr|At);case 18:return rt(F,2406,2415,!0,H);case 20:return qe(F,1,19999,Ke,3,H);case 21:return rt(F,2790,2799,!0,H);case 22:return rt(F,2662,2671,!0,H);case 22:return qe(F,1,10999,Qe,3,H);case 23:return pt(F,"");case 24:return pt(F,"");case 27:return rt(F,3302,3311,!0,H);case 28:return pt(F,"",we);case 29:return pt(F,"",we);case 34:return rt(F,3792,3801,!0,H);case 37:return rt(F,6160,6169,!0,H);case 38:return rt(F,4160,4169,!0,H);case 39:return rt(F,2918,2927,!0,H);case 40:return rt(F,1776,1785,!0,H);case 43:return rt(F,3046,3055,!0,H);case 44:return rt(F,3174,3183,!0,H);case 45:return rt(F,3664,3673,!0,H);case 46:return rt(F,3872,3881,!0,H);case 3:default:return rt(F,48,57,!0,H)}},Tr="data-html2canvas-ignore",ta=(function(){function F(E,U,H){if(this.context=E,this.options=H,this.scrolledElements=[],this.referenceElement=U,this.counters=new G,this.quoteDepth=0,!U.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(U.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(E,U){var H=this,we=$a(E,U);if(!we.contentWindow)return Promise.reject("Unable to find iframe window");var Fe=E.defaultView.pageXOffset,ze=E.defaultView.pageYOffset,ct=we.contentWindow,lt=ct.document,Rt=ln(we).then(function(){return s(H,void 0,void 0,function(){var Ht,tr;return c(this,function(jr){switch(jr.label){case 0:return this.scrolledElements.forEach(Pa),ct&&(ct.scrollTo(U.left,U.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ct.scrollY!==U.top||ct.scrollX!==U.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ct.scrollX-U.left,ct.scrollY-U.top,0,0))),Ht=this.options.onclone,tr=this.clonedReferenceElement,typeof tr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:lt.fonts&&lt.fonts.ready?[4,lt.fonts.ready]:[3,2];case 1:jr.sent(),jr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yi(lt)]:[3,4];case 3:jr.sent(),jr.label=4;case 4:return typeof Ht=="function"?[2,Promise.resolve().then(function(){return Ht(lt,tr)}).then(function(){return we})]:[2,we]}})})});return lt.open(),lt.write(fn(document.doctype)+"<html></html>"),ho(this.referenceElement.ownerDocument,Fe,ze),lt.replaceChild(lt.adoptNode(this.documentElement),lt.documentElement),lt.close(),Rt},F.prototype.createElementClone=function(E){if(ia(E,2))debugger;if(Rl(E))return this.createCanvasClone(E);if(vl(E))return this.createVideoClone(E);if(OA(E))return this.createStyleClone(E);var U=E.cloneNode(!1);return _A(U)&&(_A(E)&&E.currentSrc&&E.currentSrc!==E.src&&(U.src=E.currentSrc,U.srcset=""),U.loading==="lazy"&&(U.loading="eager")),O(U)?this.createCustomElementClone(U):U},F.prototype.createCustomElementClone=function(E){var U=document.createElement("html2canvascustomelement");return Wn(E.style,U),U},F.prototype.createStyleClone=function(E){try{var U=E.sheet;if(U&&U.cssRules){var H=[].slice.call(U.cssRules,0).reduce(function(Fe,ze){return ze&&typeof ze.cssText=="string"?Fe+ze.cssText:Fe},""),we=E.cloneNode(!1);return we.textContent=H,we}}catch(Fe){if(this.context.logger.error("Unable to access cssRules property",Fe),Fe.name!=="SecurityError")throw Fe}return E.cloneNode(!1)},F.prototype.createCanvasClone=function(E){var U;if(this.options.inlineImages&&E.ownerDocument){var H=E.ownerDocument.createElement("img");try{return H.src=E.toDataURL(),H}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",E)}}var we=E.cloneNode(!1);try{we.width=E.width,we.height=E.height;var Fe=E.getContext("2d"),ze=we.getContext("2d");if(ze)if(!this.options.allowTaint&&Fe)ze.putImageData(Fe.getImageData(0,0,E.width,E.height),0,0);else{var ct=(U=E.getContext("webgl2"))!==null&&U!==void 0?U:E.getContext("webgl");if(ct){var lt=ct.getContextAttributes();(lt==null?void 0:lt.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",E)}ze.drawImage(E,0,0)}return we}catch{this.context.logger.info("Unable to clone canvas as it is tainted",E)}return we},F.prototype.createVideoClone=function(E){var U=E.ownerDocument.createElement("canvas");U.width=E.offsetWidth,U.height=E.offsetHeight;var H=U.getContext("2d");try{return H&&(H.drawImage(E,0,0,U.width,U.height),this.options.allowTaint||H.getImageData(0,0,U.width,U.height)),U}catch{this.context.logger.info("Unable to clone video as it is tainted",E)}var we=E.ownerDocument.createElement("canvas");return we.width=E.offsetWidth,we.height=E.offsetHeight,we},F.prototype.appendChildNode=function(E,U,H){(!jd(U)||!qh(U)&&!U.hasAttribute(Tr)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(U)))&&(!this.options.copyStyles||!jd(U)||!OA(U))&&E.appendChild(this.cloneNode(U,H))},F.prototype.cloneChildNodes=function(E,U,H){for(var we=this,Fe=E.shadowRoot?E.shadowRoot.firstChild:E.firstChild;Fe;Fe=Fe.nextSibling)if(jd(Fe)&&kA(Fe)&&typeof Fe.assignedNodes=="function"){var ze=Fe.assignedNodes();ze.length&&ze.forEach(function(ct){return we.appendChildNode(U,ct,H)})}else this.appendChildNode(U,Fe,H)},F.prototype.cloneNode=function(E,U){if(wd(E))return document.createTextNode(E.data);if(!E.ownerDocument)return E.cloneNode(!1);var H=E.ownerDocument.defaultView;if(H&&jd(E)&&(Cd(E)||Yd(E))){var we=this.createElementClone(E);we.style.transitionProperty="none";var Fe=H.getComputedStyle(E),ze=H.getComputedStyle(E,":before"),ct=H.getComputedStyle(E,":after");this.referenceElement===E&&Cd(we)&&(this.clonedReferenceElement=we),Cf(we)&&Xo(we);var lt=this.counters.parse(new Mr(this.context,Fe)),Rt=this.resolvePseudoContent(E,we,ze,kn.BEFORE);O(E)&&(U=!0),vl(E)||this.cloneChildNodes(E,we,U),Rt&&we.insertBefore(Rt,we.firstChild);var Ht=this.resolvePseudoContent(E,we,ct,kn.AFTER);return Ht&&we.appendChild(Ht),this.counters.pop(lt),(Fe&&(this.options.copyStyles||Yd(E))&&!Nf(E)||U)&&Wn(Fe,we),(E.scrollTop!==0||E.scrollLeft!==0)&&this.scrolledElements.push([we,E.scrollLeft,E.scrollTop]),(Xh(E)||vh(E))&&(Xh(we)||vh(we))&&(we.value=E.value),we}return E.cloneNode(!1)},F.prototype.resolvePseudoContent=function(E,U,H,we){var Fe=this;if(H){var ze=H.content,ct=U.ownerDocument;if(!(!ct||!ze||ze==="none"||ze==="-moz-alt-content"||H.display==="none")){this.counters.parse(new Mr(this.context,H));var lt=new An(this.context,H),Rt=ct.createElement("html2canvaspseudoelement");Wn(H,Rt),lt.content.forEach(function(tr){if(tr.type===0)Rt.appendChild(ct.createTextNode(tr.value));else if(tr.type===22){var jr=ct.createElement("img");jr.src=tr.value,jr.style.opacity="1",Rt.appendChild(jr)}else if(tr.type===18){if(tr.name==="attr"){var bn=tr.values.filter(un);bn.length&&Rt.appendChild(ct.createTextNode(E.getAttribute(bn[0].value)||""))}else if(tr.name==="counter"){var nn=tr.values.filter(Jn),vn=nn[0],Za=nn[1];if(vn&&un(vn)){var Yn=Fe.counters.getCounterValue(vn.value),Vn=Za&&un(Za)?$u.parse(Fe.context,Za.value):3;Rt.appendChild(ct.createTextNode(Rr(Yn,Vn,!1)))}}else if(tr.name==="counters"){var Ki=tr.values.filter(Jn),vn=Ki[0],ii=Ki[1],Za=Ki[2];if(vn&&un(vn)){var Ha=Fe.counters.getCounterValues(vn.value),Tn=Za&&un(Za)?$u.parse(Fe.context,Za.value):3,Oi=ii&&ii.type===0?ii.value:"",bi=Ha.map(function(hc){return Rr(hc,Tn,!1)}).join(Oi);Rt.appendChild(ct.createTextNode(bi))}}}else if(tr.type===20)switch(tr.value){case"open-quote":Rt.appendChild(ct.createTextNode(er(lt.quotes,Fe.quoteDepth++,!0)));break;case"close-quote":Rt.appendChild(ct.createTextNode(er(lt.quotes,--Fe.quoteDepth,!1)));break;default:Rt.appendChild(ct.createTextNode(tr.value))}}),Rt.className=Co+" "+qo;var Ht=we===kn.BEFORE?" "+Co:" "+qo;return Yd(U)?U.className.baseValue+=Ht:U.className+=Ht,Rt}}},F.destroy=function(E){return E.parentNode?(E.parentNode.removeChild(E),!0):!1},F})(),kn;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(kn||(kn={}));var $a=function(F,E){var U=F.createElement("iframe");return U.className="html2canvas-container",U.style.visibility="hidden",U.style.position="fixed",U.style.left="-10000px",U.style.top="0px",U.style.border="0",U.width=E.width.toString(),U.height=E.height.toString(),U.scrolling="no",U.setAttribute(Tr,"true"),F.body.appendChild(U),U},yn=function(F){return new Promise(function(E){if(F.complete){E();return}if(!F.src){E();return}F.onload=E,F.onerror=E})},yi=function(F){return Promise.all([].slice.call(F.images,0).map(yn))},ln=function(F){return new Promise(function(E,U){var H=F.contentWindow;if(!H)return U("No window assigned for iframe");var we=H.document;H.onload=F.onload=function(){H.onload=F.onload=null;var Fe=setInterval(function(){we.body.childNodes.length>0&&we.readyState==="complete"&&(clearInterval(Fe),E(F))},50)}})},Ma=["all","d","content"],Wn=function(F,E){for(var U=F.length-1;U>=0;U--){var H=F.item(U);Ma.indexOf(H)===-1&&E.style.setProperty(H,F.getPropertyValue(H))}return E},fn=function(F){var E="";return F&&(E+="<!DOCTYPE ",F.name&&(E+=F.name),F.internalSubset&&(E+=F.internalSubset),F.publicId&&(E+='"'+F.publicId+'"'),F.systemId&&(E+='"'+F.systemId+'"'),E+=">"),E},ho=function(F,E,U){F&&F.defaultView&&(E!==F.defaultView.pageXOffset||U!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(E,U)},Pa=function(F){var E=F[0],U=F[1],H=F[2];E.scrollLeft=U,E.scrollTop=H},Ai=":before",ds=":after",Co="___html2canvas___pseudoelement_before",qo="___html2canvas___pseudoelement_after",Ds=`{
    content: "" !important;
    display: none !important;
}`,Xo=function(F){ol(F,"."+Co+Ai+Ds+`
         .`+qo+ds+Ds)},ol=function(F,E){var U=F.ownerDocument;if(U){var H=U.createElement("style");H.textContent=E,F.appendChild(H)}},pi=(function(){function F(){}return F.getOrigin=function(E){var U=F._link;return U?(U.href=E,U.href=U.href,U.protocol+U.hostname+U.port):"about:blank"},F.isSameOrigin=function(E){return F.getOrigin(E)===F._origin},F.setContext=function(E){F._link=E.document.createElement("a"),F._origin=F.getOrigin(E.location.href)},F._origin="about:blank",F})(),Ka=(function(){function F(E,U){this.context=E,this._options=U,this._cache={}}return F.prototype.addImage=function(E){var U=Promise.resolve();return this.has(E)||(xl(E)||hs(E))&&(this._cache[E]=this.loadImage(E)).catch(function(){}),U},F.prototype.match=function(E){return this._cache[E]},F.prototype.loadImage=function(E){return s(this,void 0,void 0,function(){var U,H,we,Fe,ze=this;return c(this,function(ct){switch(ct.label){case 0:return U=pi.isSameOrigin(E),H=!uc(E)&&this._options.useCORS===!0&&uo.SUPPORT_CORS_IMAGES&&!U,we=!uc(E)&&!U&&!xl(E)&&typeof this._options.proxy=="string"&&uo.SUPPORT_CORS_XHR&&!H,!U&&this._options.allowTaint===!1&&!uc(E)&&!xl(E)&&!we&&!H?[2]:(Fe=E,we?[4,this.proxy(Fe)]:[3,2]);case 1:Fe=ct.sent(),ct.label=2;case 2:return this.context.logger.debug("Added image "+E.substring(0,256)),[4,new Promise(function(lt,Rt){var Ht=new Image;Ht.onload=function(){return lt(Ht)},Ht.onerror=Rt,(Vi(Fe)||H)&&(Ht.crossOrigin="anonymous"),Ht.src=Fe,Ht.complete===!0&&setTimeout(function(){return lt(Ht)},500),ze._options.imageTimeout>0&&setTimeout(function(){return Rt("Timed out ("+ze._options.imageTimeout+"ms) loading image")},ze._options.imageTimeout)})];case 3:return[2,ct.sent()]}})})},F.prototype.has=function(E){return typeof this._cache[E]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(E){var U=this,H=this._options.proxy;if(!H)throw new Error("No proxy defined");var we=E.substring(0,256);return new Promise(function(Fe,ze){var ct=uo.SUPPORT_RESPONSE_TYPE?"blob":"text",lt=new XMLHttpRequest;lt.onload=function(){if(lt.status===200)if(ct==="text")Fe(lt.response);else{var tr=new FileReader;tr.addEventListener("load",function(){return Fe(tr.result)},!1),tr.addEventListener("error",function(jr){return ze(jr)},!1),tr.readAsDataURL(lt.response)}else ze("Failed to proxy resource "+we+" with status code "+lt.status)},lt.onerror=ze;var Rt=H.indexOf("?")>-1?"&":"?";if(lt.open("GET",""+H+Rt+"url="+encodeURIComponent(E)+"&responseType="+ct),ct!=="text"&&lt instanceof XMLHttpRequest&&(lt.responseType=ct),U._options.imageTimeout){var Ht=U._options.imageTimeout;lt.timeout=Ht,lt.ontimeout=function(){return ze("Timed out ("+Ht+"ms) proxying "+we)}}lt.send()})},F})(),mi=/^data:image\/svg\+xml/i,$s=/^data:image\/.*;base64,/i,$i=/^data:image\/.*/i,hs=function(F){return uo.SUPPORT_SVG_DRAWING||!rs(F)},uc=function(F){return $i.test(F)},Vi=function(F){return $s.test(F)},xl=function(F){return F.substr(0,4)==="blob"},rs=function(F){return F.substr(-3).toLowerCase()==="svg"||mi.test(F)},tn=(function(){function F(E,U){this.type=0,this.x=E,this.y=U}return F.prototype.add=function(E,U){return new F(this.x+E,this.y+U)},F})(),Lo=function(F,E,U){return new tn(F.x+(E.x-F.x)*U,F.y+(E.y-F.y)*U)},Uo=(function(){function F(E,U,H,we){this.type=1,this.start=E,this.startControl=U,this.endControl=H,this.end=we}return F.prototype.subdivide=function(E,U){var H=Lo(this.start,this.startControl,E),we=Lo(this.startControl,this.endControl,E),Fe=Lo(this.endControl,this.end,E),ze=Lo(H,we,E),ct=Lo(we,Fe,E),lt=Lo(ze,ct,E);return U?new F(this.start,H,ze,lt):new F(lt,ct,Fe,this.end)},F.prototype.add=function(E,U){return new F(this.start.add(E,U),this.startControl.add(E,U),this.endControl.add(E,U),this.end.add(E,U))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),Ms=function(F){return F.type===1},yl=(function(){function F(E){var U=E.styles,H=E.bounds,we=On(U.borderTopLeftRadius,H.width,H.height),Fe=we[0],ze=we[1],ct=On(U.borderTopRightRadius,H.width,H.height),lt=ct[0],Rt=ct[1],Ht=On(U.borderBottomRightRadius,H.width,H.height),tr=Ht[0],jr=Ht[1],bn=On(U.borderBottomLeftRadius,H.width,H.height),nn=bn[0],vn=bn[1],Za=[];Za.push((Fe+lt)/H.width),Za.push((nn+tr)/H.width),Za.push((ze+vn)/H.height),Za.push((Rt+jr)/H.height);var Yn=Math.max.apply(Math,Za);Yn>1&&(Fe/=Yn,ze/=Yn,lt/=Yn,Rt/=Yn,tr/=Yn,jr/=Yn,nn/=Yn,vn/=Yn);var Vn=H.width-lt,Ki=H.height-jr,ii=H.width-tr,Ha=H.height-vn,Tn=U.borderTopWidth,Oi=U.borderRightWidth,bi=U.borderBottomWidth,Da=U.borderLeftWidth,Ho=wa(U.paddingTop,E.bounds.width),hc=wa(U.paddingRight,E.bounds.width),hu=wa(U.paddingBottom,E.bounds.width),As=wa(U.paddingLeft,E.bounds.width);this.topLeftBorderDoubleOuterBox=Fe>0||ze>0?Fa(H.left+Da/3,H.top+Tn/3,Fe-Da/3,ze-Tn/3,Ua.TOP_LEFT):new tn(H.left+Da/3,H.top+Tn/3),this.topRightBorderDoubleOuterBox=Fe>0||ze>0?Fa(H.left+Vn,H.top+Tn/3,lt-Oi/3,Rt-Tn/3,Ua.TOP_RIGHT):new tn(H.left+H.width-Oi/3,H.top+Tn/3),this.bottomRightBorderDoubleOuterBox=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr-Oi/3,jr-bi/3,Ua.BOTTOM_RIGHT):new tn(H.left+H.width-Oi/3,H.top+H.height-bi/3),this.bottomLeftBorderDoubleOuterBox=nn>0||vn>0?Fa(H.left+Da/3,H.top+Ha,nn-Da/3,vn-bi/3,Ua.BOTTOM_LEFT):new tn(H.left+Da/3,H.top+H.height-bi/3),this.topLeftBorderDoubleInnerBox=Fe>0||ze>0?Fa(H.left+Da*2/3,H.top+Tn*2/3,Fe-Da*2/3,ze-Tn*2/3,Ua.TOP_LEFT):new tn(H.left+Da*2/3,H.top+Tn*2/3),this.topRightBorderDoubleInnerBox=Fe>0||ze>0?Fa(H.left+Vn,H.top+Tn*2/3,lt-Oi*2/3,Rt-Tn*2/3,Ua.TOP_RIGHT):new tn(H.left+H.width-Oi*2/3,H.top+Tn*2/3),this.bottomRightBorderDoubleInnerBox=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr-Oi*2/3,jr-bi*2/3,Ua.BOTTOM_RIGHT):new tn(H.left+H.width-Oi*2/3,H.top+H.height-bi*2/3),this.bottomLeftBorderDoubleInnerBox=nn>0||vn>0?Fa(H.left+Da*2/3,H.top+Ha,nn-Da*2/3,vn-bi*2/3,Ua.BOTTOM_LEFT):new tn(H.left+Da*2/3,H.top+H.height-bi*2/3),this.topLeftBorderStroke=Fe>0||ze>0?Fa(H.left+Da/2,H.top+Tn/2,Fe-Da/2,ze-Tn/2,Ua.TOP_LEFT):new tn(H.left+Da/2,H.top+Tn/2),this.topRightBorderStroke=Fe>0||ze>0?Fa(H.left+Vn,H.top+Tn/2,lt-Oi/2,Rt-Tn/2,Ua.TOP_RIGHT):new tn(H.left+H.width-Oi/2,H.top+Tn/2),this.bottomRightBorderStroke=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr-Oi/2,jr-bi/2,Ua.BOTTOM_RIGHT):new tn(H.left+H.width-Oi/2,H.top+H.height-bi/2),this.bottomLeftBorderStroke=nn>0||vn>0?Fa(H.left+Da/2,H.top+Ha,nn-Da/2,vn-bi/2,Ua.BOTTOM_LEFT):new tn(H.left+Da/2,H.top+H.height-bi/2),this.topLeftBorderBox=Fe>0||ze>0?Fa(H.left,H.top,Fe,ze,Ua.TOP_LEFT):new tn(H.left,H.top),this.topRightBorderBox=lt>0||Rt>0?Fa(H.left+Vn,H.top,lt,Rt,Ua.TOP_RIGHT):new tn(H.left+H.width,H.top),this.bottomRightBorderBox=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr,jr,Ua.BOTTOM_RIGHT):new tn(H.left+H.width,H.top+H.height),this.bottomLeftBorderBox=nn>0||vn>0?Fa(H.left,H.top+Ha,nn,vn,Ua.BOTTOM_LEFT):new tn(H.left,H.top+H.height),this.topLeftPaddingBox=Fe>0||ze>0?Fa(H.left+Da,H.top+Tn,Math.max(0,Fe-Da),Math.max(0,ze-Tn),Ua.TOP_LEFT):new tn(H.left+Da,H.top+Tn),this.topRightPaddingBox=lt>0||Rt>0?Fa(H.left+Math.min(Vn,H.width-Oi),H.top+Tn,Vn>H.width+Oi?0:Math.max(0,lt-Oi),Math.max(0,Rt-Tn),Ua.TOP_RIGHT):new tn(H.left+H.width-Oi,H.top+Tn),this.bottomRightPaddingBox=tr>0||jr>0?Fa(H.left+Math.min(ii,H.width-Da),H.top+Math.min(Ki,H.height-bi),Math.max(0,tr-Oi),Math.max(0,jr-bi),Ua.BOTTOM_RIGHT):new tn(H.left+H.width-Oi,H.top+H.height-bi),this.bottomLeftPaddingBox=nn>0||vn>0?Fa(H.left+Da,H.top+Math.min(Ha,H.height-bi),Math.max(0,nn-Da),Math.max(0,vn-bi),Ua.BOTTOM_LEFT):new tn(H.left+Da,H.top+H.height-bi),this.topLeftContentBox=Fe>0||ze>0?Fa(H.left+Da+As,H.top+Tn+Ho,Math.max(0,Fe-(Da+As)),Math.max(0,ze-(Tn+Ho)),Ua.TOP_LEFT):new tn(H.left+Da+As,H.top+Tn+Ho),this.topRightContentBox=lt>0||Rt>0?Fa(H.left+Math.min(Vn,H.width+Da+As),H.top+Tn+Ho,Vn>H.width+Da+As?0:lt-Da+As,Rt-(Tn+Ho),Ua.TOP_RIGHT):new tn(H.left+H.width-(Oi+hc),H.top+Tn+Ho),this.bottomRightContentBox=tr>0||jr>0?Fa(H.left+Math.min(ii,H.width-(Da+As)),H.top+Math.min(Ki,H.height+Tn+Ho),Math.max(0,tr-(Oi+hc)),jr-(bi+hu),Ua.BOTTOM_RIGHT):new tn(H.left+H.width-(Oi+hc),H.top+H.height-(bi+hu)),this.bottomLeftContentBox=nn>0||vn>0?Fa(H.left+Da+As,H.top+Ha,Math.max(0,nn-(Da+As)),vn-(bi+hu),Ua.BOTTOM_LEFT):new tn(H.left+Da+As,H.top+H.height-(bi+hu))}return F})(),Ua;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ua||(Ua={}));var Fa=function(F,E,U,H,we){var Fe=4*((Math.sqrt(2)-1)/3),ze=U*Fe,ct=H*Fe,lt=F+U,Rt=E+H;switch(we){case Ua.TOP_LEFT:return new Uo(new tn(F,Rt),new tn(F,Rt-ct),new tn(lt-ze,E),new tn(lt,E));case Ua.TOP_RIGHT:return new Uo(new tn(F,E),new tn(F+ze,E),new tn(lt,Rt-ct),new tn(lt,Rt));case Ua.BOTTOM_RIGHT:return new Uo(new tn(lt,E),new tn(lt,E+ct),new tn(F+ze,Rt),new tn(F,Rt));case Ua.BOTTOM_LEFT:default:return new Uo(new tn(lt,Rt),new tn(lt-ze,Rt),new tn(F,E+ct),new tn(F,E))}},Xn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},zi=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},_i=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},Vs=(function(){function F(E,U,H){this.offsetX=E,this.offsetY=U,this.matrix=H,this.type=0,this.target=6}return F})(),Rs=(function(){function F(E,U){this.path=E,this.target=U,this.type=1}return F})(),Js=(function(){function F(E){this.opacity=E,this.type=2,this.target=6}return F})(),eo=function(F){return F.type===0},Nd=function(F){return F.type===1},_u=function(F){return F.type===2},Gu=function(F,E){return F.length===E.length?F.some(function(U,H){return U===E[H]}):!1},Sf=function(F,E,U,H,we){return F.map(function(Fe,ze){switch(ze){case 0:return Fe.add(E,U);case 1:return Fe.add(E+H,U);case 2:return Fe.add(E+H,U+we);case 3:return Fe.add(E,U+we)}return Fe})},xh=(function(){function F(E){this.element=E,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),ll=(function(){function F(E,U){if(this.container=E,this.parent=U,this.effects=[],this.curves=new yl(this.container),this.container.styles.opacity<1&&this.effects.push(new Js(this.container.styles.opacity)),this.container.styles.transform!==null){var H=this.container.bounds.left+this.container.styles.transformOrigin[0].number,we=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Fe=this.container.styles.transform;this.effects.push(new Vs(H,we,Fe))}if(this.container.styles.overflowX!==0){var ze=Xn(this.curves),ct=_i(this.curves);Gu(ze,ct)?this.effects.push(new Rs(ze,6)):(this.effects.push(new Rs(ze,2)),this.effects.push(new Rs(ct,4)))}}return F.prototype.getEffects=function(E){for(var U=[2,3].indexOf(this.container.styles.position)===-1,H=this.parent,we=this.effects.slice(0);H;){var Fe=H.effects.filter(function(lt){return!Nd(lt)});if(U||H.container.styles.position!==0||!H.parent){if(we.unshift.apply(we,Fe),U=[2,3].indexOf(H.container.styles.position)===-1,H.container.styles.overflowX!==0){var ze=Xn(H.curves),ct=_i(H.curves);Gu(ze,ct)||we.unshift(new Rs(ct,6))}}else we.unshift.apply(we,Fe);H=H.parent}return we.filter(function(lt){return T(lt.target,E)})},F})(),Kc=function(F,E,U,H){F.container.elements.forEach(function(we){var Fe=T(we.flags,4),ze=T(we.flags,2),ct=new ll(we,F);T(we.styles.display,2048)&&H.push(ct);var lt=T(we.flags,8)?[]:H;if(Fe||ze){var Rt=Fe||we.styles.isPositioned()?U:E,Ht=new xh(ct);if(we.styles.isPositioned()||we.styles.opacity<1||we.styles.isTransformed()){var tr=we.styles.zIndex.order;if(tr<0){var jr=0;Rt.negativeZIndex.some(function(nn,vn){return tr>nn.element.container.styles.zIndex.order?(jr=vn,!1):jr>0}),Rt.negativeZIndex.splice(jr,0,Ht)}else if(tr>0){var bn=0;Rt.positiveZIndex.some(function(nn,vn){return tr>=nn.element.container.styles.zIndex.order?(bn=vn+1,!1):bn>0}),Rt.positiveZIndex.splice(bn,0,Ht)}else Rt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ht)}else we.styles.isFloating()?Rt.nonPositionedFloats.push(Ht):Rt.nonPositionedInlineLevel.push(Ht);Kc(ct,Ht,Fe?Ht:U,lt)}else we.styles.isInlineLevel()?E.inlineLevel.push(ct):E.nonInlineLevel.push(ct),Kc(ct,E,U,lt);T(we.flags,8)&&Zd(we,lt)})},Zd=function(F,E){for(var U=F instanceof BA?F.start:1,H=F instanceof BA?F.reversed:!1,we=0;we<E.length;we++){var Fe=E[we];Fe.container instanceof qd&&typeof Fe.container.value=="number"&&Fe.container.value!==0&&(U=Fe.container.value),Fe.listValue=Rr(U,Fe.container.styles.listStyleType,!0),U+=H?-1:1}},qu=function(F){var E=new ll(F,null),U=new xh(E),H=[];return Kc(E,U,U,H),Zd(E.container,H),U},Yh=function(F,E){switch(E){case 0:return Yo(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return Yo(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return Yo(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return Yo(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},PA=function(F,E){switch(E){case 0:return Yo(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return Yo(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return Yo(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return Yo(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},du=function(F,E){switch(E){case 0:return Yo(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return Yo(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return Yo(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return Yo(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},Zh=function(F,E){switch(E){case 0:return Gc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return Gc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return Gc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return Gc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},Gc=function(F,E){var U=[];return Ms(F)?U.push(F.subdivide(.5,!1)):U.push(F),Ms(E)?U.push(E.subdivide(.5,!0)):U.push(E),U},Yo=function(F,E,U,H){var we=[];return Ms(F)?we.push(F.subdivide(.5,!1)):we.push(F),Ms(U)?we.push(U.subdivide(.5,!0)):we.push(U),Ms(H)?we.push(H.subdivide(.5,!0).reverse()):we.push(H),Ms(E)?we.push(E.subdivide(.5,!1).reverse()):we.push(E),we},Sd=function(F){var E=F.bounds,U=F.styles;return E.add(U.borderLeftWidth,U.borderTopWidth,-(U.borderRightWidth+U.borderLeftWidth),-(U.borderTopWidth+U.borderBottomWidth))},Ou=function(F){var E=F.styles,U=F.bounds,H=wa(E.paddingLeft,U.width),we=wa(E.paddingRight,U.width),Fe=wa(E.paddingTop,U.width),ze=wa(E.paddingBottom,U.width);return U.add(H+E.borderLeftWidth,Fe+E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth+H+we),-(E.borderTopWidth+E.borderBottomWidth+Fe+ze))},Jh=function(F,E){return F===0?E.bounds:F===2?Ou(E):Sd(E)},FA=function(F,E){return F===0?E.bounds:F===2?Ou(E):Sd(E)},No=function(F,E,U){var H=Jh(Bd(F.styles.backgroundOrigin,E),F),we=FA(Bd(F.styles.backgroundClip,E),F),Fe=Ao(Bd(F.styles.backgroundSize,E),U,H),ze=Fe[0],ct=Fe[1],lt=On(Bd(F.styles.backgroundPosition,E),H.width-ze,H.height-ct),Rt=DA(Bd(F.styles.backgroundRepeat,E),lt,Fe,H,we),Ht=Math.round(H.left+lt[0]),tr=Math.round(H.top+lt[1]);return[Rt,Ht,tr,ze,ct]},dc=function(F){return un(F)&&F.value===ya.AUTO},bl=function(F){return typeof F=="number"},Ao=function(F,E,U){var H=E[0],we=E[1],Fe=E[2],ze=F[0],ct=F[1];if(!ze)return[0,0];if(Fn(ze)&&ct&&Fn(ct))return[wa(ze,U.width),wa(ct,U.height)];var lt=bl(Fe);if(un(ze)&&(ze.value===ya.CONTAIN||ze.value===ya.COVER)){if(bl(Fe)){var Rt=U.width/U.height;return Rt<Fe!=(ze.value===ya.COVER)?[U.width,U.width/Fe]:[U.height*Fe,U.height]}return[U.width,U.height]}var Ht=bl(H),tr=bl(we),jr=Ht||tr;if(dc(ze)&&(!ct||dc(ct))){if(Ht&&tr)return[H,we];if(!lt&&!jr)return[U.width,U.height];if(jr&&lt){var bn=Ht?H:we*Fe,nn=tr?we:H/Fe;return[bn,nn]}var vn=Ht?H:U.width,Za=tr?we:U.height;return[vn,Za]}if(lt){var Yn=0,Vn=0;return Fn(ze)?Yn=wa(ze,U.width):Fn(ct)&&(Vn=wa(ct,U.height)),dc(ze)?Yn=Vn*Fe:(!ct||dc(ct))&&(Vn=Yn/Fe),[Yn,Vn]}var Ki=null,ii=null;if(Fn(ze)?Ki=wa(ze,U.width):ct&&Fn(ct)&&(ii=wa(ct,U.height)),Ki!==null&&(!ct||dc(ct))&&(ii=Ht&&tr?Ki/H*we:U.height),ii!==null&&dc(ze)&&(Ki=Ht&&tr?ii/we*H:U.width),Ki!==null&&ii!==null)return[Ki,ii];throw new Error("Unable to calculate background-size for element")},Bd=function(F,E){var U=F[E];return typeof U>"u"?F[0]:U},DA=function(F,E,U,H,we){var Fe=E[0],ze=E[1],ct=U[0],lt=U[1];switch(F){case 2:return[new tn(Math.round(H.left),Math.round(H.top+ze)),new tn(Math.round(H.left+H.width),Math.round(H.top+ze)),new tn(Math.round(H.left+H.width),Math.round(lt+H.top+ze)),new tn(Math.round(H.left),Math.round(lt+H.top+ze))];case 3:return[new tn(Math.round(H.left+Fe),Math.round(H.top)),new tn(Math.round(H.left+Fe+ct),Math.round(H.top)),new tn(Math.round(H.left+Fe+ct),Math.round(H.height+H.top)),new tn(Math.round(H.left+Fe),Math.round(H.height+H.top))];case 1:return[new tn(Math.round(H.left+Fe),Math.round(H.top+ze)),new tn(Math.round(H.left+Fe+ct),Math.round(H.top+ze)),new tn(Math.round(H.left+Fe+ct),Math.round(H.top+ze+lt)),new tn(Math.round(H.left+Fe),Math.round(H.top+ze+lt))];default:return[new tn(Math.round(we.left),Math.round(we.top)),new tn(Math.round(we.left+we.width),Math.round(we.top)),new tn(Math.round(we.left+we.width),Math.round(we.height+we.top)),new tn(Math.round(we.left),Math.round(we.height+we.top))]}},Bf="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ef="Hidden Text",kc=(function(){function F(E){this._data={},this._document=E}return F.prototype.parseMetrics=function(E,U){var H=this._document.createElement("div"),we=this._document.createElement("img"),Fe=this._document.createElement("span"),ze=this._document.body;H.style.visibility="hidden",H.style.fontFamily=E,H.style.fontSize=U,H.style.margin="0",H.style.padding="0",H.style.whiteSpace="nowrap",ze.appendChild(H),we.src=Bf,we.width=1,we.height=1,we.style.margin="0",we.style.padding="0",we.style.verticalAlign="baseline",Fe.style.fontFamily=E,Fe.style.fontSize=U,Fe.style.margin="0",Fe.style.padding="0",Fe.appendChild(this._document.createTextNode(Ef)),H.appendChild(Fe),H.appendChild(we);var ct=we.offsetTop-Fe.offsetTop+2;H.removeChild(Fe),H.appendChild(this._document.createTextNode(Ef)),H.style.lineHeight="normal",we.style.verticalAlign="super";var lt=we.offsetTop-H.offsetTop+2;return ze.removeChild(H),{baseline:ct,middle:lt}},F.prototype.getMetrics=function(E,U){var H=E+" "+U;return typeof this._data[H]>"u"&&(this._data[H]=this.parseMetrics(E,U)),this._data[H]},F})(),If=(function(){function F(E,U){this.context=E,this.options=U}return F})(),MA=1e4,Jd=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we._activeEffects=[],we.canvas=H.canvas?H.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),H.canvas||(we.canvas.width=Math.floor(H.width*H.scale),we.canvas.height=Math.floor(H.height*H.scale),we.canvas.style.width=H.width+"px",we.canvas.style.height=H.height+"px"),we.fontMetrics=new kc(document),we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-H.x,-H.y),we.ctx.textBaseline="bottom",we._activeEffects=[],we.context.logger.debug("Canvas renderer initialized ("+H.width+"x"+H.height+") with scale "+H.scale),we}return E.prototype.applyEffects=function(U){for(var H=this;this._activeEffects.length;)this.popEffect();U.forEach(function(we){return H.applyEffect(we)})},E.prototype.applyEffect=function(U){this.ctx.save(),_u(U)&&(this.ctx.globalAlpha=U.opacity),eo(U)&&(this.ctx.translate(U.offsetX,U.offsetY),this.ctx.transform(U.matrix[0],U.matrix[1],U.matrix[2],U.matrix[3],U.matrix[4],U.matrix[5]),this.ctx.translate(-U.offsetX,-U.offsetY)),Nd(U)&&(this.path(U.path),this.ctx.clip()),this._activeEffects.push(U)},E.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},E.prototype.renderStack=function(U){return s(this,void 0,void 0,function(){var H;return c(this,function(we){switch(we.label){case 0:return H=U.element.container.styles,H.isVisible()?[4,this.renderStackContent(U)]:[3,2];case 1:we.sent(),we.label=2;case 2:return[2]}})})},E.prototype.renderNode=function(U){return s(this,void 0,void 0,function(){return c(this,function(H){switch(H.label){case 0:if(T(U.container.flags,16))debugger;return U.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(U)]:[3,3];case 1:return H.sent(),[4,this.renderNodeContent(U)];case 2:H.sent(),H.label=3;case 3:return[2]}})})},E.prototype.renderTextWithLetterSpacing=function(U,H,we){var Fe=this;if(H===0)this.ctx.fillText(U.text,U.bounds.left,U.bounds.top+we);else{var ze=Tu(U.text);ze.reduce(function(ct,lt){return Fe.ctx.fillText(lt,ct,U.bounds.top+we),ct+Fe.ctx.measureText(lt).width},U.bounds.left)}},E.prototype.createFontStyle=function(U){var H=U.fontVariant.filter(function(ze){return ze==="normal"||ze==="small-caps"}).join(""),we=bh(U.fontFamily).join(", "),Fe=hn(U.fontSize)?""+U.fontSize.number+U.fontSize.unit:U.fontSize.number+"px";return[[U.fontStyle,H,U.fontWeight,Fe,we].join(" "),we,Fe]},E.prototype.renderTextNode=function(U,H){return s(this,void 0,void 0,function(){var we,Fe,ze,ct,lt,Rt,Ht,tr,jr=this;return c(this,function(bn){return we=this.createFontStyle(H),Fe=we[0],ze=we[1],ct=we[2],this.ctx.font=Fe,this.ctx.direction=H.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",lt=this.fontMetrics.getMetrics(ze,ct),Rt=lt.baseline,Ht=lt.middle,tr=H.paintOrder,U.textBounds.forEach(function(nn){tr.forEach(function(vn){switch(vn){case 0:jr.ctx.fillStyle=En(H.color),jr.renderTextWithLetterSpacing(nn,H.letterSpacing,Rt);var Za=H.textShadow;Za.length&&nn.text.trim().length&&(Za.slice(0).reverse().forEach(function(Yn){jr.ctx.shadowColor=En(Yn.color),jr.ctx.shadowOffsetX=Yn.offsetX.number*jr.options.scale,jr.ctx.shadowOffsetY=Yn.offsetY.number*jr.options.scale,jr.ctx.shadowBlur=Yn.blur.number,jr.renderTextWithLetterSpacing(nn,H.letterSpacing,Rt)}),jr.ctx.shadowColor="",jr.ctx.shadowOffsetX=0,jr.ctx.shadowOffsetY=0,jr.ctx.shadowBlur=0),H.textDecorationLine.length&&(jr.ctx.fillStyle=En(H.textDecorationColor||H.color),H.textDecorationLine.forEach(function(Yn){switch(Yn){case 1:jr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top+Rt),nn.bounds.width,1);break;case 2:jr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top),nn.bounds.width,1);break;case 3:jr.ctx.fillRect(nn.bounds.left,Math.ceil(nn.bounds.top+Ht),nn.bounds.width,1);break}}));break;case 1:H.webkitTextStrokeWidth&&nn.text.trim().length&&(jr.ctx.strokeStyle=En(H.webkitTextStrokeColor),jr.ctx.lineWidth=H.webkitTextStrokeWidth,jr.ctx.lineJoin=window.chrome?"miter":"round",jr.ctx.strokeText(nn.text,nn.bounds.left,nn.bounds.top+Rt)),jr.ctx.strokeStyle="",jr.ctx.lineWidth=0,jr.ctx.lineJoin="miter";break}})}),[2]})})},E.prototype.renderReplacedElement=function(U,H,we){if(we&&U.intrinsicWidth>0&&U.intrinsicHeight>0){var Fe=Ou(U),ze=_i(H);this.path(ze),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(we,0,0,U.intrinsicWidth,U.intrinsicHeight,Fe.left,Fe.top,Fe.width,Fe.height),this.ctx.restore()}},E.prototype.renderNodeContent=function(U){return s(this,void 0,void 0,function(){var H,we,Fe,ze,ct,lt,Vn,Vn,Rt,Ht,tr,jr,ii,bn,nn,Ha,vn,Za,Yn,Vn,Ki,ii,Ha;return c(this,function(Tn){switch(Tn.label){case 0:this.applyEffects(U.getEffects(4)),H=U.container,we=U.curves,Fe=H.styles,ze=0,ct=H.textNodes,Tn.label=1;case 1:return ze<ct.length?(lt=ct[ze],[4,this.renderTextNode(lt,Fe)]):[3,4];case 2:Tn.sent(),Tn.label=3;case 3:return ze++,[3,1];case 4:if(!(H instanceof gf))return[3,8];Tn.label=5;case 5:return Tn.trys.push([5,7,,8]),[4,this.context.cache.match(H.src)];case 6:return Vn=Tn.sent(),this.renderReplacedElement(H,we,Vn),[3,8];case 7:return Tn.sent(),this.context.logger.error("Error loading image "+H.src),[3,8];case 8:if(H instanceof mh&&this.renderReplacedElement(H,we,H.canvas),!(H instanceof zh))return[3,12];Tn.label=9;case 9:return Tn.trys.push([9,11,,12]),[4,this.context.cache.match(H.svg)];case 10:return Vn=Tn.sent(),this.renderReplacedElement(H,we,Vn),[3,12];case 11:return Tn.sent(),this.context.logger.error("Error loading svg "+H.svg.substring(0,255)),[3,12];case 12:return H instanceof Ro&&H.tree?(Rt=new E(this.context,{scale:this.options.scale,backgroundColor:H.backgroundColor,x:0,y:0,width:H.width,height:H.height}),[4,Rt.render(H.tree)]):[3,14];case 13:Ht=Tn.sent(),H.width&&H.height&&this.ctx.drawImage(Ht,0,0,H.width,H.height,H.bounds.left,H.bounds.top,H.bounds.width,H.bounds.height),Tn.label=14;case 14:if(H instanceof uu&&(tr=Math.min(H.bounds.width,H.bounds.height),H.type===Kh?H.checked&&(this.ctx.save(),this.path([new tn(H.bounds.left+tr*.39363,H.bounds.top+tr*.79),new tn(H.bounds.left+tr*.16,H.bounds.top+tr*.5549),new tn(H.bounds.left+tr*.27347,H.bounds.top+tr*.44071),new tn(H.bounds.left+tr*.39694,H.bounds.top+tr*.5649),new tn(H.bounds.left+tr*.72983,H.bounds.top+tr*.23),new tn(H.bounds.left+tr*.84,H.bounds.top+tr*.34085),new tn(H.bounds.left+tr*.39363,H.bounds.top+tr*.79)]),this.ctx.fillStyle=En(Ml),this.ctx.fill(),this.ctx.restore()):H.type===Gh&&H.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(H.bounds.left+tr/2,H.bounds.top+tr/2,tr/4,0,Math.PI*2,!0),this.ctx.fillStyle=En(Ml),this.ctx.fill(),this.ctx.restore())),RA(H)&&H.value.length){switch(jr=this.createFontStyle(Fe),ii=jr[0],bn=jr[1],nn=this.fontMetrics.getMetrics(ii,bn).baseline,this.ctx.font=ii,this.ctx.fillStyle=En(Fe.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=yh(H.styles.textAlign),Ha=Ou(H),vn=0,H.styles.textAlign){case 1:vn+=Ha.width/2;break;case 2:vn+=Ha.width;break}Za=Ha.add(vn,0,0,-Ha.height/2+1),this.ctx.save(),this.path([new tn(Ha.left,Ha.top),new tn(Ha.left+Ha.width,Ha.top),new tn(Ha.left+Ha.width,Ha.top+Ha.height),new tn(Ha.left,Ha.top+Ha.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new bd(H.value,Za),Fe.letterSpacing,nn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!T(H.styles.display,2048))return[3,20];if(H.styles.listStyleImage===null)return[3,19];if(Yn=H.styles.listStyleImage,Yn.type!==0)return[3,18];Vn=void 0,Ki=Yn.url,Tn.label=15;case 15:return Tn.trys.push([15,17,,18]),[4,this.context.cache.match(Ki)];case 16:return Vn=Tn.sent(),this.ctx.drawImage(Vn,H.bounds.left-(Vn.width+10),H.bounds.top),[3,18];case 17:return Tn.sent(),this.context.logger.error("Error loading list-style-image "+Ki),[3,18];case 18:return[3,20];case 19:U.listValue&&H.styles.listStyleType!==-1&&(ii=this.createFontStyle(Fe)[0],this.ctx.font=ii,this.ctx.fillStyle=En(Fe.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ha=new u(H.bounds.left,H.bounds.top+wa(H.styles.paddingTop,H.bounds.width),H.bounds.width,rc(Fe.lineHeight,Fe.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new bd(U.listValue,Ha),Fe.letterSpacing,rc(Fe.lineHeight,Fe.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Tn.label=20;case 20:return[2]}})})},E.prototype.renderStackContent=function(U){return s(this,void 0,void 0,function(){var H,we,Yn,Fe,ze,Yn,ct,lt,Yn,Rt,Ht,Yn,tr,jr,Yn,bn,nn,Yn,vn,Za,Yn;return c(this,function(Vn){switch(Vn.label){case 0:if(T(U.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(U.element)];case 1:Vn.sent(),H=0,we=U.negativeZIndex,Vn.label=2;case 2:return H<we.length?(Yn=we[H],[4,this.renderStack(Yn)]):[3,5];case 3:Vn.sent(),Vn.label=4;case 4:return H++,[3,2];case 5:return[4,this.renderNodeContent(U.element)];case 6:Vn.sent(),Fe=0,ze=U.nonInlineLevel,Vn.label=7;case 7:return Fe<ze.length?(Yn=ze[Fe],[4,this.renderNode(Yn)]):[3,10];case 8:Vn.sent(),Vn.label=9;case 9:return Fe++,[3,7];case 10:ct=0,lt=U.nonPositionedFloats,Vn.label=11;case 11:return ct<lt.length?(Yn=lt[ct],[4,this.renderStack(Yn)]):[3,14];case 12:Vn.sent(),Vn.label=13;case 13:return ct++,[3,11];case 14:Rt=0,Ht=U.nonPositionedInlineLevel,Vn.label=15;case 15:return Rt<Ht.length?(Yn=Ht[Rt],[4,this.renderStack(Yn)]):[3,18];case 16:Vn.sent(),Vn.label=17;case 17:return Rt++,[3,15];case 18:tr=0,jr=U.inlineLevel,Vn.label=19;case 19:return tr<jr.length?(Yn=jr[tr],[4,this.renderNode(Yn)]):[3,22];case 20:Vn.sent(),Vn.label=21;case 21:return tr++,[3,19];case 22:bn=0,nn=U.zeroOrAutoZIndexOrTransformedOrOpacity,Vn.label=23;case 23:return bn<nn.length?(Yn=nn[bn],[4,this.renderStack(Yn)]):[3,26];case 24:Vn.sent(),Vn.label=25;case 25:return bn++,[3,23];case 26:vn=0,Za=U.positiveZIndex,Vn.label=27;case 27:return vn<Za.length?(Yn=Za[vn],[4,this.renderStack(Yn)]):[3,30];case 28:Vn.sent(),Vn.label=29;case 29:return vn++,[3,27];case 30:return[2]}})})},E.prototype.mask=function(U){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(U.slice(0).reverse()),this.ctx.closePath()},E.prototype.path=function(U){this.ctx.beginPath(),this.formatPath(U),this.ctx.closePath()},E.prototype.formatPath=function(U){var H=this;U.forEach(function(we,Fe){var ze=Ms(we)?we.start:we;Fe===0?H.ctx.moveTo(ze.x,ze.y):H.ctx.lineTo(ze.x,ze.y),Ms(we)&&H.ctx.bezierCurveTo(we.startControl.x,we.startControl.y,we.endControl.x,we.endControl.y,we.end.x,we.end.y)})},E.prototype.renderRepeat=function(U,H,we,Fe){this.path(U),this.ctx.fillStyle=H,this.ctx.translate(we,Fe),this.ctx.fill(),this.ctx.translate(-we,-Fe)},E.prototype.resizeImage=function(U,H,we){var Fe;if(U.width===H&&U.height===we)return U;var ze=(Fe=this.canvas.ownerDocument)!==null&&Fe!==void 0?Fe:document,ct=ze.createElement("canvas");ct.width=Math.max(1,H),ct.height=Math.max(1,we);var lt=ct.getContext("2d");return lt.drawImage(U,0,0,U.width,U.height,0,0,H,we),ct},E.prototype.renderBackgroundImage=function(U){return s(this,void 0,void 0,function(){var H,we,Fe,ze,ct,lt;return c(this,function(Rt){switch(Rt.label){case 0:H=U.styles.backgroundImage.length-1,we=function(Ht){var tr,jr,bn,Ho,Ac,Ll,As,cl,bi,nn,Ho,Ac,Ll,As,cl,vn,Za,Yn,Vn,Ki,ii,Ha,Tn,Oi,bi,Da,Ho,hc,hu,As,cl,Xu,Ac,Ll,wh,_d,Yu,tA,Zu,th,Od,p;return c(this,function(v){switch(v.label){case 0:if(Ht.type!==0)return[3,5];tr=void 0,jr=Ht.url,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Fe.context.cache.match(jr)];case 2:return tr=v.sent(),[3,4];case 3:return v.sent(),Fe.context.logger.error("Error loading background-image "+jr),[3,4];case 4:return tr&&(bn=No(U,H,[tr.width,tr.height,tr.width/tr.height]),Ho=bn[0],Ac=bn[1],Ll=bn[2],As=bn[3],cl=bn[4],bi=Fe.ctx.createPattern(Fe.resizeImage(tr,As,cl),"repeat"),Fe.renderRepeat(Ho,bi,Ac,Ll)),[3,6];case 5:Vo(Ht)?(nn=No(U,H,[null,null,null]),Ho=nn[0],Ac=nn[1],Ll=nn[2],As=nn[3],cl=nn[4],vn=tu(Ht.angle,As,cl),Za=vn[0],Yn=vn[1],Vn=vn[2],Ki=vn[3],ii=vn[4],Ha=document.createElement("canvas"),Ha.width=As,Ha.height=cl,Tn=Ha.getContext("2d"),Oi=Tn.createLinearGradient(Yn,Ki,Vn,ii),Es(Ht.stops,Za).forEach(function(C){return Oi.addColorStop(C.stop,En(C.color))}),Tn.fillStyle=Oi,Tn.fillRect(0,0,As,cl),As>0&&cl>0&&(bi=Fe.ctx.createPattern(Ha,"repeat"),Fe.renderRepeat(Ho,bi,Ac,Ll))):nu(Ht)&&(Da=No(U,H,[null,null,null]),Ho=Da[0],hc=Da[1],hu=Da[2],As=Da[3],cl=Da[4],Xu=Ht.position.length===0?[_n]:Ht.position,Ac=wa(Xu[0],As),Ll=wa(Xu[Xu.length-1],cl),wh=Nc(Ht,Ac,Ll,As,cl),_d=wh[0],Yu=wh[1],_d>0&&Yu>0&&(tA=Fe.ctx.createRadialGradient(hc+Ac,hu+Ll,0,hc+Ac,hu+Ll,_d),Es(Ht.stops,_d*2).forEach(function(C){return tA.addColorStop(C.stop,En(C.color))}),Fe.path(Ho),Fe.ctx.fillStyle=tA,_d!==Yu?(Zu=U.bounds.left+.5*U.bounds.width,th=U.bounds.top+.5*U.bounds.height,Od=Yu/_d,p=1/Od,Fe.ctx.save(),Fe.ctx.translate(Zu,th),Fe.ctx.transform(1,0,0,Od,0,0),Fe.ctx.translate(-Zu,-th),Fe.ctx.fillRect(hc,p*(hu-th)+th,As,cl*p),Fe.ctx.restore()):Fe.ctx.fill())),v.label=6;case 6:return H--,[2]}})},Fe=this,ze=0,ct=U.styles.backgroundImage.slice(0).reverse(),Rt.label=1;case 1:return ze<ct.length?(lt=ct[ze],[5,we(lt)]):[3,4];case 2:Rt.sent(),Rt.label=3;case 3:return ze++,[3,1];case 4:return[2]}})})},E.prototype.renderSolidBorder=function(U,H,we){return s(this,void 0,void 0,function(){return c(this,function(Fe){return this.path(Yh(we,H)),this.ctx.fillStyle=En(U),this.ctx.fill(),[2]})})},E.prototype.renderDoubleBorder=function(U,H,we,Fe){return s(this,void 0,void 0,function(){var ze,ct;return c(this,function(lt){switch(lt.label){case 0:return H<3?[4,this.renderSolidBorder(U,we,Fe)]:[3,2];case 1:return lt.sent(),[2];case 2:return ze=PA(Fe,we),this.path(ze),this.ctx.fillStyle=En(U),this.ctx.fill(),ct=du(Fe,we),this.path(ct),this.ctx.fill(),[2]}})})},E.prototype.renderNodeBackgroundAndBorders=function(U){return s(this,void 0,void 0,function(){var H,we,Fe,ze,ct,lt,Rt,Ht,tr=this;return c(this,function(jr){switch(jr.label){case 0:return this.applyEffects(U.getEffects(2)),H=U.container.styles,we=!ja(H.backgroundColor)||H.backgroundImage.length,Fe=[{style:H.borderTopStyle,color:H.borderTopColor,width:H.borderTopWidth},{style:H.borderRightStyle,color:H.borderRightColor,width:H.borderRightWidth},{style:H.borderBottomStyle,color:H.borderBottomColor,width:H.borderBottomWidth},{style:H.borderLeftStyle,color:H.borderLeftColor,width:H.borderLeftWidth}],ze=eh(Bd(H.backgroundClip,0),U.curves),we||H.boxShadow.length?(this.ctx.save(),this.path(ze),this.ctx.clip(),ja(H.backgroundColor)||(this.ctx.fillStyle=En(H.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(U.container)]):[3,2];case 1:jr.sent(),this.ctx.restore(),H.boxShadow.slice(0).reverse().forEach(function(bn){tr.ctx.save();var nn=Xn(U.curves),vn=bn.inset?0:MA,Za=Sf(nn,-vn+(bn.inset?1:-1)*bn.spread.number,(bn.inset?1:-1)*bn.spread.number,bn.spread.number*(bn.inset?-2:2),bn.spread.number*(bn.inset?-2:2));bn.inset?(tr.path(nn),tr.ctx.clip(),tr.mask(Za)):(tr.mask(nn),tr.ctx.clip(),tr.path(Za)),tr.ctx.shadowOffsetX=bn.offsetX.number+vn,tr.ctx.shadowOffsetY=bn.offsetY.number,tr.ctx.shadowColor=En(bn.color),tr.ctx.shadowBlur=bn.blur.number,tr.ctx.fillStyle=bn.inset?En(bn.color):"rgba(0,0,0,1)",tr.ctx.fill(),tr.ctx.restore()}),jr.label=2;case 2:ct=0,lt=0,Rt=Fe,jr.label=3;case 3:return lt<Rt.length?(Ht=Rt[lt],Ht.style!==0&&!ja(Ht.color)&&Ht.width>0?Ht.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ht.color,Ht.width,ct,U.curves,2)]:[3,11]):[3,13];case 4:return jr.sent(),[3,11];case 5:return Ht.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ht.color,Ht.width,ct,U.curves,3)];case 6:return jr.sent(),[3,11];case 7:return Ht.style!==4?[3,9]:[4,this.renderDoubleBorder(Ht.color,Ht.width,ct,U.curves)];case 8:return jr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ht.color,ct,U.curves)];case 10:jr.sent(),jr.label=11;case 11:ct++,jr.label=12;case 12:return lt++,[3,3];case 13:return[2]}})})},E.prototype.renderDashedDottedBorder=function(U,H,we,Fe,ze){return s(this,void 0,void 0,function(){var ct,lt,Rt,Ht,tr,jr,bn,nn,vn,Za,Yn,Vn,Ki,ii,Ha,Tn,Ha,Tn;return c(this,function(Oi){return this.ctx.save(),ct=Zh(Fe,we),lt=Yh(Fe,we),ze===2&&(this.path(lt),this.ctx.clip()),Ms(lt[0])?(Rt=lt[0].start.x,Ht=lt[0].start.y):(Rt=lt[0].x,Ht=lt[0].y),Ms(lt[1])?(tr=lt[1].end.x,jr=lt[1].end.y):(tr=lt[1].x,jr=lt[1].y),we===0||we===2?bn=Math.abs(Rt-tr):bn=Math.abs(Ht-jr),this.ctx.beginPath(),ze===3?this.formatPath(ct):this.formatPath(lt.slice(0,2)),nn=H<3?H*3:H*2,vn=H<3?H*2:H,ze===3&&(nn=H,vn=H),Za=!0,bn<=nn*2?Za=!1:bn<=nn*2+vn?(Yn=bn/(2*nn+vn),nn*=Yn,vn*=Yn):(Vn=Math.floor((bn+vn)/(nn+vn)),Ki=(bn-Vn*nn)/(Vn-1),ii=(bn-(Vn+1)*nn)/Vn,vn=ii<=0||Math.abs(vn-Ki)<Math.abs(vn-ii)?Ki:ii),Za&&(ze===3?this.ctx.setLineDash([0,nn+vn]):this.ctx.setLineDash([nn,vn])),ze===3?(this.ctx.lineCap="round",this.ctx.lineWidth=H):this.ctx.lineWidth=H*2+1.1,this.ctx.strokeStyle=En(U),this.ctx.stroke(),this.ctx.setLineDash([]),ze===2&&(Ms(lt[0])&&(Ha=lt[3],Tn=lt[0],this.ctx.beginPath(),this.formatPath([new tn(Ha.end.x,Ha.end.y),new tn(Tn.start.x,Tn.start.y)]),this.ctx.stroke()),Ms(lt[1])&&(Ha=lt[1],Tn=lt[2],this.ctx.beginPath(),this.formatPath([new tn(Ha.end.x,Ha.end.y),new tn(Tn.start.x,Tn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},E.prototype.render=function(U){return s(this,void 0,void 0,function(){var H;return c(this,function(we){switch(we.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),H=qu(U),[4,this.renderStack(H)];case 1:return we.sent(),this.applyEffects([]),[2,this.canvas]}})})},E})(If),RA=function(F){return F instanceof xf||F instanceof jp?!0:F instanceof uu&&F.type!==Gh&&F.type!==Kh},eh=function(F,E){switch(F){case 0:return Xn(E);case 2:return zi(E);case 1:default:return _i(E)}},yh=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},LA=["-apple-system","system-ui"],bh=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(E){return LA.indexOf(E)===-1}):F},qc=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.canvas=H.canvas?H.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),we.options=H,we.canvas.width=Math.floor(H.width*H.scale),we.canvas.height=Math.floor(H.height*H.scale),we.canvas.style.width=H.width+"px",we.canvas.style.height=H.height+"px",we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-H.x,-H.y),we.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+H.width+"x"+H.height+" at "+H.x+","+H.y+") with scale "+H.scale),we}return E.prototype.render=function(U){return s(this,void 0,void 0,function(){var H,we;return c(this,function(Fe){switch(Fe.label){case 0:return H=$h(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,U),[4,Ed(H)];case 1:return we=Fe.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(we,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},E})(If),Ed=function(F){return new Promise(function(E,U){var H=new Image;H.onload=function(){E(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},Id=(function(){function F(E){var U=E.id,H=E.enabled;this.id=U,this.enabled=H,this.start=Date.now()}return F.prototype.debug=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],E))},F.prototype.warn=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.prototype.error=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.instances={},F})(),eA=(function(){function F(E,U){var H;this.windowBounds=U,this.instanceName="#"+F.instanceCount++,this.logger=new Id({id:this.instanceName,enabled:E.logging}),this.cache=(H=E.cache)!==null&&H!==void 0?H:new Ka(this,E)}return F.instanceCount=1,F})(),UA=function(F,E){return E===void 0&&(E={}),Td(F,E)};typeof window<"u"&&pi.setContext(window);var Td=function(F,E){return s(void 0,void 0,void 0,function(){var U,H,we,Fe,ze,ct,lt,Rt,Ht,tr,jr,bn,nn,vn,Za,Yn,Vn,Ki,ii,Ha,Oi,Tn,Oi,bi,Da,Ho,hc,hu,As,cl,Xu,Ac,Ll,wh,_d,Yu,tA,Zu,th,Od;return c(this,function(p){switch(p.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(U=F.ownerDocument,!U)throw new Error("Element is not attached to a Document");if(H=U.defaultView,!H)throw new Error("Document is not attached to a Window");return we={allowTaint:(bi=E.allowTaint)!==null&&bi!==void 0?bi:!1,imageTimeout:(Da=E.imageTimeout)!==null&&Da!==void 0?Da:15e3,proxy:E.proxy,useCORS:(Ho=E.useCORS)!==null&&Ho!==void 0?Ho:!1},Fe=i({logging:(hc=E.logging)!==null&&hc!==void 0?hc:!0,cache:E.cache},we),ze={windowWidth:(hu=E.windowWidth)!==null&&hu!==void 0?hu:H.innerWidth,windowHeight:(As=E.windowHeight)!==null&&As!==void 0?As:H.innerHeight,scrollX:(cl=E.scrollX)!==null&&cl!==void 0?cl:H.pageXOffset,scrollY:(Xu=E.scrollY)!==null&&Xu!==void 0?Xu:H.pageYOffset},ct=new u(ze.scrollX,ze.scrollY,ze.windowWidth,ze.windowHeight),lt=new eA(Fe,ct),Rt=(Ac=E.foreignObjectRendering)!==null&&Ac!==void 0?Ac:!1,Ht={allowTaint:(Ll=E.allowTaint)!==null&&Ll!==void 0?Ll:!1,onclone:E.onclone,ignoreElements:E.ignoreElements,inlineImages:Rt,copyStyles:Rt},lt.logger.debug("Starting document clone with size "+ct.width+"x"+ct.height+" scrolled to "+-ct.left+","+-ct.top),tr=new ta(lt,F,Ht),jr=tr.clonedReferenceElement,jr?[4,tr.toIFrame(U,ct)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return bn=p.sent(),nn=Cf(jr)||wf(jr)?d(jr.ownerDocument):o(lt,jr),vn=nn.width,Za=nn.height,Yn=nn.left,Vn=nn.top,Ki=Um(lt,jr,E.backgroundColor),ii={canvas:E.canvas,backgroundColor:Ki,scale:(_d=(wh=E.scale)!==null&&wh!==void 0?wh:H.devicePixelRatio)!==null&&_d!==void 0?_d:1,x:((Yu=E.x)!==null&&Yu!==void 0?Yu:0)+Yn,y:((tA=E.y)!==null&&tA!==void 0?tA:0)+Vn,width:(Zu=E.width)!==null&&Zu!==void 0?Zu:Math.ceil(vn),height:(th=E.height)!==null&&th!==void 0?th:Math.ceil(Za)},Rt?(lt.logger.debug("Document cloned, using foreign object rendering"),Oi=new qc(lt,ii),[4,Oi.render(jr)]):[3,3];case 2:return Ha=p.sent(),[3,5];case 3:return lt.logger.debug("Document cloned, element located at "+Yn+","+Vn+" with size "+vn+"x"+Za+" using computed rendering"),lt.logger.debug("Starting DOM parsing"),Tn=EA(lt,jr),Ki===Tn.styles.backgroundColor&&(Tn.styles.backgroundColor=yo.TRANSPARENT),lt.logger.debug("Starting renderer for element at "+ii.x+","+ii.y+" with size "+ii.width+"x"+ii.height),Oi=new Jd(lt,ii),[4,Oi.render(Tn)];case 4:Ha=p.sent(),p.label=5;case 5:return(!((Od=E.removeContainer)!==null&&Od!==void 0)||Od)&&(ta.destroy(bn)||lt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),lt.logger.debug("Finished rendering"),[2,Ha]}})})},Um=function(F,E,U){var H=E.ownerDocument,we=H.documentElement?ys(F,getComputedStyle(H.documentElement).backgroundColor):yo.TRANSPARENT,Fe=H.body?ys(F,getComputedStyle(H.body).backgroundColor):yo.TRANSPARENT,ze=typeof U=="string"?ys(F,U):U===null?yo.TRANSPARENT:4294967295;return E===H.documentElement?ja(we)?ja(Fe)?ze:Fe:we:ze};return UA}))})(iv)),iv.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var t_;function wne(){return t_||(t_=1,(function(r,e){(function(a,i){r.exports=i(bne())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(h,A){(A==null||A>h.length)&&(A=h.length);for(var f=0,g=Array(A);f<A;f++)g[f]=h[f];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(h){if(Array.isArray(h))return h}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function d(A,f,g,m,x,y,b){try{var w=A[y](b),N=w.value}catch(S){return void g(S)}w.done?f(N):Promise.resolve(N).then(m,x)}function h(A){return function(){var f=this,g=arguments;return new Promise(function(m,x){var y=A.apply(f,g);function b(N){d(y,m,x,b,w,"next",N)}function w(N){d(y,m,x,b,w,"throw",N)}b(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});var d=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function h(A,f,g){return(f=(0,d.default)(f))in A?Object.defineProperty(A,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):A[f]=g,A}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(h,A){var f=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(f!=null){var g,m,x,y,b=[],w=!0,N=!1;try{if(x=(f=f.call(h)).next,A===0){if(Object(f)!==f)return;w=!1}else for(;!(w=(g=x.call(f)).done)&&(b.push(g.value),b.length!==A);w=!0);}catch(S){N=!0,m=S}finally{try{if(!w&&f.return!=null&&(y=f.return(),Object(y)!==y))return}finally{if(N)throw m}}return b}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return g}});var d=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),h=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),A=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),f=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(m,x){return(0,d.default)(m)||(0,h.default)(m,x)||(0,A.default)(m,x)||(0,f.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});var d=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function h(A,f){if((0,d.default)(A)!="object"||!A)return A;var g=A[Symbol.toPrimitive];if(g!==void 0){var m=g.call(A,f||"default");if((0,d.default)(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(A)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return A}});var d=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function A(f){var g=(0,h.default)(f,"string");return(0,d.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(h){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},d(h)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});var d=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function h(A,f){if(A){if(typeof A=="string")return(0,d.default)(A,f);var g={}.toString.call(A).slice(8,-1);return g==="Object"&&A.constructor&&(g=A.constructor.name),g==="Map"||g==="Set"?Array.from(A):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,d.default)(A,f):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(l,u,o){o.r(u),o.d(u,{AElement:function(){return Sl},AnimateColorElement:function(){return Ks},AnimateElement:function(){return ri},AnimateTransformElement:function(){return Wa},BoundingBox:function(){return gn},CB1:function(){return se},CB2:function(){return he},CB3:function(){return Ne},CB4:function(){return Pe},Canvg:function(){return ko},CircleElement:function(){return Dn},ClipPathElement:function(){return ls},DefsElement:function(){return Ss},DescElement:function(){return so},Document:function(){return xs},Element:function(){return Yr},EllipseElement:function(){return Xr},FeColorMatrixElement:function(){return Al},FeCompositeElement:function(){return vs},FeDropShadowElement:function(){return Qi},FeGaussianBlurElement:function(){return _o},FeMorphologyElement:function(){return gs},FilterElement:function(){return qn},Font:function(){return zr},FontElement:function(){return wc},FontFaceElement:function(){return ms},GElement:function(){return ji},GlyphElement:function(){return Dr},GradientElement:function(){return vi},ImageElement:function(){return ni},LineElement:function(){return Un},LinearGradientElement:function(){return Ui},MarkerElement:function(){return jn},MaskElement:function(){return To},Matrix:function(){return Or},MissingGlyphElement:function(){return Nl},Mouse:function(){return Re},PSEUDO_ZERO:function(){return _e},Parser:function(){return Lt},PathElement:function(){return Lr},PathParser:function(){return Wr},PatternElement:function(){return os},Point:function(){return We},PolygonElement:function(){return ei},PolylineElement:function(){return Ur},Property:function(){return pe},QB1:function(){return ye},QB2:function(){return ce},QB3:function(){return q},RadialGradientElement:function(){return Bi},RectElement:function(){return dn},RenderedElement:function(){return $n},Rotate:function(){return Xt},SVGElement:function(){return Sr},SVGFontLoader:function(){return Gs},Scale:function(){return _r},Screen:function(){return Le},Skew:function(){return He},SkewX:function(){return Zt},SkewY:function(){return Bt},StopElement:function(){return Bs},StyleElement:function(){return Eo},SymbolElement:function(){return Bo},TRefElement:function(){return jc},TSpanElement:function(){return cn},TextElement:function(){return wn},TextPathElement:function(){return ha},TitleElement:function(){return Di},Transform:function(){return on},Translate:function(){return Ct},UnknownElement:function(){return qr},UseElement:function(){return el},ViewPort:function(){return oe},compressSpaces:function(){return w},default:function(){return ko},getSelectorSpecificity:function(){return Ie},normalizeAttributeName:function(){return k},normalizeColor:function(){return ee},parseExternalUrl:function(){return Z},presets:function(){return b},toNumbers:function(){return j},trimLeft:function(){return N},trimRight:function(){return S},vectorMagnitude:function(){return fe},vectorsAngle:function(){return ve},vectorsRatio:function(){return le}}),o("./node_modules/core-js/modules/es.promise.js");var d=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var A=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var f=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var g=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var m=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Ut}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Ut,createCanvas(ie,ue){return new OffscreenCanvas(ie,ue)},createImage(ie){return(0,d.default)(function*(){var ue=yield fetch(ie),M=yield ue.blob(),W=yield createImageBitmap(M);return W})()}};return(typeof DOMParser<"u"||typeof Ut>"u")&&Reflect.deleteProperty(Q,"DOMParser"),Q}function y(Ut){var{DOMParser:Q,canvas:ie,fetch:ue}=Ut;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Q,fetch:ue,createCanvas:ie.createCanvas,createImage:ie.loadImage}}var b=Object.freeze({__proto__:null,offscreen:x,node:y});function w(Ut){return Ut.replace(/(?!\u3000)\s+/gm," ")}function N(Ut){return Ut.replace(/^[\n \t]+/,"")}function S(Ut){return Ut.replace(/[\n \t]+$/,"")}function j(Ut){var Q=(Ut||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return Q.map(parseFloat)}var _=/^[A-Z-]+$/;function k(Ut){return _.test(Ut)?Ut.toLowerCase():Ut}function Z(Ut){var Q=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Ut)||[];return Q[2]||Q[3]||Q[4]}function ee(Ut){if(!Ut.startsWith("rgb"))return Ut;var Q=3,ie=Ut.replace(/\d+(\.\d+)?/g,(ue,M)=>Q--&&M?String(Math.round(parseFloat(ue))):ue);return ie}var V=/(\[[^\]]+\])/g,re=/(#[^\s+>~.[:]+)/g,R=/(\.[^\s+>~.[:]+)/g,Y=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,L=/(:[\w-]+\([^)]*\))/gi,$=/(:[^\s+>~.[:]+)/g,je=/([^\s+>~.[:]+)/g;function ge(Ut,Q){var ie=Q.exec(Ut);return ie?[Ut.replace(Q," "),ie.length]:[Ut,0]}function Ie(Ut){var Q=[0,0,0],ie=Ut.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),ue=0;return[ie,ue]=ge(ie,V),Q[1]+=ue,[ie,ue]=ge(ie,re),Q[0]+=ue,[ie,ue]=ge(ie,R),Q[1]+=ue,[ie,ue]=ge(ie,Y),Q[2]+=ue,[ie,ue]=ge(ie,L),Q[1]+=ue,[ie,ue]=ge(ie,$),Q[1]+=ue,ie=ie.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[ie,ue]=ge(ie,je),Q[2]+=ue,Q.join("")}var _e=1e-8;function fe(Ut){return Math.sqrt(Math.pow(Ut[0],2)+Math.pow(Ut[1],2))}function le(Ut,Q){return(Ut[0]*Q[0]+Ut[1]*Q[1])/(fe(Ut)*fe(Q))}function ve(Ut,Q){return(Ut[0]*Q[1]<Ut[1]*Q[0]?-1:1)*Math.acos(le(Ut,Q))}function se(Ut){return Ut*Ut*Ut}function he(Ut){return 3*Ut*Ut*(1-Ut)}function Ne(Ut){return 3*Ut*(1-Ut)*(1-Ut)}function Pe(Ut){return(1-Ut)*(1-Ut)*(1-Ut)}function ye(Ut){return Ut*Ut}function ce(Ut){return 2*Ut*(1-Ut)}function q(Ut){return(1-Ut)*(1-Ut)}class pe{constructor(Q,ie,ue){this.document=Q,this.name=ie,this.value=ue,this.isNormalizedColor=!1}static empty(Q){return new pe(Q,"EMPTY","")}split(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:ie,name:ue}=this;return w(this.getString()).trim().split(Q).map(M=>new pe(ie,ue,M))}hasValue(Q){var{value:ie}=this;return ie!==null&&ie!==""&&(Q||ie!==0)&&typeof ie<"u"}isString(Q){var{value:ie}=this,ue=typeof ie=="string";return!ue||!Q?ue:Q.test(ie)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var Q=this.getString();switch(!0){case Q.endsWith("px"):case/^[0-9]+$/.test(Q):return!0;default:return!1}}setValue(Q){return this.value=Q,this}getValue(Q){return typeof Q>"u"||this.hasValue()?this.value:Q}getNumber(Q){if(!this.hasValue())return typeof Q>"u"?0:parseFloat(Q);var{value:ie}=this,ue=parseFloat(ie);return this.isString(/%$/)&&(ue/=100),ue}getString(Q){return typeof Q>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(Q)}getColor(Q){var ie=this.getString(Q);return this.isNormalizedColor||(this.isNormalizedColor=!0,ie=ee(ie),this.value=ie),ie}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[ue,M]=typeof Q=="boolean"?[void 0,Q]:[Q],{viewPort:W}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(W.computeSize("x"),W.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(W.computeSize("x"),W.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*W.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*W.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&M):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*W.computeSize(ue);default:{var te=this.getNumber();return ie&&te<1?te*W.computeSize(ue):te}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var Q=this.getString(),ie=/#([^)'"]+)/.exec(Q);return ie&&(ie=ie[1]),ie||(ie=Q),this.document.definitions[ie]}getFillStyleDefinition(Q,ie){var ue=this.getDefinition();if(!ue)return null;if(typeof ue.createGradient=="function")return ue.createGradient(this.document.ctx,Q,ie);if(typeof ue.createPattern=="function"){if(ue.getHrefAttribute().hasValue()){var M=ue.getAttribute("patternTransform");ue=ue.getHrefAttribute().getDefinition(),M.hasValue()&&ue.getAttribute("patternTransform",!0).setValue(M.value)}return ue.createPattern(this.document.ctx,Q,ie)}return null}getTextBaseline(){return this.hasValue()?pe.textBaselineMapping[this.getString()]:null}addOpacity(Q){for(var ie=this.getColor(),ue=ie.length,M=0,W=0;W<ue&&(ie[W]===","&&M++,M!==3);W++);if(Q.hasValue()&&this.isString()&&M!==3){var te=new f(ie);te.ok&&(te.alpha=Q.getNumber(),ie=te.toRGBA())}return new pe(this.document,this.name,ie)}}pe.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class oe{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(Q,ie){this.viewPorts.push({width:Q,height:ie})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:Q}=this;return Q[Q.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(Q){return typeof Q=="number"?Q:Q==="x"?this.width:Q==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class We{constructor(Q,ie){this.x=Q,this.y=ie}static parse(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[ue=ie,M=ie]=j(Q);return new We(ue,M)}static parseScale(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[ue=ie,M=ue]=j(Q);return new We(ue,M)}static parsePath(Q){for(var ie=j(Q),ue=ie.length,M=[],W=0;W<ue;W+=2)M.push(new We(ie[W],ie[W+1]));return M}angleTo(Q){return Math.atan2(Q.y-this.y,Q.x-this.x)}applyTransform(Q){var{x:ie,y:ue}=this,M=ie*Q[0]+ue*Q[2]+Q[4],W=ie*Q[1]+ue*Q[3]+Q[5];this.x=M,this.y=W}}class Re{constructor(Q){this.screen=Q,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:Q,onClick:ie,onMouseMove:ue}=this,M=Q.ctx.canvas;M.onclick=ie,M.onmousemove=ue,this.working=!0}}stop(){if(this.working){var Q=this.screen.ctx.canvas;this.working=!1,Q.onclick=null,Q.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:Q,events:ie,eventElements:ue}=this,{style:M}=Q.ctx.canvas;M&&(M.cursor=""),ie.forEach((W,te)=>{for(var{run:Ce}=W,ke=ue[te];ke;)Ce(ke),ke=ke.parent}),this.events=[],this.eventElements=[]}}checkPath(Q,ie){if(!(!this.working||!ie)){var{events:ue,eventElements:M}=this;ue.forEach((W,te)=>{var{x:Ce,y:ke}=W;!M[te]&&ie.isPointInPath&&ie.isPointInPath(Ce,ke)&&(M[te]=Q)})}}checkBoundingBox(Q,ie){if(!(!this.working||!ie)){var{events:ue,eventElements:M}=this;ue.forEach((W,te)=>{var{x:Ce,y:ke}=W;!M[te]&&ie.isPointInBox(Ce,ke)&&(M[te]=Q)})}}mapXY(Q,ie){for(var{window:ue,ctx:M}=this.screen,W=new We(Q,ie),te=M.canvas;te;)W.x-=te.offsetLeft,W.y-=te.offsetTop,te=te.offsetParent;return ue.scrollX&&(W.x+=ue.scrollX),ue.scrollY&&(W.y+=ue.scrollY),W}onClick(Q){var{x:ie,y:ue}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onclick",x:ie,y:ue,run(M){M.onClick&&M.onClick()}})}onMouseMove(Q){var{x:ie,y:ue}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onmousemove",x:ie,y:ue,run(M){M.onMouseMove&&M.onMouseMove()}})}}var Ee=typeof window<"u"?window:null,ae=typeof fetch<"u"?fetch.bind(void 0):null;class Le{constructor(Q){var{fetch:ie=ae,window:ue=Ee}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=Q,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new oe,this.mouse=new Re(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=ue,this.fetch=ie}wait(Q){this.waits.push(Q)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var Q=this.waits.every(ie=>ie());return Q&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=Q,Q}setDefaults(Q){Q.strokeStyle="rgba(0,0,0,0)",Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=4}setViewBox(Q){var{document:ie,ctx:ue,aspectRatio:M,width:W,desiredWidth:te,height:Ce,desiredHeight:ke,minX:Ge=0,minY:it=0,refX:I,refY:B,clip:D=!1,clipX:K=0,clipY:X=0}=Q,ne=w(M).replace(/^defer\s/,""),[Se,me]=ne.split(" "),xe=Se||"xMidYMid",De=me||"meet",Ve=W/te,et=Ce/ke,st=Math.min(Ve,et),Oe=Math.max(Ve,et),vt=te,mt=ke;De==="meet"&&(vt*=st,mt*=st),De==="slice"&&(vt*=Oe,mt*=Oe);var yt=new pe(ie,"refX",I),nt=new pe(ie,"refY",B),kt=yt.hasValue()&&nt.hasValue();if(kt&&ue.translate(-st*yt.getPixels("x"),-st*nt.getPixels("y")),D){var Kt=st*K,Et=st*X;ue.beginPath(),ue.moveTo(Kt,Et),ue.lineTo(W,Et),ue.lineTo(W,Ce),ue.lineTo(Kt,Ce),ue.closePath(),ue.clip()}if(!kt){var tt=De==="meet"&&st===et,Qt=De==="slice"&&Oe===et,lr=De==="meet"&&st===Ve,qt=De==="slice"&&Oe===Ve;xe.startsWith("xMid")&&(tt||Qt)&&ue.translate(W/2-vt/2,0),xe.endsWith("YMid")&&(lr||qt)&&ue.translate(0,Ce/2-mt/2),xe.startsWith("xMax")&&(tt||Qt)&&ue.translate(W-vt,0),xe.endsWith("YMax")&&(lr||qt)&&ue.translate(0,Ce-mt)}switch(!0){case xe==="none":ue.scale(Ve,et);break;case De==="meet":ue.scale(st,st);break;case De==="slice":ue.scale(Oe,Oe);break}ue.translate(-Ge,-it)}start(Q){var{enableRedraw:ie=!1,ignoreMouse:ue=!1,ignoreAnimation:M=!1,ignoreDimensions:W=!1,ignoreClear:te=!1,forceRedraw:Ce,scaleWidth:ke,scaleHeight:Ge,offsetX:it,offsetY:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:B,mouse:D}=this,K=1e3/B;if(this.frameDuration=K,this.readyPromise=new Promise(xe=>{this.resolveReady=xe}),this.isReady()&&this.render(Q,W,te,ke,Ge,it,I),!!ie){var X=Date.now(),ne=X,Se=0,me=()=>{X=Date.now(),Se=X-ne,Se>=K&&(ne=X-Se%K,this.shouldUpdate(M,Ce)&&(this.render(Q,W,te,ke,Ge,it,I),D.runEvents())),this.intervalId=A(me)};ue||D.start(),this.intervalId=A(me)}}stop(){this.intervalId&&(A.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(Q,ie){if(!Q){var{frameDuration:ue}=this,M=this.animations.reduce((W,te)=>te.update(ue)||W,!1);if(M)return!0}return!!(typeof ie=="function"&&ie()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(Q,ie,ue,M,W,te,Ce){var{CLIENT_WIDTH:ke,CLIENT_HEIGHT:Ge,viewPort:it,ctx:I,isFirstRender:B}=this,D=I.canvas;it.clear(),D.width&&D.height?it.setCurrent(D.width,D.height):it.setCurrent(ke,Ge);var K=Q.getStyle("width"),X=Q.getStyle("height");!ie&&(B||typeof M!="number"&&typeof W!="number")&&(K.hasValue()&&(D.width=K.getPixels("x"),D.style&&(D.style.width="".concat(D.width,"px"))),X.hasValue()&&(D.height=X.getPixels("y"),D.style&&(D.style.height="".concat(D.height,"px"))));var ne=D.clientWidth||D.width,Se=D.clientHeight||D.height;if(ie&&K.hasValue()&&X.hasValue()&&(ne=K.getPixels("x"),Se=X.getPixels("y")),it.setCurrent(ne,Se),typeof te=="number"&&Q.getAttribute("x",!0).setValue(te),typeof Ce=="number"&&Q.getAttribute("y",!0).setValue(Ce),typeof M=="number"||typeof W=="number"){var me=j(Q.getAttribute("viewBox").getString()),xe=0,De=0;if(typeof M=="number"){var Ve=Q.getStyle("width");Ve.hasValue()?xe=Ve.getPixels("x")/M:isNaN(me[2])||(xe=me[2]/M)}if(typeof W=="number"){var et=Q.getStyle("height");et.hasValue()?De=et.getPixels("y")/W:isNaN(me[3])||(De=me[3]/W)}xe||(xe=De),De||(De=xe),Q.getAttribute("width",!0).setValue(M),Q.getAttribute("height",!0).setValue(W);var st=Q.getStyle("transform",!0,!0);st.setValue("".concat(st.getString()," scale(").concat(1/xe,", ").concat(1/De,")"))}ue||I.clearRect(0,0,ne,Se),Q.render(I),B&&(this.isFirstRender=!1)}}Le.defaultWindow=Ee,Le.defaultFetch=ae;var{defaultFetch:Ze}=Le,jt=typeof DOMParser<"u"?DOMParser:null;class Lt{constructor(){var{fetch:Q=Ze,DOMParser:ie=jt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=Q,this.DOMParser=ie}parse(Q){var ie=this;return(0,d.default)(function*(){return Q.startsWith("<")?ie.parseFromString(Q):ie.load(Q)})()}parseFromString(Q){var ie=new this.DOMParser;try{return this.checkDocument(ie.parseFromString(Q,"image/svg+xml"))}catch{return this.checkDocument(ie.parseFromString(Q,"text/xml"))}}checkDocument(Q){var ie=Q.getElementsByTagName("parsererror")[0];if(ie)throw new Error(ie.textContent);return Q}load(Q){var ie=this;return(0,d.default)(function*(){var ue=yield ie.fetch(Q),M=yield ue.text();return ie.parseFromString(M)})()}}class Ct{constructor(Q,ie){this.type="translate",this.point=null,this.point=We.parse(ie)}apply(Q){var{x:ie,y:ue}=this.point;Q.translate(ie||0,ue||0)}unapply(Q){var{x:ie,y:ue}=this.point;Q.translate(-1*ie||0,-1*ue||0)}applyToPoint(Q){var{x:ie,y:ue}=this.point;Q.applyTransform([1,0,0,1,ie||0,ue||0])}}class Xt{constructor(Q,ie,ue){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var M=j(ie);this.angle=new pe(Q,"angle",M[0]),this.originX=ue[0],this.originY=ue[1],this.cx=M[1]||0,this.cy=M[2]||0}apply(Q){var{cx:ie,cy:ue,originX:M,originY:W,angle:te}=this,Ce=ie+M.getPixels("x"),ke=ue+W.getPixels("y");Q.translate(Ce,ke),Q.rotate(te.getRadians()),Q.translate(-Ce,-ke)}unapply(Q){var{cx:ie,cy:ue,originX:M,originY:W,angle:te}=this,Ce=ie+M.getPixels("x"),ke=ue+W.getPixels("y");Q.translate(Ce,ke),Q.rotate(-1*te.getRadians()),Q.translate(-Ce,-ke)}applyToPoint(Q){var{cx:ie,cy:ue,angle:M}=this,W=M.getRadians();Q.applyTransform([1,0,0,1,ie||0,ue||0]),Q.applyTransform([Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0]),Q.applyTransform([1,0,0,1,-ie||0,-ue||0])}}class _r{constructor(Q,ie,ue){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var M=We.parseScale(ie);(M.x===0||M.y===0)&&(M.x=_e,M.y=_e),this.scale=M,this.originX=ue[0],this.originY=ue[1]}apply(Q){var{scale:{x:ie,y:ue},originX:M,originY:W}=this,te=M.getPixels("x"),Ce=W.getPixels("y");Q.translate(te,Ce),Q.scale(ie,ue||ie),Q.translate(-te,-Ce)}unapply(Q){var{scale:{x:ie,y:ue},originX:M,originY:W}=this,te=M.getPixels("x"),Ce=W.getPixels("y");Q.translate(te,Ce),Q.scale(1/ie,1/ue||ie),Q.translate(-te,-Ce)}applyToPoint(Q){var{x:ie,y:ue}=this.scale;Q.applyTransform([ie||0,0,0,ue||0,0,0])}}class Or{constructor(Q,ie,ue){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=j(ie),this.originX=ue[0],this.originY=ue[1]}apply(Q){var{originX:ie,originY:ue,matrix:M}=this,W=ie.getPixels("x"),te=ue.getPixels("y");Q.translate(W,te),Q.transform(M[0],M[1],M[2],M[3],M[4],M[5]),Q.translate(-W,-te)}unapply(Q){var{originX:ie,originY:ue,matrix:M}=this,W=M[0],te=M[2],Ce=M[4],ke=M[1],Ge=M[3],it=M[5],I=0,B=0,D=1,K=1/(W*(Ge*D-it*B)-te*(ke*D-it*I)+Ce*(ke*B-Ge*I)),X=ie.getPixels("x"),ne=ue.getPixels("y");Q.translate(X,ne),Q.transform(K*(Ge*D-it*B),K*(it*I-ke*D),K*(Ce*B-te*D),K*(W*D-Ce*I),K*(te*it-Ce*Ge),K*(Ce*ke-W*it)),Q.translate(-X,-ne)}applyToPoint(Q){Q.applyTransform(this.matrix)}}class He extends Or{constructor(Q,ie,ue){super(Q,ie,ue),this.type="skew",this.angle=null,this.angle=new pe(Q,"angle",ie)}}class Zt extends He{constructor(Q,ie,ue){super(Q,ie,ue),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Bt extends He{constructor(Q,ie,ue){super(Q,ie,ue),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function $r(Ut){return w(Ut).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function pr(Ut){var[Q,ie]=Ut.split("(");return[Q.trim(),ie.trim().replace(")","")]}class on{constructor(Q,ie,ue){this.document=Q,this.transforms=[];var M=$r(ie);M.forEach(W=>{if(W!=="none"){var[te,Ce]=pr(W),ke=on.transformTypes[te];typeof ke<"u"&&this.transforms.push(new ke(this.document,Ce,ue))}})}static fromElement(Q,ie){var ue=ie.getStyle("transform",!1,!0),[M,W=M]=ie.getStyle("transform-origin",!1,!0).split(),te=[M,W];return ue.hasValue()?new on(Q,ue.getString(),te):null}apply(Q){for(var{transforms:ie}=this,ue=ie.length,M=0;M<ue;M++)ie[M].apply(Q)}unapply(Q){for(var{transforms:ie}=this,ue=ie.length,M=ue-1;M>=0;M--)ie[M].unapply(Q)}applyToPoint(Q){for(var{transforms:ie}=this,ue=ie.length,M=0;M<ue;M++)ie[M].applyToPoint(Q)}}on.transformTypes={translate:Ct,rotate:Xt,scale:_r,matrix:Or,skewX:Zt,skewY:Bt};class Yr{constructor(Q,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=Q,this.node=ie,this.captureTextNodes=ue,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!ie||ie.nodeType!==1)){if(Array.from(ie.attributes).forEach(Ce=>{var ke=k(Ce.nodeName);this.attributes[ke]=new pe(Q,ke,Ce.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var M=this.getAttribute("style").getString().split(";").map(Ce=>Ce.trim());M.forEach(Ce=>{if(Ce){var[ke,Ge]=Ce.split(":").map(it=>it.trim());this.styles[ke]=new pe(Q,ke,Ge)}})}var{definitions:W}=Q,te=this.getAttribute("id");te.hasValue()&&(W[te.getString()]||(W[te.getString()]=this)),Array.from(ie.childNodes).forEach(Ce=>{if(Ce.nodeType===1)this.addChild(Ce);else if(ue&&(Ce.nodeType===3||Ce.nodeType===4)){var ke=Q.createTextNode(Ce);ke.getText().length>0&&this.addChild(ke)}})}}getAttribute(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ue=this.attributes[Q];if(!ue&&ie){var M=new pe(this.document,Q,"");return this.attributes[Q]=M,M}return ue||pe.empty(this.document)}getHrefAttribute(){for(var Q in this.attributes)if(Q==="href"||Q.endsWith(":href"))return this.attributes[Q];return pe.empty(this.document)}getStyle(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.styles[Q];if(M)return M;var W=this.getAttribute(Q);if(W!=null&&W.hasValue())return this.styles[Q]=W,W;if(!ue){var{parent:te}=this;if(te){var Ce=te.getStyle(Q);if(Ce!=null&&Ce.hasValue())return Ce}}if(ie){var ke=new pe(this.document,Q,"");return this.styles[Q]=ke,ke}return M||pe.empty(this.document)}render(Q){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(Q.save(),this.getStyle("mask").hasValue()){var ie=this.getStyle("mask").getDefinition();ie&&(this.applyEffects(Q),ie.apply(Q,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var ue=this.getStyle("filter").getDefinition();ue&&(this.applyEffects(Q),ue.apply(Q,this))}else this.setContext(Q),this.renderChildren(Q),this.clearContext(Q);Q.restore()}}setContext(Q){}applyEffects(Q){var ie=on.fromElement(this.document,this);ie&&ie.apply(Q);var ue=this.getStyle("clip-path",!1,!0);if(ue.hasValue()){var M=ue.getDefinition();M&&M.apply(Q)}}clearContext(Q){}renderChildren(Q){this.children.forEach(ie=>{ie.render(Q)})}addChild(Q){var ie=Q instanceof Yr?Q:this.document.createElement(Q);ie.parent=this,Yr.ignoreChildTypes.includes(ie.type)||this.children.push(ie)}matchesSelector(Q){var ie,{node:ue}=this;if(typeof ue.matches=="function")return ue.matches(Q);var M=(ie=ue.getAttribute)===null||ie===void 0?void 0:ie.call(ue,"class");return!M||M===""?!1:M.split(" ").some(W=>".".concat(W)===Q)}addStylesFromStyleDefinition(){var{styles:Q,stylesSpecificity:ie}=this.document;for(var ue in Q)if(!ue.startsWith("@")&&this.matchesSelector(ue)){var M=Q[ue],W=ie[ue];if(M)for(var te in M){var Ce=this.stylesSpecificity[te];typeof Ce>"u"&&(Ce="000"),W>=Ce&&(this.styles[te]=M[te],this.stylesSpecificity[te]=W)}}}removeStyles(Q,ie){var ue=ie.reduce((M,W)=>{var te=Q.getStyle(W);if(!te.hasValue())return M;var Ce=te.getString();return te.setValue(""),[...M,[W,Ce]]},[]);return ue}restoreStyles(Q,ie){ie.forEach(ue=>{var[M,W]=ue;Q.getStyle(M,!0).setValue(W)})}isFirstChild(){var Q;return((Q=this.parent)===null||Q===void 0?void 0:Q.children.indexOf(this))===0}}Yr.ignoreChildTypes=["title"];class qr extends Yr{constructor(Q,ie,ue){super(Q,ie,ue)}}function Ir(Ut){var Q=Ut.trim();return/^('|")/.test(Q)?Q:'"'.concat(Q,'"')}function dr(Ut){return typeof process>"u"?Ut:Ut.trim().split(",").map(Ir).join(",")}function Cr(Ut){if(!Ut)return"";var Q=Ut.trim().toLowerCase();switch(Q){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return Q;default:return/^oblique\s+(-|)\d+deg$/.test(Q)?Q:""}}function Vr(Ut){if(!Ut)return"";var Q=Ut.trim().toLowerCase();switch(Q){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return Q;default:return/^[\d.]+$/.test(Q)?Q:""}}class zr{constructor(Q,ie,ue,M,W,te){var Ce=te?typeof te=="string"?zr.parse(te):te:{};this.fontFamily=W||Ce.fontFamily,this.fontSize=M||Ce.fontSize,this.fontStyle=Q||Ce.fontStyle,this.fontWeight=ue||Ce.fontWeight,this.fontVariant=ie||Ce.fontVariant}static parse(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ie=arguments.length>1?arguments[1]:void 0,ue="",M="",W="",te="",Ce="",ke=w(Q).trim().split(" "),Ge={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return ke.forEach(it=>{switch(!0){case(!Ge.fontStyle&&zr.styles.includes(it)):it!=="inherit"&&(ue=it),Ge.fontStyle=!0;break;case(!Ge.fontVariant&&zr.variants.includes(it)):it!=="inherit"&&(M=it),Ge.fontStyle=!0,Ge.fontVariant=!0;break;case(!Ge.fontWeight&&zr.weights.includes(it)):it!=="inherit"&&(W=it),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0;break;case!Ge.fontSize:it!=="inherit"&&([te]=it.split("/")),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0,Ge.fontSize=!0;break;default:it!=="inherit"&&(Ce+=it)}}),new zr(ue,M,W,te,Ce,ie)}toString(){return[Cr(this.fontStyle),this.fontVariant,Vr(this.fontWeight),this.fontSize,dr(this.fontFamily)].join(" ").trim()}}zr.styles="normal|italic|oblique|inherit",zr.variants="normal|small-caps|inherit",zr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class gn{constructor(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=Q,this.y1=ie,this.x2=ue,this.y2=M,this.addPoint(Q,ie),this.addPoint(ue,M)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(Q,ie){typeof Q<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Q,this.x2=Q),Q<this.x1&&(this.x1=Q),Q>this.x2&&(this.x2=Q)),typeof ie<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=ie,this.y2=ie),ie<this.y1&&(this.y1=ie),ie>this.y2&&(this.y2=ie))}addX(Q){this.addPoint(Q,null)}addY(Q){this.addPoint(null,Q)}addBoundingBox(Q){if(Q){var{x1:ie,y1:ue,x2:M,y2:W}=Q;this.addPoint(ie,ue),this.addPoint(M,W)}}sumCubic(Q,ie,ue,M,W){return Math.pow(1-Q,3)*ie+3*Math.pow(1-Q,2)*Q*ue+3*(1-Q)*Math.pow(Q,2)*M+Math.pow(Q,3)*W}bezierCurveAdd(Q,ie,ue,M,W){var te=6*ie-12*ue+6*M,Ce=-3*ie+9*ue-9*M+3*W,ke=3*ue-3*ie;if(Ce===0){if(te===0)return;var Ge=-ke/te;0<Ge&&Ge<1&&(Q?this.addX(this.sumCubic(Ge,ie,ue,M,W)):this.addY(this.sumCubic(Ge,ie,ue,M,W)));return}var it=Math.pow(te,2)-4*ke*Ce;if(!(it<0)){var I=(-te+Math.sqrt(it))/(2*Ce);0<I&&I<1&&(Q?this.addX(this.sumCubic(I,ie,ue,M,W)):this.addY(this.sumCubic(I,ie,ue,M,W)));var B=(-te-Math.sqrt(it))/(2*Ce);0<B&&B<1&&(Q?this.addX(this.sumCubic(B,ie,ue,M,W)):this.addY(this.sumCubic(B,ie,ue,M,W)))}}addBezierCurve(Q,ie,ue,M,W,te,Ce,ke){this.addPoint(Q,ie),this.addPoint(Ce,ke),this.bezierCurveAdd(!0,Q,ue,W,Ce),this.bezierCurveAdd(!1,ie,M,te,ke)}addQuadraticCurve(Q,ie,ue,M,W,te){var Ce=Q+.6666666666666666*(ue-Q),ke=ie+2/3*(M-ie),Ge=Ce+1/3*(W-Q),it=ke+1/3*(te-ie);this.addBezierCurve(Q,ie,Ce,Ge,ke,it,W,te)}isPointInBox(Q,ie){var{x1:ue,y1:M,x2:W,y2:te}=this;return ue<=Q&&Q<=W&&M<=ie&&ie<=te}}class Wr extends g.SVGPathData{constructor(Q){super(Q.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new We(0,0),this.control=new We(0,0),this.current=new We(0,0),this.points=[],this.angles=[]}isEnd(){var{i:Q,commands:ie}=this;return Q>=ie.length-1}next(){var Q=this.commands[++this.i];return this.previousCommand=this.command,this.command=Q,Q}getPoint(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",ue=new We(this.command[Q],this.command[ie]);return this.makeAbsolute(ue)}getAsControlPoint(Q,ie){var ue=this.getPoint(Q,ie);return this.control=ue,ue}getAsCurrentPoint(Q,ie){var ue=this.getPoint(Q,ie);return this.current=ue,ue}getReflectedControlPoint(){var Q=this.previousCommand.type;if(Q!==g.SVGPathData.CURVE_TO&&Q!==g.SVGPathData.SMOOTH_CURVE_TO&&Q!==g.SVGPathData.QUAD_TO&&Q!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:ie,y:ue},control:{x:M,y:W}}=this,te=new We(2*ie-M,2*ue-W);return te}makeAbsolute(Q){if(this.command.relative){var{x:ie,y:ue}=this.current;Q.x+=ie,Q.y+=ue}return Q}addMarker(Q,ie,ue){var{points:M,angles:W}=this;ue&&W.length>0&&!W[W.length-1]&&(W[W.length-1]=M[M.length-1].angleTo(ue)),this.addMarkerAngle(Q,ie?ie.angleTo(Q):null)}addMarkerAngle(Q,ie){this.points.push(Q),this.angles.push(ie)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:Q}=this,ie=Q.length,ue=0;ue<ie;ue++)if(!Q[ue]){for(var M=ue+1;M<ie;M++)if(Q[M]){Q[ue]=Q[M];break}}return Q}}class $n extends Yr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var Q=1,ie=this;ie;){var ue=ie.getStyle("opacity",!1,!0);ue.hasValue(!0)&&(Q*=ue.getNumber()),ie=ie.parent}return Q}setContext(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!ie){var ue=this.getStyle("fill"),M=this.getStyle("fill-opacity"),W=this.getStyle("stroke"),te=this.getStyle("stroke-opacity");if(ue.isUrlDefinition()){var Ce=ue.getFillStyleDefinition(this,M);Ce&&(Q.fillStyle=Ce)}else if(ue.hasValue()){ue.getString()==="currentColor"&&ue.setValue(this.getStyle("color").getColor());var ke=ue.getColor();ke!=="inherit"&&(Q.fillStyle=ke==="none"?"rgba(0,0,0,0)":ke)}if(M.hasValue()){var Ge=new pe(this.document,"fill",Q.fillStyle).addOpacity(M).getColor();Q.fillStyle=Ge}if(W.isUrlDefinition()){var it=W.getFillStyleDefinition(this,te);it&&(Q.strokeStyle=it)}else if(W.hasValue()){W.getString()==="currentColor"&&W.setValue(this.getStyle("color").getColor());var I=W.getString();I!=="inherit"&&(Q.strokeStyle=I==="none"?"rgba(0,0,0,0)":I)}if(te.hasValue()){var B=new pe(this.document,"stroke",Q.strokeStyle).addOpacity(te).getString();Q.strokeStyle=B}var D=this.getStyle("stroke-width");if(D.hasValue()){var K=D.getPixels();Q.lineWidth=K||_e}var X=this.getStyle("stroke-linecap"),ne=this.getStyle("stroke-linejoin"),Se=this.getStyle("stroke-miterlimit"),me=this.getStyle("stroke-dasharray"),xe=this.getStyle("stroke-dashoffset");if(X.hasValue()&&(Q.lineCap=X.getString()),ne.hasValue()&&(Q.lineJoin=ne.getString()),Se.hasValue()&&(Q.miterLimit=Se.getNumber()),me.hasValue()&&me.getString()!=="none"){var De=j(me.getString());typeof Q.setLineDash<"u"?Q.setLineDash(De):typeof Q.webkitLineDash<"u"?Q.webkitLineDash=De:typeof Q.mozDash<"u"&&!(De.length===1&&De[0]===0)&&(Q.mozDash=De);var Ve=xe.getPixels();typeof Q.lineDashOffset<"u"?Q.lineDashOffset=Ve:typeof Q.webkitLineDashOffset<"u"?Q.webkitLineDashOffset=Ve:typeof Q.mozDashOffset<"u"&&(Q.mozDashOffset=Ve)}}if(this.modifiedEmSizeStack=!1,typeof Q.font<"u"){var et=this.getStyle("font"),st=this.getStyle("font-style"),Oe=this.getStyle("font-variant"),vt=this.getStyle("font-weight"),mt=this.getStyle("font-size"),yt=this.getStyle("font-family"),nt=new zr(st.getString(),Oe.getString(),vt.getString(),mt.hasValue()?"".concat(mt.getPixels(!0),"px"):"",yt.getString(),zr.parse(et.getString(),Q.font));st.setValue(nt.fontStyle),Oe.setValue(nt.fontVariant),vt.setValue(nt.fontWeight),mt.setValue(nt.fontSize),yt.setValue(nt.fontFamily),Q.font=nt.toString(),mt.isPixels()&&(this.document.emSize=mt.getPixels(),this.modifiedEmSizeStack=!0)}ie||(this.applyEffects(Q),Q.globalAlpha=this.calculateOpacity())}clearContext(Q){super.clearContext(Q),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Lr extends $n{constructor(Q,ie,ue){super(Q,ie,ue),this.type="path",this.pathParser=null,this.pathParser=new Wr(this.getAttribute("d").getString())}path(Q){var{pathParser:ie}=this,ue=new gn;for(ie.reset(),Q&&Q.beginPath();!ie.isEnd();)switch(ie.next().type){case Wr.MOVE_TO:this.pathM(Q,ue);break;case Wr.LINE_TO:this.pathL(Q,ue);break;case Wr.HORIZ_LINE_TO:this.pathH(Q,ue);break;case Wr.VERT_LINE_TO:this.pathV(Q,ue);break;case Wr.CURVE_TO:this.pathC(Q,ue);break;case Wr.SMOOTH_CURVE_TO:this.pathS(Q,ue);break;case Wr.QUAD_TO:this.pathQ(Q,ue);break;case Wr.SMOOTH_QUAD_TO:this.pathT(Q,ue);break;case Wr.ARC:this.pathA(Q,ue);break;case Wr.CLOSE_PATH:this.pathZ(Q,ue);break}return ue}getBoundingBox(Q){return this.path()}getMarkers(){var{pathParser:Q}=this,ie=Q.getMarkerPoints(),ue=Q.getMarkerAngles(),M=ie.map((W,te)=>[W,ue[te]]);return M}renderChildren(Q){this.path(Q),this.document.screen.mouse.checkPath(this,Q);var ie=this.getStyle("fill-rule");Q.fillStyle!==""&&(ie.getString("inherit")!=="inherit"?Q.fill(ie.getString()):Q.fill()),Q.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(Q.save(),Q.setTransform(1,0,0,1,0,0),Q.stroke(),Q.restore()):Q.stroke());var ue=this.getMarkers();if(ue){var M=ue.length-1,W=this.getStyle("marker-start"),te=this.getStyle("marker-mid"),Ce=this.getStyle("marker-end");if(W.isUrlDefinition()){var ke=W.getDefinition(),[Ge,it]=ue[0];ke.render(Q,Ge,it)}if(te.isUrlDefinition())for(var I=te.getDefinition(),B=1;B<M;B++){var[D,K]=ue[B];I.render(Q,D,K)}if(Ce.isUrlDefinition()){var X=Ce.getDefinition(),[ne,Se]=ue[M];X.render(Q,ne,Se)}}}static pathM(Q){var ie=Q.getAsCurrentPoint();return Q.start=Q.current,{point:ie}}pathM(Q,ie){var{pathParser:ue}=this,{point:M}=Lr.pathM(ue),{x:W,y:te}=M;ue.addMarker(M),ie.addPoint(W,te),Q&&Q.moveTo(W,te)}static pathL(Q){var{current:ie}=Q,ue=Q.getAsCurrentPoint();return{current:ie,point:ue}}pathL(Q,ie){var{pathParser:ue}=this,{current:M,point:W}=Lr.pathL(ue),{x:te,y:Ce}=W;ue.addMarker(W,M),ie.addPoint(te,Ce),Q&&Q.lineTo(te,Ce)}static pathH(Q){var{current:ie,command:ue}=Q,M=new We((ue.relative?ie.x:0)+ue.x,ie.y);return Q.current=M,{current:ie,point:M}}pathH(Q,ie){var{pathParser:ue}=this,{current:M,point:W}=Lr.pathH(ue),{x:te,y:Ce}=W;ue.addMarker(W,M),ie.addPoint(te,Ce),Q&&Q.lineTo(te,Ce)}static pathV(Q){var{current:ie,command:ue}=Q,M=new We(ie.x,(ue.relative?ie.y:0)+ue.y);return Q.current=M,{current:ie,point:M}}pathV(Q,ie){var{pathParser:ue}=this,{current:M,point:W}=Lr.pathV(ue),{x:te,y:Ce}=W;ue.addMarker(W,M),ie.addPoint(te,Ce),Q&&Q.lineTo(te,Ce)}static pathC(Q){var{current:ie}=Q,ue=Q.getPoint("x1","y1"),M=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:ie,point:ue,controlPoint:M,currentPoint:W}}pathC(Q,ie){var{pathParser:ue}=this,{current:M,point:W,controlPoint:te,currentPoint:Ce}=Lr.pathC(ue);ue.addMarker(Ce,te,W),ie.addBezierCurve(M.x,M.y,W.x,W.y,te.x,te.y,Ce.x,Ce.y),Q&&Q.bezierCurveTo(W.x,W.y,te.x,te.y,Ce.x,Ce.y)}static pathS(Q){var{current:ie}=Q,ue=Q.getReflectedControlPoint(),M=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:ie,point:ue,controlPoint:M,currentPoint:W}}pathS(Q,ie){var{pathParser:ue}=this,{current:M,point:W,controlPoint:te,currentPoint:Ce}=Lr.pathS(ue);ue.addMarker(Ce,te,W),ie.addBezierCurve(M.x,M.y,W.x,W.y,te.x,te.y,Ce.x,Ce.y),Q&&Q.bezierCurveTo(W.x,W.y,te.x,te.y,Ce.x,Ce.y)}static pathQ(Q){var{current:ie}=Q,ue=Q.getAsControlPoint("x1","y1"),M=Q.getAsCurrentPoint();return{current:ie,controlPoint:ue,currentPoint:M}}pathQ(Q,ie){var{pathParser:ue}=this,{current:M,controlPoint:W,currentPoint:te}=Lr.pathQ(ue);ue.addMarker(te,W,W),ie.addQuadraticCurve(M.x,M.y,W.x,W.y,te.x,te.y),Q&&Q.quadraticCurveTo(W.x,W.y,te.x,te.y)}static pathT(Q){var{current:ie}=Q,ue=Q.getReflectedControlPoint();Q.control=ue;var M=Q.getAsCurrentPoint();return{current:ie,controlPoint:ue,currentPoint:M}}pathT(Q,ie){var{pathParser:ue}=this,{current:M,controlPoint:W,currentPoint:te}=Lr.pathT(ue);ue.addMarker(te,W,W),ie.addQuadraticCurve(M.x,M.y,W.x,W.y,te.x,te.y),Q&&Q.quadraticCurveTo(W.x,W.y,te.x,te.y)}static pathA(Q){var{current:ie,command:ue}=Q,{rX:M,rY:W,xRot:te,lArcFlag:Ce,sweepFlag:ke}=ue,Ge=te*(Math.PI/180),it=Q.getAsCurrentPoint(),I=new We(Math.cos(Ge)*(ie.x-it.x)/2+Math.sin(Ge)*(ie.y-it.y)/2,-Math.sin(Ge)*(ie.x-it.x)/2+Math.cos(Ge)*(ie.y-it.y)/2),B=Math.pow(I.x,2)/Math.pow(M,2)+Math.pow(I.y,2)/Math.pow(W,2);B>1&&(M*=Math.sqrt(B),W*=Math.sqrt(B));var D=(Ce===ke?-1:1)*Math.sqrt((Math.pow(M,2)*Math.pow(W,2)-Math.pow(M,2)*Math.pow(I.y,2)-Math.pow(W,2)*Math.pow(I.x,2))/(Math.pow(M,2)*Math.pow(I.y,2)+Math.pow(W,2)*Math.pow(I.x,2)));isNaN(D)&&(D=0);var K=new We(D*M*I.y/W,D*-W*I.x/M),X=new We((ie.x+it.x)/2+Math.cos(Ge)*K.x-Math.sin(Ge)*K.y,(ie.y+it.y)/2+Math.sin(Ge)*K.x+Math.cos(Ge)*K.y),ne=ve([1,0],[(I.x-K.x)/M,(I.y-K.y)/W]),Se=[(I.x-K.x)/M,(I.y-K.y)/W],me=[(-I.x-K.x)/M,(-I.y-K.y)/W],xe=ve(Se,me);return le(Se,me)<=-1&&(xe=Math.PI),le(Se,me)>=1&&(xe=0),{currentPoint:it,rX:M,rY:W,sweepFlag:ke,xAxisRotation:Ge,centp:X,a1:ne,ad:xe}}pathA(Q,ie){var{pathParser:ue}=this,{currentPoint:M,rX:W,rY:te,sweepFlag:Ce,xAxisRotation:ke,centp:Ge,a1:it,ad:I}=Lr.pathA(ue),B=1-Ce?1:-1,D=it+B*(I/2),K=new We(Ge.x+W*Math.cos(D),Ge.y+te*Math.sin(D));if(ue.addMarkerAngle(K,D-B*Math.PI/2),ue.addMarkerAngle(M,D-B*Math.PI),ie.addPoint(M.x,M.y),Q&&!isNaN(it)&&!isNaN(I)){var X=W>te?W:te,ne=W>te?1:W/te,Se=W>te?te/W:1;Q.translate(Ge.x,Ge.y),Q.rotate(ke),Q.scale(ne,Se),Q.arc(0,0,X,it,it+I,!!(1-Ce)),Q.scale(1/ne,1/Se),Q.rotate(-ke),Q.translate(-Ge.x,-Ge.y)}}static pathZ(Q){Q.current=Q.start}pathZ(Q,ie){Lr.pathZ(this.pathParser),Q&&ie.x1!==ie.x2&&ie.y1!==ie.y2&&Q.closePath()}}class Dr extends Lr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class wn extends $n{constructor(Q,ie,ue){super(Q,ie,new.target===wn?!0:ue),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(Q,ie);var ue=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();ue&&(Q.textBaseline=ue)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(Q){if(this.type!=="text")return this.getTElementBoundingBox(Q);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q);var ie=null;return this.children.forEach((ue,M)=>{var W=this.getChildBoundingBox(Q,this,this,M);ie?ie.addBoundingBox(W):ie=W}),ie}getFontSize(){var{document:Q,parent:ie}=this,ue=zr.parse(Q.ctx.font).fontSize,M=ie.getStyle("font-size").getNumber(ue);return M}getTElementBoundingBox(Q){var ie=this.getFontSize();return new gn(this.x,this.y-ie,this.x+this.measureText(Q),this.y)}getGlyph(Q,ie,ue){var M=ie[ue],W=null;if(Q.isArabic){var te=ie.length,Ce=ie[ue-1],ke=ie[ue+1],Ge="isolated";if((ue===0||Ce===" ")&&ue<te-1&&ke!==" "&&(Ge="terminal"),ue>0&&Ce!==" "&&ue<te-1&&ke!==" "&&(Ge="medial"),ue>0&&Ce!==" "&&(ue===te-1||ke===" ")&&(Ge="initial"),typeof Q.glyphs[M]<"u"){var it=Q.glyphs[M];W=it instanceof Dr?it:it[Ge]}}else W=Q.glyphs[M];return W||(W=Q.missingGlyph),W}getText(){return""}getTextFromNode(Q){var ie=Q||this.node,ue=Array.from(ie.parentNode.childNodes),M=ue.indexOf(ie),W=ue.length-1,te=w(ie.textContent||"");return M===0&&(te=N(te)),M===W&&(te=S(te)),te}renderChildren(Q){if(this.type!=="text"){this.renderTElementChildren(Q);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q),this.children.forEach((ue,M)=>{this.renderChild(Q,this,this,M)});var{mouse:ie}=this.document.screen;ie.isWorking()&&ie.checkBoundingBox(this,this.getBoundingBox(Q))}renderTElementChildren(Q){var{document:ie,parent:ue}=this,M=this.getText(),W=ue.getStyle("font-family").getDefinition();if(W){for(var{unitsPerEm:te}=W.fontFace,Ce=zr.parse(ie.ctx.font),ke=ue.getStyle("font-size").getNumber(Ce.fontSize),Ge=ue.getStyle("font-style").getString(Ce.fontStyle),it=ke/te,I=W.isRTL?M.split("").reverse().join(""):M,B=j(ue.getAttribute("dx").getString()),D=I.length,K=0;K<D;K++){var X=this.getGlyph(W,I,K);Q.translate(this.x,this.y),Q.scale(it,-it);var ne=Q.lineWidth;Q.lineWidth=Q.lineWidth*te/ke,Ge==="italic"&&Q.transform(1,0,.4,1,0,0),X.render(Q),Ge==="italic"&&Q.transform(1,0,-.4,1,0,0),Q.lineWidth=ne,Q.scale(1/it,-1/it),Q.translate(-this.x,-this.y),this.x+=ke*(X.horizAdvX||W.horizAdvX)/te,typeof B[K]<"u"&&!isNaN(B[K])&&(this.x+=B[K])}return}var{x:Se,y:me}=this;Q.fillStyle&&Q.fillText(M,Se,me),Q.strokeStyle&&Q.strokeText(M,Se,me)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var Q=this.leafTexts[this.textChunkStart],ie=Q.getStyle("text-anchor").getString("start"),ue=!1,M=0;ie==="start"&&!ue||ie==="end"&&ue?M=Q.x-this.minX:ie==="end"&&!ue||ie==="start"&&ue?M=Q.x-this.maxX:M=Q.x-(this.minX+this.maxX)/2;for(var W=this.textChunkStart;W<this.leafTexts.length;W++)this.leafTexts[W].x+=M;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(Q){this.children.forEach((ie,ue)=>{this.adjustChildCoordinatesRecursiveCore(Q,this,this,ue)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(Q,ie,ue,M){var W=ue.children[M];W.children.length>0?W.children.forEach((te,Ce)=>{ie.adjustChildCoordinatesRecursiveCore(Q,ie,W,Ce)}):this.adjustChildCoordinates(Q,ie,ue,M)}adjustChildCoordinates(Q,ie,ue,M){var W=ue.children[M];if(typeof W.measureText!="function")return W;Q.save(),W.setContext(Q,!0);var te=W.getAttribute("x"),Ce=W.getAttribute("y"),ke=W.getAttribute("dx"),Ge=W.getAttribute("dy"),it=W.getStyle("font-family").getDefinition(),I=!!it&&it.isRTL;M===0&&(te.hasValue()||te.setValue(W.getInheritedAttribute("x")),Ce.hasValue()||Ce.setValue(W.getInheritedAttribute("y")),ke.hasValue()||ke.setValue(W.getInheritedAttribute("dx")),Ge.hasValue()||Ge.setValue(W.getInheritedAttribute("dy")));var B=W.measureText(Q);return I&&(ie.x-=B),te.hasValue()?(ie.applyAnchoring(),W.x=te.getPixels("x"),ke.hasValue()&&(W.x+=ke.getPixels("x"))):(ke.hasValue()&&(ie.x+=ke.getPixels("x")),W.x=ie.x),ie.x=W.x,I||(ie.x+=B),Ce.hasValue()?(W.y=Ce.getPixels("y"),Ge.hasValue()&&(W.y+=Ge.getPixels("y"))):(Ge.hasValue()&&(ie.y+=Ge.getPixels("y")),W.y=ie.y),ie.y=W.y,ie.leafTexts.push(W),ie.minX=Math.min(ie.minX,W.x,W.x+B),ie.maxX=Math.max(ie.maxX,W.x,W.x+B),W.clearContext(Q),Q.restore(),W}getChildBoundingBox(Q,ie,ue,M){var W=ue.children[M];if(typeof W.getBoundingBox!="function")return null;var te=W.getBoundingBox(Q);return te?(W.children.forEach((Ce,ke)=>{var Ge=ie.getChildBoundingBox(Q,ie,W,ke);te.addBoundingBox(Ge)}),te):null}renderChild(Q,ie,ue,M){var W=ue.children[M];W.render(Q),W.children.forEach((te,Ce)=>{ie.renderChild(Q,ie,W,Ce)})}measureText(Q){var{measureCache:ie}=this;if(~ie)return ie;var ue=this.getText(),M=this.measureTargetText(Q,ue);return this.measureCache=M,M}measureTargetText(Q,ie){if(!ie.length)return 0;var{parent:ue}=this,M=ue.getStyle("font-family").getDefinition();if(M){for(var W=this.getFontSize(),te=M.isRTL?ie.split("").reverse().join(""):ie,Ce=j(ue.getAttribute("dx").getString()),ke=te.length,Ge=0,it=0;it<ke;it++){var I=this.getGlyph(M,te,it);Ge+=(I.horizAdvX||M.horizAdvX)*W/M.fontFace.unitsPerEm,typeof Ce[it]<"u"&&!isNaN(Ce[it])&&(Ge+=Ce[it])}return Ge}if(!Q.measureText)return ie.length*10;Q.save(),this.setContext(Q,!0);var{width:B}=Q.measureText(ie);return this.clearContext(Q),Q.restore(),B}getInheritedAttribute(Q){for(var ie=this;ie instanceof wn&&ie.isFirstChild();){var ue=ie.parent.getAttribute(Q);if(ue.hasValue(!0))return ue.getValue("0");ie=ie.parent}return null}}class cn extends wn{constructor(Q,ie,ue){super(Q,ie,new.target===cn?!0:ue),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class bt extends cn{constructor(){super(...arguments),this.type="textNode"}}class Sr extends $n{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(Q){var ie,{document:ue}=this,{screen:M,window:W}=ue,te=Q.canvas;if(M.setDefaults(Q),te.style&&typeof Q.font<"u"&&W&&typeof W.getComputedStyle<"u"){Q.font=W.getComputedStyle(te).getPropertyValue("font");var Ce=new pe(ue,"fontSize",zr.parse(Q.font).fontSize);Ce.hasValue()&&(ue.rootEmSize=Ce.getPixels("y"),ue.emSize=ue.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:ke,height:Ge}=M.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var it=this.getAttribute("refX"),I=this.getAttribute("refY"),B=this.getAttribute("viewBox"),D=B.hasValue()?j(B.getString()):null,K=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",X=0,ne=0,Se=0,me=0;D&&(X=D[0],ne=D[1]),this.root||(ke=this.getStyle("width").getPixels("x"),Ge=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Se=X,me=ne,X=0,ne=0)),M.viewPort.setCurrent(ke,Ge),this.node&&(!this.parent||((ie=this.node.parentNode)===null||ie===void 0?void 0:ie.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(Q),Q.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),D&&(ke=D[2],Ge=D[3]),ue.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:M.viewPort.width,desiredWidth:ke,height:M.viewPort.height,desiredHeight:Ge,minX:X,minY:ne,refX:it.getValue(),refY:I.getValue(),clip:K,clipX:Se,clipY:me}),D&&(M.viewPort.removeCurrent(),M.viewPort.setCurrent(ke,Ge))}clearContext(Q){super.clearContext(Q),this.document.screen.viewPort.removeCurrent()}resize(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.getAttribute("width",!0),W=this.getAttribute("height",!0),te=this.getAttribute("viewBox"),Ce=this.getAttribute("style"),ke=M.getNumber(0),Ge=W.getNumber(0);if(ue)if(typeof ue=="string")this.getAttribute("preserveAspectRatio",!0).setValue(ue);else{var it=this.getAttribute("preserveAspectRatio");it.hasValue()&&it.setValue(it.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(M.setValue(Q),W.setValue(ie),te.hasValue()||te.setValue("0 0 ".concat(ke||Q," ").concat(Ge||ie)),Ce.hasValue()){var I=this.getStyle("width"),B=this.getStyle("height");I.hasValue()&&I.setValue("".concat(Q,"px")),B.hasValue()&&B.setValue("".concat(ie,"px"))}}}class dn extends Lr{constructor(){super(...arguments),this.type="rect"}path(Q){var ie=this.getAttribute("x").getPixels("x"),ue=this.getAttribute("y").getPixels("y"),M=this.getStyle("width",!1,!0).getPixels("x"),W=this.getStyle("height",!1,!0).getPixels("y"),te=this.getAttribute("rx"),Ce=this.getAttribute("ry"),ke=te.getPixels("x"),Ge=Ce.getPixels("y");if(te.hasValue()&&!Ce.hasValue()&&(Ge=ke),Ce.hasValue()&&!te.hasValue()&&(ke=Ge),ke=Math.min(ke,M/2),Ge=Math.min(Ge,W/2),Q){var it=4*((Math.sqrt(2)-1)/3);Q.beginPath(),W>0&&M>0&&(Q.moveTo(ie+ke,ue),Q.lineTo(ie+M-ke,ue),Q.bezierCurveTo(ie+M-ke+it*ke,ue,ie+M,ue+Ge-it*Ge,ie+M,ue+Ge),Q.lineTo(ie+M,ue+W-Ge),Q.bezierCurveTo(ie+M,ue+W-Ge+it*Ge,ie+M-ke+it*ke,ue+W,ie+M-ke,ue+W),Q.lineTo(ie+ke,ue+W),Q.bezierCurveTo(ie+ke-it*ke,ue+W,ie,ue+W-Ge+it*Ge,ie,ue+W-Ge),Q.lineTo(ie,ue+Ge),Q.bezierCurveTo(ie,ue+Ge-it*Ge,ie+ke-it*ke,ue,ie+ke,ue),Q.closePath())}return new gn(ie,ue,ie+M,ue+W)}getMarkers(){return null}}class Dn extends Lr{constructor(){super(...arguments),this.type="circle"}path(Q){var ie=this.getAttribute("cx").getPixels("x"),ue=this.getAttribute("cy").getPixels("y"),M=this.getAttribute("r").getPixels();return Q&&M>0&&(Q.beginPath(),Q.arc(ie,ue,M,0,Math.PI*2,!1),Q.closePath()),new gn(ie-M,ue-M,ie+M,ue+M)}getMarkers(){return null}}class Xr extends Lr{constructor(){super(...arguments),this.type="ellipse"}path(Q){var ie=4*((Math.sqrt(2)-1)/3),ue=this.getAttribute("rx").getPixels("x"),M=this.getAttribute("ry").getPixels("y"),W=this.getAttribute("cx").getPixels("x"),te=this.getAttribute("cy").getPixels("y");return Q&&ue>0&&M>0&&(Q.beginPath(),Q.moveTo(W+ue,te),Q.bezierCurveTo(W+ue,te+ie*M,W+ie*ue,te+M,W,te+M),Q.bezierCurveTo(W-ie*ue,te+M,W-ue,te+ie*M,W-ue,te),Q.bezierCurveTo(W-ue,te-ie*M,W-ie*ue,te-M,W,te-M),Q.bezierCurveTo(W+ie*ue,te-M,W+ue,te-ie*M,W+ue,te),Q.closePath()),new gn(W-ue,te-M,W+ue,te+M)}getMarkers(){return null}}class Un extends Lr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new We(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new We(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(Q){var[{x:ie,y:ue},{x:M,y:W}]=this.getPoints();return Q&&(Q.beginPath(),Q.moveTo(ie,ue),Q.lineTo(M,W)),new gn(ie,ue,M,W)}getMarkers(){var[Q,ie]=this.getPoints(),ue=Q.angleTo(ie);return[[Q,ue],[ie,ue]]}}class Ur extends Lr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="polyline",this.points=[],this.points=We.parsePath(this.getAttribute("points").getString())}path(Q){var{points:ie}=this,[{x:ue,y:M}]=ie,W=new gn(ue,M);return Q&&(Q.beginPath(),Q.moveTo(ue,M)),ie.forEach(te=>{var{x:Ce,y:ke}=te;W.addPoint(Ce,ke),Q&&Q.lineTo(Ce,ke)}),W}getMarkers(){var{points:Q}=this,ie=Q.length-1,ue=[];return Q.forEach((M,W)=>{W!==ie&&ue.push([M,M.angleTo(Q[W+1])])}),ue.length>0&&ue.push([Q[Q.length-1],ue[ue.length-1][1]]),ue}}class ei extends Ur{constructor(){super(...arguments),this.type="polygon"}path(Q){var ie=super.path(Q),[{x:ue,y:M}]=this.points;return Q&&(Q.lineTo(ue,M),Q.closePath()),ie}}class os extends Yr{constructor(){super(...arguments),this.type="pattern"}createPattern(Q,ie,ue){var M=this.getStyle("width").getPixels("x",!0),W=this.getStyle("height").getPixels("y",!0),te=new Sr(this.document,null);te.attributes.viewBox=new pe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),te.attributes.width=new pe(this.document,"width","".concat(M,"px")),te.attributes.height=new pe(this.document,"height","".concat(W,"px")),te.attributes.transform=new pe(this.document,"transform",this.getAttribute("patternTransform").getValue()),te.children=this.children;var Ce=this.document.createCanvas(M,W),ke=Ce.getContext("2d"),Ge=this.getAttribute("x"),it=this.getAttribute("y");Ge.hasValue()&&it.hasValue()&&ke.translate(Ge.getPixels("x",!0),it.getPixels("y",!0)),ue.hasValue()?this.styles["fill-opacity"]=ue:Reflect.deleteProperty(this.styles,"fill-opacity");for(var I=-1;I<=1;I++)for(var B=-1;B<=1;B++)ke.save(),te.attributes.x=new pe(this.document,"x",I*Ce.width),te.attributes.y=new pe(this.document,"y",B*Ce.height),te.render(ke),ke.restore();var D=Q.createPattern(Ce,"repeat");return D}}class jn extends Yr{constructor(){super(...arguments),this.type="marker"}render(Q,ie,ue){if(ie){var{x:M,y:W}=ie,te=this.getAttribute("orient").getString("auto"),Ce=this.getAttribute("markerUnits").getString("strokeWidth");Q.translate(M,W),te==="auto"&&Q.rotate(ue),Ce==="strokeWidth"&&Q.scale(Q.lineWidth,Q.lineWidth),Q.save();var ke=new Sr(this.document,null);ke.type=this.type,ke.attributes.viewBox=new pe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ke.attributes.refX=new pe(this.document,"refX",this.getAttribute("refX").getValue()),ke.attributes.refY=new pe(this.document,"refY",this.getAttribute("refY").getValue()),ke.attributes.width=new pe(this.document,"width",this.getAttribute("markerWidth").getValue()),ke.attributes.height=new pe(this.document,"height",this.getAttribute("markerHeight").getValue()),ke.attributes.overflow=new pe(this.document,"overflow",this.getAttribute("overflow").getValue()),ke.attributes.fill=new pe(this.document,"fill",this.getAttribute("fill").getColor("black")),ke.attributes.stroke=new pe(this.document,"stroke",this.getAttribute("stroke").getValue("none")),ke.children=this.children,ke.render(Q),Q.restore(),Ce==="strokeWidth"&&Q.scale(1/Q.lineWidth,1/Q.lineWidth),te==="auto"&&Q.rotate(-ue),Q.translate(-M,-W)}}}class Ss extends Yr{constructor(){super(...arguments),this.type="defs"}render(){}}class ji extends $n{constructor(){super(...arguments),this.type="g"}getBoundingBox(Q){var ie=new gn;return this.children.forEach(ue=>{ie.addBoundingBox(ue.getBoundingBox(Q))}),ie}}class vi extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:M,children:W}=this;W.forEach(te=>{te.type==="stop"&&M.push(te)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(Q,ie,ue){var M=this;this.getHrefAttribute().hasValue()&&(M=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(M));var{stops:W}=M,te=this.getGradient(Q,ie);if(!te)return this.addParentOpacity(ue,W[W.length-1].color);if(W.forEach(ne=>{te.addColorStop(ne.offset,this.addParentOpacity(ue,ne.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:Ce}=this,{MAX_VIRTUAL_PIXELS:ke,viewPort:Ge}=Ce.screen,[it]=Ge.viewPorts,I=new dn(Ce,null);I.attributes.x=new pe(Ce,"x",-ke/3),I.attributes.y=new pe(Ce,"y",-ke/3),I.attributes.width=new pe(Ce,"width",ke),I.attributes.height=new pe(Ce,"height",ke);var B=new ji(Ce,null);B.attributes.transform=new pe(Ce,"transform",this.getAttribute("gradientTransform").getValue()),B.children=[I];var D=new Sr(Ce,null);D.attributes.x=new pe(Ce,"x",0),D.attributes.y=new pe(Ce,"y",0),D.attributes.width=new pe(Ce,"width",it.width),D.attributes.height=new pe(Ce,"height",it.height),D.children=[B];var K=Ce.createCanvas(it.width,it.height),X=K.getContext("2d");return X.fillStyle=te,D.render(X),X.createPattern(K,"no-repeat")}return te}inheritStopContainer(Q){this.attributesToInherit.forEach(ie=>{!this.getAttribute(ie).hasValue()&&Q.getAttribute(ie).hasValue()&&this.getAttribute(ie,!0).setValue(Q.getAttribute(ie).getValue())})}addParentOpacity(Q,ie){if(Q.hasValue()){var ue=new pe(this.document,"color",ie);return ue.addOpacity(Q).getColor()}return ie}}class Ui extends vi{constructor(Q,ie,ue){super(Q,ie,ue),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(Q,ie){var ue=this.getGradientUnits()==="objectBoundingBox",M=ue?ie.getBoundingBox(Q):null;if(ue&&!M)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var W=ue?M.x+M.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),te=ue?M.y+M.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),Ce=ue?M.x+M.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),ke=ue?M.y+M.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return W===Ce&&te===ke?null:Q.createLinearGradient(W,te,Ce,ke)}}class Bi extends vi{constructor(Q,ie,ue){super(Q,ie,ue),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(Q,ie){var ue=this.getGradientUnits()==="objectBoundingBox",M=ie.getBoundingBox(Q);if(ue&&!M)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var W=ue?M.x+M.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),te=ue?M.y+M.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),Ce=W,ke=te;this.getAttribute("fx").hasValue()&&(Ce=ue?M.x+M.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(ke=ue?M.y+M.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ge=ue?(M.width+M.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),it=this.getAttribute("fr").getPixels();return Q.createRadialGradient(Ce,ke,it,W,te,Ge)}}class Bs extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="stop";var M=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),W=this.getStyle("stop-opacity"),te=this.getStyle("stop-color",!0);te.getString()===""&&te.setValue("#000"),W.hasValue()&&(te=te.addOpacity(W)),this.offset=M,this.color=te.getColor()}}class ri extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,Q.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new pe(Q,"values",null);var M=this.getAttribute("values");M.hasValue()&&this.values.setValue(M.getString().split(";"))}getProperty(){var Q=this.getAttribute("attributeType").getString(),ie=this.getAttribute("attributeName").getString();return Q==="CSS"?this.parent.getStyle(ie,!0):this.parent.getAttribute(ie,!0)}calcValue(){var{initialUnits:Q}=this,{progress:ie,from:ue,to:M}=this.getProgress(),W=ue.getNumber()+(M.getNumber()-ue.getNumber())*ie;return Q==="%"&&(W*=100),"".concat(W).concat(Q)}update(Q){var{parent:ie}=this,ue=this.getProperty();if(this.initialValue||(this.initialValue=ue.getString(),this.initialUnits=ue.getUnits()),this.duration>this.maxDuration){var M=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(M==="freeze"&&!this.frozen)this.frozen=!0,ie.animationFrozen=!0,ie.animationFrozenValue=ue.getString();else if(M==="remove"&&!this.removed)return this.removed=!0,ue.setValue(ie.animationFrozen?ie.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=Q;var W=!1;if(this.begin<this.duration){var te=this.calcValue(),Ce=this.getAttribute("type");if(Ce.hasValue()){var ke=Ce.getString();te="".concat(ke,"(").concat(te,")")}ue.setValue(te),W=!0}return W}getProgress(){var{document:Q,values:ie}=this,ue={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(ie.hasValue()){var M=ue.progress*(ie.getValue().length-1),W=Math.floor(M),te=Math.ceil(M);ue.from=new pe(Q,"from",parseFloat(ie.getValue()[W])),ue.to=new pe(Q,"to",parseFloat(ie.getValue()[te])),ue.progress=(M-W)/(te-W)}else ue.from=this.from,ue.to=this.to;return ue}}class Ks extends ri{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:Q,from:ie,to:ue}=this.getProgress(),M=new f(ie.getColor()),W=new f(ue.getColor());if(M.ok&&W.ok){var te=M.r+(W.r-M.r)*Q,Ce=M.g+(W.g-M.g)*Q,ke=M.b+(W.b-M.b)*Q;return"rgb(".concat(Math.floor(te),", ").concat(Math.floor(Ce),", ").concat(Math.floor(ke),")")}return this.getAttribute("from").getColor()}}class Wa extends ri{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:Q,from:ie,to:ue}=this.getProgress(),M=j(ie.getString()),W=j(ue.getString()),te=M.map((Ce,ke)=>{var Ge=W[ke];return Ce+(Ge-Ce)*Q}).join(" ");return te}}class wc extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:M}=Q,{children:W}=this;for(var te of W)switch(te.type){case"font-face":{this.fontFace=te;var Ce=te.getStyle("font-family");Ce.hasValue()&&(M[Ce.getString()]=this);break}case"missing-glyph":this.missingGlyph=te;break;case"glyph":{var ke=te;ke.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[ke.unicode]>"u"&&(this.glyphs[ke.unicode]=Object.create(null)),this.glyphs[ke.unicode][ke.arabicForm]=ke):this.glyphs[ke.unicode]=ke;break}}}render(){}}class ms extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Nl extends Lr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class jc extends wn{constructor(){super(...arguments),this.type="tref"}getText(){var Q=this.getHrefAttribute().getDefinition();if(Q){var ie=Q.children[0];if(ie)return ie.getText()}return""}}class Sl extends wn{constructor(Q,ie,ue){super(Q,ie,ue),this.type="a";var{childNodes:M}=ie,W=M[0],te=M.length>0&&Array.from(M).every(Ce=>Ce.nodeType===3);this.hasText=te,this.text=te?this.getTextFromNode(W):""}getText(){return this.text}renderChildren(Q){if(this.hasText){super.renderChildren(Q);var{document:ie,x:ue,y:M}=this,{mouse:W}=ie.screen,te=new pe(ie,"fontSize",zr.parse(ie.ctx.font).fontSize);W.isWorking()&&W.checkBoundingBox(this,new gn(ue,M-te.getPixels("y"),ue+this.measureText(Q),M))}else if(this.children.length>0){var Ce=new ji(this.document,null);Ce.children=this.children,Ce.parent=this,Ce.render(Q)}}onClick(){var{window:Q}=this.document;Q&&Q.open(this.getHrefAttribute().getString())}onMouseMove(){var Q=this.document.ctx;Q.canvas.style.cursor="pointer"}}function Hi(Ut,Q){var ie=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Ut);Q&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(Ut,M).enumerable})),ie.push.apply(ie,ue)}return ie}function go(Ut){for(var Q=1;Q<arguments.length;Q++){var ie=arguments[Q]!=null?arguments[Q]:{};Q%2?Hi(Object(ie),!0).forEach(function(ue){(0,h.default)(Ut,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(ie)):Hi(Object(ie)).forEach(function(ue){Object.defineProperty(Ut,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return Ut}class ha extends wn{constructor(Q,ie,ue){super(Q,ie,ue),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var M=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(M)}getText(){return this.text}path(Q){var{dataArray:ie}=this;Q&&Q.beginPath(),ie.forEach(ue=>{var{type:M,points:W}=ue;switch(M){case Wr.LINE_TO:Q&&Q.lineTo(W[0],W[1]);break;case Wr.MOVE_TO:Q&&Q.moveTo(W[0],W[1]);break;case Wr.CURVE_TO:Q&&Q.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case Wr.QUAD_TO:Q&&Q.quadraticCurveTo(W[0],W[1],W[2],W[3]);break;case Wr.ARC:{var[te,Ce,ke,Ge,it,I,B,D]=W,K=ke>Ge?ke:Ge,X=ke>Ge?1:ke/Ge,ne=ke>Ge?Ge/ke:1;Q&&(Q.translate(te,Ce),Q.rotate(B),Q.scale(X,ne),Q.arc(0,0,K,it,it+I,!!(1-D)),Q.scale(1/X,1/ne),Q.rotate(-B),Q.translate(-te,-Ce));break}case Wr.CLOSE_PATH:Q&&Q.closePath();break}})}renderChildren(Q){this.setTextData(Q),Q.save();var ie=this.parent.getStyle("text-decoration").getString(),ue=this.getFontSize(),{glyphInfo:M}=this,W=Q.fillStyle;ie==="underline"&&Q.beginPath(),M.forEach((te,Ce)=>{var{p0:ke,p1:Ge,rotation:it,text:I}=te;Q.save(),Q.translate(ke.x,ke.y),Q.rotate(it),Q.fillStyle&&Q.fillText(I,0,0),Q.strokeStyle&&Q.strokeText(I,0,0),Q.restore(),ie==="underline"&&(Ce===0&&Q.moveTo(ke.x,ke.y+ue/8),Q.lineTo(Ge.x,Ge.y+ue/5))}),ie==="underline"&&(Q.lineWidth=ue/20,Q.strokeStyle=W,Q.stroke(),Q.closePath()),Q.restore()}getLetterSpacingAt(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[Q]||0}findSegmentToFitChar(Q,ie,ue,M,W,te,Ce,ke,Ge){var it=te,I=this.measureText(Q,ke);ke===" "&&ie==="justify"&&ue<M&&(I+=(M-ue)/W),Ge>-1&&(it+=this.getLetterSpacingAt(Ge));var B=this.textHeight/20,D=this.getEquidistantPointOnPath(it,B,0),K=this.getEquidistantPointOnPath(it+I,B,0),X={p0:D,p1:K},ne=D&&K?Math.atan2(K.y-D.y,K.x-D.x):0;if(Ce){var Se=Math.cos(Math.PI/2+ne)*Ce,me=Math.cos(-ne)*Ce;X.p0=go(go({},D),{},{x:D.x+Se,y:D.y+me}),X.p1=go(go({},K),{},{x:K.x+Se,y:K.y+me})}return it+=I,{offset:it,segment:X,rotation:ne}}measureText(Q,ie){var{measuresCache:ue}=this,M=ie||this.getText();if(ue.has(M))return ue.get(M);var W=this.measureTargetText(Q,M);return ue.set(M,W),W}setTextData(Q){if(!this.glyphInfo){var ie=this.getText(),ue=ie.split(""),M=ie.split(" ").length-1,W=this.parent.getAttribute("dx").split().map(De=>De.getPixels("x")),te=this.parent.getAttribute("dy").getPixels("y"),Ce=this.parent.getStyle("text-anchor").getString("start"),ke=this.getStyle("letter-spacing"),Ge=this.parent.getStyle("letter-spacing"),it=0;!ke.hasValue()||ke.getValue()==="inherit"?it=Ge.getPixels():ke.hasValue()&&ke.getValue()!=="initial"&&ke.getValue()!=="unset"&&(it=ke.getPixels());var I=[],B=ie.length;this.letterSpacingCache=I;for(var D=0;D<B;D++)I.push(typeof W[D]<"u"?W[D]:it);var K=I.reduce((De,Ve,et)=>et===0?0:De+Ve||0,0),X=this.measureText(Q),ne=Math.max(X+K,0);this.textWidth=X,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Se=this.getPathLength(),me=this.getStyle("startOffset").getNumber(0)*Se,xe=0;(Ce==="middle"||Ce==="center")&&(xe=-ne/2),(Ce==="end"||Ce==="right")&&(xe=-ne),xe+=me,ue.forEach((De,Ve)=>{var{offset:et,segment:st,rotation:Oe}=this.findSegmentToFitChar(Q,Ce,ne,Se,M,xe,te,De,Ve);xe=et,!(!st.p0||!st.p1)&&this.glyphInfo.push({text:ue[Ve],p0:st.p0,p1:st.p1,rotation:Oe})})}}parsePathData(Q){if(this.pathLength=-1,!Q)return[];var ie=[],{pathParser:ue}=Q;for(ue.reset();!ue.isEnd();){var{current:M}=ue,W=M?M.x:0,te=M?M.y:0,Ce=ue.next(),ke=Ce.type,Ge=[];switch(Ce.type){case Wr.MOVE_TO:this.pathM(ue,Ge);break;case Wr.LINE_TO:ke=this.pathL(ue,Ge);break;case Wr.HORIZ_LINE_TO:ke=this.pathH(ue,Ge);break;case Wr.VERT_LINE_TO:ke=this.pathV(ue,Ge);break;case Wr.CURVE_TO:this.pathC(ue,Ge);break;case Wr.SMOOTH_CURVE_TO:ke=this.pathS(ue,Ge);break;case Wr.QUAD_TO:this.pathQ(ue,Ge);break;case Wr.SMOOTH_QUAD_TO:ke=this.pathT(ue,Ge);break;case Wr.ARC:Ge=this.pathA(ue);break;case Wr.CLOSE_PATH:Lr.pathZ(ue);break}Ce.type!==Wr.CLOSE_PATH?ie.push({type:ke,points:Ge,start:{x:W,y:te},pathLength:this.calcLength(W,te,ke,Ge)}):ie.push({type:Wr.CLOSE_PATH,points:[],pathLength:0})}return ie}pathM(Q,ie){var{x:ue,y:M}=Lr.pathM(Q).point;ie.push(ue,M)}pathL(Q,ie){var{x:ue,y:M}=Lr.pathL(Q).point;return ie.push(ue,M),Wr.LINE_TO}pathH(Q,ie){var{x:ue,y:M}=Lr.pathH(Q).point;return ie.push(ue,M),Wr.LINE_TO}pathV(Q,ie){var{x:ue,y:M}=Lr.pathV(Q).point;return ie.push(ue,M),Wr.LINE_TO}pathC(Q,ie){var{point:ue,controlPoint:M,currentPoint:W}=Lr.pathC(Q);ie.push(ue.x,ue.y,M.x,M.y,W.x,W.y)}pathS(Q,ie){var{point:ue,controlPoint:M,currentPoint:W}=Lr.pathS(Q);return ie.push(ue.x,ue.y,M.x,M.y,W.x,W.y),Wr.CURVE_TO}pathQ(Q,ie){var{controlPoint:ue,currentPoint:M}=Lr.pathQ(Q);ie.push(ue.x,ue.y,M.x,M.y)}pathT(Q,ie){var{controlPoint:ue,currentPoint:M}=Lr.pathT(Q);return ie.push(ue.x,ue.y,M.x,M.y),Wr.QUAD_TO}pathA(Q){var{rX:ie,rY:ue,sweepFlag:M,xAxisRotation:W,centp:te,a1:Ce,ad:ke}=Lr.pathA(Q);return M===0&&ke>0&&(ke-=2*Math.PI),M===1&&ke<0&&(ke+=2*Math.PI),[te.x,te.y,ie,ue,Ce,ke,W,M]}calcLength(Q,ie,ue,M){var W=0,te=null,Ce=null,ke=0;switch(ue){case Wr.LINE_TO:return this.getLineLength(Q,ie,M[0],M[1]);case Wr.CURVE_TO:for(W=0,te=this.getPointOnCubicBezier(0,Q,ie,M[0],M[1],M[2],M[3],M[4],M[5]),ke=.01;ke<=1;ke+=.01)Ce=this.getPointOnCubicBezier(ke,Q,ie,M[0],M[1],M[2],M[3],M[4],M[5]),W+=this.getLineLength(te.x,te.y,Ce.x,Ce.y),te=Ce;return W;case Wr.QUAD_TO:for(W=0,te=this.getPointOnQuadraticBezier(0,Q,ie,M[0],M[1],M[2],M[3]),ke=.01;ke<=1;ke+=.01)Ce=this.getPointOnQuadraticBezier(ke,Q,ie,M[0],M[1],M[2],M[3]),W+=this.getLineLength(te.x,te.y,Ce.x,Ce.y),te=Ce;return W;case Wr.ARC:{W=0;var Ge=M[4],it=M[5],I=M[4]+it,B=Math.PI/180;if(Math.abs(Ge-I)<B&&(B=Math.abs(Ge-I)),te=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Ge,0),it<0)for(ke=Ge-B;ke>I;ke-=B)Ce=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],ke,0),W+=this.getLineLength(te.x,te.y,Ce.x,Ce.y),te=Ce;else for(ke=Ge+B;ke<I;ke+=B)Ce=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],ke,0),W+=this.getLineLength(te.x,te.y,Ce.x,Ce.y),te=Ce;return Ce=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],I,0),W+=this.getLineLength(te.x,te.y,Ce.x,Ce.y),W}}return 0}getPointOnLine(Q,ie,ue,M,W){var te=arguments.length>5&&arguments[5]!==void 0?arguments[5]:ie,Ce=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ue,ke=(W-ue)/(M-ie+_e),Ge=Math.sqrt(Q*Q/(1+ke*ke));M<ie&&(Ge*=-1);var it=ke*Ge,I=null;if(M===ie)I={x:te,y:Ce+it};else if((Ce-ue)/(te-ie+_e)===ke)I={x:te+Ge,y:Ce+it};else{var B=0,D=0,K=this.getLineLength(ie,ue,M,W);if(K<_e)return null;var X=(te-ie)*(M-ie)+(Ce-ue)*(W-ue);X/=K*K,B=ie+X*(M-ie),D=ue+X*(W-ue);var ne=this.getLineLength(te,Ce,B,D),Se=Math.sqrt(Q*Q-ne*ne);Ge=Math.sqrt(Se*Se/(1+ke*ke)),M<ie&&(Ge*=-1),it=ke*Ge,I={x:B+Ge,y:D+it}}return I}getPointOnPath(Q){var ie=this.getPathLength(),ue=0,M=null;if(Q<-5e-5||Q-5e-5>ie)return null;var{dataArray:W}=this;for(var te of W){if(te&&(te.pathLength<5e-5||ue+te.pathLength+5e-5<Q)){ue+=te.pathLength;continue}var Ce=Q-ue,ke=0;switch(te.type){case Wr.LINE_TO:M=this.getPointOnLine(Ce,te.start.x,te.start.y,te.points[0],te.points[1],te.start.x,te.start.y);break;case Wr.ARC:{var Ge=te.points[4],it=te.points[5],I=te.points[4]+it;if(ke=Ge+Ce/te.pathLength*it,it<0&&ke<I||it>=0&&ke>I)break;M=this.getPointOnEllipticalArc(te.points[0],te.points[1],te.points[2],te.points[3],ke,te.points[6]);break}case Wr.CURVE_TO:ke=Ce/te.pathLength,ke>1&&(ke=1),M=this.getPointOnCubicBezier(ke,te.start.x,te.start.y,te.points[0],te.points[1],te.points[2],te.points[3],te.points[4],te.points[5]);break;case Wr.QUAD_TO:ke=Ce/te.pathLength,ke>1&&(ke=1),M=this.getPointOnQuadraticBezier(ke,te.start.x,te.start.y,te.points[0],te.points[1],te.points[2],te.points[3]);break}if(M)return M;break}return null}getLineLength(Q,ie,ue,M){return Math.sqrt((ue-Q)*(ue-Q)+(M-ie)*(M-ie))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((Q,ie)=>ie.pathLength>0?Q+ie.pathLength:Q,0)),this.pathLength}getPointOnCubicBezier(Q,ie,ue,M,W,te,Ce,ke,Ge){var it=ke*se(Q)+te*he(Q)+M*Ne(Q)+ie*Pe(Q),I=Ge*se(Q)+Ce*he(Q)+W*Ne(Q)+ue*Pe(Q);return{x:it,y:I}}getPointOnQuadraticBezier(Q,ie,ue,M,W,te,Ce){var ke=te*ye(Q)+M*ce(Q)+ie*q(Q),Ge=Ce*ye(Q)+W*ce(Q)+ue*q(Q);return{x:ke,y:Ge}}getPointOnEllipticalArc(Q,ie,ue,M,W,te){var Ce=Math.cos(te),ke=Math.sin(te),Ge={x:ue*Math.cos(W),y:M*Math.sin(W)};return{x:Q+(Ge.x*Ce-Ge.y*ke),y:ie+(Ge.x*ke+Ge.y*Ce)}}buildEquidistantCache(Q,ie){var ue=this.getPathLength(),M=ie||.25,W=Q||ue/100;if(!this.equidistantCache||this.equidistantCache.step!==W||this.equidistantCache.precision!==M){this.equidistantCache={step:W,precision:M,points:[]};for(var te=0,Ce=0;Ce<=ue;Ce+=M){var ke=this.getPointOnPath(Ce),Ge=this.getPointOnPath(Ce+M);!ke||!Ge||(te+=this.getLineLength(ke.x,ke.y,Ge.x,Ge.y),te>=W&&(this.equidistantCache.points.push({x:ke.x,y:ke.y,distance:Ce}),te-=W))}}}getEquidistantPointOnPath(Q,ie,ue){if(this.buildEquidistantCache(ie,ue),Q<0||Q-this.getPathLength()>5e-5)return null;var M=Math.round(Q/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[M]||null}}var Yl=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ni extends $n{constructor(Q,ie,ue){super(Q,ie,ue),this.type="image",this.loaded=!1;var M=this.getHrefAttribute().getString();if(M){var W=M.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(M);Q.images.push(this),W?this.loadSvg(M):this.loadImage(M),this.isSvg=W}}loadImage(Q){var ie=this;return(0,d.default)(function*(){try{var ue=yield ie.document.createImage(Q);ie.image=ue}catch(M){console.error('Error while loading image "'.concat(Q,'":'),M)}ie.loaded=!0})()}loadSvg(Q){var ie=this;return(0,d.default)(function*(){var ue=Yl.exec(Q);if(ue){var M=ue[5];ue[4]==="base64"?ie.image=atob(M):ie.image=decodeURIComponent(M)}else try{var W=yield ie.document.fetch(Q),te=yield W.text();ie.image=te}catch(Ce){console.error('Error while loading image "'.concat(Q,'":'),Ce)}ie.loaded=!0})()}renderChildren(Q){var{document:ie,image:ue,loaded:M}=this,W=this.getAttribute("x").getPixels("x"),te=this.getAttribute("y").getPixels("y"),Ce=this.getStyle("width").getPixels("x"),ke=this.getStyle("height").getPixels("y");if(!(!M||!ue||!Ce||!ke)){if(Q.save(),Q.translate(W,te),this.isSvg){var Ge=ie.canvg.forkString(Q,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:Ce,scaleHeight:ke});Ge.document.documentElement.parent=this,Ge.render()}else{var it=this.image;ie.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:Ce,desiredWidth:it.width,height:ke,desiredHeight:it.height}),this.loaded&&(typeof it.complete>"u"||it.complete)&&Q.drawImage(it,0,0)}Q.restore()}}getBoundingBox(){var Q=this.getAttribute("x").getPixels("x"),ie=this.getAttribute("y").getPixels("y"),ue=this.getStyle("width").getPixels("x"),M=this.getStyle("height").getPixels("y");return new gn(Q,ie,Q+ue,ie+M)}}class Bo extends $n{constructor(){super(...arguments),this.type="symbol"}render(Q){}}class Gs{constructor(Q){this.document=Q,this.loaded=!1,Q.fonts.push(this)}load(Q,ie){var ue=this;return(0,d.default)(function*(){try{var{document:M}=ue,W=yield M.canvg.parser.load(ie),te=W.getElementsByTagName("font");Array.from(te).forEach(Ce=>{var ke=M.createElement(Ce);M.definitions[Q]=ke})}catch(Ce){console.error('Error while loading font "'.concat(ie,'":'),Ce)}ue.loaded=!0})()}}class Eo extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="style";var M=w(Array.from(ie.childNodes).map(te=>te.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),W=M.split("}");W.forEach(te=>{var Ce=te.trim();if(Ce){var ke=Ce.split("{"),Ge=ke[0].split(","),it=ke[1].split(";");Ge.forEach(I=>{var B=I.trim();if(B){var D=Q.styles[B]||{};if(it.forEach(ne=>{var Se=ne.indexOf(":"),me=ne.substr(0,Se).trim(),xe=ne.substr(Se+1,ne.length-Se).trim();me&&xe&&(D[me]=new pe(Q,me,xe))}),Q.styles[B]=D,Q.stylesSpecificity[B]=Ie(B),B==="@font-face"){var K=D["font-family"].getString().replace(/"|'/g,""),X=D.src.getString().split(",");X.forEach(ne=>{if(ne.indexOf('format("svg")')>0){var Se=Z(ne);Se&&new Gs(Q).load(K,Se)}})}}})}})}}Eo.parseExternalUrl=Z;class el extends $n{constructor(){super(...arguments),this.type="use"}setContext(Q){super.setContext(Q);var ie=this.getAttribute("x"),ue=this.getAttribute("y");ie.hasValue()&&Q.translate(ie.getPixels("x"),0),ue.hasValue()&&Q.translate(0,ue.getPixels("y"))}path(Q){var{element:ie}=this;ie&&ie.path(Q)}renderChildren(Q){var{document:ie,element:ue}=this;if(ue){var M=ue;if(ue.type==="symbol"&&(M=new Sr(ie,null),M.attributes.viewBox=new pe(ie,"viewBox",ue.getAttribute("viewBox").getString()),M.attributes.preserveAspectRatio=new pe(ie,"preserveAspectRatio",ue.getAttribute("preserveAspectRatio").getString()),M.attributes.overflow=new pe(ie,"overflow",ue.getAttribute("overflow").getString()),M.children=ue.children,ue.styles.opacity=new pe(ie,"opacity",this.calculateOpacity())),M.type==="svg"){var W=this.getStyle("width",!1,!0),te=this.getStyle("height",!1,!0);W.hasValue()&&(M.attributes.width=new pe(ie,"width",W.getString())),te.hasValue()&&(M.attributes.height=new pe(ie,"height",te.getString()))}var Ce=M.parent;M.parent=this,M.render(Q),M.parent=Ce}}getBoundingBox(Q){var{element:ie}=this;return ie?ie.getBoundingBox(Q):null}elementTransform(){var{document:Q,element:ie}=this;return on.fromElement(Q,ie)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Io(Ut,Q,ie,ue,M,W){return Ut[ie*ue*4+Q*4+W]}function Hs(Ut,Q,ie,ue,M,W,te){Ut[ie*ue*4+Q*4+W]=te}function Ci(Ut,Q,ie){var ue=Ut[Q];return ue*ie}function ai(Ut,Q,ie,ue){return Q+Math.cos(Ut)*ie+Math.sin(Ut)*ue}class Al extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="feColorMatrix";var M=j(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var W=M[0];M=[.213+.787*W,.715-.715*W,.072-.072*W,0,0,.213-.213*W,.715+.285*W,.072-.072*W,0,0,.213-.213*W,.715-.715*W,.072+.928*W,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var te=M[0]*Math.PI/180;M=[ai(te,.213,.787,-.213),ai(te,.715,-.715,-.715),ai(te,.072,-.072,.928),0,0,ai(te,.213,-.213,.143),ai(te,.715,.285,.14),ai(te,.072,-.072,-.283),0,0,ai(te,.213,-.213,-.787),ai(te,.715,-.715,.715),ai(te,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=M,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(Q,ie,ue,M,W){for(var{includeOpacity:te,matrix:Ce}=this,ke=Q.getImageData(0,0,M,W),Ge=0;Ge<W;Ge++)for(var it=0;it<M;it++){var I=Io(ke.data,it,Ge,M,W,0),B=Io(ke.data,it,Ge,M,W,1),D=Io(ke.data,it,Ge,M,W,2),K=Io(ke.data,it,Ge,M,W,3),X=Ci(Ce,0,I)+Ci(Ce,1,B)+Ci(Ce,2,D)+Ci(Ce,3,K)+Ci(Ce,4,1),ne=Ci(Ce,5,I)+Ci(Ce,6,B)+Ci(Ce,7,D)+Ci(Ce,8,K)+Ci(Ce,9,1),Se=Ci(Ce,10,I)+Ci(Ce,11,B)+Ci(Ce,12,D)+Ci(Ce,13,K)+Ci(Ce,14,1),me=Ci(Ce,15,I)+Ci(Ce,16,B)+Ci(Ce,17,D)+Ci(Ce,18,K)+Ci(Ce,19,1);te&&(X=0,ne=0,Se=0,me*=K/255),Hs(ke.data,it,Ge,M,W,0,X),Hs(ke.data,it,Ge,M,W,1,ne),Hs(ke.data,it,Ge,M,W,2,Se),Hs(ke.data,it,Ge,M,W,3,me)}Q.clearRect(0,0,M,W),Q.putImageData(ke,0,0)}}class To extends Yr{constructor(){super(...arguments),this.type="mask"}apply(Q,ie){var{document:ue}=this,M=this.getAttribute("x").getPixels("x"),W=this.getAttribute("y").getPixels("y"),te=this.getStyle("width").getPixels("x"),Ce=this.getStyle("height").getPixels("y");if(!te&&!Ce){var ke=new gn;this.children.forEach(K=>{ke.addBoundingBox(K.getBoundingBox(Q))}),M=Math.floor(ke.x1),W=Math.floor(ke.y1),te=Math.floor(ke.width),Ce=Math.floor(ke.height)}var Ge=this.removeStyles(ie,To.ignoreStyles),it=ue.createCanvas(M+te,W+Ce),I=it.getContext("2d");ue.screen.setDefaults(I),this.renderChildren(I),new Al(ue,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(I,0,0,M+te,W+Ce);var B=ue.createCanvas(M+te,W+Ce),D=B.getContext("2d");ue.screen.setDefaults(D),ie.render(D),D.globalCompositeOperation="destination-in",D.fillStyle=I.createPattern(it,"no-repeat"),D.fillRect(0,0,M+te,W+Ce),Q.fillStyle=D.createPattern(B,"no-repeat"),Q.fillRect(0,0,M+te,W+Ce),this.restoreStyles(ie,Ge)}render(Q){}}To.ignoreStyles=["mask","transform","clip-path"];var Lc=()=>{};class ls extends Yr{constructor(){super(...arguments),this.type="clipPath"}apply(Q){var{document:ie}=this,ue=Reflect.getPrototypeOf(Q),{beginPath:M,closePath:W}=Q;ue&&(ue.beginPath=Lc,ue.closePath=Lc),Reflect.apply(M,Q,[]),this.children.forEach(te=>{if(!(typeof te.path>"u")){var Ce=typeof te.elementTransform<"u"?te.elementTransform():null;Ce||(Ce=on.fromElement(ie,te)),Ce&&Ce.apply(Q),te.path(Q),ue&&(ue.closePath=W),Ce&&Ce.unapply(Q)}}),Reflect.apply(W,Q,[]),Q.clip(),ue&&(ue.beginPath=M,ue.closePath=W)}render(Q){}}class qn extends Yr{constructor(){super(...arguments),this.type="filter"}apply(Q,ie){var{document:ue,children:M}=this,W=ie.getBoundingBox(Q);if(W){var te=0,Ce=0;M.forEach(Se=>{var me=Se.extraFilterDistance||0;te=Math.max(te,me),Ce=Math.max(Ce,me)});var ke=Math.floor(W.width),Ge=Math.floor(W.height),it=ke+2*te,I=Ge+2*Ce;if(!(it<1||I<1)){var B=Math.floor(W.x),D=Math.floor(W.y),K=this.removeStyles(ie,qn.ignoreStyles),X=ue.createCanvas(it,I),ne=X.getContext("2d");ue.screen.setDefaults(ne),ne.translate(-B+te,-D+Ce),ie.render(ne),M.forEach(Se=>{typeof Se.apply=="function"&&Se.apply(ne,0,0,it,I)}),Q.drawImage(X,0,0,it,I,B-te,D-Ce,it,I),this.restoreStyles(ie,K)}}}render(Q){}}qn.ignoreStyles=["filter","transform","clip-path"];class Qi extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(Q,ie,ue,M,W){}}class gs extends Yr{constructor(){super(...arguments),this.type="feMorphology"}apply(Q,ie,ue,M,W){}}class vs extends Yr{constructor(){super(...arguments),this.type="feComposite"}apply(Q,ie,ue,M,W){}}class _o extends Yr{constructor(Q,ie,ue){super(Q,ie,ue),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(Q,ie,ue,M,W){var{document:te,blurRadius:Ce}=this,ke=te.window?te.window.document.body:null,Ge=Q.canvas;Ge.id=te.getUniqueId(),ke&&(Ge.style.display="none",ke.appendChild(Ge)),(0,m.canvasRGBA)(Ge,ie,ue,M,W,Ce),ke&&ke.removeChild(Ge)}}class Di extends Yr{constructor(){super(...arguments),this.type="title"}}class so extends Yr{constructor(){super(...arguments),this.type="desc"}}var Xi={svg:Sr,rect:dn,circle:Dn,ellipse:Xr,line:Un,polyline:Ur,polygon:ei,path:Lr,pattern:os,marker:jn,defs:Ss,linearGradient:Ui,radialGradient:Bi,stop:Bs,animate:ri,animateColor:Ks,animateTransform:Wa,font:wc,"font-face":ms,"missing-glyph":Nl,glyph:Dr,text:wn,tspan:cn,tref:jc,a:Sl,textPath:ha,image:ni,g:ji,symbol:Bo,style:Eo,use:el,mask:To,clipPath:ls,filter:qn,feDropShadow:Qi,feMorphology:gs,feComposite:vs,feColorMatrix:Al,feGaussianBlur:_o,title:Di,desc:so};function ki(Ut,Q){var ie=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Ut);Q&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(Ut,M).enumerable})),ie.push.apply(ie,ue)}return ie}function vo(Ut){for(var Q=1;Q<arguments.length;Q++){var ie=arguments[Q]!=null?arguments[Q]:{};Q%2?ki(Object(ie),!0).forEach(function(ue){(0,h.default)(Ut,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(ie)):ki(Object(ie)).forEach(function(ue){Object.defineProperty(Ut,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return Ut}function Oo(Ut,Q){var ie=document.createElement("canvas");return ie.width=Ut,ie.height=Q,ie}function pa(Ut){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,d.default)(function*(Ut){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ie=document.createElement("img");return Q&&(ie.crossOrigin="Anonymous"),new Promise((ue,M)=>{ie.onload=()=>{ue(ie)},ie.onerror=(W,te,Ce,ke,Ge)=>{M(Ge)},ie.src=Ut})}),Wi.apply(this,arguments)}class xs{constructor(Q){var{rootEmSize:ie=12,emSize:ue=12,createCanvas:M=xs.createCanvas,createImage:W=xs.createImage,anonymousCrossOrigin:te}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=Q,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=Q.screen,this.rootEmSize=ie,this.emSize=ue,this.createCanvas=M,this.createImage=this.bindCreateImage(W,te),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(Q,ie){return typeof ie=="boolean"?(ue,M)=>Q(ue,typeof M=="boolean"?M:ie):Q}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:Q}=this;return Q[Q.length-1]}set emSize(Q){var{emSizeStack:ie}=this;ie.push(Q)}popEmSize(){var{emSizeStack:Q}=this;Q.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(Q=>Q.loaded)}isFontsLoaded(){return this.fonts.every(Q=>Q.loaded)}createDocumentElement(Q){var ie=this.createElement(Q.documentElement);return ie.root=!0,ie.addStylesFromStyleDefinition(),this.documentElement=ie,ie}createElement(Q){var ie=Q.nodeName.replace(/^[^:]+:/,""),ue=xs.elementTypes[ie];return typeof ue<"u"?new ue(this,Q):new qr(this,Q)}createTextNode(Q){return new bt(this,Q)}setViewBox(Q){this.screen.setViewBox(vo({document:this},Q))}}xs.createCanvas=Oo,xs.createImage=pa,xs.elementTypes=Xi;function qs(Ut,Q){var ie=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Ut);Q&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(Ut,M).enumerable})),ie.push.apply(ie,ue)}return ie}function ks(Ut){for(var Q=1;Q<arguments.length;Q++){var ie=arguments[Q]!=null?arguments[Q]:{};Q%2?qs(Object(ie),!0).forEach(function(ue){(0,h.default)(Ut,ue,ie[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(ie)):qs(Object(ie)).forEach(function(ue){Object.defineProperty(Ut,ue,Object.getOwnPropertyDescriptor(ie,ue))})}return Ut}class ko{constructor(Q,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Lt(ue),this.screen=new Le(Q,ue),this.options=ue;var M=new xs(this,ue),W=M.createDocumentElement(ie);this.document=M,this.documentElement=W}static from(Q,ie){var ue=arguments;return(0,d.default)(function*(){var M=ue.length>2&&ue[2]!==void 0?ue[2]:{},W=new Lt(M),te=yield W.parse(ie);return new ko(Q,te,M)})()}static fromString(Q,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=new Lt(ue),W=M.parseFromString(ie);return new ko(Q,W,ue)}fork(Q,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ko.from(Q,ie,ks(ks({},this.options),ue))}forkString(Q,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ko.fromString(Q,ie,ks(ks({},this.options),ue))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var Q=arguments,ie=this;return(0,d.default)(function*(){var ue=Q.length>0&&Q[0]!==void 0?Q[0]:{};ie.start(ks({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},ue)),yield ie.ready(),ie.stop()})()}start(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:ie,screen:ue,options:M}=this;ue.start(ie,ks(ks({enableRedraw:!0},M),Q))}stop(){this.screen.stop()}resize(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(Q,ie,ue)}}}),"./node_modules/core-js/internals/a-callable.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),h=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;l.exports=function(f){if(d(f))return f;throw new A(h(f)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-constructor.js"),h=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;l.exports=function(f){if(d(f))return f;throw new A(h(f)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-possible-prototype.js"),h=String,A=TypeError;l.exports=function(f){if(d(f))return f;throw new A("Can't set "+h(f)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/set-helpers.js").has;l.exports=function(h){return d(h),h}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/object-define-property.js").f,f=d("unscopables"),g=Array.prototype;g[f]===void 0&&A(g,f,{configurable:!0,value:h(null)}),l.exports=function(m){g[f][m]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/string-multibyte.js").charAt;l.exports=function(h,A,f){return A+(f?d(h,A).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/object-is-prototype-of.js"),h=TypeError;l.exports=function(A,f){if(d(f,A))return A;throw new h("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),h=String,A=TypeError;l.exports=function(f){if(d(f))return f;throw new A(h(f)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/array-iteration.js").forEach,h=o("./node_modules/core-js/internals/array-method-is-strict.js"),A=h("forEach");l.exports=A?[].forEach:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/get-iterator.js"),w=o("./node_modules/core-js/internals/get-iterator-method.js"),N=Array;l.exports=function(j){var _=A(j),k=m(this),Z=arguments.length,ee=Z>1?arguments[1]:void 0,V=ee!==void 0;V&&(ee=d(ee,Z>2?arguments[2]:void 0));var re=w(_),R=0,Y,L,$,je,ge,Ie;if(re&&!(this===N&&g(re)))for(L=k?new this:[],je=b(_,re),ge=je.next;!($=h(ge,je)).done;R++)Ie=V?f(je,ee,[$.value,R],!0):$.value,y(L,R,Ie);else for(Y=x(_),L=k?new this(Y):N(Y);Y>R;R++)Ie=V?ee(_[R],R):_[R],y(L,R,Ie);return L.length=R,L}}),"./node_modules/core-js/internals/array-includes.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/to-absolute-index.js"),A=o("./node_modules/core-js/internals/length-of-array-like.js"),f=function(g){return function(m,x,y){var b=d(m),w=A(b);if(w===0)return!g&&-1;var N=h(y,w),S;if(g&&x!==x){for(;w>N;)if(S=b[N++],S!==S)return!0}else for(;w>N;N++)if((g||N in b)&&b[N]===x)return g||N||0;return!g&&-1}};l.exports={includes:f(!0),indexOf:f(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/length-of-array-like.js"),m=o("./node_modules/core-js/internals/array-species-create.js"),x=h([].push),y=function(b){var w=b===1,N=b===2,S=b===3,j=b===4,_=b===6,k=b===7,Z=b===5||_;return function(ee,V,re,R){for(var Y=f(ee),L=A(Y),$=g(L),je=d(V,re),ge=0,Ie=R||m,_e=w?Ie(ee,$):N||k?Ie(ee,0):void 0,fe,le;$>ge;ge++)if((Z||ge in L)&&(fe=L[ge],le=je(fe,ge,Y),b))if(w)_e[ge]=le;else if(le)switch(b){case 3:return!0;case 5:return fe;case 6:return ge;case 2:x(_e,fe)}else switch(b){case 4:return!1;case 7:x(_e,fe)}return _?-1:S||j?j:_e}};l.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/well-known-symbol.js"),A=o("./node_modules/core-js/internals/environment-v8-version.js"),f=h("species");l.exports=function(g){return A>=51||!d(function(){var m=[],x=m.constructor={};return x[f]=function(){return{foo:1}},m[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=function(h,A){var f=[][h];return!!f&&d(function(){f.call(null,A||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,m="Reduce of empty array with no initial value",x=function(y){return function(b,w,N,S){var j=h(b),_=A(j),k=f(j);if(d(w),k===0&&N<2)throw new g(m);var Z=y?k-1:0,ee=y?-1:1;if(N<2)for(;;){if(Z in _){S=_[Z],Z+=ee;break}if(Z+=ee,y?Z<0:k<=Z)throw new g(m)}for(;y?Z>=0:k>Z;Z+=ee)Z in _&&(S=w(S,_[Z],Z,j));return S}};l.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=d([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-array.js"),h=o("./node_modules/core-js/internals/is-constructor.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("species"),m=Array;l.exports=function(x){var y;return d(x)&&(y=x.constructor,h(y)&&(y===m||d(y.prototype))?y=void 0:A(y)&&(y=y[g],y===null&&(y=void 0))),y===void 0?m:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/array-species-constructor.js");l.exports=function(h,A){return new(d(h))(A===0?0:A)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(A,f,g,m){try{return m?f(d(g)[0],g[1]):f(g)}catch(x){h(A,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=d("iterator"),A=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){A=!0}};g[h]=function(){return this},Array.from(g,function(){throw 2})}catch{}l.exports=function(m,x){try{if(!x&&!A)return!1}catch{return!1}var y=!1;try{var b={};b[h]=function(){return{next:function(){return{done:y=!0}}}},m(b)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=d({}.toString),A=d("".slice);l.exports=function(f){return A(h(f),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("toStringTag"),m=Object,x=A((function(){return arguments})())==="Arguments",y=function(b,w){try{return b[w]}catch{}};l.exports=d?A:function(b){var w,N,S;return b===void 0?"Undefined":b===null?"Null":typeof(N=y(w=m(b),g))=="string"?N:x?A(w):(S=A(w))==="Object"&&h(w.callee)?"Arguments":S}}),"./node_modules/core-js/internals/collection-strong.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/object-create.js"),h=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/define-built-ins.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/an-instance.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/set-species.js"),N=o("./node_modules/core-js/internals/descriptors.js"),S=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,j=o("./node_modules/core-js/internals/internal-state.js"),_=j.set,k=j.getterFor;l.exports={getConstructor:function(Z,ee,V,re){var R=Z(function(ge,Ie){g(ge,Y),_(ge,{type:ee,index:d(null),first:null,last:null,size:0}),N||(ge.size=0),m(Ie)||x(Ie,ge[re],{that:ge,AS_ENTRIES:V})}),Y=R.prototype,L=k(ee),$=function(ge,Ie,_e){var fe=L(ge),le=je(ge,Ie),ve,se;return le?le.value=_e:(fe.last=le={index:se=S(Ie,!0),key:Ie,value:_e,previous:ve=fe.last,next:null,removed:!1},fe.first||(fe.first=le),ve&&(ve.next=le),N?fe.size++:ge.size++,se!=="F"&&(fe.index[se]=le)),ge},je=function(ge,Ie){var _e=L(ge),fe=S(Ie),le;if(fe!=="F")return _e.index[fe];for(le=_e.first;le;le=le.next)if(le.key===Ie)return le};return A(Y,{clear:function(){for(var Ie=this,_e=L(Ie),fe=_e.first;fe;)fe.removed=!0,fe.previous&&(fe.previous=fe.previous.next=null),fe=fe.next;_e.first=_e.last=null,_e.index=d(null),N?_e.size=0:Ie.size=0},delete:function(ge){var Ie=this,_e=L(Ie),fe=je(Ie,ge);if(fe){var le=fe.next,ve=fe.previous;delete _e.index[fe.index],fe.removed=!0,ve&&(ve.next=le),le&&(le.previous=ve),_e.first===fe&&(_e.first=le),_e.last===fe&&(_e.last=ve),N?_e.size--:Ie.size--}return!!fe},forEach:function(Ie){for(var _e=L(this),fe=f(Ie,arguments.length>1?arguments[1]:void 0),le;le=le?le.next:_e.first;)for(fe(le.value,le.key,this);le&&le.removed;)le=le.previous},has:function(Ie){return!!je(this,Ie)}}),A(Y,V?{get:function(Ie){var _e=je(this,Ie);return _e&&_e.value},set:function(Ie,_e){return $(this,Ie===0?0:Ie,_e)}}:{add:function(Ie){return $(this,Ie=Ie===0?0:Ie,Ie)}}),N&&h(Y,"size",{configurable:!0,get:function(){return L(this).size}}),R},setStrong:function(Z,ee,V){var re=ee+" Iterator",R=k(ee),Y=k(re);y(Z,ee,function(L,$){_(this,{type:re,target:L,state:R(L),kind:$,last:null})},function(){for(var L=Y(this),$=L.kind,je=L.last;je&&je.removed;)je=je.previous;return!L.target||!(L.last=je=je?je.next:L.state.first)?(L.target=null,b(void 0,!0)):b($==="keys"?je.key:$==="values"?je.value:[je.key,je.value],!1)},V?"entries":"values",!V,!0),w(ee)}}}),"./node_modules/core-js/internals/collection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/internal-metadata.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/an-instance.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/is-null-or-undefined.js"),N=o("./node_modules/core-js/internals/is-object.js"),S=o("./node_modules/core-js/internals/fails.js"),j=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),_=o("./node_modules/core-js/internals/set-to-string-tag.js"),k=o("./node_modules/core-js/internals/inherit-if-required.js");l.exports=function(Z,ee,V){var re=Z.indexOf("Map")!==-1,R=Z.indexOf("Weak")!==-1,Y=re?"set":"add",L=h[Z],$=L&&L.prototype,je=L,ge={},Ie=function(Ne){var Pe=A($[Ne]);g($,Ne,Ne==="add"?function(ce){return Pe(this,ce===0?0:ce),this}:Ne==="delete"?function(ye){return R&&!N(ye)?!1:Pe(this,ye===0?0:ye)}:Ne==="get"?function(ce){return R&&!N(ce)?void 0:Pe(this,ce===0?0:ce)}:Ne==="has"?function(ce){return R&&!N(ce)?!1:Pe(this,ce===0?0:ce)}:function(ce,q){return Pe(this,ce===0?0:ce,q),this})},_e=f(Z,!b(L)||!(R||$.forEach&&!S(function(){new L().entries().next()})));if(_e)je=V.getConstructor(ee,Z,re,Y),m.enable();else if(f(Z,!0)){var fe=new je,le=fe[Y](R?{}:-0,1)!==fe,ve=S(function(){fe.has(1)}),se=j(function(Ne){new L(Ne)}),he=!R&&S(function(){for(var Ne=new L,Pe=5;Pe--;)Ne[Y](Pe,Pe);return!Ne.has(-0)});se||(je=ee(function(Ne,Pe){y(Ne,$);var ye=k(new L,Ne,je);return w(Pe)||x(Pe,ye[Y],{that:ye,AS_ENTRIES:re}),ye}),je.prototype=$,$.constructor=je),(ve||he)&&(Ie("delete"),Ie("has"),re&&Ie("get")),(he||le)&&Ie(Y),R&&$.clear&&delete $.clear}return ge[Z]=je,d({global:!0,constructor:!0,forced:je!==L},ge),_(je,Z),R||V.setStrong(je,Z,re),je}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/has-own-property.js"),h=o("./node_modules/core-js/internals/own-keys.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),f=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(g,m,x){for(var y=h(m),b=f.f,w=A.f,N=0;N<y.length;N++){var S=y[N];!d(g,S)&&!(x&&d(x,S))&&b(g,S,w(m,S))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=d("match");l.exports=function(A){var f=/./;try{"/./"[A](f)}catch{try{return f[h]=!1,"/./"[A](f)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=/"/g,g=d("".replace);l.exports=function(m,x,y,b){var w=A(h(m)),N="<"+x;return y!==""&&(N+=" "+y+'="'+g(A(b),f,"&quot;")+'"'),N+">"+w+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(l){l.exports=function(u,o){return{value:u,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=d?function(f,g,m){return h.f(f,g,A(1,m))}:function(f,g,m){return f[g]=m,f}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(l){l.exports=function(u,o){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=function(f,g,m){d?h.f(f,g,A(0,m)):f[g]=m}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/make-built-in.js"),h=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(A,f,g){return g.get&&d(g.get,f,{getter:!0}),g.set&&d(g.set,f,{setter:!0}),h.f(A,f,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/make-built-in.js"),f=o("./node_modules/core-js/internals/define-global-property.js");l.exports=function(g,m,x,y){y||(y={});var b=y.enumerable,w=y.name!==void 0?y.name:m;if(d(x)&&A(x,w,y),y.global)b?g[m]=x:f(m,x);else{try{y.unsafe?g[m]&&(b=!0):delete g[m]}catch{}b?g[m]=x:h.f(g,m,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(h,A,f){for(var g in A)d(h,g,A[g],f);return h}}),"./node_modules/core-js/internals/define-global-property.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=Object.defineProperty;l.exports=function(A,f){try{h(d,A,{value:f,configurable:!0,writable:!0})}catch{d[A]=f}return f}}),"./node_modules/core-js/internals/descriptors.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/is-object.js"),A=d.document,f=h(A)&&h(A.createElement);l.exports=function(g){return f?A.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(l){var u=TypeError,o=9007199254740991;l.exports=function(d){if(d>o)throw u("Maximum allowed index exceeded");return d}}),"./node_modules/core-js/internals/dom-iterables.js":(function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/document-create-element.js"),h=d("span").classList,A=h&&h.constructor&&h.constructor.prototype;l.exports=A===Object.prototype?void 0:A}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)}),"./node_modules/core-js/internals/environment-is-node.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/environment.js");l.exports=d==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/web0s(?!.*chrome)/i.test(d)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=d.navigator,A=h&&h.userAgent;l.exports=A?String(A):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/environment-user-agent.js"),A=d.process,f=d.Deno,g=A&&A.versions||f&&f.version,m=g&&g.v8,x,y;m&&(x=m.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&h&&(x=h.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=h.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),l.exports=y}),"./node_modules/core-js/internals/environment.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/environment-user-agent.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=function(g){return h.slice(0,g.length)===g};l.exports=(function(){return f("Bun/")?"BUN":f("Cloudflare-Workers")?"CLOUDFLARE":f("Deno/")?"DENO":f("Node.js/")?"NODE":d.Bun&&typeof Bun.version=="string"?"BUN":d.Deno&&typeof Deno.version=="object"?"DENO":A(d.process)==="process"?"NODE":d.window&&d.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=o("./node_modules/core-js/internals/define-built-in.js"),g=o("./node_modules/core-js/internals/define-global-property.js"),m=o("./node_modules/core-js/internals/copy-constructor-properties.js"),x=o("./node_modules/core-js/internals/is-forced.js");l.exports=function(y,b){var w=y.target,N=y.global,S=y.stat,j,_,k,Z,ee,V;if(N?_=d:S?_=d[w]||g(w,{}):_=d[w]&&d[w].prototype,_)for(k in b){if(ee=b[k],y.dontCallGetSet?(V=h(_,k),Z=V&&V.value):Z=_[k],j=x(N?k:w+(S?".":"#")+k,y.forced),!j&&Z!==void 0){if(typeof ee==typeof Z)continue;m(ee,Z)}(y.sham||Z&&Z.sham)&&A(ee,"sham",!0),f(_,k,ee,y)}}}),"./node_modules/core-js/internals/fails.js":(function(l){l.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/regexp-exec.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=g("species"),y=RegExp.prototype;l.exports=function(b,w,N,S){var j=g(b),_=!f(function(){var V={};return V[j]=function(){return 7},""[b](V)!==7}),k=_&&!f(function(){var V=!1,re=/a/;if(b==="split"){var R={};R[x]=function(){return re},re={constructor:R,flags:""},re[j]=/./[j]}return re.exec=function(){return V=!0,null},re[j](""),!V});if(!_||!k||N){var Z=/./[j],ee=w(j,""[b],function(V,re,R,Y,L){var $=re.exec;return $===A||$===y.exec?_&&!L?{done:!0,value:d(Z,re,R,Y)}:{done:!0,value:d(V,R,re,Y)}:{done:!1}});h(String.prototype,b,ee[0]),h(y,j,ee[1])}S&&m(y[j],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,A=h.apply,f=h.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(d?f.bind(A):function(){return f.apply(A,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),h=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/function-bind-native.js"),f=d(d.bind);l.exports=function(g,m){return h(g),m===void 0?g:A?f(g,m):function(){return g.apply(m,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype.call;l.exports=d?h.bind(h):function(){return h.apply(h,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=Function.prototype,f=d&&Object.getOwnPropertyDescriptor,g=h(A,"name"),m=g&&(function(){}).name==="something",x=g&&(!d||d&&f(A,"name").configurable);l.exports={EXISTS:g,PROPER:m,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/a-callable.js");l.exports=function(A,f,g){try{return d(h(Object.getOwnPropertyDescriptor(A,f)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=function(A){if(d(A)==="Function")return h(A)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,A=h.call,f=d&&h.bind.bind(A,A);l.exports=d?f:function(g){return function(){return A.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=function(f){return h(f)?f:void 0};l.exports=function(f,g){return arguments.length<2?A(d[f]):d[f]&&d[f][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(l){l.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/classof.js"),h=o("./node_modules/core-js/internals/get-method.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/iterators.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("iterator");l.exports=function(x){if(!A(x))return h(x,m)||h(x,"@@iterator")||f[d(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/get-iterator-method.js"),m=TypeError;l.exports=function(x,y){var b=arguments.length<2?g(x):y;if(h(b))return A(d(b,x));throw new m(f(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=o("./node_modules/core-js/internals/is-null-or-undefined.js");l.exports=function(A,f){var g=A[f];return h(g)?void 0:d(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m="Invalid size",x=RangeError,y=TypeError,b=Math.max,w=function(N,S){this.set=N,this.size=b(S,0),this.has=d(N.has),this.keys=d(N.keys)};w.prototype={getIterator:function(){return g(h(A(this.keys,this.set)))},includes:function(N){return A(this.has,this.set,N)}},l.exports=function(N){h(N);var S=+N.size;if(S!==S)throw new y(m);var j=f(S);if(j<0)throw new x(m);return new w(N,j)}}),"./node_modules/core-js/internals/get-substitution.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/to-object.js"),A=Math.floor,f=d("".charAt),g=d("".replace),m=d("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;l.exports=function(b,w,N,S,j,_){var k=N+b.length,Z=S.length,ee=y;return j!==void 0&&(j=h(j),ee=x),g(_,ee,function(V,re){var R;switch(f(re,0)){case"$":return"$";case"&":return b;case"`":return m(w,0,N);case"'":return m(w,k);case"<":R=j[m(re,1,-1)];break;default:var Y=+re;if(Y===0)return V;if(Y>Z){var L=A(Y/10);return L===0?V:L<=Z?S[L-1]===void 0?f(re,1):S[L-1]+f(re,1):V}R=S[Y-1]}return R===void 0?"":R})}}),"./node_modules/core-js/internals/global-this.js":(function(l){var u=function(o){return o&&o.Math===Math&&o};l.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof iA=="object"&&iA)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/to-object.js"),A=d({}.hasOwnProperty);l.exports=Object.hasOwn||function(g,m){return A(h(g),m)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(l){l.exports=function(u,o){try{arguments.length===1?console.error(u):console.error(u,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js");l.exports=d("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/document-create-element.js");l.exports=!d&&!h(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=Object,g=d("".split);l.exports=h(function(){return!f("z").propertyIsEnumerable(0)})?function(m){return A(m)==="String"?g(m,""):f(m)}:f}),"./node_modules/core-js/internals/inherit-if-required.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),h=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/object-set-prototype-of.js");l.exports=function(f,g,m){var x,y;return A&&d(x=g.constructor)&&x!==m&&h(y=x.prototype)&&y!==m.prototype&&A(f,y),f}}),"./node_modules/core-js/internals/inspect-source.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/shared-store.js"),f=d(Function.toString);h(A.inspectSource)||(A.inspectSource=function(g){return f(g)}),l.exports=A.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/hidden-keys.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=o("./node_modules/core-js/internals/object-get-own-property-names.js"),y=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),b=o("./node_modules/core-js/internals/object-is-extensible.js"),w=o("./node_modules/core-js/internals/uid.js"),N=o("./node_modules/core-js/internals/freezing.js"),S=!1,j=w("meta"),_=0,k=function(Y){m(Y,j,{value:{objectID:"O"+_++,weakData:{}}})},Z=function(Y,L){if(!f(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!g(Y,j)){if(!b(Y))return"F";if(!L)return"E";k(Y)}return Y[j].objectID},ee=function(Y,L){if(!g(Y,j)){if(!b(Y))return!0;if(!L)return!1;k(Y)}return Y[j].weakData},V=function(Y){return N&&S&&b(Y)&&!g(Y,j)&&k(Y),Y},re=function(){R.enable=function(){},S=!0;var Y=x.f,L=h([].splice),$={};$[j]=1,Y($).length&&(x.f=function(je){for(var ge=Y(je),Ie=0,_e=ge.length;Ie<_e;Ie++)if(ge[Ie]===j){L(ge,Ie,1);break}return ge},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},R=l.exports={enable:re,fastKey:Z,getWeakData:ee,onFreeze:V};A[j]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/shared-store.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=o("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",w=h.TypeError,N=h.WeakMap,S,j,_,k=function(re){return _(re)?j(re):S(re,{})},Z=function(re){return function(R){var Y;if(!A(R)||(Y=j(R)).type!==re)throw new w("Incompatible receiver, "+re+" required");return Y}};if(d||m.state){var ee=m.state||(m.state=new N);ee.get=ee.get,ee.has=ee.has,ee.set=ee.set,S=function(re,R){if(ee.has(re))throw new w(b);return R.facade=re,ee.set(re,R),R},j=function(re){return ee.get(re)||{}},_=function(re){return ee.has(re)}}else{var V=x("state");y[V]=!0,S=function(re,R){if(g(re,V))throw new w(b);return R.facade=re,f(re,V,R),R},j=function(re){return g(re,V)?re[V]:{}},_=function(re){return g(re,V)}}l.exports={set:S,get:j,has:_,enforce:k,getterFor:Z}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=o("./node_modules/core-js/internals/iterators.js"),A=d("iterator"),f=Array.prototype;l.exports=function(g){return g!==void 0&&(h.Array===g||f[A]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js");l.exports=Array.isArray||function(A){return d(A)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(l){var u=typeof document=="object"&&document.all;l.exports=typeof u>"u"&&u!==void 0?function(o){return typeof o=="function"||o===u}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=g("Reflect","construct"),b=/^\s*(?:class|function)\b/,w=d(b.exec),N=!b.test(x),S=function(k){if(!A(k))return!1;try{return y(x,[],k),!0}catch{return!1}},j=function(k){if(!A(k))return!1;switch(f(k)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return N||!!w(b,m(k))}catch{return!0}};j.sham=!0,l.exports=!y||h(function(){var _;return S(S.call)||!S(Object)||!S(function(){_=!0})||_})?j:S}),"./node_modules/core-js/internals/is-forced.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=/#|\.prototype\./,f=function(b,w){var N=m[g(b)];return N===y?!0:N===x?!1:h(w)?d(w):!!w},g=f.normalize=function(b){return String(b).replace(A,".").toLowerCase()},m=f.data={},x=f.NATIVE="N",y=f.POLYFILL="P";l.exports=f}),"./node_modules/core-js/internals/is-iterable.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/classof.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=f("iterator"),x=Object;l.exports=function(y){if(A(y))return!1;var b=x(y);return b[m]!==void 0||"@@iterator"in b||h(g,d(b))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(l){l.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-callable.js");l.exports=function(h){return typeof h=="object"?h!==null:d(h)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-object.js");l.exports=function(h){return d(h)||h===null}}),"./node_modules/core-js/internals/is-pure.js":(function(l){l.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),h=o("./node_modules/core-js/internals/internal-state.js").get;l.exports=function(f){if(!d(f))return!1;var g=h(f);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),h=o("./node_modules/core-js/internals/classof-raw.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=A("match");l.exports=function(g){var m;return d(g)&&((m=g[f])!==void 0?!!m:h(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;l.exports=f?function(m){return typeof m=="symbol"}:function(m){var x=d("Symbol");return h(x)&&A(x.prototype,g(m))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js");l.exports=function(h,A,f){for(var g=f?h:h.iterator,m=h.next,x,y;!(x=d(m,g)).done;)if(y=A(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/get-iterator.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),N=TypeError,S=function(_,k){this.stopped=_,this.result=k},j=S.prototype;l.exports=function(_,k,Z){var ee=Z&&Z.that,V=!!(Z&&Z.AS_ENTRIES),re=!!(Z&&Z.IS_RECORD),R=!!(Z&&Z.IS_ITERATOR),Y=!!(Z&&Z.INTERRUPTED),L=d(k,ee),$,je,ge,Ie,_e,fe,le,ve=function(he){return $&&w($,"normal"),new S(!0,he)},se=function(he){return V?(A(he),Y?L(he[0],he[1],ve):L(he[0],he[1])):Y?L(he,ve):L(he)};if(re)$=_.iterator;else if(R)$=_;else{if(je=b(_),!je)throw new N(f(_)+" is not iterable");if(g(je)){for(ge=0,Ie=m(_);Ie>ge;ge++)if(_e=se(_[ge]),_e&&x(j,_e))return _e;return new S(!1)}$=y(_,je)}for(fe=re?_.next:$.next;!(le=h(fe,$)).done;){try{_e=se(le.value)}catch(he){w($,"throw",he)}if(typeof _e=="object"&&_e&&x(j,_e))return _e}return new S(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(h,A,f){for(var g=h.length-1;g>=0;g--)if(h[g]!==void 0)try{f=d(h[g].iterator,A,f)}catch(m){A="throw",f=m}if(A==="throw")throw f;return f}}),"./node_modules/core-js/internals/iterator-close.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/get-method.js");l.exports=function(f,g,m){var x,y;h(f);try{if(x=A(f,"return"),!x){if(g==="throw")throw m;return m}x=d(x,f)}catch(b){y=!0,x=b}if(g==="throw")throw m;if(y)throw x;return h(x),m}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js"),f=o("./node_modules/core-js/internals/set-to-string-tag.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=function(){return this};l.exports=function(x,y,b,w){var N=y+" Iterator";return x.prototype=h(d,{next:A(+!w,b)}),f(x,N,!1,!0),g[N]=m,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=o("./node_modules/core-js/internals/define-built-ins.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/get-method.js"),y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),N=o("./node_modules/core-js/internals/iterator-close-all.js"),S=g("toStringTag"),j="IteratorHelper",_="WrapForValidIterator",k="normal",Z="throw",ee=m.set,V=function(Y){var L=m.getterFor(Y?_:j);return f(h(y),{next:function(){var je=L(this);if(Y)return je.nextHandler();if(je.done)return b(void 0,!0);try{var ge=je.nextHandler();return je.returnHandlerResult?ge:b(ge,je.done)}catch(Ie){throw je.done=!0,Ie}},return:function(){var $=L(this),je=$.iterator;if($.done=!0,Y){var ge=x(je,"return");return ge?d(ge,je):b(void 0,!0)}if($.inner)try{w($.inner.iterator,k)}catch(Ie){return w(je,Z,Ie)}if($.openIters)try{N($.openIters,k)}catch(Ie){return w(je,Z,Ie)}return je&&w(je,k),b(void 0,!0)}})},re=V(!0),R=V(!1);A(R,S,"Iterator Helper"),l.exports=function(Y,L,$){var je=function(Ie,_e){_e?(_e.iterator=Ie.iterator,_e.next=Ie.next):_e=Ie,_e.type=L?_:j,_e.returnHandlerResult=!!$,_e.nextHandler=Y,_e.counter=0,_e.done=!1,ee(this,_e)};return je.prototype=L?re:R,je}}),"./node_modules/core-js/internals/iterator-define.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/function-name.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/iterator-create-constructor.js"),x=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=o("./node_modules/core-js/internals/define-built-in.js"),S=o("./node_modules/core-js/internals/well-known-symbol.js"),j=o("./node_modules/core-js/internals/iterators.js"),_=o("./node_modules/core-js/internals/iterators-core.js"),k=f.PROPER,Z=f.CONFIGURABLE,ee=_.IteratorPrototype,V=_.BUGGY_SAFARI_ITERATORS,re=S("iterator"),R="keys",Y="values",L="entries",$=function(){return this};l.exports=function(je,ge,Ie,_e,fe,le,ve){m(Ie,ge,_e);var se=function(Re){if(Re===fe&&ce)return ce;if(!V&&Re&&Re in Pe)return Pe[Re];switch(Re){case R:return function(){return new Ie(this,Re)};case Y:return function(){return new Ie(this,Re)};case L:return function(){return new Ie(this,Re)}}return function(){return new Ie(this)}},he=ge+" Iterator",Ne=!1,Pe=je.prototype,ye=Pe[re]||Pe["@@iterator"]||fe&&Pe[fe],ce=!V&&ye||se(fe),q=ge==="Array"&&Pe.entries||ye,pe,oe,We;if(q&&(pe=x(q.call(new je)),pe!==Object.prototype&&pe.next&&(!A&&x(pe)!==ee&&(y?y(pe,ee):g(pe[re])||N(pe,re,$)),b(pe,he,!0,!0),A&&(j[he]=$))),k&&fe===Y&&ye&&ye.name!==Y&&(!A&&Z?w(Pe,"name",Y):(Ne=!0,ce=function(){return h(ye,this)})),fe)if(oe={values:se(Y),keys:le?ce:se(R),entries:se(L)},ve)for(We in oe)(V||Ne||!(We in Pe))&&N(Pe,We,oe[We]);else d({target:ge,proto:!0,forced:V||Ne},oe);return(!A||ve)&&Pe[re]!==ce&&N(Pe,re,ce,{name:fe}),j[ge]=ce,oe}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(l){l.exports=function(u,o){var d=typeof Iterator=="function"&&Iterator.prototype[u];if(d)try{d.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js");l.exports=function(h,A){var f=d.Iterator,g=f&&f.prototype,m=g&&g[h],x=!1;if(m)try{m.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof A||(x=!1)}if(!x)return m}}),"./node_modules/core-js/internals/iterators-core.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/object-create.js"),g=o("./node_modules/core-js/internals/object-get-prototype-of.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),w=!1,N,S,j;[].keys&&(j=[].keys(),"next"in j?(S=g(g(j)),S!==Object.prototype&&(N=S)):w=!0);var _=!A(N)||d(function(){var k={};return N[b].call(k)!==k});_?N={}:y&&(N=f(N)),h(N[b])||m(N,b,function(){return this}),l.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:w}}),"./node_modules/core-js/internals/iterators.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-length.js");l.exports=function(h){return d(h.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/internal-state.js"),b=y.enforce,w=y.get,N=String,S=Object.defineProperty,j=d("".slice),_=d("".replace),k=d([].join),Z=g&&!h(function(){return S(function(){},"length",{value:8}).length!==8}),ee=String(String).split("String"),V=l.exports=function(re,R,Y){j(N(R),0,7)==="Symbol("&&(R="["+_(N(R),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Y&&Y.getter&&(R="get "+R),Y&&Y.setter&&(R="set "+R),(!f(re,"name")||m&&re.name!==R)&&(g?S(re,"name",{value:R,configurable:!0}):re.name=R),Z&&Y&&f(Y,"arity")&&re.length!==Y.arity&&S(re,"length",{value:Y.arity});try{Y&&f(Y,"constructor")&&Y.constructor?g&&S(re,"prototype",{writable:!1}):re.prototype&&(re.prototype=void 0)}catch{}var L=b(re);return f(L,"source")||(L.source=k(ee,typeof R=="string"?R:"")),re};Function.prototype.toString=V(function(){return A(this)&&w(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(l){var u=Math.ceil,o=Math.floor;l.exports=Math.trunc||function(h){var A=+h;return(A>0?o:u)(A)}}),"./node_modules/core-js/internals/microtask.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/safe-get-built-in.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/task.js").set,g=o("./node_modules/core-js/internals/queue.js"),m=o("./node_modules/core-js/internals/environment-is-ios.js"),x=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),w=d.MutationObserver||d.WebKitMutationObserver,N=d.document,S=d.process,j=d.Promise,_=h("queueMicrotask"),k,Z,ee,V,re;if(!_){var R=new g,Y=function(){var L,$;for(b&&(L=S.domain)&&L.exit();$=R.get();)try{$()}catch(je){throw R.head&&k(),je}L&&L.enter()};!m&&!b&&!y&&w&&N?(Z=!0,ee=N.createTextNode(""),new w(Y).observe(ee,{characterData:!0}),k=function(){ee.data=Z=!Z}):!x&&j&&j.resolve?(V=j.resolve(void 0),V.constructor=j,re=A(V.then,V),k=function(){re(Y)}):b?k=function(){S.nextTick(Y)}:(f=A(f,d),k=function(){f(Y)}),_=function(L){R.head||k(),R.add(L)}}l.exports=_}),"./node_modules/core-js/internals/native-raw-json.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){var h="9007199254740993",A=JSON.rawJSON(h);return!JSON.isRawJSON(A)||JSON.stringify(A)!==h})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=TypeError,A=function(f){var g,m;this.promise=new f(function(x,y){if(g!==void 0||m!==void 0)throw new h("Bad Promise constructor");g=x,m=y}),this.resolve=d(g),this.reject=d(m)};l.exports.f=function(f){return new A(f)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-regexp.js"),h=TypeError;l.exports=function(A){if(d(A))throw new h("The method doesn't accept regular expressions");return A}}),"./node_modules/core-js/internals/object-assign.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/object-keys.js"),m=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/indexed-object.js"),w=Object.assign,N=Object.defineProperty,S=h([].concat);l.exports=!w||f(function(){if(d&&w({b:1},w(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var j={},_={},k=Symbol("assign detection"),Z="abcdefghijklmnopqrst";return j[k]=7,Z.split("").forEach(function(ee){_[ee]=ee}),w({},j)[k]!==7||g(w({},_)).join("")!==Z})?function(_,k){for(var Z=y(_),ee=arguments.length,V=1,re=m.f,R=x.f;ee>V;)for(var Y=b(arguments[V++]),L=re?S(g(Y),re(Y)):g(Y),$=L.length,je=0,ge;$>je;)ge=L[je++],(!d||A(R,Y,ge))&&(Z[ge]=Y[ge]);return Z}:w}),"./node_modules/core-js/internals/object-create.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/object-define-properties.js"),A=o("./node_modules/core-js/internals/enum-bug-keys.js"),f=o("./node_modules/core-js/internals/hidden-keys.js"),g=o("./node_modules/core-js/internals/html.js"),m=o("./node_modules/core-js/internals/document-create-element.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=">",b="<",w="prototype",N="script",S=x("IE_PROTO"),j=function(){},_=function(re){return b+N+y+re+b+"/"+N+y},k=function(re){re.write(_("")),re.close();var R=re.parentWindow.Object;return re=null,R},Z=function(){var re=m("iframe"),R="java"+N+":",Y;return re.style.display="none",g.appendChild(re),re.src=String(R),Y=re.contentWindow.document,Y.open(),Y.write(_("document.F=Object")),Y.close(),Y.F},ee,V=function(){try{ee=new ActiveXObject("htmlfile")}catch{}V=typeof document<"u"?document.domain&&ee?k(ee):Z():k(ee);for(var re=A.length;re--;)delete V[w][A[re]];return V()};f[S]=!0,l.exports=Object.create||function(R,Y){var L;return R!==null?(j[w]=d(R),L=new j,j[w]=null,L[S]=R):L=V(),Y===void 0?L:h.f(L,Y)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/object-keys.js");u.f=d&&!h?Object.defineProperties:function(y,b){f(y);for(var w=g(b),N=m(b),S=N.length,j=0,_;S>j;)A.f(y,_=N[j++],w[_]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/ie8-dom-define.js"),A=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-property-key.js"),m=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b="enumerable",w="configurable",N="writable";u.f=d?A?function(j,_,k){if(f(j),_=g(_),f(k),typeof j=="function"&&_==="prototype"&&"value"in k&&N in k&&!k[N]){var Z=y(j,_);Z&&Z[N]&&(j[_]=k.value,k={configurable:w in k?k[w]:Z[w],enumerable:b in k?k[b]:Z[b],writable:!1})}return x(j,_,k)}:x:function(j,_,k){if(f(j),_=g(_),f(k),h)try{return x(j,_,k)}catch{}if("get"in k||"set"in k)throw new m("Accessors not supported");return"value"in k&&(j[_]=k.value),j}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/to-property-key.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;u.f=d?b:function(N,S){if(N=g(N),S=m(S),y)try{return b(N,S)}catch{}if(x(N,S))return f(!h(A.f,N,S),N[S])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js"),h=o("./node_modules/core-js/internals/to-indexed-object.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,f=o("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(x){try{return A(x)}catch{return f(g)}};l.exports.f=function(y){return g&&d(y)==="Window"?m(y):A(h(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/object-keys-internal.js"),h=o("./node_modules/core-js/internals/enum-bug-keys.js"),A=h.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return d(g,A)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(l,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/has-own-property.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/shared-key.js"),g=o("./node_modules/core-js/internals/correct-prototype-getter.js"),m=f("IE_PROTO"),x=Object,y=x.prototype;l.exports=g?x.getPrototypeOf:function(b){var w=A(b);if(d(w,m))return w[m];var N=w.constructor;return h(N)&&w instanceof N?N.prototype:w instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,m=d(function(){});l.exports=m||f?function(y){return!h(y)||f&&A(y)==="ArrayBuffer"?!1:g?g(y):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=d({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/array-includes.js").indexOf,g=o("./node_modules/core-js/internals/hidden-keys.js"),m=d([].push);l.exports=function(x,y){var b=A(x),w=0,N=[],S;for(S in b)!h(g,S)&&h(b,S)&&m(N,S);for(;y.length>w;)h(b,S=y[w++])&&(~f(N,S)||m(N,S));return N}}),"./node_modules/core-js/internals/object-keys.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/object-keys-internal.js"),h=o("./node_modules/core-js/internals/enum-bug-keys.js");l.exports=Object.keys||function(f){return d(f,h)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(l,u){var o={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h=d&&!o.call({1:2},1);u.f=h?function(f){var g=d(this,f);return!!g&&g.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/a-possible-prototype.js");l.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,m={},x;try{x=d(Object.prototype,"__proto__","set"),x(m,[]),g=m instanceof Array}catch{}return function(b,w){return A(b),f(w),h(b)&&(g?x(b,w):b.__proto__=w),b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/classof.js");l.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=TypeError;l.exports=function(g,m){var x,y;if(m==="string"&&h(x=g.toString)&&!A(y=d(x,g))||h(x=g.valueOf)&&!A(y=d(x,g))||m!=="string"&&h(x=g.toString)&&!A(y=d(x,g)))return y;throw new f("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js"),f=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=h([].concat);l.exports=d("Reflect","ownKeys")||function(y){var b=A.f(g(y)),w=f.f;return w?m(b,w(y)):b}}),"./node_modules/core-js/internals/parse-json-string.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=SyntaxError,f=parseInt,g=String.fromCharCode,m=d("".charAt),x=d("".slice),y=d(/./.exec),b={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},w=/^[\da-f]{4}$/i,N=/^[\u0000-\u001F]$/;l.exports=function(S,j){for(var _=!0,k="";j<S.length;){var Z=m(S,j);if(Z==="\\"){var ee=x(S,j,j+2);if(h(b,ee))k+=b[ee],j+=2;else if(ee==="\\u"){j+=2;var V=x(S,j,j+4);if(!y(w,V))throw new A("Bad Unicode escape at: "+j);k+=g(f(V,16)),j+=4}else throw new A('Unknown escape sequence: "'+ee+'"')}else if(Z==='"'){_=!1,j++;break}else{if(y(N,Z))throw new A("Bad control character in string literal at: "+j);k+=Z,j++}}if(_)throw new A("Unterminated string at: "+j);return{value:k,end:j}}}),"./node_modules/core-js/internals/path.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js");l.exports=d}),"./node_modules/core-js/internals/perform.js":(function(l){l.exports=function(u){try{return{error:!1,value:u()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/promise-native-constructor.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/inspect-source.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/environment.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/environment-v8-version.js"),w=h&&h.prototype,N=m("species"),S=!1,j=A(d.PromiseRejectionEvent),_=f("Promise",function(){var k=g(h),Z=k!==String(h);if(!Z&&b===66||y&&!(w.catch&&w.finally))return!0;if(!b||b<51||!/native code/.test(k)){var ee=new h(function(R){R(1)}),V=function(R){R(function(){},function(){})},re=ee.constructor={};if(re[N]=V,S=ee.then(function(){})instanceof V,!S)return!0}return!Z&&(x==="BROWSER"||x==="DENO")&&!j});l.exports={CONSTRUCTOR:_,REJECTION_EVENT:j,SUBCLASSING:S}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js");l.exports=d.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/new-promise-capability.js");l.exports=function(f,g){if(d(f),h(g)&&g.constructor===f)return g;var m=A.f(f),x=m.resolve;return x(g),m.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/promise-native-constructor.js"),h=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;l.exports=A||!h(function(f){d.all(f).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(l){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(o){var d={item:o,next:null},h=this.tail;h?h.next=d:this.head=d,this.tail=d},get:function(){var o=this.head;if(o){var d=this.head=o.next;return d===null&&(this.tail=null),o.item}}},l.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/regexp-exec.js"),m=TypeError;l.exports=function(x,y){var b=x.exec;if(A(b)){var w=d(b,x,y);return w!==null&&h(w),w}if(f(x)==="RegExp")return d(g,x,y);throw new m("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/regexp-flags.js"),g=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),m=o("./node_modules/core-js/internals/shared.js"),x=o("./node_modules/core-js/internals/object-create.js"),y=o("./node_modules/core-js/internals/internal-state.js").get,b=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),w=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),N=m("native-string-replace",String.prototype.replace),S=RegExp.prototype.exec,j=S,_=h("".charAt),k=h("".indexOf),Z=h("".replace),ee=h("".slice),V=(function(){var L=/a/,$=/b*/g;return d(S,L,"a"),d(S,$,"a"),L.lastIndex!==0||$.lastIndex!==0})(),re=g.BROKEN_CARET,R=/()??/.exec("")[1]!==void 0,Y=V||R||re||b||w;Y&&(j=function($){var je=this,ge=y(je),Ie=A($),_e=ge.raw,fe,le,ve,se,he,Ne,Pe;if(_e)return _e.lastIndex=je.lastIndex,fe=d(j,_e,Ie),je.lastIndex=_e.lastIndex,fe;var ye=ge.groups,ce=re&&je.sticky,q=d(f,je),pe=je.source,oe=0,We=Ie;if(ce&&(q=Z(q,"y",""),k(q,"g")===-1&&(q+="g"),We=ee(Ie,je.lastIndex),je.lastIndex>0&&(!je.multiline||je.multiline&&_(Ie,je.lastIndex-1)!==`
`)&&(pe="(?: "+pe+")",We=" "+We,oe++),le=new RegExp("^(?:"+pe+")",q)),R&&(le=new RegExp("^"+pe+"$(?!\\s)",q)),V&&(ve=je.lastIndex),se=d(S,ce?le:je,We),ce?se?(se.input=ee(se.input,oe),se[0]=ee(se[0],oe),se.index=je.lastIndex,je.lastIndex+=se[0].length):je.lastIndex=0:V&&se&&(je.lastIndex=je.global?se.index+se[0].length:ve),R&&se&&se.length>1&&d(N,se[0],le,function(){for(he=1;he<arguments.length-2;he++)arguments[he]===void 0&&(se[he]=void 0)}),se&&ye)for(se.groups=Ne=x(null),he=0;he<ye.length;he++)Pe=ye[he],Ne[Pe[0]]=se[Pe[1]];return se}),l.exports=j}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/fails.js"),A=d.RegExp,f=!h(function(){var g=!0;try{A(".","d")}catch{g=!1}var m={},x="",y=g?"dgimsy":"gimsy",b=function(j,_){Object.defineProperty(m,j,{get:function(){return x+=_,!0}})},w={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(w.hasIndices="d");for(var N in w)b(N,w[N]);var S=Object.getOwnPropertyDescriptor(A.prototype,"flags").get.call(m);return S!==y||x!==y});l.exports={correct:f}}),"./node_modules/core-js/internals/regexp-flags.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/an-object.js");l.exports=function(){var h=d(this),A="";return h.hasIndices&&(A+="d"),h.global&&(A+="g"),h.ignoreCase&&(A+="i"),h.multiline&&(A+="m"),h.dotAll&&(A+="s"),h.unicode&&(A+="u"),h.unicodeSets&&(A+="v"),h.sticky&&(A+="y"),A}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=o("./node_modules/core-js/internals/regexp-flags-detection.js"),g=o("./node_modules/core-js/internals/regexp-flags.js"),m=RegExp.prototype;l.exports=f.correct?function(x){return x.flags}:function(x){return!f.correct&&A(m,x)&&!h(x,"flags")?d(g,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=h.RegExp,f=d(function(){var x=A("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),g=f||d(function(){return!A("a","y").sticky}),m=f||d(function(){var x=A("^r","gy");return x.lastIndex=2,x.exec("str")!==null});l.exports={BROKEN_CARET:m,MISSED_STICKY:g,UNSUPPORTED_Y:f}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=h.RegExp;l.exports=d(function(){var f=A(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=h.RegExp;l.exports=d(function(){var f=A("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-null-or-undefined.js"),h=TypeError;l.exports=function(A){if(d(A))throw new h("Can't call method on "+A);return A}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/descriptors.js"),A=Object.getOwnPropertyDescriptor;l.exports=function(f){if(!h)return d[f];var g=A(d,f);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/environment.js"),g=o("./node_modules/core-js/internals/environment-user-agent.js"),m=o("./node_modules/core-js/internals/array-slice.js"),x=o("./node_modules/core-js/internals/validate-arguments-length.js"),y=d.Function,b=/MSIE .\./.test(g)||f==="BUN"&&(function(){var w=d.Bun.version.split(".");return w.length<3||w[0]==="0"&&(w[1]<3||w[1]==="3"&&w[2]==="0")})();l.exports=function(w,N){var S=N?2:1;return b?function(j,_){var k=x(arguments.length,1)>S,Z=A(j)?j:y(j),ee=k?m(arguments,S):[],V=k?function(){h(Z,this,ee)}:Z;return N?w(V,_):w(V)}:w}}),"./node_modules/core-js/internals/set-clone.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/set-helpers.js"),h=o("./node_modules/core-js/internals/set-iterate.js"),A=d.Set,f=d.add;l.exports=function(g){var m=new A;return h(g,function(x){f(m,x)}),m}}),"./node_modules/core-js/internals/set-difference.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/iterate-simple.js"),y=h.has,b=h.remove;l.exports=function(N){var S=d(this),j=g(N),_=A(S);return f(S)<=j.size?m(S,function(k){j.includes(k)&&b(_,k)}):x(j.getIterator(),function(k){y(_,k)&&b(_,k)}),_}}),"./node_modules/core-js/internals/set-helpers.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=Set.prototype;l.exports={Set,add:d(h.add),has:d(h.has),remove:d(h.delete),proto:h}}),"./node_modules/core-js/internals/set-intersection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=h.Set,y=h.add,b=h.has;l.exports=function(N){var S=d(this),j=f(N),_=new x;return A(S)>j.size?m(j.getIterator(),function(k){b(S,k)&&y(_,k)}):g(S,function(k){j.includes(k)&&y(_,k)}),_}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(b){var w=d(this),N=f(b);if(A(w)<=N.size)return g(w,function(j){if(N.includes(j))return!1},!0)!==!1;var S=N.getIterator();return m(S,function(j){if(h(w,j))return x(S,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/set-iterate.js"),f=o("./node_modules/core-js/internals/get-set-record.js");l.exports=function(m){var x=d(this),y=f(m);return h(x)>y.size?!1:A(x,function(b){if(!y.includes(b))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(y){var b=d(this),w=f(y);if(A(b)<w.size)return!1;var N=w.getIterator();return g(N,function(S){if(!h(b,S))return m(N,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/iterate-simple.js"),A=o("./node_modules/core-js/internals/set-helpers.js"),f=A.Set,g=A.proto,m=d(g.forEach),x=d(g.keys),y=x(new f).next;l.exports=function(b,w,N){return N?h({iterator:x(b),next:y},w):m(b,w)}}),"./node_modules/core-js/internals/set-size.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=o("./node_modules/core-js/internals/set-helpers.js");l.exports=d(h.proto,"size","get")||function(A){return A.size}}),"./node_modules/core-js/internals/set-species.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/descriptors.js"),g=A("species");l.exports=function(m){var x=d(m);f&&x&&!x[g]&&h(x,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=h.add,x=h.has,y=h.remove;l.exports=function(w){var N=d(this),S=f(w).getIterator(),j=A(N);return g(S,function(_){x(N,_)?y(j,_):m(j,_)}),j}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/object-define-property.js").f,h=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=A("toStringTag");l.exports=function(g,m,x){g&&!x&&(g=g.prototype),g&&!h(g,f)&&d(g,f,{configurable:!0,value:m})}}),"./node_modules/core-js/internals/set-union.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js").add,A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js");l.exports=function(x){var y=d(this),b=f(x).getIterator(),w=A(y);return g(b,function(N){h(w,N)}),w}}),"./node_modules/core-js/internals/shared-key.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/shared.js"),h=o("./node_modules/core-js/internals/uid.js"),A=d("keys");l.exports=function(f){return A[f]||(A[f]=h(f))}}),"./node_modules/core-js/internals/shared-store.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/is-pure.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/define-global-property.js"),f="__core-js_shared__",g=l.exports=h[f]||A(f,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:d?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/shared-store.js");l.exports=function(h,A){return d[h]||(d[h]=A||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/a-constructor.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("species");l.exports=function(m,x){var y=d(m).constructor,b;return y===void 0||A(b=d(y)[g])?x:h(b)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/fails.js");l.exports=function(h){return d(function(){var A=""[h]('"');return A!==A.toLowerCase()||A.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=d("".charAt),m=d("".charCodeAt),x=d("".slice),y=function(b){return function(w,N){var S=A(f(w)),j=h(N),_=S.length,k,Z;return j<0||j>=_?b?"":void 0:(k=m(S,j),k<55296||k>56319||j+1===_||(Z=m(S,j+1))<56320||Z>57343?b?g(S,j):k:b?x(S,j,j+2):(k-55296<<10)+(Z-56320)+65536)}};l.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-name.js").PROPER,h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/whitespaces.js"),f="";l.exports=function(g){return h(function(){return!!A[g]()||f[g]()!==f||d&&A[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/whitespaces.js"),g=d("".replace),m=RegExp("^["+f+"]+"),x=RegExp("(^|[^"+f+"])["+f+"]+$"),y=function(b){return function(w){var N=A(h(w));return b&1&&(N=g(N,m,"")),b&2&&(N=g(N,x,"$1")),N}};l.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/environment-v8-version.js"),h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/global-this.js"),f=A.String;l.exports=!!Object.getOwnPropertySymbols&&!h(function(){var g=Symbol("symbol detection");return!f(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&d&&d<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(){var g=h("Symbol"),m=g&&g.prototype,x=m&&m.valueOf,y=A("toPrimitive");m&&!m[y]&&f(m,y,function(b){return d(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=d&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/array-slice.js"),b=o("./node_modules/core-js/internals/document-create-element.js"),w=o("./node_modules/core-js/internals/validate-arguments-length.js"),N=o("./node_modules/core-js/internals/environment-is-ios.js"),S=o("./node_modules/core-js/internals/environment-is-node.js"),j=d.setImmediate,_=d.clearImmediate,k=d.process,Z=d.Dispatch,ee=d.Function,V=d.MessageChannel,re=d.String,R=0,Y={},L="onreadystatechange",$,je,ge,Ie;m(function(){$=d.location});var _e=function(se){if(g(Y,se)){var he=Y[se];delete Y[se],he()}},fe=function(se){return function(){_e(se)}},le=function(se){_e(se.data)},ve=function(se){d.postMessage(re(se),$.protocol+"//"+$.host)};(!j||!_)&&(j=function(he){w(arguments.length,1);var Ne=f(he)?he:ee(he),Pe=y(arguments,1);return Y[++R]=function(){h(Ne,void 0,Pe)},je(R),R},_=function(he){delete Y[he]},S?je=function(se){k.nextTick(fe(se))}:Z&&Z.now?je=function(se){Z.now(fe(se))}:V&&!N?(ge=new V,Ie=ge.port2,ge.port1.onmessage=le,je=A(Ie.postMessage,Ie)):d.addEventListener&&f(d.postMessage)&&!d.importScripts&&$&&$.protocol!=="file:"&&!m(ve)?(je=ve,d.addEventListener("message",le,!1)):L in b("script")?je=function(se){x.appendChild(b("script"))[L]=function(){x.removeChild(this),_e(se)}}:je=function(se){setTimeout(fe(se),0)}),l.exports={set:j,clear:_}}),"./node_modules/core-js/internals/this-number-value.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=d(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.max,A=Math.min;l.exports=function(f,g){var m=d(f);return m<0?h(m+g,0):A(m,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/indexed-object.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(A){return d(h(A))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/math-trunc.js");l.exports=function(h){var A=+h;return A!==A||A===0?0:d(A)}}),"./node_modules/core-js/internals/to-length.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.min;l.exports=function(A){var f=d(A);return f>0?h(f,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/require-object-coercible.js"),h=Object;l.exports=function(A){return h(d(A))}}),"./node_modules/core-js/internals/to-primitive.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),f=o("./node_modules/core-js/internals/get-method.js"),g=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=m("toPrimitive");l.exports=function(b,w){if(!h(b)||A(b))return b;var N=f(b,y),S;if(N){if(w===void 0&&(w="default"),S=d(N,b,w),!h(S)||A(S))return S;throw new x("Can't convert object to primitive value")}return w===void 0&&(w="number"),g(b,w)}}),"./node_modules/core-js/internals/to-property-key.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-primitive.js"),h=o("./node_modules/core-js/internals/is-symbol.js");l.exports=function(A){var f=d(A,"string");return h(f)?f:f+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-iterable.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=d("Set"),m=function(x){return f(x)&&typeof x.size=="number"&&h(x.has)&&h(x.keys)};l.exports=function(x){return m(x)?x:A(x)?new g(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=d("toStringTag"),A={};A[h]="z",l.exports=String(A)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/classof.js"),h=String;l.exports=function(A){if(d(A)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(A)}}),"./node_modules/core-js/internals/try-to-string.js":(function(l){var u=String;l.exports=function(o){try{return u(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=0,A=Math.random(),f=d(1.1.toString);l.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+f(++h+A,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/fails.js");l.exports=d&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(l){var u=TypeError;l.exports=function(o,d){if(o<d)throw new u("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/is-callable.js"),A=d.WeakMap;l.exports=h(A)&&/native code/.test(String(A))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/path.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),f=o("./node_modules/core-js/internals/object-define-property.js").f;l.exports=function(g){var m=d.Symbol||(d.Symbol={});h(m,g)||f(m,g,{value:A.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js");u.f=d}),"./node_modules/core-js/internals/well-known-symbol.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/shared.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/uid.js"),g=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=d.Symbol,y=h("wks"),b=m?x.for||x:x&&x.withoutSetter||f;l.exports=function(w){return A(y,w)||(y[w]=g&&A(x,w)?x[w]:b("Symbol."+w)),y[w]}}),"./node_modules/core-js/internals/whitespaces.js":(function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/array-species-create.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/environment-v8-version.js"),j=N("isConcatSpreadable"),_=S>=51||!h(function(){var ee=[];return ee[j]=!1,ee.concat()[0]!==ee}),k=function(ee){if(!f(ee))return!1;var V=ee[j];return V!==void 0?!!V:A(ee)},Z=!_||!w("concat");d({target:"Array",proto:!0,arity:1,forced:Z},{concat:function(V){var re=g(this),R=b(re,0),Y=0,L,$,je,ge,Ie;for(L=-1,je=arguments.length;L<je;L++)if(Ie=L===-1?re:arguments[L],k(Ie))for(ge=m(Ie),x(Y+ge),$=0;$<ge;$++,Y++)$ in Ie&&y(R,Y,Ie[$]);else x(Y+1),y(R,Y++,Ie);return R.length=Y,R}})}),"./node_modules/core-js/modules/es.array.from.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/array-from.js"),A=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=!A(function(g){Array.from(g)});d({target:"Array",stat:!0,forced:f},{from:h})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/array-includes.js").indexOf,f=o("./node_modules/core-js/internals/array-method-is-strict.js"),g=h([].indexOf),m=!!g&&1/g([1],1,-0)<0,x=m||!f("indexOf");d({target:"Array",proto:!0,forced:x},{indexOf:function(b){var w=arguments.length>1?arguments[1]:void 0;return m?g(this,b,w)||0:A(this,b,w)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/add-to-unscopables.js"),A=o("./node_modules/core-js/internals/iterators.js"),f=o("./node_modules/core-js/internals/internal-state.js"),g=o("./node_modules/core-js/internals/object-define-property.js").f,m=o("./node_modules/core-js/internals/iterator-define.js"),x=o("./node_modules/core-js/internals/create-iter-result-object.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/descriptors.js"),w="Array Iterator",N=f.set,S=f.getterFor(w);l.exports=m(Array,"Array",function(_,k){N(this,{type:w,target:d(_),index:0,kind:k})},function(){var _=S(this),k=_.target,Z=_.index++;if(!k||Z>=k.length)return _.target=null,x(void 0,!0);switch(_.kind){case"keys":return x(Z,!1);case"values":return x(k[Z],!1)}return x([Z,k[Z]],!1)},"values");var j=A.Arguments=A.Array;if(h("keys"),h("values"),h("entries"),!y&&b&&j.name!=="values")try{g(j,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/to-indexed-object.js"),g=o("./node_modules/core-js/internals/array-method-is-strict.js"),m=h([].join),x=A!==Object,y=x||!g("join",",");d({target:"Array",proto:!0,forced:y},{join:function(w){return m(f(this),w===void 0?",":w)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/array-iteration.js").map,A=o("./node_modules/core-js/internals/array-method-has-species-support.js"),f=A("map");d({target:"Array",proto:!0,forced:!f},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/array-reduce.js").left,A=o("./node_modules/core-js/internals/array-method-is-strict.js"),f=o("./node_modules/core-js/internals/environment-v8-version.js"),g=o("./node_modules/core-js/internals/environment-is-node.js"),m=!g&&f>79&&f<83,x=m||!A("reduce");d({target:"Array",proto:!0,forced:x},{reduce:function(b){var w=arguments.length;return h(this,b,w,w>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/is-array.js"),f=h([].reverse),g=[1,2];d({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return A(this)&&(this.length=this.length),f(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-array.js"),A=o("./node_modules/core-js/internals/is-constructor.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-absolute-index.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),N=o("./node_modules/core-js/internals/array-slice.js"),S=w("slice"),j=b("species"),_=Array,k=Math.max;d({target:"Array",proto:!0,forced:!S},{slice:function(ee,V){var re=x(this),R=m(re),Y=g(ee,R),L=g(V===void 0?R:V,R),$,je,ge;if(h(re)&&($=re.constructor,A($)&&($===_||h($.prototype))?$=void 0:f($)&&($=$[j],$===null&&($=void 0)),$===_||$===void 0))return N(re,Y,L);for(je=new($===void 0?_:$)(k(L-Y,0)),ge=0;Y<L;Y++,ge++)Y in re&&y(je,ge,re[Y]);return je.length=ge,je}})}),"./node_modules/core-js/modules/es.function.name.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/function-name.js").EXISTS,A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,m=A(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=A(x.exec),b="name";d&&!h&&f(g,b,{configurable:!0,get:function(){try{return y(x,m(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/an-instance.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-get-prototype-of.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,j=o("./node_modules/core-js/internals/descriptors.js"),_=o("./node_modules/core-js/internals/is-pure.js"),k="constructor",Z="Iterator",ee=N("toStringTag"),V=TypeError,re=h[Z],R=_||!g(re)||re.prototype!==S||!b(function(){re({})}),Y=function(){if(A(this,S),m(this)===S)throw new V("Abstract class Iterator not directly constructable")},L=function($,je){j?x(S,$,{configurable:!0,get:function(){return je},set:function(ge){if(f(this),this===S)throw new V("You can't redefine this property");w(this,$)?this[$]=ge:y(this,$,ge)}}):S[$]=je};w(S,ee)||L(ee,Z),(R||!w(S,k)||S[k]===Object)&&L(k,Y),Y.prototype=S,d({global:!0,constructor:!0,forced:R},{Iterator:Y})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/iterate.js"),f=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-iterator-direct.js"),x=o("./node_modules/core-js/internals/iterator-close.js"),y=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),b=y("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:b},{forEach:function(N){g(this);try{f(N)}catch(_){x(this,"throw",_)}if(b)return h(b,this,N);var S=m(this),j=0;A(S,function(_){N(_,j++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m=o("./node_modules/core-js/internals/iterator-create-proxy.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=o("./node_modules/core-js/internals/iterator-close.js"),b=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),w=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),N=o("./node_modules/core-js/internals/is-pure.js"),S=!N&&!b("map",function(){}),j=!N&&!S&&w("map",TypeError),_=N||S||j,k=m(function(){var Z=this.iterator,ee=f(h(this.next,Z)),V=this.done=!!ee.done;if(!V)return x(Z,this.mapper,[ee.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:_},{map:function(ee){f(this);try{A(ee)}catch(V){y(this,"throw",V)}return j?h(j,this,ee):new k(g(this),{mapper:ee})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/is-array.js"),y=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/is-raw-json.js"),w=o("./node_modules/core-js/internals/is-symbol.js"),N=o("./node_modules/core-js/internals/classof-raw.js"),S=o("./node_modules/core-js/internals/to-string.js"),j=o("./node_modules/core-js/internals/array-slice.js"),_=o("./node_modules/core-js/internals/parse-json-string.js"),k=o("./node_modules/core-js/internals/uid.js"),Z=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),ee=o("./node_modules/core-js/internals/native-raw-json.js"),V=String,re=h("JSON","stringify"),R=g(/./.exec),Y=g("".charAt),L=g("".charCodeAt),$=g("".replace),je=g("".slice),ge=g([].push),Ie=g(1.1.toString),_e=/[\uD800-\uDFFF]/g,fe=/^[\uD800-\uDBFF]$/,le=/^[\uDC00-\uDFFF]$/,ve=k(),se=ve.length,he=!Z||m(function(){var q=h("Symbol")("stringify detection");return re([q])!=="[null]"||re({a:q})!=="{}"||re(Object(q))!=="{}"}),Ne=m(function(){return re("\uDF06\uD834")!=='"\\udf06\\ud834"'||re("\uDEAD")!=='"\\udead"'}),Pe=he?function(q,pe){var oe=j(arguments),We=ce(pe);if(!(!y(We)&&(q===void 0||w(q))))return oe[1]=function(Re,Ee){if(y(We)&&(Ee=f(We,this,V(Re),Ee)),!w(Ee))return Ee},A(re,null,oe)}:re,ye=function(q,pe,oe){var We=Y(oe,pe-1),Re=Y(oe,pe+1);return R(fe,q)&&!R(le,Re)||R(le,q)&&!R(fe,We)?"\\u"+Ie(L(q,0),16):q},ce=function(q){if(y(q))return q;if(x(q)){for(var pe=q.length,oe=[],We=0;We<pe;We++){var Re=q[We];typeof Re=="string"?ge(oe,Re):(typeof Re=="number"||N(Re)==="Number"||N(Re)==="String")&&ge(oe,S(Re))}var Ee=oe.length,ae=!0;return function(Le,Ze){if(ae)return ae=!1,Ze;if(x(this))return Ze;for(var jt=0;jt<Ee;jt++)if(oe[jt]===Le)return Ze}}};re&&d({target:"JSON",stat:!0,arity:3,forced:he||Ne||!ee},{stringify:function(pe,oe,We){var Re=ce(oe),Ee=[],ae=Pe(pe,function(_r,Or){var He=y(Re)?f(Re,this,V(_r),Or):Or;return!ee&&b(He)?ve+(ge(Ee,He.rawJSON)-1):He},We);if(typeof ae!="string"||(Ne&&(ae=$(ae,_e,ye)),ee))return ae;for(var Le="",Ze=ae.length,jt=0;jt<Ze;jt++){var Lt=Y(ae,jt);if(Lt==='"'){var Ct=_(ae,++jt).end-1,Xt=je(ae,jt,Ct);Le+=je(Xt,0,se)===ve?Ee[je(Xt,se)]:'"'+Xt+'"',jt=Ct}else Le+=Lt}return Le}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),y=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/inherit-if-required.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),N=o("./node_modules/core-js/internals/is-symbol.js"),S=o("./node_modules/core-js/internals/to-primitive.js"),j=o("./node_modules/core-js/internals/fails.js"),_=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,k=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Z=o("./node_modules/core-js/internals/object-define-property.js").f,ee=o("./node_modules/core-js/internals/this-number-value.js"),V=o("./node_modules/core-js/internals/string-trim.js").trim,re="Number",R=f[re],Y=g[re],L=R.prototype,$=f.TypeError,je=m("".slice),ge=m("".charCodeAt),Ie=function(he){var Ne=S(he,"number");return typeof Ne=="bigint"?Ne:_e(Ne)},_e=function(he){var Ne=S(he,"number"),Pe,ye,ce,q,pe,oe,We,Re;if(N(Ne))throw new $("Cannot convert a Symbol value to a number");if(typeof Ne=="string"&&Ne.length>2){if(Ne=V(Ne),Pe=ge(Ne,0),Pe===43||Pe===45){if(ye=ge(Ne,2),ye===88||ye===120)return NaN}else if(Pe===48){switch(ge(Ne,1)){case 66:case 98:ce=2,q=49;break;case 79:case 111:ce=8,q=55;break;default:return+Ne}for(pe=je(Ne,2),oe=pe.length,We=0;We<oe;We++)if(Re=ge(pe,We),Re<48||Re>q)return NaN;return parseInt(pe,ce)}}return+Ne},fe=x(re,!R(" 0o1")||!R("0b1")||R("+0x1")),le=function(he){return w(L,he)&&j(function(){ee(he)})},ve=function(Ne){var Pe=arguments.length<1?0:R(Ie(Ne));return le(this)?b(Object(Pe),this,ve):Pe};ve.prototype=L,fe&&!h&&(L.constructor=ve),d({global:!0,constructor:!0,wrap:!0,forced:fe},{Number:ve});var se=function(he,Ne){for(var Pe=A?_(Ne):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ye=0,ce;Pe.length>ye;ye++)y(Ne,ce=Pe[ye])&&!y(he,ce)&&Z(he,ce,k(Ne,ce))};h&&Y&&se(g[re],Y),(fe||h)&&se(g[re],R)}),"./node_modules/core-js/modules/es.object.assign.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==h},{assign:h})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),A=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=!h||A(function(){f.f(1)});d({target:"Object",stat:!0,forced:m},{getOwnPropertySymbols:function(y){var b=f.f;return b?b(g(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/object-keys.js"),f=o("./node_modules/core-js/internals/fails.js"),g=f(function(){A(1)});d({target:"Object",stat:!0,forced:g},{keys:function(x){return A(h(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/object-to-string.js");d||h(Object.prototype,"toString",A,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:x},{all:function(b){var w=this,N=f.f(w),S=N.resolve,j=N.reject,_=g(function(){var k=A(w.resolve),Z=[],ee=0,V=1;m(b,function(re){var R=ee++,Y=!1;V++,h(k,w,re).then(function(L){Y||(Y=!0,Z[R]=L,--V||S(Z))},j)}),--V||S(Z)});return _.error&&j(_.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,f=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=f&&f.prototype;if(d({target:"Promise",proto:!0,forced:A,real:!0},{catch:function(w){return this.then(void 0,w)}}),!h&&m(f)){var b=g("Promise").prototype.catch;y.catch!==b&&x(y,"catch",b,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/environment-is-node.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/set-species.js"),N=o("./node_modules/core-js/internals/a-callable.js"),S=o("./node_modules/core-js/internals/is-callable.js"),j=o("./node_modules/core-js/internals/is-object.js"),_=o("./node_modules/core-js/internals/an-instance.js"),k=o("./node_modules/core-js/internals/species-constructor.js"),Z=o("./node_modules/core-js/internals/task.js").set,ee=o("./node_modules/core-js/internals/microtask.js"),V=o("./node_modules/core-js/internals/host-report-errors.js"),re=o("./node_modules/core-js/internals/perform.js"),R=o("./node_modules/core-js/internals/queue.js"),Y=o("./node_modules/core-js/internals/internal-state.js"),L=o("./node_modules/core-js/internals/promise-native-constructor.js"),$=o("./node_modules/core-js/internals/promise-constructor-detection.js"),je=o("./node_modules/core-js/internals/new-promise-capability.js"),ge="Promise",Ie=$.CONSTRUCTOR,_e=$.REJECTION_EVENT,fe=$.SUBCLASSING,le=Y.getterFor(ge),ve=Y.set,se=L&&L.prototype,he=L,Ne=se,Pe=f.TypeError,ye=f.document,ce=f.process,q=je.f,pe=q,oe=!!(ye&&ye.createEvent&&f.dispatchEvent),We="unhandledrejection",Re="rejectionhandled",Ee=0,ae=1,Le=2,Ze=1,jt=2,Lt,Ct,Xt,_r,Or=function(dr){var Cr;return j(dr)&&S(Cr=dr.then)?Cr:!1},He=function(dr,Cr){var Vr=Cr.value,zr=Cr.state===ae,gn=zr?dr.ok:dr.fail,Wr=dr.resolve,$n=dr.reject,Lr=dr.domain,Dr,wn,cn;try{gn?(zr||(Cr.rejection===jt&&on(Cr),Cr.rejection=Ze),gn===!0?Dr=Vr:(Lr&&Lr.enter(),Dr=gn(Vr),Lr&&(Lr.exit(),cn=!0)),Dr===dr.promise?$n(new Pe("Promise-chain cycle")):(wn=Or(Dr))?m(wn,Dr,Wr,$n):Wr(Dr)):$n(Vr)}catch(bt){Lr&&!cn&&Lr.exit(),$n(bt)}},Zt=function(dr,Cr){dr.notified||(dr.notified=!0,ee(function(){for(var Vr=dr.reactions,zr;zr=Vr.get();)He(zr,dr);dr.notified=!1,Cr&&!dr.rejection&&$r(dr)}))},Bt=function(dr,Cr,Vr){var zr,gn;oe?(zr=ye.createEvent("Event"),zr.promise=Cr,zr.reason=Vr,zr.initEvent(dr,!1,!0),f.dispatchEvent(zr)):zr={promise:Cr,reason:Vr},!_e&&(gn=f["on"+dr])?gn(zr):dr===We&&V("Unhandled promise rejection",Vr)},$r=function(dr){m(Z,f,function(){var Cr=dr.facade,Vr=dr.value,zr=pr(dr),gn;if(zr&&(gn=re(function(){A?ce.emit("unhandledRejection",Vr,Cr):Bt(We,Cr,Vr)}),dr.rejection=A||pr(dr)?jt:Ze,gn.error))throw gn.value})},pr=function(dr){return dr.rejection!==Ze&&!dr.parent},on=function(dr){m(Z,f,function(){var Cr=dr.facade;A?ce.emit("rejectionHandled",Cr):Bt(Re,Cr,dr.value)})},Yr=function(dr,Cr,Vr){return function(zr){dr(Cr,zr,Vr)}},qr=function(dr,Cr,Vr){dr.done||(dr.done=!0,Vr&&(dr=Vr),dr.value=Cr,dr.state=Le,Zt(dr,!0))},Ir=function(dr,Cr,Vr){if(!dr.done){dr.done=!0,Vr&&(dr=Vr);try{if(dr.facade===Cr)throw new Pe("Promise can't be resolved itself");var zr=Or(Cr);zr?ee(function(){var gn={done:!1};try{m(zr,Cr,Yr(Ir,gn,dr),Yr(qr,gn,dr))}catch(Wr){qr(gn,Wr,dr)}}):(dr.value=Cr,dr.state=ae,Zt(dr,!1))}catch(gn){qr({done:!1},gn,dr)}}};if(Ie&&(he=function(Cr){_(this,Ne),N(Cr),m(Lt,this);var Vr=le(this);try{Cr(Yr(Ir,Vr),Yr(qr,Vr))}catch(zr){qr(Vr,zr)}},Ne=he.prototype,Lt=function(Cr){ve(this,{type:ge,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:Ee,value:null})},Lt.prototype=x(Ne,"then",function(Cr,Vr){var zr=le(this),gn=q(k(this,he));return zr.parent=!0,gn.ok=S(Cr)?Cr:!0,gn.fail=S(Vr)&&Vr,gn.domain=A?ce.domain:void 0,zr.state===Ee?zr.reactions.add(gn):ee(function(){He(gn,zr)}),gn.promise}),Ct=function(){var dr=new Lt,Cr=le(dr);this.promise=dr,this.resolve=Yr(Ir,Cr),this.reject=Yr(qr,Cr)},je.f=q=function(dr){return dr===he||dr===Xt?new Ct(dr):pe(dr)},!h&&S(L)&&se!==Object.prototype)){_r=se.then,fe||x(se,"then",function(Cr,Vr){var zr=this;return new he(function(gn,Wr){m(_r,zr,gn,Wr)}).then(Cr,Vr)},{unsafe:!0});try{delete se.constructor}catch{}y&&y(se,Ne)}d({global:!0,constructor:!0,wrap:!0,forced:Ie},{Promise:he}),Xt=g.Promise,b(he,ge,!1,!0),w(ge)}),"./node_modules/core-js/modules/es.promise.js":(function(l,u,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:x},{race:function(b){var w=this,N=f.f(w),S=N.reject,j=g(function(){var _=A(w.resolve);m(b,function(k){h(_,w,k).then(N.resolve,S)})});return j.error&&S(j.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/new-promise-capability.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d({target:"Promise",stat:!0,forced:A},{reject:function(g){var m=h.f(this),x=m.reject;return x(g),m.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=o("./node_modules/core-js/internals/promise-resolve.js"),x=h("Promise"),y=A&&!g;d({target:"Promise",stat:!0,forced:A||g},{resolve:function(w){return m(y&&this===x?f:this,w)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/regexp-exec.js");d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=(function(){var y=!1,b=/[ac]/;return b.exec=function(){return y=!0,/./.exec.apply(this,arguments)},b.test("abc")===!0&&y})(),x=/./.test;d({target:"RegExp",proto:!0,forced:!m},{test:function(y){var b=f(this),w=g(y),N=b.exec;if(!A(N))return h(x,b,w);var S=h(N,b,w);return S===null?!1:(f(S),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-name.js").PROPER,h=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,b=y[x],w=g(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),N=d&&b.name!==x;(w||N)&&h(y,x,function(){var j=A(this),_=f(j.source),k=f(m(j));return"/"+_+"/"+k},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/collection.js"),h=o("./node_modules/core-js/internals/collection-strong.js");d("Set",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},h)}),"./node_modules/core-js/modules/es.set.js":(function(l,u,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=h("".slice),N=Math.min,S=y("endsWith"),j=!b&&!S&&!!(function(){var _=A(String.prototype,"endsWith");return _&&!_.writable})();d({target:"String",proto:!0,forced:!j&&!S},{endsWith:function(k){var Z=g(x(this));m(k);var ee=arguments.length>1?arguments[1]:void 0,V=Z.length,re=ee===void 0?V:N(f(ee),V),R=g(k);return w(Z,re-R.length,re)===R}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/not-a-regexp.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=h("".indexOf);d({target:"String",proto:!0,forced:!m("includes")},{includes:function(b){return!!~x(g(f(this)),g(A(b)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/string-multibyte.js").charAt,h=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/internal-state.js"),f=o("./node_modules/core-js/internals/iterator-define.js"),g=o("./node_modules/core-js/internals/create-iter-result-object.js"),m="String Iterator",x=A.set,y=A.getterFor(m);f(String,"String",function(b){x(this,{type:m,string:h(b),index:0})},function(){var w=y(this),N=w.string,S=w.index,j;return S>=N.length?g(void 0,!0):(j=d(N,S),w.index+=j.length,g(j,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/create-html.js"),A=o("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:A("link")},{link:function(g){return h(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/to-length.js"),x=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/get-method.js"),w=o("./node_modules/core-js/internals/advance-string-index.js"),N=o("./node_modules/core-js/internals/regexp-get-flags.js"),S=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),j=h("".indexOf);A("match",function(_,k,Z){return[function(V){var re=y(this),R=g(V)?b(V,_):void 0;return R?d(R,V,re):new RegExp(V)[_](x(re))},function(ee){var V=f(this),re=x(ee),R=Z(k,V,re);if(R.done)return R.value;var Y=x(N(V));if(j(Y,"g")===-1)return S(V,re);var L=j(Y,"u")!==-1;V.lastIndex=0;for(var $=[],je=0,ge;(ge=S(V,re))!==null;){var Ie=x(ge[0]);$[je]=Ie,Ie===""&&(V.lastIndex=w(re,m(V.lastIndex),L)),je++}return je===0?null:$}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-apply.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),w=o("./node_modules/core-js/internals/to-length.js"),N=o("./node_modules/core-js/internals/to-string.js"),S=o("./node_modules/core-js/internals/require-object-coercible.js"),j=o("./node_modules/core-js/internals/advance-string-index.js"),_=o("./node_modules/core-js/internals/get-method.js"),k=o("./node_modules/core-js/internals/get-substitution.js"),Z=o("./node_modules/core-js/internals/regexp-get-flags.js"),ee=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),V=o("./node_modules/core-js/internals/well-known-symbol.js"),re=V("replace"),R=Math.max,Y=Math.min,L=A([].concat),$=A([].push),je=A("".indexOf),ge=A("".slice),Ie=function(ve){return ve===void 0?ve:String(ve)},_e=(function(){return"a".replace(/./,"$0")==="$0"})(),fe=(function(){return/./[re]?/./[re]("a","$0")==="":!1})(),le=!g(function(){var ve=/./;return ve.exec=function(){var se=[];return se.groups={a:"7"},se},"".replace(ve,"$<a>")!=="7"});f("replace",function(ve,se,he){var Ne=fe?"$":"$0";return[function(ye,ce){var q=S(this),pe=y(ye)?_(ye,re):void 0;return pe?h(pe,ye,q,ce):h(se,N(q),ye,ce)},function(Pe,ye){var ce=m(this),q=N(Pe);if(typeof ye=="string"&&je(ye,Ne)===-1&&je(ye,"$<")===-1){var pe=he(se,ce,q,ye);if(pe.done)return pe.value}var oe=x(ye);oe||(ye=N(ye));var We=N(Z(ce)),Re=je(We,"g")!==-1,Ee;Re&&(Ee=je(We,"u")!==-1,ce.lastIndex=0);for(var ae=[],Le;Le=ee(ce,q),!(Le===null||($(ae,Le),!Re));){var Ze=N(Le[0]);Ze===""&&(ce.lastIndex=j(q,w(ce.lastIndex),Ee))}for(var jt="",Lt=0,Ct=0;Ct<ae.length;Ct++){Le=ae[Ct];for(var Xt=N(Le[0]),_r=R(Y(b(Le.index),q.length),0),Or=[],He,Zt=1;Zt<Le.length;Zt++)$(Or,Ie(Le[Zt]));var Bt=Le.groups;if(oe){var $r=L([Xt],Or,_r,q);Bt!==void 0&&$($r,Bt),He=N(d(ye,void 0,$r))}else He=k(Xt,q,_r,Or,Bt,ye);_r>=Lt&&(jt+=ge(q,Lt,_r)+He,Lt=_r+Xt.length)}return jt+ge(q,Lt)}]},!le||!_e||fe)}),"./node_modules/core-js/modules/es.string.split.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/species-constructor.js"),y=o("./node_modules/core-js/internals/advance-string-index.js"),b=o("./node_modules/core-js/internals/to-length.js"),w=o("./node_modules/core-js/internals/to-string.js"),N=o("./node_modules/core-js/internals/get-method.js"),S=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),j=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),_=o("./node_modules/core-js/internals/fails.js"),k=j.UNSUPPORTED_Y,Z=4294967295,ee=Math.min,V=h([].push),re=h("".slice),R=!_(function(){var L=/(?:)/,$=L.exec;L.exec=function(){return $.apply(this,arguments)};var je="ab".split(L);return je.length!==2||je[0]!=="a"||je[1]!=="b"}),Y="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;A("split",function(L,$,je){var ge="0".split(void 0,0).length?function(Ie,_e){return Ie===void 0&&_e===0?[]:d($,this,Ie,_e)}:$;return[function(_e,fe){var le=m(this),ve=g(_e)?N(_e,L):void 0;return ve?d(ve,_e,le,fe):d(ge,w(le),_e,fe)},function(Ie,_e){var fe=f(this),le=w(Ie);if(!Y){var ve=je(ge,fe,le,_e,ge!==$);if(ve.done)return ve.value}var se=x(fe,RegExp),he=fe.unicode,Ne=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(k?"g":"y"),Pe=new se(k?"^(?:"+fe.source+")":fe,Ne),ye=_e===void 0?Z:_e>>>0;if(ye===0)return[];if(le.length===0)return S(Pe,le)===null?[le]:[];for(var ce=0,q=0,pe=[];q<le.length;){Pe.lastIndex=k?0:q;var oe=S(Pe,k?re(le,q):le),We;if(oe===null||(We=ee(b(Pe.lastIndex+(k?q:0)),le.length))===ce)q=y(le,q,he);else{if(V(pe,re(le,ce,q)),pe.length===ye)return pe;for(var Re=1;Re<=oe.length-1;Re++)if(V(pe,oe[Re]),pe.length===ye)return pe;q=ce=We}}return V(pe,re(le,ce)),pe}]},Y||!R,k)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=h("".slice),N=Math.min,S=y("startsWith"),j=!b&&!S&&!!(function(){var _=A(String.prototype,"startsWith");return _&&!_.writable})();d({target:"String",proto:!0,forced:!j&&!S},{startsWith:function(k){var Z=g(x(this));m(k);var ee=f(N(arguments.length>1?arguments[1]:void 0,Z.length)),V=g(k);return w(Z,ee,ee+V.length)===V}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/string-trim.js").trim,A=o("./node_modules/core-js/internals/string-trim-forced.js");d({target:"String",proto:!0,forced:A("trim")},{trim:function(){return h(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),N=o("./node_modules/core-js/internals/an-object.js"),S=o("./node_modules/core-js/internals/to-indexed-object.js"),j=o("./node_modules/core-js/internals/to-property-key.js"),_=o("./node_modules/core-js/internals/to-string.js"),k=o("./node_modules/core-js/internals/create-property-descriptor.js"),Z=o("./node_modules/core-js/internals/object-create.js"),ee=o("./node_modules/core-js/internals/object-keys.js"),V=o("./node_modules/core-js/internals/object-get-own-property-names.js"),re=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),R=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Y=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),L=o("./node_modules/core-js/internals/object-define-property.js"),$=o("./node_modules/core-js/internals/object-define-properties.js"),je=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),ge=o("./node_modules/core-js/internals/define-built-in.js"),Ie=o("./node_modules/core-js/internals/define-built-in-accessor.js"),_e=o("./node_modules/core-js/internals/shared.js"),fe=o("./node_modules/core-js/internals/shared-key.js"),le=o("./node_modules/core-js/internals/hidden-keys.js"),ve=o("./node_modules/core-js/internals/uid.js"),se=o("./node_modules/core-js/internals/well-known-symbol.js"),he=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Ne=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Pe=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),ye=o("./node_modules/core-js/internals/set-to-string-tag.js"),ce=o("./node_modules/core-js/internals/internal-state.js"),q=o("./node_modules/core-js/internals/array-iteration.js").forEach,pe=fe("hidden"),oe="Symbol",We="prototype",Re=ce.set,Ee=ce.getterFor(oe),ae=Object[We],Le=h.Symbol,Ze=Le&&Le[We],jt=h.RangeError,Lt=h.TypeError,Ct=h.QObject,Xt=Y.f,_r=L.f,Or=re.f,He=je.f,Zt=f([].push),Bt=_e("symbols"),$r=_e("op-symbols"),pr=_e("wks"),on=!Ct||!Ct[We]||!Ct[We].findChild,Yr=function(Lr,Dr,wn){var cn=Xt(ae,Dr);cn&&delete ae[Dr],_r(Lr,Dr,wn),cn&&Lr!==ae&&_r(ae,Dr,cn)},qr=m&&y(function(){return Z(_r({},"a",{get:function(){return _r(this,"a",{value:7}).a}})).a!==7})?Yr:_r,Ir=function(Lr,Dr){var wn=Bt[Lr]=Z(Ze);return Re(wn,{type:oe,tag:Lr,description:Dr}),m||(wn.description=Dr),wn},dr=function(Dr,wn,cn){Dr===ae&&dr($r,wn,cn),N(Dr);var bt=j(wn);return N(cn),b(Bt,bt)?(cn.enumerable?(b(Dr,pe)&&Dr[pe][bt]&&(Dr[pe][bt]=!1),cn=Z(cn,{enumerable:k(0,!1)})):(b(Dr,pe)||_r(Dr,pe,k(1,Z(null))),Dr[pe][bt]=!0),qr(Dr,bt,cn)):_r(Dr,bt,cn)},Cr=function(Dr,wn){N(Dr);var cn=S(wn),bt=ee(cn).concat($n(cn));return q(bt,function(Sr){(!m||A(zr,cn,Sr))&&dr(Dr,Sr,cn[Sr])}),Dr},Vr=function(Dr,wn){return wn===void 0?Z(Dr):Cr(Z(Dr),wn)},zr=function(Dr){var wn=j(Dr),cn=A(He,this,wn);return this===ae&&b(Bt,wn)&&!b($r,wn)?!1:cn||!b(this,wn)||!b(Bt,wn)||b(this,pe)&&this[pe][wn]?cn:!0},gn=function(Dr,wn){var cn=S(Dr),bt=j(wn);if(!(cn===ae&&b(Bt,bt)&&!b($r,bt))){var Sr=Xt(cn,bt);return Sr&&b(Bt,bt)&&!(b(cn,pe)&&cn[pe][bt])&&(Sr.enumerable=!0),Sr}},Wr=function(Dr){var wn=Or(S(Dr)),cn=[];return q(wn,function(bt){!b(Bt,bt)&&!b(le,bt)&&Zt(cn,bt)}),cn},$n=function(Lr){var Dr=Lr===ae,wn=Or(Dr?$r:S(Lr)),cn=[];return q(wn,function(bt){b(Bt,bt)&&(!Dr||b(ae,bt))&&Zt(cn,Bt[bt])}),cn};x||(Le=function(){if(w(Ze,this))throw new Lt("Symbol is not a constructor");var Dr=!arguments.length||arguments[0]===void 0?void 0:_(arguments[0]),wn=ve(Dr),cn=function(bt){var Sr=this===void 0?h:this;Sr===ae&&A(cn,$r,bt),b(Sr,pe)&&b(Sr[pe],wn)&&(Sr[pe][wn]=!1);var dn=k(1,bt);try{qr(Sr,wn,dn)}catch(Dn){if(!(Dn instanceof jt))throw Dn;Yr(Sr,wn,dn)}};return m&&on&&qr(ae,wn,{configurable:!0,set:cn}),Ir(wn,Dr)},Ze=Le[We],ge(Ze,"toString",function(){return Ee(this).tag}),ge(Le,"withoutSetter",function(Lr){return Ir(ve(Lr),Lr)}),je.f=zr,L.f=dr,$.f=Cr,Y.f=gn,V.f=re.f=Wr,R.f=$n,he.f=function(Lr){return Ir(se(Lr),Lr)},m&&(Ie(Ze,"description",{configurable:!0,get:function(){return Ee(this).description}}),g||ge(ae,"propertyIsEnumerable",zr,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Le}),q(ee(pr),function(Lr){Ne(Lr)}),d({target:oe,stat:!0,forced:!x},{useSetter:function(){on=!0},useSimple:function(){on=!1}}),d({target:"Object",stat:!0,forced:!x,sham:!m},{create:Vr,defineProperty:dr,defineProperties:Cr,getOwnPropertyDescriptor:gn}),d({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Wr}),Pe(),ye(Le,oe),le[pe]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/descriptors.js"),A=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/define-built-in-accessor.js"),w=o("./node_modules/core-js/internals/copy-constructor-properties.js"),N=A.Symbol,S=N&&N.prototype;if(h&&m(N)&&(!("description"in S)||N().description!==void 0)){var j={},_=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),$=x(S,this)?new N(L):L===void 0?N():N(L);return L===""&&(j[$]=!0),$};w(_,N),_.prototype=S,S.constructor=_;var k=String(N("description detection"))==="Symbol(description detection)",Z=f(S.valueOf),ee=f(S.toString),V=/^Symbol\((.*)\)[^)]+$/,re=f("".replace),R=f("".slice);b(S,"description",{configurable:!0,get:function(){var L=Z(this);if(g(j,L))return"";var $=ee(L),je=k?R($,7,-1):re($,V,"$1");return je===""?void 0:je}}),d({global:!0,constructor:!0,forced:!0},{Symbol:_})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("string-to-symbol-registry"),y=g("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!m},{for:function(b){var w=f(b);if(A(x,w))return x[w];var N=h("Symbol")(w);return x[w]=N,y[N]=w,N}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol-define.js");d("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(l,u,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!m},{keyFor:function(b){if(!A(b))throw new TypeError(f(b)+" is not a symbol");if(h(x,b))return x[b]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").add;d({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=h(this),m=0,x=arguments.length;m<x;m++)A(g,arguments[m]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").remove;d({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=h(this),m=!0,x,y=0,b=arguments.length;y<b;y++)x=A(g,arguments[y]),m=m&&x;return!!m}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{every:function(m){var x=A(this),y=h(m,arguments.length>1?arguments[1]:void 0);return f(x,function(b){if(!y(b,b,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;d({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(b){var w=A(this),N=h(b,arguments.length>1?arguments[1]:void 0),S=new m;return g(w,function(j){N(j,j,w)&&x(S,j)}),S}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{find:function(m){var x=A(this),y=h(m,arguments.length>1?arguments[1]:void 0),b=f(x,function(w){if(y(w,w,x))return{value:w}},!0);return b&&b.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-intersection.js");d({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-disjoint-from.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-subset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-superset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=h([].join),x=h([].push);d({target:"Set",proto:!0,real:!0,forced:!0},{join:function(b){var w=A(this),N=b===void 0?",":g(b),S=[];return f(w,function(j){x(S,j)}),m(S,N)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;d({target:"Set",proto:!0,real:!0,forced:!0},{map:function(b){var w=A(this),N=h(b,arguments.length>1?arguments[1]:void 0),S=new m;return g(w,function(j){x(S,N(j,j,w))}),S}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;d({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=A(this),b=arguments.length<2,w=b?void 0:arguments[1];if(h(x),f(y,function(N){b?(b=!1,w=N):w=x(w,N,N,y)}),b)throw new g("Reduce of empty set with no initial value");return w}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{some:function(m){var x=A(this),y=h(m,arguments.length>1?arguments[1]:void 0);return f(x,function(b){if(y(b,b,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-symmetric-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-union.js");d({target:"Set",proto:!0,real:!0,forced:!0},{union:function(m){return h(f,this,A(m))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),f=o("./node_modules/core-js/internals/array-for-each.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=function(y){if(y&&y.forEach!==f)try{g(y,"forEach",f)}catch{y.forEach=f}};for(var x in h)h[x]&&m(d[x]&&d[x].prototype);m(A)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),f=o("./node_modules/core-js/modules/es.array.iterator.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=o("./node_modules/core-js/internals/set-to-string-tag.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),b=f.values,w=function(S,j){if(S){if(S[y]!==b)try{g(S,y,b)}catch{S[y]=b}if(m(S,j,!0),h[j]){for(var _ in f)if(S[_]!==f[_])try{g(S,_,f[_])}catch{S[_]=f[_]}}}};for(var N in h)w(d[N]&&d[N].prototype,N);w(A,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),f=A(h.setInterval,!0);d({global:!0,bind:!0,forced:h.setInterval!==f},{setInterval:f})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(l,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),f=A(h.setTimeout,!0);d({global:!0,bind:!0,forced:h.setTimeout!==f},{setTimeout:f})}),"./node_modules/core-js/modules/web.timers.js":(function(l,u,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(l,u,o){o.r(u),o.d(u,{default:function(){return Yr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:d,setPrototypeOf:h,isFrozen:A,getPrototypeOf:f,getOwnPropertyDescriptor:g}=Object;let{freeze:m,seal:x,create:y}=Object,{apply:b,construct:w}=typeof Reflect<"u"&&Reflect;m||(m=function(Ir){return Ir}),x||(x=function(Ir){return Ir}),b||(b=function(Ir,dr){for(var Cr=arguments.length,Vr=new Array(Cr>2?Cr-2:0),zr=2;zr<Cr;zr++)Vr[zr-2]=arguments[zr];return Ir.apply(dr,Vr)}),w||(w=function(Ir){for(var dr=arguments.length,Cr=new Array(dr>1?dr-1:0),Vr=1;Vr<dr;Vr++)Cr[Vr-1]=arguments[Vr];return new Ir(...Cr)});const N=ge(Array.prototype.forEach),S=ge(Array.prototype.lastIndexOf),j=ge(Array.prototype.pop),_=ge(Array.prototype.push),k=ge(Array.prototype.splice),Z=ge(String.prototype.toLowerCase),ee=ge(String.prototype.toString),V=ge(String.prototype.match),re=ge(String.prototype.replace),R=ge(String.prototype.indexOf),Y=ge(String.prototype.trim),L=ge(Object.prototype.hasOwnProperty),$=ge(RegExp.prototype.test),je=Ie(TypeError);function ge(qr){return function(Ir){Ir instanceof RegExp&&(Ir.lastIndex=0);for(var dr=arguments.length,Cr=new Array(dr>1?dr-1:0),Vr=1;Vr<dr;Vr++)Cr[Vr-1]=arguments[Vr];return b(qr,Ir,Cr)}}function Ie(qr){return function(){for(var Ir=arguments.length,dr=new Array(Ir),Cr=0;Cr<Ir;Cr++)dr[Cr]=arguments[Cr];return w(qr,dr)}}function _e(qr,Ir){let dr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z;h&&h(qr,null);let Cr=Ir.length;for(;Cr--;){let Vr=Ir[Cr];if(typeof Vr=="string"){const zr=dr(Vr);zr!==Vr&&(A(Ir)||(Ir[Cr]=zr),Vr=zr)}qr[Vr]=!0}return qr}function fe(qr){for(let Ir=0;Ir<qr.length;Ir++)L(qr,Ir)||(qr[Ir]=null);return qr}function le(qr){const Ir=y(null);for(const[dr,Cr]of d(qr))L(qr,dr)&&(Array.isArray(Cr)?Ir[dr]=fe(Cr):Cr&&typeof Cr=="object"&&Cr.constructor===Object?Ir[dr]=le(Cr):Ir[dr]=Cr);return Ir}function ve(qr,Ir){for(;qr!==null;){const Cr=g(qr,Ir);if(Cr){if(Cr.get)return ge(Cr.get);if(typeof Cr.value=="function")return ge(Cr.value)}qr=f(qr)}function dr(){return null}return dr}const se=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),he=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ne=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pe=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ye=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ce=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=m(["#text"]),pe=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),oe=m(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),We=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Re=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ee=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ae=x(/<%[\w\W]*|[\w\W]*%>/gm),Le=x(/\$\{[\w\W]*/gm),Ze=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),jt=x(/^aria-[\-\w]+$/),Lt=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ct=x(/^(?:\w+script|data):/i),Xt=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_r=x(/^html$/i),Or=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var He=Object.freeze({__proto__:null,ARIA_ATTR:jt,ATTR_WHITESPACE:Xt,CUSTOM_ELEMENT:Or,DATA_ATTR:Ze,DOCTYPE_NAME:_r,ERB_EXPR:ae,IS_ALLOWED_URI:Lt,IS_SCRIPT_OR_DATA:Ct,MUSTACHE_EXPR:Ee,TMPLIT_EXPR:Le});const Zt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Bt=function(){return typeof window>"u"?null:window},$r=function(Ir,dr){if(typeof Ir!="object"||typeof Ir.createPolicy!="function")return null;let Cr=null;const Vr="data-tt-policy-suffix";dr&&dr.hasAttribute(Vr)&&(Cr=dr.getAttribute(Vr));const zr="dompurify"+(Cr?"#"+Cr:"");try{return Ir.createPolicy(zr,{createHTML(gn){return gn},createScriptURL(gn){return gn}})}catch{return console.warn("TrustedTypes policy "+zr+" could not be created."),null}},pr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function on(){let qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt();const Ir=Et=>on(Et);if(Ir.version="3.3.1",Ir.removed=[],!qr||!qr.document||qr.document.nodeType!==Zt.document||!qr.Element)return Ir.isSupported=!1,Ir;let{document:dr}=qr;const Cr=dr,Vr=Cr.currentScript,{DocumentFragment:zr,HTMLTemplateElement:gn,Node:Wr,Element:$n,NodeFilter:Lr,NamedNodeMap:Dr=qr.NamedNodeMap||qr.MozNamedAttrMap,HTMLFormElement:wn,DOMParser:cn,trustedTypes:bt}=qr,Sr=$n.prototype,dn=ve(Sr,"cloneNode"),Dn=ve(Sr,"remove"),Xr=ve(Sr,"nextSibling"),Un=ve(Sr,"childNodes"),Ur=ve(Sr,"parentNode");if(typeof gn=="function"){const Et=dr.createElement("template");Et.content&&Et.content.ownerDocument&&(dr=Et.content.ownerDocument)}let ei,os="";const{implementation:jn,createNodeIterator:Ss,createDocumentFragment:ji,getElementsByTagName:vi}=dr,{importNode:Ui}=Cr;let Bi=pr();Ir.isSupported=typeof d=="function"&&typeof Ur=="function"&&jn&&jn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bs,ERB_EXPR:ri,TMPLIT_EXPR:Ks,DATA_ATTR:Wa,ARIA_ATTR:wc,IS_SCRIPT_OR_DATA:ms,ATTR_WHITESPACE:Nl,CUSTOM_ELEMENT:jc}=He;let{IS_ALLOWED_URI:Sl}=He,Hi=null;const go=_e({},[...se,...he,...Ne,...ye,...q]);let ha=null;const Yl=_e({},[...pe,...oe,...We,...Re]);let ni=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Bo=null,Gs=null;const Eo=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let el=!0,Io=!0,Hs=!1,Ci=!0,ai=!1,Al=!0,To=!1,Lc=!1,ls=!1,qn=!1,Qi=!1,gs=!1,vs=!0,_o=!1;const Di="user-content-";let so=!0,Xi=!1,ki={},vo=null;const Oo=_e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let pa=null;const Wi=_e({},["audio","video","img","source","image","track"]);let xs=null;const qs=_e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ks="http://www.w3.org/1998/Math/MathML",ko="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let Q=Ut,ie=!1,ue=null;const M=_e({},[ks,ko,Ut],ee);let W=_e({},["mi","mo","mn","ms","mtext"]),te=_e({},["annotation-xml"]);const Ce=_e({},["title","style","font","a","script"]);let ke=null;const Ge=["application/xhtml+xml","text/html"],it="text/html";let I=null,B=null;const D=dr.createElement("form"),K=function(tt){return tt instanceof RegExp||tt instanceof Function},X=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(B&&B===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=le(tt),ke=Ge.indexOf(tt.PARSER_MEDIA_TYPE)===-1?it:tt.PARSER_MEDIA_TYPE,I=ke==="application/xhtml+xml"?ee:Z,Hi=L(tt,"ALLOWED_TAGS")?_e({},tt.ALLOWED_TAGS,I):go,ha=L(tt,"ALLOWED_ATTR")?_e({},tt.ALLOWED_ATTR,I):Yl,ue=L(tt,"ALLOWED_NAMESPACES")?_e({},tt.ALLOWED_NAMESPACES,ee):M,xs=L(tt,"ADD_URI_SAFE_ATTR")?_e(le(qs),tt.ADD_URI_SAFE_ATTR,I):qs,pa=L(tt,"ADD_DATA_URI_TAGS")?_e(le(Wi),tt.ADD_DATA_URI_TAGS,I):Wi,vo=L(tt,"FORBID_CONTENTS")?_e({},tt.FORBID_CONTENTS,I):Oo,Bo=L(tt,"FORBID_TAGS")?_e({},tt.FORBID_TAGS,I):le({}),Gs=L(tt,"FORBID_ATTR")?_e({},tt.FORBID_ATTR,I):le({}),ki=L(tt,"USE_PROFILES")?tt.USE_PROFILES:!1,el=tt.ALLOW_ARIA_ATTR!==!1,Io=tt.ALLOW_DATA_ATTR!==!1,Hs=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ci=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ai=tt.SAFE_FOR_TEMPLATES||!1,Al=tt.SAFE_FOR_XML!==!1,To=tt.WHOLE_DOCUMENT||!1,qn=tt.RETURN_DOM||!1,Qi=tt.RETURN_DOM_FRAGMENT||!1,gs=tt.RETURN_TRUSTED_TYPE||!1,ls=tt.FORCE_BODY||!1,vs=tt.SANITIZE_DOM!==!1,_o=tt.SANITIZE_NAMED_PROPS||!1,so=tt.KEEP_CONTENT!==!1,Xi=tt.IN_PLACE||!1,Sl=tt.ALLOWED_URI_REGEXP||Lt,Q=tt.NAMESPACE||Ut,W=tt.MATHML_TEXT_INTEGRATION_POINTS||W,te=tt.HTML_INTEGRATION_POINTS||te,ni=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&K(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ni.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&K(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ni.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ni.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ai&&(Io=!1),Qi&&(qn=!0),ki&&(Hi=_e({},q),ha=[],ki.html===!0&&(_e(Hi,se),_e(ha,pe)),ki.svg===!0&&(_e(Hi,he),_e(ha,oe),_e(ha,Re)),ki.svgFilters===!0&&(_e(Hi,Ne),_e(ha,oe),_e(ha,Re)),ki.mathMl===!0&&(_e(Hi,ye),_e(ha,We),_e(ha,Re))),tt.ADD_TAGS&&(typeof tt.ADD_TAGS=="function"?Eo.tagCheck=tt.ADD_TAGS:(Hi===go&&(Hi=le(Hi)),_e(Hi,tt.ADD_TAGS,I))),tt.ADD_ATTR&&(typeof tt.ADD_ATTR=="function"?Eo.attributeCheck=tt.ADD_ATTR:(ha===Yl&&(ha=le(ha)),_e(ha,tt.ADD_ATTR,I))),tt.ADD_URI_SAFE_ATTR&&_e(xs,tt.ADD_URI_SAFE_ATTR,I),tt.FORBID_CONTENTS&&(vo===Oo&&(vo=le(vo)),_e(vo,tt.FORBID_CONTENTS,I)),tt.ADD_FORBID_CONTENTS&&(vo===Oo&&(vo=le(vo)),_e(vo,tt.ADD_FORBID_CONTENTS,I)),so&&(Hi["#text"]=!0),To&&_e(Hi,["html","head","body"]),Hi.table&&(_e(Hi,["tbody"]),delete Bo.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw je('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw je('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ei=tt.TRUSTED_TYPES_POLICY,os=ei.createHTML("")}else ei===void 0&&(ei=$r(bt,Vr)),ei!==null&&typeof os=="string"&&(os=ei.createHTML(""));m&&m(tt),B=tt}},ne=_e({},[...he,...Ne,...Pe]),Se=_e({},[...ye,...ce]),me=function(tt){let Qt=Ur(tt);(!Qt||!Qt.tagName)&&(Qt={namespaceURI:Q,tagName:"template"});const lr=Z(tt.tagName),qt=Z(Qt.tagName);return ue[tt.namespaceURI]?tt.namespaceURI===ko?Qt.namespaceURI===Ut?lr==="svg":Qt.namespaceURI===ks?lr==="svg"&&(qt==="annotation-xml"||W[qt]):!!ne[lr]:tt.namespaceURI===ks?Qt.namespaceURI===Ut?lr==="math":Qt.namespaceURI===ko?lr==="math"&&te[qt]:!!Se[lr]:tt.namespaceURI===Ut?Qt.namespaceURI===ko&&!te[qt]||Qt.namespaceURI===ks&&!W[qt]?!1:!Se[lr]&&(Ce[lr]||!ne[lr]):!!(ke==="application/xhtml+xml"&&ue[tt.namespaceURI]):!1},xe=function(tt){_(Ir.removed,{element:tt});try{Ur(tt).removeChild(tt)}catch{Dn(tt)}},De=function(tt,Qt){try{_(Ir.removed,{attribute:Qt.getAttributeNode(tt),from:Qt})}catch{_(Ir.removed,{attribute:null,from:Qt})}if(Qt.removeAttribute(tt),tt==="is")if(qn||Qi)try{xe(Qt)}catch{}else try{Qt.setAttribute(tt,"")}catch{}},Ve=function(tt){let Qt=null,lr=null;if(ls)tt="<remove></remove>"+tt;else{const or=V(tt,/^[\r\n\t ]+/);lr=or&&or[0]}ke==="application/xhtml+xml"&&Q===Ut&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const qt=ei?ei.createHTML(tt):tt;if(Q===Ut)try{Qt=new cn().parseFromString(qt,ke)}catch{}if(!Qt||!Qt.documentElement){Qt=jn.createDocument(Q,"template",null);try{Qt.documentElement.innerHTML=ie?os:qt}catch{}}const _t=Qt.body||Qt.documentElement;return tt&&lr&&_t.insertBefore(dr.createTextNode(lr),_t.childNodes[0]||null),Q===Ut?vi.call(Qt,To?"html":"body")[0]:To?Qt.documentElement:_t},et=function(tt){return Ss.call(tt.ownerDocument||tt,tt,Lr.SHOW_ELEMENT|Lr.SHOW_COMMENT|Lr.SHOW_TEXT|Lr.SHOW_PROCESSING_INSTRUCTION|Lr.SHOW_CDATA_SECTION,null)},st=function(tt){return tt instanceof wn&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof Dr)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},Oe=function(tt){return typeof Wr=="function"&&tt instanceof Wr};function vt(Et,tt,Qt){N(Et,lr=>{lr.call(Ir,tt,Qt,B)})}const mt=function(tt){let Qt=null;if(vt(Bi.beforeSanitizeElements,tt,null),st(tt))return xe(tt),!0;const lr=I(tt.nodeName);if(vt(Bi.uponSanitizeElement,tt,{tagName:lr,allowedTags:Hi}),Al&&tt.hasChildNodes()&&!Oe(tt.firstElementChild)&&$(/<[/\w!]/g,tt.innerHTML)&&$(/<[/\w!]/g,tt.textContent)||tt.nodeType===Zt.progressingInstruction||Al&&tt.nodeType===Zt.comment&&$(/<[/\w]/g,tt.data))return xe(tt),!0;if(!(Eo.tagCheck instanceof Function&&Eo.tagCheck(lr))&&(!Hi[lr]||Bo[lr])){if(!Bo[lr]&&nt(lr)&&(ni.tagNameCheck instanceof RegExp&&$(ni.tagNameCheck,lr)||ni.tagNameCheck instanceof Function&&ni.tagNameCheck(lr)))return!1;if(so&&!vo[lr]){const qt=Ur(tt)||tt.parentNode,_t=Un(tt)||tt.childNodes;if(_t&&qt){const or=_t.length;for(let at=or-1;at>=0;--at){const dt=dn(_t[at],!0);dt.__removalCount=(tt.__removalCount||0)+1,qt.insertBefore(dt,Xr(tt))}}}return xe(tt),!0}return tt instanceof $n&&!me(tt)||(lr==="noscript"||lr==="noembed"||lr==="noframes")&&$(/<\/no(script|embed|frames)/i,tt.innerHTML)?(xe(tt),!0):(ai&&tt.nodeType===Zt.text&&(Qt=tt.textContent,N([Bs,ri,Ks],qt=>{Qt=re(Qt,qt," ")}),tt.textContent!==Qt&&(_(Ir.removed,{element:tt.cloneNode()}),tt.textContent=Qt)),vt(Bi.afterSanitizeElements,tt,null),!1)},yt=function(tt,Qt,lr){if(vs&&(Qt==="id"||Qt==="name")&&(lr in dr||lr in D))return!1;if(!(Io&&!Gs[Qt]&&$(Wa,Qt))){if(!(el&&$(wc,Qt))){if(!(Eo.attributeCheck instanceof Function&&Eo.attributeCheck(Qt,tt))){if(!ha[Qt]||Gs[Qt]){if(!(nt(tt)&&(ni.tagNameCheck instanceof RegExp&&$(ni.tagNameCheck,tt)||ni.tagNameCheck instanceof Function&&ni.tagNameCheck(tt))&&(ni.attributeNameCheck instanceof RegExp&&$(ni.attributeNameCheck,Qt)||ni.attributeNameCheck instanceof Function&&ni.attributeNameCheck(Qt,tt))||Qt==="is"&&ni.allowCustomizedBuiltInElements&&(ni.tagNameCheck instanceof RegExp&&$(ni.tagNameCheck,lr)||ni.tagNameCheck instanceof Function&&ni.tagNameCheck(lr))))return!1}else if(!xs[Qt]){if(!$(Sl,re(lr,Nl,""))){if(!((Qt==="src"||Qt==="xlink:href"||Qt==="href")&&tt!=="script"&&R(lr,"data:")===0&&pa[tt])){if(!(Hs&&!$(ms,re(lr,Nl,"")))){if(lr)return!1}}}}}}}return!0},nt=function(tt){return tt!=="annotation-xml"&&V(tt,jc)},kt=function(tt){vt(Bi.beforeSanitizeAttributes,tt,null);const{attributes:Qt}=tt;if(!Qt||st(tt))return;const lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ha,forceKeepAttr:void 0};let qt=Qt.length;for(;qt--;){const _t=Qt[qt],{name:or,namespaceURI:at,value:dt}=_t,It=I(or),Tt=dt;let cr=or==="value"?Tt:Y(Tt);if(lr.attrName=It,lr.attrValue=cr,lr.keepAttr=!0,lr.forceKeepAttr=void 0,vt(Bi.uponSanitizeAttribute,tt,lr),cr=lr.attrValue,_o&&(It==="id"||It==="name")&&(De(or,tt),cr=Di+cr),Al&&$(/((--!?|])>)|<\/(style|title|textarea)/i,cr)){De(or,tt);continue}if(It==="attributename"&&V(cr,"href")){De(or,tt);continue}if(lr.forceKeepAttr)continue;if(!lr.keepAttr){De(or,tt);continue}if(!Ci&&$(/\/>/i,cr)){De(or,tt);continue}ai&&N([Bs,ri,Ks],xr=>{cr=re(cr,xr," ")});const fr=I(tt.nodeName);if(!yt(fr,It,cr)){De(or,tt);continue}if(ei&&typeof bt=="object"&&typeof bt.getAttributeType=="function"&&!at)switch(bt.getAttributeType(fr,It)){case"TrustedHTML":{cr=ei.createHTML(cr);break}case"TrustedScriptURL":{cr=ei.createScriptURL(cr);break}}if(cr!==Tt)try{at?tt.setAttributeNS(at,or,cr):tt.setAttribute(or,cr),st(tt)?xe(tt):j(Ir.removed)}catch{De(or,tt)}}vt(Bi.afterSanitizeAttributes,tt,null)},Kt=function Et(tt){let Qt=null;const lr=et(tt);for(vt(Bi.beforeSanitizeShadowDOM,tt,null);Qt=lr.nextNode();)vt(Bi.uponSanitizeShadowNode,Qt,null),mt(Qt),kt(Qt),Qt.content instanceof zr&&Et(Qt.content);vt(Bi.afterSanitizeShadowDOM,tt,null)};return Ir.sanitize=function(Et){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qt=null,lr=null,qt=null,_t=null;if(ie=!Et,ie&&(Et="<!-->"),typeof Et!="string"&&!Oe(Et))if(typeof Et.toString=="function"){if(Et=Et.toString(),typeof Et!="string")throw je("dirty is not a string, aborting")}else throw je("toString is not a function");if(!Ir.isSupported)return Et;if(Lc||X(tt),Ir.removed=[],typeof Et=="string"&&(Xi=!1),Xi){if(Et.nodeName){const dt=I(Et.nodeName);if(!Hi[dt]||Bo[dt])throw je("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof Wr)Qt=Ve("<!---->"),lr=Qt.ownerDocument.importNode(Et,!0),lr.nodeType===Zt.element&&lr.nodeName==="BODY"||lr.nodeName==="HTML"?Qt=lr:Qt.appendChild(lr);else{if(!qn&&!ai&&!To&&Et.indexOf("<")===-1)return ei&&gs?ei.createHTML(Et):Et;if(Qt=Ve(Et),!Qt)return qn?null:gs?os:""}Qt&&ls&&xe(Qt.firstChild);const or=et(Xi?Et:Qt);for(;qt=or.nextNode();)mt(qt),kt(qt),qt.content instanceof zr&&Kt(qt.content);if(Xi)return Et;if(qn){if(Qi)for(_t=ji.call(Qt.ownerDocument);Qt.firstChild;)_t.appendChild(Qt.firstChild);else _t=Qt;return(ha.shadowroot||ha.shadowrootmode)&&(_t=Ui.call(Cr,_t,!0)),_t}let at=To?Qt.outerHTML:Qt.innerHTML;return To&&Hi["!doctype"]&&Qt.ownerDocument&&Qt.ownerDocument.doctype&&Qt.ownerDocument.doctype.name&&$(_r,Qt.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+Qt.ownerDocument.doctype.name+`>
`+at),ai&&N([Bs,ri,Ks],dt=>{at=re(at,dt," ")}),ei&&gs?ei.createHTML(at):at},Ir.setConfig=function(){let Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(Et),Lc=!0},Ir.clearConfig=function(){B=null,Lc=!1},Ir.isValidAttribute=function(Et,tt,Qt){B||X({});const lr=I(Et),qt=I(tt);return yt(lr,qt,Qt)},Ir.addHook=function(Et,tt){typeof tt=="function"&&_(Bi[Et],tt)},Ir.removeHook=function(Et,tt){if(tt!==void 0){const Qt=S(Bi[Et],tt);return Qt===-1?void 0:k(Bi[Et],Qt,1)[0]}return j(Bi[Et])},Ir.removeHooks=function(Et){Bi[Et]=[]},Ir.removeAllHooks=function(){Bi=pr()},Ir}var Yr=on()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return b}});var d=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),f=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),m=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");class b extends d.IOBuffer{constructor(j,_={}){super(j);Gi(this,"_checkCrc");Gi(this,"_inflator");Gi(this,"_png");Gi(this,"_apng");Gi(this,"_end");Gi(this,"_hasPalette");Gi(this,"_palette");Gi(this,"_hasTransparency");Gi(this,"_transparency");Gi(this,"_compressionMethod");Gi(this,"_filterMethod");Gi(this,"_interlaceMethod");Gi(this,"_colorType");Gi(this,"_isAnimated");Gi(this,"_numberOfFrames");Gi(this,"_numberOfPlays");Gi(this,"_frames");Gi(this,"_writingDataChunks");const{checkCrc:k=!1}=_;this._checkCrc=k,this._inflator=new h.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,m.checkSignature)(this);!this._end;){const j=this.readUint32(),_=this.readChars(4);this.decodeChunk(j,_)}return this.decodeImage(),this._png}decodeApng(){for((0,m.checkSignature)(this);!this._end;){const j=this.readUint32(),_=this.readChars(4);this.decodeApngChunk(j,_)}return this.decodeApngImage(),this._apng}decodeChunk(j,_){const k=this.offset;switch(_){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(j);break;case"IDAT":this.decodeIDAT(j);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(j);break;case"iCCP":this.decodeiCCP(j);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,j);break;case"pHYs":this.decodepHYs();break;default:this.skip(j);break}if(this.offset-k!==j)throw new Error(`Length mismatch while decoding chunk ${_}`);this._checkCrc?(0,A.checkCrc)(this,j+4,_):this.skip(4)}decodeApngChunk(j,_){const k=this.offset;switch(_!=="fdAT"&&_!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),_){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(j);break;default:this.decodeChunk(j,_),this.offset=k+j;break}if(this.offset-k!==j)throw new Error(`Length mismatch while decoding chunk ${_}`);this._checkCrc?(0,A.checkCrc)(this,j+4,_):this.skip(4)}decodeIHDR(){const j=this._png;j.width=this.readUint32(),j.height=this.readUint32(),j.depth=w(this.readUint8());const _=this.readUint8();this._colorType=_;let k;switch(_){case y.ColorType.GREYSCALE:k=1;break;case y.ColorType.TRUECOLOUR:k=3;break;case y.ColorType.INDEXED_COLOUR:k=1;break;case y.ColorType.GREYSCALE_ALPHA:k=2;break;case y.ColorType.TRUECOLOUR_ALPHA:k=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${_}`)}if(this._png.channels=k,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const j={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(j)}decodePLTE(j){if(j%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${j}`);const _=j/3;this._hasPalette=!0;const k=[];this._palette=k;for(let Z=0;Z<_;Z++)k.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(j){this._writingDataChunks=!0;const _=j,k=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,k,_)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(j)}decodeFDAT(j){this._writingDataChunks=!0;let _=j,k=this.offset+this.byteOffset;if(k+=4,_-=4,this._inflator.push(new Uint8Array(this.buffer,k,_)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(j)}decodetRNS(j){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(j%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${j}`);if(j/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${j/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(j/2);for(let _=0;_<j/2;_++)this._transparency[_]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(j>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${j} vs ${this._palette.length})`);let _=0;for(;_<j;_++){const k=this.readByte();this._palette[_].push(k)}for(;_<this._palette.length;_++)this._palette[_].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(j){const _=(0,x.readKeyword)(this),k=this.readUint8();if(k!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${k}`);const Z=this.readBytes(j-_.length-2);this._png.iccEmbeddedProfile={name:_,profile:(0,h.inflate)(Z)}}decodepHYs(){const j=this.readUint32(),_=this.readUint32(),k=this.readByte();this._png.resolution={x:j,y:_,unit:k}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let j=0;j<this._numberOfFrames;j++){const _={sequenceNumber:this._frames[j].sequenceNumber,delayNumber:this._frames[j].delayNumber,delayDenominator:this._frames[j].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},k=this._frames.at(j);if(k){if(k.data=(0,g.decodeInterlaceNull)({data:k.data,width:k.width,height:k.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),j===0||k.xOffset===0&&k.yOffset===0&&k.width===this._png.width&&k.height===this._png.height)_.data=k.data;else{const Z=this._apng.frames.at(j-1);this.disposeFrame(k,Z,_),this.addFrameDataToCanvas(_,k)}this._apng.frames.push(_)}}return this._apng}disposeFrame(j,_,k){switch(j.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let Z=0;Z<this._png.height;Z++)for(let ee=0;ee<this._png.width;ee++){const V=(Z*j.width+ee)*this._png.channels;for(let re=0;re<this._png.channels;re++)k.data[V+re]=0}break;case y.DisposeOpType.PREVIOUS:k.data.set(_.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(j,_){const k=1<<this._png.depth,Z=(ee,V)=>{const re=((ee+_.yOffset)*this._png.width+_.xOffset+V)*this._png.channels,R=(ee*_.width+V)*this._png.channels;return{index:re,frameIndex:R}};switch(_.blendOp){case y.BlendOpType.SOURCE:for(let ee=0;ee<_.height;ee++)for(let V=0;V<_.width;V++){const{index:re,frameIndex:R}=Z(ee,V);for(let Y=0;Y<this._png.channels;Y++)j.data[re+Y]=_.data[R+Y]}break;case y.BlendOpType.OVER:for(let ee=0;ee<_.height;ee++)for(let V=0;V<_.width;V++){const{index:re,frameIndex:R}=Z(ee,V);for(let Y=0;Y<this._png.channels;Y++){const L=_.data[R+this._png.channels-1]/k,$=Y%(this._png.channels-1)===0?1:_.data[R+Y],je=Math.floor(L*$+(1-L)*j.data[re+Y]);j.data[re+Y]+=je}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var _;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const j=this._isAnimated?((_=this._frames)==null?void 0:_.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:j,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,f.decodeInterlaceAdam7)({data:j,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const j=this._inflator.result,_=this._frames.at(-1);_?_.data=j:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:j}),this._inflator=new h.Inflate,this._writingDataChunks=!1}}function w(N){if(N!==1&&N!==2&&N!==4&&N!==8&&N!==16)throw new Error(`invalid bit depth: ${N}`);return N}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return y}});var d=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),f=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=o("./node_modules/fast-png/lib-esm/helpers/text.js"),m=o("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends d.IOBuffer{constructor(Z,ee={}){super();Gi(this,"_png");Gi(this,"_zlibOptions");Gi(this,"_colorType");Gi(this,"_interlaceMethod");this._colorType=m.ColorType.UNKNOWN,this._zlibOptions={...x,...ee.zlib},this._png=this._checkData(Z),this._interlaceMethod=(ee.interlace==="Adam7"?m.InterlaceMethod.ADAM7:m.InterlaceMethod.NO_INTERLACE)??m.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,f.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[Z,ee]of Object.entries(this._png.text))(0,g.encodetEXt)(this,Z,ee);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(m.CompressionMethod.DEFLATE),this.writeByte(m.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,A.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,A.writeCrc)(this,4)}encodePLTE(){var ee;const Z=((ee=this._png.palette)==null?void 0:ee.length)*3;this.writeUint32(Z),this.writeChars("PLTE");for(const V of this._png.palette)this.writeByte(V[0]),this.writeByte(V[1]),this.writeByte(V[2]);(0,A.writeCrc)(this,4+Z)}encodeTRNS(){const Z=this._png.palette.filter(ee=>ee.at(-1)!==255);this.writeUint32(Z.length),this.writeChars("tRNS");for(const ee of Z)this.writeByte(ee.at(-1));(0,A.writeCrc)(this,4+Z.length)}encodeIDAT(Z){this.writeUint32(Z.length),this.writeChars("IDAT"),this.writeBytes(Z),(0,A.writeCrc)(this,Z.length+4)}encodeData(){const{width:Z,height:ee,channels:V,depth:re,data:R}=this._png,Y=re<=8?Math.ceil(Z*re/8)*V:Math.ceil(Z*re/8*V/2),L=new d.IOBuffer().setBigEndian();let $=0;if(this._interlaceMethod===m.InterlaceMethod.NO_INTERLACE)for(let Ie=0;Ie<ee;Ie++)L.writeByte(0),re===16?$=j(R,L,Y,$):$=N(R,L,Y,$);else this._interlaceMethod===m.InterlaceMethod.ADAM7&&($=S(this._png,R,L,$));const je=L.toArray(),ge=(0,h.deflate)(je,this._zlibOptions);this.encodeIDAT(ge)}_checkData(Z){const{colorType:ee,channels:V,depth:re}=w(Z,Z.palette),R={width:b(Z.width,"width"),height:b(Z.height,"height"),channels:V,data:Z.data,depth:re,text:Z.text,palette:Z.palette};this._colorType=ee;const Y=re<8?Math.ceil(R.width*re/8)*R.height*V:R.width*R.height*V;if(R.data.length!==Y)throw new RangeError(`wrong data size. Found ${R.data.length}, expected ${Y}`);return R}}function b(_,k){if(Number.isInteger(_)&&_>0)return _;throw new TypeError(`${k} must be a positive integer`)}function w(_,k){const{channels:Z=4,depth:ee=8}=_;if(Z!==4&&Z!==3&&Z!==2&&Z!==1)throw new RangeError(`unsupported number of channels: ${Z}`);const V={channels:Z,depth:ee,colorType:m.ColorType.UNKNOWN};switch(Z){case 4:V.colorType=m.ColorType.TRUECOLOUR_ALPHA;break;case 3:V.colorType=m.ColorType.TRUECOLOUR;break;case 1:k?V.colorType=m.ColorType.INDEXED_COLOUR:V.colorType=m.ColorType.GREYSCALE;break;case 2:V.colorType=m.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return V}function N(_,k,Z,ee){for(let V=0;V<Z;V++)k.writeByte(_[ee++]);return ee}function S(_,k,Z,ee){const V=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:re,height:R,channels:Y,depth:L}=_;let $=0;L===16?$=Y*L/8/2:$=Y*L/8;for(let je=0;je<7;je++){const ge=V[je],Ie=Math.floor((re-ge.x+ge.xStep-1)/ge.xStep),_e=Math.floor((R-ge.y+ge.yStep-1)/ge.yStep);if(Ie<=0||_e<=0)continue;const fe=Ie*$;for(let le=0;le<_e;le++){const ve=ge.y+le*ge.yStep,se=L<=8?new Uint8Array(fe):new Uint16Array(fe);let he=0;for(let Ne=0;Ne<Ie;Ne++){const Pe=ge.x+Ne*ge.xStep;if(Pe<re&&ve<R){const ye=(ve*re+Pe)*$;for(let ce=0;ce<$;ce++)se[he++]=k[ye+ce]}}if(Z.writeByte(0),L===8)Z.writeBytes(se);else if(L===16)for(const Ne of se)Z.writeByte(Ne>>8&255),Z.writeByte(Ne&255)}}return ee}function j(_,k,Z,ee){for(let V=0;V<Z;V++)k.writeUint16(_[ee++]);return ee}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(l,u,o){o.r(u),o.d(u,{convertIndexedToRgb:function(){return d}});function d(A){const f=A.palette,g=A.depth;if(!f)throw new Error("Color palette is undefined.");h(A);const m=A.width*A.height,x=m*f[0].length,y=new Uint8Array(x);let b=0,w=0;const N=new Uint8Array(m);let S=255;switch(g){case 1:S=128;break;case 2:S=192;break;case 4:S=240;break;case 8:S=255;break;default:throw new Error("Incorrect depth value")}for(const j of A.data){let _=S,k=8;for(;_&&(k-=g,N[b++]=(j&_)>>k,_=_>>g,b%A.width!==0););}if(A.palette)for(const j of N){const _=A.palette.at(j);if(!_)throw new Error("Incorrect index of palette color");y.set(_,w),w+=_.length}return y}function h(A){const f=A.depth<8?Math.ceil(A.width*A.depth/8)*A.height*A.channels:A.width*A.height*A.channels;if(A.data.length!==f)throw new RangeError(`wrong data size. Found ${A.data.length}, expected ${f}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(l,u,o){o.r(u),o.d(u,{applyUnfilter:function(){return h}});var d=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function h(A,f,g,m,x,y){switch(A){case 0:(0,d.unfilterNone)(f,g,x);break;case 1:(0,d.unfilterSub)(f,g,x,y);break;case 2:(0,d.unfilterUp)(f,g,m,x);break;case 3:(0,d.unfilterAverage)(f,g,m,x,y);break;case 4:(0,d.unfilterPaeth)(f,g,m,x,y);break;default:throw new Error(`Unsupported filter: ${A}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(l,u,o){o.r(u),o.d(u,{checkCrc:function(){return g},writeCrc:function(){return m}});const d=[];for(let x=0;x<256;x++){let y=x;for(let b=0;b<8;b++)y&1?y=3988292384^y>>>1:y=y>>>1;d[x]=y}const h=4294967295;function A(x,y,b){let w=x;for(let N=0;N<b;N++)w=d[(w^y[N])&255]^w>>>8;return w}function f(x,y){return(A(h,x,y)^h)>>>0}function g(x,y,b){const w=x.readUint32(),N=f(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(N!==w)throw new Error(`CRC mismatch for chunk ${b}. Expected ${w}, found ${N}`)}function m(x,y){x.writeUint32(f(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceAdam7:function(){return g}});var d=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const h=new Uint16Array([255]),f=new Uint8Array(h.buffer)[0]===255;function g(x){const{data:y,width:b,height:w,channels:N,depth:S}=x,j=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],_=Math.ceil(S/8)*N,k=new Uint8Array(w*b*_);let Z=0;for(let ee=0;ee<7;ee++){const V=j[ee],re=Math.ceil((b-V.x)/V.xStep),R=Math.ceil((w-V.y)/V.yStep);if(re<=0||R<=0)continue;const Y=re*_,L=new Uint8Array(Y);for(let $=0;$<R;$++){const je=y[Z++],ge=y.subarray(Z,Z+Y);Z+=Y;const Ie=new Uint8Array(Y);(0,d.applyUnfilter)(je,ge,Ie,L,Y,_),L.set(Ie);for(let _e=0;_e<re;_e++){const fe=V.x+_e*V.xStep,le=V.y+$*V.yStep;if(!(fe>=b||le>=w))for(let ve=0;ve<_;ve++)k[(le*b+fe)*_+ve]=Ie[_e*_+ve]}}}if(S===16){const ee=new Uint16Array(k.buffer);if(f)for(let V=0;V<ee.length;V++)ee[V]=m(ee[V]);return ee}else return k}function m(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceNull:function(){return m}});var d=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const h=new Uint16Array([255]),f=new Uint8Array(h.buffer)[0]===255,g=new Uint8Array(0);function m(y){const{data:b,width:w,height:N,channels:S,depth:j}=y,_=Math.ceil(j/8)*S,k=Math.ceil(j/8*S*w),Z=new Uint8Array(N*k);let ee=g,V=0,re,R;for(let Y=0;Y<N;Y++){switch(re=b.subarray(V+1,V+1+k),R=Z.subarray(Y*k,(Y+1)*k),b[V]){case 0:(0,d.unfilterNone)(re,R,k);break;case 1:(0,d.unfilterSub)(re,R,k,_);break;case 2:(0,d.unfilterUp)(re,R,ee,k);break;case 3:(0,d.unfilterAverage)(re,R,ee,k,_);break;case 4:(0,d.unfilterPaeth)(re,R,ee,k,_);break;default:throw new Error(`Unsupported filter: ${b[V]}`)}ee=R,V+=k+1}if(j===16){const Y=new Uint16Array(Z.buffer);if(f)for(let L=0;L<Y.length;L++)Y[L]=x(Y[L]);return Y}else return Z}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(l,u,o){o.r(u),o.d(u,{checkSignature:function(){return A},hasPngSignature:function(){return f},writeSignature:function(){return h}});const d=Uint8Array.of(137,80,78,71,13,10,26,10);function h(g){g.writeBytes(d)}function A(g){if(!f(g.readBytes(d.length)))throw new Error("wrong PNG signature")}function f(g){if(g.length<d.length)return!1;for(let m=0;m<d.length;m++)if(g[m]!==d[m])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(l,u,o){o.r(u),o.d(u,{decodetEXt:function(){return y},encodetEXt:function(){return b},readKeyword:function(){return w},readLatin1:function(){return N},textChunkName:function(){return h}});var d=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const h="tEXt",A=0,f=new TextDecoder("latin1");function g(S){if(x(S),S.length===0||S.length>79)throw new Error("keyword length must be between 1 and 79")}const m=/^[\u0000-\u00FF]*$/;function x(S){if(!m.test(S))throw new Error("invalid latin1 text")}function y(S,j,_){const k=w(j);S[k]=N(j,_-k.length-1)}function b(S,j,_){g(j),x(_);const k=j.length+1+_.length;S.writeUint32(k),S.writeChars(h),S.writeChars(j),S.writeByte(A),S.writeChars(_),(0,d.writeCrc)(S,k+4)}function w(S){for(S.mark();S.readByte()!==A;);const j=S.offset;S.reset();const _=f.decode(S.readBytes(j-S.offset-1));return S.skip(1),g(_),_}function N(S,j){return f.decode(S.readBytes(j))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(l,u,o){o.r(u),o.d(u,{unfilterAverage:function(){return f},unfilterNone:function(){return d},unfilterPaeth:function(){return g},unfilterSub:function(){return h},unfilterUp:function(){return A}});function d(x,y,b){for(let w=0;w<b;w++)y[w]=x[w]}function h(x,y,b,w){let N=0;for(;N<w;N++)y[N]=x[N];for(;N<b;N++)y[N]=x[N]+y[N-w]&255}function A(x,y,b,w){let N=0;if(b.length===0)for(;N<w;N++)y[N]=x[N];else for(;N<w;N++)y[N]=x[N]+b[N]&255}function f(x,y,b,w,N){let S=0;if(b.length===0){for(;S<N;S++)y[S]=x[S];for(;S<w;S++)y[S]=x[S]+(y[S-N]>>1)&255}else{for(;S<N;S++)y[S]=x[S]+(b[S]>>1)&255;for(;S<w;S++)y[S]=x[S]+(y[S-N]+b[S]>>1)&255}}function g(x,y,b,w,N){let S=0;if(b.length===0){for(;S<N;S++)y[S]=x[S];for(;S<w;S++)y[S]=x[S]+y[S-N]&255}else{for(;S<N;S++)y[S]=x[S]+b[S]&255;for(;S<w;S++)y[S]=x[S]+m(y[S-N],b[S],b[S-N])&255}}function m(x,y,b){const w=x+y-b,N=Math.abs(w-x),S=Math.abs(w-y),j=Math.abs(w-b);return N<=S&&N<=j?x:S<=j?y:b}}),"./node_modules/fast-png/lib-esm/index.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return f.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return m},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return A.hasPngSignature}});var d=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),h=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),A=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),f=o("./node_modules/fast-png/lib-esm/types.js"),g=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function m(b,w){return new d.default(b,w).decode()}function x(b,w){return new h.default(b,w).encode()}function y(b,w){return new d.default(b,w).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(l,u,o){o.r(u),o.d(u,{BlendOpType:function(){return m},ColorType:function(){return d},CompressionMethod:function(){return h},DisposeOpType:function(){return g},FilterMethod:function(){return A},InterlaceMethod:function(){return f}});const d={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h={UNKNOWN:-1,DEFLATE:0},A={UNKNOWN:-1,ADAPTIVE:0},f={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},m={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return d}});var d;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.METRE=1]="METRE"})(d||(d={}))}),"./node_modules/fflate/esm/browser.js":(function(l,u,o){o.r(u),o.d(u,{AsyncCompress:function(){return Bi},AsyncDecompress:function(){return Gs},AsyncDeflate:function(){return Ur},AsyncGunzip:function(){return Wa},AsyncGzip:function(){return Bi},AsyncInflate:function(){return Ss},AsyncUnzipInflate:function(){return ko},AsyncUnzlib:function(){return ha},AsyncZipDeflate:function(){return Oo},AsyncZlib:function(){return jc},Compress:function(){return Ui},DecodeUTF8:function(){return To},Decompress:function(){return Bo},Deflate:function(){return Un},EncodeUTF8:function(){return Lc},FlateErrorCode:function(){return se},Gunzip:function(){return Ks},Gzip:function(){return Ui},Inflate:function(){return jn},Unzip:function(){return Ut},UnzipInflate:function(){return ks},UnzipPassThrough:function(){return qs},Unzlib:function(){return go},Zip:function(){return pa},ZipDeflate:function(){return vo},ZipPassThrough:function(){return ki},Zlib:function(){return Nl},compress:function(){return Bs},compressSync:function(){return ri},decompress:function(){return Eo},decompressSync:function(){return el},deflate:function(){return ei},deflateSync:function(){return os},gunzip:function(){return wc},gunzipSync:function(){return ms},gzip:function(){return Bs},gzipSync:function(){return ri},inflate:function(){return ji},inflateSync:function(){return vi},strFromU8:function(){return qn},strToU8:function(){return ls},unzip:function(){return ie},unzipSync:function(){return ue},unzlib:function(){return Yl},unzlibSync:function(){return ni},zip:function(){return Wi},zipSync:function(){return xs},zlib:function(){return Sl},zlibSync:function(){return Hi}});var d={},h=(function(M,W,te,Ce,ke){var Ge=new Worker(d[W]||(d[W]=URL.createObjectURL(new Blob([M+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ge.onmessage=function(it){var I=it.data,B=I.$e$;if(B){var D=new Error(B[0]);D.code=B[1],D.stack=B[2],ke(D,null)}else ke(null,I)},Ge.postMessage(te,Ce),Ge}),A=Uint8Array,f=Uint16Array,g=Int32Array,m=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=function(M,W){for(var te=new f(31),Ce=0;Ce<31;++Ce)te[Ce]=W+=1<<M[Ce-1];for(var ke=new g(te[30]),Ce=1;Ce<30;++Ce)for(var Ge=te[Ce];Ge<te[Ce+1];++Ge)ke[Ge]=Ge-te[Ce]<<5|Ce;return{b:te,r:ke}},w=b(m,2),N=w.b,S=w.r;N[28]=258,S[258]=28;for(var j=b(x,0),_=j.b,k=j.r,Z=new f(32768),ee=0;ee<32768;++ee){var V=(ee&43690)>>1|(ee&21845)<<1;V=(V&52428)>>2|(V&13107)<<2,V=(V&61680)>>4|(V&3855)<<4,Z[ee]=((V&65280)>>8|(V&255)<<8)>>1}for(var re=(function(M,W,te){for(var Ce=M.length,ke=0,Ge=new f(W);ke<Ce;++ke)M[ke]&&++Ge[M[ke]-1];var it=new f(W);for(ke=1;ke<W;++ke)it[ke]=it[ke-1]+Ge[ke-1]<<1;var I;if(te){I=new f(1<<W);var B=15-W;for(ke=0;ke<Ce;++ke)if(M[ke])for(var D=ke<<4|M[ke],K=W-M[ke],X=it[M[ke]-1]++<<K,ne=X|(1<<K)-1;X<=ne;++X)I[Z[X]>>B]=D}else for(I=new f(Ce),ke=0;ke<Ce;++ke)M[ke]&&(I[ke]=Z[it[M[ke]-1]++]>>15-M[ke]);return I}),R=new A(288),ee=0;ee<144;++ee)R[ee]=8;for(var ee=144;ee<256;++ee)R[ee]=9;for(var ee=256;ee<280;++ee)R[ee]=7;for(var ee=280;ee<288;++ee)R[ee]=8;for(var Y=new A(32),ee=0;ee<32;++ee)Y[ee]=5;var L=re(R,9,0),$=re(R,9,1),je=re(Y,5,0),ge=re(Y,5,1),Ie=function(M){for(var W=M[0],te=1;te<M.length;++te)M[te]>W&&(W=M[te]);return W},_e=function(M,W,te){var Ce=W/8|0;return(M[Ce]|M[Ce+1]<<8)>>(W&7)&te},fe=function(M,W){var te=W/8|0;return(M[te]|M[te+1]<<8|M[te+2]<<16)>>(W&7)},le=function(M){return(M+7)/8|0},ve=function(M,W,te){return(W==null||W<0)&&(W=0),(te==null||te>M.length)&&(te=M.length),new A(M.subarray(W,te))},se={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},he=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ne=function(M,W,te){var Ce=new Error(W||he[M]);if(Ce.code=M,Error.captureStackTrace&&Error.captureStackTrace(Ce,Ne),!te)throw Ce;return Ce},Pe=function(M,W,te,Ce){var ke=M.length,Ge=Ce?Ce.length:0;if(!ke||W.f&&!W.l)return te||new A(0);var it=!te,I=it||W.i!=2,B=W.i;it&&(te=new A(ke*3));var D=function(Nt){var Wt=te.length;if(Nt>Wt){var zt=new A(Math.max(Wt*2,Nt));zt.set(te),te=zt}},K=W.f||0,X=W.p||0,ne=W.b||0,Se=W.l,me=W.d,xe=W.m,De=W.n,Ve=ke*8;do{if(!Se){K=_e(M,X,1);var et=_e(M,X+1,3);if(X+=3,et)if(et==1)Se=$,me=ge,xe=9,De=5;else if(et==2){var mt=_e(M,X,31)+257,yt=_e(M,X+10,15)+4,nt=mt+_e(M,X+5,31)+1;X+=14;for(var kt=new A(nt),Kt=new A(19),Et=0;Et<yt;++Et)Kt[y[Et]]=_e(M,X+Et*3,7);X+=yt*3;for(var tt=Ie(Kt),Qt=(1<<tt)-1,lr=re(Kt,tt,1),Et=0;Et<nt;){var qt=lr[_e(M,X,Qt)];X+=qt&15;var st=qt>>4;if(st<16)kt[Et++]=st;else{var _t=0,or=0;for(st==16?(or=3+_e(M,X,3),X+=2,_t=kt[Et-1]):st==17?(or=3+_e(M,X,7),X+=3):st==18&&(or=11+_e(M,X,127),X+=7);or--;)kt[Et++]=_t}}var at=kt.subarray(0,mt),dt=kt.subarray(mt);xe=Ie(at),De=Ie(dt),Se=re(at,xe,1),me=re(dt,De,1)}else Ne(1);else{var st=le(X)+4,Oe=M[st-4]|M[st-3]<<8,vt=st+Oe;if(vt>ke){B&&Ne(0);break}I&&D(ne+Oe),te.set(M.subarray(st,vt),ne),W.b=ne+=Oe,W.p=X=vt*8,W.f=K;continue}if(X>Ve){B&&Ne(0);break}}I&&D(ne+131072);for(var It=(1<<xe)-1,Tt=(1<<De)-1,cr=X;;cr=X){var _t=Se[fe(M,X)&It],fr=_t>>4;if(X+=_t&15,X>Ve){B&&Ne(0);break}if(_t||Ne(2),fr<256)te[ne++]=fr;else if(fr==256){cr=X,Se=null;break}else{var xr=fr-254;if(fr>264){var Et=fr-257,Jt=m[Et];xr=_e(M,X,(1<<Jt)-1)+N[Et],X+=Jt}var gr=me[fe(M,X)&Tt],Zr=gr>>4;gr||Ne(3),X+=gr&15;var dt=_[Zr];if(Zr>3){var Jt=x[Zr];dt+=fe(M,X)&(1<<Jt)-1,X+=Jt}if(X>Ve){B&&Ne(0);break}I&&D(ne+131072);var Hr=ne+xr;if(ne<dt){var Ye=Ge-dt,xt=Math.min(dt,Hr);for(Ye+ne<0&&Ne(3);ne<xt;++ne)te[ne]=Ce[Ye+ne]}for(;ne<Hr;++ne)te[ne]=te[ne-dt]}}W.l=Se,W.p=cr,W.b=ne,W.f=K,Se&&(K=1,W.m=xe,W.d=me,W.n=De)}while(!K);return ne!=te.length&&it?ve(te,0,ne):te.subarray(0,ne)},ye=function(M,W,te){te<<=W&7;var Ce=W/8|0;M[Ce]|=te,M[Ce+1]|=te>>8},ce=function(M,W,te){te<<=W&7;var Ce=W/8|0;M[Ce]|=te,M[Ce+1]|=te>>8,M[Ce+2]|=te>>16},q=function(M,W){for(var te=[],Ce=0;Ce<M.length;++Ce)M[Ce]&&te.push({s:Ce,f:M[Ce]});var ke=te.length,Ge=te.slice();if(!ke)return{t:Le,l:0};if(ke==1){var it=new A(te[0].s+1);return it[te[0].s]=1,{t:it,l:1}}te.sort(function(vt,mt){return vt.f-mt.f}),te.push({s:-1,f:25001});var I=te[0],B=te[1],D=0,K=1,X=2;for(te[0]={s:-1,f:I.f+B.f,l:I,r:B};K!=ke-1;)I=te[te[D].f<te[X].f?D++:X++],B=te[D!=K&&te[D].f<te[X].f?D++:X++],te[K++]={s:-1,f:I.f+B.f,l:I,r:B};for(var ne=Ge[0].s,Ce=1;Ce<ke;++Ce)Ge[Ce].s>ne&&(ne=Ge[Ce].s);var Se=new f(ne+1),me=pe(te[K-1],Se,0);if(me>W){var Ce=0,xe=0,De=me-W,Ve=1<<De;for(Ge.sort(function(mt,yt){return Se[yt.s]-Se[mt.s]||mt.f-yt.f});Ce<ke;++Ce){var et=Ge[Ce].s;if(Se[et]>W)xe+=Ve-(1<<me-Se[et]),Se[et]=W;else break}for(xe>>=De;xe>0;){var st=Ge[Ce].s;Se[st]<W?xe-=1<<W-Se[st]++-1:++Ce}for(;Ce>=0&&xe;--Ce){var Oe=Ge[Ce].s;Se[Oe]==W&&(--Se[Oe],++xe)}me=W}return{t:new A(Se),l:me}},pe=function(M,W,te){return M.s==-1?Math.max(pe(M.l,W,te+1),pe(M.r,W,te+1)):W[M.s]=te},oe=function(M){for(var W=M.length;W&&!M[--W];);for(var te=new f(++W),Ce=0,ke=M[0],Ge=1,it=function(B){te[Ce++]=B},I=1;I<=W;++I)if(M[I]==ke&&I!=W)++Ge;else{if(!ke&&Ge>2){for(;Ge>138;Ge-=138)it(32754);Ge>2&&(it(Ge>10?Ge-11<<5|28690:Ge-3<<5|12305),Ge=0)}else if(Ge>3){for(it(ke),--Ge;Ge>6;Ge-=6)it(8304);Ge>2&&(it(Ge-3<<5|8208),Ge=0)}for(;Ge--;)it(ke);Ge=1,ke=M[I]}return{c:te.subarray(0,Ce),n:W}},We=function(M,W){for(var te=0,Ce=0;Ce<W.length;++Ce)te+=M[Ce]*W[Ce];return te},Re=function(M,W,te){var Ce=te.length,ke=le(W+2);M[ke]=Ce&255,M[ke+1]=Ce>>8,M[ke+2]=M[ke]^255,M[ke+3]=M[ke+1]^255;for(var Ge=0;Ge<Ce;++Ge)M[ke+Ge+4]=te[Ge];return(ke+4+Ce)*8},Ee=function(M,W,te,Ce,ke,Ge,it,I,B,D,K){ye(W,K++,te),++ke[256];for(var X=q(ke,15),ne=X.t,Se=X.l,me=q(Ge,15),xe=me.t,De=me.l,Ve=oe(ne),et=Ve.c,st=Ve.n,Oe=oe(xe),vt=Oe.c,mt=Oe.n,yt=new f(19),nt=0;nt<et.length;++nt)++yt[et[nt]&31];for(var nt=0;nt<vt.length;++nt)++yt[vt[nt]&31];for(var kt=q(yt,7),Kt=kt.t,Et=kt.l,tt=19;tt>4&&!Kt[y[tt-1]];--tt);var Qt=D+5<<3,lr=We(ke,R)+We(Ge,Y)+it,qt=We(ke,ne)+We(Ge,xe)+it+14+3*tt+We(yt,Kt)+2*yt[16]+3*yt[17]+7*yt[18];if(B>=0&&Qt<=lr&&Qt<=qt)return Re(W,K,M.subarray(B,B+D));var _t,or,at,dt;if(ye(W,K,1+(qt<lr)),K+=2,qt<lr){_t=re(ne,Se,0),or=ne,at=re(xe,De,0),dt=xe;var It=re(Kt,Et,0);ye(W,K,st-257),ye(W,K+5,mt-1),ye(W,K+10,tt-4),K+=14;for(var nt=0;nt<tt;++nt)ye(W,K+3*nt,Kt[y[nt]]);K+=3*tt;for(var Tt=[et,vt],cr=0;cr<2;++cr)for(var fr=Tt[cr],nt=0;nt<fr.length;++nt){var xr=fr[nt]&31;ye(W,K,It[xr]),K+=Kt[xr],xr>15&&(ye(W,K,fr[nt]>>5&127),K+=fr[nt]>>12)}}else _t=L,or=R,at=je,dt=Y;for(var nt=0;nt<I;++nt){var Jt=Ce[nt];if(Jt>255){var xr=Jt>>18&31;ce(W,K,_t[xr+257]),K+=or[xr+257],xr>7&&(ye(W,K,Jt>>23&31),K+=m[xr]);var gr=Jt&31;ce(W,K,at[gr]),K+=dt[gr],gr>3&&(ce(W,K,Jt>>5&8191),K+=x[gr])}else ce(W,K,_t[Jt]),K+=or[Jt]}return ce(W,K,_t[256]),K+or[256]},ae=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Le=new A(0),Ze=function(M,W,te,Ce,ke,Ge){var it=Ge.z||M.length,I=new A(Ce+it+5*(1+Math.ceil(it/7e3))+ke),B=I.subarray(Ce,I.length-ke),D=Ge.l,K=(Ge.r||0)&7;if(W){K&&(B[0]=Ge.r>>3);for(var X=ae[W-1],ne=X>>13,Se=X&8191,me=(1<<te)-1,xe=Ge.p||new f(32768),De=Ge.h||new f(me+1),Ve=Math.ceil(te/3),et=2*Ve,st=function(nr){return(M[nr]^M[nr+1]<<Ve^M[nr+2]<<et)&me},Oe=new g(25e3),vt=new f(288),mt=new f(32),yt=0,nt=0,kt=Ge.i||0,Kt=0,Et=Ge.w||0,tt=0;kt+2<it;++kt){var Qt=st(kt),lr=kt&32767,qt=De[Qt];if(xe[lr]=qt,De[Qt]=lr,Et<=kt){var _t=it-kt;if((yt>7e3||Kt>24576)&&(_t>423||!D)){K=Ee(M,B,0,Oe,vt,mt,nt,Kt,tt,kt-tt,K),Kt=yt=nt=0,tt=kt;for(var or=0;or<286;++or)vt[or]=0;for(var or=0;or<30;++or)mt[or]=0}var at=2,dt=0,It=Se,Tt=lr-qt&32767;if(_t>2&&Qt==st(kt-Tt))for(var cr=Math.min(ne,_t)-1,fr=Math.min(32767,kt),xr=Math.min(258,_t);Tt<=fr&&--It&&lr!=qt;){if(M[kt+at]==M[kt+at-Tt]){for(var Jt=0;Jt<xr&&M[kt+Jt]==M[kt+Jt-Tt];++Jt);if(Jt>at){if(at=Jt,dt=Tt,Jt>cr)break;for(var gr=Math.min(Tt,Jt-2),Zr=0,or=0;or<gr;++or){var Hr=kt-Tt+or&32767,Ye=xe[Hr],xt=Hr-Ye&32767;xt>Zr&&(Zr=xt,qt=Hr)}}}lr=qt,qt=xe[lr],Tt+=lr-qt&32767}if(dt){Oe[Kt++]=268435456|S[at]<<18|k[dt];var Nt=S[at]&31,Wt=k[dt]&31;nt+=m[Nt]+x[Wt],++vt[257+Nt],++mt[Wt],Et=kt+at,++yt}else Oe[Kt++]=M[kt],++vt[M[kt]]}}for(kt=Math.max(kt,Et);kt<it;++kt)Oe[Kt++]=M[kt],++vt[M[kt]];K=Ee(M,B,D,Oe,vt,mt,nt,Kt,tt,kt-tt,K),D||(Ge.r=K&7|B[K/8|0]<<3,K-=7,Ge.h=De,Ge.p=xe,Ge.i=kt,Ge.w=Et)}else{for(var kt=Ge.w||0;kt<it+D;kt+=65535){var zt=kt+65535;zt>=it&&(B[K/8|0]=D,zt=it),K=Re(B,K+1,M.subarray(kt,zt))}Ge.i=it}return ve(I,0,Ce+le(K)+ke)},jt=(function(){for(var M=new Int32Array(256),W=0;W<256;++W){for(var te=W,Ce=9;--Ce;)te=(te&1&&-306674912)^te>>>1;M[W]=te}return M})(),Lt=function(){var M=-1;return{p:function(W){for(var te=M,Ce=0;Ce<W.length;++Ce)te=jt[te&255^W[Ce]]^te>>>8;M=te},d:function(){return~M}}},Ct=function(){var M=1,W=0;return{p:function(te){for(var Ce=M,ke=W,Ge=te.length|0,it=0;it!=Ge;){for(var I=Math.min(it+2655,Ge);it<I;++it)ke+=Ce+=te[it];Ce=(Ce&65535)+15*(Ce>>16),ke=(ke&65535)+15*(ke>>16)}M=Ce,W=ke},d:function(){return M%=65521,W%=65521,(M&255)<<24|(M&65280)<<8|(W&255)<<8|W>>8}}},Xt=function(M,W,te,Ce,ke){if(!ke&&(ke={l:1},W.dictionary)){var Ge=W.dictionary.subarray(-32768),it=new A(Ge.length+M.length);it.set(Ge),it.set(M,Ge.length),M=it,ke.w=Ge.length}return Ze(M,W.level==null?6:W.level,W.mem==null?ke.l?Math.ceil(Math.max(8,Math.min(13,Math.log(M.length)))*1.5):20:12+W.mem,te,Ce,ke)},_r=function(M,W){var te={};for(var Ce in M)te[Ce]=M[Ce];for(var Ce in W)te[Ce]=W[Ce];return te},Or=function(M,W,te){for(var Ce=M(),ke=M.toString(),Ge=ke.slice(ke.indexOf("[")+1,ke.lastIndexOf("]")).replace(/\s+/g,"").split(","),it=0;it<Ce.length;++it){var I=Ce[it],B=Ge[it];if(typeof I=="function"){W+=";"+B+"=";var D=I.toString();if(I.prototype)if(D.indexOf("[native code]")!=-1){var K=D.indexOf(" ",8)+1;W+=D.slice(K,D.indexOf("(",K))}else{W+=D;for(var X in I.prototype)W+=";"+B+".prototype."+X+"="+I.prototype[X].toString()}else W+=D}else te[B]=I}return W},He=[],Zt=function(M){var W=[];for(var te in M)M[te].buffer&&W.push((M[te]=new M[te].constructor(M[te])).buffer);return W},Bt=function(M,W,te,Ce){if(!He[te]){for(var ke="",Ge={},it=M.length-1,I=0;I<it;++I)ke=Or(M[I],ke,Ge);He[te]={c:Or(M[it],ke,Ge),e:Ge}}var B=_r({},He[te].e);return h(He[te].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+W.toString()+"}",te,B,Zt(B),Ce)},$r=function(){return[A,f,g,m,x,y,N,_,$,ge,Z,he,re,Ie,_e,fe,le,ve,Ne,Pe,vi,dr,Cr]},pr=function(){return[A,f,g,m,x,y,S,k,L,R,je,Y,Z,ae,Le,re,ye,ce,q,pe,oe,We,Re,Ee,le,ve,Ze,Xt,os,dr]},on=function(){return[wn,Sr,Dr,Lt,jt]},Yr=function(){return[cn,bt]},qr=function(){return[dn,Dr,Ct]},Ir=function(){return[Dn]},dr=function(M){return postMessage(M,[M.buffer])},Cr=function(M){return M&&{out:M.size&&new A(M.size),dictionary:M.dictionary}},Vr=function(M,W,te,Ce,ke,Ge){var it=Bt(te,Ce,ke,function(I,B){it.terminate(),Ge(I,B)});return it.postMessage([M,W],W.consume?[M.buffer]:[]),function(){it.terminate()}},zr=function(M){return M.ondata=function(W,te){return postMessage([W,te],[W.buffer])},function(W){W.data.length?(M.push(W.data[0],W.data[1]),postMessage([W.data[0].length])):M.flush()}},gn=function(M,W,te,Ce,ke,Ge,it){var I,B=Bt(M,Ce,ke,function(D,K){D?(B.terminate(),W.ondata.call(W,D)):Array.isArray(K)?K.length==1?(W.queuedSize-=K[0],W.ondrain&&W.ondrain(K[0])):(K[1]&&B.terminate(),W.ondata.call(W,D,K[0],K[1])):it(K)});B.postMessage(te),W.queuedSize=0,W.push=function(D,K){W.ondata||Ne(5),I&&W.ondata(Ne(4,0,1),null,!!K),W.queuedSize+=D.length,B.postMessage([D,I=K],[D.buffer])},W.terminate=function(){B.terminate()},Ge&&(W.flush=function(){B.postMessage([])})},Wr=function(M,W){return M[W]|M[W+1]<<8},$n=function(M,W){return(M[W]|M[W+1]<<8|M[W+2]<<16|M[W+3]<<24)>>>0},Lr=function(M,W){return $n(M,W)+$n(M,W+4)*4294967296},Dr=function(M,W,te){for(;te;++W)M[W]=te,te>>>=8},wn=function(M,W){var te=W.filename;if(M[0]=31,M[1]=139,M[2]=8,M[8]=W.level<2?4:W.level==9?2:0,M[9]=3,W.mtime!=0&&Dr(M,4,Math.floor(new Date(W.mtime||Date.now())/1e3)),te){M[3]=8;for(var Ce=0;Ce<=te.length;++Ce)M[Ce+10]=te.charCodeAt(Ce)}},cn=function(M){(M[0]!=31||M[1]!=139||M[2]!=8)&&Ne(6,"invalid gzip data");var W=M[3],te=10;W&4&&(te+=(M[10]|M[11]<<8)+2);for(var Ce=(W>>3&1)+(W>>4&1);Ce>0;Ce-=!M[te++]);return te+(W&2)},bt=function(M){var W=M.length;return(M[W-4]|M[W-3]<<8|M[W-2]<<16|M[W-1]<<24)>>>0},Sr=function(M){return 10+(M.filename?M.filename.length+1:0)},dn=function(M,W){var te=W.level,Ce=te==0?0:te<6?1:te==9?3:2;if(M[0]=120,M[1]=Ce<<6|(W.dictionary&&32),M[1]|=31-(M[0]<<8|M[1])%31,W.dictionary){var ke=Ct();ke.p(W.dictionary),Dr(M,2,ke.d())}},Dn=function(M,W){return((M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31)&&Ne(6,"invalid zlib data"),(M[1]>>5&1)==+!W&&Ne(6,"invalid zlib data: "+(M[1]&32?"need":"unexpected")+" dictionary"),(M[1]>>3&4)+2};function Xr(M,W){return typeof M=="function"&&(W=M,M={}),this.ondata=W,M}var Un=(function(){function M(W,te){if(typeof W=="function"&&(te=W,W={}),this.ondata=te,this.o=W||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new A(98304),this.o.dictionary){var Ce=this.o.dictionary.subarray(-32768);this.b.set(Ce,32768-Ce.length),this.s.i=32768-Ce.length}}return M.prototype.p=function(W,te){this.ondata(Xt(W,this.o,0,0,this.s),te)},M.prototype.push=function(W,te){this.ondata||Ne(5),this.s.l&&Ne(4);var Ce=W.length+this.s.z;if(Ce>this.b.length){if(Ce>2*this.b.length-32768){var ke=new A(Ce&-32768);ke.set(this.b.subarray(0,this.s.z)),this.b=ke}var Ge=this.b.length-this.s.z;this.b.set(W.subarray(0,Ge),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(W.subarray(Ge),32768),this.s.z=W.length-Ge+32768,this.s.i=32766,this.s.w=32768}else this.b.set(W,this.s.z),this.s.z+=W.length;this.s.l=te&1,(this.s.z>this.s.w+8191||te)&&(this.p(this.b,te||!1),this.s.w=this.s.i,this.s.i-=2)},M.prototype.flush=function(){this.ondata||Ne(5),this.s.l&&Ne(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},M})(),Ur=(function(){function M(W,te){gn([pr,function(){return[zr,Un]}],this,Xr.call(this,W,te),function(Ce){var ke=new Un(Ce.data);onmessage=zr(ke)},6,1)}return M})();function ei(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),Vr(M,W,[pr],function(Ce){return dr(os(Ce.data[0],Ce.data[1]))},0,te)}function os(M,W){return Xt(M,W||{},0,0)}var jn=(function(){function M(W,te){typeof W=="function"&&(te=W,W={}),this.ondata=te;var Ce=W&&W.dictionary&&W.dictionary.subarray(-32768);this.s={i:0,b:Ce?Ce.length:0},this.o=new A(32768),this.p=new A(0),Ce&&this.o.set(Ce)}return M.prototype.e=function(W){if(this.ondata||Ne(5),this.d&&Ne(4),!this.p.length)this.p=W;else if(W.length){var te=new A(this.p.length+W.length);te.set(this.p),te.set(W,this.p.length),this.p=te}},M.prototype.c=function(W){this.s.i=+(this.d=W||!1);var te=this.s.b,Ce=Pe(this.p,this.s,this.o);this.ondata(ve(Ce,te,this.s.b),this.d),this.o=ve(Ce,this.s.b-32768),this.s.b=this.o.length,this.p=ve(this.p,this.s.p/8|0),this.s.p&=7},M.prototype.push=function(W,te){this.e(W),this.c(te)},M})(),Ss=(function(){function M(W,te){gn([$r,function(){return[zr,jn]}],this,Xr.call(this,W,te),function(Ce){var ke=new jn(Ce.data);onmessage=zr(ke)},7,0)}return M})();function ji(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),Vr(M,W,[$r],function(Ce){return dr(vi(Ce.data[0],Cr(Ce.data[1])))},1,te)}function vi(M,W){return Pe(M,{i:2},W&&W.out,W&&W.dictionary)}var Ui=(function(){function M(W,te){this.c=Lt(),this.l=0,this.v=1,Un.call(this,W,te)}return M.prototype.push=function(W,te){this.c.p(W),this.l+=W.length,Un.prototype.push.call(this,W,te)},M.prototype.p=function(W,te){var Ce=Xt(W,this.o,this.v&&Sr(this.o),te&&8,this.s);this.v&&(wn(Ce,this.o),this.v=0),te&&(Dr(Ce,Ce.length-8,this.c.d()),Dr(Ce,Ce.length-4,this.l)),this.ondata(Ce,te)},M.prototype.flush=function(){Un.prototype.flush.call(this)},M})(),Bi=(function(){function M(W,te){gn([pr,on,function(){return[zr,Un,Ui]}],this,Xr.call(this,W,te),function(Ce){var ke=new Ui(Ce.data);onmessage=zr(ke)},8,1)}return M})();function Bs(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),Vr(M,W,[pr,on,function(){return[ri]}],function(Ce){return dr(ri(Ce.data[0],Ce.data[1]))},2,te)}function ri(M,W){W||(W={});var te=Lt(),Ce=M.length;te.p(M);var ke=Xt(M,W,Sr(W),8),Ge=ke.length;return wn(ke,W),Dr(ke,Ge-8,te.d()),Dr(ke,Ge-4,Ce),ke}var Ks=(function(){function M(W,te){this.v=1,this.r=0,jn.call(this,W,te)}return M.prototype.push=function(W,te){if(jn.prototype.e.call(this,W),this.r+=W.length,this.v){var Ce=this.p.subarray(this.v-1),ke=Ce.length>3?cn(Ce):4;if(ke>Ce.length){if(!te)return}else this.v>1&&this.onmember&&this.onmember(this.r-Ce.length);this.p=Ce.subarray(ke),this.v=0}jn.prototype.c.call(this,te),this.s.f&&!this.s.l&&!te&&(this.v=le(this.s.p)+9,this.s={i:0},this.o=new A(0),this.push(new A(0),te))},M})(),Wa=(function(){function M(W,te){var Ce=this;gn([$r,Yr,function(){return[zr,jn,Ks]}],this,Xr.call(this,W,te),function(ke){var Ge=new Ks(ke.data);Ge.onmember=function(it){return postMessage(it)},onmessage=zr(Ge)},9,0,function(ke){return Ce.onmember&&Ce.onmember(ke)})}return M})();function wc(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),Vr(M,W,[$r,Yr,function(){return[ms]}],function(Ce){return dr(ms(Ce.data[0],Ce.data[1]))},3,te)}function ms(M,W){var te=cn(M);return te+8>M.length&&Ne(6,"invalid gzip data"),Pe(M.subarray(te,-8),{i:2},W&&W.out||new A(bt(M)),W&&W.dictionary)}var Nl=(function(){function M(W,te){this.c=Ct(),this.v=1,Un.call(this,W,te)}return M.prototype.push=function(W,te){this.c.p(W),Un.prototype.push.call(this,W,te)},M.prototype.p=function(W,te){var Ce=Xt(W,this.o,this.v&&(this.o.dictionary?6:2),te&&4,this.s);this.v&&(dn(Ce,this.o),this.v=0),te&&Dr(Ce,Ce.length-4,this.c.d()),this.ondata(Ce,te)},M.prototype.flush=function(){Un.prototype.flush.call(this)},M})(),jc=(function(){function M(W,te){gn([pr,qr,function(){return[zr,Un,Nl]}],this,Xr.call(this,W,te),function(Ce){var ke=new Nl(Ce.data);onmessage=zr(ke)},10,1)}return M})();function Sl(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),Vr(M,W,[pr,qr,function(){return[Hi]}],function(Ce){return dr(Hi(Ce.data[0],Ce.data[1]))},4,te)}function Hi(M,W){W||(W={});var te=Ct();te.p(M);var Ce=Xt(M,W,W.dictionary?6:2,4);return dn(Ce,W),Dr(Ce,Ce.length-4,te.d()),Ce}var go=(function(){function M(W,te){jn.call(this,W,te),this.v=W&&W.dictionary?2:1}return M.prototype.push=function(W,te){if(jn.prototype.e.call(this,W),this.v){if(this.p.length<6&&!te)return;this.p=this.p.subarray(Dn(this.p,this.v-1)),this.v=0}te&&(this.p.length<4&&Ne(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),jn.prototype.c.call(this,te)},M})(),ha=(function(){function M(W,te){gn([$r,Ir,function(){return[zr,jn,go]}],this,Xr.call(this,W,te),function(Ce){var ke=new go(Ce.data);onmessage=zr(ke)},11,0)}return M})();function Yl(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),Vr(M,W,[$r,Ir,function(){return[ni]}],function(Ce){return dr(ni(Ce.data[0],Cr(Ce.data[1])))},5,te)}function ni(M,W){return Pe(M.subarray(Dn(M,W&&W.dictionary),-4),{i:2},W&&W.out,W&&W.dictionary)}var Bo=(function(){function M(W,te){this.o=Xr.call(this,W,te)||{},this.G=Ks,this.I=jn,this.Z=go}return M.prototype.i=function(){var W=this;this.s.ondata=function(te,Ce){W.ondata(te,Ce)}},M.prototype.push=function(W,te){if(this.ondata||Ne(5),this.s)this.s.push(W,te);else{if(this.p&&this.p.length){var Ce=new A(this.p.length+W.length);Ce.set(this.p),Ce.set(W,this.p.length)}else this.p=W;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,te),this.p=null)}},M})(),Gs=(function(){function M(W,te){Bo.call(this,W,te),this.queuedSize=0,this.G=Wa,this.I=Ss,this.Z=ha}return M.prototype.i=function(){var W=this;this.s.ondata=function(te,Ce,ke){W.ondata(te,Ce,ke)},this.s.ondrain=function(te){W.queuedSize-=te,W.ondrain&&W.ondrain(te)}},M.prototype.push=function(W,te){this.queuedSize+=W.length,Bo.prototype.push.call(this,W,te)},M})();function Eo(M,W,te){return te||(te=W,W={}),typeof te!="function"&&Ne(7),M[0]==31&&M[1]==139&&M[2]==8?wc(M,W,te):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?ji(M,W,te):Yl(M,W,te)}function el(M,W){return M[0]==31&&M[1]==139&&M[2]==8?ms(M,W):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?vi(M,W):ni(M,W)}var Io=function(M,W,te,Ce){for(var ke in M){var Ge=M[ke],it=W+ke,I=Ce;Array.isArray(Ge)&&(I=_r(Ce,Ge[1]),Ge=Ge[0]),Ge instanceof A?te[it]=[Ge,I]:(te[it+="/"]=[new A(0),I],Io(Ge,it,te,Ce))}},Hs=typeof TextEncoder<"u"&&new TextEncoder,Ci=typeof TextDecoder<"u"&&new TextDecoder,ai=0;try{Ci.decode(Le,{stream:!0}),ai=1}catch{}var Al=function(M){for(var W="",te=0;;){var Ce=M[te++],ke=(Ce>127)+(Ce>223)+(Ce>239);if(te+ke>M.length)return{s:W,r:ve(M,te-1)};ke?ke==3?(Ce=((Ce&15)<<18|(M[te++]&63)<<12|(M[te++]&63)<<6|M[te++]&63)-65536,W+=String.fromCharCode(55296|Ce>>10,56320|Ce&1023)):ke&1?W+=String.fromCharCode((Ce&31)<<6|M[te++]&63):W+=String.fromCharCode((Ce&15)<<12|(M[te++]&63)<<6|M[te++]&63):W+=String.fromCharCode(Ce)}},To=(function(){function M(W){this.ondata=W,ai?this.t=new TextDecoder:this.p=Le}return M.prototype.push=function(W,te){if(this.ondata||Ne(5),te=!!te,this.t){this.ondata(this.t.decode(W,{stream:!0}),te),te&&(this.t.decode().length&&Ne(8),this.t=null);return}this.p||Ne(4);var Ce=new A(this.p.length+W.length);Ce.set(this.p),Ce.set(W,this.p.length);var ke=Al(Ce),Ge=ke.s,it=ke.r;te?(it.length&&Ne(8),this.p=null):this.p=it,this.ondata(Ge,te)},M})(),Lc=(function(){function M(W){this.ondata=W}return M.prototype.push=function(W,te){this.ondata||Ne(5),this.d&&Ne(4),this.ondata(ls(W),this.d=te||!1)},M})();function ls(M,W){if(W){for(var te=new A(M.length),Ce=0;Ce<M.length;++Ce)te[Ce]=M.charCodeAt(Ce);return te}if(Hs)return Hs.encode(M);for(var ke=M.length,Ge=new A(M.length+(M.length>>1)),it=0,I=function(K){Ge[it++]=K},Ce=0;Ce<ke;++Ce){if(it+5>Ge.length){var B=new A(it+8+(ke-Ce<<1));B.set(Ge),Ge=B}var D=M.charCodeAt(Ce);D<128||W?I(D):D<2048?(I(192|D>>6),I(128|D&63)):D>55295&&D<57344?(D=65536+(D&1047552)|M.charCodeAt(++Ce)&1023,I(240|D>>18),I(128|D>>12&63),I(128|D>>6&63),I(128|D&63)):(I(224|D>>12),I(128|D>>6&63),I(128|D&63))}return ve(Ge,0,it)}function qn(M,W){if(W){for(var te="",Ce=0;Ce<M.length;Ce+=16384)te+=String.fromCharCode.apply(null,M.subarray(Ce,Ce+16384));return te}else{if(Ci)return Ci.decode(M);var ke=Al(M),Ge=ke.s,te=ke.r;return te.length&&Ne(8),Ge}}var Qi=function(M){return M==1?3:M<6?2:M==9?1:0},gs=function(M,W){return W+30+Wr(M,W+26)+Wr(M,W+28)},vs=function(M,W,te){var Ce=Wr(M,W+28),ke=qn(M.subarray(W+46,W+46+Ce),!(Wr(M,W+8)&2048)),Ge=W+46+Ce,it=$n(M,W+20),I=te&&it==4294967295?_o(M,Ge):[it,$n(M,W+24),$n(M,W+42)],B=I[0],D=I[1],K=I[2];return[Wr(M,W+10),B,D,ke,Ge+Wr(M,W+30)+Wr(M,W+32),K]},_o=function(M,W){for(;Wr(M,W)!=1;W+=4+Wr(M,W+2));return[Lr(M,W+12),Lr(M,W+4),Lr(M,W+20)]},Di=function(M){var W=0;if(M)for(var te in M){var Ce=M[te].length;Ce>65535&&Ne(9),W+=Ce+4}return W},so=function(M,W,te,Ce,ke,Ge,it,I){var B=Ce.length,D=te.extra,K=I&&I.length,X=Di(D);Dr(M,W,it!=null?33639248:67324752),W+=4,it!=null&&(M[W++]=20,M[W++]=te.os),M[W]=20,W+=2,M[W++]=te.flag<<1|(Ge<0&&8),M[W++]=ke&&8,M[W++]=te.compression&255,M[W++]=te.compression>>8;var ne=new Date(te.mtime==null?Date.now():te.mtime),Se=ne.getFullYear()-1980;if((Se<0||Se>119)&&Ne(10),Dr(M,W,Se<<25|ne.getMonth()+1<<21|ne.getDate()<<16|ne.getHours()<<11|ne.getMinutes()<<5|ne.getSeconds()>>1),W+=4,Ge!=-1&&(Dr(M,W,te.crc),Dr(M,W+4,Ge<0?-Ge-2:Ge),Dr(M,W+8,te.size)),Dr(M,W+12,B),Dr(M,W+14,X),W+=16,it!=null&&(Dr(M,W,K),Dr(M,W+6,te.attrs),Dr(M,W+10,it),W+=14),M.set(Ce,W),W+=B,X)for(var me in D){var xe=D[me],De=xe.length;Dr(M,W,+me),Dr(M,W+2,De),M.set(xe,W+4),W+=4+De}return K&&(M.set(I,W),W+=K),W},Xi=function(M,W,te,Ce,ke){Dr(M,W,101010256),Dr(M,W+8,te),Dr(M,W+10,te),Dr(M,W+12,Ce),Dr(M,W+16,ke)},ki=(function(){function M(W){this.filename=W,this.c=Lt(),this.size=0,this.compression=0}return M.prototype.process=function(W,te){this.ondata(null,W,te)},M.prototype.push=function(W,te){this.ondata||Ne(5),this.c.p(W),this.size+=W.length,te&&(this.crc=this.c.d()),this.process(W,te||!1)},M})(),vo=(function(){function M(W,te){var Ce=this;te||(te={}),ki.call(this,W),this.d=new Un(te,function(ke,Ge){Ce.ondata(null,ke,Ge)}),this.compression=8,this.flag=Qi(te.level)}return M.prototype.process=function(W,te){try{this.d.push(W,te)}catch(Ce){this.ondata(Ce,null,te)}},M.prototype.push=function(W,te){ki.prototype.push.call(this,W,te)},M})(),Oo=(function(){function M(W,te){var Ce=this;te||(te={}),ki.call(this,W),this.d=new Ur(te,function(ke,Ge,it){Ce.ondata(ke,Ge,it)}),this.compression=8,this.flag=Qi(te.level),this.terminate=this.d.terminate}return M.prototype.process=function(W,te){this.d.push(W,te)},M.prototype.push=function(W,te){ki.prototype.push.call(this,W,te)},M})(),pa=(function(){function M(W){this.ondata=W,this.u=[],this.d=1}return M.prototype.add=function(W){var te=this;if(this.ondata||Ne(5),this.d&2)this.ondata(Ne(4+(this.d&1)*8,0,1),null,!1);else{var Ce=ls(W.filename),ke=Ce.length,Ge=W.comment,it=Ge&&ls(Ge),I=ke!=W.filename.length||it&&Ge.length!=it.length,B=ke+Di(W.extra)+30;ke>65535&&this.ondata(Ne(11,0,1),null,!1);var D=new A(B);so(D,0,W,Ce,I,-1);var K=[D],X=function(){for(var De=0,Ve=K;De<Ve.length;De++){var et=Ve[De];te.ondata(null,et,!1)}K=[]},ne=this.d;this.d=0;var Se=this.u.length,me=_r(W,{f:Ce,u:I,o:it,t:function(){W.terminate&&W.terminate()},r:function(){if(X(),ne){var De=te.u[Se+1];De?De.r():te.d=1}ne=1}}),xe=0;W.ondata=function(De,Ve,et){if(De)te.ondata(De,Ve,et),te.terminate();else if(xe+=Ve.length,K.push(Ve),et){var st=new A(16);Dr(st,0,134695760),Dr(st,4,W.crc),Dr(st,8,xe),Dr(st,12,W.size),K.push(st),me.c=xe,me.b=B+xe+16,me.crc=W.crc,me.size=W.size,ne&&me.r(),ne=1}else ne&&X()},this.u.push(me)}},M.prototype.end=function(){var W=this;if(this.d&2){this.ondata(Ne(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){W.d&1&&(W.u.splice(-1,1),W.e())},t:function(){}}),this.d=3},M.prototype.e=function(){for(var W=0,te=0,Ce=0,ke=0,Ge=this.u;ke<Ge.length;ke++){var it=Ge[ke];Ce+=46+it.f.length+Di(it.extra)+(it.o?it.o.length:0)}for(var I=new A(Ce+22),B=0,D=this.u;B<D.length;B++){var it=D[B];so(I,W,it,it.f,it.u,-it.c-2,te,it.o),W+=46+it.f.length+Di(it.extra)+(it.o?it.o.length:0),te+=it.b}Xi(I,W,this.u.length,Ce,te),this.ondata(null,I,!0),this.d=2},M.prototype.terminate=function(){for(var W=0,te=this.u;W<te.length;W++){var Ce=te[W];Ce.t()}this.d=2},M})();function Wi(M,W,te){te||(te=W,W={}),typeof te!="function"&&Ne(7);var Ce={};Io(M,"",Ce,W);var ke=Object.keys(Ce),Ge=ke.length,it=0,I=0,B=Ge,D=new Array(Ge),K=[],X=function(){for(var De=0;De<K.length;++De)K[De]()},ne=function(De,Ve){Q(function(){te(De,Ve)})};Q(function(){ne=te});var Se=function(){var De=new A(I+22),Ve=it,et=I-it;I=0;for(var st=0;st<B;++st){var Oe=D[st];try{var vt=Oe.c.length;so(De,I,Oe,Oe.f,Oe.u,vt);var mt=30+Oe.f.length+Di(Oe.extra),yt=I+mt;De.set(Oe.c,yt),so(De,it,Oe,Oe.f,Oe.u,vt,I,Oe.m),it+=16+mt+(Oe.m?Oe.m.length:0),I=yt+vt}catch(nt){return ne(nt,null)}}Xi(De,it,D.length,et,Ve),ne(null,De)};Ge||Se();for(var me=function(De){var Ve=ke[De],et=Ce[Ve],st=et[0],Oe=et[1],vt=Lt(),mt=st.length;vt.p(st);var yt=ls(Ve),nt=yt.length,kt=Oe.comment,Kt=kt&&ls(kt),Et=Kt&&Kt.length,tt=Di(Oe.extra),Qt=Oe.level==0?0:8,lr=function(qt,_t){if(qt)X(),ne(qt,null);else{var or=_t.length;D[De]=_r(Oe,{size:mt,crc:vt.d(),c:_t,f:yt,m:Kt,u:nt!=Ve.length||Kt&&kt.length!=Et,compression:Qt}),it+=30+nt+tt+or,I+=76+2*(nt+tt)+(Et||0)+or,--Ge||Se()}};if(nt>65535&&lr(Ne(11,0,1),null),!Qt)lr(null,st);else if(mt<16e4)try{lr(null,os(st,Oe))}catch(qt){lr(qt,null)}else K.push(ei(st,Oe,lr))},xe=0;xe<B;++xe)me(xe);return X}function xs(M,W){W||(W={});var te={},Ce=[];Io(M,"",te,W);var ke=0,Ge=0;for(var it in te){var I=te[it],B=I[0],D=I[1],K=D.level==0?0:8,X=ls(it),ne=X.length,Se=D.comment,me=Se&&ls(Se),xe=me&&me.length,De=Di(D.extra);ne>65535&&Ne(11);var Ve=K?os(B,D):B,et=Ve.length,st=Lt();st.p(B),Ce.push(_r(D,{size:B.length,crc:st.d(),c:Ve,f:X,m:me,u:ne!=it.length||me&&Se.length!=xe,o:ke,compression:K})),ke+=30+ne+De+et,Ge+=76+2*(ne+De)+(xe||0)+et}for(var Oe=new A(Ge+22),vt=ke,mt=Ge-ke,yt=0;yt<Ce.length;++yt){var X=Ce[yt];so(Oe,X.o,X,X.f,X.u,X.c.length);var nt=30+X.f.length+Di(X.extra);Oe.set(X.c,X.o+nt),so(Oe,ke,X,X.f,X.u,X.c.length,X.o,X.m),ke+=16+nt+(X.m?X.m.length:0)}return Xi(Oe,ke,Ce.length,mt,vt),Oe}var qs=(function(){function M(){}return M.prototype.push=function(W,te){this.ondata(null,W,te)},M.compression=0,M})(),ks=(function(){function M(){var W=this;this.i=new jn(function(te,Ce){W.ondata(null,te,Ce)})}return M.prototype.push=function(W,te){try{this.i.push(W,te)}catch(Ce){this.ondata(Ce,null,te)}},M.compression=8,M})(),ko=(function(){function M(W,te){var Ce=this;te<32e4?this.i=new jn(function(ke,Ge){Ce.ondata(null,ke,Ge)}):(this.i=new Ss(function(ke,Ge,it){Ce.ondata(ke,Ge,it)}),this.terminate=this.i.terminate)}return M.prototype.push=function(W,te){this.i.terminate&&(W=ve(W,0)),this.i.push(W,te)},M.compression=8,M})(),Ut=(function(){function M(W){this.onfile=W,this.k=[],this.o={0:qs},this.p=Le}return M.prototype.push=function(W,te){var Ce=this;if(this.onfile||Ne(5),this.p||Ne(4),this.c>0){var ke=Math.min(this.c,W.length),Ge=W.subarray(0,ke);if(this.c-=ke,this.d?this.d.push(Ge,!this.c):this.k[0].push(Ge),W=W.subarray(ke),W.length)return this.push(W,te)}else{var it=0,I=0,B=void 0,D=void 0;this.p.length?W.length?(D=new A(this.p.length+W.length),D.set(this.p),D.set(W,this.p.length)):D=this.p:D=W;for(var K=D.length,X=this.c,ne=X&&this.d,Se=function(){var Ve,et=$n(D,I);if(et==67324752){it=1,B=I,me.d=null,me.c=0;var st=Wr(D,I+6),Oe=Wr(D,I+8),vt=st&2048,mt=st&8,yt=Wr(D,I+26),nt=Wr(D,I+28);if(K>I+30+yt+nt){var kt=[];me.k.unshift(kt),it=2;var Kt=$n(D,I+18),Et=$n(D,I+22),tt=qn(D.subarray(I+30,I+=30+yt),!vt);Kt==4294967295?(Ve=mt?[-2]:_o(D,I),Kt=Ve[0],Et=Ve[1]):mt&&(Kt=-1),I+=nt,me.c=Kt;var Qt,lr={name:tt,compression:Oe,start:function(){if(lr.ondata||Ne(5),!Kt)lr.ondata(null,Le,!0);else{var qt=Ce.o[Oe];qt||lr.ondata(Ne(14,"unknown compression type "+Oe,1),null,!1),Qt=Kt<0?new qt(tt):new qt(tt,Kt,Et),Qt.ondata=function(dt,It,Tt){lr.ondata(dt,It,Tt)};for(var _t=0,or=kt;_t<or.length;_t++){var at=or[_t];Qt.push(at,!1)}Ce.k[0]==kt&&Ce.c?Ce.d=Qt:Qt.push(Le,!0)}},terminate:function(){Qt&&Qt.terminate&&Qt.terminate()}};Kt>=0&&(lr.size=Kt,lr.originalSize=Et),me.onfile(lr)}return"break"}else if(X){if(et==134695760)return B=I+=12+(X==-2&&8),it=3,me.c=0,"break";if(et==33639248)return B=I-=4,it=3,me.c=0,"break"}},me=this;I<K-4;++I){var xe=Se();if(xe==="break")break}if(this.p=Le,X<0){var De=it?D.subarray(0,B-12-(X==-2&&8)-($n(D,B-16)==134695760&&4)):D.subarray(0,I);ne?ne.push(De,!!it):this.k[+(it==2)].push(De)}if(it&2)return this.push(D.subarray(I),te);this.p=D.subarray(I)}te&&(this.c&&Ne(13),this.p=null)},M.prototype.register=function(W){this.o[W.compression]=W},M})(),Q=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(M){M()};function ie(M,W,te){te||(te=W,W={}),typeof te!="function"&&Ne(7);var Ce=[],ke=function(){for(var De=0;De<Ce.length;++De)Ce[De]()},Ge={},it=function(De,Ve){Q(function(){te(De,Ve)})};Q(function(){it=te});for(var I=M.length-22;$n(M,I)!=101010256;--I)if(!I||M.length-I>65558)return it(Ne(13,0,1),null),ke;var B=Wr(M,I+8);if(B){var D=B,K=$n(M,I+16),X=K==4294967295||D==65535;if(X){var ne=$n(M,I-12);X=$n(M,ne)==101075792,X&&(D=B=$n(M,ne+32),K=$n(M,ne+48))}for(var Se=W&&W.filter,me=function(De){var Ve=vs(M,K,X),et=Ve[0],st=Ve[1],Oe=Ve[2],vt=Ve[3],mt=Ve[4],yt=Ve[5],nt=gs(M,yt);K=mt;var kt=function(Et,tt){Et?(ke(),it(Et,null)):(tt&&(Ge[vt]=tt),--B||it(null,Ge))};if(!Se||Se({name:vt,size:st,originalSize:Oe,compression:et}))if(!et)kt(null,ve(M,nt,nt+st));else if(et==8){var Kt=M.subarray(nt,nt+st);if(Oe<524288||st>.8*Oe)try{kt(null,vi(Kt,{out:new A(Oe)}))}catch(Et){kt(Et,null)}else Ce.push(ji(Kt,{size:Oe},kt))}else kt(Ne(14,"unknown compression type "+et,1),null);else kt(null,null)},xe=0;xe<D;++xe)me(xe)}else it(null,{});return ke}function ue(M,W){for(var te={},Ce=M.length-22;$n(M,Ce)!=101010256;--Ce)(!Ce||M.length-Ce>65558)&&Ne(13);var ke=Wr(M,Ce+8);if(!ke)return{};var Ge=$n(M,Ce+16),it=Ge==4294967295||ke==65535;if(it){var I=$n(M,Ce-12);it=$n(M,I)==101075792,it&&(ke=$n(M,I+32),Ge=$n(M,I+48))}for(var B=W&&W.filter,D=0;D<ke;++D){var K=vs(M,Ge,it),X=K[0],ne=K[1],Se=K[2],me=K[3],xe=K[4],De=K[5],Ve=gs(M,De);Ge=xe,(!B||B({name:me,size:ne,originalSize:Se,compression:X}))&&(X?X==8?te[me]=vi(M.subarray(Ve,Ve+ne),{out:new A(Se)}):Ne(14,"unknown compression type "+X):te[me]=ve(M,Ve,Ve+ne))}return te}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(l,u,o){o.r(u),o.d(u,{IOBuffer:function(){return g}});var d=o("./node_modules/iobuffer/lib-esm/text.js");const h=1024*8,A=(()=>{const m=new Uint8Array(4),x=new Uint32Array(m.buffer);return!((x[0]=1)&m[0])})(),f={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{constructor(x=h,y={}){Gi(this,"buffer");Gi(this,"byteLength");Gi(this,"byteOffset");Gi(this,"length");Gi(this,"offset");Gi(this,"lastWrittenByte");Gi(this,"littleEndian");Gi(this,"_data");Gi(this,"_mark");Gi(this,"_marks");let b=!1;typeof x=="number"?x=new ArrayBuffer(x):(b=!0,this.lastWrittenByte=x.byteLength);const w=y.offset?y.offset>>>0:0,N=x.byteLength-w;let S=w;(ArrayBuffer.isView(x)||x instanceof g)&&(x.byteLength!==x.buffer.byteLength&&(S=x.byteOffset+w),x=x.buffer),b?this.lastWrittenByte=N:this.lastWrittenByte=0,this.buffer=x,this.length=N,this.byteLength=N,this.byteOffset=S,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,S,N),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const b=(this.offset+x)*2,w=new Uint8Array(b);w.set(new Uint8Array(this.buffer)),this.buffer=w.buffer,this.length=b,this.byteLength=b,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const b=f[y].BYTES_PER_ELEMENT*x,w=this.byteOffset+this.offset,N=this.buffer.slice(w,w+b);if(this.littleEndian===A&&y!=="uint8"&&y!=="int8"){const j=new Uint8Array(this.buffer.slice(w,w+b));j.reverse();const _=new f[y](j.buffer);return this.offset+=b,_.reverse(),_}const S=new f[y](N);return this.offset+=b,S}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let b=0;b<x;b++)y+=this.readChar();return y}readUtf8(x=1){return(0,d.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,d.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,d.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(l,u,o){o.r(u),o.d(u,{decode:function(){return d},encode:function(){return A}});function d(f,g="utf8"){return new TextDecoder(g).decode(f)}const h=new TextEncoder;function A(f){return h.encode(f)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(l,u,o){o.r(u),o.d(u,{AcroForm:function(){return os},AcroFormAppearance:function(){return Ur},AcroFormButton:function(){return cn},AcroFormCheckBox:function(){return Dn},AcroFormChoiceField:function(){return $n},AcroFormComboBox:function(){return Dr},AcroFormEditBox:function(){return wn},AcroFormListBox:function(){return Lr},AcroFormPasswordField:function(){return Un},AcroFormPushButton:function(){return bt},AcroFormRadioButton:function(){return Sr},AcroFormTextField:function(){return Xr},GState:function(){return Pe},ShadingPattern:function(){return ce},TilingPattern:function(){return q},default:function(){return pe},jsPDF:function(){return pe}});var d=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=o("./node_modules/fflate/esm/browser.js"),A=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),f=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var g=(function(){return typeof window<"u"?window:typeof iA<"u"?iA:typeof self<"u"?self:this})();function m(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var x={log:m,warn:function(I){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):m.call(null,arguments))},error:function(I){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):m(I))}};function y(I,B,D){var K=new XMLHttpRequest;K.open("GET",I),K.responseType="blob",K.onload=function(){N(K.response,B,D)},K.onerror=function(){x.error("could not download file")},K.send()}function b(I){var B=new XMLHttpRequest;B.open("HEAD",I,!1);try{B.send()}catch{}return B.status>=200&&B.status<=299}function w(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(B)}}var N=g.saveAs||((typeof window>"u"?"undefined":(0,d.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(I,B,D){var K=g.URL||g.webkitURL,X=document.createElement("a");B=B||I.name||"download",X.download=B,X.rel="noopener",typeof I=="string"?(X.href=I,X.origin!==location.origin?b(X.href)?y(I,B,D):w(X,X.target="_blank"):w(X)):(X.href=K.createObjectURL(I),setTimeout(function(){K.revokeObjectURL(X.href)},4e4),setTimeout(function(){w(X)},0))}:"msSaveOrOpenBlob"in navigator?function(I,B,D){if(B=B||I.name||"download",typeof I=="string")if(b(I))y(I,B,D);else{var K=document.createElement("a");K.href=I,K.target="_blank",setTimeout(function(){w(K)})}else navigator.msSaveOrOpenBlob((function(X,ne){return ne===void 0?ne={autoBom:!1}:(0,d.default)(ne)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),ne={autoBom:!ne}),ne.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(X.type)?new Blob(["\uFEFF",X],{type:X.type}):X})(I,D),B)}:function(I,B,D,K){if((K=K||open("","_blank"))&&(K.document.title=K.document.body.innerText="downloading..."),typeof I=="string")return y(I,B,D);var X=I.type==="application/octet-stream",ne=/constructor/i.test(g.HTMLElement)||g.safari,Se=/CriOS\/[\d]+/.test(navigator.userAgent);if((Se||X&&ne)&&(typeof FileReader>"u"?"undefined":(0,d.default)(FileReader))==="object"){var me=new FileReader;me.onloadend=function(){var Ve=me.result;Ve=Se?Ve:Ve.replace(/^data:[^;]*;/,"data:attachment/file;"),K?K.location.href=Ve:location=Ve,K=null},me.readAsDataURL(I)}else{var xe=g.URL||g.webkitURL,De=xe.createObjectURL(I);K?K.location=De:location.href=De,K=null,setTimeout(function(){xe.revokeObjectURL(De)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S(I){var B;I=I||"",this.ok=!1,I.charAt(0)=="#"&&(I=I.substr(1,6)),I={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[I=(I=I.replace(/ /g,"")).toLowerCase()]||I;for(var D=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(me){return[parseInt(me[1]),parseInt(me[2]),parseInt(me[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(me){return[parseInt(me[1],16),parseInt(me[2],16),parseInt(me[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(me){return[parseInt(me[1]+me[1],16),parseInt(me[2]+me[2],16),parseInt(me[3]+me[3],16)]}}],K=0;K<D.length;K++){var X=D[K].re,ne=D[K].process,Se=X.exec(I);Se&&(B=ne(Se),this.r=B[0],this.g=B[1],this.b=B[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var me=this.r.toString(16),xe=this.g.toString(16),De=this.b.toString(16);return me.length==1&&(me="0"+me),xe.length==1&&(xe="0"+xe),De.length==1&&(De="0"+De),"#"+me+xe+De}}var j=g.atob.bind(g),_=g.btoa.bind(g);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function k(I,B){var D=I[0],K=I[1],X=I[2],ne=I[3];D=ee(D,K,X,ne,B[0],7,-680876936),ne=ee(ne,D,K,X,B[1],12,-389564586),X=ee(X,ne,D,K,B[2],17,606105819),K=ee(K,X,ne,D,B[3],22,-1044525330),D=ee(D,K,X,ne,B[4],7,-176418897),ne=ee(ne,D,K,X,B[5],12,1200080426),X=ee(X,ne,D,K,B[6],17,-1473231341),K=ee(K,X,ne,D,B[7],22,-45705983),D=ee(D,K,X,ne,B[8],7,1770035416),ne=ee(ne,D,K,X,B[9],12,-1958414417),X=ee(X,ne,D,K,B[10],17,-42063),K=ee(K,X,ne,D,B[11],22,-1990404162),D=ee(D,K,X,ne,B[12],7,1804603682),ne=ee(ne,D,K,X,B[13],12,-40341101),X=ee(X,ne,D,K,B[14],17,-1502002290),D=V(D,K=ee(K,X,ne,D,B[15],22,1236535329),X,ne,B[1],5,-165796510),ne=V(ne,D,K,X,B[6],9,-1069501632),X=V(X,ne,D,K,B[11],14,643717713),K=V(K,X,ne,D,B[0],20,-373897302),D=V(D,K,X,ne,B[5],5,-701558691),ne=V(ne,D,K,X,B[10],9,38016083),X=V(X,ne,D,K,B[15],14,-660478335),K=V(K,X,ne,D,B[4],20,-405537848),D=V(D,K,X,ne,B[9],5,568446438),ne=V(ne,D,K,X,B[14],9,-1019803690),X=V(X,ne,D,K,B[3],14,-187363961),K=V(K,X,ne,D,B[8],20,1163531501),D=V(D,K,X,ne,B[13],5,-1444681467),ne=V(ne,D,K,X,B[2],9,-51403784),X=V(X,ne,D,K,B[7],14,1735328473),D=re(D,K=V(K,X,ne,D,B[12],20,-1926607734),X,ne,B[5],4,-378558),ne=re(ne,D,K,X,B[8],11,-2022574463),X=re(X,ne,D,K,B[11],16,1839030562),K=re(K,X,ne,D,B[14],23,-35309556),D=re(D,K,X,ne,B[1],4,-1530992060),ne=re(ne,D,K,X,B[4],11,1272893353),X=re(X,ne,D,K,B[7],16,-155497632),K=re(K,X,ne,D,B[10],23,-1094730640),D=re(D,K,X,ne,B[13],4,681279174),ne=re(ne,D,K,X,B[0],11,-358537222),X=re(X,ne,D,K,B[3],16,-722521979),K=re(K,X,ne,D,B[6],23,76029189),D=re(D,K,X,ne,B[9],4,-640364487),ne=re(ne,D,K,X,B[12],11,-421815835),X=re(X,ne,D,K,B[15],16,530742520),D=R(D,K=re(K,X,ne,D,B[2],23,-995338651),X,ne,B[0],6,-198630844),ne=R(ne,D,K,X,B[7],10,1126891415),X=R(X,ne,D,K,B[14],15,-1416354905),K=R(K,X,ne,D,B[5],21,-57434055),D=R(D,K,X,ne,B[12],6,1700485571),ne=R(ne,D,K,X,B[3],10,-1894986606),X=R(X,ne,D,K,B[10],15,-1051523),K=R(K,X,ne,D,B[1],21,-2054922799),D=R(D,K,X,ne,B[8],6,1873313359),ne=R(ne,D,K,X,B[15],10,-30611744),X=R(X,ne,D,K,B[6],15,-1560198380),K=R(K,X,ne,D,B[13],21,1309151649),D=R(D,K,X,ne,B[4],6,-145523070),ne=R(ne,D,K,X,B[11],10,-1120210379),X=R(X,ne,D,K,B[2],15,718787259),K=R(K,X,ne,D,B[9],21,-343485551),I[0]=fe(D,I[0]),I[1]=fe(K,I[1]),I[2]=fe(X,I[2]),I[3]=fe(ne,I[3])}function Z(I,B,D,K,X,ne){return B=fe(fe(B,I),fe(K,ne)),fe(B<<X|B>>>32-X,D)}function ee(I,B,D,K,X,ne,Se){return Z(B&D|~B&K,I,B,X,ne,Se)}function V(I,B,D,K,X,ne,Se){return Z(B&K|D&~K,I,B,X,ne,Se)}function re(I,B,D,K,X,ne,Se){return Z(B^D^K,I,B,X,ne,Se)}function R(I,B,D,K,X,ne,Se){return Z(D^(B|~K),I,B,X,ne,Se)}function Y(I){var B,D=I.length,K=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=I.length;B+=64)k(K,L(I.substring(B-64,B)));I=I.substring(B-64);var X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<I.length;B++)X[B>>2]|=I.charCodeAt(B)<<(B%4<<3);if(X[B>>2]|=128<<(B%4<<3),B>55)for(k(K,X),B=0;B<16;B++)X[B]=0;return X[14]=8*D,k(K,X),K}function L(I){var B,D=[];for(B=0;B<64;B+=4)D[B>>2]=I.charCodeAt(B)+(I.charCodeAt(B+1)<<8)+(I.charCodeAt(B+2)<<16)+(I.charCodeAt(B+3)<<24);return D}var $="0123456789abcdef".split("");function je(I){for(var B="",D=0;D<4;D++)B+=$[I>>8*D+4&15]+$[I>>8*D&15];return B}function ge(I){return String.fromCharCode(255&I,(65280&I)>>8,(16711680&I)>>16,(4278190080&I)>>24)}function Ie(I){return Y(I).map(ge).join("")}var _e=(function(I){for(var B=0;B<I.length;B++)I[B]=je(I[B]);return I.join("")})(Y("hello"))!="5d41402abc4b2a76b9719d911017c592";function fe(I,B){if(_e){var D=(65535&I)+(65535&B);return(I>>16)+(B>>16)+(D>>16)<<16|65535&D}return I+B&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function le(I,B){var D,K,X,ne;if(I!==D){for(var Se=(X=I,ne=1+(256/I.length|0),new Array(ne+1).join(X)),me=[],xe=0;xe<256;xe++)me[xe]=xe;var De=0;for(xe=0;xe<256;xe++){var Ve=me[xe];De=(De+Ve+Se.charCodeAt(xe))%256,me[xe]=me[De],me[De]=Ve}D=I,K=me}else me=K;var et=B.length,st=0,Oe=0,vt="";for(xe=0;xe<et;xe++)Oe=(Oe+(Ve=me[st=(st+1)%256]))%256,me[st]=me[Oe],me[Oe]=Ve,Se=me[(me[st]+me[Oe])%256],vt+=String.fromCharCode(B.charCodeAt(xe)^Se);return vt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ve={print:4,modify:8,copy:16,"annot-forms":32};function se(I,B,D,K){this.v=1,this.r=2;var X=192;I.forEach(function(me){if(ve.perm!==void 0)throw new Error("Invalid permission: "+me);X+=ve[me]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ne=(B+this.padding).substr(0,32),Se=(D+this.padding).substr(0,32);this.O=this.processOwnerPassword(ne,Se),this.P=-(1+(255^X)),this.encryptionKey=Ie(ne+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(K)).substr(0,5),this.U=le(this.encryptionKey,this.padding)}function he(I){if(/[^\u0000-\u00ff]/.test(I))throw new Error("Invalid PDF Name Object: "+I+", Only accept ASCII characters.");for(var B="",D=I.length,K=0;K<D;K++){var X=I.charCodeAt(K);B+=X<33||X===35||X===37||X===40||X===41||X===47||X===60||X===62||X===91||X===93||X===123||X===125||X>126?"#"+("0"+X.toString(16)).slice(-2):I[K]}return B}function Ne(I){if((0,d.default)(I)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var B={};this.subscribe=function(D,K,X){if(X=X||!1,typeof D!="string"||typeof K!="function"||typeof X!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");B.hasOwnProperty(D)||(B[D]={});var ne=Math.random().toString(35);return B[D][ne]=[K,!!X],ne},this.unsubscribe=function(D){for(var K in B)if(B[K][D])return delete B[K][D],Object.keys(B[K]).length===0&&delete B[K],!0;return!1},this.publish=function(D){if(B.hasOwnProperty(D)){var K=Array.prototype.slice.call(arguments,1),X=[];for(var ne in B[D]){var Se=B[D][ne];try{Se[0].apply(I,K)}catch(me){g.console&&x.error("jsPDF PubSub Error",me.message,me)}Se[1]&&X.push(ne)}X.length&&X.forEach(this.unsubscribe)}},this.getTopics=function(){return B}}function Pe(I){if(!(this instanceof Pe))return new Pe(I);var B="opacity,stroke-opacity".split(",");for(var D in I)I.hasOwnProperty(D)&&B.indexOf(D)>=0&&(this[D]=I[D]);this.id="",this.objectNumber=-1}function ye(I,B){this.gState=I,this.matrix=B,this.id="",this.objectNumber=-1}function ce(I,B,D,K,X){if(!(this instanceof ce))return new ce(I,B,D,K,X);this.type=I==="axial"?2:3,this.coords=B,this.colors=D,ye.call(this,K,X)}function q(I,B,D,K,X){if(!(this instanceof q))return new q(I,B,D,K,X);this.boundingBox=I,this.xStep=B,this.yStep=D,this.stream="",this.cloneIndex=0,ye.call(this,K,X)}function pe(I){var B,D=typeof arguments[0]=="string"?arguments[0]:"p",K=arguments[1],X=arguments[2],ne=arguments[3],Se=[],me=1,xe=16,De="S",Ve=null;(0,d.default)(I=I||{})==="object"&&(D=I.orientation,K=I.unit||K,X=I.format||X,ne=I.compress||I.compressPdf||ne,(Ve=I.encryption||null)!==null&&(Ve.userPassword=Ve.userPassword||"",Ve.ownerPassword=Ve.ownerPassword||"",Ve.userPermissions=Ve.userPermissions||[]),me=typeof I.userUnit=="number"?Math.abs(I.userUnit):1,I.precision!==void 0&&(B=I.precision),I.floatPrecision!==void 0&&(xe=I.floatPrecision),De=I.defaultPathOperation||"S"),Se=I.filters||(ne===!0?["FlateEncode"]:Se),K=K||"mm",D=(""+(D||"P")).toLowerCase();var et=I.putOnlyUsedFonts||!1,st={},Oe={internal:{},__private__:{}};Oe.__private__.PubSub=Ne;var vt="1.3",mt=Oe.__private__.getPdfVersion=function(){return vt};Oe.__private__.setPdfVersion=function(de){vt=de};var yt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Oe.__private__.getPageFormats=function(){return yt};var nt=Oe.__private__.getPageFormat=function(de){return yt[de]};X=X||"a4";var kt="compat",Kt="advanced",Et=kt;function tt(){this.saveGraphicsState(),ut(new Aa(ua,0,0,-ua,0,Wc()*ua).toString()+" cm"),this.setFontSize(this.getFontSize()/ua),De="n",Et=Kt}function Qt(){this.restoreGraphicsState(),De="S",Et=kt}var lr=Oe.__private__.combineFontStyleAndFontWeight=function(de,Ue){if(de=="bold"&&Ue=="normal"||de=="bold"&&Ue==400||de=="normal"&&Ue=="italic"||de=="bold"&&Ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ue&&(de=Ue==400||Ue==="normal"?de==="italic"?"italic":"normal":Ue!=700&&Ue!=="bold"||de!=="normal"?(Ue==700?"bold":Ue)+""+de:"bold"),de};Oe.advancedAPI=function(de){var Ue=Et===kt;return Ue&&tt.call(this),typeof de!="function"||(de(this),Ue&&Qt.call(this)),this},Oe.compatAPI=function(de){var Ue=Et===Kt;return Ue&&Qt.call(this),typeof de!="function"||(de(this),Ue&&tt.call(this)),this},Oe.isAdvancedAPI=function(){return Et===Kt};var qt,_t=function(de){if(Et!==Kt)throw new Error(de+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},or=Oe.roundToPrecision=Oe.__private__.roundToPrecision=function(de,Ue){var gt=B||Ue;if(isNaN(de)||isNaN(gt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return de.toFixed(gt).replace(/0+$/,"")};qt=Oe.hpf=Oe.__private__.hpf=typeof xe=="number"?function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return or(de,xe)}:xe==="smart"?function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return or(de,de>-1&&de<1?16:5)}:function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return or(de,16)};var at=Oe.f2=Oe.__private__.f2=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.f2");return or(de,2)},dt=Oe.__private__.f3=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.f3");return or(de,3)},It=Oe.scale=Oe.__private__.scale=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.scale");return Et===kt?de*ua:Et===Kt?de:void 0},Tt=function(de){return It((function(Ue){return Et===kt?Wc()-Ue:Et===Kt?Ue:void 0})(de))};Oe.__private__.setPrecision=Oe.setPrecision=function(de){typeof parseInt(de,10)=="number"&&(B=parseInt(de,10))};var cr,fr="00000000000000000000000000000000",xr=Oe.__private__.getFileId=function(){return fr},Jt=Oe.__private__.setFileId=function(de){return fr=de!==void 0&&/^[a-fA-F0-9]{32}$/.test(de)?de.toUpperCase():fr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ve!==null&&(Is=new se(Ve.userPermissions,Ve.userPassword,Ve.ownerPassword,fr)),fr};Oe.setFileId=function(de){return Jt(de),this},Oe.getFileId=function(){return xr()};var gr=Oe.__private__.convertDateToPDFDate=function(de){var Ue=de.getTimezoneOffset(),gt=Ue<0?"+":"-",Ot=Math.floor(Math.abs(Ue/60)),Gt=Math.abs(Ue%60),yr=[gt,Nt(Ot),"'",Nt(Gt),"'"].join("");return["D:",de.getFullYear(),Nt(de.getMonth()+1),Nt(de.getDate()),Nt(de.getHours()),Nt(de.getMinutes()),Nt(de.getSeconds()),yr].join("")},Zr=Oe.__private__.convertPDFDateToDate=function(de){var Ue=parseInt(de.substr(2,4),10),gt=parseInt(de.substr(6,2),10)-1,Ot=parseInt(de.substr(8,2),10),Gt=parseInt(de.substr(10,2),10),yr=parseInt(de.substr(12,2),10),Fr=parseInt(de.substr(14,2),10);return new Date(Ue,gt,Ot,Gt,yr,Fr,0)},Hr=Oe.__private__.setCreationDate=function(de){var Ue;if(de===void 0&&(de=new Date),de instanceof Date)Ue=gr(de);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(de))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ue=de}return cr=Ue},Ye=Oe.__private__.getCreationDate=function(de){var Ue=cr;return de==="jsDate"&&(Ue=Zr(cr)),Ue};Oe.setCreationDate=function(de){return Hr(de),this},Oe.getCreationDate=function(de){return Ye(de)};var xt,Nt=Oe.__private__.padd2=function(de){return("0"+parseInt(de)).slice(-2)},Wt=Oe.__private__.padd2Hex=function(de){return("00"+(de=de.toString())).substr(de.length)},zt=0,nr=[],mr=[],vr=0,Pr=[],Jr=[],Cn=!1,Bn=mr;Oe.__private__.setCustomOutputDestination=function(de){Cn=!0,Bn=de};var ca=function(de){Cn||(Bn=de)};Oe.__private__.resetCustomOutputDestination=function(){Cn=!1,Bn=mr};var ut=Oe.__private__.out=function(de){return de=de.toString(),vr+=de.length+1,Bn.push(de),Bn},hn=Oe.__private__.write=function(de){return ut(arguments.length===1?de.toString():Array.prototype.join.call(arguments," "))},ma=Oe.__private__.getArrayBuffer=function(de){for(var Ue=de.length,gt=new ArrayBuffer(Ue),Ot=new Uint8Array(gt);Ue--;)Ot[Ue]=de.charCodeAt(Ue);return gt},un=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Oe.__private__.getStandardFonts=function(){return un};var Qr=I.fontSize||16;Oe.__private__.setFontSize=Oe.setFontSize=function(de){return Qr=Et===Kt?de/ua:de,this};var oa,Mn=Oe.__private__.getFontSize=Oe.getFontSize=function(){return Et===kt?Qr:Qr*ua},Jn=I.R2L||!1;Oe.__private__.setR2L=Oe.setR2L=function(de){return Jn=de,this},Oe.__private__.getR2L=Oe.getR2L=function(){return Jn};var Rn,fi=Oe.__private__.setZoomMode=function(de){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(de))oa=de;else if(isNaN(de)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(de)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+de+'" is not recognized.');oa=de}else oa=parseInt(de,10)};Oe.__private__.getZoomMode=function(){return oa};var La,Fn=Oe.__private__.setPageMode=function(de){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(de)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+de+'" is not recognized.');Rn=de};Oe.__private__.getPageMode=function(){return Rn};var si=Oe.__private__.setLayoutMode=function(de){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(de)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+de+'" is not recognized.');La=de};Oe.__private__.getLayoutMode=function(){return La},Oe.__private__.setDisplayMode=Oe.setDisplayMode=function(de,Ue,gt){return fi(de),si(Ue),Fn(gt),this};var la={title:"",subject:"",author:"",keywords:"",creator:""};Oe.__private__.getDocumentProperty=function(de){if(Object.keys(la).indexOf(de)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return la[de]},Oe.__private__.getDocumentProperties=function(){return la},Oe.__private__.setDocumentProperties=Oe.setProperties=Oe.setDocumentProperties=function(de){for(var Ue in la)la.hasOwnProperty(Ue)&&de[Ue]&&(la[Ue]=de[Ue]);return this},Oe.__private__.setDocumentProperty=function(de,Ue){if(Object.keys(la).indexOf(de)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return la[de]=Ue};var _n,ua,On,wa,ci,Va={},za={},Ji=[],Kn={},Ei={},ga={},zn={},Ii=null,ja=0,En=[],Xa=new Ne(Oe),eu=I.hotfixes||[],Qs={},xo={},Cc=[],Aa=function de(Ue,gt,Ot,Gt,yr,Fr){if(!(this instanceof de))return new de(Ue,gt,Ot,Gt,yr,Fr);isNaN(Ue)&&(Ue=1),isNaN(gt)&&(gt=0),isNaN(Ot)&&(Ot=0),isNaN(Gt)&&(Gt=1),isNaN(yr)&&(yr=0),isNaN(Fr)&&(Fr=0),this._matrix=[Ue,gt,Ot,Gt,yr,Fr]};Object.defineProperty(Aa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(de){this._matrix[0]=de}}),Object.defineProperty(Aa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(de){this._matrix[1]=de}}),Object.defineProperty(Aa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(de){this._matrix[2]=de}}),Object.defineProperty(Aa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(de){this._matrix[3]=de}}),Object.defineProperty(Aa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(de){this._matrix[4]=de}}),Object.defineProperty(Aa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(de){this._matrix[5]=de}}),Object.defineProperty(Aa.prototype,"a",{get:function(){return this._matrix[0]},set:function(de){this._matrix[0]=de}}),Object.defineProperty(Aa.prototype,"b",{get:function(){return this._matrix[1]},set:function(de){this._matrix[1]=de}}),Object.defineProperty(Aa.prototype,"c",{get:function(){return this._matrix[2]},set:function(de){this._matrix[2]=de}}),Object.defineProperty(Aa.prototype,"d",{get:function(){return this._matrix[3]},set:function(de){this._matrix[3]=de}}),Object.defineProperty(Aa.prototype,"e",{get:function(){return this._matrix[4]},set:function(de){this._matrix[4]=de}}),Object.defineProperty(Aa.prototype,"f",{get:function(){return this._matrix[5]},set:function(de){this._matrix[5]=de}}),Object.defineProperty(Aa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Aa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Aa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Aa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Aa.prototype.join=function(de){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(qt).join(de)},Aa.prototype.multiply=function(de){var Ue=de.sx*this.sx+de.shy*this.shx,gt=de.sx*this.shy+de.shy*this.sy,Ot=de.shx*this.sx+de.sy*this.shx,Gt=de.shx*this.shy+de.sy*this.sy,yr=de.tx*this.sx+de.ty*this.shx+this.tx,Fr=de.tx*this.shy+de.ty*this.sy+this.ty;return new Aa(Ue,gt,Ot,Gt,yr,Fr)},Aa.prototype.decompose=function(){var de=this.sx,Ue=this.shy,gt=this.shx,Ot=this.sy,Gt=this.tx,yr=this.ty,Fr=Math.sqrt(de*de+Ue*Ue),In=(de/=Fr)*gt+(Ue/=Fr)*Ot;gt-=de*In,Ot-=Ue*In;var Hn=Math.sqrt(gt*gt+Ot*Ot);return In/=Hn,de*(Ot/=Hn)<Ue*(gt/=Hn)&&(de=-de,Ue=-Ue,In=-In,Fr=-Fr),{scale:new Aa(Fr,0,0,Hn,0,0),translate:new Aa(1,0,0,1,Gt,yr),rotate:new Aa(de,Ue,-Ue,de,0,0),skew:new Aa(1,0,In,1,0,0)}},Aa.prototype.toString=function(de){return this.join(" ")},Aa.prototype.inversed=function(){var de=this.sx,Ue=this.shy,gt=this.shx,Ot=this.sy,Gt=this.tx,yr=this.ty,Fr=1/(de*Ot-Ue*gt),In=Ot*Fr,Hn=-Ue*Fr,fa=-gt*Fr,aa=de*Fr;return new Aa(In,Hn,fa,aa,-In*Gt-fa*yr,-Hn*Gt-aa*yr)},Aa.prototype.applyToPoint=function(de){var Ue=de.x*this.sx+de.y*this.shx+this.tx,gt=de.x*this.shy+de.y*this.sy+this.ty;return new ui(Ue,gt)},Aa.prototype.applyToRectangle=function(de){var Ue=this.applyToPoint(de),gt=this.applyToPoint(new ui(de.x+de.w,de.y+de.h));return new Ti(Ue.x,Ue.y,gt.x-Ue.x,gt.y-Ue.y)},Aa.prototype.clone=function(){var de=this.sx,Ue=this.shy,gt=this.shx,Ot=this.sy,Gt=this.tx,yr=this.ty;return new Aa(de,Ue,gt,Ot,Gt,yr)},Oe.Matrix=Aa;var ys=Oe.matrixMult=function(de,Ue){return Ue.multiply(de)},yo=new Aa(1,0,0,1,0,0);Oe.unitMatrix=Oe.identityMatrix=yo;var Bl=function(de,Ue){if(!Ei[de]){var gt=(Ue instanceof ce?"Sh":"P")+(Object.keys(Kn).length+1).toString(10);Ue.id=gt,Ei[de]=gt,Kn[gt]=Ue,Xa.publish("addPattern",Ue)}};Oe.ShadingPattern=ce,Oe.TilingPattern=q,Oe.addShadingPattern=function(de,Ue){return _t("addShadingPattern()"),Bl(de,Ue),this},Oe.beginTilingPattern=function(de){_t("beginTilingPattern()"),bs(de.boundingBox[0],de.boundingBox[1],de.boundingBox[2]-de.boundingBox[0],de.boundingBox[3]-de.boundingBox[1],de.matrix)},Oe.endTilingPattern=function(de,Ue){_t("endTilingPattern()"),Ue.stream=Jr[xt].join(`
`),Bl(de,Ue),Xa.publish("endTilingPattern",Ue),Cc.pop().restore()};var Ps,Pi=Oe.__private__.newObject=function(){var de=Es();return oo(de,!0),de},Es=Oe.__private__.newObjectDeferred=function(){return zt++,nr[zt]=function(){return vr},zt},oo=function(de,Ue){return Ue=typeof Ue=="boolean"&&Ue,nr[de]=vr,Ue&&ut(de+" 0 obj"),de},tu=Oe.__private__.newAdditionalObject=function(){var de={objId:Es(),content:""};return Pr.push(de),de},Xs=Es(),tl=Es(),Nc=Oe.__private__.decodeColorString=function(de){var Ue=de.split(" ");if(Ue.length!==2||Ue[1]!=="g"&&Ue[1]!=="G")Ue.length!==5||Ue[4]!=="k"&&Ue[4]!=="K"||(Ue=[(1-Ue[0])*(1-Ue[3]),(1-Ue[1])*(1-Ue[3]),(1-Ue[2])*(1-Ue[3]),"r"]);else{var gt=parseFloat(Ue[0]);Ue=[gt,gt,gt,"r"]}for(var Ot="#",Gt=0;Gt<3;Gt++)Ot+=("0"+Math.floor(255*parseFloat(Ue[Gt])).toString(16)).slice(-2);return Ot},Zl=Oe.__private__.encodeColorString=function(de){var Ue;typeof de=="string"&&(de={ch1:de});var gt=de.ch1,Ot=de.ch2,Gt=de.ch3,yr=de.ch4,Fr=de.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof gt=="string"&&gt.charAt(0)!=="#"){var In=new S(gt);if(In.ok)gt=In.toHex();else if(!/^\d*\.?\d*$/.test(gt))throw new Error('Invalid color "'+gt+'" passed to jsPDF.encodeColorString.')}if(typeof gt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(gt)&&(gt="#"+gt[1]+gt[1]+gt[2]+gt[2]+gt[3]+gt[3]),typeof gt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(gt)){var Hn=parseInt(gt.substr(1),16);gt=Hn>>16&255,Ot=Hn>>8&255,Gt=255&Hn}if(Ot===void 0||yr===void 0&&gt===Ot&&Ot===Gt)Ue=typeof gt=="string"?gt+" "+Fr[0]:de.precision===2?at(gt/255)+" "+Fr[0]:dt(gt/255)+" "+Fr[0];else if(yr===void 0||(0,d.default)(yr)==="object"){if(yr&&!isNaN(yr.a)&&yr.a===0)return["1.","1.","1.",Fr[1]].join(" ");Ue=typeof gt=="string"?[gt,Ot,Gt,Fr[1]].join(" "):de.precision===2?[at(gt/255),at(Ot/255),at(Gt/255),Fr[1]].join(" "):[dt(gt/255),dt(Ot/255),dt(Gt/255),Fr[1]].join(" ")}else Ue=typeof gt=="string"?[gt,Ot,Gt,yr,Fr[2]].join(" "):de.precision===2?[at(gt),at(Ot),at(Gt),at(yr),Fr[2]].join(" "):[dt(gt),dt(Ot),dt(Gt),dt(yr),Fr[2]].join(" ");return Ue},Ys=Oe.__private__.getFilters=function(){return Se},rl=Oe.__private__.putStream=function(de){var Ue=(de=de||{}).data||"",gt=de.filters||Ys(),Ot=de.alreadyAppliedFilters||[],Gt=de.addLength1||!1,yr=Ue.length,Fr=de.objectId,In=function(cs){return cs};if(Ve!==null&&Fr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ve!==null&&(In=Is.encryptor(Fr,0));var Hn={};gt===!0&&(gt=["FlateEncode"]);var fa=de.additionalKeyValues||[],aa=(Hn=pe.API.processDataByFilters!==void 0?pe.API.processDataByFilters(Ue,gt):{data:Ue,reverseChain:[]}).reverseChain+(Array.isArray(Ot)?Ot.join(" "):Ot.toString());if(Hn.data.length!==0&&(fa.push({key:"Length",value:Hn.data.length}),Gt===!0&&fa.push({key:"Length1",value:yr})),aa.length!=0)if(aa.split("/").length-1==1)fa.push({key:"Filter",value:aa});else{fa.push({key:"Filter",value:"["+aa+"]"});for(var Oa=0;Oa<fa.length;Oa+=1)if(fa[Oa].key==="DecodeParms"){for(var Fi=[],Mi=0;Mi<Hn.reverseChain.split("/").length-1;Mi+=1)Fi.push("null");Fi.push(fa[Oa].value),fa[Oa].value="["+Fi.join(" ")+"]"}}ut("<<");for(var hi=0;hi<fa.length;hi++)ut("/"+fa[hi].key+" "+fa[hi].value);ut(">>"),Hn.data.length!==0&&(ut("stream"),ut(In(Hn.data)),ut("endstream"))},El=Oe.__private__.putPage=function(de){var Ue=de.number,gt=de.data,Ot=de.objId,Gt=de.contentsObjId;oo(Ot,!0),ut("<</Type /Page"),ut("/Parent "+de.rootDictionaryObjId+" 0 R"),ut("/Resources "+de.resourceDictionaryObjId+" 0 R"),ut("/MediaBox ["+parseFloat(qt(de.mediaBox.bottomLeftX))+" "+parseFloat(qt(de.mediaBox.bottomLeftY))+" "+qt(de.mediaBox.topRightX)+" "+qt(de.mediaBox.topRightY)+"]"),de.cropBox!==null&&ut("/CropBox ["+qt(de.cropBox.bottomLeftX)+" "+qt(de.cropBox.bottomLeftY)+" "+qt(de.cropBox.topRightX)+" "+qt(de.cropBox.topRightY)+"]"),de.bleedBox!==null&&ut("/BleedBox ["+qt(de.bleedBox.bottomLeftX)+" "+qt(de.bleedBox.bottomLeftY)+" "+qt(de.bleedBox.topRightX)+" "+qt(de.bleedBox.topRightY)+"]"),de.trimBox!==null&&ut("/TrimBox ["+qt(de.trimBox.bottomLeftX)+" "+qt(de.trimBox.bottomLeftY)+" "+qt(de.trimBox.topRightX)+" "+qt(de.trimBox.topRightY)+"]"),de.artBox!==null&&ut("/ArtBox ["+qt(de.artBox.bottomLeftX)+" "+qt(de.artBox.bottomLeftY)+" "+qt(de.artBox.topRightX)+" "+qt(de.artBox.topRightY)+"]"),typeof de.userUnit=="number"&&de.userUnit!==1&&ut("/UserUnit "+de.userUnit),Xa.publish("putPage",{objId:Ot,pageContext:En[Ue],pageNumber:Ue,page:gt}),ut("/Contents "+Gt+" 0 R"),ut(">>"),ut("endobj");var yr=gt.join(`
`);return Et===Kt&&(yr+=`
Q`),oo(Gt,!0),rl({data:yr,filters:Ys(),objectId:Gt}),ut("endobj"),Ot},$o=Oe.__private__.putPages=function(){var de,Ue,gt=[];for(de=1;de<=ja;de++)En[de].objId=Es(),En[de].contentsObjId=Es();for(de=1;de<=ja;de++)gt.push(El({number:de,data:Jr[de],objId:En[de].objId,contentsObjId:En[de].contentsObjId,mediaBox:En[de].mediaBox,cropBox:En[de].cropBox,bleedBox:En[de].bleedBox,trimBox:En[de].trimBox,artBox:En[de].artBox,userUnit:En[de].userUnit,rootDictionaryObjId:Xs,resourceDictionaryObjId:tl}));oo(Xs,!0),ut("<</Type /Pages");var Ot="/Kids [";for(Ue=0;Ue<ja;Ue++)Ot+=gt[Ue]+" 0 R ";ut(Ot+"]"),ut("/Count "+ja),ut(">>"),ut("endobj"),Xa.publish("postPutPages")},Po=function(de){Xa.publish("putFont",{font:de,out:ut,newObject:Pi,putStream:rl}),de.isAlreadyPutted!==!0&&(de.objectNumber=Pi(),ut("<<"),ut("/Type /Font"),ut("/BaseFont /"+he(de.postScriptName)),ut("/Subtype /Type1"),typeof de.encoding=="string"&&ut("/Encoding /"+de.encoding),ut("/FirstChar 32"),ut("/LastChar 255"),ut(">>"),ut("endobj"))},Jl=function(de){de.objectNumber=Pi();var Ue=[];Ue.push({key:"Type",value:"/XObject"}),Ue.push({key:"Subtype",value:"/Form"}),Ue.push({key:"BBox",value:"["+[qt(de.x),qt(de.y),qt(de.x+de.width),qt(de.y+de.height)].join(" ")+"]"}),Ue.push({key:"Matrix",value:"["+de.matrix.toString()+"]"});var gt=de.pages[1].join(`
`);rl({data:gt,additionalKeyValues:Ue,objectId:de.objectNumber}),ut("endobj")},Il=function(de,Ue){Ue||(Ue=21);var gt=Pi(),Ot=(function(Fr,In){var Hn,fa=[],aa=1/(In-1);for(Hn=0;Hn<1;Hn+=aa)fa.push(Hn);if(fa.push(1),Fr[0].offset!=0){var Oa={offset:0,color:Fr[0].color};Fr.unshift(Oa)}if(Fr[Fr.length-1].offset!=1){var Fi={offset:1,color:Fr[Fr.length-1].color};Fr.push(Fi)}for(var Mi="",hi=0,cs=0;cs<fa.length;cs++){for(Hn=fa[cs];Hn>Fr[hi+1].offset;)hi++;var T=Fr[hi].offset,Me=(Hn-T)/(Fr[hi+1].offset-T),J=Fr[hi].color,Xe=Fr[hi+1].color;Mi+=Wt(Math.round((1-Me)*J[0]+Me*Xe[0]).toString(16))+Wt(Math.round((1-Me)*J[1]+Me*Xe[1]).toString(16))+Wt(Math.round((1-Me)*J[2]+Me*Xe[2]).toString(16))}return Mi.trim()})(de.colors,Ue),Gt=[];Gt.push({key:"FunctionType",value:"0"}),Gt.push({key:"Domain",value:"[0.0 1.0]"}),Gt.push({key:"Size",value:"["+Ue+"]"}),Gt.push({key:"BitsPerSample",value:"8"}),Gt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rl({data:Ot,additionalKeyValues:Gt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:gt}),ut("endobj"),de.objectNumber=Pi(),ut("<< /ShadingType "+de.type),ut("/ColorSpace /DeviceRGB");var yr="/Coords ["+qt(parseFloat(de.coords[0]))+" "+qt(parseFloat(de.coords[1]))+" ";de.type===2?yr+=qt(parseFloat(de.coords[2]))+" "+qt(parseFloat(de.coords[3])):yr+=qt(parseFloat(de.coords[2]))+" "+qt(parseFloat(de.coords[3]))+" "+qt(parseFloat(de.coords[4]))+" "+qt(parseFloat(de.coords[5])),ut(yr+="]"),de.matrix&&ut("/Matrix ["+de.matrix.toString()+"]"),ut("/Function "+gt+" 0 R"),ut("/Extend [true true]"),ut(">>"),ut("endobj")},Sc=function(de,Ue){var gt=Es(),Ot=Pi();Ue.push({resourcesOid:gt,objectOid:Ot}),de.objectNumber=Ot;var Gt=[];Gt.push({key:"Type",value:"/Pattern"}),Gt.push({key:"PatternType",value:"1"}),Gt.push({key:"PaintType",value:"1"}),Gt.push({key:"TilingType",value:"1"}),Gt.push({key:"BBox",value:"["+de.boundingBox.map(qt).join(" ")+"]"}),Gt.push({key:"XStep",value:qt(de.xStep)}),Gt.push({key:"YStep",value:qt(de.yStep)}),Gt.push({key:"Resources",value:gt+" 0 R"}),de.matrix&&Gt.push({key:"Matrix",value:"["+de.matrix.toString()+"]"}),rl({data:de.stream,additionalKeyValues:Gt,objectId:de.objectNumber}),ut("endobj")},ud=function(de){for(var Ue in de.objectNumber=Pi(),ut("<<"),de)switch(Ue){case"opacity":ut("/ca "+at(de[Ue]));break;case"stroke-opacity":ut("/CA "+at(de[Ue]))}ut(">>"),ut("endobj")},Uc=function(de){oo(de.resourcesOid,!0),ut("<<"),ut("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Ue in ut("/Font <<"),Va)Va.hasOwnProperty(Ue)&&(et===!1||et===!0&&st.hasOwnProperty(Ue))&&ut("/"+Ue+" "+Va[Ue].objectNumber+" 0 R");ut(">>")})(),(function(){if(Object.keys(Kn).length>0){for(var Ue in ut("/Shading <<"),Kn)Kn.hasOwnProperty(Ue)&&Kn[Ue]instanceof ce&&Kn[Ue].objectNumber>=0&&ut("/"+Ue+" "+Kn[Ue].objectNumber+" 0 R");Xa.publish("putShadingPatternDict"),ut(">>")}})(),(function(Ue){if(Object.keys(Kn).length>0){for(var gt in ut("/Pattern <<"),Kn)Kn.hasOwnProperty(gt)&&Kn[gt]instanceof Oe.TilingPattern&&Kn[gt].objectNumber>=0&&Kn[gt].objectNumber<Ue&&ut("/"+gt+" "+Kn[gt].objectNumber+" 0 R");Xa.publish("putTilingPatternDict"),ut(">>")}})(de.objectOid),(function(){if(Object.keys(ga).length>0){var Ue;for(Ue in ut("/ExtGState <<"),ga)ga.hasOwnProperty(Ue)&&ga[Ue].objectNumber>=0&&ut("/"+Ue+" "+ga[Ue].objectNumber+" 0 R");Xa.publish("putGStateDict"),ut(">>")}})(),(function(){for(var Ue in ut("/XObject <<"),Qs)Qs.hasOwnProperty(Ue)&&Qs[Ue].objectNumber>=0&&ut("/"+Ue+" "+Qs[Ue].objectNumber+" 0 R");Xa.publish("putXobjectDict"),ut(">>")})(),ut(">>"),ut("endobj")},dd=function(de){za[de.fontName]=za[de.fontName]||{},za[de.fontName][de.fontStyle]=de.id},ru=function(de,Ue,gt,Ot,Gt){var yr={id:"F"+(Object.keys(Va).length+1).toString(10),postScriptName:de,fontName:Ue,fontStyle:gt,encoding:Ot,isStandardFont:Gt||!1,metadata:{}};return Xa.publish("addFont",{font:yr,instance:this}),Va[yr.id]=yr,dd(yr),yr.id},Vo=Oe.__private__.pdfEscape=Oe.pdfEscape=function(de,Ue){return(function(gt,Ot){var Gt,yr,Fr,In,Hn,fa,aa,Oa,Fi;if(Fr=(Ot=Ot||{}).sourceEncoding||"Unicode",Hn=Ot.outputEncoding,(Ot.autoencode||Hn)&&Va[_n].metadata&&Va[_n].metadata[Fr]&&Va[_n].metadata[Fr].encoding&&(In=Va[_n].metadata[Fr].encoding,!Hn&&Va[_n].encoding&&(Hn=Va[_n].encoding),!Hn&&In.codePages&&(Hn=In.codePages[0]),typeof Hn=="string"&&(Hn=In[Hn]),Hn)){for(aa=!1,fa=[],Gt=0,yr=gt.length;Gt<yr;Gt++)(Oa=Hn[gt.charCodeAt(Gt)])?fa.push(String.fromCharCode(Oa)):fa.push(gt[Gt]),fa[Gt].charCodeAt(0)>>8&&(aa=!0);gt=fa.join("")}for(Gt=gt.length;aa===void 0&&Gt!==0;)gt.charCodeAt(Gt-1)>>8&&(aa=!0),Gt--;if(!aa)return gt;for(fa=Ot.noBOM?[]:[254,255],Gt=0,yr=gt.length;Gt<yr;Gt++){if((Fi=(Oa=gt.charCodeAt(Gt))>>8)>>8)throw new Error("Character at position "+Gt+" of string '"+gt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fa.push(Fi),fa.push(Oa-(Fi<<8))}return String.fromCharCode.apply(void 0,fa)})(de,Ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=Oe.__private__.beginPage=function(de){Jr[++ja]=[],En[ja]={objId:0,contentsObjId:0,userUnit:Number(me),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(de[0]),topRightY:Number(de[1])}},Tl(ja),ca(Jr[xt])},bu=function(de,Ue){var gt,Ot,Gt;switch(D=Ue||D,typeof de=="string"&&(gt=nt(de.toLowerCase()),Array.isArray(gt)&&(Ot=gt[0],Gt=gt[1])),Array.isArray(de)&&(Ot=de[0]*ua,Gt=de[1]*ua),isNaN(Ot)&&(Ot=X[0],Gt=X[1]),(Ot>14400||Gt>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ot=Math.min(14400,Ot),Gt=Math.min(14400,Gt)),X=[Ot,Gt],D.substr(0,1)){case"l":Gt>Ot&&(X=[Gt,Ot]);break;case"p":Ot>Gt&&(X=[Gt,Ot])}nu(X),Ca(Wd),ut(pl),Ic!==0&&ut(Ic+" J"),nc!==0&&ut(nc+" j"),Xa.publish("addPage",{pageNumber:ja})},Lu=function(de){de>0&&de<=ja&&(Jr.splice(de,1),En.splice(de,1),ja--,xt>ja&&(xt=ja),this.setPage(xt))},Tl=function(de){de>0&&de<=ja&&(xt=de)},Uu=Oe.__private__.getNumberOfPages=Oe.getNumberOfPages=function(){return Jr.length-1},Hu=function(de,Ue,gt){var Ot,Gt=void 0;return gt=gt||{},de=de!==void 0?de:Va[_n].fontName,Ue=Ue!==void 0?Ue:Va[_n].fontStyle,Ot=de.toLowerCase(),za[Ot]!==void 0&&za[Ot][Ue]!==void 0?Gt=za[Ot][Ue]:za[de]!==void 0&&za[de][Ue]!==void 0?Gt=za[de][Ue]:gt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+de+"', '"+Ue+"'. Refer to getFontList() for available fonts."),Gt||gt.noFallback||(Gt=za.times[Ue])==null&&(Gt=za.times.normal),Gt},ec=Oe.__private__.putInfo=function(){var de=Pi(),Ue=function(Ot){return Ot};for(var gt in Ve!==null&&(Ue=Is.encryptor(de,0)),ut("<<"),ut("/Producer ("+Vo(Ue("jsPDF "+pe.version))+")"),la)la.hasOwnProperty(gt)&&la[gt]&&ut("/"+gt.substr(0,1).toUpperCase()+gt.substr(1)+" ("+Vo(Ue(la[gt]))+")");ut("/CreationDate ("+Vo(Ue(cr))+")"),ut(">>"),ut("endobj")},Qu=Oe.__private__.putCatalog=function(de){var Ue=(de=de||{}).rootDictionaryObjId||Xs;switch(Pi(),ut("<<"),ut("/Type /Catalog"),ut("/Pages "+Ue+" 0 R"),oa||(oa="fullwidth"),oa){case"fullwidth":ut("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ut("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ut("/OpenAction [3 0 R /Fit]");break;case"original":ut("/OpenAction [3 0 R /XYZ null null 1]");break;default:var gt=""+oa;gt.substr(gt.length-1)==="%"&&(oa=parseInt(oa)/100),typeof oa=="number"&&ut("/OpenAction [3 0 R /XYZ null null "+at(oa)+"]")}switch(La||(La="continuous"),La){case"continuous":ut("/PageLayout /OneColumn");break;case"single":ut("/PageLayout /SinglePage");break;case"two":case"twoleft":ut("/PageLayout /TwoColumnLeft");break;case"tworight":ut("/PageLayout /TwoColumnRight")}Rn&&ut("/PageMode /"+Rn),Xa.publish("putCatalog"),ut(">>"),ut("endobj")},wu=Oe.__private__.putTrailer=function(){ut("trailer"),ut("<<"),ut("/Size "+(zt+1)),ut("/Root "+zt+" 0 R"),ut("/Info "+(zt-1)+" 0 R"),Ve!==null&&ut("/Encrypt "+Is.oid+" 0 R"),ut("/ID [ <"+fr+"> <"+fr+"> ]"),ut(">>")},ya=Oe.__private__.putHeader=function(){ut("%PDF-"+vt),ut("%")},hd=Oe.__private__.putXRef=function(){var de="0000000000";ut("xref"),ut("0 "+(zt+1)),ut("0000000000 65535 f ");for(var Ue=1;Ue<=zt;Ue++)typeof nr[Ue]=="function"?ut((de+nr[Ue]()).slice(-10)+" 00000 n "):nr[Ue]!==void 0?ut((de+nr[Ue]).slice(-10)+" 00000 n "):ut("0000000000 00000 n ")},tc=Oe.__private__.buildDocument=function(){var de;zt=0,vr=0,mr=[],nr=[],Pr=[],Xs=Es(),tl=Es(),ca(mr),Xa.publish("buildDocument"),ya(),$o(),(function(){Xa.publish("putAdditionalObjects");for(var gt=0;gt<Pr.length;gt++){var Ot=Pr[gt];oo(Ot.objId,!0),ut(Ot.content),ut("endobj")}Xa.publish("postPutAdditionalObjects")})(),de=[],(function(){for(var gt in Va)Va.hasOwnProperty(gt)&&(et===!1||et===!0&&st.hasOwnProperty(gt))&&Po(Va[gt])})(),(function(){var gt;for(gt in ga)ga.hasOwnProperty(gt)&&ud(ga[gt])})(),(function(){for(var gt in Qs)Qs.hasOwnProperty(gt)&&Jl(Qs[gt])})(),(function(gt){var Ot;for(Ot in Kn)Kn.hasOwnProperty(Ot)&&(Kn[Ot]instanceof ce?Il(Kn[Ot]):Kn[Ot]instanceof q&&Sc(Kn[Ot],gt))})(de),Xa.publish("putResources"),de.forEach(Uc),Uc({resourcesOid:tl,objectOid:Number.MAX_SAFE_INTEGER}),Xa.publish("postPutResources"),Ve!==null&&(Is.oid=Pi(),ut("<<"),ut("/Filter /Standard"),ut("/V "+Is.v),ut("/R "+Is.r),ut("/U <"+Is.toHexString(Is.U)+">"),ut("/O <"+Is.toHexString(Is.O)+">"),ut("/P "+Is.P),ut(">>"),ut("endobj")),ec(),Qu();var Ue=vr;return hd(),wu(),ut("startxref"),ut(""+Ue),ut("%%EOF"),ca(Jr[xt]),mr.join(`
`)},xi=Oe.__private__.getBlob=function(de){return new Blob([ma(de)],{type:"application/pdf"})},Ad=Oe.output=Oe.__private__.output=(Ps=function(de,Ue){switch(typeof(Ue=Ue||{})=="string"?Ue={filename:Ue}:Ue.filename=Ue.filename||"generated.pdf",de){case void 0:return tc();case"save":Oe.save(Ue.filename);break;case"arraybuffer":return ma(tc());case"blob":return xi(tc());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(xi(tc()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var gt="",Ot=tc();try{gt=_(Ot)}catch{gt=_(unescape(encodeURIComponent(Ot)))}return"data:application/pdf;filename="+Ue.filename+";base64,"+gt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Gt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ue.pdfObjectUrl&&(Gt=Ue.pdfObjectUrl,yr="");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Gt+'"'+yr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ue)+");<\/script></body></html>",In=g.open();return In!==null&&In.document.write(Fr),In}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ue.filename+'" width="500px" height="400px" /></body></html>',fa=g.open();if(fa!==null){fa.document.write(Hn);var aa=this;fa.document.documentElement.querySelector("#pdfViewer").onload=function(){fa.document.title=Ue.filename,fa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(aa.output("bloburl"))}}return fa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Oa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ue)+'"></iframe></body></html>',Fi=g.open();if(Fi!==null&&(Fi.document.write(Oa),Fi.document.title=Ue.filename),Fi||typeof safari>"u")return Fi;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Ue);default:return null}},Ps.foo=function(){try{return Ps.apply(this,arguments)}catch(gt){var de=gt.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Ue="Error in function "+de.split(`
`)[0].split("<")[0]+": "+gt.message;if(!g.console)throw new Error(Ue);g.console.error(Ue,gt),g.alert&&alert(Ue)}},Ps.foo.bar=Ps,Ps.foo),fl=function(de){return Array.isArray(eu)===!0&&eu.indexOf(de)>-1};switch(K){case"pt":ua=1;break;case"mm":ua=2.834645669291339;break;case"cm":ua=28.346456692913385;break;case"in":ua=72;break;case"px":ua=fl("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":ua=12;break;case"ex":ua=6;break;default:if(typeof K!="number")throw new Error("Invalid unit: "+K);ua=K}var Is=null;Hr(),Jt();var Bc=Oe.__private__.getPageInfo=Oe.getPageInfo=function(de){if(isNaN(de)||de%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:En[de].objId,pageNumber:de,pageContext:En[de]}},au=Oe.__private__.getPageInfoByObjId=function(de){if(isNaN(de)||de%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ue in En)if(En[Ue].objId===de)break;return Bc(Ue)},_l=Oe.__private__.getCurrentPageInfo=Oe.getCurrentPageInfo=function(){return{objId:En[xt].objId,pageNumber:xt,pageContext:En[xt]}};Oe.addPage=function(){return bu.apply(this,arguments),this},Oe.setPage=function(){return Tl.apply(this,arguments),ca.call(this,Jr[xt]),this},Oe.insertPage=function(de){return this.addPage(),this.movePage(xt,de),this},Oe.movePage=function(de,Ue){var gt,Ot;if(de>Ue){gt=Jr[de],Ot=En[de];for(var Gt=de;Gt>Ue;Gt--)Jr[Gt]=Jr[Gt-1],En[Gt]=En[Gt-1];Jr[Ue]=gt,En[Ue]=Ot,this.setPage(Ue)}else if(de<Ue){gt=Jr[de],Ot=En[de];for(var yr=de;yr<Ue;yr++)Jr[yr]=Jr[yr+1],En[yr]=En[yr+1];Jr[Ue]=gt,En[Ue]=Ot,this.setPage(Ue)}return this},Oe.deletePage=function(){return Lu.apply(this,arguments),this},Oe.__private__.text=Oe.text=function(de,Ue,gt,Ot,Gt){var yr,Fr,In,Hn,fa,aa,Oa,Fi,Mi,hi=(Ot=Ot||{}).scope||this;if(typeof de=="number"&&typeof Ue=="number"&&(typeof gt=="string"||Array.isArray(gt))){var cs=gt;gt=Ue,Ue=de,de=cs}if(arguments[3]instanceof Aa==0?(In=arguments[4],Hn=arguments[5],(0,d.default)(Oa=arguments[3])==="object"&&Oa!==null||(typeof In=="string"&&(Hn=In,In=null),typeof Oa=="string"&&(Hn=Oa,Oa=null),typeof Oa=="number"&&(In=Oa,Oa=null),Ot={flags:Oa,angle:In,align:Hn})):(_t("The transform parameter of text() with a Matrix value"),Mi=Gt),isNaN(Ue)||isNaN(gt)||de==null)throw new Error("Invalid arguments passed to jsPDF.text");if(de.length===0)return hi;var T,Me="",J=typeof Ot.lineHeightFactor=="number"?Ot.lineHeightFactor:Eu,Xe=hi.internal.scaleFactor;function ht(di){return di=di.split("	").join(Array(Ot.TabLen||9).join(" ")),Vo(di,Oa)}function ot(di){for(var Li,us=di.concat(),co=[],lu=us.length;lu--;)typeof(Li=us.shift())=="string"?co.push(Li):Array.isArray(di)&&(Li.length===1||Li[1]===void 0&&Li[2]===void 0)?co.push(Li[0]):co.push([Li[0],Li[1],Li[2]]);return co}function er(di,Li){var us;if(typeof di=="string")us=Li(di)[0];else if(Array.isArray(di)){for(var co,lu,ts=di.concat(),cu=[],xd=ts.length;xd--;)typeof(co=ts.shift())=="string"?cu.push(Li(co)[0]):Array.isArray(co)&&typeof co[0]=="string"&&(lu=Li(co[0],co[1],co[2]),cu.push([lu[0],lu[1],lu[2]]));us=cu}return us}var $t=!1,Nn=!0;if(typeof de=="string")$t=!0;else if(Array.isArray(de)){var Pt=de.concat();Fr=[];for(var ir,va=Pt.length;va--;)(typeof(ir=Pt.shift())!="string"||Array.isArray(ir)&&typeof ir[0]!="string")&&(Nn=!1);$t=Nn}if($t===!1)throw new Error('Type of text must be string or Array. "'+de+'" is not recognized.');typeof de=="string"&&(de=de.match(/[\r?\n]/)?de.split(/\r\n|\r|\n/g):[de]);var An=Qr/hi.internal.scaleFactor,Mr=An*(J-1);switch(Ot.baseline){case"bottom":gt-=Mr;break;case"top":gt+=An-Mr;break;case"hanging":gt+=An-2*Mr;break;case"middle":gt+=An/2-Mr}if((aa=Ot.maxWidth||0)>0&&(typeof de=="string"?de=hi.splitTextToSize(de,aa):Object.prototype.toString.call(de)==="[object Array]"&&(de=de.reduce(function(di,Li){return di.concat(hi.splitTextToSize(Li,aa))},[]))),yr={text:de,x:Ue,y:gt,options:Ot,mutex:{pdfEscape:Vo,activeFontKey:_n,fonts:Va,activeFontSize:Qr}},Xa.publish("preProcessText",yr),de=yr.text,In=(Ot=yr.options).angle,Mi instanceof Aa==0&&In&&typeof In=="number"){In*=Math.PI/180,Ot.rotationDirection===0&&(In=-In),Et===Kt&&(In=-In);var br=Math.cos(In),Ri=Math.sin(In);Mi=new Aa(br,Ri,-Ri,br,0,0)}else In&&In instanceof Aa&&(Mi=In);Et!==Kt||Mi||(Mi=yo),(fa=Ot.charSpace||ml)!==void 0&&(Me+=qt(It(fa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fi=Ot.horizontalScale)!==void 0&&(Me+=qt(100*Fi)+` Tz
`),Ot.lang;var ba=-1,ia=Ot.renderingMode!==void 0?Ot.renderingMode:Ot.stroke,Na=hi.internal.getCurrentPageInfo().pageContext;switch(ia){case 0:case!1:case"fill":ba=0;break;case 1:case!0:case"stroke":ba=1;break;case 2:case"fillThenStroke":ba=2;break;case 3:case"invisible":ba=3;break;case 4:case"fillAndAddForClipping":ba=4;break;case 5:case"strokeAndAddPathForClipping":ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ba=6;break;case 7:case"addToPathForClipping":ba=7}var Ya=Na.usedRenderingMode!==void 0?Na.usedRenderingMode:-1;ba!==-1?Me+=ba+` Tr
`:Ya!==-1&&(Me+=`0 Tr
`),ba!==-1&&(Na.usedRenderingMode=ba),Hn=Ot.align||"left";var an,Ea=Qr*J,es=hi.internal.pageSize.getWidth(),ea=Va[_n];fa=Ot.charSpace||ml,aa=Ot.maxWidth||0,Oa=Object.assign({autoencode:!0,noBOM:!0},Ot.flags);var oi=[],ka=function(di){return hi.getStringUnitWidth(di,{font:ea,charSpace:fa,fontSize:Qr,doKerning:!1})*Qr/Xe};if(Object.prototype.toString.call(de)==="[object Array]"){var Qn;Fr=ot(de),Hn!=="left"&&(an=Fr.map(ka));var da,wo=0;if(Hn==="right"){Ue-=an[0],de=[],va=Fr.length;for(var ic=0;ic<va;ic++)ic===0?(da=bo(Ue),Qn=kl(gt)):(da=It(wo-an[ic]),Qn=-Ea),de.push([Fr[ic],da,Qn]),wo=an[ic]}else if(Hn==="center"){Ue-=an[0]/2,de=[],va=Fr.length;for(var Do=0;Do<va;Do++)Do===0?(da=bo(Ue),Qn=kl(gt)):(da=It((wo-an[Do])/2),Qn=-Ea),de.push([Fr[Do],da,Qn]),wo=an[Do]}else if(Hn==="left"){de=[],va=Fr.length;for(var lo=0;lo<va;lo++)de.push(Fr[lo])}else if(Hn==="justify"&&ea.encoding==="Identity-H"){de=[],va=Fr.length,aa=aa!==0?aa:es;for(var sc=0,Ws=0;Ws<va;Ws++)if(Qn=Ws===0?kl(gt):-Ea,da=Ws===0?bo(Ue):sc,Ws<va-1){var Lh=It((aa-an[Ws])/(Fr[Ws].split(" ").length-1)),Go=Fr[Ws].split(" ");de.push([Go[0]+" ",da,Qn]),sc=0;for(var nl=1;nl<Go.length;nl++){var Kd=(ka(Go[nl-1]+" "+Go[nl])-ka(Go[nl]))*Xe+Lh;nl==Go.length-1?de.push([Go[nl],Kd,0]):de.push([Go[nl]+" ",Kd,0]),sc-=Kd}}else de.push([Fr[Ws],da,Qn]);de.push(["",sc,0])}else{if(Hn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(de=[],va=Fr.length,aa=aa!==0?aa:es,Ws=0;Ws<va;Ws++){Qn=Ws===0?kl(gt):-Ea,da=Ws===0?bo(Ue):0;var Ah=Fr[Ws].split(" ").length-1,_c=Ah>0?(aa-an[Ws])/Ah:0;Ws<va-1?oi.push(qt(It(_c))):oi.push(0),de.push([Fr[Ws],da,Qn])}}}(typeof Ot.R2L=="boolean"?Ot.R2L:Jn)===!0&&(de=er(de,function(di,Li,us){return[di.split("").reverse().join(""),Li,us]})),yr={text:de,x:Ue,y:gt,options:Ot,mutex:{pdfEscape:Vo,activeFontKey:_n,fonts:Va,activeFontSize:Qr}},Xa.publish("postProcessText",yr),de=yr.text,T=yr.mutex.isHex||!1;var $c=Va[_n].encoding;$c!=="WinAnsiEncoding"&&$c!=="StandardEncoding"||(de=er(de,function(di,Li,us){return[ht(di),Li,us]})),Fr=ot(de),de=[];for(var Vc,Vu,ou,vd=Array.isArray(Fr[0])?1:0,Oc="",gl=function(di,Li,us){var co="";return us instanceof Aa?(us=typeof Ot.angle=="number"?ys(us,new Aa(1,0,0,1,di,Li)):ys(new Aa(1,0,0,1,di,Li),us),Et===Kt&&(us=ys(new Aa(1,0,0,-1,0,0),us)),co=us.join(" ")+` Tm
`):co=qt(di)+" "+qt(Li)+` Td
`,co},Mo=0;Mo<Fr.length;Mo++){switch(Oc="",vd){case 1:ou=(T?"<":"(")+Fr[Mo][0]+(T?">":")"),Vc=parseFloat(Fr[Mo][1]),Vu=parseFloat(Fr[Mo][2]);break;case 0:ou=(T?"<":"(")+Fr[Mo]+(T?">":")"),Vc=bo(Ue),Vu=kl(gt)}oi!==void 0&&oi[Mo]!==void 0&&(Oc=oi[Mo]+` Tw
`),Mo===0?de.push(Oc+gl(Vc,Vu,Mi)+ou):vd===0?de.push(Oc+ou):vd===1&&de.push(Oc+gl(Vc,Vu,Mi)+ou)}de=vd===0?de.join(` Tj
T* `):de.join(` Tj
`),de+=` Tj
`;var oc=`BT
/`;return oc+=_n+" "+Qr+` Tf
`,oc+=qt(Qr*J)+` TL
`,oc+=Ko+`
`,oc+=Me,oc+=de,ut(oc+="ET"),st[_n]=!0,hi};var Wu=Oe.__private__.clip=Oe.clip=function(de){return ut(de==="evenodd"?"W*":"W"),this};Oe.clipEvenOdd=function(){return Wu("evenodd")},Oe.__private__.discardPath=Oe.discardPath=function(){return ut("n"),this};var zo=Oe.__private__.isValidStyle=function(de){var Ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(de)!==-1&&(Ue=!0),Ue};Oe.__private__.setDefaultPathOperation=Oe.setDefaultPathOperation=function(de){return zo(de)&&(De=de),this};var fd=Oe.__private__.getStyle=Oe.getStyle=function(de){var Ue=De;switch(de){case"D":case"S":Ue="S";break;case"F":Ue="f";break;case"FD":case"DF":Ue="B";break;case"f":case"f*":case"B":case"B*":Ue=de}return Ue},ju=Oe.close=function(){return ut("h"),this};Oe.stroke=function(){return ut("S"),this},Oe.fill=function(de){return pd("f",de),this},Oe.fillEvenOdd=function(de){return pd("f*",de),this},Oe.fillStroke=function(de){return pd("B",de),this},Oe.fillStrokeEvenOdd=function(de){return pd("B*",de),this};var pd=function(de,Ue){(0,d.default)(Ue)==="object"?Nu(Ue,de):ut(de)},iu=function(de){de===null||Et===Kt&&de===void 0||(de=fd(de),ut(de))};function Cu(de,Ue,gt,Ot,Gt){var yr=new q(Ue||this.boundingBox,gt||this.xStep,Ot||this.yStep,this.gState,Gt||this.matrix);yr.stream=this.stream;var Fr=de+"$$"+this.cloneIndex+++"$$";return Bl(Fr,yr),yr}var Nu=function(de,Ue){var gt=Ei[de.key],Ot=Kn[gt];if(Ot instanceof ce)ut("q"),ut(Su(Ue)),Ot.gState&&Oe.setGState(Ot.gState),ut(de.matrix.toString()+" cm"),ut("/"+gt+" sh"),ut("Q");else if(Ot instanceof q){var Gt=new Aa(1,0,0,-1,0,Wc());de.matrix&&(Gt=Gt.multiply(de.matrix||yo),gt=Cu.call(Ot,de.key,de.boundingBox,de.xStep,de.yStep,Gt).id),ut("q"),ut("/Pattern cs"),ut("/"+gt+" scn"),Ot.gState&&Oe.setGState(Ot.gState),ut(Ue),ut("Q")}},Su=function(de){switch(de){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bu=Oe.moveTo=function(de,Ue){return ut(qt(It(de))+" "+qt(Tt(Ue))+" m"),this},md=Oe.lineTo=function(de,Ue){return ut(qt(It(de))+" "+qt(Tt(Ue))+" l"),this},Ol=Oe.curveTo=function(de,Ue,gt,Ot,Gt,yr){return ut([qt(It(de)),qt(Tt(Ue)),qt(It(gt)),qt(Tt(Ot)),qt(It(Gt)),qt(Tt(yr)),"c"].join(" ")),this};Oe.__private__.line=Oe.line=function(de,Ue,gt,Ot,Gt){if(isNaN(de)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||!zo(Gt))throw new Error("Invalid arguments passed to jsPDF.line");return Et===kt?this.lines([[gt-de,Ot-Ue]],de,Ue,[1,1],Gt||"S"):this.lines([[gt-de,Ot-Ue]],de,Ue,[1,1]).stroke()},Oe.__private__.lines=Oe.lines=function(de,Ue,gt,Ot,Gt,yr){var Fr,In,Hn,fa,aa,Oa,Fi,Mi,hi,cs,T,Me;if(typeof de=="number"&&(Me=gt,gt=Ue,Ue=de,de=Me),Ot=Ot||[1,1],yr=yr||!1,isNaN(Ue)||isNaN(gt)||!Array.isArray(de)||!Array.isArray(Ot)||!zo(Gt)||typeof yr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bu(Ue,gt),Fr=Ot[0],In=Ot[1],fa=de.length,cs=Ue,T=gt,Hn=0;Hn<fa;Hn++)(aa=de[Hn]).length===2?(cs=aa[0]*Fr+cs,T=aa[1]*In+T,md(cs,T)):(Oa=aa[0]*Fr+cs,Fi=aa[1]*In+T,Mi=aa[2]*Fr+cs,hi=aa[3]*In+T,cs=aa[4]*Fr+cs,T=aa[5]*In+T,Ol(Oa,Fi,Mi,hi,cs,T));return yr&&ju(),iu(Gt),this},Oe.path=function(de){for(var Ue=0;Ue<de.length;Ue++){var gt=de[Ue],Ot=gt.c;switch(gt.op){case"m":Bu(Ot[0],Ot[1]);break;case"l":md(Ot[0],Ot[1]);break;case"c":Ol.apply(this,Ot);break;case"h":ju()}}return this},Oe.__private__.rect=Oe.rect=function(de,Ue,gt,Ot,Gt){if(isNaN(de)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||!zo(Gt))throw new Error("Invalid arguments passed to jsPDF.rect");return Et===kt&&(Ot=-Ot),ut([qt(It(de)),qt(Tt(Ue)),qt(It(gt)),qt(It(Ot)),"re"].join(" ")),iu(Gt),this},Oe.__private__.triangle=Oe.triangle=function(de,Ue,gt,Ot,Gt,yr,Fr){if(isNaN(de)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||isNaN(Gt)||isNaN(yr)||!zo(Fr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[gt-de,Ot-Ue],[Gt-gt,yr-Ot],[de-Gt,Ue-yr]],de,Ue,[1,1],Fr,!0),this},Oe.__private__.roundedRect=Oe.roundedRect=function(de,Ue,gt,Ot,Gt,yr,Fr){if(isNaN(de)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||isNaN(Gt)||isNaN(yr)||!zo(Fr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var In=4/3*(Math.SQRT2-1);return Gt=Math.min(Gt,.5*gt),yr=Math.min(yr,.5*Ot),this.lines([[gt-2*Gt,0],[Gt*In,0,Gt,yr-yr*In,Gt,yr],[0,Ot-2*yr],[0,yr*In,-Gt*In,yr,-Gt,yr],[2*Gt-gt,0],[-Gt*In,0,-Gt,-yr*In,-Gt,-yr],[0,2*yr-Ot],[0,-yr*In,Gt*In,-yr,Gt,-yr]],de+Gt,Ue,[1,1],Fr,!0),this},Oe.__private__.ellipse=Oe.ellipse=function(de,Ue,gt,Ot,Gt){if(isNaN(de)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||!zo(Gt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yr=4/3*(Math.SQRT2-1)*gt,Fr=4/3*(Math.SQRT2-1)*Ot;return Bu(de+gt,Ue),Ol(de+gt,Ue-Fr,de+yr,Ue-Ot,de,Ue-Ot),Ol(de-yr,Ue-Ot,de-gt,Ue-Fr,de-gt,Ue),Ol(de-gt,Ue+Fr,de-yr,Ue+Ot,de,Ue+Ot),Ol(de+yr,Ue+Ot,de+gt,Ue+Fr,de+gt,Ue),iu(Gt),this},Oe.__private__.circle=Oe.circle=function(de,Ue,gt,Ot){if(isNaN(de)||isNaN(Ue)||isNaN(gt)||!zo(Ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(de,Ue,gt,gt,Ot)},Oe.setFont=function(de,Ue,gt){return gt&&(Ue=lr(Ue,gt)),_n=Hu(de,Ue,{disableWarning:!1}),this};var Mh=Oe.__private__.getFont=Oe.getFont=function(){return Va[Hu.apply(Oe,arguments)]};Oe.__private__.getFontList=Oe.getFontList=function(){var de,Ue,gt={};for(de in za)if(za.hasOwnProperty(de))for(Ue in gt[de]=[],za[de])za[de].hasOwnProperty(Ue)&&gt[de].push(Ue);return gt},Oe.addFont=function(de,Ue,gt,Ot,Gt){var yr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yr.indexOf(arguments[3])!==-1?Gt=arguments[3]:arguments[3]&&yr.indexOf(arguments[3])==-1&&(gt=lr(gt,Ot)),ru.call(this,de,Ue,gt,Gt=Gt||"Identity-H")};var Eu,Wd=I.lineWidth||.200025,Rh=Oe.__private__.getLineWidth=Oe.getLineWidth=function(){return Wd},Ca=Oe.__private__.setLineWidth=Oe.setLineWidth=function(de){return Wd=de,ut(qt(It(de))+" w"),this};Oe.__private__.setLineDash=pe.API.setLineDash=pe.API.setLineDashPattern=function(de,Ue){if(de=de||[],Ue=Ue||0,isNaN(Ue)||!Array.isArray(de))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return de=de.map(function(gt){return qt(It(gt))}).join(" "),Ue=qt(It(Ue)),ut("["+de+"] "+Ue+" d"),this};var Hc=Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return Qr*Eu};Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return Qr*Eu};var hh=Oe.__private__.setLineHeightFactor=Oe.setLineHeightFactor=function(de){return typeof(de=de||1.15)=="number"&&(Eu=de),this},Ec=Oe.__private__.getLineHeightFactor=Oe.getLineHeightFactor=function(){return Eu};hh(I.lineHeight);var bo=Oe.__private__.getHorizontalCoordinate=function(de){return It(de)},kl=Oe.__private__.getVerticalCoordinate=function(de){return Et===Kt?de:En[xt].mediaBox.topRightY-En[xt].mediaBox.bottomLeftY-It(de)},rc=Oe.__private__.getHorizontalCoordinateString=Oe.getHorizontalCoordinateString=function(de){return qt(bo(de))},$d=Oe.__private__.getVerticalCoordinateString=Oe.getVerticalCoordinateString=function(de){return qt(kl(de))},pl=I.strokeColor||"0 G";Oe.__private__.getStrokeColor=Oe.getDrawColor=function(){return Nc(pl)},Oe.__private__.setStrokeColor=Oe.setDrawColor=function(de,Ue,gt,Ot){return pl=Zl({ch1:de,ch2:Ue,ch3:gt,ch4:Ot,pdfColorType:"draw",precision:2}),ut(pl),this};var $u=I.fillColor||"0 g";Oe.__private__.getFillColor=Oe.getFillColor=function(){return Nc($u)},Oe.__private__.setFillColor=Oe.setFillColor=function(de,Ue,gt,Ot){return $u=Zl({ch1:de,ch2:Ue,ch3:gt,ch4:Ot,pdfColorType:"fill",precision:2}),ut($u),this};var Ko=I.textColor||"0 g",Iu=Oe.__private__.getTextColor=Oe.getTextColor=function(){return Nc(Ko)};Oe.__private__.setTextColor=Oe.setTextColor=function(de,Ue,gt,Ot){return Ko=Zl({ch1:de,ch2:Ue,ch3:gt,ch4:Ot,pdfColorType:"text",precision:3}),this};var ml=I.charSpace,gd=Oe.__private__.getCharSpace=Oe.getCharSpace=function(){return parseFloat(ml||0)};Oe.__private__.setCharSpace=Oe.setCharSpace=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ml=de,this};var Ic=0;Oe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Oe.__private__.setLineCap=Oe.setLineCap=function(de){var Ue=Oe.CapJoinStyles[de];if(Ue===void 0)throw new Error("Line cap style of '"+de+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ic=Ue,ut(Ue+" J"),this};var nc=0;Oe.__private__.setLineJoin=Oe.setLineJoin=function(de){var Ue=Oe.CapJoinStyles[de];if(Ue===void 0)throw new Error("Line join style of '"+de+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nc=Ue,ut(Ue+" j"),this},Oe.__private__.setLineMiterLimit=Oe.__private__.setMiterLimit=Oe.setLineMiterLimit=Oe.setMiterLimit=function(de){if(de=de||0,isNaN(de))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ut(qt(It(de))+" M"),this},Oe.GState=Pe,Oe.setGState=function(de){(de=typeof de=="string"?ga[zn[de]]:Pl(null,de)).equals(Ii)||(ut("/"+de.id+" gs"),Ii=de)};var Pl=function(de,Ue){if(!de||!zn[de]){var gt=!1;for(var Ot in ga)if(ga.hasOwnProperty(Ot)&&ga[Ot].equals(Ue)){gt=!0;break}if(gt)Ue=ga[Ot];else{var Gt="GS"+(Object.keys(ga).length+1).toString(10);ga[Gt]=Ue,Ue.id=Gt}return de&&(zn[de]=Ue.id),Xa.publish("addGState",Ue),Ue}};Oe.addGState=function(de,Ue){return Pl(de,Ue),this},Oe.saveGraphicsState=function(){return ut("q"),Ji.push({key:_n,size:Qr,color:Ko}),this},Oe.restoreGraphicsState=function(){ut("Q");var de=Ji.pop();return _n=de.key,Qr=de.size,Ko=de.color,Ii=null,this},Oe.setCurrentTransformationMatrix=function(de){return ut(de.toString()+" cm"),this},Oe.comment=function(de){return ut("#"+de),this};var ui=function(de,Ue){var gt=de||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return gt},set:function(yr){isNaN(yr)||(gt=parseFloat(yr))}});var Ot=Ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ot},set:function(yr){isNaN(yr)||(Ot=parseFloat(yr))}});var Gt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Gt},set:function(yr){Gt=yr.toString()}}),this},Ti=function(de,Ue,gt,Ot){ui.call(this,de,Ue),this.type="rect";var Gt=gt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Gt},set:function(Fr){isNaN(Fr)||(Gt=parseFloat(Fr))}});var yr=Ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yr},set:function(Fr){isNaN(Fr)||(yr=parseFloat(Fr))}}),this},Fl=function(){this.page=ja,this.currentPage=xt,this.pages=Jr.slice(0),this.pagesContext=En.slice(0),this.x=On,this.y=wa,this.matrix=ci,this.width=Tc(xt),this.height=Fo(xt),this.outputDestination=Bn,this.id="",this.objectNumber=-1};Fl.prototype.restore=function(){ja=this.page,xt=this.currentPage,En=this.pagesContext,Jr=this.pages,On=this.x,wa=this.y,ci=this.matrix,su(xt,this.width),ac(xt,this.height),Bn=this.outputDestination};var bs=function(de,Ue,gt,Ot,Gt){Cc.push(new Fl),ja=xt=0,Jr=[],On=de,wa=Ue,ci=Gt,nu([gt,Ot])};for(var Fs in Oe.beginFormObject=function(de,Ue,gt,Ot,Gt){return bs(de,Ue,gt,Ot,Gt),this},Oe.endFormObject=function(de){return(function(Ue){if(xo[Ue])Cc.pop().restore();else{var gt=new Fl,Ot="Xo"+(Object.keys(Qs).length+1).toString(10);gt.id=Ot,xo[Ue]=Ot,Qs[Ot]=gt,Xa.publish("addFormObject",gt),Cc.pop().restore()}})(de),this},Oe.doFormObject=function(de,Ue){var gt=Qs[xo[de]];return ut("q"),ut(Ue.toString()+" cm"),ut("/"+gt.id+" Do"),ut("Q"),this},Oe.getFormObject=function(de){var Ue=Qs[xo[de]];return{x:Ue.x,y:Ue.y,width:Ue.width,height:Ue.height,matrix:Ue.matrix}},Oe.save=function(de,Ue){return de=de||"generated.pdf",(Ue=Ue||{}).returnPromise=Ue.returnPromise||!1,Ue.returnPromise===!1?(N(xi(tc()),de),typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),this):new Promise(function(gt,Ot){try{var Gt=N(xi(tc()),de);typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),gt(Gt)}catch(yr){Ot(yr.message)}})},pe.API)pe.API.hasOwnProperty(Fs)&&(Fs==="events"&&pe.API.events.length?(function(de,Ue){var gt,Ot,Gt;for(Gt=Ue.length-1;Gt!==-1;Gt--)gt=Ue[Gt][0],Ot=Ue[Gt][1],de.subscribe.apply(de,[gt].concat(typeof Ot=="function"?[Ot]:Ot))})(Xa,pe.API.events):Oe[Fs]=pe.API[Fs]);function Tc(de){return En[de].mediaBox.topRightX-En[de].mediaBox.bottomLeftX}function su(de,Ue){En[de].mediaBox.topRightX=Ue+En[de].mediaBox.bottomLeftX}function Fo(de){return En[de].mediaBox.topRightY-En[de].mediaBox.bottomLeftY}function ac(de,Ue){En[de].mediaBox.topRightY=Ue+En[de].mediaBox.bottomLeftY}var Qc=Oe.getPageWidth=function(de){return Tc(de=de||xt)/ua},Vd=Oe.setPageWidth=function(de,Ue){su(de,Ue*ua)},Wc=Oe.getPageHeight=function(de){return Fo(de=de||xt)/ua},zd=Oe.setPageHeight=function(de,Ue){ac(de,Ue*ua)};return Oe.internal={pdfEscape:Vo,getStyle:fd,getFont:Mh,getFontSize:Mn,getCharSpace:gd,getTextColor:Iu,getLineHeight:Hc,getLineHeightFactor:Ec,getLineWidth:Rh,write:hn,getHorizontalCoordinate:bo,getVerticalCoordinate:kl,getCoordinateString:rc,getVerticalCoordinateString:$d,collections:{},newObject:Pi,newAdditionalObject:tu,newObjectDeferred:Es,newObjectDeferredBegin:oo,getFilters:Ys,putStream:rl,events:Xa,scaleFactor:ua,pageSize:{getWidth:function(){return Qc(xt)},setWidth:function(de){Vd(xt,de)},getHeight:function(){return Wc(xt)},setHeight:function(de){zd(xt,de)}},encryptionOptions:Ve,encryption:Is,getEncryptor:function(de){return Ve!==null?Is.encryptor(de,0):function(Ue){return Ue}},output:Ad,getNumberOfPages:Uu,get pages(){return Jr},out:ut,f2:at,f3:dt,getPageInfo:Bc,getPageInfoByObjId:au,getCurrentPageInfo:_l,getPDFVersion:mt,Point:ui,Rectangle:Ti,Matrix:Aa,hasHotfix:fl},Object.defineProperty(Oe.internal.pageSize,"width",{get:function(){return Qc(xt)},set:function(de){Vd(xt,de)},enumerable:!0,configurable:!0}),Object.defineProperty(Oe.internal.pageSize,"height",{get:function(){return Wc(xt)},set:function(de){zd(xt,de)},enumerable:!0,configurable:!0}),(function(de){for(var Ue=0,gt=un.length;Ue<gt;Ue++){var Ot=ru.call(this,de[Ue][0],de[Ue][1],de[Ue][2],un[Ue][3],!0);et===!1&&(st[Ot]=!0);var Gt=de[Ue][0].split("-");dd({id:Ot,fontName:Gt[0],fontStyle:Gt[1]||""})}Xa.publish("addFonts",{fonts:Va,dictionary:za})}).call(Oe,un),_n="F1",bu(X,D),Xa.publish("initialized"),Oe}se.prototype.lsbFirstWord=function(I){return String.fromCharCode(255&I,I>>8&255,I>>16&255,I>>24&255)},se.prototype.toHexString=function(I){return I.split("").map(function(B){return("0"+(255&B.charCodeAt(0)).toString(16)).slice(-2)}).join("")},se.prototype.hexToBytes=function(I){for(var B=[],D=0;D<I.length;D+=2)B.push(String.fromCharCode(parseInt(I.substr(D,2),16)));return B.join("")},se.prototype.processOwnerPassword=function(I,B){return le(Ie(B).substr(0,5),I)},se.prototype.encryptor=function(I,B){var D=Ie(this.encryptionKey+String.fromCharCode(255&I,I>>8&255,I>>16&255,255&B,B>>8&255)).substr(0,10);return function(K){return le(D,K)}},Pe.prototype.equals=function(I){var B,D="id,objectNumber,equals";if(!I||(0,d.default)(I)!==(0,d.default)(this))return!1;var K=0;for(B in this)if(!(D.indexOf(B)>=0)){if(this.hasOwnProperty(B)&&!I.hasOwnProperty(B)||this[B]!==I[B])return!1;K++}for(B in I)I.hasOwnProperty(B)&&D.indexOf(B)<0&&K--;return K===0},pe.API={events:[]},pe.version="4.0.0";var oe=pe.API,We=1,Re=function(I){return I.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ee=function(I){return I.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ae=function(I){return I.toFixed(2)},Le=function(I){return I.toFixed(5)};oe.__acroform__={};var Ze=function(I,B){I.prototype=Object.create(B.prototype),I.prototype.constructor=I},jt=function(I){return I*We},Lt=function(I){var B=new zr,D=Ur.internal.getHeight(I)||0,K=Ur.internal.getWidth(I)||0;return B.BBox=[0,0,Number(ae(K)),Number(ae(D))],B},Ct=oe.__acroform__.setBit=function(I,B){if(I=I||0,B=B||0,isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return I|1<<B},Xt=oe.__acroform__.clearBit=function(I,B){if(I=I||0,B=B||0,isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return I&~(1<<B)},_r=oe.__acroform__.getBit=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return I&1<<B?1:0},Or=oe.__acroform__.getBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _r(I,B-1)},He=oe.__acroform__.setBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ct(I,B-1)},Zt=oe.__acroform__.clearBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xt(I,B-1)},Bt=oe.__acroform__.calculateCoordinates=function(I,B){var D=B.internal.getHorizontalCoordinate,K=B.internal.getVerticalCoordinate,X=I[0],ne=I[1],Se=I[2],me=I[3],xe={};return xe.lowerLeft_X=D(X)||0,xe.lowerLeft_Y=K(ne+me)||0,xe.upperRight_X=D(X+Se)||0,xe.upperRight_Y=K(ne)||0,[Number(ae(xe.lowerLeft_X)),Number(ae(xe.lowerLeft_Y)),Number(ae(xe.upperRight_X)),Number(ae(xe.upperRight_Y))]},$r=function(I){if(I.appearanceStreamContent)return I.appearanceStreamContent;if(I.V||I.DV){var B=[],D=I._V||I.DV,K=pr(I,D),X=I.scope.internal.getFont(I.fontName,I.fontStyle).id;B.push("/Tx BMC"),B.push("q"),B.push("BT"),B.push(I.scope.__private__.encodeColorString(I.color)),B.push("/"+X+" "+ae(K.fontSize)+" Tf"),B.push("1 0 0 1 0 0 Tm"),B.push(K.text),B.push("ET"),B.push("Q"),B.push("EMC");var ne=Lt(I);return ne.scope=I.scope,ne.stream=B.join(`
`),ne}},pr=function(I,B){var D=I.fontSize===0?I.maxFontSize:I.fontSize,K={text:"",fontSize:""},X=(B=(B=B.substr(0,1)=="("?B.substr(1):B).substr(B.length-1)==")"?B.substr(0,B.length-1):B).split(" ");X=I.multiline?X.map(function(at){return at.split(`
`)}):X.map(function(at){return[at]});var ne=D,Se=Ur.internal.getHeight(I)||0;Se=Se<0?-Se:Se;var me=Ur.internal.getWidth(I)||0;me=me<0?-me:me;var xe=function(at,dt,It){if(at+1<X.length){var Tt=dt+" "+X[at+1][0];return on(Tt,I,It).width<=me-4}return!1};ne++;e:for(;ne>0;){B="",ne--;var De,Ve,et=on("3",I,ne).height,st=I.multiline?Se-ne:(Se-et)/2,Oe=st+=2,vt=0,mt=0,yt=0;if(ne<=0){B=`(...) Tj
`,B+="% Width of Text: "+on(B,I,ne=12).width+", FieldWidth:"+me+`
`;break}for(var nt="",kt=0,Kt=0;Kt<X.length;Kt++)if(X.hasOwnProperty(Kt)){var Et=!1;if(X[Kt].length!==1&&yt!==X[Kt].length-1){if((et+2)*(kt+2)+2>Se)continue e;nt+=X[Kt][yt],Et=!0,mt=Kt,Kt--}else{nt=(nt+=X[Kt][yt]+" ").substr(nt.length-1)==" "?nt.substr(0,nt.length-1):nt;var tt=parseInt(Kt),Qt=xe(tt,nt,ne),lr=Kt>=X.length-1;if(Qt&&!lr){nt+=" ",yt=0;continue}if(Qt||lr){if(lr)mt=tt;else if(I.multiline&&(et+2)*(kt+2)+2>Se)continue e}else{if(!I.multiline||(et+2)*(kt+2)+2>Se)continue e;mt=tt}}for(var qt="",_t=vt;_t<=mt;_t++){var or=X[_t];if(I.multiline){if(_t===mt){qt+=or[yt]+" ",yt=(yt+1)%or.length;continue}if(_t===vt){qt+=or[or.length-1]+" ";continue}}qt+=or[0]+" "}switch(qt=qt.substr(qt.length-1)==" "?qt.substr(0,qt.length-1):qt,Ve=on(qt,I,ne).width,I.textAlign){case"right":De=me-Ve-2;break;case"center":De=(me-Ve)/2;break;default:De=2}B+=ae(De)+" "+ae(Oe)+` Td
`,B+="("+Re(qt)+`) Tj
`,B+=-ae(De)+` 0 Td
`,Oe=-(ne+2),Ve=0,vt=Et?mt:mt+1,kt++,nt=""}break}return K.text=B,K.fontSize=ne,K},on=function(I,B,D){var K=B.scope.internal.getFont(B.fontName,B.fontStyle),X=B.scope.getStringUnitWidth(I,{font:K,fontSize:parseFloat(D),charSpace:0})*parseFloat(D);return{height:B.scope.getStringUnitWidth("3",{font:K,fontSize:parseFloat(D),charSpace:0})*parseFloat(D)*1.5,width:X}},Yr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qr=function(I,B){var D={type:"reference",object:I};B.internal.getPageInfo(I.page).pageContext.annotations.find(function(K){return K.type===D.type&&K.object===D.object})===void 0&&B.internal.getPageInfo(I.page).pageContext.annotations.push(D)},Ir=function(I,B){if(B.scope=I,I.internal!==void 0&&(I.internal.acroformPlugin===void 0||I.internal.acroformPlugin.isInitialized===!1)){if(Wr.FieldNum=0,I.internal.acroformPlugin=JSON.parse(JSON.stringify(Yr)),I.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");We=I.internal.scaleFactor,I.internal.acroformPlugin.acroFormDictionaryRoot=new gn,I.internal.acroformPlugin.acroFormDictionaryRoot.scope=I,I.internal.acroformPlugin.acroFormDictionaryRoot._eventID=I.internal.events.subscribe("postPutResources",function(){(function(D){D.internal.events.unsubscribe(D.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete D.internal.acroformPlugin.acroFormDictionaryRoot._eventID,D.internal.acroformPlugin.printedOut=!0})(I)}),I.internal.events.subscribe("buildDocument",function(){(function(D){D.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var K=D.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var X in K)if(K.hasOwnProperty(X)){var ne=K[X];ne.objId=void 0,ne.hasAnnotation&&qr(ne,D)}})(I)}),I.internal.events.subscribe("putCatalog",function(){(function(D){if(D.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");D.internal.write("/AcroForm "+D.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(I)}),I.internal.events.subscribe("postPutPages",function(D){(function(K,X){var ne=!K;for(var Se in K||(X.internal.newObjectDeferredBegin(X.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),X.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),K=K||X.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(K.hasOwnProperty(Se)){var me=K[Se],xe=[],De=me.Rect;if(me.Rect&&(me.Rect=Bt(me.Rect,X)),X.internal.newObjectDeferredBegin(me.objId,!0),me.DA=Ur.createDefaultAppearanceStream(me),(0,d.default)(me)==="object"&&typeof me.getKeyValueListForStream=="function"&&(xe=me.getKeyValueListForStream()),me.Rect=De,me.hasAppearanceStream&&!me.appearanceStreamContent){var Ve=$r(me);xe.push({key:"AP",value:"<</N "+Ve+">>"}),X.internal.acroformPlugin.xForms.push(Ve)}if(me.appearanceStreamContent){var et="";for(var st in me.appearanceStreamContent)if(me.appearanceStreamContent.hasOwnProperty(st)){var Oe=me.appearanceStreamContent[st];if(et+="/"+st+" ",et+="<<",Object.keys(Oe).length>=1||Array.isArray(Oe)){for(var Se in Oe)if(Oe.hasOwnProperty(Se)){var vt=Oe[Se];typeof vt=="function"&&(vt=vt.call(X,me)),et+="/"+Se+" "+vt+" ",X.internal.acroformPlugin.xForms.indexOf(vt)>=0||X.internal.acroformPlugin.xForms.push(vt)}}else typeof(vt=Oe)=="function"&&(vt=vt.call(X,me)),et+="/"+Se+" "+vt,X.internal.acroformPlugin.xForms.indexOf(vt)>=0||X.internal.acroformPlugin.xForms.push(vt);et+=">>"}xe.push({key:"AP",value:`<<
`+et+">>"})}X.internal.putStream({additionalKeyValues:xe,objectId:me.objId}),X.internal.out("endobj")}ne&&(function(mt,yt){for(var nt in mt)if(mt.hasOwnProperty(nt)){var kt=nt,Kt=mt[nt];yt.internal.newObjectDeferredBegin(Kt.objId,!0),(0,d.default)(Kt)==="object"&&typeof Kt.putStream=="function"&&Kt.putStream(),delete mt[kt]}})(X.internal.acroformPlugin.xForms,X)})(D,I)}),I.internal.acroformPlugin.isInitialized=!0}},dr=oe.__acroform__.arrayToPdfArray=function(I,B,D){var K=function(Se){return Se};if(Array.isArray(I)){for(var X="[",ne=0;ne<I.length;ne++)switch(ne!==0&&(X+=" "),(0,d.default)(I[ne])){case"boolean":case"number":case"object":X+=I[ne].toString();break;case"string":I[ne].substr(0,1)!=="/"?(B!==void 0&&D&&(K=D.internal.getEncryptor(B)),X+="("+Re(K(I[ne].toString()))+")"):X+=I[ne].toString()}return X+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cr=function(I,B,D){var K=function(X){return X};return B!==void 0&&D&&(K=D.internal.getEncryptor(B)),(I=I||"").toString(),"("+Re(K(I))+")"},Vr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(I){this._objId=I}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vr.prototype.toString=function(){return this.objId+" 0 R"},Vr.prototype.putStream=function(){var I=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:I,objectId:this.objId}),this.scope.internal.out("endobj")},Vr.prototype.getKeyValueListForStream=function(){var I=[],B=Object.getOwnPropertyNames(this).filter(function(ne){return ne!="content"&&ne!="appearanceStreamContent"&&ne!="scope"&&ne!="objId"&&ne.substring(0,1)!="_"});for(var D in B)if(Object.getOwnPropertyDescriptor(this,B[D]).configurable===!1){var K=B[D],X=this[K];X&&(Array.isArray(X)?I.push({key:K,value:dr(X,this.objId,this.scope)}):X instanceof Vr?(X.scope=this.scope,I.push({key:K,value:X.objId+" 0 R"})):typeof X!="function"&&I.push({key:K,value:X}))}return I};var zr=function(){Vr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var I,B=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return B},set:function(D){B=D}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(D){I=D.trim()},get:function(){return I||null}})};Ze(zr,Vr);var gn=function(){Vr.call(this);var I,B=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return B.length>0?B:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return B}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(I){var D=function(K){return K};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+Re(D(I))+")"}},set:function(D){I=D}})};Ze(gn,Vr);var Wr=function I(){Vr.call(this);var B=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return B},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute F supplied.');B=nt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Or(B,3)},set:function(nt){nt?this.F=He(B,3):this.F=Zt(B,3)}});var D=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return D},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute Ff supplied.');D=nt}});var K=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(K.length!==0)return K},set:function(nt){K=nt!==void 0?nt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[0])?0:K[0]},set:function(nt){K[0]=nt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[1])?0:K[1]},set:function(nt){K[1]=nt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[2])?0:K[2]},set:function(nt){K[2]=nt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[3])?0:K[3]},set:function(nt){K[3]=nt}});var X="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return X},set:function(nt){switch(nt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":X=nt;break;default:throw new Error('Invalid value "'+nt+'" for attribute FT supplied.')}}});var ne=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ne||ne.length<1){if(this instanceof dn)return;ne="FieldObject"+I.FieldNum++}var nt=function(kt){return kt};return this.scope&&(nt=this.scope.internal.getEncryptor(this.objId)),"("+Re(nt(ne))+")"},set:function(nt){ne=nt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ne},set:function(nt){ne=nt}});var Se="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Se},set:function(nt){Se=nt}});var me="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return me},set:function(nt){me=nt}});var xe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(nt){xe=nt}});var De=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return De===void 0?50/We:De},set:function(nt){De=nt}});var Ve="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(nt){Ve=nt}});var et="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!et||this instanceof dn||this instanceof Xr))return Cr(et,this.objId,this.scope)},set:function(nt){nt=nt.toString(),et=nt}});var st=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(st)return this instanceof cn==0?Cr(st,this.objId,this.scope):st},set:function(nt){nt=nt.toString(),st=this instanceof cn==0?nt.substr(0,1)==="("?Ee(nt.substr(1,nt.length-2)):Ee(nt):nt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ee(st.substr(1,st.length-1)):st},set:function(nt){nt=nt.toString(),st=this instanceof cn==1?"/"+nt:nt}});var Oe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return Oe},set:function(nt){this.V=nt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof cn==0?Cr(Oe,this.objId,this.scope):Oe},set:function(nt){nt=nt.toString(),Oe=this instanceof cn==0?nt.substr(0,1)==="("?Ee(nt.substr(1,nt.length-2)):Ee(nt):nt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ee(Oe.substr(1,Oe.length-1)):Oe},set:function(nt){nt=nt.toString(),Oe=this instanceof cn==1?"/"+nt:nt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var vt,mt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return mt},set:function(nt){nt=!!nt,mt=nt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(vt)return vt},set:function(nt){vt=nt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,1)},set:function(nt){nt?this.Ff=He(this.Ff,1):this.Ff=Zt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,2)},set:function(nt){nt?this.Ff=He(this.Ff,2):this.Ff=Zt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,3)},set:function(nt){nt?this.Ff=He(this.Ff,3):this.Ff=Zt(this.Ff,3)}});var yt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(yt!==null)return yt},set:function(nt){if([0,1,2].indexOf(nt)===-1)throw new Error('Invalid value "'+nt+'" for attribute Q supplied.');yt=nt}}),Object.defineProperty(this,"textAlign",{get:function(){var nt;switch(yt){case 0:default:nt="left";break;case 1:nt="center";break;case 2:nt="right"}return nt},configurable:!0,enumerable:!0,set:function(nt){switch(nt){case"right":case 2:yt=2;break;case"center":case 1:yt=1;break;default:yt=0}}})};Ze(Wr,Vr);var $n=function(){Wr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var I=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return I},set:function(D){I=D}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return I},set:function(D){I=D}});var B=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dr(B,this.objId,this.scope)},set:function(D){var K,X;X=[],typeof(K=D)=="string"&&(X=(function(ne,Se,me){me||(me=1);for(var xe,De=[];xe=Se.exec(ne);)De.push(xe[me]);return De})(K,/\((.*?)\)/g)),B=X}}),this.getOptions=function(){return B},this.setOptions=function(D){B=D,this.sort&&B.sort()},this.addOption=function(D){D=(D=D||"").toString(),B.push(D),this.sort&&B.sort()},this.removeOption=function(D,K){for(K=K||!1,D=(D=D||"").toString();B.indexOf(D)!==-1&&(B.splice(B.indexOf(D),1),K!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,18)},set:function(D){D?this.Ff=He(this.Ff,18):this.Ff=Zt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,19)},set:function(D){this.combo===!0&&(D?this.Ff=He(this.Ff,19):this.Ff=Zt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,20)},set:function(D){D?(this.Ff=He(this.Ff,20),B.sort()):this.Ff=Zt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,22)},set:function(D){D?this.Ff=He(this.Ff,22):this.Ff=Zt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(D){D?this.Ff=He(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,27)},set:function(D){D?this.Ff=He(this.Ff,27):this.Ff=Zt(this.Ff,27)}}),this.hasAppearanceStream=!1};Ze($n,Wr);var Lr=function(){$n.call(this),this.fontName="helvetica",this.combo=!1};Ze(Lr,$n);var Dr=function(){Lr.call(this),this.combo=!0};Ze(Dr,Lr);var wn=function(){Dr.call(this),this.edit=!0};Ze(wn,Dr);var cn=function(){Wr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,15)},set:function(D){D?this.Ff=He(this.Ff,15):this.Ff=Zt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,16)},set:function(D){D?this.Ff=He(this.Ff,16):this.Ff=Zt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,17)},set:function(D){D?this.Ff=He(this.Ff,17):this.Ff=Zt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(D){D?this.Ff=He(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var I,B={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var D=function(ne){return ne};if(this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),Object.keys(B).length!==0){var K,X=[];for(K in X.push("<<"),B)X.push("/"+K+" ("+Re(D(B[K]))+")");return X.push(">>"),X.join(`
`)}},set:function(D){(0,d.default)(D)==="object"&&(B=D)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return B.CA||""},set:function(D){typeof D=="string"&&(B.CA=D)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return I},set:function(D){I=D}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return I.substr(1,I.length-1)},set:function(D){I="/"+D}})};Ze(cn,Wr);var bt=function(){cn.call(this),this.pushButton=!0};Ze(bt,cn);var Sr=function(){cn.call(this),this.radio=!0,this.pushButton=!1;var I=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return I},set:function(B){I=B!==void 0?B:[]}})};Ze(Sr,cn);var dn=function(){var I,B;Wr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return I},set:function(X){I=X}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return B},set:function(X){B=X}});var D,K={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var X=function(me){return me};this.scope&&(X=this.scope.internal.getEncryptor(this.objId));var ne,Se=[];for(ne in Se.push("<<"),K)Se.push("/"+ne+" ("+Re(X(K[ne]))+")");return Se.push(">>"),Se.join(`
`)},set:function(X){(0,d.default)(X)==="object"&&(K=X)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return K.CA||""},set:function(X){typeof X=="string"&&(K.CA=X)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return D},set:function(X){D=X}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return D.substr(1,D.length-1)},set:function(X){D="/"+X}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ur.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ze(dn,Wr),Sr.prototype.setAppearance=function(I){if(!("createAppearanceStream"in I)||!("getCA"in I))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var B in this.Kids)if(this.Kids.hasOwnProperty(B)){var D=this.Kids[B];D.appearanceStreamContent=I.createAppearanceStream(D.optionName),D.caption=I.getCA()}},Sr.prototype.createOption=function(I){var B=new dn;return B.Parent=this,B.optionName=I,this.Kids.push(B),ei.call(this.scope,B),B};var Dn=function(){cn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ur.CheckBox.createAppearanceStream()};Ze(Dn,cn);var Xr=function(){Wr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,13)},set:function(B){B?this.Ff=He(this.Ff,13):this.Ff=Zt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,21)},set:function(B){B?this.Ff=He(this.Ff,21):this.Ff=Zt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(B){B?this.Ff=He(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,24)},set:function(B){B?this.Ff=He(this.Ff,24):this.Ff=Zt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,25)},set:function(B){B?this.Ff=He(this.Ff,25):this.Ff=Zt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(B){B?this.Ff=He(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var I=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return I},set:function(B){I=B}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return I},set:function(B){Number.isInteger(B)&&(I=B)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ze(Xr,Wr);var Un=function(){Xr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,14)},set:function(I){I?this.Ff=He(this.Ff,14):this.Ff=Zt(this.Ff,14)}}),this.password=!0};Ze(Un,Xr);var Ur={CheckBox:{createAppearanceStream:function(){return{N:{On:Ur.CheckBox.YesNormal},D:{On:Ur.CheckBox.YesPushDown,Off:Ur.CheckBox.OffPushDown}}},YesPushDown:function(I){var B=Lt(I);B.scope=I.scope;var D=[],K=I.scope.internal.getFont(I.fontName,I.fontStyle).id,X=I.scope.__private__.encodeColorString(I.color),ne=pr(I,I.caption);return D.push("0.749023 g"),D.push("0 0 "+ae(Ur.internal.getWidth(I))+" "+ae(Ur.internal.getHeight(I))+" re"),D.push("f"),D.push("BMC"),D.push("q"),D.push("0 0 1 rg"),D.push("/"+K+" "+ae(ne.fontSize)+" Tf "+X),D.push("BT"),D.push(ne.text),D.push("ET"),D.push("Q"),D.push("EMC"),B.stream=D.join(`
`),B},YesNormal:function(I){var B=Lt(I);B.scope=I.scope;var D=I.scope.internal.getFont(I.fontName,I.fontStyle).id,K=I.scope.__private__.encodeColorString(I.color),X=[],ne=Ur.internal.getHeight(I),Se=Ur.internal.getWidth(I),me=pr(I,I.caption);return X.push("1 g"),X.push("0 0 "+ae(Se)+" "+ae(ne)+" re"),X.push("f"),X.push("q"),X.push("0 0 1 rg"),X.push("0 0 "+ae(Se-1)+" "+ae(ne-1)+" re"),X.push("W"),X.push("n"),X.push("0 g"),X.push("BT"),X.push("/"+D+" "+ae(me.fontSize)+" Tf "+K),X.push(me.text),X.push("ET"),X.push("Q"),B.stream=X.join(`
`),B},OffPushDown:function(I){var B=Lt(I);B.scope=I.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+ae(Ur.internal.getWidth(I))+" "+ae(Ur.internal.getHeight(I))+" re"),D.push("f"),B.stream=D.join(`
`),B}},RadioButton:{Circle:{createAppearanceStream:function(I){var B={D:{Off:Ur.RadioButton.Circle.OffPushDown},N:{}};return B.N[I]=Ur.RadioButton.Circle.YesNormal,B.D[I]=Ur.RadioButton.Circle.YesPushDown,B},getCA:function(){return"l"},YesNormal:function(I){var B=Lt(I);B.scope=I.scope;var D=[],K=Ur.internal.getWidth(I)<=Ur.internal.getHeight(I)?Ur.internal.getWidth(I)/4:Ur.internal.getHeight(I)/4;K=Number((.9*K).toFixed(5));var X=Ur.internal.Bezier_C,ne=Number((K*X).toFixed(5));return D.push("q"),D.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),D.push(K+" 0 m"),D.push(K+" "+ne+" "+ne+" "+K+" 0 "+K+" c"),D.push("-"+ne+" "+K+" -"+K+" "+ne+" -"+K+" 0 c"),D.push("-"+K+" -"+ne+" -"+ne+" -"+K+" 0 -"+K+" c"),D.push(ne+" -"+K+" "+K+" -"+ne+" "+K+" 0 c"),D.push("f"),D.push("Q"),B.stream=D.join(`
`),B},YesPushDown:function(I){var B=Lt(I);B.scope=I.scope;var D=[],K=Ur.internal.getWidth(I)<=Ur.internal.getHeight(I)?Ur.internal.getWidth(I)/4:Ur.internal.getHeight(I)/4;K=Number((.9*K).toFixed(5));var X=Number((2*K).toFixed(5)),ne=Number((X*Ur.internal.Bezier_C).toFixed(5)),Se=Number((K*Ur.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),D.push(X+" 0 m"),D.push(X+" "+ne+" "+ne+" "+X+" 0 "+X+" c"),D.push("-"+ne+" "+X+" -"+X+" "+ne+" -"+X+" 0 c"),D.push("-"+X+" -"+ne+" -"+ne+" -"+X+" 0 -"+X+" c"),D.push(ne+" -"+X+" "+X+" -"+ne+" "+X+" 0 c"),D.push("f"),D.push("Q"),D.push("0 g"),D.push("q"),D.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),D.push(K+" 0 m"),D.push(K+" "+Se+" "+Se+" "+K+" 0 "+K+" c"),D.push("-"+Se+" "+K+" -"+K+" "+Se+" -"+K+" 0 c"),D.push("-"+K+" -"+Se+" -"+Se+" -"+K+" 0 -"+K+" c"),D.push(Se+" -"+K+" "+K+" -"+Se+" "+K+" 0 c"),D.push("f"),D.push("Q"),B.stream=D.join(`
`),B},OffPushDown:function(I){var B=Lt(I);B.scope=I.scope;var D=[],K=Ur.internal.getWidth(I)<=Ur.internal.getHeight(I)?Ur.internal.getWidth(I)/4:Ur.internal.getHeight(I)/4;K=Number((.9*K).toFixed(5));var X=Number((2*K).toFixed(5)),ne=Number((X*Ur.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),D.push(X+" 0 m"),D.push(X+" "+ne+" "+ne+" "+X+" 0 "+X+" c"),D.push("-"+ne+" "+X+" -"+X+" "+ne+" -"+X+" 0 c"),D.push("-"+X+" -"+ne+" -"+ne+" -"+X+" 0 -"+X+" c"),D.push(ne+" -"+X+" "+X+" -"+ne+" "+X+" 0 c"),D.push("f"),D.push("Q"),B.stream=D.join(`
`),B}},Cross:{createAppearanceStream:function(I){var B={D:{Off:Ur.RadioButton.Cross.OffPushDown},N:{}};return B.N[I]=Ur.RadioButton.Cross.YesNormal,B.D[I]=Ur.RadioButton.Cross.YesPushDown,B},getCA:function(){return"8"},YesNormal:function(I){var B=Lt(I);B.scope=I.scope;var D=[],K=Ur.internal.calculateCross(I);return D.push("q"),D.push("1 1 "+ae(Ur.internal.getWidth(I)-2)+" "+ae(Ur.internal.getHeight(I)-2)+" re"),D.push("W"),D.push("n"),D.push(ae(K.x1.x)+" "+ae(K.x1.y)+" m"),D.push(ae(K.x2.x)+" "+ae(K.x2.y)+" l"),D.push(ae(K.x4.x)+" "+ae(K.x4.y)+" m"),D.push(ae(K.x3.x)+" "+ae(K.x3.y)+" l"),D.push("s"),D.push("Q"),B.stream=D.join(`
`),B},YesPushDown:function(I){var B=Lt(I);B.scope=I.scope;var D=Ur.internal.calculateCross(I),K=[];return K.push("0.749023 g"),K.push("0 0 "+ae(Ur.internal.getWidth(I))+" "+ae(Ur.internal.getHeight(I))+" re"),K.push("f"),K.push("q"),K.push("1 1 "+ae(Ur.internal.getWidth(I)-2)+" "+ae(Ur.internal.getHeight(I)-2)+" re"),K.push("W"),K.push("n"),K.push(ae(D.x1.x)+" "+ae(D.x1.y)+" m"),K.push(ae(D.x2.x)+" "+ae(D.x2.y)+" l"),K.push(ae(D.x4.x)+" "+ae(D.x4.y)+" m"),K.push(ae(D.x3.x)+" "+ae(D.x3.y)+" l"),K.push("s"),K.push("Q"),B.stream=K.join(`
`),B},OffPushDown:function(I){var B=Lt(I);B.scope=I.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+ae(Ur.internal.getWidth(I))+" "+ae(Ur.internal.getHeight(I))+" re"),D.push("f"),B.stream=D.join(`
`),B}}},createDefaultAppearanceStream:function(I){var B=I.scope.internal.getFont(I.fontName,I.fontStyle).id,D=I.scope.__private__.encodeColorString(I.color);return"/"+B+" "+I.fontSize+" Tf "+D}};Ur.internal={Bezier_C:.551915024494,calculateCross:function(I){var B=Ur.internal.getWidth(I),D=Ur.internal.getHeight(I),K=Math.min(B,D);return{x1:{x:(B-K)/2,y:(D-K)/2+K},x2:{x:(B-K)/2+K,y:(D-K)/2},x3:{x:(B-K)/2,y:(D-K)/2},x4:{x:(B-K)/2+K,y:(D-K)/2+K}}}},Ur.internal.getWidth=function(I){var B=0;return(0,d.default)(I)==="object"&&(B=jt(I.Rect[2])),B},Ur.internal.getHeight=function(I){var B=0;return(0,d.default)(I)==="object"&&(B=jt(I.Rect[3])),B};var ei=oe.addField=function(I){if(Ir(this,I),!(I instanceof Wr))throw new Error("Invalid argument passed to jsPDF.addField.");var B;return(B=I).scope.internal.acroformPlugin.printedOut&&(B.scope.internal.acroformPlugin.printedOut=!1,B.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),B.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(B),I.page=I.scope.internal.getCurrentPageInfo().pageNumber,this};oe.AcroFormChoiceField=$n,oe.AcroFormListBox=Lr,oe.AcroFormComboBox=Dr,oe.AcroFormEditBox=wn,oe.AcroFormButton=cn,oe.AcroFormPushButton=bt,oe.AcroFormRadioButton=Sr,oe.AcroFormCheckBox=Dn,oe.AcroFormTextField=Xr,oe.AcroFormPasswordField=Un,oe.AcroFormAppearance=Ur,oe.AcroForm={ChoiceField:$n,ListBox:Lr,ComboBox:Dr,EditBox:wn,Button:cn,PushButton:bt,RadioButton:Sr,CheckBox:Dn,TextField:Xr,PasswordField:Un,Appearance:Ur},pe.AcroForm={ChoiceField:$n,ListBox:Lr,ComboBox:Dr,EditBox:wn,Button:cn,PushButton:bt,RadioButton:Sr,CheckBox:Dn,TextField:Xr,PasswordField:Un,Appearance:Ur};var os=pe.AcroForm;function jn(I){return I.reduce(function(B,D,K){return B[D]=K,B},{})}(function(I){var B="addImage_";I.__addimage__={};var D="UNKNOWN",K={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},X=I.__addimage__.getImageFileTypeByImageData=function(at,dt){var It,Tt,cr,fr,xr,Jt=D;if((dt=dt||D)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Qt(at))for(xr in K)for(cr=K[xr],It=0;It<cr.length;It+=1){for(fr=!0,Tt=0;Tt<cr[It].length;Tt+=1)if(cr[It][Tt]!==void 0&&cr[It][Tt]!==at[Tt]){fr=!1;break}if(fr===!0){Jt=xr;break}}else for(xr in K)for(cr=K[xr],It=0;It<cr.length;It+=1){for(fr=!0,Tt=0;Tt<cr[It].length;Tt+=1)if(cr[It][Tt]!==void 0&&cr[It][Tt]!==at.charCodeAt(Tt)){fr=!1;break}if(fr===!0){Jt=xr;break}}return Jt===D&&dt!==D&&(Jt=dt),Jt},ne=function at(dt){for(var It=this.internal.write,Tt=this.internal.putStream,cr=(0,this.internal.getFilters)();cr.indexOf("FlateEncode")!==-1;)cr.splice(cr.indexOf("FlateEncode"),1);dt.objectId=this.internal.newObject();var fr=[];if(fr.push({key:"Type",value:"/XObject"}),fr.push({key:"Subtype",value:"/Image"}),fr.push({key:"Width",value:dt.width}),fr.push({key:"Height",value:dt.height}),dt.colorSpace===nt.INDEXED?fr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(dt.palette.length/3-1)+" "+("sMask"in dt&&dt.sMask!==void 0?dt.objectId+2:dt.objectId+1)+" 0 R]"}):(fr.push({key:"ColorSpace",value:"/"+dt.colorSpace}),dt.colorSpace===nt.DEVICE_CMYK&&fr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fr.push({key:"BitsPerComponent",value:dt.bitsPerComponent}),"decodeParameters"in dt&&dt.decodeParameters!==void 0&&fr.push({key:"DecodeParms",value:"<<"+dt.decodeParameters+">>"}),"transparency"in dt&&Array.isArray(dt.transparency)&&dt.transparency.length>0){for(var xr="",Jt=0,gr=dt.transparency.length;Jt<gr;Jt++)xr+=dt.transparency[Jt]+" "+dt.transparency[Jt]+" ";fr.push({key:"Mask",value:"["+xr+"]"})}dt.sMask!==void 0&&fr.push({key:"SMask",value:dt.objectId+1+" 0 R"});var Zr=dt.filter!==void 0?["/"+dt.filter]:void 0;if(Tt({data:dt.data,additionalKeyValues:fr,alreadyAppliedFilters:Zr,objectId:dt.objectId}),It("endobj"),"sMask"in dt&&dt.sMask!==void 0){var Hr,Ye=(Hr=dt.sMaskBitsPerComponent)!==null&&Hr!==void 0?Hr:dt.bitsPerComponent,xt={width:dt.width,height:dt.height,colorSpace:"DeviceGray",bitsPerComponent:Ye,data:dt.sMask};"filter"in dt&&(xt.decodeParameters="/Predictor ".concat(dt.predictor," /Colors 1 /BitsPerComponent ").concat(Ye," /Columns ").concat(dt.width),xt.filter=dt.filter),at.call(this,xt)}if(dt.colorSpace===nt.INDEXED){var Nt=this.internal.newObject();Tt({data:qt(new Uint8Array(dt.palette)),objectId:Nt}),It("endobj")}},Se=function(){var at=this.internal.collections[B+"images"];for(var dt in at)ne.call(this,at[dt])},me=function(){var at,dt=this.internal.collections[B+"images"],It=this.internal.write;for(var Tt in dt)It("/I"+(at=dt[Tt]).index,at.objectId,"0","R")},xe=function(){this.internal.collections[B+"images"]||(this.internal.collections[B+"images"]={},this.internal.events.subscribe("putResources",Se),this.internal.events.subscribe("putXobjectDict",me))},De=function(){var at=this.internal.collections[B+"images"];return xe.call(this),at},Ve=function(){return Object.keys(this.internal.collections[B+"images"]).length},et=function(at){return typeof I["process"+at.toUpperCase()]=="function"},st=function(at){return(0,d.default)(at)==="object"&&at.nodeType===1},Oe=function(at,dt){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var It=""+at.getAttribute("src");if(It.indexOf("data:image/")===0)return j(unescape(It).split("base64,").pop());var Tt=I.loadFile(It,!0);if(Tt!==void 0)return Tt}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var cr;switch(dt){case"PNG":cr="image/png";break;case"WEBP":cr="image/webp";break;default:cr="image/jpeg"}return j(at.toDataURL(cr,1).split("base64,").pop())}},vt=function(at){var dt=this.internal.collections[B+"images"];if(dt){for(var It in dt)if(at===dt[It].alias)return dt[It]}},mt=function(at,dt,It){return at||dt||(at=-96,dt=-96),at<0&&(at=-1*It.width*72/at/this.internal.scaleFactor),dt<0&&(dt=-1*It.height*72/dt/this.internal.scaleFactor),at===0&&(at=dt*It.width/It.height),dt===0&&(dt=at*It.height/It.width),[at,dt]},yt=function(at,dt,It,Tt,cr,fr){var xr=mt.call(this,It,Tt,cr),Jt=this.internal.getCoordinateString,gr=this.internal.getVerticalCoordinateString,Zr=De.call(this);if(It=xr[0],Tt=xr[1],Zr[cr.index]=cr,fr){fr*=Math.PI/180;var Hr=Math.cos(fr),Ye=Math.sin(fr),xt=function(Wt){return Wt.toFixed(4)},Nt=[xt(Hr),xt(Ye),xt(-1*Ye),xt(Hr),0,0,"cm"]}this.internal.write("q"),fr?(this.internal.write([1,"0","0",1,Jt(at),gr(dt+Tt),"cm"].join(" ")),this.internal.write(Nt.join(" ")),this.internal.write([Jt(It),"0","0",Jt(Tt),"0","0","cm"].join(" "))):this.internal.write([Jt(It),"0","0",Jt(Tt),Jt(at),gr(dt+Tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+cr.index+" Do"),this.internal.write("Q")},nt=I.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};I.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var kt=I.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Kt=I.__addimage__.sHashCode=function(at){var dt,It,Tt=0;if(typeof at=="string")for(It=at.length,dt=0;dt<It;dt++)Tt=(Tt<<5)-Tt+at.charCodeAt(dt),Tt|=0;else if(Qt(at))for(It=at.byteLength/2,dt=0;dt<It;dt++)Tt=(Tt<<5)-Tt+at[dt],Tt|=0;return Tt},Et=I.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var dt=!0;return at.length===0&&(dt=!1),at.length%4!=0&&(dt=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&(dt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&(dt=!1),dt},tt=I.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var dt=at.indexOf(",");return dt<0?null:at.substring(0,dt).trim().endsWith("base64")?at.substring(dt+1):null};I.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Qt=I.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},lr=I.__addimage__.binaryStringToUint8Array=function(at){for(var dt=at.length,It=new Uint8Array(dt),Tt=0;Tt<dt;Tt++)It[Tt]=at.charCodeAt(Tt);return It},qt=I.__addimage__.arrayBufferToBinaryString=function(at){for(var dt="",It=Qt(at)?at:new Uint8Array(at),Tt=0;Tt<It.length;Tt+=8192)dt+=String.fromCharCode.apply(null,It.subarray(Tt,Tt+8192));return dt};I.addImage=function(){var at,dt,It,Tt,cr,fr,xr,Jt,gr;if(typeof arguments[1]=="number"?(dt=D,It=arguments[1],Tt=arguments[2],cr=arguments[3],fr=arguments[4],xr=arguments[5],Jt=arguments[6],gr=arguments[7]):(dt=arguments[1],It=arguments[2],Tt=arguments[3],cr=arguments[4],fr=arguments[5],xr=arguments[6],Jt=arguments[7],gr=arguments[8]),(0,d.default)(at=arguments[0])==="object"&&!st(at)&&"imageData"in at){var Zr=at;at=Zr.imageData,dt=Zr.format||dt||D,It=Zr.x||It||0,Tt=Zr.y||Tt||0,cr=Zr.w||Zr.width||cr,fr=Zr.h||Zr.height||fr,xr=Zr.alias||xr,Jt=Zr.compression||Jt,gr=Zr.rotation||Zr.angle||gr}var Hr=this.internal.getFilters();if(Jt===void 0&&Hr.indexOf("FlateEncode")!==-1&&(Jt="SLOW"),isNaN(It)||isNaN(Tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");xe.call(this);var Ye=_t.call(this,at,dt,xr,Jt);return yt.call(this,It,Tt,cr,fr,Ye,gr),this};var _t=function(at,dt,It,Tt){var cr,fr,xr;if(typeof at=="string"&&X(at)===D){at=unescape(at);var Jt=or(at,!1);(Jt!==""||(Jt=I.loadFile(at,!0))!==void 0)&&(at=Jt)}if(st(at)&&(at=Oe(at,dt)),dt=X(at,dt),!et(dt))throw new Error("addImage does not support files of type '"+dt+"', please ensure that a plugin for '"+dt+"' support is added.");if(((xr=It)==null||xr.length===0)&&(It=(function(gr){return typeof gr=="string"||Qt(gr)?Kt(gr):Qt(gr.data)?Kt(gr.data):null})(at)),(cr=vt.call(this,It))||(at instanceof Uint8Array||dt==="RGBA"||(fr=at,at=lr(at)),cr=this["process"+dt.toUpperCase()](at,Ve.call(this),It,(function(gr){return gr&&typeof gr=="string"&&(gr=gr.toUpperCase()),gr in I.image_compression?gr:kt.NONE})(Tt),fr)),!cr)throw new Error("An unknown error occurred whilst processing the image.");return cr},or=I.__addimage__.convertBase64ToBinaryString=function(at,dt){dt=typeof dt!="boolean"||dt;var It,Tt="";if(typeof at=="string"){var cr;It=(cr=tt(at))!==null&&cr!==void 0?cr:at;try{Tt=j(It)}catch(fr){if(dt)throw Et(It)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tt};I.getImageProperties=function(at){var dt,It,Tt="";if(st(at)&&(at=Oe(at)),typeof at=="string"&&X(at)===D&&((Tt=or(at,!1))===""&&(Tt=I.loadFile(at)||""),at=Tt),It=X(at),!et(It))throw new Error("addImage does not support files of type '"+It+"', please ensure that a plugin for '"+It+"' support is added.");if(at instanceof Uint8Array||(at=lr(at)),!(dt=this["process"+It.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return dt.fileType=It,dt}})(pe.API),(function(I){var B=function(D){if(D!==void 0&&D!="")return!0};pe.API.events.push(["addPage",function(D){this.internal.getPageInfo(D.pageNumber).pageContext.annotations=[]}]),I.events.push(["putPage",function(D){for(var K,X,ne,Se=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,xe=this.internal.getPageInfoByObjId(D.objId),De=D.pageContext.annotations,Ve=!1,et=0;et<De.length&&!Ve;et++)switch((K=De[et]).type){case"link":(B(K.options.url)||B(K.options.pageNumber))&&(Ve=!0);break;case"reference":case"text":case"freetext":Ve=!0}if(Ve!=0){this.internal.write("/Annots [");for(var st=0;st<De.length;st++){K=De[st];var Oe=this.internal.pdfEscape,vt=this.internal.getEncryptor(D.objId);switch(K.type){case"reference":this.internal.write(" "+K.object.objId+" 0 R ");break;case"text":var mt=this.internal.newAdditionalObject(),yt=this.internal.newAdditionalObject(),nt=this.internal.getEncryptor(mt.objId),kt=K.title||"Note";ne="<</Type /Annot /Subtype /Text "+(X="/Rect ["+Se(K.bounds.x)+" "+me(K.bounds.y+K.bounds.h)+" "+Se(K.bounds.x+K.bounds.w)+" "+me(K.bounds.y)+"] ")+"/Contents ("+Oe(nt(K.contents))+")",ne+=" /Popup "+yt.objId+" 0 R",ne+=" /P "+xe.objId+" 0 R",ne+=" /T ("+Oe(nt(kt))+") >>",mt.content=ne;var Kt=mt.objId+" 0 R";ne="<</Type /Annot /Subtype /Popup "+(X="/Rect ["+Se(K.bounds.x+30)+" "+me(K.bounds.y+K.bounds.h)+" "+Se(K.bounds.x+K.bounds.w+30)+" "+me(K.bounds.y)+"] ")+" /Parent "+Kt,K.open&&(ne+=" /Open true"),ne+=" >>",yt.content=ne,this.internal.write(mt.objId,"0 R",yt.objId,"0 R");break;case"freetext":X="/Rect ["+Se(K.bounds.x)+" "+me(K.bounds.y)+" "+Se(K.bounds.x+K.bounds.w)+" "+me(K.bounds.y+K.bounds.h)+"] ";var Et=K.color||"#000000";ne="<</Type /Annot /Subtype /FreeText "+X+"/Contents ("+Oe(vt(K.contents))+")",ne+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Et+")",ne+=" /Border [0 0 0]",ne+=" >>",this.internal.write(ne);break;case"link":if(K.options.name){var tt=this.annotations._nameMap[K.options.name];K.options.pageNumber=tt.page,K.options.top=tt.y}else K.options.top||(K.options.top=0);if(X="/Rect ["+K.finalBounds.x+" "+K.finalBounds.y+" "+K.finalBounds.w+" "+K.finalBounds.h+"] ",ne="",K.options.url)ne="<</Type /Annot /Subtype /Link "+X+"/Border [0 0 0] /A <</S /URI /URI ("+Oe(vt(K.options.url))+") >>";else if(K.options.pageNumber)switch(ne="<</Type /Annot /Subtype /Link "+X+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(K.options.pageNumber).objId+" 0 R",K.options.magFactor=K.options.magFactor||"XYZ",K.options.magFactor){case"Fit":ne+=" /Fit]";break;case"FitH":ne+=" /FitH "+K.options.top+"]";break;case"FitV":K.options.left=K.options.left||0,ne+=" /FitV "+K.options.left+"]";break;default:var Qt=me(K.options.top);K.options.left=K.options.left||0,K.options.zoom===void 0&&(K.options.zoom=0),ne+=" /XYZ "+K.options.left+" "+Qt+" "+K.options.zoom+"]"}ne!=""&&(ne+=" >>",this.internal.write(ne))}}this.internal.write("]")}}]),I.createAnnotation=function(D){var K=this.internal.getCurrentPageInfo();switch(D.type){case"link":this.link(D.bounds.x,D.bounds.y,D.bounds.w,D.bounds.h,D);break;case"text":case"freetext":K.pageContext.annotations.push(D)}},I.link=function(D,K,X,ne,Se){var me=this.internal.getCurrentPageInfo(),xe=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString;me.pageContext.annotations.push({finalBounds:{x:xe(D),y:De(K),w:xe(D+X),h:De(K+ne)},options:Se,type:"link"})},I.textWithLink=function(D,K,X,ne){var Se,me,xe=this.getTextWidth(D),De=this.internal.getLineHeight()/this.internal.scaleFactor;if(ne.maxWidth!==void 0){me=ne.maxWidth;var Ve=this.splitTextToSize(D,me).length;Se=Math.ceil(De*Ve)}else me=xe,Se=De;return this.text(D,K,X,ne),X+=.2*De,ne.align==="center"&&(K-=xe/2),ne.align==="right"&&(K-=xe),this.link(K,X-De,me,Se,ne),xe},I.getTextWidth=function(D){var K=this.internal.getFontSize();return this.getStringUnitWidth(D)*K/this.internal.scaleFactor}})(pe.API),(function(I){var B={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},D={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},K={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},X=[1570,1571,1573,1575];I.__arabicParser__={};var ne=I.__arabicParser__.isInArabicSubstitutionA=function(mt){return B[mt.charCodeAt(0)]!==void 0},Se=I.__arabicParser__.isArabicLetter=function(mt){return typeof mt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(mt)},me=I.__arabicParser__.isArabicEndLetter=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length<=2},xe=I.__arabicParser__.isArabicAlfLetter=function(mt){return Se(mt)&&X.indexOf(mt.charCodeAt(0))>=0};I.__arabicParser__.arabicLetterHasIsolatedForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length>=1};var De=I.__arabicParser__.arabicLetterHasFinalForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length>=2};I.__arabicParser__.arabicLetterHasInitialForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length>=3};var Ve=I.__arabicParser__.arabicLetterHasMedialForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length==4},et=I.__arabicParser__.resolveLigatures=function(mt){var yt=0,nt=D,kt="",Kt=0;for(yt=0;yt<mt.length;yt+=1)nt[mt.charCodeAt(yt)]!==void 0?(Kt++,typeof(nt=nt[mt.charCodeAt(yt)])=="number"&&(kt+=String.fromCharCode(nt),nt=D,Kt=0),yt===mt.length-1&&(nt=D,kt+=mt.charAt(yt-(Kt-1)),yt-=Kt-1,Kt=0)):(nt=D,kt+=mt.charAt(yt-Kt),yt-=Kt,Kt=0);return kt};I.__arabicParser__.isArabicDiacritic=function(mt){return mt!==void 0&&K[mt.charCodeAt(0)]!==void 0};var st=I.__arabicParser__.getCorrectForm=function(mt,yt,nt){return Se(mt)?ne(mt)===!1?-1:!De(mt)||!Se(yt)&&!Se(nt)||!Se(nt)&&me(yt)||me(mt)&&!Se(yt)||me(mt)&&xe(yt)||me(mt)&&me(yt)?0:Ve(mt)&&Se(yt)&&!me(yt)&&Se(nt)&&De(nt)?3:me(mt)||!Se(nt)?1:2:-1},Oe=function(mt){var yt=0,nt=0,kt=0,Kt="",Et="",tt="",Qt=(mt=mt||"").split("\\s+"),lr=[];for(yt=0;yt<Qt.length;yt+=1){for(lr.push(""),nt=0;nt<Qt[yt].length;nt+=1)Kt=Qt[yt][nt],Et=Qt[yt][nt-1],tt=Qt[yt][nt+1],Se(Kt)?(kt=st(Kt,Et,tt),lr[yt]+=kt!==-1?String.fromCharCode(B[Kt.charCodeAt(0)][kt]):Kt):lr[yt]+=Kt;lr[yt]=et(lr[yt])}return lr.join(" ")},vt=I.__arabicParser__.processArabic=I.processArabic=function(){var mt,yt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,nt=[];if(Array.isArray(yt)){var kt=0;for(nt=[],kt=0;kt<yt.length;kt+=1)Array.isArray(yt[kt])?nt.push([Oe(yt[kt][0]),yt[kt][1],yt[kt][2]]):nt.push([Oe(yt[kt])]);mt=nt}else mt=Oe(yt);return typeof arguments[0]=="string"?mt:(arguments[0].text=mt,arguments[0])};I.events.push(["preProcessText",vt])})(pe.API),pe.API.autoPrint=function(I){var B;return(I=I||{}).variant=I.variant||"non-conform",I.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){B=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+B+" 0 R")})),this},(function(I){var B=function(){var D=void 0;Object.defineProperty(this,"pdf",{get:function(){return D},set:function(me){D=me}});var K=150;Object.defineProperty(this,"width",{get:function(){return K},set:function(me){K=isNaN(me)||Number.isInteger(me)===!1||me<0?150:me,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=K+1)}});var X=300;Object.defineProperty(this,"height",{get:function(){return X},set:function(me){X=isNaN(me)||Number.isInteger(me)===!1||me<0?300:me,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=X+1)}});var ne=[];Object.defineProperty(this,"childNodes",{get:function(){return ne},set:function(me){ne=me}});var Se={};Object.defineProperty(this,"style",{get:function(){return Se},set:function(me){Se=me}}),Object.defineProperty(this,"parentNode",{})};B.prototype.getContext=function(D,K){var X;if((D=D||"2d")!=="2d")return null;for(X in K)this.pdf.context2d.hasOwnProperty(X)&&(this.pdf.context2d[X]=K[X]);return this.pdf.context2d._canvas=this,this.pdf.context2d},B.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},I.events.push(["initialized",function(){this.canvas=new B,this.canvas.pdf=this}])})(pe.API),(function(I){var B={left:0,top:0,bottom:0,right:0},D=!1,K=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},B),this.internal.__cell__.margins.width=this.getPageWidth(),X.call(this))},X=function(){this.internal.__cell__.lastCell=new ne,this.internal.__cell__.pages=1},ne=function(){var xe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(mt){xe=mt}});var De=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(mt){De=mt}});var Ve=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ve},set:function(mt){Ve=mt}});var et=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return et},set:function(mt){et=mt}});var st=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return st},set:function(mt){st=mt}});var Oe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Oe},set:function(mt){Oe=mt}});var vt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return vt},set:function(mt){vt=mt}}),this};ne.prototype.clone=function(){return new ne(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ne.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},I.setHeaderFunction=function(xe){return K.call(this),this.internal.__cell__.headerFunction=typeof xe=="function"?xe:void 0,this},I.getTextDimensions=function(xe,De){K.call(this);var Ve=(De=De||{}).fontSize||this.getFontSize(),et=De.font||this.getFont(),st=De.scaleFactor||this.internal.scaleFactor,Oe=0,vt=0,mt=0,yt=this;if(!Array.isArray(xe)&&typeof xe!="string"){if(typeof xe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");xe=String(xe)}var nt=De.maxWidth;nt>0?typeof xe=="string"?xe=this.splitTextToSize(xe,nt):Object.prototype.toString.call(xe)==="[object Array]"&&(xe=xe.reduce(function(Kt,Et){return Kt.concat(yt.splitTextToSize(Et,nt))},[])):xe=Array.isArray(xe)?xe:[xe];for(var kt=0;kt<xe.length;kt++)Oe<(mt=this.getStringUnitWidth(xe[kt],{font:et})*Ve)&&(Oe=mt);return Oe!==0&&(vt=xe.length),{w:Oe/=st,h:Math.max((vt*Ve*this.getLineHeightFactor()-Ve*(this.getLineHeightFactor()-1))/st,0)}},I.cellAddPage=function(){K.call(this),this.addPage();var xe=this.internal.__cell__.margins||B;return this.internal.__cell__.lastCell=new ne(xe.left,xe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Se=I.cell=function(){var xe;xe=arguments[0]instanceof ne?arguments[0]:new ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),K.call(this);var De=this.internal.__cell__.lastCell,Ve=this.internal.__cell__.padding,et=this.internal.__cell__.margins||B,st=this.internal.__cell__.tableHeaderRow,Oe=this.internal.__cell__.printHeaders;return De.lineNumber!==void 0&&(De.lineNumber===xe.lineNumber?(xe.x=(De.x||0)+(De.width||0),xe.y=De.y||0):De.y+De.height+xe.height+et.bottom>this.getPageHeight()?(this.cellAddPage(),xe.y=et.top,Oe&&st&&(this.printHeaderRow(xe.lineNumber,!0),xe.y+=st[0].height)):xe.y=De.y+De.height||xe.y),xe.text[0]!==void 0&&(this.rect(xe.x,xe.y,xe.width,xe.height,D===!0?"FD":void 0),xe.align==="right"?this.text(xe.text,xe.x+xe.width-Ve,xe.y+Ve,{align:"right",baseline:"top"}):xe.align==="center"?this.text(xe.text,xe.x+xe.width/2,xe.y+Ve,{align:"center",baseline:"top",maxWidth:xe.width-Ve-Ve}):this.text(xe.text,xe.x+Ve,xe.y+Ve,{align:"left",baseline:"top",maxWidth:xe.width-Ve-Ve})),this.internal.__cell__.lastCell=xe,this};I.table=function(xe,De,Ve,et,st){if(K.call(this),!Ve)throw new Error("No data for PDF table.");var Oe,vt,mt,yt,nt=[],kt=[],Kt=[],Et={},tt={},Qt=[],lr=[],qt=(st=st||{}).autoSize||!1,_t=st.printHeaders!==!1,or=st.css&&st.css["font-size"]!==void 0?16*st.css["font-size"]:st.fontSize||12,at=st.margins||Object.assign({width:this.getPageWidth()},B),dt=typeof st.padding=="number"?st.padding:3,It=st.headerBackgroundColor||"#c8c8c8",Tt=st.headerTextColor||"#000";if(X.call(this),this.internal.__cell__.printHeaders=_t,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=or,this.internal.__cell__.padding=dt,this.internal.__cell__.headerBackgroundColor=It,this.internal.__cell__.headerTextColor=Tt,this.setFontSize(or),et==null)kt=nt=Object.keys(Ve[0]),Kt=nt.map(function(){return"left"});else if(Array.isArray(et)&&(0,d.default)(et[0])==="object")for(nt=et.map(function(Zr){return Zr.name}),kt=et.map(function(Zr){return Zr.prompt||Zr.name||""}),Kt=et.map(function(Zr){return Zr.align||"left"}),Oe=0;Oe<et.length;Oe+=1)tt[et[Oe].name]=.7499990551181103*et[Oe].width;else Array.isArray(et)&&typeof et[0]=="string"&&(kt=nt=et,Kt=nt.map(function(){return"left"}));if(qt||Array.isArray(et)&&typeof et[0]=="string")for(Oe=0;Oe<nt.length;Oe+=1){for(Et[yt=nt[Oe]]=Ve.map(function(Zr){return Zr[yt]}),this.setFont(void 0,"bold"),Qt.push(this.getTextDimensions(kt[Oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),vt=Et[yt],this.setFont(void 0,"normal"),mt=0;mt<vt.length;mt+=1)Qt.push(this.getTextDimensions(vt[mt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[yt]=Math.max.apply(null,Qt)+dt+dt,Qt=[]}if(_t){var cr={};for(Oe=0;Oe<nt.length;Oe+=1)cr[nt[Oe]]={},cr[nt[Oe]].text=kt[Oe],cr[nt[Oe]].align=Kt[Oe];var fr=me.call(this,cr,tt);lr=nt.map(function(Zr){return new ne(xe,De,tt[Zr],fr,cr[Zr].text,void 0,cr[Zr].align)}),this.setTableHeaderRow(lr),this.printHeaderRow(1,!1)}var xr=et.reduce(function(Zr,Hr){return Zr[Hr.name]=Hr.align,Zr},{});for(Oe=0;Oe<Ve.length;Oe+=1){"rowStart"in st&&st.rowStart instanceof Function&&st.rowStart({row:Oe,data:Ve[Oe]},this);var Jt=me.call(this,Ve[Oe],tt);for(mt=0;mt<nt.length;mt+=1){var gr=Ve[Oe][nt[mt]];"cellStart"in st&&st.cellStart instanceof Function&&st.cellStart({row:Oe,col:mt,data:gr},this),Se.call(this,new ne(xe,De,tt[nt[mt]],Jt,gr,Oe+2,xr[nt[mt]]))}}return this.internal.__cell__.table_x=xe,this.internal.__cell__.table_y=De,this};var me=function(xe,De){var Ve=this.internal.__cell__.padding,et=this.internal.__cell__.table_font_size,st=this.internal.scaleFactor;return Object.keys(xe).map(function(Oe){var vt=xe[Oe];return this.splitTextToSize(vt.hasOwnProperty("text")?vt.text:vt,De[Oe]-Ve-Ve)},this).map(function(Oe){return this.getLineHeightFactor()*Oe.length*et/st+Ve+Ve},this).reduce(function(Oe,vt){return Math.max(Oe,vt)},0)};I.setTableHeaderRow=function(xe){K.call(this),this.internal.__cell__.tableHeaderRow=xe},I.printHeaderRow=function(xe,De){if(K.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ve;if(D=!0,typeof this.internal.__cell__.headerFunction=="function"){var et=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ne(et[0],et[1],et[2],et[3],void 0,-1)}this.setFont(void 0,"bold");for(var st=[],Oe=0;Oe<this.internal.__cell__.tableHeaderRow.length;Oe+=1){Ve=this.internal.__cell__.tableHeaderRow[Oe].clone(),De&&(Ve.y=this.internal.__cell__.margins.top||0,st.push(Ve)),Ve.lineNumber=xe;var vt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Se.call(this,Ve),this.setTextColor(vt)}st.length>0&&this.setTableHeaderRow(st),this.setFont(void 0,"normal"),D=!1}})(pe.API);var Ss={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ji=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vi=jn(ji),Ui=[100,200,300,400,500,600,700,800,900],Bi=jn(Ui);function Bs(I){var B=I.family.replace(/"|'/g,"").toLowerCase(),D=(function(ne){return Ss[ne=ne||"normal"]?ne:"normal"})(I.style),K=(function(ne){return ne?typeof ne=="number"?ne>=100&&ne<=900&&ne%100==0?ne:400:/^\d00$/.test(ne)?parseInt(ne):ne==="bold"?700:400:400})(I.weight),X=(function(ne){return typeof vi[ne=ne||"normal"]=="number"?ne:"normal"})(I.stretch);return{family:B,style:D,weight:K,stretch:X,src:I.src||[],ref:I.ref||{name:B,style:[X,D,K].join(" ")}}}function ri(I,B,D,K){var X;for(X=D;X>=0&&X<B.length;X+=K)if(I[B[X]])return I[B[X]];for(X=D;X>=0&&X<B.length;X-=K)if(I[B[X]])return I[B[X]]}var Ks={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Wa={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wc(I){return[I.stretch,I.style,I.weight,I.family].join(" ")}function ms(I){return I.trimLeft()}function Nl(I,B){for(var D=0;D<I.length;){if(I.charAt(D)===B)return[I.substring(0,D),I.substring(D+1)];D+=1}return null}function jc(I){var B=I.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return B===null?null:[B[0],I.substring(B[0].length)]}var Sl,Hi,go,ha,Yl,ni,Bo,Gs,Eo=["times"];function el(I,B,D,K,X){var ne=4,Se=Ci;switch(X){case pe.API.image_compression.FAST:ne=1,Se=Hs;break;case pe.API.image_compression.MEDIUM:ne=6,Se=ai;break;case pe.API.image_compression.SLOW:ne=9,Se=Al}I=(function(xe,De,Ve,et){for(var st,Oe=xe.length/De,vt=new Uint8Array(xe.length+Oe),mt=[Io,Hs,Ci,ai,Al],yt=0;yt<Oe;yt+=1){var nt=yt*De,kt=xe.subarray(nt,nt+De);if(et)vt.set(et(kt,Ve,st),nt+yt);else{for(var Kt=mt.length,Et=[],tt=0;tt<Kt;tt+=1)Et[tt]=mt[tt](kt,Ve,st);var Qt=Lc(Et.concat());vt.set(Et[Qt],nt+yt)}st=kt}return vt})(I,B,Math.ceil(D*K/8),Se);var me=(0,h.zlibSync)(I,{level:ne});return pe.API.__addimage__.arrayBufferToBinaryString(me)}function Io(I){var B=Array.apply([],I);return B.unshift(0),B}function Hs(I,B){var D=I.length,K=[];K[0]=1;for(var X=0;X<D;X+=1){var ne=I[X-B]||0;K[X+1]=I[X]-ne+256&255}return K}function Ci(I,B,D){var K=I.length,X=[];X[0]=2;for(var ne=0;ne<K;ne+=1){var Se=D&&D[ne]||0;X[ne+1]=I[ne]-Se+256&255}return X}function ai(I,B,D){var K=I.length,X=[];X[0]=3;for(var ne=0;ne<K;ne+=1){var Se=I[ne-B]||0,me=D&&D[ne]||0;X[ne+1]=I[ne]+256-(Se+me>>>1)&255}return X}function Al(I,B,D){var K=I.length,X=[];X[0]=4;for(var ne=0;ne<K;ne+=1){var Se=To(I[ne-B]||0,D&&D[ne]||0,D&&D[ne-B]||0);X[ne+1]=I[ne]-Se+256&255}return X}function To(I,B,D){if(I===B&&B===D)return I;var K=Math.abs(B-D),X=Math.abs(I-D),ne=Math.abs(I+B-D-D);return K<=X&&K<=ne?I:X<=ne?B:D}function Lc(I){var B=I.map(function(D){return D.reduce(function(K,X){return K+Math.abs(X)},0)});return B.indexOf(Math.min.apply(null,B))}function ls(I,B,D){var K=B*D,X=Math.floor(K/8),ne=16-(K-8*X+D),Se=(1<<D)-1;return Qi(I,X)>>ne&Se}function qn(I,B,D,K){var X=D*K,ne=Math.floor(X/8),Se=16-(X-8*ne+K),me=(1<<K)-1,xe=(B&me)<<Se;(function(De,Ve,et){if(Ve+1<De.byteLength)De.setUint16(Ve,et,!1);else{var st=et>>8&255;De.setUint8(Ve,st)}})(I,ne,Qi(I,ne)&~(me<<Se)&65535|xe)}function Qi(I,B){return B+1<I.byteLength?I.getUint16(B,!1):I.getUint8(B)<<8}function gs(I){var B=0;if(I[B++]!==71||I[B++]!==73||I[B++]!==70||I[B++]!==56||(I[B++]+1&253)!=56||I[B++]!==97)throw new Error("Invalid GIF 87a/89a header.");var D=I[B++]|I[B++]<<8,K=I[B++]|I[B++]<<8,X=I[B++],ne=X>>7,Se=1<<1+(7&X);I[B++],I[B++];var me=null,xe=null;ne&&(me=B,xe=Se,B+=3*Se);var De=!0,Ve=[],et=0,st=null,Oe=0,vt=null;for(this.width=D,this.height=K;De&&B<I.length;)switch(I[B++]){case 33:switch(I[B++]){case 255:if(I[B]!==11||I[B+1]==78&&I[B+2]==69&&I[B+3]==84&&I[B+4]==83&&I[B+5]==67&&I[B+6]==65&&I[B+7]==80&&I[B+8]==69&&I[B+9]==50&&I[B+10]==46&&I[B+11]==48&&I[B+12]==3&&I[B+13]==1&&I[B+16]==0)B+=14,vt=I[B++]|I[B++]<<8,B++;else for(B+=12;;){if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}break;case 249:if(I[B++]!==4||I[B+4]!==0)throw new Error("Invalid graphics extension block.");var mt=I[B++];et=I[B++]|I[B++]<<8,st=I[B++],1&mt||(st=null),Oe=mt>>2&7,B++;break;case 254:for(;;){if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}break;default:throw new Error("Unknown graphic control label: 0x"+I[B-1].toString(16))}break;case 44:var yt=I[B++]|I[B++]<<8,nt=I[B++]|I[B++]<<8,kt=I[B++]|I[B++]<<8,Kt=I[B++]|I[B++]<<8,Et=I[B++],tt=Et>>6&1,Qt=1<<1+(7&Et),lr=me,qt=xe,_t=!1;Et>>7&&(_t=!0,lr=B,qt=Qt,B+=3*Qt);var or=B;for(B++;;){var at;if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}Ve.push({x:yt,y:nt,width:kt,height:Kt,has_local_palette:_t,palette_offset:lr,palette_size:qt,data_offset:or,data_length:B-or,transparent_index:st,interlaced:!!tt,delay:et,disposal:Oe});break;case 59:De=!1;break;default:throw new Error("Unknown gif block: 0x"+I[B-1].toString(16))}this.numFrames=function(){return Ve.length},this.loopCount=function(){return vt},this.frameInfo=function(dt){if(dt<0||dt>=Ve.length)throw new Error("Frame index out of range.");return Ve[dt]},this.decodeAndBlitFrameBGRA=function(dt,It){var Tt=this.frameInfo(dt),cr=Tt.width*Tt.height,fr=new Uint8Array(cr);vs(I,Tt.data_offset,fr,cr);var xr=Tt.palette_offset,Jt=Tt.transparent_index;Jt===null&&(Jt=256);var gr=Tt.width,Zr=D-gr,Hr=gr,Ye=4*(Tt.y*D+Tt.x),xt=4*((Tt.y+Tt.height)*D+Tt.x),Nt=Ye,Wt=4*Zr;Tt.interlaced===!0&&(Wt+=4*D*7);for(var zt=8,nr=0,mr=fr.length;nr<mr;++nr){var vr=fr[nr];if(Hr===0&&(Hr=gr,(Nt+=Wt)>=xt&&(Wt=4*Zr+4*D*(zt-1),Nt=Ye+(gr+Zr)*(zt<<1),zt>>=1)),vr===Jt)Nt+=4;else{var Pr=I[xr+3*vr],Jr=I[xr+3*vr+1],Cn=I[xr+3*vr+2];It[Nt++]=Cn,It[Nt++]=Jr,It[Nt++]=Pr,It[Nt++]=255}--Hr}},this.decodeAndBlitFrameRGBA=function(dt,It){var Tt=this.frameInfo(dt),cr=Tt.width*Tt.height,fr=new Uint8Array(cr);vs(I,Tt.data_offset,fr,cr);var xr=Tt.palette_offset,Jt=Tt.transparent_index;Jt===null&&(Jt=256);var gr=Tt.width,Zr=D-gr,Hr=gr,Ye=4*(Tt.y*D+Tt.x),xt=4*((Tt.y+Tt.height)*D+Tt.x),Nt=Ye,Wt=4*Zr;Tt.interlaced===!0&&(Wt+=4*D*7);for(var zt=8,nr=0,mr=fr.length;nr<mr;++nr){var vr=fr[nr];if(Hr===0&&(Hr=gr,(Nt+=Wt)>=xt&&(Wt=4*Zr+4*D*(zt-1),Nt=Ye+(gr+Zr)*(zt<<1),zt>>=1)),vr===Jt)Nt+=4;else{var Pr=I[xr+3*vr],Jr=I[xr+3*vr+1],Cn=I[xr+3*vr+2];It[Nt++]=Pr,It[Nt++]=Jr,It[Nt++]=Cn,It[Nt++]=255}--Hr}}}function vs(I,B,D,K){for(var X=I[B++],ne=1<<X,Se=ne+1,me=Se+1,xe=X+1,De=(1<<xe)-1,Ve=0,et=0,st=0,Oe=I[B++],vt=new Int32Array(4096),mt=null;;){for(;Ve<16&&Oe!==0;)et|=I[B++]<<Ve,Ve+=8,Oe===1?Oe=I[B++]:--Oe;if(Ve<xe)break;var yt=et&De;if(et>>=xe,Ve-=xe,yt!==ne){if(yt===Se)break;for(var nt=yt<me?yt:mt,kt=0,Kt=nt;Kt>ne;)Kt=vt[Kt]>>8,++kt;var Et=Kt;if(st+kt+(nt!==yt?1:0)>K)return void x.log("Warning, gif stream longer than expected.");D[st++]=Et;var tt=st+=kt;for(nt!==yt&&(D[st++]=Et),Kt=nt;kt--;)Kt=vt[Kt],D[--tt]=255&Kt,Kt>>=8;mt!==null&&me<4096&&(vt[me++]=mt<<8|Et,me>=De+1&&xe<12&&(++xe,De=De<<1|1)),mt=yt}else me=Se+1,De=(1<<(xe=X+1))-1,mt=null}return st!==K&&x.log("Warning, gif stream shorter than expected."),D}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function _o(I){var B,D,K,X,ne,Se=Math.floor,me=new Array(64),xe=new Array(64),De=new Array(64),Ve=new Array(64),et=new Array(65535),st=new Array(65535),Oe=new Array(64),vt=new Array(64),mt=[],yt=0,nt=7,kt=new Array(64),Kt=new Array(64),Et=new Array(64),tt=new Array(256),Qt=new Array(2048),lr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],qt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_t=[0,1,2,3,4,5,6,7,8,9,10,11],or=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],dt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],It=[0,1,2,3,4,5,6,7,8,9,10,11],Tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],cr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fr(Ye,xt){for(var Nt=0,Wt=0,zt=new Array,nr=1;nr<=16;nr++){for(var mr=1;mr<=Ye[nr];mr++)zt[xt[Wt]]=[],zt[xt[Wt]][0]=Nt,zt[xt[Wt]][1]=nr,Wt++,Nt++;Nt*=2}return zt}function xr(Ye){for(var xt=Ye[0],Nt=Ye[1]-1;Nt>=0;)xt&1<<Nt&&(yt|=1<<nt),Nt--,--nt<0&&(yt==255?(Jt(255),Jt(0)):Jt(yt),nt=7,yt=0)}function Jt(Ye){mt.push(Ye)}function gr(Ye){Jt(Ye>>8&255),Jt(255&Ye)}function Zr(Ye,xt,Nt,Wt,zt){for(var nr,mr=zt[0],vr=zt[240],Pr=(function(Qr,oa){var Mn,Jn,Rn,fi,La,Fn,si,la,_n,ua,On=0;for(_n=0;_n<8;++_n){Mn=Qr[On],Jn=Qr[On+1],Rn=Qr[On+2],fi=Qr[On+3],La=Qr[On+4],Fn=Qr[On+5],si=Qr[On+6];var wa=Mn+(la=Qr[On+7]),ci=Mn-la,Va=Jn+si,za=Jn-si,Ji=Rn+Fn,Kn=Rn-Fn,Ei=fi+La,ga=fi-La,zn=wa+Ei,Ii=wa-Ei,ja=Va+Ji,En=Va-Ji;Qr[On]=zn+ja,Qr[On+4]=zn-ja;var Xa=.707106781*(En+Ii);Qr[On+2]=Ii+Xa,Qr[On+6]=Ii-Xa;var eu=.382683433*((zn=ga+Kn)-(En=za+ci)),Qs=.5411961*zn+eu,xo=1.306562965*En+eu,Cc=.707106781*(ja=Kn+za),Aa=ci+Cc,ys=ci-Cc;Qr[On+5]=ys+Qs,Qr[On+3]=ys-Qs,Qr[On+1]=Aa+xo,Qr[On+7]=Aa-xo,On+=8}for(On=0,_n=0;_n<8;++_n){Mn=Qr[On],Jn=Qr[On+8],Rn=Qr[On+16],fi=Qr[On+24],La=Qr[On+32],Fn=Qr[On+40],si=Qr[On+48];var yo=Mn+(la=Qr[On+56]),Bl=Mn-la,Ps=Jn+si,Pi=Jn-si,Es=Rn+Fn,oo=Rn-Fn,tu=fi+La,Xs=fi-La,tl=yo+tu,Nc=yo-tu,Zl=Ps+Es,Ys=Ps-Es;Qr[On]=tl+Zl,Qr[On+32]=tl-Zl;var rl=.707106781*(Ys+Nc);Qr[On+16]=Nc+rl,Qr[On+48]=Nc-rl;var El=.382683433*((tl=Xs+oo)-(Ys=Pi+Bl)),$o=.5411961*tl+El,Po=1.306562965*Ys+El,Jl=.707106781*(Zl=oo+Pi),Il=Bl+Jl,Sc=Bl-Jl;Qr[On+40]=Sc+$o,Qr[On+24]=Sc-$o,Qr[On+8]=Il+Po,Qr[On+56]=Il-Po,On++}for(_n=0;_n<64;++_n)ua=Qr[_n]*oa[_n],Oe[_n]=ua>0?ua+.5|0:ua-.5|0;return Oe})(Ye,xt),Jr=0;Jr<64;++Jr)vt[lr[Jr]]=Pr[Jr];var Cn=vt[0]-Nt;Nt=vt[0],Cn==0?xr(Wt[0]):(xr(Wt[st[nr=32767+Cn]]),xr(et[nr]));for(var Bn=63;Bn>0&&vt[Bn]==0;)Bn--;if(Bn==0)return xr(mr),Nt;for(var ca,ut=1;ut<=Bn;){for(var hn=ut;vt[ut]==0&&ut<=Bn;)++ut;var ma=ut-hn;if(ma>=16){ca=ma>>4;for(var un=1;un<=ca;++un)xr(vr);ma&=15}nr=32767+vt[ut],xr(zt[(ma<<4)+st[nr]]),xr(et[nr]),ut++}return Bn!=63&&xr(mr),Nt}function Hr(Ye){Ye=Math.min(Math.max(Ye,1),100),ne!=Ye&&((function(xt){for(var Nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Wt=0;Wt<64;Wt++){var zt=Se((Nt[Wt]*xt+50)/100);zt=Math.min(Math.max(zt,1),255),me[lr[Wt]]=zt}for(var nr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mr=0;mr<64;mr++){var vr=Se((nr[mr]*xt+50)/100);vr=Math.min(Math.max(vr,1),255),xe[lr[mr]]=vr}for(var Pr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Jr=0,Cn=0;Cn<8;Cn++)for(var Bn=0;Bn<8;Bn++)De[Jr]=1/(me[lr[Jr]]*Pr[Cn]*Pr[Bn]*8),Ve[Jr]=1/(xe[lr[Jr]]*Pr[Cn]*Pr[Bn]*8),Jr++})(Ye<50?Math.floor(5e3/Ye):Math.floor(200-2*Ye)),ne=Ye)}this.encode=function(Ye,xt){xt&&Hr(xt),mt=new Array,yt=0,nt=7,gr(65496),gr(65504),gr(16),Jt(74),Jt(70),Jt(73),Jt(70),Jt(0),Jt(1),Jt(1),Jt(0),gr(1),gr(1),Jt(0),Jt(0),(function(){gr(65499),gr(132),Jt(0);for(var Jn=0;Jn<64;Jn++)Jt(me[Jn]);Jt(1);for(var Rn=0;Rn<64;Rn++)Jt(xe[Rn])})(),(function(Jn,Rn){gr(65472),gr(17),Jt(8),gr(Rn),gr(Jn),Jt(3),Jt(1),Jt(17),Jt(0),Jt(2),Jt(17),Jt(1),Jt(3),Jt(17),Jt(1)})(Ye.width,Ye.height),(function(){gr(65476),gr(418),Jt(0);for(var Jn=0;Jn<16;Jn++)Jt(qt[Jn+1]);for(var Rn=0;Rn<=11;Rn++)Jt(_t[Rn]);Jt(16);for(var fi=0;fi<16;fi++)Jt(or[fi+1]);for(var La=0;La<=161;La++)Jt(at[La]);Jt(1);for(var Fn=0;Fn<16;Fn++)Jt(dt[Fn+1]);for(var si=0;si<=11;si++)Jt(It[si]);Jt(17);for(var la=0;la<16;la++)Jt(Tt[la+1]);for(var _n=0;_n<=161;_n++)Jt(cr[_n])})(),gr(65498),gr(12),Jt(3),Jt(1),Jt(0),Jt(2),Jt(17),Jt(3),Jt(17),Jt(0),Jt(63),Jt(0);var Nt=0,Wt=0,zt=0;yt=0,nt=7,this.encode.displayName="_encode_";for(var nr,mr,vr,Pr,Jr,Cn,Bn,ca,ut,hn=Ye.data,ma=Ye.width,un=Ye.height,Qr=4*ma,oa=0;oa<un;){for(nr=0;nr<Qr;){for(Jr=Qr*oa+nr,Bn=-1,ca=0,ut=0;ut<64;ut++)Cn=Jr+(ca=ut>>3)*Qr+(Bn=4*(7&ut)),oa+ca>=un&&(Cn-=Qr*(oa+1+ca-un)),nr+Bn>=Qr&&(Cn-=nr+Bn-Qr+4),mr=hn[Cn++],vr=hn[Cn++],Pr=hn[Cn++],kt[ut]=(Qt[mr]+Qt[vr+256|0]+Qt[Pr+512|0]>>16)-128,Kt[ut]=(Qt[mr+768|0]+Qt[vr+1024|0]+Qt[Pr+1280|0]>>16)-128,Et[ut]=(Qt[mr+1280|0]+Qt[vr+1536|0]+Qt[Pr+1792|0]>>16)-128;Nt=Zr(kt,De,Nt,B,K),Wt=Zr(Kt,Ve,Wt,D,X),zt=Zr(Et,Ve,zt,D,X),nr+=32}oa+=8}if(nt>=0){var Mn=[];Mn[1]=nt+1,Mn[0]=(1<<nt+1)-1,xr(Mn)}return gr(65497),new Uint8Array(mt)},I=I||50,(function(){for(var Ye=String.fromCharCode,xt=0;xt<256;xt++)tt[xt]=Ye(xt)})(),B=fr(qt,_t),D=fr(dt,It),K=fr(or,at),X=fr(Tt,cr),(function(){for(var Ye=1,xt=2,Nt=1;Nt<=15;Nt++){for(var Wt=Ye;Wt<xt;Wt++)st[32767+Wt]=Nt,et[32767+Wt]=[],et[32767+Wt][1]=Nt,et[32767+Wt][0]=Wt;for(var zt=-(xt-1);zt<=-Ye;zt++)st[32767+zt]=Nt,et[32767+zt]=[],et[32767+zt][1]=Nt,et[32767+zt][0]=xt-1+zt;Ye<<=1,xt<<=1}})(),(function(){for(var Ye=0;Ye<256;Ye++)Qt[Ye]=19595*Ye,Qt[Ye+256|0]=38470*Ye,Qt[Ye+512|0]=7471*Ye+32768,Qt[Ye+768|0]=-11059*Ye,Qt[Ye+1024|0]=-21709*Ye,Qt[Ye+1280|0]=32768*Ye+8421375,Qt[Ye+1536|0]=-27439*Ye,Qt[Ye+1792|0]=-5329*Ye})(),Hr(I)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Di(I,B){if(this.pos=0,this.buffer=I,this.datav=new DataView(I.buffer),this.is_with_alpha=!!B,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function so(I){function B(_t){if(!_t)throw Error("assert :P")}function D(_t,or,at){for(var dt=0;4>dt;dt++)if(_t[or+dt]!=at.charCodeAt(dt))return!0;return!1}function K(_t,or,at,dt,It){for(var Tt=0;Tt<It;Tt++)_t[or+Tt]=at[dt+Tt]}function X(_t,or,at,dt){for(var It=0;It<dt;It++)_t[or+It]=at}function ne(_t){return new Int32Array(_t)}function Se(_t,or){for(var at=[],dt=0;dt<_t;dt++)at.push(new or);return at}function me(_t,or){var at=[];return(function dt(It,Tt,cr){for(var fr=cr[Tt],xr=0;xr<fr&&(It.push(cr.length>Tt+1?[]:new or),!(cr.length<Tt+1));xr++)dt(It[xr],Tt+1,cr)})(at,0,_t),at}var xe=function(){var _t=this;function or(O,G){for(var be=1<<G-1>>>0;O&be;)be>>>=1;return be?(O&be-1)+be:O}function at(O,G,be,Te,Qe){B(!(Te%be));do O[G+(Te-=be)]=Qe;while(0<Te)}function dt(O,G,be,Te,Qe){if(B(2328>=Qe),512>=Qe)var Ke=ne(512);else if((Ke=ne(Qe))==null)return 0;return(function(qe,Je,rt,pt,Ft,rr){var At,Mt,Yt=Je,wr=1<<rt,ar=ne(16),Nr=ne(16);for(B(Ft!=0),B(pt!=null),B(qe!=null),B(0<rt),Mt=0;Mt<Ft;++Mt){if(15<pt[Mt])return 0;++ar[pt[Mt]]}if(ar[0]==Ft)return 0;for(Nr[1]=0,At=1;15>At;++At){if(ar[At]>1<<At)return 0;Nr[At+1]=Nr[At]+ar[At]}for(Mt=0;Mt<Ft;++Mt)At=pt[Mt],0<pt[Mt]&&(rr[Nr[At]++]=Mt);if(Nr[15]==1)return(pt=new It).g=0,pt.value=rr[0],at(qe,Yt,1,wr,pt),wr;var Er,Rr=-1,Tr=wr-1,ta=0,kn=1,$a=1,yn=1<<rt;for(Mt=0,At=1,Ft=2;At<=rt;++At,Ft<<=1){if(kn+=$a<<=1,0>($a-=ar[At]))return 0;for(;0<ar[At];--ar[At])(pt=new It).g=At,pt.value=rr[Mt++],at(qe,Yt+ta,Ft,yn,pt),ta=or(ta,At)}for(At=rt+1,Ft=2;15>=At;++At,Ft<<=1){if(kn+=$a<<=1,0>($a-=ar[At]))return 0;for(;0<ar[At];--ar[At]){if(pt=new It,(ta&Tr)!=Rr){for(Yt+=yn,Er=1<<(Rr=At)-rt;15>Rr&&!(0>=(Er-=ar[Rr]));)++Rr,Er<<=1;wr+=yn=1<<(Er=Rr-rt),qe[Je+(Rr=ta&Tr)].g=Er+rt,qe[Je+Rr].value=Yt-Je-Rr}pt.g=At-rt,pt.value=rr[Mt++],at(qe,Yt+(ta>>rt),Ft,yn,pt),ta=or(ta,At)}}return kn!=2*Nr[15]-1?0:wr})(O,G,be,Te,Qe,Ke)}function It(){this.value=this.g=0}function Tt(){this.value=this.g=0}function cr(){this.G=Se(5,It),this.H=ne(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Se(ka,Tt)}function fr(O,G,be,Te){B(O!=null),B(G!=null),B(2147483648>Te),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=G,O.pa=be,O.Jd=G,O.Yc=be+Te,O.Zc=4<=Te?be+Te-4+1:be,mr(O)}function xr(O,G){for(var be=0;0<G--;)be|=Pr(O,128)<<G;return be}function Jt(O,G){var be=xr(O,G);return vr(O)?-be:be}function gr(O,G,be,Te){var Qe,Ke=0;for(B(O!=null),B(G!=null),B(4294967288>Te),O.Sb=Te,O.Ra=0,O.u=0,O.h=0,4<Te&&(Te=4),Qe=0;Qe<Te;++Qe)Ke+=G[be+Qe]<<8*Qe;O.Ra=Ke,O.bb=Te,O.oa=G,O.pa=be}function Zr(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<wo-8>>>0,++O.bb,O.u-=8;Wt(O)&&(O.h=1,O.u=0)}function Hr(O,G){if(B(0<=G),!O.h&&G<=da){var be=Nt(O)&Qn[G];return O.u+=G,Zr(O),be}return O.h=1,O.u=0}function Ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function xt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Nt(O){return O.Ra>>>(O.u&wo-1)>>>0}function Wt(O){return B(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>wo}function zt(O,G){O.u=G,O.h=Wt(O)}function nr(O){O.u>=ic&&(B(O.u>=ic),Zr(O))}function mr(O){B(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(B(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function vr(O){return xr(O,1)}function Pr(O,G){var be=O.Ca;0>O.b&&mr(O);var Te=O.b,Qe=be*G>>>8,Ke=(O.I>>>Te>Qe)+0;for(Ke?(be-=Qe,O.I-=Qe+1<<Te>>>0):be=Qe+1,Te=be,Qe=0;256<=Te;)Qe+=8,Te>>=8;return Te=7^Qe+Do[Te],O.b-=Te,O.Ca=(be<<Te)-1,Ke}function Jr(O,G,be){O[G+0]=be>>24&255,O[G+1]=be>>16&255,O[G+2]=be>>8&255,O[G+3]=255&be}function Cn(O,G){return O[G+0]|O[G+1]<<8}function Bn(O,G){return Cn(O,G)|O[G+2]<<16}function ca(O,G){return Cn(O,G)|Cn(O,G+2)<<16}function ut(O,G){var be=1<<G;return B(O!=null),B(0<G),O.X=ne(be),O.X==null?0:(O.Mb=32-G,O.Xa=G,1)}function hn(O,G){B(O!=null),B(G!=null),B(O.Xa==G.Xa),K(G.X,0,O.X,0,1<<G.Xa)}function ma(){this.X=[],this.Xa=this.Mb=0}function un(O,G,be,Te){B(be!=null),B(Te!=null);var Qe=be[0],Ke=Te[0];return Qe==0&&(Qe=(O*Ke+G/2)/G),Ke==0&&(Ke=(G*Qe+O/2)/O),0>=Qe||0>=Ke?0:(be[0]=Qe,Te[0]=Ke,1)}function Qr(O,G){return O+(1<<G)-1>>>G}function oa(O,G){return((4278255360&O)+(4278255360&G)>>>0&4278255360)+((16711935&O)+(16711935&G)>>>0&16711935)>>>0}function Mn(O,G){_t[G]=function(be,Te,Qe,Ke,qe,Je,rt){var pt;for(pt=0;pt<qe;++pt){var Ft=_t[O](Je[rt+pt-1],Qe,Ke+pt);Je[rt+pt]=oa(be[Te+pt],Ft)}}}function Jn(){this.ud=this.hd=this.jd=0}function Rn(O,G){return((4278124286&(O^G))>>>1)+(O&G)>>>0}function fi(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function La(O,G){return fi(O+(O-G+.5>>1))}function Fn(O,G,be){return Math.abs(G-be)-Math.abs(O-be)}function si(O,G,be,Te,Qe,Ke,qe){for(Te=Ke[qe-1],be=0;be<Qe;++be)Ke[qe+be]=Te=oa(O[G+be],Te)}function la(O,G,be,Te,Qe){var Ke;for(Ke=0;Ke<be;++Ke){var qe=O[G+Ke],Je=qe>>8&255,rt=16711935&(rt=(rt=16711935&qe)+((Je<<16)+Je));Te[Qe+Ke]=(4278255360&qe)+rt>>>0}}function _n(O,G){G.jd=255&O,G.hd=O>>8&255,G.ud=O>>16&255}function ua(O,G,be,Te,Qe,Ke){var qe;for(qe=0;qe<Te;++qe){var Je=G[be+qe],rt=Je>>>8,pt=Je,Ft=255&(Ft=(Ft=Je>>>16)+((O.jd<<24>>24)*(rt<<24>>24)>>>5));pt=255&(pt=(pt+=(O.hd<<24>>24)*(rt<<24>>24)>>>5)+((O.ud<<24>>24)*(Ft<<24>>24)>>>5)),Qe[Ke+qe]=(4278255360&Je)+(Ft<<16)+pt}}function On(O,G,be,Te,Qe){_t[G]=function(Ke,qe,Je,rt,pt,Ft,rr,At,Mt){for(rt=rr;rt<At;++rt)for(rr=0;rr<Mt;++rr)pt[Ft++]=Qe(Je[Te(Ke[qe++])])},_t[O]=function(Ke,qe,Je,rt,pt,Ft,rr){var At=8>>Ke.b,Mt=Ke.Ea,Yt=Ke.K[0],wr=Ke.w;if(8>At)for(Ke=(1<<Ke.b)-1,wr=(1<<At)-1;qe<Je;++qe){var ar,Nr=0;for(ar=0;ar<Mt;++ar)ar&Ke||(Nr=Te(rt[pt++])),Ft[rr++]=Qe(Yt[Nr&wr]),Nr>>=At}else _t["VP8LMapColor"+be](rt,pt,Yt,wr,Ft,rr,qe,Je,Mt)}}function wa(O,G,be,Te,Qe){for(be=G+be;G<be;){var Ke=O[G++];Te[Qe++]=Ke>>16&255,Te[Qe++]=Ke>>8&255,Te[Qe++]=255&Ke}}function ci(O,G,be,Te,Qe){for(be=G+be;G<be;){var Ke=O[G++];Te[Qe++]=Ke>>16&255,Te[Qe++]=Ke>>8&255,Te[Qe++]=255&Ke,Te[Qe++]=Ke>>24&255}}function Va(O,G,be,Te,Qe){for(be=G+be;G<be;){var Ke=(qe=O[G++])>>16&240|qe>>12&15,qe=240&qe|qe>>28&15;Te[Qe++]=Ke,Te[Qe++]=qe}}function za(O,G,be,Te,Qe){for(be=G+be;G<be;){var Ke=(qe=O[G++])>>16&248|qe>>13&7,qe=qe>>5&224|qe>>3&31;Te[Qe++]=Ke,Te[Qe++]=qe}}function Ji(O,G,be,Te,Qe){for(be=G+be;G<be;){var Ke=O[G++];Te[Qe++]=255&Ke,Te[Qe++]=Ke>>8&255,Te[Qe++]=Ke>>16&255}}function Kn(O,G,be,Te,Qe,Ke){if(Ke==0)for(be=G+be;G<be;)Jr(Te,((Ke=O[G++])[0]>>24|Ke[1]>>8&65280|Ke[2]<<8&16711680|Ke[3]<<24)>>>0),Qe+=32;else K(Te,Qe,O,G,be)}function Ei(O,G){_t[G][0]=_t[O+"0"],_t[G][1]=_t[O+"1"],_t[G][2]=_t[O+"2"],_t[G][3]=_t[O+"3"],_t[G][4]=_t[O+"4"],_t[G][5]=_t[O+"5"],_t[G][6]=_t[O+"6"],_t[G][7]=_t[O+"7"],_t[G][8]=_t[O+"8"],_t[G][9]=_t[O+"9"],_t[G][10]=_t[O+"10"],_t[G][11]=_t[O+"11"],_t[G][12]=_t[O+"12"],_t[G][13]=_t[O+"13"],_t[G][14]=_t[O+"0"],_t[G][15]=_t[O+"0"]}function ga(O){return O==jA||O==Vh||O==Tu||O==CA}function zn(){this.eb=[],this.size=this.A=this.fb=0}function Ii(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ja(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zn,this.f.kb=new Ii,this.sd=null}function En(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xa(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function eu(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function Qs(O,G){var be=O.T,Te=G.ba.f.RGBA,Qe=Te.eb,Ke=Te.fb+O.ka*Te.A,qe=cc[G.ba.S],Je=O.y,rt=O.O,pt=O.f,Ft=O.N,rr=O.ea,At=O.W,Mt=G.cc,Yt=G.dc,wr=G.Mc,ar=G.Nc,Nr=O.ka,Er=O.ka+O.T,Rr=O.U,Tr=Rr+1>>1;for(Nr==0?qe(Je,rt,null,null,pt,Ft,rr,At,pt,Ft,rr,At,Qe,Ke,null,null,Rr):(qe(G.ec,G.fc,Je,rt,Mt,Yt,wr,ar,pt,Ft,rr,At,Qe,Ke-Te.A,Qe,Ke,Rr),++be);Nr+2<Er;Nr+=2)Mt=pt,Yt=Ft,wr=rr,ar=At,Ft+=O.Rc,At+=O.Rc,Ke+=2*Te.A,qe(Je,(rt+=2*O.fa)-O.fa,Je,rt,Mt,Yt,wr,ar,pt,Ft,rr,At,Qe,Ke-Te.A,Qe,Ke,Rr);return rt+=O.fa,O.j+Er<O.o?(K(G.ec,G.fc,Je,rt,Rr),K(G.cc,G.dc,pt,Ft,Tr),K(G.Mc,G.Nc,rr,At,Tr),be--):1&Er||qe(Je,rt,null,null,pt,Ft,rr,At,pt,Ft,rr,At,Qe,Ke+Te.A,null,null,Rr),be}function xo(O,G,be){var Te=O.F,Qe=[O.J];if(Te!=null){var Ke=O.U,qe=G.ba.S,Je=qe==uo||qe==Tu;G=G.ba.f.RGBA;var rt=[0],pt=O.ka;rt[0]=O.T,O.Kb&&(pt==0?--rt[0]:(--pt,Qe[0]-=O.width),O.j+O.ka+O.T==O.o&&(rt[0]=O.o-O.j-pt));var Ft=G.eb;pt=G.fb+pt*G.A,O=al(Te,Qe[0],O.width,Ke,rt,Ft,pt+(Je?0:3),G.A),B(be==rt),O&&ga(qe)&&Zs(Ft,pt,Je,Ke,rt,G.A)}return 0}function Cc(O){var G=O.ma,be=G.ba.S,Te=11>be,Qe=be==Wh||be==ph||be==uo||be==bd||be==12||ga(be);if(G.memory=null,G.Ib=null,G.Jb=null,G.Nd=null,!es(G.Oa,O,Qe?11:12))return 0;if(Qe&&ga(be)&&ot(),O.da)alert("todo:use_scaling");else{if(Te){if(G.Ib=eu,O.Kb){if(be=O.U+1>>1,G.memory=ne(O.U+2*be),G.memory==null)return 0;G.ec=G.memory,G.fc=0,G.cc=G.ec,G.dc=G.fc+O.U,G.Mc=G.cc,G.Nc=G.dc+be,G.Ib=Qs,ot()}}else alert("todo:EmitYUV");Qe&&(G.Jb=xo,Te&&Xe())}if(Te&&!wf){for(O=0;256>O;++O)jf[O]=89858*(O-128)+Yd>>Cd,vl[O]=-22014*(O-128)+Yd,Rl[O]=-45773*(O-128),Cf[O]=113618*(O-128)+Yd>>Cd;for(O=gh;O<TA;++O)G=76283*(O-16)+Yd>>Cd,_A[O-gh]=ec(G,255),Nf[O-gh]=ec(G+8>>4,15);wf=1}return 1}function Aa(O){var G=O.ma,be=O.U,Te=O.T;return B(!(1&O.ka)),0>=be||0>=Te?0:(be=G.Ib(O,G),G.Jb!=null&&G.Jb(O,G,be),G.Dc+=be,1)}function ys(O){O.ma.memory=null}function yo(O,G,be,Te){return Hr(O,8)!=47?0:(G[0]=Hr(O,14)+1,be[0]=Hr(O,14)+1,Te[0]=Hr(O,1),Hr(O,3)!=0?0:!O.h)}function Bl(O,G){if(4>O)return O+1;var be=O-2>>1;return(2+(1&O)<<be)+Hr(G,be)+1}function Ps(O,G){return 120<G?G-120:1<=(be=((be=bp[G-1])>>4)*O+(8-(15&be)))?be:1;var be}function Pi(O,G,be){var Te=Nt(be),Qe=O[G+=255&Te].g-8;return 0<Qe&&(zt(be,be.u+8),Te=Nt(be),G+=O[G].value,G+=Te&(1<<Qe)-1),zt(be,be.u+O[G].g),O[G].value}function Es(O,G,be){return be.g+=O.g,be.value+=O.value<<G>>>0,B(8>=be.g),O.g}function oo(O,G,be){var Te=O.xc;return B((G=Te==0?0:O.vc[O.md*(be>>Te)+(G>>Te)])<O.Wb),O.Ya[G]}function tu(O,G,be,Te){var Qe=O.ab,Ke=O.c*G,qe=O.C;G=qe+G;var Je=be,rt=Te;for(Te=O.Ta,be=O.Ua;0<Qe--;){var pt=O.gc[Qe],Ft=qe,rr=G,At=Je,Mt=rt,Yt=(rt=Te,Je=be,pt.Ea);switch(B(Ft<rr),B(rr<=pt.nc),pt.hc){case 2:Ws(At,Mt,(rr-Ft)*Yt,rt,Je);break;case 0:var wr=Ft,ar=rr,Nr=rt,Er=Je,Rr=(yn=pt).Ea;wr==0&&(lo(At,Mt,null,null,1,Nr,Er),si(At,Mt+1,0,0,Rr-1,Nr,Er+1),Mt+=Rr,Er+=Rr,++wr);for(var Tr=1<<yn.b,ta=Tr-1,kn=Qr(Rr,yn.b),$a=yn.K,yn=yn.w+(wr>>yn.b)*kn;wr<ar;){var yi=$a,ln=yn,Ma=1;for(sc(At,Mt,Nr,Er-Rr,1,Nr,Er);Ma<Rr;){var Wn=(Ma&~ta)+Tr;Wn>Rr&&(Wn=Rr),(0,Ah[yi[ln++]>>8&15])(At,Mt+ +Ma,Nr,Er+Ma-Rr,Wn-Ma,Nr,Er+Ma),Ma=Wn}Mt+=Rr,Er+=Rr,++wr&ta||(yn+=kn)}rr!=pt.nc&&K(rt,Je-Yt,rt,Je+(rr-Ft-1)*Yt,Yt);break;case 1:for(Yt=At,ar=Mt,Rr=(At=pt.Ea)-(Er=At&~(Nr=(Mt=1<<pt.b)-1)),wr=Qr(At,pt.b),Tr=pt.K,pt=pt.w+(Ft>>pt.b)*wr;Ft<rr;){for(ta=Tr,kn=pt,$a=new Jn,yn=ar+Er,yi=ar+At;ar<yn;)_n(ta[kn++],$a),_c($a,Yt,ar,Mt,rt,Je),ar+=Mt,Je+=Mt;ar<yi&&(_n(ta[kn++],$a),_c($a,Yt,ar,Rr,rt,Je),ar+=Rr,Je+=Rr),++Ft&Nr||(pt+=wr)}break;case 3:if(At==rt&&Mt==Je&&0<pt.b){for(ar=rt,At=Yt=Je+(rr-Ft)*Yt-(Er=(rr-Ft)*Qr(pt.Ea,pt.b)),Mt=rt,Nr=Je,wr=[],Er=(Rr=Er)-1;0<=Er;--Er)wr[Er]=Mt[Nr+Er];for(Er=Rr-1;0<=Er;--Er)ar[At+Er]=wr[Er];Lh(pt,Ft,rr,rt,Yt,rt,Je)}else Lh(pt,Ft,rr,At,Mt,rt,Je)}Je=Te,rt=be}rt!=be&&K(Te,be,Je,rt,Ke)}function Xs(O,G){var be=O.V,Te=O.Ba+O.c*O.C,Qe=G-O.C;if(B(G<=O.l.o),B(16>=Qe),0<Qe){var Ke=O.l,qe=O.Ta,Je=O.Ua,rt=Ke.width;if(tu(O,Qe,be,Te),Qe=Je=[Je],B((be=O.C)<(Te=G)),B(Ke.v<Ke.va),Te>Ke.o&&(Te=Ke.o),be<Ke.j){var pt=Ke.j-be;be=Ke.j,Qe[0]+=pt*rt}if(be>=Te?be=0:(Qe[0]+=4*Ke.v,Ke.ka=be-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=Te-be,be=1),be){if(Je=Je[0],11>(be=O.ca).S){var Ft=be.f.RGBA,rr=(Te=be.S,Qe=Ke.U,Ke=Ke.T,pt=Ft.eb,Ft.A),At=Ke;for(Ft=Ft.fb+O.Ma*Ft.A;0<At--;){var Mt=qe,Yt=Je,wr=Qe,ar=pt,Nr=Ft;switch(Te){case Gd:$c(Mt,Yt,wr,ar,Nr);break;case Wh:Vc(Mt,Yt,wr,ar,Nr);break;case jA:Vc(Mt,Yt,wr,ar,Nr),Zs(ar,Nr,0,wr,1,0);break;case $h:vd(Mt,Yt,wr,ar,Nr);break;case ph:Kn(Mt,Yt,wr,ar,Nr,1);break;case Vh:Kn(Mt,Yt,wr,ar,Nr,1),Zs(ar,Nr,0,wr,1,0);break;case uo:Kn(Mt,Yt,wr,ar,Nr,0);break;case Tu:Kn(Mt,Yt,wr,ar,Nr,0),Zs(ar,Nr,1,wr,1,0);break;case bd:Vu(Mt,Yt,wr,ar,Nr);break;case CA:Vu(Mt,Yt,wr,ar,Nr),Qh(ar,Nr,wr,1,0);break;case ff:ou(Mt,Yt,wr,ar,Nr);break;default:B(0)}Je+=rt,Ft+=rr}O.Ma+=Ke}else alert("todo:EmitRescaledRowsYUVA");B(O.Ma<=be.height)}}O.C=G,B(O.C<=O.i)}function tl(O){var G;if(0<O.ua)return 0;for(G=0;G<O.Wb;++G){var be=O.Ya[G].G,Te=O.Ya[G].H;if(0<be[1][Te[1]+0].g||0<be[2][Te[2]+0].g||0<be[3][Te[3]+0].g)return 0}return 1}function Nc(O,G,be,Te,Qe,Ke){if(O.Z!=0){var qe=O.qd,Je=O.rd;for(B(Ro[O.Z]!=null);G<be;++G)Ro[O.Z](qe,Je,Te,Qe,Te,Qe,Ke),qe=Te,Je=Qe,Qe+=Ke;O.qd=qe,O.rd=Je}}function Zl(O,G){var be=O.l.ma,Te=be.Z==0||be.Z==1?O.l.j:O.C;if(Te=O.C<Te?Te:O.C,B(G<=O.l.o),G>Te){var Qe=O.l.width,Ke=be.ca,qe=be.tb+Qe*Te,Je=O.V,rt=O.Ba+O.c*Te,pt=O.gc;B(O.ab==1),B(pt[0].hc==3),nl(pt[0],Te,G,Je,rt,Ke,qe),Nc(be,Te,G,Ke,qe,Qe)}O.C=O.Ma=G}function Ys(O,G,be,Te,Qe,Ke,qe){var Je=O.$/Te,rt=O.$%Te,pt=O.m,Ft=O.s,rr=be+O.$,At=rr;Qe=be+Te*Qe;var Mt=be+Te*Ke,Yt=280+Ft.ua,wr=O.Pb?Je:16777216,ar=0<Ft.ua?Ft.Wa:null,Nr=Ft.wc,Er=rr<Mt?oo(Ft,rt,Je):null;B(O.C<Ke),B(Mt<=Qe);var Rr=!1;e:for(;;){for(;Rr||rr<Mt;){var Tr=0;if(Je>=wr){var ta=rr-be;B((wr=O).Pb),wr.wd=wr.m,wr.xd=ta,0<wr.s.ua&&hn(wr.s.Wa,wr.s.vb),wr=Je+gf}if(rt&Nr||(Er=oo(Ft,rt,Je)),B(Er!=null),Er.Qb&&(G[rr]=Er.qb,Rr=!0),!Rr)if(nr(pt),Er.jc){Tr=pt,ta=G;var kn=rr,$a=Er.pd[Nt(Tr)&ka-1];B(Er.jc),256>$a.g?(zt(Tr,Tr.u+$a.g),ta[kn]=$a.value,Tr=0):(zt(Tr,Tr.u+$a.g-256),B(256<=$a.value),Tr=$a.value),Tr==0&&(Rr=!0)}else Tr=Pi(Er.G[0],Er.H[0],pt);if(pt.h)break;if(Rr||256>Tr){if(!Rr)if(Er.nd)G[rr]=(Er.qb|Tr<<8)>>>0;else{if(nr(pt),Rr=Pi(Er.G[1],Er.H[1],pt),nr(pt),ta=Pi(Er.G[2],Er.H[2],pt),kn=Pi(Er.G[3],Er.H[3],pt),pt.h)break;G[rr]=(kn<<24|Rr<<16|Tr<<8|ta)>>>0}if(Rr=!1,++rr,++rt>=Te&&(rt=0,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(O,Je),ar!=null))for(;At<rr;)Tr=G[At++],ar.X[(506832829*Tr&4294967295)>>>ar.Mb]=Tr}else if(280>Tr){if(Tr=Bl(Tr-256,pt),ta=Pi(Er.G[4],Er.H[4],pt),nr(pt),ta=Ps(Te,ta=Bl(ta,pt)),pt.h)break;if(rr-be<ta||Qe-rr<Tr)break e;for(kn=0;kn<Tr;++kn)G[rr+kn]=G[rr+kn-ta];for(rr+=Tr,rt+=Tr;rt>=Te;)rt-=Te,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(O,Je);if(B(rr<=Qe),rt&Nr&&(Er=oo(Ft,rt,Je)),ar!=null)for(;At<rr;)Tr=G[At++],ar.X[(506832829*Tr&4294967295)>>>ar.Mb]=Tr}else{if(!(Tr<Yt))break e;for(Rr=Tr-280,B(ar!=null);At<rr;)Tr=G[At++],ar.X[(506832829*Tr&4294967295)>>>ar.Mb]=Tr;Tr=rr,B(!(Rr>>>(ta=ar).Xa)),G[Tr]=ta.X[Rr],Rr=!0}Rr||B(pt.h==Wt(pt))}if(O.Pb&&pt.h&&rr<Qe)B(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&hn(O.s.vb,O.s.Wa);else{if(pt.h)break e;qe!=null&&qe(O,Je>Ke?Ke:Je),O.a=0,O.$=rr-be}return 1}return O.a=3,0}function rl(O){B(O!=null),O.vc=null,O.yc=null,O.Ya=null;var G=O.Wa;G!=null&&(G.X=null),O.vb=null,B(O!=null)}function El(){var O=new fa;return O==null?null:(O.a=0,O.xb=xf,Ei("Predictor","VP8LPredictors"),Ei("Predictor","VP8LPredictors_C"),Ei("PredictorAdd","VP8LPredictorsAdd"),Ei("PredictorAdd","VP8LPredictorsAdd_C"),Ws=la,_c=ua,$c=wa,Vc=ci,Vu=Va,ou=za,vd=Ji,_t.VP8LMapColor32b=Go,_t.VP8LMapColor8b=Kd,O)}function $o(O,G,be,Te,Qe){var Ke=1,qe=[O],Je=[G],rt=Te.m,pt=Te.s,Ft=null,rr=0;e:for(;;){if(be)for(;Ke&&Hr(rt,1);){var At=qe,Mt=Je,Yt=Te,wr=1,ar=Yt.m,Nr=Yt.gc[Yt.ab],Er=Hr(ar,2);if(Yt.Oc&1<<Er)Ke=0;else{switch(Yt.Oc|=1<<Er,Nr.hc=Er,Nr.Ea=At[0],Nr.nc=Mt[0],Nr.K=[null],++Yt.ab,B(4>=Yt.ab),Er){case 0:case 1:Nr.b=Hr(ar,3)+2,wr=$o(Qr(Nr.Ea,Nr.b),Qr(Nr.nc,Nr.b),0,Yt,Nr.K),Nr.K=Nr.K[0];break;case 3:var Rr,Tr=Hr(ar,8)+1,ta=16<Tr?0:4<Tr?1:2<Tr?2:3;if(At[0]=Qr(Nr.Ea,ta),Nr.b=ta,Rr=wr=$o(Tr,1,0,Yt,Nr.K)){var kn,$a=Tr,yn=Nr,yi=1<<(8>>yn.b),ln=ne(yi);if(ln==null)Rr=0;else{var Ma=yn.K[0],Wn=yn.w;for(ln[0]=yn.K[0][0],kn=1;kn<1*$a;++kn)ln[kn]=oa(Ma[Wn+kn],ln[kn-1]);for(;kn<4*yi;++kn)ln[kn]=0;yn.K[0]=null,yn.K[0]=ln,Rr=1}}wr=Rr;break;case 2:break;default:B(0)}Ke=wr}}if(qe=qe[0],Je=Je[0],Ke&&Hr(rt,1)&&!(Ke=1<=(rr=Hr(rt,4))&&11>=rr)){Te.a=3;break e}var fn;if(fn=Ke)t:{var ho,Pa,Ai,ds=Te,Co=qe,qo=Je,Ds=rr,Xo=be,ol=ds.m,pi=ds.s,Ka=[null],mi=1,$s=0,$i=wp[Ds];r:for(;;){if(Xo&&Hr(ol,1)){var hs=Hr(ol,3)+2,uc=Qr(Co,hs),Vi=Qr(qo,hs),xl=uc*Vi;if(!$o(uc,Vi,0,ds,Ka))break r;for(Ka=Ka[0],pi.xc=hs,ho=0;ho<xl;++ho){var rs=Ka[ho]>>8&65535;Ka[ho]=rs,rs>=mi&&(mi=rs+1)}}if(ol.h)break r;for(Pa=0;5>Pa;++Pa){var tn=pf[Pa];!Pa&&0<Ds&&(tn+=1<<Ds),$s<tn&&($s=tn)}var Lo=Se(mi*$i,It),Uo=mi,Ms=Se(Uo,cr);if(Ms==null)var yl=null;else B(65536>=Uo),yl=Ms;var Ua=ne($s);if(yl==null||Ua==null||Lo==null){ds.a=1;break r}var Fa=Lo;for(ho=Ai=0;ho<mi;++ho){var Xn=yl[ho],zi=Xn.G,_i=Xn.H,Vs=0,Rs=1,Js=0;for(Pa=0;5>Pa;++Pa){tn=pf[Pa],zi[Pa]=Fa,_i[Pa]=Ai,!Pa&&0<Ds&&(tn+=1<<Ds);a:{var eo,Nd=tn,_u=ds,Gu=Ua,Sf=Fa,xh=Ai,ll=0,Kc=_u.m,Zd=Hr(Kc,1);if(X(Gu,0,0,Nd),Zd){var qu=Hr(Kc,1)+1,Yh=Hr(Kc,1),PA=Hr(Kc,Yh==0?1:8);Gu[PA]=1,qu==2&&(Gu[PA=Hr(Kc,8)]=1);var du=1}else{var Zh=ne(19),Gc=Hr(Kc,4)+4;if(19<Gc){_u.a=3;var Yo=0;break a}for(eo=0;eo<Gc;++eo)Zh[yp[eo]]=Hr(Kc,3);var Sd=void 0,Ou=void 0,Jh=_u,FA=Zh,No=Nd,dc=Gu,bl=0,Ao=Jh.m,Bd=8,DA=Se(128,It);n:for(;dt(DA,0,7,FA,19);){if(Hr(Ao,1)){var Bf=2+2*Hr(Ao,3);if((Sd=2+Hr(Ao,Bf))>No)break n}else Sd=No;for(Ou=0;Ou<No&&Sd--;){nr(Ao);var Ef=DA[0+(127&Nt(Ao))];zt(Ao,Ao.u+Ef.g);var kc=Ef.value;if(16>kc)dc[Ou++]=kc,kc!=0&&(Bd=kc);else{var If=kc==16,MA=kc-16,Jd=SA[MA],RA=Hr(Ao,NA[MA])+Jd;if(Ou+RA>No)break n;for(var eh=If?Bd:0;0<RA--;)dc[Ou++]=eh}}bl=1;break n}bl||(Jh.a=3),du=bl}(du=du&&!Kc.h)&&(ll=dt(Sf,xh,8,Gu,Nd)),du&&ll!=0?Yo=ll:(_u.a=3,Yo=0)}if(Yo==0)break r;if(Rs&&mf[Pa]==1&&(Rs=Fa[Ai].g==0),Vs+=Fa[Ai].g,Ai+=Yo,3>=Pa){var yh,LA=Ua[0];for(yh=1;yh<tn;++yh)Ua[yh]>LA&&(LA=Ua[yh]);Js+=LA}}if(Xn.nd=Rs,Xn.Qb=0,Rs&&(Xn.qb=(zi[3][_i[3]+0].value<<24|zi[1][_i[1]+0].value<<16|zi[2][_i[2]+0].value)>>>0,Vs==0&&256>zi[0][_i[0]+0].value&&(Xn.Qb=1,Xn.qb+=zi[0][_i[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>Js,Xn.jc){var bh,qc=Xn;for(bh=0;bh<ka;++bh){var Ed=bh,Id=qc.pd[Ed],eA=qc.G[0][qc.H[0]+Ed];256<=eA.value?(Id.g=eA.g+256,Id.value=eA.value):(Id.g=0,Id.value=0,Ed>>=Es(eA,8,Id),Ed>>=Es(qc.G[1][qc.H[1]+Ed],16,Id),Ed>>=Es(qc.G[2][qc.H[2]+Ed],0,Id),Es(qc.G[3][qc.H[3]+Ed],24,Id))}}}pi.vc=Ka,pi.Wb=mi,pi.Ya=yl,pi.yc=Lo,fn=1;break t}fn=0}if(!(Ke=fn)){Te.a=3;break e}if(0<rr){if(pt.ua=1<<rr,!ut(pt.Wa,rr)){Te.a=1,Ke=0;break e}}else pt.ua=0;var UA=Te,Td=qe,Um=Je,F=UA.s,E=F.xc;if(UA.c=Td,UA.i=Um,F.md=Qr(Td,E),F.wc=E==0?-1:(1<<E)-1,be){Te.xb=jp;break e}if((Ft=ne(qe*Je))==null){Te.a=1,Ke=0;break e}Ke=(Ke=Ys(Te,Ft,0,qe,Je,Je,null))&&!rt.h;break e}return Ke?(Qe!=null?Qe[0]=Ft:(B(Ft==null),B(be)),Te.$=0,be||rl(pt)):rl(pt),Ke}function Po(O,G){var be=O.c*O.i,Te=be+G+16*G;return B(O.c<=G),O.V=ne(Te),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+be+G,1)}function Jl(O,G){var be=O.C,Te=G-be,Qe=O.V,Ke=O.Ba+O.c*be;for(B(G<=O.l.o);0<Te;){var qe=16<Te?16:Te,Je=O.l.ma,rt=O.l.width,pt=rt*qe,Ft=Je.ca,rr=Je.tb+rt*be,At=O.Ta,Mt=O.Ua;tu(O,qe,Qe,Ke),yd(At,Mt,Ft,rr,pt),Nc(Je,be,be+qe,Ft,rr,rt),Te-=qe,Qe+=qe*O.c,be+=qe}B(be==G),O.C=O.Ma=G}function Il(){this.ub=this.yd=this.td=this.Rb=0}function Sc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ud(){this.Fb=this.Bb=this.Cb=0,this.Zb=ne(4),this.Lb=ne(4)}function Uc(){this.Yb=(function(){var O=[];return(function G(be,Te,Qe){for(var Ke=Qe[Te],qe=0;qe<Ke&&(be.push(Qe.length>Te+1?[]:0),!(Qe.length<Te+1));qe++)G(be[qe],Te+1,Qe)})(O,0,[3,11]),O})()}function dd(){this.jb=ne(3),this.Wc=me([4,8],Uc),this.Xc=me([4,17],Uc)}function ru(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ne(4),this.od=new ne(4)}function Vo(){this.ld=this.La=this.dd=this.tc=0}function nu(){this.Na=this.la=0}function bu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lu(){this.ad=ne(384),this.Za=0,this.Ob=ne(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Tl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vo),this.Y=0,this.ya=Array(new Lu),this.aa=0,this.l=new Qu}function Uu(){this.y=ne(16),this.f=ne(8),this.ea=ne(8)}function Hu(){this.cb=this.a=0,this.sc="",this.m=new Ye,this.Od=new Il,this.Kc=new Sc,this.ed=new ru,this.Qa=new ud,this.Ic=this.$c=this.Aa=0,this.D=new Tl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Se(8,Ye),this.ia=0,this.pb=Se(4,bu),this.Pa=new dd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Uu),this.Hd=0,this.rb=Array(new nu),this.sb=0,this.wa=Array(new Vo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lu),this.L=this.aa=0,this.gd=me([4,2],Vo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ec(O,G){return 0>O?0:O>G?G:O}function Qu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wu(){var O=new Hu;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,qd||(qd=xi)),O}function ya(O,G,be){return O.a==0&&(O.a=G,O.sc=be,O.cb=0),0}function hd(O,G,be){return 3<=be&&O[G+0]==157&&O[G+1]==1&&O[G+2]==42}function tc(O,G){if(O==null)return 0;if(O.a=0,O.sc="OK",G==null)return ya(O,2,"null VP8Io passed to VP8GetHeaders()");var be=G.data,Te=G.w,Qe=G.ha;if(4>Qe)return ya(O,7,"Truncated header.");var Ke=be[Te+0]|be[Te+1]<<8|be[Te+2]<<16,qe=O.Od;if(qe.Rb=!(1&Ke),qe.td=Ke>>1&7,qe.yd=Ke>>4&1,qe.ub=Ke>>5,3<qe.td)return ya(O,3,"Incorrect keyframe parameters.");if(!qe.yd)return ya(O,4,"Frame not displayable.");Te+=3,Qe-=3;var Je=O.Kc;if(qe.Rb){if(7>Qe)return ya(O,7,"cannot parse picture header");if(!hd(be,Te,Qe))return ya(O,3,"Bad code word");Je.c=16383&(be[Te+4]<<8|be[Te+3]),Je.Td=be[Te+4]>>6,Je.i=16383&(be[Te+6]<<8|be[Te+5]),Je.Ud=be[Te+6]>>6,Te+=7,Qe-=7,O.za=Je.c+15>>4,O.Ub=Je.i+15>>4,G.width=Je.c,G.height=Je.i,G.Da=0,G.j=0,G.v=0,G.va=G.width,G.o=G.height,G.da=0,G.ib=G.width,G.hb=G.height,G.U=G.width,G.T=G.height,X((Ke=O.Pa).jb,0,255,Ke.jb.length),B((Ke=O.Qa)!=null),Ke.Cb=0,Ke.Bb=0,Ke.Fb=1,X(Ke.Zb,0,0,Ke.Zb.length),X(Ke.Lb,0,0,Ke.Lb)}if(qe.ub>Qe)return ya(O,7,"bad partition length");fr(Ke=O.m,be,Te,qe.ub),Te+=qe.ub,Qe-=qe.ub,qe.Rb&&(Je.Ld=vr(Ke),Je.Kd=vr(Ke)),Je=O.Qa;var rt,pt=O.Pa;if(B(Ke!=null),B(Je!=null),Je.Cb=vr(Ke),Je.Cb){if(Je.Bb=vr(Ke),vr(Ke)){for(Je.Fb=vr(Ke),rt=0;4>rt;++rt)Je.Zb[rt]=vr(Ke)?Jt(Ke,7):0;for(rt=0;4>rt;++rt)Je.Lb[rt]=vr(Ke)?Jt(Ke,6):0}if(Je.Bb)for(rt=0;3>rt;++rt)pt.jb[rt]=vr(Ke)?xr(Ke,8):255}else Je.Bb=0;if(Ke.Ka)return ya(O,3,"cannot parse segment header");if((Je=O.ed).zd=vr(Ke),Je.Tb=xr(Ke,6),Je.wb=xr(Ke,3),Je.Pc=vr(Ke),Je.Pc&&vr(Ke)){for(pt=0;4>pt;++pt)vr(Ke)&&(Je.vd[pt]=Jt(Ke,6));for(pt=0;4>pt;++pt)vr(Ke)&&(Je.od[pt]=Jt(Ke,6))}if(O.L=Je.Tb==0?0:Je.zd?1:2,Ke.Ka)return ya(O,3,"cannot parse filter header");var Ft=Qe;if(Qe=rt=Te,Te=rt+Ft,Je=Ft,O.Xb=(1<<xr(O.m,2))-1,Ft<3*(pt=O.Xb))be=7;else{for(rt+=3*pt,Je-=3*pt,Ft=0;Ft<pt;++Ft){var rr=be[Qe+0]|be[Qe+1]<<8|be[Qe+2]<<16;rr>Je&&(rr=Je),fr(O.Jc[+Ft],be,rt,rr),rt+=rr,Je-=rr,Qe+=3}fr(O.Jc[+pt],be,rt,Je),be=rt<Te?0:5}if(be!=0)return ya(O,be,"cannot parse partitions");for(be=xr(rt=O.m,7),Qe=vr(rt)?Jt(rt,4):0,Te=vr(rt)?Jt(rt,4):0,Je=vr(rt)?Jt(rt,4):0,pt=vr(rt)?Jt(rt,4):0,rt=vr(rt)?Jt(rt,4):0,Ft=O.Qa,rr=0;4>rr;++rr){if(Ft.Cb){var At=Ft.Zb[rr];Ft.Fb||(At+=be)}else{if(0<rr){O.pb[rr]=O.pb[0];continue}At=be}var Mt=O.pb[rr];Mt.Sc[0]=mh[ec(At+Qe,127)],Mt.Sc[1]=zh[ec(At+0,127)],Mt.Eb[0]=2*mh[ec(At+Te,127)],Mt.Eb[1]=101581*zh[ec(At+Je,127)]>>16,8>Mt.Eb[1]&&(Mt.Eb[1]=8),Mt.Qc[0]=mh[ec(At+pt,117)],Mt.Qc[1]=zh[ec(At+rt,127)],Mt.lc=At+rt}if(!qe.Rb)return ya(O,4,"Not a key frame.");for(vr(Ke),qe=O.Pa,be=0;4>be;++be){for(Qe=0;8>Qe;++Qe)for(Te=0;3>Te;++Te)for(Je=0;11>Je;++Je)pt=Pr(Ke,Kh[be][Qe][Te][Je])?xr(Ke,8):Rm[be][Qe][Te][Je],qe.Wc[be][Qe].Yb[Te][Je]=pt;for(Qe=0;17>Qe;++Qe)qe.Xc[be][Qe]=qe.Wc[be][Gh[Qe]]}return O.kc=vr(Ke),O.kc&&(O.Bd=xr(Ke,8)),O.cb=1}function xi(O,G,be,Te,Qe,Ke,qe){var Je=G[Qe].Yb[be];for(be=0;16>Qe;++Qe){if(!Pr(O,Je[be+0]))return Qe;for(;!Pr(O,Je[be+1]);)if(Je=G[++Qe].Yb[0],be=0,Qe==16)return 16;var rt=G[Qe+1].Yb;if(Pr(O,Je[be+2])){var pt=O,Ft=0;if(Pr(pt,(At=Je)[(rr=be)+3]))if(Pr(pt,At[rr+6])){for(Je=0,rr=2*(Ft=Pr(pt,At[rr+8]))+(At=Pr(pt,At[rr+9+Ft])),Ft=0,At=BA[rr];At[Je];++Je)Ft+=Ft+Pr(pt,At[Je]);Ft+=3+(8<<rr)}else Pr(pt,At[rr+7])?(Ft=7+2*Pr(pt,165),Ft+=Pr(pt,145)):Ft=5+Pr(pt,159);else Ft=Pr(pt,At[rr+4])?3+Pr(pt,At[rr+5]):2;Je=rt[2]}else Ft=1,Je=rt[1];rt=qe+Mm[Qe],0>(pt=O).b&&mr(pt);var rr,At=pt.b,Mt=(rr=pt.Ca>>1)-(pt.I>>At)>>31;--pt.b,pt.Ca+=Mt,pt.Ca|=1,pt.I-=(rr+1&Mt)<<At,Ke[rt]=((Ft^Mt)-Mt)*Te[(0<Qe)+0]}return 16}function Ad(O){var G=O.rb[O.sb-1];G.la=0,G.Na=0,X(O.zc,0,0,O.zc.length),O.ja=0}function fl(O,G,be,Te,Qe){Qe=O[G+be+32*Te]+(Qe>>3),O[G+be+32*Te]=-256&Qe?0>Qe?0:255:Qe}function Is(O,G,be,Te,Qe,Ke){fl(O,G,0,be,Te+Qe),fl(O,G,1,be,Te+Ke),fl(O,G,2,be,Te-Ke),fl(O,G,3,be,Te-Qe)}function Bc(O){return(20091*O>>16)+O}function au(O,G,be,Te){var Qe,Ke=0,qe=ne(16);for(Qe=0;4>Qe;++Qe){var Je=O[G+0]+O[G+8],rt=O[G+0]-O[G+8],pt=(35468*O[G+4]>>16)-Bc(O[G+12]),Ft=Bc(O[G+4])+(35468*O[G+12]>>16);qe[Ke+0]=Je+Ft,qe[Ke+1]=rt+pt,qe[Ke+2]=rt-pt,qe[Ke+3]=Je-Ft,Ke+=4,G++}for(Qe=Ke=0;4>Qe;++Qe)Je=(O=qe[Ke+0]+4)+qe[Ke+8],rt=O-qe[Ke+8],pt=(35468*qe[Ke+4]>>16)-Bc(qe[Ke+12]),fl(be,Te,0,0,Je+(Ft=Bc(qe[Ke+4])+(35468*qe[Ke+12]>>16))),fl(be,Te,1,0,rt+pt),fl(be,Te,2,0,rt-pt),fl(be,Te,3,0,Je-Ft),Ke++,Te+=32}function _l(O,G,be,Te){var Qe=O[G+0]+4,Ke=35468*O[G+4]>>16,qe=Bc(O[G+4]),Je=35468*O[G+1]>>16;Is(be,Te,0,Qe+qe,O=Bc(O[G+1]),Je),Is(be,Te,1,Qe+Ke,O,Je),Is(be,Te,2,Qe-Ke,O,Je),Is(be,Te,3,Qe-qe,O,Je)}function Wu(O,G,be,Te,Qe){au(O,G,be,Te),Qe&&au(O,G+16,be,Te+4)}function zo(O,G,be,Te){gl(O,G+0,be,Te,1),gl(O,G+32,be,Te+128,1)}function fd(O,G,be,Te){var Qe;for(O=O[G+0]+4,Qe=0;4>Qe;++Qe)for(G=0;4>G;++G)fl(be,Te,G,Qe,O)}function ju(O,G,be,Te){O[G+0]&&di(O,G+0,be,Te),O[G+16]&&di(O,G+16,be,Te+4),O[G+32]&&di(O,G+32,be,Te+128),O[G+48]&&di(O,G+48,be,Te+128+4)}function pd(O,G,be,Te){var Qe,Ke=ne(16);for(Qe=0;4>Qe;++Qe){var qe=O[G+0+Qe]+O[G+12+Qe],Je=O[G+4+Qe]+O[G+8+Qe],rt=O[G+4+Qe]-O[G+8+Qe],pt=O[G+0+Qe]-O[G+12+Qe];Ke[0+Qe]=qe+Je,Ke[8+Qe]=qe-Je,Ke[4+Qe]=pt+rt,Ke[12+Qe]=pt-rt}for(Qe=0;4>Qe;++Qe)qe=(O=Ke[0+4*Qe]+3)+Ke[3+4*Qe],Je=Ke[1+4*Qe]+Ke[2+4*Qe],rt=Ke[1+4*Qe]-Ke[2+4*Qe],pt=O-Ke[3+4*Qe],be[Te+0]=qe+Je>>3,be[Te+16]=pt+rt>>3,be[Te+32]=qe-Je>>3,be[Te+48]=pt-rt>>3,Te+=64}function iu(O,G,be){var Te,Qe=G-32,Ke=sl,qe=255-O[Qe-1];for(Te=0;Te<be;++Te){var Je,rt=Ke,pt=qe+O[G-1];for(Je=0;Je<be;++Je)O[G+Je]=rt[pt+O[Qe+Je]];G+=32}}function Cu(O,G){iu(O,G,4)}function Nu(O,G){iu(O,G,8)}function Su(O,G){iu(O,G,16)}function Bu(O,G){var be;for(be=0;16>be;++be)K(O,G+32*be,O,G-32,16)}function md(O,G){var be;for(be=16;0<be;--be)X(O,G,O[G-1],16),G+=32}function Ol(O,G,be){var Te;for(Te=0;16>Te;++Te)X(G,be+32*Te,O,16)}function Mh(O,G){var be,Te=16;for(be=0;16>be;++be)Te+=O[G-1+32*be]+O[G+be-32];Ol(Te>>5,O,G)}function Eu(O,G){var be,Te=8;for(be=0;16>be;++be)Te+=O[G-1+32*be];Ol(Te>>4,O,G)}function Wd(O,G){var be,Te=8;for(be=0;16>be;++be)Te+=O[G+be-32];Ol(Te>>4,O,G)}function Rh(O,G){Ol(128,O,G)}function Ca(O,G,be){return O+2*G+be+2>>2}function Hc(O,G){var be,Te=G-32;for(Te=new Uint8Array([Ca(O[Te-1],O[Te+0],O[Te+1]),Ca(O[Te+0],O[Te+1],O[Te+2]),Ca(O[Te+1],O[Te+2],O[Te+3]),Ca(O[Te+2],O[Te+3],O[Te+4])]),be=0;4>be;++be)K(O,G+32*be,Te,0,Te.length)}function hh(O,G){var be=O[G-1],Te=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1+96];Jr(O,G+0,16843009*Ca(O[G-1-32],be,Te)),Jr(O,G+32,16843009*Ca(be,Te,Qe)),Jr(O,G+64,16843009*Ca(Te,Qe,Ke)),Jr(O,G+96,16843009*Ca(Qe,Ke,Ke))}function Ec(O,G){var be,Te=4;for(be=0;4>be;++be)Te+=O[G+be-32]+O[G-1+32*be];for(Te>>=3,be=0;4>be;++be)X(O,G+32*be,Te,4)}function bo(O,G){var be=O[G-1+0],Te=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1-32],qe=O[G+0-32],Je=O[G+1-32],rt=O[G+2-32],pt=O[G+3-32];O[G+0+96]=Ca(Te,Qe,O[G-1+96]),O[G+1+96]=O[G+0+64]=Ca(be,Te,Qe),O[G+2+96]=O[G+1+64]=O[G+0+32]=Ca(Ke,be,Te),O[G+3+96]=O[G+2+64]=O[G+1+32]=O[G+0+0]=Ca(qe,Ke,be),O[G+3+64]=O[G+2+32]=O[G+1+0]=Ca(Je,qe,Ke),O[G+3+32]=O[G+2+0]=Ca(rt,Je,qe),O[G+3+0]=Ca(pt,rt,Je)}function kl(O,G){var be=O[G+1-32],Te=O[G+2-32],Qe=O[G+3-32],Ke=O[G+4-32],qe=O[G+5-32],Je=O[G+6-32],rt=O[G+7-32];O[G+0+0]=Ca(O[G+0-32],be,Te),O[G+1+0]=O[G+0+32]=Ca(be,Te,Qe),O[G+2+0]=O[G+1+32]=O[G+0+64]=Ca(Te,Qe,Ke),O[G+3+0]=O[G+2+32]=O[G+1+64]=O[G+0+96]=Ca(Qe,Ke,qe),O[G+3+32]=O[G+2+64]=O[G+1+96]=Ca(Ke,qe,Je),O[G+3+64]=O[G+2+96]=Ca(qe,Je,rt),O[G+3+96]=Ca(Je,rt,rt)}function rc(O,G){var be=O[G-1+0],Te=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1-32],qe=O[G+0-32],Je=O[G+1-32],rt=O[G+2-32],pt=O[G+3-32];O[G+0+0]=O[G+1+64]=Ke+qe+1>>1,O[G+1+0]=O[G+2+64]=qe+Je+1>>1,O[G+2+0]=O[G+3+64]=Je+rt+1>>1,O[G+3+0]=rt+pt+1>>1,O[G+0+96]=Ca(Qe,Te,be),O[G+0+64]=Ca(Te,be,Ke),O[G+0+32]=O[G+1+96]=Ca(be,Ke,qe),O[G+1+32]=O[G+2+96]=Ca(Ke,qe,Je),O[G+2+32]=O[G+3+96]=Ca(qe,Je,rt),O[G+3+32]=Ca(Je,rt,pt)}function $d(O,G){var be=O[G+0-32],Te=O[G+1-32],Qe=O[G+2-32],Ke=O[G+3-32],qe=O[G+4-32],Je=O[G+5-32],rt=O[G+6-32],pt=O[G+7-32];O[G+0+0]=be+Te+1>>1,O[G+1+0]=O[G+0+64]=Te+Qe+1>>1,O[G+2+0]=O[G+1+64]=Qe+Ke+1>>1,O[G+3+0]=O[G+2+64]=Ke+qe+1>>1,O[G+0+32]=Ca(be,Te,Qe),O[G+1+32]=O[G+0+96]=Ca(Te,Qe,Ke),O[G+2+32]=O[G+1+96]=Ca(Qe,Ke,qe),O[G+3+32]=O[G+2+96]=Ca(Ke,qe,Je),O[G+3+64]=Ca(qe,Je,rt),O[G+3+96]=Ca(Je,rt,pt)}function pl(O,G){var be=O[G-1+0],Te=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1+96];O[G+0+0]=be+Te+1>>1,O[G+2+0]=O[G+0+32]=Te+Qe+1>>1,O[G+2+32]=O[G+0+64]=Qe+Ke+1>>1,O[G+1+0]=Ca(be,Te,Qe),O[G+3+0]=O[G+1+32]=Ca(Te,Qe,Ke),O[G+3+32]=O[G+1+64]=Ca(Qe,Ke,Ke),O[G+3+64]=O[G+2+64]=O[G+0+96]=O[G+1+96]=O[G+2+96]=O[G+3+96]=Ke}function $u(O,G){var be=O[G-1+0],Te=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1+96],qe=O[G-1-32],Je=O[G+0-32],rt=O[G+1-32],pt=O[G+2-32];O[G+0+0]=O[G+2+32]=be+qe+1>>1,O[G+0+32]=O[G+2+64]=Te+be+1>>1,O[G+0+64]=O[G+2+96]=Qe+Te+1>>1,O[G+0+96]=Ke+Qe+1>>1,O[G+3+0]=Ca(Je,rt,pt),O[G+2+0]=Ca(qe,Je,rt),O[G+1+0]=O[G+3+32]=Ca(be,qe,Je),O[G+1+32]=O[G+3+64]=Ca(Te,be,qe),O[G+1+64]=O[G+3+96]=Ca(Qe,Te,be),O[G+1+96]=Ca(Ke,Qe,Te)}function Ko(O,G){var be;for(be=0;8>be;++be)K(O,G+32*be,O,G-32,8)}function Iu(O,G){var be;for(be=0;8>be;++be)X(O,G,O[G-1],8),G+=32}function ml(O,G,be){var Te;for(Te=0;8>Te;++Te)X(G,be+32*Te,O,8)}function gd(O,G){var be,Te=8;for(be=0;8>be;++be)Te+=O[G+be-32]+O[G-1+32*be];ml(Te>>4,O,G)}function Ic(O,G){var be,Te=4;for(be=0;8>be;++be)Te+=O[G+be-32];ml(Te>>3,O,G)}function nc(O,G){var be,Te=4;for(be=0;8>be;++be)Te+=O[G-1+32*be];ml(Te>>3,O,G)}function Pl(O,G){ml(128,O,G)}function ui(O,G,be){var Te=O[G-be],Qe=O[G+0],Ke=3*(Qe-Te)+zc[1020+O[G-2*be]-O[G+be]],qe=Dl[112+(Ke+4>>3)];O[G-be]=sl[255+Te+Dl[112+(Ke+3>>3)]],O[G+0]=sl[255+Qe-qe]}function Ti(O,G,be,Te){var Qe=O[G+0],Ke=O[G+be];return lc[255+O[G-2*be]-O[G-be]]>Te||lc[255+Ke-Qe]>Te}function Fl(O,G,be,Te){return 4*lc[255+O[G-be]-O[G+0]]+lc[255+O[G-2*be]-O[G+be]]<=Te}function bs(O,G,be,Te,Qe){var Ke=O[G-3*be],qe=O[G-2*be],Je=O[G-be],rt=O[G+0],pt=O[G+be],Ft=O[G+2*be],rr=O[G+3*be];return 4*lc[255+Je-rt]+lc[255+qe-pt]>Te?0:lc[255+O[G-4*be]-Ke]<=Qe&&lc[255+Ke-qe]<=Qe&&lc[255+qe-Je]<=Qe&&lc[255+rr-Ft]<=Qe&&lc[255+Ft-pt]<=Qe&&lc[255+pt-rt]<=Qe}function Fs(O,G,be,Te){var Qe=2*Te+1;for(Te=0;16>Te;++Te)Fl(O,G+Te,be,Qe)&&ui(O,G+Te,be)}function Tc(O,G,be,Te){var Qe=2*Te+1;for(Te=0;16>Te;++Te)Fl(O,G+Te*be,1,Qe)&&ui(O,G+Te*be,1)}function su(O,G,be,Te){var Qe;for(Qe=3;0<Qe;--Qe)Fs(O,G+=4*be,be,Te)}function Fo(O,G,be,Te){var Qe;for(Qe=3;0<Qe;--Qe)Tc(O,G+=4,be,Te)}function ac(O,G,be,Te,Qe,Ke,qe,Je){for(Ke=2*Ke+1;0<Qe--;){if(bs(O,G,be,Ke,qe))if(Ti(O,G,be,Je))ui(O,G,be);else{var rt=O,pt=G,Ft=be,rr=rt[pt-2*Ft],At=rt[pt-Ft],Mt=rt[pt+0],Yt=rt[pt+Ft],wr=rt[pt+2*Ft],ar=27*(Er=zc[1020+3*(Mt-At)+zc[1020+rr-Yt]])+63>>7,Nr=18*Er+63>>7,Er=9*Er+63>>7;rt[pt-3*Ft]=sl[255+rt[pt-3*Ft]+Er],rt[pt-2*Ft]=sl[255+rr+Nr],rt[pt-Ft]=sl[255+At+ar],rt[pt+0]=sl[255+Mt-ar],rt[pt+Ft]=sl[255+Yt-Nr],rt[pt+2*Ft]=sl[255+wr-Er]}G+=Te}}function Qc(O,G,be,Te,Qe,Ke,qe,Je){for(Ke=2*Ke+1;0<Qe--;){if(bs(O,G,be,Ke,qe))if(Ti(O,G,be,Je))ui(O,G,be);else{var rt=O,pt=G,Ft=be,rr=rt[pt-Ft],At=rt[pt+0],Mt=rt[pt+Ft],Yt=Dl[112+(4+(wr=3*(At-rr))>>3)],wr=Dl[112+(wr+3>>3)],ar=Yt+1>>1;rt[pt-2*Ft]=sl[255+rt[pt-2*Ft]+ar],rt[pt-Ft]=sl[255+rr+wr],rt[pt+0]=sl[255+At-Yt],rt[pt+Ft]=sl[255+Mt-ar]}G+=Te}}function Vd(O,G,be,Te,Qe,Ke){ac(O,G,be,1,16,Te,Qe,Ke)}function Wc(O,G,be,Te,Qe,Ke){ac(O,G,1,be,16,Te,Qe,Ke)}function zd(O,G,be,Te,Qe,Ke){var qe;for(qe=3;0<qe;--qe)Qc(O,G+=4*be,be,1,16,Te,Qe,Ke)}function de(O,G,be,Te,Qe,Ke){var qe;for(qe=3;0<qe;--qe)Qc(O,G+=4,1,be,16,Te,Qe,Ke)}function Ue(O,G,be,Te,Qe,Ke,qe,Je){ac(O,G,Qe,1,8,Ke,qe,Je),ac(be,Te,Qe,1,8,Ke,qe,Je)}function gt(O,G,be,Te,Qe,Ke,qe,Je){ac(O,G,1,Qe,8,Ke,qe,Je),ac(be,Te,1,Qe,8,Ke,qe,Je)}function Ot(O,G,be,Te,Qe,Ke,qe,Je){Qc(O,G+4*Qe,Qe,1,8,Ke,qe,Je),Qc(be,Te+4*Qe,Qe,1,8,Ke,qe,Je)}function Gt(O,G,be,Te,Qe,Ke,qe,Je){Qc(O,G+4,1,Qe,8,Ke,qe,Je),Qc(be,Te+4,1,Qe,8,Ke,qe,Je)}function yr(){this.ba=new ja,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xa,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function In(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hn(){this.ua=0,this.Wa=new ma,this.vb=new ma,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new cr,this.yc=new It}function fa(){this.xb=this.a=0,this.l=new Qu,this.ca=new ja,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new xt,this.Pb=0,this.wd=new xt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hn,this.ab=0,this.gc=Se(4,In),this.Oc=0}function aa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Oa(O,G,be,Te,Qe,Ke,qe){for(O=O==null?0:O[G+0],G=0;G<qe;++G)Qe[Ke+G]=O+be[Te+G]&255,O=Qe[Ke+G]}function Fi(O,G,be,Te,Qe,Ke,qe){var Je;if(O==null)Oa(null,null,be,Te,Qe,Ke,qe);else for(Je=0;Je<qe;++Je)Qe[Ke+Je]=O[G+Je]+be[Te+Je]&255}function Mi(O,G,be,Te,Qe,Ke,qe){if(O==null)Oa(null,null,be,Te,Qe,Ke,qe);else{var Je,rt=O[G+0],pt=rt,Ft=rt;for(Je=0;Je<qe;++Je)pt=Ft+(rt=O[G+Je])-pt,Ft=be[Te+Je]+(-256&pt?0>pt?0:255:pt)&255,pt=rt,Qe[Ke+Je]=Ft}}function hi(O,G,be,Te){var Qe=G.width,Ke=G.o;if(B(O!=null&&G!=null),0>be||0>=Te||be+Te>Ke)return null;if(!O.Cc){if(O.ga==null){var qe;if(O.ga=new aa,(qe=O.ga==null)||(qe=G.width*G.o,B(O.Gb.length==0),O.Gb=ne(qe),O.Uc=0,O.Gb==null?qe=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,qe=1),qe=!qe),!qe){qe=O.ga;var Je=O.Fa,rt=O.P,pt=O.qc,Ft=O.mb,rr=O.nb,At=rt+1,Mt=pt-1,Yt=qe.l;if(B(Je!=null&&Ft!=null&&G!=null),Ro[0]=null,Ro[1]=Oa,Ro[2]=Fi,Ro[3]=Mi,qe.ca=Ft,qe.tb=rr,qe.c=G.width,qe.i=G.height,B(0<qe.c&&0<qe.i),1>=pt)G=0;else if(qe.$a=3&Je[rt+0],qe.Z=Je[rt+0]>>2&3,qe.Lc=Je[rt+0]>>4&3,rt=Je[rt+0]>>6&3,0>qe.$a||1<qe.$a||4<=qe.Z||1<qe.Lc||rt)G=0;else if(Yt.put=Aa,Yt.ac=Cc,Yt.bc=ys,Yt.ma=qe,Yt.width=G.width,Yt.height=G.height,Yt.Da=G.Da,Yt.v=G.v,Yt.va=G.va,Yt.j=G.j,Yt.o=G.o,qe.$a)e:{B(qe.$a==1),G=El();t:for(;;){if(G==null){G=0;break e}if(B(qe!=null),qe.mc=G,G.c=qe.c,G.i=qe.i,G.l=qe.l,G.l.ma=qe,G.l.width=qe.c,G.l.height=qe.i,G.a=0,gr(G.m,Je,At,Mt),!$o(qe.c,qe.i,1,G,null)||(G.ab==1&&G.gc[0].hc==3&&tl(G.s)?(qe.ic=1,Je=G.c*G.i,G.Ta=null,G.Ua=0,G.V=ne(Je),G.Ba=0,G.V==null?(G.a=1,G=0):G=1):(qe.ic=0,G=Po(G,qe.c)),!G))break t;G=1;break e}qe.mc=null,G=0}else G=Mt>=qe.c*qe.i;qe=!G}if(qe)return null;O.ga.Lc!=1?O.Ga=0:Te=Ke-be}B(O.ga!=null),B(be+Te<=Ke);e:{if(G=(Je=O.ga).c,Ke=Je.l.o,Je.$a==0){if(At=O.rc,Mt=O.Vc,Yt=O.Fa,rt=O.P+1+be*G,pt=O.mb,Ft=O.nb+be*G,B(rt<=O.P+O.qc),Je.Z!=0)for(B(Ro[Je.Z]!=null),qe=0;qe<Te;++qe)Ro[Je.Z](At,Mt,Yt,rt,pt,Ft,G),At=pt,Mt=Ft,Ft+=G,rt+=G;else for(qe=0;qe<Te;++qe)K(pt,Ft,Yt,rt,G),At=pt,Mt=Ft,Ft+=G,rt+=G;O.rc=At,O.Vc=Mt}else{if(B(Je.mc!=null),G=be+Te,B((qe=Je.mc)!=null),B(G<=qe.i),qe.C>=G)G=1;else if(Je.ic||Xe(),Je.ic){Je=qe.V,At=qe.Ba,Mt=qe.c;var wr=qe.i,ar=(Yt=1,rt=qe.$/Mt,pt=qe.$%Mt,Ft=qe.m,rr=qe.s,qe.$),Nr=Mt*wr,Er=Mt*G,Rr=rr.wc,Tr=ar<Er?oo(rr,pt,rt):null;B(ar<=Nr),B(G<=wr),B(tl(rr));t:for(;;){for(;!Ft.h&&ar<Er;){if(pt&Rr||(Tr=oo(rr,pt,rt)),B(Tr!=null),nr(Ft),256>(wr=Pi(Tr.G[0],Tr.H[0],Ft)))Je[At+ar]=wr,++ar,++pt>=Mt&&(pt=0,++rt<=G&&!(rt%16)&&Zl(qe,rt));else{if(!(280>wr)){Yt=0;break t}wr=Bl(wr-256,Ft);var ta,kn=Pi(Tr.G[4],Tr.H[4],Ft);if(nr(Ft),!(ar>=(kn=Ps(Mt,kn=Bl(kn,Ft)))&&Nr-ar>=wr)){Yt=0;break t}for(ta=0;ta<wr;++ta)Je[At+ar+ta]=Je[At+ar+ta-kn];for(ar+=wr,pt+=wr;pt>=Mt;)pt-=Mt,++rt<=G&&!(rt%16)&&Zl(qe,rt);ar<Er&&pt&Rr&&(Tr=oo(rr,pt,rt))}B(Ft.h==Wt(Ft))}Zl(qe,rt>G?G:rt);break t}!Yt||Ft.h&&ar<Nr?(Yt=0,qe.a=Ft.h?5:3):qe.$=ar,G=Yt}else G=Ys(qe,qe.V,qe.Ba,qe.c,qe.i,G,Jl);if(!G){Te=0;break e}}be+Te>=Ke&&(O.Cc=1),Te=1}if(!Te)return null;if(O.Cc&&((Te=O.ga)!=null&&(Te.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+be*Qe}function cs(O,G,be,Te,Qe,Ke){for(;0<Qe--;){var qe,Je=O,rt=G+(be?1:0),pt=O,Ft=G+(be?0:3);for(qe=0;qe<Te;++qe){var rr=pt[Ft+4*qe];rr!=255&&(rr*=32897,Je[rt+4*qe+0]=Je[rt+4*qe+0]*rr>>23,Je[rt+4*qe+1]=Je[rt+4*qe+1]*rr>>23,Je[rt+4*qe+2]=Je[rt+4*qe+2]*rr>>23)}G+=Ke}}function T(O,G,be,Te,Qe){for(;0<Te--;){var Ke;for(Ke=0;Ke<be;++Ke){var qe=O[G+2*Ke+0],Je=15&(pt=O[G+2*Ke+1]),rt=4369*Je,pt=(240&pt|pt>>4)*rt>>16;O[G+2*Ke+0]=(240&qe|qe>>4)*rt>>16&240|(15&qe|qe<<4)*rt>>16>>4&15,O[G+2*Ke+1]=240&pt|Je}G+=Qe}}function Me(O,G,be,Te,Qe,Ke,qe,Je){var rt,pt,Ft=255;for(pt=0;pt<Qe;++pt){for(rt=0;rt<Te;++rt){var rr=O[G+rt];Ke[qe+4*rt]=rr,Ft&=rr}G+=be,qe+=Je}return Ft!=255}function J(O,G,be,Te,Qe){var Ke;for(Ke=0;Ke<Qe;++Ke)be[Te+Ke]=O[G+Ke]>>8}function Xe(){Zs=cs,Qh=T,al=Me,yd=J}function ht(O,G,be){_t[O]=function(Te,Qe,Ke,qe,Je,rt,pt,Ft,rr,At,Mt,Yt,wr,ar,Nr,Er,Rr){var Tr,ta=Rr-1>>1,kn=Je[rt+0]|pt[Ft+0]<<16,$a=rr[At+0]|Mt[Yt+0]<<16;B(Te!=null);var yn=3*kn+$a+131074>>2;for(G(Te[Qe+0],255&yn,yn>>16,wr,ar),Ke!=null&&(yn=3*$a+kn+131074>>2,G(Ke[qe+0],255&yn,yn>>16,Nr,Er)),Tr=1;Tr<=ta;++Tr){var yi=Je[rt+Tr]|pt[Ft+Tr]<<16,ln=rr[At+Tr]|Mt[Yt+Tr]<<16,Ma=kn+yi+$a+ln+524296,Wn=Ma+2*(yi+$a)>>3;yn=Wn+kn>>1,kn=(Ma=Ma+2*(kn+ln)>>3)+yi>>1,G(Te[Qe+2*Tr-1],255&yn,yn>>16,wr,ar+(2*Tr-1)*be),G(Te[Qe+2*Tr-0],255&kn,kn>>16,wr,ar+(2*Tr-0)*be),Ke!=null&&(yn=Ma+$a>>1,kn=Wn+ln>>1,G(Ke[qe+2*Tr-1],255&yn,yn>>16,Nr,Er+(2*Tr-1)*be),G(Ke[qe+2*Tr+0],255&kn,kn>>16,Nr,Er+(2*Tr+0)*be)),kn=yi,$a=ln}1&Rr||(yn=3*kn+$a+131074>>2,G(Te[Qe+Rr-1],255&yn,yn>>16,wr,ar+(Rr-1)*be),Ke!=null&&(yn=3*$a+kn+131074>>2,G(Ke[qe+Rr-1],255&yn,yn>>16,Nr,Er+(Rr-1)*be)))}}function ot(){cc[Gd]=Xd,cc[Wh]=EA,cc[$h]=yf,cc[ph]=bf,cc[uo]=IA,cc[bd]=wd,cc[ff]=jd,cc[jA]=EA,cc[Vh]=bf,cc[Tu]=IA,cc[CA]=wd}function er(O){return O&-16384?0>O?0:255:O>>Cp}function $t(O,G){return er((19077*O>>8)+(26149*G>>8)-14234)}function Nn(O,G,be){return er((19077*O>>8)-(6419*G>>8)-(13320*be>>8)+8708)}function Pt(O,G){return er((19077*O>>8)+(33050*G>>8)-17685)}function ir(O,G,be,Te,Qe){Te[Qe+0]=$t(O,be),Te[Qe+1]=Nn(O,G,be),Te[Qe+2]=Pt(O,G)}function va(O,G,be,Te,Qe){Te[Qe+0]=Pt(O,G),Te[Qe+1]=Nn(O,G,be),Te[Qe+2]=$t(O,be)}function An(O,G,be,Te,Qe){var Ke=Nn(O,G,be);G=Ke<<3&224|Pt(O,G)>>3,Te[Qe+0]=248&$t(O,be)|Ke>>5,Te[Qe+1]=G}function Mr(O,G,be,Te,Qe){var Ke=240&Pt(O,G)|15;Te[Qe+0]=240&$t(O,be)|Nn(O,G,be)>>4,Te[Qe+1]=Ke}function br(O,G,be,Te,Qe){Te[Qe+0]=255,ir(O,G,be,Te,Qe+1)}function Ri(O,G,be,Te,Qe){va(O,G,be,Te,Qe),Te[Qe+3]=255}function ba(O,G,be,Te,Qe){ir(O,G,be,Te,Qe),Te[Qe+3]=255}function ia(O,G,be){_t[O]=function(Te,Qe,Ke,qe,Je,rt,pt,Ft,rr){for(var At=Ft+(-2&rr)*be;Ft!=At;)G(Te[Qe+0],Ke[qe+0],Je[rt+0],pt,Ft),G(Te[Qe+1],Ke[qe+0],Je[rt+0],pt,Ft+be),Qe+=2,++qe,++rt,Ft+=2*be;1&rr&&G(Te[Qe+0],Ke[qe+0],Je[rt+0],pt,Ft)}}function Na(O,G,be){return be==0?O==0?G==0?6:5:G==0?4:0:be}function Ya(O,G,be,Te,Qe){switch(O>>>30){case 3:gl(G,be,Te,Qe,0);break;case 2:Mo(G,be,Te,Qe);break;case 1:di(G,be,Te,Qe)}}function an(O,G){var be,Te,Qe=G.M,Ke=G.Nb,qe=O.oc,Je=O.pc+40,rt=O.oc,pt=O.pc+584,Ft=O.oc,rr=O.pc+600;for(be=0;16>be;++be)qe[Je+32*be-1]=129;for(be=0;8>be;++be)rt[pt+32*be-1]=129,Ft[rr+32*be-1]=129;for(0<Qe?qe[Je-1-32]=rt[pt-1-32]=Ft[rr-1-32]=129:(X(qe,Je-32-1,127,21),X(rt,pt-32-1,127,9),X(Ft,rr-32-1,127,9)),Te=0;Te<O.za;++Te){var At=G.ya[G.aa+Te];if(0<Te){for(be=-1;16>be;++be)K(qe,Je+32*be-4,qe,Je+32*be+12,4);for(be=-1;8>be;++be)K(rt,pt+32*be-4,rt,pt+32*be+4,4),K(Ft,rr+32*be-4,Ft,rr+32*be+4,4)}var Mt=O.Gd,Yt=O.Hd+Te,wr=At.ad,ar=At.Hc;if(0<Qe&&(K(qe,Je-32,Mt[Yt].y,0,16),K(rt,pt-32,Mt[Yt].f,0,8),K(Ft,rr-32,Mt[Yt].ea,0,8)),At.Za){var Nr=qe,Er=Je-32+16;for(0<Qe&&(Te>=O.za-1?X(Nr,Er,Mt[Yt].y[15],4):K(Nr,Er,Mt[Yt+1].y,0,4)),be=0;4>be;be++)Nr[Er+128+be]=Nr[Er+256+be]=Nr[Er+384+be]=Nr[Er+0+be];for(be=0;16>be;++be,ar<<=2)Nr=qe,Er=Je+OA[be],Ml[At.Ob[be]](Nr,Er),Ya(ar,wr,16*+be,Nr,Er)}else if(Nr=Na(Te,Qe,At.Ob[0]),Ku[Nr](qe,Je),ar!=0)for(be=0;16>be;++be,ar<<=2)Ya(ar,wr,16*+be,qe,Je+OA[be]);for(be=At.Gc,Nr=Na(Te,Qe,At.Dd),uu[Nr](rt,pt),uu[Nr](Ft,rr),ar=wr,Nr=rt,Er=pt,255&(At=0|be)&&(170&At?oc(ar,256,Nr,Er):Li(ar,256,Nr,Er)),At=Ft,ar=rr,255&(be>>=8)&&(170&be?oc(wr,320,At,ar):Li(wr,320,At,ar)),Qe<O.Ub-1&&(K(Mt[Yt].y,0,qe,Je+480,16),K(Mt[Yt].f,0,rt,pt+224,8),K(Mt[Yt].ea,0,Ft,rr+224,8)),be=8*Ke*O.B,Mt=O.sa,Yt=O.ta+16*Te+16*Ke*O.R,wr=O.qa,At=O.ra+8*Te+be,ar=O.Ha,Nr=O.Ia+8*Te+be,be=0;16>be;++be)K(Mt,Yt+be*O.R,qe,Je+32*be,16);for(be=0;8>be;++be)K(wr,At+be*O.B,rt,pt+32*be,8),K(ar,Nr+be*O.B,Ft,rr+32*be,8)}}function Ea(O,G,be,Te,Qe,Ke,qe,Je,rt){var pt=[0],Ft=[0],rr=0,At=rt!=null?rt.kd:0,Mt=rt??new Fr;if(O==null||12>be)return 7;Mt.data=O,Mt.w=G,Mt.ha=be,G=[G],be=[be],Mt.gb=[Mt.gb];e:{var Yt=G,wr=be,ar=Mt.gb;if(B(O!=null),B(wr!=null),B(ar!=null),ar[0]=0,12<=wr[0]&&!D(O,Yt[0],"RIFF")){if(D(O,Yt[0]+8,"WEBP")){ar=3;break e}var Nr=ca(O,Yt[0]+4);if(12>Nr||4294967286<Nr){ar=3;break e}if(At&&Nr>wr[0]-8){ar=7;break e}ar[0]=Nr,Yt[0]+=12,wr[0]-=12}ar=0}if(ar!=0)return ar;for(Nr=0<Mt.gb[0],be=be[0];;){e:{var Er=O;wr=G,ar=be;var Rr=pt,Tr=Ft,ta=Yt=[0];if((yn=rr=[rr])[0]=0,8>ar[0])ar=7;else{if(!D(Er,wr[0],"VP8X")){if(ca(Er,wr[0]+4)!=10){ar=3;break e}if(18>ar[0]){ar=7;break e}var kn=ca(Er,wr[0]+8),$a=1+Bn(Er,wr[0]+12);if(2147483648<=$a*(Er=1+Bn(Er,wr[0]+15))){ar=3;break e}ta!=null&&(ta[0]=kn),Rr!=null&&(Rr[0]=$a),Tr!=null&&(Tr[0]=Er),wr[0]+=18,ar[0]-=18,yn[0]=1}ar=0}}if(rr=rr[0],Yt=Yt[0],ar!=0)return ar;if(wr=!!(2&Yt),!Nr&&rr)return 3;if(Ke!=null&&(Ke[0]=!!(16&Yt)),qe!=null&&(qe[0]=wr),Je!=null&&(Je[0]=0),qe=pt[0],Yt=Ft[0],rr&&wr&&rt==null){ar=0;break}if(4>be){ar=7;break}if(Nr&&rr||!Nr&&!rr&&!D(O,G[0],"ALPH")){be=[be],Mt.na=[Mt.na],Mt.P=[Mt.P],Mt.Sa=[Mt.Sa];e:{kn=O,ar=G,Nr=be;var yn=Mt.gb;Rr=Mt.na,Tr=Mt.P,ta=Mt.Sa,$a=22,B(kn!=null),B(Nr!=null),Er=ar[0];var yi=Nr[0];for(B(Rr!=null),B(ta!=null),Rr[0]=null,Tr[0]=null,ta[0]=0;;){if(ar[0]=Er,Nr[0]=yi,8>yi){ar=7;break e}var ln=ca(kn,Er+4);if(4294967286<ln){ar=3;break e}var Ma=8+ln+1&-2;if($a+=Ma,0<yn&&$a>yn){ar=3;break e}if(!D(kn,Er,"VP8 ")||!D(kn,Er,"VP8L")){ar=0;break e}if(yi[0]<Ma){ar=7;break e}D(kn,Er,"ALPH")||(Rr[0]=kn,Tr[0]=Er+8,ta[0]=ln),Er+=Ma,yi-=Ma}}if(be=be[0],Mt.na=Mt.na[0],Mt.P=Mt.P[0],Mt.Sa=Mt.Sa[0],ar!=0)break}be=[be],Mt.Ja=[Mt.Ja],Mt.xa=[Mt.xa];e:if(yn=O,ar=G,Nr=be,Rr=Mt.gb[0],Tr=Mt.Ja,ta=Mt.xa,kn=ar[0],Er=!D(yn,kn,"VP8 "),$a=!D(yn,kn,"VP8L"),B(yn!=null),B(Nr!=null),B(Tr!=null),B(ta!=null),8>Nr[0])ar=7;else{if(Er||$a){if(yn=ca(yn,kn+4),12<=Rr&&yn>Rr-12){ar=3;break e}if(At&&yn>Nr[0]-8){ar=7;break e}Tr[0]=yn,ar[0]+=8,Nr[0]-=8,ta[0]=$a}else ta[0]=5<=Nr[0]&&yn[kn+0]==47&&!(yn[kn+4]>>5),Tr[0]=Nr[0];ar=0}if(be=be[0],Mt.Ja=Mt.Ja[0],Mt.xa=Mt.xa[0],G=G[0],ar!=0)break;if(4294967286<Mt.Ja)return 3;if(Je==null||wr||(Je[0]=Mt.xa?2:1),qe=[qe],Yt=[Yt],Mt.xa){if(5>be){ar=7;break}Je=qe,At=Yt,wr=Ke,O==null||5>be?O=0:5<=be&&O[G+0]==47&&!(O[G+4]>>5)?(Nr=[0],yn=[0],Rr=[0],gr(Tr=new xt,O,G,be),yo(Tr,Nr,yn,Rr)?(Je!=null&&(Je[0]=Nr[0]),At!=null&&(At[0]=yn[0]),wr!=null&&(wr[0]=Rr[0]),O=1):O=0):O=0}else{if(10>be){ar=7;break}Je=Yt,O==null||10>be||!hd(O,G+3,be-3)?O=0:(At=O[G+0]|O[G+1]<<8|O[G+2]<<16,wr=16383&(O[G+7]<<8|O[G+6]),O=16383&(O[G+9]<<8|O[G+8]),1&At||3<(At>>1&7)||!(At>>4&1)||At>>5>=Mt.Ja||!wr||!O?O=0:(qe&&(qe[0]=wr),Je&&(Je[0]=O),O=1))}if(!O||(qe=qe[0],Yt=Yt[0],rr&&(pt[0]!=qe||Ft[0]!=Yt)))return 3;rt!=null&&(rt[0]=Mt,rt.offset=G-rt.w,B(4294967286>G-rt.w),B(rt.offset==rt.ha-be));break}return ar==0||ar==7&&rr&&rt==null?(Ke!=null&&(Ke[0]|=Mt.na!=null&&0<Mt.na.length),Te!=null&&(Te[0]=qe),Qe!=null&&(Qe[0]=Yt),0):ar}function es(O,G,be){var Te=G.width,Qe=G.height,Ke=0,qe=0,Je=Te,rt=Qe;if(G.Da=O!=null&&0<O.Da,G.Da&&(Je=O.cd,rt=O.bd,Ke=O.v,qe=O.j,11>be||(Ke&=-2,qe&=-2),0>Ke||0>qe||0>=Je||0>=rt||Ke+Je>Te||qe+rt>Qe))return 0;if(G.v=Ke,G.j=qe,G.va=Ke+Je,G.o=qe+rt,G.U=Je,G.T=rt,G.da=O!=null&&0<O.da,G.da){if(!un(Je,rt,be=[O.ib],Ke=[O.hb]))return 0;G.ib=be[0],G.hb=Ke[0]}return G.ob=O!=null&&O.ob,G.Kb=O==null||!O.Sd,G.da&&(G.ob=G.ib<3*Te/4&&G.hb<3*Qe/4,G.Kb=0),1}function ea(O){if(O==null)return 2;if(11>O.S){var G=O.f.RGBA;G.fb+=(O.height-1)*G.A,G.A=-G.A}else G=O.f.kb,O=O.height,G.O+=(O-1)*G.fa,G.fa=-G.fa,G.N+=(O-1>>1)*G.Ab,G.Ab=-G.Ab,G.W+=(O-1>>1)*G.Db,G.Db=-G.Db,G.F!=null&&(G.J+=(O-1)*G.lb,G.lb=-G.lb);return 0}function oi(O,G,be,Te){if(Te==null||0>=O||0>=G)return 2;if(be!=null){if(be.Da){var Qe=be.cd,Ke=be.bd,qe=-2&be.v,Je=-2&be.j;if(0>qe||0>Je||0>=Qe||0>=Ke||qe+Qe>O||Je+Ke>G)return 2;O=Qe,G=Ke}if(be.da){if(!un(O,G,Qe=[be.ib],Ke=[be.hb]))return 2;O=Qe[0],G=Ke[0]}}Te.width=O,Te.height=G;e:{var rt=Te.width,pt=Te.height;if(O=Te.S,0>=rt||0>=pt||!(O>=Gd&&13>O))O=2;else{if(0>=Te.Rd&&Te.sd==null){qe=Ke=Qe=G=0;var Ft=(Je=rt*kA[O])*pt;if(11>O||(Ke=(pt+1)/2*(G=(rt+1)/2),O==12&&(qe=(Qe=rt)*pt)),(pt=ne(Ft+2*Ke+qe))==null){O=1;break e}Te.sd=pt,11>O?((rt=Te.f.RGBA).eb=pt,rt.fb=0,rt.A=Je,rt.size=Ft):((rt=Te.f.kb).y=pt,rt.O=0,rt.fa=Je,rt.Fd=Ft,rt.f=pt,rt.N=0+Ft,rt.Ab=G,rt.Cd=Ke,rt.ea=pt,rt.W=0+Ft+Ke,rt.Db=G,rt.Ed=Ke,O==12&&(rt.F=pt,rt.J=0+Ft+2*Ke),rt.Tc=qe,rt.lb=Qe)}if(G=1,Qe=Te.S,Ke=Te.width,qe=Te.height,Qe>=Gd&&13>Qe)if(11>Qe)O=Te.f.RGBA,G&=(Je=Math.abs(O.A))*(qe-1)+Ke<=O.size,G&=Je>=Ke*kA[Qe],G&=O.eb!=null;else{O=Te.f.kb,Je=(Ke+1)/2,Ft=(qe+1)/2,rt=Math.abs(O.fa),pt=Math.abs(O.Ab);var rr=Math.abs(O.Db),At=Math.abs(O.lb),Mt=At*(qe-1)+Ke;G&=rt*(qe-1)+Ke<=O.Fd,G&=pt*(Ft-1)+Je<=O.Cd,G=(G&=rr*(Ft-1)+Je<=O.Ed)&rt>=Ke&pt>=Je&rr>=Je,G&=O.y!=null,G&=O.f!=null,G&=O.ea!=null,Qe==12&&(G&=At>=Ke,G&=Mt<=O.Tc,G&=O.F!=null)}else G=0;O=G?0:2}}return O!=0||be!=null&&be.fd&&(O=ea(Te)),O}var ka=64,Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,wo=32,ic=8,Do=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mn("Predictor0","PredictorAdd0"),_t.Predictor0=function(){return 4278190080},_t.Predictor1=function(O){return O},_t.Predictor2=function(O,G,be){return G[be+0]},_t.Predictor3=function(O,G,be){return G[be+1]},_t.Predictor4=function(O,G,be){return G[be-1]},_t.Predictor5=function(O,G,be){return Rn(Rn(O,G[be+1]),G[be+0])},_t.Predictor6=function(O,G,be){return Rn(O,G[be-1])},_t.Predictor7=function(O,G,be){return Rn(O,G[be+0])},_t.Predictor8=function(O,G,be){return Rn(G[be-1],G[be+0])},_t.Predictor9=function(O,G,be){return Rn(G[be+0],G[be+1])},_t.Predictor10=function(O,G,be){return Rn(Rn(O,G[be-1]),Rn(G[be+0],G[be+1]))},_t.Predictor11=function(O,G,be){var Te=G[be+0];return 0>=Fn(Te>>24&255,O>>24&255,(G=G[be-1])>>24&255)+Fn(Te>>16&255,O>>16&255,G>>16&255)+Fn(Te>>8&255,O>>8&255,G>>8&255)+Fn(255&Te,255&O,255&G)?Te:O},_t.Predictor12=function(O,G,be){var Te=G[be+0];return(fi((O>>24&255)+(Te>>24&255)-((G=G[be-1])>>24&255))<<24|fi((O>>16&255)+(Te>>16&255)-(G>>16&255))<<16|fi((O>>8&255)+(Te>>8&255)-(G>>8&255))<<8|fi((255&O)+(255&Te)-(255&G)))>>>0},_t.Predictor13=function(O,G,be){var Te=G[be-1];return(La((O=Rn(O,G[be+0]))>>24&255,Te>>24&255)<<24|La(O>>16&255,Te>>16&255)<<16|La(O>>8&255,Te>>8&255)<<8|La(255&O,255&Te))>>>0};var lo=_t.PredictorAdd0;_t.PredictorAdd1=si,Mn("Predictor2","PredictorAdd2"),Mn("Predictor3","PredictorAdd3"),Mn("Predictor4","PredictorAdd4"),Mn("Predictor5","PredictorAdd5"),Mn("Predictor6","PredictorAdd6"),Mn("Predictor7","PredictorAdd7"),Mn("Predictor8","PredictorAdd8"),Mn("Predictor9","PredictorAdd9"),Mn("Predictor10","PredictorAdd10"),Mn("Predictor11","PredictorAdd11"),Mn("Predictor12","PredictorAdd12"),Mn("Predictor13","PredictorAdd13");var sc=_t.PredictorAdd2;On("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),On("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var Ws,Lh=_t.ColorIndexInverseTransform,Go=_t.MapARGB,nl=_t.VP8LColorIndexInverseTransformAlpha,Kd=_t.MapAlpha,Ah=_t.VP8LPredictorsAdd=[];Ah.length=16,(_t.VP8LPredictors=[]).length=16,(_t.VP8LPredictorsAdd_C=[]).length=16,(_t.VP8LPredictors_C=[]).length=16;var _c,$c,Vc,Vu,ou,vd,Oc,gl,Mo,oc,di,Li,us,co,lu,ts,cu,xd,Uh,fh,Hh,zu,ws,jo,Zs,Qh,al,yd,xp=ne(511),il=ne(2041),yA=ne(225),bA=ne(767),wA=0,zc=il,Dl=yA,sl=bA,lc=xp,Gd=0,Wh=1,$h=2,ph=3,uo=4,bd=5,ff=6,jA=7,Vh=8,Tu=9,CA=10,NA=[2,3,7],SA=[3,3,11],pf=[280,256,256,256,40],mf=[0,1,1,1,0],yp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gf=8,mh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qd=null,BA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Lm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Kh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ku=[],Ml=[],uu=[],jp=1,xf=2,Ro=[],cc=[];ht("UpsampleRgbLinePair",ir,3),ht("UpsampleBgrLinePair",va,3),ht("UpsampleRgbaLinePair",ba,4),ht("UpsampleBgraLinePair",Ri,4),ht("UpsampleArgbLinePair",br,4),ht("UpsampleRgba4444LinePair",Mr,2),ht("UpsampleRgb565LinePair",An,2);var Xd=_t.UpsampleRgbLinePair,yf=_t.UpsampleBgrLinePair,EA=_t.UpsampleRgbaLinePair,bf=_t.UpsampleBgraLinePair,IA=_t.UpsampleArgbLinePair,wd=_t.UpsampleRgba4444LinePair,jd=_t.UpsampleRgb565LinePair,Cd=16,Yd=1<<Cd-1,gh=-227,TA=482,Cp=6,wf=0,jf=ne(256),Cf=ne(256),Rl=ne(256),vl=ne(256),_A=ne(TA-gh),Nf=ne(TA-gh);ia("YuvToRgbRow",ir,3),ia("YuvToBgrRow",va,3),ia("YuvToRgbaRow",ba,4),ia("YuvToBgraRow",Ri,4),ia("YuvToArgbRow",br,4),ia("YuvToRgba4444Row",Mr,2),ia("YuvToRgb565Row",An,2);var OA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qh=[0,2,8],Xh=[8,7,6,4,4,2,2,2,1,1,1,1],vh=1;this.WebPDecodeRGBA=function(O,G,be,Te,Qe){var Ke=Wh,qe=new yr,Je=new ja;qe.ba=Je,Je.S=Ke,Je.width=[Je.width],Je.height=[Je.height];var rt=Je.width,pt=Je.height,Ft=new En;if(Ft==null||O==null)var rr=2;else B(Ft!=null),rr=Ea(O,G,be,Ft.width,Ft.height,Ft.Pd,Ft.Qd,Ft.format,null);if(rr!=0?rt=0:(rt!=null&&(rt[0]=Ft.width[0]),pt!=null&&(pt[0]=Ft.height[0]),rt=1),rt){Je.width=Je.width[0],Je.height=Je.height[0],Te!=null&&(Te[0]=Je.width),Qe!=null&&(Qe[0]=Je.height);e:{if(Te=new Qu,(Qe=new Fr).data=O,Qe.w=G,Qe.ha=be,Qe.kd=1,G=[0],B(Qe!=null),((O=Ea(Qe.data,Qe.w,Qe.ha,null,null,null,G,null,Qe))==0||O==7)&&G[0]&&(O=4),(G=O)==0){if(B(qe!=null),Te.data=Qe.data,Te.w=Qe.w+Qe.offset,Te.ha=Qe.ha-Qe.offset,Te.put=Aa,Te.ac=Cc,Te.bc=ys,Te.ma=qe,Qe.xa){if((O=El())==null){qe=1;break e}if((function(At,Mt){var Yt=[0],wr=[0],ar=[0];t:for(;;){if(At==null)return 0;if(Mt==null)return At.a=2,0;if(At.l=Mt,At.a=0,gr(At.m,Mt.data,Mt.w,Mt.ha),!yo(At.m,Yt,wr,ar)){At.a=3;break t}if(At.xb=xf,Mt.width=Yt[0],Mt.height=wr[0],!$o(Yt[0],wr[0],1,At,null))break t;return 1}return B(At.a!=0),0})(O,Te)){if(Te=(G=oi(Te.width,Te.height,qe.Oa,qe.ba))==0){t:{Te=O;r:for(;;){if(Te==null){Te=0;break t}if(B(Te.s.yc!=null),B(Te.s.Ya!=null),B(0<Te.s.Wb),B((be=Te.l)!=null),B((Qe=be.ma)!=null),Te.xb!=0){if(Te.ca=Qe.ba,Te.tb=Qe.tb,B(Te.ca!=null),!es(Qe.Oa,be,ph)){Te.a=2;break r}if(!Po(Te,be.width)||be.da)break r;if((be.da||ga(Te.ca.S))&&Xe(),11>Te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Te.ca.f.kb.F!=null&&Xe()),Te.Pb&&0<Te.s.ua&&Te.s.vb.X==null&&!ut(Te.s.vb,Te.s.Wa.Xa)){Te.a=1;break r}Te.xb=0}if(!Ys(Te,Te.V,Te.Ba,Te.c,Te.i,be.o,Xs))break r;Qe.Dc=Te.Ma,Te=1;break t}B(Te.a!=0),Te=0}Te=!Te}Te&&(G=O.a)}else G=O.a}else{if((O=new wu)==null){qe=1;break e}if(O.Fa=Qe.na,O.P=Qe.P,O.qc=Qe.Sa,tc(O,Te)){if((G=oi(Te.width,Te.height,qe.Oa,qe.ba))==0){if(O.Aa=0,be=qe.Oa,B((Qe=O)!=null),be!=null){if(0<(rt=0>(rt=be.Md)?0:100<rt?255:255*rt/100)){for(pt=Ft=0;4>pt;++pt)12>(rr=Qe.pb[pt]).lc&&(rr.ia=rt*Xh[0>rr.lc?0:rr.lc]>>3),Ft|=rr.ia;Ft&&(alert("todo:VP8InitRandom"),Qe.ia=1)}Qe.Ga=be.Id,100<Qe.Ga?Qe.Ga=100:0>Qe.Ga&&(Qe.Ga=0)}(function(At,Mt){if(At==null)return 0;if(Mt==null)return ya(At,2,"NULL VP8Io parameter in VP8Decode().");if(!At.cb&&!tc(At,Mt))return 0;if(B(At.cb),Mt.ac==null||Mt.ac(Mt)){Mt.ob&&(At.L=0);var Yt=qh[At.L];if(At.L==2?(At.yb=0,At.zb=0):(At.yb=Mt.v-Yt>>4,At.zb=Mt.j-Yt>>4,0>At.yb&&(At.yb=0),0>At.zb&&(At.zb=0)),At.Va=Mt.o+15+Yt>>4,At.Hb=Mt.va+15+Yt>>4,At.Hb>At.za&&(At.Hb=At.za),At.Va>At.Ub&&(At.Va=At.Ub),0<At.L){var wr=At.ed;for(Yt=0;4>Yt;++Yt){var ar;if(At.Qa.Cb){var Nr=At.Qa.Lb[Yt];At.Qa.Fb||(Nr+=wr.Tb)}else Nr=wr.Tb;for(ar=0;1>=ar;++ar){var Er=At.gd[Yt][ar],Rr=Nr;if(wr.Pc&&(Rr+=wr.vd[0],ar&&(Rr+=wr.od[0])),0<(Rr=0>Rr?0:63<Rr?63:Rr)){var Tr=Rr;0<wr.wb&&(Tr=4<wr.wb?Tr>>2:Tr>>1)>9-wr.wb&&(Tr=9-wr.wb),1>Tr&&(Tr=1),Er.dd=Tr,Er.tc=2*Rr+Tr,Er.ld=40<=Rr?2:15<=Rr?1:0}else Er.tc=0;Er.La=ar}}}Yt=0}else ya(At,6,"Frame setup failed"),Yt=At.a;if(Yt=Yt==0){if(Yt){At.$c=0,0<At.Aa||(At.Ic=vh);t:{Yt=At.Ic,wr=4*(Tr=At.za);var ta=32*Tr,kn=Tr+1,$a=0<At.L?Tr*(0<At.Aa?2:1):0,yn=(At.Aa==2?2:1)*Tr;if((Er=wr+832+(ar=3*(16*Yt+qh[At.L])/2*ta)+(Nr=At.Fa!=null&&0<At.Fa.length?At.Kc.c*At.Kc.i:0))!=Er)Yt=0;else{if(Er>At.Vb){if(At.Vb=0,At.Ec=ne(Er),At.Fc=0,At.Ec==null){Yt=ya(At,1,"no memory during frame initialization.");break t}At.Vb=Er}Er=At.Ec,Rr=At.Fc,At.Ac=Er,At.Bc=Rr,Rr+=wr,At.Gd=Se(ta,Uu),At.Hd=0,At.rb=Se(kn+1,nu),At.sb=1,At.wa=$a?Se($a,Vo):null,At.Y=0,At.D.Nb=0,At.D.wa=At.wa,At.D.Y=At.Y,0<At.Aa&&(At.D.Y+=Tr),B(!0),At.oc=Er,At.pc=Rr,Rr+=832,At.ya=Se(yn,Lu),At.aa=0,At.D.ya=At.ya,At.D.aa=At.aa,At.Aa==2&&(At.D.aa+=Tr),At.R=16*Tr,At.B=8*Tr,Tr=(ta=qh[At.L])*At.R,ta=ta/2*At.B,At.sa=Er,At.ta=Rr+Tr,At.qa=At.sa,At.ra=At.ta+16*Yt*At.R+ta,At.Ha=At.qa,At.Ia=At.ra+8*Yt*At.B+ta,At.$c=0,Rr+=ar,At.mb=Nr?Er:null,At.nb=Nr?Rr:null,B(Rr+Nr<=At.Fc+At.Vb),Ad(At),X(At.Ac,At.Bc,0,wr),Yt=1}}if(Yt){if(Mt.ka=0,Mt.y=At.sa,Mt.O=At.ta,Mt.f=At.qa,Mt.N=At.ra,Mt.ea=At.Ha,Mt.Vd=At.Ia,Mt.fa=At.R,Mt.Rc=At.B,Mt.F=null,Mt.J=0,!wA){for(Yt=-255;255>=Yt;++Yt)xp[255+Yt]=0>Yt?-Yt:Yt;for(Yt=-1020;1020>=Yt;++Yt)il[1020+Yt]=-128>Yt?-128:127<Yt?127:Yt;for(Yt=-112;112>=Yt;++Yt)yA[112+Yt]=-16>Yt?-16:15<Yt?15:Yt;for(Yt=-255;510>=Yt;++Yt)bA[255+Yt]=0>Yt?0:255<Yt?255:Yt;wA=1}Oc=pd,gl=Wu,oc=zo,di=fd,Li=ju,Mo=_l,us=Vd,co=Wc,lu=Ue,ts=gt,cu=zd,xd=de,Uh=Ot,fh=Gt,Hh=Fs,zu=Tc,ws=su,jo=Fo,Ml[0]=Ec,Ml[1]=Cu,Ml[2]=Hc,Ml[3]=hh,Ml[4]=bo,Ml[5]=rc,Ml[6]=kl,Ml[7]=$d,Ml[8]=$u,Ml[9]=pl,Ku[0]=Mh,Ku[1]=Su,Ku[2]=Bu,Ku[3]=md,Ku[4]=Eu,Ku[5]=Wd,Ku[6]=Rh,uu[0]=gd,uu[1]=Nu,uu[2]=Ko,uu[3]=Iu,uu[4]=nc,uu[5]=Ic,uu[6]=Pl,Yt=1}else Yt=0}Yt&&(Yt=(function(yi,ln){for(yi.M=0;yi.M<yi.Va;++yi.M){var Ma,Wn=yi.Jc[yi.M&yi.Xb],fn=yi.m,ho=yi;for(Ma=0;Ma<ho.za;++Ma){var Pa=fn,Ai=ho,ds=Ai.Ac,Co=Ai.Bc+4*Ma,qo=Ai.zc,Ds=Ai.ya[Ai.aa+Ma];if(Ai.Qa.Bb?Ds.$b=Pr(Pa,Ai.Pa.jb[0])?2+Pr(Pa,Ai.Pa.jb[2]):Pr(Pa,Ai.Pa.jb[1]):Ds.$b=0,Ai.kc&&(Ds.Ad=Pr(Pa,Ai.Bd)),Ds.Za=!Pr(Pa,145)+0,Ds.Za){var Xo=Ds.Ob,ol=0;for(Ai=0;4>Ai;++Ai){var pi,Ka=qo[0+Ai];for(pi=0;4>pi;++pi){Ka=Lm[ds[Co+pi]][Ka];for(var mi=vf[Pr(Pa,Ka[0])];0<mi;)mi=vf[2*mi+Pr(Pa,Ka[mi])];Ka=-mi,ds[Co+pi]=Ka}K(Xo,ol,ds,Co,4),ol+=4,qo[0+Ai]=Ka}}else Ka=Pr(Pa,156)?Pr(Pa,128)?1:3:Pr(Pa,163)?2:0,Ds.Ob[0]=Ka,X(ds,Co,Ka,4),X(qo,0,Ka,4);Ds.Dd=Pr(Pa,142)?Pr(Pa,114)?Pr(Pa,183)?1:3:2:0}if(ho.m.Ka)return ya(yi,7,"Premature end-of-partition0 encountered.");for(;yi.ja<yi.za;++yi.ja){if(ho=Wn,Pa=(fn=yi).rb[fn.sb-1],ds=fn.rb[fn.sb+fn.ja],Ma=fn.ya[fn.aa+fn.ja],Co=fn.kc?Ma.Ad:0)Pa.la=ds.la=0,Ma.Za||(Pa.Na=ds.Na=0),Ma.Hc=0,Ma.Gc=0,Ma.ia=0;else{var $s,$i;if(Pa=ds,ds=ho,Co=fn.Pa.Xc,qo=fn.ya[fn.aa+fn.ja],Ds=fn.pb[qo.$b],Ai=qo.ad,Xo=0,ol=fn.rb[fn.sb-1],Ka=pi=0,X(Ai,Xo,0,384),qo.Za)var hs=0,uc=Co[3];else{mi=ne(16);var Vi=Pa.Na+ol.Na;if(Vi=qd(ds,Co[1],Vi,Ds.Eb,0,mi,0),Pa.Na=ol.Na=(0<Vi)+0,1<Vi)Oc(mi,0,Ai,Xo);else{var xl=mi[0]+3>>3;for(mi=0;256>mi;mi+=16)Ai[Xo+mi]=xl}hs=1,uc=Co[0]}var rs=15&Pa.la,tn=15&ol.la;for(mi=0;4>mi;++mi){var Lo=1&tn;for(xl=$i=0;4>xl;++xl)rs=rs>>1|(Lo=(Vi=qd(ds,uc,Vi=Lo+(1&rs),Ds.Sc,hs,Ai,Xo))>hs)<<7,$i=$i<<2|(3<Vi?3:1<Vi?2:Ai[Xo+0]!=0),Xo+=16;rs>>=4,tn=tn>>1|Lo<<7,pi=(pi<<8|$i)>>>0}for(uc=rs,hs=tn>>4,$s=0;4>$s;$s+=2){for($i=0,rs=Pa.la>>4+$s,tn=ol.la>>4+$s,mi=0;2>mi;++mi){for(Lo=1&tn,xl=0;2>xl;++xl)Vi=Lo+(1&rs),rs=rs>>1|(Lo=0<(Vi=qd(ds,Co[2],Vi,Ds.Qc,0,Ai,Xo)))<<3,$i=$i<<2|(3<Vi?3:1<Vi?2:Ai[Xo+0]!=0),Xo+=16;rs>>=2,tn=tn>>1|Lo<<5}Ka|=$i<<4*$s,uc|=rs<<4<<$s,hs|=(240&tn)<<$s}Pa.la=uc,ol.la=hs,qo.Hc=pi,qo.Gc=Ka,qo.ia=43690&Ka?0:Ds.ia,Co=!(pi|Ka)}if(0<fn.L&&(fn.wa[fn.Y+fn.ja]=fn.gd[Ma.$b][Ma.Za],fn.wa[fn.Y+fn.ja].La|=!Co),ho.Ka)return ya(yi,7,"Premature end-of-file encountered.")}if(Ad(yi),fn=ln,ho=1,Ma=(Wn=yi).D,Pa=0<Wn.L&&Wn.M>=Wn.zb&&Wn.M<=Wn.Va,Wn.Aa==0)t:{if(Ma.M=Wn.M,Ma.uc=Pa,an(Wn,Ma),ho=1,Ma=($i=Wn.D).Nb,Pa=(Ka=qh[Wn.L])*Wn.R,ds=Ka/2*Wn.B,mi=16*Ma*Wn.R,xl=8*Ma*Wn.B,Co=Wn.sa,qo=Wn.ta-Pa+mi,Ds=Wn.qa,Ai=Wn.ra-ds+xl,Xo=Wn.Ha,ol=Wn.Ia-ds+xl,tn=(rs=$i.M)==0,pi=rs>=Wn.Va-1,Wn.Aa==2&&an(Wn,$i),$i.uc)for(Lo=(Vi=Wn).D.M,B(Vi.D.uc),$i=Vi.yb;$i<Vi.Hb;++$i){hs=$i,uc=Lo;var Uo=(Ms=(Js=Vi).D).Nb;$s=Js.R;var Ms=Ms.wa[Ms.Y+hs],yl=Js.sa,Ua=Js.ta+16*Uo*$s+16*hs,Fa=Ms.dd,Xn=Ms.tc;if(Xn!=0)if(B(3<=Xn),Js.L==1)0<hs&&zu(yl,Ua,$s,Xn+4),Ms.La&&jo(yl,Ua,$s,Xn),0<uc&&Hh(yl,Ua,$s,Xn+4),Ms.La&&ws(yl,Ua,$s,Xn);else{var zi=Js.B,_i=Js.qa,Vs=Js.ra+8*Uo*zi+8*hs,Rs=Js.Ha,Js=Js.Ia+8*Uo*zi+8*hs;Uo=Ms.ld,0<hs&&(co(yl,Ua,$s,Xn+4,Fa,Uo),ts(_i,Vs,Rs,Js,zi,Xn+4,Fa,Uo)),Ms.La&&(xd(yl,Ua,$s,Xn,Fa,Uo),fh(_i,Vs,Rs,Js,zi,Xn,Fa,Uo)),0<uc&&(us(yl,Ua,$s,Xn+4,Fa,Uo),lu(_i,Vs,Rs,Js,zi,Xn+4,Fa,Uo)),Ms.La&&(cu(yl,Ua,$s,Xn,Fa,Uo),Uh(_i,Vs,Rs,Js,zi,Xn,Fa,Uo))}}if(Wn.ia&&alert("todo:DitherRow"),fn.put!=null){if($i=16*rs,rs=16*(rs+1),tn?(fn.y=Wn.sa,fn.O=Wn.ta+mi,fn.f=Wn.qa,fn.N=Wn.ra+xl,fn.ea=Wn.Ha,fn.W=Wn.Ia+xl):($i-=Ka,fn.y=Co,fn.O=qo,fn.f=Ds,fn.N=Ai,fn.ea=Xo,fn.W=ol),pi||(rs-=Ka),rs>fn.o&&(rs=fn.o),fn.F=null,fn.J=null,Wn.Fa!=null&&0<Wn.Fa.length&&$i<rs&&(fn.J=hi(Wn,fn,$i,rs-$i),fn.F=Wn.mb,fn.F==null&&fn.F.length==0)){ho=ya(Wn,3,"Could not decode alpha data.");break t}$i<fn.j&&(Ka=fn.j-$i,$i=fn.j,B(!(1&Ka)),fn.O+=Wn.R*Ka,fn.N+=Wn.B*(Ka>>1),fn.W+=Wn.B*(Ka>>1),fn.F!=null&&(fn.J+=fn.width*Ka)),$i<rs&&(fn.O+=fn.v,fn.N+=fn.v>>1,fn.W+=fn.v>>1,fn.F!=null&&(fn.J+=fn.v),fn.ka=$i-fn.j,fn.U=fn.va-fn.v,fn.T=rs-$i,ho=fn.put(fn))}Ma+1!=Wn.Ic||pi||(K(Wn.sa,Wn.ta-Pa,Co,qo+16*Wn.R,Pa),K(Wn.qa,Wn.ra-ds,Ds,Ai+8*Wn.B,ds),K(Wn.Ha,Wn.Ia-ds,Xo,ol+8*Wn.B,ds))}if(!ho)return ya(yi,6,"Output aborted.")}return 1})(At,Mt)),Mt.bc!=null&&Mt.bc(Mt),Yt&=1}return Yt?(At.cb=0,Yt):0})(O,Te)||(G=O.a)}}else G=O.a}G==0&&qe.Oa!=null&&qe.Oa.fd&&(G=ea(qe.ba))}qe=G}Ke=qe!=0?null:11>Ke?Je.f.RGBA.eb:Je.f.kb.y}else Ke=null;return Ke};var kA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function De(_t,or){for(var at="",dt=0;dt<4;dt++)at+=String.fromCharCode(_t[or++]);return at}function Ve(_t,or){return _t[or+0]|_t[or+1]<<8}function et(_t,or){return(_t[or+0]|_t[or+1]<<8|_t[or+2]<<16)>>>0}function st(_t,or){return(_t[or+0]|_t[or+1]<<8|_t[or+2]<<16|_t[or+3]<<24)>>>0}new xe;var Oe=[0],vt=[0],mt=[],yt=new xe,nt=I,kt=(function(_t,or){var at={},dt=0,It=!1,Tt=0,cr=0;if(at.frames=[],!(function(Ye,xt){for(var Nt=0;Nt<4;Nt++)if(Ye[xt+Nt]!="RIFF".charCodeAt(Nt))return!0;return!1})(_t,or)){for(st(_t,or+=4),or+=8;or<_t.length;){var fr=De(_t,or),xr=st(_t,or+=4);or+=4;var Jt=xr+(1&xr);switch(fr){case"VP8 ":case"VP8L":at.frames[dt]===void 0&&(at.frames[dt]={}),(Hr=at.frames[dt]).src_off=It?cr:or-8,Hr.src_size=Tt+xr+8,dt++,It&&(It=!1,Tt=0,cr=0);break;case"VP8X":(Hr=at.header={}).feature_flags=_t[or];var gr=or+4;Hr.canvas_width=1+et(_t,gr),gr+=3,Hr.canvas_height=1+et(_t,gr),gr+=3;break;case"ALPH":It=!0,Tt=Jt+8,cr=or-8;break;case"ANIM":(Hr=at.header).bgcolor=st(_t,or),gr=or+4,Hr.loop_count=Ve(_t,gr),gr+=2;break;case"ANMF":var Zr,Hr;(Hr=at.frames[dt]={}).offset_x=2*et(_t,or),or+=3,Hr.offset_y=2*et(_t,or),or+=3,Hr.width=1+et(_t,or),or+=3,Hr.height=1+et(_t,or),or+=3,Hr.duration=et(_t,or),or+=3,Zr=_t[or++],Hr.dispose=1&Zr,Hr.blend=Zr>>1&1}fr!="ANMF"&&(or+=Jt)}return at}})(nt,0);kt.response=nt,kt.rgbaoutput=!0,kt.dataurl=!1;var Kt=kt.header?kt.header:null,Et=kt.frames?kt.frames:null;if(Kt){Kt.loop_counter=Kt.loop_count,Oe=[Kt.canvas_height],vt=[Kt.canvas_width];for(var tt=0;tt<Et.length&&Et[tt].blend!=0;tt++);}var Qt=Et[0],lr=yt.WebPDecodeRGBA(nt,Qt.src_off,Qt.src_size,vt,Oe);Qt.rgba=lr,Qt.imgwidth=vt[0],Qt.imgheight=Oe[0];for(var qt=0;qt<vt[0]*Oe[0]*4;qt++)mt[qt]=lr[qt];return this.width=vt,this.height=Oe,this.data=mt,this}(function(I){var B,D,K,X,ne,Se,me,xe,De,Ve=function(Ye){return Ye=Ye||{},this.isStrokeTransparent=Ye.isStrokeTransparent||!1,this.strokeOpacity=Ye.strokeOpacity||1,this.strokeStyle=Ye.strokeStyle||"#000000",this.fillStyle=Ye.fillStyle||"#000000",this.isFillTransparent=Ye.isFillTransparent||!1,this.fillOpacity=Ye.fillOpacity||1,this.font=Ye.font||"10px sans-serif",this.textBaseline=Ye.textBaseline||"alphabetic",this.textAlign=Ye.textAlign||"left",this.lineWidth=Ye.lineWidth||1,this.lineJoin=Ye.lineJoin||"miter",this.lineCap=Ye.lineCap||"butt",this.path=Ye.path||[],this.transform=Ye.transform!==void 0?Ye.transform.clone():new xe,this.globalCompositeOperation=Ye.globalCompositeOperation||"normal",this.globalAlpha=Ye.globalAlpha||1,this.clip_path=Ye.clip_path||[],this.currentPoint=Ye.currentPoint||new Se,this.miterLimit=Ye.miterLimit||10,this.lastPoint=Ye.lastPoint||new Se,this.lineDashOffset=Ye.lineDashOffset||0,this.lineDash=Ye.lineDash||[],this.margin=Ye.margin||[0,0,0,0],this.prevPageLastElemOffset=Ye.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ye.ignoreClearRect!="boolean"||Ye.ignoreClearRect,this};I.events.push(["initialized",function(){this.context2d=new et(this),B=this.internal.f2,D=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,X=this.internal.getHorizontalCoordinate,ne=this.internal.getVerticalCoordinate,Se=this.internal.Point,me=this.internal.Rectangle,xe=this.internal.Matrix,De=new Ve}]);var et=function(Ye){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var xt=Ye;Object.defineProperty(this,"pdf",{get:function(){return xt}});var Nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Nt},set:function(ut){Nt=!!ut}});var Wt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Wt},set:function(ut){Wt=!!ut}});var zt=0;Object.defineProperty(this,"posX",{get:function(){return zt},set:function(ut){isNaN(ut)||(zt=ut)}});var nr=0;Object.defineProperty(this,"posY",{get:function(){return nr},set:function(ut){isNaN(ut)||(nr=ut)}}),Object.defineProperty(this,"margin",{get:function(){return De.margin},set:function(ut){var hn;typeof ut=="number"?hn=[ut,ut,ut,ut]:((hn=new Array(4))[0]=ut[0],hn[1]=ut.length>=2?ut[1]:hn[0],hn[2]=ut.length>=3?ut[2]:hn[0],hn[3]=ut.length>=4?ut[3]:hn[1]),De.margin=hn}});var mr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mr},set:function(ut){mr=ut}});var vr=0;Object.defineProperty(this,"lastBreak",{get:function(){return vr},set:function(ut){vr=ut}});var Pr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pr},set:function(ut){Pr=ut}}),Object.defineProperty(this,"ctx",{get:function(){return De},set:function(ut){ut instanceof Ve&&(De=ut)}}),Object.defineProperty(this,"path",{get:function(){return De.path},set:function(ut){De.path=ut}});var Jr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Jr},set:function(ut){Jr=ut}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ut){var hn;hn=st(ut),this.ctx.fillStyle=hn.style,this.ctx.isFillTransparent=hn.a===0,this.ctx.fillOpacity=hn.a,this.pdf.setFillColor(hn.r,hn.g,hn.b,{a:hn.a}),this.pdf.setTextColor(hn.r,hn.g,hn.b,{a:hn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ut){var hn=st(ut);this.ctx.strokeStyle=hn.style,this.ctx.isStrokeTransparent=hn.a===0,this.ctx.strokeOpacity=hn.a,hn.a===0?this.pdf.setDrawColor(255,255,255):(hn.a,this.pdf.setDrawColor(hn.r,hn.g,hn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ut){["butt","round","square"].indexOf(ut)!==-1&&(this.ctx.lineCap=ut,this.pdf.setLineCap(ut))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ut){isNaN(ut)||(this.ctx.lineWidth=ut,this.pdf.setLineWidth(ut))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ut){["bevel","round","miter"].indexOf(ut)!==-1&&(this.ctx.lineJoin=ut,this.pdf.setLineJoin(ut))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ut){isNaN(ut)||(this.ctx.miterLimit=ut,this.pdf.setMiterLimit(ut))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ut){this.ctx.textBaseline=ut}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ut){["right","end","center","left","start"].indexOf(ut)!==-1&&(this.ctx.textAlign=ut)}});var Cn=null,Bn=null,ca=null;Object.defineProperty(this,"fontFaces",{get:function(){return ca},set:function(ut){Cn=null,Bn=null,ca=ut}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ut){var hn;if(this.ctx.font=ut,(hn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ut))!==null){var ma=hn[1];hn[2];var un=hn[3],Qr=hn[4];hn[5];var oa=hn[6],Mn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qr)[2];Qr=Math.floor(Mn==="px"?parseFloat(Qr)*this.pdf.internal.scaleFactor:Mn==="em"?parseFloat(Qr)*this.pdf.getFontSize():parseFloat(Qr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qr);var Jn=(function(On){var wa,ci,Va=[],za=On.trim();if(za==="")return Eo;if(za in Wa)return[Wa[za]];for(;za!=="";){switch(ci=null,wa=(za=ms(za)).charAt(0)){case'"':case"'":ci=Nl(za.substring(1),wa);break;default:ci=jc(za)}if(ci===null||(Va.push(ci[0]),(za=ms(ci[1]))!==""&&za.charAt(0)!==","))return Eo;za=za.replace(/^,/,"")}return Va})(oa);if(this.fontFaces){var Rn=(function(On,wa){var ci=On.getFontList(),Va=JSON.stringify(ci);if(Cn===null||Bn!==Va){var za=(function(Ji){var Kn=[];return Object.keys(Ji).forEach(function(Ei){Ji[Ei].forEach(function(ga){var zn=null;switch(ga){case"bold":zn={family:Ei,weight:"bold"};break;case"italic":zn={family:Ei,style:"italic"};break;case"bolditalic":zn={family:Ei,weight:"bold",style:"italic"};break;case"":case"normal":zn={family:Ei}}zn!==null&&(zn.ref={name:Ei,style:ga},Kn.push(zn))})}),Kn})(ci);Cn=(function(Ji){for(var Kn={},Ei=0;Ei<Ji.length;++Ei){var ga=Bs(Ji[Ei]),zn=ga.family,Ii=ga.stretch,ja=ga.style,En=ga.weight;Kn[zn]=Kn[zn]||{},Kn[zn][Ii]=Kn[zn][Ii]||{},Kn[zn][Ii][ja]=Kn[zn][Ii][ja]||{},Kn[zn][Ii][ja][En]=ga}return Kn})(za.concat(wa)),Bn=Va}return Cn})(this.pdf,this.fontFaces),fi=Jn.map(function(On){return{family:On,stretch:"normal",weight:un,style:ma}}),La=(function(On,wa,ci){for(var Va=(ci=ci||{}).defaultFontFamily||"times",za=Object.assign({},Ks,ci.genericFontFamilies||{}),Ji=null,Kn=null,Ei=0;Ei<wa.length;++Ei)if(za[(Ji=Bs(wa[Ei])).family]&&(Ji.family=za[Ji.family]),On.hasOwnProperty(Ji.family)){Kn=On[Ji.family];break}if(!(Kn=Kn||On[Va]))throw new Error("Could not find a font-family for the rule '"+wc(Ji)+"' and default family '"+Va+"'.");if(Kn=(function(ga,zn){if(zn[ga])return zn[ga];var Ii=vi[ga],ja=Ii<=vi.normal?-1:1,En=ri(zn,ji,Ii,ja);if(!En)throw new Error("Could not find a matching font-stretch value for "+ga);return En})(Ji.stretch,Kn),Kn=(function(ga,zn){if(zn[ga])return zn[ga];for(var Ii=Ss[ga],ja=0;ja<Ii.length;++ja)if(zn[Ii[ja]])return zn[Ii[ja]];throw new Error("Could not find a matching font-style for "+ga)})(Ji.style,Kn),!(Kn=(function(ga,zn){if(zn[ga])return zn[ga];if(ga===400&&zn[500])return zn[500];if(ga===500&&zn[400])return zn[400];var Ii=Bi[ga],ja=ri(zn,Ui,Ii,ga<400?-1:1);if(!ja)throw new Error("Could not find a matching font-weight for value "+ga);return ja})(Ji.weight,Kn)))throw new Error("Failed to resolve a font for the rule '"+wc(Ji)+"'.");return Kn})(Rn,fi);this.pdf.setFont(La.ref.name,La.ref.style)}else{var Fn="";(un==="bold"||parseInt(un,10)>=700||ma==="bold")&&(Fn="bold"),ma==="italic"&&(Fn+="italic"),Fn.length===0&&(Fn="normal");for(var si="",la={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_n=0;_n<Jn.length;_n++){if(this.pdf.internal.getFont(Jn[_n],Fn,{noFallback:!0,disableWarning:!0})!==void 0){si=Jn[_n];break}if(Fn==="bolditalic"&&this.pdf.internal.getFont(Jn[_n],"bold",{noFallback:!0,disableWarning:!0})!==void 0)si=Jn[_n],Fn="bold";else if(this.pdf.internal.getFont(Jn[_n],"normal",{noFallback:!0,disableWarning:!0})!==void 0){si=Jn[_n],Fn="normal";break}}if(si===""){for(var ua=0;ua<Jn.length;ua++)if(la[Jn[ua]]){si=la[Jn[ua]];break}}si=si===""?"Times":si,this.pdf.setFont(si,Fn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ut){this.ctx.globalCompositeOperation=ut}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ut){this.ctx.globalAlpha=ut}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ut){this.ctx.lineDashOffset=ut,Hr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ut){this.ctx.lineDash=ut,Hr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ut){this.ctx.ignoreClearRect=!!ut}})};et.prototype.setLineDash=function(Ye){this.lineDash=Ye},et.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},et.prototype.fill=function(){Et.call(this,"fill",!1)},et.prototype.stroke=function(){Et.call(this,"stroke",!1)},et.prototype.beginPath=function(){this.path=[{type:"begin"}]},et.prototype.moveTo=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Nt=this.ctx.transform.applyToPoint(new Se(Ye,xt));this.path.push({type:"mt",x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new Se(Ye,xt)},et.prototype.closePath=function(){var Ye=new Se(0,0),xt=0;for(xt=this.path.length-1;xt!==-1;xt--)if(this.path[xt].type==="begin"&&(0,d.default)(this.path[xt+1])==="object"&&typeof this.path[xt+1].x=="number"){Ye=new Se(this.path[xt+1].x,this.path[xt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Se(Ye.x,Ye.y)},et.prototype.lineTo=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Nt=this.ctx.transform.applyToPoint(new Se(Ye,xt));this.path.push({type:"lt",x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new Se(Nt.x,Nt.y)},et.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Et.call(this,null,!0)},et.prototype.quadraticCurveTo=function(Ye,xt,Nt,Wt){if(isNaN(Nt)||isNaN(Wt)||isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var zt=this.ctx.transform.applyToPoint(new Se(Nt,Wt)),nr=this.ctx.transform.applyToPoint(new Se(Ye,xt));this.path.push({type:"qct",x1:nr.x,y1:nr.y,x:zt.x,y:zt.y}),this.ctx.lastPoint=new Se(zt.x,zt.y)},et.prototype.bezierCurveTo=function(Ye,xt,Nt,Wt,zt,nr){if(isNaN(zt)||isNaN(nr)||isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mr=this.ctx.transform.applyToPoint(new Se(zt,nr)),vr=this.ctx.transform.applyToPoint(new Se(Ye,xt)),Pr=this.ctx.transform.applyToPoint(new Se(Nt,Wt));this.path.push({type:"bct",x1:vr.x,y1:vr.y,x2:Pr.x,y2:Pr.y,x:mr.x,y:mr.y}),this.ctx.lastPoint=new Se(mr.x,mr.y)},et.prototype.arc=function(Ye,xt,Nt,Wt,zt,nr){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt)||isNaN(zt))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nr=!!nr,!this.ctx.transform.isIdentity){var mr=this.ctx.transform.applyToPoint(new Se(Ye,xt));Ye=mr.x,xt=mr.y;var vr=this.ctx.transform.applyToPoint(new Se(0,Nt)),Pr=this.ctx.transform.applyToPoint(new Se(0,0));Nt=Math.sqrt(Math.pow(vr.x-Pr.x,2)+Math.pow(vr.y-Pr.y,2))}Math.abs(zt-Wt)>=2*Math.PI&&(Wt=0,zt=2*Math.PI),this.path.push({type:"arc",x:Ye,y:xt,radius:Nt,startAngle:Wt,endAngle:zt,counterclockwise:nr})},et.prototype.arcTo=function(Ye,xt,Nt,Wt,zt){throw new Error("arcTo not implemented.")},et.prototype.rect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ye,xt),this.lineTo(Ye+Nt,xt),this.lineTo(Ye+Nt,xt+Wt),this.lineTo(Ye,xt+Wt),this.lineTo(Ye,xt),this.lineTo(Ye+Nt,xt),this.lineTo(Ye,xt)},et.prototype.fillRect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Oe.call(this)){var zt={};this.lineCap!=="butt"&&(zt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(zt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ye,xt,Nt,Wt),this.fill(),zt.hasOwnProperty("lineCap")&&(this.lineCap=zt.lineCap),zt.hasOwnProperty("lineJoin")&&(this.lineJoin=zt.lineJoin)}},et.prototype.strokeRect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");vt.call(this)||(this.beginPath(),this.rect(Ye,xt,Nt,Wt),this.stroke())},et.prototype.clearRect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ye,xt,Nt,Wt))},et.prototype.save=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Nt=0;Nt<this.pdf.internal.getNumberOfPages();Nt++)this.pdf.setPage(Nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(xt),Ye){this.ctx.fontSize=this.pdf.internal.getFontSize();var Wt=new Ve(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Wt}},et.prototype.restore=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Nt=0;Nt<this.pdf.internal.getNumberOfPages();Nt++)this.pdf.setPage(Nt+1),this.pdf.internal.out("Q");this.pdf.setPage(xt),Ye&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},et.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var st=function(Ye){var xt,Nt,Wt,zt;if(Ye.isCanvasGradient===!0&&(Ye=Ye.getColor()),!Ye)return{r:0,g:0,b:0,a:0,style:Ye};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ye))xt=0,Nt=0,Wt=0,zt=0;else{var nr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ye);if(nr!==null)xt=parseInt(nr[1]),Nt=parseInt(nr[2]),Wt=parseInt(nr[3]),zt=1;else if((nr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ye))!==null)xt=parseInt(nr[1]),Nt=parseInt(nr[2]),Wt=parseInt(nr[3]),zt=parseFloat(nr[4]);else{if(zt=1,typeof Ye=="string"&&Ye.charAt(0)!=="#"){var mr=new S(Ye);Ye=mr.ok?mr.toHex():"#000000"}Ye.length===4?(xt=Ye.substring(1,2),xt+=xt,Nt=Ye.substring(2,3),Nt+=Nt,Wt=Ye.substring(3,4),Wt+=Wt):(xt=Ye.substring(1,3),Nt=Ye.substring(3,5),Wt=Ye.substring(5,7)),xt=parseInt(xt,16),Nt=parseInt(Nt,16),Wt=parseInt(Wt,16)}}return{r:xt,g:Nt,b:Wt,a:zt,style:Ye}},Oe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},vt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};et.prototype.fillText=function(Ye,xt,Nt,Wt){if(isNaN(xt)||isNaN(Nt)||typeof Ye!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Wt=isNaN(Wt)?void 0:Wt,!Oe.call(this)){var zt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;dt.call(this,{text:Ye,x:xt,y:Nt,scale:nr,angle:zt,align:this.textAlign,maxWidth:Wt})}},et.prototype.strokeText=function(Ye,xt,Nt,Wt){if(isNaN(xt)||isNaN(Nt)||typeof Ye!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!vt.call(this)){Wt=isNaN(Wt)?void 0:Wt;var zt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;dt.call(this,{text:Ye,x:xt,y:Nt,scale:nr,renderingMode:"stroke",angle:zt,align:this.textAlign,maxWidth:Wt})}},et.prototype.measureText=function(Ye){if(typeof Ye!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var xt=this.pdf,Nt=this.pdf.internal.scaleFactor,Wt=xt.internal.getFontSize(),zt=xt.getStringUnitWidth(Ye)*Wt/xt.internal.scaleFactor;return new function(nr){var mr=(nr=nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return mr}}),this}({width:zt*=Math.round(96*Nt/72*1e4)/1e4})},et.prototype.scale=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Nt=new xe(Ye,0,0,xt,0,0);this.ctx.transform=this.ctx.transform.multiply(Nt)},et.prototype.rotate=function(Ye){if(isNaN(Ye))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var xt=new xe(Math.cos(Ye),Math.sin(Ye),-Math.sin(Ye),Math.cos(Ye),0,0);this.ctx.transform=this.ctx.transform.multiply(xt)},et.prototype.translate=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Nt=new xe(1,0,0,1,Ye,xt);this.ctx.transform=this.ctx.transform.multiply(Nt)},et.prototype.transform=function(Ye,xt,Nt,Wt,zt,nr){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt)||isNaN(zt)||isNaN(nr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mr=new xe(Ye,xt,Nt,Wt,zt,nr);this.ctx.transform=this.ctx.transform.multiply(mr)},et.prototype.setTransform=function(Ye,xt,Nt,Wt,zt,nr){Ye=isNaN(Ye)?1:Ye,xt=isNaN(xt)?0:xt,Nt=isNaN(Nt)?0:Nt,Wt=isNaN(Wt)?1:Wt,zt=isNaN(zt)?0:zt,nr=isNaN(nr)?0:nr,this.ctx.transform=new xe(Ye,xt,Nt,Wt,zt,nr)};var mt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};et.prototype.drawImage=function(Ye,xt,Nt,Wt,zt,nr,mr,vr,Pr){var Jr=this.pdf.getImageProperties(Ye),Cn=1,Bn=1,ca=1,ut=1;Wt!==void 0&&vr!==void 0&&(ca=vr/Wt,ut=Pr/zt,Cn=Jr.width/Wt*vr/Wt,Bn=Jr.height/zt*Pr/zt),nr===void 0&&(nr=xt,mr=Nt,xt=0,Nt=0),Wt!==void 0&&vr===void 0&&(vr=Wt,Pr=zt),Wt===void 0&&vr===void 0&&(vr=Jr.width,Pr=Jr.height);var hn=this.ctx.transform.decompose(),ma=Jt(hn.rotate.shx),un=new xe,Qr=(un=(un=(un=un.multiply(hn.translate)).multiply(hn.skew)).multiply(hn.scale)).applyToRectangle(new me(nr-xt*ca,mr-Nt*ut,Wt*Cn,zt*Bn));if(this.autoPaging){for(var oa,Mn=yt.call(this,Qr),Jn=[],Rn=0;Rn<Mn.length;Rn+=1)Jn.indexOf(Mn[Rn])===-1&&Jn.push(Mn[Rn]);Kt(Jn);for(var fi=Jn[0],La=Jn[Jn.length-1],Fn=fi;Fn<La+1;Fn++){this.pdf.setPage(Fn);var si=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],la=Fn===1?this.posY+this.margin[0]:this.margin[0],_n=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ua=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],On=Fn===1?0:_n+(Fn-2)*ua;if(this.ctx.clip_path.length!==0){var wa=this.path;oa=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(oa,this.posX+this.margin[3],-On+la+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=wa}var ci=JSON.parse(JSON.stringify(Qr));ci=kt([ci],this.posX+this.margin[3],-On+la+this.ctx.prevPageLastElemOffset)[0];var Va=(Fn>fi||Fn<La)&&mt.call(this);Va&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],si,ua,null).clip().discardPath()),this.pdf.addImage(Ye,"JPEG",ci.x,ci.y,ci.w,ci.h,null,null,ma),Va&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ye,"JPEG",Qr.x,Qr.y,Qr.w,Qr.h,null,null,ma)};var yt=function(Ye,xt,Nt){var Wt=[];xt=xt||this.pdf.internal.pageSize.width,Nt=Nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var zt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ye.type){default:case"mt":case"lt":Wt.push(Math.floor((Ye.y+zt)/Nt)+1);break;case"arc":Wt.push(Math.floor((Ye.y+zt-Ye.radius)/Nt)+1),Wt.push(Math.floor((Ye.y+zt+Ye.radius)/Nt)+1);break;case"qct":var nr=gr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x,Ye.y);Wt.push(Math.floor((nr.y+zt)/Nt)+1),Wt.push(Math.floor((nr.y+nr.h+zt)/Nt)+1);break;case"bct":var mr=Zr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y);Wt.push(Math.floor((mr.y+zt)/Nt)+1),Wt.push(Math.floor((mr.y+mr.h+zt)/Nt)+1);break;case"rect":Wt.push(Math.floor((Ye.y+zt)/Nt)+1),Wt.push(Math.floor((Ye.y+Ye.h+zt)/Nt)+1)}for(var vr=0;vr<Wt.length;vr+=1)for(;this.pdf.internal.getNumberOfPages()<Wt[vr];)nt.call(this);return Wt},nt=function(){var Ye=this.fillStyle,xt=this.strokeStyle,Nt=this.font,Wt=this.lineCap,zt=this.lineWidth,nr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ye,this.strokeStyle=xt,this.font=Nt,this.lineCap=Wt,this.lineWidth=zt,this.lineJoin=nr},kt=function(Ye,xt,Nt){for(var Wt=0;Wt<Ye.length;Wt++)switch(Ye[Wt].type){case"bct":Ye[Wt].x2+=xt,Ye[Wt].y2+=Nt;case"qct":Ye[Wt].x1+=xt,Ye[Wt].y1+=Nt;default:Ye[Wt].x+=xt,Ye[Wt].y+=Nt}return Ye},Kt=function(Ye){return Ye.sort(function(xt,Nt){return xt-Nt})},Et=function(Ye,xt){var Nt=this.fillStyle,Wt=this.strokeStyle,zt=this.lineCap,nr=this.lineWidth,mr=Math.abs(nr*this.ctx.transform.scaleX),vr=this.lineJoin;if(this.autoPaging){for(var Pr,Jr,Cn=JSON.parse(JSON.stringify(this.path)),Bn=JSON.parse(JSON.stringify(this.path)),ca=[],ut=0;ut<Bn.length;ut++)if(Bn[ut].x!==void 0)for(var hn=yt.call(this,Bn[ut]),ma=0;ma<hn.length;ma+=1)ca.indexOf(hn[ma])===-1&&ca.push(hn[ma]);for(var un=0;un<ca.length;un++)for(;this.pdf.internal.getNumberOfPages()<ca[un];)nt.call(this);Kt(ca);for(var Qr=ca[0],oa=ca[ca.length-1],Mn=Qr;Mn<oa+1;Mn++){this.pdf.setPage(Mn),this.fillStyle=Nt,this.strokeStyle=Wt,this.lineCap=zt,this.lineWidth=mr,this.lineJoin=vr;var Jn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rn=Mn===1?this.posY+this.margin[0]:this.margin[0],fi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],La=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fn=Mn===1?0:fi+(Mn-2)*La;if(this.ctx.clip_path.length!==0){var si=this.path;Pr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(Pr,this.posX+this.margin[3],-Fn+Rn+this.ctx.prevPageLastElemOffset),tt.call(this,Ye,!0),this.path=si}if(Jr=JSON.parse(JSON.stringify(Cn)),this.path=kt(Jr,this.posX+this.margin[3],-Fn+Rn+this.ctx.prevPageLastElemOffset),xt===!1||Mn===0){var la=(Mn>Qr||Mn<oa)&&mt.call(this);la&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jn,La,null).clip().discardPath()),tt.call(this,Ye,xt),la&&this.pdf.restoreGraphicsState()}this.lineWidth=nr}this.path=Cn}else this.lineWidth=mr,tt.call(this,Ye,xt),this.lineWidth=nr},tt=function(Ye,xt){if((Ye!=="stroke"||xt||!vt.call(this))&&(Ye==="stroke"||xt||!Oe.call(this))){for(var Nt,Wt,zt=[],nr=this.path,mr=0;mr<nr.length;mr++){var vr=nr[mr];switch(vr.type){case"begin":zt.push({begin:!0});break;case"close":zt.push({close:!0});break;case"mt":zt.push({start:vr,deltas:[],abs:[]});break;case"lt":var Pr=zt.length;if(nr[mr-1]&&!isNaN(nr[mr-1].x)&&(Nt=[vr.x-nr[mr-1].x,vr.y-nr[mr-1].y],Pr>0)){for(;Pr>=0;Pr--)if(zt[Pr-1].close!==!0&&zt[Pr-1].begin!==!0){zt[Pr-1].deltas.push(Nt),zt[Pr-1].abs.push(vr);break}}break;case"bct":Nt=[vr.x1-nr[mr-1].x,vr.y1-nr[mr-1].y,vr.x2-nr[mr-1].x,vr.y2-nr[mr-1].y,vr.x-nr[mr-1].x,vr.y-nr[mr-1].y],zt[zt.length-1].deltas.push(Nt);break;case"qct":var Jr=nr[mr-1].x+2/3*(vr.x1-nr[mr-1].x),Cn=nr[mr-1].y+2/3*(vr.y1-nr[mr-1].y),Bn=vr.x+2/3*(vr.x1-vr.x),ca=vr.y+2/3*(vr.y1-vr.y),ut=vr.x,hn=vr.y;Nt=[Jr-nr[mr-1].x,Cn-nr[mr-1].y,Bn-nr[mr-1].x,ca-nr[mr-1].y,ut-nr[mr-1].x,hn-nr[mr-1].y],zt[zt.length-1].deltas.push(Nt);break;case"arc":zt.push({deltas:[],abs:[],arc:!0}),Array.isArray(zt[zt.length-1].abs)&&zt[zt.length-1].abs.push(vr)}}Wt=xt?null:Ye==="stroke"?"stroke":"fill";for(var ma=!1,un=0;un<zt.length;un++)if(zt[un].arc)for(var Qr=zt[un].abs,oa=0;oa<Qr.length;oa++){var Mn=Qr[oa];Mn.type==="arc"?qt.call(this,Mn.x,Mn.y,Mn.radius,Mn.startAngle,Mn.endAngle,Mn.counterclockwise,void 0,xt,!ma):It.call(this,Mn.x,Mn.y),ma=!0}else if(zt[un].close===!0)this.pdf.internal.out("h"),ma=!1;else if(zt[un].begin!==!0){var Jn=zt[un].start.x,Rn=zt[un].start.y;Tt.call(this,zt[un].deltas,Jn,Rn),ma=!0}Wt&&_t.call(this,Wt),xt&&or.call(this)}},Qt=function(Ye){var xt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Nt=xt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ye-Nt;case"top":return Ye+xt-Nt;case"hanging":return Ye+xt-2*Nt;case"middle":return Ye+xt/2-Nt;default:return Ye}},lr=function(Ye){return Ye+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};et.prototype.createLinearGradient=function(){var Ye=function(){};return Ye.colorStops=[],Ye.addColorStop=function(xt,Nt){this.colorStops.push([xt,Nt])},Ye.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ye.isCanvasGradient=!0,Ye},et.prototype.createPattern=function(){return this.createLinearGradient()},et.prototype.createRadialGradient=function(){return this.createLinearGradient()};var qt=function(Ye,xt,Nt,Wt,zt,nr,mr,vr,Pr){for(var Jr=fr.call(this,Nt,Wt,zt,nr),Cn=0;Cn<Jr.length;Cn++){var Bn=Jr[Cn];Cn===0&&(Pr?at.call(this,Bn.x1+Ye,Bn.y1+xt):It.call(this,Bn.x1+Ye,Bn.y1+xt)),cr.call(this,Ye,xt,Bn.x2,Bn.y2,Bn.x3,Bn.y3,Bn.x4,Bn.y4)}vr?or.call(this):_t.call(this,mr)},_t=function(Ye){switch(Ye){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},or=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(Ye,xt){this.pdf.internal.out(D(Ye)+" "+K(xt)+" m")},dt=function(Ye){var xt;switch(Ye.align){case"right":case"end":xt="right";break;case"center":xt="center";break;default:xt="left"}var Nt,Wt,zt,nr=this.pdf.getTextDimensions(Ye.text),mr=Qt.call(this,Ye.y),vr=lr.call(this,mr)-nr.h,Pr=this.ctx.transform.applyToPoint(new Se(Ye.x,mr));if(this.autoPaging){var Jr=this.ctx.transform.decompose(),Cn=new xe;Cn=(Cn=(Cn=Cn.multiply(Jr.translate)).multiply(Jr.skew)).multiply(Jr.scale);for(var Bn=this.ctx.transform.applyToRectangle(new me(Ye.x,mr,nr.w,nr.h)),ca=Cn.applyToRectangle(new me(Ye.x,vr,nr.w,nr.h)),ut=yt.call(this,ca),hn=[],ma=0;ma<ut.length;ma+=1)hn.indexOf(ut[ma])===-1&&hn.push(ut[ma]);Kt(hn);for(var un=hn[0],Qr=hn[hn.length-1],oa=un;oa<Qr+1;oa++){this.pdf.setPage(oa);var Mn=oa===1?this.posY+this.margin[0]:this.margin[0],Jn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rn=this.pdf.internal.pageSize.height-this.margin[2],fi=Rn-this.margin[0],La=this.pdf.internal.pageSize.width-this.margin[1],Fn=La-this.margin[3],si=oa===1?0:Jn+(oa-2)*fi;if(this.ctx.clip_path.length!==0){var la=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(Nt,this.posX+this.margin[3],-1*si+Mn),tt.call(this,"fill",!0),this.path=la}var _n=kt([JSON.parse(JSON.stringify(ca))],this.posX+this.margin[3],-si+Mn+this.ctx.prevPageLastElemOffset)[0];Ye.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Ye.scale),zt=this.lineWidth,this.lineWidth=zt*Ye.scale);var ua=this.autoPaging!=="text";if(ua||_n.y+_n.h<=Rn){if(ua||_n.y>=Mn&&_n.x<=La){var On=ua?Ye.text:this.pdf.splitTextToSize(Ye.text,Ye.maxWidth||La-_n.x)[0],wa=kt([JSON.parse(JSON.stringify(Bn))],this.posX+this.margin[3],-si+Mn+this.ctx.prevPageLastElemOffset)[0],ci=ua&&(oa>un||oa<Qr)&&mt.call(this);ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fn,fi,null).clip().discardPath()),this.pdf.text(On,wa.x,wa.y,{angle:Ye.angle,align:xt,renderingMode:Ye.renderingMode}),ci&&this.pdf.restoreGraphicsState()}}else _n.y<Rn&&(this.ctx.prevPageLastElemOffset+=Rn-_n.y);Ye.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=zt)}}else Ye.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Ye.scale),zt=this.lineWidth,this.lineWidth=zt*Ye.scale),this.pdf.text(Ye.text,Pr.x+this.posX,Pr.y+this.posY,{angle:Ye.angle,align:xt,renderingMode:Ye.renderingMode,maxWidth:Ye.maxWidth}),Ye.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=zt)},It=function(Ye,xt,Nt,Wt){Nt=Nt||0,Wt=Wt||0,this.pdf.internal.out(D(Ye+Nt)+" "+K(xt+Wt)+" l")},Tt=function(Ye,xt,Nt){return this.pdf.lines(Ye,xt,Nt,null,null)},cr=function(Ye,xt,Nt,Wt,zt,nr,mr,vr){this.pdf.internal.out([B(X(Nt+Ye)),B(ne(Wt+xt)),B(X(zt+Ye)),B(ne(nr+xt)),B(X(mr+Ye)),B(ne(vr+xt)),"c"].join(" "))},fr=function(Ye,xt,Nt,Wt){for(var zt=2*Math.PI,nr=Math.PI/2;xt>Nt;)xt-=zt;var mr=Math.abs(Nt-xt);mr<zt&&Wt&&(mr=zt-mr);for(var vr=[],Pr=Wt?-1:1,Jr=xt;mr>1e-5;){var Cn=Jr+Pr*Math.min(mr,nr);vr.push(xr.call(this,Ye,Jr,Cn)),mr-=Math.abs(Cn-Jr),Jr=Cn}return vr},xr=function(Ye,xt,Nt){var Wt=(Nt-xt)/2,zt=Ye*Math.cos(Wt),nr=Ye*Math.sin(Wt),mr=zt,vr=-nr,Pr=mr*mr+vr*vr,Jr=Pr+mr*zt+vr*nr,Cn=4/3*(Math.sqrt(2*Pr*Jr)-Jr)/(mr*nr-vr*zt),Bn=mr-Cn*vr,ca=vr+Cn*mr,ut=Bn,hn=-ca,ma=Wt+xt,un=Math.cos(ma),Qr=Math.sin(ma);return{x1:Ye*Math.cos(xt),y1:Ye*Math.sin(xt),x2:Bn*un-ca*Qr,y2:Bn*Qr+ca*un,x3:ut*un-hn*Qr,y3:ut*Qr+hn*un,x4:Ye*Math.cos(Nt),y4:Ye*Math.sin(Nt)}},Jt=function(Ye){return 180*Ye/Math.PI},gr=function(Ye,xt,Nt,Wt,zt,nr){var mr=Ye+.5*(Nt-Ye),vr=xt+.5*(Wt-xt),Pr=zt+.5*(Nt-zt),Jr=nr+.5*(Wt-nr),Cn=Math.min(Ye,zt,mr,Pr),Bn=Math.max(Ye,zt,mr,Pr),ca=Math.min(xt,nr,vr,Jr),ut=Math.max(xt,nr,vr,Jr);return new me(Cn,ca,Bn-Cn,ut-ca)},Zr=function(Ye,xt,Nt,Wt,zt,nr,mr,vr){var Pr,Jr,Cn,Bn,ca,ut,hn,ma,un,Qr,oa,Mn,Jn,Rn,fi=Nt-Ye,La=Wt-xt,Fn=zt-Nt,si=nr-Wt,la=mr-zt,_n=vr-nr;for(Jr=0;Jr<41;Jr++)un=(hn=(Cn=Ye+(Pr=Jr/40)*fi)+Pr*((ca=Nt+Pr*Fn)-Cn))+Pr*(ca+Pr*(zt+Pr*la-ca)-hn),Qr=(ma=(Bn=xt+Pr*La)+Pr*((ut=Wt+Pr*si)-Bn))+Pr*(ut+Pr*(nr+Pr*_n-ut)-ma),Jr==0?(oa=un,Mn=Qr,Jn=un,Rn=Qr):(oa=Math.min(oa,un),Mn=Math.min(Mn,Qr),Jn=Math.max(Jn,un),Rn=Math.max(Rn,Qr));return new me(Math.round(oa),Math.round(Mn),Math.round(Jn-oa),Math.round(Rn-Mn))},Hr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ye,xt,Nt=(Ye=this.ctx.lineDash,xt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ye,lineDashOffset:xt}));this.prevLineDash!==Nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Nt)}}})(pe.API),(function(I){var B=function(Se){var me,xe,De,Ve,et,st,Oe,vt,mt,yt;for(xe=[],De=0,Ve=(Se+=me="\0\0\0\0".slice(Se.length%4||4)).length;Ve>De;De+=4)(et=(Se.charCodeAt(De)<<24)+(Se.charCodeAt(De+1)<<16)+(Se.charCodeAt(De+2)<<8)+Se.charCodeAt(De+3))!==0?(st=(et=((et=((et=((et=(et-(yt=et%85))/85)-(mt=et%85))/85)-(vt=et%85))/85)-(Oe=et%85))/85)%85,xe.push(st+33,Oe+33,vt+33,mt+33,yt+33)):xe.push(122);return(function(nt,kt){for(var Kt=kt;Kt>0;Kt--)nt.pop()})(xe,me.length),String.fromCharCode.apply(String,xe)+"~>"},D=function(Se){var me,xe,De,Ve,et,st=String,Oe="length",vt=255,mt="charCodeAt",yt="slice",nt="replace";for(Se[yt](-2),Se=Se[yt](0,-2)[nt](/\s/g,"")[nt]("z","!!!!!"),De=[],Ve=0,et=(Se+=me="uuuuu"[yt](Se[Oe]%5||5))[Oe];et>Ve;Ve+=5)xe=52200625*(Se[mt](Ve)-33)+614125*(Se[mt](Ve+1)-33)+7225*(Se[mt](Ve+2)-33)+85*(Se[mt](Ve+3)-33)+(Se[mt](Ve+4)-33),De.push(vt&xe>>24,vt&xe>>16,vt&xe>>8,vt&xe);return(function(kt,Kt){for(var Et=Kt;Et>0;Et--)kt.pop()})(De,me[Oe]),st.fromCharCode.apply(st,De)},K=function(Se){return Se.split("").map(function(me){return("0"+me.charCodeAt().toString(16)).slice(-2)}).join("")+">"},X=function(Se){var me=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Se=Se.replace(/\s/g,"")).indexOf(">")!==-1&&(Se=Se.substr(0,Se.indexOf(">"))),Se.length%2&&(Se+="0"),me.test(Se)===!1)return"";for(var xe="",De=0;De<Se.length;De+=2)xe+=String.fromCharCode("0x"+(Se[De]+Se[De+1]));return xe},ne=function(Se){for(var me=new Uint8Array(Se.length),xe=Se.length;xe--;)me[xe]=Se.charCodeAt(xe);return(me=(0,h.zlibSync)(me)).reduce(function(De,Ve){return De+String.fromCharCode(Ve)},"")};I.processDataByFilters=function(Se,me){var xe=0,De=Se||"",Ve=[];for(typeof(me=me||[])=="string"&&(me=[me]),xe=0;xe<me.length;xe+=1)switch(me[xe]){case"ASCII85Decode":case"/ASCII85Decode":De=D(De),Ve.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":De=B(De),Ve.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":De=X(De),Ve.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":De=K(De),Ve.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":De=ne(De),Ve.push("/FlateDecode");break;default:throw new Error('The filter: "'+me[xe]+'" is not implemented')}return{data:De,reverseChain:Ve.reverse().join(" ")}}})(pe.API),(function(I){I.loadFile=function(B,D,K){return(function(X,ne,Se){ne=ne!==!1,Se=typeof Se=="function"?Se:function(){};var me=void 0;try{me=(function(xe,De,Ve){var et=new XMLHttpRequest,st=0,Oe=function(vt){var mt=vt.length,yt=[],nt=String.fromCharCode;for(st=0;st<mt;st+=1)yt.push(nt(255&vt.charCodeAt(st)));return yt.join("")};if(et.open("GET",xe,!De),et.overrideMimeType("text/plain; charset=x-user-defined"),De===!1&&(et.onload=function(){et.status===200?Ve(Oe(this.responseText)):Ve(void 0)}),et.send(null),De&&et.status===200)return Oe(et.responseText)})(X,ne,Se)}catch{}return me})(B,D,K)},I.allowFsRead=void 0,I.loadImageFile=I.loadFile})(pe.API),(function(I){function B(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(me){return Promise.reject(new Error("Could not load html2canvas: "+me))}).then(function(me){return me.default?me.default:me})}function D(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(me){return Promise.reject(new Error("Could not load dompurify: "+me))}).then(function(me){return me.default?me.default:me})}var K=function(me){var xe=(0,d.default)(me);return xe==="undefined"?"undefined":xe==="string"||me instanceof String?"string":xe==="number"||me instanceof Number?"number":xe==="function"||me instanceof Function?"function":me&&me.constructor===Array?"array":me&&me.nodeType===1?"element":xe==="object"?"object":"unknown"},X=function(me,xe){var De=document.createElement(me);for(var Ve in xe.className&&(De.className=xe.className),xe.innerHTML&&xe.dompurify&&(De.innerHTML=xe.dompurify.sanitize(xe.innerHTML)),xe.style)De.style[Ve]=xe.style[Ve];return De},ne=function me(xe,De){for(var Ve=xe.nodeType===3?document.createTextNode(xe.nodeValue):xe.cloneNode(!1),et=xe.firstChild;et;et=et.nextSibling)De!==!0&&et.nodeType===1&&et.nodeName==="SCRIPT"||Ve.appendChild(me(et,De));return xe.nodeType===1&&(xe.nodeName==="CANVAS"?(Ve.width=xe.width,Ve.height=xe.height,Ve.getContext("2d").drawImage(xe,0,0)):xe.nodeName!=="TEXTAREA"&&xe.nodeName!=="SELECT"||(Ve.value=xe.value),Ve.addEventListener("load",function(){Ve.scrollTop=xe.scrollTop,Ve.scrollLeft=xe.scrollLeft},!0)),Ve},Se=function me(xe){var De=Object.assign(me.convert(Promise.resolve()),JSON.parse(JSON.stringify(me.template))),Ve=me.convert(Promise.resolve(),De);return(Ve=Ve.setProgress(1,me,1,[me])).set(xe)};(Se.prototype=Object.create(Promise.prototype)).constructor=Se,Se.convert=function(me,xe){return me.__proto__=xe||Se.prototype,me},Se.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Se.prototype.from=function(me,xe){return this.then(function(){switch(xe=xe||(function(De){switch(K(De)){case"string":return"string";case"element":return De.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(me),xe){case"string":return this.then(D).then(function(De){return this.set({src:X("div",{innerHTML:me,dompurify:De})})});case"element":return this.set({src:me});case"canvas":return this.set({canvas:me});case"img":return this.set({img:me});default:return this.error("Unknown source type.")}})},Se.prototype.to=function(me){switch(me){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Se.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var me={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},xe=ne(this.prop.src,this.opt.html2canvas.javascriptEnabled);xe.tagName==="BODY"&&(me.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=X("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=X("div",{className:"html2pdf__container",style:me}),this.prop.container.appendChild(xe),this.prop.container.firstChild.appendChild(X("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Se.prototype.toCanvas=function(){var me=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(me).then(B).then(function(xe){var De=Object.assign({},this.opt.html2canvas);return delete De.onrendered,xe(this.prop.container,De)}).then(function(xe){(this.opt.html2canvas.onrendered||function(){})(xe),this.prop.canvas=xe,document.body.removeChild(this.prop.overlay)})},Se.prototype.toContext2d=function(){var me=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(me).then(B).then(function(xe){var De=this.opt.jsPDF,Ve=this.opt.fontFaces,et=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,st=Object.assign({async:!0,allowTaint:!0,scale:et,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete st.onrendered,De.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,De.context2d.posX=this.opt.x,De.context2d.posY=this.opt.y,De.context2d.margin=this.opt.margin,De.context2d.fontFaces=Ve,Ve)for(var Oe=0;Oe<Ve.length;++Oe){var vt=Ve[Oe],mt=vt.src.find(function(yt){return yt.format==="truetype"});mt&&De.addFont(mt.url,vt.ref.name,vt.ref.style)}return st.windowHeight=st.windowHeight||0,st.windowHeight=st.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):st.windowHeight,De.context2d.save(!0),xe(this.prop.container,st)}).then(function(xe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(xe),this.prop.canvas=xe,document.body.removeChild(this.prop.overlay)})},Se.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var me=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=me})},Se.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Se.prototype.output=function(me,xe,De){return(De=De||"pdf").toLowerCase()==="img"||De.toLowerCase()==="image"?this.outputImg(me,xe):this.outputPdf(me,xe)},Se.prototype.outputPdf=function(me,xe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(me,xe)})},Se.prototype.outputImg=function(me){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(me){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+me+'" is not supported.'}})},Se.prototype.save=function(me){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(me?{filename:me}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Se.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Se.prototype.set=function(me){if(K(me)!=="object")return this;var xe=Object.keys(me||{}).map(function(De){if(De in Se.template.prop)return function(){this.prop[De]=me[De]};switch(De){case"margin":return this.setMargin.bind(this,me.margin);case"jsPDF":return function(){return this.opt.jsPDF=me.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,me.pageSize);default:return function(){this.opt[De]=me[De]}}},this);return this.then(function(){return this.thenList(xe)})},Se.prototype.get=function(me,xe){return this.then(function(){var De=me in Se.template.prop?this.prop[me]:this.opt[me];return xe?xe(De):De})},Se.prototype.setMargin=function(me){return this.then(function(){switch(K(me)){case"number":me=[me,me,me,me];case"array":if(me.length===2&&(me=[me[0],me[1],me[0],me[1]]),me.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=me}).then(this.setPageSize)},Se.prototype.setPageSize=function(me){function xe(De,Ve){return Math.floor(De*Ve/72*96)}return this.then(function(){(me=me||pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(me.inner={width:me.width-this.opt.margin[1]-this.opt.margin[3],height:me.height-this.opt.margin[0]-this.opt.margin[2]},me.inner.px={width:xe(me.inner.width,me.k),height:xe(me.inner.height,me.k)},me.inner.ratio=me.inner.height/me.inner.width),this.prop.pageSize=me})},Se.prototype.setProgress=function(me,xe,De,Ve){return me!=null&&(this.progress.val=me),xe!=null&&(this.progress.state=xe),De!=null&&(this.progress.n=De),Ve!=null&&(this.progress.stack=Ve),this.progress.ratio=this.progress.val/this.progress.state,this},Se.prototype.updateProgress=function(me,xe,De,Ve){return this.setProgress(me?this.progress.val+me:null,xe||null,De?this.progress.n+De:null,Ve?this.progress.stack.concat(Ve):null)},Se.prototype.then=function(me,xe){var De=this;return this.thenCore(me,xe,function(Ve,et){return De.updateProgress(null,null,1,[Ve]),Promise.prototype.then.call(this,function(st){return De.updateProgress(null,Ve),st}).then(Ve,et).then(function(st){return De.updateProgress(1),st})})},Se.prototype.thenCore=function(me,xe,De){De=De||Promise.prototype.then;var Ve=this;me&&(me=me.bind(Ve)),xe&&(xe=xe.bind(Ve));var et=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Ve:Se.convert(Object.assign({},Ve),Promise.prototype),st=De.call(et,me,xe);return Se.convert(st,Ve.__proto__)},Se.prototype.thenExternal=function(me,xe){return Promise.prototype.then.call(this,me,xe)},Se.prototype.thenList=function(me){var xe=this;return me.forEach(function(De){xe=xe.thenCore(De)}),xe},Se.prototype.catch=function(me){me&&(me=me.bind(this));var xe=Promise.prototype.catch.call(this,me);return Se.convert(xe,this)},Se.prototype.catchExternal=function(me){return Promise.prototype.catch.call(this,me)},Se.prototype.error=function(me){return this.then(function(){throw new Error(me)})},Se.prototype.using=Se.prototype.set,Se.prototype.saveAs=Se.prototype.save,Se.prototype.export=Se.prototype.output,Se.prototype.run=Se.prototype.then,pe.getPageSize=function(me,xe,De){if((0,d.default)(me)==="object"){var Ve=me;me=Ve.orientation,xe=Ve.unit||xe,De=Ve.format||De}xe=xe||"mm",De=De||"a4",me=(""+(me||"P")).toLowerCase();var et,st=(""+De).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(xe){case"pt":et=1;break;case"mm":et=2.834645669291339;break;case"cm":et=28.346456692913385;break;case"in":et=72;break;case"px":et=.75;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:throw"Invalid unit: "+xe}var vt,mt=0,yt=0;if(Oe.hasOwnProperty(st))mt=Oe[st][1]/et,yt=Oe[st][0]/et;else try{mt=De[1],yt=De[0]}catch{throw new Error("Invalid format: "+De)}if(me==="p"||me==="portrait")me="p",yt>mt&&(vt=yt,yt=mt,mt=vt);else{if(me!=="l"&&me!=="landscape")throw"Invalid orientation: "+me;me="l",mt>yt&&(vt=yt,yt=mt,mt=vt)}return{width:yt,height:mt,unit:xe,k:et,orientation:me}},I.html=function(me,xe){(xe=xe||{}).callback=xe.callback||function(){},xe.html2canvas=xe.html2canvas||{},xe.html2canvas.canvas=xe.html2canvas.canvas||this.canvas,xe.jsPDF=xe.jsPDF||this,xe.fontFaces=xe.fontFaces?xe.fontFaces.map(Bs):null;var De=new Se(xe);return xe.worker?De:De.from(me).doCallback()}})(pe.API),pe.API.addJS=function(I){return go=I,this.internal.events.subscribe("postPutResources",function(){Sl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Hi=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+go+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sl!==void 0&&Hi!==void 0&&this.internal.out("/Names <</JavaScript "+Sl+" 0 R>>")}),this},(function(I){var B;I.events.push(["postPutResources",function(){var D=this,K=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var X=D.outline.render().split(/\r\n/),ne=0;ne<X.length;ne++){var Se=X[ne],me=K.exec(Se);if(me!=null){var xe=me[1];D.internal.newObjectDeferredBegin(xe,!1)}D.internal.write(Se)}if(this.outline.createNamedDestinations){var De=this.internal.pages.length,Ve=[];for(ne=0;ne<De;ne++){var et=D.internal.newObject();Ve.push(et);var st=D.internal.getPageInfo(ne+1);D.internal.write("<< /D["+st.objId+" 0 R /XYZ null null null]>> endobj")}var Oe=D.internal.newObject();for(D.internal.write("<< /Names [ "),ne=0;ne<Ve.length;ne++)D.internal.write("(page_"+(ne+1)+")"+Ve[ne]+" 0 R");D.internal.write(" ] >>","endobj"),B=D.internal.newObject(),D.internal.write("<< /Dests "+Oe+" 0 R"),D.internal.write(">>","endobj")}}]),I.events.push(["putCatalog",function(){var D=this;D.outline.root.children.length>0&&(D.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&D.internal.write("/Names "+B+" 0 R"))}]),I.events.push(["initialized",function(){var D=this;D.outline={createNamedDestinations:!1,root:{children:[]}},D.outline.add=function(K,X,ne){var Se={title:X,options:ne,children:[]};return K==null&&(K=this.root),K.children.push(Se),Se},D.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=D,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},D.outline.genIds_r=function(K){K.id=D.internal.newObjectDeferred();for(var X=0;X<K.children.length;X++)this.genIds_r(K.children[X])},D.outline.renderRoot=function(K){this.objStart(K),this.line("/Type /Outlines"),K.children.length>0&&(this.line("/First "+this.makeRef(K.children[0])),this.line("/Last "+this.makeRef(K.children[K.children.length-1]))),this.line("/Count "+this.count_r({count:0},K)),this.objEnd()},D.outline.renderItems=function(K){for(var X=this.ctx.pdf.internal.getVerticalCoordinateString,ne=0;ne<K.children.length;ne++){var Se=K.children[ne];this.objStart(Se),this.line("/Title "+this.makeString(Se.title)),this.line("/Parent "+this.makeRef(K)),ne>0&&this.line("/Prev "+this.makeRef(K.children[ne-1])),ne<K.children.length-1&&this.line("/Next "+this.makeRef(K.children[ne+1])),Se.children.length>0&&(this.line("/First "+this.makeRef(Se.children[0])),this.line("/Last "+this.makeRef(Se.children[Se.children.length-1])));var me=this.count=this.count_r({count:0},Se);if(me>0&&this.line("/Count "+me),Se.options&&Se.options.pageNumber){var xe=D.internal.getPageInfo(Se.options.pageNumber);this.line("/Dest ["+xe.objId+" 0 R /XYZ 0 "+X(0)+" 0]")}this.objEnd()}for(var De=0;De<K.children.length;De++)this.renderItems(K.children[De])},D.outline.line=function(K){this.ctx.val+=K+`\r
`},D.outline.makeRef=function(K){return K.id+" 0 R"},D.outline.makeString=function(K){return"("+D.internal.pdfEscape(K)+")"},D.outline.objStart=function(K){this.ctx.val+=`\r
`+K.id+` 0 obj\r
<<\r
`},D.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},D.outline.count_r=function(K,X){for(var ne=0;ne<X.children.length;ne++)K.count++,this.count_r(K,X.children[ne]);return K.count}}])})(pe.API),(function(I){var B=[192,193,194,195,196,197,198,199];I.processJPEG=function(D,K,X,ne,Se,me){var xe,De=this.decode.DCT_DECODE,Ve=null;if(typeof D=="string"||this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D)){switch(D=Se||D,D=this.__addimage__.isArrayBuffer(D)?new Uint8Array(D):D,xe=(function(et){for(var st,Oe=256*et.charCodeAt(4)+et.charCodeAt(5),vt=et.length,mt={width:0,height:0,numcomponents:1},yt=4;yt<vt;yt+=2){if(yt+=Oe,B.indexOf(et.charCodeAt(yt+1))!==-1){st=256*et.charCodeAt(yt+5)+et.charCodeAt(yt+6),mt={width:256*et.charCodeAt(yt+7)+et.charCodeAt(yt+8),height:st,numcomponents:et.charCodeAt(yt+9)};break}Oe=256*et.charCodeAt(yt+2)+et.charCodeAt(yt+3)}return mt})(D=this.__addimage__.isArrayBufferView(D)?this.__addimage__.arrayBufferToBinaryString(D):D),xe.numcomponents){case 1:me=this.color_spaces.DEVICE_GRAY;break;case 4:me=this.color_spaces.DEVICE_CMYK;break;case 3:me=this.color_spaces.DEVICE_RGB}Ve={data:D,width:xe.width,height:xe.height,colorSpace:me,bitsPerComponent:8,filter:De,index:K,alias:X}}return Ve}})(pe.API),pe.API.processPNG=function(I,B,D,K){if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){var X,ne=(0,f.decode)(I,{checkCrc:!0}),Se=ne.width,me=ne.height,xe=ne.channels,De=ne.palette,Ve=ne.depth;X=De&&xe===1?(function(qt){for(var _t=qt.width,or=qt.height,at=qt.data,dt=qt.palette,It=qt.depth,Tt=!1,cr=[],fr=[],xr=void 0,Jt=!1,gr=0,Zr=0;Zr<dt.length;Zr++){var Hr=(0,A.default)(dt[Zr],4),Ye=Hr[0],xt=Hr[1],Nt=Hr[2],Wt=Hr[3];cr.push(Ye,xt,Nt),Wt!=null&&(Wt===0?(gr++,fr.length<1&&fr.push(Zr)):Wt<255&&(Jt=!0))}if(Jt||gr>1){Tt=!0,fr=void 0;var zt=_t*or;xr=new Uint8Array(zt);for(var nr=new DataView(at.buffer),mr=0;mr<zt;mr++){var vr=ls(nr,mr,It),Pr=(0,A.default)(dt[vr],4)[3];xr[mr]=Pr}}else gr===0&&(fr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Tt?8:void 0,colorBytes:at,alphaBytes:xr,needSMask:Tt,palette:cr,mask:fr}})(ne):xe===2||xe===4?(function(qt){for(var _t=qt.data,or=qt.width,at=qt.height,dt=qt.channels,It=qt.depth,Tt=dt===2?"DeviceGray":"DeviceRGB",cr=dt-1,fr=or*at,xr=cr,Jt=fr*xr,gr=1*fr,Zr=Math.ceil(Jt*It/8),Hr=Math.ceil(gr*It/8),Ye=new Uint8Array(Zr),xt=new Uint8Array(Hr),Nt=new DataView(_t.buffer),Wt=new DataView(Ye.buffer),zt=new DataView(xt.buffer),nr=!1,mr=0;mr<fr;mr++){for(var vr=mr*dt,Pr=0;Pr<xr;Pr++)qn(Wt,ls(Nt,vr+Pr,It),mr*xr+Pr,It);var Jr=ls(Nt,vr+xr,It);Jr<(1<<It)-1&&(nr=!0),qn(zt,Jr,1*mr,It)}return{colorSpace:Tt,colorsPerPixel:cr,sMaskBitsPerComponent:nr?It:void 0,colorBytes:Ye,alphaBytes:xt,needSMask:nr}})(ne):(function(qt){var _t=qt.data,or=qt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:or,colorsPerPixel:or==="DeviceGray"?1:3,colorBytes:_t instanceof Uint16Array?(function(at){for(var dt=at.length,It=new Uint8Array(2*dt),Tt=new DataView(It.buffer,It.byteOffset,It.byteLength),cr=0;cr<dt;cr++)Tt.setUint16(2*cr,at[cr],!1);return It})(_t):_t,needSMask:!1}})(ne);var et,st,Oe,vt=X,mt=vt.colorSpace,yt=vt.colorsPerPixel,nt=vt.sMaskBitsPerComponent,kt=vt.colorBytes,Kt=vt.alphaBytes,Et=vt.needSMask,tt=vt.palette,Qt=vt.mask,lr=null;return K!==pe.API.image_compression.NONE&&typeof h.zlibSync=="function"?(lr=(function(qt){var _t;switch(qt){case pe.API.image_compression.FAST:_t=11;break;case pe.API.image_compression.MEDIUM:_t=13;break;case pe.API.image_compression.SLOW:_t=14;break;default:_t=12}return _t})(K),et=this.decode.FLATE_DECODE,st="/Predictor ".concat(lr," /Colors ").concat(yt," /BitsPerComponent ").concat(Ve," /Columns ").concat(Se),I=el(kt,Math.ceil(Se*yt*Ve/8),yt,Ve,K),Et&&(Oe=el(Kt,Math.ceil(Se*nt/8),1,nt,K))):(et=void 0,st=void 0,I=kt,Et&&(Oe=Kt)),(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(Oe&&this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),{alias:D,data:I,index:B,filter:et,decodeParameters:st,transparency:Qt,palette:tt,sMask:Oe,predictor:lr,width:Se,height:me,bitsPerComponent:Ve,sMaskBitsPerComponent:nt,colorSpace:mt}}},(function(I){I.processGIF89A=function(B,D,K,X){var ne=new gs(B),Se=ne.width,me=ne.height,xe=[];ne.decodeAndBlitFrameRGBA(0,xe);var De={data:xe,width:Se,height:me},Ve=new _o(100).encode(De,100);return I.processJPEG.call(this,Ve,D,K,X)},I.processGIF87A=I.processGIF89A})(pe.API),Di.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var I=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(I);for(var B=0;B<I;B++){var D=this.datav.getUint8(this.pos++,!0),K=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ne=this.datav.getUint8(this.pos++,!0);this.palette[B]={red:X,green:K,blue:D,quad:ne}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Di.prototype.parseBGR=function(){this.pos=this.offset;try{var I="bit"+this.bitPP,B=this.width*this.height*4;this.data=new Uint8Array(B),this[I]()}catch(D){x.log("bit decode error:"+D)}},Di.prototype.bit1=function(){var I,B=Math.ceil(this.width/8),D=B%4;for(I=this.height-1;I>=0;I--){for(var K=this.bottom_up?I:this.height-1-I,X=0;X<B;X++)for(var ne=this.datav.getUint8(this.pos++,!0),Se=K*this.width*4+8*X*4,me=0;me<8&&8*X+me<this.width;me++){var xe=this.palette[ne>>7-me&1];this.data[Se+4*me]=xe.blue,this.data[Se+4*me+1]=xe.green,this.data[Se+4*me+2]=xe.red,this.data[Se+4*me+3]=255}D!==0&&(this.pos+=4-D)}},Di.prototype.bit4=function(){for(var I=Math.ceil(this.width/2),B=I%4,D=this.height-1;D>=0;D--){for(var K=this.bottom_up?D:this.height-1-D,X=0;X<I;X++){var ne=this.datav.getUint8(this.pos++,!0),Se=K*this.width*4+2*X*4,me=ne>>4,xe=15&ne,De=this.palette[me];if(this.data[Se]=De.blue,this.data[Se+1]=De.green,this.data[Se+2]=De.red,this.data[Se+3]=255,2*X+1>=this.width)break;De=this.palette[xe],this.data[Se+4]=De.blue,this.data[Se+4+1]=De.green,this.data[Se+4+2]=De.red,this.data[Se+4+3]=255}B!==0&&(this.pos+=4-B)}},Di.prototype.bit8=function(){for(var I=this.width%4,B=this.height-1;B>=0;B--){for(var D=this.bottom_up?B:this.height-1-B,K=0;K<this.width;K++){var X=this.datav.getUint8(this.pos++,!0),ne=D*this.width*4+4*K;if(X<this.palette.length){var Se=this.palette[X];this.data[ne]=Se.red,this.data[ne+1]=Se.green,this.data[ne+2]=Se.blue,this.data[ne+3]=255}else this.data[ne]=255,this.data[ne+1]=255,this.data[ne+2]=255,this.data[ne+3]=255}I!==0&&(this.pos+=4-I)}},Di.prototype.bit15=function(){for(var I=this.width%3,B=parseInt("11111",2),D=this.height-1;D>=0;D--){for(var K=this.bottom_up?D:this.height-1-D,X=0;X<this.width;X++){var ne=this.datav.getUint16(this.pos,!0);this.pos+=2;var Se=(ne&B)/B*255|0,me=(ne>>5&B)/B*255|0,xe=(ne>>10&B)/B*255|0,De=ne>>15?255:0,Ve=K*this.width*4+4*X;this.data[Ve]=xe,this.data[Ve+1]=me,this.data[Ve+2]=Se,this.data[Ve+3]=De}this.pos+=I}},Di.prototype.bit16=function(){for(var I=this.width%3,B=parseInt("11111",2),D=parseInt("111111",2),K=this.height-1;K>=0;K--){for(var X=this.bottom_up?K:this.height-1-K,ne=0;ne<this.width;ne++){var Se=this.datav.getUint16(this.pos,!0);this.pos+=2;var me=(Se&B)/B*255|0,xe=(Se>>5&D)/D*255|0,De=(Se>>11)/B*255|0,Ve=X*this.width*4+4*ne;this.data[Ve]=De,this.data[Ve+1]=xe,this.data[Ve+2]=me,this.data[Ve+3]=255}this.pos+=I}},Di.prototype.bit24=function(){for(var I=this.height-1;I>=0;I--){for(var B=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var K=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ne=this.datav.getUint8(this.pos++,!0),Se=B*this.width*4+4*D;this.data[Se]=ne,this.data[Se+1]=X,this.data[Se+2]=K,this.data[Se+3]=255}this.pos+=this.width%4}},Di.prototype.bit32=function(){for(var I=this.height-1;I>=0;I--)for(var B=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var K=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ne=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),me=B*this.width*4+4*D;this.data[me]=ne,this.data[me+1]=X,this.data[me+2]=K,this.data[me+3]=Se}},Di.prototype.getData=function(){return this.data},(function(I){I.processBMP=function(B,D,K,X){var ne=new Di(B,!1),Se=ne.width,me=ne.height,xe={data:ne.getData(),width:Se,height:me},De=new _o(100).encode(xe,100);return I.processJPEG.call(this,De,D,K,X)}})(pe.API),so.prototype.getData=function(){return this.data},(function(I){I.processWEBP=function(B,D,K,X){var ne=new so(B),Se=ne.width,me=ne.height,xe={data:ne.getData(),width:Se,height:me},De=new _o(100).encode(xe,100);return I.processJPEG.call(this,De,D,K,X)}})(pe.API),pe.API.processRGBA=function(I,B,D){for(var K=I.data,X=K.length,ne=new Uint8Array(X/4*3),Se=new Uint8Array(X/4),me=0,xe=0,De=0;De<X;De+=4){var Ve=K[De],et=K[De+1],st=K[De+2],Oe=K[De+3];ne[me++]=Ve,ne[me++]=et,ne[me++]=st,Se[xe++]=Oe}var vt=this.__addimage__.arrayBufferToBinaryString(ne);return{alpha:this.__addimage__.arrayBufferToBinaryString(Se),data:vt,index:B,alias:D,colorSpace:"DeviceRGB",bitsPerComponent:8,width:I.width,height:I.height}},pe.API.setLanguage=function(I){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[I]!==void 0&&(this.internal.languageSettings.languageCode=I,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ha=pe.API,Yl=ha.getCharWidthsArray=function(I,B){var D,K,X=(B=B||{}).font||this.internal.getFont(),ne=B.fontSize||this.internal.getFontSize(),Se=B.charSpace||this.internal.getCharSpace(),me=B.widths?B.widths:X.metadata.Unicode.widths,xe=me.fof?me.fof:1,De=B.kerning?B.kerning:X.metadata.Unicode.kerning,Ve=De.fof?De.fof:1,et=B.doKerning!==!1,st=0,Oe=I.length,vt=0,mt=me[0]||xe,yt=[];for(D=0;D<Oe;D++)K=I.charCodeAt(D),typeof X.metadata.widthOfString=="function"?yt.push((X.metadata.widthOfGlyph(X.metadata.characterToGlyph(K))+Se*(1e3/ne)||0)/1e3):(st=et&&(0,d.default)(De[K])==="object"&&!isNaN(parseInt(De[K][vt],10))?De[K][vt]/Ve:0,yt.push((me[K]||mt)/xe+st)),vt=K;return yt},ni=ha.getStringUnitWidth=function(I,B){var D=(B=B||{}).fontSize||this.internal.getFontSize(),K=B.font||this.internal.getFont(),X=B.charSpace||this.internal.getCharSpace();return ha.processArabic&&(I=ha.processArabic(I)),typeof K.metadata.widthOfString=="function"?K.metadata.widthOfString(I,D,X)/D:Yl.apply(this,arguments).reduce(function(ne,Se){return ne+Se},0)},Bo=function(I,B,D,K){for(var X=[],ne=0,Se=I.length,me=0;ne!==Se&&me+B[ne]<D;)me+=B[ne],ne++;X.push(I.slice(0,ne));var xe=ne;for(me=0;ne!==Se;)me+B[ne]>K&&(X.push(I.slice(xe,ne)),me=0,xe=ne),me+=B[ne],ne++;return xe!==ne&&X.push(I.slice(xe,ne)),X},Gs=function(I,B,D){D||(D={});var K,X,ne,Se,me,xe,De,Ve=[],et=[Ve],st=D.textIndent||0,Oe=0,vt=0,mt=I.split(" "),yt=Yl.apply(this,[" ",D])[0];if(xe=D.lineIndent===-1?mt[0].length+2:D.lineIndent||0){var nt=Array(xe).join(" "),kt=[];mt.map(function(Et){(Et=Et.split(/\s*\n/)).length>1?kt=kt.concat(Et.map(function(tt,Qt){return(Qt&&tt.length?`
`:"")+tt})):kt.push(Et[0])}),mt=kt,xe=ni.apply(this,[nt,D])}for(ne=0,Se=mt.length;ne<Se;ne++){var Kt=0;if(K=mt[ne],xe&&K[0]==`
`&&(K=K.substr(1),Kt=1),st+Oe+(vt=(X=Yl.apply(this,[K,D])).reduce(function(Et,tt){return Et+tt},0))>B||Kt){if(vt>B){for(me=Bo.apply(this,[K,X,B-(st+Oe),B]),Ve.push(me.shift()),Ve=[me.pop()];me.length;)et.push([me.shift()]);vt=X.slice(K.length-(Ve[0]?Ve[0].length:0)).reduce(function(Et,tt){return Et+tt},0)}else Ve=[K];et.push(Ve),st=vt+xe,Oe=yt}else Ve.push(K),st+=Oe+vt,Oe=yt}return De=xe?function(Et,tt){return(tt?nt:"")+Et.join(" ")}:function(Et){return Et.join(" ")},et.map(De)},ha.splitTextToSize=function(I,B,D){var K,X=(D=D||{}).fontSize||this.internal.getFontSize(),ne=(function(Ve){if(Ve.widths&&Ve.kerning)return{widths:Ve.widths,kerning:Ve.kerning};var et=this.internal.getFont(Ve.fontName,Ve.fontStyle),st="Unicode";return et.metadata[st]?{widths:et.metadata[st].widths||{0:1},kerning:et.metadata[st].kerning||{}}:{font:et.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,D);K=Array.isArray(I)?I:String(I).split(/\r?\n/);var Se=1*this.internal.scaleFactor*B/X;ne.textIndent=D.textIndent?1*D.textIndent*this.internal.scaleFactor/X:0,ne.lineIndent=D.lineIndent;var me,xe,De=[];for(me=0,xe=K.length;me<xe;me++)De=De.concat(Gs.apply(this,[K[me],Se,ne]));return De},(function(I){I.__fontmetrics__=I.__fontmetrics__||{};for(var B="0123456789abcdef",D="klmnopqrstuvwxyz",K={},X={},ne=0;ne<16;ne++)K[D[ne]]=B[ne],X[B[ne]]=D[ne];var Se=function(st){return"0x"+parseInt(st,10).toString(16)},me=I.__fontmetrics__.compress=function(st){var Oe,vt,mt,yt,nt=["{"];for(var kt in st){if(Oe=st[kt],isNaN(parseInt(kt,10))?vt="'"+kt+"'":(kt=parseInt(kt,10),vt=(vt=Se(kt).slice(2)).slice(0,-1)+X[vt.slice(-1)]),typeof Oe=="number")Oe<0?(mt=Se(Oe).slice(3),yt="-"):(mt=Se(Oe).slice(2),yt=""),mt=yt+mt.slice(0,-1)+X[mt.slice(-1)];else{if((0,d.default)(Oe)!=="object")throw new Error("Don't know what to do with value type "+(0,d.default)(Oe)+".");mt=me(Oe)}nt.push(vt+mt)}return nt.push("}"),nt.join("")},xe=I.__fontmetrics__.uncompress=function(st){if(typeof st!="string")throw new Error("Invalid argument passed to uncompress.");for(var Oe,vt,mt,yt,nt={},kt=1,Kt=nt,Et=[],tt="",Qt="",lr=st.length-1,qt=1;qt<lr;qt+=1)(yt=st[qt])=="'"?Oe?(mt=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(yt):yt=="{"?(Et.push([Kt,mt]),Kt={},mt=void 0):yt=="}"?((vt=Et.pop())[0][vt[1]]=Kt,mt=void 0,Kt=vt[0]):yt=="-"?kt=-1:mt===void 0?K.hasOwnProperty(yt)?(tt+=K[yt],mt=parseInt(tt,16)*kt,kt=1,tt=""):tt+=yt:K.hasOwnProperty(yt)?(Qt+=K[yt],Kt[mt]=parseInt(Qt,16)*kt,kt=1,mt=void 0,Qt=""):Qt+=yt;return nt},De={codePages:["WinAnsiEncoding"],WinAnsiEncoding:xe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ve={Unicode:{Courier:De,"Courier-Bold":De,"Courier-BoldOblique":De,"Courier-Oblique":De,Helvetica:De,"Helvetica-Bold":De,"Helvetica-BoldOblique":De,"Helvetica-Oblique":De,"Times-Roman":De,"Times-Bold":De,"Times-BoldItalic":De,"Times-Italic":De}},et={Unicode:{"Courier-Oblique":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":xe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":xe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:xe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:xe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":xe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":xe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};I.events.push(["addFont",function(st){var Oe=st.font,vt=et.Unicode[Oe.postScriptName];vt&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=vt.widths,Oe.metadata.Unicode.kerning=vt.kerning);var mt=Ve.Unicode[Oe.postScriptName];mt&&(Oe.metadata.Unicode.encoding=mt,Oe.encoding=mt.codePages[0])}])})(pe.API),(function(I){var B=function(D){for(var K=D.length,X=new Uint8Array(K),ne=0;ne<K;ne++)X[ne]=D.charCodeAt(ne);return X};I.API.events.push(["addFont",function(D){var K=void 0,X=D.font,ne=D.instance;if(!X.isStandardFont){if(ne===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+X.postScriptName+"').");if(typeof(K=ne.existsFileInVFS(X.postScriptName)===!1?ne.loadFile(X.postScriptName):ne.getFileFromVFS(X.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+X.postScriptName+"').");(function(Se,me){me=/^\x00\x01\x00\x00/.test(me)?B(me):B(j(me)),Se.metadata=I.API.TTFFont.open(me),Se.metadata.Unicode=Se.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Se.metadata.glyIdsUsed=[0]})(X,K)}}])})(pe),pe.API.addSvgAsImage=function(I,B,D,K,X,ne,Se,me){if(isNaN(B)||isNaN(D))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(K)||isNaN(X))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var xe=document.createElement("canvas");xe.width=K,xe.height=X;var De=xe.getContext("2d");De.fillStyle="#fff",De.fillRect(0,0,xe.width,xe.height);var Ve={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},et=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(st){return Promise.reject(new Error("Could not load canvg: "+st))}).then(function(st){return st.default?st.default:st}).then(function(st){return st.fromString(De,I,Ve)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(st){return st.render(Ve)}).then(function(){et.addImage(xe.toDataURL("image/jpeg",1),B,D,K,X,Se,me)})},pe.API.putTotalPages=function(I){var B,D=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(B=new RegExp(I,"g"),D=this.internal.getNumberOfPages()):(B=new RegExp(this.pdfEscape16(I,this.internal.getFont()),"g"),D=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var K=1;K<=this.internal.getNumberOfPages();K++)for(var X=0;X<this.internal.pages[K].length;X++)this.internal.pages[K][X]=this.internal.pages[K][X].replace(B,D);return this},pe.API.viewerPreferences=function(I,B){var D;I=I||{},B=B||!1;var K,X,ne,Se={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},me=Object.keys(Se),xe=[],De=0,Ve=0,et=0;function st(vt,mt){var yt,nt=!1;for(yt=0;yt<vt.length;yt+=1)vt[yt]===mt&&(nt=!0);return nt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Se)),this.internal.viewerpreferences.isSubscribed=!1),D=this.internal.viewerpreferences.configuration,I==="reset"||B===!0){var Oe=me.length;for(et=0;et<Oe;et+=1)D[me[et]].value=D[me[et]].defaultValue,D[me[et]].explicitSet=!1}if((0,d.default)(I)==="object"){for(X in I)if(ne=I[X],st(me,X)&&ne!==void 0){if(D[X].type==="boolean"&&typeof ne=="boolean")D[X].value=ne;else if(D[X].type==="name"&&st(D[X].valueSet,ne))D[X].value=ne;else if(D[X].type==="integer"&&Number.isInteger(ne))D[X].value=ne;else if(D[X].type==="array"){for(De=0;De<ne.length;De+=1)if(K=!0,ne[De].length===1&&typeof ne[De][0]=="number")xe.push(String(ne[De]-1));else if(ne[De].length>1){for(Ve=0;Ve<ne[De].length;Ve+=1)typeof ne[De][Ve]!="number"&&(K=!1);K===!0&&xe.push([ne[De][0]-1,ne[De][1]-1].join(" "))}D[X].value="["+xe.join(" ")+"]"}else D[X].value=D[X].defaultValue;D[X].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var vt,mt=[];for(vt in D)D[vt].explicitSet===!0&&(D[vt].type==="name"?mt.push("/"+vt+" /"+D[vt].value):mt.push("/"+vt+" "+D[vt].value));mt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+mt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=D,this},(function(I){var B=function(){var K='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',X=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ne=unescape(encodeURIComponent(K)),Se=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),me=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),xe=unescape(encodeURIComponent("</x:xmpmeta>")),De=ne.length+Se.length+me.length+X.length+xe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+De+" >>"),this.internal.write("stream"),this.internal.write(X+ne+Se+me+xe),this.internal.write("endstream"),this.internal.write("endobj")},D=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};I.addMetadata=function(K,X){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:K,namespaceuri:X||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",D),this.internal.events.subscribe("postPutResources",B)),this}})(pe.API),(function(I){var B=I.API,D=B.pdfEscape16=function(ne,Se){for(var me,xe=Se.metadata.Unicode.widths,De=["","0","00","000","0000"],Ve=[""],et=0,st=ne.length;et<st;++et){if(me=Se.metadata.characterToGlyph(ne.charCodeAt(et)),Se.metadata.glyIdsUsed.push(me),Se.metadata.toUnicode[me]=ne.charCodeAt(et),xe.indexOf(me)==-1&&(xe.push(me),xe.push([parseInt(Se.metadata.widthOfGlyph(me),10)])),me=="0")return Ve.join("");me=me.toString(16),Ve.push(De[4-me.length],me)}return Ve.join("")},K=function(ne){var Se,me,xe,De,Ve,et,st;for(Ve=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,xe=[],et=0,st=(me=Object.keys(ne).sort(function(Oe,vt){return Oe-vt})).length;et<st;et++)Se=me[et],xe.length>=100&&(Ve+=`
`+xe.length+` beginbfchar
`+xe.join(`
`)+`
endbfchar`,xe=[]),ne[Se]!==void 0&&ne[Se]!==null&&typeof ne[Se].toString=="function"&&(De=("0000"+ne[Se].toString(16)).slice(-4),Se=("0000"+(+Se).toString(16)).slice(-4),xe.push("<"+Se+"><"+De+">"));return xe.length&&(Ve+=`
`+xe.length+` beginbfchar
`+xe.join(`
`)+`
endbfchar
`),Ve+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};B.events.push(["putFont",function(ne){(function(Se){var me=Se.font,xe=Se.out,De=Se.newObject,Ve=Se.putStream;if(me.metadata instanceof I.API.TTFFont&&me.encoding==="Identity-H"){for(var et=me.metadata.Unicode.widths,st=me.metadata.subset.encode(me.metadata.glyIdsUsed,1),Oe="",vt=0;vt<st.length;vt++)Oe+=String.fromCharCode(st[vt]);var mt=De();Ve({data:Oe,addLength1:!0,objectId:mt}),xe("endobj");var yt=De();Ve({data:K(me.metadata.toUnicode),addLength1:!0,objectId:yt}),xe("endobj");var nt=De();xe("<<"),xe("/Type /FontDescriptor"),xe("/FontName /"+he(me.fontName)),xe("/FontFile2 "+mt+" 0 R"),xe("/FontBBox "+I.API.PDFObject.convert(me.metadata.bbox)),xe("/Flags "+me.metadata.flags),xe("/StemV "+me.metadata.stemV),xe("/ItalicAngle "+me.metadata.italicAngle),xe("/Ascent "+me.metadata.ascender),xe("/Descent "+me.metadata.decender),xe("/CapHeight "+me.metadata.capHeight),xe(">>"),xe("endobj");var kt=De();xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+he(me.fontName)),xe("/FontDescriptor "+nt+" 0 R"),xe("/W "+I.API.PDFObject.convert(et)),xe("/CIDToGIDMap /Identity"),xe("/DW 1000"),xe("/Subtype /CIDFontType2"),xe("/CIDSystemInfo"),xe("<<"),xe("/Supplement 0"),xe("/Registry (Adobe)"),xe("/Ordering ("+me.encoding+")"),xe(">>"),xe(">>"),xe("endobj"),me.objectNumber=De(),xe("<<"),xe("/Type /Font"),xe("/Subtype /Type0"),xe("/ToUnicode "+yt+" 0 R"),xe("/BaseFont /"+he(me.fontName)),xe("/Encoding /"+me.encoding),xe("/DescendantFonts ["+kt+" 0 R]"),xe(">>"),xe("endobj"),me.isAlreadyPutted=!0}})(ne)}]),B.events.push(["putFont",function(ne){(function(Se){var me=Se.font,xe=Se.out,De=Se.newObject,Ve=Se.putStream;if(me.metadata instanceof I.API.TTFFont&&me.encoding==="WinAnsiEncoding"){for(var et=me.metadata.rawData,st="",Oe=0;Oe<et.length;Oe++)st+=String.fromCharCode(et[Oe]);var vt=De();Ve({data:st,addLength1:!0,objectId:vt}),xe("endobj");var mt=De();Ve({data:K(me.metadata.toUnicode),addLength1:!0,objectId:mt}),xe("endobj");var yt=De();xe("<<"),xe("/Descent "+me.metadata.decender),xe("/CapHeight "+me.metadata.capHeight),xe("/StemV "+me.metadata.stemV),xe("/Type /FontDescriptor"),xe("/FontFile2 "+vt+" 0 R"),xe("/Flags 96"),xe("/FontBBox "+I.API.PDFObject.convert(me.metadata.bbox)),xe("/FontName /"+he(me.fontName)),xe("/ItalicAngle "+me.metadata.italicAngle),xe("/Ascent "+me.metadata.ascender),xe(">>"),xe("endobj"),me.objectNumber=De();for(var nt=0;nt<me.metadata.hmtx.widths.length;nt++)me.metadata.hmtx.widths[nt]=parseInt(me.metadata.hmtx.widths[nt]*(1e3/me.metadata.head.unitsPerEm));xe("<</Subtype/TrueType/Type/Font/ToUnicode "+mt+" 0 R/BaseFont/"+he(me.fontName)+"/FontDescriptor "+yt+" 0 R/Encoding/"+me.encoding+" /FirstChar 29 /LastChar 255 /Widths "+I.API.PDFObject.convert(me.metadata.hmtx.widths)+">>"),xe("endobj"),me.isAlreadyPutted=!0}})(ne)}]);var X=function(ne){var Se,me=ne.text||"",xe=ne.x,De=ne.y,Ve=ne.options||{},et=ne.mutex||{},st=et.pdfEscape,Oe=et.activeFontKey,vt=et.fonts,mt=Oe,yt="",nt=0,kt="",Kt=vt[mt].encoding;if(vt[mt].encoding!=="Identity-H")return{text:me,x:xe,y:De,options:Ve,mutex:et};for(kt=me,mt=Oe,Array.isArray(me)&&(kt=me[0]),nt=0;nt<kt.length;nt+=1)vt[mt].metadata.hasOwnProperty("cmap")&&(Se=vt[mt].metadata.cmap.unicode.codeMap[kt[nt].charCodeAt(0)]),Se||kt[nt].charCodeAt(0)<256&&vt[mt].metadata.hasOwnProperty("Unicode")?yt+=kt[nt]:yt+="";var Et="";return parseInt(mt.slice(1))<14||Kt==="WinAnsiEncoding"?Et=st(yt,mt).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):Kt==="Identity-H"&&(Et=D(yt,vt[mt])),et.isHex=!0,{text:Et,x:xe,y:De,options:Ve,mutex:et}};B.events.push(["postProcessText",function(ne){var Se=ne.text||"",me=[],xe={text:Se,x:ne.x,y:ne.y,options:ne.options,mutex:ne.mutex};if(Array.isArray(Se)){var De=0;for(De=0;De<Se.length;De+=1)Array.isArray(Se[De])&&Se[De].length===3?me.push([X(Object.assign({},xe,{text:Se[De][0]})).text,Se[De][1],Se[De][2]]):me.push(X(Object.assign({},xe,{text:Se[De]})).text);ne.text=me}else ne.text=X(Object.assign({},xe,{text:Se})).text}])})(pe),(function(I){var B=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};I.existsFileInVFS=function(D){return B.call(this),this.internal.vFS[D]!==void 0},I.addFileToVFS=function(D,K){return B.call(this),this.internal.vFS[D]=K,this},I.getFileFromVFS=function(D){return B.call(this),this.internal.vFS[D]!==void 0?this.internal.vFS[D]:null}})(pe.API),(function(I){I.__bidiEngine__=I.prototype.__bidiEngine__=function(K){var X,ne,Se,me,xe,De,Ve,et=B,st=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Oe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],vt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},mt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},yt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),kt=!1,Kt=0;this.__bidiEngine__={};var Et=function(at){var dt=at.charCodeAt(),It=dt>>8,Tt=mt[It];return Tt!==void 0?et[256*Tt+(255&dt)]:It===252||It===253?"AL":nt.test(It)?"L":It===8?"R":"N"},tt=function(at){for(var dt,It=0;It<at.length;It++){if((dt=Et(at.charAt(It)))==="L")return!1;if(dt==="R")return!0}return!1},Qt=function(at,dt,It,Tt){var cr,fr,xr,Jt,gr=dt[Tt];switch(gr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":kt=!1;break;case"N":case"AN":break;case"EN":kt&&(gr="AN");break;case"AL":kt=!0,gr="R";break;case"WS":case"BN":gr="N";break;case"CS":Tt<1||Tt+1>=dt.length||(cr=It[Tt-1])!=="EN"&&cr!=="AN"||(fr=dt[Tt+1])!=="EN"&&fr!=="AN"?gr="N":kt&&(fr="AN"),gr=fr===cr?fr:"N";break;case"ES":gr=(cr=Tt>0?It[Tt-1]:"B")==="EN"&&Tt+1<dt.length&&dt[Tt+1]==="EN"?"EN":"N";break;case"ET":if(Tt>0&&It[Tt-1]==="EN"){gr="EN";break}if(kt){gr="N";break}for(xr=Tt+1,Jt=dt.length;xr<Jt&&dt[xr]==="ET";)xr++;gr=xr<Jt&&dt[xr]==="EN"?"EN":"N";break;case"NSM":if(Se&&!me){for(Jt=dt.length,xr=Tt+1;xr<Jt&&dt[xr]==="NSM";)xr++;if(xr<Jt){var Zr=at[Tt],Hr=Zr>=1425&&Zr<=2303||Zr===64286;if(cr=dt[xr],Hr&&(cr==="R"||cr==="AL")){gr="R";break}}}gr=Tt<1||(cr=dt[Tt-1])==="B"?"N":It[Tt-1];break;case"B":kt=!1,X=!0,gr=Kt;break;case"S":ne=!0,gr="N"}return gr},lr=function(at,dt,It){var Tt=at.split("");return It&&qt(Tt,It,{hiLevel:Kt}),Tt.reverse(),dt&&dt.reverse(),Tt.join("")},qt=function(at,dt,It){var Tt,cr,fr,xr,Jt,gr=-1,Zr=at.length,Hr=0,Ye=[],xt=Kt?Oe:st,Nt=[];for(kt=!1,X=!1,ne=!1,cr=0;cr<Zr;cr++)Nt[cr]=Et(at[cr]);for(fr=0;fr<Zr;fr++){if(Jt=Hr,Ye[fr]=Qt(at,Nt,Ye,fr),Tt=240&(Hr=xt[Jt][vt[Ye[fr]]]),Hr&=15,dt[fr]=xr=xt[Hr][5],Tt>0)if(Tt===16){for(cr=gr;cr<fr;cr++)dt[cr]=1;gr=-1}else gr=-1;if(xt[Hr][6])gr===-1&&(gr=fr);else if(gr>-1){for(cr=gr;cr<fr;cr++)dt[cr]=xr;gr=-1}Nt[fr]==="B"&&(dt[fr]=0),It.hiLevel|=xr}ne&&(function(Wt,zt,nr){for(var mr=0;mr<nr;mr++)if(Wt[mr]==="S"){zt[mr]=Kt;for(var vr=mr-1;vr>=0&&Wt[vr]==="WS";vr--)zt[vr]=Kt}})(Nt,dt,Zr)},_t=function(at,dt,It,Tt,cr){if(!(cr.hiLevel<at)){if(at===1&&Kt===1&&!X)return dt.reverse(),void(It&&It.reverse());for(var fr,xr,Jt,gr,Zr=dt.length,Hr=0;Hr<Zr;){if(Tt[Hr]>=at){for(Jt=Hr+1;Jt<Zr&&Tt[Jt]>=at;)Jt++;for(gr=Hr,xr=Jt-1;gr<xr;gr++,xr--)fr=dt[gr],dt[gr]=dt[xr],dt[xr]=fr,It&&(fr=It[gr],It[gr]=It[xr],It[xr]=fr);Hr=Jt}Hr++}}},or=function(at,dt,It){var Tt=at.split(""),cr={hiLevel:Kt};return It||(It=[]),qt(Tt,It,cr),(function(fr,xr,Jt){if(Jt.hiLevel!==0&&Ve)for(var gr,Zr=0;Zr<fr.length;Zr++)xr[Zr]===1&&(gr=yt.indexOf(fr[Zr]))>=0&&(fr[Zr]=yt[gr+1])})(Tt,It,cr),_t(2,Tt,dt,It,cr),_t(1,Tt,dt,It,cr),Tt.join("")};return this.__bidiEngine__.doBidiReorder=function(at,dt,It){if((function(cr,fr){if(fr)for(var xr=0;xr<cr.length;xr++)fr[xr]=xr;me===void 0&&(me=tt(cr)),De===void 0&&(De=tt(cr))})(at,dt),Se||!xe||De)if(Se&&xe&&me^De)Kt=me?1:0,at=lr(at,dt,It);else if(!Se&&xe&&De)Kt=me?1:0,at=or(at,dt,It),at=lr(at,dt);else if(!Se||me||xe||De){if(Se&&!xe&&me^De)at=lr(at,dt),me?(Kt=0,at=or(at,dt,It)):(Kt=1,at=or(at,dt,It),at=lr(at,dt));else if(Se&&me&&!xe&&De)Kt=1,at=or(at,dt,It),at=lr(at,dt);else if(!Se&&!xe&&me^De){var Tt=Ve;me?(Kt=1,at=or(at,dt,It),Kt=0,Ve=!1,at=or(at,dt,It),Ve=Tt):(Kt=0,at=or(at,dt,It),at=lr(at,dt),Kt=1,Ve=!1,at=or(at,dt,It),Ve=Tt,at=lr(at,dt))}}else Kt=0,at=or(at,dt,It);else Kt=me?1:0,at=or(at,dt,It);return at},this.__bidiEngine__.setOptions=function(at){at&&(Se=at.isInputVisual,xe=at.isOutputVisual,me=at.isInputRtl,De=at.isOutputRtl,Ve=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(K),this.__bidiEngine__};var B=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],D=new I.__bidiEngine__({isInputVisual:!0});I.API.events.push(["postProcessText",function(K){var X=K.text;K.x,K.y;var ne=K.options||{};K.mutex,ne.lang;var Se=[];if(ne.isInputVisual=typeof ne.isInputVisual!="boolean"||ne.isInputVisual,D.setOptions(ne),Object.prototype.toString.call(X)==="[object Array]"){var me=0;for(Se=[],me=0;me<X.length;me+=1)Object.prototype.toString.call(X[me])==="[object Array]"?Se.push([D.doBidiReorder(X[me][0]),X[me][1],X[me][2]]):Se.push([D.doBidiReorder(X[me])]);K.text=Se}else K.text=D.doBidiReorder(X);D.setOptions({isInputVisual:!0})}])})(pe),pe.API.TTFFont=(function(){function I(B){var D;if(this.rawData=B,D=this.contents=new ki(B),this.contents.pos=4,D.readString(4)==="ttcf")throw new Error("TTCF not supported.");D.pos=0,this.parse(),this.subset=new it(this),this.registerTTF()}return I.open=function(B){return new I(B)},I.prototype.parse=function(){return this.directory=new vo(this.contents),this.head=new Wi(this),this.name=new ie(this),this.cmap=new qs(this),this.toUnicode={},this.hhea=new ks(this),this.maxp=new ue(this),this.hmtx=new M(this),this.post=new Ut(this),this.os2=new ko(this),this.loca=new Ge(this),this.glyf=new te(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},I.prototype.registerTTF=function(){var B,D,K,X,ne;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Se,me,xe,De;for(De=[],Se=0,me=(xe=this.bbox).length;Se<me;Se++)B=xe[Se],De.push(Math.round(B*this.scaleFactor));return De}).call(this),this.stemV=0,this.post.exists?(K=255&(X=this.post.italic_angle),32768&(D=X>>16)&&(D=-(1+(65535^D))),this.italicAngle=+(D+"."+K)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ne=this.familyClass)===1||ne===2||ne===3||ne===4||ne===5||ne===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},I.prototype.characterToGlyph=function(B){var D;return((D=this.cmap.unicode)!=null?D.codeMap[B]:void 0)||0},I.prototype.widthOfGlyph=function(B){var D;return D=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(B).advance*D},I.prototype.widthOfString=function(B,D,K){var X,ne,Se,me;for(Se=0,ne=0,me=(B=""+B).length;0<=me?ne<me:ne>me;ne=0<=me?++ne:--ne)X=B.charCodeAt(ne),Se+=this.widthOfGlyph(this.characterToGlyph(X))+K*(1e3/D)||0;return Se*(D/1e3)},I.prototype.lineHeight=function(B,D){var K;return D==null&&(D=!1),K=D?this.lineGap:0,(this.ascender+K-this.decender)/1e3*B},I})();var Xi,ki=(function(){function I(B){this.data=B??[],this.pos=0,this.length=this.data.length}return I.prototype.readByte=function(){return this.data[this.pos++]},I.prototype.writeByte=function(B){return this.data[this.pos++]=B},I.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},I.prototype.writeUInt32=function(B){return this.writeByte(B>>>24&255),this.writeByte(B>>16&255),this.writeByte(B>>8&255),this.writeByte(255&B)},I.prototype.readInt32=function(){var B;return(B=this.readUInt32())>=2147483648?B-4294967296:B},I.prototype.writeInt32=function(B){return B<0&&(B+=4294967296),this.writeUInt32(B)},I.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},I.prototype.writeUInt16=function(B){return this.writeByte(B>>8&255),this.writeByte(255&B)},I.prototype.readInt16=function(){var B;return(B=this.readUInt16())>=32768?B-65536:B},I.prototype.writeInt16=function(B){return B<0&&(B+=65536),this.writeUInt16(B)},I.prototype.readString=function(B){var D,K;for(K=[],D=0;0<=B?D<B:D>B;D=0<=B?++D:--D)K[D]=String.fromCharCode(this.readByte());return K.join("")},I.prototype.writeString=function(B){var D,K,X;for(X=[],D=0,K=B.length;0<=K?D<K:D>K;D=0<=K?++D:--D)X.push(this.writeByte(B.charCodeAt(D)));return X},I.prototype.readShort=function(){return this.readInt16()},I.prototype.writeShort=function(B){return this.writeInt16(B)},I.prototype.readLongLong=function(){var B,D,K,X,ne,Se,me,xe;return B=this.readByte(),D=this.readByte(),K=this.readByte(),X=this.readByte(),ne=this.readByte(),Se=this.readByte(),me=this.readByte(),xe=this.readByte(),128&B?-1*(72057594037927940*(255^B)+281474976710656*(255^D)+1099511627776*(255^K)+4294967296*(255^X)+16777216*(255^ne)+65536*(255^Se)+256*(255^me)+(255^xe)+1):72057594037927940*B+281474976710656*D+1099511627776*K+4294967296*X+16777216*ne+65536*Se+256*me+xe},I.prototype.writeLongLong=function(B){var D,K;return D=Math.floor(B/4294967296),K=4294967295&B,this.writeByte(D>>24&255),this.writeByte(D>>16&255),this.writeByte(D>>8&255),this.writeByte(255&D),this.writeByte(K>>24&255),this.writeByte(K>>16&255),this.writeByte(K>>8&255),this.writeByte(255&K)},I.prototype.readInt=function(){return this.readInt32()},I.prototype.writeInt=function(B){return this.writeInt32(B)},I.prototype.read=function(B){var D,K;for(D=[],K=0;0<=B?K<B:K>B;K=0<=B?++K:--K)D.push(this.readByte());return D},I.prototype.write=function(B){var D,K,X,ne;for(ne=[],K=0,X=B.length;K<X;K++)D=B[K],ne.push(this.writeByte(D));return ne},I})(),vo=(function(){var I;function B(D){var K,X,ne;for(this.scalarType=D.readInt(),this.tableCount=D.readShort(),this.searchRange=D.readShort(),this.entrySelector=D.readShort(),this.rangeShift=D.readShort(),this.tables={},X=0,ne=this.tableCount;0<=ne?X<ne:X>ne;X=0<=ne?++X:--X)K={tag:D.readString(4),checksum:D.readInt(),offset:D.readInt(),length:D.readInt()},this.tables[K.tag]=K}return B.prototype.encode=function(D){var K,X,ne,Se,me,xe,De,Ve,et,st,Oe,vt,mt;for(mt in Oe=Object.keys(D).length,xe=Math.log(2),et=16*Math.floor(Math.log(Oe)/xe),Se=Math.floor(et/xe),Ve=16*Oe-et,(X=new ki).writeInt(this.scalarType),X.writeShort(Oe),X.writeShort(et),X.writeShort(Se),X.writeShort(Ve),ne=16*Oe,De=X.pos+ne,me=null,vt=[],D)for(st=D[mt],X.writeString(mt),X.writeInt(I(st)),X.writeInt(De),X.writeInt(st.length),vt=vt.concat(st),mt==="head"&&(me=De),De+=st.length;De%4;)vt.push(0),De++;return X.write(vt),K=2981146554-I(X.data),X.pos=me+8,X.writeUInt32(K),X.data},I=function(D){var K,X,ne,Se;for(D=W.call(D);D.length%4;)D.push(0);for(ne=new ki(D),X=0,K=0,Se=D.length;K<Se;K=K+=4)X+=ne.readUInt32();return 4294967295&X},B})(),Oo={}.hasOwnProperty,pa=function(I,B){for(var D in B)Oo.call(B,D)&&(I[D]=B[D]);function K(){this.constructor=I}return K.prototype=B.prototype,I.prototype=new K,I.__super__=B.prototype,I};Xi=(function(){function I(B){var D;this.file=B,D=this.file.directory.tables[this.tag],this.exists=!!D,D&&(this.offset=D.offset,this.length=D.length,this.parse(this.file.contents))}return I.prototype.parse=function(){},I.prototype.encode=function(){},I.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},I})();var Wi=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="head",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.revision=B.readInt(),this.checkSumAdjustment=B.readInt(),this.magicNumber=B.readInt(),this.flags=B.readShort(),this.unitsPerEm=B.readShort(),this.created=B.readLongLong(),this.modified=B.readLongLong(),this.xMin=B.readShort(),this.yMin=B.readShort(),this.xMax=B.readShort(),this.yMax=B.readShort(),this.macStyle=B.readShort(),this.lowestRecPPEM=B.readShort(),this.fontDirectionHint=B.readShort(),this.indexToLocFormat=B.readShort(),this.glyphDataFormat=B.readShort()},I.prototype.encode=function(B){var D;return(D=new ki).writeInt(this.version),D.writeInt(this.revision),D.writeInt(this.checkSumAdjustment),D.writeInt(this.magicNumber),D.writeShort(this.flags),D.writeShort(this.unitsPerEm),D.writeLongLong(this.created),D.writeLongLong(this.modified),D.writeShort(this.xMin),D.writeShort(this.yMin),D.writeShort(this.xMax),D.writeShort(this.yMax),D.writeShort(this.macStyle),D.writeShort(this.lowestRecPPEM),D.writeShort(this.fontDirectionHint),D.writeShort(B),D.writeShort(this.glyphDataFormat),D.data},I})(),xs=(function(){function I(B,D){var K,X,ne,Se,me,xe,De,Ve,et,st,Oe,vt,mt,yt,nt,kt,Kt;switch(this.platformID=B.readUInt16(),this.encodingID=B.readShort(),this.offset=D+B.readInt(),et=B.pos,B.pos=this.offset,this.format=B.readUInt16(),this.length=B.readUInt16(),this.language=B.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(xe=0;xe<256;++xe)this.codeMap[xe]=B.readByte();break;case 4:for(Oe=B.readUInt16(),st=Oe/2,B.pos+=6,ne=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),B.pos+=2,mt=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),De=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),Ve=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),X=(this.length-B.pos+this.offset)/2,me=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=X?Et<X:Et>X;xe=0<=X?++Et:--Et)tt.push(B.readUInt16());return tt})(),xe=nt=0,Kt=ne.length;nt<Kt;xe=++nt)for(yt=ne[xe],K=kt=vt=mt[xe];vt<=yt?kt<=yt:kt>=yt;K=vt<=yt?++kt:--kt)Ve[xe]===0?Se=K+De[xe]:(Se=me[Ve[xe]/2+(K-vt)-(st-xe)]||0)!==0&&(Se+=De[xe]),this.codeMap[K]=65535&Se}B.pos=et}return I.encode=function(B,D){var K,X,ne,Se,me,xe,De,Ve,et,st,Oe,vt,mt,yt,nt,kt,Kt,Et,tt,Qt,lr,qt,_t,or,at,dt,It,Tt,cr,fr,xr,Jt,gr,Zr,Hr,Ye,xt,Nt,Wt,zt,nr,mr,vr,Pr,Jr,Cn;switch(Tt=new ki,Se=Object.keys(B).sort(function(Bn,ca){return Bn-ca}),D){case"macroman":for(mt=0,yt=(function(){var Bn=[];for(vt=0;vt<256;++vt)Bn.push(0);return Bn})(),kt={0:0},ne={},cr=0,gr=Se.length;cr<gr;cr++)kt[vr=B[X=Se[cr]]]==null&&(kt[vr]=++mt),ne[X]={old:B[X],new:kt[B[X]]},yt[X]=kt[B[X]];return Tt.writeUInt16(1),Tt.writeUInt16(0),Tt.writeUInt32(12),Tt.writeUInt16(0),Tt.writeUInt16(262),Tt.writeUInt16(0),Tt.write(yt),{charMap:ne,subtable:Tt.data,maxGlyphID:mt+1};case"unicode":for(dt=[],et=[],Kt=0,kt={},K={},nt=De=null,fr=0,Zr=Se.length;fr<Zr;fr++)kt[tt=B[X=Se[fr]]]==null&&(kt[tt]=++Kt),K[X]={old:tt,new:kt[tt]},me=kt[tt]-X,nt!=null&&me===De||(nt&&et.push(nt),dt.push(X),De=me),nt=X;for(nt&&et.push(nt),et.push(65535),dt.push(65535),or=2*(_t=dt.length),qt=2*Math.pow(Math.log(_t)/Math.LN2,2),st=Math.log(qt/2)/Math.LN2,lr=2*_t-qt,xe=[],Qt=[],Oe=[],vt=xr=0,Hr=dt.length;xr<Hr;vt=++xr){if(at=dt[vt],Ve=et[vt],at===65535){xe.push(0),Qt.push(0);break}if(at-(It=K[at].new)>=32768)for(xe.push(0),Qt.push(2*(Oe.length+_t-vt)),X=Jt=at;at<=Ve?Jt<=Ve:Jt>=Ve;X=at<=Ve?++Jt:--Jt)Oe.push(K[X].new);else xe.push(It-at),Qt.push(0)}for(Tt.writeUInt16(3),Tt.writeUInt16(1),Tt.writeUInt32(12),Tt.writeUInt16(4),Tt.writeUInt16(16+8*_t+2*Oe.length),Tt.writeUInt16(0),Tt.writeUInt16(or),Tt.writeUInt16(qt),Tt.writeUInt16(st),Tt.writeUInt16(lr),nr=0,Ye=et.length;nr<Ye;nr++)X=et[nr],Tt.writeUInt16(X);for(Tt.writeUInt16(0),mr=0,xt=dt.length;mr<xt;mr++)X=dt[mr],Tt.writeUInt16(X);for(Pr=0,Nt=xe.length;Pr<Nt;Pr++)me=xe[Pr],Tt.writeUInt16(me);for(Jr=0,Wt=Qt.length;Jr<Wt;Jr++)Et=Qt[Jr],Tt.writeUInt16(Et);for(Cn=0,zt=Oe.length;Cn<zt;Cn++)mt=Oe[Cn],Tt.writeUInt16(mt);return{charMap:K,subtable:Tt.data,maxGlyphID:Kt+1}}},I})(),qs=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="cmap",I.prototype.parse=function(B){var D,K,X;for(B.pos=this.offset,this.version=B.readUInt16(),X=B.readUInt16(),this.tables=[],this.unicode=null,K=0;0<=X?K<X:K>X;K=0<=X?++K:--K)D=new xs(B,this.offset),this.tables.push(D),D.isUnicode&&this.unicode==null&&(this.unicode=D);return!0},I.encode=function(B,D){var K,X;return D==null&&(D="macroman"),K=xs.encode(B,D),(X=new ki).writeUInt16(0),X.writeUInt16(1),K.table=X.data.concat(K.subtable),K},I})(),ks=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="hhea",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.ascender=B.readShort(),this.decender=B.readShort(),this.lineGap=B.readShort(),this.advanceWidthMax=B.readShort(),this.minLeftSideBearing=B.readShort(),this.minRightSideBearing=B.readShort(),this.xMaxExtent=B.readShort(),this.caretSlopeRise=B.readShort(),this.caretSlopeRun=B.readShort(),this.caretOffset=B.readShort(),B.pos+=8,this.metricDataFormat=B.readShort(),this.numberOfMetrics=B.readUInt16()},I})(),ko=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="OS/2",I.prototype.parse=function(B){if(B.pos=this.offset,this.version=B.readUInt16(),this.averageCharWidth=B.readShort(),this.weightClass=B.readUInt16(),this.widthClass=B.readUInt16(),this.type=B.readShort(),this.ySubscriptXSize=B.readShort(),this.ySubscriptYSize=B.readShort(),this.ySubscriptXOffset=B.readShort(),this.ySubscriptYOffset=B.readShort(),this.ySuperscriptXSize=B.readShort(),this.ySuperscriptYSize=B.readShort(),this.ySuperscriptXOffset=B.readShort(),this.ySuperscriptYOffset=B.readShort(),this.yStrikeoutSize=B.readShort(),this.yStrikeoutPosition=B.readShort(),this.familyClass=B.readShort(),this.panose=(function(){var D,K;for(K=[],D=0;D<10;++D)K.push(B.readByte());return K})(),this.charRange=(function(){var D,K;for(K=[],D=0;D<4;++D)K.push(B.readInt());return K})(),this.vendorID=B.readString(4),this.selection=B.readShort(),this.firstCharIndex=B.readShort(),this.lastCharIndex=B.readShort(),this.version>0&&(this.ascent=B.readShort(),this.descent=B.readShort(),this.lineGap=B.readShort(),this.winAscent=B.readShort(),this.winDescent=B.readShort(),this.codePageRange=(function(){var D,K;for(K=[],D=0;D<2;D=++D)K.push(B.readInt());return K})(),this.version>1))return this.xHeight=B.readShort(),this.capHeight=B.readShort(),this.defaultChar=B.readShort(),this.breakChar=B.readShort(),this.maxContext=B.readShort()},I})(),Ut=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="post",I.prototype.parse=function(B){var D,K,X;switch(B.pos=this.offset,this.format=B.readInt(),this.italicAngle=B.readInt(),this.underlinePosition=B.readShort(),this.underlineThickness=B.readShort(),this.isFixedPitch=B.readInt(),this.minMemType42=B.readInt(),this.maxMemType42=B.readInt(),this.minMemType1=B.readInt(),this.maxMemType1=B.readInt(),this.format){case 65536:case 196608:break;case 131072:var ne;for(K=B.readUInt16(),this.glyphNameIndex=[],ne=0;0<=K?ne<K:ne>K;ne=0<=K?++ne:--ne)this.glyphNameIndex.push(B.readUInt16());for(this.names=[],X=[];B.pos<this.offset+this.length;)D=B.readByte(),X.push(this.names.push(B.readString(D)));return X;case 151552:return K=B.readUInt16(),this.offsets=B.read(K);case 262144:return this.map=(function(){var Se,me,xe;for(xe=[],ne=Se=0,me=this.file.maxp.numGlyphs;0<=me?Se<me:Se>me;ne=0<=me?++Se:--Se)xe.push(B.readUInt32());return xe}).call(this)}},I})(),Q=function(I,B){this.raw=I,this.length=I.length,this.platformID=B.platformID,this.encodingID=B.encodingID,this.languageID=B.languageID},ie=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="name",I.prototype.parse=function(B){var D,K,X,ne,Se,me,xe,De,Ve,et,st;for(B.pos=this.offset,B.readShort(),D=B.readShort(),me=B.readShort(),K=[],ne=0;0<=D?ne<D:ne>D;ne=0<=D?++ne:--ne)K.push({platformID:B.readShort(),encodingID:B.readShort(),languageID:B.readShort(),nameID:B.readShort(),length:B.readShort(),offset:this.offset+me+B.readShort()});for(xe={},ne=Ve=0,et=K.length;Ve<et;ne=++Ve)X=K[ne],B.pos=X.offset,De=B.readString(X.length),Se=new Q(De,X),xe[st=X.nameID]==null&&(xe[st]=[]),xe[X.nameID].push(Se);this.strings=xe,this.copyright=xe[0],this.fontFamily=xe[1],this.fontSubfamily=xe[2],this.uniqueSubfamily=xe[3],this.fontName=xe[4],this.version=xe[5];try{this.postscriptName=xe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=xe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=xe[7],this.manufacturer=xe[8],this.designer=xe[9],this.description=xe[10],this.vendorUrl=xe[11],this.designerUrl=xe[12],this.license=xe[13],this.licenseUrl=xe[14],this.preferredFamily=xe[15],this.preferredSubfamily=xe[17],this.compatibleFull=xe[18],this.sampleText=xe[19]},I})(),ue=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="maxp",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.numGlyphs=B.readUInt16(),this.maxPoints=B.readUInt16(),this.maxContours=B.readUInt16(),this.maxCompositePoints=B.readUInt16(),this.maxComponentContours=B.readUInt16(),this.maxZones=B.readUInt16(),this.maxTwilightPoints=B.readUInt16(),this.maxStorage=B.readUInt16(),this.maxFunctionDefs=B.readUInt16(),this.maxInstructionDefs=B.readUInt16(),this.maxStackElements=B.readUInt16(),this.maxSizeOfInstructions=B.readUInt16(),this.maxComponentElements=B.readUInt16(),this.maxComponentDepth=B.readUInt16()},I})(),M=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="hmtx",I.prototype.parse=function(B){var D,K,X,ne,Se,me,xe;for(B.pos=this.offset,this.metrics=[],D=0,me=this.file.hhea.numberOfMetrics;0<=me?D<me:D>me;D=0<=me?++D:--D)this.metrics.push({advance:B.readUInt16(),lsb:B.readInt16()});for(X=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var De,Ve;for(Ve=[],D=De=0;0<=X?De<X:De>X;D=0<=X?++De:--De)Ve.push(B.readInt16());return Ve})(),this.widths=(function(){var De,Ve,et,st;for(st=[],De=0,Ve=(et=this.metrics).length;De<Ve;De++)ne=et[De],st.push(ne.advance);return st}).call(this),K=this.widths[this.widths.length-1],xe=[],D=Se=0;0<=X?Se<X:Se>X;D=0<=X?++Se:--Se)xe.push(this.widths.push(K));return xe},I.prototype.forGlyph=function(B){return B in this.metrics?this.metrics[B]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[B-this.metrics.length]}},I})(),W=[].slice,te=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="glyf",I.prototype.parse=function(){return this.cache={}},I.prototype.glyphFor=function(B){var D,K,X,ne,Se,me,xe,De,Ve,et;return B in this.cache?this.cache[B]:(ne=this.file.loca,D=this.file.contents,K=ne.indexOf(B),(X=ne.lengthOf(B))===0?this.cache[B]=null:(D.pos=this.offset+K,Se=(me=new ki(D.read(X))).readShort(),De=me.readShort(),et=me.readShort(),xe=me.readShort(),Ve=me.readShort(),this.cache[B]=Se===-1?new ke(me,De,et,xe,Ve):new Ce(me,Se,De,et,xe,Ve),this.cache[B]))},I.prototype.encode=function(B,D,K){var X,ne,Se,me,xe;for(Se=[],ne=[],me=0,xe=D.length;me<xe;me++)X=B[D[me]],ne.push(Se.length),X&&(Se=Se.concat(X.encode(K)));return ne.push(Se.length),{table:Se,offsets:ne}},I})(),Ce=(function(){function I(B,D,K,X,ne,Se){this.raw=B,this.numberOfContours=D,this.xMin=K,this.yMin=X,this.xMax=ne,this.yMax=Se,this.compound=!1}return I.prototype.encode=function(){return this.raw.data},I})(),ke=(function(){function I(B,D,K,X,ne){var Se,me;for(this.raw=B,this.xMin=D,this.yMin=K,this.xMax=X,this.yMax=ne,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Se=this.raw;me=Se.readShort(),this.glyphOffsets.push(Se.pos),this.glyphIDs.push(Se.readUInt16()),32&me;)Se.pos+=1&me?4:2,128&me?Se.pos+=8:64&me?Se.pos+=4:8&me&&(Se.pos+=2)}return I.prototype.encode=function(){var B,D,K;for(D=new ki(W.call(this.raw.data)),B=0,K=this.glyphIDs.length;B<K;++B)D.pos=this.glyphOffsets[B];return D.data},I})(),Ge=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return pa(I,Xi),I.prototype.tag="loca",I.prototype.parse=function(B){var D,K;return B.pos=this.offset,D=this.file.head.indexToLocFormat,this.offsets=D===0?(function(){var X,ne;for(ne=[],K=0,X=this.length;K<X;K+=2)ne.push(2*B.readUInt16());return ne}).call(this):(function(){var X,ne;for(ne=[],K=0,X=this.length;K<X;K+=4)ne.push(B.readUInt32());return ne}).call(this)},I.prototype.indexOf=function(B){return this.offsets[B]},I.prototype.lengthOf=function(B){return this.offsets[B+1]-this.offsets[B]},I.prototype.encode=function(B,D){for(var K=new Uint32Array(this.offsets.length),X=0,ne=0,Se=0;Se<K.length;++Se)if(K[Se]=X,ne<D.length&&D[ne]==Se){++ne,K[Se]=X;var me=this.offsets[Se],xe=this.offsets[Se+1]-me;xe>0&&(X+=xe)}for(var De=new Array(4*K.length),Ve=0;Ve<K.length;++Ve)De[4*Ve+3]=255&K[Ve],De[4*Ve+2]=(65280&K[Ve])>>8,De[4*Ve+1]=(16711680&K[Ve])>>16,De[4*Ve]=(4278190080&K[Ve])>>24;return De},I})(),it=(function(){function I(B){this.font=B,this.subset={},this.unicodes={},this.next=33}return I.prototype.generateCmap=function(){var B,D,K,X,ne;for(D in X=this.font.cmap.tables[0].codeMap,B={},ne=this.subset)K=ne[D],B[D]=X[K];return B},I.prototype.glyphsFor=function(B){var D,K,X,ne,Se,me,xe;for(X={},Se=0,me=B.length;Se<me;Se++)X[ne=B[Se]]=this.font.glyf.glyphFor(ne);for(ne in D=[],X)(K=X[ne])!=null&&K.compound&&D.push.apply(D,K.glyphIDs);if(D.length>0)for(ne in xe=this.glyphsFor(D))K=xe[ne],X[ne]=K;return X},I.prototype.encode=function(B,D){var K,X,ne,Se,me,xe,De,Ve,et,st,Oe,vt,mt,yt,nt;for(X in K=qs.encode(this.generateCmap(),"unicode"),Se=this.glyphsFor(B),Oe={0:0},nt=K.charMap)Oe[(xe=nt[X]).old]=xe.new;for(vt in st=K.maxGlyphID,Se)vt in Oe||(Oe[vt]=st++);return Ve=(function(kt){var Kt,Et;for(Kt in Et={},kt)Et[kt[Kt]]=Kt;return Et})(Oe),et=Object.keys(Ve).sort(function(kt,Kt){return kt-Kt}),mt=(function(){var kt,Kt,Et;for(Et=[],kt=0,Kt=et.length;kt<Kt;kt++)me=et[kt],Et.push(Ve[me]);return Et})(),ne=this.font.glyf.encode(Se,mt,Oe),De=this.font.loca.encode(ne.offsets,mt),yt={cmap:this.font.cmap.raw(),glyf:ne.table,loca:De,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(D)},this.font.os2.exists&&(yt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(yt)},I})();pe.API.PDFObject=(function(){var I;function B(){}return I=function(D,K){return(Array(K+1).join("0")+D).slice(-K)},B.convert=function(D){var K,X,ne,Se;if(Array.isArray(D))return"["+(function(){var me,xe,De;for(De=[],me=0,xe=D.length;me<xe;me++)K=D[me],De.push(B.convert(K));return De})().join(" ")+"]";if(typeof D=="string")return"/"+D;if(D!=null&&D.isString)return"("+D+")";if(D instanceof Date)return"(D:"+I(D.getUTCFullYear(),4)+I(D.getUTCMonth(),2)+I(D.getUTCDate(),2)+I(D.getUTCHours(),2)+I(D.getUTCMinutes(),2)+I(D.getUTCSeconds(),2)+"Z)";if({}.toString.call(D)==="[object Object]"){for(X in ne=["<<"],D)Se=D[X],ne.push("/"+X+" "+B.convert(Se));return ne.push(">>"),ne.join(`
`)}return""+D},B})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(l,u,o){o.r(u),o.d(u,{Deflate:function(){return Fr},Inflate:function(){return aa},constants:function(){return hi},default:function(){return cs},deflate:function(){return In},deflateRaw:function(){return Hn},gzip:function(){return fa},inflate:function(){return Oa},inflateRaw:function(){return Fi},ungzip:function(){return Mi}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const d=4,h=0,A=1,f=2;function g(T){let Me=T.length;for(;--Me>=0;)T[Me]=0}const m=0,x=1,y=2,b=3,w=258,N=29,S=256,j=S+1+N,_=30,k=19,Z=2*j+1,ee=15,V=16,re=7,R=256,Y=16,L=17,$=18,je=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ge=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ie=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fe=512,le=new Array((j+2)*2);g(le);const ve=new Array(_*2);g(ve);const se=new Array(fe);g(se);const he=new Array(w-b+1);g(he);const Ne=new Array(N);g(Ne);const Pe=new Array(_);g(Pe);function ye(T,Me,J,Xe,ht){this.static_tree=T,this.extra_bits=Me,this.extra_base=J,this.elems=Xe,this.max_length=ht,this.has_stree=T&&T.length}let ce,q,pe;function oe(T,Me){this.dyn_tree=T,this.max_code=0,this.stat_desc=Me}const We=T=>T<256?se[T]:se[256+(T>>>7)],Re=(T,Me)=>{T.pending_buf[T.pending++]=Me&255,T.pending_buf[T.pending++]=Me>>>8&255},Ee=(T,Me,J)=>{T.bi_valid>V-J?(T.bi_buf|=Me<<T.bi_valid&65535,Re(T,T.bi_buf),T.bi_buf=Me>>V-T.bi_valid,T.bi_valid+=J-V):(T.bi_buf|=Me<<T.bi_valid&65535,T.bi_valid+=J)},ae=(T,Me,J)=>{Ee(T,J[Me*2],J[Me*2+1])},Le=(T,Me)=>{let J=0;do J|=T&1,T>>>=1,J<<=1;while(--Me>0);return J>>>1},Ze=T=>{T.bi_valid===16?(Re(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)},jt=(T,Me)=>{const J=Me.dyn_tree,Xe=Me.max_code,ht=Me.stat_desc.static_tree,ot=Me.stat_desc.has_stree,er=Me.stat_desc.extra_bits,$t=Me.stat_desc.extra_base,Nn=Me.stat_desc.max_length;let Pt,ir,va,An,Mr,br,Ri=0;for(An=0;An<=ee;An++)T.bl_count[An]=0;for(J[T.heap[T.heap_max]*2+1]=0,Pt=T.heap_max+1;Pt<Z;Pt++)ir=T.heap[Pt],An=J[J[ir*2+1]*2+1]+1,An>Nn&&(An=Nn,Ri++),J[ir*2+1]=An,!(ir>Xe)&&(T.bl_count[An]++,Mr=0,ir>=$t&&(Mr=er[ir-$t]),br=J[ir*2],T.opt_len+=br*(An+Mr),ot&&(T.static_len+=br*(ht[ir*2+1]+Mr)));if(Ri!==0){do{for(An=Nn-1;T.bl_count[An]===0;)An--;T.bl_count[An]--,T.bl_count[An+1]+=2,T.bl_count[Nn]--,Ri-=2}while(Ri>0);for(An=Nn;An!==0;An--)for(ir=T.bl_count[An];ir!==0;)va=T.heap[--Pt],!(va>Xe)&&(J[va*2+1]!==An&&(T.opt_len+=(An-J[va*2+1])*J[va*2],J[va*2+1]=An),ir--)}},Lt=(T,Me,J)=>{const Xe=new Array(ee+1);let ht=0,ot,er;for(ot=1;ot<=ee;ot++)ht=ht+J[ot-1]<<1,Xe[ot]=ht;for(er=0;er<=Me;er++){let $t=T[er*2+1];$t!==0&&(T[er*2]=Le(Xe[$t]++,$t))}},Ct=()=>{let T,Me,J,Xe,ht;const ot=new Array(ee+1);for(J=0,Xe=0;Xe<N-1;Xe++)for(Ne[Xe]=J,T=0;T<1<<je[Xe];T++)he[J++]=Xe;for(he[J-1]=Xe,ht=0,Xe=0;Xe<16;Xe++)for(Pe[Xe]=ht,T=0;T<1<<ge[Xe];T++)se[ht++]=Xe;for(ht>>=7;Xe<_;Xe++)for(Pe[Xe]=ht<<7,T=0;T<1<<ge[Xe]-7;T++)se[256+ht++]=Xe;for(Me=0;Me<=ee;Me++)ot[Me]=0;for(T=0;T<=143;)le[T*2+1]=8,T++,ot[8]++;for(;T<=255;)le[T*2+1]=9,T++,ot[9]++;for(;T<=279;)le[T*2+1]=7,T++,ot[7]++;for(;T<=287;)le[T*2+1]=8,T++,ot[8]++;for(Lt(le,j+1,ot),T=0;T<_;T++)ve[T*2+1]=5,ve[T*2]=Le(T,5);ce=new ye(le,je,S+1,j,ee),q=new ye(ve,ge,0,_,ee),pe=new ye(new Array(0),Ie,0,k,re)},Xt=T=>{let Me;for(Me=0;Me<j;Me++)T.dyn_ltree[Me*2]=0;for(Me=0;Me<_;Me++)T.dyn_dtree[Me*2]=0;for(Me=0;Me<k;Me++)T.bl_tree[Me*2]=0;T.dyn_ltree[R*2]=1,T.opt_len=T.static_len=0,T.sym_next=T.matches=0},_r=T=>{T.bi_valid>8?Re(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0},Or=(T,Me,J,Xe)=>{const ht=Me*2,ot=J*2;return T[ht]<T[ot]||T[ht]===T[ot]&&Xe[Me]<=Xe[J]},He=(T,Me,J)=>{const Xe=T.heap[J];let ht=J<<1;for(;ht<=T.heap_len&&(ht<T.heap_len&&Or(Me,T.heap[ht+1],T.heap[ht],T.depth)&&ht++,!Or(Me,Xe,T.heap[ht],T.depth));)T.heap[J]=T.heap[ht],J=ht,ht<<=1;T.heap[J]=Xe},Zt=(T,Me,J)=>{let Xe,ht,ot=0,er,$t;if(T.sym_next!==0)do Xe=T.pending_buf[T.sym_buf+ot++]&255,Xe+=(T.pending_buf[T.sym_buf+ot++]&255)<<8,ht=T.pending_buf[T.sym_buf+ot++],Xe===0?ae(T,ht,Me):(er=he[ht],ae(T,er+S+1,Me),$t=je[er],$t!==0&&(ht-=Ne[er],Ee(T,ht,$t)),Xe--,er=We(Xe),ae(T,er,J),$t=ge[er],$t!==0&&(Xe-=Pe[er],Ee(T,Xe,$t)));while(ot<T.sym_next);ae(T,R,Me)},Bt=(T,Me)=>{const J=Me.dyn_tree,Xe=Me.stat_desc.static_tree,ht=Me.stat_desc.has_stree,ot=Me.stat_desc.elems;let er,$t,Nn=-1,Pt;for(T.heap_len=0,T.heap_max=Z,er=0;er<ot;er++)J[er*2]!==0?(T.heap[++T.heap_len]=Nn=er,T.depth[er]=0):J[er*2+1]=0;for(;T.heap_len<2;)Pt=T.heap[++T.heap_len]=Nn<2?++Nn:0,J[Pt*2]=1,T.depth[Pt]=0,T.opt_len--,ht&&(T.static_len-=Xe[Pt*2+1]);for(Me.max_code=Nn,er=T.heap_len>>1;er>=1;er--)He(T,J,er);Pt=ot;do er=T.heap[1],T.heap[1]=T.heap[T.heap_len--],He(T,J,1),$t=T.heap[1],T.heap[--T.heap_max]=er,T.heap[--T.heap_max]=$t,J[Pt*2]=J[er*2]+J[$t*2],T.depth[Pt]=(T.depth[er]>=T.depth[$t]?T.depth[er]:T.depth[$t])+1,J[er*2+1]=J[$t*2+1]=Pt,T.heap[1]=Pt++,He(T,J,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],jt(T,Me),Lt(J,Nn,T.bl_count)},$r=(T,Me,J)=>{let Xe,ht=-1,ot,er=Me[1],$t=0,Nn=7,Pt=4;for(er===0&&(Nn=138,Pt=3),Me[(J+1)*2+1]=65535,Xe=0;Xe<=J;Xe++)ot=er,er=Me[(Xe+1)*2+1],!(++$t<Nn&&ot===er)&&($t<Pt?T.bl_tree[ot*2]+=$t:ot!==0?(ot!==ht&&T.bl_tree[ot*2]++,T.bl_tree[Y*2]++):$t<=10?T.bl_tree[L*2]++:T.bl_tree[$*2]++,$t=0,ht=ot,er===0?(Nn=138,Pt=3):ot===er?(Nn=6,Pt=3):(Nn=7,Pt=4))},pr=(T,Me,J)=>{let Xe,ht=-1,ot,er=Me[1],$t=0,Nn=7,Pt=4;for(er===0&&(Nn=138,Pt=3),Xe=0;Xe<=J;Xe++)if(ot=er,er=Me[(Xe+1)*2+1],!(++$t<Nn&&ot===er)){if($t<Pt)do ae(T,ot,T.bl_tree);while(--$t!==0);else ot!==0?(ot!==ht&&(ae(T,ot,T.bl_tree),$t--),ae(T,Y,T.bl_tree),Ee(T,$t-3,2)):$t<=10?(ae(T,L,T.bl_tree),Ee(T,$t-3,3)):(ae(T,$,T.bl_tree),Ee(T,$t-11,7));$t=0,ht=ot,er===0?(Nn=138,Pt=3):ot===er?(Nn=6,Pt=3):(Nn=7,Pt=4)}},on=T=>{let Me;for($r(T,T.dyn_ltree,T.l_desc.max_code),$r(T,T.dyn_dtree,T.d_desc.max_code),Bt(T,T.bl_desc),Me=k-1;Me>=3&&T.bl_tree[_e[Me]*2+1]===0;Me--);return T.opt_len+=3*(Me+1)+5+5+4,Me},Yr=(T,Me,J,Xe)=>{let ht;for(Ee(T,Me-257,5),Ee(T,J-1,5),Ee(T,Xe-4,4),ht=0;ht<Xe;ht++)Ee(T,T.bl_tree[_e[ht]*2+1],3);pr(T,T.dyn_ltree,Me-1),pr(T,T.dyn_dtree,J-1)},qr=T=>{let Me=4093624447,J;for(J=0;J<=31;J++,Me>>>=1)if(Me&1&&T.dyn_ltree[J*2]!==0)return h;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return A;for(J=32;J<S;J++)if(T.dyn_ltree[J*2]!==0)return A;return h};let Ir=!1;const dr=T=>{Ir||(Ct(),Ir=!0),T.l_desc=new oe(T.dyn_ltree,ce),T.d_desc=new oe(T.dyn_dtree,q),T.bl_desc=new oe(T.bl_tree,pe),T.bi_buf=0,T.bi_valid=0,Xt(T)},Cr=(T,Me,J,Xe)=>{Ee(T,(m<<1)+(Xe?1:0),3),_r(T),Re(T,J),Re(T,~J),J&&T.pending_buf.set(T.window.subarray(Me,Me+J),T.pending),T.pending+=J},Vr=T=>{Ee(T,x<<1,3),ae(T,R,le),Ze(T)},zr=(T,Me,J,Xe)=>{let ht,ot,er=0;T.level>0?(T.strm.data_type===f&&(T.strm.data_type=qr(T)),Bt(T,T.l_desc),Bt(T,T.d_desc),er=on(T),ht=T.opt_len+3+7>>>3,ot=T.static_len+3+7>>>3,ot<=ht&&(ht=ot)):ht=ot=J+5,J+4<=ht&&Me!==-1?Cr(T,Me,J,Xe):T.strategy===d||ot===ht?(Ee(T,(x<<1)+(Xe?1:0),3),Zt(T,le,ve)):(Ee(T,(y<<1)+(Xe?1:0),3),Yr(T,T.l_desc.max_code+1,T.d_desc.max_code+1,er+1),Zt(T,T.dyn_ltree,T.dyn_dtree)),Xt(T),Xe&&_r(T)},gn=(T,Me,J)=>(T.pending_buf[T.sym_buf+T.sym_next++]=Me,T.pending_buf[T.sym_buf+T.sym_next++]=Me>>8,T.pending_buf[T.sym_buf+T.sym_next++]=J,Me===0?T.dyn_ltree[J*2]++:(T.matches++,Me--,T.dyn_ltree[(he[J]+S+1)*2]++,T.dyn_dtree[We(Me)*2]++),T.sym_next===T.sym_end);var Wr=dr,$n=Cr,Lr=zr,Dr=gn,wn=Vr,cn={_tr_init:Wr,_tr_stored_block:$n,_tr_flush_block:Lr,_tr_tally:Dr,_tr_align:wn},Sr=(T,Me,J,Xe)=>{let ht=T&65535|0,ot=T>>>16&65535|0,er=0;for(;J!==0;){er=J>2e3?2e3:J,J-=er;do ht=ht+Me[Xe++]|0,ot=ot+ht|0;while(--er);ht%=65521,ot%=65521}return ht|ot<<16|0};const dn=()=>{let T,Me=[];for(var J=0;J<256;J++){T=J;for(var Xe=0;Xe<8;Xe++)T=T&1?3988292384^T>>>1:T>>>1;Me[J]=T}return Me},Dn=new Uint32Array(dn());var Un=(T,Me,J,Xe)=>{const ht=Dn,ot=Xe+J;T^=-1;for(let er=Xe;er<ot;er++)T=T>>>8^ht[(T^Me[er])&255];return T^-1},Ur={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ei={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:os,_tr_stored_block:jn,_tr_flush_block:Ss,_tr_tally:ji,_tr_align:vi}=cn,{Z_NO_FLUSH:Ui,Z_PARTIAL_FLUSH:Bi,Z_FULL_FLUSH:Bs,Z_FINISH:ri,Z_BLOCK:Ks,Z_OK:Wa,Z_STREAM_END:wc,Z_STREAM_ERROR:ms,Z_DATA_ERROR:Nl,Z_BUF_ERROR:jc,Z_DEFAULT_COMPRESSION:Sl,Z_FILTERED:Hi,Z_HUFFMAN_ONLY:go,Z_RLE:ha,Z_FIXED:Yl,Z_DEFAULT_STRATEGY:ni,Z_UNKNOWN:Bo,Z_DEFLATED:Gs}=ei,Eo=9,el=15,Io=8,ai=256+1+29,Al=30,To=19,Lc=2*ai+1,ls=15,qn=3,Qi=258,gs=Qi+qn+1,vs=32,_o=42,Di=57,so=69,Xi=73,ki=91,vo=103,Oo=113,pa=666,Wi=1,xs=2,qs=3,ks=4,ko=3,Ut=(T,Me)=>(T.msg=Ur[Me],Me),Q=T=>T*2-(T>4?9:0),ie=T=>{let Me=T.length;for(;--Me>=0;)T[Me]=0},ue=T=>{let Me,J,Xe,ht=T.w_size;Me=T.hash_size,Xe=Me;do J=T.head[--Xe],T.head[Xe]=J>=ht?J-ht:0;while(--Me);Me=ht,Xe=Me;do J=T.prev[--Xe],T.prev[Xe]=J>=ht?J-ht:0;while(--Me)};let W=(T,Me,J)=>(Me<<T.hash_shift^J)&T.hash_mask;const te=T=>{const Me=T.state;let J=Me.pending;J>T.avail_out&&(J=T.avail_out),J!==0&&(T.output.set(Me.pending_buf.subarray(Me.pending_out,Me.pending_out+J),T.next_out),T.next_out+=J,Me.pending_out+=J,T.total_out+=J,T.avail_out-=J,Me.pending-=J,Me.pending===0&&(Me.pending_out=0))},Ce=(T,Me)=>{Ss(T,T.block_start>=0?T.block_start:-1,T.strstart-T.block_start,Me),T.block_start=T.strstart,te(T.strm)},ke=(T,Me)=>{T.pending_buf[T.pending++]=Me},Ge=(T,Me)=>{T.pending_buf[T.pending++]=Me>>>8&255,T.pending_buf[T.pending++]=Me&255},it=(T,Me,J,Xe)=>{let ht=T.avail_in;return ht>Xe&&(ht=Xe),ht===0?0:(T.avail_in-=ht,Me.set(T.input.subarray(T.next_in,T.next_in+ht),J),T.state.wrap===1?T.adler=Sr(T.adler,Me,ht,J):T.state.wrap===2&&(T.adler=Un(T.adler,Me,ht,J)),T.next_in+=ht,T.total_in+=ht,ht)},I=(T,Me)=>{let J=T.max_chain_length,Xe=T.strstart,ht,ot,er=T.prev_length,$t=T.nice_match;const Nn=T.strstart>T.w_size-gs?T.strstart-(T.w_size-gs):0,Pt=T.window,ir=T.w_mask,va=T.prev,An=T.strstart+Qi;let Mr=Pt[Xe+er-1],br=Pt[Xe+er];T.prev_length>=T.good_match&&(J>>=2),$t>T.lookahead&&($t=T.lookahead);do if(ht=Me,!(Pt[ht+er]!==br||Pt[ht+er-1]!==Mr||Pt[ht]!==Pt[Xe]||Pt[++ht]!==Pt[Xe+1])){Xe+=2,ht++;do;while(Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Xe<An);if(ot=Qi-(An-Xe),Xe=An-Qi,ot>er){if(T.match_start=Me,er=ot,ot>=$t)break;Mr=Pt[Xe+er-1],br=Pt[Xe+er]}}while((Me=va[Me&ir])>Nn&&--J!==0);return er<=T.lookahead?er:T.lookahead},B=T=>{const Me=T.w_size;let J,Xe,ht;do{if(Xe=T.window_size-T.lookahead-T.strstart,T.strstart>=Me+(Me-gs)&&(T.window.set(T.window.subarray(Me,Me+Me-Xe),0),T.match_start-=Me,T.strstart-=Me,T.block_start-=Me,T.insert>T.strstart&&(T.insert=T.strstart),ue(T),Xe+=Me),T.strm.avail_in===0)break;if(J=it(T.strm,T.window,T.strstart+T.lookahead,Xe),T.lookahead+=J,T.lookahead+T.insert>=qn)for(ht=T.strstart-T.insert,T.ins_h=T.window[ht],T.ins_h=W(T,T.ins_h,T.window[ht+1]);T.insert&&(T.ins_h=W(T,T.ins_h,T.window[ht+qn-1]),T.prev[ht&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=ht,ht++,T.insert--,!(T.lookahead+T.insert<qn)););}while(T.lookahead<gs&&T.strm.avail_in!==0)},D=(T,Me)=>{let J=T.pending_buf_size-5>T.w_size?T.w_size:T.pending_buf_size-5,Xe,ht,ot,er=0,$t=T.strm.avail_in;do{if(Xe=65535,ot=T.bi_valid+42>>3,T.strm.avail_out<ot||(ot=T.strm.avail_out-ot,ht=T.strstart-T.block_start,Xe>ht+T.strm.avail_in&&(Xe=ht+T.strm.avail_in),Xe>ot&&(Xe=ot),Xe<J&&(Xe===0&&Me!==ri||Me===Ui||Xe!==ht+T.strm.avail_in)))break;er=Me===ri&&Xe===ht+T.strm.avail_in?1:0,jn(T,0,0,er),T.pending_buf[T.pending-4]=Xe,T.pending_buf[T.pending-3]=Xe>>8,T.pending_buf[T.pending-2]=~Xe,T.pending_buf[T.pending-1]=~Xe>>8,te(T.strm),ht&&(ht>Xe&&(ht=Xe),T.strm.output.set(T.window.subarray(T.block_start,T.block_start+ht),T.strm.next_out),T.strm.next_out+=ht,T.strm.avail_out-=ht,T.strm.total_out+=ht,T.block_start+=ht,Xe-=ht),Xe&&(it(T.strm,T.strm.output,T.strm.next_out,Xe),T.strm.next_out+=Xe,T.strm.avail_out-=Xe,T.strm.total_out+=Xe)}while(er===0);return $t-=T.strm.avail_in,$t&&($t>=T.w_size?(T.matches=2,T.window.set(T.strm.input.subarray(T.strm.next_in-T.w_size,T.strm.next_in),0),T.strstart=T.w_size,T.insert=T.strstart):(T.window_size-T.strstart<=$t&&(T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,T.insert>T.strstart&&(T.insert=T.strstart)),T.window.set(T.strm.input.subarray(T.strm.next_in-$t,T.strm.next_in),T.strstart),T.strstart+=$t,T.insert+=$t>T.w_size-T.insert?T.w_size-T.insert:$t),T.block_start=T.strstart),T.high_water<T.strstart&&(T.high_water=T.strstart),er?ks:Me!==Ui&&Me!==ri&&T.strm.avail_in===0&&T.strstart===T.block_start?xs:(ot=T.window_size-T.strstart,T.strm.avail_in>ot&&T.block_start>=T.w_size&&(T.block_start-=T.w_size,T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,ot+=T.w_size,T.insert>T.strstart&&(T.insert=T.strstart)),ot>T.strm.avail_in&&(ot=T.strm.avail_in),ot&&(it(T.strm,T.window,T.strstart,ot),T.strstart+=ot,T.insert+=ot>T.w_size-T.insert?T.w_size-T.insert:ot),T.high_water<T.strstart&&(T.high_water=T.strstart),ot=T.bi_valid+42>>3,ot=T.pending_buf_size-ot>65535?65535:T.pending_buf_size-ot,J=ot>T.w_size?T.w_size:ot,ht=T.strstart-T.block_start,(ht>=J||(ht||Me===ri)&&Me!==Ui&&T.strm.avail_in===0&&ht<=ot)&&(Xe=ht>ot?ot:ht,er=Me===ri&&T.strm.avail_in===0&&Xe===ht?1:0,jn(T,T.block_start,Xe,er),T.block_start+=Xe,te(T.strm)),er?qs:Wi)},K=(T,Me)=>{let J,Xe;for(;;){if(T.lookahead<gs){if(B(T),T.lookahead<gs&&Me===Ui)return Wi;if(T.lookahead===0)break}if(J=0,T.lookahead>=qn&&(T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),J!==0&&T.strstart-J<=T.w_size-gs&&(T.match_length=I(T,J)),T.match_length>=qn)if(Xe=ji(T,T.strstart-T.match_start,T.match_length-qn),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=qn){T.match_length--;do T.strstart++,T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart;while(--T.match_length!==0);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=W(T,T.ins_h,T.window[T.strstart+1]);else Xe=ji(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(Xe&&(Ce(T,!1),T.strm.avail_out===0))return Wi}return T.insert=T.strstart<qn-1?T.strstart:qn-1,Me===ri?(Ce(T,!0),T.strm.avail_out===0?qs:ks):T.sym_next&&(Ce(T,!1),T.strm.avail_out===0)?Wi:xs},X=(T,Me)=>{let J,Xe,ht;for(;;){if(T.lookahead<gs){if(B(T),T.lookahead<gs&&Me===Ui)return Wi;if(T.lookahead===0)break}if(J=0,T.lookahead>=qn&&(T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=qn-1,J!==0&&T.prev_length<T.max_lazy_match&&T.strstart-J<=T.w_size-gs&&(T.match_length=I(T,J),T.match_length<=5&&(T.strategy===Hi||T.match_length===qn&&T.strstart-T.match_start>4096)&&(T.match_length=qn-1)),T.prev_length>=qn&&T.match_length<=T.prev_length){ht=T.strstart+T.lookahead-qn,Xe=ji(T,T.strstart-1-T.prev_match,T.prev_length-qn),T.lookahead-=T.prev_length-1,T.prev_length-=2;do++T.strstart<=ht&&(T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart);while(--T.prev_length!==0);if(T.match_available=0,T.match_length=qn-1,T.strstart++,Xe&&(Ce(T,!1),T.strm.avail_out===0))return Wi}else if(T.match_available){if(Xe=ji(T,0,T.window[T.strstart-1]),Xe&&Ce(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return Wi}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(Xe=ji(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<qn-1?T.strstart:qn-1,Me===ri?(Ce(T,!0),T.strm.avail_out===0?qs:ks):T.sym_next&&(Ce(T,!1),T.strm.avail_out===0)?Wi:xs},ne=(T,Me)=>{let J,Xe,ht,ot;const er=T.window;for(;;){if(T.lookahead<=Qi){if(B(T),T.lookahead<=Qi&&Me===Ui)return Wi;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=qn&&T.strstart>0&&(ht=T.strstart-1,Xe=er[ht],Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht])){ot=T.strstart+Qi;do;while(Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&ht<ot);T.match_length=Qi-(ot-ht),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=qn?(J=ji(T,1,T.match_length-qn),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(J=ji(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),J&&(Ce(T,!1),T.strm.avail_out===0))return Wi}return T.insert=0,Me===ri?(Ce(T,!0),T.strm.avail_out===0?qs:ks):T.sym_next&&(Ce(T,!1),T.strm.avail_out===0)?Wi:xs},Se=(T,Me)=>{let J;for(;;){if(T.lookahead===0&&(B(T),T.lookahead===0)){if(Me===Ui)return Wi;break}if(T.match_length=0,J=ji(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,J&&(Ce(T,!1),T.strm.avail_out===0))return Wi}return T.insert=0,Me===ri?(Ce(T,!0),T.strm.avail_out===0?qs:ks):T.sym_next&&(Ce(T,!1),T.strm.avail_out===0)?Wi:xs};function me(T,Me,J,Xe,ht){this.good_length=T,this.max_lazy=Me,this.nice_length=J,this.max_chain=Xe,this.func=ht}const xe=[new me(0,0,0,0,D),new me(4,4,8,4,K),new me(4,5,16,8,K),new me(4,6,32,32,K),new me(4,4,16,16,X),new me(8,16,32,32,X),new me(8,16,128,128,X),new me(8,32,128,256,X),new me(32,128,258,1024,X),new me(32,258,258,4096,X)],De=T=>{T.window_size=2*T.w_size,ie(T.head),T.max_lazy_match=xe[T.level].max_lazy,T.good_match=xe[T.level].good_length,T.nice_match=xe[T.level].nice_length,T.max_chain_length=xe[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=qn-1,T.match_available=0,T.ins_h=0};function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Gs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Lc*2),this.dyn_dtree=new Uint16Array((2*Al+1)*2),this.bl_tree=new Uint16Array((2*To+1)*2),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ls+1),this.heap=new Uint16Array(2*ai+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ai+1),ie(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const et=T=>{if(!T)return 1;const Me=T.state;return!Me||Me.strm!==T||Me.status!==_o&&Me.status!==Di&&Me.status!==so&&Me.status!==Xi&&Me.status!==ki&&Me.status!==vo&&Me.status!==Oo&&Me.status!==pa?1:0},st=T=>{if(et(T))return Ut(T,ms);T.total_in=T.total_out=0,T.data_type=Bo;const Me=T.state;return Me.pending=0,Me.pending_out=0,Me.wrap<0&&(Me.wrap=-Me.wrap),Me.status=Me.wrap===2?Di:Me.wrap?_o:Oo,T.adler=Me.wrap===2?0:1,Me.last_flush=-2,os(Me),Wa},Oe=T=>{const Me=st(T);return Me===Wa&&De(T.state),Me},vt=(T,Me)=>et(T)||T.state.wrap!==2?ms:(T.state.gzhead=Me,Wa),mt=(T,Me,J,Xe,ht,ot)=>{if(!T)return ms;let er=1;if(Me===Sl&&(Me=6),Xe<0?(er=0,Xe=-Xe):Xe>15&&(er=2,Xe-=16),ht<1||ht>Eo||J!==Gs||Xe<8||Xe>15||Me<0||Me>9||ot<0||ot>Yl||Xe===8&&er!==1)return Ut(T,ms);Xe===8&&(Xe=9);const $t=new Ve;return T.state=$t,$t.strm=T,$t.status=_o,$t.wrap=er,$t.gzhead=null,$t.w_bits=Xe,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=ht+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+qn-1)/qn),$t.window=new Uint8Array($t.w_size*2),$t.head=new Uint16Array($t.hash_size),$t.prev=new Uint16Array($t.w_size),$t.lit_bufsize=1<<ht+6,$t.pending_buf_size=$t.lit_bufsize*4,$t.pending_buf=new Uint8Array($t.pending_buf_size),$t.sym_buf=$t.lit_bufsize,$t.sym_end=($t.lit_bufsize-1)*3,$t.level=Me,$t.strategy=ot,$t.method=J,Oe(T)},yt=(T,Me)=>mt(T,Me,Gs,el,Io,ni),nt=(T,Me)=>{if(et(T)||Me>Ks||Me<0)return T?Ut(T,ms):ms;const J=T.state;if(!T.output||T.avail_in!==0&&!T.input||J.status===pa&&Me!==ri)return Ut(T,T.avail_out===0?jc:ms);const Xe=J.last_flush;if(J.last_flush=Me,J.pending!==0){if(te(T),T.avail_out===0)return J.last_flush=-1,Wa}else if(T.avail_in===0&&Q(Me)<=Q(Xe)&&Me!==ri)return Ut(T,jc);if(J.status===pa&&T.avail_in!==0)return Ut(T,jc);if(J.status===_o&&J.wrap===0&&(J.status=Oo),J.status===_o){let ht=Gs+(J.w_bits-8<<4)<<8,ot=-1;if(J.strategy>=go||J.level<2?ot=0:J.level<6?ot=1:J.level===6?ot=2:ot=3,ht|=ot<<6,J.strstart!==0&&(ht|=vs),ht+=31-ht%31,Ge(J,ht),J.strstart!==0&&(Ge(J,T.adler>>>16),Ge(J,T.adler&65535)),T.adler=1,J.status=Oo,te(T),J.pending!==0)return J.last_flush=-1,Wa}if(J.status===Di){if(T.adler=0,ke(J,31),ke(J,139),ke(J,8),J.gzhead)ke(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),ke(J,J.gzhead.time&255),ke(J,J.gzhead.time>>8&255),ke(J,J.gzhead.time>>16&255),ke(J,J.gzhead.time>>24&255),ke(J,J.level===9?2:J.strategy>=go||J.level<2?4:0),ke(J,J.gzhead.os&255),J.gzhead.extra&&J.gzhead.extra.length&&(ke(J,J.gzhead.extra.length&255),ke(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(T.adler=Un(T.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=so;else if(ke(J,0),ke(J,0),ke(J,0),ke(J,0),ke(J,0),ke(J,J.level===9?2:J.strategy>=go||J.level<2?4:0),ke(J,ko),J.status=Oo,te(T),J.pending!==0)return J.last_flush=-1,Wa}if(J.status===so){if(J.gzhead.extra){let ht=J.pending,ot=(J.gzhead.extra.length&65535)-J.gzindex;for(;J.pending+ot>J.pending_buf_size;){let $t=J.pending_buf_size-J.pending;if(J.pending_buf.set(J.gzhead.extra.subarray(J.gzindex,J.gzindex+$t),J.pending),J.pending=J.pending_buf_size,J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),J.gzindex+=$t,te(T),J.pending!==0)return J.last_flush=-1,Wa;ht=0,ot-=$t}let er=new Uint8Array(J.gzhead.extra);J.pending_buf.set(er.subarray(J.gzindex,J.gzindex+ot),J.pending),J.pending+=ot,J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),J.gzindex=0}J.status=Xi}if(J.status===Xi){if(J.gzhead.name){let ht=J.pending,ot;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),te(T),J.pending!==0)return J.last_flush=-1,Wa;ht=0}J.gzindex<J.gzhead.name.length?ot=J.gzhead.name.charCodeAt(J.gzindex++)&255:ot=0,ke(J,ot)}while(ot!==0);J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),J.gzindex=0}J.status=ki}if(J.status===ki){if(J.gzhead.comment){let ht=J.pending,ot;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),te(T),J.pending!==0)return J.last_flush=-1,Wa;ht=0}J.gzindex<J.gzhead.comment.length?ot=J.gzhead.comment.charCodeAt(J.gzindex++)&255:ot=0,ke(J,ot)}while(ot!==0);J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht))}J.status=vo}if(J.status===vo){if(J.gzhead.hcrc){if(J.pending+2>J.pending_buf_size&&(te(T),J.pending!==0))return J.last_flush=-1,Wa;ke(J,T.adler&255),ke(J,T.adler>>8&255),T.adler=0}if(J.status=Oo,te(T),J.pending!==0)return J.last_flush=-1,Wa}if(T.avail_in!==0||J.lookahead!==0||Me!==Ui&&J.status!==pa){let ht=J.level===0?D(J,Me):J.strategy===go?Se(J,Me):J.strategy===ha?ne(J,Me):xe[J.level].func(J,Me);if((ht===qs||ht===ks)&&(J.status=pa),ht===Wi||ht===qs)return T.avail_out===0&&(J.last_flush=-1),Wa;if(ht===xs&&(Me===Bi?vi(J):Me!==Ks&&(jn(J,0,0,!1),Me===Bs&&(ie(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),te(T),T.avail_out===0))return J.last_flush=-1,Wa}return Me!==ri?Wa:J.wrap<=0?wc:(J.wrap===2?(ke(J,T.adler&255),ke(J,T.adler>>8&255),ke(J,T.adler>>16&255),ke(J,T.adler>>24&255),ke(J,T.total_in&255),ke(J,T.total_in>>8&255),ke(J,T.total_in>>16&255),ke(J,T.total_in>>24&255)):(Ge(J,T.adler>>>16),Ge(J,T.adler&65535)),te(T),J.wrap>0&&(J.wrap=-J.wrap),J.pending!==0?Wa:wc)},kt=T=>{if(et(T))return ms;const Me=T.state.status;return T.state=null,Me===Oo?Ut(T,Nl):Wa},Kt=(T,Me)=>{let J=Me.length;if(et(T))return ms;const Xe=T.state,ht=Xe.wrap;if(ht===2||ht===1&&Xe.status!==_o||Xe.lookahead)return ms;if(ht===1&&(T.adler=Sr(T.adler,Me,J,0)),Xe.wrap=0,J>=Xe.w_size){ht===0&&(ie(Xe.head),Xe.strstart=0,Xe.block_start=0,Xe.insert=0);let Nn=new Uint8Array(Xe.w_size);Nn.set(Me.subarray(J-Xe.w_size,J),0),Me=Nn,J=Xe.w_size}const ot=T.avail_in,er=T.next_in,$t=T.input;for(T.avail_in=J,T.next_in=0,T.input=Me,B(Xe);Xe.lookahead>=qn;){let Nn=Xe.strstart,Pt=Xe.lookahead-(qn-1);do Xe.ins_h=W(Xe,Xe.ins_h,Xe.window[Nn+qn-1]),Xe.prev[Nn&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Nn,Nn++;while(--Pt);Xe.strstart=Nn,Xe.lookahead=qn-1,B(Xe)}return Xe.strstart+=Xe.lookahead,Xe.block_start=Xe.strstart,Xe.insert=Xe.lookahead,Xe.lookahead=0,Xe.match_length=Xe.prev_length=qn-1,Xe.match_available=0,T.next_in=er,T.input=$t,T.avail_in=ot,Xe.wrap=ht,Wa};var Et=yt,tt=mt,Qt=Oe,lr=st,qt=vt,_t=nt,or=kt,at=Kt,dt="pako deflate (from Nodeca project)",It={deflateInit:Et,deflateInit2:tt,deflateReset:Qt,deflateResetKeep:lr,deflateSetHeader:qt,deflate:_t,deflateEnd:or,deflateSetDictionary:at,deflateInfo:dt};const Tt=(T,Me)=>Object.prototype.hasOwnProperty.call(T,Me);var cr=function(T){const Me=Array.prototype.slice.call(arguments,1);for(;Me.length;){const J=Me.shift();if(J){if(typeof J!="object")throw new TypeError(J+"must be non-object");for(const Xe in J)Tt(J,Xe)&&(T[Xe]=J[Xe])}}return T},fr=T=>{let Me=0;for(let Xe=0,ht=T.length;Xe<ht;Xe++)Me+=T[Xe].length;const J=new Uint8Array(Me);for(let Xe=0,ht=0,ot=T.length;Xe<ot;Xe++){let er=T[Xe];J.set(er,ht),ht+=er.length}return J},xr={assign:cr,flattenChunks:fr};let Jt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jt=!1}const gr=new Uint8Array(256);for(let T=0;T<256;T++)gr[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;gr[254]=gr[254]=1;var Zr=T=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(T);let Me,J,Xe,ht,ot,er=T.length,$t=0;for(ht=0;ht<er;ht++)J=T.charCodeAt(ht),(J&64512)===55296&&ht+1<er&&(Xe=T.charCodeAt(ht+1),(Xe&64512)===56320&&(J=65536+(J-55296<<10)+(Xe-56320),ht++)),$t+=J<128?1:J<2048?2:J<65536?3:4;for(Me=new Uint8Array($t),ot=0,ht=0;ot<$t;ht++)J=T.charCodeAt(ht),(J&64512)===55296&&ht+1<er&&(Xe=T.charCodeAt(ht+1),(Xe&64512)===56320&&(J=65536+(J-55296<<10)+(Xe-56320),ht++)),J<128?Me[ot++]=J:J<2048?(Me[ot++]=192|J>>>6,Me[ot++]=128|J&63):J<65536?(Me[ot++]=224|J>>>12,Me[ot++]=128|J>>>6&63,Me[ot++]=128|J&63):(Me[ot++]=240|J>>>18,Me[ot++]=128|J>>>12&63,Me[ot++]=128|J>>>6&63,Me[ot++]=128|J&63);return Me};const Hr=(T,Me)=>{if(Me<65534&&T.subarray&&Jt)return String.fromCharCode.apply(null,T.length===Me?T:T.subarray(0,Me));let J="";for(let Xe=0;Xe<Me;Xe++)J+=String.fromCharCode(T[Xe]);return J};var Ye=(T,Me)=>{const J=Me||T.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(T.subarray(0,Me));let Xe,ht;const ot=new Array(J*2);for(ht=0,Xe=0;Xe<J;){let er=T[Xe++];if(er<128){ot[ht++]=er;continue}let $t=gr[er];if($t>4){ot[ht++]=65533,Xe+=$t-1;continue}for(er&=$t===2?31:$t===3?15:7;$t>1&&Xe<J;)er=er<<6|T[Xe++]&63,$t--;if($t>1){ot[ht++]=65533;continue}er<65536?ot[ht++]=er:(er-=65536,ot[ht++]=55296|er>>10&1023,ot[ht++]=56320|er&1023)}return Hr(ot,ht)},xt=(T,Me)=>{Me=Me||T.length,Me>T.length&&(Me=T.length);let J=Me-1;for(;J>=0&&(T[J]&192)===128;)J--;return J<0||J===0?Me:J+gr[T[J]]>Me?J:Me},Nt={string2buf:Zr,buf2string:Ye,utf8border:xt};function Wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zt=Wt;const nr=Object.prototype.toString,{Z_NO_FLUSH:mr,Z_SYNC_FLUSH:vr,Z_FULL_FLUSH:Pr,Z_FINISH:Jr,Z_OK:Cn,Z_STREAM_END:Bn,Z_DEFAULT_COMPRESSION:ca,Z_DEFAULT_STRATEGY:ut,Z_DEFLATED:hn}=ei;function ma(T){this.options=xr.assign({level:ca,method:hn,chunkSize:16384,windowBits:15,memLevel:8,strategy:ut},T||{});let Me=this.options;Me.raw&&Me.windowBits>0?Me.windowBits=-Me.windowBits:Me.gzip&&Me.windowBits>0&&Me.windowBits<16&&(Me.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zt,this.strm.avail_out=0;let J=It.deflateInit2(this.strm,Me.level,Me.method,Me.windowBits,Me.memLevel,Me.strategy);if(J!==Cn)throw new Error(Ur[J]);if(Me.header&&It.deflateSetHeader(this.strm,Me.header),Me.dictionary){let Xe;if(typeof Me.dictionary=="string"?Xe=Nt.string2buf(Me.dictionary):nr.call(Me.dictionary)==="[object ArrayBuffer]"?Xe=new Uint8Array(Me.dictionary):Xe=Me.dictionary,J=It.deflateSetDictionary(this.strm,Xe),J!==Cn)throw new Error(Ur[J]);this._dict_set=!0}}ma.prototype.push=function(T,Me){const J=this.strm,Xe=this.options.chunkSize;let ht,ot;if(this.ended)return!1;for(Me===~~Me?ot=Me:ot=Me===!0?Jr:mr,typeof T=="string"?J.input=Nt.string2buf(T):nr.call(T)==="[object ArrayBuffer]"?J.input=new Uint8Array(T):J.input=T,J.next_in=0,J.avail_in=J.input.length;;){if(J.avail_out===0&&(J.output=new Uint8Array(Xe),J.next_out=0,J.avail_out=Xe),(ot===vr||ot===Pr)&&J.avail_out<=6){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(ht=It.deflate(J,ot),ht===Bn)return J.next_out>0&&this.onData(J.output.subarray(0,J.next_out)),ht=It.deflateEnd(this.strm),this.onEnd(ht),this.ended=!0,ht===Cn;if(J.avail_out===0){this.onData(J.output);continue}if(ot>0&&J.next_out>0){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(J.avail_in===0)break}return!0},ma.prototype.onData=function(T){this.chunks.push(T)},ma.prototype.onEnd=function(T){T===Cn&&(this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function un(T,Me){const J=new ma(Me);if(J.push(T,!0),J.err)throw J.msg||Ur[J.err];return J.result}function Qr(T,Me){return Me=Me||{},Me.raw=!0,un(T,Me)}function oa(T,Me){return Me=Me||{},Me.gzip=!0,un(T,Me)}var Mn=ma,Jn=un,Rn=Qr,fi=oa,La={Deflate:Mn,deflate:Jn,deflateRaw:Rn,gzip:fi};const Fn=16209,si=16191;var la=function(Me,J){let Xe,ht,ot,er,$t,Nn,Pt,ir,va,An,Mr,br,Ri,ba,ia,Na,Ya,an,Ea,es,ea,oi,ka,Qn;const da=Me.state;Xe=Me.next_in,ka=Me.input,ht=Xe+(Me.avail_in-5),ot=Me.next_out,Qn=Me.output,er=ot-(J-Me.avail_out),$t=ot+(Me.avail_out-257),Nn=da.dmax,Pt=da.wsize,ir=da.whave,va=da.wnext,An=da.window,Mr=da.hold,br=da.bits,Ri=da.lencode,ba=da.distcode,ia=(1<<da.lenbits)-1,Na=(1<<da.distbits)-1;e:do{br<15&&(Mr+=ka[Xe++]<<br,br+=8,Mr+=ka[Xe++]<<br,br+=8),Ya=Ri[Mr&ia];t:for(;;){if(an=Ya>>>24,Mr>>>=an,br-=an,an=Ya>>>16&255,an===0)Qn[ot++]=Ya&65535;else if(an&16){Ea=Ya&65535,an&=15,an&&(br<an&&(Mr+=ka[Xe++]<<br,br+=8),Ea+=Mr&(1<<an)-1,Mr>>>=an,br-=an),br<15&&(Mr+=ka[Xe++]<<br,br+=8,Mr+=ka[Xe++]<<br,br+=8),Ya=ba[Mr&Na];r:for(;;){if(an=Ya>>>24,Mr>>>=an,br-=an,an=Ya>>>16&255,an&16){if(es=Ya&65535,an&=15,br<an&&(Mr+=ka[Xe++]<<br,br+=8,br<an&&(Mr+=ka[Xe++]<<br,br+=8)),es+=Mr&(1<<an)-1,es>Nn){Me.msg="invalid distance too far back",da.mode=Fn;break e}if(Mr>>>=an,br-=an,an=ot-er,es>an){if(an=es-an,an>ir&&da.sane){Me.msg="invalid distance too far back",da.mode=Fn;break e}if(ea=0,oi=An,va===0){if(ea+=Pt-an,an<Ea){Ea-=an;do Qn[ot++]=An[ea++];while(--an);ea=ot-es,oi=Qn}}else if(va<an){if(ea+=Pt+va-an,an-=va,an<Ea){Ea-=an;do Qn[ot++]=An[ea++];while(--an);if(ea=0,va<Ea){an=va,Ea-=an;do Qn[ot++]=An[ea++];while(--an);ea=ot-es,oi=Qn}}}else if(ea+=va-an,an<Ea){Ea-=an;do Qn[ot++]=An[ea++];while(--an);ea=ot-es,oi=Qn}for(;Ea>2;)Qn[ot++]=oi[ea++],Qn[ot++]=oi[ea++],Qn[ot++]=oi[ea++],Ea-=3;Ea&&(Qn[ot++]=oi[ea++],Ea>1&&(Qn[ot++]=oi[ea++]))}else{ea=ot-es;do Qn[ot++]=Qn[ea++],Qn[ot++]=Qn[ea++],Qn[ot++]=Qn[ea++],Ea-=3;while(Ea>2);Ea&&(Qn[ot++]=Qn[ea++],Ea>1&&(Qn[ot++]=Qn[ea++]))}}else if((an&64)===0){Ya=ba[(Ya&65535)+(Mr&(1<<an)-1)];continue r}else{Me.msg="invalid distance code",da.mode=Fn;break e}break}}else if((an&64)===0){Ya=Ri[(Ya&65535)+(Mr&(1<<an)-1)];continue t}else if(an&32){da.mode=si;break e}else{Me.msg="invalid literal/length code",da.mode=Fn;break e}break}}while(Xe<ht&&ot<$t);Ea=br>>3,Xe-=Ea,br-=Ea<<3,Mr&=(1<<br)-1,Me.next_in=Xe,Me.next_out=ot,Me.avail_in=Xe<ht?5+(ht-Xe):5-(Xe-ht),Me.avail_out=ot<$t?257+($t-ot):257-(ot-$t),da.hold=Mr,da.bits=br};const _n=15,ua=852,On=592,wa=0,ci=1,Va=2,za=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ji=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ei=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var zn=(T,Me,J,Xe,ht,ot,er,$t)=>{const Nn=$t.bits;let Pt=0,ir=0,va=0,An=0,Mr=0,br=0,Ri=0,ba=0,ia=0,Na=0,Ya,an,Ea,es,ea,oi=null,ka;const Qn=new Uint16Array(_n+1),da=new Uint16Array(_n+1);let wo=null,ic,Do,lo;for(Pt=0;Pt<=_n;Pt++)Qn[Pt]=0;for(ir=0;ir<Xe;ir++)Qn[Me[J+ir]]++;for(Mr=Nn,An=_n;An>=1&&Qn[An]===0;An--);if(Mr>An&&(Mr=An),An===0)return ht[ot++]=1<<24|64<<16|0,ht[ot++]=1<<24|64<<16|0,$t.bits=1,0;for(va=1;va<An&&Qn[va]===0;va++);for(Mr<va&&(Mr=va),ba=1,Pt=1;Pt<=_n;Pt++)if(ba<<=1,ba-=Qn[Pt],ba<0)return-1;if(ba>0&&(T===wa||An!==1))return-1;for(da[1]=0,Pt=1;Pt<_n;Pt++)da[Pt+1]=da[Pt]+Qn[Pt];for(ir=0;ir<Xe;ir++)Me[J+ir]!==0&&(er[da[Me[J+ir]]++]=ir);if(T===wa?(oi=wo=er,ka=20):T===ci?(oi=za,wo=Ji,ka=257):(oi=Kn,wo=Ei,ka=0),Na=0,ir=0,Pt=va,ea=ot,br=Mr,Ri=0,Ea=-1,ia=1<<Mr,es=ia-1,T===ci&&ia>ua||T===Va&&ia>On)return 1;for(;;){ic=Pt-Ri,er[ir]+1<ka?(Do=0,lo=er[ir]):er[ir]>=ka?(Do=wo[er[ir]-ka],lo=oi[er[ir]-ka]):(Do=96,lo=0),Ya=1<<Pt-Ri,an=1<<br,va=an;do an-=Ya,ht[ea+(Na>>Ri)+an]=ic<<24|Do<<16|lo|0;while(an!==0);for(Ya=1<<Pt-1;Na&Ya;)Ya>>=1;if(Ya!==0?(Na&=Ya-1,Na+=Ya):Na=0,ir++,--Qn[Pt]===0){if(Pt===An)break;Pt=Me[J+er[ir]]}if(Pt>Mr&&(Na&es)!==Ea){for(Ri===0&&(Ri=Mr),ea+=va,br=Pt-Ri,ba=1<<br;br+Ri<An&&(ba-=Qn[br+Ri],!(ba<=0));)br++,ba<<=1;if(ia+=1<<br,T===ci&&ia>ua||T===Va&&ia>On)return 1;Ea=Na&es,ht[Ea]=Mr<<24|br<<16|ea-ot|0}}return Na!==0&&(ht[ea+Na]=Pt-Ri<<24|64<<16|0),$t.bits=Mr,0};const Ii=0,ja=1,En=2,{Z_FINISH:Xa,Z_BLOCK:eu,Z_TREES:Qs,Z_OK:xo,Z_STREAM_END:Cc,Z_NEED_DICT:Aa,Z_STREAM_ERROR:ys,Z_DATA_ERROR:yo,Z_MEM_ERROR:Bl,Z_BUF_ERROR:Ps,Z_DEFLATED:Pi}=ei,Es=16180,oo=16181,tu=16182,Xs=16183,tl=16184,Nc=16185,Zl=16186,Ys=16187,rl=16188,El=16189,$o=16190,Po=16191,Jl=16192,Il=16193,Sc=16194,ud=16195,Uc=16196,dd=16197,ru=16198,Vo=16199,nu=16200,bu=16201,Lu=16202,Tl=16203,Uu=16204,Hu=16205,ec=16206,Qu=16207,wu=16208,ya=16209,hd=16210,tc=16211,xi=852,Ad=592,Is=15,Bc=T=>(T>>>24&255)+(T>>>8&65280)+((T&65280)<<8)+((T&255)<<24);function au(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _l=T=>{if(!T)return 1;const Me=T.state;return!Me||Me.strm!==T||Me.mode<Es||Me.mode>tc?1:0},Wu=T=>{if(_l(T))return ys;const Me=T.state;return T.total_in=T.total_out=Me.total=0,T.msg="",Me.wrap&&(T.adler=Me.wrap&1),Me.mode=Es,Me.last=0,Me.havedict=0,Me.flags=-1,Me.dmax=32768,Me.head=null,Me.hold=0,Me.bits=0,Me.lencode=Me.lendyn=new Int32Array(xi),Me.distcode=Me.distdyn=new Int32Array(Ad),Me.sane=1,Me.back=-1,xo},zo=T=>{if(_l(T))return ys;const Me=T.state;return Me.wsize=0,Me.whave=0,Me.wnext=0,Wu(T)},fd=(T,Me)=>{let J;if(_l(T))return ys;const Xe=T.state;return Me<0?(J=0,Me=-Me):(J=(Me>>4)+5,Me<48&&(Me&=15)),Me&&(Me<8||Me>15)?ys:(Xe.window!==null&&Xe.wbits!==Me&&(Xe.window=null),Xe.wrap=J,Xe.wbits=Me,zo(T))},ju=(T,Me)=>{if(!T)return ys;const J=new au;T.state=J,J.strm=T,J.window=null,J.mode=Es;const Xe=fd(T,Me);return Xe!==xo&&(T.state=null),Xe},pd=T=>ju(T,Is);let iu=!0,Cu,Nu;const Su=T=>{if(iu){Cu=new Int32Array(512),Nu=new Int32Array(32);let Me=0;for(;Me<144;)T.lens[Me++]=8;for(;Me<256;)T.lens[Me++]=9;for(;Me<280;)T.lens[Me++]=7;for(;Me<288;)T.lens[Me++]=8;for(zn(ja,T.lens,0,288,Cu,0,T.work,{bits:9}),Me=0;Me<32;)T.lens[Me++]=5;zn(En,T.lens,0,32,Nu,0,T.work,{bits:5}),iu=!1}T.lencode=Cu,T.lenbits=9,T.distcode=Nu,T.distbits=5},Bu=(T,Me,J,Xe)=>{let ht;const ot=T.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new Uint8Array(ot.wsize)),Xe>=ot.wsize?(ot.window.set(Me.subarray(J-ot.wsize,J),0),ot.wnext=0,ot.whave=ot.wsize):(ht=ot.wsize-ot.wnext,ht>Xe&&(ht=Xe),ot.window.set(Me.subarray(J-Xe,J-Xe+ht),ot.wnext),Xe-=ht,Xe?(ot.window.set(Me.subarray(J-Xe,J),0),ot.wnext=Xe,ot.whave=ot.wsize):(ot.wnext+=ht,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=ht))),0},md=(T,Me)=>{let J,Xe,ht,ot,er,$t,Nn,Pt,ir,va,An,Mr,br,Ri,ba=0,ia,Na,Ya,an,Ea,es,ea,oi;const ka=new Uint8Array(4);let Qn,da;const wo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_l(T)||!T.output||!T.input&&T.avail_in!==0)return ys;J=T.state,J.mode===Po&&(J.mode=Jl),er=T.next_out,ht=T.output,Nn=T.avail_out,ot=T.next_in,Xe=T.input,$t=T.avail_in,Pt=J.hold,ir=J.bits,va=$t,An=Nn,oi=xo;e:for(;;)switch(J.mode){case Es:if(J.wrap===0){J.mode=Jl;break}for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.wrap&2&&Pt===35615){J.wbits===0&&(J.wbits=15),J.check=0,ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0),Pt=0,ir=0,J.mode=oo;break}if(J.head&&(J.head.done=!1),!(J.wrap&1)||(((Pt&255)<<8)+(Pt>>8))%31){T.msg="incorrect header check",J.mode=ya;break}if((Pt&15)!==Pi){T.msg="unknown compression method",J.mode=ya;break}if(Pt>>>=4,ir-=4,ea=(Pt&15)+8,J.wbits===0&&(J.wbits=ea),ea>15||ea>J.wbits){T.msg="invalid window size",J.mode=ya;break}J.dmax=1<<J.wbits,J.flags=0,T.adler=J.check=1,J.mode=Pt&512?El:Po,Pt=0,ir=0;break;case oo:for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.flags=Pt,(J.flags&255)!==Pi){T.msg="unknown compression method",J.mode=ya;break}if(J.flags&57344){T.msg="unknown header flags set",J.mode=ya;break}J.head&&(J.head.text=Pt>>8&1),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0)),Pt=0,ir=0,J.mode=tu;case tu:for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.head&&(J.head.time=Pt),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,ka[2]=Pt>>>16&255,ka[3]=Pt>>>24&255,J.check=Un(J.check,ka,4,0)),Pt=0,ir=0,J.mode=Xs;case Xs:for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.head&&(J.head.xflags=Pt&255,J.head.os=Pt>>8),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0)),Pt=0,ir=0,J.mode=tl;case tl:if(J.flags&1024){for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.length=Pt,J.head&&(J.head.extra_len=Pt),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0)),Pt=0,ir=0}else J.head&&(J.head.extra=null);J.mode=Nc;case Nc:if(J.flags&1024&&(Mr=J.length,Mr>$t&&(Mr=$t),Mr&&(J.head&&(ea=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Uint8Array(J.head.extra_len)),J.head.extra.set(Xe.subarray(ot,ot+Mr),ea)),J.flags&512&&J.wrap&4&&(J.check=Un(J.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,J.length-=Mr),J.length))break e;J.length=0,J.mode=Zl;case Zl:if(J.flags&2048){if($t===0)break e;Mr=0;do ea=Xe[ot+Mr++],J.head&&ea&&J.length<65536&&(J.head.name+=String.fromCharCode(ea));while(ea&&Mr<$t);if(J.flags&512&&J.wrap&4&&(J.check=Un(J.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,ea)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=Ys;case Ys:if(J.flags&4096){if($t===0)break e;Mr=0;do ea=Xe[ot+Mr++],J.head&&ea&&J.length<65536&&(J.head.comment+=String.fromCharCode(ea));while(ea&&Mr<$t);if(J.flags&512&&J.wrap&4&&(J.check=Un(J.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,ea)break e}else J.head&&(J.head.comment=null);J.mode=rl;case rl:if(J.flags&512){for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.wrap&4&&Pt!==(J.check&65535)){T.msg="header crc mismatch",J.mode=ya;break}Pt=0,ir=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),T.adler=J.check=0,J.mode=Po;break;case El:for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}T.adler=J.check=Bc(Pt),Pt=0,ir=0,J.mode=$o;case $o:if(J.havedict===0)return T.next_out=er,T.avail_out=Nn,T.next_in=ot,T.avail_in=$t,J.hold=Pt,J.bits=ir,Aa;T.adler=J.check=1,J.mode=Po;case Po:if(Me===eu||Me===Qs)break e;case Jl:if(J.last){Pt>>>=ir&7,ir-=ir&7,J.mode=ec;break}for(;ir<3;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}switch(J.last=Pt&1,Pt>>>=1,ir-=1,Pt&3){case 0:J.mode=Il;break;case 1:if(Su(J),J.mode=Vo,Me===Qs){Pt>>>=2,ir-=2;break e}break;case 2:J.mode=Uc;break;case 3:T.msg="invalid block type",J.mode=ya}Pt>>>=2,ir-=2;break;case Il:for(Pt>>>=ir&7,ir-=ir&7;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if((Pt&65535)!==(Pt>>>16^65535)){T.msg="invalid stored block lengths",J.mode=ya;break}if(J.length=Pt&65535,Pt=0,ir=0,J.mode=Sc,Me===Qs)break e;case Sc:J.mode=ud;case ud:if(Mr=J.length,Mr){if(Mr>$t&&(Mr=$t),Mr>Nn&&(Mr=Nn),Mr===0)break e;ht.set(Xe.subarray(ot,ot+Mr),er),$t-=Mr,ot+=Mr,Nn-=Mr,er+=Mr,J.length-=Mr;break}J.mode=Po;break;case Uc:for(;ir<14;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.nlen=(Pt&31)+257,Pt>>>=5,ir-=5,J.ndist=(Pt&31)+1,Pt>>>=5,ir-=5,J.ncode=(Pt&15)+4,Pt>>>=4,ir-=4,J.nlen>286||J.ndist>30){T.msg="too many length or distance symbols",J.mode=ya;break}J.have=0,J.mode=dd;case dd:for(;J.have<J.ncode;){for(;ir<3;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.lens[wo[J.have++]]=Pt&7,Pt>>>=3,ir-=3}for(;J.have<19;)J.lens[wo[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,Qn={bits:J.lenbits},oi=zn(Ii,J.lens,0,19,J.lencode,0,J.work,Qn),J.lenbits=Qn.bits,oi){T.msg="invalid code lengths set",J.mode=ya;break}J.have=0,J.mode=ru;case ru:for(;J.have<J.nlen+J.ndist;){for(;ba=J.lencode[Pt&(1<<J.lenbits)-1],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Ya<16)Pt>>>=ia,ir-=ia,J.lens[J.have++]=Ya;else{if(Ya===16){for(da=ia+2;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Pt>>>=ia,ir-=ia,J.have===0){T.msg="invalid bit length repeat",J.mode=ya;break}ea=J.lens[J.have-1],Mr=3+(Pt&3),Pt>>>=2,ir-=2}else if(Ya===17){for(da=ia+3;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=ia,ir-=ia,ea=0,Mr=3+(Pt&7),Pt>>>=3,ir-=3}else{for(da=ia+7;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=ia,ir-=ia,ea=0,Mr=11+(Pt&127),Pt>>>=7,ir-=7}if(J.have+Mr>J.nlen+J.ndist){T.msg="invalid bit length repeat",J.mode=ya;break}for(;Mr--;)J.lens[J.have++]=ea}}if(J.mode===ya)break;if(J.lens[256]===0){T.msg="invalid code -- missing end-of-block",J.mode=ya;break}if(J.lenbits=9,Qn={bits:J.lenbits},oi=zn(ja,J.lens,0,J.nlen,J.lencode,0,J.work,Qn),J.lenbits=Qn.bits,oi){T.msg="invalid literal/lengths set",J.mode=ya;break}if(J.distbits=6,J.distcode=J.distdyn,Qn={bits:J.distbits},oi=zn(En,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,Qn),J.distbits=Qn.bits,oi){T.msg="invalid distances set",J.mode=ya;break}if(J.mode=Vo,Me===Qs)break e;case Vo:J.mode=nu;case nu:if($t>=6&&Nn>=258){T.next_out=er,T.avail_out=Nn,T.next_in=ot,T.avail_in=$t,J.hold=Pt,J.bits=ir,la(T,An),er=T.next_out,ht=T.output,Nn=T.avail_out,ot=T.next_in,Xe=T.input,$t=T.avail_in,Pt=J.hold,ir=J.bits,J.mode===Po&&(J.back=-1);break}for(J.back=0;ba=J.lencode[Pt&(1<<J.lenbits)-1],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Na&&(Na&240)===0){for(an=ia,Ea=Na,es=Ya;ba=J.lencode[es+((Pt&(1<<an+Ea)-1)>>an)],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(an+ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=an,ir-=an,J.back+=an}if(Pt>>>=ia,ir-=ia,J.back+=ia,J.length=Ya,Na===0){J.mode=Hu;break}if(Na&32){J.back=-1,J.mode=Po;break}if(Na&64){T.msg="invalid literal/length code",J.mode=ya;break}J.extra=Na&15,J.mode=bu;case bu:if(J.extra){for(da=J.extra;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.length+=Pt&(1<<J.extra)-1,Pt>>>=J.extra,ir-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=Lu;case Lu:for(;ba=J.distcode[Pt&(1<<J.distbits)-1],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if((Na&240)===0){for(an=ia,Ea=Na,es=Ya;ba=J.distcode[es+((Pt&(1<<an+Ea)-1)>>an)],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(an+ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=an,ir-=an,J.back+=an}if(Pt>>>=ia,ir-=ia,J.back+=ia,Na&64){T.msg="invalid distance code",J.mode=ya;break}J.offset=Ya,J.extra=Na&15,J.mode=Tl;case Tl:if(J.extra){for(da=J.extra;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.offset+=Pt&(1<<J.extra)-1,Pt>>>=J.extra,ir-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){T.msg="invalid distance too far back",J.mode=ya;break}J.mode=Uu;case Uu:if(Nn===0)break e;if(Mr=An-Nn,J.offset>Mr){if(Mr=J.offset-Mr,Mr>J.whave&&J.sane){T.msg="invalid distance too far back",J.mode=ya;break}Mr>J.wnext?(Mr-=J.wnext,br=J.wsize-Mr):br=J.wnext-Mr,Mr>J.length&&(Mr=J.length),Ri=J.window}else Ri=ht,br=er-J.offset,Mr=J.length;Mr>Nn&&(Mr=Nn),Nn-=Mr,J.length-=Mr;do ht[er++]=Ri[br++];while(--Mr);J.length===0&&(J.mode=nu);break;case Hu:if(Nn===0)break e;ht[er++]=J.length,Nn--,J.mode=nu;break;case ec:if(J.wrap){for(;ir<32;){if($t===0)break e;$t--,Pt|=Xe[ot++]<<ir,ir+=8}if(An-=Nn,T.total_out+=An,J.total+=An,J.wrap&4&&An&&(T.adler=J.check=J.flags?Un(J.check,ht,An,er-An):Sr(J.check,ht,An,er-An)),An=Nn,J.wrap&4&&(J.flags?Pt:Bc(Pt))!==J.check){T.msg="incorrect data check",J.mode=ya;break}Pt=0,ir=0}J.mode=Qu;case Qu:if(J.wrap&&J.flags){for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.wrap&4&&Pt!==(J.total&4294967295)){T.msg="incorrect length check",J.mode=ya;break}Pt=0,ir=0}J.mode=wu;case wu:oi=Cc;break e;case ya:oi=yo;break e;case hd:return Bl;case tc:default:return ys}return T.next_out=er,T.avail_out=Nn,T.next_in=ot,T.avail_in=$t,J.hold=Pt,J.bits=ir,(J.wsize||An!==T.avail_out&&J.mode<ya&&(J.mode<ec||Me!==Xa))&&Bu(T,T.output,T.next_out,An-T.avail_out),va-=T.avail_in,An-=T.avail_out,T.total_in+=va,T.total_out+=An,J.total+=An,J.wrap&4&&An&&(T.adler=J.check=J.flags?Un(J.check,ht,An,T.next_out-An):Sr(J.check,ht,An,T.next_out-An)),T.data_type=J.bits+(J.last?64:0)+(J.mode===Po?128:0)+(J.mode===Vo||J.mode===Sc?256:0),(va===0&&An===0||Me===Xa)&&oi===xo&&(oi=Ps),oi},Ol=T=>{if(_l(T))return ys;let Me=T.state;return Me.window&&(Me.window=null),T.state=null,xo},Mh=(T,Me)=>{if(_l(T))return ys;const J=T.state;return(J.wrap&2)===0?ys:(J.head=Me,Me.done=!1,xo)},Eu=(T,Me)=>{const J=Me.length;let Xe,ht,ot;return _l(T)||(Xe=T.state,Xe.wrap!==0&&Xe.mode!==$o)?ys:Xe.mode===$o&&(ht=1,ht=Sr(ht,Me,J,0),ht!==Xe.check)?yo:(ot=Bu(T,Me,J,J),ot?(Xe.mode=hd,Bl):(Xe.havedict=1,xo))};var Wd=zo,Rh=fd,Ca=Wu,Hc=pd,hh=ju,Ec=md,bo=Ol,kl=Mh,rc=Eu,$d="pako inflate (from Nodeca project)",pl={inflateReset:Wd,inflateReset2:Rh,inflateResetKeep:Ca,inflateInit:Hc,inflateInit2:hh,inflate:Ec,inflateEnd:bo,inflateGetHeader:kl,inflateSetDictionary:rc,inflateInfo:$d};function $u(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ko=$u;const Iu=Object.prototype.toString,{Z_NO_FLUSH:ml,Z_FINISH:gd,Z_OK:Ic,Z_STREAM_END:nc,Z_NEED_DICT:Pl,Z_STREAM_ERROR:ui,Z_DATA_ERROR:Ti,Z_MEM_ERROR:Fl}=ei;function bs(T){this.options=xr.assign({chunkSize:65536,windowBits:15,to:""},T||{});const Me=this.options;Me.raw&&Me.windowBits>=0&&Me.windowBits<16&&(Me.windowBits=-Me.windowBits,Me.windowBits===0&&(Me.windowBits=-15)),Me.windowBits>=0&&Me.windowBits<16&&!(T&&T.windowBits)&&(Me.windowBits+=32),Me.windowBits>15&&Me.windowBits<48&&(Me.windowBits&15)===0&&(Me.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zt,this.strm.avail_out=0;let J=pl.inflateInit2(this.strm,Me.windowBits);if(J!==Ic)throw new Error(Ur[J]);if(this.header=new Ko,pl.inflateGetHeader(this.strm,this.header),Me.dictionary&&(typeof Me.dictionary=="string"?Me.dictionary=Nt.string2buf(Me.dictionary):Iu.call(Me.dictionary)==="[object ArrayBuffer]"&&(Me.dictionary=new Uint8Array(Me.dictionary)),Me.raw&&(J=pl.inflateSetDictionary(this.strm,Me.dictionary),J!==Ic)))throw new Error(Ur[J])}bs.prototype.push=function(T,Me){const J=this.strm,Xe=this.options.chunkSize,ht=this.options.dictionary;let ot,er,$t;if(this.ended)return!1;for(Me===~~Me?er=Me:er=Me===!0?gd:ml,Iu.call(T)==="[object ArrayBuffer]"?J.input=new Uint8Array(T):J.input=T,J.next_in=0,J.avail_in=J.input.length;;){for(J.avail_out===0&&(J.output=new Uint8Array(Xe),J.next_out=0,J.avail_out=Xe),ot=pl.inflate(J,er),ot===Pl&&ht&&(ot=pl.inflateSetDictionary(J,ht),ot===Ic?ot=pl.inflate(J,er):ot===Ti&&(ot=Pl));J.avail_in>0&&ot===nc&&J.state.wrap>0&&T[J.next_in]!==0;)pl.inflateReset(J),ot=pl.inflate(J,er);switch(ot){case ui:case Ti:case Pl:case Fl:return this.onEnd(ot),this.ended=!0,!1}if($t=J.avail_out,J.next_out&&(J.avail_out===0||ot===nc))if(this.options.to==="string"){let Nn=Nt.utf8border(J.output,J.next_out),Pt=J.next_out-Nn,ir=Nt.buf2string(J.output,Nn);J.next_out=Pt,J.avail_out=Xe-Pt,Pt&&J.output.set(J.output.subarray(Nn,Nn+Pt),0),this.onData(ir)}else this.onData(J.output.length===J.next_out?J.output:J.output.subarray(0,J.next_out));if(!(ot===Ic&&$t===0)){if(ot===nc)return ot=pl.inflateEnd(this.strm),this.onEnd(ot),this.ended=!0,!0;if(J.avail_in===0)break}}return!0},bs.prototype.onData=function(T){this.chunks.push(T)},bs.prototype.onEnd=function(T){T===Ic&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function Fs(T,Me){const J=new bs(Me);if(J.push(T),J.err)throw J.msg||Ur[J.err];return J.result}function Tc(T,Me){return Me=Me||{},Me.raw=!0,Fs(T,Me)}var su=bs,Fo=Fs,ac=Tc,Qc=Fs,Vd={Inflate:su,inflate:Fo,inflateRaw:ac,ungzip:Qc};const{Deflate:Wc,deflate:zd,deflateRaw:de,gzip:Ue}=La,{Inflate:gt,inflate:Ot,inflateRaw:Gt,ungzip:yr}=Vd;var Fr=Wc,In=zd,Hn=de,fa=Ue,aa=gt,Oa=Ot,Fi=Gt,Mi=yr,hi=ei,cs={Deflate:Fr,deflate:In,deflateRaw:Hn,gzip:fa,Inflate:aa,inflate:Oa,inflateRaw:Fi,ungzip:Mi,constants:hi}}),"./node_modules/performance-now/lib/performance-now.js":(function(l){(function(){var u,o,d,h,A,f;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(u()-A)/1e6},o=process.hrtime,u=function(){var g;return g=o(),g[0]*1e9+g[1]},h=u(),f=process.uptime()*1e9,A=h-f):Date.now?(l.exports=function(){return Date.now()-d},d=Date.now()):(l.exports=function(){return new Date().getTime()-d},d=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(l,u,o){for(var d=o("./node_modules/performance-now/lib/performance-now.js"),h=typeof window>"u"?iA:window,A=["moz","webkit"],f="AnimationFrame",g=h["request"+f],m=h["cancel"+f]||h["cancelRequest"+f],x=0;!g&&x<A.length;x++)g=h[A[x]+"Request"+f],m=h[A[x]+"Cancel"+f]||h[A[x]+"CancelRequest"+f];if(!g||!m){var y=0,b=0,w=[],N=1e3/60;g=function(S){if(w.length===0){var j=d(),_=Math.max(0,N-(j-y));y=_+j,setTimeout(function(){var k=w.slice(0);w.length=0;for(var Z=0;Z<k.length;Z++)if(!k[Z].cancelled)try{k[Z].callback(y)}catch(ee){setTimeout(function(){throw ee},0)}},Math.round(_))}return w.push({handle:++b,callback:S,cancelled:!1}),b},m=function(S){for(var j=0;j<w.length;j++)w[j].handle===S&&(w[j].cancelled=!0)}}l.exports=function(S){return g.call(h,S)},l.exports.cancel=function(){m.apply(h,arguments)},l.exports.polyfill=function(S){S||(S=h),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}}),"./node_modules/rgbcolor/index.js":(function(l){l.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=o[u]||u;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],h=0;h<d.length;h++){var A=d[h].re,f=d[h].process,g=A.exec(u);if(g){var m=f(g);this.r=m[0],this.g=m[1],this.b=m[2],m.length>3&&(this.alpha=m[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+x+y+b},this.getHelpXML=function(){for(var x=new Array,y=0;y<d.length;y++)for(var b=d[y].example,w=0;w<b.length;w++)x[x.length]=b[w];for(var N in o)x[x.length]=N;var S=document.createElement("ul");S.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var j=document.createElement("li"),_=new RGBColor(x[y]),k=document.createElement("div");k.style.cssText="margin: 3px; border: 1px solid black; background:"+_.toHex()+"; color:"+_.toHex(),k.appendChild(document.createTextNode("test"));var Z=document.createTextNode(" "+x[y]+" -> "+_.toRGB()+" -> "+_.toHex());j.appendChild(k),j.appendChild(Z),S.appendChild(j)}catch{}return S}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(l,u,o){o.r(u),o.d(u,{BlurStack:function(){return N},canvasRGB:function(){return b},canvasRGBA:function(){return x},image:function(){return g},imageDataRGB:function(){return w},imageDataRGBA:function(){return y}});function d(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(j){return typeof j}:d=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},d(S)}function h(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],f=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(S,j,_,k,Z,ee){if(typeof S=="string"&&(S=document.getElementById(S)),!(!S||Object.prototype.toString.call(S).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in S))){var V=Z?"offset":"natural",re=S[V+"Width"],R=S[V+"Height"];if(Object.prototype.toString.call(S).slice(8,-1)==="ImageBitmap"&&(re=S.width,R=S.height),typeof j=="string"&&(j=document.getElementById(j)),!(!j||!("getContext"in j))){ee||(j.style.width=re+"px",j.style.height=R+"px"),j.width=re,j.height=R;var Y=j.getContext("2d");Y.clearRect(0,0,re,R),Y.drawImage(S,0,0,S.naturalWidth,S.naturalHeight,0,0,re,R),!(isNaN(_)||_<1)&&(k?x(j,0,0,re,R,_):b(j,0,0,re,R,_))}}}function m(S,j,_,k,Z){if(typeof S=="string"&&(S=document.getElementById(S)),!S||d(S)!=="object"||!("getContext"in S))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ee=S.getContext("2d");try{return ee.getImageData(j,_,k,Z)}catch(V){throw new Error("unable to access image data: "+V)}}function x(S,j,_,k,Z,ee){if(!(isNaN(ee)||ee<1)){ee|=0;var V=m(S,j,_,k,Z);V=y(V,j,_,k,Z,ee),S.getContext("2d").putImageData(V,j,_)}}function y(S,j,_,k,Z,ee){for(var V=S.data,re=2*ee+1,R=k-1,Y=Z-1,L=ee+1,$=L*(L+1)/2,je=new N,ge=je,Ie,_e=1;_e<re;_e++)ge=ge.next=new N,_e===L&&(Ie=ge);ge.next=je;for(var fe=null,le=null,ve=0,se=0,he=A[ee],Ne=f[ee],Pe=0;Pe<Z;Pe++){ge=je;for(var ye=V[se],ce=V[se+1],q=V[se+2],pe=V[se+3],oe=0;oe<L;oe++)ge.r=ye,ge.g=ce,ge.b=q,ge.a=pe,ge=ge.next;for(var We=0,Re=0,Ee=0,ae=0,Le=L*ye,Ze=L*ce,jt=L*q,Lt=L*pe,Ct=$*ye,Xt=$*ce,_r=$*q,Or=$*pe,He=1;He<L;He++){var Zt=se+((R<He?R:He)<<2),Bt=V[Zt],$r=V[Zt+1],pr=V[Zt+2],on=V[Zt+3],Yr=L-He;Ct+=(ge.r=Bt)*Yr,Xt+=(ge.g=$r)*Yr,_r+=(ge.b=pr)*Yr,Or+=(ge.a=on)*Yr,We+=Bt,Re+=$r,Ee+=pr,ae+=on,ge=ge.next}fe=je,le=Ie;for(var qr=0;qr<k;qr++){var Ir=Or*he>>>Ne;if(V[se+3]=Ir,Ir!==0){var dr=255/Ir;V[se]=(Ct*he>>>Ne)*dr,V[se+1]=(Xt*he>>>Ne)*dr,V[se+2]=(_r*he>>>Ne)*dr}else V[se]=V[se+1]=V[se+2]=0;Ct-=Le,Xt-=Ze,_r-=jt,Or-=Lt,Le-=fe.r,Ze-=fe.g,jt-=fe.b,Lt-=fe.a;var Cr=qr+ee+1;Cr=ve+(Cr<R?Cr:R)<<2,We+=fe.r=V[Cr],Re+=fe.g=V[Cr+1],Ee+=fe.b=V[Cr+2],ae+=fe.a=V[Cr+3],Ct+=We,Xt+=Re,_r+=Ee,Or+=ae,fe=fe.next;var Vr=le,zr=Vr.r,gn=Vr.g,Wr=Vr.b,$n=Vr.a;Le+=zr,Ze+=gn,jt+=Wr,Lt+=$n,We-=zr,Re-=gn,Ee-=Wr,ae-=$n,le=le.next,se+=4}ve+=k}for(var Lr=0;Lr<k;Lr++){se=Lr<<2;var Dr=V[se],wn=V[se+1],cn=V[se+2],bt=V[se+3],Sr=L*Dr,dn=L*wn,Dn=L*cn,Xr=L*bt,Un=$*Dr,Ur=$*wn,ei=$*cn,os=$*bt;ge=je;for(var jn=0;jn<L;jn++)ge.r=Dr,ge.g=wn,ge.b=cn,ge.a=bt,ge=ge.next;for(var Ss=k,ji=0,vi=0,Ui=0,Bi=0,Bs=1;Bs<=ee;Bs++){se=Ss+Lr<<2;var ri=L-Bs;Un+=(ge.r=Dr=V[se])*ri,Ur+=(ge.g=wn=V[se+1])*ri,ei+=(ge.b=cn=V[se+2])*ri,os+=(ge.a=bt=V[se+3])*ri,Bi+=Dr,ji+=wn,vi+=cn,Ui+=bt,ge=ge.next,Bs<Y&&(Ss+=k)}se=Lr,fe=je,le=Ie;for(var Ks=0;Ks<Z;Ks++){var Wa=se<<2;V[Wa+3]=bt=os*he>>>Ne,bt>0?(bt=255/bt,V[Wa]=(Un*he>>>Ne)*bt,V[Wa+1]=(Ur*he>>>Ne)*bt,V[Wa+2]=(ei*he>>>Ne)*bt):V[Wa]=V[Wa+1]=V[Wa+2]=0,Un-=Sr,Ur-=dn,ei-=Dn,os-=Xr,Sr-=fe.r,dn-=fe.g,Dn-=fe.b,Xr-=fe.a,Wa=Lr+((Wa=Ks+L)<Y?Wa:Y)*k<<2,Un+=Bi+=fe.r=V[Wa],Ur+=ji+=fe.g=V[Wa+1],ei+=vi+=fe.b=V[Wa+2],os+=Ui+=fe.a=V[Wa+3],fe=fe.next,Sr+=Dr=le.r,dn+=wn=le.g,Dn+=cn=le.b,Xr+=bt=le.a,Bi-=Dr,ji-=wn,vi-=cn,Ui-=bt,le=le.next,se+=k}}return S}function b(S,j,_,k,Z,ee){if(!(isNaN(ee)||ee<1)){ee|=0;var V=m(S,j,_,k,Z);V=w(V,j,_,k,Z,ee),S.getContext("2d").putImageData(V,j,_)}}function w(S,j,_,k,Z,ee){for(var V=S.data,re=2*ee+1,R=k-1,Y=Z-1,L=ee+1,$=L*(L+1)/2,je=new N,ge=je,Ie,_e=1;_e<re;_e++)ge=ge.next=new N,_e===L&&(Ie=ge);ge.next=je;for(var fe=null,le=null,ve=A[ee],se=f[ee],he,Ne,Pe=0,ye=0,ce=0;ce<Z;ce++){var q=V[ye],pe=V[ye+1],oe=V[ye+2],We=L*q,Re=L*pe,Ee=L*oe,ae=$*q,Le=$*pe,Ze=$*oe;ge=je;for(var jt=0;jt<L;jt++)ge.r=q,ge.g=pe,ge.b=oe,ge=ge.next;for(var Lt=0,Ct=0,Xt=0,_r=1;_r<L;_r++)he=ye+((R<_r?R:_r)<<2),ae+=(ge.r=q=V[he])*(Ne=L-_r),Le+=(ge.g=pe=V[he+1])*Ne,Ze+=(ge.b=oe=V[he+2])*Ne,Lt+=q,Ct+=pe,Xt+=oe,ge=ge.next;fe=je,le=Ie;for(var Or=0;Or<k;Or++)V[ye]=ae*ve>>>se,V[ye+1]=Le*ve>>>se,V[ye+2]=Ze*ve>>>se,ae-=We,Le-=Re,Ze-=Ee,We-=fe.r,Re-=fe.g,Ee-=fe.b,he=Pe+((he=Or+ee+1)<R?he:R)<<2,Lt+=fe.r=V[he],Ct+=fe.g=V[he+1],Xt+=fe.b=V[he+2],ae+=Lt,Le+=Ct,Ze+=Xt,fe=fe.next,We+=q=le.r,Re+=pe=le.g,Ee+=oe=le.b,Lt-=q,Ct-=pe,Xt-=oe,le=le.next,ye+=4;Pe+=k}for(var He=0;He<k;He++){ye=He<<2;var Zt=V[ye],Bt=V[ye+1],$r=V[ye+2],pr=L*Zt,on=L*Bt,Yr=L*$r,qr=$*Zt,Ir=$*Bt,dr=$*$r;ge=je;for(var Cr=0;Cr<L;Cr++)ge.r=Zt,ge.g=Bt,ge.b=$r,ge=ge.next;for(var Vr=0,zr=0,gn=0,Wr=1,$n=k;Wr<=ee;Wr++)ye=$n+He<<2,qr+=(ge.r=Zt=V[ye])*(Ne=L-Wr),Ir+=(ge.g=Bt=V[ye+1])*Ne,dr+=(ge.b=$r=V[ye+2])*Ne,Vr+=Zt,zr+=Bt,gn+=$r,ge=ge.next,Wr<Y&&($n+=k);ye=He,fe=je,le=Ie;for(var Lr=0;Lr<Z;Lr++)he=ye<<2,V[he]=qr*ve>>>se,V[he+1]=Ir*ve>>>se,V[he+2]=dr*ve>>>se,qr-=pr,Ir-=on,dr-=Yr,pr-=fe.r,on-=fe.g,Yr-=fe.b,he=He+((he=Lr+L)<Y?he:Y)*k<<2,qr+=Vr+=fe.r=V[he],Ir+=zr+=fe.g=V[he+1],dr+=gn+=fe.b=V[he+2],fe=fe.next,pr+=Zt=le.r,on+=Bt=le.g,Yr+=$r=le.b,Vr-=Zt,zr-=Bt,gn-=$r,le=le.next,ye+=k}return S}var N=function S(){h(this,S),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(l,u,o){o.r(u),o.d(u,{COMMAND_ARG_COUNTS:function(){return Y},SVGPathData:function(){return R},SVGPathDataParser:function(){return re},SVGPathDataTransformer:function(){return b},encodeSVGPath:function(){return A}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var d=function(L,$){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(je,ge){je.__proto__=ge}||function(je,ge){for(var Ie in ge)Object.prototype.hasOwnProperty.call(ge,Ie)&&(je[Ie]=ge[Ie])})(L,$)};function h(L,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function je(){this.constructor=L}d(L,$),L.prototype=$===null?Object.create($):(je.prototype=$.prototype,new je)}function A(L){var $="";Array.isArray(L)||(L=[L]);for(var je=0;je<L.length;je++){var ge=L[je];if(ge.type===R.CLOSE_PATH)$+="z";else if(ge.type===R.HORIZ_LINE_TO)$+=(ge.relative?"h":"H")+ge.x;else if(ge.type===R.VERT_LINE_TO)$+=(ge.relative?"v":"V")+ge.y;else if(ge.type===R.MOVE_TO)$+=(ge.relative?"m":"M")+ge.x+" "+ge.y;else if(ge.type===R.LINE_TO)$+=(ge.relative?"l":"L")+ge.x+" "+ge.y;else if(ge.type===R.CURVE_TO)$+=(ge.relative?"c":"C")+ge.x1+" "+ge.y1+" "+ge.x2+" "+ge.y2+" "+ge.x+" "+ge.y;else if(ge.type===R.SMOOTH_CURVE_TO)$+=(ge.relative?"s":"S")+ge.x2+" "+ge.y2+" "+ge.x+" "+ge.y;else if(ge.type===R.QUAD_TO)$+=(ge.relative?"q":"Q")+ge.x1+" "+ge.y1+" "+ge.x+" "+ge.y;else if(ge.type===R.SMOOTH_QUAD_TO)$+=(ge.relative?"t":"T")+ge.x+" "+ge.y;else{if(ge.type!==R.ARC)throw new Error('Unexpected command type "'+ge.type+'" at index '+je+".");$+=(ge.relative?"a":"A")+ge.rX+" "+ge.rY+" "+ge.xRot+" "+ +ge.lArcFlag+" "+ +ge.sweepFlag+" "+ge.x+" "+ge.y}}return $}function f(L,$){var je=L[0],ge=L[1];return[je*Math.cos($)-ge*Math.sin($),je*Math.sin($)+ge*Math.cos($)]}function g(){for(var L=[],$=0;$<arguments.length;$++)L[$]=arguments[$];for(var je=0;je<L.length;je++)if(typeof L[je]!="number")throw new Error("assertNumbers arguments["+je+"] is not a number. "+typeof L[je]+" == typeof "+L[je]);return!0}var m=Math.PI;function x(L,$,je){L.lArcFlag=L.lArcFlag===0?0:1,L.sweepFlag=L.sweepFlag===0?0:1;var ge=L.rX,Ie=L.rY,_e=L.x,fe=L.y;ge=Math.abs(L.rX),Ie=Math.abs(L.rY);var le=f([($-_e)/2,(je-fe)/2],-L.xRot/180*m),ve=le[0],se=le[1],he=Math.pow(ve,2)/Math.pow(ge,2)+Math.pow(se,2)/Math.pow(Ie,2);1<he&&(ge*=Math.sqrt(he),Ie*=Math.sqrt(he)),L.rX=ge,L.rY=Ie;var Ne=Math.pow(ge,2)*Math.pow(se,2)+Math.pow(Ie,2)*Math.pow(ve,2),Pe=(L.lArcFlag!==L.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(ge,2)*Math.pow(Ie,2)-Ne)/Ne)),ye=ge*se/Ie*Pe,ce=-Ie*ve/ge*Pe,q=f([ye,ce],L.xRot/180*m);L.cX=q[0]+($+_e)/2,L.cY=q[1]+(je+fe)/2,L.phi1=Math.atan2((se-ce)/Ie,(ve-ye)/ge),L.phi2=Math.atan2((-se-ce)/Ie,(-ve-ye)/ge),L.sweepFlag===0&&L.phi2>L.phi1&&(L.phi2-=2*m),L.sweepFlag===1&&L.phi2<L.phi1&&(L.phi2+=2*m),L.phi1*=180/m,L.phi2*=180/m}function y(L,$,je){g(L,$,je);var ge=L*L+$*$-je*je;if(0>ge)return[];if(ge===0)return[[L*je/(L*L+$*$),$*je/(L*L+$*$)]];var Ie=Math.sqrt(ge);return[[(L*je+$*Ie)/(L*L+$*$),($*je-L*Ie)/(L*L+$*$)],[(L*je-$*Ie)/(L*L+$*$),($*je+L*Ie)/(L*L+$*$)]]}var b,w=Math.PI/180;function N(L,$,je){return(1-je)*L+je*$}function S(L,$,je,ge){return L+Math.cos(ge/180*m)*$+Math.sin(ge/180*m)*je}function j(L,$,je,ge){var Ie=1e-6,_e=$-L,fe=je-$,le=3*_e+3*(ge-je)-6*fe,ve=6*(fe-_e),se=3*_e;return Math.abs(le)<Ie?[-se/ve]:(function(he,Ne,Pe){var ye=he*he/4-Ne;if(ye<-Pe)return[];if(ye<=Pe)return[-he/2];var ce=Math.sqrt(ye);return[-he/2-ce,-he/2+ce]})(ve/le,se/le,Ie)}function _(L,$,je,ge,Ie){var _e=1-Ie;return L*(_e*_e*_e)+$*(3*_e*_e*Ie)+je*(3*_e*Ie*Ie)+ge*(Ie*Ie*Ie)}(function(L){function $(){return Ie((function(le,ve,se){return le.relative&&(le.x1!==void 0&&(le.x1+=ve),le.y1!==void 0&&(le.y1+=se),le.x2!==void 0&&(le.x2+=ve),le.y2!==void 0&&(le.y2+=se),le.x!==void 0&&(le.x+=ve),le.y!==void 0&&(le.y+=se),le.relative=!1),le}))}function je(){var le=NaN,ve=NaN,se=NaN,he=NaN;return Ie((function(Ne,Pe,ye){return Ne.type&R.SMOOTH_CURVE_TO&&(Ne.type=R.CURVE_TO,le=isNaN(le)?Pe:le,ve=isNaN(ve)?ye:ve,Ne.x1=Ne.relative?Pe-le:2*Pe-le,Ne.y1=Ne.relative?ye-ve:2*ye-ve),Ne.type&R.CURVE_TO?(le=Ne.relative?Pe+Ne.x2:Ne.x2,ve=Ne.relative?ye+Ne.y2:Ne.y2):(le=NaN,ve=NaN),Ne.type&R.SMOOTH_QUAD_TO&&(Ne.type=R.QUAD_TO,se=isNaN(se)?Pe:se,he=isNaN(he)?ye:he,Ne.x1=Ne.relative?Pe-se:2*Pe-se,Ne.y1=Ne.relative?ye-he:2*ye-he),Ne.type&R.QUAD_TO?(se=Ne.relative?Pe+Ne.x1:Ne.x1,he=Ne.relative?ye+Ne.y1:Ne.y1):(se=NaN,he=NaN),Ne}))}function ge(){var le=NaN,ve=NaN;return Ie((function(se,he,Ne){if(se.type&R.SMOOTH_QUAD_TO&&(se.type=R.QUAD_TO,le=isNaN(le)?he:le,ve=isNaN(ve)?Ne:ve,se.x1=se.relative?he-le:2*he-le,se.y1=se.relative?Ne-ve:2*Ne-ve),se.type&R.QUAD_TO){le=se.relative?he+se.x1:se.x1,ve=se.relative?Ne+se.y1:se.y1;var Pe=se.x1,ye=se.y1;se.type=R.CURVE_TO,se.x1=((se.relative?0:he)+2*Pe)/3,se.y1=((se.relative?0:Ne)+2*ye)/3,se.x2=(se.x+2*Pe)/3,se.y2=(se.y+2*ye)/3}else le=NaN,ve=NaN;return se}))}function Ie(le){var ve=0,se=0,he=NaN,Ne=NaN;return function(Pe){if(isNaN(he)&&!(Pe.type&R.MOVE_TO))throw new Error("path must start with moveto");var ye=le(Pe,ve,se,he,Ne);return Pe.type&R.CLOSE_PATH&&(ve=he,se=Ne),Pe.x!==void 0&&(ve=Pe.relative?ve+Pe.x:Pe.x),Pe.y!==void 0&&(se=Pe.relative?se+Pe.y:Pe.y),Pe.type&R.MOVE_TO&&(he=ve,Ne=se),ye}}function _e(le,ve,se,he,Ne,Pe){return g(le,ve,se,he,Ne,Pe),Ie((function(ye,ce,q,pe){var oe=ye.x1,We=ye.x2,Re=ye.relative&&!isNaN(pe),Ee=ye.x!==void 0?ye.x:Re?0:ce,ae=ye.y!==void 0?ye.y:Re?0:q;function Le(Ir){return Ir*Ir}ye.type&R.HORIZ_LINE_TO&&ve!==0&&(ye.type=R.LINE_TO,ye.y=ye.relative?0:q),ye.type&R.VERT_LINE_TO&&se!==0&&(ye.type=R.LINE_TO,ye.x=ye.relative?0:ce),ye.x!==void 0&&(ye.x=ye.x*le+ae*se+(Re?0:Ne)),ye.y!==void 0&&(ye.y=Ee*ve+ye.y*he+(Re?0:Pe)),ye.x1!==void 0&&(ye.x1=ye.x1*le+ye.y1*se+(Re?0:Ne)),ye.y1!==void 0&&(ye.y1=oe*ve+ye.y1*he+(Re?0:Pe)),ye.x2!==void 0&&(ye.x2=ye.x2*le+ye.y2*se+(Re?0:Ne)),ye.y2!==void 0&&(ye.y2=We*ve+ye.y2*he+(Re?0:Pe));var Ze=le*he-ve*se;if(ye.xRot!==void 0&&(le!==1||ve!==0||se!==0||he!==1))if(Ze===0)delete ye.rX,delete ye.rY,delete ye.xRot,delete ye.lArcFlag,delete ye.sweepFlag,ye.type=R.LINE_TO;else{var jt=ye.xRot*Math.PI/180,Lt=Math.sin(jt),Ct=Math.cos(jt),Xt=1/Le(ye.rX),_r=1/Le(ye.rY),Or=Le(Ct)*Xt+Le(Lt)*_r,He=2*Lt*Ct*(Xt-_r),Zt=Le(Lt)*Xt+Le(Ct)*_r,Bt=Or*he*he-He*ve*he+Zt*ve*ve,$r=He*(le*he+ve*se)-2*(Or*se*he+Zt*le*ve),pr=Or*se*se-He*le*se+Zt*le*le,on=(Math.atan2($r,Bt-pr)+Math.PI)%Math.PI/2,Yr=Math.sin(on),qr=Math.cos(on);ye.rX=Math.abs(Ze)/Math.sqrt(Bt*Le(qr)+$r*Yr*qr+pr*Le(Yr)),ye.rY=Math.abs(Ze)/Math.sqrt(Bt*Le(Yr)-$r*Yr*qr+pr*Le(qr)),ye.xRot=180*on/Math.PI}return ye.sweepFlag!==void 0&&0>Ze&&(ye.sweepFlag=+!ye.sweepFlag),ye}))}function fe(){return function(le){var ve={};for(var se in le)ve[se]=le[se];return ve}}L.ROUND=function(le){function ve(se){return Math.round(se*le)/le}return le===void 0&&(le=1e13),g(le),function(se){return se.x1!==void 0&&(se.x1=ve(se.x1)),se.y1!==void 0&&(se.y1=ve(se.y1)),se.x2!==void 0&&(se.x2=ve(se.x2)),se.y2!==void 0&&(se.y2=ve(se.y2)),se.x!==void 0&&(se.x=ve(se.x)),se.y!==void 0&&(se.y=ve(se.y)),se.rX!==void 0&&(se.rX=ve(se.rX)),se.rY!==void 0&&(se.rY=ve(se.rY)),se}},L.TO_ABS=$,L.TO_REL=function(){return Ie((function(le,ve,se){return le.relative||(le.x1!==void 0&&(le.x1-=ve),le.y1!==void 0&&(le.y1-=se),le.x2!==void 0&&(le.x2-=ve),le.y2!==void 0&&(le.y2-=se),le.x!==void 0&&(le.x-=ve),le.y!==void 0&&(le.y-=se),le.relative=!0),le}))},L.NORMALIZE_HVZ=function(le,ve,se){return le===void 0&&(le=!0),ve===void 0&&(ve=!0),se===void 0&&(se=!0),Ie((function(he,Ne,Pe,ye,ce){if(isNaN(ye)&&!(he.type&R.MOVE_TO))throw new Error("path must start with moveto");return ve&&he.type&R.HORIZ_LINE_TO&&(he.type=R.LINE_TO,he.y=he.relative?0:Pe),se&&he.type&R.VERT_LINE_TO&&(he.type=R.LINE_TO,he.x=he.relative?0:Ne),le&&he.type&R.CLOSE_PATH&&(he.type=R.LINE_TO,he.x=he.relative?ye-Ne:ye,he.y=he.relative?ce-Pe:ce),he.type&R.ARC&&(he.rX===0||he.rY===0)&&(he.type=R.LINE_TO,delete he.rX,delete he.rY,delete he.xRot,delete he.lArcFlag,delete he.sweepFlag),he}))},L.NORMALIZE_ST=je,L.QT_TO_C=ge,L.INFO=Ie,L.SANITIZE=function(le){le===void 0&&(le=0),g(le);var ve=NaN,se=NaN,he=NaN,Ne=NaN;return Ie((function(Pe,ye,ce,q,pe){var oe=Math.abs,We=!1,Re=0,Ee=0;if(Pe.type&R.SMOOTH_CURVE_TO&&(Re=isNaN(ve)?0:ye-ve,Ee=isNaN(se)?0:ce-se),Pe.type&(R.CURVE_TO|R.SMOOTH_CURVE_TO)?(ve=Pe.relative?ye+Pe.x2:Pe.x2,se=Pe.relative?ce+Pe.y2:Pe.y2):(ve=NaN,se=NaN),Pe.type&R.SMOOTH_QUAD_TO?(he=isNaN(he)?ye:2*ye-he,Ne=isNaN(Ne)?ce:2*ce-Ne):Pe.type&R.QUAD_TO?(he=Pe.relative?ye+Pe.x1:Pe.x1,Ne=Pe.relative?ce+Pe.y1:Pe.y2):(he=NaN,Ne=NaN),Pe.type&R.LINE_COMMANDS||Pe.type&R.ARC&&(Pe.rX===0||Pe.rY===0||!Pe.lArcFlag)||Pe.type&R.CURVE_TO||Pe.type&R.SMOOTH_CURVE_TO||Pe.type&R.QUAD_TO||Pe.type&R.SMOOTH_QUAD_TO){var ae=Pe.x===void 0?0:Pe.relative?Pe.x:Pe.x-ye,Le=Pe.y===void 0?0:Pe.relative?Pe.y:Pe.y-ce;Re=isNaN(he)?Pe.x1===void 0?Re:Pe.relative?Pe.x:Pe.x1-ye:he-ye,Ee=isNaN(Ne)?Pe.y1===void 0?Ee:Pe.relative?Pe.y:Pe.y1-ce:Ne-ce;var Ze=Pe.x2===void 0?0:Pe.relative?Pe.x:Pe.x2-ye,jt=Pe.y2===void 0?0:Pe.relative?Pe.y:Pe.y2-ce;oe(ae)<=le&&oe(Le)<=le&&oe(Re)<=le&&oe(Ee)<=le&&oe(Ze)<=le&&oe(jt)<=le&&(We=!0)}return Pe.type&R.CLOSE_PATH&&oe(ye-q)<=le&&oe(ce-pe)<=le&&(We=!0),We?[]:Pe}))},L.MATRIX=_e,L.ROTATE=function(le,ve,se){ve===void 0&&(ve=0),se===void 0&&(se=0),g(le,ve,se);var he=Math.sin(le),Ne=Math.cos(le);return _e(Ne,he,-he,Ne,ve-ve*Ne+se*he,se-ve*he-se*Ne)},L.TRANSLATE=function(le,ve){return ve===void 0&&(ve=0),g(le,ve),_e(1,0,0,1,le,ve)},L.SCALE=function(le,ve){return ve===void 0&&(ve=le),g(le,ve),_e(le,0,0,ve,0,0)},L.SKEW_X=function(le){return g(le),_e(1,0,Math.atan(le),1,0,0)},L.SKEW_Y=function(le){return g(le),_e(1,Math.atan(le),0,1,0,0)},L.X_AXIS_SYMMETRY=function(le){return le===void 0&&(le=0),g(le),_e(-1,0,0,1,le,0)},L.Y_AXIS_SYMMETRY=function(le){return le===void 0&&(le=0),g(le),_e(1,0,0,-1,0,le)},L.A_TO_C=function(){return Ie((function(le,ve,se){return R.ARC===le.type?(function(he,Ne,Pe){var ye,ce,q,pe;he.cX||x(he,Ne,Pe);for(var oe=Math.min(he.phi1,he.phi2),We=Math.max(he.phi1,he.phi2)-oe,Re=Math.ceil(We/90),Ee=new Array(Re),ae=Ne,Le=Pe,Ze=0;Ze<Re;Ze++){var jt=N(he.phi1,he.phi2,Ze/Re),Lt=N(he.phi1,he.phi2,(Ze+1)/Re),Ct=Lt-jt,Xt=4/3*Math.tan(Ct*w/4),_r=[Math.cos(jt*w)-Xt*Math.sin(jt*w),Math.sin(jt*w)+Xt*Math.cos(jt*w)],Or=_r[0],He=_r[1],Zt=[Math.cos(Lt*w),Math.sin(Lt*w)],Bt=Zt[0],$r=Zt[1],pr=[Bt+Xt*Math.sin(Lt*w),$r-Xt*Math.cos(Lt*w)],on=pr[0],Yr=pr[1];Ee[Ze]={relative:he.relative,type:R.CURVE_TO};var qr=function(Ir,dr){var Cr=f([Ir*he.rX,dr*he.rY],he.xRot),Vr=Cr[0],zr=Cr[1];return[he.cX+Vr,he.cY+zr]};ye=qr(Or,He),Ee[Ze].x1=ye[0],Ee[Ze].y1=ye[1],ce=qr(on,Yr),Ee[Ze].x2=ce[0],Ee[Ze].y2=ce[1],q=qr(Bt,$r),Ee[Ze].x=q[0],Ee[Ze].y=q[1],he.relative&&(Ee[Ze].x1-=ae,Ee[Ze].y1-=Le,Ee[Ze].x2-=ae,Ee[Ze].y2-=Le,Ee[Ze].x-=ae,Ee[Ze].y-=Le),ae=(pe=[Ee[Ze].x,Ee[Ze].y])[0],Le=pe[1]}return Ee})(le,le.relative?0:ve,le.relative?0:se):le}))},L.ANNOTATE_ARCS=function(){return Ie((function(le,ve,se){return le.relative&&(ve=0,se=0),R.ARC===le.type&&x(le,ve,se),le}))},L.CLONE=fe,L.CALCULATE_BOUNDS=function(){var le=function(Pe){var ye={};for(var ce in Pe)ye[ce]=Pe[ce];return ye},ve=$(),se=ge(),he=je(),Ne=Ie((function(Pe,ye,ce){var q=he(se(ve(le(Pe))));function pe(Yr){Yr>Ne.maxX&&(Ne.maxX=Yr),Yr<Ne.minX&&(Ne.minX=Yr)}function oe(Yr){Yr>Ne.maxY&&(Ne.maxY=Yr),Yr<Ne.minY&&(Ne.minY=Yr)}if(q.type&R.DRAWING_COMMANDS&&(pe(ye),oe(ce)),q.type&R.HORIZ_LINE_TO&&pe(q.x),q.type&R.VERT_LINE_TO&&oe(q.y),q.type&R.LINE_TO&&(pe(q.x),oe(q.y)),q.type&R.CURVE_TO){pe(q.x),oe(q.y);for(var We=0,Re=j(ye,q.x1,q.x2,q.x);We<Re.length;We++)0<(on=Re[We])&&1>on&&pe(_(ye,q.x1,q.x2,q.x,on));for(var Ee=0,ae=j(ce,q.y1,q.y2,q.y);Ee<ae.length;Ee++)0<(on=ae[Ee])&&1>on&&oe(_(ce,q.y1,q.y2,q.y,on))}if(q.type&R.ARC){pe(q.x),oe(q.y),x(q,ye,ce);for(var Le=q.xRot/180*Math.PI,Ze=Math.cos(Le)*q.rX,jt=Math.sin(Le)*q.rX,Lt=-Math.sin(Le)*q.rY,Ct=Math.cos(Le)*q.rY,Xt=q.phi1<q.phi2?[q.phi1,q.phi2]:-180>q.phi2?[q.phi2+360,q.phi1+360]:[q.phi2,q.phi1],_r=Xt[0],Or=Xt[1],He=function(Yr){var qr=Yr[0],Ir=Yr[1],dr=180*Math.atan2(Ir,qr)/Math.PI;return dr<_r?dr+360:dr},Zt=0,Bt=y(Lt,-Ze,0).map(He);Zt<Bt.length;Zt++)(on=Bt[Zt])>_r&&on<Or&&pe(S(q.cX,Ze,Lt,on));for(var $r=0,pr=y(Ct,-jt,0).map(He);$r<pr.length;$r++){var on;(on=pr[$r])>_r&&on<Or&&oe(S(q.cY,jt,Ct,on))}}return Pe}));return Ne.minX=1/0,Ne.maxX=-1/0,Ne.minY=1/0,Ne.maxY=-1/0,Ne}})(b||(b={}));var k,Z=(function(){function L(){}return L.prototype.round=function($){return this.transform(b.ROUND($))},L.prototype.toAbs=function(){return this.transform(b.TO_ABS())},L.prototype.toRel=function(){return this.transform(b.TO_REL())},L.prototype.normalizeHVZ=function($,je,ge){return this.transform(b.NORMALIZE_HVZ($,je,ge))},L.prototype.normalizeST=function(){return this.transform(b.NORMALIZE_ST())},L.prototype.qtToC=function(){return this.transform(b.QT_TO_C())},L.prototype.aToC=function(){return this.transform(b.A_TO_C())},L.prototype.sanitize=function($){return this.transform(b.SANITIZE($))},L.prototype.translate=function($,je){return this.transform(b.TRANSLATE($,je))},L.prototype.scale=function($,je){return this.transform(b.SCALE($,je))},L.prototype.rotate=function($,je,ge){return this.transform(b.ROTATE($,je,ge))},L.prototype.matrix=function($,je,ge,Ie,_e,fe){return this.transform(b.MATRIX($,je,ge,Ie,_e,fe))},L.prototype.skewX=function($){return this.transform(b.SKEW_X($))},L.prototype.skewY=function($){return this.transform(b.SKEW_Y($))},L.prototype.xSymmetry=function($){return this.transform(b.X_AXIS_SYMMETRY($))},L.prototype.ySymmetry=function($){return this.transform(b.Y_AXIS_SYMMETRY($))},L.prototype.annotateArcs=function(){return this.transform(b.ANNOTATE_ARCS())},L})(),ee=function(L){return L===" "||L==="	"||L==="\r"||L===`
`},V=function(L){return 48<=L.charCodeAt(0)&&L.charCodeAt(0)<=57},re=(function(L){function $(){var je=L.call(this)||this;return je.curNumber="",je.curCommandType=-1,je.curCommandRelative=!1,je.canParseCommandOrComma=!0,je.curNumberHasExp=!1,je.curNumberHasExpDigits=!1,je.curNumberHasDecimal=!1,je.curArgs=[],je}return h($,L),$.prototype.finish=function(je){if(je===void 0&&(je=[]),this.parse(" ",je),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return je},$.prototype.parse=function(je,ge){var Ie=this;ge===void 0&&(ge=[]);for(var _e=function(Ne){ge.push(Ne),Ie.curArgs.length=0,Ie.canParseCommandOrComma=!0},fe=0;fe<je.length;fe++){var le=je[fe],ve=!(this.curCommandType!==R.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),se=V(le)&&(this.curNumber==="0"&&le==="0"||ve);if(!V(le)||se)if(le!=="e"&&le!=="E")if(le!=="-"&&le!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(le!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ve){if(this.curNumber&&this.curCommandType!==-1){var he=Number(this.curNumber);if(isNaN(he))throw new SyntaxError("Invalid number ending at "+fe);if(this.curCommandType===R.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>he)throw new SyntaxError('Expected positive number, got "'+he+'" at index "'+fe+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+fe+'"')}this.curArgs.push(he),this.curArgs.length===Y[this.curCommandType]&&(R.HORIZ_LINE_TO===this.curCommandType?_e({type:R.HORIZ_LINE_TO,relative:this.curCommandRelative,x:he}):R.VERT_LINE_TO===this.curCommandType?_e({type:R.VERT_LINE_TO,relative:this.curCommandRelative,y:he}):this.curCommandType===R.MOVE_TO||this.curCommandType===R.LINE_TO||this.curCommandType===R.SMOOTH_QUAD_TO?(_e({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),R.MOVE_TO===this.curCommandType&&(this.curCommandType=R.LINE_TO)):this.curCommandType===R.CURVE_TO?_e({type:R.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===R.SMOOTH_CURVE_TO?_e({type:R.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===R.QUAD_TO?_e({type:R.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===R.ARC&&_e({type:R.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ee(le))if(le===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(le!=="+"&&le!=="-"&&le!==".")if(se)this.curNumber=le,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+fe+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+le+'" at index '+fe+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,le!=="z"&&le!=="Z")if(le==="h"||le==="H")this.curCommandType=R.HORIZ_LINE_TO,this.curCommandRelative=le==="h";else if(le==="v"||le==="V")this.curCommandType=R.VERT_LINE_TO,this.curCommandRelative=le==="v";else if(le==="m"||le==="M")this.curCommandType=R.MOVE_TO,this.curCommandRelative=le==="m";else if(le==="l"||le==="L")this.curCommandType=R.LINE_TO,this.curCommandRelative=le==="l";else if(le==="c"||le==="C")this.curCommandType=R.CURVE_TO,this.curCommandRelative=le==="c";else if(le==="s"||le==="S")this.curCommandType=R.SMOOTH_CURVE_TO,this.curCommandRelative=le==="s";else if(le==="q"||le==="Q")this.curCommandType=R.QUAD_TO,this.curCommandRelative=le==="q";else if(le==="t"||le==="T")this.curCommandType=R.SMOOTH_QUAD_TO,this.curCommandRelative=le==="t";else{if(le!=="a"&&le!=="A")throw new SyntaxError('Unexpected character "'+le+'" at index '+fe+".");this.curCommandType=R.ARC,this.curCommandRelative=le==="a"}else ge.push({type:R.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=le,this.curNumberHasDecimal=le==="."}else this.curNumber+=le,this.curNumberHasDecimal=!0;else this.curNumber+=le;else this.curNumber+=le,this.curNumberHasExp=!0;else this.curNumber+=le,this.curNumberHasExpDigits=this.curNumberHasExp}return ge},$.prototype.transform=function(je){return Object.create(this,{parse:{value:function(ge,Ie){Ie===void 0&&(Ie=[]);for(var _e=0,fe=Object.getPrototypeOf(this).parse.call(this,ge);_e<fe.length;_e++){var le=fe[_e],ve=je(le);Array.isArray(ve)?Ie.push.apply(Ie,ve):Ie.push(ve)}return Ie}}})},$})(Z),R=(function(L){function $(je){var ge=L.call(this)||this;return ge.commands=typeof je=="string"?$.parse(je):je,ge}return h($,L),$.prototype.encode=function(){return $.encode(this.commands)},$.prototype.getBounds=function(){var je=b.CALCULATE_BOUNDS();return this.transform(je),je},$.prototype.transform=function(je){for(var ge=[],Ie=0,_e=this.commands;Ie<_e.length;Ie++){var fe=je(_e[Ie]);Array.isArray(fe)?ge.push.apply(ge,fe):ge.push(fe)}return this.commands=ge,this},$.encode=function(je){return A(je)},$.parse=function(je){var ge=new re,Ie=[];return ge.parse(je,Ie),ge.finish(Ie),Ie},$.CLOSE_PATH=1,$.MOVE_TO=2,$.HORIZ_LINE_TO=4,$.VERT_LINE_TO=8,$.LINE_TO=16,$.CURVE_TO=32,$.SMOOTH_CURVE_TO=64,$.QUAD_TO=128,$.SMOOTH_QUAD_TO=256,$.ARC=512,$.LINE_COMMANDS=$.LINE_TO|$.HORIZ_LINE_TO|$.VERT_LINE_TO,$.DRAWING_COMMANDS=$.HORIZ_LINE_TO|$.VERT_LINE_TO|$.LINE_TO|$.CURVE_TO|$.SMOOTH_CURVE_TO|$.QUAD_TO|$.SMOOTH_QUAD_TO|$.ARC,$})(Z),Y=((k={})[R.MOVE_TO]=2,k[R.LINE_TO]=2,k[R.HORIZ_LINE_TO]=1,k[R.VERT_LINE_TO]=1,k[R.CLOSE_PATH]=0,k[R.QUAD_TO]=4,k[R.SMOOTH_QUAD_TO]=2,k[R.CURVE_TO]=6,k[R.SMOOTH_CURVE_TO]=4,k[R.ARC]=7,k)}),"./src/plugin/hyperlinks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=o("./src/worker.js"),h=o("./src/utils.js"),A=[],f={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),b=(0,h.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);A=[],Array.prototype.forEach.call(y,function(w){for(var N=w.getClientRects(),S=0;S<N.length;S++){var j=(0,h.unitConvert)(N[S],this.prop.pageSize.k);j.left-=b.left,j.top-=b.top;var _=Math.floor(j.top/this.prop.pageSize.inner.height)+1,k=this.opt.margin[0]+j.top%this.prop.pageSize.inner.height,Z=this.opt.margin[1]+j.left;A.push({page:_,top:k,left:Z,clientRect:j,link:w})}},this)}})},d.default.prototype.toPdf=function(){return f.toPdf.call(this).then(function(){if(this.opt.enableLinks){A.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/jspdf/dist/jspdf.es.min.js");function h(A){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},h(A)}d.jsPDF.getPageSize=function(A,f,g){if(h(A)==="object"){var m=A;A=m.orientation,f=m.unit||f,g=m.format||g}f=f||"mm",g=g||"a4",A=(""+(A||"P")).toLowerCase();var x=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+f}if(y.hasOwnProperty(x))var w=y[x][1]/b,N=y[x][0]/b;else try{var w=g[1],N=g[0]}catch{throw new Error("Invalid format: "+g)}if(A==="p"||A==="portrait"){if(A="p",N>w){var S=N;N=w,w=S}}else if(A==="l"||A==="landscape"){if(A="l",w>N){var S=N;N=w,w=S}}else throw"Invalid orientation: "+A;var j={width:N,height:w,unit:f,k:b};return j},u.default=d.jsPDF}),"./src/plugin/pagebreaks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=o("./src/worker.js"),h=o("./src/utils.js"),A={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){var m=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),b={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},w={},N=this;["before","after","avoid"].forEach(function(_){var k=b.avoidAll&&_==="avoid";w[_]=k?[]:[].concat(N.opt.pagebreak[_]||[]),w[_].length>0&&(w[_]=Array.prototype.slice.call(m.querySelectorAll(w[_].join(", "))))});var S=m.querySelectorAll(".html2pdf__page-break");S=Array.prototype.slice.call(S);var j=m.querySelectorAll("*");Array.prototype.forEach.call(j,function(k){var Z={before:!1,after:b.legacy&&S.indexOf(k)!==-1,avoid:b.avoidAll};if(b.css){var ee=window.getComputedStyle(k),V=["always","page","left","right"],re=["avoid","avoid-page"];Z={before:Z.before||V.indexOf(ee.breakBefore||ee.pageBreakBefore)!==-1,after:Z.after||V.indexOf(ee.breakAfter||ee.pageBreakAfter)!==-1,avoid:Z.avoid||re.indexOf(ee.breakInside||ee.pageBreakInside)!==-1}}Object.keys(Z).forEach(function(ge){Z[ge]=Z[ge]||w[ge].indexOf(k)!==-1});var R=k.getBoundingClientRect();if(Z.avoid&&!Z.before){var Y=Math.floor(R.top/x),L=Math.floor(R.bottom/x),$=Math.abs(R.bottom-R.top)/x;L!==Y&&$<=1&&(Z.before=!0)}if(Z.before){var je=(0,h.createElement)("div",{style:{display:"block",height:x-R.top%x+"px"}});k.parentNode.insertBefore(je,k)}if(Z.after){var je=(0,h.createElement)("div",{style:{display:"block",height:x-R.bottom%x+"px"}});k.parentNode.insertBefore(je,k.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(l,u,o){o.r(u),o.d(u,{deepCloneBasic:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=h(m))||x){y&&(m=y);var b=0,w=function(){};return{s:w,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function(k){throw k},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,S=!0,j=!1;return{s:function(){y=y.call(m)},n:function(){var k=y.next();return S=k.done,k},e:function(k){j=!0,N=k},f:function(){try{S||y.return==null||y.return()}finally{if(j)throw N}}}}function h(m,x){if(m){if(typeof m=="string")return A(m,x);var y={}.toString.call(m).slice(8,-1);return y==="Object"&&m.constructor&&(y=m.constructor.name),y==="Map"||y==="Set"?Array.from(m):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?A(m,x):void 0}}function A(m,x){(x==null||x>m.length)&&(x=m.length);for(var y=0,b=Array(x);y<x;y++)b[y]=m[y];return b}function f(m,x){try{var y=m.currentSrc||m.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function g(m){if(!m)throw new Error("Invalid node");var x=new Set,y=null;if(m.nodeType===Node.TEXT_NODE||m.nodeType!==Node.ELEMENT_NODE)return m.cloneNode(!0);if(m.tagName==="IFRAME"){var b=document.createElement("div");return b.style.cssText="width:".concat(m.offsetWidth,"px;height:").concat(m.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),b}if(m.tagName==="CANVAS"){var w=m.toDataURL(),N=document.createElement("img");return N.src=w,N.width=m.width,N.height=m.height,N}var S;try{S=m.cloneNode(!1),m.tagName==="IMG"&&f(m,S)}catch(oe){throw console.error("[Snapdom] Failed to clone node:",m,oe),oe}if(m instanceof HTMLTextAreaElement){S.textContent=m.value,S.value=m.value;var j=m.getBoundingClientRect();return S.style.boxSizing="border-box",S.style.width="".concat(j.width,"px"),S.style.height="".concat(j.height,"px"),S}if(m instanceof HTMLInputElement&&(m.hasAttribute("value")&&(S.value=m.value,S.setAttribute("value",m.value)),m.checked!==void 0&&(S.checked=m.checked,m.checked&&S.setAttribute("checked",""),m.indeterminate&&(S.indeterminate=m.indeterminate))),m instanceof HTMLSelectElement&&(y=m.value),m.shadowRoot){var _=Array.from(m.shadowRoot.querySelectorAll("slot")).length>0;if(!_){var k=document.createDocumentFragment(),Z=d(m.shadowRoot.childNodes),ee;try{for(Z.s();!(ee=Z.n()).done;){var V=ee.value;if(!(V.nodeType===Node.ELEMENT_NODE&&V.tagName==="STYLE")){var re=g(V);re&&k.appendChild(re)}}}catch(oe){Z.e(oe)}finally{Z.f()}S.appendChild(k)}}if(m.tagName==="SLOT"){var R,Y=((R=m.assignedNodes)===null||R===void 0?void 0:R.call(m,{flatten:!0}))||[],L=Y.length>0?Y:Array.from(m.childNodes),$=document.createDocumentFragment(),je=d(L),ge;try{for(je.s();!(ge=je.n()).done;){var Ie=ge.value,_e=g(Ie);_e&&$.appendChild(_e)}}catch(oe){je.e(oe)}finally{je.f()}return $}var fe=d(m.childNodes),le;try{for(fe.s();!(le=fe.n()).done;){var ve=le.value;if(!x.has(ve)){var se=g(ve);se&&S.appendChild(se)}}}catch(oe){fe.e(oe)}finally{fe.f()}if(y!==null&&S instanceof HTMLSelectElement){S.value=y;var he=d(S.options),Ne;try{for(he.s();!(Ne=he.n()).done;){var Pe=Ne.value;Pe.value===y?Pe.setAttribute("selected",""):Pe.removeAttribute("selected")}}catch(oe){he.e(oe)}finally{he.f()}}var ye=m.scrollLeft,ce=m.scrollTop,q=ye||ce;if(q&&S instanceof HTMLElement){S.style.overflow="hidden",S.style.scrollbarWidth="none",S.style.msOverflowStyle="none";var pe=document.createElement("div");for(pe.style.transform="translate(".concat(-ye,"px, ").concat(-ce,"px)"),pe.style.willChange="transform",pe.style.display="inline-block",pe.style.width="100%";S.firstChild;)pe.appendChild(S.firstChild);S.appendChild(pe)}return S}}),"./src/utils.js":(function(l,u,o){o.r(u),o.d(u,{createElement:function(){return f},objType:function(){return A},toPx:function(){return m},unitConvert:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/dompurify/dist/purify.es.mjs");function h(x){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},h(x)}var A=function(y){var b=h(y);return b==="undefined"?"undefined":b==="string"||y instanceof String?"string":b==="number"||y instanceof Number?"number":b==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":b==="object"?"object":"unknown"},f=function(y,b){var w=document.createElement(y);b.className&&(w.className=b.className),b.innerHTML&&(w.innerHTML=d.default.sanitize(b.innerHTML));for(var N in b.style)w.style[N]=b.style[N];return w},g=function(y,b){if(A(y)==="number")return y*72/96/b;var w={};for(var N in y)w[N]=y[N]*72/96/b;return w},m=function(y,b){return Math.floor(y*b/72*96)}}),"./src/worker.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var d=o("./node_modules/jspdf/dist/jspdf.es.min.js"),h=o("html2canvas"),A=o.n(h),f=o("./src/snapdom/clone.js"),g=o("./src/utils.js"),m=function x(y){var b=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),w=x.convert(Promise.resolve(),b);return w=w.setProgress(1,x,1,[x]),w=w.set(y),w};m.prototype=Object.create(Promise.prototype),m.prototype.constructor=m,m.convert=function(y,b){return y.__proto__=b||m.prototype,y},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},m.prototype.from=function(y,b){function w(N){switch((0,g.objType)(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase&&N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||w(y),b){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},m.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},N={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};w.opacity=0;var S=(0,f.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:w}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:N}),this.prop.container.appendChild(S),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(j){return setTimeout(j,10)})})},m.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var w=Object.assign({},this.opt.html2canvas);return delete w.onrendered,A()(this.prop.container,w)}).then(function(w){var N=this.opt.html2canvas.onrendered||function(){};N(w),this.prop.canvas=w,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var w=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=w})},m.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w=this.prop.canvas,N=this.opt,S=w.height,j=Math.floor(w.width*this.prop.pageSize.inner.ratio),_=Math.ceil(S/j),k=this.prop.pageSize.inner.height,Z=document.createElement("canvas"),ee=Z.getContext("2d");Z.width=w.width,Z.height=j,this.prop.pdf=this.prop.pdf||new d.jsPDF(N.jsPDF);for(var V=0;V<_;V++){V===_-1&&S%j!==0&&(Z.height=S%j,k=Z.height*this.prop.pageSize.inner.width/Z.width);var re=Z.width,R=Z.height;ee.fillStyle="white",ee.fillRect(0,0,re,R),ee.drawImage(w,0,V*j,re,R,0,0,re,R),V&&this.prop.pdf.addPage();var Y=Z.toDataURL("image/"+N.image.type,N.image.quality);this.prop.pdf.addImage(Y,N.image.type,N.margin[1],N.margin[0],this.prop.pageSize.inner.width,k)}})},m.prototype.output=function(y,b,w){return w=w||"pdf",w.toLowerCase()==="img"||w.toLowerCase()==="image"?this.outputImg(y,b):this.outputPdf(y,b)},m.prototype.outputPdf=function(y,b){var w=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(w).then(function(){return this.prop.pdf.output(y,b)})},m.prototype.outputImg=function(y,b){var w=[function(){return this.prop.img||this.toImg()}];return this.thenList(w).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},m.prototype.save=function(y){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.set=function(y){if((0,g.objType)(y)!=="object")return this;var b=Object.keys(y||{}).map(function(w){switch(w){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return w in m.template.prop?function(){this.prop[w]=y[w]}:function(){this.opt[w]=y[w]}}},this);return this.then(function(){return this.thenList(b)})},m.prototype.get=function(y,b){return this.then(function(){var N=y in m.template.prop?this.prop[y]:this.opt[y];return b?b(N):N})},m.prototype.setMargin=function(y){return this.then(function(){switch((0,g.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},m.prototype.setPageSize=function(y){return this.then(function(){y=y||d.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,g.toPx)(y.inner.width,y.k),height:(0,g.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},m.prototype.setProgress=function(y,b,w,N){return y!=null&&(this.progress.val=y),b!=null&&(this.progress.state=b),w!=null&&(this.progress.n=w),N!=null&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(y,b,w,N){return this.setProgress(y?this.progress.val+y:null,b||null,w?this.progress.n+w:null,N?this.progress.stack.concat(N):null)},m.prototype.then=function(y,b){var w=this;return this.thenCore(y,b,function(S,j){return w.updateProgress(null,null,1,[S]),Promise.prototype.then.call(this,function(k){return w.updateProgress(null,S),k}).then(S,j).then(function(k){return w.updateProgress(1),k})})},m.prototype.thenCore=function(y,b,w){w=w||Promise.prototype.then;var N=this;y&&(y=y.bind(N)),b&&(b=b.bind(N));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",j=S?N:m.convert(Object.assign({},N),Promise.prototype),_=w.call(j,y,b);return m.convert(_,N.__proto__)},m.prototype.thenExternal=function(y,b){return Promise.prototype.then.call(this,y,b)},m.prototype.thenList=function(y){var b=this;return y.forEach(function(N){b=b.thenCore(N)}),b},m.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return m.convert(y,this)},m.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},m.prototype.error=function(y){return this.then(function(){throw new Error(y)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,u.default=m}),html2canvas:(function(l){l.exports=n})},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;if(a[l]===void 0){var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var d=i[l]={exports:{}};return a[l].call(d.exports,d,d.exports,s),d.exports}(function(){s.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(u,{a:u}),u}})(),(function(){var l=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},u;s.t=function(o,d){if(d&1&&(o=this(o)),d&8||typeof o=="object"&&o&&(d&4&&o.__esModule||d&16&&typeof o.then=="function"))return o;var h=Object.create(null);s.r(h);var A={};u=u||[null,l({}),l([]),l(l)];for(var f=d&2&&o;(typeof f=="object"||typeof f=="function")&&!~u.indexOf(f);f=l(f))Object.getOwnPropertyNames(f).forEach(function(g){A[g]=function(){return o[g]}});return A.default=function(){return o},s.d(h,A),h}})(),(function(){s.d=function(l,u){for(var o in u)s.o(u,o)&&!s.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:u[o]})}})(),(function(){s.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)}})(),(function(){s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/s.r(c);var l=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function o(d,h){var A=new o.Worker(h);return d?A.from(d).save():A};u.Worker=l.default,c.default=u})(),c=c.default,c})()})})(Hj)),Hj.exports}var jne=wne();const Cne=Zi(jne),Nne=()=>{const{logout:r}=xa(),e=Pn(),[n]=W4(),a=n.get("contractId"),[i,s]=P.useState(""),[c,l]=P.useState("All"),[u,o]=P.useState(!1),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(null),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState(!1),[j,_]=P.useState(null),[k,Z]=P.useState(!1),[ee,V]=P.useState(!1),re=()=>{V(!ee)},R=P.useCallback(async()=>{try{const se=await nf.getAllContracts();w(se.map(he=>({id:he.id,contractID:he.contractID,contractNum:he.contractNum})))}catch(se){console.error("Failed to load contracts:",se)}},[]),Y=P.useCallback(async()=>{try{S(!0),_(null);const he=(await G0.getAllAgreements(a||void 0)).map(Ne=>{const Pe=b.find(ye=>ye.id===Ne.contractId);return{id:Ne.id,agreementID:Ne.agreementID,contractID:Ne.contractId,contractNum:(Pe==null?void 0:Pe.contractNum)||"",agreementNum:Ne.agreementNum,agreementDate:Ne.agreementDate,status:Ne.status}});y(he)}catch(se){console.error("Failed to load agreements:",se),_(se.message||"Failed to load agreements")}finally{S(!1)}},[a,b]);P.useEffect(()=>{R()},[R]),P.useEffect(()=>{b.length>0&&Y()},[b.length,Y]);const{filteredAgreements:L}=gne({agreements:x,searchQuery:i,statusFilter:c}),$=()=>{m(null),h(!0)},je=(se,he)=>{he.stopPropagation(),m(se),h(!0)},ge=async se=>{try{if(Z(!0),_(null),g)await G0.updateAgreement(g.id,{agreementNum:se.agreementNum,agreementDate:se.agreementDate,status:se.status});else{if(!se.contractID){alert("Please select a contract");return}await G0.createAgreement({contractId:se.contractID,agreementDate:se.agreementDate,status:se.status})}h(!1),m(null),await Y()}catch(he){console.error("Failed to save agreement:",he),_(he.message||"Failed to save agreement"),alert(he.message||"Failed to save agreement")}finally{Z(!1)}},Ie=se=>{f(se),o(!0)},_e=({status:se})=>{const he=`agreement-status-badge agreement-status-badge--${se.toLowerCase()}`;return t.jsx("span",{className:he,role:"status","aria-label":`Status: ${se}`,children:se})},fe=({agreement:se})=>t.jsxs("div",{className:"agreement-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:he=>je(se,he),title:"Edit Agreement","aria-label":`Edit agreement ${se.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Ie(se),title:"View Agreement","aria-label":`View agreement ${se.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),le=[{key:"agreementNum",label:"Agreement Number",minWidth:180,render:se=>t.jsx("span",{className:"agreement-num-cell",children:se.agreementNum})},{key:"agreementID",label:"Agreement ID",minWidth:120},{key:"contractNum",label:"Contract Reference",minWidth:180,render:se=>se.contractNum?`${se.contractID} - ${se.contractNum}`:se.contractID},{key:"agreementDate",label:"Agreement Date",minWidth:140},{key:"status",label:"Status",minWidth:120,render:se=>t.jsx(_e,{status:se.status})},{key:"actions",label:"Actions",minWidth:120,render:se=>t.jsx(fe,{agreement:se})}],ve=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${ee?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!ee&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:re,"aria-label":ee?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:ee?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ve.map(se=>t.jsx("li",{children:t.jsxs(rn,{to:se.path,className:`nav-link ${se.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:se.icon}),!ee&&t.jsx("span",{className:"nav-label",children:se.label})]})},se.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!ee&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!ee&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Management"})})}),t.jsxs("div",{className:"agreement-page",children:[t.jsx("div",{className:"agreement-header",children:t.jsx("h1",{className:"agreement-title",children:"Agreement Management"})}),j&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:j}),t.jsxs("div",{className:"agreement-actions",children:[t.jsxs("div",{className:"agreement-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"agreement-search-input",placeholder:"Search by agreement number...",value:i,onChange:se=>s(se.target.value),"aria-label":"Search agreements by agreement number"})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:se=>l(se.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]}),t.jsxs("button",{className:"add-agreement-btn",onClick:$,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]}),N&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading agreements..."}),t.jsx("div",{className:"agreement-table-container",children:t.jsx(rx,{data:L,columns:le,getId:se=>se.id,emptyMessage:"No agreement records found"})}),t.jsxs("div",{className:"agreement-pagination-info",children:["Showing ",L.length," of ",x.length," Items"]})]})]}),d&&t.jsx(Sne,{agreement:g,contracts:b,contractIdParam:a,saving:k,onClose:()=>{h(!1),m(null)},onSave:ge}),u&&A&&t.jsx(Bne,{agreement:A,contractNum:A.contractNum,onClose:()=>{o(!1),f(null)}})]})},Sne=({agreement:r,contracts:e,contractIdParam:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),u=o=>{if(o.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement":"Add Agreement"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"agreement-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract *"}),t.jsxs("select",{value:c.contractID||"",onChange:o=>l({...c,contractID:o.target.value}),required:!0,disabled:a||!!n||!!r,children:[t.jsx("option",{value:"",children:"Select Contract"}),e.map(o=>t.jsxs("option",{value:o.id,children:[o.contractID," - ",o.contractNum]},o.id))]})]}),r&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Number"}),t.jsx("input",{type:"text",value:c.agreementNum||"",onChange:o=>l({...c,agreementNum:o.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Date *"}),t.jsx("input",{type:"date",value:c.agreementDate||"",onChange:o=>l({...c,agreementDate:o.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:o=>l({...c,status:o.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Agreement"]})]})]})]})})},Bne=({agreement:r,contractNum:e,onClose:n})=>{const[a,i]=P.useState(!1),[s,c]=P.useState([]),[l,u]=P.useState(!1),[o,d]=P.useState(!1),[h,A]=P.useState(null),[f,g]=P.useState(null),[m,x]=P.useState(!1),y=P.useRef(null);P.useEffect(()=>{const _=async()=>{try{u(!0);const Z=(await zA.getAllClauses(r.id)).map(ee=>({id:ee.id,pointNum:ee.pointNum,pointTitle:ee.pointTitle,pointText:ee.pointText,sequenceNo:ee.sequenceNo,status:ee.status})).sort((ee,V)=>ee.sequenceNo-V.sequenceNo);c(Z)}catch(k){console.error("Failed to load clauses:",k),c([])}finally{u(!1)}};r.id&&_()},[r.id]),P.useEffect(()=>{(async()=>{if(r.contractID)try{x(!0);const k=await nf.getContractById(r.contractID),[Z,ee]=await Promise.all([Qa.getCompanyById(k.companyId),Os.getHcfById(k.hcfId)]);A(Z),g(ee)}catch(k){console.error("Failed to load party data:",k)}finally{x(!1)}})()},[r.contractID]);const b=()=>{window.print()},w=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{d(!0);const _=y.current,k={margin:[10,10,10,10],filename:`${r.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await Cne().set(k).from(_).save()}catch(_){console.error("Failed to generate PDF:",_),alert("Failed to generate PDF. Please try again.")}finally{d(!1)}},N=_=>{const k=_.pointTitle.toLowerCase().includes("whereas"),Z=_.pointNum.toLowerCase().startsWith("w"),ee=_.pointNum.toLowerCase().startsWith("whereas");return k||Z||ee},S=_=>!!(_.pointNum&&_.pointNum.trim()!==""&&/^\d+$/.test(_.pointNum.trim())),j=_=>!N(_)&&!S(_);return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:_=>_.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",r.agreementNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"agreement-preview-controls",children:[t.jsxs("label",{className:"stamp-paper-toggle",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:_=>i(_.target.checked)}),t.jsx("span",{children:"Print on Stamp Paper"})]}),t.jsxs("div",{className:"preview-actions",children:[t.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),t.jsxs("button",{type:"button",className:"btn btn--primary",onClick:w,disabled:o,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),o?"Generating...":"Download PDF"]})]})]}),t.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:l?t.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):t.jsxs(t.Fragment,{children:[a&&t.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[t.jsx("div",{className:"stamp-paper-blank-space"}),t.jsxs("div",{className:"agreement-party-intro",children:[t.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),t.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("div",{className:"party-details",children:[t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"BETWEEN"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),t.jsx("p",{className:"party-description",children:h?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:h.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"AND"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),t.jsx("p",{className:"party-description",children:f?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:f.hcfName}),", a healthcare facility located at ",f.serviceAddress||"[Address]",", represented by",f.agrSignAuthName?` ${f.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),t.jsxs("div",{className:"agreement-page",children:[t.jsxs("div",{className:"agreement-header-section",children:[t.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),t.jsxs("div",{className:"agreement-meta",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Agreement No.:"})," ",r.agreementNum]}),e&&t.jsxs("p",{children:[t.jsx("strong",{children:"Contract Reference:"})," ",e]})]})]}),s.length>0&&N(s[0])&&t.jsx("div",{className:"agreement-section agreement-intro-section",children:t.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",h?t.jsx("strong",{children:h.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',f?t.jsx("strong",{children:f.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'"):']})}),(s.length===0||!N(s[0]))&&t.jsxs("div",{className:"agreement-section agreement-intro-section",children:[t.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",h?t.jsx("strong",{children:h.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',f?t.jsx("strong",{children:f.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'").']}),s.length>0&&t.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),s.length>0&&(()=>{let _=0;return t.jsx("div",{className:"agreement-section agreement-clauses-section",children:s.map((k,Z)=>{const ee=N(k),V=S(k),re=j(k);ee&&_++;const R=Z>0?s[Z-1]:null,Y=R&&N(R)&&!ee;return t.jsxs("div",{children:[Y&&t.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:t.jsxs("p",{className:"now-therefore-text",children:[t.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),ee?t.jsx("div",{className:"whereas-item",children:t.jsxs("p",{className:"whereas-text",children:[t.jsxs("strong",{children:["WHEREAS ",_===1?"":String.fromCharCode(64+_)+") "]}),k.pointText]})}):V?t.jsx("div",{className:"clause-item clause-item--numbered",children:t.jsxs("p",{className:"clause-text",children:[t.jsxs("strong",{children:[k.pointNum,"."]})," ",k.pointText]})}):re?t.jsx("div",{className:"clause-item clause-item--normal",children:t.jsx("p",{className:"clause-text",children:k.pointText})}):t.jsx("div",{className:"clause-item",children:t.jsx("p",{className:"clause-text",children:k.pointText})})]},k.id)})})})(),t.jsxs("div",{className:"agreement-section agreement-signature-section",children:[t.jsxs("div",{className:"signature-block",children:[t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",h?h.companyName:"[Company Name]"]})]})]}),t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:f&&f.agrSignAuthName||"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:f&&f.agrSignAuthDesignation||"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",f?f.hcfName:"[HCF Name]"]})]})]})]}),t.jsxs("div",{className:"signature-date-place",children:[t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Date:"})," _______________________"]}),t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Place:"})," _______________________"]})]}),t.jsxs("div",{className:"witness-section",children:[t.jsx("p",{className:"witness-title",children:t.jsx("strong",{children:"WITNESSES:"})}),t.jsxs("div",{className:"witness-block",children:[t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]}),t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},Ene=({clauses:r,agreementFilter:e,statusFilter:n})=>({filteredClauses:P.useMemo(()=>r.filter(i=>{const s=e==="All"||i.agreementID===e,c=n==="All"||i.status===n;return s&&c}).sort((i,s)=>i.agreementID!==s.agreementID?i.agreementID.localeCompare(s.agreementID):i.sequenceNo-s.sequenceNo),[r,e,n])}),Ine=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState("All"),[i,s]=P.useState("All"),[c,l]=P.useState(!1),[u,o]=P.useState(null),[d,h]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(!1),b=()=>{y(!x)},[w,N]=P.useState([]),[S,j]=P.useState([]),_=P.useCallback(async()=>{try{h(!0),f(null);const fe=await G0.getAllAgreements();N(fe.map(le=>({id:le.id,agreementID:le.agreementID,agreementNum:le.agreementNum,status:le.status})))}catch(fe){console.error("Failed to load agreements:",fe),f(fe.message||"Failed to load agreements")}finally{h(!1)}},[]),k=P.useCallback(async fe=>{var le;try{h(!0),f(null);const ve=n!=="All"?(le=fe.find(Pe=>Pe.agreementID===n))==null?void 0:le.id:void 0,se=i!=="All"?i:void 0,Ne=(await zA.getAllClauses(ve,se)).map(Pe=>{const ye=fe.find(ce=>ce.id===Pe.agreementId);return{id:Pe.id,agreementClauseID:Pe.agreementClauseID,agreementID:(ye==null?void 0:ye.agreementID)||Pe.agreementId,pointNum:Pe.pointNum,pointTitle:Pe.pointTitle,pointText:Pe.pointText,sequenceNo:Pe.sequenceNo,status:Pe.status}});Ne.sort((Pe,ye)=>Pe.agreementID!==ye.agreementID?Pe.agreementID.localeCompare(ye.agreementID):Pe.sequenceNo-ye.sequenceNo),j(Ne)}catch(ve){console.error("Failed to load clauses:",ve),f(ve.message||"Failed to load clauses")}finally{h(!1)}},[n,i]);P.useEffect(()=>{_()},[_]),P.useEffect(()=>{w.length>0&&k(w)},[w.length,n,i,k]);const{filteredClauses:Z}=Ene({clauses:S,agreementFilter:n,statusFilter:i}),ee=fe=>{const le=w.find(ve=>ve.agreementID===fe);return le||console.warn(`Agreement not found for agreementID: ${fe}. Available agreements:`,w.map(ve=>ve.agreementID)),(le==null?void 0:le.status)||null},V=fe=>ee(fe.agreementID)==="Draft",re=fe=>{if(!V(fe)){alert("Clauses can only be edited when the agreement status is Draft.");return}o(fe),l(!0)},R=async fe=>{if(!V(fe)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ve=[...S.filter(he=>he.agreementID===fe.agreementID)].sort((he,Ne)=>he.sequenceNo-Ne.sequenceNo),se=ve.findIndex(he=>he.id===fe.id);if(se>0){const he=ve[se-1];try{h(!0),f(null),await zA.reorderClause(fe.id,he.sequenceNo),await zA.reorderClause(he.id,fe.sequenceNo),await k(w)}catch(Ne){console.error("Failed to reorder clause:",Ne),f(Ne.message||"Failed to reorder clause"),alert(Ne.message||"Failed to reorder clause")}finally{h(!1)}}},Y=async fe=>{if(!V(fe)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ve=[...S.filter(he=>he.agreementID===fe.agreementID)].sort((he,Ne)=>he.sequenceNo-Ne.sequenceNo),se=ve.findIndex(he=>he.id===fe.id);if(se<ve.length-1){const he=ve[se+1];try{h(!0),f(null),await zA.reorderClause(fe.id,he.sequenceNo),await zA.reorderClause(he.id,fe.sequenceNo),await k(w)}catch(Ne){console.error("Failed to reorder clause:",Ne),f(Ne.message||"Failed to reorder clause"),alert(Ne.message||"Failed to reorder clause")}finally{h(!1)}}},L=async fe=>{try{if(m(!0),f(null),fe.pointNum&&fe.agreementID&&S.find(ve=>ve.agreementID===fe.agreementID&&ve.pointNum===fe.pointNum&&ve.id!==(u==null?void 0:u.id)))throw new Error(`Point number ${fe.pointNum} already exists for this agreement.`);if(u)await zA.updateClause(u.id,{pointNum:fe.pointNum,pointTitle:fe.pointTitle,pointText:fe.pointText,sequenceNo:fe.sequenceNo});else{const le=S.filter(se=>se.agreementID===fe.agreementID).reduce((se,he)=>Math.max(se,he.sequenceNo),0),ve=w.find(se=>se.agreementID===fe.agreementID);if(!ve)throw new Error("Agreement not found");await zA.createClause({agreementId:ve.id,pointNum:fe.pointNum,pointTitle:fe.pointTitle,pointText:fe.pointText,sequenceNo:le+1})}l(!1),o(null),await k(w)}catch(le){console.error("Failed to save clause:",le),f(le.message||"Failed to save clause"),alert(le.message||"Failed to save clause")}finally{m(!1)}},$=({text:fe,maxLength:le=50})=>{const ve=fe.length>le?`${fe.substring(0,le)}...`:fe,se=fe.length>le;return t.jsx("span",{className:"point-text-cell",title:se?fe:void 0,style:{cursor:se?"help":"default"},children:ve})},je=({status:fe})=>{const le=`clause-status-badge clause-status-badge--${fe.toLowerCase()}`;return t.jsx("span",{className:le,role:"status","aria-label":`Status: ${fe}`,children:fe})},ge=({clause:fe})=>{const le=ee(fe.agreementID),ve=le==="Draft",he=[...S.filter(oe=>oe.agreementID===fe.agreementID)].sort((oe,We)=>oe.sequenceNo-We.sequenceNo),Ne=he.findIndex(oe=>oe.id===fe.id),Pe=ve&&Ne>0,ye=ve&&Ne<he.length-1,ce=ve?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${le||"Unknown"}`,q=Pe?"Move Up":ve?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${le||"Unknown"}`,pe=ye?"Move Down":ve?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${le||"Unknown"}`;return t.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>re(fe),title:ce,"aria-label":`Edit clause ${fe.pointTitle}`,disabled:!ve,type:"button",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--up",onClick:()=>R(fe),disabled:!Pe,title:q,"aria-label":`Move clause ${fe.pointTitle} up`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"action-btn action-btn--down",onClick:()=>Y(fe),disabled:!ye,title:pe,"aria-label":`Move clause ${fe.pointTitle} down`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},Ie=[{key:"agreementID",label:"Agreement ID",minWidth:150,render:fe=>{const le=w.find(ve=>ve.agreementID===fe.agreementID);return le?`${fe.agreementID} - ${le.agreementNum}`:fe.agreementID}},{key:"sequenceNo",label:"Sequence",minWidth:100,render:fe=>t.jsx("span",{className:"sequence-cell",children:fe.sequenceNo})},{key:"pointNum",label:"Point Number",minWidth:120},{key:"pointTitle",label:"Point Title",minWidth:150},{key:"pointText",label:"Point Text",minWidth:300,allowWrap:!0,render:fe=>t.jsx($,{text:fe.pointText,maxLength:80})},{key:"status",label:"Status",minWidth:100,render:fe=>t.jsx(je,{status:fe.status})},{key:"actions",label:"Actions",minWidth:150,render:fe=>t.jsx(ge,{clause:fe})}],_e=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_e.map(fe=>t.jsx("li",{children:t.jsxs(rn,{to:fe.path,className:`nav-link ${fe.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:fe.icon}),!x&&t.jsx("span",{className:"nav-label",children:fe.label})]})},fe.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Clause Management"})})}),t.jsxs("div",{className:"agreement-clause-page",children:[t.jsx("div",{className:"agreement-clause-header",children:t.jsx("h1",{className:"agreement-clause-title",children:"Agreement Clause Management"})}),A&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:A}),t.jsxs("div",{className:"agreement-clause-filters",children:[t.jsxs("select",{className:"filter-select",value:n,onChange:fe=>a(fe.target.value),"aria-label":"Filter by agreement",children:[t.jsx("option",{value:"All",children:"All Agreements"}),w.map(fe=>t.jsxs("option",{value:fe.agreementID,children:[fe.agreementID," - ",fe.agreementNum]},fe.id))]}),t.jsxs("select",{className:"filter-select",value:i,onChange:fe=>s(fe.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]}),t.jsxs("button",{className:"add-clause-btn",onClick:()=>l(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]}),d&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading clauses..."}),!d&&t.jsx("div",{className:"clause-table-container",children:t.jsx(rx,{data:Z,columns:Ie,getId:fe=>fe.id,emptyMessage:"No clause records found"})}),t.jsx("div",{className:"clause-pagination-info",children:d?"Loading...":`Showing ${Z.length} of ${S.length} Items`})]})]}),c&&t.jsx(Tne,{clause:u,agreements:w,clauses:S,saving:g,onClose:()=>{l(!1),o(null)},onSave:L})]})},Tne=({clause:r,agreements:e,clauses:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[u,o]=P.useState(null),d=(g,m)=>!g||!m?!0:n.find(y=>y.agreementID===m&&y.pointNum===g&&y.id!==(r==null?void 0:r.id))?(o(`Point number ${g} already exists for this agreement.`),!1):(o(null),!0),h=g=>{l({...c,pointNum:g}),c.agreementID&&d(g,c.agreementID)},A=g=>{l({...c,agreementID:g,pointNum:""}),o(null)},f=g=>{if(g.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}d(c.pointNum,c.agreementID)&&s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement Clause":"Add Agreement Clause"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"clause-form",onSubmit:f,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Clause Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID *"}),t.jsxs("select",{value:c.agreementID||"",onChange:g=>A(g.target.value),required:!0,disabled:!!r||a,children:[t.jsx("option",{value:"",children:"Select Agreement"}),e.map(g=>t.jsxs("option",{value:g.agreementID,children:[g.agreementID," - ",g.agreementNum]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Point Number *"}),t.jsx("input",{type:"text",value:c.pointNum||"",onChange:g=>h(g.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),u&&t.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:u}),t.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Title"}),t.jsx("input",{type:"text",value:c.pointTitle||"",onChange:g=>l({...c,pointTitle:g.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Text *"}),t.jsx("textarea",{value:c.pointText||"",onChange:g=>l({...c,pointText:g.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!u,children:[a?"Saving...":r?"Update":"Add"," Clause"]})]})]})]})})},_ne=()=>{const{createUser:r,loading:e,user:n}=xa(),[a,i]=P.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[s,c]=P.useState(null),[l,u]=P.useState(null),o=async h=>{h.preventDefault(),c(null),u(null);try{const A=await r({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${A.name} created successfully!`),i({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(A){u(A.message||"Unable to create user")}},d=(h,A)=>{i(f=>({...f,[h]:A}))};return t.jsx("div",{className:"user-management-page",children:t.jsxs("div",{className:"user-management-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Management"}),t.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),t.jsxs("form",{className:"user-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),t.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:h=>d("userName",h.target.value),required:!0,maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),t.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:h=>d("mobileNumber",h.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),t.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:h=>d("empCode",h.target.value),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),t.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:h=>d("userRoleID",h.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Role"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"manager",children:"Manager"}),t.jsx("option",{value:"staff",children:"Staff"}),t.jsx("option",{value:"viewer",children:"Viewer"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),t.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:h=>d("employmentType",h.target.value),children:[t.jsx("option",{value:"",children:"Select Type"}),t.jsx("option",{value:"Full-time",children:"Full-time"}),t.jsx("option",{value:"Part-time",children:"Part-time"}),t.jsx("option",{value:"Contract",children:"Contract"}),t.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Access Control"}),t.jsxs("div",{className:"form-grid",children:[t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:h=>d("webLogin",h.target.checked)}),t.jsx("span",{children:"Web Login Access"})]})}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:h=>d("mobileApp",h.target.checked)}),t.jsx("span",{children:"Mobile App Access"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Identity Documents"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),t.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:h=>d("dlNum",h.target.value),maxLength:20})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),t.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:h=>d("aadhaar",h.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),t.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:h=>d("pan",h.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Employment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),t.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:h=>d("uan",h.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),t.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:h=>d("pfNum",h.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),t.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:h=>d("esiNum",h.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),t.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:h=>d("grossSalary",h.target.value),required:!0,min:"0",step:"0.01"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),t.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:h=>d("contractorName",h.target.value),maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),t.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:h=>d("companyName",h.target.value),maxLength:50})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),t.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:h=>d("address",h.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),t.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:h=>d("area",h.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),t.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:h=>d("city",h.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),t.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:h=>d("district",h.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),t.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:h=>d("pincode",h.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),t.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:h=>d("emergencyContact",h.target.value),maxLength:25})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Status"}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.status,onChange:h=>d("status",h.target.checked)}),t.jsx("span",{children:"Active Status"})]})})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Creating User...":"Create User"}),t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},bc=({children:r,navItems:e=[]})=>{const{user:n,logout:a}=xa(),i=Pn();ti();const[s,c]=P.useState(!1),[l,u]=P.useState(!1),[o,d]=P.useState(!1);P.useEffect(()=>{const m=()=>{d(window.innerWidth<=768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:i.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:i.pathname==="/transaction"||i.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:i.pathname==="/finance"||i.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:i.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:i.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:i.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:i.pathname.startsWith("/report")}],A=e.length>0?e:h,f=()=>{c(!s)},g=()=>{u(!l)};return t.jsxs("div",{className:"app-layout",children:[o&&t.jsx("button",{className:"mobile-menu-toggle",onClick:g,"aria-label":"Toggle menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),o&&l&&t.jsx("div",{className:"mobile-overlay",onClick:g}),t.jsxs("aside",{className:`app-layout__sidebar ${s?"collapsed":""} ${o&&l?"open":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),!o&&t.jsx("button",{className:"sidebar-toggle",onClick:f,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:A.map(m=>t.jsx("li",{children:t.jsxs(rn,{to:m.path,className:`nav-link ${m.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:m.icon}),!s&&t.jsx("span",{className:"nav-label",children:m.label})]})},m.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(rn,{to:"/profile",className:"sidebar-profile-link",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:a,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsx("main",{className:"app-layout__content",children:r})]})},One=({id:r,title:e,description:n,icon:a,path:i,parameters:s,indicators:c=[]})=>{const l=()=>{if(s.length===0)return"No parameters";const u=3,o=s.slice(0,u),d=s.length-u;let h=o.join("  ");return d>0&&(h+=` +${d} more`),h};return t.jsxs(rn,{to:i,className:"report-card-modern","aria-label":`View ${e} report`,children:[t.jsxs("div",{className:"report-card-modern-header",children:[t.jsx("div",{className:"report-card-modern-icon",children:a}),t.jsxs("div",{className:"report-card-modern-title-section",children:[t.jsx("h3",{className:"report-card-modern-title",children:e}),c.length>0&&t.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&t.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&t.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&t.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&t.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),t.jsxs("div",{className:"report-card-modern-body",children:[t.jsx("p",{className:"report-card-modern-description",children:n}),t.jsxs("div",{className:"report-card-modern-parameters",children:[t.jsx("span",{className:"parameters-label",children:"Params:"}),t.jsx("span",{className:"parameters-value",children:l()})]})]})]})},kne=()=>{var j;const r=Pn(),[e,n]=P.useState(""),[a,i]=P.useState("All"),[s,c]=P.useState(!1),[l,u]=P.useState(!1),[o,d]=P.useState({reportType:"",ownership:"",favorites:!1}),[h,A]=P.useState(new Set),f=P.useRef(null),g=P.useRef(null),m=[{id:"All",label:"All Reports",icon:""},{id:"BillingFinance",label:"Billing & Finance",icon:"",children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:""},{id:"BillingFinance-Payments",label:"Payments",icon:""},{id:"BillingFinance-Revenue",label:"Revenue",icon:""},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:""}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:"",children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:""},{id:"ContractAgreement-Agreements",label:"Agreements",icon:""},{id:"ContractAgreement-Renewals",label:"Renewals",icon:""}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:"",children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:""},{id:"OperationsLogistics-Routes",label:"Routes",icon:""},{id:"OperationsLogistics-Collection",label:"Collection",icon:""},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:""}]},{id:"MasterData",label:"Master Data",icon:"",children:[{id:"MasterData-Company",label:"Company",icon:""},{id:"MasterData-HCF",label:"HCF",icon:""},{id:"MasterData-User",label:"User",icon:""},{id:"MasterData-Fleet",label:"Fleet",icon:""}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:"",children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:""},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:""}]}],y=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(_=>{const k=_.title.toLowerCase().includes(e.toLowerCase())||_.description.toLowerCase().includes(e.toLowerCase())||_.parameters.some(V=>V.toLowerCase().includes(e.toLowerCase())),Z=a==="All"||_.category===a||a.startsWith(_.category+"-"),ee=(!o.reportType||_.reportType===o.reportType)&&(!o.ownership||_.ownership===o.ownership)&&(!o.favorites||h.has(_.id)||_.isFavorite);return k&&Z&&ee});P.useEffect(()=>{const _=k=>{f.current&&!f.current.contains(k.target)&&c(!1),g.current&&!g.current.contains(k.target)&&(k.target.closest(".filters-toggle-btn")||u(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const b=()=>{if(a==="All")return"All Reports";const _=(Z,ee)=>{for(const V of Z){if(V.id===ee)return V;if(V.children){const re=_(V.children,ee);if(re)return re}}return null},k=_(m,a);return(k==null?void 0:k.label)||"All Reports"},w=_=>{i(_),c(!1)},N=()=>{let _=0;return o.reportType&&_++,o.ownership&&_++,o.favorites&&_++,_},S=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:S,children:t.jsxs("div",{className:"reports-page",children:[t.jsx("div",{className:"reports-header",children:t.jsx("div",{className:"reports-header-content",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports"})})})}),l&&t.jsxs("div",{className:"filters-drawer-compact",ref:g,children:[t.jsxs("div",{className:"filters-drawer-header-compact",children:[t.jsx("h3",{children:"Filters"}),t.jsx("button",{className:"filters-drawer-close",onClick:()=>u(!1),"aria-label":"Close filters",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"filters-drawer-content-compact",children:[t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Report Type"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.reportType?"":"active"}`,onClick:()=>d({...o,reportType:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Transactional"?"active":""}`,onClick:()=>d({...o,reportType:"Transactional"}),children:"Transactional"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Master"?"active":""}`,onClick:()=>d({...o,reportType:"Master"}),children:"Master"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Analytics"?"active":""}`,onClick:()=>d({...o,reportType:"Analytics"}),children:"Analytics"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Ownership"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.ownership?"":"active"}`,onClick:()=>d({...o,ownership:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="My Reports"?"active":""}`,onClick:()=>d({...o,ownership:"My Reports"}),children:"My Reports"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="Shared"?"active":""}`,onClick:()=>d({...o,ownership:"Shared"}),children:"Shared"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="System"?"active":""}`,onClick:()=>d({...o,ownership:"System"}),children:"System"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Favorites"}),t.jsxs("div",{className:"filter-toggle-wrapper",children:[t.jsx("button",{className:`filter-toggle-btn ${o.favorites?"active":""}`,onClick:()=>d({...o,favorites:!o.favorites}),"aria-pressed":o.favorites,children:t.jsx("span",{className:"filter-toggle-slider"})}),t.jsx("span",{className:"filter-toggle-label",children:o.favorites?"Show favorites only":"Show all reports"})]})]}),N()>0&&t.jsx("div",{className:"filters-drawer-actions-compact",children:t.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>d({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),t.jsxs("div",{className:"reports-content-wrapper",children:[t.jsx("div",{className:"reports-title-section",children:t.jsx("h1",{className:"reports-title",children:"Reports"})}),t.jsxs("div",{className:"reports-search-section",children:[t.jsxs("div",{className:"reports-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:e,onChange:_=>n(_.target.value),"aria-label":"Search reports"})]}),t.jsxs("div",{className:"category-popover-wrapper",ref:f,children:[t.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!s),"aria-expanded":s,children:[t.jsx("span",{className:"category-icon",children:((j=m.find(_=>_.id===a))==null?void 0:j.icon)||""}),t.jsx("span",{className:"category-label",children:b()}),t.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&t.jsx("div",{className:"category-popover",children:m.map(_=>t.jsxs("div",{className:"category-group",children:[t.jsxs("button",{className:`category-item ${a===_.id?"active":""}`,onClick:()=>!_.children&&w(_.id),children:[t.jsx("span",{className:"category-item-icon",children:_.icon}),t.jsx("span",{className:"category-item-label",children:_.label}),_.children&&t.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),_.children&&t.jsx("div",{className:"category-children",children:_.children.map(k=>t.jsxs("button",{className:`category-item category-child ${a===k.id?"active":""}`,onClick:()=>w(k.id),children:[t.jsx("span",{className:"category-item-icon",children:k.icon}),t.jsx("span",{className:"category-item-label",children:k.label})]},k.id))})]},_.id))})]}),t.jsxs("button",{className:"filters-toggle-btn",onClick:()=>u(!l),"aria-expanded":l,children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("span",{children:"Filters"}),N()>0&&t.jsx("span",{className:"filter-count-badge",children:N()})]}),t.jsxs("span",{className:"results-count-inline",children:[y.length," report",y.length!==1?"s":""]})]}),t.jsx("div",{className:"reports-grid-container",children:t.jsxs("div",{className:"reports-grid",children:[y.map(_=>t.jsx(One,{id:_.id,title:_.title,description:_.description,icon:_.icon,path:_.path,parameters:_.parameters,indicators:_.indicators},_.id)),y.length===0&&t.jsxs("div",{className:"reports-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("h3",{children:"No reports found"}),t.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},Pne=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},l=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],o=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:l.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Billing & Finance Reports"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),t.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Fne=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},l=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}],o=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:l.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Operations & Logistics"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),t.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Dne=()=>{const{logout:r}=xa(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(!1),c=()=>{s(!i)},l=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],o=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:l.map(d=>t.jsx("li",{children:t.jsxs(rn,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!i&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / HCF & Compliance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(d=>t.jsxs(rn,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Mne=()=>{const[r,e]=P.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=P.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),i=P.useCallback((A,f)=>{e(g=>({...g,[A]:f}))},[]),s=P.useCallback((A,f)=>{a(g=>({...g,[A]:f}))},[]),c=P.useCallback(()=>{e(A=>({...A,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),l=P.useCallback(()=>{const A={page:1,pageSize:r.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};e(A),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[r.pageSize]),u=P.useCallback((A,f)=>{e(g=>({...g,page:A,...f!==void 0&&{pageSize:f}}))},[]),o=P.useCallback(A=>{e(f=>({...f,searchText:A,page:1}))},[]),d=P.useCallback(()=>{var A;return!!(r.invoiceFromDate||r.invoiceToDate||r.companyId||r.hcfId||r.status&&r.status!=="All"||r.billingType&&r.billingType!=="All"||(A=r.searchText)!=null&&A.trim())},[r]),h=P.useCallback(()=>{var f;const A={page:r.page||1,pageSize:r.pageSize||25,sortBy:r.sortBy||"invoiceDate",sortOrder:r.sortOrder||"DESC"};return r.invoiceFromDate&&(A.invoiceFromDate=r.invoiceFromDate),r.invoiceToDate&&(A.invoiceToDate=r.invoiceToDate),r.companyId&&(A.companyId=r.companyId),r.hcfId&&(A.hcfId=r.hcfId),r.status&&r.status!=="All"&&(A.status=r.status),r.billingType&&r.billingType!=="All"&&(A.billingType=r.billingType),(f=r.searchText)!=null&&f.trim()&&(A.searchText=r.searchText.trim()),A},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:d,buildApiFilters:h}},Qj=()=>{const r=Pn(),e=ti(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:d}=Mne(),[h,A]=P.useState(!1),f=n.searchText||"",[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState([]),[j,_]=P.useState(!1),[k,Z]=P.useState(!1),[ee,V]=P.useState(null),re=n.page||1,R=n.pageSize||25,Y=P.useRef(null),L=P.useRef(null),[$,je]=P.useState(null),[ge,Ie]=P.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});P.useEffect(()=>{(async()=>{try{const[Le,Ze]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);m(Le),y(Ze)}catch(Le){console.error("Error loading master data:",Le)}})()},[]);const _e=n.companyId?x.filter(ae=>ae.companyId===n.companyId):x,fe=()=>{if(!o())return"No filters applied. Select a date range or search to view invoices.";const ae=[];if(n.invoiceFromDate&&n.invoiceToDate){const Le=new Date(n.invoiceFromDate),Ze=new Date(n.invoiceToDate),jt=new Date,Lt=jt.getMonth(),Ct=jt.getFullYear();if(Le.getMonth()===Lt&&Le.getFullYear()===Ct&&Ze.getMonth()===Lt&&Ze.getFullYear()===Ct)ae.push("Current Month");else{const Xt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric"}),_r=Ze.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ae.push(`${Xt} - ${_r}`)}}else if(n.invoiceFromDate||n.invoiceToDate){if(n.invoiceFromDate){const Le=new Date(n.invoiceFromDate);ae.push(`From ${Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.invoiceToDate){const Le=new Date(n.invoiceToDate);ae.push(`To ${Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Le=g.find(Ze=>Ze.id===n.companyId);ae.push(Le?Le.companyName:"Selected Company")}else ae.push("All Companies");if(n.hcfId){const Le=_e.find(Ze=>Ze.id===n.hcfId);ae.push(Le?Le.hcfName:"Selected HCF")}else ae.push("All HCFs");return n.status&&n.status!=="All"?ae.push(n.status):ae.push("All Status"),`Showing invoices for: ${ae.join("  ")}`},le=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],ve=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],se=ae=>{S(ae),he(ae)};P.useEffect(()=>{var ae;!k&&!j&&!((ae=n.searchText)!=null&&ae.trim())&&!o()&&Pe()},[]),P.useEffect(()=>{var Le;if(j||!k&&!((Le=n.searchText)!=null&&Le.trim())&&!o())return;const ae=setTimeout(()=>{j||Pe()},500);return()=>clearTimeout(ae)},[n.searchText,n.invoiceFromDate,n.invoiceToDate,n.companyId,n.hcfId,n.status,n.billingType,n.page,n.pageSize]);const he=ae=>{const Le=ae.length,Ze=ae.reduce((Ct,Xt)=>Ct+(Xt.invoiceValue||0),0),jt=ae.reduce((Ct,Xt)=>Ct+(Xt.totalPaidAmount||0),0),Lt=ae.reduce((Ct,Xt)=>Ct+(Xt.balanceAmount||0),0);Ie({totalInvoices:Le,totalAmount:Ze,paidAmount:jt,balanceAmount:Lt})},Ne=async()=>{var Le,Ze;s(),A(!1);const ae={page:1,pageSize:n.pageSize||25,sortBy:n.sortBy||"invoiceDate",sortOrder:n.sortOrder||"DESC"};a.invoiceFromDate&&(ae.invoiceFromDate=a.invoiceFromDate),a.invoiceToDate&&(ae.invoiceToDate=a.invoiceToDate),a.companyId&&(ae.companyId=a.companyId),a.hcfId&&(ae.hcfId=a.hcfId),a.status&&a.status!=="All"&&(ae.status=a.status),a.billingType&&a.billingType!=="All"&&(ae.billingType=a.billingType),(Le=n.searchText)!=null&&Le.trim()&&(ae.searchText=n.searchText.trim()),_(!0),V(null);try{const jt=await K0(ae);if(!jt||!jt.data||!Array.isArray(jt.data))throw console.error("Invalid response structure:",jt),new Error("Invalid response format from server");if(!jt.meta)throw console.error("Missing meta in response:",jt),new Error("Missing pagination metadata in response");let Lt=(jt.data||[]).map(Or=>({id:Or.invoiceId,invoiceNumber:Or.invoiceNumber,invoiceDate:Or.invoiceDate,dueDate:Or.dueDate,companyId:Or.companyId,companyName:Or.companyName,hcfId:Or.hcfId,hcfName:Or.hcfName,hcfCode:Or.hcfCode,billingType:Or.billingType,invoiceValue:Or.invoiceValue,totalPaidAmount:Or.totalPaidAmount,balanceAmount:Or.balanceAmount,status:Or.status}));w(Lt),se(Lt),Z(!0);const Ct=Lt.reduce((Or,He)=>Or+(He.invoiceValue||0),0),Xt=Lt.reduce((Or,He)=>Or+(He.totalPaidAmount||0),0),_r=Lt.reduce((Or,He)=>Or+(He.balanceAmount||0),0);Ie({totalInvoices:((Ze=jt.meta)==null?void 0:Ze.totalRecords)||0,totalAmount:Ct,paidAmount:Xt,balanceAmount:_r})}catch(jt){console.error("Error applying filters:",jt),V(jt.message||"Failed to apply filters")}finally{_(!1)}},Pe=async()=>{var ae,Le,Ze,jt,Lt;_(!0),V(null);try{const Ct=d(),Xt=await K0(Ct);if(Ct.searchText&&Xt.data.length===0&&((ae=Xt==null?void 0:Xt.meta)==null?void 0:ae.state)==="HAS_RESULTS"&&((Le=Xt==null?void 0:Xt.meta)==null?void 0:Le.totalRecords)===0)try{const pr={...Ct};delete pr.searchText,pr.page=1,pr.pageSize=100;let on=[],Yr=1;const qr=5;for(;Yr<=qr;){pr.page=Yr;const Ir=await K0(pr);if(Ir!=null&&Ir.data&&Ir.data.length>0){if(on=on.concat(Ir.data),Ir.data.length<pr.pageSize)break;Yr++}else break}if(on.length>0){const Ir=Ct.searchText.toLowerCase().trim(),dr=on.filter(Cr=>{const Vr=(Cr.invoiceNumber||"").toLowerCase(),zr=(Cr.companyName||"").toLowerCase(),gn=(Cr.hcfCode||"").toLowerCase(),Wr=(Cr.status||"").toLowerCase();return Vr.includes(Ir)||zr.includes(Ir)||gn.includes(Ir)||Wr.includes(Ir)||Cr.invoiceValue&&Cr.invoiceValue.toString().includes(Ir)});dr.length>0&&(Xt.data=dr,Xt.meta&&(Xt.meta.totalRecords=dr.length,Xt.meta.dataCount=dr.length,Xt.meta.state=dr.length>0?"HAS_RESULTS":"NO_RESULTS",Xt.meta.totalPages=Math.ceil(dr.length/(Ct.pageSize||25))))}}catch(pr){console.error("Client-side fallback failed:",pr)}if(!Xt||!Xt.data||!Array.isArray(Xt.data))throw console.error("Invalid response structure:",Xt),new Error("Invalid response format from server");if(!Xt.meta)throw console.error("Missing meta in response:",Xt),new Error("Missing pagination metadata in response");const Or=(Xt.data||[]).map(pr=>({invoiceId:pr.invoiceId,companyId:pr.companyId,hcfId:pr.hcfId,invoiceNumber:pr.invoiceNumber,invoiceDate:pr.invoiceDate,dueDate:pr.dueDate,billingType:pr.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:pr.invoiceValue,totalPaidAmount:pr.totalPaidAmount,balanceAmount:pr.balanceAmount,status:pr.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:pr.companyName,companyCode:pr.companyCode,hcfName:pr.hcfName,hcfCode:pr.hcfCode}))||[];w(()=>Or),S(()=>Or),Z(()=>!0),Xt.meta&&!f.trim()?l(Xt.meta.page):Xt.meta&&f.trim()&&l(re===1?1:Xt.meta.page);const He=Xt.data||[],Zt=He.reduce((pr,on)=>pr+(on.invoiceValue||0),0),Bt=He.reduce((pr,on)=>pr+(on.totalPaidAmount||0),0),$r=He.reduce((pr,on)=>pr+(on.balanceAmount||0),0);Ie({totalInvoices:((Ze=Xt.meta)==null?void 0:Ze.totalRecords)||0,totalAmount:Zt,paidAmount:Bt,balanceAmount:$r}),A(!1),setTimeout(()=>{var pr;(pr=Y.current)==null||pr.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(Ct){console.error("Error generating report:",Ct),V(Ct.message||"Failed to generate report"),((jt=Ct.message)!=null&&jt.includes("Invalid response")||(Lt=Ct.message)!=null&&Lt.includes("Missing"))&&(w([]),S([]),Z(!1)),console.error("Report error:",Ct)}finally{_(!1)}},ye=async()=>{c(),A(!1),await Pe()},ce=ae=>ae==null?"0.00":`${ae.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,q=ae=>ae?new Date(ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",pe=ae=>{switch(ae){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},oe=k&&ge.totalInvoices>0?Math.ceil(ge.totalInvoices/R):0;(re-1)*R+((N==null?void 0:N.length)||0);const Re=N||[],Ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:Ee,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Invoice Generation & Printing"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Invoice Generation & Printing Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:fe()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${j?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status, or Amount",value:f,onChange:ae=>u(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&!j&&(ae.preventDefault(),Pe())},disabled:j}),f&&!j&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{u(""),(k||o())&&await Pe()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${h?"active":""} ${j?"loading":""}`,onClick:()=>{if(!j){if(h||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("status",n.status||"All"),i("billingType",n.billingType||"All"),i("invoiceFromDate",n.invoiceFromDate||""),i("invoiceToDate",n.invoiceToDate||"")),L.current){const ae=L.current.getBoundingClientRect();je({top:ae.bottom+8,left:ae.left})}A(!h)}},disabled:j,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length})]})]}),h&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{A(!1),je(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ae=>ae.stopPropagation(),style:$?{position:"fixed",top:`${$.top}px`,left:`${$.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("invoiceFromDate",""),i("invoiceToDate",""),i("status","All"),i("billingType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>A(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceFromDate||"",onChange:ae=>i("invoiceFromDate",ae.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceToDate||"",onChange:ae=>i("invoiceToDate",ae.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:ae=>{i("companyId",ae.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(ae=>t.jsxs("option",{value:ae.id,children:[ae.companyCode," - ",ae.companyName]},ae.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:ae=>i("hcfId",ae.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(ae=>ae.companyId===a.companyId):x).map(ae=>t.jsxs("option",{value:ae.id,children:[ae.hcfCode," - ",ae.hcfName]},ae.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:ae=>i("status",ae.target.value),children:le.map(ae=>t.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:a.billingType||"All",onChange:ae=>i("billingType",ae.target.value),children:ve.map(ae=>t.jsx("option",{value:ae.value,children:ae.label},ae.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ne(),A(!1)},disabled:j,children:j?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:Y,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Balance"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:j?Array.from({length:5}).map((ae,Le)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Le}`)):k?Re.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:f.trim()?`No invoices match "${f.trim()}". Try adjusting your search or filters.`:o()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(o()||f.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ye,children:"Clear Filters"})})]})})}):Re.map((ae,Le)=>t.jsxs("tr",{className:Le%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ae.invoiceNumber}),t.jsx("td",{children:ae.companyName||"N/A"}),t.jsx("td",{children:ae.hcfCode||"N/A"}),t.jsx("td",{children:q(ae.invoiceDate)}),t.jsx("td",{children:ae.billingType}),t.jsx("td",{className:"text-right",children:ce(ae.invoiceValue)}),t.jsx("td",{className:"text-right",children:ce(ae.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:ce(ae.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:pe(ae.status),children:ae.status})})]},ae.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:k&&N.length>0?`Showing ${R} of ${ge.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:R,disabled:!k||N.length===0,onChange:async ae=>{l(1,Number(ae.target.value)),k&&await Pe()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.max(1,re-1);l(ae),k&&await Pe()},disabled:re===1||!k||N.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ae=[];let Ze=Math.max(1,re-Math.floor(2.5)),jt=Math.min(oe,Ze+5-1);jt-Ze<4&&(Ze=Math.max(1,jt-5+1)),Ze>1&&(ae.push(1),Ze>2&&ae.push("..."));for(let Lt=Ze;Lt<=jt;Lt++)ae.push(Lt);return jt<oe&&(jt<oe-1&&ae.push("..."),ae.push(oe)),ae.map((Lt,Ct)=>{if(Lt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ct}`);const Xt=Lt;return t.jsx("button",{className:`pagination-page-btn ${re===Xt?"active":""}`,onClick:async()=>{l(Xt),k&&await Pe()},disabled:!k||N.length===0,children:Xt},Xt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.min(oe,re+1);l(ae),k&&await Pe()},disabled:re===oe||oe===0||!k||N.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Rne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalContracts:0});P.useEffect(()=>{(async()=>{try{const[q,pe]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(q),A(pe)}catch(q){console.error("Error loading master data:",q)}})()},[]);const L=n.companyId?h.filter(ce=>ce.companyId===n.companyId):h,$=()=>{var ce;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(ce=n.searchText)!=null&&ce.trim())},je=()=>{if(!$())return"No filters applied. Select a date range or search to view contracts.";const ce=[];if(n.fromDate&&n.toDate){const q=new Date(n.fromDate),pe=new Date(n.toDate),oe=q.toLocaleDateString("en-US",{month:"short",day:"numeric"}),We=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"});ce.push(`Date: ${oe}${We}`)}if(n.companyId){const q=o.find(pe=>pe.id===n.companyId);q&&ce.push(`Company: ${q.companyName}`)}if(n.hcfId){const q=L.find(pe=>pe.id===n.hcfId);q&&ce.push(`HCF: ${q.hcfCode}`)}return n.status&&n.status!=="All"&&ce.push(`Status: ${n.status}`),ce.join("  ")},ge=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],Ie=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],_e=async()=>{var ce;b(!0),j(null);try{const q={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let pe=await nf.getAllContracts(q.companyId,q.status);if(n.hcfId&&(pe=pe.filter(Ee=>Ee.hcfId===n.hcfId)),n.fromDate){const Ee=new Date(n.fromDate);pe=pe.filter(ae=>new Date(ae.startDate)>=Ee)}if(n.toDate){const Ee=new Date(n.toDate);Ee.setHours(23,59,59,999),pe=pe.filter(ae=>new Date(ae.startDate)<=Ee)}if(n.billingType&&n.billingType!=="All"&&(pe=pe.filter(Ee=>Ee.billingType===n.billingType)),(ce=n.searchText)!=null&&ce.trim()){const Ee=n.searchText.toLowerCase().trim();pe=pe.filter(ae=>{const Le=(ae.contractNum||"").toLowerCase(),Ze=o.find(Xt=>Xt.id===ae.companyId),jt=((Ze==null?void 0:Ze.companyName)||"").toLowerCase(),Lt=h.find(Xt=>Xt.id===ae.hcfId),Ct=((Lt==null?void 0:Lt.hcfCode)||"").toLowerCase();return Le.includes(Ee)||jt.includes(Ee)||Ct.includes(Ee)})}pe.sort((Ee,ae)=>{const Le=Ee[n.sortBy]||"",Ze=ae[n.sortBy]||"";return n.sortOrder==="ASC"?Le>Ze?1:-1:Le<Ze?1:-1});const oe=(_-1)*k,We=oe+k,Re=pe.slice(oe,We);g(pe),x(Re),N(!0),Y({totalContracts:pe.length})}catch(q){console.error("Error loading contracts:",q),j(q.message||"Failed to load contract data"),g([]),x([])}finally{b(!1)}},fe=async()=>{a(ce=>({...ce,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",billingType:i.billingType||"All",page:1})),l(!1),await _e()},le=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),l(!1),await _e()};P.useEffect(()=>{if(o.length>0||!n.companyId){const ce=setTimeout(()=>{_e()},500);return()=>clearTimeout(ce)}},[n,o]);const ve=ce=>ce?new Date(ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=ce=>{switch(ce){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},he=w&&R.totalContracts>0?Math.ceil(R.totalContracts/k):0,Ne=(_-1)*k,Pe=Math.min(Ne+m.length,R.totalContracts),ye=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:ye,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:ce=>a(q=>({...q,searchText:ce.target.value,page:1})),onKeyDown:ce=>{ce.key==="Enter"&&!y&&(ce.preventDefault(),_e())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ce=>({...ce,searchText:"",page:1})),(w||$())&&await _e()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),ee.current){const ce=ee.current.getBoundingClientRect();re({top:ce.bottom+8,left:ce.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ce=>ce.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:ce=>s(q=>({...q,fromDate:ce.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:ce=>s(q=>({...q,toDate:ce.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ce=>{s(q=>({...q,companyId:ce.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ce=>t.jsxs("option",{value:ce.id,children:[ce.companyCode," - ",ce.companyName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ce=>s(q=>({...q,hcfId:ce.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(ce=>ce.companyId===i.companyId):h).map(ce=>t.jsxs("option",{value:ce.id,children:[ce.hcfCode," - ",ce.hcfName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ce=>s(q=>({...q,status:ce.target.value})),children:ge.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:i.billingType||"All",onChange:ce=>s(q=>({...q,billingType:ce.target.value})),children:Ie.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ce,q)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${q}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:$()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):m.map((ce,q)=>{var pe,oe;return t.jsxs("tr",{className:q%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ce.contractNum}),t.jsx("td",{children:((pe=o.find(We=>We.id===ce.companyId))==null?void 0:pe.companyName)||"N/A"}),t.jsx("td",{children:((oe=h.find(We=>We.id===ce.hcfId))==null?void 0:oe.hcfCode)||"N/A"}),t.jsx("td",{children:ve(ce.startDate)}),t.jsx("td",{children:ve(ce.endDate)}),t.jsx("td",{children:ce.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:se(ce.status),children:ce.status})})]},ce.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ne+1}-${Pe} of ${R.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async ce=>{a(q=>({...q,page:1,pageSize:Number(ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.max(1,_-1);a(q=>({...q,page:ce}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ce=[];let pe=Math.max(1,_-Math.floor(2.5)),oe=Math.min(he,pe+5-1);oe-pe<4&&(pe=Math.max(1,oe-5+1)),pe>1&&(ce.push(1),pe>2&&ce.push("..."));for(let We=pe;We<=oe;We++)ce.push(We);return oe<he&&(oe<he-1&&ce.push("..."),ce.push(he)),ce.map((We,Re)=>{if(We==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Re}`);const Ee=We;return t.jsx("button",{className:`pagination-page-btn ${_===Ee?"active":""}`,onClick:async()=>{a(ae=>({...ae,page:Ee}))},disabled:!w||m.length===0,children:Ee},Ee)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.min(he,_+1);a(q=>({...q,page:ce}))},disabled:_===he||he===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Lne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[i,s]=P.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,j=n.pageSize||25,_=P.useRef(null),k=P.useRef(null),[Z,ee]=P.useState(null),[V,re]=P.useState({totalHcfs:0});P.useEffect(()=>{(async()=>{try{const Ne=await Qa.getAllCompanies();d(Ne)}catch(Ne){console.error("Error loading master data:",Ne)}})()},[]);const R=()=>{var he;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(he=n.searchText)!=null&&he.trim())},Y=()=>{if(!R())return"No filters applied. View all healthcare facilities.";const he=[];if(n.companyId){const Ne=o.find(Pe=>Pe.id===n.companyId);Ne&&he.push(`Company: ${Ne.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&he.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&he.push(`Status: ${n.status}`),n.stateCode&&he.push(`State: ${n.stateCode}`),n.district&&he.push(`District: ${n.district}`),n.category&&he.push(`Category: ${n.category}`),he.join("  ")},L=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],$=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],je=async()=>{var he;x(!0),N(null);try{let Ne=await Os.getAllHcfs();if(n.companyId&&(Ne=Ne.filter(q=>q.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(Ne=Ne.filter(q=>q.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(Ne=Ne.filter(q=>q.status===n.status)),n.stateCode&&(Ne=Ne.filter(q=>q.stateCode===n.stateCode)),n.district){const q=n.district.toLowerCase().trim();Ne=Ne.filter(pe=>pe.district&&pe.district.toLowerCase().includes(q))}if(n.category){const q=n.category.toLowerCase().trim();Ne=Ne.filter(pe=>pe.category&&pe.category.toLowerCase().includes(q))}if((he=n.searchText)!=null&&he.trim()){const q=n.searchText.toLowerCase().trim();Ne=Ne.filter(pe=>{const oe=(pe.hcfCode||"").toLowerCase(),We=(pe.hcfName||"").toLowerCase(),Re=(pe.hcfShortName||"").toLowerCase(),Ee=o.find(jt=>jt.id===pe.companyId),ae=((Ee==null?void 0:Ee.companyName)||"").toLowerCase(),Le=(pe.district||"").toLowerCase(),Ze=(pe.category||"").toLowerCase();return oe.includes(q)||We.includes(q)||Re.includes(q)||ae.includes(q)||Le.includes(q)||Ze.includes(q)||pe.pincode&&pe.pincode.includes(q)||pe.gstin&&pe.gstin.toLowerCase().includes(q)})}Ne.sort((q,pe)=>{const oe=q[n.sortBy]||"",We=pe[n.sortBy]||"";return n.sortOrder==="ASC"?oe>We?1:-1:oe<We?1:-1});const Pe=(S-1)*j,ye=Pe+j,ce=Ne.slice(Pe,ye);A(Ne),g(ce),b(!0),re({totalHcfs:Ne.length})}catch(Ne){console.error("Error loading HCFs:",Ne),N(Ne.message||"Failed to load HCF data"),A([]),g([])}finally{x(!1)}},ge=async()=>{a(he=>({...he,companyId:i.companyId||"",hcfType:i.hcfType||"All",status:i.status||"All",stateCode:i.stateCode||"",district:i.district||"",category:i.category||"",page:1})),l(!1),await je()},Ie=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),l(!1),await je()};P.useEffect(()=>{if(o.length>0||!n.companyId){const he=setTimeout(()=>{je()},500);return()=>clearTimeout(he)}},[n,o]);const _e=he=>{switch(he){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},fe=y&&V.totalHcfs>0?Math.ceil(V.totalHcfs/j):0,le=(S-1)*j,ve=Math.min(le+f.length,V.totalHcfs),se=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:se,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:u,onChange:he=>a(Ne=>({...Ne,searchText:he.target.value,page:1})),onKeyDown:he=>{he.key==="Enter"&&!m&&(he.preventDefault(),je())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(he=>({...he,searchText:"",page:1})),(y||R())&&await je()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:k,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),k.current){const he=k.current.getBoundingClientRect();ee({top:he.bottom+8,left:he.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:he=>he.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:he=>s(Ne=>({...Ne,companyId:he.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(he=>t.jsxs("option",{value:he.id,children:[he.companyCode," - ",he.companyName]},he.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),t.jsx("select",{className:"filter-modal-select",value:i.hcfType||"All",onChange:he=>s(Ne=>({...Ne,hcfType:he.target.value})),children:L.map(he=>t.jsx("option",{value:he.value,children:he.label},he.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:he=>s(Ne=>({...Ne,status:he.target.value})),children:$.map(he=>t.jsx("option",{value:he.value,children:he.label},he.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"State Code"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.stateCode||"",onChange:he=>s(Ne=>({...Ne,stateCode:he.target.value})),placeholder:"Enter state code"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"District"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.district||"",onChange:he=>s(Ne=>({...Ne,district:he.target.value})),placeholder:"Enter district name"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Category"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.category||"",onChange:he=>s(Ne=>({...Ne,category:he.target.value})),placeholder:"Enter category"})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ge(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Type"}),t.jsx("th",{children:"District"}),t.jsx("th",{children:"State"}),t.jsx("th",{children:"Category"}),t.jsx("th",{children:"Pincode"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((he,Ne)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ne}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No HCFs match "${u.trim()}". Try adjusting your search or filters.`:R()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):f.map((he,Ne)=>{var Pe;return t.jsxs("tr",{className:Ne%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:he.hcfCode}),t.jsx("td",{children:he.hcfName}),t.jsx("td",{children:((Pe=o.find(ye=>ye.id===he.companyId))==null?void 0:Pe.companyName)||"N/A"}),t.jsx("td",{children:he.hcfTypeCode||"N/A"}),t.jsx("td",{children:he.district||"N/A"}),t.jsx("td",{children:he.stateCode||"N/A"}),t.jsx("td",{children:he.category||"N/A"}),t.jsx("td",{children:he.pincode||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:_e(he.status),children:he.status})})]},he.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${le+1}-${ve} of ${V.totalHcfs} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||f.length===0,onChange:async he=>{a(Ne=>({...Ne,page:1,pageSize:Number(he.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.max(1,S-1);a(Ne=>({...Ne,page:he}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const he=[];let Pe=Math.max(1,S-Math.floor(2.5)),ye=Math.min(fe,Pe+5-1);ye-Pe<4&&(Pe=Math.max(1,ye-5+1)),Pe>1&&(he.push(1),Pe>2&&he.push("..."));for(let ce=Pe;ce<=ye;ce++)he.push(ce);return ye<fe&&(ye<fe-1&&he.push("..."),he.push(fe)),he.map((ce,q)=>{if(ce==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${q}`);const pe=ce;return t.jsx("button",{className:`pagination-page-btn ${S===pe?"active":""}`,onClick:async()=>{a(oe=>({...oe,page:pe}))},disabled:!y||f.length===0,children:pe},pe)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.min(fe,S+1);a(Ne=>({...Ne,page:he}))},disabled:S===fe||fe===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Une=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[i,s]=P.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalCertificates:0});P.useEffect(()=>{(async()=>{try{const[ce,q]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(ce),A(q)}catch(ce){console.error("Error loading master data:",ce)}})()},[]);const L=n.companyId?h.filter(ye=>ye.companyId===n.companyId):h,$=()=>{var ye;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(ye=n.searchText)!=null&&ye.trim())},je=()=>{if(!$())return"No filters applied. Select a date range or search to view training certificates.";const ye=[];if(n.trainingFromDate&&n.trainingToDate){const ce=new Date(n.trainingFromDate),q=new Date(n.trainingToDate),pe=ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),oe=q.toLocaleDateString("en-US",{month:"short",day:"numeric"});ye.push(`Date: ${pe}${oe}`)}if(n.companyId){const ce=o.find(q=>q.id===n.companyId);ce&&ye.push(`Company: ${ce.companyName}`)}if(n.hcfId){const ce=L.find(q=>q.id===n.hcfId);ce&&ye.push(`HCF: ${ce.hcfCode}`)}return n.status&&n.status!=="All"&&ye.push(`Status: ${n.status}`),ye.join("  ")},ge=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Ie=async()=>{var ye;b(!0),j(null);try{const ce={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let q=await av.getAllCertificates(ce.companyId,!1,ce);if((ye=n.searchText)!=null&&ye.trim()){const Re=n.searchText.toLowerCase().trim();q=q.filter(Ee=>{const ae=(Ee.certificateNo||"").toLowerCase(),Le=(Ee.staffName||"").toLowerCase(),Ze=(Ee.staffCode||"").toLowerCase(),jt=o.find(_r=>_r.id===Ee.companyId),Lt=((jt==null?void 0:jt.companyName)||"").toLowerCase(),Ct=h.find(_r=>_r.id===Ee.hcfId),Xt=((Ct==null?void 0:Ct.hcfCode)||"").toLowerCase();return ae.includes(Re)||Le.includes(Re)||Ze.includes(Re)||Lt.includes(Re)||Xt.includes(Re)})}q.sort((Re,Ee)=>{const ae=Re[n.sortBy]||"",Le=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?ae>Le?1:-1:ae<Le?1:-1});const pe=(_-1)*k,oe=pe+k,We=q.slice(pe,oe);g(q),x(We),N(!0),Y({totalCertificates:q.length})}catch(ce){console.error("Error loading training certificates:",ce),j(ce.message||"Failed to load training certificate data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(ye=>({...ye,trainingFromDate:i.trainingFromDate||"",trainingToDate:i.trainingToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",page:1})),l(!1),await Ie()},fe=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),l(!1),await Ie()};P.useEffect(()=>{if(o.length>0||!n.companyId){const ye=setTimeout(()=>{Ie()},500);return()=>clearTimeout(ye)}},[n,o]);const le=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ve=ye=>{switch(ye){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},se=w&&R.totalCertificates>0?Math.ceil(R.totalCertificates/k):0,he=(_-1)*k,Ne=Math.min(he+m.length,R.totalCertificates),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:u,onChange:ye=>a(ce=>({...ce,searchText:ye.target.value,page:1})),onKeyDown:ye=>{ye.key==="Enter"&&!y&&(ye.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ye=>({...ye,searchText:"",page:1})),(w||$())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),ee.current){const ye=ee.current.getBoundingClientRect();re({top:ye.bottom+8,left:ye.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Training Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingFromDate||"",onChange:ye=>s(ce=>({...ce,trainingFromDate:ye.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingToDate||"",onChange:ye=>s(ce=>({...ce,trainingToDate:ye.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ye=>{s(ce=>({...ce,companyId:ye.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ye=>t.jsxs("option",{value:ye.id,children:[ye.companyCode," - ",ye.companyName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ye=>s(ce=>({...ce,hcfId:ye.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(ye=>ye.companyId===i.companyId):h).map(ye=>t.jsxs("option",{value:ye.id,children:[ye.hcfCode," - ",ye.hcfName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ye=>s(ce=>({...ce,status:ye.target.value})),children:ge.map(ye=>t.jsx("option",{value:ye.value,children:ye.label},ye.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Trained By"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ye,ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ce}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No certificates match "${u.trim()}". Try adjusting your search or filters.`:$()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:fe,children:"Clear Filters"})})]})})}):m.map((ye,ce)=>{var q,pe;return t.jsxs("tr",{className:ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ye.certificateNo}),t.jsx("td",{children:ye.staffName}),t.jsx("td",{children:ye.staffCode}),t.jsx("td",{children:((q=o.find(oe=>oe.id===ye.companyId))==null?void 0:q.companyName)||"N/A"}),t.jsx("td",{children:((pe=h.find(oe=>oe.id===ye.hcfId))==null?void 0:pe.hcfCode)||"N/A"}),t.jsx("td",{children:le(ye.trainingDate)}),t.jsx("td",{children:ye.trainedBy}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ve(ye.status),children:ye.status})})]},ye.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${he+1}-${Ne} of ${R.totalCertificates} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async ye=>{a(ce=>({...ce,page:1,pageSize:Number(ye.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,_-1);a(ce=>({...ce,page:ye}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let q=Math.max(1,_-Math.floor(2.5)),pe=Math.min(se,q+5-1);pe-q<4&&(q=Math.max(1,pe-5+1)),q>1&&(ye.push(1),q>2&&ye.push("..."));for(let oe=q;oe<=pe;oe++)ye.push(oe);return pe<se&&(pe<se-1&&ye.push("..."),ye.push(se)),ye.map((oe,We)=>{if(oe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const Re=oe;return t.jsx("button",{className:`pagination-page-btn ${_===Re?"active":""}`,onClick:async()=>{a(Ee=>({...Ee,page:Re}))},disabled:!w||m.length===0,children:Re},Re)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(se,_+1);a(ce=>({...ce,page:ye}))},disabled:_===se||se===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},r_=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[i,s]=P.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,j=n.pageSize||25,_=P.useRef(null),k=P.useRef(null),[Z,ee]=P.useState(null),[V,re]=P.useState({totalPayments:0,totalAmount:0});P.useEffect(()=>{(async()=>{try{const ye=await Qa.getAllCompanies();d(ye)}catch(ye){console.error("Error loading master data:",ye)}})()},[]);const R=()=>{var Pe;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(Pe=n.searchText)!=null&&Pe.trim())},Y=()=>{if(!R())return"No filters applied. Select a date range or search to view payments.";const Pe=[];if(n.paymentFromDate&&n.paymentToDate){const ye=new Date(n.paymentFromDate),ce=new Date(n.paymentToDate),q=ye.toLocaleDateString("en-US",{month:"short",day:"numeric"}),pe=ce.toLocaleDateString("en-US",{month:"short",day:"numeric"});Pe.push(`Date: ${q}${pe}`)}if(n.companyId){const ye=o.find(ce=>ce.id===n.companyId);ye&&Pe.push(`Company: ${ye.companyName}`)}return n.status&&n.status!=="All"&&Pe.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&Pe.push(`Mode: ${n.paymentMode}`),Pe.join("  ")},L=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],$=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],je=async()=>{var Pe;x(!0),N(null);try{const ye={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let q=(await Bte(ye)).data||[];if((Pe=n.searchText)!=null&&Pe.trim()){const Re=n.searchText.toLowerCase().trim();q=q.filter(Ee=>{const ae=(Ee.receiptNumber||"").toLowerCase(),Le=(Ee.referenceNumber||"").toLowerCase(),Ze=o.find(Lt=>Lt.id===Ee.companyId),jt=((Ze==null?void 0:Ze.companyName)||"").toLowerCase();return ae.includes(Re)||Le.includes(Re)||jt.includes(Re)||Ee.paymentAmount.toString().includes(Re)})}n.paymentMode&&n.paymentMode!=="All"&&(q=q.filter(Re=>Re.paymentMode===n.paymentMode)),q.sort((Re,Ee)=>{const ae=Re[n.sortBy]||"",Le=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?ae>Le?1:-1:ae<Le?1:-1});const pe=(S-1)*j,oe=pe+j,We=q.slice(pe,oe);A(q),g(We),b(!0),re({totalPayments:q.length,totalAmount:q.reduce((Re,Ee)=>Re+(Ee.paymentAmount||0),0)})}catch(ye){console.error("Error loading payments:",ye),N(ye.message||"Failed to load payment data"),A([]),g([])}finally{x(!1)}},ge=async()=>{a(Pe=>({...Pe,paymentFromDate:i.paymentFromDate||"",paymentToDate:i.paymentToDate||"",companyId:i.companyId||"",status:i.status||"All",paymentMode:i.paymentMode||"All",page:1})),l(!1),await je()},Ie=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),l(!1),await je()};P.useEffect(()=>{if(o.length>0||!n.companyId){const Pe=setTimeout(()=>{je()},500);return()=>clearTimeout(Pe)}},[n,o]);const _e=Pe=>Pe==null?"0.00":`${Pe.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,fe=Pe=>Pe?new Date(Pe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=Pe=>{switch(Pe){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ve=y&&V.totalPayments>0?Math.ceil(V.totalPayments/j):0,se=(S-1)*j,he=Math.min(se+f.length,V.totalPayments),Ne=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:Ne,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Payment Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:u,onChange:Pe=>a(ye=>({...ye,searchText:Pe.target.value,page:1})),onKeyDown:Pe=>{Pe.key==="Enter"&&!m&&(Pe.preventDefault(),je())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Pe=>({...Pe,searchText:"",page:1})),(y||R())&&await je()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:k,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),k.current){const Pe=k.current.getBoundingClientRect();ee({top:Pe.bottom+8,left:Pe.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Pe=>Pe.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentFromDate||"",onChange:Pe=>s(ye=>({...ye,paymentFromDate:Pe.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentToDate||"",onChange:Pe=>s(ye=>({...ye,paymentToDate:Pe.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Pe=>s(ye=>({...ye,companyId:Pe.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Pe=>t.jsxs("option",{value:Pe.id,children:[Pe.companyCode," - ",Pe.companyName]},Pe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Pe=>s(ye=>({...ye,status:Pe.target.value})),children:L.map(Pe=>t.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),t.jsx("select",{className:"filter-modal-select",value:i.paymentMode||"All",onChange:Pe=>s(ye=>({...ye,paymentMode:Pe.target.value})),children:$.map(Pe=>t.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ge(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Receipt No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{className:"text-right",children:"Payment Amount"}),t.jsx("th",{children:"Reference Number"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Pe,ye)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ye}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No payments match "${u.trim()}". Try adjusting your search or filters.`:R()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):f.map((Pe,ye)=>{var ce;return t.jsxs("tr",{className:ye%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Pe.receiptNumber||"N/A"}),t.jsx("td",{children:((ce=o.find(q=>q.id===Pe.companyId))==null?void 0:ce.companyName)||"N/A"}),t.jsx("td",{children:fe(Pe.paymentDate)}),t.jsx("td",{children:Pe.paymentMode}),t.jsx("td",{className:"text-right",children:_e(Pe.paymentAmount)}),t.jsx("td",{children:Pe.referenceNumber||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:le(Pe.status),children:Pe.status})})]},Pe.paymentId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${se+1}-${he} of ${V.totalPayments} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||f.length===0,onChange:async Pe=>{a(ye=>({...ye,page:1,pageSize:Number(Pe.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Pe=Math.max(1,S-1);a(ye=>({...ye,page:Pe}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Pe=[];let ce=Math.max(1,S-Math.floor(2.5)),q=Math.min(ve,ce+5-1);q-ce<4&&(ce=Math.max(1,q-5+1)),ce>1&&(Pe.push(1),ce>2&&Pe.push("..."));for(let pe=ce;pe<=q;pe++)Pe.push(pe);return q<ve&&(q<ve-1&&Pe.push("..."),Pe.push(ve)),Pe.map((pe,oe)=>{if(pe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${oe}`);const We=pe;return t.jsx("button",{className:`pagination-page-btn ${S===We?"active":""}`,onClick:async()=>{a(Re=>({...Re,page:We}))},disabled:!y||f.length===0,children:We},We)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Pe=Math.min(ve,S+1);a(ye=>({...ye,page:Pe}))},disabled:S===ve||ve===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Hne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,j=n.pageSize||25,_=P.useRef(null),k=P.useRef(null),[Z,ee]=P.useState(null),[V,re]=P.useState({totalAgreements:0});P.useEffect(()=>{(async()=>{try{const Ne=await nf.getAllContracts();d(Ne)}catch(Ne){console.error("Error loading master data:",Ne)}})()},[]);const R=()=>{var he;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(he=n.searchText)!=null&&he.trim())},Y=()=>{if(!R())return"No filters applied. Select a date range or search to view agreements.";const he=[];if(n.fromDate&&n.toDate){const Ne=new Date(n.fromDate),Pe=new Date(n.toDate),ye=Ne.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ce=Pe.toLocaleDateString("en-US",{month:"short",day:"numeric"});he.push(`Date: ${ye}${ce}`)}if(n.contractId){const Ne=o.find(Pe=>Pe.id===n.contractId);Ne&&he.push(`Contract: ${Ne.contractNum}`)}return n.status&&n.status!=="All"&&he.push(`Status: ${n.status}`),he.join("  ")},L=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],$=async()=>{var he;x(!0),N(null);try{const Ne={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let Pe=await G0.getAllAgreements(Ne.contractId,Ne.status);if(n.fromDate){const pe=new Date(n.fromDate);Pe=Pe.filter(oe=>new Date(oe.agreementDate)>=pe)}if(n.toDate){const pe=new Date(n.toDate);pe.setHours(23,59,59,999),Pe=Pe.filter(oe=>new Date(oe.agreementDate)<=pe)}if((he=n.searchText)!=null&&he.trim()){const pe=n.searchText.toLowerCase().trim();Pe=Pe.filter(oe=>{const We=(oe.agreementNum||"").toLowerCase(),Re=(oe.contractNum||"").toLowerCase();return We.includes(pe)||Re.includes(pe)})}Pe.sort((pe,oe)=>{const We=pe[n.sortBy]||"",Re=oe[n.sortBy]||"";return n.sortOrder==="ASC"?We>Re?1:-1:We<Re?1:-1});const ye=(S-1)*j,ce=ye+j,q=Pe.slice(ye,ce);A(Pe),g(q),b(!0),re({totalAgreements:Pe.length})}catch(Ne){console.error("Error loading agreements:",Ne),N(Ne.message||"Failed to load agreement data"),A([]),g([])}finally{x(!1)}},je=async()=>{a(he=>({...he,fromDate:i.fromDate||"",toDate:i.toDate||"",contractId:i.contractId||"",status:i.status||"All",page:1})),l(!1),await $()},ge=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",contractId:"",status:"All"}),l(!1),await $()};P.useEffect(()=>{if(o.length>0||!n.contractId){const he=setTimeout(()=>{$()},500);return()=>clearTimeout(he)}},[n,o]);const Ie=he=>he?new Date(he).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",_e=he=>{switch(he){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},fe=y&&V.totalAgreements>0?Math.ceil(V.totalAgreements/j):0,le=(S-1)*j,ve=Math.min(le+f.length,V.totalAgreements),se=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:se,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Agreement Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:u,onChange:he=>a(Ne=>({...Ne,searchText:he.target.value,page:1})),onKeyDown:he=>{he.key==="Enter"&&!m&&(he.preventDefault(),$())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(he=>({...he,searchText:"",page:1})),(y||R())&&await $()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:k,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),k.current){const he=k.current.getBoundingClientRect();ee({top:he.bottom+8,left:he.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:he=>he.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:he=>s(Ne=>({...Ne,fromDate:he.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:he=>s(Ne=>({...Ne,toDate:he.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract"}),t.jsxs("select",{className:"filter-modal-select",value:i.contractId||"",onChange:he=>s(Ne=>({...Ne,contractId:he.target.value})),children:[t.jsx("option",{value:"",children:"Select Contract"}),o.map(he=>t.jsx("option",{value:he.id,children:he.contractNum},he.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:he=>s(Ne=>({...Ne,status:he.target.value})),children:L.map(he=>t.jsx("option",{value:he.value,children:he.label},he.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await je(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Agreement No"}),t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Agreement Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((he,Ne)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ne}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No agreements match "${u.trim()}". Try adjusting your search or filters.`:R()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ge,children:"Clear Filters"})})]})})}):f.map((he,Ne)=>t.jsxs("tr",{className:Ne%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:he.agreementNum}),t.jsx("td",{children:he.contractNum||"N/A"}),t.jsx("td",{children:Ie(he.agreementDate)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:_e(he.status),children:he.status})})]},he.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${le+1}-${ve} of ${V.totalAgreements} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||f.length===0,onChange:async he=>{a(Ne=>({...Ne,page:1,pageSize:Number(he.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.max(1,S-1);a(Ne=>({...Ne,page:he}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const he=[];let Pe=Math.max(1,S-Math.floor(2.5)),ye=Math.min(fe,Pe+5-1);ye-Pe<4&&(Pe=Math.max(1,ye-5+1)),Pe>1&&(he.push(1),Pe>2&&he.push("..."));for(let ce=Pe;ce<=ye;ce++)he.push(ce);return ye<fe&&(ye<fe-1&&he.push("..."),he.push(fe)),he.map((ce,q)=>{if(ce==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${q}`);const pe=ce;return t.jsx("button",{className:`pagination-page-btn ${S===pe?"active":""}`,onClick:async()=>{a(oe=>({...oe,page:pe}))},disabled:!y||f.length===0,children:pe},pe)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const he=Math.min(fe,S+1);a(Ne=>({...Ne,page:he}))},disabled:S===fe||fe===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Qne=()=>{const[r,e]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),i=P.useCallback((A,f)=>{e(g=>({...g,[A]:f}))},[]),s=P.useCallback((A,f)=>{a(g=>({...g,[A]:f}))},[]),c=P.useCallback(()=>{e(A=>({...A,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),l=P.useCallback(()=>{const A={page:1,pageSize:r.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};e(A),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[r.pageSize]),u=P.useCallback((A,f)=>{e(g=>({...g,page:A,...f!==void 0&&{pageSize:f}}))},[]),o=P.useCallback(A=>{e(f=>({...f,searchText:A,page:1}))},[]),d=P.useCallback(()=>{var A;return!!(r.createdFromDate||r.createdToDate||r.companyId||r.hcfId||r.barcodeType&&r.barcodeType!=="All"||r.colorBlock&&r.colorBlock!=="All"||(A=r.searchText)!=null&&A.trim())},[r]),h=P.useCallback(()=>{var f;const A={page:r.page,pageSize:r.pageSize,sortBy:r.sortBy,sortOrder:r.sortOrder};return r.createdFromDate&&(A.createdFromDate=r.createdFromDate),r.createdToDate&&(A.createdToDate=r.createdToDate),r.companyId&&(A.companyId=r.companyId),r.hcfId&&(A.hcfId=r.hcfId),r.barcodeType&&r.barcodeType!=="All"&&(A.barcodeType=r.barcodeType),r.colorBlock&&r.colorBlock!=="All"&&(A.colorBlock=r.colorBlock),(f=r.searchText)!=null&&f.trim()&&(A.searchText=r.searchText.trim()),A},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:d,buildApiFilters:h}},n_=()=>{const r=Pn(),e=ti(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:d}=Qne(),[h,A]=P.useState(!1),f=n.searchText||"",[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState([]),[j,_]=P.useState(!1),[k,Z]=P.useState(!1),[ee,V]=P.useState(null),re=n.page||1,R=n.pageSize||25,Y=P.useRef(null),L=P.useRef(null),[$,je]=P.useState(null),[ge,Ie]=P.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});P.useEffect(()=>{(async()=>{try{const[We,Re]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);m(We),y(Re)}catch(We){console.error("Error loading master data:",We),V(We.message||"Failed to load master data. Please refresh the page."),m([]),y([])}})()},[]);const _e=n.companyId?x.filter(oe=>oe.companyId===n.companyId):x,fe=()=>{if(!o())return"No filters applied. Select a date range or search to view barcode usage.";const oe=[];if(n.createdFromDate&&n.createdToDate){const We=new Date(n.createdFromDate),Re=new Date(n.createdToDate),Ee=We.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ae=Re.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});oe.push(`${Ee} - ${ae}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const We=new Date(n.createdFromDate);oe.push(`From ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const We=new Date(n.createdToDate);oe.push(`To ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const We=g.find(Re=>Re.id===n.companyId);oe.push(We?We.companyName:"Selected Company")}else oe.push("All Companies");if(n.hcfId){const We=_e.find(Re=>Re.id===n.hcfId);oe.push(We?`HCF: ${We.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&oe.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&oe.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${oe.join("  ")}`},le=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],ve=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],se=async()=>{var oe;_(!0),V(null);try{const We=d();let Re=[];if(We.companyId)Re=await rf.getAllBarcodeLabels(We.companyId);else if(g.length>0)for(const jt of g)try{const Lt=await rf.getAllBarcodeLabels(jt.id);Re.push(...Lt)}catch(Lt){console.warn(`Failed to load barcodes for company ${jt.companyName}:`,Lt)}else try{Re=await rf.getAllBarcodeLabels()}catch(jt){console.warn("Failed to load barcodes without company filter:",jt)}let Ee=Re;if(n.createdFromDate){const jt=new Date(n.createdFromDate);Ee=Ee.filter(Lt=>new Date(Lt.createdOn)>=jt)}if(n.createdToDate){const jt=new Date(n.createdToDate);jt.setHours(23,59,59,999),Ee=Ee.filter(Lt=>new Date(Lt.createdOn)<=jt)}if(n.companyId&&(Ee=Ee.filter(jt=>jt.companyId===n.companyId)),n.hcfId&&(Ee=Ee.filter(jt=>jt.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(Ee=Ee.filter(jt=>jt.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(Ee=Ee.filter(jt=>jt.colorBlock===n.colorBlock)),(oe=n.searchText)!=null&&oe.trim()){const jt=n.searchText.toLowerCase().trim();Ee=Ee.filter(Lt=>{const Ct=(Lt.barcodeValue||"").toLowerCase(),Xt=(Lt.hcfCode||"").toLowerCase(),_r=g.find(He=>He.id===Lt.companyId),Or=((_r==null?void 0:_r.companyName)||"").toLowerCase();return Ct.includes(jt)||Xt.includes(jt)||Or.includes(jt)||Lt.sequenceNumber.toString().includes(jt)})}Ee.sort((jt,Lt)=>{const Ct=jt[n.sortBy]||"",Xt=Lt[n.sortBy]||"";return n.sortOrder==="ASC"?Ct>Xt?1:-1:Ct<Xt?1:-1});const ae=(re-1)*R,Le=ae+R,Ze=Ee.slice(ae,Le);w(Ee),S(Ze),Z(!0),Ie({totalBarcodes:Ee.length,barcodeCount:Ee.filter(jt=>jt.barcodeType==="Barcode").length,qrCodeCount:Ee.filter(jt=>jt.barcodeType==="QR Code").length})}catch(We){console.error("Error loading barcodes:",We),V(We.message||"Failed to load barcode usage data"),w([]),S([])}finally{_(!1)}},he=async()=>{s(),A(!1),await se()},Ne=async()=>{c(),A(!1),await se()};P.useEffect(()=>{var oe;if(g.length>0||o()||(oe=n.searchText)!=null&&oe.trim()){const We=setTimeout(()=>{se()},500);return()=>clearTimeout(We)}},[n,g]);const Pe=oe=>oe?new Date(oe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=k&&ge.totalBarcodes>0?Math.ceil(ge.totalBarcodes/R):0,ce=(re-1)*R,q=Math.min(ce+N.length,ge.totalBarcodes),pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:fe()}),ee&&g.length===0&&t.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[t.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${j?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:f,onChange:oe=>u(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&!j&&(oe.preventDefault(),se())},disabled:j}),f&&!j&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{u(""),se()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${h?"active":""} ${j?"loading":""}`,onClick:()=>{if(!j){if(h||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("barcodeType",n.barcodeType||"All"),i("colorBlock",n.colorBlock||"All"),i("createdFromDate",n.createdFromDate||""),i("createdToDate",n.createdToDate||"")),L.current){const oe=L.current.getBoundingClientRect();je({top:oe.bottom+8,left:oe.left})}A(!h)}},disabled:j,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),h&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{A(!1),je(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:oe=>oe.stopPropagation(),style:$?{position:"fixed",top:`${$.top}px`,left:`${$.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("createdFromDate",""),i("createdToDate",""),i("barcodeType","All"),i("colorBlock","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>A(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:oe=>i("createdFromDate",oe.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:oe=>i("createdToDate",oe.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:oe=>{i("companyId",oe.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(oe=>t.jsxs("option",{value:oe.id,children:[oe.companyCode," - ",oe.companyName]},oe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:oe=>i("hcfId",oe.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(oe=>oe.companyId===a.companyId):x).map(oe=>t.jsxs("option",{value:oe.id,children:[oe.hcfCode," - ",oe.hcfName]},oe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),t.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:oe=>i("barcodeType",oe.target.value),children:le.map(oe=>t.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Color Block"}),t.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:oe=>i("colorBlock",oe.target.value),children:ve.map(oe=>t.jsx("option",{value:oe.value,children:oe.label},oe.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:he,disabled:j,children:j?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:Y,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Barcode Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Sequence Number"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:j?Array.from({length:5}).map((oe,We)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${We}`)):k?N.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:f.trim()?`No barcodes match "${f.trim()}". Try adjusting your search or filters.`:o()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(o()||f.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ne,children:"Clear Filters"})})]})})}):N.map((oe,We)=>{const Re=g.find(Ee=>Ee.id===oe.companyId);return t.jsxs("tr",{className:We%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:oe.barcodeValue}),t.jsx("td",{children:oe.hcfCode||"N/A"}),t.jsx("td",{children:(Re==null?void 0:Re.companyName)||"N/A"}),t.jsx("td",{children:oe.barcodeType}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${oe.colorBlock.toLowerCase()}`,children:oe.colorBlock})}),t.jsx("td",{children:oe.sequenceNumber}),t.jsx("td",{children:Pe(oe.createdOn)})]},oe.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:k&&N.length>0?`Showing ${q} of ${ge.totalBarcodes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:R,disabled:!k||N.length===0,onChange:async oe=>{l(1,Number(oe.target.value)),await se()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const oe=Math.max(1,re-1);l(oe),await se()},disabled:re===1||!k||N.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const oe=[];let Re=Math.max(1,re-Math.floor(2.5)),Ee=Math.min(ye,Re+5-1);Ee-Re<4&&(Re=Math.max(1,Ee-5+1)),Re>1&&(oe.push(1),Re>2&&oe.push("..."));for(let ae=Re;ae<=Ee;ae++)oe.push(ae);return Ee<ye&&(Ee<ye-1&&oe.push("..."),oe.push(ye)),oe.map((ae,Le)=>{if(ae==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const Ze=ae;return t.jsx("button",{className:`pagination-page-btn ${re===Ze?"active":""}`,onClick:async()=>{l(Ze),await se()},disabled:!k||N.length===0,children:Ze},Ze)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const oe=Math.min(ye,re+1);l(oe),await se()},disabled:re===ye||ye===0||!k||N.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Wne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});P.useEffect(()=>{(async()=>{try{const[Ee,ae]=await Promise.all([Qa.getAllCompanies(),P0.getAllRoles()]);d(Ee),A(ae)}catch(Ee){console.error("Error loading master data:",Ee)}})()},[]);const L=n.companyId?h.filter(Re=>Re.companyId===n.companyId):h,$=()=>{var Re;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.roleId||n.status&&n.status!=="All"||n.employmentType&&n.employmentType!=="All"||(Re=n.searchText)!=null&&Re.trim())},je=()=>{if(!$())return"No filters applied. Select a date range or search to view users.";const Re=[];if(n.createdFromDate&&n.createdToDate){const Ee=new Date(n.createdFromDate),ae=new Date(n.createdToDate),Le=Ee.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ze=ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Re.push(`${Le} - ${Ze}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Ee=new Date(n.createdFromDate);Re.push(`From ${Ee.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Ee=new Date(n.createdToDate);Re.push(`To ${Ee.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Ee=o.find(ae=>ae.id===n.companyId);Re.push(Ee?Ee.companyName:"Selected Company")}else Re.push("All Companies");if(n.roleId){const Ee=L.find(ae=>ae.roleId===n.roleId);Re.push(Ee?Ee.roleName:"Selected Role")}else Re.push("All Roles");return n.status&&n.status!=="All"?Re.push(n.status):Re.push("All Status"),`Showing users for: ${Re.join("  ")}`},ge=(Re,Ee)=>{s(ae=>({...ae,[Re]:Ee}))},Ie=()=>{a(Re=>({...Re,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",roleId:i.roleId||"",status:i.status||"All",employmentType:i.employmentType||"All",page:1}))},_e=()=>{const Re={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Re),s({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},fe=(Re,Ee)=>{a(ae=>({...ae,page:Re,...Ee!==void 0&&{pageSize:Ee}}))},le=Re=>{a(Ee=>({...Ee,searchText:Re,page:1}))},ve=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],se=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],he=async()=>{var Re;b(!0),j(null);try{let Ee=[];if(n.companyId)Ee=await $l.getUsersByCompany(n.companyId);else{const Lt=o.length>0?o:await Qa.getAllCompanies();for(const Ct of Lt)try{const Xt=await $l.getUsersByCompany(Ct.id);Ee.push(...Xt)}catch(Xt){console.warn(`Failed to load users for company ${Ct.companyName}:`,Xt)}}let ae=Ee;if(n.createdFromDate){const Lt=new Date(n.createdFromDate);ae=ae.filter(Ct=>new Date(Ct.createdOn)>=Lt)}if(n.createdToDate){const Lt=new Date(n.createdToDate);Lt.setHours(23,59,59,999),ae=ae.filter(Ct=>new Date(Ct.createdOn)<=Lt)}if(n.roleId&&(ae=ae.filter(Lt=>Lt.userRoleId===n.roleId)),n.status&&n.status!=="All"&&(ae=ae.filter(Lt=>Lt.status===n.status)),n.employmentType&&n.employmentType!=="All"&&(ae=ae.filter(Lt=>Lt.employmentType===n.employmentType)),(Re=n.searchText)!=null&&Re.trim()){const Lt=n.searchText.toLowerCase().trim();ae=ae.filter(Ct=>{const Xt=(Ct.userName||"").toLowerCase(),_r=(Ct.employeeCode||"").toLowerCase(),Or=(Ct.emailAddress||"").toLowerCase(),He=(Ct.mobileNumber||"").toLowerCase();return Xt.includes(Lt)||_r.includes(Lt)||Or.includes(Lt)||He.includes(Lt)})}ae.sort((Lt,Ct)=>{const Xt=Lt[n.sortBy]||"",_r=Ct[n.sortBy]||"";return n.sortOrder==="ASC"?Xt>_r?1:-1:Xt<_r?1:-1});const Le=(_-1)*k,Ze=Le+k,jt=ae.slice(Le,Ze);g(ae),x(jt),N(!0),Y({totalUsers:ae.length,activeUsers:ae.filter(Lt=>Lt.status==="Active").length,inactiveUsers:ae.filter(Lt=>Lt.status==="Inactive").length})}catch(Ee){console.error("Error loading users:",Ee),j(Ee.message||"Failed to load users"),g([]),x([])}finally{b(!1)}};P.useEffect(()=>{if(o.length>0){const Re=setTimeout(()=>{he()},500);return()=>clearTimeout(Re)}},[n,o]);const Ne=async()=>{Ie(),l(!1),await he()},Pe=async()=>{_e(),l(!1),await he()},ye=Re=>Re?new Date(Re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=Re=>{switch(Re){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},q=w&&R.totalUsers>0?Math.ceil(R.totalUsers/k):0,pe=(_-1)*k,oe=Math.min(pe+m.length,R.totalUsers),We=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:We,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"User Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:u,onChange:Re=>le(Re.target.value),onKeyDown:Re=>{Re.key==="Enter"&&!y&&(Re.preventDefault(),he())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{le(""),he()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||(ge("companyId",n.companyId||""),ge("roleId",n.roleId||""),ge("status",n.status||"All"),ge("employmentType",n.employmentType||"All"),ge("createdFromDate",n.createdFromDate||""),ge("createdToDate",n.createdToDate||"")),ee.current){const Re=ee.current.getBoundingClientRect();re({top:Re.bottom+8,left:Re.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Re=>Re.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{ge("companyId",""),ge("roleId",""),ge("createdFromDate",""),ge("createdToDate",""),ge("status","All"),ge("employmentType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Re=>ge("createdFromDate",Re.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Re=>ge("createdToDate",Re.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Re=>{ge("companyId",Re.target.value),ge("roleId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Re=>t.jsxs("option",{value:Re.id,children:[Re.companyCode," - ",Re.companyName]},Re.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Role"}),t.jsxs("select",{className:"filter-modal-select",value:i.roleId||"",onChange:Re=>ge("roleId",Re.target.value),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select Role"}),(i.companyId?h.filter(Re=>Re.companyId===i.companyId):h).map(Re=>t.jsx("option",{value:Re.roleId,children:Re.roleName},Re.roleId))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Re=>ge("status",Re.target.value),children:ve.map(Re=>t.jsx("option",{value:Re.value,children:Re.label},Re.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),t.jsx("select",{className:"filter-modal-select",value:i.employmentType||"All",onChange:Re=>ge("employmentType",Re.target.value),children:se.map(Re=>t.jsx("option",{value:Re.value,children:Re.label},Re.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ne,disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Employee Code"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Mobile"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Role"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Re,Ee)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Ee}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No users match "${u.trim()}". Try adjusting your search or filters.`:$()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Pe,children:"Clear Filters"})})]})})}):m.map((Re,Ee)=>{const ae=h.find(Ze=>Ze.roleId===Re.userRoleId),Le=o.find(Ze=>Ze.id===Re.companyId);return t.jsxs("tr",{className:Ee%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Re.userName}),t.jsx("td",{children:Re.employeeCode||"N/A"}),t.jsx("td",{children:Re.emailAddress||"N/A"}),t.jsx("td",{children:Re.mobileNumber}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:(ae==null?void 0:ae.roleName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(Re.status),children:Re.status})}),t.jsx("td",{children:Re.employmentType||"N/A"}),t.jsx("td",{children:ye(Re.createdOn)})]},Re.userId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${oe} of ${R.totalUsers} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async Re=>{fe(1,Number(Re.target.value)),await he()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Re=Math.max(1,_-1);fe(Re),await he()},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Re=[];let ae=Math.max(1,_-Math.floor(2.5)),Le=Math.min(q,ae+5-1);Le-ae<4&&(ae=Math.max(1,Le-5+1)),ae>1&&(Re.push(1),ae>2&&Re.push("..."));for(let Ze=ae;Ze<=Le;Ze++)Re.push(Ze);return Le<q&&(Le<q-1&&Re.push("..."),Re.push(q)),Re.map((Ze,jt)=>{if(Ze==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${jt}`);const Lt=Ze;return t.jsx("button",{className:`pagination-page-btn ${_===Lt?"active":""}`,onClick:async()=>{fe(Lt),await he()},disabled:!w||m.length===0,children:Lt},Lt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Re=Math.min(q,_+1);fe(Re),await he()},disabled:_===q||q===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},$ne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,j=n.pageSize||25,_=P.useRef(null),k=P.useRef(null),[Z,ee]=P.useState(null),[V,re]=P.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});P.useEffect(()=>{(async()=>{try{const ae=await Qa.getAllCompanies();d(ae)}catch(ae){console.error("Error loading master data:",ae)}})()},[]);const R=()=>{var Ee;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(Ee=n.searchText)!=null&&Ee.trim())},Y=()=>{if(!R())return"No filters applied. Select a date range or search to view fleet vehicles.";const Ee=[];if(n.createdFromDate&&n.createdToDate){const ae=new Date(n.createdFromDate),Le=new Date(n.createdToDate),Ze=ae.toLocaleDateString("en-US",{month:"short",day:"numeric"}),jt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ee.push(`${Ze} - ${jt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ae=new Date(n.createdFromDate);Ee.push(`From ${ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ae=new Date(n.createdToDate);Ee.push(`To ${ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ae=o.find(Le=>Le.id===n.companyId);Ee.push(ae?ae.companyName:"Selected Company")}else Ee.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&Ee.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?Ee.push(n.status):Ee.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&Ee.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${Ee.join("  ")}`},L=(Ee,ae)=>{s(Le=>({...Le,[Ee]:ae}))},$=()=>{a(Ee=>({...Ee,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},je=()=>{const Ee={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ee),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},ge=(Ee,ae)=>{a(Le=>({...Le,page:Ee,...ae!==void 0&&{pageSize:ae}}))},Ie=Ee=>{a(ae=>({...ae,searchText:Ee,page:1}))},_e=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],fe=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],le=()=>{const Ee=new Set;return h.forEach(ae=>{ae.vehMake&&Ee.add(ae.vehMake)}),Array.from(Ee).sort()},ve=Ee=>{const ae=new Date;ae.setHours(0,0,0,0);const Le=[Ee.nextFCDate?new Date(Ee.nextFCDate):null,Ee.pucDateValidUpto?new Date(Ee.pucDateValidUpto):null,Ee.insuranceValidUpto?new Date(Ee.insuranceValidUpto):null].filter(Boolean);if(Le.length===0)return"Compliant";if(Le.filter(Ct=>Ct<ae).length>0)return"Expired";const jt=new Date(ae);return jt.setDate(jt.getDate()+30),Le.filter(Ct=>Ct<=jt&&Ct>=ae).length>0?"Expiring Soon":"Compliant"},se=async()=>{var Ee;x(!0),N(null);try{let ae=[];if(n.companyId)ae=await Bh.getAllFleets(n.companyId);else{const Ct=o.length>0?o:await Qa.getAllCompanies();for(const Xt of Ct)try{const _r=await Bh.getAllFleets(Xt.id);ae.push(..._r)}catch(_r){console.warn(`Failed to load fleets for company ${Xt.companyName}:`,_r)}}let Le=ae;if(n.createdFromDate){const Ct=new Date(n.createdFromDate);Le=Le.filter(Xt=>new Date(Xt.createdOn)>=Ct)}if(n.createdToDate){const Ct=new Date(n.createdToDate);Ct.setHours(23,59,59,999),Le=Le.filter(Xt=>new Date(Xt.createdOn)<=Ct)}if(n.companyId&&(Le=Le.filter(Ct=>Ct.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Le=Le.filter(Ct=>Ct.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Le=Le.filter(Ct=>Ct.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Le=Le.filter(Ct=>ve(Ct)===n.complianceStatus)),(Ee=n.searchText)!=null&&Ee.trim()){const Ct=n.searchText.toLowerCase().trim();Le=Le.filter(Xt=>{const _r=(Xt.vehicleNum||"").toLowerCase(),Or=(Xt.vehMake||"").toLowerCase(),He=(Xt.vehModel||"").toLowerCase(),Zt=(Xt.ownerName||"").toLowerCase(),Bt=(Xt.ownerContact||"").toLowerCase(),$r=(Xt.capacity||"").toLowerCase();return _r.includes(Ct)||Or.includes(Ct)||He.includes(Ct)||Zt.includes(Ct)||Bt.includes(Ct)||$r.includes(Ct)})}Le.sort((Ct,Xt)=>{const _r=Ct[n.sortBy]||"",Or=Xt[n.sortBy]||"";return n.sortOrder==="ASC"?_r>Or?1:-1:_r<Or?1:-1});const Ze=(S-1)*j,jt=Ze+j,Lt=Le.slice(Ze,jt);A(Le),g(Lt),b(!0),re({totalFleets:Le.length,activeFleets:Le.filter(Ct=>Ct.status==="Active").length,inactiveFleets:Le.filter(Ct=>Ct.status==="Inactive").length})}catch(ae){console.error("Error loading fleets:",ae),N(ae.message||"Failed to load fleet vehicles"),A([]),g([])}finally{x(!1)}};P.useEffect(()=>{if(o.length>0){const Ee=setTimeout(()=>{se()},500);return()=>clearTimeout(Ee)}},[n,o]);const he=async()=>{$(),l(!1),await se()},Ne=async()=>{je(),l(!1),await se()},Pe=Ee=>Ee?new Date(Ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=Ee=>{switch(Ee){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},ce=Ee=>{switch(Ee){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},q=y&&V.totalFleets>0?Math.ceil(V.totalFleets/j):0,pe=(S-1)*j,oe=Math.min(pe+f.length,V.totalFleets),We=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Re=le();return t.jsx(bc,{navItems:We,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:Ee=>Ie(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&!m&&(Ee.preventDefault(),se())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Ie(""),se()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:k,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||(L("companyId",n.companyId||""),L("vehMake",n.vehMake||""),L("status",n.status||"All"),L("complianceStatus",n.complianceStatus||"All"),L("createdFromDate",n.createdFromDate||""),L("createdToDate",n.createdToDate||"")),k.current){const Ee=k.current.getBoundingClientRect();ee({top:Ee.bottom+8,left:Ee.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ee=>Ee.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{L("companyId",""),L("vehMake",""),L("createdFromDate",""),L("createdToDate",""),L("status","All"),L("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ee=>L("createdFromDate",Ee.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ee=>L("createdToDate",Ee.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ee=>L("companyId",Ee.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.companyCode," - ",Ee.companyName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:Ee=>L("vehMake",Ee.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Re.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ee=>L("status",Ee.target.value),children:_e.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:Ee=>L("complianceStatus",Ee.target.value),children:fe.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:he,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ee,ae)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ae}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:R()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ne,children:"Clear Filters"})})]})})}):f.map((Ee,ae)=>{const Le=o.find(jt=>jt.id===Ee.companyId),Ze=ve(Ee);return t.jsxs("tr",{className:ae%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ee.vehicleNum}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:Ee.vehMake||"N/A"}),t.jsx("td",{children:Ee.vehModel||"N/A"}),t.jsx("td",{children:Ee.capacity||"N/A"}),t.jsx("td",{children:Ee.ownerName||"N/A"}),t.jsx("td",{children:Ee.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ye(Ee.status),children:Ee.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(Ze),children:Ze})}),t.jsx("td",{children:Pe(Ee.createdOn)})]},Ee.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${oe} of ${V.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||f.length===0,onChange:async Ee=>{ge(1,Number(Ee.target.value)),await se()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.max(1,S-1);ge(Ee),await se()},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ee=[];let Le=Math.max(1,S-Math.floor(2.5)),Ze=Math.min(q,Le+5-1);Ze-Le<4&&(Le=Math.max(1,Ze-5+1)),Le>1&&(Ee.push(1),Le>2&&Ee.push("..."));for(let jt=Le;jt<=Ze;jt++)Ee.push(jt);return Ze<q&&(Ze<q-1&&Ee.push("..."),Ee.push(q)),Ee.map((jt,Lt)=>{if(jt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Lt}`);const Ct=jt;return t.jsx("button",{className:`pagination-page-btn ${S===Ct?"active":""}`,onClick:async()=>{ge(Ct),await se()},disabled:!y||f.length===0,children:Ct},Ct)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.min(q,S+1);ge(Ee),await se()},disabled:S===q||q===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},a_=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});P.useEffect(()=>{(async()=>{try{const[ce,q]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(ce),A(q)}catch(ce){console.error("Error loading master data:",ce)}})()},[]);const L=n.companyId?h.filter(ye=>ye.companyId===n.companyId):h,$=()=>{var ye;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(ye=n.searchText)!=null&&ye.trim())},je=()=>{if(!$())return"No filters applied. Select a date range or search to view revenue analysis.";const ye=[];if(n.fromDate&&n.toDate){const ce=new Date(n.fromDate),q=new Date(n.toDate),pe=ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),oe=q.toLocaleDateString("en-US",{month:"short",day:"numeric"});ye.push(`Date: ${pe}${oe}`)}if(n.companyId){const ce=o.find(q=>q.id===n.companyId);ce&&ye.push(`Company: ${ce.companyName}`)}if(n.hcfId){const ce=L.find(q=>q.id===n.hcfId);ce&&ye.push(`HCF: ${ce.hcfCode}`)}return n.groupBy&&ye.push(`Group By: ${n.groupBy}`),ye.join("  ")},ge=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],Ie=async()=>{var ye;b(!0),j(null);try{const ce={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let pe=((await K0(ce)).data||[]).map(Ee=>({invoiceId:Ee.invoiceId,companyId:Ee.companyId,hcfId:Ee.hcfId,invoiceNumber:Ee.invoiceNumber,invoiceDate:Ee.invoiceDate,dueDate:Ee.dueDate,billingType:Ee.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Ee.invoiceValue,totalPaidAmount:Ee.totalPaidAmount,balanceAmount:Ee.balanceAmount,status:Ee.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Ee.companyName,companyCode:Ee.companyCode,hcfName:Ee.hcfName,hcfCode:Ee.hcfCode}));if((ye=n.searchText)!=null&&ye.trim()){const Ee=n.searchText.toLowerCase().trim();pe=pe.filter(ae=>{const Le=(ae.invoiceNumber||"").toLowerCase(),Ze=(ae.companyName||"").toLowerCase(),jt=(ae.hcfCode||"").toLowerCase();return Le.includes(Ee)||Ze.includes(Ee)||jt.includes(Ee)||ae.invoiceValue.toString().includes(Ee)})}pe.sort((Ee,ae)=>{const Le=Ee[n.sortBy]||"",Ze=ae[n.sortBy]||"";return n.sortOrder==="ASC"?Le>Ze?1:-1:Le<Ze?1:-1});const oe=(_-1)*k,We=oe+k,Re=pe.slice(oe,We);g(pe),x(Re),N(!0),Y({totalRevenue:pe.reduce((Ee,ae)=>Ee+(ae.invoiceValue||0),0),totalInvoices:pe.length,paidAmount:pe.reduce((Ee,ae)=>Ee+(ae.totalPaidAmount||0),0)})}catch(ce){console.error("Error loading revenue data:",ce),j(ce.message||"Failed to load revenue analysis data"),g([]),x([])}finally{b(!1)}},_e=async()=>{a(ye=>({...ye,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",groupBy:i.groupBy||"Company",page:1})),l(!1),await Ie()},fe=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),l(!1),await Ie()};P.useEffect(()=>{if(o.length>0||!n.companyId){const ye=setTimeout(()=>{Ie()},500);return()=>clearTimeout(ye)}},[n,o]);const le=ye=>ye==null?"0.00":`${ye.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ve=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=w&&R.totalInvoices>0?Math.ceil(R.totalInvoices/k):0,he=(_-1)*k,Ne=Math.min(he+m.length,R.totalInvoices),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:ye=>a(ce=>({...ce,searchText:ye.target.value,page:1})),onKeyDown:ye=>{ye.key==="Enter"&&!y&&(ye.preventDefault(),Ie())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ye=>({...ye,searchText:"",page:1})),(w||$())&&await Ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),ee.current){const ye=ee.current.getBoundingClientRect();re({top:ye.bottom+8,left:ye.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Date Range"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:ye=>s(ce=>({...ce,fromDate:ye.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:ye=>s(ce=>({...ce,toDate:ye.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ye=>{s(ce=>({...ce,companyId:ye.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ye=>t.jsxs("option",{value:ye.id,children:[ye.companyCode," - ",ye.companyName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ye=>s(ce=>({...ce,hcfId:ye.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(ye=>ye.companyId===i.companyId):h).map(ye=>t.jsxs("option",{value:ye.id,children:[ye.hcfCode," - ",ye.hcfName]},ye.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Group By"}),t.jsx("select",{className:"filter-modal-select",value:i.groupBy||"Company",onChange:ye=>s(ce=>({...ce,groupBy:ye.target.value})),children:ge.map(ye=>t.jsx("option",{value:ye.value,children:ye.label},ye.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await _e(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Revenue"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ye,ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ce}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No data match "${u.trim()}". Try adjusting your search or filters.`:$()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:fe,children:"Clear Filters"})})]})})}):m.map((ye,ce)=>t.jsxs("tr",{className:ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ye.invoiceNumber}),t.jsx("td",{children:ye.companyName||"N/A"}),t.jsx("td",{children:ye.hcfCode||"N/A"}),t.jsx("td",{children:ve(ye.invoiceDate)}),t.jsx("td",{className:"text-right",children:le(ye.invoiceValue)}),t.jsx("td",{className:"text-right",children:le(ye.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:le(ye.invoiceValue)})]},ye.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${he+1}-${Ne} of ${R.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async ye=>{a(ce=>({...ce,page:1,pageSize:Number(ye.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,_-1);a(ce=>({...ce,page:ye}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let q=Math.max(1,_-Math.floor(2.5)),pe=Math.min(se,q+5-1);pe-q<4&&(q=Math.max(1,pe-5+1)),q>1&&(ye.push(1),q>2&&ye.push("..."));for(let oe=q;oe<=pe;oe++)ye.push(oe);return pe<se&&(pe<se-1&&ye.push("..."),ye.push(se)),ye.map((oe,We)=>{if(oe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const Re=oe;return t.jsx("button",{className:`pagination-page-btn ${_===Re?"active":""}`,onClick:async()=>{a(Ee=>({...Ee,page:Re}))},disabled:!w||m.length===0,children:Re},Re)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(se,_+1);a(ce=>({...ce,page:ye}))},disabled:_===se||se===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},i_=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalOutstanding:0,totalInvoices:0});P.useEffect(()=>{(async()=>{try{const[pe,oe]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(pe),A(oe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const L=n.companyId?h.filter(q=>q.companyId===n.companyId):h,$=()=>{var q;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(q=n.searchText)!=null&&q.trim())},je=()=>{if(!$())return"No filters applied. Select a date range or search to view outstanding payments.";const q=[];if(n.fromDate&&n.toDate){const pe=new Date(n.fromDate),oe=new Date(n.toDate),We=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Re=oe.toLocaleDateString("en-US",{month:"short",day:"numeric"});q.push(`Date: ${We}${Re}`)}if(n.companyId){const pe=o.find(oe=>oe.id===n.companyId);pe&&q.push(`Company: ${pe.companyName}`)}if(n.hcfId){const pe=L.find(oe=>oe.id===n.hcfId);pe&&q.push(`HCF: ${pe.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&q.push(`Aging: ${n.agingPeriod}`),q.join("  ")},ge=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],Ie=q=>{const pe=new Date(q),We=Math.abs(new Date().getTime()-pe.getTime());return Math.ceil(We/(1e3*60*60*24))},_e=async()=>{var q;b(!0),j(null);try{const pe={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let We=((await K0(pe)).data||[]).map(Le=>({invoiceId:Le.invoiceId,companyId:Le.companyId,hcfId:Le.hcfId,invoiceNumber:Le.invoiceNumber,invoiceDate:Le.invoiceDate,dueDate:Le.dueDate,billingType:Le.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Le.invoiceValue,totalPaidAmount:Le.totalPaidAmount,balanceAmount:Le.balanceAmount,status:Le.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Le.companyName,companyCode:Le.companyCode,hcfName:Le.hcfName,hcfCode:Le.hcfCode}));if(We=We.filter(Le=>(Le.balanceAmount||0)>0),(q=n.searchText)!=null&&q.trim()){const Le=n.searchText.toLowerCase().trim();We=We.filter(Ze=>{const jt=(Ze.invoiceNumber||"").toLowerCase(),Lt=(Ze.companyName||"").toLowerCase(),Ct=(Ze.hcfCode||"").toLowerCase();return jt.includes(Le)||Lt.includes(Le)||Ct.includes(Le)||Ze.balanceAmount.toString().includes(Le)})}n.agingPeriod&&n.agingPeriod!=="All"&&(We=We.filter(Le=>{const Ze=Ie(Le.invoiceDate);switch(n.agingPeriod){case"0-30":return Ze>=0&&Ze<=30;case"31-60":return Ze>=31&&Ze<=60;case"61-90":return Ze>=61&&Ze<=90;case"90+":return Ze>90;default:return!0}})),We.sort((Le,Ze)=>{const jt=Le[n.sortBy]||"",Lt=Ze[n.sortBy]||"";return n.sortOrder==="ASC"?jt>Lt?1:-1:jt<Lt?1:-1});const Re=(_-1)*k,Ee=Re+k,ae=We.slice(Re,Ee);g(We),x(ae),N(!0),Y({totalOutstanding:We.reduce((Le,Ze)=>Le+(Ze.balanceAmount||0),0),totalInvoices:We.length})}catch(pe){console.error("Error loading outstanding data:",pe),j(pe.message||"Failed to load outstanding payment data"),g([]),x([])}finally{b(!1)}},fe=async()=>{a(q=>({...q,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",agingPeriod:i.agingPeriod||"All",page:1})),l(!1),await _e()},le=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),l(!1),await _e()};P.useEffect(()=>{if(o.length>0||!n.companyId){const q=setTimeout(()=>{_e()},500);return()=>clearTimeout(q)}},[n,o]);const ve=q=>q==null?"0.00":`${q.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,se=q=>q?new Date(q).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",he=q=>{switch(q){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ne=w&&R.totalInvoices>0?Math.ceil(R.totalInvoices/k):0,Pe=(_-1)*k,ye=Math.min(Pe+m.length,R.totalInvoices),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:q=>a(pe=>({...pe,searchText:q.target.value,page:1})),onKeyDown:q=>{q.key==="Enter"&&!y&&(q.preventDefault(),_e())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(q=>({...q,searchText:"",page:1})),(w||$())&&await _e()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),ee.current){const q=ee.current.getBoundingClientRect();re({top:q.bottom+8,left:q.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:q=>q.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:q=>s(pe=>({...pe,fromDate:q.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:q=>s(pe=>({...pe,toDate:q.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:q=>{s(pe=>({...pe,companyId:q.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(q=>t.jsxs("option",{value:q.id,children:[q.companyCode," - ",q.companyName]},q.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:q=>s(pe=>({...pe,hcfId:q.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(q=>q.companyId===i.companyId):h).map(q=>t.jsxs("option",{value:q.id,children:[q.hcfCode," - ",q.hcfName]},q.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),t.jsx("select",{className:"filter-modal-select",value:i.agingPeriod||"All",onChange:q=>s(pe=>({...pe,agingPeriod:q.target.value})),children:ge.map(q=>t.jsx("option",{value:q.value,children:q.label},q.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Outstanding"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((q,pe)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No outstanding payments match "${u.trim()}". Try adjusting your search or filters.`:$()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):m.map((q,pe)=>t.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:q.invoiceNumber}),t.jsx("td",{children:q.companyName||"N/A"}),t.jsx("td",{children:q.hcfCode||"N/A"}),t.jsx("td",{children:se(q.invoiceDate)}),t.jsx("td",{children:se(q.dueDate)}),t.jsx("td",{className:"text-right",children:ve(q.invoiceValue)}),t.jsx("td",{className:"text-right",children:ve(q.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:ve(q.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:he(q.status),children:q.status})})]},q.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Pe+1}-${ye} of ${R.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async q=>{a(pe=>({...pe,page:1,pageSize:Number(q.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const q=Math.max(1,_-1);a(pe=>({...pe,page:q}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const q=[];let oe=Math.max(1,_-Math.floor(2.5)),We=Math.min(Ne,oe+5-1);We-oe<4&&(oe=Math.max(1,We-5+1)),oe>1&&(q.push(1),oe>2&&q.push("..."));for(let Re=oe;Re<=We;Re++)q.push(Re);return We<Ne&&(We<Ne-1&&q.push("..."),q.push(Ne)),q.map((Re,Ee)=>{if(Re==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ee}`);const ae=Re;return t.jsx("button",{className:`pagination-page-btn ${_===ae?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:ae}))},disabled:!w||m.length===0,children:ae},ae)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const q=Math.min(Ne,_+1);a(pe=>({...pe,page:q}))},disabled:_===Ne||Ne===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Vne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[i,s]=P.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalContracts:0,expiringSoon:0});P.useEffect(()=>{(async()=>{try{const[pe,oe]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(pe),A(oe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const L=n.companyId?h.filter(q=>q.companyId===n.companyId):h,$=()=>{var q;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(q=n.searchText)!=null&&q.trim())},je=()=>{if(!$())return"No filters applied. View contracts that are due for renewal.";const q=[];if(n.companyId){const pe=o.find(oe=>oe.id===n.companyId);pe&&q.push(`Company: ${pe.companyName}`)}if(n.hcfId){const pe=L.find(oe=>oe.id===n.hcfId);pe&&q.push(`HCF: ${pe.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&q.push(`Expiring: ${n.daysToExpiry}`),q.join("  ")},ge=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],Ie=q=>{const pe=new Date(q),oe=new Date,We=pe.getTime()-oe.getTime();return Math.ceil(We/(1e3*60*60*24))},_e=async()=>{var q;b(!0),j(null);try{const pe={companyId:n.companyId||void 0,status:"Active"};let oe=await nf.getAllContracts(pe.companyId,pe.status);if(n.hcfId&&(oe=oe.filter(Le=>Le.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(oe=oe.filter(Le=>{const Ze=Ie(Le.endDate);switch(n.daysToExpiry){case"0-30":return Ze>=0&&Ze<=30;case"31-60":return Ze>=31&&Ze<=60;case"61-90":return Ze>=61&&Ze<=90;case"90+":return Ze>90;default:return!0}})),(q=n.searchText)!=null&&q.trim()){const Le=n.searchText.toLowerCase().trim();oe=oe.filter(Ze=>{const jt=(Ze.contractNum||"").toLowerCase(),Lt=o.find(Or=>Or.id===Ze.companyId),Ct=((Lt==null?void 0:Lt.companyName)||"").toLowerCase(),Xt=h.find(Or=>Or.id===Ze.hcfId),_r=((Xt==null?void 0:Xt.hcfCode)||"").toLowerCase();return jt.includes(Le)||Ct.includes(Le)||_r.includes(Le)})}oe.sort((Le,Ze)=>{const jt=Le[n.sortBy]||"",Lt=Ze[n.sortBy]||"";return n.sortOrder==="ASC"?jt>Lt?1:-1:jt<Lt?1:-1});const We=(_-1)*k,Re=We+k,Ee=oe.slice(We,Re);g(oe),x(Ee),N(!0);const ae=oe.filter(Le=>{const Ze=Ie(Le.endDate);return Ze>=0&&Ze<=90}).length;Y({totalContracts:oe.length,expiringSoon:ae})}catch(pe){console.error("Error loading contracts:",pe),j(pe.message||"Failed to load contract renewal data"),g([]),x([])}finally{b(!1)}},fe=async()=>{a(q=>({...q,companyId:i.companyId||"",hcfId:i.hcfId||"",daysToExpiry:i.daysToExpiry||"All",page:1})),l(!1),await _e()},le=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),s({companyId:"",hcfId:"",daysToExpiry:"All"}),l(!1),await _e()};P.useEffect(()=>{if(o.length>0||!n.companyId){const q=setTimeout(()=>{_e()},500);return()=>clearTimeout(q)}},[n,o]);const ve=q=>q?new Date(q).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=q=>{switch(q){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},he=q=>q<0?"status-badge status-badge--cancelled":q<=30?"status-badge status-badge--due":q<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",Ne=w&&R.totalContracts>0?Math.ceil(R.totalContracts/k):0,Pe=(_-1)*k,ye=Math.min(Pe+m.length,R.totalContracts),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:q=>a(pe=>({...pe,searchText:q.target.value,page:1})),onKeyDown:q=>{q.key==="Enter"&&!y&&(q.preventDefault(),_e())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(q=>({...q,searchText:"",page:1})),(w||$())&&await _e()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),ee.current){const q=ee.current.getBoundingClientRect();re({top:q.bottom+8,left:q.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:q=>q.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:q=>{s(pe=>({...pe,companyId:q.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(q=>t.jsxs("option",{value:q.id,children:[q.companyCode," - ",q.companyName]},q.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:q=>s(pe=>({...pe,hcfId:q.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(q=>q.companyId===i.companyId):h).map(q=>t.jsxs("option",{value:q.id,children:[q.hcfCode," - ",q.hcfName]},q.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),t.jsx("select",{className:"filter-modal-select",value:i.daysToExpiry||"All",onChange:q=>s(pe=>({...pe,daysToExpiry:q.target.value})),children:ge.map(q=>t.jsx("option",{value:q.value,children:q.label},q.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Days to Expiry"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((q,pe)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:$()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):m.map((q,pe)=>{var We,Re;const oe=Ie(q.endDate);return t.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:q.contractNum}),t.jsx("td",{children:((We=o.find(Ee=>Ee.id===q.companyId))==null?void 0:We.companyName)||"N/A"}),t.jsx("td",{children:((Re=h.find(Ee=>Ee.id===q.hcfId))==null?void 0:Re.hcfCode)||"N/A"}),t.jsx("td",{children:ve(q.startDate)}),t.jsx("td",{children:ve(q.endDate)}),t.jsx("td",{children:t.jsx("span",{className:he(oe),children:oe<0?"Expired":`${oe} days`})}),t.jsx("td",{children:q.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:se(q.status),children:q.status})})]},q.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Pe+1}-${ye} of ${R.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async q=>{a(pe=>({...pe,page:1,pageSize:Number(q.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const q=Math.max(1,_-1);a(pe=>({...pe,page:q}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const q=[];let oe=Math.max(1,_-Math.floor(2.5)),We=Math.min(Ne,oe+5-1);We-oe<4&&(oe=Math.max(1,We-5+1)),oe>1&&(q.push(1),oe>2&&q.push("..."));for(let Re=oe;Re<=We;Re++)q.push(Re);return We<Ne&&(We<Ne-1&&q.push("..."),q.push(Ne)),q.map((Re,Ee)=>{if(Re==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ee}`);const ae=Re;return t.jsx("button",{className:`pagination-page-btn ${_===ae?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:ae}))},disabled:!w||m.length===0,children:ae},ae)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const q=Math.min(Ne,_+1);a(pe=>({...pe,page:q}))},disabled:_===Ne||Ne===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},zne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[i,s]=P.useState({companyId:"",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,j=n.pageSize||25,_=P.useRef(null),k=P.useRef(null),[Z,ee]=P.useState(null),[V,re]=P.useState({totalRoutes:0});P.useEffect(()=>{(async()=>{try{const he=await Qa.getAllCompanies();d(he)}catch(he){console.error("Error loading master data:",he)}})()},[]);const R=()=>{var se;return!!(n.companyId||n.status&&n.status!=="All"||(se=n.searchText)!=null&&se.trim())},Y=()=>{if(!R())return"No filters applied. View all routes.";const se=[];if(n.companyId){const he=o.find(Ne=>Ne.id===n.companyId);he&&se.push(`Company: ${he.companyName}`)}return n.status&&n.status!=="All"&&se.push(`Status: ${n.status}`),se.join("  ")},L=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],$=async()=>{var se;x(!0),N(null);try{let he=await JA.getAllRoutes(!0);if(n.companyId&&(he=he.filter(ce=>ce.companyId===n.companyId)),n.status&&n.status!=="All"&&(he=he.filter(ce=>ce.status===n.status)),(se=n.searchText)!=null&&se.trim()){const ce=n.searchText.toLowerCase().trim();he=he.filter(q=>{const pe=(q.routeCode||"").toLowerCase(),oe=(q.routeName||"").toLowerCase(),We=o.find(Ee=>Ee.id===q.companyId),Re=((We==null?void 0:We.companyName)||"").toLowerCase();return pe.includes(ce)||oe.includes(ce)||Re.includes(ce)})}he.sort((ce,q)=>{const pe=ce[n.sortBy]||"",oe=q[n.sortBy]||"";return n.sortOrder==="ASC"?pe>oe?1:-1:pe<oe?1:-1});const Ne=(S-1)*j,Pe=Ne+j,ye=he.slice(Ne,Pe);A(he),g(ye),b(!0),re({totalRoutes:he.length})}catch(he){console.error("Error loading routes:",he),N(he.message||"Failed to load route data"),A([]),g([])}finally{x(!1)}},je=async()=>{a(se=>({...se,companyId:i.companyId||"",status:i.status||"All",page:1})),l(!1),await $()},ge=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),s({companyId:"",status:"All"}),l(!1),await $()};P.useEffect(()=>{if(o.length>0||!n.companyId){const se=setTimeout(()=>{$()},500);return()=>clearTimeout(se)}},[n,o]);const Ie=se=>{switch(se){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},_e=y&&V.totalRoutes>0?Math.ceil(V.totalRoutes/j):0,fe=(S-1)*j,le=Math.min(fe+f.length,V.totalRoutes),ve=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:ve,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Route Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:u,onChange:se=>a(he=>({...he,searchText:se.target.value,page:1})),onKeyDown:se=>{se.key==="Enter"&&!m&&(se.preventDefault(),$())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(se=>({...se,searchText:"",page:1})),(y||R())&&await $()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:k,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",status:n.status||"All"}),k.current){const se=k.current.getBoundingClientRect();ee({top:se.bottom+8,left:se.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:se=>se.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:se=>s(he=>({...he,companyId:se.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(se=>t.jsxs("option",{value:se.id,children:[se.companyCode," - ",se.companyName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:se=>s(he=>({...he,status:se.target.value})),children:L.map(se=>t.jsx("option",{value:se.value,children:se.label},se.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await je(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"Route Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((se,he)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${he}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No routes match "${u.trim()}". Try adjusting your search or filters.`:R()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ge,children:"Clear Filters"})})]})})}):f.map((se,he)=>{var Ne;return t.jsxs("tr",{className:he%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:se.routeCode}),t.jsx("td",{children:se.routeName}),t.jsx("td",{children:((Ne=o.find(Pe=>Pe.id===se.companyId))==null?void 0:Ne.companyName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ie(se.status),children:se.status})})]},se.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${fe+1}-${le} of ${V.totalRoutes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||f.length===0,onChange:async se=>{a(he=>({...he,page:1,pageSize:Number(se.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.max(1,S-1);a(he=>({...he,page:se}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const se=[];let Ne=Math.max(1,S-Math.floor(2.5)),Pe=Math.min(_e,Ne+5-1);Pe-Ne<4&&(Ne=Math.max(1,Pe-5+1)),Ne>1&&(se.push(1),Ne>2&&se.push("..."));for(let ye=Ne;ye<=Pe;ye++)se.push(ye);return Pe<_e&&(Pe<_e-1&&se.push("..."),se.push(_e)),se.map((ye,ce)=>{if(ye==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ce}`);const q=ye;return t.jsx("button",{className:`pagination-page-btn ${S===q?"active":""}`,onClick:async()=>{a(pe=>({...pe,page:q}))},disabled:!y||f.length===0,children:q},q)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.min(_e,S+1);a(he=>({...he,page:se}))},disabled:S===_e||_e===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Kne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[i,s]=P.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalCollections:0,totalWeight:0});P.useEffect(()=>{(async()=>{try{const[oe,We]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(oe),A(We)}catch(oe){console.error("Error loading master data:",oe)}})()},[]);const L=n.companyId?h.filter(pe=>pe.companyId===n.companyId):h,$=()=>{var pe;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(pe=n.searchText)!=null&&pe.trim())},je=()=>{if(!$())return"No filters applied. Select a date range or search to view waste collection data.";const pe=[];if(n.collectionFromDate&&n.collectionToDate){const oe=new Date(n.collectionFromDate),We=new Date(n.collectionToDate),Re=oe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ee=We.toLocaleDateString("en-US",{month:"short",day:"numeric"});pe.push(`Date: ${Re}${Ee}`)}if(n.companyId){const oe=o.find(We=>We.id===n.companyId);oe&&pe.push(`Company: ${oe.companyName}`)}if(n.hcfId){const oe=L.find(We=>We.id===n.hcfId);oe&&pe.push(`HCF: ${oe.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&pe.push(`Color: ${n.wasteColor}`),pe.join("  ")},ge=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],Ie=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],_e=async()=>{var pe;b(!0),j(null);try{let oe=[];if(n.companyId)try{oe=await cA.getAllCollections(),oe=oe.filter(ae=>ae.companyId===n.companyId)}catch(ae){console.warn("Error loading collections:",ae),oe=[]}else try{oe=await cA.getAllCollections()}catch(ae){console.warn("Error loading collections:",ae),oe=[]}if(n.collectionFromDate){const ae=new Date(n.collectionFromDate);oe=oe.filter(Le=>new Date(Le.collectionDate)>=ae)}if(n.collectionToDate){const ae=new Date(n.collectionToDate);ae.setHours(23,59,59,999),oe=oe.filter(Le=>new Date(Le.collectionDate)<=ae)}if(n.hcfId&&(oe=oe.filter(ae=>ae.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(oe=oe.filter(ae=>ae.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(oe=oe.filter(ae=>ae.status===n.status)),(pe=n.searchText)!=null&&pe.trim()){const ae=n.searchText.toLowerCase().trim();oe=oe.filter(Le=>{const Ze=(Le.barcode||"").toLowerCase(),jt=o.find(_r=>_r.id===Le.companyId),Lt=((jt==null?void 0:jt.companyName)||"").toLowerCase(),Ct=h.find(_r=>_r.id===Le.hcfId),Xt=((Ct==null?void 0:Ct.hcfCode)||"").toLowerCase();return Ze.includes(ae)||Lt.includes(ae)||Xt.includes(ae)||Le.weightKg&&Le.weightKg.toString().includes(ae)})}oe.sort((ae,Le)=>{const Ze=ae[n.sortBy]||"",jt=Le[n.sortBy]||"";return n.sortOrder==="ASC"?Ze>jt?1:-1:Ze<jt?1:-1});const We=(_-1)*k,Re=We+k,Ee=oe.slice(We,Re);g(oe),x(Ee),N(!0),Y({totalCollections:oe.length,totalWeight:oe.reduce((ae,Le)=>ae+(Le.weightKg||0),0)})}catch(oe){console.error("Error loading waste collections:",oe),j(oe.message||"Failed to load waste collection data"),g([]),x([])}finally{b(!1)}},fe=async()=>{a(pe=>({...pe,collectionFromDate:i.collectionFromDate||"",collectionToDate:i.collectionToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",wasteColor:i.wasteColor||"All",status:i.status||"All",page:1})),l(!1),await _e()},le=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),l(!1),await _e()};P.useEffect(()=>{if(o.length>0||!n.companyId){const pe=setTimeout(()=>{_e()},500);return()=>clearTimeout(pe)}},[n,o]);const ve=pe=>pe?new Date(pe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=pe=>pe==null?"N/A":`${pe.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,he=pe=>{switch(pe){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},Ne=pe=>{switch(pe){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},Pe=w&&R.totalCollections>0?Math.ceil(R.totalCollections/k):0,ye=(_-1)*k,ce=Math.min(ye+m.length,R.totalCollections),q=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:q,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:u,onChange:pe=>a(oe=>({...oe,searchText:pe.target.value,page:1})),onKeyDown:pe=>{pe.key==="Enter"&&!y&&(pe.preventDefault(),_e())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(pe=>({...pe,searchText:"",page:1})),(w||$())&&await _e()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),ee.current){const pe=ee.current.getBoundingClientRect();re({top:pe.bottom+8,left:pe.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:pe=>pe.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionFromDate||"",onChange:pe=>s(oe=>({...oe,collectionFromDate:pe.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionToDate||"",onChange:pe=>s(oe=>({...oe,collectionToDate:pe.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:pe=>{s(oe=>({...oe,companyId:pe.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(pe=>t.jsxs("option",{value:pe.id,children:[pe.companyCode," - ",pe.companyName]},pe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:pe=>s(oe=>({...oe,hcfId:pe.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(pe=>pe.companyId===i.companyId):h).map(pe=>t.jsxs("option",{value:pe.id,children:[pe.hcfCode," - ",pe.hcfName]},pe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),t.jsx("select",{className:"filter-modal-select",value:i.wasteColor||"All",onChange:pe=>s(oe=>({...oe,wasteColor:pe.target.value})),children:ge.map(pe=>t.jsx("option",{value:pe.value,children:pe.label},pe.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:pe=>s(oe=>({...oe,status:pe.target.value})),children:Ie.map(pe=>t.jsx("option",{value:pe.value,children:pe.label},pe.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Collection Date"}),t.jsx("th",{children:"Waste Color"}),t.jsx("th",{className:"text-right",children:"Weight (kg)"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((pe,oe)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${oe}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No collections match "${u.trim()}". Try adjusting your search or filters.`:$()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):m.map((pe,oe)=>{var We,Re;return t.jsxs("tr",{className:oe%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:pe.barcode}),t.jsx("td",{children:((We=o.find(Ee=>Ee.id===pe.companyId))==null?void 0:We.companyName)||"N/A"}),t.jsx("td",{children:((Re=h.find(Ee=>Ee.id===pe.hcfId))==null?void 0:Re.hcfCode)||"N/A"}),t.jsx("td",{children:ve(pe.collectionDate)}),t.jsx("td",{children:t.jsx("span",{className:Ne(pe.wasteColor),children:pe.wasteColor})}),t.jsx("td",{className:"text-right",children:se(pe.weightKg)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:he(pe.status),children:pe.status})})]},pe.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${ye+1}-${ce} of ${R.totalCollections} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async pe=>{a(oe=>({...oe,page:1,pageSize:Number(pe.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.max(1,_-1);a(oe=>({...oe,page:pe}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const pe=[];let We=Math.max(1,_-Math.floor(2.5)),Re=Math.min(Pe,We+5-1);Re-We<4&&(We=Math.max(1,Re-5+1)),We>1&&(pe.push(1),We>2&&pe.push("..."));for(let Ee=We;Ee<=Re;Ee++)pe.push(Ee);return Re<Pe&&(Re<Pe-1&&pe.push("..."),pe.push(Pe)),pe.map((Ee,ae)=>{if(Ee==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ae}`);const Le=Ee;return t.jsx("button",{className:`pagination-page-btn ${_===Le?"active":""}`,onClick:async()=>{a(Ze=>({...Ze,page:Le}))},disabled:!w||m.length===0,children:Le},Le)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.min(Pe,_+1);a(oe=>({...oe,page:pe}))},disabled:_===Pe||Pe===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Gne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[i,s]=P.useState({status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState(!1),[m,x]=P.useState(!1),[y,b]=P.useState(null),w=n.page||1,N=n.pageSize||25,S=P.useRef(null),j=P.useRef(null),[_,k]=P.useState(null),[Z,ee]=P.useState({totalCompanies:0}),V=()=>{var ve;return!!(n.status&&n.status!=="All"||(ve=n.searchText)!=null&&ve.trim())},re=()=>{if(!V())return"No filters applied. View all companies.";const ve=[];return n.status&&n.status!=="All"&&ve.push(`Status: ${n.status}`),ve.join("  ")},R=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Y=async()=>{var ve;g(!0),b(null);try{let se=await Qa.getAllCompanies();if(n.status&&n.status!=="All"&&(se=se.filter(ye=>ye.status===n.status)),(ve=n.searchText)!=null&&ve.trim()){const ye=n.searchText.toLowerCase().trim();se=se.filter(ce=>{const q=(ce.companyCode||"").toLowerCase(),pe=(ce.companyName||"").toLowerCase();return q.includes(ye)||pe.includes(ye)})}se.sort((ye,ce)=>{const q=ye[n.sortBy]||"",pe=ce[n.sortBy]||"";return n.sortOrder==="ASC"?q>pe?1:-1:q<pe?1:-1});const he=(w-1)*N,Ne=he+N,Pe=se.slice(he,Ne);d(se),A(Pe),x(!0),ee({totalCompanies:se.length})}catch(se){console.error("Error loading companies:",se),b(se.message||"Failed to load company data"),d([]),A([])}finally{g(!1)}},L=async()=>{a(ve=>({...ve,status:i.status||"All",page:1})),l(!1),await Y()},$=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),s({status:"All"}),l(!1),await Y()};P.useEffect(()=>{const ve=setTimeout(()=>{Y()},500);return()=>clearTimeout(ve)},[n]);const je=ve=>ve?new Date(ve).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ge=ve=>{switch(ve){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ie=m&&Z.totalCompanies>0?Math.ceil(Z.totalCompanies/N):0,_e=(w-1)*N,fe=Math.min(_e+h.length,Z.totalCompanies),le=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:le,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Company Master Report"}),!V()&&t.jsx("div",{className:"page-context-subtitle",children:re()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${f?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:u,onChange:ve=>a(se=>({...se,searchText:ve.target.value,page:1})),onKeyDown:ve=>{ve.key==="Enter"&&!f&&(ve.preventDefault(),Y())},disabled:f}),u&&!f&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ve=>({...ve,searchText:"",page:1})),(m||V())&&await Y()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:j,className:`btn btn-filters-toggle ${c?"active":""} ${f?"loading":""}`,onClick:()=>{if(!f){if(c||s({status:n.status||"All"}),j.current){const ve=j.current.getBoundingClientRect();k({top:ve.bottom+8,left:ve.left})}l(!c)}},disabled:f,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),k(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ve=>ve.stopPropagation(),style:_?{position:"fixed",top:`${_.top}px`,left:`${_.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsx("div",{className:"filter-modal-grid",children:t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ve=>s(se=>({...se,status:ve.target.value})),children:R.map(ve=>t.jsx("option",{value:ve.value,children:ve.label},ve.value))})]})})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await L(),l(!1)},disabled:f,children:f?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),t.jsxs("div",{className:"results-section",ref:S,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Code"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Created Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:f?Array.from({length:5}).map((ve,se)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${se}`)):m?h.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No companies match "${u.trim()}". Try adjusting your search or filters.`:V()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(V()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:$,children:"Clear Filters"})})]})})}):h.map((ve,se)=>t.jsxs("tr",{className:se%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ve.companyCode}),t.jsx("td",{children:ve.companyName}),t.jsx("td",{children:je(ve.createdOn)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ge(ve.status),children:ve.status})})]},ve.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:m&&h.length>0?`Showing ${_e+1}-${fe} of ${Z.totalCompanies} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:N,disabled:!m||h.length===0,onChange:async ve=>{a(se=>({...se,page:1,pageSize:Number(ve.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ve=Math.max(1,w-1);a(se=>({...se,page:ve}))},disabled:w===1||!m||h.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ve=[];let he=Math.max(1,w-Math.floor(2.5)),Ne=Math.min(Ie,he+5-1);Ne-he<4&&(he=Math.max(1,Ne-5+1)),he>1&&(ve.push(1),he>2&&ve.push("..."));for(let Pe=he;Pe<=Ne;Pe++)ve.push(Pe);return Ne<Ie&&(Ne<Ie-1&&ve.push("..."),ve.push(Ie)),ve.map((Pe,ye)=>{if(Pe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ye}`);const ce=Pe;return t.jsx("button",{className:`pagination-page-btn ${w===ce?"active":""}`,onClick:async()=>{a(q=>({...q,page:ce}))},disabled:!m||h.length===0,children:ce},ce)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ve=Math.min(Ie,w+1);a(se=>({...se,page:ve}))},disabled:w===Ie||Ie===0||!m||h.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},qne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[i,s]=P.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,j]=P.useState(null),_=n.page||1,k=n.pageSize||25,Z=P.useRef(null),ee=P.useRef(null),[V,re]=P.useState(null),[R,Y]=P.useState({totalItems:0,compliant:0,nonCompliant:0});P.useEffect(()=>{(async()=>{try{const[q,pe]=await Promise.all([Qa.getAllCompanies(),Os.getAllHcfs()]);d(q),A(pe)}catch(q){console.error("Error loading master data:",q)}})()},[]);const L=n.companyId?h.filter(ce=>ce.companyId===n.companyId):h,$=()=>{var ce;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(ce=n.searchText)!=null&&ce.trim())},je=()=>{if(!$())return"No filters applied. View all compliance statuses.";const ce=[];if(n.companyId){const q=o.find(pe=>pe.id===n.companyId);q&&ce.push(`Company: ${q.companyName}`)}if(n.hcfId){const q=L.find(pe=>pe.id===n.hcfId);q&&ce.push(`HCF: ${q.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&ce.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&ce.push(`Status: ${n.status}`),ce.join("  ")},ge=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],Ie=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],_e=async()=>{var ce;b(!0),j(null);try{let q=[];if(n.companyId&&(q=q.filter(Re=>Re.companyId===n.companyId)),n.hcfId&&(q=q.filter(Re=>Re.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(q=q.filter(Re=>Re.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(q=q.filter(Re=>Re.status===n.status)),(ce=n.searchText)!=null&&ce.trim()){const Re=n.searchText.toLowerCase().trim();q=q.filter(Ee=>{const ae=o.find(Lt=>Lt.id===Ee.companyId),Le=((ae==null?void 0:ae.companyName)||"").toLowerCase(),Ze=h.find(Lt=>Lt.id===Ee.hcfId),jt=((Ze==null?void 0:Ze.hcfCode)||"").toLowerCase();return Ee.complianceType.toLowerCase().includes(Re)||Le.includes(Re)||jt.includes(Re)||Ee.notes&&Ee.notes.toLowerCase().includes(Re)})}q.sort((Re,Ee)=>{const ae=Re[n.sortBy]||"",Le=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?ae>Le?1:-1:ae<Le?1:-1});const pe=(_-1)*k,oe=pe+k,We=q.slice(pe,oe);g(q),x(We),N(!0),Y({totalItems:q.length,compliant:q.filter(Re=>Re.status==="Compliant").length,nonCompliant:q.filter(Re=>Re.status==="Non-Compliant"||Re.status==="Expired").length})}catch(q){console.error("Error loading compliance data:",q),j(q.message||"Failed to load compliance status data"),g([]),x([])}finally{b(!1)}},fe=async()=>{a(ce=>({...ce,companyId:i.companyId||"",hcfId:i.hcfId||"",complianceType:i.complianceType||"All",status:i.status||"All",page:1})),l(!1),await _e()},le=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),s({companyId:"",hcfId:"",complianceType:"All",status:"All"}),l(!1),await _e()};P.useEffect(()=>{if(o.length>0||!n.companyId){const ce=setTimeout(()=>{_e()},500);return()=>clearTimeout(ce)}},[n,o]);const ve=ce=>ce?new Date(ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=ce=>{switch(ce){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},he=w&&R.totalItems>0?Math.ceil(R.totalItems/k):0,Ne=(_-1)*k,Pe=Math.min(Ne+m.length,R.totalItems),ye=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(bc,{navItems:ye,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!$()&&t.jsx("div",{className:"page-context-subtitle",children:je()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:u,onChange:ce=>a(q=>({...q,searchText:ce.target.value,page:1})),onKeyDown:ce=>{ce.key==="Enter"&&!y&&(ce.preventDefault(),_e())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ce=>({...ce,searchText:"",page:1})),(w||$())&&await _e()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),ee.current){const ce=ee.current.getBoundingClientRect();re({top:ce.bottom+8,left:ce.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),re(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ce=>ce.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ce=>{s(q=>({...q,companyId:ce.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ce=>t.jsxs("option",{value:ce.id,children:[ce.companyCode," - ",ce.companyName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ce=>s(q=>({...q,hcfId:ce.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?h.filter(ce=>ce.companyId===i.companyId):h).map(ce=>t.jsxs("option",{value:ce.id,children:[ce.hcfCode," - ",ce.hcfName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceType||"All",onChange:ce=>s(q=>({...q,complianceType:ce.target.value})),children:ge.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ce=>s(q=>({...q,status:ce.target.value})),children:Ie.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await fe(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Compliance Type"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Expiry Date"}),t.jsx("th",{children:"Last Checked"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ce,q)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${q}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No compliance items match "${u.trim()}". Try adjusting your search or filters.`:$()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),($()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):m.map((ce,q)=>{var pe,oe;return t.jsxs("tr",{className:q%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{children:ce.complianceType}),t.jsx("td",{children:((pe=o.find(We=>We.id===ce.companyId))==null?void 0:pe.companyName)||"N/A"}),t.jsx("td",{children:((oe=h.find(We=>We.id===ce.hcfId))==null?void 0:oe.hcfCode)||"N/A"}),t.jsx("td",{children:ve(ce.expiryDate)}),t.jsx("td",{children:ve(ce.lastChecked)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:se(ce.status),children:ce.status})})]},ce.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ne+1}-${Pe} of ${R.totalItems} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:k,disabled:!w||m.length===0,onChange:async ce=>{a(q=>({...q,page:1,pageSize:Number(ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.max(1,_-1);a(q=>({...q,page:ce}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ce=[];let pe=Math.max(1,_-Math.floor(2.5)),oe=Math.min(he,pe+5-1);oe-pe<4&&(pe=Math.max(1,oe-5+1)),pe>1&&(ce.push(1),pe>2&&ce.push("..."));for(let We=pe;We<=oe;We++)ce.push(We);return oe<he&&(oe<he-1&&ce.push("..."),ce.push(he)),ce.map((We,Re)=>{if(We==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Re}`);const Ee=We;return t.jsx("button",{className:`pagination-page-btn ${_===Ee?"active":""}`,onClick:async()=>{a(ae=>({...ae,page:Ee}))},disabled:!w||m.length===0,children:Ee},Ee)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.min(he,_+1);a(q=>({...q,page:ce}))},disabled:_===he||he===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Xne=()=>{const r=Pn(),e=ti(),[n,a]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,d]=P.useState([]),[h,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,j=n.pageSize||25,_=P.useRef(null),k=P.useRef(null),[Z,ee]=P.useState(null),[V,re]=P.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});P.useEffect(()=>{(async()=>{try{const ae=await Qa.getAllCompanies();d(ae)}catch(ae){console.error("Error loading master data:",ae)}})()},[]);const R=()=>{var Ee;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(Ee=n.searchText)!=null&&Ee.trim())},Y=()=>{if(!R())return"No filters applied. Select a date range or search to view fleet vehicles.";const Ee=[];if(n.createdFromDate&&n.createdToDate){const ae=new Date(n.createdFromDate),Le=new Date(n.createdToDate),Ze=ae.toLocaleDateString("en-US",{month:"short",day:"numeric"}),jt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ee.push(`${Ze} - ${jt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ae=new Date(n.createdFromDate);Ee.push(`From ${ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ae=new Date(n.createdToDate);Ee.push(`To ${ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ae=o.find(Le=>Le.id===n.companyId);Ee.push(ae?ae.companyName:"Selected Company")}else Ee.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&Ee.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?Ee.push(n.status):Ee.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&Ee.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${Ee.join("  ")}`},L=(Ee,ae)=>{s(Le=>({...Le,[Ee]:ae}))},$=()=>{a(Ee=>({...Ee,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},je=()=>{const Ee={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ee),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},ge=(Ee,ae)=>{a(Le=>({...Le,page:Ee,...ae!==void 0&&{pageSize:ae}}))},Ie=Ee=>{a(ae=>({...ae,searchText:Ee,page:1}))},_e=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],fe=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],le=()=>{const Ee=new Set;return h.forEach(ae=>{ae.vehMake&&Ee.add(ae.vehMake)}),Array.from(Ee).sort()},ve=Ee=>{const ae=new Date;ae.setHours(0,0,0,0);const Le=[Ee.nextFCDate?new Date(Ee.nextFCDate):null,Ee.pucDateValidUpto?new Date(Ee.pucDateValidUpto):null,Ee.insuranceValidUpto?new Date(Ee.insuranceValidUpto):null].filter(Boolean);if(Le.length===0)return"Compliant";if(Le.filter(Ct=>Ct<ae).length>0)return"Expired";const jt=new Date(ae);return jt.setDate(jt.getDate()+30),Le.filter(Ct=>Ct<=jt&&Ct>=ae).length>0?"Expiring Soon":"Compliant"},se=async()=>{var Ee;x(!0),N(null);try{let ae=[];if(n.companyId)ae=await Bh.getAllFleets(n.companyId);else{const Ct=o.length>0?o:await Qa.getAllCompanies();for(const Xt of Ct)try{const _r=await Bh.getAllFleets(Xt.id);ae.push(..._r)}catch(_r){console.warn(`Failed to load fleets for company ${Xt.companyName}:`,_r)}}let Le=ae;if(n.createdFromDate){const Ct=new Date(n.createdFromDate);Le=Le.filter(Xt=>new Date(Xt.createdOn)>=Ct)}if(n.createdToDate){const Ct=new Date(n.createdToDate);Ct.setHours(23,59,59,999),Le=Le.filter(Xt=>new Date(Xt.createdOn)<=Ct)}if(n.companyId&&(Le=Le.filter(Ct=>Ct.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Le=Le.filter(Ct=>Ct.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Le=Le.filter(Ct=>Ct.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Le=Le.filter(Ct=>ve(Ct)===n.complianceStatus)),(Ee=n.searchText)!=null&&Ee.trim()){const Ct=n.searchText.toLowerCase().trim();Le=Le.filter(Xt=>{const _r=(Xt.vehicleNum||"").toLowerCase(),Or=(Xt.vehMake||"").toLowerCase(),He=(Xt.vehModel||"").toLowerCase(),Zt=(Xt.ownerName||"").toLowerCase(),Bt=(Xt.ownerContact||"").toLowerCase(),$r=(Xt.capacity||"").toLowerCase();return _r.includes(Ct)||Or.includes(Ct)||He.includes(Ct)||Zt.includes(Ct)||Bt.includes(Ct)||$r.includes(Ct)})}Le.sort((Ct,Xt)=>{const _r=Ct[n.sortBy]||"",Or=Xt[n.sortBy]||"";return n.sortOrder==="ASC"?_r>Or?1:-1:_r<Or?1:-1});const Ze=(S-1)*j,jt=Ze+j,Lt=Le.slice(Ze,jt);A(Le),g(Lt),b(!0),re({totalFleets:Le.length,activeFleets:Le.filter(Ct=>Ct.status==="Active").length,inactiveFleets:Le.filter(Ct=>Ct.status==="Inactive").length})}catch(ae){console.error("Error loading fleets:",ae),N(ae.message||"Failed to load fleet vehicles"),A([]),g([])}finally{x(!1)}};P.useEffect(()=>{if(o.length>0){const Ee=setTimeout(()=>{se()},500);return()=>clearTimeout(Ee)}},[n,o]);const he=async()=>{$(),l(!1),await se()},Ne=async()=>{je(),l(!1),await se()},Pe=Ee=>Ee?new Date(Ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ye=Ee=>{switch(Ee){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},ce=Ee=>{switch(Ee){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},q=y&&V.totalFleets>0?Math.ceil(V.totalFleets/j):0,pe=(S-1)*j,oe=Math.min(pe+f.length,V.totalFleets),We=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Re=le();return t.jsx(bc,{navItems:We,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:Y()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:Ee=>Ie(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&!m&&(Ee.preventDefault(),se())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Ie(""),se()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:k,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||(L("companyId",n.companyId||""),L("vehMake",n.vehMake||""),L("status",n.status||"All"),L("complianceStatus",n.complianceStatus||"All"),L("createdFromDate",n.createdFromDate||""),L("createdToDate",n.createdToDate||"")),k.current){const Ee=k.current.getBoundingClientRect();ee({top:Ee.bottom+8,left:Ee.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Rc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ee=>Ee.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{L("companyId",""),L("vehMake",""),L("createdFromDate",""),L("createdToDate",""),L("status","All"),L("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ee=>L("createdFromDate",Ee.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ee=>L("createdToDate",Ee.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ee=>L("companyId",Ee.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.companyCode," - ",Ee.companyName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:Ee=>L("vehMake",Ee.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Re.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ee=>L("status",Ee.target.value),children:_e.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:Ee=>L("complianceStatus",Ee.target.value),children:fe.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:he,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ee,ae)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ae}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:R()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ne,children:"Clear Filters"})})]})})}):f.map((Ee,ae)=>{const Le=o.find(jt=>jt.id===Ee.companyId),Ze=ve(Ee);return t.jsxs("tr",{className:ae%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ee.vehicleNum}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:Ee.vehMake||"N/A"}),t.jsx("td",{children:Ee.vehModel||"N/A"}),t.jsx("td",{children:Ee.capacity||"N/A"}),t.jsx("td",{children:Ee.ownerName||"N/A"}),t.jsx("td",{children:Ee.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ye(Ee.status),children:Ee.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(Ze),children:Ze})}),t.jsx("td",{children:Pe(Ee.createdOn)})]},Ee.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${oe} of ${V.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||f.length===0,onChange:async Ee=>{ge(1,Number(Ee.target.value)),await se()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.max(1,S-1);ge(Ee),await se()},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ee=[];let Le=Math.max(1,S-Math.floor(2.5)),Ze=Math.min(q,Le+5-1);Ze-Le<4&&(Le=Math.max(1,Ze-5+1)),Le>1&&(Ee.push(1),Le>2&&Ee.push("..."));for(let jt=Le;jt<=Ze;jt++)Ee.push(jt);return Ze<q&&(Ze<q-1&&Ee.push("..."),Ee.push(q)),Ee.map((jt,Lt)=>{if(jt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Lt}`);const Ct=jt;return t.jsx("button",{className:`pagination-page-btn ${S===Ct?"active":""}`,onClick:async()=>{ge(Ct),await se()},disabled:!y||f.length===0,children:Ct},Ct)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.min(q,S+1);ge(Ee),await se()},disabled:S===q||q===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Yne=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=xa(),i=ti(),s=Pn(),[c,l]=P.useState(""),[u,o]=P.useState(""),[d,h]=P.useState(!1),[A,f]=P.useState(!1),[g,m]=P.useState(null),[x,y]=P.useState(!1),[b,w]=P.useState(""),[N,S]=P.useState(["","","","","",""]),[j,_]=P.useState(0);P.useEffect(()=>{if(j>0){const Y=setTimeout(()=>_(j-1),1e3);return()=>clearTimeout(Y)}},[j]);const k=Y=>{if(!Y||Y.trim().length===0)return!1;const L=/^[a-zA-Z0-9_-]+$/,$=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return L.test(Y.trim())||$.test(Y.trim())},Z=async Y=>{var L,$;if(Y.preventDefault(),m(null),!k(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const je=await r(c.trim(),u);if(je.requiresOTP&&je.email)w(je.email),y(!0),_(60);else{const ge=($=(L=s.state)==null?void 0:L.from)==null?void 0:$.pathname;i(ge||"/mobile/home",{replace:!0})}}catch(je){m(je.message||"Invalid credentials. Please check your username and password.")}},ee=(Y,L)=>{if(L.length>1)return;const $=[...N];if($[Y]=L,S($),L&&Y<5){const je=document.getElementById(`otp-input-mobile-${Y+1}`);je==null||je.focus()}},V=(Y,L)=>{if(L.key==="Backspace"&&!N[Y]&&Y>0){const $=document.getElementById(`otp-input-mobile-${Y-1}`);$==null||$.focus()}},re=async Y=>{var $,je,ge;Y.preventDefault(),m(null);const L=N.join("");if(L.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,L);const Ie=(je=($=s.state)==null?void 0:$.from)==null?void 0:je.pathname;i(Ie||"/mobile/home",{replace:!0})}catch(Ie){m(Ie.message||"Invalid OTP"),S(["","","","","",""]),(ge=document.getElementById("otp-input-mobile-0"))==null||ge.focus()}},R=async()=>{if(!(j>0)){m(null);try{await r(c,u),_(60),S(["","","","","",""])}catch(Y){m(Y.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!u?t.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):t.jsxs("div",{className:"mobile-login-container",children:[t.jsxs("header",{className:"login-header",children:[t.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-card",children:[t.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form",onSubmit:re,children:[t.jsx("div",{className:"otp-instruction-mobile",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row-mobile",children:N.map((Y,L)=>t.jsx("input",{id:`otp-input-mobile-${L}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:Y,onChange:$=>ee(L,$.target.value),onKeyDown:$=>V(L,$),autoFocus:L===0,disabled:n},L))}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||N.some(Y=>!Y),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-mobile",children:t.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",j>0?t.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",j,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:R,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:Z,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:Y=>{l(Y.target.value),m(null)},autoComplete:"username",disabled:n})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{type:A?"text":"password",className:"form-input",placeholder:"Password",value:u,onChange:Y=>{o(Y.target.value),m(null)},autoComplete:"current-password",disabled:n}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!A),"aria-label":A?"Hide password":"Show password",disabled:n,children:A?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),t.jsxs("div",{className:"form-options",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",className:"checkbox-input",checked:d,onChange:Y=>h(Y.target.checked),disabled:n}),t.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),t.jsx(rn,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},Zne=({title:r,subtitle:e,action:n,children:a})=>t.jsxs("section",{className:"form-card",children:[t.jsxs("div",{className:"form-card__header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:r}),e&&t.jsx("p",{children:e})]}),n&&t.jsx("div",{className:"form-card__action",children:n})]}),t.jsx("div",{className:"form-card__body",children:a})]}),Wj=({label:r,type:e="text",error:n,hint:a,...i})=>{const[s,c]=P.useState(!1),l=e==="password",u=l&&s?"text":e;return t.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[t.jsx("span",{children:r}),t.jsxs("div",{className:"input-field__control",children:[t.jsx("input",{type:u,...i}),l&&t.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(o=>!o),"aria-label":s?"Hide password":"Show password",children:s?"Hide":"Show"})]}),n?t.jsx("small",{className:"input-field__error",children:n}):a&&t.jsx("small",{children:a})]})},Jne=({loading:r,children:e,...n})=>t.jsx("button",{className:"primary-btn",disabled:r||n.disabled,...n,children:r?"Working...":e}),eae=({role:r})=>t.jsx("span",{className:"role-pill",children:r}),s_={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},tae=()=>{const{createUser:r,loading:e,user:n}=xa(),[a,i]=P.useState({name:"",email:"",password:"",role:"staff"}),[s,c]=P.useState(null),[l,u]=P.useState(null),o=async d=>{d.preventDefault(),c(null),u(null);try{const h=await r(a);c(`Created ${h.name} (${h.roles.join(", ")})`),i({...a,name:"",email:"",password:""})}catch(h){u(h.message||"Unable to create user")}};return t.jsx(Zne,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?t.jsx(eae,{role:n.roles[0]}):null,children:t.jsxs("form",{className:"form-grid mobile",onSubmit:o,children:[t.jsx(Wj,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:d=>i(h=>({...h,name:d.target.value}))}),t.jsx(Wj,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:d=>i(h=>({...h,email:d.target.value}))}),t.jsx(Wj,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:d=>i(h=>({...h,password:d.target.value})),hint:"Min 8 characters"}),t.jsxs("label",{className:"input-field",children:[t.jsx("span",{children:"Role"}),t.jsx("div",{className:"role-options",children:Object.keys(s_).map(d=>t.jsxs("button",{type:"button",className:`role-chip ${a.role===d?"role-chip--active":""}`,onClick:()=>i(h=>({...h,role:d})),children:[t.jsx("strong",{children:d}),t.jsx("small",{children:s_[d]})]},d))})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsx(Jne,{type:"submit",loading:e,children:"Save User"}),t.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},rae=()=>{const{user:r,logout:e}=xa(),n=Pn();ti();const[a,i]=P.useState(!1),[s,c]=P.useState(!1),l=()=>{c(!s)},[u,o]=P.useState(null),[d,h]=P.useState(null),[A,f]=P.useState("basic"),[g,m]=P.useState(null),[x,y]=P.useState(!1),[b,w]=P.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[N,S]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,_]=P.useState({current:!1,new:!1,confirm:!1}),[k,Z]=P.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});P.useEffect(()=>{r!=null&&r.id&&ee()},[r]);const ee=async()=>{if(r){i(!0),o(null);try{const ve=r.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.id);let se=null;if(ve)try{se=await $l.getUserById(r.id)}catch(he){console.log("User ID lookup failed, trying search by username:",he)}if(!se&&r.name)try{se=await $l.getUserByUsername(r.name)}catch(he){console.log("User lookup by username failed:",he)}if(se)m(se),w({emailAddress:se.emailAddress||"",emergencyContact:se.emergencyContact||"",addressLine:se.addressLine||"",area:se.area||"",city:se.city||"",district:se.district||"",pincode:se.pincode||""});else{const he={userName:r.name,emailAddress:r.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:r.roles.join(", ")||null};m(he),o("Showing basic information from your session. Some details may be incomplete.")}}catch(ve){console.error("Error loading user profile:",ve),o("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},V=async()=>{if(g!=null&&g.userId){i(!0),h(null),o(null);try{await $l.updateCompleteUser(g.userId,{emailAddress:b.emailAddress||void 0,emergencyContact:b.emergencyContact||void 0,addressLine:b.addressLine||void 0,area:b.area||void 0,city:b.city||void 0,district:b.district||void 0,pincode:b.pincode||void 0}),h("Contact information updated successfully!"),y(!1),await ee()}catch(ve){o(ve.message||"Failed to update contact information")}finally{i(!1)}}},re=()=>{g&&w({emailAddress:g.emailAddress||"",emergencyContact:g.emergencyContact||"",addressLine:g.addressLine||"",area:g.area||"",city:g.city||"",district:g.district||"",pincode:g.pincode||""}),y(!1)},R=ve=>{Z({length:ve.length>=8,uppercase:/[A-Z]/.test(ve),lowercase:/[a-z]/.test(ve),number:/[0-9]/.test(ve),special:/[!@#$%^&*(),.?":{}|<>]/.test(ve),match:ve===N.confirmPassword&&ve.length>0})},Y=(ve,se)=>{const he={...N,[ve]:se};S(he),ve==="newPassword"?(R(se),N.confirmPassword&&Z(Ne=>({...Ne,match:se===N.confirmPassword&&se.length>0}))):Z(Ne=>({...Ne,match:se===N.newPassword&&se.length>0}))},L=()=>{const se=[k.length,k.uppercase,k.lowercase,k.number,k.special].filter(Boolean).length;return se===0?{level:0,label:"",color:""}:se<=2?{level:1,label:"Weak",color:"#ef4444"}:se<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},$=async ve=>{if(ve.preventDefault(),o(null),h(null),!k.length){o("Password must be at least 8 characters long");return}if(!k.uppercase){o("Password must contain at least one uppercase letter");return}if(!k.lowercase){o("Password must contain at least one lowercase letter");return}if(!k.number){o("Password must contain at least one number");return}if(!k.special){o("Password must contain at least one special character");return}if(!k.match){o("New password and confirm password do not match");return}i(!0);try{if(!(r!=null&&r.id))throw new Error("User ID not found");await u2(r.id,{currentPassword:N.currentPassword,newPassword:N.newPassword}),h("Password changed successfully!"),S({currentPassword:"",newPassword:"",confirmPassword:""}),Z({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),_({current:!1,new:!1,confirm:!1})}catch(se){o(se.message||"Failed to change password")}finally{i(!1)}},je=ve=>{const se=ve.toLowerCase();return se==="active"?"status-badge--active":se==="inactive"?"status-badge--inactive":se==="draft"?"status-badge--draft":"status-badge--active"},ge=ve=>{const se=ve.trim().split(" ");return se.length>=2?(se[0][0]+se[se.length-1][0]).toUpperCase():ve.charAt(0).toUpperCase()},Ie=(g==null?void 0:g.userName)||(r==null?void 0:r.name)||"User",_e=(g==null?void 0:g.userRoleId)||(r==null?void 0:r.roles.join(", "))||"User",fe=(g==null?void 0:g.status)||"Active",le=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:le.map(ve=>t.jsx("li",{children:t.jsxs(rn,{to:ve.path,className:`nav-link ${ve.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ve.icon}),!s&&t.jsx("span",{className:"nav-label",children:ve.label})]})},ve.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(rn,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsx("span",{className:"nav-icon",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"nav-label",children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Profile"})})}),t.jsx("div",{className:"dashboard-content",children:t.jsxs("div",{className:"profile-page",children:[t.jsxs("div",{className:"profile-header-card",children:[t.jsx("div",{className:"profile-header-avatar",children:t.jsx("div",{className:"profile-avatar-large",children:ge(Ie)})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-header-name",children:Ie}),t.jsxs("div",{className:"profile-header-meta",children:[t.jsx("span",{className:"profile-header-role",children:_e}),t.jsx("span",{className:"profile-header-separator",children:""}),t.jsx("span",{className:`profile-header-status ${je(fe)}`,children:fe})]}),(g==null?void 0:g.mobileNumber)&&g.mobileNumber!=="-"&&t.jsxs("div",{className:"profile-header-contact",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),g.mobileNumber]})]})]}),u&&t.jsxs("div",{className:"profile-info-banner",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),t.jsx("span",{children:u})]}),d&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${A==="basic"?"active":""}`,onClick:()=>f("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${A==="contact"?"active":""}`,onClick:()=>f("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${A==="security"?"active":""}`,onClick:()=>f("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!g?t.jsxs("div",{className:"profile-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading profile data..."})]}):t.jsxs(t.Fragment,{children:[A==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),t.jsxs("div",{className:"profile-cards-grid",children:[t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{className:"profile-card-title",children:"User Name"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.userName)||(r==null?void 0:r.name)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]}),t.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.employeeCode)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.mobileNumber)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),t.jsx("span",{className:"profile-card-title",children:"Status"})]}),t.jsx("div",{className:"profile-card-value",children:t.jsx("span",{className:`status-badge ${je(fe)}`,children:fe})})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),t.jsx("span",{className:"profile-card-title",children:"Role"})]}),t.jsx("div",{className:"profile-card-value",children:_e})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),t.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),t.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.employmentType)||"-"})]})]})]}),A==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:x?"Edit your contact details":"Update your contact details"})]}),t.jsxs("div",{className:"profile-contact-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),x?t.jsx("input",{type:"email",id:"emailAddress",value:b.emailAddress,onChange:ve=>w({...b,emailAddress:ve.target.value}),placeholder:"Enter email address",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.emailAddress)||"Not provided"}),t.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),x?t.jsx("input",{type:"text",id:"emergencyContact",value:b.emergencyContact,onChange:ve=>w({...b,emergencyContact:ve.target.value}),placeholder:"Enter emergency contact number",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.emergencyContact)||"-"})]})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),x?t.jsx("input",{type:"text",id:"addressLine",value:b.addressLine,onChange:ve=>w({...b,addressLine:ve.target.value}),placeholder:"Enter address line",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.addressLine)||"-"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",children:"Area"}),x?t.jsx("input",{type:"text",id:"area",value:b.area,onChange:ve=>w({...b,area:ve.target.value}),placeholder:"Enter area",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.area)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",children:"City"}),x?t.jsx("input",{type:"text",id:"city",value:b.city,onChange:ve=>w({...b,city:ve.target.value}),placeholder:"Enter city",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.city)||"-"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",children:"District"}),x?t.jsx("input",{type:"text",id:"district",value:b.district,onChange:ve=>w({...b,district:ve.target.value}),placeholder:"Enter district",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.district)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",children:"Pincode"}),x?t.jsx("input",{type:"text",id:"pincode",value:b.pincode,onChange:ve=>w({...b,pincode:ve.target.value}),placeholder:"Enter pincode",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.pincode)||"-"})]})]}),t.jsx("div",{className:"form-actions",children:x?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:re,disabled:a,children:"Cancel"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:V,disabled:a,children:a?"Saving...":"Save Changes"})]}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>y(!0),children:"Edit Contact Info"})})]})]}),A==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),t.jsxs("div",{className:"security-card security-card--password",children:[t.jsx("div",{className:"security-card-header",children:t.jsxs("div",{className:"security-card-title-group",children:[t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"security-card-title",children:"Change Password"}),t.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),t.jsxs("form",{onSubmit:$,className:"password-form",children:[t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:j.current?"text":"password",id:"currentPassword",value:N.currentPassword,onChange:ve=>S({...N,currentPassword:ve.target.value}),required:!0,placeholder:"Enter your current password",disabled:a,className:N.currentPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_({...j,current:!j.current}),tabIndex:-1,"aria-label":j.current?"Hide password":"Show password",children:j.current?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"newPassword",children:["New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:j.new?"text":"password",id:"newPassword",value:N.newPassword,onChange:ve=>Y("newPassword",ve.target.value),required:!0,placeholder:"Enter new password",disabled:a,className:N.newPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_({...j,new:!j.new}),tabIndex:-1,"aria-label":j.new?"Hide password":"Show password",children:j.new?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.newPassword&&t.jsxs("div",{className:"password-strength",children:[t.jsx("div",{className:"password-strength-bar",children:t.jsx("div",{className:"password-strength-fill",style:{width:`${L().level/3*100}%`,backgroundColor:L().color}})}),t.jsx("span",{className:"password-strength-label",style:{color:L().color},children:L().label||"Enter password"})]}),t.jsxs("div",{className:"password-requirements",children:[t.jsxs("div",{className:`requirement-item ${k.length?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.length?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"At least 8 characters"})]}),t.jsxs("div",{className:`requirement-item ${k.uppercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.uppercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One uppercase letter"})]}),t.jsxs("div",{className:`requirement-item ${k.lowercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.lowercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One lowercase letter"})]}),t.jsxs("div",{className:`requirement-item ${k.number?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.number?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One number"})]}),t.jsxs("div",{className:`requirement-item ${k.special?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.special?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One special character"})]})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:j.confirm?"text":"password",id:"confirmPassword",value:N.confirmPassword,onChange:ve=>Y("confirmPassword",ve.target.value),required:!0,placeholder:"Re-enter new password",disabled:a,className:`${N.confirmPassword?"has-value":""} ${N.confirmPassword&&k.match?"password-match":N.confirmPassword&&!k.match?"password-mismatch":""}`}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_({...j,confirm:!j.confirm}),tabIndex:-1,"aria-label":j.confirm?"Hide password":"Show password",children:j.confirm?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.confirmPassword&&t.jsxs("div",{className:`password-match-indicator ${k.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.match?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),t.jsx("span",{children:k.match?"Passwords match":"Passwords do not match"})]})]}),t.jsx("div",{className:"form-actions form-actions--password",children:t.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:a||!k.match||!k.length||!k.uppercase||!k.lowercase||!k.number||!k.special,children:a?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},nae=()=>{const r=ti(),e=Pn(),{user:n,logout:a}=xa(),[i,s]=P.useState(!1),[c,l]=P.useState(null),[u,o]=P.useState(!1);P.useEffect(()=>{(async()=>{if(n!=null&&n.token){const N=await J_(n.token);l(N)}})()},[n]);const d=[{id:"home",label:"Home",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"1"}),t.jsx("circle",{cx:"12",cy:"5",r:"1"}),t.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],h=w=>{if(w.scanButton||w.id==="more"||w.id==="home")return!0;if(w.permission&&c){if(w.permission.includes("ROUTE_ASSIGNMENT")||w.permission.includes("WASTE_COLLECTION"))return qA(c,"transaction");if(w.permission.includes("HCF"))return qA(c,"master","hcf")}return!0},A=w=>{if(w.id==="more"){s(!i);return}w.path&&w.path!=="#"&&(r(w.path),s(!1))},f=()=>{r("/mobile/scan"),s(!1)},g=()=>{a(),r("/mobile/login"),s(!1)},m=d.filter(h),x=m.find(w=>w.id==="home"),y=m.find(w=>w.scanButton),b=m.find(w=>w.id==="more");return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:"mobile-more-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"mobile-more-menu",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"mobile-more-header",children:[t.jsx("h3",{children:"More Options"}),t.jsx("button",{className:"mobile-more-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"mobile-more-content",children:[t.jsxs("button",{className:"mobile-more-item",onClick:()=>{r("/mobile/profile"),s(!1)},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:g,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&t.jsxs("button",{className:`mobile-nav-item ${e.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>A(x),"aria-label":"Home",children:[t.jsx("span",{className:"mobile-nav-icon",children:x.icon}),t.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&t.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:f,"aria-label":"Scan Barcode",children:[t.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),t.jsx("span",{className:"mobile-nav-label",children:y.label})]}),b&&t.jsxs("button",{className:`mobile-nav-item ${i?"mobile-nav-item--active":""}`,onClick:()=>A(b),"aria-label":"More",children:[t.jsx("span",{className:"mobile-nav-icon",children:b.icon}),t.jsx("span",{className:"mobile-nav-label",children:b.label})]})]})]})},Dh=({children:r,title:e,showBackButton:n=!1,onBack:a})=>t.jsxs("div",{className:"mobile-layout",children:[(e||n)&&t.jsxs("header",{className:"mobile-header",children:[n&&t.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e&&t.jsx("h1",{className:"mobile-header-title",children:e}),t.jsx("div",{style:{width:n?"40px":"auto"}})]}),t.jsx("main",{className:"mobile-page-content",children:r}),t.jsx(nae,{})]}),aae=({isOpen:r,onClose:e})=>{const n=ti(),a=Pn(),{user:i,permissions:s,logout:c}=xa(),[l,u]=P.useState(null),[o,d]=P.useState(new Set);P.useEffect(()=>{(async()=>{if(i!=null&&i.token){const b=await J_(i.token);u(b)}})()},[i]);const h=()=>{if(i!=null&&i.name){const y=i.name.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():i.name.substring(0,2).toUpperCase()}return"MW"},A=[{title:"Operations",items:[{id:"dashboard",label:"Home",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME.VIEW"},{id:"waste-collection",label:"Waste Entry",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION.CREATE"},{id:"waste-collections",label:"Waste Collections",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M8 6h13"}),t.jsx("path",{d:"M8 12h13"}),t.jsx("path",{d:"M8 18h13"}),t.jsx("path",{d:"M3 6h.01"}),t.jsx("path",{d:"M3 12h.01"}),t.jsx("path",{d:"M3 18h.01"})]}),path:"/mobile/waste-collections",permission:"WASTE_COLLECTION.VIEW"},{id:"route-assignment",label:"Route Assignment",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT.VIEW"},{id:"assigned-hcfs",label:"Assigned HCF List",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),path:"/mobile/assigned-hcfs",permission:"ROUTE_HCF.VIEW"},{id:"scan",label:"Scan Barcode",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"hcf-master",label:"HCF Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF.VIEW"},{id:"analytics",label:"Analytics",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),t.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/mobile/analytics",permission:"REPORT.VIEW"}]},{title:"Admin",items:[{id:"users",label:"User Management",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],f=y=>{if(y.permission&&s&&s.length>0)return V4(s,y.permission);if(y.permission&&l){if(y.permission.includes("ROUTE_ASSIGNMENT")||y.permission.includes("WASTE_COLLECTION"))return qA(l,"transaction");if(y.permission.includes("HCF"))return qA(l,"master","hcf");if(y.permission.includes("USER"))return qA(l,"master");if(y.permission.includes("REPORT"))return qA(l,"report")}return!0},g=y=>{if(y.children&&y.children.length>0){const b=new Set(o);b.has(y.id)?b.delete(y.id):b.add(y.id),d(b)}else y.path&&(n(y.path),e())},m=()=>{c(),n("/mobile/login"),e()},x=y=>a.pathname===y||a.pathname.startsWith(y+"/");return P.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[r]),t.jsxs(t.Fragment,{children:[r&&t.jsx("div",{className:"mobile-drawer-overlay",onClick:e}),t.jsxs("div",{className:`mobile-drawer ${r?"mobile-drawer--open":""}`,children:[t.jsxs("div",{className:"mobile-drawer-header",children:[t.jsxs("div",{className:"mobile-drawer-profile",children:[t.jsx("div",{className:"mobile-drawer-avatar",children:h()}),t.jsxs("div",{className:"mobile-drawer-profile-info",children:[t.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-drawer-close",onClick:e,"aria-label":"Close menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"mobile-drawer-content",children:A.map(y=>{const b=y.items.filter(f);return b.length===0?null:t.jsxs("div",{className:"mobile-drawer-group",children:[t.jsx("div",{className:"mobile-drawer-group-title",children:y.title}),b.map(w=>{const N=w.children&&w.children.length>0,S=o.has(w.id),j=x(w.path);return t.jsxs("div",{children:[t.jsxs("button",{className:`mobile-drawer-item ${j?"mobile-drawer-item--active":""}`,onClick:()=>g(w),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:w.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:w.label}),N&&t.jsx("svg",{className:`mobile-drawer-item-chevron ${S?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),N&&S&&t.jsx("div",{className:"mobile-drawer-submenu",children:w.children.map(_=>t.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${x(_.path)?"mobile-drawer-item--active":""}`,onClick:()=>g(_),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:_.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:_.label})]},_.id))})]},w.id)})]},y.title)})}),t.jsx("div",{className:"mobile-drawer-footer",children:t.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:m,children:[t.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},iae=()=>{const{user:r}=xa(),[e,n]=P.useState(!1),a=()=>{if(r!=null&&r.name){const i=r.name.split(" ");return i.length>=2?`${i[0][0]}${i[1][0]}`.toUpperCase():r.name.substring(0,2).toUpperCase()}return"MW"};return t.jsxs(Dh,{children:[t.jsx(aae,{isOpen:e,onClose:()=>n(!1)}),t.jsx("div",{className:"mobile-home-template",children:t.jsxs("div",{className:"mobile-home-profile",children:[t.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[t.jsx("div",{className:"mobile-home-avatar",children:a()}),t.jsxs("div",{className:"mobile-home-profile-info",children:[t.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})};function sae(r,e){var n=Object.setPrototypeOf;n?n(r,e):r.__proto__=e}function oae(r,e){e===void 0&&(e=r.constructor);var n=Error.captureStackTrace;n&&n(r,e)}var lae=(function(){var r=function(n,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])},r(n,a)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),cae=(function(r){lae(e,r);function e(n,a){var i=this.constructor,s=r.call(this,n,a)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),sae(s,i.prototype),oae(s),s}return e})(Error),uae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ru=(function(r){uae(e,r);function e(n){n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.message=n,a}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(cae),dae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),dl=(function(r){dae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Ru),hae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ba=(function(r){hae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Ru),UF=(function(){function r(e){if(this.binarizer=e,e===null)throw new Ba("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,n,a,i){var s=this.binarizer.getLuminanceSource().crop(e,n,a,i);return new r(this.binarizer.createBinarizer(s))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),Aae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),jl=(function(r){Aae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Ru),fae=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),ao=(function(){function r(){}return r.arraycopy=function(e,n,a,i,s){for(;s--;)a[i++]=e[n++]},r.currentTimeMillis=function(){return Date.now()},r})(),pae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),JN=(function(r){pae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Ru),mae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),o_=(function(r){mae(e,r);function e(n,a){n===void 0&&(n=void 0),a===void 0&&(a=void 0);var i=r.call(this,a)||this;return i.index=n,i.message=a,i}return e.kind="ArrayIndexOutOfBoundsException",e})(JN),gae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kl=(function(){function r(){}return r.fill=function(e,n){for(var a=0,i=e.length;a<i;a++)e[a]=n},r.fillWithin=function(e,n,a,i){r.rangeCheck(e.length,n,a);for(var s=n;s<a;s++)e[s]=i},r.rangeCheck=function(e,n,a){if(n>a)throw new Ba("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new o_(n);if(a>e)throw new o_(a)},r.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},r.create=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:n}).fill(a)})},r.createInt32Array=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:n}).fill(a)})},r.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var a=0,i=e.length;a<i;a++)if(e[a]!==n[a])return!1;return!0},r.hashCode=function(e){var n,a;if(e===null)return 0;var i=1;try{for(var s=gae(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=31*i+l}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.fillUint8Array=function(e,n){for(var a=0;a!==e.length;a++)e[a]=n},r.copyOf=function(e,n){return e.slice(0,n)},r.copyOfUint8Array=function(e,n){if(e.length<=n){var a=new Uint8Array(n);return a.set(e),a}return e.slice(0,n)},r.copyOfRange=function(e,n,a){var i=a-n,s=new Int32Array(i);return ao.arraycopy(e,n,s,0,i),s},r.binarySearch=function(e,n,a){a===void 0&&(a=r.numberComparator);for(var i=0,s=e.length-1;i<=s;){var c=s+i>>1,l=a(n,e[c]);if(l>0)i=c+1;else if(l<0)s=c-1;else return c}return-i-1},r.numberComparator=function(e,n){return e-n},r})(),Si=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var a=31;return n=e<<16,n!==0&&(a-=16,e=n),n=e<<8,n!==0&&(a-=8,e=n),n=e<<4,n!==0&&(a-=4,e=n),n=e<<2,n!==0&&(a-=2,e=n),a-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,n){return Math.trunc(e/n)},r.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),xc=(function(){function r(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=r.makeArray(e):this.bits=n)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=r.makeArray(e);ao.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=a[i]}var l=i*32+Si.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=~a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=~a[i]}var l=i*32+Si.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},r.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Ba;if(n!==e){n--;for(var a=Math.floor(e/32),i=Math.floor(n/32),s=this.bits,c=a;c<=i;c++){var l=c>a?0:e&31,u=c<i?31:n&31,o=(2<<u)-(1<<l);s[c]|=o}}},r.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,a=0;a<e;a++)n[a]=0},r.prototype.isRange=function(e,n,a){if(n<e||e<0||n>this.size)throw new Ba;if(n===e)return!0;n--;for(var i=Math.floor(e/32),s=Math.floor(n/32),c=this.bits,l=i;l<=s;l++){var u=l>i?0:e&31,o=l<s?31:n&31,d=(2<<o)-(1<<u)&4294967295;if((c[l]&d)!==(a?d:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Ba("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var a=n;a>0;a--)this.appendBit((e>>a-1&1)===1)},r.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var a=0;a<n;a++)this.appendBit(e.get(a))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Ba("Sizes don't match");for(var n=this.bits,a=0,i=n.length;a<i;a++)n[a]^=e.bits[a]},r.prototype.toBytes=function(e,n,a,i){for(var s=0;s<i;s++){for(var c=0,l=0;l<8;l++)this.get(e)&&(c|=1<<7-l),e++;n[a+s]=c}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,i=this.bits,s=0;s<a;s++){var c=i[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[n-s]=c}if(this.size!==a*32){for(var l=a*32-this.size,u=e[0]>>>l,s=1;s<a;s++){var o=e[s];u|=o<<32-l,e[s-1]=u,u=o>>>l}e[a-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.size===n.size&&Kl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){return 31*this.size+Kl.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",n=0,a=this.size;n<a;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],n=0,a=this.size;n<a;n++)e.push(this.get(n));return e},r})(),B4;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(B4||(B4={}));const io=B4;var vae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),pn=(function(r){vae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Ru),xae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ts;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(Ts||(Ts={}));var Vl=(function(){function r(e,n,a){for(var i,s,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];this.valueIdentifier=e,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(a,this);for(var u=this.values,o=0,d=u.length;o!==d;o++){var h=u[o];r.VALUES_TO_ECI.set(h,this)}try{for(var A=xae(c),f=A.next();!f.done;f=A.next()){var g=f.value;r.NAME_TO_ECI.set(g,this)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new pn("incorect value");var n=r.VALUES_TO_ECI.get(e);if(n===void 0)throw new pn("incorect value");return n},r.getCharacterSetECIByName=function(e){var n=r.NAME_TO_ECI.get(e);if(n===void 0)throw new pn("incorect value");return n},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.getName()===n.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(Ts.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(Ts.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(Ts.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(Ts.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(Ts.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(Ts.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(Ts.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(Ts.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(Ts.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(Ts.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(Ts.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(Ts.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(Ts.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(Ts.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(Ts.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(Ts.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(Ts.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(Ts.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(Ts.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(Ts.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(Ts.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(Ts.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(Ts.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(Ts.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(Ts.Big5,28,"Big5"),r.GB18030=new r(Ts.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(Ts.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),yae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),sv=(function(r){yae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Ru),Ud=(function(){function r(){}return r.decode=function(e,n){var a=this.encodingName(n);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,n){var a=this.encodingName(n);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Vl?e:Vl.getCharacterSetECIByName(e)},r.decodeFallback=function(e,n){var a=this.encodingCharacterSet(n);if(r.isDecodeFallbackSupported(a)){for(var i="",s=0,c=e.length;s<c;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(a.equals(Vl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new sv("Encoding "+this.encodingName(n)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Vl.UTF8)||e.equals(Vl.ISO8859_1)||e.equals(Vl.ASCII)},r.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),a=n.split(""),i=[],s=0;s<a.length;s++)i.push(a[s].charCodeAt(0));return new Uint8Array(i)},r})(),qi=(function(){function r(){}return r.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var a=n?n.getName():this.ISO88591;return Ud.decode(new Uint8Array([e]),a)},r.guessEncoding=function(e,n){if(n!=null&&n.get(io.CHARACTER_SET)!==void 0)return n.get(io.CHARACTER_SET).toString();for(var a=e.length,i=!0,s=!0,c=!0,l=0,u=0,o=0,d=0,h=0,A=0,f=0,g=0,m=0,x=0,y=0,b=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<a&&(i||s||c);w++){var N=e[w]&255;c&&(l>0?(N&128)===0?c=!1:l--:(N&128)!==0&&((N&64)===0?c=!1:(l++,(N&32)===0?u++:(l++,(N&16)===0?o++:(l++,(N&8)===0?d++:c=!1))))),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&y++),s&&(h>0?N<64||N===127||N>252?s=!1:h--:N===128||N===160||N>239?s=!1:N>160&&N<224?(A++,g=0,f++,f>m&&(m=f)):N>127?(h++,f=0,g++,g>x&&(x=g)):(f=0,g=0))}return c&&l>0&&(c=!1),s&&h>0&&(s=!1),c&&(b||u+o+d>0)?r.UTF8:s&&(r.ASSUME_SHIFT_JIS||m>=3||x>=3)?r.SHIFT_JIS:i&&s?m===2&&A===2||y*10>=a?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:s?r.SHIFT_JIS:c?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=-1;function s(l,u,o,d,h,A){if(l==="%%")return"%";if(n[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var f=h?parseInt(h.substr(1)):void 0,g;switch(A){case"s":g=n[i];break;case"c":g=n[i][0];break;case"f":g=parseFloat(n[i]).toFixed(l);break;case"p":g=parseFloat(n[i]).toPrecision(l);break;case"e":g=parseFloat(n[i]).toExponential(l);break;case"x":g=parseInt(n[i]).toString(f||16);break;case"d":g=parseFloat(parseInt(n[i],f||10).toPrecision(l)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(f);for(var m=parseInt(o),x=o&&o[0]+""=="0"?"0":" ";g.length<m;)g=u!==void 0?g+x:x+g;return g}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,s)},r.getBytes=function(e,n){return Ud.encode(e,n)},r.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Vl.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Vl.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Vl.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),wi=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=qi.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,n,a){for(var i=n;n<n+a;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},r.prototype.substring=function(e,n){return this.value.substring(e,n)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},r})(),kh=(function(){function r(e,n,a,i){if(this.width=e,this.height=n,this.rowSize=a,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Ba("Both dimensions must be greater than 0");a==null&&(a=Math.floor((e+31)/32)),this.rowSize=a,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var n=e.length,a=e[0].length,i=new r(a,n),s=0;s<n;s++)for(var c=e[s],l=0;l<a;l++)c[l]&&i.set(l,s);return i},r.parseFromString=function(e,n,a){if(e===null)throw new Ba("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,c=0,l=-1,u=0,o=0;o<e.length;)if(e.charAt(o)===`
`||e.charAt(o)==="\r"){if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ba("row lengths do not match");c=s,u++}o++}else if(e.substring(o,o+n.length)===n)o+=n.length,i[s]=!0,s++;else if(e.substring(o,o+a.length)===a)o+=a.length,i[s]=!1,s++;else throw new Ba("illegal character encountered: "+e.substring(o));if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ba("row lengths do not match");u++}for(var d=new r(l,u),h=0;h<s;h++)i[h]&&d.set(Math.floor(h%l),Math.floor(h/l));return d},r.prototype.get=function(e,n){var a=n*this.rowSize+Math.floor(e/32);return(this.bits[a]>>>(e&31)&1)!==0},r.prototype.set=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ba("input matrix dimensions do not match");for(var n=new xc(Math.floor(this.width/32)+1),a=this.rowSize,i=this.bits,s=0,c=this.height;s<c;s++)for(var l=s*a,u=e.getRow(s,n).getBitArray(),o=0;o<a;o++)i[l+o]^=u[o]},r.prototype.clear=function(){for(var e=this.bits,n=e.length,a=0;a<n;a++)e[a]=0},r.prototype.setRegion=function(e,n,a,i){if(n<0||e<0)throw new Ba("Left and top must be nonnegative");if(i<1||a<1)throw new Ba("Height and width must be at least 1");var s=e+a,c=n+i;if(c>this.height||s>this.width)throw new Ba("The region must fit inside the matrix");for(var l=this.rowSize,u=this.bits,o=n;o<c;o++)for(var d=o*l,h=e;h<s;h++)u[d+Math.floor(h/32)]|=1<<(h&31)&4294967295},r.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new xc(this.width):n.clear();for(var a=this.rowSize,i=this.bits,s=e*a,c=0;c<a;c++)n.setBulk(c*32,i[s+c]);return n},r.prototype.setRow=function(e,n){ao.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),a=new xc(e),i=new xc(e),s=0,c=Math.floor((n+1)/2);s<c;s++)a=this.getRow(s,a),i=this.getRow(n-1-s,i),a.reverse(),i.reverse(),this.setRow(s,i),this.setRow(n-1-s,a)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,a=this.rowSize,i=this.bits,s=e,c=n,l=-1,u=-1,o=0;o<n;o++)for(var d=0;d<a;d++){var h=i[o*a+d];if(h!==0){if(o<c&&(c=o),o>u&&(u=o),d*32<s){for(var A=0;(h<<31-A&4294967295)===0;)A++;d*32+A<s&&(s=d*32+A)}if(d*32+31>l){for(var A=31;!(h>>>A);)A--;d*32+A>l&&(l=d*32+A)}}}return l<s||u<c?null:Int32Array.from([s,c,l-s+1,u-c+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,a=0;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;for(var i=a/e,s=a%e*32,c=n[a],l=0;(c<<31-l&4294967295)===0;)l++;return s+=l,Int32Array.from([s,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,a=n.length-1;a>=0&&n[a]===0;)a--;if(a<0)return null;for(var i=Math.floor(a/e),s=Math.floor(a%e)*32,c=n[a],l=31;!(c>>>l);)l--;return s+=l,Int32Array.from([s,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Kl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Kl.hashCode(this.bits),e},r.prototype.toString=function(e,n,a){return e===void 0&&(e="X "),n===void 0&&(n="  "),a===void 0&&(a=`
`),this.buildToString(e,n,a)},r.prototype.buildToString=function(e,n,a){for(var i=new wi,s=0,c=this.height;s<c;s++){for(var l=0,u=this.width;l<u;l++)i.append(this.get(l,s)?e:n);i.append(a)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),bae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Br=(function(r){bae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Ru),wae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),jae=(function(r){wae(e,r);function e(n){var a=r.call(this,n)||this;return a.luminances=e.EMPTY,a.buckets=new Int32Array(e.LUMINANCE_BUCKETS),a}return e.prototype.getBlackRow=function(n,a){var i=this.getLuminanceSource(),s=i.getWidth();a==null||a.getSize()<s?a=new xc(s):a.clear(),this.initArrays(s);for(var c=i.getRow(n,this.luminances),l=this.buckets,u=0;u<s;u++)l[(c[u]&255)>>e.LUMINANCE_SHIFT]++;var o=e.estimateBlackPoint(l);if(s<3)for(var u=0;u<s;u++)(c[u]&255)<o&&a.set(u);else for(var d=c[0]&255,h=c[1]&255,u=1;u<s-1;u++){var A=c[u+1]&255;(h*4-d-A)/2<o&&a.set(u),d=h,h=A}return a},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight(),s=new kh(a,i);this.initArrays(a);for(var c=this.buckets,l=1;l<5;l++)for(var u=Math.floor(i*l/5),o=n.getRow(u,this.luminances),d=Math.floor(a*4/5),h=Math.floor(a/5);h<d;h++){var A=o[h]&255;c[A>>e.LUMINANCE_SHIFT]++}for(var f=e.estimateBlackPoint(c),g=n.getMatrix(),l=0;l<i;l++)for(var m=l*a,h=0;h<a;h++){var A=g[m+h]&255;A<f&&s.set(h,l)}return s},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var a=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)a[i]=0},e.estimateBlackPoint=function(n){for(var a=n.length,i=0,s=0,c=0,l=0;l<a;l++)n[l]>c&&(s=l,c=n[l]),n[l]>i&&(i=n[l]);for(var u=0,o=0,l=0;l<a;l++){var d=l-s,h=n[l]*d*d;h>o&&(u=l,o=h)}if(s>u){var A=s;s=u,u=A}if(u-s<=a/16)throw new Br;for(var f=u-1,g=-1,l=u-1;l>s;l--){var m=l-s,h=m*m*(u-l)*(i-n[l]);h>g&&(f=l,g=h)}return f<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(fae),Cae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),HF=(function(r){Cae(e,r);function e(n){var a=r.call(this,n)||this;return a.matrix=null,a}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight();if(a>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=n.getMatrix(),c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var u=e.calculateBlackPoints(s,c,l,a,i),o=new kh(a,i);e.calculateThresholdForBlock(s,c,l,a,i,u,o),this.matrix=o}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,a,i,s,c,l,u){for(var o=c-e.BLOCK_SIZE,d=s-e.BLOCK_SIZE,h=0;h<i;h++){var A=h<<e.BLOCK_SIZE_POWER;A>o&&(A=o);for(var f=e.cap(h,2,i-3),g=0;g<a;g++){var m=g<<e.BLOCK_SIZE_POWER;m>d&&(m=d);for(var x=e.cap(g,2,a-3),y=0,b=-2;b<=2;b++){var w=l[f+b];y+=w[x-2]+w[x-1]+w[x]+w[x+1]+w[x+2]}var N=y/25;e.thresholdBlock(n,m,A,N,s,u)}}},e.cap=function(n,a,i){return n<a?a:n>i?i:n},e.thresholdBlock=function(n,a,i,s,c,l){for(var u=0,o=i*c+a;u<e.BLOCK_SIZE;u++,o+=c)for(var d=0;d<e.BLOCK_SIZE;d++)(n[o+d]&255)<=s&&l.set(a+d,i+u)},e.calculateBlackPoints=function(n,a,i,s,c){for(var l=c-e.BLOCK_SIZE,u=s-e.BLOCK_SIZE,o=new Array(i),d=0;d<i;d++){o[d]=new Int32Array(a);var h=d<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var A=0;A<a;A++){var f=A<<e.BLOCK_SIZE_POWER;f>u&&(f=u);for(var g=0,m=255,x=0,y=0,b=h*s+f;y<e.BLOCK_SIZE;y++,b+=s){for(var w=0;w<e.BLOCK_SIZE;w++){var N=n[b+w]&255;g+=N,N<m&&(m=N),N>x&&(x=N)}if(x-m>e.MIN_DYNAMIC_RANGE)for(y++,b+=s;y<e.BLOCK_SIZE;y++,b+=s)for(var w=0;w<e.BLOCK_SIZE;w++)g+=n[b+w]&255}var S=g>>e.BLOCK_SIZE_POWER*2;if(x-m<=e.MIN_DYNAMIC_RANGE&&(S=m/2,d>0&&A>0)){var j=(o[d-1][A]+2*o[d][A-1]+o[d-1][A-1])/4;m<j&&(S=j)}o[d][A]=S}}return o},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(jae),Gg=(function(){function r(e,n){this.width=e,this.height=n}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,n,a,i){throw new sv("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new sv("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new sv("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new wi,a=0;a<this.height;a++){for(var i=this.getRow(a,e),s=0;s<this.width;s++){var c=i[s]&255,l=void 0;c<64?l="#":c<128?l="+":c<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},r})(),Nae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),sx=(function(r){Nae(e,r);function e(n){var a=r.call(this,n.getWidth(),n.getHeight())||this;return a.delegate=n,a}return e.prototype.getRow=function(n,a){for(var i=this.delegate.getRow(n,a),s=this.getWidth(),c=0;c<s;c++)i[c]=255-(i[c]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a),s=0;s<a;s++)i[s]=255-(n[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,a,i,s){return new e(this.delegate.crop(n,a,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Gg),Sae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bae=(function(r){Sae(e,r);function e(n,a){a===void 0&&(a=!1);var i=r.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,a),i}return e.makeBufferFromCanvasImageData=function(n,a){a===void 0&&(a=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,a)},e.toGrayscaleBuffer=function(n,a,i,s){s===void 0&&(s=!1);var c=new Uint8ClampedArray(a*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,u=0,o=n.length;l<o;l+=4,u++){var d=void 0,h=n[l+3];if(h===0)d=255;else{var A=n[l],f=n[l+1],g=n[l+2];d=306*A+601*f+117*g+512>>10}c[u]=d}else for(var l=0,u=0,m=n.length;l<m;l+=4,u++){var d=void 0,h=n[l+3];if(h===0)d=255;else{var A=n[l],f=n[l+1],g=n[l+2];d=306*A+601*f+117*g+512>>10}c[u]=255-d}return c},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement(),i=a.getContext("2d"),s=n*e.DEGREE_TO_RADIANS,c=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*c+Math.abs(Math.sin(s))*l),o=Math.ceil(Math.abs(Math.sin(s))*c+Math.abs(Math.cos(s))*l);return a.width=u,a.height=o,i.translate(u/2,o/2),i.rotate(s),i.drawImage(this.canvas,c/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.prototype.invert=function(){return new sx(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Gg),Eae=(function(){function r(e,n,a){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=a||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),pu=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(d){try{o(a.next(d))}catch(h){c(h)}}function u(d){try{o(a.throw(d))}catch(h){c(h)}}function o(d){d.done?s(d.value):i(d.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},mu=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(d){return u([o,d])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(d){o=[6,d],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Iae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fm=(function(){function r(e,n,a){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return pu(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,d,h,A;return mu(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),n=[];try{for(a=Iae(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device "+(n.length+1),o=s.groupId,d={deviceId:l,label:u,kind:c,groupId:o},n.push(d))}catch(g){h={error:g}}finally{try{i&&!i.done&&(A=a.return)&&A.call(a)}finally{if(h)throw h.error}}return[2,n]}})})},r.prototype.getVideoInputDevices=function(){return pu(this,void 0,void 0,function(){var e;return mu(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(a){return new Eae(a.deviceId,a.label)})]}})})},r.prototype.findDeviceById=function(e){return pu(this,void 0,void 0,function(){var n;return mu(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,n){return pu(this,void 0,void 0,function(){return mu(this,function(a){switch(a.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return pu(this,void 0,void 0,function(){var a,i;return mu(this,function(s){switch(s.label){case 0:return this.reset(),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return pu(this,void 0,void 0,function(){var a;return mu(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return pu(this,void 0,void 0,function(){var a,i;return mu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return a=s.sent(),[4,this.decodeOnce(a)];case 2:return i=s.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,a){return pu(this,void 0,void 0,function(){return mu(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,a)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return pu(this,void 0,void 0,function(){var i,s;return mu(this,function(c){switch(c.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return pu(this,void 0,void 0,function(){var i;return mu(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,n,a)];case 2:return[2,s.sent()]}})})},r.prototype.decodeFromStream=function(e,n,a){return pu(this,void 0,void 0,function(){var i;return mu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,a)];case 2:return[2,s.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,n){return pu(this,void 0,void 0,function(){var a;return mu(this,function(i){switch(i.label){case 0:return a=this.prepareVideoElement(n),this.addVideoSource(a,e),this.videoElement=a,this.stream=e,[4,this.playVideoOnLoadAsync(a)];case 1:return i.sent(),[2,a]}})})},r.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(a,i){return n.playVideoOnLoad(e,function(){return a()})})},r.prototype.playVideoOnLoad=function(e,n){var a=this;this.videoEndedListener=function(){return a.stopStreams()},this.videoCanPlayListener=function(){return a.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return pu(this,void 0,void 0,function(){return mu(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new dl("element with id '"+e+"' not found");if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new dl("element with id '"+e+"' must be an "+n+" element");return a},r.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new dl("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new dl("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,n,a){if(e===void 0&&n===void 0)throw new dl("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(e,a)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new dl("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a},r.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},r.prototype.decodeFromVideoElementContinuously=function(e,n){var a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,n)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new dl("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new dl("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var a=this._decodeOnLoadImage(n);return n.src=e,a},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new dl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=e,a},r.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new dl("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(a,n);return a.src=e,i},r.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(a,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(a,i)},e.addEventListener("load",n.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return pu(this,void 0,void 0,function(){return mu(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,n){return pu(this,void 0,void 0,function(){return mu(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return a.sent(),this.decodeContinuously(e,n),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},r.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.prototype.decodeOnce=function(e,n,a){var i=this;n===void 0&&(n=!0),a===void 0&&(a=!0),this._stopAsyncDecode=!1;var s=function(c,l){if(i._stopAsyncDecode){l(new Br("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);c(u)}catch(A){var o=n&&A instanceof Br,d=A instanceof jl||A instanceof pn,h=d&&a;if(o||h)return setTimeout(s,i._timeBetweenDecodingAttempts,c,l);l(A)}};return new Promise(function(c,l){return s(c,l)})},r.prototype.decodeContinuously=function(e,n){var a=this;this._stopContinuousDecode=!1;var i=function(){if(a._stopContinuousDecode){a._stopContinuousDecode=void 0;return}try{var s=a.decode(e);n(s,null),setTimeout(i,a.timeBetweenScansMillis)}catch(u){n(null,u);var c=u instanceof jl||u instanceof pn,l=u instanceof Br;(c||l)&&setTimeout(i,a._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var a=this.getCaptureCanvas(e),i=new Bae(a,n),s=new HF(i);return new UF(s)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),a=void 0;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}this.captureCanvasContext=a}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.drawImageOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),a,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=a+"px",n.style.height=i+"px",n.width=a,n.height=i,n},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),Jc=(function(){function r(e,n,a,i,s,c){a===void 0&&(a=n==null?0:8*n.length),c===void 0&&(c=ao.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=a,this.resultPoints=i,this.format=s,this.timestamp=c,this.text=e,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=i,this.format=s,this.resultMetadata=null,c==null?this.timestamp=ao.currentTimeMillis():this.timestamp=c}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var a=new Array(n.length+e.length);ao.arraycopy(n,0,a,0,n.length),ao.arraycopy(e,0,a,n.length,e.length),this.resultPoints=a}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),E4;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(E4||(E4={}));const Sa=E4;var I4;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(I4||(I4={}));const Mc=I4;var ox=(function(){function r(e,n,a,i,s,c){s===void 0&&(s=-1),c===void 0&&(c=-1),this.rawBytes=e,this.text=n,this.byteSegments=a,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),M0=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ba;return this.logTable[e]},r.addOrSubtract=function(e,n){return e^n},r})(),af=(function(){function r(e,n){if(n.length===0)throw new Ba;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-i),ao.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,a;if(e===1){a=0;for(var i=0,s=n.length;i!==s;i++){var c=n[i];a=M0.addOrSubtract(a,c)}return a}a=n[0];for(var l=n.length,u=this.field,i=1;i<l;i++)a=M0.addOrSubtract(u.multiply(e,a),n[i]);return a},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ba("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;ao.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=M0.addOrSubtract(n[l-c],a[l]);return new r(this.field,s)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ba("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=this.field,u=0;u<a;u++)for(var o=n[u],d=0;d<s;d++)c[u+d]=M0.addOrSubtract(c[u+d],l.multiply(o,i[d]));return new r(l,c)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,a=this.field,i=new Int32Array(n),s=this.coefficients,c=0;c<n;c++)i[c]=a.multiply(s[c],e);return new r(a,i)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ba;if(n===0)return this.field.getZero();for(var a=this.coefficients,i=a.length,s=new Int32Array(i+e),c=this.field,l=0;l<i;l++)s[l]=c.multiply(a[l],n);return new r(c,s)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ba("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ba("Divide by 0");for(var n=this.field,a=n.getZero(),i=this,s=e.getCoefficient(e.getDegree()),c=n.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),u=n.multiply(i.getCoefficient(i.getDegree()),c),o=e.multiplyByMonomial(l,u),d=n.buildMonomial(l,u);a=a.addOrSubtract(d),i=i.addOrSubtract(o)}return[a,i]},r.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);if(a!==0){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),n===0||a!==1){var i=this.field.log(a);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},r})(),Tae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),QF=(function(r){Tae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Ru),_ae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Fu=(function(r){_ae(e,r);function e(n,a,i){var s=r.call(this)||this;s.primitive=n,s.size=a,s.generatorBase=i;for(var c=new Int32Array(a),l=1,u=0;u<a;u++)c[u]=l,l*=2,l>=a&&(l^=n,l&=a-1);s.expTable=c;for(var o=new Int32Array(a),u=0;u<a-1;u++)o[c[u]]=u;return s.logTable=o,s.zero=new af(s,Int32Array.from([0])),s.one=new af(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ba;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new af(this,i)},e.prototype.inverse=function(n){if(n===0)throw new QF;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Si.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(M0),Oae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Y1=(function(r){Oae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Ru),kae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qg=(function(r){kae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Ru),lx=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,n){for(var a=this.field,i=new af(a,e),s=new Int32Array(n),c=!0,l=0;l<n;l++){var u=i.evaluateAt(a.exp(l+a.getGeneratorBase()));s[s.length-1-l]=u,u!==0&&(c=!1)}if(!c)for(var o=new af(a,s),d=this.runEuclideanAlgorithm(a.buildMonomial(n,1),o,n),h=d[0],A=d[1],f=this.findErrorLocations(h),g=this.findErrorMagnitudes(A,f),l=0;l<f.length;l++){var m=e.length-1-a.log(f[l]);if(m<0)throw new Y1("Bad error location");e[m]=Fu.addOrSubtract(e[m],g[l])}},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=this.field,c=e,l=n,u=s.getZero(),o=s.getOne();l.getDegree()>=(a/2|0);){var d=c,h=u;if(c=l,u=o,c.isZero())throw new Y1("r_{i-1} was zero");l=d;for(var A=s.getZero(),f=c.getCoefficient(c.getDegree()),g=s.inverse(f);l.getDegree()>=c.getDegree()&&!l.isZero();){var m=l.getDegree()-c.getDegree(),x=s.multiply(l.getCoefficient(l.getDegree()),g);A=A.addOrSubtract(s.buildMonomial(m,x)),l=l.addOrSubtract(c.multiplyByMonomial(m,x))}if(o=A.multiply(u).addOrSubtract(h),l.getDegree()>=c.getDegree())throw new qg("Division algorithm failed to reduce polynomial?")}var y=o.getCoefficient(0);if(y===0)throw new Y1("sigmaTilde(0) was zero");var b=s.inverse(y),w=o.multiplyScalar(b),N=l.multiplyScalar(b);return[w,N]},r.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var a=new Int32Array(n),i=0,s=this.field,c=1;c<s.getSize()&&i<n;c++)e.evaluateAt(c)===0&&(a[i]=s.inverse(c),i++);if(i!==n)throw new Y1("Error locator degree does not match number of roots");return a},r.prototype.findErrorMagnitudes=function(e,n){for(var a=n.length,i=new Int32Array(a),s=this.field,c=0;c<a;c++){for(var l=s.inverse(n[c]),u=1,o=0;o<a;o++)if(c!==o){var d=s.multiply(n[o],l),h=(d&1)===0?d|1:d&-2;u=s.multiply(u,h)}i[c]=s.multiply(e.evaluateAt(l),s.inverse(u)),s.getGeneratorBase()!==0&&(i[c]=s.multiply(i[c],l))}return i},r})(),Pc;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Pc||(Pc={}));var l_=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),a=this.extractBits(n),i=this.correctBits(a),s=r.convertBoolArrayToByteArray(i),c=r.getEncodedData(i),l=new ox(s,c,null,null);return l.setNumBits(i.length),l},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var n=e.length,a=Pc.UPPER,i=Pc.UPPER,s="",c=0;c<n;)if(i===Pc.BINARY){if(n-c<5)break;var l=r.readCode(e,c,5);if(c+=5,l===0){if(n-c<11)break;l=r.readCode(e,c,11)+31,c+=11}for(var u=0;u<l;u++){if(n-c<8){c=n;break}var o=r.readCode(e,c,8);s+=qi.castAsNonUtf8Char(o),c+=8}i=a}else{var d=i===Pc.DIGIT?4:5;if(n-c<d)break;var o=r.readCode(e,c,d);c+=d;var h=r.getCharacter(i,o);h.startsWith("CTRL_")?(a=i,i=r.getTable(h.charAt(5)),h.charAt(6)==="L"&&(a=i)):(s+=h,i=a)}return s},r.getTable=function(e){switch(e){case"L":return Pc.LOWER;case"P":return Pc.PUNCT;case"M":return Pc.MIXED;case"D":return Pc.DIGIT;case"B":return Pc.BINARY;case"U":default:return Pc.UPPER}},r.getCharacter=function(e,n){switch(e){case Pc.UPPER:return r.UPPER_TABLE[n];case Pc.LOWER:return r.LOWER_TABLE[n];case Pc.MIXED:return r.MIXED_TABLE[n];case Pc.PUNCT:return r.PUNCT_TABLE[n];case Pc.DIGIT:return r.DIGIT_TABLE[n];default:throw new qg("Bad table")}},r.prototype.correctBits=function(e){var n,a;this.ddata.getNbLayers()<=2?(a=6,n=Fu.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Fu.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Fu.AZTEC_DATA_10):(a=12,n=Fu.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/a;if(s<i)throw new pn;for(var c=e.length%a,l=new Int32Array(s),u=0;u<s;u++,c+=a)l[u]=r.readCode(e,c,a);try{var o=new lx(n);o.decode(l,s-i)}catch(x){throw new pn(x)}for(var d=(1<<a)-1,h=0,u=0;u<i;u++){var A=l[u];if(A===0||A===d)throw new pn;(A===1||A===d-1)&&h++}for(var f=new Array(i*a-h),g=0,u=0;u<i;u++){var A=l[u];if(A===1||A===d-1)f.fill(A>1,g,g+a-1),g+=a-1;else for(var m=a-1;m>=0;--m)f[g++]=(A&1<<m)!==0}return f},r.prototype.extractBits=function(e){var n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),i=(n?11:14)+a*4,s=new Int32Array(i),c=new Array(this.totalBitsInLayer(a,n));if(n)for(var l=0;l<s.length;l++)s[l]=l;else for(var u=i+1+2*Si.truncDivision(Si.truncDivision(i,2)-1,15),o=i/2,d=Si.truncDivision(u,2),l=0;l<o;l++){var h=l+Si.truncDivision(l,15);s[o-l-1]=d-h-1,s[o+l]=d+h+1}for(var l=0,A=0;l<a;l++){for(var f=(a-l)*4+(n?9:12),g=l*2,m=i-1-g,x=0;x<f;x++)for(var y=x*2,b=0;b<2;b++)c[A+y+b]=e.get(s[g+b],s[g+x]),c[A+2*f+y+b]=e.get(s[g+x],s[m-b]),c[A+4*f+y+b]=e.get(s[m-b],s[m-x]),c[A+6*f+y+b]=e.get(s[m-x],s[g+b]);A+=f*8}return c},r.readCode=function(e,n,a){for(var i=0,s=n;s<n+a;s++)i<<=1,e[s]&&(i|=1);return i},r.readByte=function(e,n){var a=e.length-n;return a>=8?r.readCode(e,n,8):r.readCode(e,n,a)<<8-a},r.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),a=0;a<n.length;a++)n[a]=r.readByte(e,8*a);return n},r.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),as=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,n,a,i){var s=e-a,c=n-i;return Math.sqrt(s*s+c*c)},r.sum=function(e){for(var n=0,a=0,i=e.length;a!==i;a++){var s=e[a];n+=s}return n},r})(),T4=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),na=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var n=e;return this.x===n.x&&this.y===n.y}return!1},r.prototype.hashCode=function(){return 31*T4.floatToIntBits(this.x)+T4.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,c,l;if(a>=n&&a>=i?(c=e[0],s=e[1],l=e[2]):i>=a&&i>=n?(c=e[1],s=e[0],l=e[2]):(c=e[2],s=e[0],l=e[1]),this.crossProductZ(s,c,l)<0){var u=s;s=l,l=u}e[0]=s,e[1]=c,e[2]=l},r.distance=function(e,n){return as.distance(e.x,e.y,n.x,n.y)},r.crossProductZ=function(e,n,a){var i=n.x,s=n.y;return(a.x-i)*(e.y-s)-(a.y-s)*(e.x-i)},r})(),eS=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Pae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Fae=(function(r){Pae(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=c,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(eS),_4=(function(){function r(e,n,a,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=r.INIT_SIZE),a==null&&(a=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=n/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Br}return r.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,a=this.upInit,i=this.downInit,s=!1,c=!0,l=!1,u=!1,o=!1,d=!1,h=!1,A=this.width,f=this.height;c;){c=!1;for(var g=!0;(g||!u)&&n<A;)g=this.containsBlackPoint(a,i,n,!1),g?(n++,c=!0,u=!0):u||n++;if(n>=A){s=!0;break}for(var m=!0;(m||!o)&&i<f;)m=this.containsBlackPoint(e,n,i,!0),m?(i++,c=!0,o=!0):o||i++;if(i>=f){s=!0;break}for(var x=!0;(x||!d)&&e>=0;)x=this.containsBlackPoint(a,i,e,!1),x?(e--,c=!0,d=!0):d||e--;if(e<0){s=!0;break}for(var y=!0;(y||!h)&&a>=0;)y=this.containsBlackPoint(e,n,a,!0),y?(a--,c=!0,h=!0):h||a--;if(a<0){s=!0;break}c&&(l=!0)}if(!s&&l){for(var b=n-e,w=null,N=1;w===null&&N<b;N++)w=this.getBlackPointOnSegment(e,i-N,e+N,i);if(w==null)throw new Br;for(var S=null,N=1;S===null&&N<b;N++)S=this.getBlackPointOnSegment(e,a+N,e+N,a);if(S==null)throw new Br;for(var j=null,N=1;j===null&&N<b;N++)j=this.getBlackPointOnSegment(n,a+N,n-N,a);if(j==null)throw new Br;for(var _=null,N=1;_===null&&N<b;N++)_=this.getBlackPointOnSegment(n,i-N,n-N,i);if(_==null)throw new Br;return this.centerEdges(_,w,j,S)}else throw new Br},r.prototype.getBlackPointOnSegment=function(e,n,a,i){for(var s=as.round(as.distance(e,n,a,i)),c=(a-e)/s,l=(i-n)/s,u=this.image,o=0;o<s;o++){var d=as.round(e+o*c),h=as.round(n+o*l);if(u.get(d,h))return new na(d,h)}return null},r.prototype.centerEdges=function(e,n,a,i){var s=e.getX(),c=e.getY(),l=n.getX(),u=n.getY(),o=a.getX(),d=a.getY(),h=i.getX(),A=i.getY(),f=r.CORR;return s<this.width/2?[new na(h-f,A+f),new na(l+f,u+f),new na(o-f,d-f),new na(s+f,c-f)]:[new na(h+f,A+f),new na(l+f,u-f),new na(o-f,d+f),new na(s-f,c-f)]},r.prototype.containsBlackPoint=function(e,n,a,i){var s=this.image;if(i){for(var c=e;c<=n;c++)if(s.get(c,a))return!0}else for(var l=e;l<=n;l++)if(s.get(a,l))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),c_=(function(){function r(){}return r.checkAndNudgePoints=function(e,n){for(var a=e.getWidth(),i=e.getHeight(),s=!0,c=0;c<n.length&&s;c+=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Br;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}s=!0;for(var c=n.length-2;c>=0&&s;c-=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Br;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}},r})(),WF=(function(){function r(e,n,a,i,s,c,l,u,o){this.a11=e,this.a21=n,this.a31=a,this.a12=i,this.a22=s,this.a32=c,this.a13=l,this.a23=u,this.a33=o}return r.quadrilateralToQuadrilateral=function(e,n,a,i,s,c,l,u,o,d,h,A,f,g,m,x){var y=r.quadrilateralToSquare(e,n,a,i,s,c,l,u),b=r.squareToQuadrilateral(o,d,h,A,f,g,m,x);return b.times(y)},r.prototype.transformPoints=function(e){for(var n=e.length,a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,d=this.a32,h=this.a33,A=0;A<n;A+=2){var f=e[A],g=e[A+1],m=s*f+u*g+h;e[A]=(a*f+c*g+o)/m,e[A+1]=(i*f+l*g+d)/m}},r.prototype.transformPointsWithValues=function(e,n){for(var a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,d=this.a32,h=this.a33,A=e.length,f=0;f<A;f++){var g=e[f],m=n[f],x=s*g+u*m+h;e[f]=(a*g+c*m+o)/x,n[f]=(i*g+l*m+d)/x}},r.squareToQuadrilateral=function(e,n,a,i,s,c,l,u){var o=e-a+s-l,d=n-i+c-u;if(o===0&&d===0)return new r(a-e,s-a,e,i-n,c-i,n,0,0,1);var h=a-s,A=l-s,f=i-c,g=u-c,m=h*g-A*f,x=(o*g-A*d)/m,y=(h*d-o*f)/m;return new r(a-e+x*a,l-e+y*l,e,i-n+x*i,u-n+y*u,n,x,y,1)},r.quadrilateralToSquare=function(e,n,a,i,s,c,l,u){return r.squareToQuadrilateral(e,n,a,i,s,c,l,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),Dae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mae=(function(r){Dae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,a,i,s,c,l,u,o,d,h,A,f,g,m,x,y,b,w,N){var S=WF.quadrilateralToQuadrilateral(s,c,l,u,o,d,h,A,f,g,m,x,y,b,w,N);return this.sampleGridWithTransform(n,a,i,S)},e.prototype.sampleGridWithTransform=function(n,a,i,s){if(a<=0||i<=0)throw new Br;for(var c=new kh(a,i),l=new Float32Array(2*a),u=0;u<i;u++){for(var o=l.length,d=u+.5,h=0;h<o;h+=2)l[h]=h/2+.5,l[h+1]=d;s.transformPoints(l),c_.checkAndNudgePoints(n,l);try{for(var h=0;h<o;h+=2)n.get(Math.floor(l[h]),Math.floor(l[h+1]))&&c.set(h/2,u)}catch{throw new Br}}return c},e})(c_),tS=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new Mae,r})(),Pu=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.toResultPoint=function(){return new na(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),Rae=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(e){var i=a[0];a[0]=a[2],a[2]=i}this.extractParameters(a);var s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new Fae(s,c,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Br;var n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(a,n);for(var i=0,s=0;s<4;s++){var c=a[(this.shift+s)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&992)+(c>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},r.prototype.getRotation=function(e,n){var a=0;e.forEach(function(s,c,l){var u=(s>>n-2<<1)+(s&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(var i=0;i<4;i++)if(Si.bitCount(a^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Br},r.prototype.getCorrectedParameterData=function(e,n){var a,i;n?(a=7,i=2):(a=10,i=4);for(var s=a-i,c=new Int32Array(a),l=a-1;l>=0;--l)c[l]=e&15,e>>=4;try{var u=new lx(Fu.AZTEC_PARAM);u.decode(c,s)}catch{throw new Br}for(var o=0,l=0;l<i;l++)o=(o<<4)+c[l];return o},r.prototype.getBullsEyeCorners=function(e){var n=e,a=e,i=e,s=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,c,1,-1),u=this.getFirstDifferent(a,c,1,1),o=this.getFirstDifferent(i,c,-1,1),d=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(l,u,o,d))break}n=l,a=u,i=o,s=d,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Br;this.compact=this.nbCenterLayers===5;var A=new na(n.getX()+.5,n.getY()-.5),f=new na(a.getX()+.5,a.getY()+.5),g=new na(i.getX()-.5,i.getY()+.5),m=new na(s.getX()-.5,s.getY()-.5);return this.expandSquare([A,f,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,n,a,i;try{var s=new _4(this.image).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{var c=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Pu(c+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Pu(c+7,l+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Pu(c-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Pu(c-7,l-7),!1,-1,-1).toResultPoint()}var u=as.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=as.round((e.getY()+i.getY()+n.getY()+a.getY())/4);try{var s=new _4(this.image,15,u,o).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Pu(u+7,o-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Pu(u+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Pu(u-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Pu(u-7,o-7),!1,-1,-1).toResultPoint()}return u=as.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=as.round((e.getY()+i.getY()+n.getY()+a.getY())/4),new Pu(u,o)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,n,a,i,s){var c=tS.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,o=l/2+this.nbCenterLayers;return c.sampleGrid(e,l,l,u,u,o,u,o,o,u,o,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),s.getX(),s.getY())},r.prototype.sampleLine=function(e,n,a){for(var i=0,s=this.distanceResultPoint(e,n),c=s/a,l=e.getX(),u=e.getY(),o=c*(n.getX()-e.getX())/s,d=c*(n.getY()-e.getY())/s,h=0;h<a;h++)this.image.get(as.round(l+h*o),as.round(u+h*d))&&(i|=1<<a-h-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,n,a,i){var s=3;e=new Pu(e.getX()-s,e.getY()+s),n=new Pu(n.getX()-s,n.getY()-s),a=new Pu(a.getX()+s,a.getY()-s),i=new Pu(i.getX()+s,i.getY()+s);var c=this.getColor(i,e);if(c===0)return!1;var l=this.getColor(e,n);return l!==c||(l=this.getColor(n,a),l!==c)?!1:(l=this.getColor(a,i),l===c)},r.prototype.getColor=function(e,n){for(var a=this.distancePoint(e,n),i=(n.getX()-e.getX())/a,s=(n.getY()-e.getY())/a,c=0,l=e.getX(),u=e.getY(),o=this.image.get(e.getX(),e.getY()),d=Math.ceil(a),h=0;h<d;h++)l+=i,u+=s,this.image.get(as.round(l),as.round(u))!==o&&c++;var A=c/a;return A>.1&&A<.9?0:A<=.1===o?1:-1},r.prototype.getFirstDifferent=function(e,n,a,i){for(var s=e.getX()+a,c=e.getY()+i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a,c+=i;for(s-=a,c-=i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a;for(s-=a;this.isValid(s,c)&&this.image.get(s,c)===n;)c+=i;return c-=i,new Pu(s,c)},r.prototype.expandSquare=function(e,n,a){var i=a/(2*n),s=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,o=new na(l+i*s,u+i*c),d=new na(l-i*s,u-i*c);s=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var h=new na(l+i*s,u+i*c),A=new na(l-i*s,u-i*c),f=[o,h,d,A];return f},r.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},r.prototype.isValidPoint=function(e){var n=as.round(e.getX()),a=as.round(e.getY());return this.isValid(n,a)},r.prototype.distancePoint=function(e,n){return as.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.distanceResultPoint=function(e,n){return as.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Si.truncDivision(this.nbLayers-4,8)+1)+15},r})(),d2=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=null,i=new Rae(e.getBlackMatrix()),s=null,c=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new l_().decode(l)}catch(h){a=h}if(c==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new l_().decode(l)}catch(h){throw a??h}var u=new Jc(c.getText(),c.getRawBytes(),c.getNumBits(),s,Sa.AZTEC,ao.currentTimeMillis()),o=c.getByteSegments();o!=null&&u.putMetadata(Mc.BYTE_SEGMENTS,o);var d=c.getECLevel();return d!=null&&u.putMetadata(Mc.ERROR_CORRECTION_LEVEL,d),u},r.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var a=e.get(io.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach(function(i,s,c){a.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r})(),Lae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Lae(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new d2,n)||this}return e})(Fm);var ql=(function(){function r(){}return r.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var a=n&&n.get(io.TRY_HARDER)===!0;if(a&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,n),c=s.getResultMetadata(),l=270;c!==null&&c.get(Mc.ORIENTATION)===!0&&(l=l+c.get(Mc.ORIENTATION)%360),s.putMetadata(Mc.ORIENTATION,l);var u=s.getResultPoints();if(u!==null)for(var o=i.getHeight(),d=0;d<u.length;d++)u[d]=new na(o-u[d].getY()-1,u[d].getX());return s}else throw new Br}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,n){var a=e.getWidth(),i=e.getHeight(),s=new xc(a),c=n&&n.get(io.TRY_HARDER)===!0,l=Math.max(1,i>>(c?8:5)),u;c?u=i:u=15;for(var o=Math.trunc(i/2),d=0;d<u;d++){var h=Math.trunc((d+1)/2),A=(d&1)===0,f=o+l*(A?h:-h);if(f<0||f>=i)break;try{s=e.getBlackRow(f,s)}catch{continue}for(var g=function(b){if(b===1&&(s.reverse(),n&&n.get(io.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;n.forEach(function(j,_){return w.set(_,j)}),w.delete(io.NEED_RESULT_POINT_CALLBACK),n=w}try{var N=m.decodeRow(f,s,n);if(b===1){N.putMetadata(Mc.ORIENTATION,180);var S=N.getResultPoints();S!==null&&(S[0]=new na(a-S[0].getX()-1,S[0].getY()),S[1]=new na(a-S[1].getX()-1,S[1].getY()))}return{value:N}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new Br},r.recordPattern=function(e,n,a){for(var i=a.length,s=0;s<i;s++)a[s]=0;var c=e.getSize();if(n>=c)throw new Br;for(var l=!e.get(n),u=0,o=n;o<c;){if(e.get(o)!==l)a[u]++;else{if(++u===i)break;a[u]=1,l=!l}o++}if(!(u===i||u===i-1&&o===c))throw new Br},r.recordPatternInReverse=function(e,n,a){for(var i=a.length,s=e.get(n);n>0&&i>=0;)e.get(--n)!==s&&(i--,s=!s);if(i>=0)throw new Br;r.recordPattern(e,n+1,a)},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return Number.POSITIVE_INFINITY;var u=s/c;a*=u;for(var o=0,d=0;d<i;d++){var h=e[d],A=n[d]*u,f=h>A?h-A:A-h;if(f>a)return Number.POSITIVE_INFINITY;o+=f}return o/s},r})(),Uae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),u_=(function(r){Uae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var a=n.getSize(),i=n.getNextSet(0),s=0,c=Int32Array.from([0,0,0,0,0,0]),l=i,u=!1,o=6,d=i;d<a;d++)if(n.get(d)!==u)c[s]++;else{if(s===o-1){for(var h=e.MAX_AVG_VARIANCE,A=-1,f=e.CODE_START_A;f<=e.CODE_START_C;f++){var g=ql.patternMatchVariance(c,e.CODE_PATTERNS[f],e.MAX_INDIVIDUAL_VARIANCE);g<h&&(h=g,A=f)}if(A>=0&&n.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,A]);l+=c[0]+c[1],c=c.slice(2,c.length),c[s-1]=0,c[s]=0,s--}else s++;c[s]=1,u=!u}throw new Br},e.decodeCode=function(n,a,i){ql.recordPattern(n,i,a);for(var s=e.MAX_AVG_VARIANCE,c=-1,l=0;l<e.CODE_PATTERNS.length;l++){var u=e.CODE_PATTERNS[l],o=this.patternMatchVariance(a,u,e.MAX_INDIVIDUAL_VARIANCE);o<s&&(s=o,c=l)}if(c>=0)return c;throw new Br},e.prototype.decodeRow=function(n,a,i){var s=i&&i.get(io.ASSUME_GS1)===!0,c=e.findStartPattern(a),l=c[2],u=0,o=new Uint8Array(20);o[u++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new pn}for(var h=!1,A=!1,f="",g=c[0],m=c[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,b=0,w=l,N=0,S=!0,j=!1,_=!1;!h;){var k=A;switch(A=!1,y=b,b=e.decodeCode(a,x,m),o[u++]=b,b!==e.CODE_STOP&&(S=!0),b!==e.CODE_STOP&&(N++,w+=N*b),g=m,m+=x.reduce(function(je,ge){return je+ge},0),b){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new pn}switch(d){case e.CODE_CODE_A:if(b<64)_===j?f+=String.fromCharCode(32+b):f+=String.fromCharCode(32+b+128),_=!1;else if(b<96)_===j?f+=String.fromCharCode(b-64):f+=String.fromCharCode(b+64),_=!1;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!j&&_?(j=!0,_=!1):j&&_?(j=!1,_=!1):_=!0;break;case e.CODE_SHIFT:A=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(b<96)_===j?f+=String.fromCharCode(32+b):f+=String.fromCharCode(32+b+128),_=!1;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!j&&_?(j=!0,_=!1):j&&_?(j=!1,_=!1):_=!0;break;case e.CODE_SHIFT:A=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(b<100)b<10&&(f+="0"),f+=b;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}k&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var Z=m-g;if(m=a.getNextUnset(m),!a.isRange(m,Math.min(a.getSize(),m+(m-g)/2),!1))throw new Br;if(w-=N*y,w%103!==y)throw new jl;var ee=f.length;if(ee===0)throw new Br;ee>0&&S&&(d===e.CODE_CODE_C?f=f.substring(0,ee-2):f=f.substring(0,ee-1));for(var V=(c[1]+c[0])/2,re=g+Z/2,R=o.length,Y=new Uint8Array(R),L=0;L<R;L++)Y[L]=o[L];var $=[new na(V,n),new na(re,n)];return new Jc(f,Y,0,$,Sa.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(ql),Hae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$j=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d_=(function(r){Hae(e,r);function e(n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var i=r.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=a,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.counters;o.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(a,o),h=a.getNextSet(d[1]),A=a.getSize(),f,g;do{e.recordPattern(a,h,o);var m=e.toNarrowWidePattern(o);if(m<0)throw new Br;f=e.patternToChar(m),this.decodeRowResult+=f,g=h;try{for(var x=(s=void 0,$j(o)),y=x.next();!y.done;y=x.next()){var b=y.value;h+=b}}catch(R){s={error:R}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}h=a.getNextSet(h)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=$j(o),S=N.next();!S.done;S=N.next()){var b=S.value;w+=b}}catch(R){l={error:R}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}var j=h-g-w;if(h!==A&&j*2<w)throw new Br;if(this.usingCheckDigit){for(var _=this.decodeRowResult.length-1,k=0,Z=0;Z<_;Z++)k+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(_)!==e.ALPHABET_STRING.charAt(k%43))throw new jl;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new Br;var ee;this.extendedMode?ee=e.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;var V=(d[1]+d[0])/2,re=g+w/2;return new Jc(ee,null,0,[new na(V,n),new na(re,n)],Sa.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,a){for(var i=n.getSize(),s=n.getNextSet(0),c=0,l=s,u=!1,o=a.length,d=s;d<i;d++)if(n.get(d)!==u)a[c]++;else{if(c===o-1){if(this.toNarrowWidePattern(a)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new Br},e.toNarrowWidePattern=function(n){var a,i,s=n.length,c=0,l;do{var u=2147483647;try{for(var o=(a=void 0,$j(n)),d=o.next();!d.done;d=o.next()){var h=d.value;h<u&&h>c&&(u=h)}}catch(m){a={error:m}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}c=u,l=0;for(var A=0,f=0,g=0;g<s;g++){var h=n[g];h>c&&(f|=1<<s-1-g,l++,A+=h)}if(l===3){for(var g=0;g<s&&l>0;g++){var h=n[g];if(h>c&&(l--,h*2>=A))return-1}return f}}while(l>3);return-1},e.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);if(n===e.ASTERISK_ENCODING)return"*";throw new Br},e.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c==="+"||c==="$"||c==="%"||c==="/"){var l=n.charAt(s+1),u="\0";switch(c){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new pn;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new pn;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new pn;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new pn;break}i+=u,s++}else i+=c}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(ql),Qae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h_=(function(r){Qae(e,r);function e(){var n=r.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.findAsteriskPattern(a),d=a.getNextSet(o[1]),h=a.getSize(),A=this.counters;A.fill(0),this.decodeRowResult="";var f,g;do{e.recordPattern(a,d,A);var m=this.toPattern(A);if(m<0)throw new Br;f=this.patternToChar(m),this.decodeRowResult+=f,g=d;try{for(var x=(s=void 0,Vj(A)),y=x.next();!y.done;y=x.next()){var b=y.value;d+=b}}catch(Z){s={error:Z}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}d=a.getNextSet(d)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=Vj(A),S=N.next();!S.done;S=N.next()){var b=S.value;w+=b}}catch(Z){l={error:Z}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}if(d===h||!a.get(d))throw new Br;if(this.decodeRowResult.length<2)throw new Br;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var j=this.decodeExtended(this.decodeRowResult),_=(o[1]+o[0])/2,k=g+w/2;return new Jc(j,null,0,[new na(_,n),new na(k,n)],Sa.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var a=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var s=this.counters,c=i,l=!1,u=s.length,o=0,d=i;d<a;d++)if(n.get(d)!==l)s[o]++;else{if(o===u-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([c,d]);c+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new Br},e.prototype.toPattern=function(n){var a,i,s=0;try{for(var c=Vj(n),l=c.next();!l.done;l=c.next()){var u=l.value;s+=u}}catch(g){a={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}for(var o=0,d=n.length,h=0;h<d;h++){var A=Math.round(n[h]*9/s);if(A<1||A>4)return-1;if((h&1)===0)for(var f=0;f<A;f++)o=o<<1|1;else o<<=A}return o},e.prototype.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);throw new Br},e.prototype.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c>="a"&&c<="d"){if(s>=a-1)throw new pn;var l=n.charAt(s+1),u="\0";switch(c){case"d":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new pn;break;case"a":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new pn;break;case"b":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l>="X"&&l<="Z")u="";else throw new pn;break;case"c":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new pn;break}i+=u,s++}else i+=c}return i},e.prototype.checkChecksums=function(n){var a=n.length;this.checkOneChecksum(n,a-2,20),this.checkOneChecksum(n,a-1,15)},e.prototype.checkOneChecksum=function(n,a,i){for(var s=1,c=0,l=a-1;l>=0;l--)c+=s*e.ALPHABET_STRING.indexOf(n.charAt(l)),++s>i&&(s=1);if(n.charAt(a)!==e.ALPHABET_STRING[c%47])throw new jl},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(ql),Wae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$ae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A_=(function(r){Wae(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,a,i){var s,c,l=this.decodeStart(a),u=this.decodeEnd(a),o=new wi;e.decodeMiddle(a,l[1],u[0],o);var d=o.toString(),h=null;i!=null&&(h=i.get(io.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var A=d.length,f=!1,g=0;try{for(var m=$ae(h),x=m.next();!x.done;x=m.next()){var y=x.value;if(A===y){f=!0;break}y>g&&(g=y)}}catch(N){s={error:N}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}if(!f&&A>g&&(f=!0),!f)throw new pn;var b=[new na(l[1],n),new na(u[0],n)],w=new Jc(d,null,0,b,Sa.ITF,new Date().getTime());return w},e.decodeMiddle=function(n,a,i,s){var c=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(c.fill(0),l.fill(0),u.fill(0);a<i;){ql.recordPattern(n,a,c);for(var o=0;o<5;o++){var d=2*o;l[o]=c[d],u[o]=c[d+1]}var h=e.decodeDigit(l);s.append(h.toString()),h=this.decodeDigit(u),s.append(h.toString()),c.forEach(function(A){a+=A})}},e.prototype.decodeStart=function(n){var a=e.skipWhiteSpace(n),i=e.findGuardPattern(n,a,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,a){var i=this.narrowLineWidth*10;i=i<a?i:a;for(var s=a-1;i>0&&s>=0&&!n.get(s);s--)i--;if(i!==0)throw new Br},e.skipWhiteSpace=function(n){var a=n.getSize(),i=n.getNextSet(0);if(i===a)throw new Br;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var a=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[0])}catch(c){c instanceof Br&&(i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var s=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-s,i}finally{n.reverse()}},e.findGuardPattern=function(n,a,i){var s=i.length,c=new Int32Array(s),l=n.getSize(),u=!1,o=0,d=a;c.fill(0);for(var h=a;h<l;h++)if(n.get(h)!==u)c[o]++;else{if(o===s-1){if(ql.patternMatchVariance(c,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,h];d+=c[0]+c[1],ao.arraycopy(c,2,c,0,o-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,u=!u}throw new Br},e.decodeDigit=function(n){for(var a=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,c=0;c<s;c++){var l=e.PATTERNS[c],u=ql.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,i=c):u===a&&(i=-1)}if(i>=0)return i%10;throw new Br},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(ql),Vae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Cm=(function(r){Vae(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var a=!1,i,s=0,c=Int32Array.from([0,0,0]);!a;){c=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,s,!1,this.START_END_PATTERN,c);var l=i[0];s=i[1];var u=l-(s-l);u>=0&&(a=n.isRange(u,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new pn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new pn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,a,i,s){return this.findGuardPattern(n,a,i,s,new Int32Array(s.length))},e.findGuardPattern=function(n,a,i,s,c){var l=n.getSize();a=i?n.getNextUnset(a):n.getNextSet(a);for(var u=0,o=a,d=s.length,h=i,A=a;A<l;A++)if(n.get(A)!==h)c[u]++;else{if(u===d-1){if(ql.patternMatchVariance(c,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([o,A]);o+=c[0]+c[1];for(var f=c.slice(2,c.length),g=0;g<u-1;g++)c[g]=f[g];c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,h=!h}throw new Br},e.decodeDigit=function(n,a,i,s){this.recordPattern(n,i,a);for(var c=this.MAX_AVG_VARIANCE,l=-1,u=s.length,o=0;o<u;o++){var d=s[o],h=ql.patternMatchVariance(a,d,e.MAX_INDIVIDUAL_VARIANCE);h<c&&(c=h,l=o)}if(l>=0)return l;throw new Br},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(ql),zae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kae=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new na((a[0]+a[1])/2,e),new na(s,e)],o=new Jc(c,null,0,u,Sa.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,d=0;d<5&&u<l;d++){var h=Cm.decodeDigit(e,c,u,Cm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var A=(i=void 0,zae(c)),f=A.next();!f.done;f=A.next()){var g=f.value;u+=g}}catch(x){i={error:x}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}h>=10&&(o|=1<<4-d),d!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==5)throw new Br;var m=this.determineCheckDigit(o);if(r.extensionChecksum(a.toString())!==m)throw new Br;return u},r.extensionChecksum=function(e){for(var n=e.length,a=0,i=n-2;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;a*=3;for(var i=n-1;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;return a*=3,a%10},r.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Br},r.parseExtensionString=function(e){if(e.length!==5)return null;var n=r.parseExtension5String(e);return n==null?null:new Map([[Mc.SUGGESTED_PRICE,n]])},r.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var a=parseInt(e.substring(1)),i=(a/100).toString(),s=a%100,c=s<10?"0"+s:s.toString();return n+i+"."+c},r})(),Gae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qae=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new na((a[0]+a[1])/2,e),new na(s,e)],o=new Jc(c,null,0,u,Sa.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,d=0;d<2&&u<l;d++){var h=Cm.decodeDigit(e,c,u,Cm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var A=(i=void 0,Gae(c)),f=A.next();!f.done;f=A.next()){var g=f.value;u+=g}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}h>=10&&(o|=1<<1-d),d!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==2)throw new Br;if(parseInt(a.toString())%4!==o)throw new Br;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Mc.ISSUE_NUMBER,parseInt(e)]])},r})(),Xae=(function(){function r(){}return r.decodeRow=function(e,n,a){var i=Cm.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new Kae;return s.decodeRow(e,n,i)}catch{var c=new qae;return c.decodeRow(e,n,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),Yae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wl=(function(r){Yae(e,r);function e(){var n=r.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var a=10;a<20;a++){for(var i=e.L_PATTERNS[a-10],s=new Int32Array(i.length),c=0;c<i.length;c++)s[c]=i[i.length-c-1];e.L_AND_G_PATTERNS[a]=s}return n}return e.prototype.decodeRow=function(n,a,i){var s=e.findStartGuardPattern(a),c=i==null?null:i.get(io.NEED_RESULT_POINT_CALLBACK);if(c!=null){var l=new na((s[0]+s[1])/2,n);c.foundPossibleResultPoint(l)}var u=this.decodeMiddle(a,s,this.decodeRowStringBuffer),o=u.rowOffset,d=u.resultString;if(c!=null){var h=new na(o,n);c.foundPossibleResultPoint(h)}var A=e.decodeEnd(a,o);if(c!=null){var f=new na((A[0]+A[1])/2,n);c.foundPossibleResultPoint(f)}var g=A[1],m=g+(g-A[0]);if(m>=a.getSize()||!a.isRange(g,m,!1))throw new Br;var x=d.toString();if(x.length<8)throw new pn;if(!e.checkChecksum(x))throw new jl;var y=(s[1]+s[0])/2,b=(A[1]+A[0])/2,w=this.getBarcodeFormat(),N=[new na(y,n),new na(b,n)],S=new Jc(x,null,0,N,w,new Date().getTime()),j=0;try{var _=Xae.decodeRow(n,a,A[1]);S.putMetadata(Mc.UPC_EAN_EXTENSION,_.getText()),S.putAllMetadata(_.getResultMetadata()),S.addResultPoints(_.getResultPoints()),j=_.getText().length}catch{}var k=i==null?null:i.get(io.ALLOWED_EAN_EXTENSIONS);if(k!=null){var Z=!1;for(var ee in k)if(j.toString()===ee){Z=!0;break}if(!Z)throw new Br}return w===Sa.EAN_13||Sa.UPC_A,S},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new pn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new pn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Cm),Zae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),f_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O4=(function(r){Zae(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var d=n.getSize(),h=a[1],A=0,f=0;f<6&&h<d;f++){var g=Wl.decodeDigit(n,o,h,Wl.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(s=void 0,f_(o)),x=m.next();!x.done;x=m.next()){var y=x.value;h+=y}}catch(S){s={error:S}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}g>=10&&(A|=1<<5-f)}i=e.determineFirstDigit(i,A);var b=Wl.findGuardPattern(n,h,!0,Wl.MIDDLE_PATTERN,new Int32Array(Wl.MIDDLE_PATTERN.length).fill(0));h=b[1];for(var f=0;f<6&&h<d;f++){var g=Wl.decodeDigit(n,o,h,Wl.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var w=(l=void 0,f_(o)),N=w.next();!N.done;N=w.next()){var y=N.value;h+=y}}catch(_){l={error:_}}finally{try{N&&!N.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return Sa.EAN_13},e.determineFirstDigit=function(n,a){for(var i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new Br},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Wl),Jae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),p_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m_=(function(r){Jae(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var d=n.getSize(),h=a[1],A=0;A<4&&h<d;A++){var f=Wl.decodeDigit(n,o,h,Wl.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var g=(s=void 0,p_(o)),m=g.next();!m.done;m=g.next()){var x=m.value;h+=x}}catch(N){s={error:N}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}}var y=Wl.findGuardPattern(n,h,!0,Wl.MIDDLE_PATTERN,new Int32Array(Wl.MIDDLE_PATTERN.length).fill(0));h=y[1];for(var A=0;A<4&&h<d;A++){var f=Wl.decodeDigit(n,o,h,Wl.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var b=(l=void 0,p_(o)),w=b.next();!w.done;w=b.next()){var x=w.value;h+=x}}catch(j){l={error:j}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return Sa.EAN_8},e})(Wl),eie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),g_=(function(r){eie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ean13Reader=new O4,n}return e.prototype.getBarcodeFormat=function(){return Sa.UPC_A},e.prototype.decode=function(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,i))},e.prototype.decodeMiddle=function(n,a,i){return this.ean13Reader.decodeMiddle(n,a,i)},e.prototype.maybeReturnResult=function(n){var a=n.getText();if(a.charAt(0)==="0"){var i=new Jc(a.substring(1),null,null,n.getResultPoints(),Sa.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new Br},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Wl),tie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),rie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v_=(function(r){tie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l=this.decodeMiddleCounters.map(function(x){return x});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),o=a[1],d=0,h=0;h<6&&o<u;h++){var A=e.decodeDigit(n,l,o,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);try{for(var f=(s=void 0,rie(l)),g=f.next();!g.done;g=f.next()){var m=g.value;o+=m}}catch(x){s={error:x}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}A>=10&&(d|=1<<5-h)}return e.determineNumSysAndCheckDigit(new wi(i),d),o},e.prototype.decodeEnd=function(n,a){return e.findGuardPatternWithoutCounters(n,a,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return Wl.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,a){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){n.insert(0,"0"+i),n.append("0"+s);return}throw Br.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Sa.UPC_E},e.convertUPCEtoUPCA=function(n){var a=n.slice(1,7).split("").map(function(c){return c.charCodeAt(0)}),i=new wi;i.append(n.charAt(0));var s=a[5];switch(s){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(s),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(s);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Wl),nie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),x_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zj=(function(r){nie(e,r);function e(n){var a=r.call(this)||this,i=n==null?null:n.get(io.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Sa.EAN_13)>-1&&s.push(new O4),i.indexOf(Sa.UPC_A)>-1&&s.push(new g_),i.indexOf(Sa.EAN_8)>-1&&s.push(new m_),i.indexOf(Sa.UPC_E)>-1&&s.push(new v_)),s.length===0&&(s.push(new O4),s.push(new g_),s.push(new m_),s.push(new v_)),a.readers=s,a}return e.prototype.decodeRow=function(n,a,i){var s,c;try{for(var l=x_(this.readers),u=l.next();!u.done;u=l.next()){var o=u.value;try{var d=o.decodeRow(n,a,i),h=d.getBarcodeFormat()===Sa.EAN_13&&d.getText().charAt(0)==="0",A=i==null?null:i.get(io.POSSIBLE_FORMATS),f=A==null||A.includes(Sa.UPC_A);if(h&&f){var g=d.getRawBytes(),m=new Jc(d.getText().substring(1),g,g?g.length:null,d.getResultPoints(),Sa.UPC_A);return m.putAllMetadata(d.getResultMetadata()),m}return d}catch{}}}catch(x){s={error:x}}finally{try{u&&!u.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}throw new Br},e.prototype.reset=function(){var n,a;try{for(var i=x_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;c.reset()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e})(ql),aie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),iie=(function(r){aie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,a,i){var s=this.getValidRowData(a);if(!s)throw new Br;var c=this.codaBarDecodeRow(s.row);if(!c)throw new Br;return new Jc(c,null,0,[new na(s.left,n),new na(s.right,n)],Sa.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var a=n.toArray(),i=a.indexOf(!0);if(i===-1)return null;var s=a.lastIndexOf(!0);if(s<=i)return null;a=a.slice(i,s+1);for(var c=[],l=a[0],u=1,o=1;o<a.length;o++)a[o]===l?u++:(l=a[o],c.push(u),u=1);return c.push(u),c.length<23&&(c.length+1)%8!==0?null:{row:c,left:i,right:s}},e.prototype.codaBarDecodeRow=function(n){for(var a=[],i=Math.ceil(n.reduce(function(u,o){return(u+o)/2},0));n.length>0;){var s=n.splice(0,8).splice(0,7),c=s.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[c]===void 0)return null;a.push(this.CODA_BAR_CHAR_SET[c])}var l=a.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var a=/^[A-D].{1,}[A-D]$/;return a.test(n)},e})(ql),sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),oie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wf=(function(r){sie(e,r);function e(){var n=r.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,a){for(var i=0;i<a.length;i++)if(ql.patternMatchVariance(n,a[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Br},e.count=function(n){return as.sum(new Int32Array(n))},e.increment=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]>s&&(s=a[c],i=c);n[i]++},e.decrement=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]<s&&(s=a[c],i=c);n[i]--},e.isFinderPattern=function(n){var a,i,s=n[0]+n[1],c=s+n[2]+n[3],l=s/c;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;try{for(var d=oie(n),h=d.next();!h.done;h=d.next()){var A=h.value;A>o&&(o=A),A<u&&(u=A)}}catch(f){a={error:f}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return o<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(ql),h2=(function(){function r(e,n){this.value=e,this.checksumPortion=n}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),$F=(function(){function r(e,n,a,i,s){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new na(a,s)),this.resultPoints.push(new na(i,s))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.hashCode=function(){return this.value},r})(),lie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vp=(function(){function r(){}return r.getRSSvalue=function(e,n,a){var i,s,c=0;try{for(var l=lie(e),u=l.next();!u.done;u=l.next()){var o=u.value;c+=o}}catch(b){i={error:b}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var d=0,h=0,A=e.length,f=0;f<A-1;f++){var g=void 0;for(g=1,h|=1<<f;g<e[f];g++,h&=~(1<<f)){var m=r.combins(c-g-1,A-f-2);if(a&&h===0&&c-g-(A-f-1)>=A-f-1&&(m-=r.combins(c-g-(A-f),A-f-2)),A-f-1>1){for(var x=0,y=c-g-(A-f-2);y>n;y--)x+=r.combins(c-g-y-1,A-f-3);m-=x*(A-1-f)}else c-g>n&&m--;d+=m}c-=g}return d},r.combins=function(e,n){var a,i;e-n>n?(i=n,a=e-n):(i=e-n,a=n);for(var s=1,c=1,l=e;l>a;l--)s*=l,c<=i&&(s/=c,c++);for(;c<=i;)s/=c,c++;return s},r})(),cie=(function(){function r(){}return r.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var a=12*n,i=new xc(a),s=0,c=e[0],l=c.getRightChar().getValue(),u=11;u>=0;--u)(l&1<<u)!==0&&i.set(s),s++;for(var u=1;u<e.length;++u){for(var o=e[u],d=o.getLeftChar().getValue(),h=11;h>=0;--h)(d&1<<h)!==0&&i.set(s),s++;if(o.getRightChar()!==null)for(var A=o.getRightChar().getValue(),h=11;h>=0;--h)(A&1<<h)!==0&&i.set(s),s++}return i},r})(),Lf=(function(){function r(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),rS=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),uie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ah=(function(r){uie(e,r);function e(n,a){var i=r.call(this,n)||this;return i.value=a,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(rS),die=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Uf=(function(r){die(e,r);function e(n,a,i){var s=r.call(this,n)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=a,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(rS),hie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Rp=(function(r){hie(e,r);function e(n,a,i){var s=r.call(this,n)||this;if(a<0||a>10||i<0||i>10)throw new pn;return s.firstDigit=a,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(rS),Z1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aie=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var n,a,i,s,c,l,u,o;if(!e)return null;if(e.length<2)throw new Br;var d=e.substring(0,2);try{for(var h=Z1(r.TWO_DIGIT_DATA_LENGTH),A=h.next();!A.done;A=h.next()){var f=A.value;if(f[0]===d)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,f[2],e):r.processFixedAI(2,f[1],e)}}catch(j){n={error:j}}finally{try{A&&!A.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}if(e.length<3)throw new Br;var g=e.substring(0,3);try{for(var m=Z1(r.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var f=x.value;if(f[0]===g)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,f[2],e):r.processFixedAI(3,f[1],e)}}catch(j){i={error:j}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var y=Z1(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var f=b.value;if(f[0]===g)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,f[2],e):r.processFixedAI(4,f[1],e)}}catch(j){c={error:j}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}if(e.length<4)throw new Br;var w=e.substring(0,4);try{for(var N=Z1(r.FOUR_DIGIT_DATA_LENGTH),S=N.next();!S.done;S=N.next()){var f=S.value;if(f[0]===w)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,f[2],e):r.processFixedAI(4,f[1],e)}}catch(j){u={error:j}}finally{try{S&&!S.done&&(o=N.return)&&o.call(N)}finally{if(u)throw u.error}}throw new Br},r.processFixedAI=function(e,n,a){if(a.length<e)throw new Br;var i=a.substring(0,e);if(a.length<e+n)throw new Br;var s=a.substring(e,e+n),c=a.substring(e+n),l="("+i+")"+s,u=r.parseFieldsInGeneralPurpose(c);return u==null?l:l+u},r.processVariableAI=function(e,n,a){var i=a.substring(0,e),s;a.length<e+n?s=a.length:s=e+n;var c=a.substring(e,s),l=a.substring(s),u="("+i+")"+c,o=r.parseFieldsInGeneralPurpose(l);return o==null?u:u+o},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),ov=(function(){function r(e){this.buffer=new wi,this.information=e}return r.prototype.decodeAllCodes=function(e,n){var a=n,i=null;do{var s=this.decodeGeneralPurposeField(a,i),c=Aie.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&e.append(c),s.isRemaining()?i=""+s.getRemainingValue():i=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Rp(this.information.getSize(),Rp.FNC1,Rp.FNC1):new Rp(this.information.getSize(),n-1,Rp.FNC1)}var a=this.extractNumericValueFromBitArray(e,7),i=(a-8)/11,s=(a-8)%11;return new Rp(e+7,i,s)},r.prototype.extractNumericValueFromBitArray=function(e,n){return r.extractNumericValueFromBitArray(this.information,e,n)},r.extractNumericValueFromBitArray=function(e,n,a){for(var i=0,s=0;s<a;++s)e.get(n+s)&&(i|=1<<a-s-1);return i},r.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var a=this.parseBlocks();return a!=null&&a.isRemaining()?new Uf(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Uf(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,n;do{var a=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=a!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new Uf(this.current.getPosition(),this.buffer.toString()):n=new Uf(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Lf(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Uf(this.current.getPosition(),this.buffer.toString());return new Lf(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Lf(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Uf(this.current.getPosition(),this.buffer.toString());return new Lf(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Lf(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Uf(this.current.getPosition(),this.buffer.toString());return new Lf(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Lf(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ah(e+5,ah.FNC1);if(n>=5&&n<15)return new ah(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new ah(e+7,""+(a+1));if(a>=90&&a<116)return new ah(e+7,""+(a+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new pn}return new ah(e+8,s)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63},r.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ah(e+5,ah.FNC1);if(n>=5&&n<15)return new ah(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new ah(e+6,""+(a+33));var i;switch(a){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new qg("Decoding invalid alphanumeric value: "+a)}return new ah(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},r})(),VF=(function(){function r(e){this.information=e,this.generalDecoder=new ov(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),fie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),lh=(function(r){fie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,a){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,a,i){for(var s=0;s<4;++s){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,a){for(var i=0,s=0;s<13;s++){var c=n.charAt(s+a).charCodeAt(0)-48;i+=(s&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(VF),pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),mie=(function(r){pie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new wi;n.append("(01)");var a=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(lh),gie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vie=(function(r){gie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new wi;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(VF),xie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),lv=(function(r){xie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,a,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(n,s);for(var c=this.checkWeight(s),l=1e5,u=0;u<5;++u)c/l===0&&n.append("0"),l/=10;n.append(c)},e})(lh),yie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zF=(function(r){yie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+lv.GTIN_SIZE+e.WEIGHT_SIZE)throw new Br;var n=new wi;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+lv.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(lv),bie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),wie=(function(r){bie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(zF),jie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Cie=(function(r){jie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(zF),Nie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Sie=(function(r){Nie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+lh.GTIN_SIZE)throw new Br;var n=new wi;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lh.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+lh.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(lh),Bie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Eie=(function(r){Bie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+lh.GTIN_SIZE)throw new Br;var n=new wi;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lh.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lh.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+lh.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(lh),Iie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$A=(function(r){Iie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.dateCode=i,s.firstAIdigits=a,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Br;var n=new wi;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var s=i%32;i/=32;var c=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),c/10===0&&n.append("0"),n.append(c),s/10===0&&n.append("0"),n.append(s)}},e.prototype.addWeightCode=function(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(lv);function Tie(r){try{if(r.get(1))return new mie(r);if(!r.get(2))return new vie(r);var e=ov.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new wie(r);case 5:return new Cie(r)}var n=ov.extractNumericValueFromBitArray(r,1,5);switch(n){case 12:return new Sie(r);case 13:return new Eie(r)}var a=ov.extractNumericValueFromBitArray(r,1,7);switch(a){case 56:return new $A(r,"310","11");case 57:return new $A(r,"320","11");case 58:return new $A(r,"310","13");case 59:return new $A(r,"320","13");case 60:return new $A(r,"310","15");case 61:return new $A(r,"320","15");case 62:return new $A(r,"310","17");case 63:return new $A(r,"320","17")}}catch(i){throw console.log(i),new qg("unknown decoder: "+r)}}var y_=(function(){function r(e,n,a,i){this.leftchar=e,this.rightchar=n,this.finderpattern=a,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,n){return e instanceof r?r.equalsOrNull(e.leftchar,n.leftchar)&&r.equalsOrNull(e.rightchar,n.rightchar)&&r.equalsOrNull(e.finderpattern,n.finderpattern):!1},r.equalsOrNull=function(e,n){return e===null?n===null:r.equals(e,n)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),_ie=(function(){function r(e,n,a){this.pairs=e,this.rowNumber=n,this.wasReversed=a}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,n){return e instanceof r?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},r.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var a;return e.forEach(function(i,s){n.forEach(function(c){i.getLeftChar().getValue()===c.getLeftChar().getValue()&&i.getRightChar().getValue()===c.getRightChar().getValue()&&i.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}},r})(),Oie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),VA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kie=(function(r){Oie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,a,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,a))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,a))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,a){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(l){if(l instanceof Br){if(!this.pairs.length)throw new Br;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){var c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Br},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var a=null;try{a=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),a},e.prototype.checkRows=function(n,a){for(var i,s,c=a;c<this.rows.length;c++){var l=this.rows[c];this.pairs.length=0;try{for(var u=(i=void 0,VA(n)),o=u.next();!o.done;o=u.next()){var d=o.value;this.pairs.push(d.getPairs())}}catch(A){i={error:A}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(n);h.push(l);try{return this.checkRows(h,c+1)}catch(A){console.log(A)}}}throw new Br},e.isValidSequence=function(n){var a,i;try{for(var s=VA(e.FINDER_PATTERN_SEQUENCES),c=s.next();!c.done;c=s.next()){var l=c.value;if(!(n.length>l.length)){for(var u=!0,o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!==l[o]){u=!1;break}if(u)return!0}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return!1},e.prototype.storeRow=function(n,a){for(var i=0,s=!1,c=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){c=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}c||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new _ie(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,a){var i,s,c,l,u,o;try{for(var d=VA(a),h=d.next();!h.done;h=d.next()){var A=h.value;if(A.getPairs().length!==n.length){var f=!0;try{for(var g=(c=void 0,VA(A.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,VA(n)),w=b.next();!w.done;w=b.next()){var N=w.value;if(y_.equals(x,N)){y=!0;break}}}catch(S){u={error:S}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}y||(f=!1)}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}}}}catch(S){i={error:S}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,a){var i,s,c,l,u,o;try{for(var d=VA(a),h=d.next();!h.done;h=d.next()){var A=h.value,f=!0;try{for(var g=(c=void 0,VA(n)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,VA(A.getPairs())),w=b.next();!w.done;w=b.next()){var N=w.value;if(x.equals(N)){y=!0;break}}}catch(S){u={error:S}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}if(!y){f=!1;break}}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}if(f)return!0}}catch(S){i={error:S}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var a=cie.buildBitArray(n),i=Tie(a),s=i.parseInformation(),c=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),u=[c[0],c[1],l[0],l[1]];return new Jc(s,null,null,u,Sa.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),a=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),c=2,l=1;l<this.pairs.size();++l){var u=this.pairs.get(l);s+=u.getLeftChar().getChecksumPortion(),c++;var o=u.getRightChar();o!=null&&(s+=o.getChecksumPortion(),c++)}s%=211;var d=211*(c-4)+s;return d===a.getValue()},e.getNextSecondBar=function(n,a){var i;return n.get(a)?(i=n.getNextUnset(a),i=n.getNextSet(i)):(i=n.getNextSet(a),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,a,i){var s=a.length%2===0;this.startFromEven&&(s=!s);var c,l=!0,u=-1;do this.findNextPair(n,a,u),c=this.parseFoundFinderPattern(n,i,s),c===null?u=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var o=this.decodeDataCharacter(n,c,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Br;var d;try{d=this.decodeDataCharacter(n,c,s,!1)}catch(h){d=null,console.log(h)}return new y_(o,d,c,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,a,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var c=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(a))l=0;else{var u=a[a.length-1];l=u.getFinderPattern().getStartEnd()[1]}var o=a.length%2!==0;this.startFromEven&&(o=!o);for(var d=!1;l<c&&(d=!n.get(l),!!d);)l++;for(var h=0,A=l,f=l;f<c;f++)if(n.get(f)!==d)s[h]++;else{if(h===3){if(o&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=A,this.startEnd[1]=f;return}o&&e.reverseCounters(s),A+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,h--}else h++;s[h]=1,d=!d}throw new Br},e.reverseCounters=function(n){for(var a=n.length,i=0;i<a/2;++i){var s=n[i];n[i]=n[a-i-1],n[a-i-1]=s}},e.prototype.parseFoundFinderPattern=function(n,a,i){var s,c,l;if(i){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,s=this.startEnd[0]-u,c=u,l=this.startEnd[1]}else c=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var o=this.getDecodeFinderCounters();ao.arraycopy(o,0,o,1,o.length-1),o[0]=s;var d;try{d=this.parseFinderValue(o,e.FINDER_PATTERNS)}catch{return null}return new $F(d,[c,l],c,l,a)},e.prototype.decodeDataCharacter=function(n,a,i,s){for(var c=this.getDataCharacterCounters(),l=0;l<c.length;l++)c[l]=0;if(s)e.recordPatternInReverse(n,a.getStartEnd()[0],c);else{e.recordPattern(n,a.getStartEnd()[1],c);for(var u=0,o=c.length-1;u<o;u++,o--){var d=c[u];c[u]=c[o],c[o]=d}}var h=17,A=as.sum(new Int32Array(c))/h,f=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(A-f)/f>.3)throw new Br;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),u=0;u<c.length;u++){var b=1*c[u]/A,w=b+.5;if(w<1){if(b<.3)throw new Br;w=1}else if(w>8){if(b>8.7)throw new Br;w=8}var N=u/2;(u&1)===0?(g[N]=w,x[N]=b-w):(m[N]=w,y[N]=b-w)}this.adjustOddEvenCounts(h);for(var S=4*a.getValue()+(i?0:2)+(s?0:1)-1,j=0,_=0,u=g.length-1;u>=0;u--){if(e.isNotA1left(a,i,s)){var k=e.WEIGHTS[S][2*u];_+=g[u]*k}j+=g[u]}for(var Z=0,u=m.length-1;u>=0;u--)if(e.isNotA1left(a,i,s)){var k=e.WEIGHTS[S][2*u+1];Z+=m[u]*k}var ee=_+Z;if((j&1)!==0||j>13||j<4)throw new Br;var V=(13-j)/2,re=e.SYMBOL_WIDEST[V],R=9-re,Y=Vp.getRSSvalue(g,re,!0),L=Vp.getRSSvalue(m,R,!1),$=e.EVEN_TOTAL_SUBSET[V],je=e.GSUM[V],ge=Y*$+L+je;return new h2(ge,ee)},e.isNotA1left=function(n,a,i){return!(n.getValue()===0&&a&&i)},e.prototype.adjustOddEvenCounts=function(n){var a=as.sum(new Int32Array(this.getOddCounts())),i=as.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1;a>13?c=!0:a<4&&(s=!0);var l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);var o=a+i-n,d=(a&1)===1,h=(i&1)===0;if(o===1)if(d){if(h)throw new Br;c=!0}else{if(!h)throw new Br;u=!0}else if(o===-1)if(d){if(h)throw new Br;s=!0}else{if(!h)throw new Br;l=!0}else if(o===0){if(d){if(!h)throw new Br;a<i?(s=!0,u=!0):(c=!0,l=!0)}else if(h)throw new Br}else throw new Br;if(s){if(c)throw new Br;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Br;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Wf),Pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Fie=(function(r){Pie(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(h2),Die=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Kj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b_=(function(r){Die(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.decodePair(a,!1,n,i);e.addOrTally(this.possibleLeftPairs,o),a.reverse();var d=this.decodePair(a,!0,n,i);e.addOrTally(this.possibleRightPairs,d),a.reverse();try{for(var h=Kj(this.possibleLeftPairs),A=h.next();!A.done;A=h.next()){var f=A.value;if(f.getCount()>1)try{for(var g=(l=void 0,Kj(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&e.checkChecksum(f,x))return e.constructResult(f,x)}}catch(y){l={error:y}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}}}catch(y){s={error:y}}finally{try{A&&!A.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}throw new Br},e.addOrTally=function(n,a){var i,s;if(a!=null){var c=!1;try{for(var l=Kj(n),u=l.next();!u.done;u=l.next()){var o=u.value;if(o.getValue()===a.getValue()){o.incrementCount(),c=!0;break}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}c||n.push(a)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,a){for(var i=4537077*n.getValue()+a.getValue(),s=new String(i).toString(),c=new wi,l=13-s.length;l>0;l--)c.append("0");c.append(s);for(var u=0,l=0;l<13;l++){var o=c.charAt(l).charCodeAt(0)-48;u+=(l&1)===0?3*o:o}u=10-u%10,u===10&&(u=0),c.append(u.toString());var d=n.getFinderPattern().getResultPoints(),h=a.getFinderPattern().getResultPoints();return new Jc(c.toString(),null,0,[d[0],d[1],h[0],h[1]],Sa.RSS_14,new Date().getTime())},e.checkChecksum=function(n,a){var i=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(n,a,i,s){try{var c=this.findFinderPattern(n,a),l=this.parseFoundFinderPattern(n,i,a,c),u=s==null?null:s.get(io.NEED_RESULT_POINT_CALLBACK);if(u!=null){var o=(c[0]+c[1])/2;a&&(o=n.getSize()-1-o),u.foundPossibleResultPoint(new na(o,i))}var d=this.decodeDataCharacter(n,l,!0),h=this.decodeDataCharacter(n,l,!1);return new Fie(1597*d.getValue()+h.getValue(),d.getChecksumPortion()+4*h.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,a,i){for(var s=this.getDataCharacterCounters(),c=0;c<s.length;c++)s[c]=0;if(i)ql.recordPatternInReverse(n,a.getStartEnd()[0],s);else{ql.recordPattern(n,a.getStartEnd()[1]+1,s);for(var l=0,u=s.length-1;l<u;l++,u--){var o=s[l];s[l]=s[u],s[u]=o}}for(var d=i?16:15,h=as.sum(new Int32Array(s))/d,A=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var x=s[l]/h,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var b=Math.floor(l/2);(l&1)===0?(A[b]=y,g[b]=x-y):(f[b]=y,m[b]=x-y)}this.adjustOddEvenCounts(i,d);for(var w=0,N=0,l=A.length-1;l>=0;l--)N*=9,N+=A[l],w+=A[l];for(var S=0,j=0,l=f.length-1;l>=0;l--)S*=9,S+=f[l],j+=f[l];var _=N+3*S;if(i){if((w&1)!==0||w>12||w<4)throw new Br;var k=(12-w)/2,Z=e.OUTSIDE_ODD_WIDEST[k],ee=9-Z,V=Vp.getRSSvalue(A,Z,!1),re=Vp.getRSSvalue(f,ee,!0),R=e.OUTSIDE_EVEN_TOTAL_SUBSET[k],Y=e.OUTSIDE_GSUM[k];return new h2(V*R+re+Y,_)}else{if((j&1)!==0||j>10||j<4)throw new Br;var k=(10-j)/2,Z=e.INSIDE_ODD_WIDEST[k],ee=9-Z,V=Vp.getRSSvalue(A,Z,!0),re=Vp.getRSSvalue(f,ee,!1),L=e.INSIDE_ODD_TOTAL_SUBSET[k],Y=e.INSIDE_GSUM[k];return new h2(re*L+V+Y,_)}},e.prototype.findFinderPattern=function(n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=n.getSize(),c=!1,l=0;l<s&&(c=!n.get(l),a!==c);)l++;for(var u=0,o=l,d=l;d<s;d++)if(n.get(d)!==c)i[u]++;else{if(u===3){if(Wf.isFinderPattern(i))return[o,d];o+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,c=!c}throw new Br},e.prototype.parseFoundFinderPattern=function(n,a,i,s){for(var c=n.get(s[0]),l=s[0]-1;l>=0&&c!==n.get(l);)l--;l++;var u=s[0]-l,o=this.getDecodeFinderCounters(),d=new Int32Array(o.length);ao.arraycopy(o,0,d,1,o.length-1),d[0]=u;var h=this.parseFinderValue(d,e.FINDER_PATTERNS),A=l,f=s[1];return i&&(A=n.getSize()-1-A,f=n.getSize()-1-f),new $F(h,[l,s[1]],A,f,a)},e.prototype.adjustOddEvenCounts=function(n,a){var i=as.sum(new Int32Array(this.getOddCounts())),s=as.sum(new Int32Array(this.getEvenCounts())),c=!1,l=!1,u=!1,o=!1;n?(i>12?l=!0:i<4&&(c=!0),s>12?o=!0:s<4&&(u=!0)):(i>11?l=!0:i<5&&(c=!0),s>10?o=!0:s<4&&(u=!0));var d=i+s-a,h=(i&1)===(n?1:0),A=(s&1)===1;if(d===1)if(h){if(A)throw new Br;l=!0}else{if(!A)throw new Br;o=!0}else if(d===-1)if(h){if(A)throw new Br;c=!0}else{if(!A)throw new Br;u=!0}else if(d===0){if(h){if(!A)throw new Br;i<s?(c=!0,o=!0):(l=!0,u=!0)}else if(A)throw new Br}else throw new Br;if(c){if(l)throw new Br;Wf.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Wf.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(o)throw new Br;Wf.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Wf.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Wf),Mie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zp=(function(r){Mie(e,r);function e(n){var a=r.call(this)||this;a.readers=[];var i=n?n.get(io.POSSIBLE_FORMATS):null,s=n&&n.get(io.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,c=n&&n.get(io.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Sa.EAN_13)||i.includes(Sa.UPC_A)||i.includes(Sa.EAN_8)||i.includes(Sa.UPC_E))&&a.readers.push(new zj(n)),i.includes(Sa.CODE_39)&&a.readers.push(new d_(s,c)),i.includes(Sa.CODE_93)&&a.readers.push(new h_),i.includes(Sa.CODE_128)&&a.readers.push(new u_),i.includes(Sa.ITF)&&a.readers.push(new A_),i.includes(Sa.CODABAR)&&a.readers.push(new iie),i.includes(Sa.RSS_14)&&a.readers.push(new b_),i.includes(Sa.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),a.readers.push(new kie))),a.readers.length===0&&(a.readers.push(new zj(n)),a.readers.push(new d_),a.readers.push(new h_),a.readers.push(new zj(n)),a.readers.push(new u_),a.readers.push(new A_),a.readers.push(new b_)),a}return e.prototype.decodeRow=function(n,a,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,a,i)}catch{}throw new Br},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(ql),Rie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Rie(e,r);function e(n,a){return n===void 0&&(n=500),r.call(this,new zp(a),n,a)||this}return e})(Fm);var w_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ns=(function(){function r(e,n,a){this.ecCodewords=e,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),fs=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Lie=(function(){function r(e,n,a,i,s,c){var l,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=c;var o=0,d=c.getECCodewords(),h=c.getECBlocks();try{for(var A=w_(h),f=A.next();!f.done;f=A.next()){var g=f.value;o+=g.getCount()*(g.getDataCodewords()+d)}}catch(m){l={error:m}}finally{try{f&&!f.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,n){var a,i;if((e&1)!==0||(n&1)!==0)throw new pn;try{for(var s=w_(r.VERSIONS),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}throw new pn},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Ns(5,new fs(1,3))),new r(2,12,12,10,10,new Ns(7,new fs(1,5))),new r(3,14,14,12,12,new Ns(10,new fs(1,8))),new r(4,16,16,14,14,new Ns(12,new fs(1,12))),new r(5,18,18,16,16,new Ns(14,new fs(1,18))),new r(6,20,20,18,18,new Ns(18,new fs(1,22))),new r(7,22,22,20,20,new Ns(20,new fs(1,30))),new r(8,24,24,22,22,new Ns(24,new fs(1,36))),new r(9,26,26,24,24,new Ns(28,new fs(1,44))),new r(10,32,32,14,14,new Ns(36,new fs(1,62))),new r(11,36,36,16,16,new Ns(42,new fs(1,86))),new r(12,40,40,18,18,new Ns(48,new fs(1,114))),new r(13,44,44,20,20,new Ns(56,new fs(1,144))),new r(14,48,48,22,22,new Ns(68,new fs(1,174))),new r(15,52,52,24,24,new Ns(42,new fs(2,102))),new r(16,64,64,14,14,new Ns(56,new fs(2,140))),new r(17,72,72,16,16,new Ns(36,new fs(4,92))),new r(18,80,80,18,18,new Ns(48,new fs(4,114))),new r(19,88,88,20,20,new Ns(56,new fs(4,144))),new r(20,96,96,22,22,new Ns(68,new fs(4,174))),new r(21,104,104,24,24,new Ns(56,new fs(6,136))),new r(22,120,120,18,18,new Ns(68,new fs(6,175))),new r(23,132,132,20,20,new Ns(62,new fs(8,163))),new r(24,144,144,22,22,new Ns(62,new fs(8,156),new fs(2,155))),new r(25,8,18,6,16,new Ns(7,new fs(1,5))),new r(26,8,32,6,14,new Ns(11,new fs(1,10))),new r(27,12,26,10,24,new Ns(14,new fs(1,16))),new r(28,12,36,10,16,new Ns(18,new fs(1,22))),new r(29,16,36,14,16,new Ns(24,new fs(1,32))),new r(30,16,48,14,22,new Ns(28,new fs(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),Uie=(function(){function r(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new pn;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new kh(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var n=e.getHeight(),a=e.getWidth();return Lie.getVersionForDimensions(n,a)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,a=4,i=0,s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth(),l=!1,u=!1,o=!1,d=!1;do if(a===s&&i===0&&!l)e[n++]=this.readCorner1(s,c)&255,a-=2,i+=2,l=!0;else if(a===s-2&&i===0&&(c&3)!==0&&!u)e[n++]=this.readCorner2(s,c)&255,a-=2,i+=2,u=!0;else if(a===s+4&&i===2&&(c&7)===0&&!o)e[n++]=this.readCorner3(s,c)&255,a-=2,i+=2,o=!0;else if(a===s-2&&i===0&&(c&7)===4&&!d)e[n++]=this.readCorner4(s,c)&255,a-=2,i+=2,d=!0;else{do a<s&&i>=0&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a-=2,i+=2;while(a>=0&&i<c);a+=1,i+=3;do a>=0&&i<c&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a+=2,i-=2;while(a<s&&i>=0);a+=3,i+=1}while(a<s||i<c);if(n!==this.version.getTotalCodewords())throw new pn;return e},r.prototype.readModule=function(e,n,a,i){return e<0&&(e+=a,n+=4-(a+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},r.prototype.readUtah=function(e,n,a,i){var s=0;return this.readModule(e-2,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-2,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n,a,i)&&(s|=1),s<<=1,this.readModule(e,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e,n,a,i)&&(s|=1),s},r.prototype.readCorner1=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,1,e,n)&&(a|=1),a<<=1,this.readModule(e-1,2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.readCorner2=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-4,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner3=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-3,e,n)&&(a|=1),a<<=1,this.readModule(1,n-2,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner4=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Ba("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=n/i|0,l=a/s|0,u=c*i,o=l*s,d=new kh(o,u),h=0;h<c;++h)for(var A=h*i,f=0;f<l;++f)for(var g=f*s,m=0;m<i;++m)for(var x=h*(i+2)+1+m,y=A+m,b=0;b<s;++b){var w=f*(s+2)+1+b;if(e.get(w,x)){var N=g+b;d.set(N,y)}}return d},r})(),j_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hie=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n){var a,i,s,c,l=n.getECBlocks(),u=0,o=l.getECBlocks();try{for(var d=j_(o),h=d.next();!h.done;h=d.next()){var A=h.value;u+=A.getCount()}}catch(Y){a={error:Y}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var f=new Array(u),g=0;try{for(var m=j_(o),x=m.next();!x.done;x=m.next())for(var A=x.value,y=0;y<A.getCount();y++){var b=A.getDataCodewords(),w=l.getECCodewords()+b;f[g++]=new r(b,new Uint8Array(w))}}catch(Y){s={error:Y}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}for(var N=f[0].codewords.length,S=N-l.getECCodewords(),j=S-1,_=0,y=0;y<j;y++)for(var k=0;k<g;k++)f[k].codewords[y]=e[_++];for(var Z=n.getVersionNumber()===24,ee=Z?8:g,k=0;k<ee;k++)f[k].codewords[S-1]=e[_++];for(var V=f[0].codewords.length,y=S;y<V;y++)for(var k=0;k<g;k++){var re=Z?(k+8)%g:k,R=Z&&re>7?y-1:y;f[re].codewords[R]=e[_++]}if(_!==e.length)throw new Ba;return f},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),KF=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ba(""+e);var n=0,a=this.bitOffset,i=this.byteOffset,s=this.bytes;if(a>0){var c=8-a,l=e<c?e:c,u=c-l,o=255>>8-l<<u;n=(s[i]&o)>>u,e-=l,a+=l,a===8&&(a=0,i++)}if(e>0){for(;e>=8;)n=n<<8|s[i]&255,i++,e-=8;if(e>0){var u=8-e,o=255>>u<<u;n=n<<e|(s[i]&o)>>u,a+=e}}return this.bitOffset=a,this.byteOffset=i,n},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),Hl;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hl||(Hl={}));var Qie=(function(){function r(){}return r.decode=function(e){var n=new KF(e),a=new wi,i=new wi,s=new Array,c=Hl.ASCII_ENCODE;do if(c===Hl.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,i);else{switch(c){case Hl.C40_ENCODE:this.decodeC40Segment(n,a);break;case Hl.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case Hl.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case Hl.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case Hl.BASE256_ENCODE:this.decodeBase256Segment(n,a,s);break;default:throw new pn}c=Hl.ASCII_ENCODE}while(c!==Hl.PAD_ENCODE&&n.available()>0);return i.length()>0&&a.append(i.toString()),new ox(e,a.toString(),s.length===0?null:s,null)},r.decodeAsciiSegment=function(e,n,a){var i=!1;do{var s=e.readBits(8);if(s===0)throw new pn;if(s<=128)return i&&(s+=128),n.append(String.fromCharCode(s-1)),Hl.ASCII_ENCODE;if(s===129)return Hl.PAD_ENCODE;if(s<=229){var c=s-130;c<10&&n.append("0"),n.append(""+c)}else switch(s){case 230:return Hl.C40_ENCODE;case 231:return Hl.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return Hl.ANSIX12_ENCODE;case 239:return Hl.TEXT_ENCODE;case 240:return Hl.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new pn;break}}while(e.available()>0);return Hl.ASCII_ENCODE},r.decodeC40Segment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var o=this.C40_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new pn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var o=this.C40_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new pn}s=0;break;case 3:a?(n.append(String.fromCharCode(u+224)),a=!1):n.append(String.fromCharCode(u+96)),s=0;break;default:throw new pn}}}while(e.available()>0)},r.decodeTextSegment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var o=this.TEXT_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new pn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var o=this.TEXT_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new pn}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var o=this.TEXT_SHIFT3_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o),s=0}else throw new pn;break;default:throw new pn}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,n){var a=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),a);for(var s=0;s<3;s++){var c=a[s];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new pn;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,n,a){var i=(e<<8)+n-1,s=Math.floor(i/1600);a[0]=s,i-=s*1600,s=Math.floor(i/40),a[1]=s,a[2]=i-s*40},r.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var a=0;a<4;a++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,n,a){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),c;if(s===0?c=e.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),c<0)throw new pn;for(var l=new Uint8Array(c),u=0;u<c;u++){if(e.available()<8)throw new pn;l[u]=this.unrandomize255State(e.readBits(8),i++)}a.push(l);try{n.append(Ud.decode(l,qi.ISO88591))}catch(o){throw new qg("Platform does not support required encoding: "+o.message)}},r.unrandomize255State=function(e,n){var a=149*n%255+1,i=e-a;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),Wie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$ie=(function(){function r(){this.rsDecoder=new lx(Fu.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var n,a,i=new Uie(e),s=i.getVersion(),c=i.readCodewords(),l=Hie.getDataBlocks(c,s),u=0;try{for(var o=Wie(l),d=o.next();!d.done;d=o.next()){var h=d.value;u+=h.getNumDataCodewords()}}catch(w){n={error:w}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var A=new Uint8Array(u),f=l.length,g=0;g<f;g++){var m=l[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var b=0;b<y;b++)A[b*f+g]=x[b]}return Qie.decode(A)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new jl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),Vie=(function(){function r(e){this.image=e,this.rectangleDetector=new _4(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Br;n=this.shiftToModuleCenter(n);var a=n[0],i=n[1],s=n[2],c=n[3],l=this.transitionsBetween(a,c)+1,u=this.transitionsBetween(s,c)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));var o=r.sampleGrid(this.image,a,i,s,c,l,u);return new eS(o,[a,i,s,c])},r.shiftPoint=function(e,n,a){var i=(n.getX()-e.getX())/(a+1),s=(n.getY()-e.getY())/(a+1);return new na(e.getX()+i,e.getY()+s)},r.moveAway=function(e,n,a){var i=e.getX(),s=e.getY();return i<n?i-=1:i+=1,s<a?s-=1:s+=1,new na(i,s)},r.prototype.detectSolid1=function(e){var n=e[0],a=e[1],i=e[3],s=e[2],c=this.transitionsBetween(n,a),l=this.transitionsBetween(a,i),u=this.transitionsBetween(i,s),o=this.transitionsBetween(s,n),d=c,h=[s,n,a,i];return d>l&&(d=l,h[0]=n,h[1]=a,h[2]=i,h[3]=s),d>u&&(d=u,h[0]=a,h[1]=i,h[2]=s,h[3]=n),d>o&&(h[0]=i,h[1]=s,h[2]=n,h[3]=a),h},r.prototype.detectSolid2=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=r.shiftPoint(a,i,(c+1)*4),u=r.shiftPoint(i,a,(c+1)*4),o=this.transitionsBetween(l,n),d=this.transitionsBetween(u,s);return o<d?(e[0]=n,e[1]=a,e[2]=i,e[3]=s):(e[0]=a,e[1]=i,e[2]=s,e[3]=n),e},r.prototype.correctTopRight=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=this.transitionsBetween(a,s),u=r.shiftPoint(n,a,(l+1)*4),o=r.shiftPoint(i,a,(c+1)*4);c=this.transitionsBetween(u,s),l=this.transitionsBetween(o,s);var d=new na(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1)),h=new na(s.getX()+(n.getX()-a.getX())/(l+1),s.getY()+(n.getY()-a.getY())/(l+1));if(!this.isValid(d))return this.isValid(h)?h:null;if(!this.isValid(h))return d;var A=this.transitionsBetween(u,d)+this.transitionsBetween(o,d),f=this.transitionsBetween(u,h)+this.transitionsBetween(o,h);return A>f?d:h},r.prototype.shiftToModuleCenter=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(i,s)+1,u=r.shiftPoint(n,a,l*4),o=r.shiftPoint(i,a,c*4);c=this.transitionsBetween(u,s)+1,l=this.transitionsBetween(o,s)+1,(c&1)===1&&(c+=1),(l&1)===1&&(l+=1);var d=(n.getX()+a.getX()+i.getX()+s.getX())/4,h=(n.getY()+a.getY()+i.getY()+s.getY())/4;n=r.moveAway(n,d,h),a=r.moveAway(a,d,h),i=r.moveAway(i,d,h),s=r.moveAway(s,d,h);var A,f;return u=r.shiftPoint(n,a,l*4),u=r.shiftPoint(u,s,c*4),A=r.shiftPoint(a,n,l*4),A=r.shiftPoint(A,i,c*4),o=r.shiftPoint(i,s,l*4),o=r.shiftPoint(o,a,c*4),f=r.shiftPoint(s,i,l*4),f=r.shiftPoint(f,n,c*4),[u,A,o,f]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,n,a,i,s,c,l){var u=tS.getInstance();return u.sampleGrid(e,c,l,.5,.5,c-.5,.5,c-.5,l-.5,.5,l-.5,n.getX(),n.getY(),s.getX(),s.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.transitionsBetween=function(e,n){var a=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(n.getX()),c=Math.trunc(n.getY()),l=Math.abs(c-i)>Math.abs(s-a);if(l){var u=a;a=i,i=u,u=s,s=c,c=u}for(var o=Math.abs(s-a),d=Math.abs(c-i),h=-o/2,A=i<c?1:-1,f=a<s?1:-1,g=0,m=this.image.get(l?i:a,l?a:i),x=a,y=i;x!==s;x+=f){var b=this.image.get(l?y:x,l?x:y);if(b!==m&&(g++,m=b),h+=d,h>0){if(y===c)break;y+=A,h-=o}}return g},r})(),A2=(function(){function r(){this.decoder=new $ie}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a,i;if(n!=null&&n.has(io.PURE_BARCODE)){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decode(s),i=r.NO_POINTS}else{var c=new Vie(e.getBlackMatrix()).detect();a=this.decoder.decode(c.getBits()),i=c.getPoints()}var l=a.getRawBytes(),u=new Jc(a.getText(),l,8*l.length,i,Sa.DATA_MATRIX,ao.currentTimeMillis()),o=a.getByteSegments();o!=null&&u.putMetadata(Mc.BYTE_SEGMENTS,o);var d=a.getECLevel();return d!=null&&u.putMetadata(Mc.ERROR_CORRECTION_LEVEL,d),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n==null||a==null)throw new Br;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0],o=(u-l+1)/i,d=(c-s+1)/i;if(o<=0||d<=0)throw new Br;var h=i/2;s+=h,l+=h;for(var A=new kh(o,d),f=0;f<d;f++)for(var g=s+f*i,m=0;m<o;m++)e.get(l+m*i,g)&&A.set(m,f);return A},r.moduleSize=function(e,n){for(var a=n.getWidth(),i=e[0],s=e[1];i<a&&n.get(i,s);)i++;if(i===a)throw new Br;var c=i-e[0];if(c===0)throw new Br;return c},r.NO_POINTS=[],r})(),zie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){zie(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new A2,n)||this}return e})(Fm);var Kp;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Kp||(Kp={}));var Kie=(function(){function r(e,n,a){this.value=e,this.stringValue=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new dl(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Ba;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Kp.L,"L",1),r.M=new r(Kp.M,"M",0),r.Q=new r(Kp.Q,"Q",3),r.H=new r(Kp.H,"H",2),r})(),Gie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GF=(function(){function r(e){this.errorCorrectionLevel=Kie.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,n){return Si.bitCount(e^n)},r.decodeFormatInformation=function(e,n){var a=r.doDecodeFormatInformation(e,n);return a!==null?a:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,n^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,n){var a,i,s=Number.MAX_SAFE_INTEGER,c=0;try{for(var l=Gie(r.FORMAT_INFO_DECODE_LOOKUP),u=l.next();!u.done;u=l.next()){var o=u.value,d=o[0];if(d===e||d===n)return new r(o[1]);var h=r.numBitsDiffering(e,d);h<s&&(c=o[1],s=h),e!==n&&(h=r.numBitsDiffering(n,d),h<s&&(c=o[1],s=h))}}catch(A){a={error:A}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return s<=3?new r(c):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),qie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ur=(function(){function r(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,n,a=0,i=this.ecBlocks;try{for(var s=qie(i),c=s.next();!c.done;c=s.next()){var l=c.value;a+=l.getCount()}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),ft=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Xie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tp=(function(){function r(e,n){for(var a,i,s=[],c=2;c<arguments.length;c++)s[c-2]=arguments[c];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=s;var l=0,u=s[0].getECCodewordsPerBlock(),o=s[0].getECBlocks();try{for(var d=Xie(o),h=d.next();!h.done;h=d.next()){var A=h.value;l+=A.getCount()*(A.getDataCodewords()+u)}}catch(f){a={error:f}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new pn;try{return this.getVersionForNumber((e-17)/4)}catch{throw new pn}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new Ba;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,a=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var s=r.VERSION_DECODE_INFO[i];if(s===e)return r.getVersionForNumber(i+7);var c=GF.numBitsDiffering(e,s);c<n&&(a=i+7,n=c)}return n<=3?r.getVersionForNumber(a):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new kh(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var a=this.alignmentPatternCenters.length,i=0;i<a;i++)for(var s=this.alignmentPatternCenters[i]-2,c=0;c<a;c++)i===0&&(c===0||c===a-1)||i===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,s,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new ur(7,new ft(1,19)),new ur(10,new ft(1,16)),new ur(13,new ft(1,13)),new ur(17,new ft(1,9))),new r(2,Int32Array.from([6,18]),new ur(10,new ft(1,34)),new ur(16,new ft(1,28)),new ur(22,new ft(1,22)),new ur(28,new ft(1,16))),new r(3,Int32Array.from([6,22]),new ur(15,new ft(1,55)),new ur(26,new ft(1,44)),new ur(18,new ft(2,17)),new ur(22,new ft(2,13))),new r(4,Int32Array.from([6,26]),new ur(20,new ft(1,80)),new ur(18,new ft(2,32)),new ur(26,new ft(2,24)),new ur(16,new ft(4,9))),new r(5,Int32Array.from([6,30]),new ur(26,new ft(1,108)),new ur(24,new ft(2,43)),new ur(18,new ft(2,15),new ft(2,16)),new ur(22,new ft(2,11),new ft(2,12))),new r(6,Int32Array.from([6,34]),new ur(18,new ft(2,68)),new ur(16,new ft(4,27)),new ur(24,new ft(4,19)),new ur(28,new ft(4,15))),new r(7,Int32Array.from([6,22,38]),new ur(20,new ft(2,78)),new ur(18,new ft(4,31)),new ur(18,new ft(2,14),new ft(4,15)),new ur(26,new ft(4,13),new ft(1,14))),new r(8,Int32Array.from([6,24,42]),new ur(24,new ft(2,97)),new ur(22,new ft(2,38),new ft(2,39)),new ur(22,new ft(4,18),new ft(2,19)),new ur(26,new ft(4,14),new ft(2,15))),new r(9,Int32Array.from([6,26,46]),new ur(30,new ft(2,116)),new ur(22,new ft(3,36),new ft(2,37)),new ur(20,new ft(4,16),new ft(4,17)),new ur(24,new ft(4,12),new ft(4,13))),new r(10,Int32Array.from([6,28,50]),new ur(18,new ft(2,68),new ft(2,69)),new ur(26,new ft(4,43),new ft(1,44)),new ur(24,new ft(6,19),new ft(2,20)),new ur(28,new ft(6,15),new ft(2,16))),new r(11,Int32Array.from([6,30,54]),new ur(20,new ft(4,81)),new ur(30,new ft(1,50),new ft(4,51)),new ur(28,new ft(4,22),new ft(4,23)),new ur(24,new ft(3,12),new ft(8,13))),new r(12,Int32Array.from([6,32,58]),new ur(24,new ft(2,92),new ft(2,93)),new ur(22,new ft(6,36),new ft(2,37)),new ur(26,new ft(4,20),new ft(6,21)),new ur(28,new ft(7,14),new ft(4,15))),new r(13,Int32Array.from([6,34,62]),new ur(26,new ft(4,107)),new ur(22,new ft(8,37),new ft(1,38)),new ur(24,new ft(8,20),new ft(4,21)),new ur(22,new ft(12,11),new ft(4,12))),new r(14,Int32Array.from([6,26,46,66]),new ur(30,new ft(3,115),new ft(1,116)),new ur(24,new ft(4,40),new ft(5,41)),new ur(20,new ft(11,16),new ft(5,17)),new ur(24,new ft(11,12),new ft(5,13))),new r(15,Int32Array.from([6,26,48,70]),new ur(22,new ft(5,87),new ft(1,88)),new ur(24,new ft(5,41),new ft(5,42)),new ur(30,new ft(5,24),new ft(7,25)),new ur(24,new ft(11,12),new ft(7,13))),new r(16,Int32Array.from([6,26,50,74]),new ur(24,new ft(5,98),new ft(1,99)),new ur(28,new ft(7,45),new ft(3,46)),new ur(24,new ft(15,19),new ft(2,20)),new ur(30,new ft(3,15),new ft(13,16))),new r(17,Int32Array.from([6,30,54,78]),new ur(28,new ft(1,107),new ft(5,108)),new ur(28,new ft(10,46),new ft(1,47)),new ur(28,new ft(1,22),new ft(15,23)),new ur(28,new ft(2,14),new ft(17,15))),new r(18,Int32Array.from([6,30,56,82]),new ur(30,new ft(5,120),new ft(1,121)),new ur(26,new ft(9,43),new ft(4,44)),new ur(28,new ft(17,22),new ft(1,23)),new ur(28,new ft(2,14),new ft(19,15))),new r(19,Int32Array.from([6,30,58,86]),new ur(28,new ft(3,113),new ft(4,114)),new ur(26,new ft(3,44),new ft(11,45)),new ur(26,new ft(17,21),new ft(4,22)),new ur(26,new ft(9,13),new ft(16,14))),new r(20,Int32Array.from([6,34,62,90]),new ur(28,new ft(3,107),new ft(5,108)),new ur(26,new ft(3,41),new ft(13,42)),new ur(30,new ft(15,24),new ft(5,25)),new ur(28,new ft(15,15),new ft(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new ur(28,new ft(4,116),new ft(4,117)),new ur(26,new ft(17,42)),new ur(28,new ft(17,22),new ft(6,23)),new ur(30,new ft(19,16),new ft(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new ur(28,new ft(2,111),new ft(7,112)),new ur(28,new ft(17,46)),new ur(30,new ft(7,24),new ft(16,25)),new ur(24,new ft(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new ur(30,new ft(4,121),new ft(5,122)),new ur(28,new ft(4,47),new ft(14,48)),new ur(30,new ft(11,24),new ft(14,25)),new ur(30,new ft(16,15),new ft(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new ur(30,new ft(6,117),new ft(4,118)),new ur(28,new ft(6,45),new ft(14,46)),new ur(30,new ft(11,24),new ft(16,25)),new ur(30,new ft(30,16),new ft(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new ur(26,new ft(8,106),new ft(4,107)),new ur(28,new ft(8,47),new ft(13,48)),new ur(30,new ft(7,24),new ft(22,25)),new ur(30,new ft(22,15),new ft(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new ur(28,new ft(10,114),new ft(2,115)),new ur(28,new ft(19,46),new ft(4,47)),new ur(28,new ft(28,22),new ft(6,23)),new ur(30,new ft(33,16),new ft(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new ur(30,new ft(8,122),new ft(4,123)),new ur(28,new ft(22,45),new ft(3,46)),new ur(30,new ft(8,23),new ft(26,24)),new ur(30,new ft(12,15),new ft(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new ur(30,new ft(3,117),new ft(10,118)),new ur(28,new ft(3,45),new ft(23,46)),new ur(30,new ft(4,24),new ft(31,25)),new ur(30,new ft(11,15),new ft(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new ur(30,new ft(7,116),new ft(7,117)),new ur(28,new ft(21,45),new ft(7,46)),new ur(30,new ft(1,23),new ft(37,24)),new ur(30,new ft(19,15),new ft(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new ur(30,new ft(5,115),new ft(10,116)),new ur(28,new ft(19,47),new ft(10,48)),new ur(30,new ft(15,24),new ft(25,25)),new ur(30,new ft(23,15),new ft(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new ur(30,new ft(13,115),new ft(3,116)),new ur(28,new ft(2,46),new ft(29,47)),new ur(30,new ft(42,24),new ft(1,25)),new ur(30,new ft(23,15),new ft(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new ur(30,new ft(17,115)),new ur(28,new ft(10,46),new ft(23,47)),new ur(30,new ft(10,24),new ft(35,25)),new ur(30,new ft(19,15),new ft(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new ur(30,new ft(17,115),new ft(1,116)),new ur(28,new ft(14,46),new ft(21,47)),new ur(30,new ft(29,24),new ft(19,25)),new ur(30,new ft(11,15),new ft(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new ur(30,new ft(13,115),new ft(6,116)),new ur(28,new ft(14,46),new ft(23,47)),new ur(30,new ft(44,24),new ft(7,25)),new ur(30,new ft(59,16),new ft(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new ur(30,new ft(12,121),new ft(7,122)),new ur(28,new ft(12,47),new ft(26,48)),new ur(30,new ft(39,24),new ft(14,25)),new ur(30,new ft(22,15),new ft(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new ur(30,new ft(6,121),new ft(14,122)),new ur(28,new ft(6,47),new ft(34,48)),new ur(30,new ft(46,24),new ft(10,25)),new ur(30,new ft(2,15),new ft(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new ur(30,new ft(17,122),new ft(4,123)),new ur(28,new ft(29,46),new ft(14,47)),new ur(30,new ft(49,24),new ft(10,25)),new ur(30,new ft(24,15),new ft(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new ur(30,new ft(4,122),new ft(18,123)),new ur(28,new ft(13,46),new ft(32,47)),new ur(30,new ft(48,24),new ft(14,25)),new ur(30,new ft(42,15),new ft(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new ur(30,new ft(20,117),new ft(4,118)),new ur(28,new ft(40,47),new ft(7,48)),new ur(30,new ft(43,24),new ft(22,25)),new ur(30,new ft(10,15),new ft(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new ur(30,new ft(19,118),new ft(6,119)),new ur(28,new ft(18,47),new ft(31,48)),new ur(30,new ft(34,24),new ft(34,25)),new ur(30,new ft(20,15),new ft(61,16)))],r})(),pc;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(pc||(pc={}));var C_=(function(){function r(e,n){this.value=e,this.isMasked=n}return r.prototype.unmaskBitMatrix=function(e,n){for(var a=0;a<n;a++)for(var i=0;i<n;i++)this.isMasked(a,i)&&e.flip(i,a)},r.values=new Map([[pc.DATA_MASK_000,new r(pc.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[pc.DATA_MASK_001,new r(pc.DATA_MASK_001,function(e,n){return(e&1)===0})],[pc.DATA_MASK_010,new r(pc.DATA_MASK_010,function(e,n){return n%3===0})],[pc.DATA_MASK_011,new r(pc.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[pc.DATA_MASK_100,new r(pc.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[pc.DATA_MASK_101,new r(pc.DATA_MASK_101,function(e,n){return e*n%6===0})],[pc.DATA_MASK_110,new r(pc.DATA_MASK_110,function(e,n){return e*n%6<3})],[pc.DATA_MASK_111,new r(pc.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),r})(),Yie=(function(){function r(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new pn;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var a=5;a>=0;a--)e=this.copyBit(8,a,e);for(var i=this.bitMatrix.getHeight(),s=0,c=i-7,a=i-1;a>=c;a--)s=this.copyBit(8,a,s);for(var n=i-8;n<i;n++)s=this.copyBit(n,8,s);if(this.parsedFormatInfo=GF.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new pn},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return tp.getVersionForNumber(n);for(var a=0,i=e-11,s=5;s>=0;s--)for(var c=e-9;c>=i;c--)a=this.copyBit(c,s,a);var l=tp.decodeVersionInformation(a);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;a=0;for(var c=5;c>=0;c--)for(var s=e-9;s>=i;s--)a=this.copyBit(c,s,a);if(l=tp.decodeVersionInformation(a),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new pn},r.prototype.copyBit=function(e,n,a){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?a<<1|1:a<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),a=C_.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,i);for(var s=n.buildFunctionPattern(),c=!0,l=new Uint8Array(n.getTotalCodewords()),u=0,o=0,d=0,h=i-1;h>0;h-=2){h===6&&h--;for(var A=0;A<i;A++)for(var f=c?i-1-A:A,g=0;g<2;g++)s.get(h-g,f)||(d++,o<<=1,this.bitMatrix.get(h-g,f)&&(o|=1),d===8&&(l[u++]=o,d=0,o=0));c=!c}if(u!==n.getTotalCodewords())throw new pn;return l},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=C_.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,a=e.getWidth();n<a;n++)for(var i=n+1,s=e.getHeight();i<s;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},r})(),N_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zie=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n,a){var i,s,c,l;if(e.length!==n.getTotalCodewords())throw new Ba;var u=n.getECBlocksForLevel(a),o=0,d=u.getECBlocks();try{for(var h=N_(d),A=h.next();!A.done;A=h.next()){var f=A.value;o+=f.getCount()}}catch(R){i={error:R}}finally{try{A&&!A.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var g=new Array(o),m=0;try{for(var x=N_(d),y=x.next();!y.done;y=x.next())for(var f=y.value,b=0;b<f.getCount();b++){var w=f.getDataCodewords(),N=u.getECCodewordsPerBlock()+w;g[m++]=new r(w,new Uint8Array(N))}}catch(R){c={error:R}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}for(var S=g[0].codewords.length,j=g.length-1;j>=0;){var _=g[j].codewords.length;if(_===S)break;j--}j++;for(var k=S-u.getECCodewordsPerBlock(),Z=0,b=0;b<k;b++)for(var ee=0;ee<m;ee++)g[ee].codewords[b]=e[Z++];for(var ee=j;ee<m;ee++)g[ee].codewords[k]=e[Z++];for(var V=g[0].codewords.length,b=k;b<V;b++)for(var ee=0;ee<m;ee++){var re=ee<j?b:b+1;g[ee].codewords[re]=e[Z++]}return g},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Dd;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Dd||(Dd={}));var po=(function(){function r(e,n,a,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var n=r.FOR_BITS.get(e);if(n===void 0)throw new Ba;return n},r.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Dd.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Dd.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Dd.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Dd.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Dd.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Dd.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Dd.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Dd.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Dd.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Dd.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),Jie=(function(){function r(){}return r.decode=function(e,n,a,i){var s=new KF(e),c=new wi,l=new Array,u=-1,o=-1;try{var d=null,h=!1,A=void 0;do{if(s.available()<4)A=po.TERMINATOR;else{var f=s.readBits(4);A=po.forBits(f)}switch(A){case po.TERMINATOR:break;case po.FNC1_FIRST_POSITION:case po.FNC1_SECOND_POSITION:h=!0;break;case po.STRUCTURED_APPEND:if(s.available()<16)throw new pn;u=s.readBits(8),o=s.readBits(8);break;case po.ECI:var g=r.parseECIValue(s);if(d=Vl.getCharacterSetECIByValue(g),d===null)throw new pn;break;case po.HANZI:var m=s.readBits(4),x=s.readBits(A.getCharacterCountBits(n));m===r.GB2312_SUBSET&&r.decodeHanziSegment(s,c,x);break;default:var y=s.readBits(A.getCharacterCountBits(n));switch(A){case po.NUMERIC:r.decodeNumericSegment(s,c,y);break;case po.ALPHANUMERIC:r.decodeAlphanumericSegment(s,c,y,h);break;case po.BYTE:r.decodeByteSegment(s,c,y,d,l,i);break;case po.KANJI:r.decodeKanjiSegment(s,c,y);break;default:throw new pn}break}}while(A!==po.TERMINATOR)}catch{throw new pn}return new ox(e,c.toString(),l.length===0?null:l,a===null?null:a.toString(),u,o)},r.decodeHanziSegment=function(e,n,a){if(a*13>e.available())throw new pn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/96<<8&4294967295|c%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,a--}try{n.append(Ud.decode(i,qi.GB2312))}catch(u){throw new pn(u)}},r.decodeKanjiSegment=function(e,n,a){if(a*13>e.available())throw new pn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/192<<8&4294967295|c%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,a--}try{n.append(Ud.decode(i,qi.SHIFT_JIS))}catch(u){throw new pn(u)}},r.decodeByteSegment=function(e,n,a,i,s,c){if(8*a>e.available())throw new pn;for(var l=new Uint8Array(a),u=0;u<a;u++)l[u]=e.readBits(8);var o;i===null?o=qi.guessEncoding(l,c):o=i.getName();try{n.append(Ud.decode(l,o))}catch(d){throw new pn(d)}s.push(l)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new pn;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,n,a,i){for(var s=n.length();a>1;){if(e.available()<11)throw new pn;var c=e.readBits(11);n.append(r.toAlphaNumericChar(Math.floor(c/45))),n.append(r.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(e.available()<6)throw new pn;n.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},r.decodeNumericSegment=function(e,n,a){for(;a>=3;){if(e.available()<10)throw new pn;var i=e.readBits(10);if(i>=1e3)throw new pn;n.append(r.toAlphaNumericChar(Math.floor(i/100))),n.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(r.toAlphaNumericChar(i%10)),a-=3}if(a===2){if(e.available()<7)throw new pn;var s=e.readBits(7);if(s>=100)throw new pn;n.append(r.toAlphaNumericChar(Math.floor(s/10))),n.append(r.toAlphaNumericChar(s%10))}else if(a===1){if(e.available()<4)throw new pn;var c=e.readBits(4);if(c>=10)throw new pn;n.append(r.toAlphaNumericChar(c))}},r.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var a=e.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new pn},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),qF=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},r})(),S_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ese=(function(){function r(){this.rsDecoder=new lx(Fu.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(kh.parseFromBooleanArray(e),n)},r.prototype.decodeBitMatrix=function(e,n){var a=new Yie(e),i=null;try{return this.decodeBitMatrixParser(a,n)}catch(c){i=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();var s=this.decodeBitMatrixParser(a,n);return s.setOther(new qF(!0)),s}catch(c){throw i!==null?i:c}},r.prototype.decodeBitMatrixParser=function(e,n){var a,i,s,c,l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),d=Zie.getDataBlocks(o,l,u),h=0;try{for(var A=S_(d),f=A.next();!f.done;f=A.next()){var g=f.value;h+=g.getNumDataCodewords()}}catch(j){a={error:j}}finally{try{f&&!f.done&&(i=A.return)&&i.call(A)}finally{if(a)throw a.error}}var m=new Uint8Array(h),x=0;try{for(var y=S_(d),b=y.next();!b.done;b=y.next()){var g=b.value,w=g.getCodewords(),N=g.getNumDataCodewords();this.correctErrors(w,N);for(var S=0;S<N;S++)m[x++]=w[S]}}catch(j){s={error:j}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}return Jie.decode(m,l,u,n)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new jl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),tse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),rse=(function(r){tse(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=(this.getX()+a)/2,c=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,c,l)},e})(na),nse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ase=(function(){function r(e,n,a,i,s,c,l){this.image=e,this.startX=n,this.startY=a,this.width=i,this.height=s,this.moduleSize=c,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,n=this.height,a=this.width,i=e+a,s=this.startY+n/2,c=new Int32Array(3),l=this.image,u=0;u<n;u++){var o=s+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));c[0]=0,c[1]=0,c[2]=0;for(var d=e;d<i&&!l.get(d,o);)d++;for(var h=0;d<i;){if(l.get(d,o))if(h===1)c[1]++;else if(h===2){if(this.foundPatternCross(c)){var A=this.handlePossibleCenter(c,o,d);if(A!==null)return A}c[0]=c[2],c[1]=1,c[2]=0,h=1}else c[++h]++;else h===1&&h++,c[h]++;d++}if(this.foundPatternCross(c)){var A=this.handlePossibleCenter(c,o,i);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Br},r.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,a=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=a)return!1;return!0},r.prototype.crossCheckVertical=function(e,n,a,i){var s=this.image,c=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var u=e;u>=0&&s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&!s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u)&&l[1]<=a;)l[1]++,u++;if(u===c||l[1]>a)return NaN;for(;u<c&&!s.get(n,u)&&l[2]<=a;)l[2]++,u++;if(l[2]>a)return NaN;var o=l[0]+l[1]+l[2];return 5*Math.abs(o-i)>=2*i?NaN:this.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a){var i,s,c=e[0]+e[1]+e[2],l=r.centerFromEnd(e,a),u=this.crossCheckVertical(n,l,2*e[1],c);if(!isNaN(u)){var o=(e[0]+e[1]+e[2])/3;try{for(var d=nse(this.possibleCenters),h=d.next();!h.done;h=d.next()){var A=h.value;if(A.aboutEquals(o,u,l))return A.combineEstimate(u,l,o)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var f=new rse(l,u,o);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},r})(),ise=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),sse=(function(r){ise(e,r);function e(n,a,i,s){var c=r.call(this,n,a)||this;return c.estimatedModuleSize=i,c.count=s,s===void 0&&(c.count=1),c}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=this.count+1,c=(this.count*this.getX()+a)/s,l=(this.count*this.getY()+n)/s,u=(this.count*this.estimatedModuleSize+i)/s;return new e(c,l,u,s)},e})(na),ose=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),C0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lse=(function(){function r(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var n=e!=null&&e.get(io.TRY_HARDER)!==void 0,a=e!=null&&e.get(io.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),c=i.getWidth(),l=Math.floor(3*s/(4*r.MAX_MODULES));(l<r.MIN_SKIP||n)&&(l=r.MIN_SKIP);for(var u=!1,o=new Int32Array(5),d=l-1;d<s&&!u;d+=l){o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0;for(var h=0,A=0;A<c;A++)if(i.get(A,d))(h&1)===1&&h++,o[h]++;else if((h&1)===0)if(h===4)if(r.foundPatternCross(o)){var f=this.handlePossibleCenter(o,d,A,a);if(f===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>o[2]&&(d+=g-o[2]-l,A=c-1)}else{o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,h=3;continue}h=0,o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,h=3;else o[++h]++;else o[h]++;if(r.foundPatternCross(o)){var f=this.handlePossibleCenter(o,d,c,a);f===!0&&(l=o[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return na.orderBestPatterns(m),new ose(m)},r.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var n=0,a=0;a<5;a++){var i=e[a];if(i===0)return!1;n+=i}if(n<7)return!1;var s=n/7,c=s/2;return Math.abs(s-e[0])<c&&Math.abs(s-e[1])<c&&Math.abs(3*s-e[2])<3*c&&Math.abs(s-e[3])<c&&Math.abs(s-e[4])<c},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,n,a,i){for(var s=this.getCrossCheckStateCount(),c=0,l=this.image;e>=c&&n>=c&&l.get(n-c,e-c);)s[2]++,c++;if(e<c||n<c)return!1;for(;e>=c&&n>=c&&!l.get(n-c,e-c)&&s[1]<=a;)s[1]++,c++;if(e<c||n<c||s[1]>a)return!1;for(;e>=c&&n>=c&&l.get(n-c,e-c)&&s[0]<=a;)s[0]++,c++;if(s[0]>a)return!1;var u=l.getHeight(),o=l.getWidth();for(c=1;e+c<u&&n+c<o&&l.get(n+c,e+c);)s[2]++,c++;if(e+c>=u||n+c>=o)return!1;for(;e+c<u&&n+c<o&&!l.get(n+c,e+c)&&s[3]<a;)s[3]++,c++;if(e+c>=u||n+c>=o||s[3]>=a)return!1;for(;e+c<u&&n+c<o&&l.get(n+c,e+c)&&s[4]<a;)s[4]++,c++;if(s[4]>=a)return!1;var d=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(d-i)<2*i&&r.foundPatternCross(s)},r.prototype.crossCheckVertical=function(e,n,a,i){for(var s=this.image,c=s.getHeight(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(n,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(n,u)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(n,u)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=2*i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.crossCheckHorizontal=function(e,n,a,i){for(var s=this.image,c=s.getWidth(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(u,n);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,n)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(u,n)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(u,n);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(u,n)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(u,n)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],c=r.centerFromEnd(e,a),l=this.crossCheckVertical(n,Math.floor(c),e[2],s);if(!isNaN(l)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(l),e[2],s),!isNaN(c)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(c),e[2],s)))){for(var u=s/7,o=!1,d=this.possibleCenters,h=0,A=d.length;h<A;h++){var f=d[h];if(f.aboutEquals(u,l,c)){d[h]=f.combineEstimate(l,c,u),o=!0;break}}if(!o){var g=new sse(c,l,u);d.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},r.prototype.findRowSkip=function(){var e,n,a=this.possibleCenters.length;if(a<=1)return 0;var i=null;try{for(var s=C0(this.possibleCenters),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.getCount()>=r.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,n,a,i,s=0,c=0,l=this.possibleCenters.length;try{for(var u=C0(this.possibleCenters),o=u.next();!o.done;o=u.next()){var d=o.value;d.getCount()>=r.CENTER_QUORUM&&(s++,c+=d.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{o&&!o.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(s<3)return!1;var h=c/l,A=0;try{for(var f=C0(this.possibleCenters),g=f.next();!g.done;g=f.next()){var d=g.value;A+=Math.abs(d.getEstimatedModuleSize()-h)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return A<=.05*c},r.prototype.selectBestPatterns=function(){var e,n,a,i,s=this.possibleCenters.length;if(s<3)throw new Br;var c=this.possibleCenters,l;if(s>3){var u=0,o=0;try{for(var d=C0(this.possibleCenters),h=d.next();!h.done;h=d.next()){var A=h.value,f=A.getEstimatedModuleSize();u+=f,o+=f*f}}catch(S){e={error:S}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}l=u/s;var g=Math.sqrt(o/s-l*l);c.sort(function(S,j){var _=Math.abs(j.getEstimatedModuleSize()-l),k=Math.abs(S.getEstimatedModuleSize()-l);return _<k?-1:_>k?1:0});for(var m=Math.max(.2*l,g),x=0;x<c.length&&c.length>3;x++){var y=c[x];Math.abs(y.getEstimatedModuleSize()-l)>m&&(c.splice(x,1),x--)}}if(c.length>3){var u=0;try{for(var b=C0(c),w=b.next();!w.done;w=b.next()){var N=w.value;u+=N.getEstimatedModuleSize()}}catch(j){a={error:j}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}l=u/c.length,c.sort(function(j,_){if(_.getCount()===j.getCount()){var k=Math.abs(_.getEstimatedModuleSize()-l),Z=Math.abs(j.getEstimatedModuleSize()-l);return k<Z?1:k>Z?-1:0}else return _.getCount()-j.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),cse=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(io.NEED_RESULT_POINT_CALLBACK);var n=new lse(this.image,this.resultPointCallback),a=n.find(e);return this.processFinderPatternInfo(a)},r.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),a=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(n,a,i);if(s<1)throw new Br("No pattern found in proccess finder.");var c=r.computeDimension(n,a,i,s),l=tp.getProvisionalVersionForDimension(c),u=l.getDimensionForVersion()-7,o=null;if(l.getAlignmentPatternCenters().length>0)for(var d=a.getX()-n.getX()+i.getX(),h=a.getY()-n.getY()+i.getY(),A=1-3/u,f=Math.floor(n.getX()+A*(d-n.getX())),g=Math.floor(n.getY()+A*(h-n.getY())),m=4;m<=16;m<<=1)try{o=this.findAlignmentInRegion(s,f,g,m);break}catch(w){if(!(w instanceof Br))throw w}var x=r.createTransform(n,a,i,o,c),y=r.sampleGrid(this.image,x,c),b;return o===null?b=[i,n,a]:b=[i,n,a,o],new eS(y,b)},r.createTransform=function(e,n,a,i,s){var c=s-3.5,l,u,o,d;return i!==null?(l=i.getX(),u=i.getY(),o=c-3,d=o):(l=n.getX()-e.getX()+a.getX(),u=n.getY()-e.getY()+a.getY(),o=c,d=c),WF.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,o,d,3.5,c,e.getX(),e.getY(),n.getX(),n.getY(),l,u,a.getX(),a.getY())},r.sampleGrid=function(e,n,a){var i=tS.getInstance();return i.sampleGridWithTransform(e,a,a,n)},r.computeDimension=function(e,n,a,i){var s=as.round(na.distance(e,n)/i),c=as.round(na.distance(e,a)/i),l=Math.floor((s+c)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Br("Dimensions could be not found.")}return l},r.prototype.calculateModuleSize=function(e,n,a){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,a))/2},r.prototype.calculateModuleSizeOneWay=function(e,n){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?i/7:isNaN(i)?a/7:(a+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,a,i){var s=this.sizeOfBlackWhiteBlackRun(e,n,a,i),c=1,l=e-(a-e);l<0?(c=e/(e-l),l=0):l>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var u=Math.floor(n-(i-n)*c);return c=1,u<0?(c=n/(n-u),u=0):u>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*c),s+=this.sizeOfBlackWhiteBlackRun(e,n,l,u),s-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,n,a,i){var s=Math.abs(i-n)>Math.abs(a-e);if(s){var c=e;e=n,n=c,c=a,a=i,i=c}for(var l=Math.abs(a-e),u=Math.abs(i-n),o=-l/2,d=e<a?1:-1,h=n<i?1:-1,A=0,f=a+d,g=e,m=n;g!==f;g+=d){var x=s?m:g,y=s?g:m;if(A===1===this.image.get(x,y)){if(A===2)return as.distance(g,m,e,n);A++}if(o+=u,o>0){if(m===i)break;m+=h,o-=l}}return A===2?as.distance(a+d,i,e,n):NaN},r.prototype.findAlignmentInRegion=function(e,n,a,i){var s=Math.floor(i*e),c=Math.max(0,n-s),l=Math.min(this.image.getWidth()-1,n+s);if(l-c<e*3)throw new Br("Alignment top exceeds estimated module size.");var u=Math.max(0,a-s),o=Math.min(this.image.getHeight()-1,a+s);if(o-u<e*3)throw new Br("Alignment bottom exceeds estimated module size.");var d=new ase(this.image,c,u,l-c,o-u,e,this.resultPointCallback);return d.find()},r})(),f2=(function(){function r(){this.decoder=new ese}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,n){var a,i;if(n!=null&&n.get(io.PURE_BARCODE)!==void 0){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(s,n),i=r.NO_POINTS}else{var c=new cse(e.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(c.getBits(),n),i=c.getPoints()}a.getOther()instanceof qF&&a.getOther().applyMirroredCorrection(i);var l=new Jc(a.getText(),a.getRawBytes(),void 0,i,Sa.QR_CODE,void 0),u=a.getByteSegments();u!==null&&l.putMetadata(Mc.BYTE_SEGMENTS,u);var o=a.getECLevel();return o!==null&&l.putMetadata(Mc.ERROR_CORRECTION_LEVEL,o),a.hasStructuredAppend()&&(l.putMetadata(Mc.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(Mc.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n===null||a===null)throw new Br;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0];if(l>=u||s>=c)throw new Br;if(c-s!==u-l&&(u=l+(c-s),u>=e.getWidth()))throw new Br;var o=Math.round((u-l+1)/i),d=Math.round((c-s+1)/i);if(o<=0||d<=0)throw new Br;if(d!==o)throw new Br;var h=Math.floor(i/2);s+=h,l+=h;var A=l+Math.floor((o-1)*i)-u;if(A>0){if(A>h)throw new Br;l-=A}var f=s+Math.floor((d-1)*i)-c;if(f>0){if(f>h)throw new Br;s-=f}for(var g=new kh(o,d),m=0;m<d;m++)for(var x=s+Math.floor(m*i),y=0;y<o;y++)e.get(l+Math.floor(y*i),x)&&g.set(y,m);return g},r.moduleSize=function(e,n){for(var a=n.getHeight(),i=n.getWidth(),s=e[0],c=e[1],l=!0,u=0;s<i&&c<a;){if(l!==n.get(s,c)){if(++u===5)break;l=!l}s++,c++}if(s===i||c===a)throw new Br;return(s-e[0])/7},r.NO_POINTS=new Array,r})(),use=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yi=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return as.sum(e)},r.toIntArray=function(e){var n,a;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var c=use(e),l=c.next();!l.done;l=c.next()){var u=l.value;i[s++]=u}}catch(o){n={error:o}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i},r.getCodeword=function(e){var n=Kl.binarySearch(r.SYMBOL_TABLE,e&262143);return n<0?-1:(r.CODEWORD_TABLE[n]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),dse=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),hse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ase=(function(){function r(){}return r.detectMultiple=function(e,n,a){var i=e.getBlackMatrix(),s=r.detect(a,i);return s.length||(i=i.clone(),i.rotate180(),s=r.detect(a,i)),new dse(i,s)},r.detect=function(e,n){for(var a,i,s=new Array,c=0,l=0,u=!1;c<n.getHeight();){var o=r.findVertices(n,c,l);if(o[0]==null&&o[3]==null){if(!u)break;u=!1,l=0;try{for(var d=(a=void 0,hse(s)),h=d.next();!h.done;h=d.next()){var A=h.value;A[1]!=null&&(c=Math.trunc(Math.max(c,A[1].getY()))),A[3]!=null&&(c=Math.max(c,Math.trunc(A[3].getY())))}}catch(f){a={error:f}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}c+=r.ROW_STEP;continue}if(u=!0,s.push(o),!e)break;o[2]!=null?(l=Math.trunc(o[2].getX()),c=Math.trunc(o[2].getY())):(l=Math.trunc(o[4].getX()),c=Math.trunc(o[4].getY()))}return s},r.findVertices=function(e,n,a){var i=e.getHeight(),s=e.getWidth(),c=new Array(8);return r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.START_PATTERN),r.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),c},r.copyToResult=function(e,n,a){for(var i=0;i<a.length;i++)e[a[i]]=n[i]},r.findRowsWithPattern=function(e,n,a,i,s,c){for(var l=new Array(4),u=!1,o=new Int32Array(c.length);i<n;i+=r.ROW_STEP){var d=r.findGuardPattern(e,s,i,a,!1,c,o);if(d!=null){for(;i>0;){var h=r.findGuardPattern(e,s,--i,a,!1,c,o);if(h!=null)d=h;else{i++;break}}l[0]=new na(d[0],i),l[1]=new na(d[1],i),u=!0;break}}var A=i+1;if(u){for(var f=0,h=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);A<n;A++){var d=r.findGuardPattern(e,h[0],A,a,!1,c,o);if(d!=null&&Math.abs(h[0]-d[0])<r.MAX_PATTERN_DRIFT&&Math.abs(h[1]-d[1])<r.MAX_PATTERN_DRIFT)h=d,f=0;else{if(f>r.SKIPPED_ROW_COUNT_MAX)break;f++}}A-=f+1,l[2]=new na(h[0],A),l[3]=new na(h[1],A)}return A-i<r.BARCODE_MIN_HEIGHT&&Kl.fill(l,null),l},r.findGuardPattern=function(e,n,a,i,s,c,l){Kl.fillWithin(l,0,l.length,0);for(var u=n,o=0;e.get(u,a)&&u>0&&o++<r.MAX_PIXEL_DRIFT;)u--;for(var d=u,h=0,A=c.length,f=s;d<i;d++){var g=e.get(d,a);if(g!==f)l[h]++;else{if(h===A-1){if(r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,d]);u+=l[0]+l[1],ao.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}}return h===A-1&&r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,d-1]):null},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return 1/0;var u=s/c;a*=u;for(var o=0,d=0;d<i;d++){var h=e[d],A=n[d]*u,f=h>A?h-A:A-h;if(f>a)return 1/0;o+=f}return o/s},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),fse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xf=(function(){function r(e,n){if(n.length===0)throw new Ba;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-i),ao.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var n,a;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=fse(this.coefficients),c=s.next();!c.done;c=s.next()){var l=c.value;i=this.field.add(i,l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i}for(var u=this.coefficients[0],o=this.coefficients.length,d=1;d<o;d++)u=this.field.add(this.field.multiply(e,u),this.coefficients[d]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ba("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;ao.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=this.field.add(n[l-c],a[l]);return new r(this.field,s)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ba("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ba("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=0;l<a;l++)for(var u=n[l],o=0;o<s;o++)c[l+o]=this.field.add(c[l+o],this.field.multiply(u,i[o]));return new r(this.field,c)},r.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),a=0;a<e;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new r(this.field,n)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,a=new Int32Array(n),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,a)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ba;if(n===0)return new r(this.field,new Int32Array([0]));for(var a=this.coefficients.length,i=new Int32Array(a+e),s=0;s<a;s++)i[s]=this.field.multiply(this.coefficients[s],n);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new wi,n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);a!==0&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(n===0||a!==1)&&e.append(a),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},r})(),pse=(function(){function r(){}return r.prototype.add=function(e,n){return(e+n)%this.modulus},r.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ba;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new QF;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),mse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),gse=(function(r){mse(e,r);function e(n,a){var i=r.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var s=1,c=0;c<n;c++)i.expTable[c]=s,s=s*a%n;for(var c=0;c<n-1;c++)i.logTable[i.expTable[c]]=c;return i.zero=new Xf(i,new Int32Array([0])),i.one=new Xf(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ba;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new Xf(this,i)},e.PDF417_GF=new e(Yi.NUMBER_OF_CODEWORDS,3),e})(pse),vse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xse=(function(){function r(){this.field=gse.PDF417_GF}return r.prototype.decode=function(e,n,a){for(var i,s,c=new Xf(this.field,e),l=new Int32Array(n),u=!1,o=n;o>0;o--){var d=c.evaluateAt(this.field.exp(o));l[n-o]=d,d!==0&&(u=!0)}if(!u)return 0;var h=this.field.getOne();if(a!=null)try{for(var A=vse(a),f=A.next();!f.done;f=A.next()){var g=f.value,m=this.field.exp(e.length-1-g),x=new Xf(this.field,new Int32Array([this.field.subtract(0,m),1]));h=h.multiply(x)}}catch(k){i={error:k}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}for(var y=new Xf(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),w=b[0],N=b[1],S=this.findErrorLocations(w),j=this.findErrorMagnitudes(N,w,S),o=0;o<S.length;o++){var _=e.length-1-this.field.log(S[o]);if(_<0)throw jl.getChecksumInstance();e[_]=this.field.subtract(e[_],j[o])}return S.length},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=e,c=n,l=this.field.getZero(),u=this.field.getOne();c.getDegree()>=Math.round(a/2);){var o=s,d=l;if(s=c,l=u,s.isZero())throw jl.getChecksumInstance();c=o;for(var h=this.field.getZero(),A=s.getCoefficient(s.getDegree()),f=this.field.inverse(A);c.getDegree()>=s.getDegree()&&!c.isZero();){var g=c.getDegree()-s.getDegree(),m=this.field.multiply(c.getCoefficient(c.getDegree()),f);h=h.add(this.field.buildMonomial(g,m)),c=c.subtract(s.multiplyByMonomial(g,m))}u=h.multiply(l).subtract(d).negative()}var x=u.getCoefficient(0);if(x===0)throw jl.getChecksumInstance();var y=this.field.inverse(x),b=u.multiply(y),w=c.multiply(y);return[b,w]},r.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),a=new Int32Array(n),i=0,s=1;s<this.field.getSize()&&i<n;s++)e.evaluateAt(s)===0&&(a[i]=this.field.inverse(s),i++);if(i!==n)throw jl.getChecksumInstance();return a},r.prototype.findErrorMagnitudes=function(e,n,a){for(var i=n.getDegree(),s=new Int32Array(i),c=1;c<=i;c++)s[i-c]=this.field.multiply(c,n.getCoefficient(c));for(var l=new Xf(this.field,s),u=a.length,o=new Int32Array(u),c=0;c<u;c++){var d=this.field.inverse(a[c]),h=this.field.subtract(0,e.evaluateAt(d)),A=this.field.inverse(l.evaluateAt(d));o[c]=this.field.multiply(h,A)}return o},r})(),k4=(function(){function r(e,n,a,i,s){e instanceof r?this.constructor_2(e):this.constructor_1(e,n,a,i,s)}return r.prototype.constructor_1=function(e,n,a,i,s){var c=n==null||a==null,l=i==null||s==null;if(c&&l)throw new Br;c?(n=new na(0,i.getY()),a=new na(0,s.getY())):l&&(i=new na(e.getWidth()-1,n.getY()),s=new na(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=n,this.bottomLeft=a,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,n){return e==null?n:n==null?e:new r(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},r.prototype.addMissingRows=function(e,n,a){var i=this.topLeft,s=this.bottomLeft,c=this.topRight,l=this.bottomRight;if(e>0){var u=a?this.topLeft:this.topRight,o=Math.trunc(u.getY()-e);o<0&&(o=0);var d=new na(u.getX(),o);a?i=d:c=d}if(n>0){var h=a?this.bottomLeft:this.bottomRight,A=Math.trunc(h.getY()+n);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);var f=new na(h.getX(),A);a?s=f:l=f}return new r(this.image,i,s,c,l)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),yse=(function(){function r(e,n,a,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),nS=(function(){function r(){this.buffer=""}return r.form=function(e,n){var a=-1;function i(c,l,u,o,d,h){if(c==="%%")return"%";if(n[++a]!==void 0){c=o?parseInt(o.substr(1)):void 0;var A=d?parseInt(d.substr(1)):void 0,f;switch(h){case"s":f=n[a];break;case"c":f=n[a][0];break;case"f":f=parseFloat(n[a]).toFixed(c);break;case"p":f=parseFloat(n[a]).toPrecision(c);break;case"e":f=parseFloat(n[a]).toExponential(c);break;case"x":f=parseInt(n[a]).toString(A||16);break;case"d":f=parseFloat(parseInt(n[a],A||10).toPrecision(c)).toFixed(0);break}f=typeof f=="object"?JSON.stringify(f):(+f).toString(A);for(var g=parseInt(u),m=u&&u[0]+""=="0"?"0":" ";f.length<g;)f=l!==void 0?f+m:m+f;return f}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},r.prototype.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.buffer+=r.form(e,n)},r.prototype.toString=function(){return this.buffer},r})(),bse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XF=(function(){function r(e){this.boundingBox=new k4(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var a=1;a<r.MAX_NEARBY_DISTANCE;a++){var i=this.imageRowToCodewordIndex(e)-a;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+a,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,n,a=new nS,i=0;try{for(var s=bse(this.codewords),c=s.next();!c.done;c=s.next()){var l=c.value;if(l==null){a.format("%3d:    |   %n",i++);continue}a.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),wse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jse=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return s},R0=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},r.prototype.getValue=function(){var e,n,a=-1,i=new Array,s=function(h,A){var f={getKey:function(){return h},getValue:function(){return A}};f.getValue()>a?(a=f.getValue(),i=[],i.push(f.getKey())):f.getValue()===a&&i.push(f.getKey())};try{for(var c=wse(this.values.entries()),l=c.next();!l.done;l=c.next()){var u=jse(l.value,2),o=u[0],d=u[1];s(o,d)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return Yi.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),Cse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Gj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B_=(function(r){Cse(e,r);function e(n,a){var i=r.call(this,n)||this;return i._isLeft=a,i}return e.prototype.setRowNumbers=function(){var n,a;try{for(var i=Gj(this.getCodewords()),s=i.next();!s.done;s=i.next()){var c=s.value;c!=null&&c.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=-1,d=1,h=0,A=l;A<u;A++)if(a[A]!=null){var f=a[A],g=f.getRowNumber()-o;if(g===0)h++;else if(g===1)d=Math.max(d,h),h=1,o=f.getRowNumber();else if(g<0||f.getRowNumber()>=n.getRowCount()||g>A)a[A]=null;else{var m=void 0;d>2?m=(d-2)*g:m=g;for(var x=m>=A,y=1;y<=m&&!x;y++)x=a[A-y]!=null;x?a[A]=null:(o=f.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var n,a,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var c=Gj(this.getCodewords()),l=c.next();!l.done;l=c.next()){var u=l.value;if(u!=null){var o=u.getRowNumber();if(o>=s.length)continue;s[o]++}}}catch(d){n={error:d}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),o=-1,d=c;d<l;d++)if(u[d]!=null){var h=u[d];h.setRowNumberAsRowIndicatorColumn();var A=h.getRowNumber()-o;A===0||(A===1?o=h.getRowNumber():h.getRowNumber()>=n.getRowCount()?u[d]=null:o=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,a,i=this.getCodewords(),s=new R0,c=new R0,l=new R0,u=new R0;try{for(var o=Gj(i),d=o.next();!d.done;d=o.next()){var h=d.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var A=h.getValue()%30,f=h.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:c.setValue(A*3+1);break;case 1:u.setValue(A/3),l.setValue(A%3);break;case 2:s.setValue(A+1);break}}}}catch(m){n={error:m}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}if(s.getValue().length===0||c.getValue().length===0||l.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||c.getValue()[0]+l.getValue()[0]<Yi.MIN_ROWS_IN_BARCODE||c.getValue()[0]+l.getValue()[0]>Yi.MAX_ROWS_IN_BARCODE)return null;var g=new yse(s.getValue()[0],c.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(n,a){for(var i=0;i<n.length;i++){var s=n[i];if(n[i]!=null){var c=s.getValue()%30,l=s.getRowNumber();if(l>a.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(n[i]=null);break;case 2:c+1!==a.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(XF),Nse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sse=(function(){function r(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Yi.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var a=this.detectionResultColumns[n].getCodewords(),i=0;i<a.length;i++)a[i]!=null&&(a[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,a));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<e.length;a++)if(e[a]!=null&&n[a]!=null&&e[a].getRowNumber()===n[a].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[a];s!=null&&(s.setRowNumber(e[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[a]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),n=0):++n),n},r.prototype.adjustRowNumbers=function(e,n,a){var i,s;if(this.detectionResultColumns[e-1]!=null){var c=a[n],l=this.detectionResultColumns[e-1].getCodewords(),u=l;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var o=new Array(14);o[2]=l[n],o[3]=u[n],n>0&&(o[0]=a[n-1],o[4]=l[n-1],o[5]=u[n-1]),n>1&&(o[8]=a[n-2],o[10]=l[n-2],o[11]=u[n-2]),n<a.length-1&&(o[1]=a[n+1],o[6]=l[n+1],o[7]=u[n+1]),n<a.length-2&&(o[9]=a[n+2],o[12]=l[n+2],o[13]=u[n+2]);try{for(var d=Nse(o),h=d.next();!h.done;h=d.next()){var A=h.value;if(r.adjustRowNumber(c,A))return}}catch(f){i={error:f}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new nS,a=0;a<e.getCodewords().length;a++){n.format("CW %3d:",a);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[a];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()},r})(),Bse=(function(){function r(e,n,a,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),Ese=(function(){function r(){}return r.initialize=function(){for(var e=0;e<Yi.SYMBOL_TABLE.length;e++)for(var n=Yi.SYMBOL_TABLE[e],a=n&1,i=0;i<Yi.BARS_IN_MODULE;i++){for(var s=0;(n&1)===a;)s+=1,n>>=1;a=n&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Yi.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Yi.BARS_IN_MODULE-i-1]=Math.fround(s/Yi.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var n=r.getDecodedCodewordValue(r.sampleBitCounts(e));return n!==-1?n:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var n=as.sum(e),a=new Int32Array(Yi.BARS_IN_MODULE),i=0,s=0,c=0;c<Yi.MODULES_IN_CODEWORD;c++){var l=n/(2*Yi.MODULES_IN_CODEWORD)+c*n/Yi.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),a[i]++}return a},r.getDecodedCodewordValue=function(e){var n=r.getBitValue(e);return Yi.getCodeword(n)===-1?-1:n},r.getBitValue=function(e){for(var n=0,a=0;a<e.length;a++)for(var i=0;i<e[a];i++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)},r.getClosestDecodedValue=function(e){var n=as.sum(e),a=new Array(Yi.BARS_IN_MODULE);if(n>1)for(var i=0;i<a.length;i++)a[i]=Math.fround(e[i]/n);var s=T4.MAX_VALUE,c=-1;this.bSymbolTableReady||r.initialize();for(var l=0;l<r.RATIOS_TABLE.length;l++){for(var u=0,o=r.RATIOS_TABLE[l],d=0;d<Yi.BARS_IN_MODULE;d++){var h=Math.fround(o[d]-a[d]);if(u+=Math.fround(h*h),u>=s)break}u<s&&(s=u,c=Yi.SYMBOL_TABLE[l])}return c},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Yi.SYMBOL_TABLE.length).map(function(e){return new Array(Yi.BARS_IN_MODULE)}),r})(),Ise=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),E_=(function(){function r(){}return r.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r})(),Tse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_se=(function(r){Tse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Ru),Ose=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,n,a){if(e==null)throw new _se;if(n<0||n>e.length||a<0||n+a>e.length||n+a<0)throw new JN;if(a===0)return;for(var i=0;i<a;i++)this.write(e[n+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),kse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Pse=(function(r){kse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Ru),Fse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Dse=(function(r){Fse(e,r);function e(n){n===void 0&&(n=32);var a=r.call(this)||this;if(a.count=0,n<0)throw new Ba("Negative initial size: "+n);return a.buf=new Uint8Array(n),a}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var a=this.buf.length,i=a<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new Pse;i=Si.MAX_VALUE}this.buf=Kl.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,a,i){if(a<0||a>n.length||i<0||a+i-n.length>0)throw new JN;this.ensureCapacity(this.count+i),ao.arraycopy(n,a,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Kl.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(Ose),Ls;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ls||(Ls={}));function YF(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var J1;function GA(r){if(typeof J1>"u"&&(J1=YF()),J1===null)throw new Error("BigInt is not supported!");return J1(r)}function Mse(){var r=[];r[0]=GA(1);var e=GA(900);r[1]=e;for(var n=2;n<16;n++)r[n]=r[n-1]*e;return r}var Rse=(function(){function r(){}return r.decode=function(e,n){var a=new wi(""),i=Vl.ISO8859_1;a.enableDecoding(i);for(var s=1,c=e[s++],l=new Ise;s<e[0];){switch(c){case r.TEXT_COMPACTION_MODE_LATCH:s=r.textCompaction(e,s,a);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:s=r.byteCompaction(c,e,i,s,a);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[s++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:s=r.numericCompaction(e,s,a);break;case r.ECI_CHARSET:Vl.getCharacterSetECIByValue(e[s++]);break;case r.ECI_GENERAL_PURPOSE:s+=2;break;case r.ECI_USER_DEFINED:s++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=r.decodeMacroBlock(e,s,l);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new pn;default:s--,s=r.textCompaction(e,s,a);break}if(s<e.length)c=e[s++];else throw pn.getFormatInstance()}if(a.length()===0)throw pn.getFormatInstance();var u=new ox(null,a.toString(),null,n);return u.setOther(l),u},r.decodeMacroBlock=function(e,n,a){if(n+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw pn.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<r.NUMBER_OF_SEQUENCE_CODEWORDS;s++,n++)i[s]=e[n];a.setSegmentIndex(Si.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var c=new wi;n=r.textCompaction(e,n,c),a.setFileId(c.toString());var l=-1;for(e[n]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new wi;n=r.textCompaction(e,n+1,u),a.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var o=new wi;n=r.textCompaction(e,n+1,o),a.setSender(o.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new wi;n=r.textCompaction(e,n+1,d),a.setAddressee(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new wi;n=r.numericCompaction(e,n+1,h),a.setSegmentCount(Si.parseInt(h.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var A=new wi;n=r.numericCompaction(e,n+1,A),a.setTimestamp(E_.parseLong(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new wi;n=r.numericCompaction(e,n+1,f),a.setChecksum(Si.parseInt(f.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new wi;n=r.numericCompaction(e,n+1,g),a.setFileSize(E_.parseLong(g.toString()));break;default:throw pn.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw pn.getFormatInstance()}if(l!==-1){var m=n-l;a.isLastSegment()&&m--,a.setOptionalData(Kl.copyOfRange(e,l,l+m))}return n},r.textCompaction=function(e,n,a){for(var i=new Int32Array((e[0]-n)*2),s=new Int32Array((e[0]-n)*2),c=0,l=!1;n<e[0]&&!l;){var u=e[n++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[c]=u/30,i[c+1]=u%30,c+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[c++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[c]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],s[c]=u,c++;break}}return r.decodeTextCompaction(i,s,c,a),n},r.decodeTextCompaction=function(e,n,a,i){for(var s=Ls.ALPHA,c=Ls.ALPHA,l=0;l<a;){var u=e[l],o="";switch(s){case Ls.ALPHA:if(u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.LL:s=Ls.LOWER;break;case r.ML:s=Ls.MIXED;break;case r.PS:c=s,s=Ls.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ls.ALPHA;break}break;case Ls.LOWER:if(u<26)o=String.fromCharCode(97+u);else switch(u){case 26:o=" ";break;case r.AS:c=s,s=Ls.ALPHA_SHIFT;break;case r.ML:s=Ls.MIXED;break;case r.PS:c=s,s=Ls.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ls.ALPHA;break}break;case Ls.MIXED:if(u<r.PL)o=r.MIXED_CHARS[u];else switch(u){case r.PL:s=Ls.PUNCT;break;case 26:o=" ";break;case r.LL:s=Ls.LOWER;break;case r.AL:s=Ls.ALPHA;break;case r.PS:c=s,s=Ls.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ls.ALPHA;break}break;case Ls.PUNCT:if(u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Ls.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ls.ALPHA;break}break;case Ls.ALPHA_SHIFT:if(s=c,u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ls.ALPHA;break}break;case Ls.PUNCT_SHIFT:if(s=c,u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Ls.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Ls.ALPHA;break}break}o!==""&&i.append(o),l++}},r.byteCompaction=function(e,n,a,i,s){var c=new Dse,l=0,u=0,o=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),h=n[i++];i<n[0]&&!o;)switch(d[l++]=h,u=900*u+h,h=n[i++],h){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break;default:if(l%5===0&&l>0){for(var A=0;A<6;++A)c.write(Number(GA(u)>>GA(8*(5-A))));u=0,l=0}break}i===n[0]&&h<r.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=h);for(var f=0;f<l;f++)c.write(d[f]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!o;){var g=n[i++];if(g<r.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+g;else switch(g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break}if(l%5===0&&l>0){for(var A=0;A<6;++A)c.write(Number(GA(u)>>GA(8*(5-A))));u=0,l=0}}break}return s.append(Ud.decode(c.toByteArray(),a)),i},r.numericCompaction=function(e,n,a){for(var i=0,s=!1,c=new Int32Array(r.MAX_NUMERIC_CODEWORDS);n<e[0]&&!s;){var l=e[n++];if(n===e[0]&&(s=!0),l<r.TEXT_COMPACTION_MODE_LATCH)c[i]=l,i++;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||l===r.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(a.append(r.decodeBase900toBase10(c,i)),i=0)}return n},r.decodeBase900toBase10=function(e,n){for(var a=GA(0),i=0;i<n;i++)a+=r.EXP900[n-i-1]*GA(e[i]);var s=a.toString();if(s.charAt(0)!=="1")throw new pn;return s.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=YF()?Mse():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),N0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lse=(function(){function r(){}return r.decode=function(e,n,a,i,s,c,l){for(var u=new k4(e,n,a,i,s),o=null,d=null,h,A=!0;;A=!1){if(n!=null&&(o=r.getRowIndicatorColumn(e,u,n,!0,c,l)),i!=null&&(d=r.getRowIndicatorColumn(e,u,i,!1,c,l)),h=r.merge(o,d),h==null)throw Br.getNotFoundInstance();var f=h.getBoundingBox();if(A&&f!=null&&(f.getMinY()<u.getMinY()||f.getMaxY()>u.getMaxY()))u=f;else break}h.setBoundingBox(u);var g=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,o),h.setDetectionResultColumn(g,d);for(var m=o!=null,x=1;x<=g;x++){var y=m?x:g-x;if(h.getDetectionResultColumn(y)===void 0){var b=void 0;y===0||y===g?b=new B_(u,y===0):b=new XF(u),h.setDetectionResultColumn(y,b);for(var w=-1,N=w,S=u.getMinY();S<=u.getMaxY();S++){if(w=r.getStartColumn(h,y,S,m),w<0||w>u.getMaxX()){if(N===-1)continue;w=N}var j=r.detectCodeword(e,u.getMinX(),u.getMaxX(),m,w,S,c,l);j!=null&&(b.setCodeword(S,j),N=w,c=Math.min(c,j.getWidth()),l=Math.max(l,j.getWidth()))}}}return r.createDecoderResult(h)},r.merge=function(e,n){if(e==null&&n==null)return null;var a=r.getBarcodeMetadata(e,n);if(a==null)return null;var i=k4.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(n));return new Sse(a,i)},r.adjustBoundingBox=function(e){var n,a;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=r.getMax(i),c=0;try{for(var l=N0(i),u=l.next();!u.done;u=l.next()){var o=u.value;if(c+=s-o,o>0)break}}catch(f){n={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var d=e.getCodewords(),h=0;c>0&&d[h]==null;h++)c--;for(var A=0,h=i.length-1;h>=0&&(A+=s-i[h],!(i[h]>0));h--);for(var h=d.length-1;A>0&&d[h]==null;h--)A--;return e.getBoundingBox().addMissingRows(c,A,e.isLeft())},r.getMax=function(e){var n,a,i=-1;try{for(var s=N0(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=Math.max(i,l)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.getBarcodeMetadata=function(e,n){var a;if(e==null||(a=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==i.getColumnCount()&&a.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&a.getRowCount()!==i.getRowCount()?null:a},r.getRowIndicatorColumn=function(e,n,a,i,s,c){for(var l=new B_(n,i),u=0;u<2;u++)for(var o=u===0?1:-1,d=Math.trunc(Math.trunc(a.getX())),h=Math.trunc(Math.trunc(a.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=o){var A=r.detectCodeword(e,0,e.getWidth(),i,d,h,s,c);A!=null&&(l.setCodeword(h,A),i?d=A.getStartX():d=A.getEndX())}return l},r.adjustCodewordCount=function(e,n){var a=n[0][1],i=a.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Yi.MAX_CODEWORDS_IN_BARCODE)throw Br.getNotFoundInstance();a.setValue(s)}else i[0]!==s&&a.setValue(s)},r.createDecoderResult=function(e){var n=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,n);for(var a=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],c=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var u=0;u<e.getBarcodeColumnCount();u++){var o=n[l][u+1].getValue(),d=l*e.getBarcodeColumnCount()+u;o.length===0?a.push(d):o.length===1?i[d]=o[0]:(c.push(d),s.push(o))}for(var h=new Array(s.length),A=0;A<h.length;A++)h[A]=s[A];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Yi.toIntArray(a),Yi.toIntArray(c),h)},r.createDecoderResultFromAmbiguousValues=function(e,n,a,i,s){for(var c=new Int32Array(i.length),l=100;l-- >0;){for(var u=0;u<c.length;u++)n[i[u]]=s[u][c[u]];try{return r.decodeCodewords(n,e,a)}catch(d){var o=d instanceof jl;if(!o)throw d}if(c.length===0)throw jl.getChecksumInstance();for(var u=0;u<c.length;u++)if(c[u]<s[u].length-1){c[u]++;break}else if(c[u]=0,u===c.length-1)throw jl.getChecksumInstance()}throw jl.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var n,a,i,s,c=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<c.length;l++)for(var u=0;u<c[l].length;u++)c[l][u]=new R0;var o=0;try{for(var d=N0(e.getDetectionResultColumns()),h=d.next();!h.done;h=d.next()){var A=h.value;if(A!=null)try{for(var f=(i=void 0,N0(A.getCodewords())),g=f.next();!g.done;g=f.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][o].setValue(m.getValue())}}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}o++}}catch(y){n={error:y}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return c},r.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,n,a,i){var s,c,l=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodeword(a)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(a),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodewordNearby(a)),u!=null)return i?u.getEndX():u.getStartX();for(var o=0;r.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var d=(s=void 0,N0(e.getDetectionResultColumn(n).getCodewords())),h=d.next();!h.done;h=d.next()){var A=h.value;if(A!=null)return(i?A.getEndX():A.getStartX())+l*o*(A.getEndX()-A.getStartX())}}catch(f){s={error:f}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}o++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,n,a,i,s,c,l,u){s=r.adjustCodewordStartColumn(e,n,a,i,s,c);var o=r.getModuleBitCount(e,n,a,i,s,c);if(o==null)return null;var d,h=as.sum(o);if(i)d=s+h;else{for(var A=0;A<o.length/2;A++){var f=o[A];o[A]=o[o.length-1-A],o[o.length-1-A]=f}d=s,s=d-h}if(!r.checkCodewordSkew(h,l,u))return null;var g=Ese.getDecodedValue(o),m=Yi.getCodeword(g);return m===-1?null:new Bse(s,d,r.getCodewordBucketNumber(g),m)},r.getModuleBitCount=function(e,n,a,i,s,c){for(var l=s,u=new Int32Array(8),o=0,d=i?1:-1,h=i;(i?l<a:l>=n)&&o<u.length;)e.get(l,c)===h?(u[o]++,l+=d):(o++,h=!h);return o===u.length||l===(i?a:n)&&o===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,n,a,i,s,c){for(var l=s,u=i?-1:1,o=0;o<2;o++){for(;(i?l>=n:l<a)&&i===e.get(l,c);){if(Math.abs(s-l)>r.CODEWORD_SKEW_SIZE)return s;l+=u}u=-u,i=!i}return l},r.checkCodewordSkew=function(e,n,a){return n-r.CODEWORD_SKEW_SIZE<=e&&e<=a+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,n,a){if(e.length===0)throw pn.getFormatInstance();var i=1<<n+1,s=r.correctErrors(e,a,i);r.verifyCodewordCount(e,i);var c=Rse.decode(e,""+n);return c.setErrorsCorrected(s),c.setErasures(a.length),c},r.correctErrors=function(e,n,a){if(n!=null&&n.length>a/2+r.MAX_ERRORS||a<0||a>r.MAX_EC_CODEWORDS)throw jl.getChecksumInstance();return r.errorCorrection.decode(e,a,n)},r.verifyCodewordCount=function(e,n){if(e.length<4)throw pn.getFormatInstance();var a=e[0];if(a>e.length)throw pn.getFormatInstance();if(a===0)if(n<e.length)e[0]=e.length-n;else throw pn.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),a=0,i=n.length-1;!((e&1)!==a&&(a=e&1,i--,i<0));)n[i]++,e>>=1;return n},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var n=new nS,a=0;a<e.length;a++){n.format("Row %2d: ",a);for(var i=0;i<e[a].length;i++){var s=e[a][i];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new xse,r})(),Use=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p2=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=r.decode(e,n,!1);if(a==null||a.length===0||a[0]==null)throw Br.getNotFoundInstance();return a[0]},r.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return r.decode(e,n,!0)}catch(a){throw a instanceof pn||a instanceof jl?Br.getNotFoundInstance():a}},r.decode=function(e,n,a){var i,s,c=new Array,l=Ase.detectMultiple(e,n,a);try{for(var u=Use(l.getPoints()),o=u.next();!o.done;o=u.next()){var d=o.value,h=Lse.decode(l.getBits(),d[4],d[5],d[6],d[7],r.getMinCodewordWidth(d),r.getMaxCodewordWidth(d)),A=new Jc(h.getText(),h.getRawBytes(),void 0,d,Sa.PDF_417);A.putMetadata(Mc.ERROR_CORRECTION_LEVEL,h.getECLevel());var f=h.getOther();f!=null&&A.putMetadata(Mc.PDF417_EXTRA_METADATA,f),c.push(A)}}catch(g){i={error:g}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return c.map(function(g){return g})},r.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMinWidth=function(e,n){return e==null||n==null?Si.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),Hse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),I_=(function(r){Hse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(Ru),T_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZF=(function(){function r(){}return r.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(io.TRY_HARDER)!==void 0,a=e==null?null:e.get(io.POSSIBLE_FORMATS),i=new Array;if(a!=null){var s=a.some(function(c){return c===Sa.UPC_A||c===Sa.UPC_E||c===Sa.EAN_13||c===Sa.EAN_8||c===Sa.CODABAR||c===Sa.CODE_39||c===Sa.CODE_93||c===Sa.CODE_128||c===Sa.ITF||c===Sa.RSS_14||c===Sa.RSS_EXPANDED});s&&!n&&i.push(new zp(e)),a.includes(Sa.QR_CODE)&&i.push(new f2),a.includes(Sa.DATA_MATRIX)&&i.push(new A2),a.includes(Sa.AZTEC)&&i.push(new d2),a.includes(Sa.PDF_417)&&i.push(new p2),s&&n&&i.push(new zp(e))}i.length===0&&(n||i.push(new zp(e)),i.push(new f2),i.push(new A2),i.push(new d2),i.push(new p2),n&&i.push(new zp(e))),this.readers=i},r.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var a=T_(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var n,a;if(this.readers===null)throw new I_("No readers where selected, nothing can be read.");try{for(var i=T_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;try{return c.decode(e,this.hints)}catch(l){if(l instanceof I_)continue}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new Br("No MultiFormat Readers were able to detect the code.")},r})(),Qse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Qse(e,r);function e(n,a){n===void 0&&(n=null),a===void 0&&(a=500);var i=this,s=new ZF;return s.setHints(n),i=r.call(this,s,a)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Fm);var Wse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Wse(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new p2,n)||this}return e})(Fm);var $se=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){$se(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new f2,n)||this}return e})(Fm);var P4;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(P4||(P4={}));const ev=P4;var JF=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new af(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var a=n[n.length-1],i=this.field,s=n.length;s<=e;s++){var c=a.multiply(new af(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));n.push(c),a=c}return n[e]},r.prototype.encode=function(e,n){if(n===0)throw new Ba("No error correction bytes");var a=e.length-n;if(a<=0)throw new Ba("No data bytes provided");var i=this.buildGenerator(n),s=new Int32Array(a);ao.arraycopy(e,0,s,0,a);var c=new af(this.field,s);c=c.multiplyByMonomial(n,1);for(var l=c.divide(i)[1],u=l.getCoefficients(),o=n-u.length,d=0;d<o;d++)e[a+d]=0;ao.arraycopy(u,0,e,a+o,u.length)},r})(),L0=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s-1;c++)for(var l=a[c],u=0;u<i-1;u++){var o=l[u];o===l[u+1]&&o===a[c+1][u]&&o===a[c+1][u+1]&&n++}return r.N2*n},r.applyMaskPenaltyRule3=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=0;l<i;l++){var u=a[c];l+6<i&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(r.isWhiteHorizontal(u,l-4,l)||r.isWhiteHorizontal(u,l+7,l+11))&&n++,c+6<s&&a[c][l]===1&&a[c+1][l]===0&&a[c+2][l]===1&&a[c+3][l]===1&&a[c+4][l]===1&&a[c+5][l]===0&&a[c+6][l]===1&&(r.isWhiteVertical(a,l,c-4,c)||r.isWhiteVertical(a,l,c+7,c+11))&&n++}return n*r.N3},r.isWhiteHorizontal=function(e,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,n,a,i){a=Math.max(a,0),i=Math.min(i,e.length);for(var s=a;s<i;s++)if(e[s][n]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=a[c],u=0;u<i;u++)l[u]===1&&n++;var o=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(n*2-o)*10/o);return d*r.N4},r.getDataMaskBit=function(e,n,a){var i,s;switch(e){case 0:i=a+n&1;break;case 1:i=a&1;break;case 2:i=n%3;break;case 3:i=(a+n)%3;break;case 4:i=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:s=a*n,i=(s&1)+s%3;break;case 6:s=a*n,i=(s&1)+s%3&1;break;case 7:s=a*n,i=s%3+(a+n&1)&1;break;default:throw new Ba("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,n){for(var a=0,i=n?e.getHeight():e.getWidth(),s=n?e.getWidth():e.getHeight(),c=e.getArray(),l=0;l<i;l++){for(var u=0,o=-1,d=0;d<s;d++){var h=n?c[l][d]:c[d][l];h===o?u++:(u>=5&&(a+=r.N1+(u-5)),u=1,o=h)}u>=5&&(a+=r.N1+(u-5))}return a},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),Vse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zse=(function(){function r(e,n){this.width=e,this.height=n;for(var a=new Array(n),i=0;i!==n;i++)a[i]=new Uint8Array(e);this.bytes=a}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,n){return this.bytes[n][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,n,a){this.bytes[n][e]=a},r.prototype.setBoolean=function(e,n,a){this.bytes[n][e]=a?1:0},r.prototype.clear=function(e){var n,a;try{for(var i=Vse(this.bytes),s=i.next();!s.done;s=i.next()){var c=s.value;Kl.fill(c,e)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var a=0,i=this.height;a<i;++a)for(var s=this.bytes[a],c=n.bytes[a],l=0,u=this.width;l<u;++l)if(s[l]!==c[l])return!1;return!0},r.prototype.toString=function(){for(var e=new wi,n=0,a=this.height;n<a;++n){for(var i=this.bytes[n],s=0,c=this.width;s<c;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),F4=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new wi;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),Kse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),fo=(function(r){Kse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(Ru),__=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,n,a,i,s){r.clearMatrix(s),r.embedBasicPatterns(a,s),r.embedTypeInfo(n,i,s),r.maybeEmbedVersionInfo(a,s),r.embedDataBits(e,i,s)},r.embedBasicPatterns=function(e,n){r.embedPositionDetectionPatternsAndSeparators(n),r.embedDarkDotAtLeftBottomCorner(n),r.maybeEmbedPositionAdjustmentPatterns(e,n),r.embedTimingPatterns(n)},r.embedTypeInfo=function(e,n,a){var i=new xc;r.makeTypeInfoBits(e,n,i);for(var s=0,c=i.getSize();s<c;++s){var l=i.get(i.getSize()-1-s),u=r.TYPE_INFO_COORDINATES[s],o=u[0],d=u[1];if(a.setBoolean(o,d,l),s<8){var h=a.getWidth()-s-1,A=8;a.setBoolean(h,A,l)}else{var h=8,A=a.getHeight()-7+(s-8);a.setBoolean(h,A,l)}}},r.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var a=new xc;r.makeVersionInfoBits(e,a);for(var i=17,s=0;s<6;++s)for(var c=0;c<3;++c){var l=a.get(i);i--,n.setBoolean(s,n.getHeight()-11+c,l),n.setBoolean(n.getHeight()-11+c,s,l)}}},r.embedDataBits=function(e,n,a){for(var i=0,s=-1,c=a.getWidth()-1,l=a.getHeight()-1;c>0;){for(c===6&&(c-=1);l>=0&&l<a.getHeight();){for(var u=0;u<2;++u){var o=c-u;if(r.isEmpty(a.get(o,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,n!==255&&L0.getDataMaskBit(n,o,l)&&(d=!d),a.setBoolean(o,l,d)}}l+=s}s=-s,l+=s,c-=2}if(i!==e.getSize())throw new fo("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Si.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,n){if(n===0)throw new Ba("0 polynomial");var a=r.findMSBSet(n);for(e<<=a-1;r.findMSBSet(e)>=a;)e^=n<<r.findMSBSet(e)-a;return e},r.makeTypeInfoBits=function(e,n,a){if(!F4.isValidMaskPattern(n))throw new fo("Invalid mask pattern");var i=e.getBits()<<3|n;a.appendBits(i,5);var s=r.calculateBCHCode(i,r.TYPE_INFO_POLY);a.appendBits(s,10);var c=new xc;if(c.appendBits(r.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new fo("should not happen but we got: "+a.getSize())},r.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var a=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new fo("should not happen but we got: "+n.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var a=(n+1)%2;r.isEmpty(e.get(n,6))&&e.setNumber(n,6,a),r.isEmpty(e.get(6,n))&&e.setNumber(6,n,a)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new fo;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,n,a){for(var i=0;i<8;++i){if(!r.isEmpty(a.get(e+i,n)))throw new fo;a.setNumber(e+i,n,0)}},r.embedVerticalSeparationPattern=function(e,n,a){for(var i=0;i<7;++i){if(!r.isEmpty(a.get(e,n+i)))throw new fo;a.setNumber(e,n+i,0)}},r.embedPositionAdjustmentPattern=function(e,n,a){for(var i=0;i<5;++i)for(var s=r.POSITION_ADJUSTMENT_PATTERN[i],c=0;c<5;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPattern=function(e,n,a){for(var i=0;i<7;++i)for(var s=r.POSITION_DETECTION_PATTERN[i],c=0;c<7;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPatternsAndSeparators=function(e){var n=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-n,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-n,e);var a=8;r.embedHorizontalSeparationPattern(0,a-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-a,a-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-a,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var a=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a],s=0,c=i.length;s!==c;s++){var l=i[s];if(l>=0)for(var u=0;u!==c;u++){var o=i[u];o>=0&&r.isEmpty(n.get(o,l))&&r.embedPositionAdjustmentPattern(o-2,l-2,n)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),Gse=(function(){function r(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),O_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return L0.applyMaskPenaltyRule1(e)+L0.applyMaskPenaltyRule2(e)+L0.applyMaskPenaltyRule3(e)+L0.applyMaskPenaltyRule4(e)},r.encode=function(e,n,a){a===void 0&&(a=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,s=a!==null&&a.get(ev.CHARACTER_SET)!==void 0;s&&(i=a.get(ev.CHARACTER_SET).toString());var c=this.chooseMode(e,i),l=new xc;if(c===po.BYTE&&(s||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Vl.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,l)}this.appendModeInfo(c,l);var o=new xc;this.appendBytes(e,c,o,i);var d;if(a!==null&&a.get(ev.QR_VERSION)!==void 0){var h=Number.parseInt(a.get(ev.QR_VERSION).toString(),10);d=tp.getVersionForNumber(h);var A=this.calculateBitsNeeded(c,l,o,d);if(!this.willFit(A,d,n))throw new fo("Data too big for requested version")}else d=this.recommendVersion(n,c,l,o);var f=new xc;f.appendBitArray(l);var g=c===po.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(g,d,c,f),f.appendBitArray(o);var m=d.getECBlocksForLevel(n),x=d.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,f);var y=this.interleaveWithECBytes(f,d.getTotalCodewords(),x,m.getNumBlocks()),b=new F4;b.setECLevel(n),b.setMode(c),b.setVersion(d);var w=d.getDimensionForVersion(),N=new zse(w,w),S=this.chooseMaskPattern(y,n,d,N);return b.setMaskPattern(S),__.buildMatrix(y,n,d,S,N),b.setMatrix(N),b},r.recommendVersion=function(e,n,a,i){var s=this.calculateBitsNeeded(n,a,i,tp.getVersionForNumber(1)),c=this.chooseVersion(s,e),l=this.calculateBitsNeeded(n,a,i,c);return this.chooseVersion(l,e)},r.calculateBitsNeeded=function(e,n,a,i){return n.getSize()+e.getCharacterCountBits(i)+a.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,n){if(n===void 0&&(n=null),Vl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return po.KANJI;for(var a=!1,i=!1,s=0,c=e.length;s<c;++s){var l=e.charAt(s);if(r.isDigit(l))a=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return po.BYTE}return i?po.ALPHANUMERIC:a?po.NUMERIC:po.BYTE},r.isOnlyDoubleByteKanji=function(e){var n;try{n=Ud.encode(e,Vl.SJIS)}catch{return!1}var a=n.length;if(a%2!==0)return!1;for(var i=0;i<a;i+=2){var s=n[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},r.chooseMaskPattern=function(e,n,a,i){for(var s=Number.MAX_SAFE_INTEGER,c=-1,l=0;l<F4.NUM_MASK_PATTERNS;l++){__.buildMatrix(e,n,a,l,i);var u=this.calculateMaskPenalty(i);u<s&&(s=u,c=l)}return c},r.chooseVersion=function(e,n){for(var a=1;a<=40;a++){var i=tp.getVersionForNumber(a);if(r.willFit(e,i,n))return i}throw new fo("Data too big")},r.willFit=function(e,n,a){var i=n.getTotalCodewords(),s=n.getECBlocksForLevel(a),c=s.getTotalECCodewords(),l=i-c,u=(e+7)/8;return l>=u},r.terminateBits=function(e,n){var a=e*8;if(n.getSize()>a)throw new fo("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(var i=0;i<4&&n.getSize()<a;++i)n.appendBit(!1);var s=n.getSize()&7;if(s>0)for(var i=s;i<8;i++)n.appendBit(!1);for(var c=e-n.getSizeInBytes(),i=0;i<c;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==a)throw new fo("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,n,a,i,s,c){if(i>=a)throw new fo("Block ID too large");var l=e%a,u=a-l,o=Math.floor(e/a),d=o+1,h=Math.floor(n/a),A=h+1,f=o-h,g=d-A;if(f!==g)throw new fo("EC bytes mismatch");if(a!==u+l)throw new fo("RS blocks mismatch");if(e!==(h+f)*u+(A+g)*l)throw new fo("Total bytes mismatch");i<u?(s[0]=h,c[0]=f):(s[0]=A,c[0]=g)},r.interleaveWithECBytes=function(e,n,a,i){var s,c,l,u;if(e.getSizeInBytes()!==a)throw new fo("Number of bits and data bytes does not match");for(var o=0,d=0,h=0,A=new Array,f=0;f<i;++f){var g=new Int32Array(1),m=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(n,a,i,f,g,m);var x=g[0],y=new Uint8Array(x);e.toBytes(8*o,y,0,x);var b=r.generateECBytes(y,m[0]);A.push(new Gse(y,b)),d=Math.max(d,x),h=Math.max(h,b.length),o+=g[0]}if(a!==o)throw new fo("Data bytes does not match offset");for(var w=new xc,f=0;f<d;++f)try{for(var N=(s=void 0,O_(A)),S=N.next();!S.done;S=N.next()){var j=S.value,y=j.getDataBytes();f<y.length&&w.appendBits(y[f],8)}}catch(ee){s={error:ee}}finally{try{S&&!S.done&&(c=N.return)&&c.call(N)}finally{if(s)throw s.error}}for(var f=0;f<h;++f)try{for(var _=(l=void 0,O_(A)),k=_.next();!k.done;k=_.next()){var j=k.value,b=j.getErrorCorrectionBytes();f<b.length&&w.appendBits(b[f],8)}}catch(ee){l={error:ee}}finally{try{k&&!k.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(n!==w.getSizeInBytes())throw new fo("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},r.generateECBytes=function(e,n){for(var a=e.length,i=new Int32Array(a+n),s=0;s<a;s++)i[s]=e[s]&255;new JF(Fu.QR_CODE_FIELD_256).encode(i,n);for(var c=new Uint8Array(n),s=0;s<n;s++)c[s]=i[a+s];return c},r.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,n,a,i){var s=a.getCharacterCountBits(n);if(e>=1<<s)throw new fo(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},r.appendBytes=function(e,n,a,i){switch(n){case po.NUMERIC:r.appendNumericBytes(e,a);break;case po.ALPHANUMERIC:r.appendAlphanumericBytes(e,a);break;case po.BYTE:r.append8BitBytes(e,a,i);break;case po.KANJI:r.appendKanjiBytes(e,a);break;default:throw new fo("Invalid mode: "+n)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var n=r.getDigit(e);return n>=0&&n<=9},r.appendNumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getDigit(e.charAt(i));if(i+2<a){var c=r.getDigit(e.charAt(i+1)),l=r.getDigit(e.charAt(i+2));n.appendBits(s*100+c*10+l,10),i+=3}else if(i+1<a){var c=r.getDigit(e.charAt(i+1));n.appendBits(s*10+c,7),i+=2}else n.appendBits(s,4),i++}},r.appendAlphanumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new fo;if(i+1<a){var c=r.getAlphanumericCode(e.charCodeAt(i+1));if(c===-1)throw new fo;n.appendBits(s*45+c,11),i+=2}else n.appendBits(s,6),i++}},r.append8BitBytes=function(e,n,a){var i;try{i=Ud.encode(e,a)}catch(u){throw new fo(u)}for(var s=0,c=i.length;s!==c;s++){var l=i[s];n.appendBits(l,8)}},r.appendKanjiBytes=function(e,n){var a;try{a=Ud.encode(e,Vl.SJIS)}catch(h){throw new fo(h)}for(var i=a.length,s=0;s<i;s+=2){var c=a[s]&255,l=a[s+1]&255,u=c<<8&4294967295|l,o=-1;if(u>=33088&&u<=40956?o=u-33088:u>=57408&&u<=60351&&(o=u-49472),o===-1)throw new fo("Invalid byte sequence");var d=(o>>8)*192+(o&255);n.appendBits(d,13)}},r.appendECI=function(e,n){n.appendBits(po.ECI.getBits(),4),n.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Vl.UTF8.getName(),r})();var qse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){qse(e,r);function e(n,a,i,s,c,l,u,o){var d=r.call(this,l,u)||this;if(d.yuvData=n,d.dataWidth=a,d.dataHeight=i,d.left=s,d.top=c,s+l>a||c+u>i)throw new Ba("Crop rectangle does not fit within image data.");return o&&d.reverseHorizontal(l,u),d}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return ao.arraycopy(this.yuvData,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return ao.arraycopy(this.yuvData,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;ao.arraycopy(this.yuvData,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,i,s,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*a),s=this.yuvData,c=this.top*this.dataWidth+this.left,l=0;l<a;l++){for(var u=l*n,o=0;o<n;o++){var d=s[c+o*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+o]=4278190080|d*65793}c+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,a){for(var i=this.yuvData,s=0,c=this.top*this.dataWidth+this.left;s<a;s++,c+=this.dataWidth)for(var l=c+n/2,u=c,o=c+n-1;u<l;u++,o--){var d=i[u];i[u]=i[o],i[o]=d}},e.prototype.invert=function(){return new sx(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Gg);var Xse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Xse(e,r);function e(n,a,i,s,c,l,u){var o=r.call(this,a,i)||this;if(o.dataWidth=s,o.dataHeight=c,o.left=l,o.top=u,n.BYTES_PER_ELEMENT===4){for(var d=a*i,h=new Uint8ClampedArray(d),A=0;A<d;A++){var f=n[A],g=f>>16&255,m=f>>7&510,x=f&255;h[A]=(g+m+x)/4&255}o.luminances=h}else o.luminances=n;if(s===void 0&&(o.dataWidth=a),c===void 0&&(o.dataHeight=i),l===void 0&&(o.left=0),u===void 0&&(o.top=0),o.left+a>o.dataWidth||o.top+i>o.dataHeight)throw new Ba("Crop rectangle does not fit within image data.");return o}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return ao.arraycopy(this.luminances,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return ao.arraycopy(this.luminances,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;ao.arraycopy(this.luminances,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+n,this.top+a)},e.prototype.invert=function(){return new sx(this)},e})(Gg);var Yse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zse=(function(r){Yse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Vl),Jse=(function(){function r(){}return r.ISO_8859_1=Vl.ISO8859_1,r})(),D4,eoe=301,toe=function(r,e){for(var n=1,a=0;a<255;a++)e[a]=n,r[n]=a,n*=2,n>=256&&(n^=eoe);return{LOG:r,ALOG:e}};D4=toe([],[]),D4.LOG;D4.ALOG;var k_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(k_||(k_={}));var P_=129,eD=230,roe=231,noe=235,aoe=236,ioe=237,soe=238,ooe=239,loe=240,qj=254,coe=254,F_="[)>05",D_="[)>06",M_="",_s=0,Fc=1,gu=2,Ql=3,mc=4,Xc=5,uoe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return _s},r.prototype.encode=function(e){var n=ch.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var a=e.getCurrentChar(),i=ch.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Xc:e.writeCodeword(roe),e.signalEncoderChange(Xc);return;case Fc:e.writeCodeword(eD),e.signalEncoderChange(Fc);return;case Ql:e.writeCodeword(soe),e.signalEncoderChange(Ql);break;case gu:e.writeCodeword(ooe),e.signalEncoderChange(gu);break;case mc:e.writeCodeword(loe),e.signalEncoderChange(mc);break;default:throw new Error("Illegal mode: "+i)}else ch.isExtendedASCII(a)?(e.writeCodeword(noe),e.writeCodeword(a-128+1),e.pos++):(e.writeCodeword(a+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,n){if(ch.isDigit(e)&&ch.isDigit(n)){var a=(e-48)*10+(n-48);return a+130}throw new Error("not digits: "+e+n)},r})(),doe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Xc},r.prototype.encode=function(e){var n=new wi;for(n.append(0);e.hasMoreCharacters();){var a=e.getCurrentChar();n.append(a),e.pos++;var i=ch.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(_s);break}}var s=n.length()-1,c=1,l=e.getCodewordCount()+s+c;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||u)if(s<=249)n.setCharAt(0,qi.getCharAt(s));else if(s<=1555)n.setCharAt(0,qi.getCharAt(Math.floor(s/250)+249)),n.insert(1,qi.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var o=0,a=n.length();o<a;o++)e.writeCodeword(this.randomize255State(n.charAt(o).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,n){var a=149*n%255+1,i=e+a;return i<=255?i:i-256},r})(),aS=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Fc},r.prototype.encodeMaximal=function(e){for(var n=new wi,a=0,i=e.pos,s=0;e.hasMoreCharacters();){var c=e.getCurrentChar();e.pos++,a=this.encodeChar(c,n),n.length()%3===0&&(i=e.pos,s=n.length())}if(s!==n.length()){var l=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(u);var o=e.getSymbolInfo().getDataCapacity()-u,d=Math.floor(n.length()%3);(d===2&&o!==2||d===1&&(a>3||o!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(eD),this.handleEOD(e,n)},r.prototype.encode=function(e){for(var n=new wi;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++;var i=this.encodeChar(a,n),s=Math.floor(n.length()/3)*2,c=e.getCodewordCount()+s;e.updateSymbolInfo(c);var l=e.getSymbolInfo().getDataCapacity()-c;if(!e.hasMoreCharacters()){var u=new wi;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,u,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,u,i);break}var o=n.length();if(o%3===0){var d=ch.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(_s);break}}}this.handleEOD(e,n)},r.prototype.backtrackOneCharacter=function(e,n,a,i){var s=n.length(),c=n.toString().substring(0,s-i);n.setLengthToZero(),n.append(c),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,a),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(3);n.setLengthToZero(),n.append(a)},r.prototype.handleEOD=function(e,n){var a=Math.floor(n.length()/3*2),i=n.length()%3,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(qj)}else if(c===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(qj),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(c>0||e.hasMoreCharacters())&&e.writeCodeword(qj)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(_s)},r.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var a=2;return a+=this.encodeChar(e-128,n),a},r.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,a=n/256,i=n%256,s=new wi;return s.append(a),s.append(i),s.toString()},r})(),hoe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return mc},r.prototype.encode=function(e){for(var n=new wi;e.hasMoreCharacters();){var a=e.getCurrentChar();this.encodeChar(a,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var s=n.toString().substring(4);n.setLengthToZero(),n.append(s);var c=ch.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(_s);break}}}n.append(qi.getCharAt(31)),this.handleEOD(e,n)},r.prototype.handleEOD=function(e,n){try{var a=n.length();if(a===0)return;if(a===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(a>4)throw new Error("Count must not exceed 4");var c=a-1,l=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),o=u&&c<=2;if(c<=2){e.updateSymbolInfo(e.getCodewordCount()+c);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(o=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}o?(e.resetSymbolInfo(),e.pos-=c):e.writeCodewords(l)}finally{e.signalEncoderChange(_s)}},r.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(qi.getCharAt(e-64)):ch.illegalCharacter(qi.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var a=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,s=n>=3?e.charAt(2).charCodeAt(0):0,c=n>=4?e.charAt(3).charCodeAt(0):0,l=(a<<18)+(i<<12)+(s<<6)+c,u=l>>16&255,o=l>>8&255,d=l&255,h=new wi;return h.append(u),n>=2&&h.append(o),n>=3&&h.append(d),h.toString()},r})(),Aoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),foe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ps=(function(){function r(e,n,a,i,s,c,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=a,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=c,this.rsBlockData=l,this.rsBlockError=u}return r.lookup=function(e,n,a,i,s){var c,l;n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var u=foe(moe),o=u.next();!o.done;o=u.next()){var d=o.value;if(!(n===1&&d.rectangular)&&!(n===2&&!d.rectangular)&&!(a!=null&&(d.getSymbolWidth()<a.getWidth()||d.getSymbolHeight()<a.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(h){c={error:h}}finally{try{o&&!o.done&&(l=u.return)&&l.call(u)}finally{if(c)throw c.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),poe=(function(r){Aoe(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(ps),moe=[new ps(!1,3,5,8,8,1),new ps(!1,5,7,10,10,1),new ps(!0,5,7,16,6,1),new ps(!1,8,10,12,12,1),new ps(!0,10,11,14,6,2),new ps(!1,12,12,14,14,1),new ps(!0,16,14,24,10,1),new ps(!1,18,14,16,16,1),new ps(!1,22,18,18,18,1),new ps(!0,22,18,16,10,2),new ps(!1,30,20,20,20,1),new ps(!0,32,24,16,14,2),new ps(!1,36,24,22,22,1),new ps(!1,44,28,24,24,1),new ps(!0,49,28,22,14,2),new ps(!1,62,36,14,14,4),new ps(!1,86,42,16,16,4),new ps(!1,114,48,18,18,4),new ps(!1,144,56,20,20,4),new ps(!1,174,68,22,22,4),new ps(!1,204,84,24,24,4,102,42),new ps(!1,280,112,14,14,16,140,56),new ps(!1,368,144,16,16,16,92,36),new ps(!1,456,192,18,18,16,114,48),new ps(!1,576,224,20,20,16,144,56),new ps(!1,696,272,22,22,16,174,68),new ps(!1,816,336,24,24,16,136,56),new ps(!1,1050,408,18,18,36,175,68),new ps(!1,1304,496,20,20,36,163,62),new poe],goe=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),a=new wi,i=0,s=n.length;i<s;i++){var c=String.fromCharCode(n[i]&255);if(c==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");a.append(c)}this.msg=a.toString(),this.shape=0,this.codewords=new wi,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ps.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),voe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xoe=(function(r){voe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ql},e.prototype.encode=function(n){for(var a=new wi;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,a);var s=a.length();if(s%3===0){this.writeNextTriplet(n,a);var c=ch.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){n.signalEncoderChange(_s);break}}}this.handleEOD(n,a)},e.prototype.encodeChar=function(n,a){switch(n){case 13:a.append(0);break;case 42:a.append(1);break;case 62:a.append(2);break;case 32:a.append(3);break;default:n>=48&&n<=57?a.append(n-48+4):n>=65&&n<=90?a.append(n-65+14):ch.illegalCharacter(qi.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,a){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),s=a.length();n.pos-=s,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(coe),n.getNewEncoding()<0&&n.signalEncoderChange(_s)},e})(aS),yoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),boe=(function(r){yoe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return gu},e.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=97&&n<=122)return a.append(n-97+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n>=91&&n<=95)return a.append(1),a.append(n-91+22),2;if(n===96)return a.append(2),a.append(0),2;if(n<=90)return a.append(2),a.append(n-65+1),2;if(n<=127)return a.append(2),a.append(n-123+27),2;a.append("1");var i=2;return i+=this.encodeChar(n-128,a),i},e})(aS),ch=(function(){function r(){}return r.randomize253State=function(e){var n=149*e%253+1,a=P_+n;return a<=254?a:a-254},r.encodeHighLevel=function(e,n,a,i,s){n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!1);var c=new aS,l=[new uoe,c,new boe,new xoe,new hoe,new doe],u=new goe(e);u.setSymbolShape(n),u.setSizeConstraints(a,i),e.startsWith(F_)&&e.endsWith(M_)?(u.writeCodeword(aoe),u.setSkipAtEnd(2),u.pos+=F_.length):e.startsWith(D_)&&e.endsWith(M_)&&(u.writeCodeword(ioe),u.setSkipAtEnd(2),u.pos+=D_.length);var o=_s;for(s&&(c.encodeMaximal(u),o=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)l[o].encode(u),u.getNewEncoding()>=0&&(o=u.getNewEncoding(),u.resetEncoderSignal());var d=u.getCodewordCount();u.updateSymbolInfo();var h=u.getSymbolInfo().getDataCapacity();d<h&&o!==_s&&o!==Xc&&o!==mc&&u.writeCodeword("");var A=u.getCodewords();for(A.length()<h&&A.append(P_);A.length()<h;)A.append(this.randomize253State(A.length()+1));return u.getCodewords().toString()},r.lookAheadTest=function(e,n,a){var i=this.lookAheadTestIntern(e,n,a);if(a===Ql&&i===Ql){for(var s=Math.min(n+3,e.length),c=n;c<s;c++)if(!this.isNativeX12(e.charCodeAt(c)))return _s}else if(a===mc&&i===mc){for(var s=Math.min(n+4,e.length),c=n;c<s;c++)if(!this.isNativeEDIFACT(e.charCodeAt(c)))return _s}return i},r.lookAheadTestIntern=function(e,n,a){if(n>=e.length)return a;var i;a===_s?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[a]=0);for(var s=0,c=new Uint8Array(6),l=[];;){if(n+s===e.length){Kl.fill(c,0),Kl.fill(l,0);var u=this.findMinimums(i,l,Si.MAX_VALUE,c),o=this.getMinimumCount(c);if(l[_s]===u)return _s;if(o===1){if(c[Xc]>0)return Xc;if(c[mc]>0)return mc;if(c[gu]>0)return gu;if(c[Ql]>0)return Ql}return Fc}var d=e.charCodeAt(n+s);if(s++,this.isDigit(d)?i[_s]+=.5:this.isExtendedASCII(d)?(i[_s]=Math.ceil(i[_s]),i[_s]+=2):(i[_s]=Math.ceil(i[_s]),i[_s]++),this.isNativeC40(d)?i[Fc]+=2/3:this.isExtendedASCII(d)?i[Fc]+=8/3:i[Fc]+=4/3,this.isNativeText(d)?i[gu]+=2/3:this.isExtendedASCII(d)?i[gu]+=8/3:i[gu]+=4/3,this.isNativeX12(d)?i[Ql]+=2/3:this.isExtendedASCII(d)?i[Ql]+=13/3:i[Ql]+=10/3,this.isNativeEDIFACT(d)?i[mc]+=3/4:this.isExtendedASCII(d)?i[mc]+=17/4:i[mc]+=13/4,this.isSpecialB256(d)?i[Xc]+=4:i[Xc]++,s>=4){if(Kl.fill(c,0),Kl.fill(l,0),this.findMinimums(i,l,Si.MAX_VALUE,c),l[_s]<this.min(l[Xc],l[Fc],l[gu],l[Ql],l[mc]))return _s;if(l[Xc]<l[_s]||l[Xc]+1<this.min(l[Fc],l[gu],l[Ql],l[mc]))return Xc;if(l[mc]+1<this.min(l[Xc],l[Fc],l[gu],l[Ql],l[_s]))return mc;if(l[gu]+1<this.min(l[Xc],l[Fc],l[mc],l[Ql],l[_s]))return gu;if(l[Ql]+1<this.min(l[Xc],l[Fc],l[mc],l[gu],l[_s]))return Ql;if(l[Fc]+1<this.min(l[_s],l[Xc],l[mc],l[gu])){if(l[Fc]<l[Ql])return Fc;if(l[Fc]===l[Ql]){for(var h=n+s+1;h<e.length;){var A=e.charCodeAt(h);if(this.isX12TermSep(A))return Ql;if(!this.isNativeX12(A))break;h++}return Fc}}}}},r.min=function(e,n,a,i,s){var c=Math.min(e,Math.min(n,Math.min(a,i)));return s===void 0?c:Math.min(c,s)},r.findMinimums=function(e,n,a,i){for(var s=0;s<6;s++){var c=n[s]=Math.ceil(e[s]);a>c&&(a=c,Kl.fill(i,0)),a===c&&(i[s]=i[s]+1)}return a},r.getMinimumCount=function(e){for(var n=0,a=0;a<6;a++)n+=e[a];return n||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var a=e.length,i=n;i<a&&this.isDigit(e.charCodeAt(i));)i++;return i-n},r.illegalCharacter=function(e){var n=Si.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},r})(),Xj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R_=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Ud.encode(e,this.charset)!=null}catch{return!1}},r})(),woe=(function(){function r(e,n,a){var i,s,c,l,u,o;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(Z){return new R_(Zse.forName(Z))}),this.encoders=[];var d=[];d.push(new R_(Jse.ISO_8859_1));for(var h=n!=null&&n.name.startsWith("UTF"),A=0;A<e.length;A++){var f=!1;try{for(var g=(i=void 0,Xj(d)),m=g.next();!m.done;m=g.next()){var x=m.value,y=e.charAt(A),b=y.charCodeAt(0);if(b===a||x.canEncode(y)){f=!0;break}}}catch(Z){i={error:Z}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!f)try{for(var w=(c=void 0,Xj(this.ENCODERS)),N=w.next();!N.done;N=w.next()){var x=N.value;if(x.canEncode(e.charAt(A))){d.push(x),f=!0;break}}}catch(Z){c={error:Z}}finally{try{N&&!N.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}f||(h=!0)}if(d.length===1&&!h)this.encoders=[d[0]];else{this.encoders=[];var S=0;try{for(var j=Xj(d),_=j.next();!_.done;_=j.next()){var x=_.value;this.encoders[S++]=x}}catch(Z){u={error:Z}}finally{try{_&&!_.done&&(o=j.return)&&o.call(j)}finally{if(u)throw u.error}}}var k=-1;if(n!=null){for(var A=0;A<this.encoders.length;A++)if(this.encoders[A]!=null&&n.name===this.encoders[A].name){k=A;break}}this.priorityEncoderIndex=k}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Ud.encode(qi.getCharAt(e),this.encoders[n].name)},r})(),joe=3,Coe=(function(){function r(e,n,a){this.fnc1=a;var i=new woe(e,n,a);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var c=e.charAt(s).charCodeAt(0);this.bytes[s]=c===a?1e3:c}else this.bytes=this.encodeMinimally(e,i,a)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var a=0;a<n;a++)if(this.isECI(e+a))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var a=new wi,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");a.append(this.charAt(i))}return a.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,n,a){(e[n][a.encoderIndex]==null||e[n][a.encoderIndex].cachedTotalSize>a.cachedTotalSize)&&(e[n][a.encoderIndex]=a)},r.prototype.addEdges=function(e,n,a,i,s,c){var l=e.charAt(i).charCodeAt(0),u=0,o=n.length();n.getPriorityEncoderIndex()>=0&&(l===c||n.canEncode(l,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),o=u+1);for(var d=u;d<o;d++)(l===c||n.canEncode(l,d))&&this.addEdge(a,i+1,new L_(l,n,d,s,c))},r.prototype.encodeMinimally=function(e,n,a){var i=e.length,s=new L_[i+1][n.length()];this.addEdges(e,n,s,0,null,a);for(var c=1;c<=i;c++){for(var l=0;l<n.length();l++)s[c][l]!=null&&c<i&&this.addEdges(e,n,s,c,s[c][l],a);for(var l=0;l<n.length();l++)s[c-1][l]=null}for(var u=-1,o=Si.MAX_VALUE,l=0;l<n.length();l++)if(s[i][l]!=null){var d=s[i][l];d.cachedTotalSize<o&&(o=d.cachedTotalSize,u=l)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],A=s[i][u];A!=null;){if(A.isFNC1())h.unshift(1e3);else for(var f=n.encode(A.c,A.encoderIndex),c=f.length-1;c>=0;c--)h.unshift(f[c]&255);var g=A.previous===null?0:A.previous.encoderIndex;g!==A.encoderIndex&&h.unshift(256+n.getECIValue(A.encoderIndex)),A=A.previous}for(var m=[],c=0;c<m.length;c++)m[c]=h[c];return m},r})(),L_=(function(){function r(e,n,a,i,s){this.c=e,this.encoderSet=n,this.encoderIndex=a,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var c=this.isFNC1()?1:n.encode(e,a).length,l=i===null?0:i.encoderIndex;l!==a&&(c+=joe),i!=null&&(c+=i.cachedTotalSize),this.cachedTotalSize=c}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),Noe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();var U_;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(U_||(U_={}));(function(r){Noe(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a,i)||this;return l.shape=s,l.macroId=c,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Coe);var Soe=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),H_=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,n){return e.sort(n)[0]},r})(),Boe=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),Eoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),iS=(function(r){Eoe(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.value=a,s.bitCount=i,s}return e.prototype.appendTo=function(n,a){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,a){return new e(this,n,a)},e.prototype.addBinaryShift=function(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,a)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Si.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(Boe),Ioe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Toe=(function(r){Ioe(e,r);function e(n,a,i){var s=r.call(this,n,0,0)||this;return s.binaryShiftStart=a,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(n,a){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,a){return new e(this,n,a)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(iS);function _oe(r,e,n){return new Toe(r,e,n)}function S0(r,e,n){return new iS(r,e,n)}var Ooe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sf=0,m2=1,Ld=2,tD=3,Eh=4,koe=new iS(null,0,0),Yj=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Poe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Foe(r){var e,n;try{for(var a=Poe(r),i=a.next();!i.done;i=a.next()){var s=i.value;Kl.fill(s,-1)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r[sf][Eh]=0,r[m2][Eh]=0,r[m2][sf]=28,r[tD][Eh]=0,r[Ld][Eh]=0,r[Ld][sf]=15,r}var rD=Foe(Kl.createInt32Array(6,6)),Doe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Moe=(function(){function r(e,n,a,i){this.token=e,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,n){var a=this.bitCount,i=this.token;if(e!==this.mode){var s=Yj[this.mode][e];i=S0(i,s&65535,s>>16),a+=s>>16}var c=e===Ld?4:5;return i=S0(i,n,c),new r(i,e,0,a+c)},r.prototype.shiftAndAppend=function(e,n){var a=this.token,i=this.mode===Ld?4:5;return a=S0(a,rD[this.mode][e],i),a=S0(a,n,5),new r(a,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var n=this.token,a=this.mode,i=this.bitCount;if(this.mode===Eh||this.mode===Ld){var s=Yj[a][sf];n=S0(n,s&65535,s>>16),i+=s>>16,a=sf}var c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new r(n,a,this.binaryShiftByteCount+1,i+c);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=_oe(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(n,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(Yj[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},r.prototype.toBitArray=function(e){for(var n,a,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var c=new xc;try{for(var l=Doe(i),u=l.next();!u.done;u=l.next()){var o=u.value;o.appendTo(c,e)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r.prototype.toString=function(){return qi.format("%s bits=%d bytes=%d",Ooe[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(koe,sf,0,0),r})();function Roe(r){var e=qi.getCharCode(" "),n=qi.getCharCode("."),a=qi.getCharCode(",");r[sf][e]=1;for(var i=qi.getCharCode("Z"),s=qi.getCharCode("A"),c=s;c<=i;c++)r[sf][c]=c-s+2;r[m2][e]=1;for(var l=qi.getCharCode("z"),u=qi.getCharCode("a"),c=u;c<=l;c++)r[m2][c]=c-u+2;r[Ld][e]=1;for(var o=qi.getCharCode("9"),d=qi.getCharCode("0"),c=d;c<=o;c++)r[Ld][c]=c-d+2;r[Ld][a]=12,r[Ld][n]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],A=0;A<h.length;A++)r[tD][qi.getCharCode(h[A])]=A;for(var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],A=0;A<f.length;A++)qi.getCharCode(f[A])>0&&(r[Eh][qi.getCharCode(f[A])]=A);return r}var Zj=Roe(Kl.createInt32Array(5,256)),tv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Loe=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=qi.getCharCode(" "),n=qi.getCharCode(`
`),a=H_.singletonList(Moe.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,c=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case qi.getCharCode("\r"):s=c===n?2:0;break;case qi.getCharCode("."):s=c===e?3:0;break;case qi.getCharCode(","):s=c===e?4:0;break;case qi.getCharCode(":"):s=c===e?5:0;break;default:s=0}s>0?(a=r.updateStateListForPair(a,i,s),i++):a=this.updateStateListForChar(a,i)}var l=H_.min(a,function(u,o){return u.getBitCount()-o.getBitCount()});return l.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,n){var a,i,s=[];try{for(var c=tv(e),l=c.next();!l.done;l=c.next()){var u=l.value;this.updateStateForChar(u,n,s)}}catch(o){a={error:o}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return r.simplifyStates(s)},r.prototype.updateStateForChar=function(e,n,a){for(var i=this.text[n]&255,s=Zj[e.getMode()][i]>0,c=null,l=0;l<=Eh;l++){var u=Zj[l][i];if(u>0){if(c==null&&(c=e.endBinaryShift(n)),!s||l===e.getMode()||l===Ld){var o=c.latchAndAppend(l,u);a.push(o)}if(!s&&rD[e.getMode()][l]>=0){var d=c.shiftAndAppend(l,u);a.push(d)}}}if(e.getBinaryShiftByteCount()>0||Zj[e.getMode()][i]===0){var h=e.addBinaryShiftChar(n);a.push(h)}},r.updateStateListForPair=function(e,n,a){var i,s,c=[];try{for(var l=tv(e),u=l.next();!u.done;u=l.next()){var o=u.value;this.updateStateForPair(o,n,a,c)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(c)},r.updateStateForPair=function(e,n,a,i){var s=e.endBinaryShift(n);if(i.push(s.latchAndAppend(Eh,a)),e.getMode()!==Eh&&i.push(s.shiftAndAppend(Eh,a)),a===3||a===4){var c=s.latchAndAppend(Ld,16-a).latchAndAppend(Ld,1);i.push(c)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},r.simplifyStates=function(e){var n,a,i,s,c=[];try{for(var l=tv(e),u=l.next();!u.done;u=l.next()){var o=u.value,d=!0,h=function(x){if(x.isBetterThanOrEqualTo(o))return d=!1,"break";o.isBetterThanOrEqualTo(x)&&(c=c.filter(function(y){return y!==x}))};try{for(var A=(i=void 0,tv(c)),f=A.next();!f.done;f=A.next()){var g=f.value,m=h(g);if(m==="break")break}}catch(x){i={error:x}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}d&&c.push(o)}}catch(x){n={error:x}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r})(),Uoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,n,a){var i=new Loe(e).encode(),s=Si.truncDivision(i.getSize()*n,100)+11,c=i.getSize()+s,l,u,o,d,h;if(a!==r.DEFAULT_AZTEC_LAYERS){if(l=a<0,u=Math.abs(a),u>(l?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ba(qi.format("Illegal value %s for layers",a));o=r.totalBitsInLayer(u,l),d=r.WORD_SIZE[u];var A=o-o%d;if(h=r.stuffBits(i,d),h.getSize()+s>A)throw new Ba("Data to large for user specified layer");if(l&&h.getSize()>d*64)throw new Ba("Data to large for user specified layer")}else{d=0,h=null;for(var f=0;;f++){if(f>r.MAX_NB_BITS)throw new Ba("Data too large for an Aztec code");if(l=f<=3,u=l?f+1:f,o=r.totalBitsInLayer(u,l),!(c>o)){(h==null||d!==r.WORD_SIZE[u])&&(d=r.WORD_SIZE[u],h=r.stuffBits(i,d));var A=o-o%d;if(!(l&&h.getSize()>d*64)&&h.getSize()+s<=A)break}}}var g=r.generateCheckWords(h,o,d),m=h.getSize()/d,x=r.generateModeMessage(l,u,m),y=(l?11:14)+u*4,b=new Int32Array(y),w;if(l){w=y;for(var f=0;f<b.length;f++)b[f]=f}else{w=y+1+2*Si.truncDivision(Si.truncDivision(y,2)-1,15);for(var N=Si.truncDivision(y,2),S=Si.truncDivision(w,2),f=0;f<N;f++){var j=f+Si.truncDivision(f,15);b[N-f-1]=S-j-1,b[N+f]=S+j+1}}for(var _=new kh(w),f=0,k=0;f<u;f++){for(var Z=(u-f)*4+(l?9:12),ee=0;ee<Z;ee++)for(var V=ee*2,re=0;re<2;re++)g.get(k+V+re)&&_.set(b[f*2+re],b[f*2+ee]),g.get(k+Z*2+V+re)&&_.set(b[f*2+ee],b[y-1-f*2-re]),g.get(k+Z*4+V+re)&&_.set(b[y-1-f*2-re],b[y-1-f*2-ee]),g.get(k+Z*6+V+re)&&_.set(b[y-1-f*2-ee],b[f*2+re]);k+=Z*8}if(r.drawModeMessage(_,l,w,x),l)r.drawBullsEye(_,Si.truncDivision(w,2),5);else{r.drawBullsEye(_,Si.truncDivision(w,2),7);for(var f=0,ee=0;f<Si.truncDivision(y,2)-1;f+=15,ee+=16)for(var re=Si.truncDivision(w,2)&1;re<w;re+=2)_.set(Si.truncDivision(w,2)-ee,re),_.set(Si.truncDivision(w,2)+ee,re),_.set(re,Si.truncDivision(w,2)-ee),_.set(re,Si.truncDivision(w,2)+ee)}var R=new Soe;return R.setCompact(l),R.setSize(w),R.setLayers(u),R.setCodeWords(m),R.setMatrix(_),R},r.drawBullsEye=function(e,n,a){for(var i=0;i<a;i+=2)for(var s=n-i;s<=n+i;s++)e.set(s,n-i),e.set(s,n+i),e.set(n-i,s),e.set(n+i,s);e.set(n-a,n-a),e.set(n-a+1,n-a),e.set(n-a,n-a+1),e.set(n+a,n-a),e.set(n+a,n-a+1),e.set(n+a,n+a-1)},r.generateModeMessage=function(e,n,a){var i=new xc;return e?(i.appendBits(n-1,2),i.appendBits(a-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(a-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,n,a,i){var s=Si.truncDivision(a,2);if(n)for(var c=0;c<7;c++){var l=s-3+c;i.get(c)&&e.set(l,s-5),i.get(c+7)&&e.set(s+5,l),i.get(20-c)&&e.set(l,s+5),i.get(27-c)&&e.set(s-5,l)}else for(var c=0;c<10;c++){var l=s-5+c+Si.truncDivision(c,5);i.get(c)&&e.set(l,s-7),i.get(c+10)&&e.set(s+7,l),i.get(29-c)&&e.set(l,s+7),i.get(39-c)&&e.set(s-7,l)}},r.generateCheckWords=function(e,n,a){var i,s,c=e.getSize()/a,l=new JF(r.getGF(a)),u=Si.truncDivision(n,a),o=r.bitsToWords(e,a,u);l.encode(o,u-c);var d=n%a,h=new xc;h.appendBits(0,d);try{for(var A=Uoe(Array.from(o)),f=A.next();!f.done;f=A.next()){var g=f.value;h.appendBits(g,a)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}return h},r.bitsToWords=function(e,n,a){var i=new Int32Array(a),s,c;for(s=0,c=e.getSize()/n;s<c;s++){for(var l=0,u=0;u<n;u++)l|=e.get(s*n+u)?1<<n-u-1:0;i[s]=l}return i},r.getGF=function(e){switch(e){case 4:return Fu.AZTEC_PARAM;case 6:return Fu.AZTEC_DATA_6;case 8:return Fu.AZTEC_DATA_8;case 10:return Fu.AZTEC_DATA_10;case 12:return Fu.AZTEC_DATA_12;default:throw new Ba("Unsupported word size "+e)}},r.stuffBits=function(e,n){for(var a=new xc,i=e.getSize(),s=(1<<n)-2,c=0;c<i;c+=n){for(var l=0,u=0;u<n;u++)(c+u>=i||e.get(c+u))&&(l|=1<<n-1-u);(l&s)===s?(a.appendBits(l&s,n),c--):(l&s)===0?(a.appendBits(l|1,n),c--):a.appendBits(l,n)}return a},r.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var Hoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Qoe=(function(r){Hoe(e,r);function e(n){var a=r.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(n),a}return e.makeBufferFromCanvasImageData=function(n){var a;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}if(!a)throw new Error("Couldn't get canvas context.");var i=a.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,a,i){for(var s=new Uint8ClampedArray(a*i),c=0,l=0,u=n.length;c<u;c+=4,l++){var o=void 0,d=n[c+3];if(d===0)o=255;else{var h=n[c],A=n[c+1],f=n[c+2];o=306*h+601*A+117*f+512>>10}s[l]=o}return s},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new sx(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement();if(!a)throw new Error("Could not create a Canvas element.");var i=n*e.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*c),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*c);a.width=l,a.height=u;var o=a.getContext("2d");if(!o)throw new Error("Could not create a Canvas Context element.");return o.translate(l/2,u/2),o.rotate(i),o.drawImage(this.canvas,s/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Gg);function nD(){return typeof navigator<"u"}function Woe(){return nD()&&!!navigator.mediaDevices}function $oe(){return!!(Woe()&&navigator.mediaDevices.enumerateDevices)}var Gp=function(){return Gp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Gp.apply(this,arguments)},Qo=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(d){try{o(a.next(d))}catch(h){c(h)}}function u(d){try{o(a.throw(d))}catch(h){c(h)}}function o(d){d.done?s(d.value):i(d.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},Wo=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(d){return u([o,d])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(d){o=[6,d],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Jj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Voe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Dm=(function(){function r(e,n,a){n===void 0&&(n=new Map),a===void 0&&(a={}),this.reader=e,this.hints=n,this.options=Gp(Gp({},Voe),a)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(io.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,n){return Qo(this,void 0,void 0,function(){return Wo(this,function(a){switch(a.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return a.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var n,a,i=e.getVideoTracks();try{for(var s=Jj(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(r.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new dl("element with id '".concat(e,"' not found"));if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new dl("element with id '".concat(e,"' must be an ").concat(n," element"));return a},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var n=r.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var n=new Qoe(e),a=new HF(n);return new UF(a)},r.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new dl("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),a=r.getMediaElementDimensions(e),i=a.width,s=a.height;return n.style.width=i+"px",n.style.height=s+"px",n.width=i,n.height=s,n},r.tryPlayVideo=function(e){return Qo(this,void 0,void 0,function(){var n;return Wo(this,function(a){switch(a.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.play()];case 2:return a.sent(),[2,!0];case 3:return n=a.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var n=r.createCaptureCanvas(e),a=n.getContext("2d");if(!a)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(a,e),n},r.createBinaryBitmapFromMediaElem=function(e){var n=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(n)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return Qo(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,d,h,A;return Wo(this,function(f){switch(f.label){case 0:if(!nD())throw new Error("Can't enumerate devices, navigator is not present.");if(!$oe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),n=[];try{for(a=Jj(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device ".concat(n.length+1),o=s.groupId,d={deviceId:l,label:u,kind:c,groupId:o},n.push(d))}catch(g){h={error:g}}finally{try{i&&!i.done&&(A=a.return)&&A.call(a)}finally{if(h)throw h.error}}return[2,n]}})})},r.findDeviceById=function(e){return Qo(this,void 0,void 0,function(){var n;return Wo(this,function(a){switch(a.label){case 0:return[4,r.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,n){return Qo(this,void 0,void 0,function(){var a;return Wo(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return a=i.sent(),a?[2,!0]:[2,new Promise(function(s,c){var l=setTimeout(function(){r.isVideoPlaying(e)||(c(!1),e.removeEventListener("canplay",u))},n),u=function(){r.tryPlayVideo(e).then(function(o){clearTimeout(l),e.removeEventListener("canplay",u),s(o)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,n,a){return a===void 0&&(a=5e3),Qo(this,void 0,void 0,function(){var i;return Wo(this,function(s){switch(s.label){case 0:return i=r.prepareVideoElement(n),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,a)];case 1:return s.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(n,a){var i=1e4,s=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",c),a())},i),c=function(){clearTimeout(s),e.removeEventListener("load",c),n()};e.addEventListener("load",c)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new dl("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},r.prototype.decode=function(e){var n=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var n=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},r.prototype.decodeFromImageElement=function(e){return Qo(this,void 0,void 0,function(){var n;return Wo(this,function(a){switch(a.label){case 0:if(!e)throw new dl("An image element must be provided.");return n=r.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return Qo(this,void 0,void 0,function(){var n;return Wo(this,function(a){switch(a.label){case 0:if(!e)throw new dl("An URL must be provided.");n=r.prepareImageElement(),n.src=e,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,a.sent()];case 3:return r.destroyImageElement(n),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return Qo(this,void 0,void 0,function(){var i,s;return Wo(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),[4,this.getUserMedia(e)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,a)];case 3:return[2,c.sent()];case 4:throw s=c.sent(),r.disposeMediaStream(i),s;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,n,a){return Qo(this,void 0,void 0,function(){var i,s,c,l,u,o,d,h,A,f=this;return Wo(this,function(g){switch(g.label){case 0:return r.checkCallbackFnOrThrow(a),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,n,i)];case 1:return s=g.sent(),c=function(){r.disposeMediaStream(e),r.cleanVideoSource(s)},l=this.scan(s,a,c),u=e.getVideoTracks(),o=Gp(Gp({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(m,x){return Qo(this,void 0,void 0,function(){var y,b,w,N,S,j,_;return Wo(this,function(k){switch(k.label){case 0:y=x?u.filter(x):u,k.label=1;case 1:k.trys.push([1,6,7,8]),b=Jj(y),w=b.next(),k.label=2;case 2:return w.done?[3,5]:(N=w.value,[4,N.applyConstraints(m)]);case 3:k.sent(),k.label=4;case 4:return w=b.next(),[3,2];case 5:return[3,8];case 6:return S=k.sent(),j={error:S},[3,8];case 7:try{w&&!w.done&&(_=b.return)&&_.call(b)}finally{if(j)throw j.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return u.find(m).getConstraints()},streamVideoSettingsGet:function(m){return u.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return u.find(m).getCapabilities()}}),d=r.mediaStreamIsTorchCompatible(e),d&&(h=u==null?void 0:u.find(function(m){return r.mediaStreamIsTorchCompatibleTrack(m)}),A=function(m){return Qo(f,void 0,void 0,function(){return Wo(this,function(x){switch(x.label){case 0:return[4,r.mediaStreamSetTorch(h,m)];case 1:return x.sent(),[2]}})})},o.switchTorch=A,o.stop=function(){return Qo(f,void 0,void 0,function(){return Wo(this,function(m){switch(m.label){case 0:return l.stop(),[4,A(!1)];case 1:return m.sent(),[2]}})})}),[2,o]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return Qo(this,void 0,void 0,function(){var i,s;return Wo(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,n){return Qo(this,void 0,void 0,function(){var a,i;return Wo(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new dl("A video element must be provided.");return a=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,i)];case 1:return s.sent(),[2,this.scan(a,n)]}})})},r.prototype.decodeFromVideoUrl=function(e,n){return Qo(this,void 0,void 0,function(){var a,i,s,c;return Wo(this,function(l){switch(l.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new dl("An URL must be provided.");return a=r.prepareVideoElement(),a.src=e,i=function(){r.cleanVideoSource(a)},s=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,s)];case 1:return l.sent(),c=this.scan(a,n,i),[2,c]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return Qo(this,void 0,void 0,function(){var a;return Wo(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return Qo(this,void 0,void 0,function(){var a,i,s;return Wo(this,function(c){switch(c.label){case 0:return a=!!n,[4,r.attachStreamToVideo(e,n)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=c.sent(),[2,s];case 4:return a||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return Qo(this,void 0,void 0,function(){var a,i;return Wo(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return Qo(this,void 0,void 0,function(){var n,a;return Wo(this,function(i){switch(i.label){case 0:if(!e)throw new dl("A video element must be provided.");return n=r.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return Qo(this,void 0,void 0,function(){var n,a;return Wo(this,function(i){switch(i.label){case 0:if(!e)throw new dl("An URL must be provided.");n=r.prepareVideoElement(),n.src=e,a=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,a];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(n),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,n,a,i){var s=this;return n===void 0&&(n=!0),a===void 0&&(a=!0),i===void 0&&(i=!0),new Promise(function(c,l){s.scan(e,function(u,o,d){if(u){c(u),d.stop();return}if(o){if(o instanceof Br&&n||o instanceof jl&&a||o instanceof pn&&i)return;d.stop(),l(o)}})})},r.prototype.scan=function(e,n,a){var i=this;r.checkCallbackFnOrThrow(n);var s=r.createCaptureCanvas(e),c;try{c=s.getContext("2d",{willReadFrequently:!0})}catch{c=s.getContext("2d")}if(!c)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){c=void 0,s=void 0},u=!1,o,d=function(){u=!0,clearTimeout(o),l(),a&&a()},h={stop:d},A=function(){if(!u)try{r.drawImageOnCanvas(c,e);var f=i.decodeFromCanvas(s);n(f,void 0,h),o=setTimeout(A,i.options.delayBetweenScanSuccess)}catch(y){n(void 0,y,h);var g=y instanceof jl,m=y instanceof pn,x=y instanceof Br;if(g||m||x){o=setTimeout(A,i.options.delayBetweenScanAttempts);return}l(),a&&a(y)}};return A(),h},r.prototype._decodeOnLoadImage=function(e){return Qo(this,void 0,void 0,function(){var n;return Wo(this,function(a){switch(a.label){case 0:return n=r.isImageLoaded(e),n?[3,2]:[4,r._waitImageLoad(e)];case 1:a.sent(),a.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return Qo(this,void 0,void 0,function(){var n;return Wo(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),r.streamTracker.push(n),[2,n]}})})},r.streamTracker=[],r})(),zoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){zoe(e,r);function e(n,a){return r.call(this,new d2,n,a)||this}return e})(Dm);var Koe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Koe(e,r);function e(n,a){return r.call(this,new zp(n),n,a)||this}return e})(Dm);var Goe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Goe(e,r);function e(n,a){return r.call(this,new A2,n,a)||this}return e})(Dm);var qoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Xoe=(function(r){qoe(e,r);function e(n,a){var i=this,s=new ZF;return s.setHints(n),i=r.call(this,s,n,a)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(io.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(Dm),Yoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Yoe(e,r);function e(n,a){return r.call(this,new p2,n,a)||this}return e})(Dm);var Zoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Zoe(e,r);function e(n,a){return r.call(this,new f2,n,a)||this}return e})(Dm);const Joe=()=>{const r=ti(),[e,n]=P.useState(""),[a,i]=P.useState(null),[s,c]=P.useState(!1),[l,u]=P.useState(null),o=P.useRef(null),d=P.useRef(null),h=P.useRef(null),[A,f]=P.useState(!1);P.useEffect(()=>{o.current&&o.current.focus()},[]);const g=P.useCallback(()=>{var w;try{(w=h.current)==null||w.reset()}catch{}finally{h.current=null,f(!1)}},[]);P.useEffect(()=>()=>{g()},[g]);const m=async w=>{if(!w||w.length<5){u("Please enter a valid barcode (at least 5 characters)");return}c(!0),u(null),i(null);try{const N=await cA.lookupBarcode(w);i(N),n("")}catch(N){const S=(N==null?void 0:N.message)||"Barcode not found";u(S),i(null)}finally{c(!1)}},x=P.useCallback(async()=>{if(u(null),i(null),!d.current){u("Camera preview not available");return}g();const w=new Xoe;h.current=w,f(!0);try{await w.decodeFromConstraints({video:{facingMode:{ideal:"environment"}}},d.current,(N,S)=>{var j;if(N){const _=(j=N.getText())==null?void 0:j.trim();_&&(g(),m(_))}})}catch(N){g();const S=(N==null?void 0:N.name)==="NotAllowedError"?"Camera permission denied. Please allow camera access and try again.":(N==null?void 0:N.name)==="NotFoundError"?"No camera found on this device.":(N==null?void 0:N.message)||"Failed to start camera scanner";u(S)}},[g]),y=w=>{w.preventDefault(),e.trim()&&m(e.trim())},b=()=>{a&&r("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return t.jsx(Dh,{title:"Scan Barcode",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-scan",children:[t.jsxs("div",{className:"mobile-scan-camera-section",children:[t.jsx("div",{className:"mobile-scan-camera-actions",children:A?t.jsx("button",{type:"button",className:"mobile-scan-camera-btn stop",onClick:g,children:"Stop Camera"}):t.jsx("button",{type:"button",className:"mobile-scan-camera-btn",onClick:x,disabled:s,children:"Start Camera Scan"})}),A&&t.jsxs("div",{className:"mobile-scan-camera-preview",children:[t.jsx("video",{ref:d,className:"mobile-scan-video",muted:!0,playsInline:!0}),t.jsx("div",{className:"mobile-scan-overlay","aria-hidden":"true"}),t.jsx("div",{className:"mobile-scan-hint",children:"Align barcode/QR inside the frame"})]})]}),t.jsxs("div",{className:"mobile-scan-input-section",children:[t.jsx("form",{onSubmit:y,className:"mobile-scan-form",children:t.jsxs("div",{className:"mobile-scan-input-wrapper",children:[t.jsx("input",{ref:o,type:"text",value:e,onChange:w=>n(w.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),t.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:s||!e.trim(),children:s?"...":""})]})}),l&&t.jsxs("div",{className:"mobile-scan-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:l})]})]}),a&&t.jsxs("div",{className:"mobile-scan-result",children:[t.jsxs("div",{className:"mobile-scan-result-header",children:[t.jsx("h3",{children:"Barcode Found"}),t.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),t.jsxs("div",{className:"mobile-scan-result-details",children:[t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),t.jsx("button",{className:"mobile-scan-proceed-btn",onClick:b,children:"Proceed to Waste Entry"})]}),!a&&!l&&t.jsxs("div",{className:"mobile-scan-instructions",children:[t.jsx("h4",{children:"How to scan:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Enter the barcode manually in the input field above"}),t.jsx("li",{children:"Or tap Start Camera Scan to scan using your device camera"}),t.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},ele=()=>{const r=ti(),e=Pn(),[n,a]=P.useState(""),[i,s]=P.useState(""),[c,l]=P.useState(""),[u,o]=P.useState(!1),[d,h]=P.useState(null),[A,f]=P.useState(!1);P.useEffect(()=>{if(e.state){const{barcode:m}=e.state;m&&a(m)}},[e.state]);const g=async m=>{if(m.preventDefault(),h(null),f(!1),!n||n.length<5){h("Please enter a valid barcode");return}if(!i||parseFloat(i)<=0){h("Please enter a valid weight");return}o(!0);try{await cA.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(i),notes:c.trim()||void 0}),f(!0),a(""),s(""),l(""),setTimeout(()=>{r("/mobile/home")},2e3)}catch(x){h((x==null?void 0:x.message)||"Failed to save waste entry")}finally{o(!1)}};return t.jsx(Dh,{title:"Waste Entry",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-waste-entry",children:[A&&t.jsxs("div",{className:"mobile-waste-entry-success",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})}),t.jsx("span",{children:"Waste entry saved successfully!"})]}),d&&t.jsxs("div",{className:"mobile-waste-entry-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:d})]}),t.jsxs("form",{onSubmit:g,className:"mobile-waste-entry-form",children:[t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),t.jsx("input",{id:"barcode",type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Enter barcode",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),t.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:i,onChange:m=>s(m.target.value),placeholder:"0.00",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),t.jsx("textarea",{id:"notes",value:c,onChange:m=>l(m.target.value),placeholder:"Add any additional notes...",rows:4,disabled:u})]}),t.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:u||A,children:u?"Saving...":A?"Saved!":"Save Entry"})]})]})})},tle=()=>{const r=ti();return t.jsx(Dh,{title:"Route Assignment",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-assign-hospital",children:t.jsxs("div",{className:"mobile-assign-hospital-info",children:[t.jsx("p",{children:"Route assignment functionality will be available here."}),t.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>r("/transaction/route-assignment"),children:"Open Full View"})]})})})},aD=({label:r="Company",placeholder:e="Select Company",value:n,options:a,onChange:i})=>{const[s,c]=P.useState(!1),[l,u]=P.useState(""),o=P.useMemo(()=>a.find(h=>h.id===n),[a,n]),d=P.useMemo(()=>{const h=l.trim().toLowerCase();return h?a.filter(A=>A.name.toLowerCase().includes(h)):a},[a,l]);return t.jsxs("div",{className:"company-picker",children:[r&&t.jsx("div",{className:"company-picker-label",children:r}),t.jsxs("button",{type:"button",className:"company-picker-button",onClick:()=>c(!0),children:[t.jsx("span",{className:"company-picker-button-text",children:o?o.name:e}),t.jsx("span",{className:"company-picker-chevron","aria-hidden":"true",children:""})]}),s&&t.jsx("div",{className:"company-picker-overlay",onClick:()=>c(!1),children:t.jsxs("div",{className:"company-picker-sheet",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"company-picker-sheet-header",children:[t.jsx("div",{className:"company-picker-sheet-title",children:e}),t.jsx("button",{type:"button",className:"company-picker-close",onClick:()=>c(!1),"aria-label":"Close",children:""})]}),t.jsx("div",{className:"company-picker-search",children:t.jsx("input",{value:l,onChange:h=>u(h.target.value),placeholder:"Search company..."})}),t.jsx("div",{className:"company-picker-list",children:d.length===0?t.jsx("div",{className:"company-picker-empty",children:"No companies found."}):d.map(h=>t.jsx("button",{type:"button",className:`company-picker-item ${h.id===n?"active":""}`,onClick:()=>{i(h.id),c(!1)},children:h.name},h.id))})]})})]})},rle=()=>{const r=ti(),[e,n]=P.useState([]),[a,i]=P.useState(""),[s,c]=P.useState([]),[l,u]=P.useState(!1),[o,d]=P.useState(null),[h,A]=P.useState("");P.useEffect(()=>{(async()=>{try{const m=await Qa.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){d((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),P.useEffect(()=>{(async()=>{if(!a){c([]);return}u(!0),d(null);try{const m=await Os.getAllHcfs(a,!0);c(Array.isArray(m)?m:[])}catch(m){d((m==null?void 0:m.message)||"Failed to load HCF list")}finally{u(!1)}})()},[a]);const f=P.useMemo(()=>{const g=h.trim().toLowerCase();return g?s.filter(m=>(m.hcfCode||"").toLowerCase().includes(g)||(m.hcfName||"").toLowerCase().includes(g)||(m.district||"").toLowerCase().includes(g)||(m.pincode||"").toLowerCase().includes(g)):s},[s,h]);return t.jsx(Dh,{title:"HCF Master",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-hcf-master",children:[t.jsxs("div",{className:"mobile-hcf-toolbar",children:[t.jsx(aD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-hcf-search",value:h,onChange:g=>A(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-hcf-empty",children:o}),t.jsx("div",{className:"mobile-hcf-table",children:l?t.jsx("div",{className:"mobile-hcf-empty",children:"Loading..."}):f.length===0?t.jsx("div",{className:"mobile-hcf-empty",children:"No HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"})]})}),t.jsx("tbody",{children:f.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.district||g.areaId||"-"}),t.jsx("td",{children:g.pincode||"-"})]},g.id))})]})})]})})},iD="mw-mobile-settings",nle=()=>{try{const r=localStorage.getItem(iD);if(!r)return{darkMode:!1,notifications:!0};const e=JSON.parse(r);return{darkMode:!!e.darkMode,notifications:e.notifications!==!1}}catch{return{darkMode:!1,notifications:!0}}},ale=r=>{try{localStorage.setItem(iD,JSON.stringify(r))}catch{}},ile=()=>{const r=ti(),{user:e,logout:n}=xa(),[a,i]=P.useState(()=>nle()),s=P.useMemo(()=>e?e.name||e.email||"User":"Guest",[e]);P.useEffect(()=>{a.darkMode?document.body.classList.add("mw-dark"):document.body.classList.remove("mw-dark"),ale(a)},[a]);const c=u=>{i(o=>({...o,[u]:!o[u]}))},l=()=>{try{localStorage.removeItem("mw-auth-user")}catch{}n(),r("/mobile/login",{replace:!0})};return t.jsx(Dh,{title:"Settings",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-settings",children:[t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Account"}),t.jsx("div",{className:"mobile-settings-row",children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Signed in as"}),t.jsx("div",{className:"mobile-settings-value",children:s})]})})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Preferences"}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("darkMode"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Dark mode"}),t.jsx("div",{className:"mobile-settings-sub",children:"Applies a dark theme on this device"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.darkMode?"on":""}`,"aria-hidden":"true"})]}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("notifications"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Notifications"}),t.jsx("div",{className:"mobile-settings-sub",children:"Enable in-app reminders (placeholder)"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.notifications?"on":""}`,"aria-hidden":"true"})]})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Security"}),t.jsx("button",{className:"mobile-settings-row danger",onClick:l,children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Logout"}),t.jsx("div",{className:"mobile-settings-sub",children:"Sign out from this device"})]})})]}),t.jsx("div",{className:"mobile-settings-footer",children:t.jsx("div",{className:"mobile-settings-footer-text",children:"Medi Waste Management (Mobile)"})})]})})},eC=r=>!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r),sle=()=>{const r=ti(),{user:e,logout:n}=xa(),[a,i]=P.useState(!1),[s,c]=P.useState(null),[l,u]=P.useState(null),[o,d]=P.useState(null),[h,A]=P.useState(!1),[f,g]=P.useState({emailAddress:"",emergencyContact:"",addressLine:"",city:"",district:"",pincode:""}),[m,x]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=P.useMemo(()=>e?(e.roles||[]).join(", "):"",[e]);P.useEffect(()=>{(async()=>{if(e!=null&&e.id){i(!0),c(null);try{if(eC(e.id)){const j=await $l.getUserById(e.id);d(j),g({emailAddress:j.emailAddress||"",emergencyContact:j.emergencyContact||"",addressLine:j.addressLine||"",city:j.city||"",district:j.district||"",pincode:j.pincode||""})}else c("Showing basic profile from session.")}catch(j){c((j==null?void 0:j.message)||"Failed to load profile.")}finally{i(!1)}}})()},[e==null?void 0:e.id]);const b=async()=>{if(!(e!=null&&e.id)||!eC(e.id)){c("Cannot update profile: user id missing.");return}i(!0),c(null),u(null);try{if(await $l.updateCompleteUser(e.id,{companyId:(o==null?void 0:o.companyId)||"",userName:(o==null?void 0:o.userName)||e.name||"",mobileNumber:(o==null?void 0:o.mobileNumber)||"-",userRoleId:(o==null?void 0:o.userRoleId)||void 0,emailAddress:f.emailAddress||void 0,emergencyContact:f.emergencyContact||void 0,addressLine:f.addressLine||void 0,city:f.city||void 0,district:f.district||void 0,pincode:f.pincode||void 0}),u("Profile updated successfully."),A(!1),eC(e.id)){const S=await $l.getUserById(e.id);d(S)}}catch(S){c((S==null?void 0:S.message)||"Failed to update profile.")}finally{i(!1)}},w=async()=>{if(c(null),u(null),!(e!=null&&e.id)){c("Unable to identify user for password change.");return}if(!m.currentPassword||!m.newPassword){c("Please fill current password and new password.");return}if(m.newPassword!==m.confirmPassword){c("New password and confirm password do not match.");return}i(!0);try{await u2(e.id,{currentPassword:m.currentPassword,newPassword:m.newPassword}),u("Password changed successfully."),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch(S){c((S==null?void 0:S.message)||"Failed to change password.")}finally{i(!1)}},N=()=>{n(),r("/mobile/login",{replace:!0})};return t.jsx(Dh,{title:"Profile",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-profile",children:[(s||l)&&t.jsx("div",{className:`mobile-profile-banner ${l?"success":"info"}`,children:l||s}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Account"}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Name"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.name)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Email"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.email)||(o==null?void 0:o.emailAddress)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Role"}),t.jsx("div",{className:"value",children:y||(o==null?void 0:o.userRoleId)||"-"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsxs("div",{className:"mobile-profile-section-title",children:["Contact Info",t.jsx("button",{className:"mobile-profile-link",onClick:()=>{u(null),c(null),A(S=>!S)},disabled:a,type:"button",children:h?"Cancel":"Edit"})]}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Email",t.jsx("input",{value:h?f.emailAddress:(o==null?void 0:o.emailAddress)||(e==null?void 0:e.email)||"",onChange:S=>g(j=>({...j,emailAddress:S.target.value})),disabled:!h||a,placeholder:"Email address"})]}),t.jsxs("label",{children:["Emergency Contact",t.jsx("input",{value:f.emergencyContact,onChange:S=>g(j=>({...j,emergencyContact:S.target.value})),disabled:!h||a,placeholder:"Emergency contact"})]}),t.jsxs("label",{children:["Address",t.jsx("input",{value:f.addressLine,onChange:S=>g(j=>({...j,addressLine:S.target.value})),disabled:!h||a,placeholder:"Address line"})]}),t.jsxs("div",{className:"two-col",children:[t.jsxs("label",{children:["City",t.jsx("input",{value:f.city,onChange:S=>g(j=>({...j,city:S.target.value})),disabled:!h||a,placeholder:"City"})]}),t.jsxs("label",{children:["Pincode",t.jsx("input",{value:f.pincode,onChange:S=>g(j=>({...j,pincode:S.target.value})),disabled:!h||a,placeholder:"Pincode"})]})]}),t.jsxs("label",{children:["District",t.jsx("input",{value:f.district,onChange:S=>g(j=>({...j,district:S.target.value})),disabled:!h||a,placeholder:"District"})]}),h&&t.jsx("button",{className:"mobile-profile-btn",onClick:b,disabled:a,type:"button",children:a?"Saving...":"Save"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Security"}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Current Password",t.jsx("input",{type:"password",value:m.currentPassword,onChange:S=>x(j=>({...j,currentPassword:S.target.value})),disabled:a})]}),t.jsxs("label",{children:["New Password",t.jsx("input",{type:"password",value:m.newPassword,onChange:S=>x(j=>({...j,newPassword:S.target.value})),disabled:a})]}),t.jsxs("label",{children:["Confirm Password",t.jsx("input",{type:"password",value:m.confirmPassword,onChange:S=>x(j=>({...j,confirmPassword:S.target.value})),disabled:a})]}),t.jsx("button",{className:"mobile-profile-btn",onClick:w,disabled:a,type:"button",children:a?"Updating...":"Change Password"})]})]}),t.jsx("button",{className:"mobile-profile-btn danger",onClick:N,type:"button",children:"Logout"})]})})},ole=r=>{if(!r)return"-";const e=new Date(r);return Number.isNaN(e.getTime())?r:e.toLocaleString()},lle=()=>{const r=ti(),[e,n]=P.useState([]),[a,i]=P.useState(!1),[s,c]=P.useState(null),[l,u]=P.useState(""),o=P.useMemo(()=>{const h=l.trim().toLowerCase();return h?e.filter(A=>(A.barcode||"").toLowerCase().includes(h)||(A.status||"").toLowerCase().includes(h)||(A.wasteColor||"").toLowerCase().includes(h)):e},[e,l]),d=async()=>{i(!0),c(null);try{const h=await cA.getAllWasteCollections();n(Array.isArray(h)?h:[])}catch(h){c((h==null?void 0:h.message)||"Failed to load waste collections")}finally{i(!1)}};return P.useEffect(()=>{d()},[]),t.jsx(Dh,{title:"Waste Collections",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-wc",children:[t.jsxs("div",{className:"mobile-wc-toolbar",children:[t.jsx("input",{className:"mobile-wc-search",placeholder:"Search by barcode / status / color",value:l,onChange:h=>u(h.target.value)}),t.jsx("button",{className:"mobile-wc-refresh",onClick:d,disabled:a,type:"button",children:a?"...":""})]}),s&&t.jsx("div",{className:"mobile-wc-banner error",children:s}),t.jsxs("div",{className:"mobile-wc-actions",children:[t.jsx("button",{className:"mobile-wc-primary",type:"button",onClick:()=>r("/mobile/scan"),children:"New Collection (Scan)"}),t.jsx("button",{className:"mobile-wc-secondary",type:"button",onClick:()=>r("/mobile/waste-entry"),children:"Manual Waste Entry"})]}),t.jsx("div",{className:"mobile-wc-list",children:a&&e.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"Loading..."}):o.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"No waste collections found."}):o.map(h=>t.jsxs("div",{className:"mobile-wc-item",children:[t.jsxs("div",{className:"mobile-wc-item-top",children:[t.jsx("div",{className:"mobile-wc-barcode",children:h.barcode}),t.jsx("div",{className:`mobile-wc-badge ${String(h.status||"").toLowerCase().replace(/\s+/g,"-")}`,children:h.status})]}),t.jsxs("div",{className:"mobile-wc-meta",children:[t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Color"}),t.jsx("span",{className:"v",children:h.wasteColor})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Weight"}),t.jsx("span",{className:"v",children:h.weightKg??"-"})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Created"}),t.jsx("span",{className:"v",children:ole(h.createdOn)})]})]})]},h.id))})]})})},cle=()=>{const r=ti(),[e,n]=P.useState([]),[a,i]=P.useState(""),[s,c]=P.useState(""),[l,u]=P.useState(!1),[o,d]=P.useState(null),[h,A]=P.useState([]);P.useEffect(()=>{(async()=>{try{const m=await Qa.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){d((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),P.useEffect(()=>{(async()=>{if(!a){A([]);return}u(!0),d(null);try{const[m,x]=await Promise.all([D0.getAllRouteHcfMappings(void 0,void 0,a,!0),Os.getAllHcfs(a,!0)]),y=new Map;(m||[]).forEach(N=>{const S=y.get(N.hcfId)||new Set;S.add(N.routeId),y.set(N.hcfId,S)});const b=new Set(Array.from(y.keys())),w=(x||[]).filter(N=>b.has(N.id)).map(N=>{var S;return{hcfId:N.id,hcfCode:N.hcfCode,hcfName:N.hcfName,area:N.district||N.areaId||"-",pincode:N.pincode||"-",routesCount:((S=y.get(N.id))==null?void 0:S.size)||0}});A(w)}catch(m){d((m==null?void 0:m.message)||"Failed to load assigned HCF list")}finally{u(!1)}})()},[a]);const f=P.useMemo(()=>{const g=s.trim().toLowerCase();return g?h.filter(m=>m.hcfCode.toLowerCase().includes(g)||m.hcfName.toLowerCase().includes(g)||m.area.toLowerCase().includes(g)||m.pincode.toLowerCase().includes(g)):h},[h,s]);return t.jsx(Dh,{title:"Assigned HCF List",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-ahcf",children:[t.jsxs("div",{className:"mobile-ahcf-toolbar",children:[t.jsx(aD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-ahcf-search",value:s,onChange:g=>c(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-ahcf-banner",children:o}),t.jsx("div",{className:"mobile-ahcf-table",children:l?t.jsx("div",{className:"mobile-ahcf-empty",children:"Loading..."}):f.length===0?t.jsx("div",{className:"mobile-ahcf-empty",children:"No assigned HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"}),t.jsx("th",{children:"Routes"})]})}),t.jsx("tbody",{children:f.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.area}),t.jsx("td",{children:g.pincode}),t.jsx("td",{children:g.routesCount})]},g.hcfId))})]})})]})})},ule=()=>{const r=ti();return t.jsx(Dh,{title:"Analytics",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-analytics",children:t.jsxs("div",{className:"mobile-analytics-card",children:[t.jsx("div",{className:"mobile-analytics-title",children:"Analytics"}),t.jsx("div",{className:"mobile-analytics-sub",children:"Mobile analytics screen. Use the buttons below to open full reports."}),t.jsx("button",{className:"mobile-analytics-btn",type:"button",onClick:()=>r("/report"),children:"Open Reports (Full)"}),t.jsx("button",{className:"mobile-analytics-btn secondary",type:"button",onClick:()=>r("/dashboard"),children:"Open Dashboard (Full)"})]})})})},dle=()=>{const{user:r}=tO();return t.jsx(OM,{user:r,children:t.jsxs(hM,{children:[t.jsx(xn,{path:"/",element:t.jsx(rC,{to:"/login",replace:!0})}),t.jsx(xn,{path:"/login",element:t.jsx(kM,{})}),t.jsx(xn,{path:"/verify-otp",element:t.jsx(PM,{})}),t.jsx(xn,{path:"/mobile/login",element:t.jsx(Yne,{})}),t.jsx(xn,{path:"/mobile/home",element:t.jsx(Sn,{children:t.jsx(iae,{})})}),t.jsx(xn,{path:"/mobile/scan",element:t.jsx(Sn,{children:t.jsx(Joe,{})})}),t.jsx(xn,{path:"/mobile/waste-entry",element:t.jsx(Sn,{children:t.jsx(ele,{})})}),t.jsx(xn,{path:"/mobile/waste-collections",element:t.jsx(Sn,{children:t.jsx(lle,{})})}),t.jsx(xn,{path:"/mobile/assign-hospital",element:t.jsx(Sn,{children:t.jsx(tle,{})})}),t.jsx(xn,{path:"/mobile/assigned-hcfs",element:t.jsx(Sn,{children:t.jsx(cle,{})})}),t.jsx(xn,{path:"/mobile/analytics",element:t.jsx(Sn,{children:t.jsx(ule,{})})}),t.jsx(xn,{path:"/mobile/hcf-master",element:t.jsx(Sn,{children:t.jsx(rle,{})})}),t.jsx(xn,{path:"/mobile/profile",element:t.jsx(Sn,{children:t.jsx(sle,{})})}),t.jsx(xn,{path:"/mobile/settings",element:t.jsx(Sn,{children:t.jsx(ile,{})})}),t.jsx(xn,{path:"/dashboard",element:t.jsx(Sn,{children:t.jsx(kJ,{})})}),t.jsx(xn,{path:"/admin/dashboard-configuration",element:t.jsx(Sn,{children:t.jsx(RJ,{})})}),t.jsx(xn,{path:"/profile",element:t.jsx(Sn,{children:t.jsx(rae,{})})}),t.jsx(xn,{path:"/transaction",element:t.jsx(Sn,{children:t.jsx(LJ,{})})}),t.jsx(xn,{path:"/transaction/barcode-generation",element:t.jsx(Sn,{children:t.jsx(ane,{})})}),t.jsx(xn,{path:"/transaction/route-assignment",element:t.jsx(Sn,{children:t.jsx(nte,{})})}),t.jsx(xn,{path:"/transaction/waste-collection",element:t.jsx(Sn,{children:t.jsx(ste,{})})}),t.jsx(xn,{path:"/transaction/waste-transaction-data",element:t.jsx(Sn,{children:t.jsx(dte,{})})}),t.jsx(xn,{path:"/transaction/vehicle-wise-waste-collection",element:t.jsx(Sn,{children:t.jsx(fte,{})})}),t.jsx(xn,{path:"/transaction/waste-processing",element:t.jsx(Sn,{children:t.jsx(gte,{})})}),t.jsx(xn,{path:"/finance",element:t.jsx(Sn,{children:t.jsx(UJ,{})})}),t.jsx(xn,{path:"/commercial-agreements",element:t.jsx(Sn,{children:t.jsx(HJ,{})})}),t.jsx(xn,{path:"/commercial-agreements/contract-master",element:t.jsx(Sn,{children:t.jsx(pne,{})})}),t.jsx(xn,{path:"/commercial-agreements/agreement",element:t.jsx(Sn,{children:t.jsx(Nne,{})})}),t.jsx(xn,{path:"/commercial-agreements/agreement-clause",element:t.jsx(Sn,{children:t.jsx(Ine,{})})}),t.jsx(xn,{path:"/compliance-training",element:t.jsx(Sn,{children:t.jsx(QJ,{})})}),t.jsx(xn,{path:"/compliance-training/training-certificate-management",element:t.jsx(Sn,{children:t.jsx(cne,{})})}),t.jsx(xn,{path:"/master",element:t.jsx(Sn,{children:t.jsx(WJ,{})})}),t.jsx(xn,{path:"/master/company",element:t.jsx(Sn,{children:t.jsx(KJ,{})})}),t.jsx(xn,{path:"/master/state",element:t.jsx(Sn,{children:t.jsx(YJ,{})})}),t.jsx(xn,{path:"/master/area",element:t.jsx(Sn,{children:t.jsx(tee,{})})}),t.jsx(xn,{path:"/master/category",element:t.jsx(Sn,{children:t.jsx(iee,{})})}),t.jsx(xn,{path:"/master/pcb-zone",element:t.jsx(Sn,{children:t.jsx(cee,{})})}),t.jsx(xn,{path:"/master/route",element:t.jsx(Sn,{children:t.jsx(pee,{})})}),t.jsx(xn,{path:"/master/color-code",element:t.jsx(Sn,{children:t.jsx(xee,{})})}),t.jsx(xn,{path:"/master/user-management",element:t.jsx(Sn,{children:t.jsx(Tee,{})})}),t.jsx(xn,{path:"/master/roles-permissions",element:t.jsx(Sn,{children:t.jsx(Pee,{})})}),t.jsx(xn,{path:"/master/hcf-master",element:t.jsx(Sn,{children:t.jsx(Ree,{})})}),t.jsx(xn,{path:"/master/hcf-amendments",element:t.jsx(Sn,{children:t.jsx(Qee,{})})}),t.jsx(xn,{path:"/master/hcf-type",element:t.jsx(Sn,{children:t.jsx($ee,{})})}),t.jsx(xn,{path:"/master/fleet-management",element:t.jsx(Sn,{children:t.jsx(Gee,{})})}),t.jsx(xn,{path:"/master/route-hcf-mapping",element:t.jsx(Sn,{children:t.jsx(Yee,{})})}),t.jsx(xn,{path:"/master/frequency",element:t.jsx(Sn,{children:t.jsx(Jee,{})})}),t.jsx(xn,{path:"/finance/invoice-management",element:t.jsx(Sn,{children:t.jsx(Tte,{})})}),t.jsx(xn,{path:"/finance/payment",element:t.jsx(Sn,{children:t.jsx(Lte,{})})}),t.jsx(xn,{path:"/finance/payment-success",element:t.jsx(Sn,{children:t.jsx(Ute,{})})}),t.jsx(xn,{path:"/finance/receipt-management",element:t.jsx(Sn,{children:t.jsx(Hte,{})})}),t.jsx(xn,{path:"/finance/financial-balance-summary",element:t.jsx(Sn,{children:t.jsx(Gte,{})})}),t.jsx(xn,{path:"/report",element:t.jsx(Sn,{children:t.jsx(kne,{})})}),t.jsx(xn,{path:"/report/invoice",element:t.jsx(Sn,{children:t.jsx(Qj,{})})}),t.jsx(xn,{path:"/report/contract",element:t.jsx(Sn,{children:t.jsx(Rne,{})})}),t.jsx(xn,{path:"/report/hcf",element:t.jsx(Sn,{children:t.jsx(Lne,{})})}),t.jsx(xn,{path:"/report/training-certificate",element:t.jsx(Sn,{children:t.jsx(Une,{})})}),t.jsx(xn,{path:"/report/payment",element:t.jsx(Sn,{children:t.jsx(r_,{})})}),t.jsx(xn,{path:"/report/agreement",element:t.jsx(Sn,{children:t.jsx(Hne,{})})}),t.jsx(xn,{path:"/report/barcode",element:t.jsx(Sn,{children:t.jsx(n_,{})})}),t.jsx(xn,{path:"/report/barcode-usage",element:t.jsx(Sn,{children:t.jsx(n_,{})})}),t.jsx(xn,{path:"/report/user",element:t.jsx(Sn,{children:t.jsx(Wne,{})})}),t.jsx(xn,{path:"/report/fleet",element:t.jsx(Sn,{children:t.jsx($ne,{})})}),t.jsx(xn,{path:"/report/revenue",element:t.jsx(Sn,{children:t.jsx(a_,{})})}),t.jsx(xn,{path:"/report/outstanding",element:t.jsx(Sn,{children:t.jsx(i_,{})})}),t.jsx(xn,{path:"/report/contract-renewal",element:t.jsx(Sn,{children:t.jsx(Vne,{})})}),t.jsx(xn,{path:"/report/route",element:t.jsx(Sn,{children:t.jsx(zne,{})})}),t.jsx(xn,{path:"/report/collection",element:t.jsx(Sn,{children:t.jsx(Kne,{})})}),t.jsx(xn,{path:"/report/company",element:t.jsx(Sn,{children:t.jsx(Gne,{})})}),t.jsx(xn,{path:"/report/compliance",element:t.jsx(Sn,{children:t.jsx(qne,{})})}),t.jsx(xn,{path:"/report/fleet-master",element:t.jsx(Sn,{children:t.jsx(Xne,{})})}),t.jsx(xn,{path:"/report/billing-finance",element:t.jsx(Sn,{children:t.jsx(Pne,{})})}),t.jsx(xn,{path:"/report/billing-finance/invoice-generation",element:t.jsx(Sn,{children:t.jsx(Qj,{})})}),t.jsx(xn,{path:"/report/billing-finance/unbilled-services",element:t.jsx(Sn,{children:t.jsx(Qj,{})})}),t.jsx(xn,{path:"/report/billing-finance/outstanding-payments",element:t.jsx(Sn,{children:t.jsx(i_,{})})}),t.jsx(xn,{path:"/report/billing-finance/pending-payments",element:t.jsx(Sn,{children:t.jsx(r_,{})})}),t.jsx(xn,{path:"/report/billing-finance/cost-revenue-analysis",element:t.jsx(Sn,{children:t.jsx(a_,{})})}),t.jsx(xn,{path:"/report/operations-logistics",element:t.jsx(Sn,{children:t.jsx(Fne,{})})}),t.jsx(xn,{path:"/report/hcf-compliance",element:t.jsx(Sn,{children:t.jsx(Dne,{})})}),t.jsx(xn,{path:"/users/new",element:t.jsx(CS,{children:t.jsx(Sn,{roles:["admin"],children:t.jsx(_ne,{})})})}),t.jsx(xn,{path:"/mobile/users/new",element:t.jsx(CS,{children:t.jsx(Sn,{roles:["admin","manager"],children:t.jsx(tae,{})})})})]})})},hle=()=>t.jsx(TM,{children:t.jsx(dle,{})});class Ale extends P.Component{constructor(){super(...arguments);Gi(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[t.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),t.jsx("p",{children:"Please check the browser console for details."}),t.jsxs("details",{style:{marginTop:"10px"},children:[t.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),t.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const sD=document.getElementById("root");if(!sD)throw new Error("Root element #root not found. Make sure index.html mounts it.");yD.createRoot(sD).render(t.jsx(St.StrictMode,{children:t.jsx(Ale,{children:t.jsx(yM,{children:t.jsx(hle,{})})})}));
