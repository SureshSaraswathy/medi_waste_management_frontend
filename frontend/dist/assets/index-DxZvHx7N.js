var dD=Object.defineProperty;var hD=(r,e,n)=>e in r?dD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Gi=(r,e,n)=>hD(r,typeof e!="symbol"?e+"":e,n);function fD(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ji(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hx={exports:{}},$m={},fx={exports:{}},Ni={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function AD(){if(cS)return Ni;cS=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function f(me){return me===null||typeof me!="object"?null:(me=d&&me[d]||me["@@iterator"],typeof me=="function"?me:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(me,ue,ve){this.props=me,this.context=ue,this.refs=m,this.updater=ve||A}x.prototype.isReactComponent={},x.prototype.setState=function(me,ue){if(typeof me!="object"&&typeof me!="function"&&me!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,me,ue,"setState")},x.prototype.forceUpdate=function(me){this.updater.enqueueForceUpdate(this,me,"forceUpdate")};function y(){}y.prototype=x.prototype;function b(me,ue,ve){this.props=me,this.context=ue,this.refs=m,this.updater=ve||A}var w=b.prototype=new y;w.constructor=b,g(w,x.prototype),w.isPureReactComponent=!0;var N=Array.isArray,S=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function P(me,ue,ve){var le,Ae={},Ie=null,Pe=null;if(ue!=null)for(le in ue.ref!==void 0&&(Pe=ue.ref),ue.key!==void 0&&(Ie=""+ue.key),ue)S.call(ue,le)&&!_.hasOwnProperty(le)&&(Ae[le]=ue[le]);var Ce=arguments.length-2;if(Ce===1)Ae.children=ve;else if(1<Ce){for(var ce=Array(Ce),X=0;X<Ce;X++)ce[X]=arguments[X+2];Ae.children=ce}if(me&&me.defaultProps)for(le in Ce=me.defaultProps,Ce)Ae[le]===void 0&&(Ae[le]=Ce[le]);return{$$typeof:r,type:me,key:Ie,ref:Pe,props:Ae,_owner:j.current}}function Z(me,ue){return{$$typeof:r,type:me.type,key:ue,ref:me.ref,props:me.props,_owner:me._owner}}function ee(me){return typeof me=="object"&&me!==null&&me.$$typeof===r}function K(me){var ue={"=":"=0",":":"=2"};return"$"+me.replace(/[=:]/g,function(ve){return ue[ve]})}var ae=/\/+/g;function D(me,ue){return typeof me=="object"&&me!==null&&me.key!=null?K(""+me.key):ue.toString(36)}function q(me,ue,ve,le,Ae){var Ie=typeof me;(Ie==="undefined"||Ie==="boolean")&&(me=null);var Pe=!1;if(me===null)Pe=!0;else switch(Ie){case"string":case"number":Pe=!0;break;case"object":switch(me.$$typeof){case r:case e:Pe=!0}}if(Pe)return Pe=me,Ae=Ae(Pe),me=le===""?"."+D(Pe,0):le,N(Ae)?(ve="",me!=null&&(ve=me.replace(ae,"$&/")+"/"),q(Ae,ue,ve,"",function(X){return X})):Ae!=null&&(ee(Ae)&&(Ae=Z(Ae,ve+(!Ae.key||Pe&&Pe.key===Ae.key?"":(""+Ae.key).replace(ae,"$&/")+"/")+me)),ue.push(Ae)),1;if(Pe=0,le=le===""?".":le+":",N(me))for(var Ce=0;Ce<me.length;Ce++){Ie=me[Ce];var ce=le+D(Ie,Ce);Pe+=q(Ie,ue,ve,ce,Ae)}else if(ce=f(me),typeof ce=="function")for(me=ce.call(me),Ce=0;!(Ie=me.next()).done;)Ie=Ie.value,ce=le+D(Ie,Ce++),Pe+=q(Ie,ue,ve,ce,Ae);else if(Ie==="object")throw ue=String(me),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(me).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Pe}function $(me,ue,ve){if(me==null)return me;var le=[],Ae=0;return q(me,le,"","",function(Ie){return ue.call(ve,Ie,Ae++)}),le}function L(me){if(me._status===-1){var ue=me._result;ue=ue(),ue.then(function(ve){(me._status===0||me._status===-1)&&(me._status=1,me._result=ve)},function(ve){(me._status===0||me._status===-1)&&(me._status=2,me._result=ve)}),me._status===-1&&(me._status=0,me._result=ue)}if(me._status===1)return me._result.default;throw me._result}var ye={current:null},ne={transition:null},Be={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ne,ReactCurrentOwner:j};function Te(){throw Error("act(...) is not supported in production builds of React.")}return Ni.Children={map:$,forEach:function(me,ue,ve){$(me,function(){ue.apply(this,arguments)},ve)},count:function(me){var ue=0;return $(me,function(){ue++}),ue},toArray:function(me){return $(me,function(ue){return ue})||[]},only:function(me){if(!ee(me))throw Error("React.Children.only expected to receive a single React element child.");return me}},Ni.Component=x,Ni.Fragment=n,Ni.Profiler=i,Ni.PureComponent=b,Ni.StrictMode=a,Ni.Suspense=u,Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Be,Ni.act=Te,Ni.cloneElement=function(me,ue,ve){if(me==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+me+".");var le=g({},me.props),Ae=me.key,Ie=me.ref,Pe=me._owner;if(ue!=null){if(ue.ref!==void 0&&(Ie=ue.ref,Pe=j.current),ue.key!==void 0&&(Ae=""+ue.key),me.type&&me.type.defaultProps)var Ce=me.type.defaultProps;for(ce in ue)S.call(ue,ce)&&!_.hasOwnProperty(ce)&&(le[ce]=ue[ce]===void 0&&Ce!==void 0?Ce[ce]:ue[ce])}var ce=arguments.length-2;if(ce===1)le.children=ve;else if(1<ce){Ce=Array(ce);for(var X=0;X<ce;X++)Ce[X]=arguments[X+2];le.children=Ce}return{$$typeof:r,type:me.type,key:Ae,ref:Ie,props:le,_owner:Pe}},Ni.createContext=function(me){return me={$$typeof:c,_currentValue:me,_currentValue2:me,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},me.Provider={$$typeof:s,_context:me},me.Consumer=me},Ni.createElement=P,Ni.createFactory=function(me){var ue=P.bind(null,me);return ue.type=me,ue},Ni.createRef=function(){return{current:null}},Ni.forwardRef=function(me){return{$$typeof:l,render:me}},Ni.isValidElement=ee,Ni.lazy=function(me){return{$$typeof:h,_payload:{_status:-1,_result:me},_init:L}},Ni.memo=function(me,ue){return{$$typeof:o,type:me,compare:ue===void 0?null:ue}},Ni.startTransition=function(me){var ue=ne.transition;ne.transition={};try{me()}finally{ne.transition=ue}},Ni.unstable_act=Te,Ni.useCallback=function(me,ue){return ye.current.useCallback(me,ue)},Ni.useContext=function(me){return ye.current.useContext(me)},Ni.useDebugValue=function(){},Ni.useDeferredValue=function(me){return ye.current.useDeferredValue(me)},Ni.useEffect=function(me,ue){return ye.current.useEffect(me,ue)},Ni.useId=function(){return ye.current.useId()},Ni.useImperativeHandle=function(me,ue,ve){return ye.current.useImperativeHandle(me,ue,ve)},Ni.useInsertionEffect=function(me,ue){return ye.current.useInsertionEffect(me,ue)},Ni.useLayoutEffect=function(me,ue){return ye.current.useLayoutEffect(me,ue)},Ni.useMemo=function(me,ue){return ye.current.useMemo(me,ue)},Ni.useReducer=function(me,ue,ve){return ye.current.useReducer(me,ue,ve)},Ni.useRef=function(me){return ye.current.useRef(me)},Ni.useState=function(me){return ye.current.useState(me)},Ni.useSyncExternalStore=function(me,ue,ve){return ye.current.useSyncExternalStore(me,ue,ve)},Ni.useTransition=function(){return ye.current.useTransition()},Ni.version="18.3.1",Ni}var uS;function H4(){return uS||(uS=1,fx.exports=AD()),fx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function pD(){if(dS)return $m;dS=1;var r=H4(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,o){var h,d={},f=null,A=null;o!==void 0&&(f=""+o),u.key!==void 0&&(f=""+u.key),u.ref!==void 0&&(A=u.ref);for(h in u)a.call(u,h)&&!s.hasOwnProperty(h)&&(d[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)d[h]===void 0&&(d[h]=u[h]);return{$$typeof:e,type:l,key:f,ref:A,props:d,_owner:i.current}}return $m.Fragment=n,$m.jsx=c,$m.jsxs=c,$m}var hS;function mD(){return hS||(hS=1,hx.exports=pD()),hx.exports}var t=mD(),k=H4();const St=Ji(k),gD=fD({__proto__:null,default:St},[k]);var Zg={},Ax={exports:{}},Pu={},px={exports:{}},mx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function vD(){return fS||(fS=1,(function(r){function e(ne,Be){var Te=ne.length;ne.push(Be);e:for(;0<Te;){var me=Te-1>>>1,ue=ne[me];if(0<i(ue,Be))ne[me]=Be,ne[Te]=ue,Te=me;else break e}}function n(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var Be=ne[0],Te=ne.pop();if(Te!==Be){ne[0]=Te;e:for(var me=0,ue=ne.length,ve=ue>>>1;me<ve;){var le=2*(me+1)-1,Ae=ne[le],Ie=le+1,Pe=ne[Ie];if(0>i(Ae,Te))Ie<ue&&0>i(Pe,Ae)?(ne[me]=Pe,ne[Ie]=Te,me=Ie):(ne[me]=Ae,ne[le]=Te,me=le);else if(Ie<ue&&0>i(Pe,Te))ne[me]=Pe,ne[Ie]=Te,me=Ie;else break e}}return Be}function i(ne,Be){var Te=ne.sortIndex-Be.sortIndex;return Te!==0?Te:ne.id-Be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();r.unstable_now=function(){return c.now()-l}}var u=[],o=[],h=1,d=null,f=3,A=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ne){for(var Be=n(o);Be!==null;){if(Be.callback===null)a(o);else if(Be.startTime<=ne)a(o),Be.sortIndex=Be.expirationTime,e(u,Be);else break;Be=n(o)}}function N(ne){if(m=!1,w(ne),!g)if(n(u)!==null)g=!0,L(S);else{var Be=n(o);Be!==null&&ye(N,Be.startTime-ne)}}function S(ne,Be){g=!1,m&&(m=!1,y(P),P=-1),A=!0;var Te=f;try{for(w(Be),d=n(u);d!==null&&(!(d.expirationTime>Be)||ne&&!K());){var me=d.callback;if(typeof me=="function"){d.callback=null,f=d.priorityLevel;var ue=me(d.expirationTime<=Be);Be=r.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(u)&&a(u),w(Be)}else a(u);d=n(u)}if(d!==null)var ve=!0;else{var le=n(o);le!==null&&ye(N,le.startTime-Be),ve=!1}return ve}finally{d=null,f=Te,A=!1}}var j=!1,_=null,P=-1,Z=5,ee=-1;function K(){return!(r.unstable_now()-ee<Z)}function ae(){if(_!==null){var ne=r.unstable_now();ee=ne;var Be=!0;try{Be=_(!0,ne)}finally{Be?D():(j=!1,_=null)}}else j=!1}var D;if(typeof b=="function")D=function(){b(ae)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=ae,D=function(){$.postMessage(null)}}else D=function(){x(ae,0)};function L(ne){_=ne,j||(j=!0,D())}function ye(ne,Be){P=x(function(){ne(r.unstable_now())},Be)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){g||A||(g=!0,L(S))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return n(u)},r.unstable_next=function(ne){switch(f){case 1:case 2:case 3:var Be=3;break;default:Be=f}var Te=f;f=Be;try{return ne()}finally{f=Te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,Be){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Te=f;f=ne;try{return Be()}finally{f=Te}},r.unstable_scheduleCallback=function(ne,Be,Te){var me=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?me+Te:me):Te=me,ne){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Te+ue,ne={id:h++,callback:Be,priorityLevel:ne,startTime:Te,expirationTime:ue,sortIndex:-1},Te>me?(ne.sortIndex=Te,e(o,ne),n(u)===null&&ne===n(o)&&(m?(y(P),P=-1):m=!0,ye(N,Te-me))):(ne.sortIndex=ue,e(u,ne),g||A||(g=!0,L(S))),ne},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(ne){var Be=f;return function(){var Te=f;f=Be;try{return ne.apply(this,arguments)}finally{f=Te}}}})(mx)),mx}var AS;function xD(){return AS||(AS=1,px.exports=vD()),px.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function yD(){if(pS)return Pu;pS=1;var r=H4(),e=xD();function n(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,C=1;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function s(p,v){c(p,v),c(p+"Capture",v)}function c(p,v){for(i[p]=v,p=0;p<v.length;p++)a.add(v[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function f(p){return u.call(d,p)?!0:u.call(h,p)?!1:o.test(p)?d[p]=!0:(h[p]=!0,!1)}function A(p,v,C,V){if(C!==null&&C.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return V?!1:C!==null?!C.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,C,V){if(v===null||typeof v>"u"||A(p,v,C,V))return!0;if(V)return!1;if(C!==null)switch(C.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,C,V,pe,Se,$e){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=V,this.attributeNamespace=pe,this.mustUseProperty=C,this.propertyName=p,this.type=v,this.sanitizeURL=Se,this.removeEmptyString=$e}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];x[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function w(p,v,C,V){var pe=x.hasOwnProperty(v)?x[v]:null;(pe!==null?pe.type!==0:V||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,C,pe,V)&&(C=null),V||pe===null?f(v)&&(C===null?p.removeAttribute(v):p.setAttribute(v,""+C)):pe.mustUseProperty?p[pe.propertyName]=C===null?pe.type===3?!1:"":C:(v=pe.attributeName,V=pe.attributeNamespace,C===null?p.removeAttribute(v):(pe=pe.type,C=pe===3||pe===4&&C===!0?"":""+C,V?p.setAttributeNS(V,v,C):p.setAttribute(v,C))))}var N=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),ne=Symbol.iterator;function Be(p){return p===null||typeof p!="object"?null:(p=ne&&p[ne]||p["@@iterator"],typeof p=="function"?p:null)}var Te=Object.assign,me;function ue(p){if(me===void 0)try{throw Error()}catch(C){var v=C.stack.trim().match(/\n( *(at )?)/);me=v&&v[1]||""}return`
`+me+p}var ve=!1;function le(p,v){if(!p||ve)return"";ve=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(fr){var V=fr}Reflect.construct(p,[],v)}else{try{v.call()}catch(fr){V=fr}p.call(v.prototype)}else{try{throw Error()}catch(fr){V=fr}p()}}catch(fr){if(fr&&V&&typeof fr.stack=="string"){for(var pe=fr.stack.split(`
`),Se=V.stack.split(`
`),$e=pe.length-1,wt=Se.length-1;1<=$e&&0<=wt&&pe[$e]!==Se[wt];)wt--;for(;1<=$e&&0<=wt;$e--,wt--)if(pe[$e]!==Se[wt]){if($e!==1||wt!==1)do if($e--,wt--,0>wt||pe[$e]!==Se[wt]){var Dt=`
`+pe[$e].replace(" at new "," at ");return p.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",p.displayName)),Dt}while(1<=$e&&0<=wt);break}}}finally{ve=!1,Error.prepareStackTrace=C}return(p=p?p.displayName||p.name:"")?ue(p):""}function Ae(p){switch(p.tag){case 5:return ue(p.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return p=le(p.type,!1),p;case 11:return p=le(p.type.render,!1),p;case 1:return p=le(p.type,!0),p;default:return""}}function Ie(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case _:return"Fragment";case j:return"Portal";case Z:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case q:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case K:return(p.displayName||"Context")+".Consumer";case ee:return(p._context.displayName||"Context")+".Provider";case ae:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case $:return v=p.displayName||null,v!==null?v:Ie(p.type)||"Memo";case L:v=p._payload,p=p._init;try{return Ie(p(v))}catch{}}return null}function Pe(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(v);case 8:return v===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function Ce(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ce(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function X(p){var v=ce(p)?"checked":"value",C=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),V=""+p[v];if(!p.hasOwnProperty(v)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var pe=C.get,Se=C.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return pe.call(this)},set:function($e){V=""+$e,Se.call(this,$e)}}),Object.defineProperty(p,v,{enumerable:C.enumerable}),{getValue:function(){return V},setValue:function($e){V=""+$e},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function de(p){p._valueTracker||(p._valueTracker=X(p))}function se(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var C=v.getValue(),V="";return p&&(V=ce(p)?p.checked?"true":"false":p.value),p=V,p!==C?(v.setValue(p),!0):!1}function We(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Re(p,v){var C=v.checked;return Te({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??p._wrapperState.initialChecked})}function Ee(p,v){var C=v.defaultValue==null?"":v.defaultValue,V=v.checked!=null?v.checked:v.defaultChecked;C=Ce(v.value!=null?v.value:C),p._wrapperState={initialChecked:V,initialValue:C,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function ie(p,v){v=v.checked,v!=null&&w(p,"checked",v,!1)}function Le(p,v){ie(p,v);var C=Ce(v.value),V=v.type;if(C!=null)V==="number"?(C===0&&p.value===""||p.value!=C)&&(p.value=""+C):p.value!==""+C&&(p.value=""+C);else if(V==="submit"||V==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?jt(p,v.type,C):v.hasOwnProperty("defaultValue")&&jt(p,v.type,Ce(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function Ze(p,v,C){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var V=v.type;if(!(V!=="submit"&&V!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,C||v===p.value||(p.value=v),p.defaultValue=v}C=p.name,C!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,C!==""&&(p.name=C)}function jt(p,v,C){(v!=="number"||We(p.ownerDocument)!==p)&&(C==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+C&&(p.defaultValue=""+C))}var Lt=Array.isArray;function Ct(p,v,C,V){if(p=p.options,v){v={};for(var pe=0;pe<C.length;pe++)v["$"+C[pe]]=!0;for(C=0;C<p.length;C++)pe=v.hasOwnProperty("$"+p[C].value),p[C].selected!==pe&&(p[C].selected=pe),pe&&V&&(p[C].defaultSelected=!0)}else{for(C=""+Ce(C),v=null,pe=0;pe<p.length;pe++){if(p[pe].value===C){p[pe].selected=!0,V&&(p[pe].defaultSelected=!0);return}v!==null||p[pe].disabled||(v=p[pe])}v!==null&&(v.selected=!0)}}function Xt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(n(91));return Te({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function _r(p,v){var C=v.value;if(C==null){if(C=v.children,v=v.defaultValue,C!=null){if(v!=null)throw Error(n(92));if(Lt(C)){if(1<C.length)throw Error(n(93));C=C[0]}v=C}v==null&&(v=""),C=v}p._wrapperState={initialValue:Ce(C)}}function Or(p,v){var C=Ce(v.value),V=Ce(v.defaultValue);C!=null&&(C=""+C,C!==p.value&&(p.value=C),v.defaultValue==null&&p.defaultValue!==C&&(p.defaultValue=C)),V!=null&&(p.defaultValue=""+V)}function He(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function Zt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?Zt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var $r,pr=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,C,V,pe){MSApp.execUnsafeLocalFunction(function(){return p(v,C,V,pe)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=$r.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function on(p,v){if(v){var C=p.firstChild;if(C&&C===p.lastChild&&C.nodeType===3){C.nodeValue=v;return}}p.textContent=v}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(p){qr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),Yr[v]=Yr[p]})});function Ir(p,v,C){return v==null||typeof v=="boolean"||v===""?"":C||typeof v!="number"||v===0||Yr.hasOwnProperty(p)&&Yr[p]?(""+v).trim():v+"px"}function dr(p,v){p=p.style;for(var C in v)if(v.hasOwnProperty(C)){var V=C.indexOf("--")===0,pe=Ir(C,v[C],V);C==="float"&&(C="cssFloat"),V?p.setProperty(C,pe):p[C]=pe}}var Cr=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vr(p,v){if(v){if(Cr[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(n(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(n(61))}if(v.style!=null&&typeof v.style!="object")throw Error(n(62))}}function zr(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function Wr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var $n=null,Lr=null,Dr=null;function jn(p){if(p=Tu(p)){if(typeof $n!="function")throw Error(n(280));var v=p.stateNode;v&&(v=vd(v),$n(p.stateNode,p.type,v))}}function cn(p){Lr?Dr?Dr.push(p):Dr=[p]:Lr=p}function bt(){if(Lr){var p=Lr,v=Dr;if(Dr=Lr=null,jn(p),v)for(p=0;p<v.length;p++)jn(v[p])}}function Sr(p,v){return p(v)}function dn(){}var Dn=!1;function Xr(p,v,C){if(Dn)return p(v,C);Dn=!0;try{return Sr(p,v,C)}finally{Dn=!1,(Lr!==null||Dr!==null)&&(dn(),bt())}}function Un(p,v){var C=p.stateNode;if(C===null)return null;var V=vd(C);if(V===null)return null;C=V[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(p=p.type,V=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!V;break e;default:p=!1}if(p)return null;if(C&&typeof C!="function")throw Error(n(231,v,typeof C));return C}var Ur=!1;if(l)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Ur=!1}function ls(p,v,C,V,pe,Se,$e,wt,Dt){var fr=Array.prototype.slice.call(arguments,3);try{v.apply(C,fr)}catch(Gr){this.onError(Gr)}}var Cn=!1,Bs=null,ji=!1,vi=null,Ui={onError:function(p){Cn=!0,Bs=p}};function Bi(p,v,C,V,pe,Se,$e,wt,Dt){Cn=!1,Bs=null,ls.apply(Ui,arguments)}function Es(p,v,C,V,pe,Se,$e,wt,Dt){if(Bi.apply(this,arguments),Cn){if(Cn){var fr=Bs;Cn=!1,Bs=null}else throw Error(n(198));ji||(ji=!0,vi=fr)}}function ri(p){var v=p,C=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(C=v.return),p=v.return;while(p)}return v.tag===3?C:null}function Gs(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Wa(p){if(ri(p)!==p)throw Error(n(188))}function jc(p){var v=p.alternate;if(!v){if(v=ri(p),v===null)throw Error(n(188));return v!==p?null:p}for(var C=p,V=v;;){var pe=C.return;if(pe===null)break;var Se=pe.alternate;if(Se===null){if(V=pe.return,V!==null){C=V;continue}break}if(pe.child===Se.child){for(Se=pe.child;Se;){if(Se===C)return Wa(pe),p;if(Se===V)return Wa(pe),v;Se=Se.sibling}throw Error(n(188))}if(C.return!==V.return)C=pe,V=Se;else{for(var $e=!1,wt=pe.child;wt;){if(wt===C){$e=!0,C=pe,V=Se;break}if(wt===V){$e=!0,V=pe,C=Se;break}wt=wt.sibling}if(!$e){for(wt=Se.child;wt;){if(wt===C){$e=!0,C=Se,V=pe;break}if(wt===V){$e=!0,V=Se,C=pe;break}wt=wt.sibling}if(!$e)throw Error(n(189))}}if(C.alternate!==V)throw Error(n(190))}if(C.tag!==3)throw Error(n(188));return C.stateNode.current===C?p:v}function gs(p){return p=jc(p),p!==null?Sl(p):null}function Sl(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=Sl(p);if(v!==null)return v;p=p.sibling}return null}var Cc=e.unstable_scheduleCallback,Bl=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,vo=e.unstable_requestPaint,ha=e.unstable_now,Zl=e.unstable_getCurrentPriorityLevel,ni=e.unstable_ImmediatePriority,Eo=e.unstable_UserBlockingPriority,qs=e.unstable_NormalPriority,Io=e.unstable_LowPriority,tl=e.unstable_IdlePriority,To=null,Qs=null;function Ci(p){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(To,p,void 0,(p.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:Uc,Al=Math.log,_o=Math.LN2;function Uc(p){return p>>>=0,p===0?32:31-(Al(p)/_o|0)|0}var cs=64,qn=4194304;function Qi(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function vs(p,v){var C=p.pendingLanes;if(C===0)return 0;var V=0,pe=p.suspendedLanes,Se=p.pingedLanes,$e=C&268435455;if($e!==0){var wt=$e&~pe;wt!==0?V=Qi(wt):(Se&=$e,Se!==0&&(V=Qi(Se)))}else $e=C&~pe,$e!==0?V=Qi($e):Se!==0&&(V=Qi(Se));if(V===0)return 0;if(v!==0&&v!==V&&(v&pe)===0&&(pe=V&-V,Se=v&-v,pe>=Se||pe===16&&(Se&4194240)!==0))return v;if((V&4)!==0&&(V|=C&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=V;0<v;)C=31-ai(v),pe=1<<C,V|=p[C],v&=~pe;return V}function xs(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(p,v){for(var C=p.suspendedLanes,V=p.pingedLanes,pe=p.expirationTimes,Se=p.pendingLanes;0<Se;){var $e=31-ai(Se),wt=1<<$e,Dt=pe[$e];Dt===-1?((wt&C)===0||(wt&V)!==0)&&(pe[$e]=xs(wt,v)):Dt<=v&&(p.expiredLanes|=wt),Se&=~wt}}function Di(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function oo(){var p=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),p}function Xi(p){for(var v=[],C=0;31>C;C++)v.push(p);return v}function ki(p,v,C){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-ai(v),p[v]=C}function xo(p,v){var C=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var V=p.eventTimes;for(p=p.expirationTimes;0<C;){var pe=31-ai(C),Se=1<<pe;v[pe]=0,V[pe]=-1,p[pe]=-1,C&=~Se}}function ko(p,v){var C=p.entangledLanes|=v;for(p=p.entanglements;C;){var V=31-ai(C),pe=1<<V;pe&v|p[V]&v&&(p[V]|=v),C&=~pe}}var ma=0;function Wi(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var ys,Xs,Ps,Po,Ut,Q=!1,oe=[],he=null,R=null,W=null,te=new Map,je=new Map,ke=[],Ge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function it(p,v){switch(p){case"focusin":case"focusout":he=null;break;case"dragenter":case"dragleave":R=null;break;case"mouseover":case"mouseout":W=null;break;case"pointerover":case"pointerout":te.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":je.delete(v.pointerId)}}function I(p,v,C,V,pe,Se){return p===null||p.nativeEvent!==Se?(p={blockedOn:v,domEventName:C,eventSystemFlags:V,nativeEvent:Se,targetContainers:[pe]},v!==null&&(v=Tu(v),v!==null&&Xs(v)),p):(p.eventSystemFlags|=V,v=p.targetContainers,pe!==null&&v.indexOf(pe)===-1&&v.push(pe),p)}function B(p,v,C,V,pe){switch(v){case"focusin":return he=I(he,p,v,C,V,pe),!0;case"dragenter":return R=I(R,p,v,C,V,pe),!0;case"mouseover":return W=I(W,p,v,C,V,pe),!0;case"pointerover":var Se=pe.pointerId;return te.set(Se,I(te.get(Se)||null,p,v,C,V,pe)),!0;case"gotpointercapture":return Se=pe.pointerId,je.set(Se,I(je.get(Se)||null,p,v,C,V,pe)),!0}return!1}function M(p){var v=Go(p.target);if(v!==null){var C=ri(v);if(C!==null){if(v=C.tag,v===13){if(v=Gs(C),v!==null){p.blockedOn=v,Ut(p.priority,function(){Ps(C)});return}}else if(v===3&&C.stateNode.current.memoizedState.isDehydrated){p.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}p.blockedOn=null}function z(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var C=vt(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(C===null){C=p.nativeEvent;var V=new C.constructor(C.type,C);vn=V,C.target.dispatchEvent(V),vn=null}else return v=Tu(C),v!==null&&Xs(v),p.blockedOn=C,!1;v.shift()}return!0}function Y(p,v,C){z(p)&&C.delete(v)}function re(){Q=!1,he!==null&&z(he)&&(he=null),R!==null&&z(R)&&(R=null),W!==null&&z(W)&&(W=null),te.forEach(Y),je.forEach(Y)}function Ne(p,v){p.blockedOn===v&&(p.blockedOn=null,Q||(Q=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,re)))}function ge(p){function v(pe){return Ne(pe,p)}if(0<oe.length){Ne(oe[0],p);for(var C=1;C<oe.length;C++){var V=oe[C];V.blockedOn===p&&(V.blockedOn=null)}}for(he!==null&&Ne(he,p),R!==null&&Ne(R,p),W!==null&&Ne(W,p),te.forEach(v),je.forEach(v),C=0;C<ke.length;C++)V=ke[C],V.blockedOn===p&&(V.blockedOn=null);for(;0<ke.length&&(C=ke[0],C.blockedOn===null);)M(C),C.blockedOn===null&&ke.shift()}var xe=N.ReactCurrentBatchConfig,De=!0;function Ve(p,v,C,V){var pe=ma,Se=xe.transition;xe.transition=null;try{ma=1,st(p,v,C,V)}finally{ma=pe,xe.transition=Se}}function et(p,v,C,V){var pe=ma,Se=xe.transition;xe.transition=null;try{ma=4,st(p,v,C,V)}finally{ma=pe,xe.transition=Se}}function st(p,v,C,V){if(De){var pe=vt(p,v,C,V);if(pe===null)iu(p,v,V,Oe,C),it(p,V);else if(B(pe,p,v,C,V))V.stopPropagation();else if(it(p,V),v&4&&-1<Ge.indexOf(p)){for(;pe!==null;){var Se=Tu(pe);if(Se!==null&&ys(Se),Se=vt(p,v,C,V),Se===null&&iu(p,v,V,Oe,C),Se===pe)break;pe=Se}pe!==null&&V.stopPropagation()}else iu(p,v,V,null,C)}}var Oe=null;function vt(p,v,C,V){if(Oe=null,p=Wr(V),p=Go(p),p!==null)if(v=ri(p),v===null)p=null;else if(C=v.tag,C===13){if(p=Gs(v),p!==null)return p;p=null}else if(C===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Oe=p,null}function mt(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zl()){case ni:return 1;case Eo:return 4;case qs:case Io:return 16;case tl:return 536870912;default:return 16}default:return 16}}var yt=null,nt=null,kt=null;function Kt(){if(kt)return kt;var p,v=nt,C=v.length,V,pe="value"in yt?yt.value:yt.textContent,Se=pe.length;for(p=0;p<C&&v[p]===pe[p];p++);var $e=C-p;for(V=1;V<=$e&&v[C-V]===pe[Se-V];V++);return kt=pe.slice(p,1<V?1-V:void 0)}function Et(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function tt(){return!0}function Qt(){return!1}function lr(p){function v(C,V,pe,Se,$e){this._reactName=C,this._targetInst=pe,this.type=V,this.nativeEvent=Se,this.target=$e,this.currentTarget=null;for(var wt in p)p.hasOwnProperty(wt)&&(C=p[wt],this[wt]=C?C(Se):Se[wt]);return this.isDefaultPrevented=(Se.defaultPrevented!=null?Se.defaultPrevented:Se.returnValue===!1)?tt:Qt,this.isPropagationStopped=Qt,this}return Te(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){},isPersistent:tt}),v}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_t=lr(qt),or=Te({},qt,{view:0,detail:0}),at=lr(or),dt,It,Tt,cr=Te({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Tt&&(Tt&&p.type==="mousemove"?(dt=p.screenX-Tt.screenX,It=p.screenY-Tt.screenY):It=dt=0,Tt=p),dt)},movementY:function(p){return"movementY"in p?p.movementY:It}}),Ar=lr(cr),xr=Te({},cr,{dataTransfer:0}),Jt=lr(xr),gr=Te({},or,{relatedTarget:0}),Zr=lr(gr),Hr=Te({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ye=lr(Hr),xt=Te({},qt,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Nt=lr(xt),Wt=Te({},qt,{data:0}),zt=lr(Wt),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=vr[p])?!!v[p]:!1}function Jr(){return Pr}var Nn=Te({},or,{key:function(p){if(p.key){var v=nr[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Et(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?mr[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(p){return p.type==="keypress"?Et(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Et(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Bn=lr(Nn),ca=Te({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ut=lr(ca),hn=Te({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),ga=lr(hn),un=Te({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qr=lr(un),oa=Te({},cr,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=lr(oa),Jn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ai=null;l&&"documentMode"in document&&(Ai=document.documentMode);var La=l&&"TextEvent"in window&&!Ai,Fn=l&&(!Rn||Ai&&8<Ai&&11>=Ai),si=" ",la=!1;function On(p,v){switch(p){case"keyup":return Jn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var kn=!1;function wa(p,v){switch(p){case"compositionend":return ua(v);case"keypress":return v.which!==32?null:(la=!0,si);case"textInput":return p=v.data,p===si&&la?null:p;default:return null}}function ci(p,v){if(kn)return p==="compositionend"||!Rn&&On(p,v)?(p=Kt(),kt=nt=yt=null,kn=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Fn&&v.locale!=="ko"?null:v.data;default:return null}}var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function za(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Va[p.type]:v==="textarea"}function es(p,v,C,V){cn(V),v=$u(v,"onChange"),0<v.length&&(C=new _t("onChange","change",null,C,V),p.push({event:C,listeners:v}))}var Kn=null,Ei=null;function va(p){rc(p,0)}function zn(p){var v=gl(p);if(se(v))return p}function Ii(p,v){if(p==="change")return v}var ja=!1;if(l){var En;if(l){var Xa="oninput"in document;if(!Xa){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),Xa=typeof tu.oninput=="function"}En=Xa}else En=!1;ja=En&&(!document.documentMode||9<document.documentMode)}function Ws(){Kn&&(Kn.detachEvent("onpropertychange",yo),Ei=Kn=null)}function yo(p){if(p.propertyName==="value"&&zn(Ei)){var v=[];es(v,Ei,p,Wr(p)),Xr(va,v)}}function Nc(p,v,C){p==="focusin"?(Ws(),Kn=v,Ei=C,Kn.attachEvent("onpropertychange",yo)):p==="focusout"&&Ws()}function fa(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return zn(Ei)}function bs(p,v){if(p==="click")return zn(v)}function bo(p,v){if(p==="input"||p==="change")return zn(v)}function El(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Fs=typeof Object.is=="function"?Object.is:El;function Pi(p,v){if(Fs(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var C=Object.keys(p),V=Object.keys(v);if(C.length!==V.length)return!1;for(V=0;V<C.length;V++){var pe=C[V];if(!u.call(v,pe)||!Fs(p[pe],v[pe]))return!1}return!0}function Is(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function lo(p,v){var C=Is(p);p=0;for(var V;C;){if(C.nodeType===3){if(V=p+C.textContent.length,p<=v&&V>=v)return{node:C,offset:v-p};p=V}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=Is(C)}}function ru(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?ru(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Ys(){for(var p=window,v=We();v instanceof p.HTMLIFrameElement;){try{var C=typeof v.contentWindow.location.href=="string"}catch{C=!1}if(C)p=v.contentWindow;else break;v=We(p.document)}return v}function rl(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Sc(p){var v=Ys(),C=p.focusedElem,V=p.selectionRange;if(v!==C&&C&&C.ownerDocument&&ru(C.ownerDocument.documentElement,C)){if(V!==null&&rl(C)){if(v=V.start,p=V.end,p===void 0&&(p=v),"selectionStart"in C)C.selectionStart=v,C.selectionEnd=Math.min(p,C.value.length);else if(p=(v=C.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var pe=C.textContent.length,Se=Math.min(V.start,pe);V=V.end===void 0?Se:Math.min(V.end,pe),!p.extend&&Se>V&&(pe=V,V=Se,Se=pe),pe=lo(C,Se);var $e=lo(C,V);pe&&$e&&(p.rangeCount!==1||p.anchorNode!==pe.node||p.anchorOffset!==pe.offset||p.focusNode!==$e.node||p.focusOffset!==$e.offset)&&(v=v.createRange(),v.setStart(pe.node,pe.offset),p.removeAllRanges(),Se>V?(p.addRange(v),p.extend($e.node,$e.offset)):(v.setEnd($e.node,$e.offset),p.addRange(v)))}}for(v=[],p=C;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<v.length;C++)p=v[C],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Jl=l&&"documentMode"in document&&11>=document.documentMode,Zs=null,nl=null,Il=null,Vo=!1;function Fo(p,v,C){var V=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;Vo||Zs==null||Zs!==We(V)||(V=Zs,"selectionStart"in V&&rl(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),Il&&Pi(Il,V)||(Il=V,V=$u(nl,"onSelect"),0<V.length&&(v=new _t("onSelect","select",null,v,C),p.push({event:v,listeners:V}),v.target=Zs)))}function ec(p,v){var C={};return C[p.toLowerCase()]=v.toLowerCase(),C["Webkit"+p]="webkit"+v,C["Moz"+p]="moz"+v,C}var Tl={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Bc={},dd={};l&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Hc(p){if(Bc[p])return Bc[p];if(!Tl[p])return p;var v=Tl[p],C;for(C in v)if(v.hasOwnProperty(C)&&C in dd)return Bc[p]=v[C];return p}var hd=Hc("animationend"),nu=Hc("animationiteration"),zo=Hc("animationstart"),au=Hc("transitionend"),wu=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _l(p,v){wu.set(p,v),s(v,[p])}for(var Hu=0;Hu<Uu.length;Hu++){var Qu=Uu[Hu],tc=Qu.toLowerCase(),Wu=Qu[0].toUpperCase()+Qu.slice(1);_l(tc,"on"+Wu)}_l(hd,"onAnimationEnd"),_l(nu,"onAnimationIteration"),_l(zo,"onAnimationStart"),_l("dblclick","onDoubleClick"),_l("focusin","onFocus"),_l("focusout","onBlur"),_l(au,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ya=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function fd(p,v,C){var V=p.type||"unknown-event";p.currentTarget=C,Es(V,v,void 0,p),p.currentTarget=null}function rc(p,v){v=(v&4)!==0;for(var C=0;C<p.length;C++){var V=p[C],pe=V.event;V=V.listeners;e:{var Se=void 0;if(v)for(var $e=V.length-1;0<=$e;$e--){var wt=V[$e],Dt=wt.instance,fr=wt.currentTarget;if(wt=wt.listener,Dt!==Se&&pe.isPropagationStopped())break e;fd(pe,wt,fr),Se=Dt}else for($e=0;$e<V.length;$e++){if(wt=V[$e],Dt=wt.instance,fr=wt.currentTarget,wt=wt.listener,Dt!==Se&&pe.isPropagationStopped())break e;fd(pe,wt,fr),Se=Dt}}}if(ji)throw p=vi,ji=!1,vi=null,p}function xi(p,v){var C=v[Vd];C===void 0&&(C=v[Vd]=new Set);var V=p+"__bubble";C.has(V)||(Ec(v,p,2,!1),C.add(V))}function Ad(p,v,C){var V=0;v&&(V|=4),Ec(C,p,V,v)}var pl="_reactListening"+Math.random().toString(36).slice(2);function Ts(p){if(!p[pl]){p[pl]=!0,a.forEach(function(C){C!=="selectionchange"&&(ya.has(C)||Ad(C,!1,p),Ad(C,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[pl]||(v[pl]=!0,Ad("selectionchange",!1,v))}}function Ec(p,v,C,V){switch(mt(v)){case 1:var pe=Ve;break;case 4:pe=et;break;default:pe=st}C=pe.bind(null,v,C,p),pe=void 0,!Ur||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(pe=!0),V?pe!==void 0?p.addEventListener(v,C,{capture:!0,passive:pe}):p.addEventListener(v,C,!0):pe!==void 0?p.addEventListener(v,C,{passive:pe}):p.addEventListener(v,C,!1)}function iu(p,v,C,V,pe){var Se=V;if((v&1)===0&&(v&2)===0&&V!==null)e:for(;;){if(V===null)return;var $e=V.tag;if($e===3||$e===4){var wt=V.stateNode.containerInfo;if(wt===pe||wt.nodeType===8&&wt.parentNode===pe)break;if($e===4)for($e=V.return;$e!==null;){var Dt=$e.tag;if((Dt===3||Dt===4)&&(Dt=$e.stateNode.containerInfo,Dt===pe||Dt.nodeType===8&&Dt.parentNode===pe))return;$e=$e.return}for(;wt!==null;){if($e=Go(wt),$e===null)return;if(Dt=$e.tag,Dt===5||Dt===6){V=Se=$e;continue e}wt=wt.parentNode}}V=V.return}Xr(function(){var fr=Se,Gr=Wr(C),tn=[];e:{var Kr=wu.get(p);if(Kr!==void 0){var Ln=_t,Zn=p;switch(p){case"keypress":if(Et(C)===0)break e;case"keydown":case"keyup":Ln=Bn;break;case"focusin":Zn="focus",Ln=Zr;break;case"focusout":Zn="blur",Ln=Zr;break;case"beforeblur":case"afterblur":Ln=Zr;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ln=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ln=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ln=ga;break;case hd:case nu:case zo:Ln=Ye;break;case au:Ln=Qr;break;case"scroll":Ln=at;break;case"wheel":Ln=Mn;break;case"copy":case"cut":case"paste":Ln=Nt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ln=ut}var ra=(v&4)!==0,dl=!ra&&p==="scroll",sr=ra?Kr!==null?Kr+"Capture":null:Kr;ra=[];for(var Vt=fr,hr;Vt!==null;){hr=Vt;var sn=hr.stateNode;if(hr.tag===5&&sn!==null&&(hr=sn,sr!==null&&(sn=Un(Vt,sr),sn!=null&&ra.push(Ol(Vt,sn,hr)))),dl)break;Vt=Vt.return}0<ra.length&&(Kr=new Ln(Kr,Zn,null,C,Gr),tn.push({event:Kr,listeners:ra}))}}if((v&7)===0){e:{if(Kr=p==="mouseover"||p==="pointerover",Ln=p==="mouseout"||p==="pointerout",Kr&&C!==vn&&(Zn=C.relatedTarget||C.fromElement)&&(Go(Zn)||Zn[nc]))break e;if((Ln||Kr)&&(Kr=Gr.window===Gr?Gr:(Kr=Gr.ownerDocument)?Kr.defaultView||Kr.parentWindow:window,Ln?(Zn=C.relatedTarget||C.toElement,Ln=fr,Zn=Zn?Go(Zn):null,Zn!==null&&(dl=ri(Zn),Zn!==dl||Zn.tag!==5&&Zn.tag!==6)&&(Zn=null)):(Ln=null,Zn=fr),Ln!==Zn)){if(ra=Ar,sn="onMouseLeave",sr="onMouseEnter",Vt="mouse",(p==="pointerout"||p==="pointerover")&&(ra=ut,sn="onPointerLeave",sr="onPointerEnter",Vt="pointer"),dl=Ln==null?Kr:gl(Ln),hr=Zn==null?Kr:gl(Zn),Kr=new ra(sn,Vt+"leave",Ln,C,Gr),Kr.target=dl,Kr.relatedTarget=hr,sn=null,Go(Gr)===fr&&(ra=new ra(sr,Vt+"enter",Zn,C,Gr),ra.target=hr,ra.relatedTarget=dl,sn=ra),dl=sn,Ln&&Zn)t:{for(ra=Ln,sr=Zn,Vt=0,hr=ra;hr;hr=Ko(hr))Vt++;for(hr=0,sn=sr;sn;sn=Ko(sn))hr++;for(;0<Vt-hr;)ra=Ko(ra),Vt--;for(;0<hr-Vt;)sr=Ko(sr),hr--;for(;Vt--;){if(ra===sr||sr!==null&&ra===sr.alternate)break t;ra=Ko(ra),sr=Ko(sr)}ra=null}else ra=null;Ln!==null&&pd(tn,Kr,Ln,ra,!1),Zn!==null&&dl!==null&&pd(tn,dl,Zn,ra,!0)}}e:{if(Kr=fr?gl(fr):window,Ln=Kr.nodeName&&Kr.nodeName.toLowerCase(),Ln==="select"||Ln==="input"&&Kr.type==="file")var sa=Ii;else if(za(Kr))if(ja)sa=bo;else{sa=fa;var Ia=Nc}else(Ln=Kr.nodeName)&&Ln.toLowerCase()==="input"&&(Kr.type==="checkbox"||Kr.type==="radio")&&(sa=bs);if(sa&&(sa=sa(p,fr))){es(tn,sa,C,Gr);break e}Ia&&Ia(p,Kr,fr),p==="focusout"&&(Ia=Kr._wrapperState)&&Ia.controlled&&Kr.type==="number"&&jt(Kr,"number",Kr.value)}switch(Ia=fr?gl(fr):window,p){case"focusin":(za(Ia)||Ia.contentEditable==="true")&&(Zs=Ia,nl=fr,Il=null);break;case"focusout":Il=nl=Zs=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,Fo(tn,C,Gr);break;case"selectionchange":if(Jl)break;case"keydown":case"keyup":Fo(tn,C,Gr)}var Ta;if(Rn)e:{switch(p){case"compositionstart":var Ga="onCompositionStart";break e;case"compositionend":Ga="onCompositionEnd";break e;case"compositionupdate":Ga="onCompositionUpdate";break e}Ga=void 0}else kn?On(p,C)&&(Ga="onCompositionEnd"):p==="keydown"&&C.keyCode===229&&(Ga="onCompositionStart");Ga&&(Fn&&C.locale!=="ko"&&(kn||Ga!=="onCompositionStart"?Ga==="onCompositionEnd"&&kn&&(Ta=Kt()):(yt=Gr,nt="value"in yt?yt.value:yt.textContent,kn=!0)),Ia=$u(fr,Ga),0<Ia.length&&(Ga=new zt(Ga,p,null,C,Gr),tn.push({event:Ga,listeners:Ia}),Ta?Ga.data=Ta:(Ta=ua(C),Ta!==null&&(Ga.data=Ta)))),(Ta=La?wa(p,C):ci(p,C))&&(fr=$u(fr,"onBeforeInput"),0<fr.length&&(Gr=new zt("onBeforeInput","beforeinput",null,C,Gr),tn.push({event:Gr,listeners:fr}),Gr.data=Ta))}rc(tn,v)})}function Ol(p,v,C){return{instance:p,listener:v,currentTarget:C}}function $u(p,v){for(var C=v+"Capture",V=[];p!==null;){var pe=p,Se=pe.stateNode;pe.tag===5&&Se!==null&&(pe=Se,Se=Un(p,C),Se!=null&&V.unshift(Ol(p,Se,pe)),Se=Un(p,v),Se!=null&&V.push(Ol(p,Se,pe))),p=p.return}return V}function Ko(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function pd(p,v,C,V,pe){for(var Se=v._reactName,$e=[];C!==null&&C!==V;){var wt=C,Dt=wt.alternate,fr=wt.stateNode;if(Dt!==null&&Dt===V)break;wt.tag===5&&fr!==null&&(wt=fr,pe?(Dt=Un(C,Se),Dt!=null&&$e.unshift(Ol(C,Dt,wt))):pe||(Dt=Un(C,Se),Dt!=null&&$e.push(Ol(C,Dt,wt)))),C=C.return}$e.length!==0&&p.push({event:v,listeners:$e})}var Cu=/\r\n?/g,md=/\u0000|\uFFFD/g;function su(p){return(typeof p=="string"?p:""+p).replace(Cu,`
`).replace(md,"")}function Nu(p,v,C){if(v=su(v),su(p)!==v&&C)throw Error(n(425))}function Su(){}var Bu=null,Eu=null;function gd(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,Rh=typeof clearTimeout=="function"?clearTimeout:void 0,Iu=typeof Promise=="function"?Promise:void 0,$d=typeof queueMicrotask=="function"?queueMicrotask:typeof Iu<"u"?function(p){return Iu.resolve(null).then(p).catch(Lh)}:kl;function Lh(p){setTimeout(function(){throw p})}function Ca(p,v){var C=v,V=0;do{var pe=C.nextSibling;if(p.removeChild(C),pe&&pe.nodeType===8)if(C=pe.data,C==="/$"){if(V===0){p.removeChild(pe),ge(v);return}V--}else C!=="$"&&C!=="$?"&&C!=="$!"||V++;C=pe}while(C);ge(v)}function Qc(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function fh(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var C=p.data;if(C==="$"||C==="$!"||C==="$?"){if(v===0)return p;v--}else C==="/$"&&v++}p=p.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),wo="__reactFiber$"+Ic,Pl="__reactProps$"+Ic,nc="__reactContainer$"+Ic,Vd="__reactEvents$"+Ic,ml="__reactListeners$"+Ic,Vu="__reactHandles$"+Ic;function Go(p){var v=p[wo];if(v)return v;for(var C=p.parentNode;C;){if(v=C[nc]||C[wo]){if(C=v.alternate,v.child!==null||C!==null&&C.child!==null)for(p=fh(p);p!==null;){if(C=p[wo])return C;p=fh(p)}return v}p=C,C=p.parentNode}return null}function Tu(p){return p=p[wo]||p[nc],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function gl(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function vd(p){return p[Pl]||null}var Tc=[],ac=-1;function Fl(p){return{current:p}}function ui(p){0>ac||(p.current=Tc[ac],Tc[ac]=null,ac--)}function Ti(p,v){ac++,Tc[ac]=p.current,p.current=v}var Dl={},ws=Fl(Dl),Ds=Fl(!1),_c=Dl;function ou(p,v){var C=p.type.contextTypes;if(!C)return Dl;var V=p.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===v)return V.__reactInternalMemoizedMaskedChildContext;var pe={},Se;for(Se in C)pe[Se]=v[Se];return V&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=pe),pe}function Do(p){return p=p.childContextTypes,p!=null}function ic(){ui(Ds),ui(ws)}function Wc(p,v,C){if(ws.current!==Dl)throw Error(n(168));Ti(ws,v),Ti(Ds,C)}function zd(p,v,C){var V=p.stateNode;if(v=v.childContextTypes,typeof V.getChildContext!="function")return C;V=V.getChildContext();for(var pe in V)if(!(pe in v))throw Error(n(108,Pe(p)||"Unknown",pe));return Te({},C,V)}function $c(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Dl,_c=ws.current,Ti(ws,p),Ti(Ds,Ds.current),!0}function Kd(p,v,C){var V=p.stateNode;if(!V)throw Error(n(169));C?(p=zd(p,v,_c),V.__reactInternalMemoizedMergedChildContext=p,ui(Ds),ui(ws),Ti(ws,p)):ui(Ds),Ti(Ds,C)}var fe=null,Ue=!1,gt=!1;function Ot(p){fe===null?fe=[p]:fe.push(p)}function Gt(p){Ue=!0,Ot(p)}function yr(){if(!gt&&fe!==null){gt=!0;var p=0,v=ma;try{var C=fe;for(ma=1;p<C.length;p++){var V=C[p];do V=V(!0);while(V!==null)}fe=null,Ue=!1}catch(pe){throw fe!==null&&(fe=fe.slice(p+1)),Cc(ni,yr),pe}finally{ma=v,gt=!1}}return null}var Fr=[],In=0,Hn=null,Aa=0,aa=[],Oa=0,Fi=null,Mi=1,hi="";function us(p,v){Fr[In++]=Aa,Fr[In++]=Hn,Hn=p,Aa=v}function T(p,v,C){aa[Oa++]=Mi,aa[Oa++]=hi,aa[Oa++]=Fi,Fi=p;var V=Mi;p=hi;var pe=32-ai(V)-1;V&=~(1<<pe),C+=1;var Se=32-ai(v)+pe;if(30<Se){var $e=pe-pe%5;Se=(V&(1<<$e)-1).toString(32),V>>=$e,pe-=$e,Mi=1<<32-ai(v)+pe|C<<pe|V,hi=Se+p}else Mi=1<<Se|C<<pe|V,hi=p}function Me(p){p.return!==null&&(us(p,1),T(p,1,0))}function J(p){for(;p===Hn;)Hn=Fr[--In],Fr[In]=null,Aa=Fr[--In],Fr[In]=null;for(;p===Fi;)Fi=aa[--Oa],aa[Oa]=null,hi=aa[--Oa],aa[Oa]=null,Mi=aa[--Oa],aa[Oa]=null}var Xe=null,ht=null,ot=!1,er=null;function $t(p,v){var C=Ht(5,null,null,0);C.elementType="DELETED",C.stateNode=v,C.return=p,v=p.deletions,v===null?(p.deletions=[C],p.flags|=16):v.push(C)}function Sn(p,v){switch(p.tag){case 5:var C=p.type;return v=v.nodeType!==1||C.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Xe=p,ht=Qc(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Xe=p,ht=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(C=Fi!==null?{id:Mi,overflow:hi}:null,p.memoizedState={dehydrated:v,treeContext:C,retryLane:1073741824},C=Ht(18,null,null,0),C.stateNode=v,C.return=p,p.child=C,Xe=p,ht=null,!0):!1;default:return!1}}function Pt(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ir(p){if(ot){var v=ht;if(v){var C=v;if(!Sn(p,v)){if(Pt(p))throw Error(n(418));v=Qc(C.nextSibling);var V=Xe;v&&Sn(p,v)?$t(V,C):(p.flags=p.flags&-4097|2,ot=!1,Xe=p)}}else{if(Pt(p))throw Error(n(418));p.flags=p.flags&-4097|2,ot=!1,Xe=p}}}function xa(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Xe=p}function fn(p){if(p!==Xe)return!1;if(!ot)return xa(p),ot=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!gd(p.type,p.memoizedProps)),v&&(v=ht)){if(Pt(p))throw Mr(),Error(n(418));for(;v;)$t(p,v),v=Qc(v.nextSibling)}if(xa(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var C=p.data;if(C==="/$"){if(v===0){ht=Qc(p.nextSibling);break e}v--}else C!=="$"&&C!=="$!"&&C!=="$?"||v++}p=p.nextSibling}ht=null}}else ht=Xe?Qc(p.stateNode.nextSibling):null;return!0}function Mr(){for(var p=ht;p;)p=Qc(p.nextSibling)}function br(){ht=Xe=null,ot=!1}function Ri(p){er===null?er=[p]:er.push(p)}var ba=N.ReactCurrentBatchConfig;function ia(p,v,C){if(p=C.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(n(309));var V=C.stateNode}if(!V)throw Error(n(147,p));var pe=V,Se=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Se?v.ref:(v=function($e){var wt=pe.refs;$e===null?delete wt[Se]:wt[Se]=$e},v._stringRef=Se,v)}if(typeof p!="string")throw Error(n(284));if(!C._owner)throw Error(n(290,p))}return p}function Na(p,v){throw p=Object.prototype.toString.call(v),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Ya(p){var v=p._init;return v(p._payload)}function an(p){function v(sr,Vt){if(p){var hr=sr.deletions;hr===null?(sr.deletions=[Vt],sr.flags|=16):hr.push(Vt)}}function C(sr,Vt){if(!p)return null;for(;Vt!==null;)v(sr,Vt),Vt=Vt.sibling;return null}function V(sr,Vt){for(sr=new Map;Vt!==null;)Vt.key!==null?sr.set(Vt.key,Vt):sr.set(Vt.index,Vt),Vt=Vt.sibling;return sr}function pe(sr,Vt){return sr=bn(sr,Vt),sr.index=0,sr.sibling=null,sr}function Se(sr,Vt,hr){return sr.index=hr,p?(hr=sr.alternate,hr!==null?(hr=hr.index,hr<Vt?(sr.flags|=2,Vt):hr):(sr.flags|=2,Vt)):(sr.flags|=1048576,Vt)}function $e(sr){return p&&sr.alternate===null&&(sr.flags|=2),sr}function wt(sr,Vt,hr,sn){return Vt===null||Vt.tag!==6?(Vt=Yn(hr,sr.mode,sn),Vt.return=sr,Vt):(Vt=pe(Vt,hr),Vt.return=sr,Vt)}function Dt(sr,Vt,hr,sn){var sa=hr.type;return sa===_?Gr(sr,Vt,hr.props.children,sn,hr.key):Vt!==null&&(Vt.elementType===sa||typeof sa=="object"&&sa!==null&&sa.$$typeof===L&&Ya(sa)===Vt.type)?(sn=pe(Vt,hr.props),sn.ref=ia(sr,Vt,hr),sn.return=sr,sn):(sn=nn(hr.type,hr.key,hr.props,null,sr.mode,sn),sn.ref=ia(sr,Vt,hr),sn.return=sr,sn)}function fr(sr,Vt,hr,sn){return Vt===null||Vt.tag!==4||Vt.stateNode.containerInfo!==hr.containerInfo||Vt.stateNode.implementation!==hr.implementation?(Vt=Vn(hr,sr.mode,sn),Vt.return=sr,Vt):(Vt=pe(Vt,hr.children||[]),Vt.return=sr,Vt)}function Gr(sr,Vt,hr,sn,sa){return Vt===null||Vt.tag!==7?(Vt=xn(hr,sr.mode,sn,sa),Vt.return=sr,Vt):(Vt=pe(Vt,hr),Vt.return=sr,Vt)}function tn(sr,Vt,hr){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return Vt=Yn(""+Vt,sr.mode,hr),Vt.return=sr,Vt;if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case S:return hr=nn(Vt.type,Vt.key,Vt.props,null,sr.mode,hr),hr.ref=ia(sr,null,Vt),hr.return=sr,hr;case j:return Vt=Vn(Vt,sr.mode,hr),Vt.return=sr,Vt;case L:var sn=Vt._init;return tn(sr,sn(Vt._payload),hr)}if(Lt(Vt)||Be(Vt))return Vt=xn(Vt,sr.mode,hr,null),Vt.return=sr,Vt;Na(sr,Vt)}return null}function Kr(sr,Vt,hr,sn){var sa=Vt!==null?Vt.key:null;if(typeof hr=="string"&&hr!==""||typeof hr=="number")return sa!==null?null:wt(sr,Vt,""+hr,sn);if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case S:return hr.key===sa?Dt(sr,Vt,hr,sn):null;case j:return hr.key===sa?fr(sr,Vt,hr,sn):null;case L:return sa=hr._init,Kr(sr,Vt,sa(hr._payload),sn)}if(Lt(hr)||Be(hr))return sa!==null?null:Gr(sr,Vt,hr,sn,null);Na(sr,hr)}return null}function Ln(sr,Vt,hr,sn,sa){if(typeof sn=="string"&&sn!==""||typeof sn=="number")return sr=sr.get(hr)||null,wt(Vt,sr,""+sn,sa);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case S:return sr=sr.get(sn.key===null?hr:sn.key)||null,Dt(Vt,sr,sn,sa);case j:return sr=sr.get(sn.key===null?hr:sn.key)||null,fr(Vt,sr,sn,sa);case L:var Ia=sn._init;return Ln(sr,Vt,hr,Ia(sn._payload),sa)}if(Lt(sn)||Be(sn))return sr=sr.get(hr)||null,Gr(Vt,sr,sn,sa,null);Na(Vt,sn)}return null}function Zn(sr,Vt,hr,sn){for(var sa=null,Ia=null,Ta=Vt,Ga=Vt=0,pc=null;Ta!==null&&Ga<hr.length;Ga++){Ta.index>Ga?(pc=Ta,Ta=null):pc=Ta.sibling;var as=Kr(sr,Ta,hr[Ga],sn);if(as===null){Ta===null&&(Ta=pc);break}p&&Ta&&as.alternate===null&&v(sr,Ta),Vt=Se(as,Vt,Ga),Ia===null?sa=as:Ia.sibling=as,Ia=as,Ta=pc}if(Ga===hr.length)return C(sr,Ta),ot&&us(sr,Ga),sa;if(Ta===null){for(;Ga<hr.length;Ga++)Ta=tn(sr,hr[Ga],sn),Ta!==null&&(Vt=Se(Ta,Vt,Ga),Ia===null?sa=Ta:Ia.sibling=Ta,Ia=Ta);return ot&&us(sr,Ga),sa}for(Ta=V(sr,Ta);Ga<hr.length;Ga++)pc=Ln(Ta,sr,Ga,hr[Ga],sn),pc!==null&&(p&&pc.alternate!==null&&Ta.delete(pc.key===null?Ga:pc.key),Vt=Se(pc,Vt,Ga),Ia===null?sa=pc:Ia.sibling=pc,Ia=pc);return p&&Ta.forEach(function($f){return v(sr,$f)}),ot&&us(sr,Ga),sa}function ra(sr,Vt,hr,sn){var sa=Be(hr);if(typeof sa!="function")throw Error(n(150));if(hr=sa.call(hr),hr==null)throw Error(n(151));for(var Ia=sa=null,Ta=Vt,Ga=Vt=0,pc=null,as=hr.next();Ta!==null&&!as.done;Ga++,as=hr.next()){Ta.index>Ga?(pc=Ta,Ta=null):pc=Ta.sibling;var $f=Kr(sr,Ta,as.value,sn);if($f===null){Ta===null&&(Ta=pc);break}p&&Ta&&$f.alternate===null&&v(sr,Ta),Vt=Se($f,Vt,Ga),Ia===null?sa=$f:Ia.sibling=$f,Ia=$f,Ta=pc}if(as.done)return C(sr,Ta),ot&&us(sr,Ga),sa;if(Ta===null){for(;!as.done;Ga++,as=hr.next())as=tn(sr,as.value,sn),as!==null&&(Vt=Se(as,Vt,Ga),Ia===null?sa=as:Ia.sibling=as,Ia=as);return ot&&us(sr,Ga),sa}for(Ta=V(sr,Ta);!as.done;Ga++,as=hr.next())as=Ln(Ta,sr,Ga,as.value,sn),as!==null&&(p&&as.alternate!==null&&Ta.delete(as.key===null?Ga:as.key),Vt=Se(as,Vt,Ga),Ia===null?sa=as:Ia.sibling=as,Ia=as);return p&&Ta.forEach(function(uD){return v(sr,uD)}),ot&&us(sr,Ga),sa}function dl(sr,Vt,hr,sn){if(typeof hr=="object"&&hr!==null&&hr.type===_&&hr.key===null&&(hr=hr.props.children),typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case S:e:{for(var sa=hr.key,Ia=Vt;Ia!==null;){if(Ia.key===sa){if(sa=hr.type,sa===_){if(Ia.tag===7){C(sr,Ia.sibling),Vt=pe(Ia,hr.props.children),Vt.return=sr,sr=Vt;break e}}else if(Ia.elementType===sa||typeof sa=="object"&&sa!==null&&sa.$$typeof===L&&Ya(sa)===Ia.type){C(sr,Ia.sibling),Vt=pe(Ia,hr.props),Vt.ref=ia(sr,Ia,hr),Vt.return=sr,sr=Vt;break e}C(sr,Ia);break}else v(sr,Ia);Ia=Ia.sibling}hr.type===_?(Vt=xn(hr.props.children,sr.mode,sn,hr.key),Vt.return=sr,sr=Vt):(sn=nn(hr.type,hr.key,hr.props,null,sr.mode,sn),sn.ref=ia(sr,Vt,hr),sn.return=sr,sr=sn)}return $e(sr);case j:e:{for(Ia=hr.key;Vt!==null;){if(Vt.key===Ia)if(Vt.tag===4&&Vt.stateNode.containerInfo===hr.containerInfo&&Vt.stateNode.implementation===hr.implementation){C(sr,Vt.sibling),Vt=pe(Vt,hr.children||[]),Vt.return=sr,sr=Vt;break e}else{C(sr,Vt);break}else v(sr,Vt);Vt=Vt.sibling}Vt=Vn(hr,sr.mode,sn),Vt.return=sr,sr=Vt}return $e(sr);case L:return Ia=hr._init,dl(sr,Vt,Ia(hr._payload),sn)}if(Lt(hr))return Zn(sr,Vt,hr,sn);if(Be(hr))return ra(sr,Vt,hr,sn);Na(sr,hr)}return typeof hr=="string"&&hr!==""||typeof hr=="number"?(hr=""+hr,Vt!==null&&Vt.tag===6?(C(sr,Vt.sibling),Vt=pe(Vt,hr),Vt.return=sr,sr=Vt):(C(sr,Vt),Vt=Yn(hr,sr.mode,sn),Vt.return=sr,sr=Vt),$e(sr)):C(sr,Vt)}return dl}var Ea=an(!0),ts=an(!1),ea=Fl(null),oi=null,ka=null,Qn=null;function da(){Qn=ka=oi=null}function jo(p){var v=ea.current;ui(ea),p._currentValue=v}function sc(p,v,C){for(;p!==null;){var V=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,V!==null&&(V.childLanes|=v)):V!==null&&(V.childLanes&v)!==v&&(V.childLanes|=v),p===C)break;p=p.return}}function Mo(p,v){oi=p,Qn=ka=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(Ll=!0),p.firstContext=null)}function co(p){var v=p._currentValue;if(Qn!==p)if(p={context:p,memoizedValue:v,next:null},ka===null){if(oi===null)throw Error(n(308));ka=p,oi.dependencies={lanes:0,firstContext:p}}else ka=ka.next=p;return v}var oc=null;function $s(p){oc===null?oc=[p]:oc.push(p)}function Uh(p,v,C,V){var pe=v.interleaved;return pe===null?(C.next=C,$s(v)):(C.next=pe.next,pe.next=C),v.interleaved=C,qo(p,V)}function qo(p,v){p.lanes|=v;var C=p.alternate;for(C!==null&&(C.lanes|=v),C=p,p=p.return;p!==null;)p.childLanes|=v,C=p.alternate,C!==null&&(C.childLanes|=v),C=p,p=p.return;return C.tag===3?C.stateNode:null}var al=!1;function Gd(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Oc(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function Vc(p,v,C){var V=p.updateQueue;if(V===null)return null;if(V=V.shared,(Xn&2)!==0){var pe=V.pending;return pe===null?v.next=v:(v.next=pe.next,pe.next=v),V.pending=v,qo(p,C)}return pe=V.interleaved,pe===null?(v.next=v,$s(V)):(v.next=pe.next,pe.next=v),V.interleaved=v,qo(p,C)}function zc(p,v,C){if(v=v.updateQueue,v!==null&&(v=v.shared,(C&4194240)!==0)){var V=v.lanes;V&=p.pendingLanes,C|=V,v.lanes=C,ko(p,C)}}function zu(p,v){var C=p.updateQueue,V=p.alternate;if(V!==null&&(V=V.updateQueue,C===V)){var pe=null,Se=null;if(C=C.firstBaseUpdate,C!==null){do{var $e={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};Se===null?pe=Se=$e:Se=Se.next=$e,C=C.next}while(C!==null);Se===null?pe=Se=v:Se=Se.next=v}else pe=Se=v;C={baseState:V.baseState,firstBaseUpdate:pe,lastBaseUpdate:Se,shared:V.shared,effects:V.effects},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=v:p.next=v,C.lastBaseUpdate=v}function lu(p,v,C,V){var pe=p.updateQueue;al=!1;var Se=pe.firstBaseUpdate,$e=pe.lastBaseUpdate,wt=pe.shared.pending;if(wt!==null){pe.shared.pending=null;var Dt=wt,fr=Dt.next;Dt.next=null,$e===null?Se=fr:$e.next=fr,$e=Dt;var Gr=p.alternate;Gr!==null&&(Gr=Gr.updateQueue,wt=Gr.lastBaseUpdate,wt!==$e&&(wt===null?Gr.firstBaseUpdate=fr:wt.next=fr,Gr.lastBaseUpdate=Dt))}if(Se!==null){var tn=pe.baseState;$e=0,Gr=fr=Dt=null,wt=Se;do{var Kr=wt.lane,Ln=wt.eventTime;if((V&Kr)===Kr){Gr!==null&&(Gr=Gr.next={eventTime:Ln,lane:0,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null});e:{var Zn=p,ra=wt;switch(Kr=v,Ln=C,ra.tag){case 1:if(Zn=ra.payload,typeof Zn=="function"){tn=Zn.call(Ln,tn,Kr);break e}tn=Zn;break e;case 3:Zn.flags=Zn.flags&-65537|128;case 0:if(Zn=ra.payload,Kr=typeof Zn=="function"?Zn.call(Ln,tn,Kr):Zn,Kr==null)break e;tn=Te({},tn,Kr);break e;case 2:al=!0}}wt.callback!==null&&wt.lane!==0&&(p.flags|=64,Kr=pe.effects,Kr===null?pe.effects=[wt]:Kr.push(wt))}else Ln={eventTime:Ln,lane:Kr,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null},Gr===null?(fr=Gr=Ln,Dt=tn):Gr=Gr.next=Ln,$e|=Kr;if(wt=wt.next,wt===null){if(wt=pe.shared.pending,wt===null)break;Kr=wt,wt=Kr.next,Kr.next=null,pe.lastBaseUpdate=Kr,pe.shared.pending=null}}while(!0);if(Gr===null&&(Dt=tn),pe.baseState=Dt,pe.firstBaseUpdate=fr,pe.lastBaseUpdate=Gr,v=pe.shared.interleaved,v!==null){pe=v;do $e|=pe.lane,pe=pe.next;while(pe!==v)}else Se===null&&(pe.shared.lanes=0);Ou|=$e,p.lanes=$e,p.memoizedState=tn}}function xd(p,v,C){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var V=p[v],pe=V.callback;if(pe!==null){if(V.callback=null,V=C,typeof pe!="function")throw Error(n(191,pe));pe.call(V)}}}var kc={},vl=Fl(kc),Ro=Fl(kc),lc=Fl(kc);function di(p){if(p===kc)throw Error(n(174));return p}function Li(p,v){switch(Ti(lc,v),Ti(Ro,p),Ti(vl,kc),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Bt(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Bt(v,p)}ui(vl),Ti(vl,v)}function ds(){ui(vl),ui(Ro),ui(lc)}function uo(p){di(lc.current);var v=di(vl.current),C=Bt(v,p.type);v!==C&&(Ti(Ro,p),Ti(vl,C))}function cu(p){Ro.current===p&&(ui(vl),ui(Ro))}var rs=Fl(0);function uu(p){for(var v=p;v!==null;){if(v.tag===13){var C=v.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var yd=[];function Hh(){for(var p=0;p<yd.length;p++)yd[p]._workInProgressVersionPrimary=null;yd.length=0}var ph=N.ReactCurrentDispatcher,Qh=N.ReactCurrentBatchConfig,Ku=0,js=null,Co=null,Js=null,Wh=!1,il=!1,bd=0,yp=0;function sl(){throw Error(n(321))}function jf(p,v){if(v===null)return!1;for(var C=0;C<v.length&&C<p.length;C++)if(!Fs(p[C],v[C]))return!1;return!0}function Cf(p,v,C,V,pe,Se){if(Ku=Se,js=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,ph.current=p===null||p.memoizedState===null?du:Cp,p=C(V,pe),il){Se=0;do{if(il=!1,bd=0,25<=Se)throw Error(n(301));Se+=1,Js=Co=null,v.updateQueue=null,ph.current=yA,p=C(V,pe)}while(il)}if(ph.current=Rl,v=Co!==null&&Co.next!==null,Ku=0,Js=Co=js=null,Wh=!1,v)throw Error(n(300));return p}function Nf(){var p=bd!==0;return bd=0,p}function Kc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Js===null?js.memoizedState=Js=p:Js=Js.next=p,Js}function Ml(){if(Co===null){var p=js.alternate;p=p!==null?p.memoizedState:null}else p=Co.next;var v=Js===null?js.memoizedState:Js.next;if(v!==null)Js=v,Co=p;else{if(p===null)throw Error(n(310));Co=p,p={memoizedState:Co.memoizedState,baseState:Co.baseState,baseQueue:Co.baseQueue,queue:Co.queue,next:null},Js===null?js.memoizedState=Js=p:Js=Js.next=p}return Js}function ol(p,v){return typeof v=="function"?v(p):v}function cc(p){var v=Ml(),C=v.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=p;var V=Co,pe=V.baseQueue,Se=C.pending;if(Se!==null){if(pe!==null){var $e=pe.next;pe.next=Se.next,Se.next=$e}V.baseQueue=pe=Se,C.pending=null}if(pe!==null){Se=pe.next,V=V.baseState;var wt=$e=null,Dt=null,fr=Se;do{var Gr=fr.lane;if((Ku&Gr)===Gr)Dt!==null&&(Dt=Dt.next={lane:0,action:fr.action,hasEagerState:fr.hasEagerState,eagerState:fr.eagerState,next:null}),V=fr.hasEagerState?fr.eagerState:p(V,fr.action);else{var tn={lane:Gr,action:fr.action,hasEagerState:fr.hasEagerState,eagerState:fr.eagerState,next:null};Dt===null?(wt=Dt=tn,$e=V):Dt=Dt.next=tn,js.lanes|=Gr,Ou|=Gr}fr=fr.next}while(fr!==null&&fr!==Se);Dt===null?$e=V:Dt.next=wt,Fs(V,v.memoizedState)||(Ll=!0),v.memoizedState=V,v.baseState=$e,v.baseQueue=Dt,C.lastRenderedState=V}if(p=C.interleaved,p!==null){pe=p;do Se=pe.lane,js.lanes|=Se,Ou|=Se,pe=pe.next;while(pe!==p)}else pe===null&&(C.lanes=0);return[v.memoizedState,C.dispatch]}function qd(p){var v=Ml(),C=v.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=p;var V=C.dispatch,pe=C.pending,Se=v.memoizedState;if(pe!==null){C.pending=null;var $e=pe=pe.next;do Se=p(Se,$e.action),$e=$e.next;while($e!==pe);Fs(Se,v.memoizedState)||(Ll=!0),v.memoizedState=Se,v.baseQueue===null&&(v.baseState=Se),C.lastRenderedState=Se}return[Se,V]}function $h(){}function Vh(p,v){var C=js,V=Ml(),pe=v(),Se=!Fs(V.memoizedState,pe);if(Se&&(V.memoizedState=pe,Ll=!0),V=V.queue,gA(wd.bind(null,C,V,p),[p]),V.getSnapshot!==v||Se||Js!==null&&Js.memoizedState.tag&1){if(C.flags|=2048,_u(9,ho.bind(null,C,V,pe,v),void 0,null),zi===null)throw Error(n(349));(Ku&30)!==0||mh(C,v,pe)}return pe}function mh(p,v,C){p.flags|=16384,p={getSnapshot:v,value:C},v=js.updateQueue,v===null?(v={lastEffect:null,stores:null},js.updateQueue=v,v.stores=[p]):(C=v.stores,C===null?v.stores=[p]:C.push(p))}function ho(p,v,C,V){v.value=C,v.getSnapshot=V,pA(v)&&Sf(p)}function wd(p,v,C){return C(function(){pA(v)&&Sf(p)})}function pA(p){var v=p.getSnapshot;p=p.value;try{var C=v();return!Fs(p,C)}catch{return!0}}function Sf(p){var v=qo(p,1);v!==null&&wl(v,p,1,-1)}function zh(p){var v=Kc();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:p},v.queue=p,p=p.dispatch=Qm.bind(null,js,p),[v.memoizedState,p]}function _u(p,v,C,V){return p={tag:p,create:v,destroy:C,deps:V,next:null},v=js.updateQueue,v===null?(v={lastEffect:null,stores:null},js.updateQueue=v,v.lastEffect=p.next=p):(C=v.lastEffect,C===null?v.lastEffect=p.next=p:(V=C.next,C.next=p,p.next=V,v.lastEffect=p)),p}function Bf(){return Ml().memoizedState}function Ef(p,v,C,V){var pe=Kc();js.flags|=p,pe.memoizedState=_u(1|v,C,void 0,V===void 0?null:V)}function If(p,v,C,V){var pe=Ml();V=V===void 0?null:V;var Se=void 0;if(Co!==null){var $e=Co.memoizedState;if(Se=$e.destroy,V!==null&&jf(V,$e.deps)){pe.memoizedState=_u(v,C,Se,V);return}}js.flags|=p,pe.memoizedState=_u(1|v,C,Se,V)}function mA(p,v){return Ef(8390656,8,p,v)}function gA(p,v){return If(2048,8,p,v)}function bp(p,v){return If(4,2,p,v)}function wp(p,v){return If(4,4,p,v)}function jp(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function vA(p,v,C){return C=C!=null?C.concat([p]):null,If(4,4,jp.bind(null,v,p),C)}function gh(){}function Kh(p,v){var C=Ml();v=v===void 0?null:v;var V=C.memoizedState;return V!==null&&v!==null&&jf(v,V[1])?V[0]:(C.memoizedState=[p,v],p)}function Xd(p,v){var C=Ml();v=v===void 0?null:v;var V=C.memoizedState;return V!==null&&v!==null&&jf(v,V[1])?V[0]:(p=p(),C.memoizedState=[p,v],p)}function Tf(p,v,C){return(Ku&21)===0?(p.baseState&&(p.baseState=!1,Ll=!0),p.memoizedState=C):(Fs(C,v)||(C=oo(),js.lanes|=C,Ou|=C,p.baseState=!0),v)}function Um(p,v){var C=ma;ma=C!==0&&4>C?C:4,p(!0);var V=Qh.transition;Qh.transition={};try{p(!1),v()}finally{ma=C,Qh.transition=V}}function xA(){return Ml().memoizedState}function Hm(p,v,C){var V=hc(p);if(C={lane:V,action:C,hasEagerState:!1,eagerState:null,next:null},Gh(p))qh(v,C);else if(C=Uh(p,v,C,V),C!==null){var pe=So();wl(C,p,V,pe),Gu(C,v,V)}}function Qm(p,v,C){var V=hc(p),pe={lane:V,action:C,hasEagerState:!1,eagerState:null,next:null};if(Gh(p))qh(v,pe);else{var Se=p.alternate;if(p.lanes===0&&(Se===null||Se.lanes===0)&&(Se=v.lastRenderedReducer,Se!==null))try{var $e=v.lastRenderedState,wt=Se($e,C);if(pe.hasEagerState=!0,pe.eagerState=wt,Fs(wt,$e)){var Dt=v.interleaved;Dt===null?(pe.next=pe,$s(v)):(pe.next=Dt.next,Dt.next=pe),v.interleaved=pe;return}}catch{}finally{}C=Uh(p,v,pe,V),C!==null&&(pe=So(),wl(C,p,V,pe),Gu(C,v,V))}}function Gh(p){var v=p.alternate;return p===js||v!==null&&v===js}function qh(p,v){il=Wh=!0;var C=p.pending;C===null?v.next=v:(v.next=C.next,C.next=v),p.pending=v}function Gu(p,v,C){if((C&4194240)!==0){var V=v.lanes;V&=p.pendingLanes,C|=V,v.lanes=C,ko(p,C)}}var Rl={readContext:co,useCallback:sl,useContext:sl,useEffect:sl,useImperativeHandle:sl,useInsertionEffect:sl,useLayoutEffect:sl,useMemo:sl,useReducer:sl,useRef:sl,useState:sl,useDebugValue:sl,useDeferredValue:sl,useTransition:sl,useMutableSource:sl,useSyncExternalStore:sl,useId:sl,unstable_isNewReconciler:!1},du={readContext:co,useCallback:function(p,v){return Kc().memoizedState=[p,v===void 0?null:v],p},useContext:co,useEffect:mA,useImperativeHandle:function(p,v,C){return C=C!=null?C.concat([p]):null,Ef(4194308,4,jp.bind(null,v,p),C)},useLayoutEffect:function(p,v){return Ef(4194308,4,p,v)},useInsertionEffect:function(p,v){return Ef(4,2,p,v)},useMemo:function(p,v){var C=Kc();return v=v===void 0?null:v,p=p(),C.memoizedState=[p,v],p},useReducer:function(p,v,C){var V=Kc();return v=C!==void 0?C(v):v,V.memoizedState=V.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},V.queue=p,p=p.dispatch=Hm.bind(null,js,p),[V.memoizedState,p]},useRef:function(p){var v=Kc();return p={current:p},v.memoizedState=p},useState:zh,useDebugValue:gh,useDeferredValue:function(p){return Kc().memoizedState=p},useTransition:function(){var p=zh(!1),v=p[0];return p=Um.bind(null,p[1]),Kc().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,C){var V=js,pe=Kc();if(ot){if(C===void 0)throw Error(n(407));C=C()}else{if(C=v(),zi===null)throw Error(n(349));(Ku&30)!==0||mh(V,v,C)}pe.memoizedState=C;var Se={value:C,getSnapshot:v};return pe.queue=Se,mA(wd.bind(null,V,Se,p),[p]),V.flags|=2048,_u(9,ho.bind(null,V,Se,C,v),void 0,null),C},useId:function(){var p=Kc(),v=zi.identifierPrefix;if(ot){var C=hi,V=Mi;C=(V&~(1<<32-ai(V)-1)).toString(32)+C,v=":"+v+"R"+C,C=bd++,0<C&&(v+="H"+C.toString(32)),v+=":"}else C=yp++,v=":"+v+"r"+C.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Cp={readContext:co,useCallback:Kh,useContext:co,useEffect:gA,useImperativeHandle:vA,useInsertionEffect:bp,useLayoutEffect:wp,useMemo:Xd,useReducer:cc,useRef:Bf,useState:function(){return cc(ol)},useDebugValue:gh,useDeferredValue:function(p){var v=Ml();return Tf(v,Co.memoizedState,p)},useTransition:function(){var p=cc(ol)[0],v=Ml().memoizedState;return[p,v]},useMutableSource:$h,useSyncExternalStore:Vh,useId:xA,unstable_isNewReconciler:!1},yA={readContext:co,useCallback:Kh,useContext:co,useEffect:gA,useImperativeHandle:vA,useInsertionEffect:bp,useLayoutEffect:wp,useMemo:Xd,useReducer:qd,useRef:Bf,useState:function(){return qd(ol)},useDebugValue:gh,useDeferredValue:function(p){var v=Ml();return Co===null?v.memoizedState=p:Tf(v,Co.memoizedState,p)},useTransition:function(){var p=qd(ol)[0],v=Ml().memoizedState;return[p,v]},useMutableSource:$h,useSyncExternalStore:Vh,useId:xA,unstable_isNewReconciler:!1};function Lo(p,v){if(p&&p.defaultProps){v=Te({},v),p=p.defaultProps;for(var C in p)v[C]===void 0&&(v[C]=p[C]);return v}return v}function uc(p,v,C,V){v=p.memoizedState,C=C(V,v),C=C==null?v:Te({},v,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}var Yd={isMounted:function(p){return(p=p._reactInternals)?ri(p)===p:!1},enqueueSetState:function(p,v,C){p=p._reactInternals;var V=So(),pe=hc(p),Se=Oc(V,pe);Se.payload=v,C!=null&&(Se.callback=C),v=Vc(p,Se,pe),v!==null&&(wl(v,p,pe,V),zc(v,p,pe))},enqueueReplaceState:function(p,v,C){p=p._reactInternals;var V=So(),pe=hc(p),Se=Oc(V,pe);Se.tag=1,Se.payload=v,C!=null&&(Se.callback=C),v=Vc(p,Se,pe),v!==null&&(wl(v,p,pe,V),zc(v,p,pe))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var C=So(),V=hc(p),pe=Oc(C,V);pe.tag=2,v!=null&&(pe.callback=v),v=Vc(p,pe,V),v!==null&&(wl(v,p,V,C),zc(v,p,V))}};function bA(p,v,C,V,pe,Se,$e){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(V,Se,$e):v.prototype&&v.prototype.isPureReactComponent?!Pi(C,V)||!Pi(pe,Se):!0}function _f(p,v,C){var V=!1,pe=Dl,Se=v.contextType;return typeof Se=="object"&&Se!==null?Se=co(Se):(pe=Do(v)?_c:ws.current,V=v.contextTypes,Se=(V=V!=null)?ou(p,pe):Dl),v=new v(C,Se),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Yd,p.stateNode=v,v._reactInternals=p,V&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=pe,p.__reactInternalMemoizedMaskedChildContext=Se),v}function wA(p,v,C,V){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(C,V),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(C,V),v.state!==p&&Yd.enqueueReplaceState(v,v.state,null)}function Of(p,v,C,V){var pe=p.stateNode;pe.props=C,pe.state=p.memoizedState,pe.refs={},Gd(p);var Se=v.contextType;typeof Se=="object"&&Se!==null?pe.context=co(Se):(Se=Do(v)?_c:ws.current,pe.context=ou(p,Se)),pe.state=p.memoizedState,Se=v.getDerivedStateFromProps,typeof Se=="function"&&(uc(p,v,Se,C),pe.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof pe.getSnapshotBeforeUpdate=="function"||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(v=pe.state,typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount(),v!==pe.state&&Yd.enqueueReplaceState(pe,pe.state,null),lu(p,C,pe,V),pe.state=p.memoizedState),typeof pe.componentDidMount=="function"&&(p.flags|=4194308)}function jd(p,v){try{var C="",V=v;do C+=Ae(V),V=V.return;while(V);var pe=C}catch(Se){pe=`
Error generating stack: `+Se.message+`
`+Se.stack}return{value:p,source:v,stack:pe,digest:null}}function Cd(p,v,C){return{value:p,source:null,stack:C??null,digest:v??null}}function Nd(p,v){try{console.error(v.value)}catch(C){setTimeout(function(){throw C})}}var Zd=typeof WeakMap=="function"?WeakMap:Map;function vh(p,v,C){C=Oc(-1,C),C.tag=3,C.payload={element:null};var V=v.value;return C.callback=function(){Zh||(Zh=!0,Mf=V),Nd(p,v)},C}function kf(p,v,C){C=Oc(-1,C),C.tag=3;var V=p.type.getDerivedStateFromError;if(typeof V=="function"){var pe=v.value;C.payload=function(){return V(pe)},C.callback=function(){Nd(p,v)}}var Se=p.stateNode;return Se!==null&&typeof Se.componentDidCatch=="function"&&(C.callback=function(){Nd(p,v),typeof V!="function"&&(hu===null?hu=new Set([this]):hu.add(this));var $e=v.stack;this.componentDidCatch(v.value,{componentStack:$e!==null?$e:""})}),C}function Np(p,v,C){var V=p.pingCache;if(V===null){V=p.pingCache=new Zd;var pe=new Set;V.set(v,pe)}else pe=V.get(v),pe===void 0&&(pe=new Set,V.set(v,pe));pe.has(C)||(pe.add(C),p=H.bind(null,p,v,C),v.then(p,p))}function jA(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function CA(p,v,C,V,pe){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(v=Oc(-1,1),v.tag=2,Vc(C,v,1))),C.lanes|=1),p):(p.flags|=65536,p.lanes=pe,p)}var NA=N.ReactCurrentOwner,Ll=!1;function xl(p,v,C,V){v.child=p===null?ts(v,null,C,V):Ea(v,p.child,C,V)}function Pf(p,v,C,V,pe){C=C.render;var Se=v.ref;return Mo(v,pe),V=Cf(p,v,C,V,Se,pe),C=Nf(),p!==null&&!Ll?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~pe,Mt(p,v,pe)):(ot&&C&&Me(v),v.flags|=1,xl(p,v,V,pe),v.child)}function SA(p,v,C,V,pe){if(p===null){var Se=C.type;return typeof Se=="function"&&!tr(Se)&&Se.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(v.tag=15,v.type=Se,Ff(p,v,Se,V,pe)):(p=nn(C.type,null,V,v,v.mode,pe),p.ref=v.ref,p.return=v,v.child=p)}if(Se=p.child,(p.lanes&pe)===0){var $e=Se.memoizedProps;if(C=C.compare,C=C!==null?C:Pi,C($e,V)&&p.ref===v.ref)return Mt(p,v,pe)}return v.flags|=1,p=bn(Se,V),p.ref=v.ref,p.return=v,v.child=p}function Ff(p,v,C,V,pe){if(p!==null){var Se=p.memoizedProps;if(Pi(Se,V)&&p.ref===v.ref)if(Ll=!1,v.pendingProps=V=Se,(p.lanes&pe)!==0)(p.flags&131072)!==0&&(Ll=!0);else return v.lanes=p.lanes,Mt(p,v,pe)}return xh(p,v,C,V,pe)}function Xh(p,v,C){var V=v.pendingProps,pe=V.children,Se=p!==null?p.memoizedState:null;if(V.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(eo,Ls),Ls|=C;else{if((C&1073741824)===0)return p=Se!==null?Se.baseLanes|C:C,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Ti(eo,Ls),Ls|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=Se!==null?Se.baseLanes:C,Ti(eo,Ls),Ls|=V}else Se!==null?(V=Se.baseLanes|C,v.memoizedState=null):V=C,Ti(eo,Ls),Ls|=V;return xl(p,v,pe,C),v.child}function Yh(p,v){var C=v.ref;(p===null&&C!==null||p!==null&&p.ref!==C)&&(v.flags|=512,v.flags|=2097152)}function xh(p,v,C,V,pe){var Se=Do(C)?_c:ws.current;return Se=ou(v,Se),Mo(v,pe),C=Cf(p,v,C,V,Se,pe),V=Nf(),p!==null&&!Ll?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~pe,Mt(p,v,pe)):(ot&&V&&Me(v),v.flags|=1,xl(p,v,C,pe),v.child)}function Df(p,v,C,V,pe){if(Do(C)){var Se=!0;$c(v)}else Se=!1;if(Mo(v,pe),v.stateNode===null)ft(p,v),_f(v,C,V),Of(v,C,V,pe),V=!0;else if(p===null){var $e=v.stateNode,wt=v.memoizedProps;$e.props=wt;var Dt=$e.context,fr=C.contextType;typeof fr=="object"&&fr!==null?fr=co(fr):(fr=Do(C)?_c:ws.current,fr=ou(v,fr));var Gr=C.getDerivedStateFromProps,tn=typeof Gr=="function"||typeof $e.getSnapshotBeforeUpdate=="function";tn||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(wt!==V||Dt!==fr)&&wA(v,$e,V,fr),al=!1;var Kr=v.memoizedState;$e.state=Kr,lu(v,V,$e,pe),Dt=v.memoizedState,wt!==V||Kr!==Dt||Ds.current||al?(typeof Gr=="function"&&(uc(v,C,Gr,V),Dt=v.memoizedState),(wt=al||bA(v,C,wt,V,Kr,Dt,fr))?(tn||typeof $e.UNSAFE_componentWillMount!="function"&&typeof $e.componentWillMount!="function"||(typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount()),typeof $e.componentDidMount=="function"&&(v.flags|=4194308)):(typeof $e.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=V,v.memoizedState=Dt),$e.props=V,$e.state=Dt,$e.context=fr,V=wt):(typeof $e.componentDidMount=="function"&&(v.flags|=4194308),V=!1)}else{$e=v.stateNode,Ah(p,v),wt=v.memoizedProps,fr=v.type===v.elementType?wt:Lo(v.type,wt),$e.props=fr,tn=v.pendingProps,Kr=$e.context,Dt=C.contextType,typeof Dt=="object"&&Dt!==null?Dt=co(Dt):(Dt=Do(C)?_c:ws.current,Dt=ou(v,Dt));var Ln=C.getDerivedStateFromProps;(Gr=typeof Ln=="function"||typeof $e.getSnapshotBeforeUpdate=="function")||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(wt!==tn||Kr!==Dt)&&wA(v,$e,V,Dt),al=!1,Kr=v.memoizedState,$e.state=Kr,lu(v,V,$e,pe);var Zn=v.memoizedState;wt!==tn||Kr!==Zn||Ds.current||al?(typeof Ln=="function"&&(uc(v,C,Ln,V),Zn=v.memoizedState),(fr=al||bA(v,C,fr,V,Kr,Zn,Dt)||!1)?(Gr||typeof $e.UNSAFE_componentWillUpdate!="function"&&typeof $e.componentWillUpdate!="function"||(typeof $e.componentWillUpdate=="function"&&$e.componentWillUpdate(V,Zn,Dt),typeof $e.UNSAFE_componentWillUpdate=="function"&&$e.UNSAFE_componentWillUpdate(V,Zn,Dt)),typeof $e.componentDidUpdate=="function"&&(v.flags|=4),typeof $e.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof $e.componentDidUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=1024),v.memoizedProps=V,v.memoizedState=Zn),$e.props=V,$e.state=Zn,$e.context=Dt,V=fr):(typeof $e.componentDidUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||wt===p.memoizedProps&&Kr===p.memoizedState||(v.flags|=1024),V=!1)}return O(p,v,C,V,Se,pe)}function O(p,v,C,V,pe,Se){Yh(p,v);var $e=(v.flags&128)!==0;if(!V&&!$e)return pe&&Kd(v,C,!1),Mt(p,v,Se);V=v.stateNode,NA.current=v;var wt=$e&&typeof C.getDerivedStateFromError!="function"?null:V.render();return v.flags|=1,p!==null&&$e?(v.child=Ea(v,p.child,null,Se),v.child=Ea(v,null,wt,Se)):xl(p,v,wt,Se),v.memoizedState=V.state,pe&&Kd(v,C,!0),v.child}function G(p){var v=p.stateNode;v.pendingContext?Wc(p,v.pendingContext,v.pendingContext!==v.context):v.context&&Wc(p,v.context,!1),Li(p,v.containerInfo)}function be(p,v,C,V,pe){return br(),Ri(pe),v.flags|=256,xl(p,v,C,V),v.child}var _e={dehydrated:null,treeContext:null,retryLane:0};function Qe(p){return{baseLanes:p,cachePool:null,transitions:null}}function Ke(p,v,C){var V=v.pendingProps,pe=rs.current,Se=!1,$e=(v.flags&128)!==0,wt;if((wt=$e)||(wt=p!==null&&p.memoizedState===null?!1:(pe&2)!==0),wt?(Se=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(pe|=1),Ti(rs,pe&1),p===null)return ir(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):($e=V.children,p=V.fallback,Se?(V=v.mode,Se=v.child,$e={mode:"hidden",children:$e},(V&1)===0&&Se!==null?(Se.childLanes=0,Se.pendingProps=$e):Se=Za($e,V,0,null),p=xn(p,V,C,null),Se.return=v,p.return=v,Se.sibling=p,v.child=Se,v.child.memoizedState=Qe(C),v.memoizedState=_e,p):qe(v,$e));if(pe=p.memoizedState,pe!==null&&(wt=pe.dehydrated,wt!==null))return rt(p,v,$e,V,wt,pe,C);if(Se){Se=V.fallback,$e=v.mode,pe=p.child,wt=pe.sibling;var Dt={mode:"hidden",children:V.children};return($e&1)===0&&v.child!==pe?(V=v.child,V.childLanes=0,V.pendingProps=Dt,v.deletions=null):(V=bn(pe,Dt),V.subtreeFlags=pe.subtreeFlags&14680064),wt!==null?Se=bn(wt,Se):(Se=xn(Se,$e,C,null),Se.flags|=2),Se.return=v,V.return=v,V.sibling=Se,v.child=V,V=Se,Se=v.child,$e=p.child.memoizedState,$e=$e===null?Qe(C):{baseLanes:$e.baseLanes|C,cachePool:null,transitions:$e.transitions},Se.memoizedState=$e,Se.childLanes=p.childLanes&~C,v.memoizedState=_e,V}return Se=p.child,p=Se.sibling,V=bn(Se,{mode:"visible",children:V.children}),(v.mode&1)===0&&(V.lanes=C),V.return=v,V.sibling=null,p!==null&&(C=v.deletions,C===null?(v.deletions=[p],v.flags|=16):C.push(p)),v.child=V,v.memoizedState=null,V}function qe(p,v){return v=Za({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function Je(p,v,C,V){return V!==null&&Ri(V),Ea(v,p.child,null,C),p=qe(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function rt(p,v,C,V,pe,Se,$e){if(C)return v.flags&256?(v.flags&=-257,V=Cd(Error(n(422))),Je(p,v,$e,V)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Se=V.fallback,pe=v.mode,V=Za({mode:"visible",children:V.children},pe,0,null),Se=xn(Se,pe,$e,null),Se.flags|=2,V.return=v,Se.return=v,V.sibling=Se,v.child=V,(v.mode&1)!==0&&Ea(v,p.child,null,$e),v.child.memoizedState=Qe($e),v.memoizedState=_e,Se);if((v.mode&1)===0)return Je(p,v,$e,null);if(pe.data==="$!"){if(V=pe.nextSibling&&pe.nextSibling.dataset,V)var wt=V.dgst;return V=wt,Se=Error(n(419)),V=Cd(Se,V,void 0),Je(p,v,$e,V)}if(wt=($e&p.childLanes)!==0,Ll||wt){if(V=zi,V!==null){switch($e&-$e){case 4:pe=2;break;case 16:pe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:pe=32;break;case 536870912:pe=268435456;break;default:pe=0}pe=(pe&(V.suspendedLanes|$e))!==0?0:pe,pe!==0&&pe!==Se.retryLane&&(Se.retryLane=pe,qo(p,pe),wl(V,p,pe,-1))}return wh(),V=Cd(Error(n(421))),Je(p,v,$e,V)}return pe.data==="$?"?(v.flags|=128,v.child=p.child,v=Fe.bind(null,p),pe._reactRetry=v,null):(p=Se.treeContext,ht=Qc(pe.nextSibling),Xe=v,ot=!0,er=null,p!==null&&(aa[Oa++]=Mi,aa[Oa++]=hi,aa[Oa++]=Fi,Mi=p.id,hi=p.overflow,Fi=v),v=qe(v,V.children),v.flags|=4096,v)}function pt(p,v,C){p.lanes|=v;var V=p.alternate;V!==null&&(V.lanes|=v),sc(p.return,v,C)}function Ft(p,v,C,V,pe){var Se=p.memoizedState;Se===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:V,tail:C,tailMode:pe}:(Se.isBackwards=v,Se.rendering=null,Se.renderingStartTime=0,Se.last=V,Se.tail=C,Se.tailMode=pe)}function rr(p,v,C){var V=v.pendingProps,pe=V.revealOrder,Se=V.tail;if(xl(p,v,V.children,C),V=rs.current,(V&2)!==0)V=V&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&pt(p,C,v);else if(p.tag===19)pt(p,C,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}V&=1}if(Ti(rs,V),(v.mode&1)===0)v.memoizedState=null;else switch(pe){case"forwards":for(C=v.child,pe=null;C!==null;)p=C.alternate,p!==null&&uu(p)===null&&(pe=C),C=C.sibling;C=pe,C===null?(pe=v.child,v.child=null):(pe=C.sibling,C.sibling=null),Ft(v,!1,pe,C,Se);break;case"backwards":for(C=null,pe=v.child,v.child=null;pe!==null;){if(p=pe.alternate,p!==null&&uu(p)===null){v.child=pe;break}p=pe.sibling,pe.sibling=C,C=pe,pe=p}Ft(v,!0,C,null,Se);break;case"together":Ft(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function ft(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Mt(p,v,C){if(p!==null&&(v.dependencies=p.dependencies),Ou|=v.lanes,(C&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(n(153));if(v.child!==null){for(p=v.child,C=bn(p,p.pendingProps),v.child=C,C.return=v;p.sibling!==null;)p=p.sibling,C=C.sibling=bn(p,p.pendingProps),C.return=v;C.sibling=null}return v.child}function Yt(p,v,C){switch(v.tag){case 3:G(v),br();break;case 5:uo(v);break;case 1:Do(v.type)&&$c(v);break;case 4:Li(v,v.stateNode.containerInfo);break;case 10:var V=v.type._context,pe=v.memoizedProps.value;Ti(ea,V._currentValue),V._currentValue=pe;break;case 13:if(V=v.memoizedState,V!==null)return V.dehydrated!==null?(Ti(rs,rs.current&1),v.flags|=128,null):(C&v.child.childLanes)!==0?Ke(p,v,C):(Ti(rs,rs.current&1),p=Mt(p,v,C),p!==null?p.sibling:null);Ti(rs,rs.current&1);break;case 19:if(V=(C&v.childLanes)!==0,(p.flags&128)!==0){if(V)return rr(p,v,C);v.flags|=128}if(pe=v.memoizedState,pe!==null&&(pe.rendering=null,pe.tail=null,pe.lastEffect=null),Ti(rs,rs.current),V)break;return null;case 22:case 23:return v.lanes=0,Xh(p,v,C)}return Mt(p,v,C)}var wr,ar,Nr,Er;wr=function(p,v){for(var C=v.child;C!==null;){if(C.tag===5||C.tag===6)p.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===v)break;for(;C.sibling===null;){if(C.return===null||C.return===v)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},ar=function(){},Nr=function(p,v,C,V){var pe=p.memoizedProps;if(pe!==V){p=v.stateNode,di(vl.current);var Se=null;switch(C){case"input":pe=Re(p,pe),V=Re(p,V),Se=[];break;case"select":pe=Te({},pe,{value:void 0}),V=Te({},V,{value:void 0}),Se=[];break;case"textarea":pe=Xt(p,pe),V=Xt(p,V),Se=[];break;default:typeof pe.onClick!="function"&&typeof V.onClick=="function"&&(p.onclick=Su)}Vr(C,V);var $e;C=null;for(fr in pe)if(!V.hasOwnProperty(fr)&&pe.hasOwnProperty(fr)&&pe[fr]!=null)if(fr==="style"){var wt=pe[fr];for($e in wt)wt.hasOwnProperty($e)&&(C||(C={}),C[$e]="")}else fr!=="dangerouslySetInnerHTML"&&fr!=="children"&&fr!=="suppressContentEditableWarning"&&fr!=="suppressHydrationWarning"&&fr!=="autoFocus"&&(i.hasOwnProperty(fr)?Se||(Se=[]):(Se=Se||[]).push(fr,null));for(fr in V){var Dt=V[fr];if(wt=pe!=null?pe[fr]:void 0,V.hasOwnProperty(fr)&&Dt!==wt&&(Dt!=null||wt!=null))if(fr==="style")if(wt){for($e in wt)!wt.hasOwnProperty($e)||Dt&&Dt.hasOwnProperty($e)||(C||(C={}),C[$e]="");for($e in Dt)Dt.hasOwnProperty($e)&&wt[$e]!==Dt[$e]&&(C||(C={}),C[$e]=Dt[$e])}else C||(Se||(Se=[]),Se.push(fr,C)),C=Dt;else fr==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,wt=wt?wt.__html:void 0,Dt!=null&&wt!==Dt&&(Se=Se||[]).push(fr,Dt)):fr==="children"?typeof Dt!="string"&&typeof Dt!="number"||(Se=Se||[]).push(fr,""+Dt):fr!=="suppressContentEditableWarning"&&fr!=="suppressHydrationWarning"&&(i.hasOwnProperty(fr)?(Dt!=null&&fr==="onScroll"&&xi("scroll",p),Se||wt===Dt||(Se=[])):(Se=Se||[]).push(fr,Dt))}C&&(Se=Se||[]).push("style",C);var fr=Se;(v.updateQueue=fr)&&(v.flags|=4)}},Er=function(p,v,C,V){C!==V&&(v.flags|=4)};function Rr(p,v){if(!ot)switch(p.tailMode){case"hidden":v=p.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var V=null;C!==null;)C.alternate!==null&&(V=C),C=C.sibling;V===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:V.sibling=null}}function Tr(p){var v=p.alternate!==null&&p.alternate.child===p.child,C=0,V=0;if(v)for(var pe=p.child;pe!==null;)C|=pe.lanes|pe.childLanes,V|=pe.subtreeFlags&14680064,V|=pe.flags&14680064,pe.return=p,pe=pe.sibling;else for(pe=p.child;pe!==null;)C|=pe.lanes|pe.childLanes,V|=pe.subtreeFlags,V|=pe.flags,pe.return=p,pe=pe.sibling;return p.subtreeFlags|=V,p.childLanes=C,v}function ta(p,v,C){var V=v.pendingProps;switch(J(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(v),null;case 1:return Do(v.type)&&ic(),Tr(v),null;case 3:return V=v.stateNode,ds(),ui(Ds),ui(ws),Hh(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(p===null||p.child===null)&&(fn(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,er!==null&&(EA(er),er=null))),ar(p,v),Tr(v),null;case 5:cu(v);var pe=di(lc.current);if(C=v.type,p!==null&&v.stateNode!=null)Nr(p,v,C,V,pe),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!V){if(v.stateNode===null)throw Error(n(166));return Tr(v),null}if(p=di(vl.current),fn(v)){V=v.stateNode,C=v.type;var Se=v.memoizedProps;switch(V[wo]=v,V[Pl]=Se,p=(v.mode&1)!==0,C){case"dialog":xi("cancel",V),xi("close",V);break;case"iframe":case"object":case"embed":xi("load",V);break;case"video":case"audio":for(pe=0;pe<ju.length;pe++)xi(ju[pe],V);break;case"source":xi("error",V);break;case"img":case"image":case"link":xi("error",V),xi("load",V);break;case"details":xi("toggle",V);break;case"input":Ee(V,Se),xi("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!Se.multiple},xi("invalid",V);break;case"textarea":_r(V,Se),xi("invalid",V)}Vr(C,Se),pe=null;for(var $e in Se)if(Se.hasOwnProperty($e)){var wt=Se[$e];$e==="children"?typeof wt=="string"?V.textContent!==wt&&(Se.suppressHydrationWarning!==!0&&Nu(V.textContent,wt,p),pe=["children",wt]):typeof wt=="number"&&V.textContent!==""+wt&&(Se.suppressHydrationWarning!==!0&&Nu(V.textContent,wt,p),pe=["children",""+wt]):i.hasOwnProperty($e)&&wt!=null&&$e==="onScroll"&&xi("scroll",V)}switch(C){case"input":de(V),Ze(V,Se,!0);break;case"textarea":de(V),He(V);break;case"select":case"option":break;default:typeof Se.onClick=="function"&&(V.onclick=Su)}V=pe,v.updateQueue=V,V!==null&&(v.flags|=4)}else{$e=pe.nodeType===9?pe:pe.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Zt(C)),p==="http://www.w3.org/1999/xhtml"?C==="script"?(p=$e.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof V.is=="string"?p=$e.createElement(C,{is:V.is}):(p=$e.createElement(C),C==="select"&&($e=p,V.multiple?$e.multiple=!0:V.size&&($e.size=V.size))):p=$e.createElementNS(p,C),p[wo]=v,p[Pl]=V,wr(p,v,!1,!1),v.stateNode=p;e:{switch($e=zr(C,V),C){case"dialog":xi("cancel",p),xi("close",p),pe=V;break;case"iframe":case"object":case"embed":xi("load",p),pe=V;break;case"video":case"audio":for(pe=0;pe<ju.length;pe++)xi(ju[pe],p);pe=V;break;case"source":xi("error",p),pe=V;break;case"img":case"image":case"link":xi("error",p),xi("load",p),pe=V;break;case"details":xi("toggle",p),pe=V;break;case"input":Ee(p,V),pe=Re(p,V),xi("invalid",p);break;case"option":pe=V;break;case"select":p._wrapperState={wasMultiple:!!V.multiple},pe=Te({},V,{value:void 0}),xi("invalid",p);break;case"textarea":_r(p,V),pe=Xt(p,V),xi("invalid",p);break;default:pe=V}Vr(C,pe),wt=pe;for(Se in wt)if(wt.hasOwnProperty(Se)){var Dt=wt[Se];Se==="style"?dr(p,Dt):Se==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,Dt!=null&&pr(p,Dt)):Se==="children"?typeof Dt=="string"?(C!=="textarea"||Dt!=="")&&on(p,Dt):typeof Dt=="number"&&on(p,""+Dt):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?Dt!=null&&Se==="onScroll"&&xi("scroll",p):Dt!=null&&w(p,Se,Dt,$e))}switch(C){case"input":de(p),Ze(p,V,!1);break;case"textarea":de(p),He(p);break;case"option":V.value!=null&&p.setAttribute("value",""+Ce(V.value));break;case"select":p.multiple=!!V.multiple,Se=V.value,Se!=null?Ct(p,!!V.multiple,Se,!1):V.defaultValue!=null&&Ct(p,!!V.multiple,V.defaultValue,!0);break;default:typeof pe.onClick=="function"&&(p.onclick=Su)}switch(C){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Tr(v),null;case 6:if(p&&v.stateNode!=null)Er(p,v,p.memoizedProps,V);else{if(typeof V!="string"&&v.stateNode===null)throw Error(n(166));if(C=di(lc.current),di(vl.current),fn(v)){if(V=v.stateNode,C=v.memoizedProps,V[wo]=v,(Se=V.nodeValue!==C)&&(p=Xe,p!==null))switch(p.tag){case 3:Nu(V.nodeValue,C,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Nu(V.nodeValue,C,(p.mode&1)!==0)}Se&&(v.flags|=4)}else V=(C.nodeType===9?C:C.ownerDocument).createTextNode(V),V[wo]=v,v.stateNode=V}return Tr(v),null;case 13:if(ui(rs),V=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ot&&ht!==null&&(v.mode&1)!==0&&(v.flags&128)===0)Mr(),br(),v.flags|=98560,Se=!1;else if(Se=fn(v),V!==null&&V.dehydrated!==null){if(p===null){if(!Se)throw Error(n(318));if(Se=v.memoizedState,Se=Se!==null?Se.dehydrated:null,!Se)throw Error(n(317));Se[wo]=v}else br(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Tr(v),Se=!1}else er!==null&&(EA(er),er=null),Se=!0;if(!Se)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=C,v):(V=V!==null,V!==(p!==null&&p.memoizedState!==null)&&V&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(rs.current&1)!==0?to===0&&(to=3):wh())),v.updateQueue!==null&&(v.flags|=4),Tr(v),null);case 4:return ds(),ar(p,v),p===null&&Ts(v.stateNode.containerInfo),Tr(v),null;case 10:return jo(v.type._context),Tr(v),null;case 17:return Do(v.type)&&ic(),Tr(v),null;case 19:if(ui(rs),Se=v.memoizedState,Se===null)return Tr(v),null;if(V=(v.flags&128)!==0,$e=Se.rendering,$e===null)if(V)Rr(Se,!1);else{if(to!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if($e=uu(p),$e!==null){for(v.flags|=128,Rr(Se,!1),V=$e.updateQueue,V!==null&&(v.updateQueue=V,v.flags|=4),v.subtreeFlags=0,V=C,C=v.child;C!==null;)Se=C,p=V,Se.flags&=14680066,$e=Se.alternate,$e===null?(Se.childLanes=0,Se.lanes=p,Se.child=null,Se.subtreeFlags=0,Se.memoizedProps=null,Se.memoizedState=null,Se.updateQueue=null,Se.dependencies=null,Se.stateNode=null):(Se.childLanes=$e.childLanes,Se.lanes=$e.lanes,Se.child=$e.child,Se.subtreeFlags=0,Se.deletions=null,Se.memoizedProps=$e.memoizedProps,Se.memoizedState=$e.memoizedState,Se.updateQueue=$e.updateQueue,Se.type=$e.type,p=$e.dependencies,Se.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),C=C.sibling;return Ti(rs,rs.current&1|2),v.child}p=p.sibling}Se.tail!==null&&ha()>Jd&&(v.flags|=128,V=!0,Rr(Se,!1),v.lanes=4194304)}else{if(!V)if(p=uu($e),p!==null){if(v.flags|=128,V=!0,C=p.updateQueue,C!==null&&(v.updateQueue=C,v.flags|=4),Rr(Se,!0),Se.tail===null&&Se.tailMode==="hidden"&&!$e.alternate&&!ot)return Tr(v),null}else 2*ha()-Se.renderingStartTime>Jd&&C!==1073741824&&(v.flags|=128,V=!0,Rr(Se,!1),v.lanes=4194304);Se.isBackwards?($e.sibling=v.child,v.child=$e):(C=Se.last,C!==null?C.sibling=$e:v.child=$e,Se.last=$e)}return Se.tail!==null?(v=Se.tail,Se.rendering=v,Se.tail=v.sibling,Se.renderingStartTime=ha(),v.sibling=null,C=rs.current,Ti(rs,V?C&1|2:C&1),v):(Tr(v),null);case 22:case 23:return Hf(),V=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==V&&(v.flags|=8192),V&&(v.mode&1)!==0?(Ls&1073741824)!==0&&(Tr(v),v.subtreeFlags&6&&(v.flags|=8192)):Tr(v),null;case 24:return null;case 25:return null}throw Error(n(156,v.tag))}function Pn(p,v){switch(J(v),v.tag){case 1:return Do(v.type)&&ic(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return ds(),ui(Ds),ui(ws),Hh(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return cu(v),null;case 13:if(ui(rs),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(n(340));br()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ui(rs),null;case 4:return ds(),null;case 10:return jo(v.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var $a=!1,yn=!1,yi=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Ma(p,v){var C=p.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(V){U(p,v,V)}else C.current=null}function Wn(p,v,C){try{C()}catch(V){U(p,v,V)}}var An=!1;function fo(p,v){if(Bu=De,p=Ys(),rl(p)){if("selectionStart"in p)var C={start:p.selectionStart,end:p.selectionEnd};else e:{C=(C=p.ownerDocument)&&C.defaultView||window;var V=C.getSelection&&C.getSelection();if(V&&V.rangeCount!==0){C=V.anchorNode;var pe=V.anchorOffset,Se=V.focusNode;V=V.focusOffset;try{C.nodeType,Se.nodeType}catch{C=null;break e}var $e=0,wt=-1,Dt=-1,fr=0,Gr=0,tn=p,Kr=null;t:for(;;){for(var Ln;tn!==C||pe!==0&&tn.nodeType!==3||(wt=$e+pe),tn!==Se||V!==0&&tn.nodeType!==3||(Dt=$e+V),tn.nodeType===3&&($e+=tn.nodeValue.length),(Ln=tn.firstChild)!==null;)Kr=tn,tn=Ln;for(;;){if(tn===p)break t;if(Kr===C&&++fr===pe&&(wt=$e),Kr===Se&&++Gr===V&&(Dt=$e),(Ln=tn.nextSibling)!==null)break;tn=Kr,Kr=tn.parentNode}tn=Ln}C=wt===-1||Dt===-1?null:{start:wt,end:Dt}}else C=null}C=C||{start:0,end:0}}else C=null;for(Eu={focusedElem:p,selectionRange:C},De=!1,ln=v;ln!==null;)if(v=ln,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,ln=p;else for(;ln!==null;){v=ln;try{var Zn=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Zn!==null){var ra=Zn.memoizedProps,dl=Zn.memoizedState,sr=v.stateNode,Vt=sr.getSnapshotBeforeUpdate(v.elementType===v.type?ra:Lo(v.type,ra),dl);sr.__reactInternalSnapshotBeforeUpdate=Vt}break;case 3:var hr=v.stateNode.containerInfo;hr.nodeType===1?hr.textContent="":hr.nodeType===9&&hr.documentElement&&hr.removeChild(hr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(sn){U(v,v.return,sn)}if(p=v.sibling,p!==null){p.return=v.return,ln=p;break}ln=v.return}return Zn=An,An=!1,Zn}function Pa(p,v,C){var V=v.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var pe=V=V.next;do{if((pe.tag&p)===p){var Se=pe.destroy;pe.destroy=void 0,Se!==void 0&&Wn(v,C,Se)}pe=pe.next}while(pe!==V)}}function fi(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var C=v=v.next;do{if((C.tag&p)===p){var V=C.create;C.destroy=V()}C=C.next}while(C!==v)}}function hs(p){var v=p.ref;if(v!==null){var C=p.stateNode;switch(p.tag){case 5:p=C;break;default:p=C}typeof v=="function"?v(p):v.current=p}}function No(p){var v=p.alternate;v!==null&&(p.alternate=null,No(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[wo],delete v[Pl],delete v[Vd],delete v[ml],delete v[Vu])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Xo(p){return p.tag===5||p.tag===3||p.tag===4}function Ms(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Xo(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Yo(p,v,C){var V=p.tag;if(V===5||V===6)p=p.stateNode,v?C.nodeType===8?C.parentNode.insertBefore(p,v):C.insertBefore(p,v):(C.nodeType===8?(v=C.parentNode,v.insertBefore(p,C)):(v=C,v.appendChild(p)),C=C._reactRootContainer,C!=null||v.onclick!==null||(v.onclick=Su));else if(V!==4&&(p=p.child,p!==null))for(Yo(p,v,C),p=p.sibling;p!==null;)Yo(p,v,C),p=p.sibling}function ll(p,v,C){var V=p.tag;if(V===5||V===6)p=p.stateNode,v?C.insertBefore(p,v):C.appendChild(p);else if(V!==4&&(p=p.child,p!==null))for(ll(p,v,C),p=p.sibling;p!==null;)ll(p,v,C),p=p.sibling}var pi=null,Ka=!1;function mi(p,v,C){for(C=C.child;C!==null;)Vs(p,v,C),C=C.sibling}function Vs(p,v,C){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(To,C)}catch{}switch(C.tag){case 5:yn||Ma(C,v);case 6:var V=pi,pe=Ka;pi=null,mi(p,v,C),pi=V,Ka=pe,pi!==null&&(Ka?(p=pi,C=C.stateNode,p.nodeType===8?p.parentNode.removeChild(C):p.removeChild(C)):pi.removeChild(C.stateNode));break;case 18:pi!==null&&(Ka?(p=pi,C=C.stateNode,p.nodeType===8?Ca(p.parentNode,C):p.nodeType===1&&Ca(p,C),ge(p)):Ca(pi,C.stateNode));break;case 4:V=pi,pe=Ka,pi=C.stateNode.containerInfo,Ka=!0,mi(p,v,C),pi=V,Ka=pe;break;case 0:case 11:case 14:case 15:if(!yn&&(V=C.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){pe=V=V.next;do{var Se=pe,$e=Se.destroy;Se=Se.tag,$e!==void 0&&((Se&2)!==0||(Se&4)!==0)&&Wn(C,v,$e),pe=pe.next}while(pe!==V)}mi(p,v,C);break;case 1:if(!yn&&(Ma(C,v),V=C.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=C.memoizedProps,V.state=C.memoizedState,V.componentWillUnmount()}catch(wt){U(C,v,wt)}mi(p,v,C);break;case 21:mi(p,v,C);break;case 22:C.mode&1?(yn=(V=yn)||C.memoizedState!==null,mi(p,v,C),yn=V):mi(p,v,C);break;default:mi(p,v,C)}}function $i(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var C=p.stateNode;C===null&&(C=p.stateNode=new yi),v.forEach(function(V){var pe=ze.bind(null,p,V);C.has(V)||(C.add(V),V.then(pe,pe))})}}function fs(p,v){var C=v.deletions;if(C!==null)for(var V=0;V<C.length;V++){var pe=C[V];try{var Se=p,$e=v,wt=$e;e:for(;wt!==null;){switch(wt.tag){case 5:pi=wt.stateNode,Ka=!1;break e;case 3:pi=wt.stateNode.containerInfo,Ka=!0;break e;case 4:pi=wt.stateNode.containerInfo,Ka=!0;break e}wt=wt.return}if(pi===null)throw Error(n(160));Vs(Se,$e,pe),pi=null,Ka=!1;var Dt=pe.alternate;Dt!==null&&(Dt.return=null),pe.return=null}catch(fr){U(pe,v,fr)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)dc(v,p),v=v.sibling}function dc(p,v){var C=p.alternate,V=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(fs(v,p),Vi(p),V&4){try{Pa(3,p,p.return),fi(3,p)}catch(ra){U(p,p.return,ra)}try{Pa(5,p,p.return)}catch(ra){U(p,p.return,ra)}}break;case 1:fs(v,p),Vi(p),V&512&&C!==null&&Ma(C,C.return);break;case 5:if(fs(v,p),Vi(p),V&512&&C!==null&&Ma(C,C.return),p.flags&32){var pe=p.stateNode;try{on(pe,"")}catch(ra){U(p,p.return,ra)}}if(V&4&&(pe=p.stateNode,pe!=null)){var Se=p.memoizedProps,$e=C!==null?C.memoizedProps:Se,wt=p.type,Dt=p.updateQueue;if(p.updateQueue=null,Dt!==null)try{wt==="input"&&Se.type==="radio"&&Se.name!=null&&ie(pe,Se),zr(wt,$e);var fr=zr(wt,Se);for($e=0;$e<Dt.length;$e+=2){var Gr=Dt[$e],tn=Dt[$e+1];Gr==="style"?dr(pe,tn):Gr==="dangerouslySetInnerHTML"?pr(pe,tn):Gr==="children"?on(pe,tn):w(pe,Gr,tn,fr)}switch(wt){case"input":Le(pe,Se);break;case"textarea":Or(pe,Se);break;case"select":var Kr=pe._wrapperState.wasMultiple;pe._wrapperState.wasMultiple=!!Se.multiple;var Ln=Se.value;Ln!=null?Ct(pe,!!Se.multiple,Ln,!1):Kr!==!!Se.multiple&&(Se.defaultValue!=null?Ct(pe,!!Se.multiple,Se.defaultValue,!0):Ct(pe,!!Se.multiple,Se.multiple?[]:"",!1))}pe[Pl]=Se}catch(ra){U(p,p.return,ra)}}break;case 6:if(fs(v,p),Vi(p),V&4){if(p.stateNode===null)throw Error(n(162));pe=p.stateNode,Se=p.memoizedProps;try{pe.nodeValue=Se}catch(ra){U(p,p.return,ra)}}break;case 3:if(fs(v,p),Vi(p),V&4&&C!==null&&C.memoizedState.isDehydrated)try{ge(v.containerInfo)}catch(ra){U(p,p.return,ra)}break;case 4:fs(v,p),Vi(p);break;case 13:fs(v,p),Vi(p),pe=p.child,pe.flags&8192&&(Se=pe.memoizedState!==null,pe.stateNode.isHidden=Se,!Se||pe.alternate!==null&&pe.alternate.memoizedState!==null||(Gc=ha())),V&4&&$i(p);break;case 22:if(Gr=C!==null&&C.memoizedState!==null,p.mode&1?(yn=(fr=yn)||Gr,fs(v,p),yn=fr):fs(v,p),Vi(p),V&8192){if(fr=p.memoizedState!==null,(p.stateNode.isHidden=fr)&&!Gr&&(p.mode&1)!==0)for(ln=p,Gr=p.child;Gr!==null;){for(tn=ln=Gr;ln!==null;){switch(Kr=ln,Ln=Kr.child,Kr.tag){case 0:case 11:case 14:case 15:Pa(4,Kr,Kr.return);break;case 1:Ma(Kr,Kr.return);var Zn=Kr.stateNode;if(typeof Zn.componentWillUnmount=="function"){V=Kr,C=Kr.return;try{v=V,Zn.props=v.memoizedProps,Zn.state=v.memoizedState,Zn.componentWillUnmount()}catch(ra){U(V,C,ra)}}break;case 5:Ma(Kr,Kr.return);break;case 22:if(Kr.memoizedState!==null){Uo(tn);continue}}Ln!==null?(Ln.return=Kr,ln=Ln):Uo(tn)}Gr=Gr.sibling}e:for(Gr=null,tn=p;;){if(tn.tag===5){if(Gr===null){Gr=tn;try{pe=tn.stateNode,fr?(Se=pe.style,typeof Se.setProperty=="function"?Se.setProperty("display","none","important"):Se.display="none"):(wt=tn.stateNode,Dt=tn.memoizedProps.style,$e=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null,wt.style.display=Ir("display",$e))}catch(ra){U(p,p.return,ra)}}}else if(tn.tag===6){if(Gr===null)try{tn.stateNode.nodeValue=fr?"":tn.memoizedProps}catch(ra){U(p,p.return,ra)}}else if((tn.tag!==22&&tn.tag!==23||tn.memoizedState===null||tn===p)&&tn.child!==null){tn.child.return=tn,tn=tn.child;continue}if(tn===p)break e;for(;tn.sibling===null;){if(tn.return===null||tn.return===p)break e;Gr===tn&&(Gr=null),tn=tn.return}Gr===tn&&(Gr=null),tn.sibling.return=tn.return,tn=tn.sibling}}break;case 19:fs(v,p),Vi(p),V&4&&$i(p);break;case 21:break;default:fs(v,p),Vi(p)}}function Vi(p){var v=p.flags;if(v&2){try{e:{for(var C=p.return;C!==null;){if(Xo(C)){var V=C;break e}C=C.return}throw Error(n(160))}switch(V.tag){case 5:var pe=V.stateNode;V.flags&32&&(on(pe,""),V.flags&=-33);var Se=Ms(p);ll(p,Se,pe);break;case 3:case 4:var $e=V.stateNode.containerInfo,wt=Ms(p);Yo(p,wt,$e);break;default:throw Error(n(161))}}catch(Dt){U(p,p.return,Dt)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function yl(p,v,C){ln=p,ns(p)}function ns(p,v,C){for(var V=(p.mode&1)!==0;ln!==null;){var pe=ln,Se=pe.child;if(pe.tag===22&&V){var $e=pe.memoizedState!==null||$a;if(!$e){var wt=pe.alternate,Dt=wt!==null&&wt.memoizedState!==null||yn;wt=$a;var fr=yn;if($a=$e,(yn=Dt)&&!fr)for(ln=pe;ln!==null;)$e=ln,Dt=$e.child,$e.tag===22&&$e.memoizedState!==null?Ho(pe):Dt!==null?(Dt.return=$e,ln=Dt):Ho(pe);for(;Se!==null;)ln=Se,ns(Se),Se=Se.sibling;ln=pe,$a=wt,yn=fr}rn(p)}else(pe.subtreeFlags&8772)!==0&&Se!==null?(Se.return=pe,ln=Se):rn(p)}}function rn(p){for(;ln!==null;){var v=ln;if((v.flags&8772)!==0){var C=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:yn||fi(5,v);break;case 1:var V=v.stateNode;if(v.flags&4&&!yn)if(C===null)V.componentDidMount();else{var pe=v.elementType===v.type?C.memoizedProps:Lo(v.type,C.memoizedProps);V.componentDidUpdate(pe,C.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var Se=v.updateQueue;Se!==null&&xd(v,Se,V);break;case 3:var $e=v.updateQueue;if($e!==null){if(C=null,v.child!==null)switch(v.child.tag){case 5:C=v.child.stateNode;break;case 1:C=v.child.stateNode}xd(v,$e,C)}break;case 5:var wt=v.stateNode;if(C===null&&v.flags&4){C=wt;var Dt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Dt.autoFocus&&C.focus();break;case"img":Dt.src&&(C.src=Dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var fr=v.alternate;if(fr!==null){var Gr=fr.memoizedState;if(Gr!==null){var tn=Gr.dehydrated;tn!==null&&ge(tn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||v.flags&512&&hs(v)}catch(Kr){U(v,v.return,Kr)}}if(v===p){ln=null;break}if(C=v.sibling,C!==null){C.return=v.return,ln=C;break}ln=v.return}}function Uo(p){for(;ln!==null;){var v=ln;if(v===p){ln=null;break}var C=v.sibling;if(C!==null){C.return=v.return,ln=C;break}ln=v.return}}function Ho(p){for(;ln!==null;){var v=ln;try{switch(v.tag){case 0:case 11:case 15:var C=v.return;try{fi(4,v)}catch(Dt){U(v,C,Dt)}break;case 1:var V=v.stateNode;if(typeof V.componentDidMount=="function"){var pe=v.return;try{V.componentDidMount()}catch(Dt){U(v,pe,Dt)}}var Se=v.return;try{hs(v)}catch(Dt){U(v,Se,Dt)}break;case 5:var $e=v.return;try{hs(v)}catch(Dt){U(v,$e,Dt)}}}catch(Dt){U(v,v.return,Dt)}if(v===p){ln=null;break}var wt=v.sibling;if(wt!==null){wt.return=v.return,ln=wt;break}ln=v.return}}var Rs=Math.ceil,bl=N.ReactCurrentDispatcher,Ua=N.ReactCurrentOwner,Fa=N.ReactCurrentBatchConfig,Xn=0,zi=null,_i=null,zs=0,Ls=0,eo=Fl(0),to=0,Sd=null,Ou=0,qu=0,BA=0,yh=null,cl=null,Gc=0,Jd=1/0,Xu=null,Zh=!1,Mf=null,hu=null,Jh=!1,qc=null,Zo=0,Bd=0,ku=null,ef=-1,Rf=0;function So(){return(Xn&6)!==0?ha():ef!==-1?ef:ef=ha()}function hc(p){return(p.mode&1)===0?1:(Xn&2)!==0&&zs!==0?zs&-zs:ba.transition!==null?(Rf===0&&(Rf=oo()),Rf):(p=ma,p!==0||(p=window.event,p=p===void 0?16:mt(p.type)),p)}function wl(p,v,C,V){if(50<Bd)throw Bd=0,ku=null,Error(n(185));ki(p,C,V),((Xn&2)===0||p!==zi)&&(p===zi&&((Xn&2)===0&&(qu|=C),to===4&&Pc(p,zs)),Ao(p,V),C===1&&Xn===0&&(v.mode&1)===0&&(Jd=ha()+500,Ue&&yr()))}function Ao(p,v){var C=p.callbackNode;Oo(p,v);var V=vs(p,p===zi?zs:0);if(V===0)C!==null&&Bl(C),p.callbackNode=null,p.callbackPriority=0;else if(v=V&-V,p.callbackPriority!==v){if(C!=null&&Bl(C),v===1)p.tag===0?Gt(TA.bind(null,p)):Ot(TA.bind(null,p)),$d(function(){(Xn&6)===0&&yr()}),C=null;else{switch(Wi(V)){case 1:C=ni;break;case 4:C=Eo;break;case 16:C=qs;break;case 536870912:C=tl;break;default:C=qs}C=lt(C,Ed.bind(null,p))}p.callbackPriority=v,p.callbackNode=C}}function Ed(p,v){if(ef=-1,Rf=0,(Xn&6)!==0)throw Error(n(327));var C=p.callbackNode;if(F()&&p.callbackNode!==C)return null;var V=vs(p,p===zi?zs:0);if(V===0)return null;if((V&30)!==0||(V&p.expiredLanes)!==0||v)v=Xc(p,V);else{v=V;var pe=Xn;Xn|=2;var Se=Qf();(zi!==p||zs!==v)&&(Xu=null,Jd=ha()+500,th(p,v));do try{Td();break}catch(wt){bh(p,wt)}while(!0);da(),bl.current=Se,Xn=pe,_i!==null?v=0:(zi=null,zs=0,v=to)}if(v!==0){if(v===2&&(pe=Di(p),pe!==0&&(V=pe,v=Lf(p,pe))),v===1)throw C=Sd,th(p,0),Pc(p,V),Ao(p,ha()),C;if(v===6)Pc(p,V);else{if(pe=p.current.alternate,(V&30)===0&&!IA(pe)&&(v=Xc(p,V),v===2&&(Se=Di(p),Se!==0&&(V=Se,v=Lf(p,Se))),v===1))throw C=Sd,th(p,0),Pc(p,V),Ao(p,ha()),C;switch(p.finishedWork=pe,p.finishedLanes=V,v){case 0:case 1:throw Error(n(345));case 2:_d(p,cl,Xu);break;case 3:if(Pc(p,V),(V&130023424)===V&&(v=Gc+500-ha(),10<v)){if(vs(p,0)!==0)break;if(pe=p.suspendedLanes,(pe&V)!==V){So(),p.pingedLanes|=p.suspendedLanes&pe;break}p.timeoutHandle=kl(_d.bind(null,p,cl,Xu),v);break}_d(p,cl,Xu);break;case 4:if(Pc(p,V),(V&4194240)===V)break;for(v=p.eventTimes,pe=-1;0<V;){var $e=31-ai(V);Se=1<<$e,$e=v[$e],$e>pe&&(pe=$e),V&=~Se}if(V=pe,V=ha()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*Rs(V/1960))-V,10<V){p.timeoutHandle=kl(_d.bind(null,p,cl,Xu),V);break}_d(p,cl,Xu);break;case 5:_d(p,cl,Xu);break;default:throw Error(n(329))}}}return Ao(p,ha()),p.callbackNode===C?Ed.bind(null,p):null}function Lf(p,v){var C=yh;return p.current.memoizedState.isDehydrated&&(th(p,v).flags|=256),p=Xc(p,v),p!==2&&(v=cl,cl=C,v!==null&&EA(v)),p}function EA(p){cl===null?cl=p:cl.push.apply(cl,p)}function IA(p){for(var v=p;;){if(v.flags&16384){var C=v.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var V=0;V<C.length;V++){var pe=C[V],Se=pe.getSnapshot;pe=pe.value;try{if(!Fs(Se(),pe))return!1}catch{return!1}}}if(C=v.child,v.subtreeFlags&16384&&C!==null)C.return=v,v=C;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Pc(p,v){for(v&=~BA,v&=~qu,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var C=31-ai(v),V=1<<C;p[C]=-1,v&=~V}}function TA(p){if((Xn&6)!==0)throw Error(n(327));F();var v=vs(p,0);if((v&1)===0)return Ao(p,ha()),null;var C=Xc(p,v);if(p.tag!==0&&C===2){var V=Di(p);V!==0&&(v=V,C=Lf(p,V))}if(C===1)throw C=Sd,th(p,0),Pc(p,v),Ao(p,ha()),C;if(C===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,_d(p,cl,Xu),Ao(p,ha()),null}function Uf(p,v){var C=Xn;Xn|=1;try{return p(v)}finally{Xn=C,Xn===0&&(Jd=ha()+500,Ue&&yr())}}function eh(p){qc!==null&&qc.tag===0&&(Xn&6)===0&&F();var v=Xn;Xn|=1;var C=Fa.transition,V=ma;try{if(Fa.transition=null,ma=1,p)return p()}finally{ma=V,Fa.transition=C,Xn=v,(Xn&6)===0&&yr()}}function Hf(){Ls=eo.current,ui(eo)}function th(p,v){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;if(C!==-1&&(p.timeoutHandle=-1,Rh(C)),_i!==null)for(C=_i.return;C!==null;){var V=C;switch(J(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&ic();break;case 3:ds(),ui(Ds),ui(ws),Hh();break;case 5:cu(V);break;case 4:ds();break;case 13:ui(rs);break;case 19:ui(rs);break;case 10:jo(V.type._context);break;case 22:case 23:Hf()}C=C.return}if(zi=p,_i=p=bn(p.current,null),zs=Ls=v,to=0,Sd=null,BA=qu=Ou=0,cl=yh=null,oc!==null){for(v=0;v<oc.length;v++)if(C=oc[v],V=C.interleaved,V!==null){C.interleaved=null;var pe=V.next,Se=C.pending;if(Se!==null){var $e=Se.next;Se.next=pe,V.next=$e}C.pending=V}oc=null}return p}function bh(p,v){do{var C=_i;try{if(da(),ph.current=Rl,Wh){for(var V=js.memoizedState;V!==null;){var pe=V.queue;pe!==null&&(pe.pending=null),V=V.next}Wh=!1}if(Ku=0,Js=Co=js=null,il=!1,bd=0,Ua.current=null,C===null||C.return===null){to=1,Sd=v,_i=null;break}e:{var Se=p,$e=C.return,wt=C,Dt=v;if(v=zs,wt.flags|=32768,Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var fr=Dt,Gr=wt,tn=Gr.tag;if((Gr.mode&1)===0&&(tn===0||tn===11||tn===15)){var Kr=Gr.alternate;Kr?(Gr.updateQueue=Kr.updateQueue,Gr.memoizedState=Kr.memoizedState,Gr.lanes=Kr.lanes):(Gr.updateQueue=null,Gr.memoizedState=null)}var Ln=jA($e);if(Ln!==null){Ln.flags&=-257,CA(Ln,$e,wt,Se,v),Ln.mode&1&&Np(Se,fr,v),v=Ln,Dt=fr;var Zn=v.updateQueue;if(Zn===null){var ra=new Set;ra.add(Dt),v.updateQueue=ra}else Zn.add(Dt);break e}else{if((v&1)===0){Np(Se,fr,v),wh();break e}Dt=Error(n(426))}}else if(ot&&wt.mode&1){var dl=jA($e);if(dl!==null){(dl.flags&65536)===0&&(dl.flags|=256),CA(dl,$e,wt,Se,v),Ri(jd(Dt,wt));break e}}Se=Dt=jd(Dt,wt),to!==4&&(to=2),yh===null?yh=[Se]:yh.push(Se),Se=$e;do{switch(Se.tag){case 3:Se.flags|=65536,v&=-v,Se.lanes|=v;var sr=vh(Se,Dt,v);zu(Se,sr);break e;case 1:wt=Dt;var Vt=Se.type,hr=Se.stateNode;if((Se.flags&128)===0&&(typeof Vt.getDerivedStateFromError=="function"||hr!==null&&typeof hr.componentDidCatch=="function"&&(hu===null||!hu.has(hr)))){Se.flags|=65536,v&=-v,Se.lanes|=v;var sn=kf(Se,wt,v);zu(Se,sn);break e}}Se=Se.return}while(Se!==null)}Wf(C)}catch(sa){v=sa,_i===C&&C!==null&&(_i=C=C.return);continue}break}while(!0)}function Qf(){var p=bl.current;return bl.current=Rl,p===null?Rl:p}function wh(){(to===0||to===3||to===2)&&(to=4),zi===null||(Ou&268435455)===0&&(qu&268435455)===0||Pc(zi,zs)}function Xc(p,v){var C=Xn;Xn|=2;var V=Qf();(zi!==p||zs!==v)&&(Xu=null,th(p,v));do try{Id();break}catch(pe){bh(p,pe)}while(!0);if(da(),Xn=C,bl.current=V,_i!==null)throw Error(n(261));return zi=null,zs=0,to}function Id(){for(;_i!==null;)tf(_i)}function Td(){for(;_i!==null&&!Hi();)tf(_i)}function tf(p){var v=ct(p.alternate,p,Ls);p.memoizedProps=p.pendingProps,v===null?Wf(p):_i=v,Ua.current=null}function Wf(p){var v=p;do{var C=v.alternate;if(p=v.return,(v.flags&32768)===0){if(C=ta(C,v,Ls),C!==null){_i=C;return}}else{if(C=Pn(C,v),C!==null){C.flags&=32767,_i=C;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{to=6,_i=null;return}}if(v=v.sibling,v!==null){_i=v;return}_i=v=p}while(v!==null);to===0&&(to=5)}function _d(p,v,C){var V=ma,pe=Fa.transition;try{Fa.transition=null,ma=1,Wm(p,v,C,V)}finally{Fa.transition=pe,ma=V}return null}function Wm(p,v,C,V){do F();while(qc!==null);if((Xn&6)!==0)throw Error(n(327));C=p.finishedWork;var pe=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Se=C.lanes|C.childLanes;if(xo(p,Se),p===zi&&(_i=zi=null,zs=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Jh||(Jh=!0,lt(qs,function(){return F(),null})),Se=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||Se){Se=Fa.transition,Fa.transition=null;var $e=ma;ma=1;var wt=Xn;Xn|=4,Ua.current=null,fo(p,C),dc(C,p),Sc(Eu),De=!!Bu,Eu=Bu=null,p.current=C,yl(C),vo(),Xn=wt,ma=$e,Fa.transition=Se}else p.current=C;if(Jh&&(Jh=!1,qc=p,Zo=pe),Se=p.pendingLanes,Se===0&&(hu=null),Ci(C.stateNode),Ao(p,ha()),v!==null)for(V=p.onRecoverableError,C=0;C<v.length;C++)pe=v[C],V(pe.value,{componentStack:pe.stack,digest:pe.digest});if(Zh)throw Zh=!1,p=Mf,Mf=null,p;return(Zo&1)!==0&&p.tag!==0&&F(),Se=p.pendingLanes,(Se&1)!==0?p===ku?Bd++:(Bd=0,ku=p):Bd=0,yr(),null}function F(){if(qc!==null){var p=Wi(Zo),v=Fa.transition,C=ma;try{if(Fa.transition=null,ma=16>p?16:p,qc===null)var V=!1;else{if(p=qc,qc=null,Zo=0,(Xn&6)!==0)throw Error(n(331));var pe=Xn;for(Xn|=4,ln=p.current;ln!==null;){var Se=ln,$e=Se.child;if((ln.flags&16)!==0){var wt=Se.deletions;if(wt!==null){for(var Dt=0;Dt<wt.length;Dt++){var fr=wt[Dt];for(ln=fr;ln!==null;){var Gr=ln;switch(Gr.tag){case 0:case 11:case 15:Pa(8,Gr,Se)}var tn=Gr.child;if(tn!==null)tn.return=Gr,ln=tn;else for(;ln!==null;){Gr=ln;var Kr=Gr.sibling,Ln=Gr.return;if(No(Gr),Gr===fr){ln=null;break}if(Kr!==null){Kr.return=Ln,ln=Kr;break}ln=Ln}}}var Zn=Se.alternate;if(Zn!==null){var ra=Zn.child;if(ra!==null){Zn.child=null;do{var dl=ra.sibling;ra.sibling=null,ra=dl}while(ra!==null)}}ln=Se}}if((Se.subtreeFlags&2064)!==0&&$e!==null)$e.return=Se,ln=$e;else e:for(;ln!==null;){if(Se=ln,(Se.flags&2048)!==0)switch(Se.tag){case 0:case 11:case 15:Pa(9,Se,Se.return)}var sr=Se.sibling;if(sr!==null){sr.return=Se.return,ln=sr;break e}ln=Se.return}}var Vt=p.current;for(ln=Vt;ln!==null;){$e=ln;var hr=$e.child;if(($e.subtreeFlags&2064)!==0&&hr!==null)hr.return=$e,ln=hr;else e:for($e=Vt;ln!==null;){if(wt=ln,(wt.flags&2048)!==0)try{switch(wt.tag){case 0:case 11:case 15:fi(9,wt)}}catch(sa){U(wt,wt.return,sa)}if(wt===$e){ln=null;break e}var sn=wt.sibling;if(sn!==null){sn.return=wt.return,ln=sn;break e}ln=wt.return}}if(Xn=pe,yr(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(To,p)}catch{}V=!0}return V}finally{ma=C,Fa.transition=v}}return!1}function E(p,v,C){v=jd(C,v),v=vh(p,v,1),p=Vc(p,v,1),v=So(),p!==null&&(ki(p,1,v),Ao(p,v))}function U(p,v,C){if(p.tag===3)E(p,p,C);else for(;v!==null;){if(v.tag===3){E(v,p,C);break}else if(v.tag===1){var V=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(hu===null||!hu.has(V))){p=jd(C,p),p=kf(v,p,1),v=Vc(v,p,1),p=So(),v!==null&&(ki(v,1,p),Ao(v,p));break}}v=v.return}}function H(p,v,C){var V=p.pingCache;V!==null&&V.delete(v),v=So(),p.pingedLanes|=p.suspendedLanes&C,zi===p&&(zs&C)===C&&(to===4||to===3&&(zs&130023424)===zs&&500>ha()-Gc?th(p,0):BA|=C),Ao(p,v)}function we(p,v){v===0&&((p.mode&1)===0?v=1:(v=qn,qn<<=1,(qn&130023424)===0&&(qn=4194304)));var C=So();p=qo(p,v),p!==null&&(ki(p,v,C),Ao(p,C))}function Fe(p){var v=p.memoizedState,C=0;v!==null&&(C=v.retryLane),we(p,C)}function ze(p,v){var C=0;switch(p.tag){case 13:var V=p.stateNode,pe=p.memoizedState;pe!==null&&(C=pe.retryLane);break;case 19:V=p.stateNode;break;default:throw Error(n(314))}V!==null&&V.delete(v),we(p,C)}var ct;ct=function(p,v,C){if(p!==null)if(p.memoizedProps!==v.pendingProps||Ds.current)Ll=!0;else{if((p.lanes&C)===0&&(v.flags&128)===0)return Ll=!1,Yt(p,v,C);Ll=(p.flags&131072)!==0}else Ll=!1,ot&&(v.flags&1048576)!==0&&T(v,Aa,v.index);switch(v.lanes=0,v.tag){case 2:var V=v.type;ft(p,v),p=v.pendingProps;var pe=ou(v,ws.current);Mo(v,C),pe=Cf(null,v,V,p,pe,C);var Se=Nf();return v.flags|=1,typeof pe=="object"&&pe!==null&&typeof pe.render=="function"&&pe.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Do(V)?(Se=!0,$c(v)):Se=!1,v.memoizedState=pe.state!==null&&pe.state!==void 0?pe.state:null,Gd(v),pe.updater=Yd,v.stateNode=pe,pe._reactInternals=v,Of(v,V,p,C),v=O(null,v,V,!0,Se,C)):(v.tag=0,ot&&Se&&Me(v),xl(null,v,pe,C),v=v.child),v;case 16:V=v.elementType;e:{switch(ft(p,v),p=v.pendingProps,pe=V._init,V=pe(V._payload),v.type=V,pe=v.tag=jr(V),p=Lo(V,p),pe){case 0:v=xh(null,v,V,p,C);break e;case 1:v=Df(null,v,V,p,C);break e;case 11:v=Pf(null,v,V,p,C);break e;case 14:v=SA(null,v,V,Lo(V.type,p),C);break e}throw Error(n(306,V,""))}return v;case 0:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Lo(V,pe),xh(p,v,V,pe,C);case 1:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Lo(V,pe),Df(p,v,V,pe,C);case 3:e:{if(G(v),p===null)throw Error(n(387));V=v.pendingProps,Se=v.memoizedState,pe=Se.element,Ah(p,v),lu(v,V,null,C);var $e=v.memoizedState;if(V=$e.element,Se.isDehydrated)if(Se={element:V,isDehydrated:!1,cache:$e.cache,pendingSuspenseBoundaries:$e.pendingSuspenseBoundaries,transitions:$e.transitions},v.updateQueue.baseState=Se,v.memoizedState=Se,v.flags&256){pe=jd(Error(n(423)),v),v=be(p,v,V,C,pe);break e}else if(V!==pe){pe=jd(Error(n(424)),v),v=be(p,v,V,C,pe);break e}else for(ht=Qc(v.stateNode.containerInfo.firstChild),Xe=v,ot=!0,er=null,C=ts(v,null,V,C),v.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(br(),V===pe){v=Mt(p,v,C);break e}xl(p,v,V,C)}v=v.child}return v;case 5:return uo(v),p===null&&ir(v),V=v.type,pe=v.pendingProps,Se=p!==null?p.memoizedProps:null,$e=pe.children,gd(V,pe)?$e=null:Se!==null&&gd(V,Se)&&(v.flags|=32),Yh(p,v),xl(p,v,$e,C),v.child;case 6:return p===null&&ir(v),null;case 13:return Ke(p,v,C);case 4:return Li(v,v.stateNode.containerInfo),V=v.pendingProps,p===null?v.child=Ea(v,null,V,C):xl(p,v,V,C),v.child;case 11:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Lo(V,pe),Pf(p,v,V,pe,C);case 7:return xl(p,v,v.pendingProps,C),v.child;case 8:return xl(p,v,v.pendingProps.children,C),v.child;case 12:return xl(p,v,v.pendingProps.children,C),v.child;case 10:e:{if(V=v.type._context,pe=v.pendingProps,Se=v.memoizedProps,$e=pe.value,Ti(ea,V._currentValue),V._currentValue=$e,Se!==null)if(Fs(Se.value,$e)){if(Se.children===pe.children&&!Ds.current){v=Mt(p,v,C);break e}}else for(Se=v.child,Se!==null&&(Se.return=v);Se!==null;){var wt=Se.dependencies;if(wt!==null){$e=Se.child;for(var Dt=wt.firstContext;Dt!==null;){if(Dt.context===V){if(Se.tag===1){Dt=Oc(-1,C&-C),Dt.tag=2;var fr=Se.updateQueue;if(fr!==null){fr=fr.shared;var Gr=fr.pending;Gr===null?Dt.next=Dt:(Dt.next=Gr.next,Gr.next=Dt),fr.pending=Dt}}Se.lanes|=C,Dt=Se.alternate,Dt!==null&&(Dt.lanes|=C),sc(Se.return,C,v),wt.lanes|=C;break}Dt=Dt.next}}else if(Se.tag===10)$e=Se.type===v.type?null:Se.child;else if(Se.tag===18){if($e=Se.return,$e===null)throw Error(n(341));$e.lanes|=C,wt=$e.alternate,wt!==null&&(wt.lanes|=C),sc($e,C,v),$e=Se.sibling}else $e=Se.child;if($e!==null)$e.return=Se;else for($e=Se;$e!==null;){if($e===v){$e=null;break}if(Se=$e.sibling,Se!==null){Se.return=$e.return,$e=Se;break}$e=$e.return}Se=$e}xl(p,v,pe.children,C),v=v.child}return v;case 9:return pe=v.type,V=v.pendingProps.children,Mo(v,C),pe=co(pe),V=V(pe),v.flags|=1,xl(p,v,V,C),v.child;case 14:return V=v.type,pe=Lo(V,v.pendingProps),pe=Lo(V.type,pe),SA(p,v,V,pe,C);case 15:return Ff(p,v,v.type,v.pendingProps,C);case 17:return V=v.type,pe=v.pendingProps,pe=v.elementType===V?pe:Lo(V,pe),ft(p,v),v.tag=1,Do(V)?(p=!0,$c(v)):p=!1,Mo(v,C),_f(v,V,pe),Of(v,V,pe,C),O(null,v,V,!0,p,C);case 19:return rr(p,v,C);case 22:return Xh(p,v,C)}throw Error(n(156,v.tag))};function lt(p,v){return Cc(p,v)}function Rt(p,v,C,V){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(p,v,C,V){return new Rt(p,v,C,V)}function tr(p){return p=p.prototype,!(!p||!p.isReactComponent)}function jr(p){if(typeof p=="function")return tr(p)?1:0;if(p!=null){if(p=p.$$typeof,p===ae)return 11;if(p===$)return 14}return 2}function bn(p,v){var C=p.alternate;return C===null?(C=Ht(p.tag,v,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=v,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&14680064,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,v=p.dependencies,C.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C}function nn(p,v,C,V,pe,Se){var $e=2;if(V=p,typeof p=="function")tr(p)&&($e=1);else if(typeof p=="string")$e=5;else e:switch(p){case _:return xn(C.children,pe,Se,v);case P:$e=8,pe|=8;break;case Z:return p=Ht(12,C,v,pe|2),p.elementType=Z,p.lanes=Se,p;case D:return p=Ht(13,C,v,pe),p.elementType=D,p.lanes=Se,p;case q:return p=Ht(19,C,v,pe),p.elementType=q,p.lanes=Se,p;case ye:return Za(C,pe,Se,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case ee:$e=10;break e;case K:$e=9;break e;case ae:$e=11;break e;case $:$e=14;break e;case L:$e=16,V=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return v=Ht($e,C,v,pe),v.elementType=p,v.type=V,v.lanes=Se,v}function xn(p,v,C,V){return p=Ht(7,p,V,v),p.lanes=C,p}function Za(p,v,C,V){return p=Ht(22,p,V,v),p.elementType=ye,p.lanes=C,p.stateNode={isHidden:!1},p}function Yn(p,v,C){return p=Ht(6,p,null,v),p.lanes=C,p}function Vn(p,v,C){return v=Ht(4,p.children!==null?p.children:[],p.key,v),v.lanes=C,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Ki(p,v,C,V,pe){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=V,this.onRecoverableError=pe,this.mutableSourceEagerHydrationData=null}function ii(p,v,C,V,pe,Se,$e,wt,Dt){return p=new Ki(p,v,C,wt,Dt),v===1?(v=1,Se===!0&&(v|=8)):v=0,Se=Ht(3,null,null,v),p.current=Se,Se.stateNode=p,Se.memoizedState={element:V,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gd(Se),p}function Ha(p,v,C){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:V==null?null:""+V,children:p,containerInfo:v,implementation:C}}function Tn(p){if(!p)return Dl;p=p._reactInternals;e:{if(ri(p)!==p||p.tag!==1)throw Error(n(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Do(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(n(171))}if(p.tag===1){var C=p.type;if(Do(C))return zd(p,C,v)}return v}function Oi(p,v,C,V,pe,Se,$e,wt,Dt){return p=ii(C,V,!0,p,pe,Se,$e,wt,Dt),p.context=Tn(null),C=p.current,V=So(),pe=hc(C),Se=Oc(V,pe),Se.callback=v??null,Vc(C,Se,pe),p.current.lanes=pe,ki(p,pe,V),Ao(p,V),p}function bi(p,v,C,V){var pe=v.current,Se=So(),$e=hc(pe);return C=Tn(C),v.context===null?v.context=C:v.pendingContext=C,v=Oc(Se,$e),v.payload={element:p},V=V===void 0?null:V,V!==null&&(v.callback=V),p=Vc(pe,v,$e),p!==null&&(wl(p,pe,$e,Se),zc(p,pe,$e)),$e}function Da(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function Qo(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<v?C:v}}function fc(p,v){Qo(p,v),(p=p.alternate)&&Qo(p,v)}function fu(){return null}var As=typeof reportError=="function"?reportError:function(p){console.error(p)};function ul(p){this._internalRoot=p}Yu.prototype.render=ul.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(n(409));bi(p,v,null,null)},Yu.prototype.unmount=ul.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;eh(function(){bi(null,p,null,null)}),v[nc]=null}};function Yu(p){this._internalRoot=p}Yu.prototype.unstable_scheduleHydration=function(p){if(p){var v=Po();p={blockedOn:null,target:p,priority:v};for(var C=0;C<ke.length&&v!==0&&v<ke[C].priority;C++);ke.splice(C,0,p),C===0&&M(p)}};function Ac(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Ul(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function jh(){}function Od(p,v,C,V,pe){if(pe){if(typeof V=="function"){var Se=V;V=function(){var fr=Da($e);Se.call(fr)}}var $e=Oi(v,V,p,0,null,!1,!1,"",jh);return p._reactRootContainer=$e,p[nc]=$e.current,Ts(p.nodeType===8?p.parentNode:p),eh(),$e}for(;pe=p.lastChild;)p.removeChild(pe);if(typeof V=="function"){var wt=V;V=function(){var fr=Da(Dt);wt.call(fr)}}var Dt=ii(p,0,!1,null,null,!1,!1,"",jh);return p._reactRootContainer=Dt,p[nc]=Dt.current,Ts(p.nodeType===8?p.parentNode:p),eh(function(){bi(v,Dt,C,V)}),Dt}function Zu(p,v,C,V,pe){var Se=C._reactRootContainer;if(Se){var $e=Se;if(typeof pe=="function"){var wt=pe;pe=function(){var Dt=Da($e);wt.call(Dt)}}bi(v,$e,p,pe)}else $e=Od(C,v,p,pe,V);return Da($e)}ys=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var C=Qi(v.pendingLanes);C!==0&&(ko(v,C|1),Ao(v,ha()),(Xn&6)===0&&(Jd=ha()+500,yr()))}break;case 13:eh(function(){var V=qo(p,1);if(V!==null){var pe=So();wl(V,p,1,pe)}}),fc(p,1)}},Xs=function(p){if(p.tag===13){var v=qo(p,134217728);if(v!==null){var C=So();wl(v,p,134217728,C)}fc(p,134217728)}},Ps=function(p){if(p.tag===13){var v=hc(p),C=qo(p,v);if(C!==null){var V=So();wl(C,p,v,V)}fc(p,v)}},Po=function(){return ma},Ut=function(p,v){var C=ma;try{return ma=p,v()}finally{ma=C}},$n=function(p,v,C){switch(v){case"input":if(Le(p,C),v=C.name,C.type==="radio"&&v!=null){for(C=p;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<C.length;v++){var V=C[v];if(V!==p&&V.form===p.form){var pe=vd(V);if(!pe)throw Error(n(90));se(V),Le(V,pe)}}}break;case"textarea":Or(p,C);break;case"select":v=C.value,v!=null&&Ct(p,!!C.multiple,v,!1)}},Sr=Uf,dn=eh;var rf={usingClientEntryPoint:!1,Events:[Tu,gl,vd,cn,bt,Uf]},Ju={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=gs(p),p===null?null:p.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||fu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{To=kd.inject(rh),Qs=kd}catch{}}return Pu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf,Pu.createPortal=function(p,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(v))throw Error(n(200));return Ha(p,v,null,C)},Pu.createRoot=function(p,v){if(!Ac(p))throw Error(n(299));var C=!1,V="",pe=As;return v!=null&&(v.unstable_strictMode===!0&&(C=!0),v.identifierPrefix!==void 0&&(V=v.identifierPrefix),v.onRecoverableError!==void 0&&(pe=v.onRecoverableError)),v=ii(p,1,!1,null,null,C,!1,V,pe),p[nc]=v.current,Ts(p.nodeType===8?p.parentNode:p),new ul(v)},Pu.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=gs(v),p=p===null?null:p.stateNode,p},Pu.flushSync=function(p){return eh(p)},Pu.hydrate=function(p,v,C){if(!Ul(v))throw Error(n(200));return Zu(null,p,v,!0,C)},Pu.hydrateRoot=function(p,v,C){if(!Ac(p))throw Error(n(405));var V=C!=null&&C.hydratedSources||null,pe=!1,Se="",$e=As;if(C!=null&&(C.unstable_strictMode===!0&&(pe=!0),C.identifierPrefix!==void 0&&(Se=C.identifierPrefix),C.onRecoverableError!==void 0&&($e=C.onRecoverableError)),v=Oi(v,null,p,1,C??null,pe,!1,Se,$e),p[nc]=v.current,Ts(p),V)for(p=0;p<V.length;p++)C=V[p],pe=C._getVersion,pe=pe(C._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[C,pe]:v.mutableSourceEagerHydrationData.push(C,pe);return new Yu(v)},Pu.render=function(p,v,C){if(!Ul(v))throw Error(n(200));return Zu(null,p,v,!1,C)},Pu.unmountComponentAtNode=function(p){if(!Ul(p))throw Error(n(40));return p._reactRootContainer?(eh(function(){Zu(null,null,p,!1,function(){p._reactRootContainer=null,p[nc]=null})}),!0):!1},Pu.unstable_batchedUpdates=Uf,Pu.unstable_renderSubtreeIntoContainer=function(p,v,C,V){if(!Ul(C))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return Zu(p,v,C,!1,V)},Pu.version="18.3.1-next-f1338f8080-20240426",Pu}var mS;function V_(){if(mS)return Ax.exports;mS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ax.exports=yD(),Ax.exports}var gS;function bD(){if(gS)return Zg;gS=1;var r=V_();return Zg.createRoot=r.createRoot,Zg.hydrateRoot=r.hydrateRoot,Zg}var wD=bD();const jD=Ji(wD);var Lc=V_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(){return Y0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Y0.apply(this,arguments)}var eA;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(eA||(eA={}));const vS="popstate";function CD(r){r===void 0&&(r={});function e(a,i){let{pathname:s,search:c,hash:l}=a.location;return sC("",{pathname:s,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:dv(i)}return SD(e,n,null,r)}function fl(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Q4(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ND(){return Math.random().toString(36).substr(2,8)}function xS(r,e){return{usr:r.state,key:r.key,idx:e}}function sC(r,e,n,a){return n===void 0&&(n=null),Y0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Em(e):e,{state:n,key:e&&e.key||a||ND()})}function dv(r){let{pathname:e="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Em(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substr(a),r=r.substr(0,a)),r&&(e.pathname=r)}return e}function SD(r,e,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,c=i.history,l=eA.Pop,u=null,o=h();o==null&&(o=0,c.replaceState(Y0({},c.state,{idx:o}),""));function h(){return(c.state||{idx:null}).idx}function d(){l=eA.Pop;let x=h(),y=x==null?null:x-o;o=x,u&&u({action:l,location:m.location,delta:y})}function f(x,y){l=eA.Push;let b=sC(m.location,x,y);o=h()+1;let w=xS(b,o),N=m.createHref(b);try{c.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}s&&u&&u({action:l,location:m.location,delta:1})}function A(x,y){l=eA.Replace;let b=sC(m.location,x,y);o=h();let w=xS(b,o),N=m.createHref(b);c.replaceState(w,"",N),s&&u&&u({action:l,location:m.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:dv(x);return b=b.replace(/ $/,"%20"),fl(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return r(i,c)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vS,d),u=x,()=>{i.removeEventListener(vS,d),u=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:A,go(x){return c.go(x)}};return m}var yS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(yS||(yS={}));function BD(r,e,n){return n===void 0&&(n="/"),ED(r,e,n)}function ED(r,e,n,a){let i=typeof e=="string"?Em(e):e,s=W4(i.pathname||"/",n);if(s==null)return null;let c=z_(r);ID(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let o=HD(s);l=RD(c[u],o)}return l}function z_(r,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(s,c,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};u.relativePath.startsWith("/")&&(fl(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let o=nA([a,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(fl(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),z_(s.children,e,h,o)),!(s.path==null&&!s.index)&&e.push({path:o,score:DD(o,s.index),routesMeta:h})};return r.forEach((s,c)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,c);else for(let u of K_(s.path))i(s,c,u)}),e}function K_(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let c=K_(a.join("/")),l=[];return l.push(...c.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...c),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function ID(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:MD(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const TD=/^:[\w-]+$/,_D=3,OD=2,kD=1,PD=10,FD=-2,bS=r=>r==="*";function DD(r,e){let n=r.split("/"),a=n.length;return n.some(bS)&&(a+=FD),e&&(a+=OD),n.filter(i=>!bS(i)).reduce((i,s)=>i+(TD.test(s)?_D:s===""?kD:PD),a)}function MD(r,e){return r.length===e.length&&r.slice(0,-1).every((a,i)=>a===e[i])?r[r.length-1]-e[e.length-1]:0}function RD(r,e,n){let{routesMeta:a}=r,i={},s="/",c=[];for(let l=0;l<a.length;++l){let u=a[l],o=l===a.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=LD({path:u.relativePath,caseSensitive:u.caseSensitive,end:o},h),f=u.route;if(!d)return null;Object.assign(i,d.params),c.push({params:i,pathname:nA([s,d.pathname]),pathnameBase:zD(nA([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=nA([s,d.pathnameBase]))}return c}function LD(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=UD(r.path,r.caseSensitive,r.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((o,h,d)=>{let{paramName:f,isOptional:A}=h;if(f==="*"){let m=l[d]||"";c=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[d];return A&&!g?o[f]=void 0:o[f]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:c,pattern:r}}function UD(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q4(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(a.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function HD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q4(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function W4(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const QD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WD=r=>QD.test(r);function $D(r,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:i=""}=typeof r=="string"?Em(r):r,s;if(n)if(WD(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Q4(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=wS(n.substring(1),"/"):s=wS(n,e)}else s=e;return{pathname:s,search:KD(a),hash:GD(i)}}function wS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gx(r,e,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $4(r,e){let n=VD(r);return e?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function V4(r,e,n,a){a===void 0&&(a=!1);let i;typeof r=="string"?i=Em(r):(i=Y0({},r),fl(!i.pathname||!i.pathname.includes("?"),gx("?","pathname","search",i)),fl(!i.pathname||!i.pathname.includes("#"),gx("#","pathname","hash",i)),fl(!i.search||!i.search.includes("#"),gx("#","search","hash",i)));let s=r===""||i.pathname==="",c=s?"/":i.pathname,l;if(c==null)l=n;else{let d=e.length-1;if(!a&&c.startsWith("..")){let f=c.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let u=$D(i,l),o=c&&c!=="/"&&c.endsWith("/"),h=(s||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(o||h)&&(u.pathname+="/"),u}const nA=r=>r.join("/").replace(/\/\/+/g,"/"),zD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,GD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const G_=["post","put","patch","delete"];new Set(G_);const XD=["get",...G_];new Set(XD);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z0(){return Z0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Z0.apply(this,arguments)}const z4=k.createContext(null),YD=k.createContext(null),cA=k.createContext(null),x2=k.createContext(null),uA=k.createContext({outlet:null,matches:[],isDataRoute:!1}),q_=k.createContext(null);function ZD(r,e){let{relative:n}=e===void 0?{}:e;Im()||fl(!1);let{basename:a,navigator:i}=k.useContext(cA),{hash:s,pathname:c,search:l}=Y_(r,{relative:n}),u=c;return a!=="/"&&(u=c==="/"?a:nA([a,c])),i.createHref({pathname:u,search:l,hash:s})}function Im(){return k.useContext(x2)!=null}function _n(){return Im()||fl(!1),k.useContext(x2).location}function X_(r){k.useContext(cA).static||k.useLayoutEffect(r)}function ti(){let{isDataRoute:r}=k.useContext(uA);return r?dM():JD()}function JD(){Im()||fl(!1);let r=k.useContext(z4),{basename:e,future:n,navigator:a}=k.useContext(cA),{matches:i}=k.useContext(uA),{pathname:s}=_n(),c=JSON.stringify($4(i,n.v7_relativeSplatPath)),l=k.useRef(!1);return X_(()=>{l.current=!0}),k.useCallback(function(o,h){if(h===void 0&&(h={}),!l.current)return;if(typeof o=="number"){a.go(o);return}let d=V4(o,JSON.parse(c),s,h.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:nA([e,d.pathname])),(h.replace?a.replace:a.push)(d,h.state,h)},[e,a,c,s,r])}function Y_(r,e){let{relative:n}=e===void 0?{}:e,{future:a}=k.useContext(cA),{matches:i}=k.useContext(uA),{pathname:s}=_n(),c=JSON.stringify($4(i,a.v7_relativeSplatPath));return k.useMemo(()=>V4(r,JSON.parse(c),s,n==="path"),[r,c,s,n])}function eM(r,e){return tM(r,e)}function tM(r,e,n,a){Im()||fl(!1);let{navigator:i}=k.useContext(cA),{matches:s}=k.useContext(uA),c=s[s.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let o=_n(),h;if(e){var d;let x=typeof e=="string"?Em(e):e;u==="/"||(d=x.pathname)!=null&&d.startsWith(u)||fl(!1),h=x}else h=o;let f=h.pathname||"/",A=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");A="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=BD(r,{pathname:A}),m=sM(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:nA([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:nA([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,a);return e&&m?k.createElement(x2.Provider,{value:{location:Z0({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:eA.Pop}},m):m}function rM(){let r=uM(),e=qD(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const nM=k.createElement(rM,null);class aM extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(uA.Provider,{value:this.props.routeContext},k.createElement(q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iM(r){let{routeContext:e,match:n,children:a}=r,i=k.useContext(z4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(uA.Provider,{value:e},a)}function sM(r,e,n,a){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var s;if(!n)return null;if(n.errors)r=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=c.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||fl(!1),c=c.slice(0,Math.min(c.length,h+1))}let u=!1,o=-1;if(n&&a&&a.v7_partialHydration)for(let h=0;h<c.length;h++){let d=c[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=h),d.route.id){let{loaderData:f,errors:A}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!A||A[d.route.id]===void 0);if(d.route.lazy||g){u=!0,o>=0?c=c.slice(0,o+1):c=[c[0]];break}}}return c.reduceRight((h,d,f)=>{let A,g=!1,m=null,x=null;n&&(A=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||nM,u&&(o<0&&f===0?(hM("route-fallback"),g=!0,x=null):o===f&&(g=!0,x=d.route.hydrateFallbackElement||null)));let y=e.concat(c.slice(0,f+1)),b=()=>{let w;return A?w=m:g?w=x:d.route.Component?w=k.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,k.createElement(iM,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(aM,{location:n.location,revalidation:n.revalidation,component:m,error:A,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Z_=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Z_||{}),J_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(J_||{});function oM(r){let e=k.useContext(z4);return e||fl(!1),e}function lM(r){let e=k.useContext(YD);return e||fl(!1),e}function cM(r){let e=k.useContext(uA);return e||fl(!1),e}function eO(r){let e=cM(),n=e.matches[e.matches.length-1];return n.route.id||fl(!1),n.route.id}function uM(){var r;let e=k.useContext(q_),n=lM(),a=eO();return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function dM(){let{router:r}=oM(Z_.UseNavigateStable),e=eO(J_.UseNavigateStable),n=k.useRef(!1);return X_(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Z0({fromRouteId:e},s)))},[r,e])}const jS={};function hM(r,e,n){jS[r]||(jS[r]=!0)}function fM(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Yp(r){let{to:e,replace:n,state:a,relative:i}=r;Im()||fl(!1);let{future:s,static:c}=k.useContext(cA),{matches:l}=k.useContext(uA),{pathname:u}=_n(),o=ti(),h=V4(e,$4(l,s.v7_relativeSplatPath),u,i==="path"),d=JSON.stringify(h);return k.useEffect(()=>o(JSON.parse(d),{replace:n,state:a,relative:i}),[o,d,i,n,a]),null}function pn(r){fl(!1)}function AM(r){let{basename:e="/",children:n=null,location:a,navigationType:i=eA.Pop,navigator:s,static:c=!1,future:l}=r;Im()&&fl(!1);let u=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:u,navigator:s,static:c,future:Z0({v7_relativeSplatPath:!1},l)}),[u,l,s,c]);typeof a=="string"&&(a=Em(a));let{pathname:h="/",search:d="",hash:f="",state:A=null,key:g="default"}=a,m=k.useMemo(()=>{let x=W4(h,u);return x==null?null:{location:{pathname:x,search:d,hash:f,state:A,key:g},navigationType:i}},[u,h,d,f,A,g,i]);return m==null?null:k.createElement(cA.Provider,{value:o},k.createElement(x2.Provider,{children:n,value:m}))}function pM(r){let{children:e,location:n}=r;return eM(oC(e),n)}new Promise(()=>{});function oC(r,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(r,(a,i)=>{if(!k.isValidElement(a))return;let s=[...e,i];if(a.type===k.Fragment){n.push.apply(n,oC(a.props.children,s));return}a.type!==pn&&fl(!1),!a.props.index||!a.props.children||fl(!1);let c={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=oC(a.props.children,s)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lC(){return lC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},lC.apply(this,arguments)}function mM(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function gM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vM(r,e){return r.button===0&&(!e||e==="_self")&&!gM(r)}function cC(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function xM(r,e){let n=cC(r);return e&&e.forEach((a,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const yM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bM="6";try{window.__reactRouterVersion=bM}catch{}const wM="startTransition",CS=gD[wM];function jM(r){let{basename:e,children:n,future:a,window:i}=r,s=k.useRef();s.current==null&&(s.current=CD({window:i,v5Compat:!0}));let c=s.current,[l,u]=k.useState({action:c.action,location:c.location}),{v7_startTransition:o}=a||{},h=k.useCallback(d=>{o&&CS?CS(()=>u(d)):u(d)},[u,o]);return k.useLayoutEffect(()=>c.listen(h),[c,h]),k.useEffect(()=>fM(a),[a]),k.createElement(AM,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:c,future:a})}const CM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=k.forwardRef(function(e,n){let{onClick:a,relative:i,reloadDocument:s,replace:c,state:l,target:u,to:o,preventScrollReset:h,viewTransition:d}=e,f=mM(e,yM),{basename:A}=k.useContext(cA),g,m=!1;if(typeof o=="string"&&NM.test(o)&&(g=o,CM))try{let w=new URL(window.location.href),N=o.startsWith("//")?new URL(w.protocol+o):new URL(o),S=W4(N.pathname,A);N.origin===w.origin&&S!=null?o=S+N.search+N.hash:m=!0}catch{}let x=ZD(o,{relative:i}),y=SM(o,{replace:c,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:d});function b(w){a&&a(w),w.defaultPrevented||y(w)}return k.createElement("a",lC({},f,{href:g||x,onClick:m||s?a:b,ref:n,target:u}))});var NS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(NS||(NS={}));var SS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(SS||(SS={}));function SM(r,e){let{target:n,replace:a,state:i,preventScrollReset:s,relative:c,viewTransition:l}=e===void 0?{}:e,u=ti(),o=_n(),h=Y_(r,{relative:c});return k.useCallback(d=>{if(vM(d,n)){d.preventDefault();let f=a!==void 0?a:dv(o)===dv(h);u(r,{replace:f,state:i,preventScrollReset:s,relative:c,viewTransition:l})}},[o,u,h,a,i,n,r,s,c,l])}function K4(r){let e=k.useRef(cC(r)),n=k.useRef(!1),a=_n(),i=k.useMemo(()=>xM(a.search,n.current?null:e.current),[a.search]),s=ti(),c=k.useCallback((l,u)=>{const o=cC(typeof l=="function"?l(i):l);n.current=!0,s("?"+o,u)},[s,i]);return[i,c]}const BM=()=>{var r;return typeof window<"u"&&((r=window.location)!=null&&r.hostname)?`http://${window.location.hostname}:3000/api/v1`:"http://localhost:3000/api/v1"},pf=BM(),EM=r=>new Promise(e=>setTimeout(e,r));async function G4(r,e={}){const n=`${pf}${r}`;let a;try{a=await fetch(n,{...e,headers:{"Content-Type":"application/json",...e.headers}})}catch{const c=`Failed to reach backend at ${n}. If you are using a mobile device/emulator, set VITE_API_BASE_URL to http://<YOUR_PC_IP>:3000/api/v1 and ensure backend CORS allows your frontend origin.`;throw new Error(c)}if(!a.ok){const s=await a.json().catch(()=>({})),c=s.message||s.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const tO=async r=>{await G4("/auth/send-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r})})},IM=async(r,e)=>{var n;try{const a=await G4("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:r.trim(),password:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await tO(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},TM=async(r,e)=>{var n;try{const a=await G4("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r,otp:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin";return{id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`}}catch(a){throw console.error("OTP login error:",a),new Error("Invalid or expired OTP")}},_M=async(r,e)=>{if(await EM(500),!e)throw new Error("Unauthorized");if(r.password.length<8)throw new Error("Password must be at least 8 characters");return{id:`u-${Date.now()}`,name:r.name,email:r.email.toLowerCase(),roles:[r.role],token:`issued-${Date.now()}`}},OM=async r=>{try{const e=async i=>{const s=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!s.ok)throw new Error("Failed to fetch permissions");return s.json()};try{const i=await e(`${pf}/permissions/me`);return(i==null?void 0:i.data)||[]}catch{}const n=await fetch(`${pf}/auth/permissions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Failed to fetch permissions");return(await n.json()).data.permissions||[]}catch(e){return console.error("Error fetching permissions:",e),[]}},rO=async r=>{try{const e=await fetch(`${pf}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!e.ok)throw new Error("Failed to fetch menu config");return(await e.json()).data}catch(e){return console.error("Error fetching menu config:",e),null}},y2=(r,e)=>{if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},Zf=(r,e,n)=>{if(!r)return!1;const a=r[e];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const i=a.submenus[n];return i?i.visible:!1}return a.visible},nO=k.createContext(void 0),Sp="mw-auth-user",Bp="mw-auth-permissions",kM=({children:r})=>{const[e,n]=k.useState(null),[a,i]=k.useState(!0),[s,c]=k.useState([]),[l,u]=k.useState(!1);k.useEffect(()=>{(()=>{try{const b=localStorage.getItem(Sp);if(b){const w=JSON.parse(b);if(w&&w.id&&w.token&&w.token.trim()!=="")if(w.token.split(".").length===3){n(w);try{const S=localStorage.getItem(Bp);S&&c(JSON.parse(S)||[])}catch{c([])}}else console.warn("Invalid token format in storage"),localStorage.removeItem(Sp),localStorage.removeItem(Bp),n(null),c([]),u(!0);else console.warn("Invalid user data in storage"),localStorage.removeItem(Sp),n(null),localStorage.removeItem(Bp),c([]),u(!0)}else n(null),c([]),u(!0)}catch(b){console.error("Error loading user from storage:",b),localStorage.removeItem(Sp),n(null),localStorage.removeItem(Bp),c([]),u(!0)}finally{i(!1)}})()},[]);const o=k.useCallback(y=>{if(n(y),y)try{localStorage.setItem(Sp,JSON.stringify(y))}catch(b){console.error("Error saving user to storage:",b)}else{try{localStorage.removeItem(Sp)}catch(b){console.error("Error removing user from storage:",b)}try{localStorage.removeItem(Bp)}catch{}c([])}},[]);k.useEffect(()=>{(async()=>{if(!(e!=null&&e.token)){c([]),u(!0);return}try{const b=await OM(e.token);c(b||[]);try{localStorage.setItem(Bp,JSON.stringify(b||[]))}catch{}}catch{}finally{u(!0)}})()},[e==null?void 0:e.token]);const h=k.useCallback(async(y,b)=>{i(!0);try{const w=await IM(y,b);if(w.requiresOTP)return o(null),{requiresOTP:!0,email:w.email};if(w.user)return o(w.user),{requiresOTP:!1};throw new Error("Login failed")}finally{i(!1)}},[o]),d=k.useCallback(async y=>{i(!0);try{await tO(y)}finally{i(!1)}},[]),f=k.useCallback(async(y,b)=>{i(!0);try{const w=await TM(y,b);o(w)}finally{i(!1)}},[o]),A=k.useCallback(()=>{o(null)},[o]),g=k.useCallback(async y=>{if(!e)throw new Error("Unauthorized");i(!0);try{return await _M(y,e.token)}finally{i(!1)}},[e]),m=k.useCallback(y=>{const b=Array.isArray(y)?y:[y];return!!(e!=null&&e.roles.some(w=>b.includes(w)))},[e]),x=k.useMemo(()=>({user:e,loading:a,permissions:s,permissionsLoaded:l,login:h,sendOTP:d,verifyOTP:f,logout:A,createUser:g,hasRole:m}),[e,a,s,l,h,d,f,A,g,m]);return t.jsx(nO.Provider,{value:x,children:r})},aO=()=>{const r=k.useContext(nO);if(!r)throw new Error("useAuthContext must be used within AuthProvider");return r},pa=()=>aO(),BS=({children:r})=>{const{user:e,logout:n}=pa(),{pathname:a}=_n();return t.jsxs("div",{className:"app-shell",children:[t.jsxs("header",{className:"app-shell__header",children:[t.jsxs(en,{to:"/",className:"brand",children:["MediWaste",t.jsx("span",{className:"brand__tag",children:"Control"})]}),t.jsx("nav",{className:"app-shell__nav",children:e?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"nav__user",children:[e.name,t.jsx("small",{children:e.roles.join(", ")})]}),t.jsx(en,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),t.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(en,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),t.jsx(en,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),t.jsx("main",{className:"app-shell__body",children:r})]})},wn=({roles:r,children:e})=>{const{user:n,loading:a,permissions:i,permissionsLoaded:s}=pa(),c=_n();if(a)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return t.jsx(Yp,{to:"/login",replace:!0,state:{from:c}});if(!s)return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading permissions..."})});const l=Array.isArray(i)&&i.includes("*"),u=Array.isArray(i)&&i.length>0;if(!l&&!u&&!(c.pathname==="/dashboard"||c.pathname==="/profile"))return t.jsx(Yp,{to:"/dashboard",replace:!0});const h=Array.isArray(n.roles)?n.roles:[];return r&&r.length>0&&!h.some(d=>r.includes(d))?t.jsx(Yp,{to:"/login",replace:!0}):t.jsx(t.Fragment,{children:e})},PM=k.createContext(void 0),FM=({children:r,user:e})=>{var h,d;const[n,a]=k.useState({enabled:!1,previewRole:null,originalRole:((h=e==null?void 0:e.roles)==null?void 0:h[0])||"viewer"}),i=k.useCallback(f=>{a(f)},[]),s=k.useCallback((f,A)=>{a({enabled:!0,previewRole:f,originalRole:A})},[]),c=k.useCallback(()=>{a(f=>({enabled:!1,previewRole:null,originalRole:f.originalRole}))},[]),l=n.enabled,u=n.enabled&&n.previewRole?n.previewRole:((d=e==null?void 0:e.roles)==null?void 0:d[0])||"viewer",o={previewMode:n,setPreviewMode:i,startPreview:s,exitPreview:c,isPreviewMode:l,currentRole:u,user:e};return t.jsx(PM.Provider,{value:o,children:r})},DM=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=pa(),i=ti(),s=_n(),[c,l]=k.useState(""),[u,o]=k.useState(""),[h,d]=k.useState(!1),[f,A]=k.useState(!1),[g,m]=k.useState(null),[x,y]=k.useState(!1),[b,w]=k.useState(""),[N,S]=k.useState(["","","","","",""]),[j,_]=k.useState(0);if(k.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),k.useEffect(()=>{var q,$;if(a&&!n){const L=($=(q=s.state)==null?void 0:q.from)==null?void 0:$.pathname;i(L||"/dashboard",{replace:!0})}},[a,n,i,s]),k.useEffect(()=>{if(j>0){const q=setTimeout(()=>_(j-1),1e3);return()=>clearTimeout(q)}},[j]),n)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const P=q=>{if(!q||q.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,L=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(q.trim())||L.test(q.trim())},Z=async q=>{var $,L;if(q.preventDefault(),m(null),!P(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const ye=await r(c.trim(),u);if(ye.requiresOTP&&ye.email)w(ye.email),y(!0),_(60);else{const ne=(L=($=s.state)==null?void 0:$.from)==null?void 0:L.pathname;i(ne||"/dashboard",{replace:!0})}}catch(ye){m(ye.message||"Invalid credentials. Please check your username and password.")}},ee=(q,$)=>{if($.length>1)return;const L=[...N];if(L[q]=$,S(L),$&&q<5){const ye=document.getElementById(`otp-input-${q+1}`);ye==null||ye.focus()}},K=(q,$)=>{if($.key==="Backspace"&&!N[q]&&q>0){const L=document.getElementById(`otp-input-${q-1}`);L==null||L.focus()}},ae=async q=>{var L,ye,ne;q.preventDefault(),m(null);const $=N.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,$);const Be=(ye=(L=s.state)==null?void 0:L.from)==null?void 0:ye.pathname;i(Be||"/dashboard",{replace:!0})}catch(Be){m(Be.message||"Invalid OTP"),S(["","","","","",""]),(ne=document.getElementById("otp-input-0"))==null||ne.focus()}},D=async()=>{if(!(j>0)){m(null);try{await r(c,u),_(60),S(["","","","","",""])}catch(q){m(q.message||"Failed to resend OTP")}}};return t.jsx("div",{className:"login-page-template",children:t.jsxs("div",{className:"login-template-wrapper",children:[t.jsxs("div",{className:"login-left-panel",children:[t.jsxs("div",{className:"left-panel-header",children:[t.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("div",{className:"left-panel-image-container",children:t.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:q=>{const $=q.target;$.style.display="none";const L=$.parentElement;if(L&&!L.querySelector(".image-placeholder")){const ye=document.createElement("div");ye.className="image-placeholder",ye.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;"> Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,L.appendChild(ye)}}})})]}),t.jsx("div",{className:"login-right-panel",children:t.jsxs("div",{className:"login-form-wrapper",children:[t.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form otp-form-inline",onSubmit:ae,children:[t.jsx("div",{className:"otp-instruction",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row",children:N.map((q,$)=>t.jsx("input",{id:`otp-input-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:q,onChange:L=>ee($,L.target.value),onKeyDown:L=>K($,L),autoFocus:$===0,disabled:n},$))}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||N.some(q=>!q),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-inline",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",j>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",j,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link",onClick:D,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:Z,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:q=>{l(q.target.value),m(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{id:"password",type:f?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:u,onChange:q=>{o(q.target.value),m(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),t.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>A(!f),disabled:x,children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),t.jsxs("div",{className:"form-options-row",children:[t.jsxs("label",{className:"remember-me-label",children:[t.jsx("input",{type:"checkbox",checked:h,onChange:q=>d(q.target.checked),disabled:x}),t.jsx("span",{children:"Remember Me"})]}),t.jsx(en,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},MM=()=>{const{sendOTP:r,verifyOTP:e,loading:n}=pa(),a=ti(),i=_n(),[s,c]=k.useState(["","","","","",""]),[l,u]=k.useState(null),[o,h]=k.useState(0),[d,f]=k.useState("");k.useEffect(()=>{var b;const y=(b=i.state)==null?void 0:b.email;y?(f(y),h(60)):a("/login",{replace:!0})},[i,a]),k.useEffect(()=>{if(o>0){const y=setTimeout(()=>h(o-1),1e3);return()=>clearTimeout(y)}},[o]);const A=(y,b)=>{if(b.length>1)return;const w=[...s];if(w[y]=b,c(w),b&&y<5){const N=document.getElementById(`otp-${y+1}`);N==null||N.focus()}},g=(y,b)=>{if(b.key==="Backspace"&&!s[y]&&y>0){const w=document.getElementById(`otp-${y-1}`);w==null||w.focus()}},m=async()=>{if(!(o>0)){u(null);try{await r(d),h(60),c(["","","","","",""])}catch(y){u(y.message||"Failed to resend OTP")}}},x=async y=>{var w,N,S;y.preventDefault(),u(null);const b=s.join("");if(b.length!==6){u("Please enter a valid 6-digit OTP");return}try{await e(d,b);const j=(N=(w=i.state)==null?void 0:w.from)==null?void 0:N.pathname;a(j||"/dashboard",{replace:!0})}catch(j){u(j.message||"Invalid OTP"),c(["","","","","",""]),(S=document.getElementById("otp-0"))==null||S.focus()}};return t.jsx("div",{className:"otp-verification-page",children:t.jsxs("div",{className:"otp-verification-container",children:[t.jsxs("div",{className:"otp-header",children:[t.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),t.jsx("p",{className:"otp-subtitle",children:d.toLowerCase()==="superadmin@medi-waste.io"||d.toLowerCase()==="superadmin"?t.jsx(t.Fragment,{children:"Use your configured SuperAdmin OTP."}):t.jsx(t.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),t.jsxs("form",{className:"otp-form",onSubmit:x,children:[t.jsx("div",{className:"otp-inputs-container",children:s.map((y,b)=>t.jsx("input",{id:`otp-${b}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:w=>A(b,w.target.value),onKeyDown:w=>g(b,w),autoFocus:b===0,disabled:n},b))}),l&&t.jsx("div",{className:"otp-error",children:l}),t.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||s.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",o>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",o,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-button",onClick:m,children:"Resend OTP"})]})})]})]})})},RM="http://localhost:3000/api/v1",LM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ep=async(r,e={})=>{const n=LM(),a=`${RM}${r}`,i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw s instanceof TypeError&&s.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:s.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:s instanceof Error?s.message:String(s)}),s}},zA={getDashboardConfig:async r=>{try{const n=(await Ep(`/dashboard/config/${r}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const i=Array.isArray(n.menuItems)?n.menuItems:[],s=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return{role:n.role||r,widgets:a,menuItems:i,permissions:s}}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),ES(r)}},getUserOverrides:async r=>{try{return(await Ep(`/dashboard/user-overrides/${r}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch user overrides:",e),null}},computePermissions:(r,e)=>{const n={...r.permissions},a=[...r.menuItems],i=[...r.widgets];e&&(Object.entries(e.permissions).forEach(([u,o])=>{n[u]=o}),e.menuOverrides&&a.forEach(u=>{e.menuOverrides[u.id]!==void 0&&(u.visible=e.menuOverrides[u.id])}),e.widgetOverrides&&i.forEach(u=>{if(e.widgetOverrides[u.id]!==void 0){const o=i.indexOf(u);!e.widgetOverrides[u.id]&&o!==-1&&i.splice(o,1)}}));const s=u=>u.filter(o=>!(!o.visible||o.permission&&!n[o.permission])).map(o=>{if(o.children&&o.children.length>0){const h=s(o.children);return{...o,children:h.length>0?h:void 0}}return o}),c=s(a),l=i.filter(u=>{var o;return!((o=u.permissions)!=null&&o.view&&!n[u.permissions.view])});return{permissions:n,menuItems:c,widgets:l}},getAvailableRoles:async()=>{try{return(await Ep("/dashboard/roles")).data}catch(r){return console.error("[dashboardService] Failed to fetch roles:",r),[]}},getCatalog:async()=>{try{return(await Ep("/dashboard/catalog")).data}catch(r){return console.error("[dashboardService] Failed to fetch catalog:",r),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async r=>{try{const e=JSON.stringify(r);return(await Ep("/dashboard/config",{method:"POST",body:e})).data}catch(e){throw console.error("[dashboardService] Failed to save dashboard config:",e),console.error("[dashboardService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack,config:r}),e}},getDashboardConfigByTarget:async r=>{try{return(await Ep(`/dashboard/config?target=${encodeURIComponent(r)}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),ES(r)}}};function ES(r){return r==="superadmin"?{role:r,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:r,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const Jg="http://localhost:3000/api/v1",UM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},b2=async(r,e={})=>{const n=UM();let a;r.startsWith("http")?a=r:r.startsWith("/api/v1")?a=`${Jg.endsWith("/api/v1")?Jg.replace("/api/v1",""):Jg.split("/api/v1")[0]||"http://localhost:3000"}${r}`:a=`${Jg}${r}`;const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw console.error("[widgetDataService] Request failed:",s),s}},HM=async r=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",r);const e=await b2(r);console.log("[widgetDataService] Raw API response:",e);let n;e&&typeof e=="object"?e.success!==void 0&&e.data?n=e.data:e.value!==void 0||e.label!==void 0?n=e:e.data&&(e.data.value!==void 0||e.data.label!==void 0)?n=e.data:n=e:(console.warn("[widgetDataService] Unexpected response format:",e),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,i=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,s={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:i};return console.log("[widgetDataService] Final mapped KPI result:",s),s}catch(e){return console.error("[widgetDataService] Failed to fetch KPI data:",e),console.error("[widgetDataService] Endpoint:",r),console.error("[widgetDataService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack}),{value:0,unit:"",label:""}}},QM=async r=>{try{const n=(await b2(r)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,i)=>({label:a,value:n.data[i]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(e){throw console.error("[widgetDataService] Failed to fetch chart data:",e),e}},WM=async r=>{try{const n=(await b2(r)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const i={};return n.columns.forEach(s=>{i[s]=a[s]||""}),i})}:{columns:[],data:[]}}catch(e){throw console.error("[widgetDataService] Failed to fetch table data:",e),e}},$M=async r=>{try{const n=(await b2(r)).data;return Array.isArray(n)?r.includes("task")||r.includes("approval")?{tasks:n,items:n}:r.includes("alert")?{alerts:n}:r.includes("activity")||r.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(e){throw console.error("[widgetDataService] Failed to fetch task data:",e),e}},VM=async r=>{var e;if(!((e=r.dataSource)!=null&&e.endpoint))return null;try{switch(r.type){case"metric":return await HM(r.dataSource.endpoint);case"chart":return await QM(r.dataSource.endpoint);case"table":return await WM(r.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await $M(r.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${r.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${r.type}:`,n),n}},zM=({title:r,value:e,unit:n,label:a,trend:i,loading:s=!1})=>s?t.jsx("div",{className:"widget-panel widget-panel--metric",children:t.jsxs("div",{className:"widget-panel__skeleton",children:[t.jsx("div",{className:"skeleton-line skeleton-line--title"}),t.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):t.jsxs("div",{className:"widget-panel widget-panel--metric",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsxs("div",{className:"widget-panel__body",children:[t.jsxs("div",{className:"metric-value",children:[typeof e=="number"?e.toLocaleString():e,n&&t.jsx("span",{className:"metric-unit",children:n})]}),a&&t.jsx("div",{className:"metric-label",children:a}),i&&t.jsxs("div",{className:`metric-trend metric-trend--${i.isPositive?"positive":"negative"}`,children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.isPositive?t.jsx("polyline",{points:"18 15 12 9 6 15"}):t.jsx("polyline",{points:"6 9 12 15 18 9"})}),t.jsxs("span",{children:[Math.abs(i.value),"%"]}),i.period&&t.jsx("span",{className:"metric-trend-period",children:i.period})]})]})]});function iO(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(n=iO(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function gi(){for(var r,e,n=0,a="",i=arguments.length;n<i;n++)(r=arguments[n])&&(e=iO(r))&&(a&&(a+=" "),a+=e);return a}var vx,IS;function Ru(){if(IS)return vx;IS=1;var r=Array.isArray;return vx=r,vx}var xx,TS;function sO(){if(TS)return xx;TS=1;var r=typeof of=="object"&&of&&of.Object===Object&&of;return xx=r,xx}var yx,_S;function Fh(){if(_S)return yx;_S=1;var r=sO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return yx=n,yx}var bx,OS;function Pg(){if(OS)return bx;OS=1;var r=Fh(),e=r.Symbol;return bx=e,bx}var wx,kS;function KM(){if(kS)return wx;kS=1;var r=Pg(),e=Object.prototype,n=e.hasOwnProperty,a=e.toString,i=r?r.toStringTag:void 0;function s(c){var l=n.call(c,i),u=c[i];try{c[i]=void 0;var o=!0}catch{}var h=a.call(c);return o&&(l?c[i]=u:delete c[i]),h}return wx=s,wx}var jx,PS;function GM(){if(PS)return jx;PS=1;var r=Object.prototype,e=r.toString;function n(a){return e.call(a)}return jx=n,jx}var Cx,FS;function xf(){if(FS)return Cx;FS=1;var r=Pg(),e=KM(),n=GM(),a="[object Null]",i="[object Undefined]",s=r?r.toStringTag:void 0;function c(l){return l==null?l===void 0?i:a:s&&s in Object(l)?e(l):n(l)}return Cx=c,Cx}var Nx,DS;function yf(){if(DS)return Nx;DS=1;function r(e){return e!=null&&typeof e=="object"}return Nx=r,Nx}var Sx,MS;function Tm(){if(MS)return Sx;MS=1;var r=xf(),e=yf(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return Sx=a,Sx}var Bx,RS;function q4(){if(RS)return Bx;RS=1;var r=Ru(),e=Tm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,c){if(r(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:a.test(s)||!n.test(s)||c!=null&&s in Object(c)}return Bx=i,Bx}var Ex,LS;function dA(){if(LS)return Ex;LS=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Ex=r,Ex}var Ix,US;function X4(){if(US)return Ix;US=1;var r=xf(),e=dA(),n="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function c(l){if(!e(l))return!1;var u=r(l);return u==a||u==i||u==n||u==s}return Ix=c,Ix}var Tx,HS;function qM(){if(HS)return Tx;HS=1;var r=Fh(),e=r["__core-js_shared__"];return Tx=e,Tx}var _x,QS;function XM(){if(QS)return _x;QS=1;var r=qM(),e=(function(){var a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!e&&e in a}return _x=n,_x}var Ox,WS;function oO(){if(WS)return Ox;WS=1;var r=Function.prototype,e=r.toString;function n(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Ox=n,Ox}var kx,$S;function YM(){if($S)return kx;$S=1;var r=X4(),e=XM(),n=dA(),a=oO(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,o=l.hasOwnProperty,h=RegExp("^"+u.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||e(f))return!1;var A=r(f)?h:s;return A.test(a(f))}return kx=d,kx}var Px,VS;function ZM(){if(VS)return Px;VS=1;function r(e,n){return e==null?void 0:e[n]}return Px=r,Px}var Fx,zS;function lp(){if(zS)return Fx;zS=1;var r=YM(),e=ZM();function n(a,i){var s=e(a,i);return r(s)?s:void 0}return Fx=n,Fx}var Dx,KS;function w2(){if(KS)return Dx;KS=1;var r=lp(),e=r(Object,"create");return Dx=e,Dx}var Mx,GS;function JM(){if(GS)return Mx;GS=1;var r=w2();function e(){this.__data__=r?r(null):{},this.size=0}return Mx=e,Mx}var Rx,qS;function eR(){if(qS)return Rx;qS=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Rx=r,Rx}var Lx,XS;function tR(){if(XS)return Lx;XS=1;var r=w2(),e="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function i(s){var c=this.__data__;if(r){var l=c[s];return l===e?void 0:l}return a.call(c,s)?c[s]:void 0}return Lx=i,Lx}var Ux,YS;function rR(){if(YS)return Ux;YS=1;var r=w2(),e=Object.prototype,n=e.hasOwnProperty;function a(i){var s=this.__data__;return r?s[i]!==void 0:n.call(s,i)}return Ux=a,Ux}var Hx,ZS;function nR(){if(ZS)return Hx;ZS=1;var r=w2(),e="__lodash_hash_undefined__";function n(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=r&&i===void 0?e:i,this}return Hx=n,Hx}var Qx,JS;function aR(){if(JS)return Qx;JS=1;var r=JM(),e=eR(),n=tR(),a=rR(),i=nR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Qx=s,Qx}var Wx,eB;function iR(){if(eB)return Wx;eB=1;function r(){this.__data__=[],this.size=0}return Wx=r,Wx}var $x,tB;function Y4(){if(tB)return $x;tB=1;function r(e,n){return e===n||e!==e&&n!==n}return $x=r,$x}var Vx,rB;function j2(){if(rB)return Vx;rB=1;var r=Y4();function e(n,a){for(var i=n.length;i--;)if(r(n[i][0],a))return i;return-1}return Vx=e,Vx}var zx,nB;function sR(){if(nB)return zx;nB=1;var r=j2(),e=Array.prototype,n=e.splice;function a(i){var s=this.__data__,c=r(s,i);if(c<0)return!1;var l=s.length-1;return c==l?s.pop():n.call(s,c,1),--this.size,!0}return zx=a,zx}var Kx,aB;function oR(){if(aB)return Kx;aB=1;var r=j2();function e(n){var a=this.__data__,i=r(a,n);return i<0?void 0:a[i][1]}return Kx=e,Kx}var Gx,iB;function lR(){if(iB)return Gx;iB=1;var r=j2();function e(n){return r(this.__data__,n)>-1}return Gx=e,Gx}var qx,sB;function cR(){if(sB)return qx;sB=1;var r=j2();function e(n,a){var i=this.__data__,s=r(i,n);return s<0?(++this.size,i.push([n,a])):i[s][1]=a,this}return qx=e,qx}var Xx,oB;function C2(){if(oB)return Xx;oB=1;var r=iR(),e=sR(),n=oR(),a=lR(),i=cR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Xx=s,Xx}var Yx,lB;function Z4(){if(lB)return Yx;lB=1;var r=lp(),e=Fh(),n=r(e,"Map");return Yx=n,Yx}var Zx,cB;function uR(){if(cB)return Zx;cB=1;var r=aR(),e=C2(),n=Z4();function a(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return Zx=a,Zx}var Jx,uB;function dR(){if(uB)return Jx;uB=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Jx=r,Jx}var ey,dB;function N2(){if(dB)return ey;dB=1;var r=dR();function e(n,a){var i=n.__data__;return r(a)?i[typeof a=="string"?"string":"hash"]:i.map}return ey=e,ey}var ty,hB;function hR(){if(hB)return ty;hB=1;var r=N2();function e(n){var a=r(this,n).delete(n);return this.size-=a?1:0,a}return ty=e,ty}var ry,fB;function fR(){if(fB)return ry;fB=1;var r=N2();function e(n){return r(this,n).get(n)}return ry=e,ry}var ny,AB;function AR(){if(AB)return ny;AB=1;var r=N2();function e(n){return r(this,n).has(n)}return ny=e,ny}var ay,pB;function pR(){if(pB)return ay;pB=1;var r=N2();function e(n,a){var i=r(this,n),s=i.size;return i.set(n,a),this.size+=i.size==s?0:1,this}return ay=e,ay}var iy,mB;function J4(){if(mB)return iy;mB=1;var r=uR(),e=hR(),n=fR(),a=AR(),i=pR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,iy=s,iy}var sy,gB;function lO(){if(gB)return sy;gB=1;var r=J4(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var c=arguments,l=i?i.apply(this,c):c[0],u=s.cache;if(u.has(l))return u.get(l);var o=a.apply(this,c);return s.cache=u.set(l,o)||u,o};return s.cache=new(n.Cache||r),s}return n.Cache=r,sy=n,sy}var oy,vB;function mR(){if(vB)return oy;vB=1;var r=lO(),e=500;function n(a){var i=r(a,function(c){return s.size===e&&s.clear(),c}),s=i.cache;return i}return oy=n,oy}var ly,xB;function gR(){if(xB)return ly;xB=1;var r=mR(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(c,l,u,o){s.push(u?o.replace(n,"$1"):l||c)}),s});return ly=a,ly}var cy,yB;function eN(){if(yB)return cy;yB=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=Array(i);++a<i;)s[a]=n(e[a],a,e);return s}return cy=r,cy}var uy,bB;function vR(){if(bB)return uy;bB=1;var r=Pg(),e=eN(),n=Ru(),a=Tm(),i=r?r.prototype:void 0,s=i?i.toString:void 0;function c(l){if(typeof l=="string")return l;if(n(l))return e(l,c)+"";if(a(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return uy=c,uy}var dy,wB;function cO(){if(wB)return dy;wB=1;var r=vR();function e(n){return n==null?"":r(n)}return dy=e,dy}var hy,jB;function uO(){if(jB)return hy;jB=1;var r=Ru(),e=q4(),n=gR(),a=cO();function i(s,c){return r(s)?s:e(s,c)?[s]:n(a(s))}return hy=i,hy}var fy,CB;function S2(){if(CB)return fy;CB=1;var r=Tm();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return fy=e,fy}var Ay,NB;function tN(){if(NB)return Ay;NB=1;var r=uO(),e=S2();function n(a,i){i=r(i,a);for(var s=0,c=i.length;a!=null&&s<c;)a=a[e(i[s++])];return s&&s==c?a:void 0}return Ay=n,Ay}var py,SB;function dO(){if(SB)return py;SB=1;var r=tN();function e(n,a,i){var s=n==null?void 0:r(n,a);return s===void 0?i:s}return py=e,py}var xR=dO();const ld=Ji(xR);var my,BB;function yR(){if(BB)return my;BB=1;function r(e){return e==null}return my=r,my}var bR=yR();const li=Ji(bR);var gy,EB;function wR(){if(EB)return gy;EB=1;var r=xf(),e=Ru(),n=yf(),a="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&r(s)==a}return gy=i,gy}var jR=wR();const Fg=Ji(jR);var CR=X4();const qa=Ji(CR);var NR=dA();const _m=Ji(NR);var vy={exports:{}},Cs={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB;function SR(){if(IB)return Cs;IB=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case r:switch(x=x.type,x){case n:case i:case a:case o:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case u:case f:case d:case s:return x;default:return y}}case e:return y}}}return Cs.ContextConsumer=c,Cs.ContextProvider=s,Cs.Element=r,Cs.ForwardRef=u,Cs.Fragment=n,Cs.Lazy=f,Cs.Memo=d,Cs.Portal=e,Cs.Profiler=i,Cs.StrictMode=a,Cs.Suspense=o,Cs.SuspenseList=h,Cs.isAsyncMode=function(){return!1},Cs.isConcurrentMode=function(){return!1},Cs.isContextConsumer=function(x){return m(x)===c},Cs.isContextProvider=function(x){return m(x)===s},Cs.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===r},Cs.isForwardRef=function(x){return m(x)===u},Cs.isFragment=function(x){return m(x)===n},Cs.isLazy=function(x){return m(x)===f},Cs.isMemo=function(x){return m(x)===d},Cs.isPortal=function(x){return m(x)===e},Cs.isProfiler=function(x){return m(x)===i},Cs.isStrictMode=function(x){return m(x)===a},Cs.isSuspense=function(x){return m(x)===o},Cs.isSuspenseList=function(x){return m(x)===h},Cs.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===a||x===o||x===h||x===A||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===d||x.$$typeof===s||x.$$typeof===c||x.$$typeof===u||x.$$typeof===g||x.getModuleId!==void 0)},Cs.typeOf=m,Cs}var TB;function BR(){return TB||(TB=1,vy.exports=SR()),vy.exports}var ER=BR(),xy,_B;function hO(){if(_B)return xy;_B=1;var r=xf(),e=yf(),n="[object Number]";function a(i){return typeof i=="number"||e(i)&&r(i)==n}return xy=a,xy}var yy,OB;function IR(){if(OB)return yy;OB=1;var r=hO();function e(n){return r(n)&&n!=+n}return yy=e,yy}var TR=IR();const Dg=Ji(TR);var _R=hO();const OR=Ji(_R);var xu=function(e){return e===0?0:e>0?1:-1},KA=function(e){return Fg(e)&&e.indexOf("%")===e.length-1},gn=function(e){return OR(e)&&!Dg(e)},ql=function(e){return gn(e)||Fg(e)},kR=0,Om=function(e){var n=++kR;return"".concat(e||"").concat(n)},yu=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gn(e)&&!Fg(e))return a;var s;if(KA(e)){var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Dg(s)&&(s=a),i&&s>n&&(s=n),s},Jf=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},PR=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,a={},i=0;i<n;i++)if(!a[e[i]])a[e[i]]=!0;else return!0;return!1},sd=function(e,n){return gn(e)&&gn(n)?function(a){return e+a*(n-e)}:function(){return n}};function hv(r,e,n){return!r||!r.length?null:r.find(function(a){return a&&(typeof e=="function"?e(a):ld(a,e))===n})}function Zp(r,e){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(e,n)||r[n]!==e[n]))return!1;for(var a in e)if({}.hasOwnProperty.call(e,a)&&!{}.hasOwnProperty.call(r,a))return!1;return!0}function uC(r){"@babel/helpers - typeof";return uC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uC(r)}var FR=["viewBox","children"],DR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kB=["points","pathLength"],by={svg:FR,polygon:kB,polyline:kB},rN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(k.isValidElement(e)&&(a=e.props),!_m(a))return null;var i={};return Object.keys(a).forEach(function(s){rN.includes(s)&&(i[s]=n||function(c){return a[s](a,c)})}),i},MR=function(e,n,a){return function(i){return e(n,a,i),null}},np=function(e,n,a){if(!_m(e)||uC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var c=e[s];rN.includes(s)&&typeof c=="function"&&(i||(i={}),i[s]=MR(c,n,a))}),i},RR=["children"],LR=["children"];function PB(r,e){if(r==null)return{};var n=UR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function UR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function dC(r){"@babel/helpers - typeof";return dC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dC(r)}var FB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DB=null,wy=null,nN=function r(e){if(e===DB&&Array.isArray(wy))return wy;var n=[];return k.Children.forEach(e,function(a){li(a)||(ER.isFragment(a)?n=n.concat(r(a.props.children)):n.push(a))}),wy=n,DB=e,n};function cd(r,e){var n=[],a=[];return Array.isArray(e)?a=e.map(function(i){return hf(i)}):a=[hf(e)],nN(r).forEach(function(i){var s=ld(i,"type.displayName")||ld(i,"type.name");a.indexOf(s)!==-1&&n.push(i)}),n}function ad(r,e){var n=cd(r,e);return n&&n[0]}var MB=function(e){if(!e||!e.props)return!1;var n=e.props,a=n.width,i=n.height;return!(!gn(a)||a<=0||!gn(i)||i<=0)},HR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QR=function(e){return e&&e.type&&Fg(e.type)&&HR.indexOf(e.type)>=0},WR=function(e){return e&&dC(e)==="object"&&"clipDot"in e},$R=function(e,n,a,i){var s,c=(s=by==null?void 0:by[i])!==null&&s!==void 0?s:[];return!qa(e)&&(i&&c.includes(n)||DR.includes(n))||a&&rN.includes(n)},_a=function(e,n,a){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!_m(i))return null;var s={};return Object.keys(i).forEach(function(c){var l;$R((l=i)===null||l===void 0?void 0:l[c],c,n,a)&&(s[c]=i[c])}),s},hC=function r(e,n){if(e===n)return!0;var a=k.Children.count(e);if(a!==k.Children.count(n))return!1;if(a===0)return!0;if(a===1)return RB(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var s=e[i],c=n[i];if(Array.isArray(s)||Array.isArray(c)){if(!r(s,c))return!1}else if(!RB(s,c))return!1}return!0},RB=function(e,n){if(li(e)&&li(n))return!0;if(!li(e)&&!li(n)){var a=e.props||{},i=a.children,s=PB(a,RR),c=n.props||{},l=c.children,u=PB(c,LR);return i&&l?Zp(s,u)&&hC(i,l):!i&&!l?Zp(s,u):!1}return!1},LB=function(e,n){var a=[],i={};return nN(e).forEach(function(s,c){if(QR(s))a.push(s);else if(s){var l=hf(s.type),u=n[l]||{},o=u.handler,h=u.once;if(o&&(!h||!i[l])){var d=o(s,l,c);a.push(d),i[l]=!0}}}),a},VR=function(e){var n=e&&e.type;return n&&FB[n]?FB[n]:null},zR=function(e,n){return nN(n).indexOf(e)},KR=["children","width","height","viewBox","className","style","title","desc"];function fC(){return fC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},fC.apply(this,arguments)}function GR(r,e){if(r==null)return{};var n=qR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function qR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function AC(r){var e=r.children,n=r.width,a=r.height,i=r.viewBox,s=r.className,c=r.style,l=r.title,u=r.desc,o=GR(r,KR),h=i||{width:n,height:a,x:0,y:0},d=gi("recharts-surface",s);return St.createElement("svg",fC({},_a(o,!0,"svg"),{className:d,width:n,height:a,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),St.createElement("title",null,l),St.createElement("desc",null,u),e)}var XR=["children","className"];function pC(){return pC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},pC.apply(this,arguments)}function YR(r,e){if(r==null)return{};var n=ZR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function ZR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var ss=St.forwardRef(function(r,e){var n=r.children,a=r.className,i=YR(r,XR),s=gi("recharts-layer",a);return St.createElement("g",pC({className:s},_a(i,!0),{ref:e}),n)}),dh=function(e,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},jy,UB;function JR(){if(UB)return jy;UB=1;function r(e,n,a){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),a=a>s?s:a,a<0&&(a+=s),s=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(s);++i<s;)c[i]=e[i+n];return c}return jy=r,jy}var Cy,HB;function eL(){if(HB)return Cy;HB=1;var r=JR();function e(n,a,i){var s=n.length;return i=i===void 0?s:i,!a&&i>=s?n:r(n,a,i)}return Cy=e,Cy}var Ny,QB;function fO(){if(QB)return Ny;QB=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+r+i+s+"]");function u(o){return l.test(o)}return Ny=u,Ny}var Sy,WB;function tL(){if(WB)return Sy;WB=1;function r(e){return e.split("")}return Sy=r,Sy}var By,$B;function rL(){if($B)return By;$B=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="["+r+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",o="(?:"+l+"|"+u+")",h="[^"+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",A="\\u200d",g=o+"?",m="["+s+"]?",x="(?:"+A+"(?:"+[h,d,f].join("|")+")"+m+g+")*",y=m+g+x,b="(?:"+[h+l+"?",l,d,f,c].join("|")+")",w=RegExp(u+"(?="+u+")|"+b+y,"g");function N(S){return S.match(w)||[]}return By=N,By}var Ey,VB;function nL(){if(VB)return Ey;VB=1;var r=tL(),e=fO(),n=rL();function a(i){return e(i)?n(i):r(i)}return Ey=a,Ey}var Iy,zB;function aL(){if(zB)return Iy;zB=1;var r=eL(),e=fO(),n=nL(),a=cO();function i(s){return function(c){c=a(c);var l=e(c)?n(c):void 0,u=l?l[0]:c.charAt(0),o=l?r(l,1).join(""):c.slice(1);return u[s]()+o}}return Iy=i,Iy}var Ty,KB;function iL(){if(KB)return Ty;KB=1;var r=aL(),e=r("toUpperCase");return Ty=e,Ty}var sL=iL();const B2=Ji(sL);function no(r){return function(){return r}}const AO=Math.cos,Av=Math.sin,hh=Math.sqrt,pv=Math.PI,E2=2*pv,mC=Math.PI,gC=2*mC,QA=1e-6,oL=gC-QA;function pO(r){this._+=r[0];for(let e=1,n=r.length;e<n;++e)this._+=arguments[e]+r[e]}function lL(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return pO;const n=10**e;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}class cL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pO:lL(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,a,i){this._append`Q${+e},${+n},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(e,n,a,i,s,c){this._append`C${+e},${+n},${+a},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,a,i,s){if(e=+e,n=+n,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,l=this._y1,u=a-e,o=i-n,h=c-e,d=l-n,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>QA)if(!(Math.abs(d*u-o*h)>QA)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let A=a-c,g=i-l,m=u*u+o*o,x=A*A+g*g,y=Math.sqrt(m),b=Math.sqrt(f),w=s*Math.tan((mC-Math.acos((m+f-x)/(2*y*b)))/2),N=w/b,S=w/y;Math.abs(N-1)>QA&&this._append`L${e+N*h},${n+N*d}`,this._append`A${s},${s},0,0,${+(d*A>h*g)},${this._x1=e+S*u},${this._y1=n+S*o}`}}arc(e,n,a,i,s,c){if(e=+e,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(i),u=a*Math.sin(i),o=e+l,h=n+u,d=1^c,f=c?i-s:s-i;this._x1===null?this._append`M${o},${h}`:(Math.abs(this._x1-o)>QA||Math.abs(this._y1-h)>QA)&&this._append`L${o},${h}`,a&&(f<0&&(f=f%gC+gC),f>oL?this._append`A${a},${a},0,1,${d},${e-l},${n-u}A${a},${a},0,1,${d},${this._x1=o},${this._y1=h}`:f>QA&&this._append`A${a},${a},0,${+(f>=mC)},${d},${this._x1=e+a*Math.cos(s)},${this._y1=n+a*Math.sin(s)}`)}rect(e,n,a,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function aN(r){let e=3;return r.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);e=a}return r},()=>new cL(e)}function iN(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function mO(r){this._context=r}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function I2(r){return new mO(r)}function gO(r){return r[0]}function vO(r){return r[1]}function xO(r,e){var n=no(!0),a=null,i=I2,s=null,c=aN(l);r=typeof r=="function"?r:r===void 0?gO:no(r),e=typeof e=="function"?e:e===void 0?vO:no(e);function l(u){var o,h=(u=iN(u)).length,d,f=!1,A;for(a==null&&(s=i(A=c())),o=0;o<=h;++o)!(o<h&&n(d=u[o],o,u))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+r(d,o,u),+e(d,o,u));if(A)return s=null,A+""||null}return l.x=function(u){return arguments.length?(r=typeof u=="function"?u:no(+u),l):r},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:no(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:no(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),l):i},l.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),l):a},l}function e1(r,e,n){var a=null,i=no(!0),s=null,c=I2,l=null,u=aN(o);r=typeof r=="function"?r:r===void 0?gO:no(+r),e=typeof e=="function"?e:no(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vO:no(+n);function o(d){var f,A,g,m=(d=iN(d)).length,x,y=!1,b,w=new Array(m),N=new Array(m);for(s==null&&(l=c(b=u())),f=0;f<=m;++f){if(!(f<m&&i(x=d[f],f,d))===y)if(y=!y)A=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=A;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+r(x,f,d),N[f]=+e(x,f,d),l.point(a?+a(x,f,d):w[f],n?+n(x,f,d):N[f]))}if(b)return l=null,b+""||null}function h(){return xO().defined(i).curve(c).context(s)}return o.x=function(d){return arguments.length?(r=typeof d=="function"?d:no(+d),a=null,o):r},o.x0=function(d){return arguments.length?(r=typeof d=="function"?d:no(+d),o):r},o.x1=function(d){return arguments.length?(a=d==null?null:typeof d=="function"?d:no(+d),o):a},o.y=function(d){return arguments.length?(e=typeof d=="function"?d:no(+d),n=null,o):e},o.y0=function(d){return arguments.length?(e=typeof d=="function"?d:no(+d),o):e},o.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:no(+d),o):n},o.lineX0=o.lineY0=function(){return h().x(r).y(e)},o.lineY1=function(){return h().x(r).y(n)},o.lineX1=function(){return h().x(a).y(e)},o.defined=function(d){return arguments.length?(i=typeof d=="function"?d:no(!!d),o):i},o.curve=function(d){return arguments.length?(c=d,s!=null&&(l=c(s)),o):c},o.context=function(d){return arguments.length?(d==null?s=l=null:l=c(s=d),o):s},o}class yO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uL(r){return new yO(r,!0)}function dL(r){return new yO(r,!1)}const sN={draw(r,e){const n=hh(e/pv);r.moveTo(n,0),r.arc(0,0,n,0,E2)}},hL={draw(r,e){const n=hh(e/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},bO=hh(1/3),fL=bO*2,AL={draw(r,e){const n=hh(e/fL),a=n*bO;r.moveTo(0,-n),r.lineTo(a,0),r.lineTo(0,n),r.lineTo(-a,0),r.closePath()}},pL={draw(r,e){const n=hh(e),a=-n/2;r.rect(a,a,n,n)}},mL=.8908130915292852,wO=Av(pv/10)/Av(7*pv/10),gL=Av(E2/10)*wO,vL=-AO(E2/10)*wO,xL={draw(r,e){const n=hh(e*mL),a=gL*n,i=vL*n;r.moveTo(0,-n),r.lineTo(a,i);for(let s=1;s<5;++s){const c=E2*s/5,l=AO(c),u=Av(c);r.lineTo(u*n,-l*n),r.lineTo(l*a-u*i,u*a+l*i)}r.closePath()}},_y=hh(3),yL={draw(r,e){const n=-hh(e/(_y*3));r.moveTo(0,n*2),r.lineTo(-_y*n,-n),r.lineTo(_y*n,-n),r.closePath()}},Pd=-.5,Fd=hh(3)/2,vC=1/hh(12),bL=(vC/2+1)*3,wL={draw(r,e){const n=hh(e/bL),a=n/2,i=n*vC,s=a,c=n*vC+n,l=-s,u=c;r.moveTo(a,i),r.lineTo(s,c),r.lineTo(l,u),r.lineTo(Pd*a-Fd*i,Fd*a+Pd*i),r.lineTo(Pd*s-Fd*c,Fd*s+Pd*c),r.lineTo(Pd*l-Fd*u,Fd*l+Pd*u),r.lineTo(Pd*a+Fd*i,Pd*i-Fd*a),r.lineTo(Pd*s+Fd*c,Pd*c-Fd*s),r.lineTo(Pd*l+Fd*u,Pd*u-Fd*l),r.closePath()}};function jL(r,e){let n=null,a=aN(i);r=typeof r=="function"?r:no(r||sN),e=typeof e=="function"?e:no(e===void 0?64:+e);function i(){let s;if(n||(n=s=a()),r.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(r=typeof s=="function"?s:no(s),i):r},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:no(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function mv(){}function gv(r,e,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+n)/6)}function jO(r){this._context=r}jO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function CL(r){return new jO(r)}function CO(r){this._context=r}CO.prototype={areaStart:mv,areaEnd:mv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:gv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function NL(r){return new CO(r)}function NO(r){this._context=r}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:gv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function SL(r){return new NO(r)}function SO(r){this._context=r}SO.prototype={areaStart:mv,areaEnd:mv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function BL(r){return new SO(r)}function GB(r){return r<0?-1:1}function qB(r,e,n){var a=r._x1-r._x0,i=e-r._x1,s=(r._y1-r._y0)/(a||i<0&&-0),c=(n-r._y1)/(i||a<0&&-0),l=(s*i+c*a)/(a+i);return(GB(s)+GB(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(l))||0}function XB(r,e){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-e)/2:e}function Oy(r,e,n){var a=r._x0,i=r._y0,s=r._x1,c=r._y1,l=(s-a)/3;r._context.bezierCurveTo(a+l,i+l*e,s-l,c-l*n,s,c)}function vv(r){this._context=r}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Oy(this,this._t0,XB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var n=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,Oy(this,XB(this,n=qB(this,r,e)),n);break;default:Oy(this,this._t0,n=qB(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=n}}};function BO(r){this._context=new EO(r)}(BO.prototype=Object.create(vv.prototype)).point=function(r,e){vv.prototype.point.call(this,e,r)};function EO(r){this._context=r}EO.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,n,a,i,s){this._context.bezierCurveTo(e,r,a,n,s,i)}};function EL(r){return new vv(r)}function IL(r){return new BO(r)}function IO(r){this._context=r}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),n===2)this._context.lineTo(r[1],e[1]);else for(var a=YB(r),i=YB(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],r[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function YB(r){var e,n=r.length-1,a,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=r[0]+2*r[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*r[e]+2*r[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*r[n-1]+r[n],e=1;e<n;++e)a=i[e]/s[e-1],s[e]-=a,c[e]-=a*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(r[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*r[e+1]-i[e+1];return[i,s]}function TL(r){return new IO(r)}function T2(r,e){this._context=r,this._t=e}T2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=r,this._y=e}};function _L(r){return new T2(r,.5)}function OL(r){return new T2(r,0)}function kL(r){return new T2(r,1)}function tm(r,e){if((c=r.length)>1)for(var n=1,a,i,s=r[e[0]],c,l=s.length;n<c;++n)for(i=s,s=r[e[n]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function xC(r){for(var e=r.length,n=new Array(e);--e>=0;)n[e]=e;return n}function PL(r,e){return r[e]}function FL(r){const e=[];return e.key=r,e}function DL(){var r=no([]),e=xC,n=tm,a=PL;function i(s){var c=Array.from(r.apply(this,arguments),FL),l,u=c.length,o=-1,h;for(const d of s)for(l=0,++o;l<u;++l)(c[l][o]=[0,+a(d,c[l].key,o,s)]).data=d;for(l=0,h=iN(e(c));l<u;++l)c[h[l]].index=l;return n(c,h),c}return i.keys=function(s){return arguments.length?(r=typeof s=="function"?s:no(Array.from(s)),i):r},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:no(+s),i):a},i.order=function(s){return arguments.length?(e=s==null?xC:typeof s=="function"?s:no(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??tm,i):n},i}function ML(r,e){if((a=r.length)>0){for(var n,a,i=0,s=r[0].length,c;i<s;++i){for(c=n=0;n<a;++n)c+=r[n][i][1]||0;if(c)for(n=0;n<a;++n)r[n][i][1]/=c}tm(r,e)}}function RL(r,e){if((i=r.length)>0){for(var n=0,a=r[e[0]],i,s=a.length;n<s;++n){for(var c=0,l=0;c<i;++c)l+=r[c][n][1]||0;a[n][1]+=a[n][0]=-l/2}tm(r,e)}}function LL(r,e){if(!(!((c=r.length)>0)||!((s=(i=r[e[0]]).length)>0))){for(var n=0,a=1,i,s,c;a<s;++a){for(var l=0,u=0,o=0;l<c;++l){for(var h=r[e[l]],d=h[a][1]||0,f=h[a-1][1]||0,A=(d-f)/2,g=0;g<l;++g){var m=r[e[g]],x=m[a][1]||0,y=m[a-1][1]||0;A+=x-y}u+=d,o+=A*d}i[a-1][1]+=i[a-1][0]=n,u&&(n-=o/u)}i[a-1][1]+=i[a-1][0]=n,tm(r,e)}}function J0(r){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(r)}var UL=["type","size","sizeType"];function yC(){return yC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},yC.apply(this,arguments)}function ZB(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function JB(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(a){HL(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function HL(r,e,n){return e=QL(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function QL(r){var e=WL(r,"string");return J0(e)=="symbol"?e:e+""}function WL(r,e){if(J0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(J0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $L(r,e){if(r==null)return{};var n=VL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function VL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var TO={symbolCircle:sN,symbolCross:hL,symbolDiamond:AL,symbolSquare:pL,symbolStar:xL,symbolTriangle:yL,symbolWye:wL},zL=Math.PI/180,KL=function(e){var n="symbol".concat(B2(e));return TO[n]||sN},GL=function(e,n,a){if(n==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zL;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qL=function(e,n){TO["symbol".concat(B2(e))]=n},oN=function(e){var n=e.type,a=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,c=e.sizeType,l=c===void 0?"area":c,u=$L(e,UL),o=JB(JB({},u),{},{type:a,size:s,sizeType:l}),h=function(){var x=KL(a),y=jL().type(x).size(GL(s,l,a));return y()},d=o.className,f=o.cx,A=o.cy,g=_a(o,!0);return f===+f&&A===+A&&s===+s?St.createElement("path",yC({},g,{className:gi("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(A,")"),d:h()})):null};oN.registerSymbol=qL;function rm(r){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(r)}function bC(){return bC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},bC.apply(this,arguments)}function eE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function XL(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(a){eg(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function YL(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ZL(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,OO(a.key),a)}}function JL(r,e,n){return e&&ZL(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function e7(r,e,n){return e=xv(e),t7(r,_O()?Reflect.construct(e,n||[],xv(r).constructor):e.apply(r,n))}function t7(r,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7(r)}function r7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _O(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!r})()}function xv(r){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(r)}function n7(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&wC(r,e)}function wC(r,e){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},wC(r,e)}function eg(r,e,n){return e=OO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function OO(r){var e=a7(r,"string");return rm(e)=="symbol"?e:e+""}function a7(r,e){if(rm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Dd=32,lN=(function(r){function e(){return YL(this,e),e7(this,e,arguments)}return n7(e,r),JL(e,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=Dd/2,c=Dd/6,l=Dd/3,u=a.inactive?i:a.color;if(a.type==="plainline")return St.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Dd,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return St.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Dd,"M").concat(2*l,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return St.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Dd/8,"h").concat(Dd,"v").concat(Dd*3/4,"h").concat(-Dd,"z"),className:"recharts-legend-icon"});if(St.isValidElement(a.legendIcon)){var o=XL({},a);return delete o.legendIcon,St.cloneElement(a.legendIcon,o)}return St.createElement(oN,{fill:u,cx:s,cy:s,size:Dd,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,c=i.iconSize,l=i.layout,u=i.formatter,o=i.inactiveColor,h={x:0,y:0,width:Dd,height:Dd},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(A,g){var m=A.formatter||u,x=gi(eg(eg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",A.inactive));if(A.type==="none")return null;var y=qa(A.value)?null:A.value;dh(!qa(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=A.inactive?o:A.color;return St.createElement("li",bC({className:x,style:d,key:"legend-item-".concat(g)},np(a.props,A,g)),St.createElement(AC,{width:c,height:c,viewBox:h,style:f},a.renderIcon(A)),St.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,A,g):y))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,c=a.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return St.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(k.PureComponent);eg(lN,"displayName","Legend");eg(lN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ky,tE;function i7(){if(tE)return ky;tE=1;var r=C2();function e(){this.__data__=new r,this.size=0}return ky=e,ky}var Py,rE;function s7(){if(rE)return Py;rE=1;function r(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}return Py=r,Py}var Fy,nE;function o7(){if(nE)return Fy;nE=1;function r(e){return this.__data__.get(e)}return Fy=r,Fy}var Dy,aE;function l7(){if(aE)return Dy;aE=1;function r(e){return this.__data__.has(e)}return Dy=r,Dy}var My,iE;function c7(){if(iE)return My;iE=1;var r=C2(),e=Z4(),n=J4(),a=200;function i(s,c){var l=this.__data__;if(l instanceof r){var u=l.__data__;if(!e||u.length<a-1)return u.push([s,c]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(s,c),this.size=l.size,this}return My=i,My}var Ry,sE;function kO(){if(sE)return Ry;sE=1;var r=C2(),e=i7(),n=s7(),a=o7(),i=l7(),s=c7();function c(l){var u=this.__data__=new r(l);this.size=u.size}return c.prototype.clear=e,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,Ry=c,Ry}var Ly,oE;function u7(){if(oE)return Ly;oE=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return Ly=e,Ly}var Uy,lE;function d7(){if(lE)return Uy;lE=1;function r(e){return this.__data__.has(e)}return Uy=r,Uy}var Hy,cE;function PO(){if(cE)return Hy;cE=1;var r=J4(),e=u7(),n=d7();function a(i){var s=-1,c=i==null?0:i.length;for(this.__data__=new r;++s<c;)this.add(i[s])}return a.prototype.add=a.prototype.push=e,a.prototype.has=n,Hy=a,Hy}var Qy,uE;function FO(){if(uE)return Qy;uE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(e[a],a,e))return!0;return!1}return Qy=r,Qy}var Wy,dE;function DO(){if(dE)return Wy;dE=1;function r(e,n){return e.has(n)}return Wy=r,Wy}var $y,hE;function MO(){if(hE)return $y;hE=1;var r=PO(),e=FO(),n=DO(),a=1,i=2;function s(c,l,u,o,h,d){var f=u&a,A=c.length,g=l.length;if(A!=g&&!(f&&g>A))return!1;var m=d.get(c),x=d.get(l);if(m&&x)return m==l&&x==c;var y=-1,b=!0,w=u&i?new r:void 0;for(d.set(c,l),d.set(l,c);++y<A;){var N=c[y],S=l[y];if(o)var j=f?o(S,N,y,l,c,d):o(N,S,y,c,l,d);if(j!==void 0){if(j)continue;b=!1;break}if(w){if(!e(l,function(_,P){if(!n(w,P)&&(N===_||h(N,_,u,o,d)))return w.push(P)})){b=!1;break}}else if(!(N===S||h(N,S,u,o,d))){b=!1;break}}return d.delete(c),d.delete(l),b}return $y=s,$y}var Vy,fE;function h7(){if(fE)return Vy;fE=1;var r=Fh(),e=r.Uint8Array;return Vy=e,Vy}var zy,AE;function f7(){if(AE)return zy;AE=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i,s){a[++n]=[s,i]}),a}return zy=r,zy}var Ky,pE;function cN(){if(pE)return Ky;pE=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i){a[++n]=i}),a}return Ky=r,Ky}var Gy,mE;function A7(){if(mE)return Gy;mE=1;var r=Pg(),e=h7(),n=Y4(),a=MO(),i=f7(),s=cN(),c=1,l=2,u="[object Boolean]",o="[object Date]",h="[object Error]",d="[object Map]",f="[object Number]",A="[object RegExp]",g="[object Set]",m="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,N=w?w.valueOf:void 0;function S(j,_,P,Z,ee,K,ae){switch(P){case b:if(j.byteLength!=_.byteLength||j.byteOffset!=_.byteOffset)return!1;j=j.buffer,_=_.buffer;case y:return!(j.byteLength!=_.byteLength||!K(new e(j),new e(_)));case u:case o:case f:return n(+j,+_);case h:return j.name==_.name&&j.message==_.message;case A:case m:return j==_+"";case d:var D=i;case g:var q=Z&c;if(D||(D=s),j.size!=_.size&&!q)return!1;var $=ae.get(j);if($)return $==_;Z|=l,ae.set(j,_);var L=a(D(j),D(_),Z,ee,K,ae);return ae.delete(j),L;case x:if(N)return N.call(j)==N.call(_)}return!1}return Gy=S,Gy}var qy,gE;function RO(){if(gE)return qy;gE=1;function r(e,n){for(var a=-1,i=n.length,s=e.length;++a<i;)e[s+a]=n[a];return e}return qy=r,qy}var Xy,vE;function p7(){if(vE)return Xy;vE=1;var r=RO(),e=Ru();function n(a,i,s){var c=i(a);return e(a)?c:r(c,s(a))}return Xy=n,Xy}var Yy,xE;function m7(){if(xE)return Yy;xE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=0,c=[];++a<i;){var l=e[a];n(l,a,e)&&(c[s++]=l)}return c}return Yy=r,Yy}var Zy,yE;function g7(){if(yE)return Zy;yE=1;function r(){return[]}return Zy=r,Zy}var Jy,bE;function v7(){if(bE)return Jy;bE=1;var r=m7(),e=g7(),n=Object.prototype,a=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(c){return c==null?[]:(c=Object(c),r(i(c),function(l){return a.call(c,l)}))}:e;return Jy=s,Jy}var eb,wE;function x7(){if(wE)return eb;wE=1;function r(e,n){for(var a=-1,i=Array(e);++a<e;)i[a]=n(a);return i}return eb=r,eb}var tb,jE;function y7(){if(jE)return tb;jE=1;var r=xf(),e=yf(),n="[object Arguments]";function a(i){return e(i)&&r(i)==n}return tb=a,tb}var rb,CE;function uN(){if(CE)return rb;CE=1;var r=y7(),e=yf(),n=Object.prototype,a=n.hasOwnProperty,i=n.propertyIsEnumerable,s=r((function(){return arguments})())?r:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return rb=s,rb}var T0={exports:{}},nb,NE;function b7(){if(NE)return nb;NE=1;function r(){return!1}return nb=r,nb}T0.exports;var SE;function LO(){return SE||(SE=1,(function(r,e){var n=Fh(),a=b7(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,c=s&&s.exports===i,l=c?n.Buffer:void 0,u=l?l.isBuffer:void 0,o=u||a;r.exports=o})(T0,T0.exports)),T0.exports}var ab,BE;function dN(){if(BE)return ab;BE=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(a,i){var s=typeof a;return i=i??r,!!i&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return ab=n,ab}var ib,EE;function hN(){if(EE)return ib;EE=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return ib=e,ib}var sb,IE;function w7(){if(IE)return sb;IE=1;var r=xf(),e=hN(),n=yf(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",o="[object Map]",h="[object Number]",d="[object Object]",f="[object RegExp]",A="[object Set]",g="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",_="[object Uint8Array]",P="[object Uint8ClampedArray]",Z="[object Uint16Array]",ee="[object Uint32Array]",K={};K[b]=K[w]=K[N]=K[S]=K[j]=K[_]=K[P]=K[Z]=K[ee]=!0,K[a]=K[i]=K[x]=K[s]=K[y]=K[c]=K[l]=K[u]=K[o]=K[h]=K[d]=K[f]=K[A]=K[g]=K[m]=!1;function ae(D){return n(D)&&e(D.length)&&!!K[r(D)]}return sb=ae,sb}var ob,TE;function UO(){if(TE)return ob;TE=1;function r(e){return function(n){return e(n)}}return ob=r,ob}var _0={exports:{}};_0.exports;var _E;function j7(){return _E||(_E=1,(function(r,e){var n=sO(),a=e&&!e.nodeType&&e,i=a&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===a,c=s&&n.process,l=(function(){try{var u=i&&i.require&&i.require("util").types;return u||c&&c.binding&&c.binding("util")}catch{}})();r.exports=l})(_0,_0.exports)),_0.exports}var lb,OE;function HO(){if(OE)return lb;OE=1;var r=w7(),e=UO(),n=j7(),a=n&&n.isTypedArray,i=a?e(a):r;return lb=i,lb}var cb,kE;function C7(){if(kE)return cb;kE=1;var r=x7(),e=uN(),n=Ru(),a=LO(),i=dN(),s=HO(),c=Object.prototype,l=c.hasOwnProperty;function u(o,h){var d=n(o),f=!d&&e(o),A=!d&&!f&&a(o),g=!d&&!f&&!A&&s(o),m=d||f||A||g,x=m?r(o.length,String):[],y=x.length;for(var b in o)(h||l.call(o,b))&&!(m&&(b=="length"||A&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&x.push(b);return x}return cb=u,cb}var ub,PE;function N7(){if(PE)return ub;PE=1;var r=Object.prototype;function e(n){var a=n&&n.constructor,i=typeof a=="function"&&a.prototype||r;return n===i}return ub=e,ub}var db,FE;function QO(){if(FE)return db;FE=1;function r(e,n){return function(a){return e(n(a))}}return db=r,db}var hb,DE;function S7(){if(DE)return hb;DE=1;var r=QO(),e=r(Object.keys,Object);return hb=e,hb}var fb,ME;function B7(){if(ME)return fb;ME=1;var r=N7(),e=S7(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!r(s))return e(s);var c=[];for(var l in Object(s))a.call(s,l)&&l!="constructor"&&c.push(l);return c}return fb=i,fb}var Ab,RE;function Mg(){if(RE)return Ab;RE=1;var r=X4(),e=hN();function n(a){return a!=null&&e(a.length)&&!r(a)}return Ab=n,Ab}var pb,LE;function _2(){if(LE)return pb;LE=1;var r=C7(),e=B7(),n=Mg();function a(i){return n(i)?r(i):e(i)}return pb=a,pb}var mb,UE;function E7(){if(UE)return mb;UE=1;var r=p7(),e=v7(),n=_2();function a(i){return r(i,n,e)}return mb=a,mb}var gb,HE;function I7(){if(HE)return gb;HE=1;var r=E7(),e=1,n=Object.prototype,a=n.hasOwnProperty;function i(s,c,l,u,o,h){var d=l&e,f=r(s),A=f.length,g=r(c),m=g.length;if(A!=m&&!d)return!1;for(var x=A;x--;){var y=f[x];if(!(d?y in c:a.call(c,y)))return!1}var b=h.get(s),w=h.get(c);if(b&&w)return b==c&&w==s;var N=!0;h.set(s,c),h.set(c,s);for(var S=d;++x<A;){y=f[x];var j=s[y],_=c[y];if(u)var P=d?u(_,j,y,c,s,h):u(j,_,y,s,c,h);if(!(P===void 0?j===_||o(j,_,l,u,h):P)){N=!1;break}S||(S=y=="constructor")}if(N&&!S){var Z=s.constructor,ee=c.constructor;Z!=ee&&"constructor"in s&&"constructor"in c&&!(typeof Z=="function"&&Z instanceof Z&&typeof ee=="function"&&ee instanceof ee)&&(N=!1)}return h.delete(s),h.delete(c),N}return gb=i,gb}var vb,QE;function T7(){if(QE)return vb;QE=1;var r=lp(),e=Fh(),n=r(e,"DataView");return vb=n,vb}var xb,WE;function _7(){if(WE)return xb;WE=1;var r=lp(),e=Fh(),n=r(e,"Promise");return xb=n,xb}var yb,$E;function WO(){if($E)return yb;$E=1;var r=lp(),e=Fh(),n=r(e,"Set");return yb=n,yb}var bb,VE;function O7(){if(VE)return bb;VE=1;var r=lp(),e=Fh(),n=r(e,"WeakMap");return bb=n,bb}var wb,zE;function k7(){if(zE)return wb;zE=1;var r=T7(),e=Z4(),n=_7(),a=WO(),i=O7(),s=xf(),c=oO(),l="[object Map]",u="[object Object]",o="[object Promise]",h="[object Set]",d="[object WeakMap]",f="[object DataView]",A=c(r),g=c(e),m=c(n),x=c(a),y=c(i),b=s;return(r&&b(new r(new ArrayBuffer(1)))!=f||e&&b(new e)!=l||n&&b(n.resolve())!=o||a&&b(new a)!=h||i&&b(new i)!=d)&&(b=function(w){var N=s(w),S=N==u?w.constructor:void 0,j=S?c(S):"";if(j)switch(j){case A:return f;case g:return l;case m:return o;case x:return h;case y:return d}return N}),wb=b,wb}var jb,KE;function P7(){if(KE)return jb;KE=1;var r=kO(),e=MO(),n=A7(),a=I7(),i=k7(),s=Ru(),c=LO(),l=HO(),u=1,o="[object Arguments]",h="[object Array]",d="[object Object]",f=Object.prototype,A=f.hasOwnProperty;function g(m,x,y,b,w,N){var S=s(m),j=s(x),_=S?h:i(m),P=j?h:i(x);_=_==o?d:_,P=P==o?d:P;var Z=_==d,ee=P==d,K=_==P;if(K&&c(m)){if(!c(x))return!1;S=!0,Z=!1}if(K&&!Z)return N||(N=new r),S||l(m)?e(m,x,y,b,w,N):n(m,x,_,y,b,w,N);if(!(y&u)){var ae=Z&&A.call(m,"__wrapped__"),D=ee&&A.call(x,"__wrapped__");if(ae||D){var q=ae?m.value():m,$=D?x.value():x;return N||(N=new r),w(q,$,y,b,N)}}return K?(N||(N=new r),a(m,x,y,b,w,N)):!1}return jb=g,jb}var Cb,GE;function fN(){if(GE)return Cb;GE=1;var r=P7(),e=yf();function n(a,i,s,c,l){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:r(a,i,s,c,n,l)}return Cb=n,Cb}var Nb,qE;function F7(){if(qE)return Nb;qE=1;var r=kO(),e=fN(),n=1,a=2;function i(s,c,l,u){var o=l.length,h=o,d=!u;if(s==null)return!h;for(s=Object(s);o--;){var f=l[o];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++o<h;){f=l[o];var A=f[0],g=s[A],m=f[1];if(d&&f[2]){if(g===void 0&&!(A in s))return!1}else{var x=new r;if(u)var y=u(g,m,A,s,c,x);if(!(y===void 0?e(m,g,n|a,u,x):y))return!1}}return!0}return Nb=i,Nb}var Sb,XE;function $O(){if(XE)return Sb;XE=1;var r=dA();function e(n){return n===n&&!r(n)}return Sb=e,Sb}var Bb,YE;function D7(){if(YE)return Bb;YE=1;var r=$O(),e=_2();function n(a){for(var i=e(a),s=i.length;s--;){var c=i[s],l=a[c];i[s]=[c,l,r(l)]}return i}return Bb=n,Bb}var Eb,ZE;function VO(){if(ZE)return Eb;ZE=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return Eb=r,Eb}var Ib,JE;function M7(){if(JE)return Ib;JE=1;var r=F7(),e=D7(),n=VO();function a(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(c){return c===i||r(c,i,s)}}return Ib=a,Ib}var Tb,e5;function R7(){if(e5)return Tb;e5=1;function r(e,n){return e!=null&&n in Object(e)}return Tb=r,Tb}var _b,t5;function L7(){if(t5)return _b;t5=1;var r=uO(),e=uN(),n=Ru(),a=dN(),i=hN(),s=S2();function c(l,u,o){u=r(u,l);for(var h=-1,d=u.length,f=!1;++h<d;){var A=s(u[h]);if(!(f=l!=null&&o(l,A)))break;l=l[A]}return f||++h!=d?f:(d=l==null?0:l.length,!!d&&i(d)&&a(A,d)&&(n(l)||e(l)))}return _b=c,_b}var Ob,r5;function U7(){if(r5)return Ob;r5=1;var r=R7(),e=L7();function n(a,i){return a!=null&&e(a,i,r)}return Ob=n,Ob}var kb,n5;function H7(){if(n5)return kb;n5=1;var r=fN(),e=dO(),n=U7(),a=q4(),i=$O(),s=VO(),c=S2(),l=1,u=2;function o(h,d){return a(h)&&i(d)?s(c(h),d):function(f){var A=e(f,h);return A===void 0&&A===d?n(f,h):r(d,A,l|u)}}return kb=o,kb}var Pb,a5;function km(){if(a5)return Pb;a5=1;function r(e){return e}return Pb=r,Pb}var Fb,i5;function Q7(){if(i5)return Fb;i5=1;function r(e){return function(n){return n==null?void 0:n[e]}}return Fb=r,Fb}var Db,s5;function W7(){if(s5)return Db;s5=1;var r=tN();function e(n){return function(a){return r(a,n)}}return Db=e,Db}var Mb,o5;function $7(){if(o5)return Mb;o5=1;var r=Q7(),e=W7(),n=q4(),a=S2();function i(s){return n(s)?r(a(s)):e(s)}return Mb=i,Mb}var Rb,l5;function Dh(){if(l5)return Rb;l5=1;var r=M7(),e=H7(),n=km(),a=Ru(),i=$7();function s(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?e(c[0],c[1]):r(c):i(c)}return Rb=s,Rb}var Lb,c5;function zO(){if(c5)return Lb;c5=1;function r(e,n,a,i){for(var s=e.length,c=a+(i?1:-1);i?c--:++c<s;)if(n(e[c],c,e))return c;return-1}return Lb=r,Lb}var Ub,u5;function V7(){if(u5)return Ub;u5=1;function r(e){return e!==e}return Ub=r,Ub}var Hb,d5;function z7(){if(d5)return Hb;d5=1;function r(e,n,a){for(var i=a-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return Hb=r,Hb}var Qb,h5;function K7(){if(h5)return Qb;h5=1;var r=zO(),e=V7(),n=z7();function a(i,s,c){return s===s?n(i,s,c):r(i,e,c)}return Qb=a,Qb}var Wb,f5;function G7(){if(f5)return Wb;f5=1;var r=K7();function e(n,a){var i=n==null?0:n.length;return!!i&&r(n,a,0)>-1}return Wb=e,Wb}var $b,A5;function q7(){if(A5)return $b;A5=1;function r(e,n,a){for(var i=-1,s=e==null?0:e.length;++i<s;)if(a(n,e[i]))return!0;return!1}return $b=r,$b}var Vb,p5;function X7(){if(p5)return Vb;p5=1;function r(){}return Vb=r,Vb}var zb,m5;function Y7(){if(m5)return zb;m5=1;var r=WO(),e=X7(),n=cN(),a=1/0,i=r&&1/n(new r([,-0]))[1]==a?function(s){return new r(s)}:e;return zb=i,zb}var Kb,g5;function Z7(){if(g5)return Kb;g5=1;var r=PO(),e=G7(),n=q7(),a=DO(),i=Y7(),s=cN(),c=200;function l(u,o,h){var d=-1,f=e,A=u.length,g=!0,m=[],x=m;if(h)g=!1,f=n;else if(A>=c){var y=o?null:i(u);if(y)return s(y);g=!1,f=a,x=new r}else x=o?[]:m;e:for(;++d<A;){var b=u[d],w=o?o(b):b;if(b=h||b!==0?b:0,g&&w===w){for(var N=x.length;N--;)if(x[N]===w)continue e;o&&x.push(w),m.push(b)}else f(x,w,h)||(x!==m&&x.push(w),m.push(b))}return m}return Kb=l,Kb}var Gb,v5;function J7(){if(v5)return Gb;v5=1;var r=Dh(),e=Z7();function n(a,i){return a&&a.length?e(a,r(i,2)):[]}return Gb=n,Gb}var eU=J7();const x5=Ji(eU);function KO(r,e,n){return e===!0?x5(r,n):qa(e)?x5(r,e):r}function nm(r){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(r)}var tU=["ref"];function y5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function nf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(a){O2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function rU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function b5(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,qO(a.key),a)}}function nU(r,e,n){return e&&b5(r.prototype,e),n&&b5(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function aU(r,e,n){return e=yv(e),iU(r,GO()?Reflect.construct(e,n||[],yv(r).constructor):e.apply(r,n))}function iU(r,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sU(r)}function sU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!r})()}function yv(r){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(r)}function oU(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&jC(r,e)}function jC(r,e){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},jC(r,e)}function O2(r,e,n){return e=qO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function qO(r){var e=lU(r,"string");return nm(e)=="symbol"?e:e+""}function lU(r,e){if(nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function cU(r,e){if(r==null)return{};var n=uU(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uU(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function dU(r){return r.value}function hU(r,e){if(St.isValidElement(r))return St.cloneElement(r,e);if(typeof r=="function")return St.createElement(r,e);e.ref;var n=cU(e,tU);return St.createElement(lN,n)}var w5=1,Sh=(function(r){function e(){var n;rU(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=aU(this,e,[].concat(i)),O2(n,"lastBoundingBox",{width:-1,height:-1}),n}return oU(e,r),nU(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>w5||Math.abs(i.height-this.lastBoundingBox.height)>w5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,c=i.align,l=i.verticalAlign,u=i.margin,o=i.chartWidth,h=i.chartHeight,d,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&s==="vertical"){var A=this.getBBoxSnapshot();d={left:((o||0)-A.width)/2}}else d=c==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((h||0)-g.height)/2}}else f=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return nf(nf({},d),f)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,c=i.width,l=i.height,u=i.wrapperStyle,o=i.payloadUniqBy,h=i.payload,d=nf(nf({position:"absolute",width:c||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return St.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(A){a.wrapperNode=A}},hU(s,nf(nf({},this.props),{},{payload:KO(h,o,dU)})))}}],[{key:"getWithHeight",value:function(a,i){var s=nf(nf({},this.defaultProps),a.props),c=s.layout;return c==="vertical"&&gn(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||i}:null}}])})(k.PureComponent);O2(Sh,"displayName","Legend");O2(Sh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qb,j5;function fU(){if(j5)return qb;j5=1;var r=Pg(),e=uN(),n=Ru(),a=r?r.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(a&&s&&s[a])}return qb=i,qb}var Xb,C5;function XO(){if(C5)return Xb;C5=1;var r=RO(),e=fU();function n(a,i,s,c,l){var u=-1,o=a.length;for(s||(s=e),l||(l=[]);++u<o;){var h=a[u];i>0&&s(h)?i>1?n(h,i-1,s,c,l):r(l,h):c||(l[l.length]=h)}return l}return Xb=n,Xb}var Yb,N5;function AU(){if(N5)return Yb;N5=1;function r(e){return function(n,a,i){for(var s=-1,c=Object(n),l=i(n),u=l.length;u--;){var o=l[e?u:++s];if(a(c[o],o,c)===!1)break}return n}}return Yb=r,Yb}var Zb,S5;function pU(){if(S5)return Zb;S5=1;var r=AU(),e=r();return Zb=e,Zb}var Jb,B5;function YO(){if(B5)return Jb;B5=1;var r=pU(),e=_2();function n(a,i){return a&&r(a,i,e)}return Jb=n,Jb}var ew,E5;function mU(){if(E5)return ew;E5=1;var r=Mg();function e(n,a){return function(i,s){if(i==null)return i;if(!r(i))return n(i,s);for(var c=i.length,l=a?c:-1,u=Object(i);(a?l--:++l<c)&&s(u[l],l,u)!==!1;);return i}}return ew=e,ew}var tw,I5;function AN(){if(I5)return tw;I5=1;var r=YO(),e=mU(),n=e(r);return tw=n,tw}var rw,T5;function ZO(){if(T5)return rw;T5=1;var r=AN(),e=Mg();function n(a,i){var s=-1,c=e(a)?Array(a.length):[];return r(a,function(l,u,o){c[++s]=i(l,u,o)}),c}return rw=n,rw}var nw,_5;function gU(){if(_5)return nw;_5=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return nw=r,nw}var aw,O5;function vU(){if(O5)return aw;O5=1;var r=Tm();function e(n,a){if(n!==a){var i=n!==void 0,s=n===null,c=n===n,l=r(n),u=a!==void 0,o=a===null,h=a===a,d=r(a);if(!o&&!d&&!l&&n>a||l&&u&&h&&!o&&!d||s&&u&&h||!i&&h||!c)return 1;if(!s&&!l&&!d&&n<a||d&&i&&c&&!s&&!l||o&&i&&c||!u&&c||!h)return-1}return 0}return aw=e,aw}var iw,k5;function xU(){if(k5)return iw;k5=1;var r=vU();function e(n,a,i){for(var s=-1,c=n.criteria,l=a.criteria,u=c.length,o=i.length;++s<u;){var h=r(c[s],l[s]);if(h){if(s>=o)return h;var d=i[s];return h*(d=="desc"?-1:1)}}return n.index-a.index}return iw=e,iw}var sw,P5;function yU(){if(P5)return sw;P5=1;var r=eN(),e=tN(),n=Dh(),a=ZO(),i=gU(),s=UO(),c=xU(),l=km(),u=Ru();function o(h,d,f){d.length?d=r(d,function(m){return u(m)?function(x){return e(x,m.length===1?m[0]:m)}:m}):d=[l];var A=-1;d=r(d,s(n));var g=a(h,function(m,x,y){var b=r(d,function(w){return w(m)});return{criteria:b,index:++A,value:m}});return i(g,function(m,x){return c(m,x,f)})}return sw=o,sw}var ow,F5;function bU(){if(F5)return ow;F5=1;function r(e,n,a){switch(a.length){case 0:return e.call(n);case 1:return e.call(n,a[0]);case 2:return e.call(n,a[0],a[1]);case 3:return e.call(n,a[0],a[1],a[2])}return e.apply(n,a)}return ow=r,ow}var lw,D5;function wU(){if(D5)return lw;D5=1;var r=bU(),e=Math.max;function n(a,i,s){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,l=-1,u=e(c.length-i,0),o=Array(u);++l<u;)o[l]=c[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=c[l];return h[i]=s(o),r(a,this,h)}}return lw=n,lw}var cw,M5;function jU(){if(M5)return cw;M5=1;function r(e){return function(){return e}}return cw=r,cw}var uw,R5;function JO(){if(R5)return uw;R5=1;var r=lp(),e=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return uw=e,uw}var dw,L5;function CU(){if(L5)return dw;L5=1;var r=jU(),e=JO(),n=km(),a=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;return dw=a,dw}var hw,U5;function NU(){if(U5)return hw;U5=1;var r=800,e=16,n=Date.now;function a(i){var s=0,c=0;return function(){var l=n(),u=e-(l-c);if(c=l,u>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return hw=a,hw}var fw,H5;function SU(){if(H5)return fw;H5=1;var r=CU(),e=NU(),n=e(r);return fw=n,fw}var Aw,Q5;function BU(){if(Q5)return Aw;Q5=1;var r=km(),e=wU(),n=SU();function a(i,s){return n(e(i,s,r),i+"")}return Aw=a,Aw}var pw,W5;function k2(){if(W5)return pw;W5=1;var r=Y4(),e=Mg(),n=dN(),a=dA();function i(s,c,l){if(!a(l))return!1;var u=typeof c;return(u=="number"?e(l)&&n(c,l.length):u=="string"&&c in l)?r(l[c],s):!1}return pw=i,pw}var mw,$5;function EU(){if($5)return mw;$5=1;var r=XO(),e=yU(),n=BU(),a=k2(),i=n(function(s,c){if(s==null)return[];var l=c.length;return l>1&&a(s,c[0],c[1])?c=[]:l>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(s,r(c,1),[])});return mw=i,mw}var IU=EU();const pN=Ji(IU);function tg(r){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(r)}function CC(){return CC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},CC.apply(this,arguments)}function TU(r,e){return PU(r)||kU(r,e)||OU(r,e)||_U()}function _U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(r,e){if(r){if(typeof r=="string")return V5(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V5(r,e)}}function V5(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function kU(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function PU(r){if(Array.isArray(r))return r}function z5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function gw(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(n),!0).forEach(function(a){FU(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function FU(r,e,n){return e=DU(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function DU(r){var e=MU(r,"string");return tg(e)=="symbol"?e:e+""}function MU(r,e){if(tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function RU(r){return Array.isArray(r)&&ql(r[0])&&ql(r[1])?r.join(" ~ "):r}var LU=function(e){var n=e.separator,a=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,c=e.itemStyle,l=c===void 0?{}:c,u=e.labelStyle,o=u===void 0?{}:u,h=e.payload,d=e.formatter,f=e.itemSorter,A=e.wrapperClassName,g=e.labelClassName,m=e.label,x=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(h&&h.length){var ae={padding:0,margin:0},D=(f?pN(h,f):h).map(function(q,$){if(q.type==="none")return null;var L=gw({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),ye=q.formatter||d||RU,ne=q.value,Be=q.name,Te=ne,me=Be;if(ye&&Te!=null&&me!=null){var ue=ye(ne,Be,q,$,h);if(Array.isArray(ue)){var ve=TU(ue,2);Te=ve[0],me=ve[1]}else Te=ue}return St.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:L},ql(me)?St.createElement("span",{className:"recharts-tooltip-item-name"},me):null,ql(me)?St.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,St.createElement("span",{className:"recharts-tooltip-item-value"},Te),St.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return St.createElement("ul",{className:"recharts-tooltip-item-list",style:ae},D)}return null},N=gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=gw({margin:0},o),j=!li(m),_=j?m:"",P=gi("recharts-default-tooltip",A),Z=gi("recharts-tooltip-label",g);j&&x&&h!==void 0&&h!==null&&(_=x(m,h));var ee=b?{role:"status","aria-live":"assertive"}:{};return St.createElement("div",CC({className:P,style:N},ee),St.createElement("p",{className:Z,style:S},St.isValidElement(_)?_:"".concat(_)),w())};function rg(r){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(r)}function t1(r,e,n){return e=UU(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function UU(r){var e=HU(r,"string");return rg(e)=="symbol"?e:e+""}function HU(r,e){if(rg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Vm="recharts-tooltip-wrapper",QU={visibility:"hidden"};function WU(r){var e=r.coordinate,n=r.translateX,a=r.translateY;return gi(Vm,t1(t1(t1(t1({},"".concat(Vm,"-right"),gn(n)&&e&&gn(e.x)&&n>=e.x),"".concat(Vm,"-left"),gn(n)&&e&&gn(e.x)&&n<e.x),"".concat(Vm,"-bottom"),gn(a)&&e&&gn(e.y)&&a>=e.y),"".concat(Vm,"-top"),gn(a)&&e&&gn(e.y)&&a<e.y))}function K5(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.key,i=r.offsetTopLeft,s=r.position,c=r.reverseDirection,l=r.tooltipDimension,u=r.viewBox,o=r.viewBoxDimension;if(s&&gn(s[a]))return s[a];var h=n[a]-l-i,d=n[a]+i;if(e[a])return c[a]?h:d;if(c[a]){var f=h,A=u[a];return f<A?Math.max(d,u[a]):Math.max(h,u[a])}var g=d+l,m=u[a]+o;return g>m?Math.max(h,u[a]):Math.max(d,u[a])}function $U(r){var e=r.translateX,n=r.translateY,a=r.useTranslate3d;return{transform:a?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function VU(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.offsetTopLeft,i=r.position,s=r.reverseDirection,c=r.tooltipBox,l=r.useTranslate3d,u=r.viewBox,o,h,d;return c.height>0&&c.width>0&&n?(h=K5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),d=K5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),o=$U({translateX:h,translateY:d,useTranslate3d:l})):o=QU,{cssProperties:o,cssClasses:WU({translateX:h,translateY:d,coordinate:n})}}function am(r){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(r)}function G5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function q5(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(a){SC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function zU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function KU(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,tk(a.key),a)}}function GU(r,e,n){return e&&KU(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function qU(r,e,n){return e=bv(e),XU(r,ek()?Reflect.construct(e,n||[],bv(r).constructor):e.apply(r,n))}function XU(r,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YU(r)}function YU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ek(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!r})()}function bv(r){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(r)}function ZU(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&NC(r,e)}function NC(r,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},NC(r,e)}function SC(r,e,n){return e=tk(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tk(r){var e=JU(r,"string");return am(e)=="symbol"?e:e+""}function JU(r,e){if(am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var X5=1,e9=(function(r){function e(){var n;zU(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=qU(this,e,[].concat(i)),SC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),SC(n,"handleKeyDown",function(c){if(c.key==="Escape"){var l,u,o,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(o=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&o!==void 0?o:0}})}}),n}return ZU(e,r),GU(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>X5||Math.abs(a.height-this.state.lastBoundingBox.height)>X5)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.children,h=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,A=i.offset,g=i.position,m=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=VU({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:A,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),N=w.cssClasses,S=w.cssProperties,j=q5(q5({transition:f&&s?"transform ".concat(l,"ms ").concat(u):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return St.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(P){a.wrapperNode=P}},o)}}])})(k.PureComponent),t9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cp={isSsr:t9()};function im(r){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(r)}function Y5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Z5(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(n),!0).forEach(function(a){mN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function r9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function n9(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,nk(a.key),a)}}function a9(r,e,n){return e&&n9(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function i9(r,e,n){return e=wv(e),s9(r,rk()?Reflect.construct(e,n||[],wv(r).constructor):e.apply(r,n))}function s9(r,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9(r)}function o9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rk(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rk=function(){return!!r})()}function wv(r){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(r)}function l9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&BC(r,e)}function BC(r,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},BC(r,e)}function mN(r,e,n){return e=nk(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nk(r){var e=c9(r,"string");return im(e)=="symbol"?e:e+""}function c9(r,e){if(im(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function u9(r){return r.dataKey}function d9(r,e){return St.isValidElement(r)?St.cloneElement(r,e):typeof r=="function"?St.createElement(r,e):St.createElement(LU,e)}var id=(function(r){function e(){return r9(this,e),i9(this,e,arguments)}return l9(e,r),a9(e,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.content,h=i.coordinate,d=i.filterNull,f=i.isAnimationActive,A=i.offset,g=i.payload,m=i.payloadUniqBy,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,S=g??[];d&&S.length&&(S=KO(g.filter(function(_){return _.value!=null&&(_.hide!==!0||a.props.includeHidden)}),m,u9));var j=S.length>0;return St.createElement(e9,{allowEscapeViewBox:c,animationDuration:l,animationEasing:u,isAnimationActive:f,active:s,coordinate:h,hasPayload:j,offset:A,position:x,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:N},d9(o,Z5(Z5({},this.props),{},{payload:S})))}}])})(k.PureComponent);mN(id,"displayName","Tooltip");mN(id,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vw,J5;function h9(){if(J5)return vw;J5=1;var r=Fh(),e=function(){return r.Date.now()};return vw=e,vw}var xw,e3;function f9(){if(e3)return xw;e3=1;var r=/\s/;function e(n){for(var a=n.length;a--&&r.test(n.charAt(a)););return a}return xw=e,xw}var yw,t3;function A9(){if(t3)return yw;t3=1;var r=f9(),e=/^\s+/;function n(a){return a&&a.slice(0,r(a)+1).replace(e,"")}return yw=n,yw}var bw,r3;function ak(){if(r3)return bw;r3=1;var r=A9(),e=dA(),n=Tm(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function u(o){if(typeof o=="number")return o;if(n(o))return a;if(e(o)){var h=typeof o.valueOf=="function"?o.valueOf():o;o=e(h)?h+"":h}if(typeof o!="string")return o===0?o:+o;o=r(o);var d=s.test(o);return d||c.test(o)?l(o.slice(2),d?2:8):i.test(o)?a:+o}return bw=u,bw}var ww,n3;function p9(){if(n3)return ww;n3=1;var r=dA(),e=h9(),n=ak(),a="Expected a function",i=Math.max,s=Math.min;function c(l,u,o){var h,d,f,A,g,m,x=0,y=!1,b=!1,w=!0;if(typeof l!="function")throw new TypeError(a);u=n(u)||0,r(o)&&(y=!!o.leading,b="maxWait"in o,f=b?i(n(o.maxWait)||0,u):f,w="trailing"in o?!!o.trailing:w);function N(D){var q=h,$=d;return h=d=void 0,x=D,A=l.apply($,q),A}function S(D){return x=D,g=setTimeout(P,u),y?N(D):A}function j(D){var q=D-m,$=D-x,L=u-q;return b?s(L,f-$):L}function _(D){var q=D-m,$=D-x;return m===void 0||q>=u||q<0||b&&$>=f}function P(){var D=e();if(_(D))return Z(D);g=setTimeout(P,j(D))}function Z(D){return g=void 0,w&&h?N(D):(h=d=void 0,A)}function ee(){g!==void 0&&clearTimeout(g),x=0,h=m=d=g=void 0}function K(){return g===void 0?A:Z(e())}function ae(){var D=e(),q=_(D);if(h=arguments,d=this,m=D,q){if(g===void 0)return S(m);if(b)return clearTimeout(g),g=setTimeout(P,u),N(m)}return g===void 0&&(g=setTimeout(P,u)),A}return ae.cancel=ee,ae.flush=K,ae}return ww=c,ww}var jw,a3;function m9(){if(a3)return jw;a3=1;var r=p9(),e=dA(),n="Expected a function";function a(i,s,c){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(n);return e(c)&&(l="leading"in c?!!c.leading:l,u="trailing"in c?!!c.trailing:u),r(i,s,{leading:l,maxWait:s,trailing:u})}return jw=a,jw}var g9=m9();const ik=Ji(g9);function ng(r){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(r)}function i3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function r1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(a){v9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function v9(r,e,n){return e=x9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function x9(r){var e=y9(r,"string");return ng(e)=="symbol"?e:e+""}function y9(r,e){if(ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function b9(r,e){return N9(r)||C9(r,e)||j9(r,e)||w9()}function w9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(r,e){if(r){if(typeof r=="string")return s3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(r,e)}}function s3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function C9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function N9(r){if(Array.isArray(r))return r}var S9=k.forwardRef(function(r,e){var n=r.aspect,a=r.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=r.width,c=s===void 0?"100%":s,l=r.height,u=l===void 0?"100%":l,o=r.minWidth,h=o===void 0?0:o,d=r.minHeight,f=r.maxHeight,A=r.children,g=r.debounce,m=g===void 0?0:g,x=r.id,y=r.className,b=r.onResize,w=r.style,N=w===void 0?{}:w,S=k.useRef(null),j=k.useRef();j.current=b,k.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=k.useState({containerWidth:i.width,containerHeight:i.height}),P=b9(_,2),Z=P[0],ee=P[1],K=k.useCallback(function(D,q){ee(function($){var L=Math.round(D),ye=Math.round(q);return $.containerWidth===L&&$.containerHeight===ye?$:{containerWidth:L,containerHeight:ye}})},[]);k.useEffect(function(){var D=function(Be){var Te,me=Be[0].contentRect,ue=me.width,ve=me.height;K(ue,ve),(Te=j.current)===null||Te===void 0||Te.call(j,ue,ve)};m>0&&(D=ik(D,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(D),$=S.current.getBoundingClientRect(),L=$.width,ye=$.height;return K(L,ye),q.observe(S.current),function(){q.disconnect()}},[K,m]);var ae=k.useMemo(function(){var D=Z.containerWidth,q=Z.containerHeight;if(D<0||q<0)return null;dh(KA(c)||KA(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,u),dh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=KA(c)?D:c,L=KA(u)?q:u;n&&n>0&&($?L=$/n:L&&($=L*n),f&&L>f&&(L=f)),dh($>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,L,c,u,h,d,n);var ye=!Array.isArray(A)&&hf(A.type).endsWith("Chart");return St.Children.map(A,function(ne){return St.isValidElement(ne)?k.cloneElement(ne,r1({width:$,height:L},ye?{style:r1({height:"100%",width:"100%",maxHeight:L,maxWidth:$},ne.props.style)}:{})):ne})},[n,A,u,f,d,h,Z,c]);return St.createElement("div",{id:x?"".concat(x):void 0,className:gi("recharts-responsive-container",y),style:r1(r1({},N),{},{width:c,height:u,minWidth:h,minHeight:d,maxHeight:f}),ref:S},ae)}),P2=function(e){return null};P2.displayName="Cell";function ag(r){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(r)}function o3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function EC(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(a){B9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function B9(r,e,n){return e=E9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function E9(r){var e=I9(r,"string");return ag(e)=="symbol"?e:e+""}function I9(r,e){if(ag(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ip={widthCache:{},cacheCount:0},T9=2e3,_9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},l3="recharts_measurement_span";function O9(r){var e=EC({},r);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Q0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cp.isSsr)return{width:0,height:0};var a=O9(n),i=JSON.stringify({text:e,copyStyle:a});if(Ip.widthCache[i])return Ip.widthCache[i];try{var s=document.getElementById(l3);s||(s=document.createElement("span"),s.setAttribute("id",l3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=EC(EC({},_9),a);Object.assign(s.style,c),s.textContent="".concat(e);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return Ip.widthCache[i]=u,++Ip.cacheCount>T9&&(Ip.cacheCount=0,Ip.widthCache={}),u}catch{return{width:0,height:0}}},k9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ig(r){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(r)}function jv(r,e){return M9(r)||D9(r,e)||F9(r,e)||P9()}function P9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(r,e){if(r){if(typeof r=="string")return c3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c3(r,e)}}function c3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function D9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function M9(r){if(Array.isArray(r))return r}function R9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function u3(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,U9(a.key),a)}}function L9(r,e,n){return e&&u3(r.prototype,e),n&&u3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function U9(r){var e=H9(r,"string");return ig(e)=="symbol"?e:e+""}function H9(r,e){if(ig(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var d3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,W9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$9=Object.keys(sk),Up="NaN";function V9(r,e){return r*sk[e]}var n1=(function(){function r(e,n){R9(this,r),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Q9.test(n)&&(this.num=NaN,this.unit=""),$9.includes(n)&&(this.num=V9(e,n),this.unit="px")}return L9(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,i=(a=W9.exec(n))!==null&&a!==void 0?a:[],s=jv(i,3),c=s[1],l=s[2];return new r(parseFloat(c),l??"")}}])})();function ok(r){if(r.includes(Up))return Up;for(var e=r;e.includes("*")||e.includes("/");){var n,a=(n=d3.exec(e))!==null&&n!==void 0?n:[],i=jv(a,4),s=i[1],c=i[2],l=i[3],u=n1.parse(s??""),o=n1.parse(l??""),h=c==="*"?u.multiply(o):u.divide(o);if(h.isNaN())return Up;e=e.replace(d3,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=h3.exec(e))!==null&&d!==void 0?d:[],A=jv(f,4),g=A[1],m=A[2],x=A[3],y=n1.parse(g??""),b=n1.parse(x??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Up;e=e.replace(h3,w.toString())}return e}var f3=/\(([^()]*)\)/;function z9(r){for(var e=r;e.includes("(");){var n=f3.exec(e),a=jv(n,2),i=a[1];e=e.replace(f3,ok(i))}return e}function K9(r){var e=r.replace(/\s+/g,"");return e=z9(e),e=ok(e),e}function G9(r){try{return K9(r)}catch{return Up}}function Cw(r){var e=G9(r.slice(5,-1));return e===Up?"":e}var q9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],X9=["dx","dy","angle","className","breakAll"];function IC(){return IC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},IC.apply(this,arguments)}function A3(r,e){if(r==null)return{};var n=Y9(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function Y9(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function p3(r,e){return tH(r)||eH(r,e)||J9(r,e)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(r,e){if(r){if(typeof r=="string")return m3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m3(r,e)}}function m3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function eH(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function tH(r){if(Array.isArray(r))return r}var lk=/[ \f\n\r\t\v\u2028\u2029]+/,ck=function(e){var n=e.children,a=e.breakAll,i=e.style;try{var s=[];li(n)||(a?s=n.toString().split(""):s=n.toString().split(lk));var c=s.map(function(u){return{word:u,width:Q0(u,i).width}}),l=a?0:Q0("",i).width;return{wordsWithComputedWidth:c,spaceWidth:l}}catch{return null}},rH=function(e,n,a,i,s){var c=e.maxLines,l=e.children,u=e.style,o=e.breakAll,h=gn(c),d=l,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(L,ye){var ne=ye.word,Be=ye.width,Te=L[L.length-1];if(Te&&(i==null||s||Te.width+Be+a<Number(i)))Te.words.push(ne),Te.width+=Be+a;else{var me={words:[ne],width:Be};L.push(me)}return L},[])},A=f(n),g=function($){return $.reduce(function(L,ye){return L.width>ye.width?L:ye})};if(!h)return A;for(var m="",x=function($){var L=d.slice(0,$),ye=ck({breakAll:o,style:u,children:L+m}).wordsWithComputedWidth,ne=f(ye),Be=ne.length>c||g(ne).width>Number(i);return[Be,ne]},y=0,b=d.length-1,w=0,N;y<=b&&w<=d.length-1;){var S=Math.floor((y+b)/2),j=S-1,_=x(j),P=p3(_,2),Z=P[0],ee=P[1],K=x(S),ae=p3(K,1),D=ae[0];if(!Z&&!D&&(y=S+1),Z&&D&&(b=S-1),!Z&&D){N=ee;break}w++}return N||A},g3=function(e){var n=li(e)?[]:e.toString().split(lk);return[{words:n}]},nH=function(e){var n=e.width,a=e.scaleToFit,i=e.children,s=e.style,c=e.breakAll,l=e.maxLines;if((n||a)&&!cp.isSsr){var u,o,h=ck({breakAll:c,children:i,style:s});if(h){var d=h.wordsWithComputedWidth,f=h.spaceWidth;u=d,o=f}else return g3(i);return rH({breakAll:c,children:i,maxLines:l,style:s},u,o,n,a)}return g3(i)},v3="#808080",ap=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.lineHeight,l=c===void 0?"1em":c,u=e.capHeight,o=u===void 0?"0.71em":u,h=e.scaleToFit,d=h===void 0?!1:h,f=e.textAnchor,A=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,x=e.fill,y=x===void 0?v3:x,b=A3(e,q9),w=k.useMemo(function(){return nH({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,S=b.dy,j=b.angle,_=b.className,P=b.breakAll,Z=A3(b,X9);if(!ql(a)||!ql(s))return null;var ee=a+(gn(N)?N:0),K=s+(gn(S)?S:0),ae;switch(m){case"start":ae=Cw("calc(".concat(o,")"));break;case"middle":ae=Cw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:ae=Cw("calc(".concat(w.length-1," * -").concat(l,")"));break}var D=[];if(d){var q=w[0].width,$=b.width;D.push("scale(".concat((gn($)?$/q:1)/q,")"))}return j&&D.push("rotate(".concat(j,", ").concat(ee,", ").concat(K,")")),D.length&&(Z.transform=D.join(" ")),St.createElement("text",IC({},_a(Z,!0),{x:ee,y:K,className:gi("recharts-text",_),textAnchor:A,fill:y.includes("url")?v3:y}),w.map(function(L,ye){var ne=L.words.join(P?"":" ");return St.createElement("tspan",{x:ee,dy:ye===0?ae:l,key:"".concat(ne,"-").concat(ye)},ne)}))};function aA(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function aH(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function gN(r){let e,n,a;r.length!==2?(e=aA,n=(l,u)=>aA(r(l),u),a=(l,u)=>r(l)-u):(e=r===aA||r===aH?r:iH,n=r,a=r);function i(l,u,o=0,h=l.length){if(o<h){if(e(u,u)!==0)return h;do{const d=o+h>>>1;n(l[d],u)<0?o=d+1:h=d}while(o<h)}return o}function s(l,u,o=0,h=l.length){if(o<h){if(e(u,u)!==0)return h;do{const d=o+h>>>1;n(l[d],u)<=0?o=d+1:h=d}while(o<h)}return o}function c(l,u,o=0,h=l.length){const d=i(l,u,o,h-1);return d>o&&a(l[d-1],u)>-a(l[d],u)?d-1:d}return{left:i,center:c,right:s}}function iH(){return 0}function uk(r){return r===null?NaN:+r}function*sH(r,e){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const oH=gN(aA),Rg=oH.right;gN(uk).center;class x3 extends Map{constructor(e,n=uH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[a,i]of e)this.set(a,i)}get(e){return super.get(y3(this,e))}has(e){return super.has(y3(this,e))}set(e,n){return super.set(lH(this,e),n)}delete(e){return super.delete(cH(this,e))}}function y3({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):n}function lH({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):(r.set(a,n),n)}function cH({_intern:r,_key:e},n){const a=e(n);return r.has(a)&&(n=r.get(a),r.delete(a)),n}function uH(r){return r!==null&&typeof r=="object"?r.valueOf():r}function dH(r=aA){if(r===aA)return dk;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,n)=>{const a=r(e,n);return a||a===0?a:(r(n,n)===0)-(r(e,e)===0)}}function dk(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const hH=Math.sqrt(50),fH=Math.sqrt(10),AH=Math.sqrt(2);function Cv(r,e,n){const a=(e-r)/Math.max(0,n),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),c=s>=hH?10:s>=fH?5:s>=AH?2:1;let l,u,o;return i<0?(o=Math.pow(10,-i)/c,l=Math.round(r*o),u=Math.round(e*o),l/o<r&&++l,u/o>e&&--u,o=-o):(o=Math.pow(10,i)*c,l=Math.round(r/o),u=Math.round(e/o),l*o<r&&++l,u*o>e&&--u),u<l&&.5<=n&&n<2?Cv(r,e,n*2):[l,u,o]}function TC(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const a=e<r,[i,s,c]=a?Cv(e,r,n):Cv(r,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(a)if(c<0)for(let o=0;o<l;++o)u[o]=(s-o)/-c;else for(let o=0;o<l;++o)u[o]=(s-o)*c;else if(c<0)for(let o=0;o<l;++o)u[o]=(i+o)/-c;else for(let o=0;o<l;++o)u[o]=(i+o)*c;return u}function _C(r,e,n){return e=+e,r=+r,n=+n,Cv(r,e,n)[2]}function OC(r,e,n){e=+e,r=+r,n=+n;const a=e<r,i=a?_C(e,r,n):_C(r,e,n);return(a?-1:1)*(i<0?1/-i:i)}function b3(r,e){let n;for(const a of r)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function w3(r,e){let n;for(const a of r)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function hk(r,e,n=0,a=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(r.length-1,a)),!(n<=e&&e<=a))return r;for(i=i===void 0?dk:dH(i);a>n;){if(a-n>600){const u=a-n+1,o=e-n+1,h=Math.log(u),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(u-d)/u)*(o-u/2<0?-1:1),A=Math.max(n,Math.floor(e-o*d/u+f)),g=Math.min(a,Math.floor(e+(u-o)*d/u+f));hk(r,e,A,g,i)}const s=r[e];let c=n,l=a;for(zm(r,n,e),i(r[a],s)>0&&zm(r,n,a);c<l;){for(zm(r,c,l),++c,--l;i(r[c],s)<0;)++c;for(;i(r[l],s)>0;)--l}i(r[n],s)===0?zm(r,n,l):(++l,zm(r,l,a)),l<=e&&(n=l+1),e<=l&&(a=l-1)}return r}function zm(r,e,n){const a=r[e];r[e]=r[n],r[n]=a}function pH(r,e,n){if(r=Float64Array.from(sH(r)),!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return w3(r);if(e>=1)return b3(r);var a,i=(a-1)*e,s=Math.floor(i),c=b3(hk(r,s).subarray(0,s+1)),l=w3(r.subarray(s+1));return c+(l-c)*(i-s)}}function mH(r,e,n=uk){if(!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return+n(r[0],0,r);if(e>=1)return+n(r[a-1],a-1,r);var a,i=(a-1)*e,s=Math.floor(i),c=+n(r[s],s,r),l=+n(r[s+1],s+1,r);return c+(l-c)*(i-s)}}function gH(r,e,n){r=+r,e=+e,n=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+n;for(var a=-1,i=Math.max(0,Math.ceil((e-r)/n))|0,s=new Array(i);++a<i;)s[a]=r+a*n;return s}function Wd(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function bf(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kC=Symbol("implicit");function vN(){var r=new x3,e=[],n=[],a=kC;function i(s){let c=r.get(s);if(c===void 0){if(a!==kC)return a;r.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new x3;for(const c of s)r.has(c)||r.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return vN(e,n).unknown(a)},Wd.apply(i,arguments),i}function sg(){var r=vN().unknown(void 0),e=r.domain,n=r.range,a=0,i=1,s,c,l=!1,u=0,o=0,h=.5;delete r.unknown;function d(){var f=e().length,A=i<a,g=A?i:a,m=A?a:i;s=(m-g)/Math.max(1,f-u+o*2),l&&(s=Math.floor(s)),g+=(m-g-s*(f-u))*h,c=s*(1-u),l&&(g=Math.round(g),c=Math.round(c));var x=gH(f).map(function(y){return g+s*y});return n(A?x.reverse():x)}return r.domain=function(f){return arguments.length?(e(f),d()):e()},r.range=function(f){return arguments.length?([a,i]=f,a=+a,i=+i,d()):[a,i]},r.rangeRound=function(f){return[a,i]=f,a=+a,i=+i,l=!0,d()},r.bandwidth=function(){return c},r.step=function(){return s},r.round=function(f){return arguments.length?(l=!!f,d()):l},r.padding=function(f){return arguments.length?(u=Math.min(1,o=+f),d()):u},r.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),d()):u},r.paddingOuter=function(f){return arguments.length?(o=+f,d()):o},r.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),d()):h},r.copy=function(){return sg(e(),[a,i]).round(l).paddingInner(u).paddingOuter(o).align(h)},Wd.apply(d(),arguments)}function fk(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return fk(e())},r}function W0(){return fk(sg.apply(null,arguments).paddingInner(1))}function xN(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function Ak(r,e){var n=Object.create(r.prototype);for(var a in e)n[a]=e[a];return n}function Lg(){}var og=.7,Nv=1/og,Jp="\\s*([+-]?\\d+)\\s*",lg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vH=/^#([0-9a-f]{3,8})$/,xH=new RegExp(`^rgb\\(${Jp},${Jp},${Jp}\\)$`),yH=new RegExp(`^rgb\\(${Th},${Th},${Th}\\)$`),bH=new RegExp(`^rgba\\(${Jp},${Jp},${Jp},${lg}\\)$`),wH=new RegExp(`^rgba\\(${Th},${Th},${Th},${lg}\\)$`),jH=new RegExp(`^hsl\\(${lg},${Th},${Th}\\)$`),CH=new RegExp(`^hsla\\(${lg},${Th},${Th},${lg}\\)$`),j3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xN(Lg,cg,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:C3,formatHex:C3,formatHex8:NH,formatHsl:SH,formatRgb:N3,toString:N3});function C3(){return this.rgb().formatHex()}function NH(){return this.rgb().formatHex8()}function SH(){return pk(this).formatHsl()}function N3(){return this.rgb().formatRgb()}function cg(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=vH.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?S3(e):n===3?new Mu(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?a1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?a1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xH.exec(r))?new Mu(e[1],e[2],e[3],1):(e=yH.exec(r))?new Mu(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bH.exec(r))?a1(e[1],e[2],e[3],e[4]):(e=wH.exec(r))?a1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jH.exec(r))?I3(e[1],e[2]/100,e[3]/100,1):(e=CH.exec(r))?I3(e[1],e[2]/100,e[3]/100,e[4]):j3.hasOwnProperty(r)?S3(j3[r]):r==="transparent"?new Mu(NaN,NaN,NaN,0):null}function S3(r){return new Mu(r>>16&255,r>>8&255,r&255,1)}function a1(r,e,n,a){return a<=0&&(r=e=n=NaN),new Mu(r,e,n,a)}function BH(r){return r instanceof Lg||(r=cg(r)),r?(r=r.rgb(),new Mu(r.r,r.g,r.b,r.opacity)):new Mu}function PC(r,e,n,a){return arguments.length===1?BH(r):new Mu(r,e,n,a??1)}function Mu(r,e,n,a){this.r=+r,this.g=+e,this.b=+n,this.opacity=+a}xN(Mu,PC,Ak(Lg,{brighter(r){return r=r==null?Nv:Math.pow(Nv,r),new Mu(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?og:Math.pow(og,r),new Mu(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Mu(ZA(this.r),ZA(this.g),ZA(this.b),Sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B3,formatHex:B3,formatHex8:EH,formatRgb:E3,toString:E3}));function B3(){return`#${GA(this.r)}${GA(this.g)}${GA(this.b)}`}function EH(){return`#${GA(this.r)}${GA(this.g)}${GA(this.b)}${GA((isNaN(this.opacity)?1:this.opacity)*255)}`}function E3(){const r=Sv(this.opacity);return`${r===1?"rgb(":"rgba("}${ZA(this.r)}, ${ZA(this.g)}, ${ZA(this.b)}${r===1?")":`, ${r})`}`}function Sv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ZA(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function GA(r){return r=ZA(r),(r<16?"0":"")+r.toString(16)}function I3(r,e,n,a){return a<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new lh(r,e,n,a)}function pk(r){if(r instanceof lh)return new lh(r.h,r.s,r.l,r.opacity);if(r instanceof Lg||(r=cg(r)),!r)return new lh;if(r instanceof lh)return r;r=r.rgb();var e=r.r/255,n=r.g/255,a=r.b/255,i=Math.min(e,n,a),s=Math.max(e,n,a),c=NaN,l=s-i,u=(s+i)/2;return l?(e===s?c=(n-a)/l+(n<a)*6:n===s?c=(a-e)/l+2:c=(e-n)/l+4,l/=u<.5?s+i:2-s-i,c*=60):l=u>0&&u<1?0:c,new lh(c,l,u,r.opacity)}function IH(r,e,n,a){return arguments.length===1?pk(r):new lh(r,e,n,a??1)}function lh(r,e,n,a){this.h=+r,this.s=+e,this.l=+n,this.opacity=+a}xN(lh,IH,Ak(Lg,{brighter(r){return r=r==null?Nv:Math.pow(Nv,r),new lh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?og:Math.pow(og,r),new lh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new Mu(Nw(r>=240?r-240:r+120,i,a),Nw(r,i,a),Nw(r<120?r+240:r-120,i,a),this.opacity)},clamp(){return new lh(T3(this.h),i1(this.s),i1(this.l),Sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Sv(this.opacity);return`${r===1?"hsl(":"hsla("}${T3(this.h)}, ${i1(this.s)*100}%, ${i1(this.l)*100}%${r===1?")":`, ${r})`}`}}));function T3(r){return r=(r||0)%360,r<0?r+360:r}function i1(r){return Math.max(0,Math.min(1,r||0))}function Nw(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const yN=r=>()=>r;function TH(r,e){return function(n){return r+n*e}}function _H(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function OH(r){return(r=+r)==1?mk:function(e,n){return n-e?_H(e,n,r):yN(isNaN(e)?n:e)}}function mk(r,e){var n=e-r;return n?TH(r,n):yN(isNaN(r)?e:r)}const _3=(function r(e){var n=OH(e);function a(i,s){var c=n((i=PC(i)).r,(s=PC(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),o=mk(i.opacity,s.opacity);return function(h){return i.r=c(h),i.g=l(h),i.b=u(h),i.opacity=o(h),i+""}}return a.gamma=r,a})(1);function kH(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,a=e.slice(),i;return function(s){for(i=0;i<n;++i)a[i]=r[i]*(1-s)+e[i]*s;return a}}function PH(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function FH(r,e){var n=e?e.length:0,a=r?Math.min(n,r.length):0,i=new Array(a),s=new Array(n),c;for(c=0;c<a;++c)i[c]=Pm(r[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(l){for(c=0;c<a;++c)s[c]=i[c](l);return s}}function DH(r,e){var n=new Date;return r=+r,e=+e,function(a){return n.setTime(r*(1-a)+e*a),n}}function Bv(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}function MH(r,e){var n={},a={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?n[i]=Pm(r[i],e[i]):a[i]=e[i];return function(s){for(i in n)a[i]=n[i](s);return a}}var FC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sw=new RegExp(FC.source,"g");function RH(r){return function(){return r}}function LH(r){return function(e){return r(e)+""}}function UH(r,e){var n=FC.lastIndex=Sw.lastIndex=0,a,i,s,c=-1,l=[],u=[];for(r=r+"",e=e+"";(a=FC.exec(r))&&(i=Sw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[c]?l[c]+=s:l[++c]=s),(a=a[0])===(i=i[0])?l[c]?l[c]+=i:l[++c]=i:(l[++c]=null,u.push({i:c,x:Bv(a,i)})),n=Sw.lastIndex;return n<e.length&&(s=e.slice(n),l[c]?l[c]+=s:l[++c]=s),l.length<2?u[0]?LH(u[0].x):RH(e):(e=u.length,function(o){for(var h=0,d;h<e;++h)l[(d=u[h]).i]=d.x(o);return l.join("")})}function Pm(r,e){var n=typeof e,a;return e==null||n==="boolean"?yN(e):(n==="number"?Bv:n==="string"?(a=cg(e))?(e=a,_3):UH:e instanceof cg?_3:e instanceof Date?DH:PH(e)?kH:Array.isArray(e)?FH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MH:Bv)(r,e)}function bN(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}function HH(r,e){e===void 0&&(e=r,r=Pm);for(var n=0,a=e.length-1,i=e[0],s=new Array(a<0?0:a);n<a;)s[n]=r(i,i=e[++n]);return function(c){var l=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return s[l](c-l)}}function QH(r){return function(){return r}}function Ev(r){return+r}var O3=[0,1];function bu(r){return r}function DC(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:QH(isNaN(e)?NaN:.5)}function WH(r,e){var n;return r>e&&(n=r,r=e,e=n),function(a){return Math.max(r,Math.min(e,a))}}function $H(r,e,n){var a=r[0],i=r[1],s=e[0],c=e[1];return i<a?(a=DC(i,a),s=n(c,s)):(a=DC(a,i),s=n(s,c)),function(l){return s(a(l))}}function VH(r,e,n){var a=Math.min(r.length,e.length)-1,i=new Array(a),s=new Array(a),c=-1;for(r[a]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++c<a;)i[c]=DC(r[c],r[c+1]),s[c]=n(e[c],e[c+1]);return function(l){var u=Rg(r,l,1,a)-1;return s[u](i[u](l))}}function Ug(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function F2(){var r=O3,e=O3,n=Pm,a,i,s,c=bu,l,u,o;function h(){var f=Math.min(r.length,e.length);return c!==bu&&(c=WH(r[0],r[f-1])),l=f>2?VH:$H,u=o=null,d}function d(f){return f==null||isNaN(f=+f)?s:(u||(u=l(r.map(a),e,n)))(a(c(f)))}return d.invert=function(f){return c(i((o||(o=l(e,r.map(a),Bv)))(f)))},d.domain=function(f){return arguments.length?(r=Array.from(f,Ev),h()):r.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=bN,h()},d.clamp=function(f){return arguments.length?(c=f?!0:bu,h()):c!==bu},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,A){return a=f,i=A,h()}}function wN(){return F2()(bu,bu)}function zH(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Iv(r,e){if(!isFinite(r)||r===0)return null;var n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"),a=r.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+r.slice(n+1)]}function sm(r){return r=Iv(Math.abs(r)),r?r[1]:NaN}function KH(r,e){return function(n,a){for(var i=n.length,s=[],c=0,l=r[0],u=0;i>0&&l>0&&(u+l+1>a&&(l=Math.max(1,a-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>a));)l=r[c=(c+1)%r.length];return s.reverse().join(e)}}function GH(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var qH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ug(r){if(!(e=qH.exec(r)))throw new Error("invalid format: "+r);var e;return new jN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ug.prototype=jN.prototype;function jN(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}jN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XH(r){e:for(var e=r.length,n=1,a=-1,i;n<e;++n)switch(r[n]){case".":a=i=n;break;case"0":a===0&&(a=n),i=n;break;default:if(!+r[n])break e;a>0&&(a=0);break}return a>0?r.slice(0,a)+r.slice(i+1):r}var Tv;function YH(r,e){var n=Iv(r,e);if(!n)return Tv=void 0,r.toPrecision(e);var a=n[0],i=n[1],s=i-(Tv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=a.length;return s===c?a:s>c?a+new Array(s-c+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+Iv(r,Math.max(0,e+s-1))[0]}function k3(r,e){var n=Iv(r,e);if(!n)return r+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const P3={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:zH,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>k3(r*100,e),r:k3,s:YH,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function F3(r){return r}var D3=Array.prototype.map,M3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZH(r){var e=r.grouping===void 0||r.thousands===void 0?F3:KH(D3.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",a=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?F3:GH(D3.call(r.numerals,String)),c=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",u=r.nan===void 0?"NaN":r.nan+"";function o(d,f){d=ug(d);var A=d.fill,g=d.align,m=d.sign,x=d.symbol,y=d.zero,b=d.width,w=d.comma,N=d.precision,S=d.trim,j=d.type;j==="n"?(w=!0,j="g"):P3[j]||(N===void 0&&(N=12),S=!0,j="g"),(y||A==="0"&&g==="=")&&(y=!0,A="0",g="=");var _=(f&&f.prefix!==void 0?f.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),P=(x==="$"?a:/[%p]/.test(j)?c:"")+(f&&f.suffix!==void 0?f.suffix:""),Z=P3[j],ee=/[defgprs%]/.test(j);N=N===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function K(ae){var D=_,q=P,$,L,ye;if(j==="c")q=Z(ae)+q,ae="";else{ae=+ae;var ne=ae<0||1/ae<0;if(ae=isNaN(ae)?u:Z(Math.abs(ae),N),S&&(ae=XH(ae)),ne&&+ae==0&&m!=="+"&&(ne=!1),D=(ne?m==="("?m:l:m==="-"||m==="("?"":m)+D,q=(j==="s"&&!isNaN(ae)&&Tv!==void 0?M3[8+Tv/3]:"")+q+(ne&&m==="("?")":""),ee){for($=-1,L=ae.length;++$<L;)if(ye=ae.charCodeAt($),48>ye||ye>57){q=(ye===46?i+ae.slice($+1):ae.slice($))+q,ae=ae.slice(0,$);break}}}w&&!y&&(ae=e(ae,1/0));var Be=D.length+ae.length+q.length,Te=Be<b?new Array(b-Be+1).join(A):"";switch(w&&y&&(ae=e(Te+ae,Te.length?b-q.length:1/0),Te=""),g){case"<":ae=D+ae+q+Te;break;case"=":ae=D+Te+ae+q;break;case"^":ae=Te.slice(0,Be=Te.length>>1)+D+ae+q+Te.slice(Be);break;default:ae=Te+D+ae+q;break}return s(ae)}return K.toString=function(){return d+""},K}function h(d,f){var A=Math.max(-8,Math.min(8,Math.floor(sm(f)/3)))*3,g=Math.pow(10,-A),m=o((d=ug(d),d.type="f",d),{suffix:M3[8+A/3]});return function(x){return m(g*x)}}return{format:o,formatPrefix:h}}var s1,CN,gk;JH({thousands:",",grouping:[3],currency:["$",""]});function JH(r){return s1=ZH(r),CN=s1.format,gk=s1.formatPrefix,s1}function eQ(r){return Math.max(0,-sm(Math.abs(r)))}function tQ(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sm(e)/3)))*3-sm(Math.abs(r)))}function rQ(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,sm(e)-sm(r))+1}function vk(r,e,n,a){var i=OC(r,e,n),s;switch(a=ug(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(r),Math.abs(e));return a.precision==null&&!isNaN(s=tQ(i,c))&&(a.precision=s),gk(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=rQ(i,Math.max(Math.abs(r),Math.abs(e))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=eQ(i))&&(a.precision=s-(a.type==="%")*2);break}}return CN(a)}function hA(r){var e=r.domain;return r.ticks=function(n){var a=e();return TC(a[0],a[a.length-1],n??10)},r.tickFormat=function(n,a){var i=e();return vk(i[0],i[i.length-1],n??10,a)},r.nice=function(n){n==null&&(n=10);var a=e(),i=0,s=a.length-1,c=a[i],l=a[s],u,o,h=10;for(l<c&&(o=c,c=l,l=o,o=i,i=s,s=o);h-- >0;){if(o=_C(c,l,n),o===u)return a[i]=c,a[s]=l,e(a);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else if(o<0)c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o;else break;u=o}return r},r}function _v(){var r=wN();return r.copy=function(){return Ug(r,_v())},Wd.apply(r,arguments),hA(r)}function xk(r){var e;function n(a){return a==null||isNaN(a=+a)?e:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(r=Array.from(a,Ev),n):r.slice()},n.unknown=function(a){return arguments.length?(e=a,n):e},n.copy=function(){return xk(r).unknown(e)},r=arguments.length?Array.from(r,Ev):[0,1],hA(n)}function yk(r,e){r=r.slice();var n=0,a=r.length-1,i=r[n],s=r[a],c;return s<i&&(c=n,n=a,a=c,c=i,i=s,s=c),r[n]=e.floor(i),r[a]=e.ceil(s),r}function R3(r){return Math.log(r)}function L3(r){return Math.exp(r)}function nQ(r){return-Math.log(-r)}function aQ(r){return-Math.exp(-r)}function iQ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function sQ(r){return r===10?iQ:r===Math.E?Math.exp:e=>Math.pow(r,e)}function oQ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function U3(r){return(e,n)=>-r(-e,n)}function NN(r){const e=r(R3,L3),n=e.domain;let a=10,i,s;function c(){return i=oQ(a),s=sQ(a),n()[0]<0?(i=U3(i),s=U3(s),r(nQ,aQ)):r(R3,L3),e}return e.base=function(l){return arguments.length?(a=+l,c()):a},e.domain=function(l){return arguments.length?(n(l),c()):n()},e.ticks=l=>{const u=n();let o=u[0],h=u[u.length-1];const d=h<o;d&&([o,h]=[h,o]);let f=i(o),A=i(h),g,m;const x=l==null?10:+l;let y=[];if(!(a%1)&&A-f<x){if(f=Math.floor(f),A=Math.ceil(A),o>0){for(;f<=A;++f)for(g=1;g<a;++g)if(m=f<0?g/s(-f):g*s(f),!(m<o)){if(m>h)break;y.push(m)}}else for(;f<=A;++f)for(g=a-1;g>=1;--g)if(m=f>0?g/s(-f):g*s(f),!(m<o)){if(m>h)break;y.push(m)}y.length*2<x&&(y=TC(o,h,x))}else y=TC(f,A,Math.min(A-f,x)).map(s);return d?y.reverse():y},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=ug(u)).precision==null&&(u.trim=!0),u=CN(u)),l===1/0)return u;const o=Math.max(1,a*l/e.ticks().length);return h=>{let d=h/s(Math.round(i(h)));return d*a<a-.5&&(d*=a),d<=o?u(h):""}},e.nice=()=>n(yk(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function bk(){const r=NN(F2()).domain([1,10]);return r.copy=()=>Ug(r,bk()).base(r.base()),Wd.apply(r,arguments),r}function H3(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function Q3(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function SN(r){var e=1,n=r(H3(e),Q3(e));return n.constant=function(a){return arguments.length?r(H3(e=+a),Q3(e)):e},hA(n)}function wk(){var r=SN(F2());return r.copy=function(){return Ug(r,wk()).constant(r.constant())},Wd.apply(r,arguments)}function W3(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function lQ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function cQ(r){return r<0?-r*r:r*r}function BN(r){var e=r(bu,bu),n=1;function a(){return n===1?r(bu,bu):n===.5?r(lQ,cQ):r(W3(n),W3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,a()):n},hA(e)}function EN(){var r=BN(F2());return r.copy=function(){return Ug(r,EN()).exponent(r.exponent())},Wd.apply(r,arguments),r}function uQ(){return EN.apply(null,arguments).exponent(.5)}function $3(r){return Math.sign(r)*r*r}function dQ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function jk(){var r=wN(),e=[0,1],n=!1,a;function i(s){var c=dQ(r(s));return isNaN(c)?a:n?Math.round(c):c}return i.invert=function(s){return r.invert($3(s))},i.domain=function(s){return arguments.length?(r.domain(s),i):r.domain()},i.range=function(s){return arguments.length?(r.range((e=Array.from(s,Ev)).map($3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(r.clamp(s),i):r.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return jk(r.domain(),e).round(n).clamp(r.clamp()).unknown(a)},Wd.apply(i,arguments),hA(i)}function Ck(){var r=[],e=[],n=[],a;function i(){var c=0,l=Math.max(1,e.length);for(n=new Array(l-1);++c<l;)n[c-1]=mH(r,c/l);return s}function s(c){return c==null||isNaN(c=+c)?a:e[Rg(n,c)]}return s.invertExtent=function(c){var l=e.indexOf(c);return l<0?[NaN,NaN]:[l>0?n[l-1]:r[0],l<n.length?n[l]:r[r.length-1]]},s.domain=function(c){if(!arguments.length)return r.slice();r=[];for(let l of c)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(aA),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(a=c,s):a},s.quantiles=function(){return n.slice()},s.copy=function(){return Ck().domain(r).range(e).unknown(a)},Wd.apply(s,arguments)}function Nk(){var r=0,e=1,n=1,a=[.5],i=[0,1],s;function c(u){return u!=null&&u<=u?i[Rg(a,u,0,n)]:s}function l(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*e-(u-n)*r)/(n+1);return c}return c.domain=function(u){return arguments.length?([r,e]=u,r=+r,e=+e,l()):[r,e]},c.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},c.invertExtent=function(u){var o=i.indexOf(u);return o<0?[NaN,NaN]:o<1?[r,a[0]]:o>=n?[a[n-1],e]:[a[o-1],a[o]]},c.unknown=function(u){return arguments.length&&(s=u),c},c.thresholds=function(){return a.slice()},c.copy=function(){return Nk().domain([r,e]).range(i).unknown(s)},Wd.apply(hA(c),arguments)}function Sk(){var r=[.5],e=[0,1],n,a=1;function i(s){return s!=null&&s<=s?e[Rg(r,s,0,a)]:n}return i.domain=function(s){return arguments.length?(r=Array.from(s),a=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),a=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[r[c-1],r[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Sk().domain(r).range(e).unknown(n)},Wd.apply(i,arguments)}const Bw=new Date,Ew=new Date;function Yl(r,e,n,a){function i(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(r(s=new Date(+s)),s),i.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),i.round=s=>{const c=i(s),l=i.ceil(s);return s-c<l-s?c:l},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<c)||!(l>0))return u;let o;do u.push(o=new Date(+s)),e(s,l),r(s);while(o<s&&s<c);return u},i.filter=s=>Yl(c=>{if(c>=c)for(;r(c),!s(c);)c.setTime(c-1)},(c,l)=>{if(c>=c)if(l<0)for(;++l<=0;)for(;e(c,-1),!s(c););else for(;--l>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(Bw.setTime(+s),Ew.setTime(+c),r(Bw),r(Ew),Math.floor(n(Bw,Ew))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?c=>a(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Ov=Yl(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);Ov.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Yl(e=>{e.setTime(Math.floor(e/r)*r)},(e,n)=>{e.setTime(+e+n*r)},(e,n)=>(n-e)/r):Ov);Ov.range;const lf=1e3,Ld=lf*60,cf=Ld*60,mf=cf*24,IN=mf*7,V3=mf*30,Iw=mf*365,qA=Yl(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*lf)},(r,e)=>(e-r)/lf,r=>r.getUTCSeconds());qA.range;const TN=Yl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*lf)},(r,e)=>{r.setTime(+r+e*Ld)},(r,e)=>(e-r)/Ld,r=>r.getMinutes());TN.range;const _N=Yl(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Ld)},(r,e)=>(e-r)/Ld,r=>r.getUTCMinutes());_N.range;const ON=Yl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*lf-r.getMinutes()*Ld)},(r,e)=>{r.setTime(+r+e*cf)},(r,e)=>(e-r)/cf,r=>r.getHours());ON.range;const kN=Yl(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*cf)},(r,e)=>(e-r)/cf,r=>r.getUTCHours());kN.range;const Hg=Yl(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Ld)/mf,r=>r.getDate()-1);Hg.range;const D2=Yl(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/mf,r=>r.getUTCDate()-1);D2.range;const Bk=Yl(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/mf,r=>Math.floor(r/mf));Bk.range;function up(r){return Yl(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ld)/IN)}const M2=up(0),kv=up(1),hQ=up(2),fQ=up(3),om=up(4),AQ=up(5),pQ=up(6);M2.range;kv.range;hQ.range;fQ.range;om.range;AQ.range;pQ.range;function dp(r){return Yl(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/IN)}const R2=dp(0),Pv=dp(1),mQ=dp(2),gQ=dp(3),lm=dp(4),vQ=dp(5),xQ=dp(6);R2.range;Pv.range;mQ.range;gQ.range;lm.range;vQ.range;xQ.range;const PN=Yl(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());PN.range;const FN=Yl(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());FN.range;const gf=Yl(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());gf.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Yl(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*r)});gf.range;const vf=Yl(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());vf.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Yl(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*r)});vf.range;function Ek(r,e,n,a,i,s){const c=[[qA,1,lf],[qA,5,5*lf],[qA,15,15*lf],[qA,30,30*lf],[s,1,Ld],[s,5,5*Ld],[s,15,15*Ld],[s,30,30*Ld],[i,1,cf],[i,3,3*cf],[i,6,6*cf],[i,12,12*cf],[a,1,mf],[a,2,2*mf],[n,1,IN],[e,1,V3],[e,3,3*V3],[r,1,Iw]];function l(o,h,d){const f=h<o;f&&([o,h]=[h,o]);const A=d&&typeof d.range=="function"?d:u(o,h,d),g=A?A.range(o,+h+1):[];return f?g.reverse():g}function u(o,h,d){const f=Math.abs(h-o)/d,A=gN(([,,x])=>x).right(c,f);if(A===c.length)return r.every(OC(o/Iw,h/Iw,d));if(A===0)return Ov.every(Math.max(OC(o,h,d),1));const[g,m]=c[f/c[A-1][2]<c[A][2]/f?A-1:A];return g.every(m)}return[l,u]}const[yQ,bQ]=Ek(vf,FN,R2,Bk,kN,_N),[wQ,jQ]=Ek(gf,PN,M2,Hg,ON,TN);function Tw(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function _w(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Km(r,e,n){return{y:r,m:e,d:n,H:0,M:0,S:0,L:0}}function CQ(r){var e=r.dateTime,n=r.date,a=r.time,i=r.periods,s=r.days,c=r.shortDays,l=r.months,u=r.shortMonths,o=Gm(i),h=qm(i),d=Gm(s),f=qm(s),A=Gm(c),g=qm(c),m=Gm(l),x=qm(l),y=Gm(u),b=qm(u),w={a:ye,A:ne,b:Be,B:Te,c:null,d:Y3,e:Y3,f:KQ,g:nW,G:iW,H:$Q,I:VQ,j:zQ,L:Ik,m:GQ,M:qQ,p:me,q:ue,Q:eI,s:tI,S:XQ,u:YQ,U:ZQ,V:JQ,w:eW,W:tW,x:null,X:null,y:rW,Y:aW,Z:sW,"%":J3},N={a:ve,A:le,b:Ae,B:Ie,c:null,d:Z3,e:Z3,f:uW,g:yW,G:wW,H:oW,I:lW,j:cW,L:_k,m:dW,M:hW,p:Pe,q:Ce,Q:eI,s:tI,S:fW,u:AW,U:pW,V:mW,w:gW,W:vW,x:null,X:null,y:xW,Y:bW,Z:jW,"%":J3},S={a:ee,A:K,b:ae,B:D,c:q,d:q3,e:q3,f:UQ,g:G3,G:K3,H:X3,I:X3,j:DQ,L:LQ,m:FQ,M:MQ,p:Z,q:PQ,Q:QQ,s:WQ,S:RQ,u:IQ,U:TQ,V:_Q,w:EQ,W:OQ,x:$,X:L,y:G3,Y:K3,Z:kQ,"%":HQ};w.x=j(n,w),w.X=j(a,w),w.c=j(e,w),N.x=j(n,N),N.X=j(a,N),N.c=j(e,N);function j(ce,X){return function(de){var se=[],We=-1,Re=0,Ee=ce.length,ie,Le,Ze;for(de instanceof Date||(de=new Date(+de));++We<Ee;)ce.charCodeAt(We)===37&&(se.push(ce.slice(Re,We)),(Le=z3[ie=ce.charAt(++We)])!=null?ie=ce.charAt(++We):Le=ie==="e"?" ":"0",(Ze=X[ie])&&(ie=Ze(de,Le)),se.push(ie),Re=We+1);return se.push(ce.slice(Re,We)),se.join("")}}function _(ce,X){return function(de){var se=Km(1900,void 0,1),We=P(se,ce,de+="",0),Re,Ee;if(We!=de.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(X&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Re=_w(Km(se.y,0,1)),Ee=Re.getUTCDay(),Re=Ee>4||Ee===0?Pv.ceil(Re):Pv(Re),Re=D2.offset(Re,(se.V-1)*7),se.y=Re.getUTCFullYear(),se.m=Re.getUTCMonth(),se.d=Re.getUTCDate()+(se.w+6)%7):(Re=Tw(Km(se.y,0,1)),Ee=Re.getDay(),Re=Ee>4||Ee===0?kv.ceil(Re):kv(Re),Re=Hg.offset(Re,(se.V-1)*7),se.y=Re.getFullYear(),se.m=Re.getMonth(),se.d=Re.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ee="Z"in se?_w(Km(se.y,0,1)).getUTCDay():Tw(Km(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ee+5)%7:se.w+se.U*7-(Ee+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,_w(se)):Tw(se)}}function P(ce,X,de,se){for(var We=0,Re=X.length,Ee=de.length,ie,Le;We<Re;){if(se>=Ee)return-1;if(ie=X.charCodeAt(We++),ie===37){if(ie=X.charAt(We++),Le=S[ie in z3?X.charAt(We++):ie],!Le||(se=Le(ce,de,se))<0)return-1}else if(ie!=de.charCodeAt(se++))return-1}return se}function Z(ce,X,de){var se=o.exec(X.slice(de));return se?(ce.p=h.get(se[0].toLowerCase()),de+se[0].length):-1}function ee(ce,X,de){var se=A.exec(X.slice(de));return se?(ce.w=g.get(se[0].toLowerCase()),de+se[0].length):-1}function K(ce,X,de){var se=d.exec(X.slice(de));return se?(ce.w=f.get(se[0].toLowerCase()),de+se[0].length):-1}function ae(ce,X,de){var se=y.exec(X.slice(de));return se?(ce.m=b.get(se[0].toLowerCase()),de+se[0].length):-1}function D(ce,X,de){var se=m.exec(X.slice(de));return se?(ce.m=x.get(se[0].toLowerCase()),de+se[0].length):-1}function q(ce,X,de){return P(ce,e,X,de)}function $(ce,X,de){return P(ce,n,X,de)}function L(ce,X,de){return P(ce,a,X,de)}function ye(ce){return c[ce.getDay()]}function ne(ce){return s[ce.getDay()]}function Be(ce){return u[ce.getMonth()]}function Te(ce){return l[ce.getMonth()]}function me(ce){return i[+(ce.getHours()>=12)]}function ue(ce){return 1+~~(ce.getMonth()/3)}function ve(ce){return c[ce.getUTCDay()]}function le(ce){return s[ce.getUTCDay()]}function Ae(ce){return u[ce.getUTCMonth()]}function Ie(ce){return l[ce.getUTCMonth()]}function Pe(ce){return i[+(ce.getUTCHours()>=12)]}function Ce(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var X=j(ce+="",w);return X.toString=function(){return ce},X},parse:function(ce){var X=_(ce+="",!1);return X.toString=function(){return ce},X},utcFormat:function(ce){var X=j(ce+="",N);return X.toString=function(){return ce},X},utcParse:function(ce){var X=_(ce+="",!0);return X.toString=function(){return ce},X}}}var z3={"-":"",_:" ",0:"0"},bc=/^\s*\d+/,NQ=/^%/,SQ=/[\\^$*+?|[\]().{}]/g;function os(r,e,n){var a=r<0?"-":"",i=(a?-r:r)+"",s=i.length;return a+(s<n?new Array(n-s+1).join(e)+i:i)}function BQ(r){return r.replace(SQ,"\\$&")}function Gm(r){return new RegExp("^(?:"+r.map(BQ).join("|")+")","i")}function qm(r){return new Map(r.map((e,n)=>[e.toLowerCase(),n]))}function EQ(r,e,n){var a=bc.exec(e.slice(n,n+1));return a?(r.w=+a[0],n+a[0].length):-1}function IQ(r,e,n){var a=bc.exec(e.slice(n,n+1));return a?(r.u=+a[0],n+a[0].length):-1}function TQ(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.U=+a[0],n+a[0].length):-1}function _Q(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.V=+a[0],n+a[0].length):-1}function OQ(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.W=+a[0],n+a[0].length):-1}function K3(r,e,n){var a=bc.exec(e.slice(n,n+4));return a?(r.y=+a[0],n+a[0].length):-1}function G3(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function kQ(r,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(r.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function PQ(r,e,n){var a=bc.exec(e.slice(n,n+1));return a?(r.q=a[0]*3-3,n+a[0].length):-1}function FQ(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.m=a[0]-1,n+a[0].length):-1}function q3(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.d=+a[0],n+a[0].length):-1}function DQ(r,e,n){var a=bc.exec(e.slice(n,n+3));return a?(r.m=0,r.d=+a[0],n+a[0].length):-1}function X3(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.H=+a[0],n+a[0].length):-1}function MQ(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.M=+a[0],n+a[0].length):-1}function RQ(r,e,n){var a=bc.exec(e.slice(n,n+2));return a?(r.S=+a[0],n+a[0].length):-1}function LQ(r,e,n){var a=bc.exec(e.slice(n,n+3));return a?(r.L=+a[0],n+a[0].length):-1}function UQ(r,e,n){var a=bc.exec(e.slice(n,n+6));return a?(r.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function HQ(r,e,n){var a=NQ.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function QQ(r,e,n){var a=bc.exec(e.slice(n));return a?(r.Q=+a[0],n+a[0].length):-1}function WQ(r,e,n){var a=bc.exec(e.slice(n));return a?(r.s=+a[0],n+a[0].length):-1}function Y3(r,e){return os(r.getDate(),e,2)}function $Q(r,e){return os(r.getHours(),e,2)}function VQ(r,e){return os(r.getHours()%12||12,e,2)}function zQ(r,e){return os(1+Hg.count(gf(r),r),e,3)}function Ik(r,e){return os(r.getMilliseconds(),e,3)}function KQ(r,e){return Ik(r,e)+"000"}function GQ(r,e){return os(r.getMonth()+1,e,2)}function qQ(r,e){return os(r.getMinutes(),e,2)}function XQ(r,e){return os(r.getSeconds(),e,2)}function YQ(r){var e=r.getDay();return e===0?7:e}function ZQ(r,e){return os(M2.count(gf(r)-1,r),e,2)}function Tk(r){var e=r.getDay();return e>=4||e===0?om(r):om.ceil(r)}function JQ(r,e){return r=Tk(r),os(om.count(gf(r),r)+(gf(r).getDay()===4),e,2)}function eW(r){return r.getDay()}function tW(r,e){return os(kv.count(gf(r)-1,r),e,2)}function rW(r,e){return os(r.getFullYear()%100,e,2)}function nW(r,e){return r=Tk(r),os(r.getFullYear()%100,e,2)}function aW(r,e){return os(r.getFullYear()%1e4,e,4)}function iW(r,e){var n=r.getDay();return r=n>=4||n===0?om(r):om.ceil(r),os(r.getFullYear()%1e4,e,4)}function sW(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+os(e/60|0,"0",2)+os(e%60,"0",2)}function Z3(r,e){return os(r.getUTCDate(),e,2)}function oW(r,e){return os(r.getUTCHours(),e,2)}function lW(r,e){return os(r.getUTCHours()%12||12,e,2)}function cW(r,e){return os(1+D2.count(vf(r),r),e,3)}function _k(r,e){return os(r.getUTCMilliseconds(),e,3)}function uW(r,e){return _k(r,e)+"000"}function dW(r,e){return os(r.getUTCMonth()+1,e,2)}function hW(r,e){return os(r.getUTCMinutes(),e,2)}function fW(r,e){return os(r.getUTCSeconds(),e,2)}function AW(r){var e=r.getUTCDay();return e===0?7:e}function pW(r,e){return os(R2.count(vf(r)-1,r),e,2)}function Ok(r){var e=r.getUTCDay();return e>=4||e===0?lm(r):lm.ceil(r)}function mW(r,e){return r=Ok(r),os(lm.count(vf(r),r)+(vf(r).getUTCDay()===4),e,2)}function gW(r){return r.getUTCDay()}function vW(r,e){return os(Pv.count(vf(r)-1,r),e,2)}function xW(r,e){return os(r.getUTCFullYear()%100,e,2)}function yW(r,e){return r=Ok(r),os(r.getUTCFullYear()%100,e,2)}function bW(r,e){return os(r.getUTCFullYear()%1e4,e,4)}function wW(r,e){var n=r.getUTCDay();return r=n>=4||n===0?lm(r):lm.ceil(r),os(r.getUTCFullYear()%1e4,e,4)}function jW(){return"+0000"}function J3(){return"%"}function eI(r){return+r}function tI(r){return Math.floor(+r/1e3)}var Tp,kk,Pk;CW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CW(r){return Tp=CQ(r),kk=Tp.format,Tp.parse,Pk=Tp.utcFormat,Tp.utcParse,Tp}function NW(r){return new Date(r)}function SW(r){return r instanceof Date?+r:+new Date(+r)}function DN(r,e,n,a,i,s,c,l,u,o){var h=wN(),d=h.invert,f=h.domain,A=o(".%L"),g=o(":%S"),m=o("%I:%M"),x=o("%I %p"),y=o("%a %d"),b=o("%b %d"),w=o("%B"),N=o("%Y");function S(j){return(u(j)<j?A:l(j)<j?g:c(j)<j?m:s(j)<j?x:a(j)<j?i(j)<j?y:b:n(j)<j?w:N)(j)}return h.invert=function(j){return new Date(d(j))},h.domain=function(j){return arguments.length?f(Array.from(j,SW)):f().map(NW)},h.ticks=function(j){var _=f();return r(_[0],_[_.length-1],j??10)},h.tickFormat=function(j,_){return _==null?S:o(_)},h.nice=function(j){var _=f();return(!j||typeof j.range!="function")&&(j=e(_[0],_[_.length-1],j??10)),j?f(yk(_,j)):h},h.copy=function(){return Ug(h,DN(r,e,n,a,i,s,c,l,u,o))},h}function BW(){return Wd.apply(DN(wQ,jQ,gf,PN,M2,Hg,ON,TN,qA,kk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EW(){return Wd.apply(DN(yQ,bQ,vf,FN,R2,D2,kN,_N,qA,Pk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L2(){var r=0,e=1,n,a,i,s,c=bu,l=!1,u;function o(d){return d==null||isNaN(d=+d)?u:c(i===0?.5:(d=(s(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}o.domain=function(d){return arguments.length?([r,e]=d,n=s(r=+r),a=s(e=+e),i=n===a?0:1/(a-n),o):[r,e]},o.clamp=function(d){return arguments.length?(l=!!d,o):l},o.interpolator=function(d){return arguments.length?(c=d,o):c};function h(d){return function(f){var A,g;return arguments.length?([A,g]=f,c=d(A,g),o):[c(0),c(1)]}}return o.range=h(Pm),o.rangeRound=h(bN),o.unknown=function(d){return arguments.length?(u=d,o):u},function(d){return s=d,n=d(r),a=d(e),i=n===a?0:1/(a-n),o}}function fA(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function Fk(){var r=hA(L2()(bu));return r.copy=function(){return fA(r,Fk())},bf.apply(r,arguments)}function Dk(){var r=NN(L2()).domain([1,10]);return r.copy=function(){return fA(r,Dk()).base(r.base())},bf.apply(r,arguments)}function Mk(){var r=SN(L2());return r.copy=function(){return fA(r,Mk()).constant(r.constant())},bf.apply(r,arguments)}function MN(){var r=BN(L2());return r.copy=function(){return fA(r,MN()).exponent(r.exponent())},bf.apply(r,arguments)}function IW(){return MN.apply(null,arguments).exponent(.5)}function Rk(){var r=[],e=bu;function n(a){if(a!=null&&!isNaN(a=+a))return e((Rg(r,a,1)-1)/(r.length-1))}return n.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let i of a)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(aA),n},n.interpolator=function(a){return arguments.length?(e=a,n):e},n.range=function(){return r.map((a,i)=>e(i/(r.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(i,s)=>pH(r,s/a))},n.copy=function(){return Rk(e).domain(r)},bf.apply(n,arguments)}function U2(){var r=0,e=.5,n=1,a=1,i,s,c,l,u,o=bu,h,d=!1,f;function A(m){return isNaN(m=+m)?f:(m=.5+((m=+h(m))-s)*(a*m<a*s?l:u),o(d?Math.max(0,Math.min(1,m)):m))}A.domain=function(m){return arguments.length?([r,e,n]=m,i=h(r=+r),s=h(e=+e),c=h(n=+n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,A):[r,e,n]},A.clamp=function(m){return arguments.length?(d=!!m,A):d},A.interpolator=function(m){return arguments.length?(o=m,A):o};function g(m){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,o=HH(m,[y,b,w]),A):[o(0),o(.5),o(1)]}}return A.range=g(Pm),A.rangeRound=g(bN),A.unknown=function(m){return arguments.length?(f=m,A):f},function(m){return h=m,i=m(r),s=m(e),c=m(n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,A}}function Lk(){var r=hA(U2()(bu));return r.copy=function(){return fA(r,Lk())},bf.apply(r,arguments)}function Uk(){var r=NN(U2()).domain([.1,1,10]);return r.copy=function(){return fA(r,Uk()).base(r.base())},bf.apply(r,arguments)}function Hk(){var r=SN(U2());return r.copy=function(){return fA(r,Hk()).constant(r.constant())},bf.apply(r,arguments)}function RN(){var r=BN(U2());return r.copy=function(){return fA(r,RN()).exponent(r.exponent())},bf.apply(r,arguments)}function TW(){return RN.apply(null,arguments).exponent(.5)}const rI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sg,scaleDiverging:Lk,scaleDivergingLog:Uk,scaleDivergingPow:RN,scaleDivergingSqrt:TW,scaleDivergingSymlog:Hk,scaleIdentity:xk,scaleImplicit:kC,scaleLinear:_v,scaleLog:bk,scaleOrdinal:vN,scalePoint:W0,scalePow:EN,scaleQuantile:Ck,scaleQuantize:Nk,scaleRadial:jk,scaleSequential:Fk,scaleSequentialLog:Dk,scaleSequentialPow:MN,scaleSequentialQuantile:Rk,scaleSequentialSqrt:IW,scaleSequentialSymlog:Mk,scaleSqrt:uQ,scaleSymlog:wk,scaleThreshold:Sk,scaleTime:BW,scaleUtc:EW,tickFormat:vk},Symbol.toStringTag,{value:"Module"}));var Ow,nI;function H2(){if(nI)return Ow;nI=1;var r=Tm();function e(n,a,i){for(var s=-1,c=n.length;++s<c;){var l=n[s],u=a(l);if(u!=null&&(o===void 0?u===u&&!r(u):i(u,o)))var o=u,h=l}return h}return Ow=e,Ow}var kw,aI;function Qk(){if(aI)return kw;aI=1;function r(e,n){return e>n}return kw=r,kw}var Pw,iI;function _W(){if(iI)return Pw;iI=1;var r=H2(),e=Qk(),n=km();function a(i){return i&&i.length?r(i,n,e):void 0}return Pw=a,Pw}var OW=_W();const Q2=Ji(OW);var Fw,sI;function Wk(){if(sI)return Fw;sI=1;function r(e,n){return e<n}return Fw=r,Fw}var Dw,oI;function kW(){if(oI)return Dw;oI=1;var r=H2(),e=Wk(),n=km();function a(i){return i&&i.length?r(i,n,e):void 0}return Dw=a,Dw}var PW=kW();const W2=Ji(PW);var Mw,lI;function FW(){if(lI)return Mw;lI=1;var r=eN(),e=Dh(),n=ZO(),a=Ru();function i(s,c){var l=a(s)?r:n;return l(s,e(c,3))}return Mw=i,Mw}var Rw,cI;function DW(){if(cI)return Rw;cI=1;var r=XO(),e=FW();function n(a,i){return r(e(a,i),1)}return Rw=n,Rw}var MW=DW();const RW=Ji(MW);var Lw,uI;function LW(){if(uI)return Lw;uI=1;var r=fN();function e(n,a){return r(n,a)}return Lw=e,Lw}var UW=LW();const Qg=Ji(UW);var Fm=1e9,HW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UN,Bo=!0,Qd="[DecimalError] ",JA=Qd+"Invalid argument: ",LN=Qd+"Exponent out of range: ",Dm=Math.floor,WA=Math.pow,QW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,od,vc=1e7,go=7,$k=9007199254740991,Fv=Dm($k/go),Gn={};Gn.absoluteValue=Gn.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Gn.comparedTo=Gn.cmp=function(r){var e,n,a,i,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(a=s.d.length,i=r.d.length,e=0,n=a<i?a:i;e<n;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};Gn.decimalPlaces=Gn.dp=function(){var r=this,e=r.d.length-1,n=(e-r.e)*go;if(e=r.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Gn.dividedBy=Gn.div=function(r){return ff(this,new this.constructor(r))};Gn.dividedToIntegerBy=Gn.idiv=function(r){var e=this,n=e.constructor;return Ks(ff(e,new n(r),0,1),n.precision)};Gn.equals=Gn.eq=function(r){return!this.cmp(r)};Gn.exponent=function(){return Nl(this)};Gn.greaterThan=Gn.gt=function(r){return this.cmp(r)>0};Gn.greaterThanOrEqualTo=Gn.gte=function(r){return this.cmp(r)>=0};Gn.isInteger=Gn.isint=function(){return this.e>this.d.length-2};Gn.isNegative=Gn.isneg=function(){return this.s<0};Gn.isPositive=Gn.ispos=function(){return this.s>0};Gn.isZero=function(){return this.s===0};Gn.lessThan=Gn.lt=function(r){return this.cmp(r)<0};Gn.lessThanOrEqualTo=Gn.lte=function(r){return this.cmp(r)<1};Gn.logarithm=Gn.log=function(r){var e,n=this,a=n.constructor,i=a.precision,s=i+5;if(r===void 0)r=new a(10);else if(r=new a(r),r.s<1||r.eq(od))throw Error(Qd+"NaN");if(n.s<1)throw Error(Qd+(n.s?"NaN":"-Infinity"));return n.eq(od)?new a(0):(Bo=!1,e=ff(dg(n,s),dg(r,s),s),Bo=!0,Ks(e,i))};Gn.minus=Gn.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Kk(e,r):Vk(e,(r.s=-r.s,r))};Gn.modulo=Gn.mod=function(r){var e,n=this,a=n.constructor,i=a.precision;if(r=new a(r),!r.s)throw Error(Qd+"NaN");return n.s?(Bo=!1,e=ff(n,r,0,1).times(r),Bo=!0,n.minus(e)):Ks(new a(n),i)};Gn.naturalExponential=Gn.exp=function(){return zk(this)};Gn.naturalLogarithm=Gn.ln=function(){return dg(this)};Gn.negated=Gn.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Gn.plus=Gn.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Vk(e,r):Kk(e,(r.s=-r.s,r))};Gn.precision=Gn.sd=function(r){var e,n,a,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(JA+r);if(e=Nl(i)+1,a=i.d.length-1,n=a*go+1,a=i.d[a],a){for(;a%10==0;a/=10)n--;for(a=i.d[0];a>=10;a/=10)n++}return r&&e>n?e:n};Gn.squareRoot=Gn.sqrt=function(){var r,e,n,a,i,s,c,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Qd+"NaN")}for(r=Nl(l),Bo=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Bh(l.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Dm((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),a=new u(e)):a=new u(i.toString()),n=u.precision,i=c=n+3;;)if(s=a,a=s.plus(ff(l,s,c+2)).times(.5),Bh(s.d).slice(0,c)===(e=Bh(a.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(Ks(s,n+1,0),s.times(s).eq(l)){a=s;break}}else if(e!="9999")break;c+=4}return Bo=!0,Ks(a,n)};Gn.times=Gn.mul=function(r){var e,n,a,i,s,c,l,u,o,h=this,d=h.constructor,f=h.d,A=(r=new d(r)).d;if(!h.s||!r.s)return new d(0);for(r.s*=h.s,n=h.e+r.e,u=f.length,o=A.length,u<o&&(s=f,f=A,A=s,c=u,u=o,o=c),s=[],c=u+o,a=c;a--;)s.push(0);for(a=o;--a>=0;){for(e=0,i=u+a;i>a;)l=s[i]+A[a]*f[i-a-1]+e,s[i--]=l%vc|0,e=l/vc|0;s[i]=(s[i]+e)%vc|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),r.d=s,r.e=n,Bo?Ks(r,d.precision):r};Gn.toDecimalPlaces=Gn.todp=function(r,e){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(Oh(r,0,Fm),e===void 0?e=a.rounding:Oh(e,0,8),Ks(n,r+Nl(n)+1,e))};Gn.toExponential=function(r,e){var n,a=this,i=a.constructor;return r===void 0?n=ip(a,!0):(Oh(r,0,Fm),e===void 0?e=i.rounding:Oh(e,0,8),a=Ks(new i(a),r+1,e),n=ip(a,!0,r+1)),n};Gn.toFixed=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?ip(i):(Oh(r,0,Fm),e===void 0?e=s.rounding:Oh(e,0,8),a=Ks(new s(i),r+Nl(i)+1,e),n=ip(a.abs(),!1,r+Nl(a)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Gn.toInteger=Gn.toint=function(){var r=this,e=r.constructor;return Ks(new e(r),Nl(r)+1,e.rounding)};Gn.toNumber=function(){return+this};Gn.toPower=Gn.pow=function(r){var e,n,a,i,s,c,l=this,u=l.constructor,o=12,h=+(r=new u(r));if(!r.s)return new u(od);if(l=new u(l),!l.s){if(r.s<1)throw Error(Qd+"Infinity");return l}if(l.eq(od))return l;if(a=u.precision,r.eq(od))return Ks(l,a);if(e=r.e,n=r.d.length-1,c=e>=n,s=l.s,c){if((n=h<0?-h:h)<=$k){for(i=new u(od),e=Math.ceil(a/go+4),Bo=!1;n%2&&(i=i.times(l),hI(i.d,e)),n=Dm(n/2),n!==0;)l=l.times(l),hI(l.d,e);return Bo=!0,r.s<0?new u(od).div(i):Ks(i,a)}}else if(s<0)throw Error(Qd+"NaN");return s=s<0&&r.d[Math.max(e,n)]&1?-1:1,l.s=1,Bo=!1,i=r.times(dg(l,a+o)),Bo=!0,i=zk(i),i.s=s,i};Gn.toPrecision=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?(n=Nl(i),a=ip(i,n<=s.toExpNeg||n>=s.toExpPos)):(Oh(r,1,Fm),e===void 0?e=s.rounding:Oh(e,0,8),i=Ks(new s(i),r,e),n=Nl(i),a=ip(i,r<=n||n<=s.toExpNeg,r)),a};Gn.toSignificantDigits=Gn.tosd=function(r,e){var n=this,a=n.constructor;return r===void 0?(r=a.precision,e=a.rounding):(Oh(r,1,Fm),e===void 0?e=a.rounding:Oh(e,0,8)),Ks(new a(n),r,e)};Gn.toString=Gn.valueOf=Gn.val=Gn.toJSON=Gn[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Nl(r),n=r.constructor;return ip(r,e<=n.toExpNeg||e>=n.toExpPos)};function Vk(r,e){var n,a,i,s,c,l,u,o,h=r.constructor,d=h.precision;if(!r.s||!e.s)return e.s||(e=new h(r)),Bo?Ks(e,d):e;if(u=r.d,o=e.d,c=r.e,i=e.e,u=u.slice(),s=c-i,s){for(s<0?(a=u,s=-s,l=o.length):(a=o,i=c,l=u.length),c=Math.ceil(d/go),l=c>l?c+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=u.length,s=o.length,l-s<0&&(s=l,a=o,o=u,u=a),n=0;s;)n=(u[--s]=u[s]+o[s]+n)/vc|0,u[s]%=vc;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Bo?Ks(e,d):e}function Oh(r,e,n){if(r!==~~r||r<e||r>n)throw Error(JA+r)}function Bh(r){var e,n,a,i=r.length-1,s="",c=r[0];if(i>0){for(s+=c,e=1;e<i;e++)a=r[e]+"",n=go-a.length,n&&(s+=Xf(n)),s+=a;c=r[e],a=c+"",n=go-a.length,n&&(s+=Xf(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var ff=(function(){function r(a,i){var s,c=0,l=a.length;for(a=a.slice();l--;)s=a[l]*i+c,a[l]=s%vc|0,c=s/vc|0;return c&&a.unshift(c),a}function e(a,i,s,c){var l,u;if(s!=c)u=s>c?1:-1;else for(l=u=0;l<s;l++)if(a[l]!=i[l]){u=a[l]>i[l]?1:-1;break}return u}function n(a,i,s){for(var c=0;s--;)a[s]-=c,c=a[s]<i[s]?1:0,a[s]=c*vc+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,c){var l,u,o,h,d,f,A,g,m,x,y,b,w,N,S,j,_,P,Z=a.constructor,ee=a.s==i.s?1:-1,K=a.d,ae=i.d;if(!a.s)return new Z(a);if(!i.s)throw Error(Qd+"Division by zero");for(u=a.e-i.e,_=ae.length,S=K.length,A=new Z(ee),g=A.d=[],o=0;ae[o]==(K[o]||0);)++o;if(ae[o]>(K[o]||0)&&--u,s==null?b=s=Z.precision:c?b=s+(Nl(a)-Nl(i))+1:b=s,b<0)return new Z(0);if(b=b/go+2|0,o=0,_==1)for(h=0,ae=ae[0],b++;(o<S||h)&&b--;o++)w=h*vc+(K[o]||0),g[o]=w/ae|0,h=w%ae|0;else{for(h=vc/(ae[0]+1)|0,h>1&&(ae=r(ae,h),K=r(K,h),_=ae.length,S=K.length),N=_,m=K.slice(0,_),x=m.length;x<_;)m[x++]=0;P=ae.slice(),P.unshift(0),j=ae[0],ae[1]>=vc/2&&++j;do h=0,l=e(ae,m,_,x),l<0?(y=m[0],_!=x&&(y=y*vc+(m[1]||0)),h=y/j|0,h>1?(h>=vc&&(h=vc-1),d=r(ae,h),f=d.length,x=m.length,l=e(d,m,f,x),l==1&&(h--,n(d,_<f?P:ae,f))):(h==0&&(l=h=1),d=ae.slice()),f=d.length,f<x&&d.unshift(0),n(m,d,x),l==-1&&(x=m.length,l=e(ae,m,_,x),l<1&&(h++,n(m,_<x?P:ae,x))),x=m.length):l===0&&(h++,m=[0]),g[o++]=h,l&&m[0]?m[x++]=K[N]||0:(m=[K[N]],x=1);while((N++<S||m[0]!==void 0)&&b--)}return g[0]||g.shift(),A.e=u,Ks(A,c?s+Nl(A)+1:s)}})();function zk(r,e){var n,a,i,s,c,l,u=0,o=0,h=r.constructor,d=h.precision;if(Nl(r)>16)throw Error(LN+Nl(r));if(!r.s)return new h(od);for(Bo=!1,l=d,c=new h(.03125);r.abs().gte(.1);)r=r.times(c),o+=5;for(a=Math.log(WA(2,o))/Math.LN10*2+5|0,l+=a,n=i=s=new h(od),h.precision=l;;){if(i=Ks(i.times(r),l),n=n.times(++u),c=s.plus(ff(i,n,l)),Bh(c.d).slice(0,l)===Bh(s.d).slice(0,l)){for(;o--;)s=Ks(s.times(s),l);return h.precision=d,e==null?(Bo=!0,Ks(s,d)):s}s=c}}function Nl(r){for(var e=r.e*go,n=r.d[0];n>=10;n/=10)e++;return e}function Uw(r,e,n){if(e>r.LN10.sd())throw Bo=!0,n&&(r.precision=n),Error(Qd+"LN10 precision limit exceeded");return Ks(new r(r.LN10),e)}function Xf(r){for(var e="";r--;)e+="0";return e}function dg(r,e){var n,a,i,s,c,l,u,o,h,d=1,f=10,A=r,g=A.d,m=A.constructor,x=m.precision;if(A.s<1)throw Error(Qd+(A.s?"NaN":"-Infinity"));if(A.eq(od))return new m(0);if(e==null?(Bo=!1,o=x):o=e,A.eq(10))return e==null&&(Bo=!0),Uw(m,o);if(o+=f,m.precision=o,n=Bh(g),a=n.charAt(0),s=Nl(A),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)A=A.times(r),n=Bh(A.d),a=n.charAt(0),d++;s=Nl(A),a>1?(A=new m("0."+n),s++):A=new m(a+"."+n.slice(1))}else return u=Uw(m,o+2,x).times(s+""),A=dg(new m(a+"."+n.slice(1)),o-f).plus(u),m.precision=x,e==null?(Bo=!0,Ks(A,x)):A;for(l=c=A=ff(A.minus(od),A.plus(od),o),h=Ks(A.times(A),o),i=3;;){if(c=Ks(c.times(h),o),u=l.plus(ff(c,new m(i),o)),Bh(u.d).slice(0,o)===Bh(l.d).slice(0,o))return l=l.times(2),s!==0&&(l=l.plus(Uw(m,o+2,x).times(s+""))),l=ff(l,new m(d),o),m.precision=x,e==null?(Bo=!0,Ks(l,x)):l;l=u,i+=2}}function dI(r,e){var n,a,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charCodeAt(a)===48;)++a;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(a,i),e){if(i-=a,n=n-a-1,r.e=Dm(n/go),r.d=[],a=(n+1)%go,n<0&&(a+=go),a<i){for(a&&r.d.push(+e.slice(0,a)),i-=go;a<i;)r.d.push(+e.slice(a,a+=go));e=e.slice(a),a=go-e.length}else a-=i;for(;a--;)e+="0";if(r.d.push(+e),Bo&&(r.e>Fv||r.e<-Fv))throw Error(LN+n)}else r.s=0,r.e=0,r.d=[0];return r}function Ks(r,e,n){var a,i,s,c,l,u,o,h,d=r.d;for(c=1,s=d[0];s>=10;s/=10)c++;if(a=e-c,a<0)a+=go,i=e,o=d[h=0];else{if(h=Math.ceil((a+1)/go),s=d.length,h>=s)return r;for(o=s=d[h],c=1;s>=10;s/=10)c++;a%=go,i=a-go+c}if(n!==void 0&&(s=WA(10,c-i-1),l=o/s%10|0,u=e<0||d[h+1]!==void 0||o%s,u=n<4?(l||u)&&(n==0||n==(r.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(a>0?i>0?o/WA(10,c-i):0:d[h-1])%10&1||n==(r.s<0?8:7))),e<1||!d[0])return u?(s=Nl(r),d.length=1,e=e-s-1,d[0]=WA(10,(go-e%go)%go),r.e=Dm(-e/go)||0):(d.length=1,d[0]=r.e=r.s=0),r;if(a==0?(d.length=h,s=1,h--):(d.length=h+1,s=WA(10,go-a),d[h]=i>0?(o/WA(10,c-i)%WA(10,i)|0)*s:0),u)for(;;)if(h==0){(d[0]+=s)==vc&&(d[0]=1,++r.e);break}else{if(d[h]+=s,d[h]!=vc)break;d[h--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop();if(Bo&&(r.e>Fv||r.e<-Fv))throw Error(LN+Nl(r));return r}function Kk(r,e){var n,a,i,s,c,l,u,o,h,d,f=r.constructor,A=f.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new f(r),Bo?Ks(e,A):e;if(u=r.d,d=e.d,a=e.e,o=r.e,u=u.slice(),c=o-a,c){for(h=c<0,h?(n=u,c=-c,l=d.length):(n=d,a=o,l=u.length),i=Math.max(Math.ceil(A/go),l)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=d.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}c=0}for(h&&(n=u,u=d,d=n,e.s=-e.s),l=u.length,i=d.length-l;i>0;--i)u[l++]=0;for(i=d.length;i>c;){if(u[--i]<d[i]){for(s=i;s&&u[--s]===0;)u[s]=vc-1;--u[s],u[i]+=vc}u[i]-=d[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(e.d=u,e.e=a,Bo?Ks(e,A):e):new f(0)}function ip(r,e,n){var a,i=Nl(r),s=Bh(r.d),c=s.length;return e?(n&&(a=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Xf(a):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Xf(-i-1)+s,n&&(a=n-c)>0&&(s+=Xf(a))):i>=c?(s+=Xf(i+1-c),n&&(a=n-i-1)>0&&(s=s+"."+Xf(a))):((a=i+1)<c&&(s=s.slice(0,a)+"."+s.slice(a)),n&&(a=n-c)>0&&(i+1===c&&(s+="."),s+=Xf(a))),r.s<0?"-"+s:s}function hI(r,e){if(r.length>e)return r.length=e,!0}function Gk(r){var e,n,a;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(JA+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return dI(c,s.toString())}else if(typeof s!="string")throw Error(JA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,QW.test(s))dI(c,s);else throw Error(JA+s)}if(i.prototype=Gn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Gk,i.config=i.set=WW,r===void 0&&(r={}),r)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<a.length;)r.hasOwnProperty(n=a[e++])||(r[n]=this[n]);return i.config(r),i}function WW(r){if(!r||typeof r!="object")throw Error(Qd+"Object expected");var e,n,a,i=["precision",1,Fm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((a=r[n=i[e]])!==void 0)if(Dm(a)===a&&a>=i[e+1]&&a<=i[e+2])this[n]=a;else throw Error(JA+n+": "+a);if((a=r[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(JA+n+": "+a);return this}var UN=Gk(HW);od=new UN(1);const Hs=UN;function $W(r){return GW(r)||KW(r)||zW(r)||VW()}function VW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(r,e){if(r){if(typeof r=="string")return MC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(r,e)}}function KW(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function GW(r){if(Array.isArray(r))return MC(r)}function MC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var qW=function(e){return e},qk={},Xk=function(e){return e===qk},fI=function(e){return function n(){return arguments.length===0||arguments.length===1&&Xk(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},XW=function r(e,n){return e===1?n:fI(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var c=i.filter(function(l){return l!==qk}).length;return c>=e?n.apply(void 0,i):r(e-c,fI(function(){for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];var h=i.map(function(d){return Xk(d)?u.shift():d});return n.apply(void 0,$W(h).concat(u))}))})},$2=function(e){return XW(e.length,e)},RC=function(e,n){for(var a=[],i=e;i<n;++i)a[i-e]=i;return a},YW=$2(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(n){return e[n]}).map(r)}),ZW=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!n.length)return qW;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},LC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Yk=function(e){var n=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return n&&s.every(function(l,u){return l===n[u]})||(n=s,a=e.apply(void 0,s)),a}};function JW(r){var e;return r===0?e=1:e=Math.floor(new Hs(r).abs().log(10).toNumber())+1,e}function e$(r,e,n){for(var a=new Hs(r),i=0,s=[];a.lt(e)&&i<1e5;)s.push(a.toNumber()),a=a.add(n),i++;return s}var t$=$2(function(r,e,n){var a=+r,i=+e;return a+n*(i-a)}),r$=$2(function(r,e,n){var a=e-+r;return a=a||1/0,(n-r)/a}),n$=$2(function(r,e,n){var a=e-+r;return a=a||1/0,Math.max(0,Math.min(1,(n-r)/a))});const V2={rangeStep:e$,getDigitCount:JW,interpolateNumber:t$,uninterpolateNumber:r$,uninterpolateTruncation:n$};function UC(r){return s$(r)||i$(r)||Zk(r)||a$()}function a$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function s$(r){if(Array.isArray(r))return HC(r)}function hg(r,e){return c$(r)||l$(r,e)||Zk(r,e)||o$()}function o$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zk(r,e){if(r){if(typeof r=="string")return HC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(r,e)}}function HC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function l$(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,i=!1,s=void 0;try{for(var c=r[Symbol.iterator](),l;!(a=(l=c.next()).done)&&(n.push(l.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&c.return!=null&&c.return()}finally{if(i)throw s}}return n}}function c$(r){if(Array.isArray(r))return r}function Jk(r){var e=hg(r,2),n=e[0],a=e[1],i=n,s=a;return n>a&&(i=a,s=n),[i,s]}function eP(r,e,n){if(r.lte(0))return new Hs(0);var a=V2.getDigitCount(r.toNumber()),i=new Hs(10).pow(a),s=r.div(i),c=a!==1?.05:.1,l=new Hs(Math.ceil(s.div(c).toNumber())).add(n).mul(c),u=l.mul(i);return e?u:new Hs(Math.ceil(u))}function u$(r,e,n){var a=1,i=new Hs(r);if(!i.isint()&&n){var s=Math.abs(r);s<1?(a=new Hs(10).pow(V2.getDigitCount(r)-1),i=new Hs(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new Hs(Math.floor(r)))}else r===0?i=new Hs(Math.floor((e-1)/2)):n||(i=new Hs(Math.floor(r)));var c=Math.floor((e-1)/2),l=ZW(YW(function(u){return i.add(new Hs(u-c).mul(a)).toNumber()}),RC);return l(0,e)}function tP(r,e,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(n-1)))return{step:new Hs(0),tickMin:new Hs(0),tickMax:new Hs(0)};var s=eP(new Hs(e).sub(r).div(n-1),a,i),c;r<=0&&e>=0?c=new Hs(0):(c=new Hs(r).add(e).div(2),c=c.sub(new Hs(c).mod(s)));var l=Math.ceil(c.sub(r).div(s).toNumber()),u=Math.ceil(new Hs(e).sub(c).div(s).toNumber()),o=l+u+1;return o>n?tP(r,e,n,a,i+1):(o<n&&(u=e>0?u+(n-o):u,l=e>0?l:l+(n-o)),{step:s,tickMin:c.sub(new Hs(l).mul(s)),tickMax:c.add(new Hs(u).mul(s))})}function d$(r){var e=hg(r,2),n=e[0],a=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),l=Jk([n,a]),u=hg(l,2),o=u[0],h=u[1];if(o===-1/0||h===1/0){var d=h===1/0?[o].concat(UC(RC(0,i-1).map(function(){return 1/0}))):[].concat(UC(RC(0,i-1).map(function(){return-1/0})),[h]);return n>a?LC(d):d}if(o===h)return u$(o,i,s);var f=tP(o,h,c,s),A=f.step,g=f.tickMin,m=f.tickMax,x=V2.rangeStep(g,m.add(new Hs(.1).mul(A)),A);return n>a?LC(x):x}function h$(r,e){var n=hg(r,2),a=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Jk([a,i]),l=hg(c,2),u=l[0],o=l[1];if(u===-1/0||o===1/0)return[a,i];if(u===o)return[u];var h=Math.max(e,2),d=eP(new Hs(o).sub(u).div(h-1),s,0),f=[].concat(UC(V2.rangeStep(new Hs(u),new Hs(o).sub(new Hs(.99).mul(d)),d)),[o]);return a>i?LC(f):f}var f$=Yk(d$),A$=Yk(h$),p$="Invariant failed";function sp(r,e){throw new Error(p$)}var m$=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cm(r){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(r)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Dv.apply(this,arguments)}function g$(r,e){return b$(r)||y$(r,e)||x$(r,e)||v$()}function v$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$(r,e){if(r){if(typeof r=="string")return AI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AI(r,e)}}function AI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function y$(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function b$(r){if(Array.isArray(r))return r}function w$(r,e){if(r==null)return{};var n=j$(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function j$(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function C$(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function N$(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,aP(a.key),a)}}function S$(r,e,n){return e&&N$(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function B$(r,e,n){return e=Mv(e),E$(r,rP()?Reflect.construct(e,n||[],Mv(r).constructor):e.apply(r,n))}function E$(r,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I$(r)}function I$(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!r})()}function Mv(r){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(r)}function T$(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&QC(r,e)}function QC(r,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},QC(r,e)}function nP(r,e,n){return e=aP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function aP(r){var e=_$(r,"string");return cm(e)=="symbol"?e:e+""}function _$(r,e){if(cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Wg=(function(r){function e(){return C$(this,e),B$(this,e,arguments)}return T$(e,r),S$(e,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,c=a.width,l=a.dataKey,u=a.data,o=a.dataPointFormatter,h=a.xAxis,d=a.yAxis,f=w$(a,m$),A=_a(f,!1);this.props.direction==="x"&&h.type!=="number"&&sp();var g=u.map(function(m){var x=o(m,l),y=x.x,b=x.y,w=x.value,N=x.errorVal;if(!N)return null;var S=[],j,_;if(Array.isArray(N)){var P=g$(N,2);j=P[0],_=P[1]}else j=_=N;if(s==="vertical"){var Z=h.scale,ee=b+i,K=ee+c,ae=ee-c,D=Z(w-j),q=Z(w+_);S.push({x1:q,y1:K,x2:q,y2:ae}),S.push({x1:D,y1:ee,x2:q,y2:ee}),S.push({x1:D,y1:K,x2:D,y2:ae})}else if(s==="horizontal"){var $=d.scale,L=y+i,ye=L-c,ne=L+c,Be=$(w-j),Te=$(w+_);S.push({x1:ye,y1:Te,x2:ne,y2:Te}),S.push({x1:L,y1:Be,x2:L,y2:Te}),S.push({x1:ye,y1:Be,x2:ne,y2:Be})}return St.createElement(ss,Dv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(me){return"".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))},A),S.map(function(me){return St.createElement("line",Dv({},me,{key:"line-".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))}))});return St.createElement(ss,{className:"recharts-errorBars"},g)}}])})(St.Component);nP(Wg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nP(Wg,"displayName","ErrorBar");function fg(r){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(r)}function pI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function _A(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(a){O$(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function O$(r,e,n){return e=k$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function k$(r){var e=P$(r,"string");return fg(e)=="symbol"?e:e+""}function P$(r,e){if(fg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var iP=function(e){var n=e.children,a=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,c=ad(n,Sh);if(!c)return null;var l=Sh.defaultProps,u=l!==void 0?_A(_A({},l),c.props):{},o;return c.props&&c.props.payload?o=c.props&&c.props.payload:s==="children"?o=(a||[]).reduce(function(h,d){var f=d.item,A=d.props,g=A.sectors||A.data||[];return h.concat(g.map(function(m){return{type:c.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):o=(a||[]).map(function(h){var d=h.item,f=d.type.defaultProps,A=f!==void 0?_A(_A({},f),d.props):{},g=A.dataKey,m=A.name,x=A.legendType,y=A.hide;return{inactive:y,dataKey:g,type:u.iconType||x||"square",color:HN(d),value:m||g,payload:A}}),_A(_A(_A({},u),Sh.getWithHeight(c,i)),{},{payload:o,item:c})};function Ag(r){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(r)}function mI(r){return R$(r)||M$(r)||D$(r)||F$()}function F$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D$(r,e){if(r){if(typeof r=="string")return WC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(r,e)}}function M$(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function R$(r){if(Array.isArray(r))return WC(r)}function WC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function gI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function el(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(a){em(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function em(r,e,n){return e=L$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function L$(r){var e=U$(r,"string");return Ag(e)=="symbol"?e:e+""}function U$(r,e){if(Ag(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Kl(r,e,n){return li(r)||li(e)?n:ql(e)?ld(r,e,n):qa(e)?e(r):n}function $0(r,e,n,a){var i=RW(r,function(l){return Kl(l,e)});if(n==="number"){var s=i.filter(function(l){return gn(l)||parseFloat(l)});return s.length?[W2(s),Q2(s)]:[1/0,-1/0]}var c=a?i.filter(function(l){return!li(l)}):i;return c.map(function(l){return ql(l)||l instanceof Date?l:""})}var H$=function(e){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,o=0;o<l;o++){var h=o>0?i[o-1].coordinate:i[l-1].coordinate,d=i[o].coordinate,f=o>=l-1?i[0].coordinate:i[o+1].coordinate,A=void 0;if(xu(d-h)!==xu(f-d)){var g=[];if(xu(f-d)===xu(u[1]-u[0])){A=f;var m=d+u[1]-u[0];g[0]=Math.min(m,(m+h)/2),g[1]=Math.max(m,(m+h)/2)}else{A=h;var x=f+u[1]-u[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(A+d)/2),Math.max(d,(A+d)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){c=i[o].index;break}}else{var b=Math.min(h,f),w=Math.max(h,f);if(e>(b+d)/2&&e<=(w+d)/2){c=i[o].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<l-1&&e>(a[N].coordinate+a[N-1].coordinate)/2&&e<=(a[N].coordinate+a[N+1].coordinate)/2||N===l-1&&e>(a[N].coordinate+a[N-1].coordinate)/2){c=a[N].index;break}return c},HN=function(e){var n,a=e,i=a.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?el(el({},e.type.defaultProps),e.props):e.props,c=s.stroke,l=s.fill,u;switch(i){case"Line":u=c;break;case"Area":case"Radar":u=c&&c!=="none"?c:l;break;default:u=l;break}return u},Q$=function(e){var n=e.barSize,a=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var c={},l=Object.keys(s),u=0,o=l.length;u<o;u++)for(var h=s[l[u]].stackGroups,d=Object.keys(h),f=0,A=d.length;f<A;f++){var g=h[d[f]],m=g.items,x=g.cateAxisId,y=m.filter(function(_){return hf(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?el(el({},b),y[0].props):y[0].props,N=w.barSize,S=w[x];c[S]||(c[S]=[]);var j=li(N)?n:N;c[S].push({item:y[0],stackList:y.slice(1),barSize:li(j)?void 0:yu(j,a,0)})}}return c},W$=function(e){var n=e.barGap,a=e.barCategoryGap,i=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,l=e.maxBarSize,u=c.length;if(u<1)return null;var o=yu(n,i,0,!0),h,d=[];if(c[0].barSize===+c[0].barSize){var f=!1,A=i/u,g=c.reduce(function(N,S){return N+S.barSize||0},0);g+=(u-1)*o,g>=i&&(g-=(u-1)*o,o=0),g>=i&&A>0&&(f=!0,A*=.9,g=u*A);var m=(i-g)/2>>0,x={offset:m-o,size:0};h=c.reduce(function(N,S){var j={item:S.item,position:{offset:x.offset+x.size+o,size:f?A:S.barSize}},_=[].concat(mI(N),[j]);return x=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){_.push({item:P,position:x})}),_},d)}else{var y=yu(a,i,0,!0);i-2*y-(u-1)*o<=0&&(o=0);var b=(i-2*y-(u-1)*o)/u;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;h=c.reduce(function(N,S,j){var _=[].concat(mI(N),[{item:S.item,position:{offset:y+(b+o)*j+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){_.push({item:P,position:_[_.length-1].position})}),_},d)}return h},$$=function(e,n,a,i){var s=a.children,c=a.width,l=a.margin,u=c-(l.left||0)-(l.right||0),o=iP({children:s,legendWidth:u});if(o){var h=i||{},d=h.width,f=h.height,A=o.align,g=o.verticalAlign,m=o.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&A!=="center"&&gn(e[A]))return el(el({},e),{},em({},A,e[A]+(d||0)));if((m==="horizontal"||m==="vertical"&&A==="center")&&g!=="middle"&&gn(e[g]))return el(el({},e),{},em({},g,e[g]+(f||0)))}return e},V$=function(e,n,a){return li(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},sP=function(e,n,a,i,s){var c=n.props.children,l=cd(c,Wg).filter(function(o){return V$(i,s,o.props.direction)});if(l&&l.length){var u=l.map(function(o){return o.props.dataKey});return e.reduce(function(o,h){var d=Kl(h,a);if(li(d))return o;var f=Array.isArray(d)?[W2(d),Q2(d)]:[d,d],A=u.reduce(function(g,m){var x=Kl(h,m,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),b=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(A[0],o[0]),Math.max(A[1],o[1])]},[1/0,-1/0])}return null},z$=function(e,n,a,i,s){var c=n.map(function(l){return sP(e,l,a,s,i)}).filter(function(l){return!li(l)});return c&&c.length?c.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},oP=function(e,n,a,i,s){var c=n.map(function(u){var o=u.props.dataKey;return a==="number"&&o&&sP(e,u,o,i)||$0(e,o,a,s)});if(a==="number")return c.reduce(function(u,o){return[Math.min(u[0],o[0]),Math.max(u[1],o[1])]},[1/0,-1/0]);var l={};return c.reduce(function(u,o){for(var h=0,d=o.length;h<d;h++)l[o[h]]||(l[o[h]]=!0,u.push(o[h]));return u},[])},lP=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},cP=function(e,n,a,i){if(i)return e.map(function(u){return u.coordinate});var s,c,l=e.map(function(u){return u.coordinate===n&&(s=!0),u.coordinate===a&&(c=!0),u.coordinate});return s||l.push(n),c||l.push(a),l},uf=function(e,n,a){if(!e)return null;var i=e.scale,s=e.duplicateDomain,c=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(n||a)&&c==="category"&&i.bandwidth?i.bandwidth()/u:0;if(o=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xu(l[0]-l[1])*2*o:o,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var f=s?s.indexOf(d):d;return{coordinate:i(f)+o,value:d,offset:o}});return h.filter(function(d){return!Dg(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+o,value:d,index:f,offset:o}}):i.ticks&&!a?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+o,value:d,offset:o}}):i.domain().map(function(d,f){return{coordinate:i(d)+o,value:s?s[d]:d,index:f,offset:o}})},Hw=new WeakMap,o1=function(e,n){if(typeof n!="function")return e;Hw.has(e)||Hw.set(e,new WeakMap);var a=Hw.get(e);if(a.has(n))return a.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,i),i},uP=function(e,n,a){var i=e.scale,s=e.type,c=e.layout,l=e.axisType;if(i==="auto")return c==="radial"&&l==="radiusAxis"?{scale:sg(),realScaleType:"band"}:c==="radial"&&l==="angleAxis"?{scale:_v(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:W0(),realScaleType:"point"}:s==="category"?{scale:sg(),realScaleType:"band"}:{scale:_v(),realScaleType:"linear"};if(Fg(i)){var u="scale".concat(B2(i));return{scale:(rI[u]||W0)(),realScaleType:rI[u]?u:"point"}}return qa(i)?{scale:i}:{scale:W0(),realScaleType:"point"}},vI=1e-4,dP=function(e){var n=e.domain();if(!(!n||n.length<=2)){var a=n.length,i=e.range(),s=Math.min(i[0],i[1])-vI,c=Math.max(i[0],i[1])+vI,l=e(n[0]),u=e(n[a-1]);(l<s||l>c||u<s||u>c)&&e.domain([n[0],n[a-1]])}},K$=function(e,n){if(!e)return null;for(var a=0,i=e.length;a<i;a++)if(e[a].item===n)return e[a].position;return null},G$=function(e,n){if(!n||n.length!==2||!gn(n[0])||!gn(n[1]))return e;var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!gn(e[0])||e[0]<a)&&(s[0]=a),(!gn(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},q$=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0,l=0;l<n;++l){var u=Dg(e[l][a][1])?e[l][a][0]:e[l][a][1];u>=0?(e[l][a][0]=s,e[l][a][1]=s+u,s=e[l][a][1]):(e[l][a][0]=c,e[l][a][1]=c+u,c=e[l][a][1])}},X$=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0;c<n;++c){var l=Dg(e[c][a][1])?e[c][a][0]:e[c][a][1];l>=0?(e[c][a][0]=s,e[c][a][1]=s+l,s=e[c][a][1]):(e[c][a][0]=0,e[c][a][1]=0)}},Y$={sign:q$,expand:ML,none:tm,silhouette:RL,wiggle:LL,positive:X$},Z$=function(e,n,a){var i=n.map(function(l){return l.props.dataKey}),s=Y$[a],c=DL().keys(i).value(function(l,u){return+Kl(l,u,0)}).order(xC).offset(s);return c(e)},J$=function(e,n,a,i,s,c){if(!e)return null;var l=c?n.reverse():n,u={},o=l.reduce(function(d,f){var A,g=(A=f.type)!==null&&A!==void 0&&A.defaultProps?el(el({},f.type.defaultProps),f.props):f.props,m=g.stackId,x=g.hide;if(x)return d;var y=g[a],b=d[y]||{hasStack:!1,stackGroups:{}};if(ql(m)){var w=b.stackGroups[m]||{numericAxisId:a,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Om("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[f]};return el(el({},d),{},em({},y,b))},u),h={};return Object.keys(o).reduce(function(d,f){var A=o[f];if(A.hasStack){var g={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(m,x){var y=A.stackGroups[x];return el(el({},m),{},em({},x,{numericAxisId:a,cateAxisId:i,items:y.items,stackedData:Z$(e,y.items,s)}))},g)}return el(el({},d),{},em({},f,A))},h)},hP=function(e,n){var a=n.realScaleType,i=n.type,s=n.tickCount,c=n.originalDomain,l=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var o=e.domain();if(!o.length)return null;var h=f$(o,s,l);return e.domain([W2(h),Q2(h)]),{niceTicks:h}}if(s&&i==="number"){var d=e.domain(),f=A$(d,s,l);return{niceTicks:f}}return null};function xI(r){var e=r.axis,n=r.ticks,a=r.bandSize,i=r.entry,s=r.index,c=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!li(i[e.dataKey])){var l=hv(n,"value",i[e.dataKey]);if(l)return l.coordinate+a/2}return n[s]?n[s].coordinate+a/2:null}var u=Kl(i,li(c)?e.dataKey:c);return li(u)?null:e.scale(u)}var yI=function(e){var n=e.axis,a=e.ticks,i=e.offset,s=e.bandSize,c=e.entry,l=e.index;if(n.type==="category")return a[l]?a[l].coordinate+i:null;var u=Kl(c,n.dataKey,n.domain[l]);return li(u)?null:n.scale(u)-s/2+i},eV=function(e){var n=e.numericAxis,a=n.scale.domain();if(n.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},tV=function(e,n){var a,i=(a=e.type)!==null&&a!==void 0&&a.defaultProps?el(el({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(ql(s)){var c=n[s];if(c){var l=c.items.indexOf(e);return l>=0?c.stackedData[l]:null}}return null},rV=function(e){return e.reduce(function(n,a){return[W2(a.concat([n[0]]).filter(gn)),Q2(a.concat([n[1]]).filter(gn))]},[1/0,-1/0])},fP=function(e,n,a){return Object.keys(e).reduce(function(i,s){var c=e[s],l=c.stackedData,u=l.reduce(function(o,h){var d=rV(h.slice(n,a+1));return[Math.min(o[0],d[0]),Math.max(o[1],d[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$C=function(e,n,a){if(qa(e))return e(n,a);if(!Array.isArray(e))return n;var i=[];if(gn(e[0]))i[0]=a?e[0]:Math.min(e[0],n[0]);else if(bI.test(e[0])){var s=+bI.exec(e[0])[1];i[0]=n[0]-s}else qa(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(gn(e[1]))i[1]=a?e[1]:Math.max(e[1],n[1]);else if(wI.test(e[1])){var c=+wI.exec(e[1])[1];i[1]=n[1]+c}else qa(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Rv=function(e,n,a){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!a||i>0)return i}if(e&&n&&n.length>=2){for(var s=pN(n,function(d){return d.coordinate}),c=1/0,l=1,u=s.length;l<u;l++){var o=s[l],h=s[l-1];c=Math.min((o.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},jI=function(e,n,a){return!e||!e.length||Qg(e,ld(a,"type.defaultProps.domain"))?n:e},AP=function(e,n){var a=e.type.defaultProps?el(el({},e.type.defaultProps),e.props):e.props,i=a.dataKey,s=a.name,c=a.unit,l=a.formatter,u=a.tooltipType,o=a.chartType,h=a.hide;return el(el({},_a(e,!1)),{},{dataKey:i,unit:c,formatter:l,name:s||i,color:HN(e),value:Kl(n,i),type:u,payload:n,chartType:o,hide:h})};function pg(r){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function CI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function sf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(a){pP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function pP(r,e,n){return e=nV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nV(r){var e=aV(r,"string");return pg(e)=="symbol"?e:e+""}function aV(r,e){if(pg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function iV(r,e){return cV(r)||lV(r,e)||oV(r,e)||sV()}function sV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oV(r,e){if(r){if(typeof r=="string")return NI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(r,e)}}function NI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function lV(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function cV(r){if(Array.isArray(r))return r}var Lv=Math.PI/180,uV=function(e){return e*180/Math.PI},ao=function(e,n,a,i){return{x:e+Math.cos(-Lv*i)*a,y:n+Math.sin(-Lv*i)*a}},mP=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},dV=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.startAngle,o=e.endAngle,h=yu(e.cx,c,c/2),d=yu(e.cy,l,l/2),f=mP(c,l,a),A=yu(e.innerRadius,f,0),g=yu(e.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(x,y){var b=n[y],w=b.domain,N=b.reversed,S;if(li(b.range))i==="angleAxis"?S=[u,o]:i==="radiusAxis"&&(S=[A,g]),N&&(S=[S[1],S[0]]);else{S=b.range;var j=S,_=iV(j,2);u=_[0],o=_[1]}var P=uP(b,s),Z=P.realScaleType,ee=P.scale;ee.domain(w).range(S),dP(ee);var K=hP(ee,sf(sf({},b),{},{realScaleType:Z})),ae=sf(sf(sf({},b),K),{},{range:S,radius:g,realScaleType:Z,scale:ee,cx:h,cy:d,innerRadius:A,outerRadius:g,startAngle:u,endAngle:o});return sf(sf({},x),{},pP({},y,ae))},{})},hV=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-c,2))},fV=function(e,n){var a=e.x,i=e.y,s=n.cx,c=n.cy,l=hV({x:a,y:i},{x:s,y:c});if(l<=0)return{radius:l};var u=(a-s)/l,o=Math.acos(u);return i>c&&(o=2*Math.PI-o),{radius:l,angle:uV(o),angleInRadian:o}},AV=function(e){var n=e.startAngle,a=e.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return{startAngle:n-c*360,endAngle:a-c*360}},pV=function(e,n){var a=n.startAngle,i=n.endAngle,s=Math.floor(a/360),c=Math.floor(i/360),l=Math.min(s,c);return e+l*360},SI=function(e,n){var a=e.x,i=e.y,s=fV({x:a,y:i},n),c=s.radius,l=s.angle,u=n.innerRadius,o=n.outerRadius;if(c<u||c>o)return!1;if(c===0)return!0;var h=AV(n),d=h.startAngle,f=h.endAngle,A=l,g;if(d<=f){for(;A>f;)A-=360;for(;A<d;)A+=360;g=A>=d&&A<=f}else{for(;A>d;)A-=360;for(;A<f;)A+=360;g=A>=f&&A<=d}return g?sf(sf({},n),{},{radius:c,angle:pV(A,n)}):null},gP=function(e){return!k.isValidElement(e)&&!qa(e)&&typeof e!="boolean"?e.className:""};function mg(r){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}var mV=["offset"];function gV(r){return bV(r)||yV(r)||xV(r)||vV()}function vV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xV(r,e){if(r){if(typeof r=="string")return VC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(r,e)}}function yV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function bV(r){if(Array.isArray(r))return VC(r)}function VC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function wV(r,e){if(r==null)return{};var n=jV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function jV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function BI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Hl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(a){CV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function CV(r,e,n){return e=NV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function NV(r){var e=SV(r,"string");return mg(e)=="symbol"?e:e+""}function SV(r,e){if(mg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gg(){return gg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gg.apply(this,arguments)}var BV=function(e){var n=e.value,a=e.formatter,i=li(e.children)?n:e.children;return qa(a)?a(i):i},EV=function(e,n){var a=xu(n-e),i=Math.min(Math.abs(n-e),360);return a*i},IV=function(e,n,a){var i=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,o=u.cx,h=u.cy,d=u.innerRadius,f=u.outerRadius,A=u.startAngle,g=u.endAngle,m=u.clockWise,x=(d+f)/2,y=EV(A,g),b=y>=0?1:-1,w,N;i==="insideStart"?(w=A+b*c,N=m):i==="insideEnd"?(w=g-b*c,N=!m):i==="end"&&(w=g+b*c,N=m),N=y<=0?N:!N;var S=ao(o,h,x,w),j=ao(o,h,x,w+(N?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),P=li(e.id)?Om("recharts-radial-line-"):e.id;return St.createElement("text",gg({},a,{dominantBaseline:"central",className:gi("recharts-radial-bar-label",l)}),St.createElement("defs",null,St.createElement("path",{id:P,d:_})),St.createElement("textPath",{xlinkHref:"#".concat(P)},n))},TV=function(e){var n=e.viewBox,a=e.offset,i=e.position,s=n,c=s.cx,l=s.cy,u=s.innerRadius,o=s.outerRadius,h=s.startAngle,d=s.endAngle,f=(h+d)/2;if(i==="outside"){var A=ao(c,l,o+a,f),g=A.x,m=A.y;return{x:g,y:m,textAnchor:g>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+o)/2,y=ao(c,l,x,f),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},_V=function(e){var n=e.viewBox,a=e.parentViewBox,i=e.offset,s=e.position,c=n,l=c.x,u=c.y,o=c.width,h=c.height,d=h>=0?1:-1,f=d*i,A=d>0?"end":"start",g=d>0?"start":"end",m=o>=0?1:-1,x=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(s==="top"){var w={x:l+o/2,y:u-d*i,textAnchor:"middle",verticalAnchor:A};return Hl(Hl({},w),a?{height:Math.max(u-a.y,0),width:o}:{})}if(s==="bottom"){var N={x:l+o/2,y:u+h+f,textAnchor:"middle",verticalAnchor:g};return Hl(Hl({},N),a?{height:Math.max(a.y+a.height-(u+h),0),width:o}:{})}if(s==="left"){var S={x:l-x,y:u+h/2,textAnchor:y,verticalAnchor:"middle"};return Hl(Hl({},S),a?{width:Math.max(S.x-a.x,0),height:h}:{})}if(s==="right"){var j={x:l+o+x,y:u+h/2,textAnchor:b,verticalAnchor:"middle"};return Hl(Hl({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:h}:{})}var _=a?{width:o,height:h}:{};return s==="insideLeft"?Hl({x:l+x,y:u+h/2,textAnchor:b,verticalAnchor:"middle"},_):s==="insideRight"?Hl({x:l+o-x,y:u+h/2,textAnchor:y,verticalAnchor:"middle"},_):s==="insideTop"?Hl({x:l+o/2,y:u+f,textAnchor:"middle",verticalAnchor:g},_):s==="insideBottom"?Hl({x:l+o/2,y:u+h-f,textAnchor:"middle",verticalAnchor:A},_):s==="insideTopLeft"?Hl({x:l+x,y:u+f,textAnchor:b,verticalAnchor:g},_):s==="insideTopRight"?Hl({x:l+o-x,y:u+f,textAnchor:y,verticalAnchor:g},_):s==="insideBottomLeft"?Hl({x:l+x,y:u+h-f,textAnchor:b,verticalAnchor:A},_):s==="insideBottomRight"?Hl({x:l+o-x,y:u+h-f,textAnchor:y,verticalAnchor:A},_):_m(s)&&(gn(s.x)||KA(s.x))&&(gn(s.y)||KA(s.y))?Hl({x:l+yu(s.x,o),y:u+yu(s.y,h),textAnchor:"end",verticalAnchor:"end"},_):Hl({x:l+o/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},_)},OV=function(e){return"cx"in e&&gn(e.cx)};function xc(r){var e=r.offset,n=e===void 0?5:e,a=wV(r,mV),i=Hl({offset:n},a),s=i.viewBox,c=i.position,l=i.value,u=i.children,o=i.content,h=i.className,d=h===void 0?"":h,f=i.textBreakAll;if(!s||li(l)&&li(u)&&!k.isValidElement(o)&&!qa(o))return null;if(k.isValidElement(o))return k.cloneElement(o,i);var A;if(qa(o)){if(A=k.createElement(o,i),k.isValidElement(A))return A}else A=BV(i);var g=OV(s),m=_a(i,!0);if(g&&(c==="insideStart"||c==="insideEnd"||c==="end"))return IV(i,A,m);var x=g?TV(i):_V(i);return St.createElement(ap,gg({className:gi("recharts-label",d)},m,x,{breakAll:f}),A)}xc.displayName="Label";var vP=function(e){var n=e.cx,a=e.cy,i=e.angle,s=e.startAngle,c=e.endAngle,l=e.r,u=e.radius,o=e.innerRadius,h=e.outerRadius,d=e.x,f=e.y,A=e.top,g=e.left,m=e.width,x=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(gn(m)&&gn(x)){if(gn(d)&&gn(f))return{x:d,y:f,width:m,height:x};if(gn(A)&&gn(g))return{x:A,y:g,width:m,height:x}}return gn(d)&&gn(f)?{x:d,y:f,width:0,height:0}:gn(n)&&gn(a)?{cx:n,cy:a,startAngle:s||i||0,endAngle:c||i||0,innerRadius:o||0,outerRadius:h||u||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},kV=function(e,n){return e?e===!0?St.createElement(xc,{key:"label-implicit",viewBox:n}):ql(e)?St.createElement(xc,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===xc?k.cloneElement(e,{key:"label-implicit",viewBox:n}):St.createElement(xc,{key:"label-implicit",content:e,viewBox:n}):qa(e)?St.createElement(xc,{key:"label-implicit",content:e,viewBox:n}):_m(e)?St.createElement(xc,gg({viewBox:n},e,{key:"label-implicit"})):null:null},PV=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var i=e.children,s=vP(e),c=cd(i,xc).map(function(u,o){return k.cloneElement(u,{viewBox:n||s,key:"label-".concat(o)})});if(!a)return c;var l=kV(e.label,n||s);return[l].concat(gV(c))};xc.parseViewBox=vP;xc.renderCallByParent=PV;var Qw,EI;function FV(){if(EI)return Qw;EI=1;function r(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Qw=r,Qw}var DV=FV();const MV=Ji(DV);function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}var RV=["valueAccessor"],LV=["data","dataKey","clockWise","id","textBreakAll"];function UV(r){return $V(r)||WV(r)||QV(r)||HV()}function HV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(r,e){if(r){if(typeof r=="string")return zC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(r,e)}}function WV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function $V(r){if(Array.isArray(r))return zC(r)}function zC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function Uv(){return Uv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Uv.apply(this,arguments)}function II(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function TI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(a){VV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function VV(r,e,n){return e=zV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function zV(r){var e=KV(r,"string");return vg(e)=="symbol"?e:e+""}function KV(r,e){if(vg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _I(r,e){if(r==null)return{};var n=GV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function GV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var qV=function(e){return Array.isArray(e.value)?MV(e.value):e.value};function Af(r){var e=r.valueAccessor,n=e===void 0?qV:e,a=_I(r,RV),i=a.data,s=a.dataKey,c=a.clockWise,l=a.id,u=a.textBreakAll,o=_I(a,LV);return!i||!i.length?null:St.createElement(ss,{className:"recharts-label-list"},i.map(function(h,d){var f=li(s)?n(h,d):Kl(h&&h.payload,s),A=li(l)?{}:{id:"".concat(l,"-").concat(d)};return St.createElement(xc,Uv({},_a(h,!0),o,A,{parentViewBox:h.parentViewBox,value:f,textBreakAll:u,viewBox:xc.parseViewBox(li(c)?h:TI(TI({},h),{},{clockWise:c})),key:"label-".concat(d),index:d}))}))}Af.displayName="LabelList";function XV(r,e){return r?r===!0?St.createElement(Af,{key:"labelList-implicit",data:e}):St.isValidElement(r)||qa(r)?St.createElement(Af,{key:"labelList-implicit",data:e,content:r}):_m(r)?St.createElement(Af,Uv({data:e},r,{key:"labelList-implicit"})):null:null}function YV(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,i=cd(a,Af).map(function(c,l){return k.cloneElement(c,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=XV(r.label,e);return[s].concat(UV(i))}Af.renderCallByParent=YV;function xg(r){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(r)}function KC(){return KC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},KC.apply(this,arguments)}function OI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(a){ZV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function ZV(r,e,n){return e=JV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function JV(r){var e=ez(r,"string");return xg(e)=="symbol"?e:e+""}function ez(r,e){if(xg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(xg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var tz=function(e,n){var a=xu(n-e),i=Math.min(Math.abs(n-e),359.999);return a*i},l1=function(e){var n=e.cx,a=e.cy,i=e.radius,s=e.angle,c=e.sign,l=e.isExternal,u=e.cornerRadius,o=e.cornerIsExternal,h=u*(l?1:-1)+i,d=Math.asin(u/h)/Lv,f=o?s:s+c*d,A=ao(n,a,h,f),g=ao(n,a,i,f),m=o?s-c*d:s,x=ao(n,a,h*Math.cos(d*Lv),m);return{center:A,circleTangency:g,lineTangency:x,theta:d}},xP=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.startAngle,l=e.endAngle,u=tz(c,l),o=c+u,h=ao(n,a,s,c),d=ao(n,a,s,o),f="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(c>o),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var A=ao(n,a,i,c),g=ao(n,a,i,o);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(c<=o),`,
            `).concat(A.x,",").concat(A.y," Z")}else f+="L ".concat(n,",").concat(a," Z");return f},rz=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,o=e.startAngle,h=e.endAngle,d=xu(h-o),f=l1({cx:n,cy:a,radius:s,angle:o,sign:d,cornerRadius:c,cornerIsExternal:u}),A=f.circleTangency,g=f.lineTangency,m=f.theta,x=l1({cx:n,cy:a,radius:s,angle:h,sign:-d,cornerRadius:c,cornerIsExternal:u}),y=x.circleTangency,b=x.lineTangency,w=x.theta,N=u?Math.abs(o-h):Math.abs(o-h)-m-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):xP({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:h});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=l1({cx:n,cy:a,radius:i,angle:o,sign:d,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),_=j.circleTangency,P=j.lineTangency,Z=j.theta,ee=l1({cx:n,cy:a,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),K=ee.circleTangency,ae=ee.lineTangency,D=ee.theta,q=u?Math.abs(o-h):Math.abs(o-h)-Z-D;if(q<0&&c===0)return"".concat(S,"L").concat(n,",").concat(a,"Z");S+="L".concat(ae.x,",").concat(ae.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(n,",").concat(a,"Z");return S},nz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yP=function(e){var n=kI(kI({},nz),e),a=n.cx,i=n.cy,s=n.innerRadius,c=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,o=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,f=n.className;if(c<s||h===d)return null;var A=gi("recharts-sector",f),g=c-s,m=yu(l,g,0,!0),x;return m>0&&Math.abs(h-d)<360?x=rz({cx:a,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(m,g/2),forceCornerRadius:u,cornerIsExternal:o,startAngle:h,endAngle:d}):x=xP({cx:a,cy:i,innerRadius:s,outerRadius:c,startAngle:h,endAngle:d}),St.createElement("path",KC({},_a(n,!0),{className:A,d:x,role:"img"}))};function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}function GC(){return GC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},GC.apply(this,arguments)}function PI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function FI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(a){az(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function az(r,e,n){return e=iz(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iz(r){var e=sz(r,"string");return yg(e)=="symbol"?e:e+""}function sz(r,e){if(yg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var DI={curveBasisClosed:NL,curveBasisOpen:SL,curveBasis:CL,curveBumpX:uL,curveBumpY:dL,curveLinearClosed:BL,curveLinear:I2,curveMonotoneX:EL,curveMonotoneY:IL,curveNatural:TL,curveStep:_L,curveStepAfter:kL,curveStepBefore:OL},c1=function(e){return e.x===+e.x&&e.y===+e.y},Xm=function(e){return e.x},Ym=function(e){return e.y},oz=function(e,n){if(qa(e))return e;var a="curve".concat(B2(e));return(a==="curveMonotone"||a==="curveBump")&&n?DI["".concat(a).concat(n==="vertical"?"Y":"X")]:DI[a]||I2},lz=function(e){var n=e.type,a=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,c=e.baseLine,l=e.layout,u=e.connectNulls,o=u===void 0?!1:u,h=oz(a,l),d=o?s.filter(function(m){return c1(m)}):s,f;if(Array.isArray(c)){var A=o?c.filter(function(m){return c1(m)}):c,g=d.map(function(m,x){return FI(FI({},m),{},{base:A[x]})});return l==="vertical"?f=e1().y(Ym).x1(Xm).x0(function(m){return m.base.x}):f=e1().x(Xm).y1(Ym).y0(function(m){return m.base.y}),f.defined(c1).curve(h),f(g)}return l==="vertical"&&gn(c)?f=e1().y(Ym).x1(Xm).x0(c):gn(c)?f=e1().x(Xm).y1(Ym).y0(c):f=xO().x(Xm).y(Ym),f.defined(c1).curve(h),f(d)},Hv=function(e){var n=e.className,a=e.points,i=e.path,s=e.pathRef;if((!a||!a.length)&&!i)return null;var c=a&&a.length?lz(e):i;return St.createElement("path",GC({},_a(e,!1),fv(e),{className:gi("recharts-curve",n),d:c,ref:s}))},Ww={exports:{}},$w,MI;function cz(){if(MI)return $w;MI=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $w=r,$w}var Vw,RI;function uz(){if(RI)return Vw;RI=1;var r=cz();function e(){}function n(){}return n.resetWarningCache=e,Vw=function(){function a(c,l,u,o,h,d){if(d!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Vw}var LI;function dz(){return LI||(LI=1,Ww.exports=uz()()),Ww.exports}var hz=dz();const Ns=Ji(hz),{getOwnPropertyNames:fz,getOwnPropertySymbols:Az}=Object,{hasOwnProperty:pz}=Object.prototype;function zw(r,e){return function(a,i,s){return r(a,i,s)&&e(a,i,s)}}function u1(r){return function(n,a,i){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,i);const{cache:s}=i,c=s.get(n),l=s.get(a);if(c&&l)return c===a&&l===n;s.set(n,a),s.set(a,n);const u=r(n,a,i);return s.delete(n),s.delete(a),u}}function mz(r){return r!=null?r[Symbol.toStringTag]:void 0}function UI(r){return fz(r).concat(Az(r))}const gz=Object.hasOwn||((r,e)=>pz.call(r,e));function hp(r,e){return r===e||!r&&!e&&r!==r&&e!==e}const vz="__v",xz="__o",yz="_owner",{getOwnPropertyDescriptor:HI,keys:QI}=Object;function bz(r,e){return r.byteLength===e.byteLength&&Qv(new Uint8Array(r),new Uint8Array(e))}function wz(r,e,n){let a=r.length;if(e.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],e[a],a,a,r,e,n))return!1;return!0}function jz(r,e){return r.byteLength===e.byteLength&&Qv(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Cz(r,e){return hp(r.getTime(),e.getTime())}function Nz(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function Sz(r,e){return r===e}function WI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.entries();let c,l,u=0;for(;(c=s.next())&&!c.done;){const o=e.entries();let h=!1,d=0;for(;(l=o.next())&&!l.done;){if(i[d]){d++;continue}const f=c.value,A=l.value;if(n.equals(f[0],A[0],u,d,r,e,n)&&n.equals(f[1],A[1],f[0],A[0],r,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;u++}return!0}const Bz=hp;function Ez(r,e,n){const a=QI(r);let i=a.length;if(QI(e).length!==i)return!1;for(;i-- >0;)if(!bP(r,e,n,a[i]))return!1;return!0}function Zm(r,e,n){const a=UI(r);let i=a.length;if(UI(e).length!==i)return!1;let s,c,l;for(;i-- >0;)if(s=a[i],!bP(r,e,n,s)||(c=HI(r,s),l=HI(e,s),(c||l)&&(!c||!l||c.configurable!==l.configurable||c.enumerable!==l.enumerable||c.writable!==l.writable)))return!1;return!0}function Iz(r,e){return hp(r.valueOf(),e.valueOf())}function Tz(r,e){return r.source===e.source&&r.flags===e.flags}function $I(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.values();let c,l;for(;(c=s.next())&&!c.done;){const u=e.values();let o=!1,h=0;for(;(l=u.next())&&!l.done;){if(!i[h]&&n.equals(c.value,l.value,c.value,l.value,r,e,n)){o=i[h]=!0;break}h++}if(!o)return!1}return!0}function Qv(r,e){let n=r.byteLength;if(e.byteLength!==n||r.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(r[n]!==e[n])return!1;return!0}function _z(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function bP(r,e,n,a){return(a===yz||a===xz||a===vz)&&(r.$$typeof||e.$$typeof)?!0:gz(e,a)&&n.equals(r[a],e[a],a,a,r,e,n)}const Oz="[object ArrayBuffer]",kz="[object Arguments]",Pz="[object Boolean]",Fz="[object DataView]",Dz="[object Date]",Mz="[object Error]",Rz="[object Map]",Lz="[object Number]",Uz="[object Object]",Hz="[object RegExp]",Qz="[object Set]",Wz="[object String]",$z={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Vz="[object URL]",zz=Object.prototype.toString;function Kz({areArrayBuffersEqual:r,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:o,areRegExpsEqual:h,areSetsEqual:d,areTypedArraysEqual:f,areUrlsEqual:A,unknownTagComparators:g}){return function(x,y,b){if(x===y)return!0;if(x==null||y==null)return!1;const w=typeof x;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(x,y,b):w==="function"?s(x,y,b):!1;const N=x.constructor;if(N!==y.constructor)return!1;if(N===Object)return u(x,y,b);if(Array.isArray(x))return e(x,y,b);if(N===Date)return a(x,y,b);if(N===RegExp)return h(x,y,b);if(N===Map)return c(x,y,b);if(N===Set)return d(x,y,b);const S=zz.call(x);if(S===Dz)return a(x,y,b);if(S===Hz)return h(x,y,b);if(S===Rz)return c(x,y,b);if(S===Qz)return d(x,y,b);if(S===Uz)return typeof x.then!="function"&&typeof y.then!="function"&&u(x,y,b);if(S===Vz)return A(x,y,b);if(S===Mz)return i(x,y,b);if(S===kz)return u(x,y,b);if($z[S])return f(x,y,b);if(S===Oz)return r(x,y,b);if(S===Fz)return n(x,y,b);if(S===Pz||S===Lz||S===Wz)return o(x,y,b);if(g){let j=g[S];if(!j){const _=mz(x);_&&(j=g[_])}if(j)return j(x,y,b)}return!1}}function Gz({circular:r,createCustomConfig:e,strict:n}){let a={areArrayBuffersEqual:bz,areArraysEqual:n?Zm:wz,areDataViewsEqual:jz,areDatesEqual:Cz,areErrorsEqual:Nz,areFunctionsEqual:Sz,areMapsEqual:n?zw(WI,Zm):WI,areNumbersEqual:Bz,areObjectsEqual:n?Zm:Ez,arePrimitiveWrappersEqual:Iz,areRegExpsEqual:Tz,areSetsEqual:n?zw($I,Zm):$I,areTypedArraysEqual:n?zw(Qv,Zm):Qv,areUrlsEqual:_z,unknownTagComparators:void 0};if(e&&(a=Object.assign({},a,e(a))),r){const i=u1(a.areArraysEqual),s=u1(a.areMapsEqual),c=u1(a.areObjectsEqual),l=u1(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:l})}return a}function qz(r){return function(e,n,a,i,s,c,l){return r(e,n,l)}}function Xz({circular:r,comparator:e,createState:n,equals:a,strict:i}){if(n)return function(l,u){const{cache:o=r?new WeakMap:void 0,meta:h}=n();return e(l,u,{cache:o,equals:a,meta:h,strict:i})};if(r)return function(l,u){return e(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};const s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return e(l,u,s)}}const Yz=AA();AA({strict:!0});AA({circular:!0});AA({circular:!0,strict:!0});AA({createInternalComparator:()=>hp});AA({strict:!0,createInternalComparator:()=>hp});AA({circular:!0,createInternalComparator:()=>hp});AA({circular:!0,createInternalComparator:()=>hp,strict:!0});function AA(r={}){const{circular:e=!1,createInternalComparator:n,createState:a,strict:i=!1}=r,s=Gz(r),c=Kz(s),l=n?n(c):qz(c);return Xz({circular:e,comparator:c,createState:a,equals:l,strict:i})}function Zz(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function VI(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function i(s){n<0&&(n=s),s-n>e?(r(s),n=-1):Zz(i)};requestAnimationFrame(a)}function qC(r){"@babel/helpers - typeof";return qC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qC(r)}function Jz(r){return nK(r)||rK(r)||tK(r)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(r,e){if(r){if(typeof r=="string")return zI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(r,e)}}function zI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function rK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function nK(r){if(Array.isArray(r))return r}function aK(){var r={},e=function(){return null},n=!1,a=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,l=Jz(c),u=l[0],o=l.slice(1);if(typeof u=="number"){VI(i.bind(null,o),u);return}i(u),VI(i.bind(null,o));return}qC(s)==="object"&&(r=s,e(r)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,a(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function bg(r){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(r)}function KI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function GI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(a){wP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function wP(r,e,n){return e=iK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iK(r){var e=sK(r,"string");return bg(e)==="symbol"?e:String(e)}function sK(r,e){if(bg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var oK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},lK=function(e){return e},cK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},V0=function(e,n){return Object.keys(n).reduce(function(a,i){return GI(GI({},a),{},wP({},i,e(i,n[i])))},{})},qI=function(e,n,a){return e.map(function(i){return"".concat(cK(i)," ").concat(n,"ms ").concat(a)}).join(",")};function uK(r,e){return fK(r)||hK(r,e)||jP(r,e)||dK()}function dK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function fK(r){if(Array.isArray(r))return r}function AK(r){return gK(r)||mK(r)||jP(r)||pK()}function pK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jP(r,e){if(r){if(typeof r=="string")return XC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(r,e)}}function mK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function gK(r){if(Array.isArray(r))return XC(r)}function XC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var Wv=1e-4,CP=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},NP=function(e,n){return e.map(function(a,i){return a*Math.pow(n,i)}).reduce(function(a,i){return a+i})},XI=function(e,n){return function(a){var i=CP(e,n);return NP(i,a)}},vK=function(e,n){return function(a){var i=CP(e,n),s=[].concat(AK(i.map(function(c,l){return c*l}).slice(1)),[0]);return NP(s,a)}},YI=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0],s=n[1],c=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,c=1,l=1;break;case"ease":i=.25,s=.1,c=.25,l=1;break;case"ease-in":i=.42,s=0,c=1,l=1;break;case"ease-out":i=.42,s=0,c=.58,l=1;break;case"ease-in-out":i=0,s=0,c=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var o=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=uK(o,4);i=h[0],s=h[1],c=h[2],l=h[3]}}}var d=XI(i,c),f=XI(s,l),A=vK(i,c),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,N=0;N<8;++N){var S=d(w)-b,j=A(w);if(Math.abs(S-b)<Wv||j<Wv)return f(w);w=g(w-S/j)}return f(w)};return m.isStepper=!1,m},xK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,a=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,c=e.dt,l=c===void 0?17:c,u=function(h,d,f){var A=-(h-d)*a,g=f*s,m=f+(A-g)*l/1e3,x=f*l/1e3+h;return Math.abs(x-d)<Wv&&Math.abs(m)<Wv?[d,0]:[x,m]};return u.isStepper=!0,u.dt=l,u},yK=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YI(i);case"spring":return xK();default:if(i.split("(")[0]==="cubic-bezier")return YI(i)}return typeof i=="function"?i:null};function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}function ZI(r){return jK(r)||wK(r)||SP(r)||bK()}function bK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jK(r){if(Array.isArray(r))return ZC(r)}function JI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Mc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(a){YC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function YC(r,e,n){return e=CK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function CK(r){var e=NK(r,"string");return wg(e)==="symbol"?e:String(e)}function NK(r,e){if(wg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(wg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function SK(r,e){return IK(r)||EK(r,e)||SP(r,e)||BK()}function BK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(r,e){if(r){if(typeof r=="string")return ZC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(r,e)}}function ZC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function EK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function IK(r){if(Array.isArray(r))return r}var $v=function(e,n,a){return e+(n-e)*a},JC=function(e){var n=e.from,a=e.to;return n!==a},TK=function r(e,n,a){var i=V0(function(s,c){if(JC(c)){var l=e(c.from,c.to,c.velocity),u=SK(l,2),o=u[0],h=u[1];return Mc(Mc({},c),{},{from:o,velocity:h})}return c},n);return a<1?V0(function(s,c){return JC(c)?Mc(Mc({},c),{},{velocity:$v(c.velocity,i[s].velocity,a),from:$v(c.from,i[s].from,a)}):c},n):r(e,i,a-1)};const _K=(function(r,e,n,a,i){var s=oK(r,e),c=s.reduce(function(x,y){return Mc(Mc({},x),{},YC({},y,[r[y],e[y]]))},{}),l=s.reduce(function(x,y){return Mc(Mc({},x),{},YC({},y,{from:r[y],velocity:0,to:e[y]}))},{}),u=-1,o,h,d=function(){return null},f=function(){return V0(function(y,b){return b.from},l)},A=function(){return!Object.values(l).filter(JC).length},g=function(y){o||(o=y);var b=y-o,w=b/n.dt;l=TK(n,l,w),i(Mc(Mc(Mc({},r),e),f())),o=y,A()||(u=requestAnimationFrame(d))},m=function(y){h||(h=y);var b=(y-h)/a,w=V0(function(S,j){return $v.apply(void 0,ZI(j).concat([n(b)]))},c);if(i(Mc(Mc(Mc({},r),e),w)),b<1)u=requestAnimationFrame(d);else{var N=V0(function(S,j){return $v.apply(void 0,ZI(j).concat([n(1)]))},c);i(Mc(Mc(Mc({},r),e),N))}};return d=n.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(u)}}});function um(r){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(r)}var OK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kK(r,e){if(r==null)return{};var n=PK(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function PK(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function Kw(r){return RK(r)||MK(r)||DK(r)||FK()}function FK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(r,e){if(r){if(typeof r=="string")return e4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e4(r,e)}}function MK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function RK(r){if(Array.isArray(r))return e4(r)}function e4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function e8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function nh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(n),!0).forEach(function(a){O0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function O0(r,e,n){return e=BP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function LK(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,BP(a.key),a)}}function HK(r,e,n){return e&&UK(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function BP(r){var e=QK(r,"string");return um(e)==="symbol"?e:String(e)}function QK(r,e){if(um(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(um(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function WK(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&t4(r,e)}function t4(r,e){return t4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},t4(r,e)}function $K(r){var e=VK();return function(){var a=Vv(r),i;if(e){var s=Vv(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return r4(this,i)}}function r4(r,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4(r)}function n4(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vv(r){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(r)}var kh=(function(r){WK(n,r);var e=$K(n);function n(a,i){var s;LK(this,n),s=e.call(this,a,i);var c=s.props,l=c.isActive,u=c.attributeName,o=c.from,h=c.to,d=c.steps,f=c.children,A=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(n4(s)),s.changeStyle=s.changeStyle.bind(n4(s)),!l||A<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:h}),r4(s);if(d&&d.length)s.state={style:d[0].style};else if(o){if(typeof f=="function")return s.state={style:o},r4(s);s.state={style:u?O0({},u,o):o}}else s.state={style:{}};return s}return HK(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,c=i.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,c=s.isActive,l=s.canBegin,u=s.attributeName,o=s.shouldReAnimate,h=s.to,d=s.from,f=this.state.style;if(l){if(!c){var A={style:u?O0({},u,h):h};this.state&&f&&(u&&f[u]!==h||!u&&f!==h)&&this.setState(A);return}if(!(Yz(i.to,h)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||o?d:i.to;if(this.state&&f){var x={style:u?O0({},u,m):m};(u&&f[u]!==m||!u&&f!==m)&&this.setState(x)}this.runAnimation(nh(nh({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,c=i.from,l=i.to,u=i.duration,o=i.easing,h=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,A=_K(c,l,yK(o),u,this.changeStyle),g=function(){s.stopJSAnimation=A()};this.manager.start([f,h,g,u,d])}},{key:"runStepAnimation",value:function(i){var s=this,c=i.steps,l=i.begin,u=i.onAnimationStart,o=c[0],h=o.style,d=o.duration,f=d===void 0?0:d,A=function(m,x,y){if(y===0)return m;var b=x.duration,w=x.easing,N=w===void 0?"ease":w,S=x.style,j=x.properties,_=x.onAnimationEnd,P=y>0?c[y-1]:x,Z=j||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(Kw(m),[s.runJSAnimation.bind(s,{from:P.style,to:S,duration:b,easing:N}),b]);var ee=qI(Z,b,N),K=nh(nh(nh({},P.style),S),{},{transition:ee});return[].concat(Kw(m),[K,b,_]).filter(lK)};return this.manager.start([u].concat(Kw(c.reduce(A,[h,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aK());var s=i.begin,c=i.duration,l=i.attributeName,u=i.to,o=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,A=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof o=="function"||typeof A=="function"||o==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=l?O0({},l,u):u,x=qI(Object.keys(m),c,o);g.start([h,s,nh(nh({},m),{},{transition:x}),c,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=kK(i,OK),o=k.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||o===0||c<=0)return s;var d=function(A){var g=A.props,m=g.style,x=m===void 0?{}:m,y=g.className,b=k.cloneElement(A,nh(nh({},u),{},{style:nh(nh({},x),h),className:y}));return b};return o===1?d(k.Children.only(s)):St.createElement("div",null,k.Children.map(s,function(f){return d(f)}))}}]),n})(k.PureComponent);kh.displayName="Animate";kh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kh.propTypes={from:Ns.oneOfType([Ns.object,Ns.string]),to:Ns.oneOfType([Ns.object,Ns.string]),attributeName:Ns.string,duration:Ns.number,begin:Ns.number,easing:Ns.oneOfType([Ns.string,Ns.func]),steps:Ns.arrayOf(Ns.shape({duration:Ns.number.isRequired,style:Ns.object.isRequired,easing:Ns.oneOfType([Ns.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ns.func]),properties:Ns.arrayOf("string"),onAnimationEnd:Ns.func})),children:Ns.oneOfType([Ns.node,Ns.func]),isActive:Ns.bool,canBegin:Ns.bool,onAnimationEnd:Ns.func,shouldReAnimate:Ns.bool,onAnimationStart:Ns.func,onAnimationReStart:Ns.func};function jg(r){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(r)}function zv(){return zv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},zv.apply(this,arguments)}function zK(r,e){return XK(r)||qK(r,e)||GK(r,e)||KK()}function KK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GK(r,e){if(r){if(typeof r=="string")return t8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t8(r,e)}}function t8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function qK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function XK(r){if(Array.isArray(r))return r}function r8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function n8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(n),!0).forEach(function(a){YK(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function YK(r,e,n){return e=ZK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZK(r){var e=JK(r,"string");return jg(e)=="symbol"?e:e+""}function JK(r,e){if(jg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var a8=function(e,n,a,i,s){var c=Math.min(Math.abs(a)/2,Math.abs(i)/2),l=i>=0?1:-1,u=a>=0?1:-1,o=i>=0&&a>=0||i<0&&a<0?1:0,h;if(c>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,A=4;f<A;f++)d[f]=s[f]>c?c:s[f];h="M".concat(e,",").concat(n+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(o,",").concat(e+u*d[0],",").concat(n)),h+="L ".concat(e+a-u*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(o,`,
        `).concat(e+a,",").concat(n+l*d[1])),h+="L ".concat(e+a,",").concat(n+i-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(o,`,
        `).concat(e+a-u*d[2],",").concat(n+i)),h+="L ".concat(e+u*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(o,`,
        `).concat(e,",").concat(n+i-l*d[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var g=Math.min(c,s);h="M ".concat(e,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+u*g,",").concat(n,`
            L `).concat(e+a-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a,",").concat(n+l*g,`
            L `).concat(e+a,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a-u*g,",").concat(n+i,`
            L `).concat(e+u*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e,",").concat(n+i-l*g," Z")}else h="M ".concat(e,",").concat(n," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return h},eG=function(e,n){if(!e||!n)return!1;var a=e.x,i=e.y,s=n.x,c=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var o=Math.min(s,s+l),h=Math.max(s,s+l),d=Math.min(c,c+u),f=Math.max(c,c+u);return a>=o&&a<=h&&i>=d&&i<=f}return!1},tG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QN=function(e){var n=n8(n8({},tG),e),a=k.useRef(),i=k.useState(-1),s=zK(i,2),c=s[0],l=s[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var u=n.x,o=n.y,h=n.width,d=n.height,f=n.radius,A=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(u!==+u||o!==+o||h!==+h||d!==+d||h===0||d===0)return null;var w=gi("recharts-rectangle",A);return b?St.createElement(kh,{canBegin:c>0,from:{width:h,height:d,x:u,y:o},to:{width:h,height:d,x:u,y:o},duration:m,animationEasing:g,isActive:b},function(N){var S=N.width,j=N.height,_=N.x,P=N.y;return St.createElement(kh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:y,easing:g},St.createElement("path",zv({},_a(n,!0),{className:w,d:a8(_,P,S,j,f),ref:a})))}):St.createElement("path",zv({},_a(n,!0),{className:w,d:a8(u,o,h,d,f)}))},rG=["points","className","baseLinePoints","connectNulls"];function Hp(){return Hp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Hp.apply(this,arguments)}function nG(r,e){if(r==null)return{};var n=aG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function aG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function i8(r){return lG(r)||oG(r)||sG(r)||iG()}function iG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(r,e){if(r){if(typeof r=="string")return a4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a4(r,e)}}function oG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function lG(r){if(Array.isArray(r))return a4(r)}function a4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var s8=function(e){return e&&e.x===+e.x&&e.y===+e.y},cG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(a){s8(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),s8(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},z0=function(e,n){var a=cG(e);n&&(a=[a.reduce(function(s,c){return[].concat(i8(s),i8(c))},[])]);var i=a.map(function(s){return s.reduce(function(c,l,u){return"".concat(c).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(i,"Z"):i},uG=function(e,n,a){var i=z0(e,a);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(z0(n.reverse(),a).slice(1))},dG=function(e){var n=e.points,a=e.className,i=e.baseLinePoints,s=e.connectNulls,c=nG(e,rG);if(!n||!n.length)return null;var l=gi("recharts-polygon",a);if(i&&i.length){var u=c.stroke&&c.stroke!=="none",o=uG(n,i,s);return St.createElement("g",{className:l},St.createElement("path",Hp({},_a(c,!0),{fill:o.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:o})),u?St.createElement("path",Hp({},_a(c,!0),{fill:"none",d:z0(n,s)})):null,u?St.createElement("path",Hp({},_a(c,!0),{fill:"none",d:z0(i,s)})):null)}var h=z0(n,s);return St.createElement("path",Hp({},_a(c,!0),{fill:h.slice(-1)==="Z"?c.fill:"none",className:l,d:h}))};function i4(){return i4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},i4.apply(this,arguments)}var z2=function(e){var n=e.cx,a=e.cy,i=e.r,s=e.className,c=gi("recharts-dot",s);return n===+n&&a===+a&&i===+i?St.createElement("circle",i4({},_a(e,!1),fv(e),{className:c,cx:n,cy:a,r:i})):null};function Cg(r){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(r)}var hG=["x","y","top","left","width","height","className"];function s4(){return s4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},s4.apply(this,arguments)}function o8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function fG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(n),!0).forEach(function(a){AG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function AG(r,e,n){return e=pG(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function pG(r){var e=mG(r,"string");return Cg(e)=="symbol"?e:e+""}function mG(r,e){if(Cg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Cg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gG(r,e){if(r==null)return{};var n=vG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function vG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var xG=function(e,n,a,i,s,c){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(a)},yG=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.top,l=c===void 0?0:c,u=e.left,o=u===void 0?0:u,h=e.width,d=h===void 0?0:h,f=e.height,A=f===void 0?0:f,g=e.className,m=gG(e,hG),x=fG({x:a,y:s,top:l,left:o,width:d,height:A},m);return!gn(a)||!gn(s)||!gn(d)||!gn(A)||!gn(l)||!gn(o)?null:St.createElement("path",s4({},_a(x,!0),{className:gi("recharts-cross",g),d:xG(a,s,d,A,l,o)}))},Gw,l8;function bG(){if(l8)return Gw;l8=1;var r=H2(),e=Qk(),n=Dh();function a(i,s){return i&&i.length?r(i,n(s,2),e):void 0}return Gw=a,Gw}var wG=bG();const jG=Ji(wG);var qw,c8;function CG(){if(c8)return qw;c8=1;var r=H2(),e=Dh(),n=Wk();function a(i,s){return i&&i.length?r(i,e(s,2),n):void 0}return qw=a,qw}var NG=CG();const SG=Ji(NG);var BG=["cx","cy","angle","ticks","axisLine"],EG=["ticks","tick","angle","tickFormatter","stroke"];function dm(r){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(r)}function K0(){return K0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},K0.apply(this,arguments)}function u8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function OA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(n),!0).forEach(function(a){K2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function d8(r,e){if(r==null)return{};var n=IG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function IG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function TG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function h8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,IP(a.key),a)}}function _G(r,e,n){return e&&h8(r.prototype,e),n&&h8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function OG(r,e,n){return e=Kv(e),kG(r,EP()?Reflect.construct(e,n||[],Kv(r).constructor):e.apply(r,n))}function kG(r,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PG(r)}function PG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!r})()}function Kv(r){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(r)}function FG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&o4(r,e)}function o4(r,e){return o4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},o4(r,e)}function K2(r,e,n){return e=IP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function IP(r){var e=DG(r,"string");return dm(e)=="symbol"?e:e+""}function DG(r,e){if(dm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var G2=(function(r){function e(){return TG(this,e),OG(this,e,arguments)}return FG(e,r),_G(e,[{key:"getTickValueCoord",value:function(a){var i=a.coordinate,s=this.props,c=s.angle,l=s.cx,u=s.cy;return ao(l,u,i,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,i;switch(a){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=jG(l,function(h){return h.coordinate||0}),o=SG(l,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:c,endAngle:c,innerRadius:o.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=a.axisLine,o=d8(a,BG),h=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=ao(i,s,h[0],c),f=ao(i,s,h[1],c),A=OA(OA(OA({},_a(o,!1)),{},{fill:"none"},_a(u,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return St.createElement("line",K0({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.angle,u=i.tickFormatter,o=i.stroke,h=d8(i,EG),d=this.getTickTextAnchor(),f=_a(h,!1),A=_a(c,!1),g=s.map(function(m,x){var y=a.getTickValueCoord(m),b=OA(OA(OA(OA({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:o},A),{},{index:x},y),{},{payload:m});return St.createElement(ss,K0({className:gi("recharts-polar-radius-axis-tick",gP(c)),key:"tick-".concat(m.coordinate)},np(a.props,m,x)),e.renderTickItem(c,b,u?u(m.value,x):m.value))});return St.createElement(ss,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.axisLine,c=a.tick;return!i||!i.length?null:St.createElement(ss,{className:gi("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),xc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return St.isValidElement(a)?c=St.cloneElement(a,i):qa(a)?c=a(i):c=St.createElement(ap,K0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(k.PureComponent);K2(G2,"displayName","PolarRadiusAxis");K2(G2,"axisType","radiusAxis");K2(G2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hm(r){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(r)}function VA(){return VA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},VA.apply(this,arguments)}function f8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(n),!0).forEach(function(a){q2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function MG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function A8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,_P(a.key),a)}}function RG(r,e,n){return e&&A8(r.prototype,e),n&&A8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function LG(r,e,n){return e=Gv(e),UG(r,TP()?Reflect.construct(e,n||[],Gv(r).constructor):e.apply(r,n))}function UG(r,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HG(r)}function HG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function TP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TP=function(){return!!r})()}function Gv(r){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(r)}function QG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&l4(r,e)}function l4(r,e){return l4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},l4(r,e)}function q2(r,e,n){return e=_P(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _P(r){var e=WG(r,"string");return hm(e)=="symbol"?e:e+""}function WG(r,e){if(hm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var $G=Math.PI/180,p8=1e-5,X2=(function(r){function e(){return MG(this,e),LG(this,e,arguments)}return QG(e,r),RG(e,[{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.cx,c=i.cy,l=i.radius,u=i.orientation,o=i.tickSize,h=o||8,d=ao(s,c,l,a.coordinate),f=ao(s,c,l+(u==="inner"?-1:1)*h,a.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var i=this.props.orientation,s=Math.cos(-a.coordinate*$G),c;return s>p8?c=i==="outer"?"start":"end":s<-p8?c=i==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.radius,l=a.axisLine,u=a.axisLineType,o=kA(kA({},_a(this.props,!1)),{},{fill:"none"},_a(l,!1));if(u==="circle")return St.createElement(z2,VA({className:"recharts-polar-angle-axis-line"},o,{cx:i,cy:s,r:c}));var h=this.props.ticks,d=h.map(function(f){return ao(i,s,c,f.coordinate)});return St.createElement(dG,VA({className:"recharts-polar-angle-axis-line"},o,{points:d}))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.tickLine,u=i.tickFormatter,o=i.stroke,h=_a(this.props,!1),d=_a(c,!1),f=kA(kA({},h),{},{fill:"none"},_a(l,!1)),A=s.map(function(g,m){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),b=kA(kA(kA({textAnchor:y},h),{},{stroke:"none",fill:o},d),{},{index:m,payload:g,x:x.x2,y:x.y2});return St.createElement(ss,VA({className:gi("recharts-polar-angle-axis-tick",gP(c)),key:"tick-".concat(g.coordinate)},np(a.props,g,m)),l&&St.createElement("line",VA({className:"recharts-polar-angle-axis-tick-line"},f,x)),c&&e.renderTickItem(c,b,u?u(g.value,m):g.value))});return St.createElement(ss,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.radius,c=a.axisLine;return s<=0||!i||!i.length?null:St.createElement(ss,{className:gi("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,i,s){var c;return St.isValidElement(a)?c=St.cloneElement(a,i):qa(a)?c=a(i):c=St.createElement(ap,VA({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(k.PureComponent);q2(X2,"displayName","PolarAngleAxis");q2(X2,"axisType","angleAxis");q2(X2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Xw,m8;function VG(){if(m8)return Xw;m8=1;var r=QO(),e=r(Object.getPrototypeOf,Object);return Xw=e,Xw}var Yw,g8;function zG(){if(g8)return Yw;g8=1;var r=xf(),e=VG(),n=yf(),a="[object Object]",i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);function o(h){if(!n(h)||r(h)!=a)return!1;var d=e(h);if(d===null)return!0;var f=l.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&c.call(f)==u}return Yw=o,Yw}var KG=zG();const GG=Ji(KG);var Zw,v8;function qG(){if(v8)return Zw;v8=1;var r=xf(),e=yf(),n="[object Boolean]";function a(i){return i===!0||i===!1||e(i)&&r(i)==n}return Zw=a,Zw}var XG=qG();const YG=Ji(XG);function Ng(r){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(r)}function qv(){return qv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},qv.apply(this,arguments)}function ZG(r,e){return rq(r)||tq(r,e)||eq(r,e)||JG()}function JG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eq(r,e){if(r){if(typeof r=="string")return x8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x8(r,e)}}function x8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function tq(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function rq(r){if(Array.isArray(r))return r}function y8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function b8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(a){nq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function nq(r,e,n){return e=aq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function aq(r){var e=iq(r,"string");return Ng(e)=="symbol"?e:e+""}function iq(r,e){if(Ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var w8=function(e,n,a,i,s){var c=a-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+a,",").concat(n),l+="L ".concat(e+a-c/2,",").concat(n+s),l+="L ".concat(e+a-c/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},sq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oq=function(e){var n=b8(b8({},sq),e),a=k.useRef(),i=k.useState(-1),s=ZG(i,2),c=s[0],l=s[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&l(w)}catch{}},[]);var u=n.x,o=n.y,h=n.upperWidth,d=n.lowerWidth,f=n.height,A=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(u!==+u||o!==+o||h!==+h||d!==+d||f!==+f||h===0&&d===0||f===0)return null;var b=gi("recharts-trapezoid",A);return y?St.createElement(kh,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:f,x:u,y:o},to:{upperWidth:h,lowerWidth:d,height:f,x:u,y:o},duration:m,animationEasing:g,isActive:y},function(w){var N=w.upperWidth,S=w.lowerWidth,j=w.height,_=w.x,P=w.y;return St.createElement(kh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},St.createElement("path",qv({},_a(n,!0),{className:b,d:w8(_,P,N,S,j),ref:a})))}):St.createElement("g",null,St.createElement("path",qv({},_a(n,!0),{className:b,d:w8(u,o,h,d,f)})))},lq=["option","shapeType","propTransformer","activeClassName","isActive"];function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}function cq(r,e){if(r==null)return{};var n=uq(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uq(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function j8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Xv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(a){dq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function dq(r,e,n){return e=hq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function hq(r){var e=fq(r,"string");return Sg(e)=="symbol"?e:e+""}function fq(r,e){if(Sg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Aq(r,e){return Xv(Xv({},e),r)}function pq(r,e){return r==="symbols"}function C8(r){var e=r.shapeType,n=r.elementProps;switch(e){case"rectangle":return St.createElement(QN,n);case"trapezoid":return St.createElement(oq,n);case"sector":return St.createElement(yP,n);case"symbols":if(pq(e))return St.createElement(oN,n);break;default:return null}}function mq(r){return k.isValidElement(r)?r.props:r}function OP(r){var e=r.option,n=r.shapeType,a=r.propTransformer,i=a===void 0?Aq:a,s=r.activeClassName,c=s===void 0?"recharts-active-shape":s,l=r.isActive,u=cq(r,lq),o;if(k.isValidElement(e))o=k.cloneElement(e,Xv(Xv({},u),mq(e)));else if(qa(e))o=e(u);else if(GG(e)&&!YG(e)){var h=i(e,u);o=St.createElement(C8,{shapeType:n,elementProps:h})}else{var d=u;o=St.createElement(C8,{shapeType:n,elementProps:d})}return l?St.createElement(ss,{className:c},o):o}function Y2(r,e){return e!=null&&"trapezoids"in r.props}function Z2(r,e){return e!=null&&"sectors"in r.props}function Bg(r,e){return e!=null&&"points"in r.props}function gq(r,e){var n,a,i=r.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===e.x,s=r.y===(e==null||(a=e.labelViewBox)===null||a===void 0?void 0:a.y)||r.y===e.y;return i&&s}function vq(r,e){var n=r.endAngle===e.endAngle,a=r.startAngle===e.startAngle;return n&&a}function xq(r,e){var n=r.x===e.x,a=r.y===e.y,i=r.z===e.z;return n&&a&&i}function yq(r,e){var n;return Y2(r,e)?n=gq:Z2(r,e)?n=vq:Bg(r,e)&&(n=xq),n}function bq(r,e){var n;return Y2(r,e)?n="trapezoids":Z2(r,e)?n="sectors":Bg(r,e)&&(n="points"),n}function wq(r,e){if(Y2(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Z2(r,e)){var a;return(a=e.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Bg(r,e)?e.payload:{}}function jq(r){var e=r.activeTooltipItem,n=r.graphicalItem,a=r.itemData,i=bq(n,e),s=wq(n,e),c=a.filter(function(u,o){var h=Qg(s,u),d=n.props[i].filter(function(g){var m=yq(n,e);return m(g,e)}),f=n.props[i].indexOf(d[d.length-1]),A=o===f;return h&&A}),l=a.indexOf(c[c.length-1]);return l}var av;function fm(r){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(r)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Qp.apply(this,arguments)}function N8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ro(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(a){Rd(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Cq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function S8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,PP(a.key),a)}}function Nq(r,e,n){return e&&S8(r.prototype,e),n&&S8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Sq(r,e,n){return e=Yv(e),Bq(r,kP()?Reflect.construct(e,n||[],Yv(r).constructor):e.apply(r,n))}function Bq(r,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eq(r)}function Eq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!r})()}function Yv(r){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(r)}function Iq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&c4(r,e)}function c4(r,e){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},c4(r,e)}function Rd(r,e,n){return e=PP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function PP(r){var e=Tq(r,"string");return fm(e)=="symbol"?e:e+""}function Tq(r,e){if(fm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wf=(function(r){function e(n){var a;return Cq(this,e),a=Sq(this,e,[n]),Rd(a,"pieRef",null),Rd(a,"sectorRefs",[]),Rd(a,"id",Om("recharts-pie-")),Rd(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),qa(i)&&i()}),Rd(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),qa(i)&&i()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return Iq(e,r),Nq(e,[{key:"isActiveIndex",value:function(a){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(a)!==-1:a===i}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,l=s.labelLine,u=s.dataKey,o=s.valueKey,h=_a(this.props,!1),d=_a(c,!1),f=_a(l,!1),A=c&&c.offsetRadius||20,g=a.map(function(m,x){var y=(m.startAngle+m.endAngle)/2,b=ao(m.cx,m.cy,m.outerRadius+A,y),w=ro(ro(ro(ro({},h),m),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,m.cx)},b),N=ro(ro(ro(ro({},h),m),{},{fill:"none",stroke:m.fill},f),{},{index:x,points:[ao(m.cx,m.cy,m.outerRadius,y),b]}),S=u;return li(u)&&li(o)?S="value":li(u)&&(S=o),St.createElement(ss,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(c,w,Kl(m,S)))});return St.createElement(ss,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var i=this,s=this.props,c=s.activeShape,l=s.blendStroke,u=s.inactiveShape;return a.map(function(o,h){if((o==null?void 0:o.startAngle)===0&&(o==null?void 0:o.endAngle)===0&&a.length!==1)return null;var d=i.isActiveIndex(h),f=u&&i.hasActiveIndex()?u:null,A=d?c:f,g=ro(ro({},o),{},{stroke:l?o.fill:o.stroke,tabIndex:-1});return St.createElement(ss,Qp({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},np(i.props,o,h),{key:"sector-".concat(o==null?void 0:o.startAngle,"-").concat(o==null?void 0:o.endAngle,"-").concat(o.midAngle,"-").concat(h)}),St.createElement(OP,Qp({option:A,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,i=this.props,s=i.sectors,c=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,o=i.animationEasing,h=i.animationId,d=this.state,f=d.prevSectors,A=d.prevIsAnimationActive;return St.createElement(kh,{begin:l,duration:u,isActive:c,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,N){var S=f&&f[N],j=N>0?ld(w,"paddingAngle",0):0;if(S){var _=sd(S.endAngle-S.startAngle,w.endAngle-w.startAngle),P=ro(ro({},w),{},{startAngle:b+j,endAngle:b+_(m)+j});x.push(P),b=P.endAngle}else{var Z=w.endAngle,ee=w.startAngle,K=sd(0,Z-ee),ae=K(m),D=ro(ro({},w),{},{startAngle:b+j,endAngle:b+ae+j});x.push(D),b=D.endAngle}}),St.createElement(ss,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var i=this;a.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,i=a.sectors,s=a.isAnimationActive,c=this.state.prevSectors;return s&&i&&i.length&&(!c||!Qg(c,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,i=this.props,s=i.hide,c=i.sectors,l=i.className,u=i.label,o=i.cx,h=i.cy,d=i.innerRadius,f=i.outerRadius,A=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!c||!c.length||!gn(o)||!gn(h)||!gn(d)||!gn(f))return null;var m=gi("recharts-pie",l);return St.createElement(ss,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){a.pieRef=y}},this.renderSectors(),u&&this.renderLabels(c),xc.renderCallByParent(this.props,null,!1),(!A||g)&&Af.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return i.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:a.sectors!==i.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,i){return a>i?"start":a<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,i,s){if(St.isValidElement(a))return St.cloneElement(a,i);if(qa(a))return a(i);var c=gi("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return St.createElement(Hv,Qp({},i,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,i,s){if(St.isValidElement(a))return St.cloneElement(a,i);var c=s;if(qa(a)&&(c=a(i),St.isValidElement(c)))return c;var l=gi("recharts-pie-label-text",typeof a!="boolean"&&!qa(a)?a.className:"");return St.createElement(ap,Qp({},i,{alignmentBaseline:"middle",className:l}),c)}}])})(k.PureComponent);av=wf;Rd(wf,"displayName","Pie");Rd(wf,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Rd(wf,"parseDeltaAngle",function(r,e){var n=xu(e-r),a=Math.min(Math.abs(e-r),360);return n*a});Rd(wf,"getRealPieData",function(r){var e=r.data,n=r.children,a=_a(r,!1),i=cd(n,P2);return e&&e.length?e.map(function(s,c){return ro(ro(ro({payload:s},a),s),i&&i[c]&&i[c].props)}):i&&i.length?i.map(function(s){return ro(ro({},a),s.props)}):[]});Rd(wf,"parseCoordinateOfPie",function(r,e){var n=e.top,a=e.left,i=e.width,s=e.height,c=mP(i,s),l=a+yu(r.cx,i,i/2),u=n+yu(r.cy,s,s/2),o=yu(r.innerRadius,c,0),h=yu(r.outerRadius,c,c*.8),d=r.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:o,outerRadius:h,maxRadius:d}});Rd(wf,"getComposedData",function(r){var e=r.item,n=r.offset,a=e.type.defaultProps!==void 0?ro(ro({},e.type.defaultProps),e.props):e.props,i=av.getRealPieData(a);if(!i||!i.length)return null;var s=a.cornerRadius,c=a.startAngle,l=a.endAngle,u=a.paddingAngle,o=a.dataKey,h=a.nameKey,d=a.valueKey,f=a.tooltipType,A=Math.abs(a.minAngle),g=av.parseCoordinateOfPie(a,n),m=av.parseDeltaAngle(c,l),x=Math.abs(m),y=o;li(o)&&li(d)?(dh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):li(o)&&(dh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var b=i.filter(function(P){return Kl(P,y,0)!==0}).length,w=(x>=360?b:b-1)*u,N=x-b*A-w,S=i.reduce(function(P,Z){var ee=Kl(Z,y,0);return P+(gn(ee)?ee:0)},0),j;if(S>0){var _;j=i.map(function(P,Z){var ee=Kl(P,y,0),K=Kl(P,h,Z),ae=(gn(ee)?ee:0)/S,D;Z?D=_.endAngle+xu(m)*u*(ee!==0?1:0):D=c;var q=D+xu(m)*((ee!==0?A:0)+ae*N),$=(D+q)/2,L=(g.innerRadius+g.outerRadius)/2,ye=[{name:K,value:ee,payload:P,dataKey:y,type:f}],ne=ao(g.cx,g.cy,L,$);return _=ro(ro(ro({percent:ae,cornerRadius:s,name:K,tooltipPayload:ye,midAngle:$,middleRadius:L,tooltipPosition:ne},P),g),{},{value:Kl(P,y),startAngle:D,endAngle:q,payload:P,paddingAngle:xu(m)*u}),_})}return ro(ro({},g),{},{sectors:j,data:i})});var Jw,B8;function _q(){if(B8)return Jw;B8=1;var r=Math.ceil,e=Math.max;function n(a,i,s,c){for(var l=-1,u=e(r((i-a)/(s||1)),0),o=Array(u);u--;)o[c?u:++l]=a,a+=s;return o}return Jw=n,Jw}var ej,E8;function FP(){if(E8)return ej;E8=1;var r=ak(),e=1/0,n=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return ej=a,ej}var tj,I8;function Oq(){if(I8)return tj;I8=1;var r=_q(),e=k2(),n=FP();function a(i){return function(s,c,l){return l&&typeof l!="number"&&e(s,c,l)&&(c=l=void 0),s=n(s),c===void 0?(c=s,s=0):c=n(c),l=l===void 0?s<c?1:-1:n(l),r(s,c,l,i)}}return tj=a,tj}var rj,T8;function kq(){if(T8)return rj;T8=1;var r=Oq(),e=r();return rj=e,rj}var Pq=kq();const Zv=Ji(Pq);function Eg(r){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(r)}function _8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function O8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(n),!0).forEach(function(a){DP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function DP(r,e,n){return e=Fq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Fq(r){var e=Dq(r,"string");return Eg(e)=="symbol"?e:e+""}function Dq(r,e){if(Eg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Mq=["Webkit","Moz","O","ms"],Rq=function(e,n){var a=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Mq.reduce(function(s,c){return O8(O8({},s),{},DP({},c+a,n))},{});return i[e]=n,i};function Am(r){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(r)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Jv.apply(this,arguments)}function k8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function nj(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(a){nd(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Lq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function P8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,RP(a.key),a)}}function Uq(r,e,n){return e&&P8(r.prototype,e),n&&P8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Hq(r,e,n){return e=e2(e),Qq(r,MP()?Reflect.construct(e,n||[],e2(r).constructor):e.apply(r,n))}function Qq(r,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wq(r)}function Wq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!r})()}function e2(r){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e2(r)}function $q(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&u4(r,e)}function u4(r,e){return u4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},u4(r,e)}function nd(r,e,n){return e=RP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function RP(r){var e=Vq(r,"string");return Am(e)=="symbol"?e:e+""}function Vq(r,e){if(Am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var zq=function(e){var n=e.data,a=e.startIndex,i=e.endIndex,s=e.x,c=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,o=W0().domain(Zv(0,u)).range([s,s+c-l]),h=o.domain().map(function(d){return o(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(a),endX:o(i),scale:o,scaleValues:h}},F8=function(e){return e.changedTouches&&!!e.changedTouches.length},pm=(function(r){function e(n){var a;return Lq(this,e),a=Hq(this,e,[n]),nd(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),nd(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),nd(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,c=i.onDragEnd,l=i.startIndex;c==null||c({endIndex:s,startIndex:l})}),a.detachDragEndListener()}),nd(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),nd(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),nd(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),nd(a,"handleSlideDragStart",function(i){var s=F8(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return $q(e,r),Uq(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,c=this.state.scaleValues,l=this.props,u=l.gap,o=l.data,h=o.length-1,d=Math.min(i,s),f=Math.max(i,s),A=e.getIndexInRange(c,d),g=e.getIndexInRange(c,f);return{startIndex:A-A%u,endIndex:g===h?h:g-g%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,c=i.tickFormatter,l=i.dataKey,u=Kl(s[a],l,a);return qa(c)?c(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,c=i.startX,l=i.endX,u=this.props,o=u.x,h=u.width,d=u.travellerWidth,f=u.startIndex,A=u.endIndex,g=u.onChange,m=a.pageX-s;m>0?m=Math.min(m,o+h-d-l,o+h-d-c):m<0&&(m=Math.max(m,o-c,o-l));var x=this.getIndex({startX:c+m,endX:l+m});(x.startIndex!==f||x.endIndex!==A)&&g&&g(x),this.setState({startX:c+m,endX:l+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=F8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,c=i.movingTravellerId,l=i.endX,u=i.startX,o=this.state[c],h=this.props,d=h.x,f=h.width,A=h.travellerWidth,g=h.onChange,m=h.gap,x=h.data,y={startX:this.state.startX,endX:this.state.endX},b=a.pageX-s;b>0?b=Math.min(b,d+f-A-o):b<0&&(b=Math.max(b,d-o)),y[c]=o+b;var w=this.getIndex(y),N=w.startIndex,S=w.endIndex,j=function(){var P=x.length-1;return c==="startX"&&(l>u?N%m===0:S%m===0)||l<u&&S===P||c==="endX"&&(l>u?S%m===0:N%m===0)||l>u&&S===P};this.setState(nd(nd({},c,o+b),"brushMoveStartX",a.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,c=this.state,l=c.scaleValues,u=c.startX,o=c.endX,h=this.state[i],d=l.indexOf(h);if(d!==-1){var f=d+a;if(!(f===-1||f>=l.length)){var A=l[f];i==="startX"&&A>=o||i==="endX"&&A<=u||this.setState(nd({},i,A),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.fill,o=a.stroke;return St.createElement("rect",{stroke:o,fill:u,x:i,y:s,width:c,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.data,o=a.children,h=a.padding,d=k.Children.only(o);return d?St.cloneElement(d,{x:i,y:s,width:c,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,c,l=this,u=this.props,o=u.y,h=u.travellerWidth,d=u.height,f=u.traveller,A=u.ariaLabel,g=u.data,m=u.startIndex,x=u.endIndex,y=Math.max(a,this.props.x),b=nj(nj({},_a(this.props,!1)),{},{x:y,y:o,width:h,height:d}),w=A||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=g[x])===null||c===void 0?void 0:c.name);return St.createElement(ss,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(a,i){var s=this.props,c=s.y,l=s.height,u=s.stroke,o=s.travellerWidth,h=Math.min(a,i)+o,d=Math.max(Math.abs(i-a)-o,0);return St.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:c,width:d,height:l})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,c=a.y,l=a.height,u=a.travellerWidth,o=a.stroke,h=this.state,d=h.startX,f=h.endX,A=5,g={pointerEvents:"none",fill:o};return St.createElement(ss,{className:"recharts-brush-texts"},St.createElement(ap,Jv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-A,y:c+l/2},g),this.getTextOfTick(i)),St.createElement(ap,Jv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+u+A,y:c+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,c=a.children,l=a.x,u=a.y,o=a.width,h=a.height,d=a.alwaysShowText,f=this.state,A=f.startX,g=f.endX,m=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!gn(l)||!gn(u)||!gn(o)||!gn(h)||o<=0||h<=0)return null;var w=gi("recharts-brush",s),N=St.Children.count(c)===1,S=Rq("userSelect","none");return St.createElement(ss,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(A,g),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,c=a.width,l=a.height,u=a.stroke,o=Math.floor(s+l/2)-1;return St.createElement(St.Fragment,null,St.createElement("rect",{x:i,y:s,width:c,height:l,fill:u,stroke:"none"}),St.createElement("line",{x1:i+1,y1:o,x2:i+c-1,y2:o,fill:"none",stroke:"#fff"}),St.createElement("line",{x1:i+1,y1:o+2,x2:i+c-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return St.isValidElement(a)?s=St.cloneElement(a,i):qa(a)?s=a(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,c=a.width,l=a.x,u=a.travellerWidth,o=a.updateId,h=a.startIndex,d=a.endIndex;if(s!==i.prevData||o!==i.prevUpdateId)return nj({prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c},s&&s.length?zq({data:s,width:c,x:l,travellerWidth:u,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+c-u]);var f=i.scale.domain().map(function(A){return i.scale(A)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,c=0,l=s-1;l-c>1;){var u=Math.floor((c+l)/2);a[u]>i?l=u:c=u}return i>=a[l]?l:c}}])})(k.PureComponent);nd(pm,"displayName","Brush");nd(pm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aj,D8;function Kq(){if(D8)return aj;D8=1;var r=AN();function e(n,a){var i;return r(n,function(s,c,l){return i=a(s,c,l),!i}),!!i}return aj=e,aj}var ij,M8;function Gq(){if(M8)return ij;M8=1;var r=FO(),e=Dh(),n=Kq(),a=Ru(),i=k2();function s(c,l,u){var o=a(c)?r:n;return u&&i(c,l,u)&&(l=void 0),o(c,e(l,3))}return ij=s,ij}var qq=Gq();const Xq=Ji(qq);var _h=function(e,n){var a=e.alwaysShow,i=e.ifOverflow;return a&&(i="extendDomain"),i===n},sj,R8;function Yq(){if(R8)return sj;R8=1;var r=JO();function e(n,a,i){a=="__proto__"&&r?r(n,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[a]=i}return sj=e,sj}var oj,L8;function Zq(){if(L8)return oj;L8=1;var r=Yq(),e=YO(),n=Dh();function a(i,s){var c={};return s=n(s,3),e(i,function(l,u,o){r(c,u,s(l,u,o))}),c}return oj=a,oj}var Jq=Zq();const eX=Ji(Jq);var lj,U8;function tX(){if(U8)return lj;U8=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(!n(e[a],a,e))return!1;return!0}return lj=r,lj}var cj,H8;function rX(){if(H8)return cj;H8=1;var r=AN();function e(n,a){var i=!0;return r(n,function(s,c,l){return i=!!a(s,c,l),i}),i}return cj=e,cj}var uj,Q8;function nX(){if(Q8)return uj;Q8=1;var r=tX(),e=rX(),n=Dh(),a=Ru(),i=k2();function s(c,l,u){var o=a(c)?r:e;return u&&i(c,l,u)&&(l=void 0),o(c,n(l,3))}return uj=s,uj}var aX=nX();const LP=Ji(aX);var iX=["x","y"];function Ig(r){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(r)}function d4(){return d4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},d4.apply(this,arguments)}function W8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Jm(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(a){sX(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function sX(r,e,n){return e=oX(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oX(r){var e=lX(r,"string");return Ig(e)=="symbol"?e:e+""}function lX(r,e){if(Ig(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function cX(r,e){if(r==null)return{};var n=uX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function dX(r,e){var n=r.x,a=r.y,i=cX(r,iX),s="".concat(n),c=parseInt(s,10),l="".concat(a),u=parseInt(l,10),o="".concat(e.height||i.height),h=parseInt(o,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Jm(Jm(Jm(Jm(Jm({},e),i),c?{x:c}:{}),u?{y:u}:{}),{},{height:h,width:f,name:e.name,radius:e.radius})}function $8(r){return St.createElement(OP,d4({shapeType:"rectangle",propTransformer:dX,activeClassName:"recharts-active-bar"},r))}var hX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof e=="number")return e;var s=typeof a=="number";return s?e(a,i):(s||sp(),n)}},fX=["value","background"],UP;function mm(r){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(r)}function AX(r,e){if(r==null)return{};var n=pX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function pX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function t2(){return t2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},t2.apply(this,arguments)}function V8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function jl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(a){tA(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function mX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function z8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,QP(a.key),a)}}function gX(r,e,n){return e&&z8(r.prototype,e),n&&z8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function vX(r,e,n){return e=r2(e),xX(r,HP()?Reflect.construct(e,n||[],r2(r).constructor):e.apply(r,n))}function xX(r,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(r)}function yX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function HP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!r})()}function r2(r){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r2(r)}function bX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&h4(r,e)}function h4(r,e){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},h4(r,e)}function tA(r,e,n){return e=QP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function QP(r){var e=wX(r,"string");return mm(e)=="symbol"?e:e+""}function wX(r,e){if(mm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var fp=(function(r){function e(){var n;mX(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=vX(this,e,[].concat(i)),tA(n,"state",{isAnimationFinished:!1}),tA(n,"id",Om("recharts-bar-")),tA(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),tA(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return bX(e,r),gX(e,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,c=s.shape,l=s.dataKey,u=s.activeIndex,o=s.activeBar,h=_a(this.props,!1);return a&&a.map(function(d,f){var A=f===u,g=A?o:c,m=jl(jl(jl({},h),d),{},{isActive:A,option:g,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return St.createElement(ss,t2({className:"recharts-bar-rectangle"},np(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),St.createElement($8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,c=i.layout,l=i.isAnimationActive,u=i.animationBegin,o=i.animationDuration,h=i.animationEasing,d=i.animationId,f=this.state.prevData;return St.createElement(kh,{begin:u,duration:o,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var g=A.t,m=s.map(function(x,y){var b=f&&f[y];if(b){var w=sd(b.x,x.x),N=sd(b.y,x.y),S=sd(b.width,x.width),j=sd(b.height,x.height);return jl(jl({},x),{},{x:w(g),y:N(g),width:S(g),height:j(g)})}if(c==="horizontal"){var _=sd(0,x.height),P=_(g);return jl(jl({},x),{},{y:x.y+x.height-P,height:P})}var Z=sd(0,x.width),ee=Z(g);return jl(jl({},x),{},{width:ee})});return St.createElement(ss,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,c=this.state.prevData;return s&&i&&i.length&&(!c||!Qg(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,c=i.dataKey,l=i.activeIndex,u=_a(this.props.background,!1);return s.map(function(o,h){o.value;var d=o.background,f=AX(o,fX);if(!d)return null;var A=jl(jl(jl(jl(jl({},f),{},{fill:"#eee"},d),u),np(a.props,o,h)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:h,className:"recharts-bar-background-rectangle"});return St.createElement($8,t2({key:"background-bar-".concat(h),option:a.props.background,isActive:h===l},A))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,l=s.xAxis,u=s.yAxis,o=s.layout,h=s.children,d=cd(h,Wg);if(!d)return null;var f=o==="vertical"?c[0].height/2:c[0].width/2,A=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Kl(x,y)}},g={clipPath:a?"url(#clipPath-".concat(i,")"):null};return St.createElement(ss,g,d.map(function(m){return St.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,offset:f,dataPointFormatter:A})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,c=a.className,l=a.xAxis,u=a.yAxis,o=a.left,h=a.top,d=a.width,f=a.height,A=a.isAnimationActive,g=a.background,m=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=gi("recharts-bar",c),b=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,N=b||w,S=li(m)?this.id:m;return St.createElement(ss,{className:y},b||w?St.createElement("defs",null,St.createElement("clipPath",{id:"clipPath-".concat(S)},St.createElement("rect",{x:b?o:o-d/2,y:w?h:h-f/2,width:b?d:d*2,height:w?f:f*2}))):null,St.createElement(ss,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!A||x)&&Af.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])})(k.PureComponent);UP=fp;tA(fp,"displayName","Bar");tA(fp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tA(fp,"getComposedData",function(r){var e=r.props,n=r.item,a=r.barPosition,i=r.bandSize,s=r.xAxis,c=r.yAxis,l=r.xAxisTicks,u=r.yAxisTicks,o=r.stackedData,h=r.dataStartIndex,d=r.displayedData,f=r.offset,A=K$(a,n);if(!A)return null;var g=e.layout,m=n.type.defaultProps,x=m!==void 0?jl(jl({},m),n.props):n.props,y=x.dataKey,b=x.children,w=x.minPointSize,N=g==="horizontal"?c:s,S=o?N.scale.domain():null,j=eV({numericAxis:N}),_=cd(b,P2),P=d.map(function(Z,ee){var K,ae,D,q,$,L;o?K=G$(o[h+ee],S):(K=Kl(Z,y),Array.isArray(K)||(K=[j,K]));var ye=hX(w,UP.defaultProps.minPointSize)(K[1],ee);if(g==="horizontal"){var ne,Be=[c.scale(K[0]),c.scale(K[1])],Te=Be[0],me=Be[1];ae=yI({axis:s,ticks:l,bandSize:i,offset:A.offset,entry:Z,index:ee}),D=(ne=me??Te)!==null&&ne!==void 0?ne:void 0,q=A.size;var ue=Te-me;if($=Number.isNaN(ue)?0:ue,L={x:ae,y:c.y,width:q,height:c.height},Math.abs(ye)>0&&Math.abs($)<Math.abs(ye)){var ve=xu($||ye)*(Math.abs(ye)-Math.abs($));D-=ve,$+=ve}}else{var le=[s.scale(K[0]),s.scale(K[1])],Ae=le[0],Ie=le[1];if(ae=Ae,D=yI({axis:c,ticks:u,bandSize:i,offset:A.offset,entry:Z,index:ee}),q=Ie-Ae,$=A.size,L={x:s.x,y:D,width:s.width,height:$},Math.abs(ye)>0&&Math.abs(q)<Math.abs(ye)){var Pe=xu(q||ye)*(Math.abs(ye)-Math.abs(q));q+=Pe}}return jl(jl(jl({},Z),{},{x:ae,y:D,width:q,height:$,value:o?K:K[1],payload:Z,background:L},_&&_[ee]&&_[ee].props),{},{tooltipPayload:[AP(n,Z)],tooltipPosition:{x:ae+q/2,y:D+$/2}})});return jl({data:P,layout:g},f)});function Tg(r){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(r)}function jX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function K8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,WP(a.key),a)}}function CX(r,e,n){return e&&K8(r.prototype,e),n&&K8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function G8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function sh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(n),!0).forEach(function(a){J2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):G8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function J2(r,e,n){return e=WP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function WP(r){var e=NX(r,"string");return Tg(e)=="symbol"?e:e+""}function NX(r,e){if(Tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $P=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.layout,o=e.children,h=Object.keys(n),d={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},f=!!ad(o,fp);return h.reduce(function(A,g){var m=n[g],x=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,N=m.mirror,S=m.reversed,j="".concat(x).concat(N?"Mirror":""),_,P,Z,ee,K;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var ae=y[1]-y[0],D=1/0,q=m.categoricalDomain.sort();if(q.forEach(function(le,Ae){Ae>0&&(D=Math.min((le||0)-(q[Ae-1]||0),D))}),Number.isFinite(D)){var $=D/ae,L=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(_=$*L/2),m.padding==="no-gap"){var ye=yu(e.barCategoryGap,$*L),ne=$*L/2;_=ne-ye-(ne-ye)/L*ye}}}i==="xAxis"?P=[a.left+(w.left||0)+(_||0),a.left+a.width-(w.right||0)-(_||0)]:i==="yAxis"?P=u==="horizontal"?[a.top+a.height-(w.bottom||0),a.top+(w.top||0)]:[a.top+(w.top||0)+(_||0),a.top+a.height-(w.bottom||0)-(_||0)]:P=m.range,S&&(P=[P[1],P[0]]);var Be=uP(m,s,f),Te=Be.scale,me=Be.realScaleType;Te.domain(y).range(P),dP(Te);var ue=hP(Te,sh(sh({},m),{},{realScaleType:me}));i==="xAxis"?(K=x==="top"&&!N||x==="bottom"&&N,Z=a.left,ee=d[j]-K*m.height):i==="yAxis"&&(K=x==="left"&&!N||x==="right"&&N,Z=d[j]-K*m.width,ee=a.top);var ve=sh(sh(sh({},m),ue),{},{realScaleType:me,x:Z,y:ee,scale:Te,width:i==="xAxis"?a.width:m.width,height:i==="yAxis"?a.height:m.height});return ve.bandSize=Rv(ve,ue),!m.hide&&i==="xAxis"?d[j]+=(K?-1:1)*ve.height:m.hide||(d[j]+=(K?-1:1)*ve.width),sh(sh({},A),{},J2({},g,ve))},{})},VP=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return{x:Math.min(a,s),y:Math.min(i,c),width:Math.abs(s-a),height:Math.abs(c-i)}},SX=function(e){var n=e.x1,a=e.y1,i=e.x2,s=e.y2;return VP({x:n,y:a},{x:i,y:s})},zP=(function(){function r(e){jX(this,r),this.scale=e}return CX(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new r(n)}}])})();J2(zP,"EPS",1e-4);var WN=function(e){var n=Object.keys(e).reduce(function(a,i){return sh(sh({},a),{},J2({},i,zP.create(e[i])))},{});return sh(sh({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,l=s.position;return eX(i,function(u,o){return n[o].apply(u,{bandAware:c,position:l})})},isInRange:function(i){return LP(i,function(s,c){return n[c].isInRange(s)})}})};function BX(r){return(r%180+180)%180}var EX=function(e){var n=e.width,a=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=BX(i),c=s*Math.PI/180,l=Math.atan(a/n),u=c>l&&c<Math.PI-l?a/Math.sin(c):n/Math.cos(c);return Math.abs(u)},dj,q8;function IX(){if(q8)return dj;q8=1;var r=Dh(),e=Mg(),n=_2();function a(i){return function(s,c,l){var u=Object(s);if(!e(s)){var o=r(c,3);s=n(s),c=function(d){return o(u[d],d,u)}}var h=i(s,c,l);return h>-1?u[o?s[h]:h]:void 0}}return dj=a,dj}var hj,X8;function TX(){if(X8)return hj;X8=1;var r=FP();function e(n){var a=r(n),i=a%1;return a===a?i?a-i:a:0}return hj=e,hj}var fj,Y8;function _X(){if(Y8)return fj;Y8=1;var r=zO(),e=Dh(),n=TX(),a=Math.max;function i(s,c,l){var u=s==null?0:s.length;if(!u)return-1;var o=l==null?0:n(l);return o<0&&(o=a(u+o,0)),r(s,e(c,3),o)}return fj=i,fj}var Aj,Z8;function OX(){if(Z8)return Aj;Z8=1;var r=IX(),e=_X(),n=r(e);return Aj=n,Aj}var kX=OX();const PX=Ji(kX);var FX=lO();const DX=Ji(FX);var MX=DX(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),$N=k.createContext(void 0),VN=k.createContext(void 0),KP=k.createContext(void 0),GP=k.createContext({}),qP=k.createContext(void 0),XP=k.createContext(0),YP=k.createContext(0),J8=function(e){var n=e.state,a=n.xAxisMap,i=n.yAxisMap,s=n.offset,c=e.clipPathId,l=e.children,u=e.width,o=e.height,h=MX(s);return St.createElement($N.Provider,{value:a},St.createElement(VN.Provider,{value:i},St.createElement(GP.Provider,{value:s},St.createElement(KP.Provider,{value:h},St.createElement(qP.Provider,{value:c},St.createElement(XP.Provider,{value:o},St.createElement(YP.Provider,{value:u},l)))))))},RX=function(){return k.useContext(qP)},ZP=function(e){var n=k.useContext($N);n==null&&sp();var a=n[e];return a==null&&sp(),a},LX=function(){var e=k.useContext($N);return Jf(e)},UX=function(){var e=k.useContext(VN),n=PX(e,function(a){return LP(a.domain,Number.isFinite)});return n||Jf(e)},JP=function(e){var n=k.useContext(VN);n==null&&sp();var a=n[e];return a==null&&sp(),a},HX=function(){var e=k.useContext(KP);return e},QX=function(){return k.useContext(GP)},zN=function(){return k.useContext(YP)},KN=function(){return k.useContext(XP)};function gm(r){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(r)}function WX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $X(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,tF(a.key),a)}}function VX(r,e,n){return e&&$X(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function zX(r,e,n){return e=n2(e),KX(r,eF()?Reflect.construct(e,n||[],n2(r).constructor):e.apply(r,n))}function KX(r,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(r)}function GX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function eF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!r})()}function n2(r){return n2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n2(r)}function qX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&f4(r,e)}function f4(r,e){return f4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},f4(r,e)}function e6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function t6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(a){GN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function GN(r,e,n){return e=tF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tF(r){var e=XX(r,"string");return gm(e)=="symbol"?e:e+""}function XX(r,e){if(gm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function YX(r,e){return tY(r)||eY(r,e)||JX(r,e)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(r,e){if(r){if(typeof r=="string")return r6(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r6(r,e)}}function r6(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function eY(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function tY(r){if(Array.isArray(r))return r}function A4(){return A4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},A4.apply(this,arguments)}var rY=function(e,n){var a;return St.isValidElement(e)?a=St.cloneElement(e,n):qa(e)?a=e(n):a=St.createElement("line",A4({},n,{className:"recharts-reference-line-line"})),a},nY=function(e,n,a,i,s,c,l,u,o){var h=s.x,d=s.y,f=s.width,A=s.height;if(a){var g=o.y,m=e.y.apply(g,{position:c});if(_h(o,"discard")&&!e.y.isInRange(m))return null;var x=[{x:h+f,y:m},{x:h,y:m}];return u==="left"?x.reverse():x}if(n){var y=o.x,b=e.x.apply(y,{position:c});if(_h(o,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+A},{x:b,y:d}];return l==="top"?w.reverse():w}if(i){var N=o.segment,S=N.map(function(j){return e.apply(j,{position:c})});return _h(o,"discard")&&Xq(S,function(j){return!e.isInRange(j)})?null:S}return null};function aY(r){var e=r.x,n=r.y,a=r.segment,i=r.xAxisId,s=r.yAxisId,c=r.shape,l=r.className,u=r.alwaysShow,o=RX(),h=ZP(i),d=JP(s),f=HX();if(!o||!f)return null;dh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=WN({x:h.scale,y:d.scale}),g=ql(e),m=ql(n),x=a&&a.length===2,y=nY(A,g,m,x,f,r.position,h.orientation,d.orientation,r);if(!y)return null;var b=YX(y,2),w=b[0],N=w.x,S=w.y,j=b[1],_=j.x,P=j.y,Z=_h(r,"hidden")?"url(#".concat(o,")"):void 0,ee=t6(t6({clipPath:Z},_a(r,!0)),{},{x1:N,y1:S,x2:_,y2:P});return St.createElement(ss,{className:gi("recharts-reference-line",l)},rY(c,ee),xc.renderCallByParent(r,SX({x1:N,y1:S,x2:_,y2:P})))}var qN=(function(r){function e(){return WX(this,e),zX(this,e,arguments)}return qX(e,r),VX(e,[{key:"render",value:function(){return St.createElement(aY,this.props)}}])})(St.Component);GN(qN,"displayName","ReferenceLine");GN(qN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function p4(){return p4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},p4.apply(this,arguments)}function vm(r){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(r)}function n6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function a6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(n),!0).forEach(function(a){ex(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function iY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,nF(a.key),a)}}function oY(r,e,n){return e&&sY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function lY(r,e,n){return e=a2(e),cY(r,rF()?Reflect.construct(e,n||[],a2(r).constructor):e.apply(r,n))}function cY(r,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uY(r)}function uY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!r})()}function a2(r){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a2(r)}function dY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&m4(r,e)}function m4(r,e){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},m4(r,e)}function ex(r,e,n){return e=nF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nF(r){var e=hY(r,"string");return vm(e)=="symbol"?e:e+""}function hY(r,e){if(vm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var fY=function(e){var n=e.x,a=e.y,i=e.xAxis,s=e.yAxis,c=WN({x:i.scale,y:s.scale}),l=c.apply({x:n,y:a},{bandAware:!0});return _h(e,"discard")&&!c.isInRange(l)?null:l},tx=(function(r){function e(){return iY(this,e),lY(this,e,arguments)}return dY(e,r),oY(e,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,c=a.r,l=a.alwaysShow,u=a.clipPathId,o=ql(i),h=ql(s);if(dh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!h)return null;var d=fY(this.props);if(!d)return null;var f=d.x,A=d.y,g=this.props,m=g.shape,x=g.className,y=_h(this.props,"hidden")?"url(#".concat(u,")"):void 0,b=a6(a6({clipPath:y},_a(this.props,!0)),{},{cx:f,cy:A});return St.createElement(ss,{className:gi("recharts-reference-dot",x)},e.renderDot(m,b),xc.renderCallByParent(this.props,{x:f-c,y:A-c,width:2*c,height:2*c}))}}])})(St.Component);ex(tx,"displayName","ReferenceDot");ex(tx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ex(tx,"renderDot",function(r,e){var n;return St.isValidElement(r)?n=St.cloneElement(r,e):qa(r)?n=r(e):n=St.createElement(z2,p4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function g4(){return g4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},g4.apply(this,arguments)}function xm(r){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(r)}function i6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function s6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(a){rx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function AY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function pY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,iF(a.key),a)}}function mY(r,e,n){return e&&pY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function gY(r,e,n){return e=i2(e),vY(r,aF()?Reflect.construct(e,n||[],i2(r).constructor):e.apply(r,n))}function vY(r,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(r)}function xY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!r})()}function i2(r){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i2(r)}function yY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&v4(r,e)}function v4(r,e){return v4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},v4(r,e)}function rx(r,e,n){return e=iF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iF(r){var e=bY(r,"string");return xm(e)=="symbol"?e:e+""}function bY(r,e){if(xm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wY=function(e,n,a,i,s){var c=s.x1,l=s.x2,u=s.y1,o=s.y2,h=s.xAxis,d=s.yAxis;if(!h||!d)return null;var f=WN({x:h.scale,y:d.scale}),A={x:e?f.x.apply(c,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(u,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(o,{position:"end"}):f.y.rangeMax};return _h(s,"discard")&&(!f.isInRange(A)||!f.isInRange(g))?null:VP(A,g)},nx=(function(r){function e(){return AY(this,e),gY(this,e,arguments)}return yY(e,r),mY(e,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.className,o=a.alwaysShow,h=a.clipPathId;dh(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ql(i),f=ql(s),A=ql(c),g=ql(l),m=this.props.shape;if(!d&&!f&&!A&&!g&&!m)return null;var x=wY(d,f,A,g,this.props);if(!x&&!m)return null;var y=_h(this.props,"hidden")?"url(#".concat(h,")"):void 0;return St.createElement(ss,{className:gi("recharts-reference-area",u)},e.renderRect(m,s6(s6({clipPath:y},_a(this.props,!0)),x)),xc.renderCallByParent(this.props,x))}}])})(St.Component);rx(nx,"displayName","ReferenceArea");rx(nx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rx(nx,"renderRect",function(r,e){var n;return St.isValidElement(r)?n=St.cloneElement(r,e):qa(r)?n=r(e):n=St.createElement(QN,g4({},e,{className:"recharts-reference-area-rect"})),n});function sF(r,e,n){if(e<1)return[];if(e===1&&n===void 0)return r;for(var a=[],i=0;i<r.length;i+=e)a.push(r[i]);return a}function jY(r,e,n){var a={width:r.width+e.width,height:r.height+e.height};return EX(a,n)}function CY(r,e,n){var a=n==="width",i=r.x,s=r.y,c=r.width,l=r.height;return e===1?{start:a?i:s,end:a?i+c:s+l}:{start:a?i+c:s+l,end:a?i:s}}function s2(r,e,n,a,i){if(r*e<r*a||r*e>r*i)return!1;var s=n();return r*(e-r*s/2-a)>=0&&r*(e+r*s/2-i)<=0}function NY(r,e){return sF(r,e+1)}function SY(r,e,n,a,i){for(var s=(a||[]).slice(),c=e.start,l=e.end,u=0,o=1,h=c,d=function(){var g=a==null?void 0:a[u];if(g===void 0)return{v:sF(a,o)};var m=u,x,y=function(){return x===void 0&&(x=n(g,m)),x},b=g.coordinate,w=u===0||s2(r,b,y,h,l);w||(u=0,h=c,o+=1),w&&(h=b+r*(y()/2+i),u+=o)},f;o<=s.length;)if(f=d(),f)return f.v;return[]}function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function o6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Zc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(a){BY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function BY(r,e,n){return e=EY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function EY(r){var e=IY(r,"string");return _g(e)=="symbol"?e:e+""}function IY(r,e){if(_g(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(_g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function TY(r,e,n,a,i){for(var s=(a||[]).slice(),c=s.length,l=e.start,u=e.end,o=function(f){var A=s[f],g,m=function(){return g===void 0&&(g=n(A,f)),g};if(f===c-1){var x=r*(A.coordinate+r*m()/2-u);s[f]=A=Zc(Zc({},A),{},{tickCoord:x>0?A.coordinate-x*r:A.coordinate})}else s[f]=A=Zc(Zc({},A),{},{tickCoord:A.coordinate});var y=s2(r,A.tickCoord,m,l,u);y&&(u=A.tickCoord-r*(m()/2+i),s[f]=Zc(Zc({},A),{},{isShow:!0}))},h=c-1;h>=0;h--)o(h);return s}function _Y(r,e,n,a,i,s){var c=(a||[]).slice(),l=c.length,u=e.start,o=e.end;if(s){var h=a[l-1],d=n(h,l-1),f=r*(h.coordinate+r*d/2-o);c[l-1]=h=Zc(Zc({},h),{},{tickCoord:f>0?h.coordinate-f*r:h.coordinate});var A=s2(r,h.tickCoord,function(){return d},u,o);A&&(o=h.tickCoord-r*(d/2+i),c[l-1]=Zc(Zc({},h),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(b){var w=c[b],N,S=function(){return N===void 0&&(N=n(w,b)),N};if(b===0){var j=r*(w.coordinate-r*S()/2-u);c[b]=w=Zc(Zc({},w),{},{tickCoord:j<0?w.coordinate-j*r:w.coordinate})}else c[b]=w=Zc(Zc({},w),{},{tickCoord:w.coordinate});var _=s2(r,w.tickCoord,S,u,o);_&&(u=w.tickCoord+r*(S()/2+i),c[b]=Zc(Zc({},w),{},{isShow:!0}))},x=0;x<g;x++)m(x);return c}function XN(r,e,n){var a=r.tick,i=r.ticks,s=r.viewBox,c=r.minTickGap,l=r.orientation,u=r.interval,o=r.tickFormatter,h=r.unit,d=r.angle;if(!i||!i.length||!a)return[];if(gn(u)||cp.isSsr)return NY(i,typeof u=="number"&&gn(u)?u:0);var f=[],A=l==="top"||l==="bottom"?"width":"height",g=h&&A==="width"?Q0(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(w,N){var S=qa(o)?o(w.value,N):w.value;return A==="width"?jY(Q0(S,{fontSize:e,letterSpacing:n}),g,d):Q0(S,{fontSize:e,letterSpacing:n})[A]},x=i.length>=2?xu(i[1].coordinate-i[0].coordinate):1,y=CY(s,x,A);return u==="equidistantPreserveStart"?SY(x,y,m,i,c):(u==="preserveStart"||u==="preserveStartEnd"?f=_Y(x,y,m,i,c,u==="preserveStartEnd"):f=TY(x,y,m,i,c),f.filter(function(b){return b.isShow}))}var OY=["viewBox"],kY=["viewBox"],PY=["ticks"];function ym(r){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(r)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Wp.apply(this,arguments)}function l6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Au(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(a){YN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function pj(r,e){if(r==null)return{};var n=FY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function FY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function DY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function c6(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,lF(a.key),a)}}function MY(r,e,n){return e&&c6(r.prototype,e),n&&c6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function RY(r,e,n){return e=o2(e),LY(r,oF()?Reflect.construct(e,n||[],o2(r).constructor):e.apply(r,n))}function LY(r,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UY(r)}function UY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!r})()}function o2(r){return o2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o2(r)}function HY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&x4(r,e)}function x4(r,e){return x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},x4(r,e)}function YN(r,e,n){return e=lF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function lF(r){var e=QY(r,"string");return ym(e)=="symbol"?e:e+""}function QY(r,e){if(ym(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Mm=(function(r){function e(n){var a;return DY(this,e),a=RY(this,e,[n]),a.state={fontSize:"",letterSpacing:""},a}return HY(e,r),MY(e,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,c=pj(a,OY),l=this.props,u=l.viewBox,o=pj(l,kY);return!Zp(s,u)||!Zp(c,o)||!Zp(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,c=i.y,l=i.width,u=i.height,o=i.orientation,h=i.tickSize,d=i.mirror,f=i.tickMargin,A,g,m,x,y,b,w=d?-1:1,N=a.tickSize||h,S=gn(a.tickCoord)?a.tickCoord:a.coordinate;switch(o){case"top":A=g=a.coordinate,x=c+ +!d*u,m=x-w*N,b=m-w*f,y=S;break;case"left":m=x=a.coordinate,g=s+ +!d*l,A=g-w*N,y=A-w*f,b=S;break;case"right":m=x=a.coordinate,g=s+ +d*l,A=g+w*N,y=A+w*f,b=S;break;default:A=g=a.coordinate,x=c+ +d*u,m=x+w*N,b=m+w*f,y=S;break}return{line:{x1:A,y1:m,x2:g,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c;switch(i){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.orientation,o=a.mirror,h=a.axisLine,d=Au(Au(Au({},_a(this.props,!1)),_a(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var f=+(u==="top"&&!o||u==="bottom"&&o);d=Au(Au({},d),{},{x1:i,y1:s+f*l,x2:i+c,y2:s+f*l})}else{var A=+(u==="left"&&!o||u==="right"&&o);d=Au(Au({},d),{},{x1:i+A*c,y1:s,x2:i+A*c,y2:s+l})}return St.createElement("line",Wp({},d,{className:gi("recharts-cartesian-axis-line",ld(h,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var c=this,l=this.props,u=l.tickLine,o=l.stroke,h=l.tick,d=l.tickFormatter,f=l.unit,A=XN(Au(Au({},this.props),{},{ticks:a}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=_a(this.props,!1),y=_a(h,!1),b=Au(Au({},x),{},{fill:"none"},_a(u,!1)),w=A.map(function(N,S){var j=c.getTickLineCoord(N),_=j.line,P=j.tick,Z=Au(Au(Au(Au({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:o},y),P),{},{index:S,payload:N,visibleTicksCount:A.length,tickFormatter:d});return St.createElement(ss,Wp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},np(c.props,N,S)),u&&St.createElement("line",Wp({},b,_,{className:gi("recharts-cartesian-axis-tick-line",ld(u,"className"))})),h&&e.renderTickItem(h,Z,"".concat(qa(d)?d(N.value,S):N.value).concat(f||"")))});return St.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,c=i.width,l=i.height,u=i.ticksGenerator,o=i.className,h=i.hide;if(h)return null;var d=this.props,f=d.ticks,A=pj(d,PY),g=f;return qa(u)&&(g=f&&f.length>0?u(this.props):u(A)),c<=0||l<=0||!g||!g.length?null:St.createElement(ss,{className:gi("recharts-cartesian-axis",o),ref:function(x){a.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),xc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return St.isValidElement(a)?c=St.cloneElement(a,i):qa(a)?c=a(i):c=St.createElement(ap,Wp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(k.Component);YN(Mm,"displayName","CartesianAxis");YN(Mm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WY=["x1","y1","x2","y2","key"],$Y=["offset"];function op(r){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(r)}function u6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Jc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(a){VY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function VY(r,e,n){return e=zY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function zY(r){var e=KY(r,"string");return op(e)=="symbol"?e:e+""}function KY(r,e){if(op(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(op(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function XA(){return XA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},XA.apply(this,arguments)}function d6(r,e){if(r==null)return{};var n=GY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function GY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var qY=function(e){var n=e.fill;if(!n||n==="none")return null;var a=e.fillOpacity,i=e.x,s=e.y,c=e.width,l=e.height,u=e.ry;return St.createElement("rect",{x:i,y:s,ry:u,width:c,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function cF(r,e){var n;if(St.isValidElement(r))n=St.cloneElement(r,e);else if(qa(r))n=r(e);else{var a=e.x1,i=e.y1,s=e.x2,c=e.y2,l=e.key,u=d6(e,WY),o=_a(u,!1);o.offset;var h=d6(o,$Y);n=St.createElement("line",XA({},h,{x1:a,y1:i,x2:s,y2:c,fill:"none",key:l}))}return n}function XY(r){var e=r.x,n=r.width,a=r.horizontal,i=a===void 0?!0:a,s=r.horizontalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=Jc(Jc({},r),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(u),index:u});return cF(i,o)});return St.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function YY(r){var e=r.y,n=r.height,a=r.vertical,i=a===void 0?!0:a,s=r.verticalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=Jc(Jc({},r),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(u),index:u});return cF(i,o)});return St.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ZY(r){var e=r.horizontalFill,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=r.horizontalPoints,u=r.horizontal,o=u===void 0?!0:u;if(!o||!e||!e.length)return null;var h=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,A){return f-A});i!==h[0]&&h.unshift(0);var d=h.map(function(f,A){var g=!h[A+1],m=g?i+c-f:h[A+1]-f;if(m<=0)return null;var x=A%e.length;return St.createElement("rect",{key:"react-".concat(A),y:f,x:a,height:m,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return St.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function JY(r){var e=r.vertical,n=e===void 0?!0:e,a=r.verticalFill,i=r.fillOpacity,s=r.x,c=r.y,l=r.width,u=r.height,o=r.verticalPoints;if(!n||!a||!a.length)return null;var h=o.map(function(f){return Math.round(f+s-s)}).sort(function(f,A){return f-A});s!==h[0]&&h.unshift(0);var d=h.map(function(f,A){var g=!h[A+1],m=g?s+l-f:h[A+1]-f;if(m<=0)return null;var x=A%a.length;return St.createElement("rect",{key:"react-".concat(A),x:f,y:c,width:m,height:u,stroke:"none",fill:a[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return St.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var eZ=function(e,n){var a=e.xAxis,i=e.width,s=e.height,c=e.offset;return cP(XN(Jc(Jc(Jc({},Mm.defaultProps),a),{},{ticks:uf(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,n)},tZ=function(e,n){var a=e.yAxis,i=e.width,s=e.height,c=e.offset;return cP(XN(Jc(Jc(Jc({},Mm.defaultProps),a),{},{ticks:uf(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,n)},_p={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iv(r){var e,n,a,i,s,c,l=zN(),u=KN(),o=QX(),h=Jc(Jc({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:_p.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:_p.fill,horizontal:(a=r.horizontal)!==null&&a!==void 0?a:_p.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:_p.horizontalFill,vertical:(s=r.vertical)!==null&&s!==void 0?s:_p.vertical,verticalFill:(c=r.verticalFill)!==null&&c!==void 0?c:_p.verticalFill,x:gn(r.x)?r.x:o.left,y:gn(r.y)?r.y:o.top,width:gn(r.width)?r.width:o.width,height:gn(r.height)?r.height:o.height}),d=h.x,f=h.y,A=h.width,g=h.height,m=h.syncWithTicks,x=h.horizontalValues,y=h.verticalValues,b=LX(),w=UX();if(!gn(A)||A<=0||!gn(g)||g<=0||!gn(d)||d!==+d||!gn(f)||f!==+f)return null;var N=h.verticalCoordinatesGenerator||eZ,S=h.horizontalCoordinatesGenerator||tZ,j=h.horizontalPoints,_=h.verticalPoints;if((!j||!j.length)&&qa(S)){var P=x&&x.length,Z=S({yAxis:w?Jc(Jc({},w),{},{ticks:P?x:w.ticks}):void 0,width:l,height:u,offset:o},P?!0:m);dh(Array.isArray(Z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(op(Z),"]")),Array.isArray(Z)&&(j=Z)}if((!_||!_.length)&&qa(N)){var ee=y&&y.length,K=N({xAxis:b?Jc(Jc({},b),{},{ticks:ee?y:b.ticks}):void 0,width:l,height:u,offset:o},ee?!0:m);dh(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(op(K),"]")),Array.isArray(K)&&(_=K)}return St.createElement("g",{className:"recharts-cartesian-grid"},St.createElement(qY,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),St.createElement(XY,XA({},h,{offset:o,horizontalPoints:j,xAxis:b,yAxis:w})),St.createElement(YY,XA({},h,{offset:o,verticalPoints:_,xAxis:b,yAxis:w})),St.createElement(ZY,XA({},h,{horizontalPoints:j})),St.createElement(JY,XA({},h,{verticalPoints:_})))}iv.displayName="CartesianGrid";var rZ=["type","layout","connectNulls","ref"],nZ=["key"];function bm(r){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(r)}function h6(r,e){if(r==null)return{};var n=aZ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function aZ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function G0(){return G0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},G0.apply(this,arguments)}function f6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function rd(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(a){oh(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Op(r){return lZ(r)||oZ(r)||sZ(r)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(r,e){if(r){if(typeof r=="string")return y4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y4(r,e)}}function oZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function lZ(r){if(Array.isArray(r))return y4(r)}function y4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function cZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,dF(a.key),a)}}function uZ(r,e,n){return e&&A6(r.prototype,e),n&&A6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function dZ(r,e,n){return e=l2(e),hZ(r,uF()?Reflect.construct(e,n||[],l2(r).constructor):e.apply(r,n))}function hZ(r,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fZ(r)}function fZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!r})()}function l2(r){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l2(r)}function AZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&b4(r,e)}function b4(r,e){return b4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},b4(r,e)}function oh(r,e,n){return e=dF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function dF(r){var e=pZ(r,"string");return bm(e)=="symbol"?e:e+""}function pZ(r,e){if(bm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wm=(function(r){function e(){var n;cZ(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=dZ(this,e,[].concat(i)),oh(n,"state",{isAnimationFinished:!0,totalLength:0}),oh(n,"generateSimpleStrokeDasharray",function(c,l){return"".concat(l,"px ").concat(c-l,"px")}),oh(n,"getStrokeDasharray",function(c,l,u){var o=u.reduce(function(y,b){return y+b});if(!o)return n.generateSimpleStrokeDasharray(l,c);for(var h=Math.floor(c/o),d=c%o,f=l-c,A=[],g=0,m=0;g<u.length;m+=u[g],++g)if(m+u[g]>d){A=[].concat(Op(u.slice(0,g)),[d-m]);break}var x=A.length%2===0?[0,f]:[f];return[].concat(Op(e.repeat(u,h)),Op(A),x).map(function(y){return"".concat(y,"px")}).join(", ")}),oh(n,"id",Om("recharts-line-")),oh(n,"pathRef",function(c){n.mainCurve=c}),oh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),oh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return AZ(e,r),uZ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,l=s.xAxis,u=s.yAxis,o=s.layout,h=s.children,d=cd(h,Wg);if(!d)return null;var f=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Kl(m.payload,x)}},A={clipPath:a?"url(#clipPath-".concat(i,")"):null};return St.createElement(ss,A,d.map(function(g){return St.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,i,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,o=l.points,h=l.dataKey,d=_a(this.props,!1),f=_a(u,!0),A=o.map(function(m,x){var y=rd(rd(rd({key:"dot-".concat(x),r:3},d),f),{},{value:m.value,dataKey:h,cx:m.x,cy:m.y,index:x,payload:m.payload});return e.renderDotItem(u,y)}),g={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return St.createElement(ss,G0({className:"recharts-line-dots",key:"dots"},g),A)}},{key:"renderCurveStatically",value:function(a,i,s,c){var l=this.props,u=l.type,o=l.layout,h=l.connectNulls;l.ref;var d=h6(l,rZ),f=rd(rd(rd({},_a(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},c),{},{type:u,layout:o,connectNulls:h});return St.createElement(Hv,G0({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,c=this.props,l=c.points,u=c.strokeDasharray,o=c.isAnimationActive,h=c.animationBegin,d=c.animationDuration,f=c.animationEasing,A=c.animationId,g=c.animateNewValues,m=c.width,x=c.height,y=this.state,b=y.prevPoints,w=y.totalLength;return St.createElement(kh,{begin:h,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(b){var j=b.length/l.length,_=l.map(function(ae,D){var q=Math.floor(D*j);if(b[q]){var $=b[q],L=sd($.x,ae.x),ye=sd($.y,ae.y);return rd(rd({},ae),{},{x:L(S),y:ye(S)})}if(g){var ne=sd(m*2,ae.x),Be=sd(x/2,ae.y);return rd(rd({},ae),{},{x:ne(S),y:Be(S)})}return rd(rd({},ae),{},{x:ae.x,y:ae.y})});return s.renderCurveStatically(_,a,i)}var P=sd(0,w),Z=P(S),ee;if(u){var K="".concat(u).split(/[,\s]+/gim).map(function(ae){return parseFloat(ae)});ee=s.getStrokeDasharray(Z,w,K)}else ee=s.generateSimpleStrokeDasharray(w,Z);return s.renderCurveStatically(l,a,i,{strokeDasharray:ee})})}},{key:"renderCurve",value:function(a,i){var s=this.props,c=s.points,l=s.isAnimationActive,u=this.state,o=u.prevPoints,h=u.totalLength;return l&&c&&c.length&&(!o&&h>0||!Qg(o,c))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(c,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,c=i.dot,l=i.points,u=i.className,o=i.xAxis,h=i.yAxis,d=i.top,f=i.left,A=i.width,g=i.height,m=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=gi("recharts-line",u),N=o&&o.allowDataOverflow,S=h&&h.allowDataOverflow,j=N||S,_=li(x)?this.id:x,P=(a=_a(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},Z=P.r,ee=Z===void 0?3:Z,K=P.strokeWidth,ae=K===void 0?2:K,D=WR(c)?c:{},q=D.clipDot,$=q===void 0?!0:q,L=ee*2+ae;return St.createElement(ss,{className:w},N||S?St.createElement("defs",null,St.createElement("clipPath",{id:"clipPath-".concat(_)},St.createElement("rect",{x:N?f:f-A/2,y:S?d:d-g/2,width:N?A:A*2,height:S?g:g*2})),!$&&St.createElement("clipPath",{id:"clipPath-dots-".concat(_)},St.createElement("rect",{x:f-L/2,y:d-L/2,width:A+L,height:g+L}))):null,!b&&this.renderCurve(j,_),this.renderErrorBar(j,_),(b||c)&&this.renderDots(j,$,_),(!m||y)&&Af.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(Op(a),[0]):a,c=[],l=0;l<i;++l)c=[].concat(Op(c),Op(s));return c}},{key:"renderDotItem",value:function(a,i){var s;if(St.isValidElement(a))s=St.cloneElement(a,i);else if(qa(a))s=a(i);else{var c=i.key,l=h6(i,nZ),u=gi("recharts-line-dot",typeof a!="boolean"?a.className:"");s=St.createElement(z2,G0({key:c},l,{className:u}))}return s}}])})(k.PureComponent);oh(wm,"displayName","Line");oh(wm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});oh(wm,"getComposedData",function(r){var e=r.props,n=r.xAxis,a=r.yAxis,i=r.xAxisTicks,s=r.yAxisTicks,c=r.dataKey,l=r.bandSize,u=r.displayedData,o=r.offset,h=e.layout,d=u.map(function(f,A){var g=Kl(f,c);return h==="horizontal"?{x:xI({axis:n,ticks:i,bandSize:l,entry:f,index:A}),y:li(g)?null:a.scale(g),value:g,payload:f}:{x:li(g)?null:n.scale(g),y:xI({axis:a,ticks:s,bandSize:l,entry:f,index:A}),value:g,payload:f}});return rd({points:d,layout:h},o)});function jm(r){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(r)}function mZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,AF(a.key),a)}}function vZ(r,e,n){return e&&gZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function xZ(r,e,n){return e=c2(e),yZ(r,hF()?Reflect.construct(e,n||[],c2(r).constructor):e.apply(r,n))}function yZ(r,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bZ(r)}function bZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!r})()}function c2(r){return c2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c2(r)}function wZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&w4(r,e)}function w4(r,e){return w4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},w4(r,e)}function fF(r,e,n){return e=AF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function AF(r){var e=jZ(r,"string");return jm(e)=="symbol"?e:e+""}function jZ(r,e){if(jm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function j4(){return j4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},j4.apply(this,arguments)}function CZ(r){var e=r.xAxisId,n=zN(),a=KN(),i=ZP(e);return i==null?null:St.createElement(Mm,j4({},i,{className:gi("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return uf(c,!0)}}))}var ep=(function(r){function e(){return mZ(this,e),xZ(this,e,arguments)}return wZ(e,r),vZ(e,[{key:"render",value:function(){return St.createElement(CZ,this.props)}}])})(St.Component);fF(ep,"displayName","XAxis");fF(ep,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cm(r){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(r)}function NZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,gF(a.key),a)}}function BZ(r,e,n){return e&&SZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function EZ(r,e,n){return e=u2(e),IZ(r,pF()?Reflect.construct(e,n||[],u2(r).constructor):e.apply(r,n))}function IZ(r,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TZ(r)}function TZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!r})()}function u2(r){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u2(r)}function _Z(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&C4(r,e)}function C4(r,e){return C4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},C4(r,e)}function mF(r,e,n){return e=gF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gF(r){var e=OZ(r,"string");return Cm(e)=="symbol"?e:e+""}function OZ(r,e){if(Cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function N4(){return N4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},N4.apply(this,arguments)}var kZ=function(e){var n=e.yAxisId,a=zN(),i=KN(),s=JP(n);return s==null?null:St.createElement(Mm,N4({},s,{className:gi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(l){return uf(l,!0)}}))},tp=(function(r){function e(){return NZ(this,e),EZ(this,e,arguments)}return _Z(e,r),BZ(e,[{key:"render",value:function(){return St.createElement(kZ,this.props)}}])})(St.Component);mF(tp,"displayName","YAxis");mF(tp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p6(r){return MZ(r)||DZ(r)||FZ(r)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(r,e){if(r){if(typeof r=="string")return S4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S4(r,e)}}function DZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function MZ(r){if(Array.isArray(r))return S4(r)}function S4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var B4=function(e,n,a,i,s){var c=cd(e,qN),l=cd(e,tx),u=[].concat(p6(c),p6(l)),o=cd(e,nx),h="".concat(i,"Id"),d=i[0],f=n;if(u.length&&(f=u.reduce(function(m,x){if(x.props[h]===a&&_h(x.props,"extendDomain")&&gn(x.props[d])){var y=x.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},f)),o.length){var A="".concat(d,"1"),g="".concat(d,"2");f=o.reduce(function(m,x){if(x.props[h]===a&&_h(x.props,"extendDomain")&&gn(x.props[A])&&gn(x.props[g])){var y=x.props[A],b=x.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},f)}return s&&s.length&&(f=s.reduce(function(m,x){return gn(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},f)),f},mj={exports:{}},m6;function RZ(){return m6||(m6=1,(function(r){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(u,o,h){this.fn=u,this.context=o,this.once=h||!1}function s(u,o,h,d,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var A=new i(h,d||u,f),g=n?n+o:o;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],A]:u._events[g].push(A):(u._events[g]=A,u._eventsCount++),u}function c(u,o){--u._eventsCount===0?u._events=new a:delete u._events[o]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var o=[],h,d;if(this._eventsCount===0)return o;for(d in h=this._events)e.call(h,d)&&o.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(h)):o},l.prototype.listeners=function(o){var h=n?n+o:o,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,A=d.length,g=new Array(A);f<A;f++)g[f]=d[f].fn;return g},l.prototype.listenerCount=function(o){var h=n?n+o:o,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(o,h,d,f,A,g){var m=n?n+o:o;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(o,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,d),!0;case 4:return x.fn.call(x.context,h,d,f),!0;case 5:return x.fn.call(x.context,h,d,f,A),!0;case 6:return x.fn.call(x.context,h,d,f,A,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var N=x.length,S;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(o,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,d);break;case 4:x[w].fn.call(x[w].context,h,d,f);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(o,h,d){return s(this,o,h,d,!1)},l.prototype.once=function(o,h,d){return s(this,o,h,d,!0)},l.prototype.removeListener=function(o,h,d,f){var A=n?n+o:o;if(!this._events[A])return this;if(!h)return c(this,A),this;var g=this._events[A];if(g.fn)g.fn===h&&(!f||g.once)&&(!d||g.context===d)&&c(this,A);else{for(var m=0,x=[],y=g.length;m<y;m++)(g[m].fn!==h||f&&!g[m].once||d&&g[m].context!==d)&&x.push(g[m]);x.length?this._events[A]=x.length===1?x[0]:x:c(this,A)}return this},l.prototype.removeAllListeners=function(o){var h;return o?(h=n?n+o:o,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(mj)),mj.exports}var LZ=RZ();const UZ=Ji(LZ);var gj=new UZ,vj="recharts.syncMouseEvents";function Og(r){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(r)}function HZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function QZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,vF(a.key),a)}}function WZ(r,e,n){return e&&QZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function xj(r,e,n){return e=vF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function vF(r){var e=$Z(r,"string");return Og(e)=="symbol"?e:e+""}function $Z(r,e){if(Og(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var VZ=(function(){function r(){HZ(this,r),xj(this,"activeIndex",0),xj(this,"coordinateList",[]),xj(this,"layout","horizontal")}return WZ(r,[{key:"setDetails",value:function(n){var a,i=n.coordinateList,s=i===void 0?null:i,c=n.container,l=c===void 0?null:c,u=n.layout,o=u===void 0?null:u,h=n.offset,d=h===void 0?null:h,f=n.mouseHandlerCallback,A=f===void 0?null:f;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=o??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,c=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,o=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((a=window)===null||a===void 0?void 0:a.scrollY)||0,d=s+u+o,f=c+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])})();function zZ(r,e,n){if(n==="number"&&e===!0&&Array.isArray(r)){var a=r==null?void 0:r[0],i=r==null?void 0:r[1];if(a&&i&&gn(a)&&gn(i))return!0}return!1}function KZ(r,e,n,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:n.left+.5,y:r==="horizontal"?n.top+.5:e.y-i,width:r==="horizontal"?a:n.width-1,height:r==="horizontal"?n.height-1:a}}function xF(r){var e=r.cx,n=r.cy,a=r.radius,i=r.startAngle,s=r.endAngle,c=ao(e,n,a,i),l=ao(e,n,a,s);return{points:[c,l],cx:e,cy:n,radius:a,startAngle:i,endAngle:s}}function GZ(r,e,n){var a,i,s,c;if(r==="horizontal")a=e.x,s=a,i=n.top,c=n.top+n.height;else if(r==="vertical")i=e.y,c=i,a=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var l=e.cx,u=e.cy,o=e.innerRadius,h=e.outerRadius,d=e.angle,f=ao(l,u,o,d),A=ao(l,u,h,d);a=f.x,i=f.y,s=A.x,c=A.y}else return xF(e);return[{x:a,y:i},{x:s,y:c}]}function kg(r){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(r)}function g6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function d1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(n),!0).forEach(function(a){qZ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function qZ(r,e,n){return e=XZ(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function XZ(r){var e=YZ(r,"string");return kg(e)=="symbol"?e:e+""}function YZ(r,e){if(kg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(kg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ZZ(r){var e,n,a=r.element,i=r.tooltipEventType,s=r.isActive,c=r.activeCoordinate,l=r.activePayload,u=r.offset,o=r.activeTooltipIndex,h=r.tooltipAxisBandSize,d=r.layout,f=r.chartName,A=(e=a.props.cursor)!==null&&e!==void 0?e:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!A||!s||!c||f!=="ScatterChart"&&i!=="axis")return null;var g,m=Hv;if(f==="ScatterChart")g=c,m=yG;else if(f==="BarChart")g=KZ(d,c,u,h),m=QN;else if(d==="radial"){var x=xF(c),y=x.cx,b=x.cy,w=x.radius,N=x.startAngle,S=x.endAngle;g={cx:y,cy:b,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},m=yP}else g={points:GZ(d,c,u)},m=Hv;var j=d1(d1(d1(d1({stroke:"#ccc",pointerEvents:"none"},u),g),_a(A,!1)),{},{payload:l,payloadIndex:o,className:gi("recharts-tooltip-cursor",A.className)});return k.isValidElement(A)?k.cloneElement(A,j):k.createElement(m,j)}var JZ=["item"],eJ=["children","className","width","height","style","compact","title","desc"];function Nm(r){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(r)}function $p(){return $p=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$p.apply(this,arguments)}function v6(r,e){return nJ(r)||rJ(r,e)||bF(r,e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function nJ(r){if(Array.isArray(r))return r}function x6(r,e){if(r==null)return{};var n=aJ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function aJ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function iJ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sJ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,wF(a.key),a)}}function oJ(r,e,n){return e&&sJ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function lJ(r,e,n){return e=d2(e),cJ(r,yF()?Reflect.construct(e,n||[],d2(r).constructor):e.apply(r,n))}function cJ(r,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uJ(r)}function uJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!r})()}function d2(r){return d2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d2(r)}function dJ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&E4(r,e)}function E4(r,e){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},E4(r,e)}function Sm(r){return AJ(r)||fJ(r)||bF(r)||hJ()}function hJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bF(r,e){if(r){if(typeof r=="string")return I4(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I4(r,e)}}function fJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function AJ(r){if(Array.isArray(r))return I4(r)}function I4(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function y6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(a){Ra(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Ra(r,e,n){return e=wF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function wF(r){var e=pJ(r,"string");return Nm(e)=="symbol"?e:e+""}function pJ(r,e){if(Nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var mJ={xAxis:["bottom","top"],yAxis:["left","right"]},gJ={width:"100%",height:"100%"},jF={x:0,y:0};function h1(r){return r}var vJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xJ=function(e,n,a,i){var s=n.find(function(h){return h&&h.index===a});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,l=i.radius;return kr(kr(kr({},i),ao(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}var u=s.coordinate,o=i.angle;return kr(kr(kr({},i),ao(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}return jF},ax=function(e,n){var a=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,c=(a??[]).reduce(function(l,u){var o=u.props.data;return o&&o.length?[].concat(Sm(l),Sm(o)):l},[]);return c.length>0?c:e&&e.length&&gn(i)&&gn(s)?e.slice(i,s+1):[]};function CF(r){return r==="number"?[0,"auto"]:void 0}var T4=function(e,n,a,i){var s=e.graphicalItems,c=e.tooltipAxis,l=ax(n,e);return a<0||!s||!s.length||a>=l.length?null:s.reduce(function(u,o){var h,d=(h=o.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=a&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(c.dataKey&&!c.allowDuplicatedCategory){var A=d===void 0?l:d;f=hv(A,c.dataKey,i)}else f=d&&d[a]||l[a];return f?[].concat(Sm(u),[AP(o,f)]):u},[])},b6=function(e,n,a,i){var s=i||{x:e.chartX,y:e.chartY},c=vJ(s,a),l=e.orderedTooltipTicks,u=e.tooltipAxis,o=e.tooltipTicks,h=H$(c,l,o,u);if(h>=0&&o){var d=o[h]&&o[h].value,f=T4(e,n,h,d),A=xJ(a,l,h,s);return{activeTooltipIndex:h,activeLabel:d,activePayload:f,activeCoordinate:A}}return null},yJ=function(e,n){var a=n.axes,i=n.graphicalItems,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.layout,d=e.children,f=e.stackOffset,A=lP(h,s);return a.reduce(function(g,m){var x,y=m.type.defaultProps!==void 0?kr(kr({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,N=y.allowDataOverflow,S=y.allowDuplicatedCategory,j=y.scale,_=y.ticks,P=y.includeHidden,Z=y[c];if(g[Z])return g;var ee=ax(e.data,{graphicalItems:i.filter(function(ue){var ve,le=c in ue.props?ue.props[c]:(ve=ue.type.defaultProps)===null||ve===void 0?void 0:ve[c];return le===Z}),dataStartIndex:u,dataEndIndex:o}),K=ee.length,ae,D,q;zZ(y.domain,N,b)&&(ae=$C(y.domain,null,N),A&&(b==="number"||j!=="auto")&&(q=$0(ee,w,"category")));var $=CF(b);if(!ae||ae.length===0){var L,ye=(L=y.domain)!==null&&L!==void 0?L:$;if(w){if(ae=$0(ee,w,b),b==="category"&&A){var ne=PR(ae);S&&ne?(D=ae,ae=Zv(0,K)):S||(ae=jI(ye,ae,m).reduce(function(ue,ve){return ue.indexOf(ve)>=0?ue:[].concat(Sm(ue),[ve])},[]))}else if(b==="category")S?ae=ae.filter(function(ue){return ue!==""&&!li(ue)}):ae=jI(ye,ae,m).reduce(function(ue,ve){return ue.indexOf(ve)>=0||ve===""||li(ve)?ue:[].concat(Sm(ue),[ve])},[]);else if(b==="number"){var Be=z$(ee,i.filter(function(ue){var ve,le,Ae=c in ue.props?ue.props[c]:(ve=ue.type.defaultProps)===null||ve===void 0?void 0:ve[c],Ie="hide"in ue.props?ue.props.hide:(le=ue.type.defaultProps)===null||le===void 0?void 0:le.hide;return Ae===Z&&(P||!Ie)}),w,s,h);Be&&(ae=Be)}A&&(b==="number"||j!=="auto")&&(q=$0(ee,w,"category"))}else A?ae=Zv(0,K):l&&l[Z]&&l[Z].hasStack&&b==="number"?ae=f==="expand"?[0,1]:fP(l[Z].stackGroups,u,o):ae=oP(ee,i.filter(function(ue){var ve=c in ue.props?ue.props[c]:ue.type.defaultProps[c],le="hide"in ue.props?ue.props.hide:ue.type.defaultProps.hide;return ve===Z&&(P||!le)}),b,h,!0);if(b==="number")ae=B4(d,ae,Z,s,_),ye&&(ae=$C(ye,ae,N));else if(b==="category"&&ye){var Te=ye,me=ae.every(function(ue){return Te.indexOf(ue)>=0});me&&(ae=Te)}}return kr(kr({},g),{},Ra({},Z,kr(kr({},y),{},{axisType:s,domain:ae,categoricalDomain:q,duplicateDomain:D,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:A,layout:h})))},{})},bJ=function(e,n){var a=n.graphicalItems,i=n.Axis,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.layout,d=e.children,f=ax(e.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:o}),A=f.length,g=lP(h,s),m=-1;return a.reduce(function(x,y){var b=y.type.defaultProps!==void 0?kr(kr({},y.type.defaultProps),y.props):y.props,w=b[c],N=CF("number");if(!x[w]){m++;var S;return g?S=Zv(0,A):l&&l[w]&&l[w].hasStack?(S=fP(l[w].stackGroups,u,o),S=B4(d,S,w,s)):(S=$C(N,oP(f,a.filter(function(j){var _,P,Z=c in j.props?j.props[c]:(_=j.type.defaultProps)===null||_===void 0?void 0:_[c],ee="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return Z===w&&!ee}),"number",h),i.defaultProps.allowDataOverflow),S=B4(d,S,w,s)),kr(kr({},x),{},Ra({},w,kr(kr({axisType:s},i.defaultProps),{},{hide:!0,orientation:ld(mJ,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:N,isCategorical:g,layout:h})))}return x},{})},wJ=function(e,n){var a=n.axisType,i=a===void 0?"xAxis":a,s=n.AxisComp,c=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),f=cd(h,s),A={};return f&&f.length?A=yJ(e,{axes:f,graphicalItems:c,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:u,dataEndIndex:o}):c&&c.length&&(A=bJ(e,{Axis:s,graphicalItems:c,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:u,dataEndIndex:o})),A},jJ=function(e){var n=Jf(e),a=uf(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:pN(a,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Rv(n,a)}},w6=function(e){var n=e.children,a=e.defaultShowTooltip,i=ad(n,pm),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},CJ=function(e){return!e||!e.length?!1:e.some(function(n){var a=hf(n&&n.type);return a&&a.indexOf("Bar")>=0})},j6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NJ=function(e,n){var a=e.props,i=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,l=e.yAxisMap,u=l===void 0?{}:l,o=a.width,h=a.height,d=a.children,f=a.margin||{},A=ad(d,pm),g=ad(d,Sh),m=Object.keys(u).reduce(function(S,j){var _=u[j],P=_.orientation;return!_.mirror&&!_.hide?kr(kr({},S),{},Ra({},P,S[P]+_.width)):S},{left:f.left||0,right:f.right||0}),x=Object.keys(c).reduce(function(S,j){var _=c[j],P=_.orientation;return!_.mirror&&!_.hide?kr(kr({},S),{},Ra({},P,ld(S,"".concat(P))+_.height)):S},{top:f.top||0,bottom:f.bottom||0}),y=kr(kr({},x),m),b=y.bottom;A&&(y.bottom+=A.props.height||pm.defaultProps.height),g&&n&&(y=$$(y,i,a,n));var w=o-y.left-y.right,N=h-y.top-y.bottom;return kr(kr({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(N,0)})},SJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},ZN=function(e){var n=e.chartName,a=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,c=e.validateTooltipEventTypes,l=c===void 0?["axis"]:c,u=e.axisComponents,o=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,f=function(y,b){var w=b.graphicalItems,N=b.stackGroups,S=b.offset,j=b.updateId,_=b.dataStartIndex,P=b.dataEndIndex,Z=y.barSize,ee=y.layout,K=y.barGap,ae=y.barCategoryGap,D=y.maxBarSize,q=j6(ee),$=q.numericAxisName,L=q.cateAxisName,ye=CJ(w),ne=[];return w.forEach(function(Be,Te){var me=ax(y.data,{graphicalItems:[Be],dataStartIndex:_,dataEndIndex:P}),ue=Be.type.defaultProps!==void 0?kr(kr({},Be.type.defaultProps),Be.props):Be.props,ve=ue.dataKey,le=ue.maxBarSize,Ae=ue["".concat($,"Id")],Ie=ue["".concat(L,"Id")],Pe={},Ce=u.reduce(function(Ct,Xt){var _r=b["".concat(Xt.axisType,"Map")],Or=ue["".concat(Xt.axisType,"Id")];_r&&_r[Or]||Xt.axisType==="zAxis"||sp();var He=_r[Or];return kr(kr({},Ct),{},Ra(Ra({},Xt.axisType,He),"".concat(Xt.axisType,"Ticks"),uf(He)))},Pe),ce=Ce[L],X=Ce["".concat(L,"Ticks")],de=N&&N[Ae]&&N[Ae].hasStack&&tV(Be,N[Ae].stackGroups),se=hf(Be.type).indexOf("Bar")>=0,We=Rv(ce,X),Re=[],Ee=ye&&Q$({barSize:Z,stackGroups:N,totalSize:SJ(Ce,L)});if(se){var ie,Le,Ze=li(le)?D:le,jt=(ie=(Le=Rv(ce,X,!0))!==null&&Le!==void 0?Le:Ze)!==null&&ie!==void 0?ie:0;Re=W$({barGap:K,barCategoryGap:ae,bandSize:jt!==We?jt:We,sizeList:Ee[Ie],maxBarSize:Ze}),jt!==We&&(Re=Re.map(function(Ct){return kr(kr({},Ct),{},{position:kr(kr({},Ct.position),{},{offset:Ct.position.offset-jt/2})})}))}var Lt=Be&&Be.type&&Be.type.getComposedData;Lt&&ne.push({props:kr(kr({},Lt(kr(kr({},Ce),{},{displayedData:me,props:y,dataKey:ve,item:Be,bandSize:We,barPosition:Re,offset:S,stackedData:de,layout:ee,dataStartIndex:_,dataEndIndex:P}))),{},Ra(Ra(Ra({key:Be.key||"item-".concat(Te)},$,Ce[$]),L,Ce[L]),"animationId",j)),childIndex:zR(Be,y.children),item:Be})}),ne},A=function(y,b){var w=y.props,N=y.dataStartIndex,S=y.dataEndIndex,j=y.updateId;if(!MB({props:w}))return null;var _=w.children,P=w.layout,Z=w.stackOffset,ee=w.data,K=w.reverseStackOrder,ae=j6(P),D=ae.numericAxisName,q=ae.cateAxisName,$=cd(_,a),L=J$(ee,$,"".concat(D,"Id"),"".concat(q,"Id"),Z,K),ye=u.reduce(function(ue,ve){var le="".concat(ve.axisType,"Map");return kr(kr({},ue),{},Ra({},le,wJ(w,kr(kr({},ve),{},{graphicalItems:$,stackGroups:ve.axisType===D&&L,dataStartIndex:N,dataEndIndex:S}))))},{}),ne=NJ(kr(kr({},ye),{},{props:w,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(ye).forEach(function(ue){ye[ue]=h(w,ye[ue],ne,ue.replace("Map",""),n)});var Be=ye["".concat(q,"Map")],Te=jJ(Be),me=f(w,kr(kr({},ye),{},{dataStartIndex:N,dataEndIndex:S,updateId:j,graphicalItems:$,stackGroups:L,offset:ne}));return kr(kr({formattedGraphicalItems:me,graphicalItems:$,offset:ne,stackGroups:L},Te),ye)},g=(function(x){function y(b){var w,N,S;return iJ(this,y),S=lJ(this,y,[b]),Ra(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ra(S,"accessibilityManager",new VZ),Ra(S,"handleLegendBBoxUpdate",function(j){if(j){var _=S.state,P=_.dataStartIndex,Z=_.dataEndIndex,ee=_.updateId;S.setState(kr({legendBBox:j},A({props:S.props,dataStartIndex:P,dataEndIndex:Z,updateId:ee},kr(kr({},S.state),{},{legendBBox:j}))))}}),Ra(S,"handleReceiveSyncEvent",function(j,_,P){if(S.props.syncId===j){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),Ra(S,"handleBrushChange",function(j){var _=j.startIndex,P=j.endIndex;if(_!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var Z=S.state.updateId;S.setState(function(){return kr({dataStartIndex:_,dataEndIndex:P},A({props:S.props,dataStartIndex:_,dataEndIndex:P,updateId:Z},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:P})}}),Ra(S,"handleMouseEnter",function(j){var _=S.getMouseInfo(j);if(_){var P=kr(kr({},_),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var Z=S.props.onMouseEnter;qa(Z)&&Z(P,j)}}),Ra(S,"triggeredAfterMouseMove",function(j){var _=S.getMouseInfo(j),P=_?kr(kr({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var Z=S.props.onMouseMove;qa(Z)&&Z(P,j)}),Ra(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ra(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ra(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),Ra(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var P=S.props.onMouseLeave;qa(P)&&P(_,j)}),Ra(S,"handleOuterEvent",function(j){var _=VR(j),P=ld(S.props,"".concat(_));if(_&&qa(P)){var Z,ee;/.*touch.*/i.test(_)?ee=S.getMouseInfo(j.changedTouches[0]):ee=S.getMouseInfo(j),P((Z=ee)!==null&&Z!==void 0?Z:{},j)}}),Ra(S,"handleClick",function(j){var _=S.getMouseInfo(j);if(_){var P=kr(kr({},_),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var Z=S.props.onClick;qa(Z)&&Z(P,j)}}),Ra(S,"handleMouseDown",function(j){var _=S.props.onMouseDown;if(qa(_)){var P=S.getMouseInfo(j);_(P,j)}}),Ra(S,"handleMouseUp",function(j){var _=S.props.onMouseUp;if(qa(_)){var P=S.getMouseInfo(j);_(P,j)}}),Ra(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ra(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),Ra(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),Ra(S,"handleDoubleClick",function(j){var _=S.props.onDoubleClick;if(qa(_)){var P=S.getMouseInfo(j);_(P,j)}}),Ra(S,"handleContextMenu",function(j){var _=S.props.onContextMenu;if(qa(_)){var P=S.getMouseInfo(j);_(P,j)}}),Ra(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&gj.emit(vj,S.props.syncId,j,S.eventEmitterSymbol)}),Ra(S,"applySyncEvent",function(j){var _=S.props,P=_.layout,Z=_.syncMethod,ee=S.state.updateId,K=j.dataStartIndex,ae=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(kr({dataStartIndex:K,dataEndIndex:ae},A({props:S.props,dataStartIndex:K,dataEndIndex:ae,updateId:ee},S.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,q=j.chartY,$=j.activeTooltipIndex,L=S.state,ye=L.offset,ne=L.tooltipTicks;if(!ye)return;if(typeof Z=="function")$=Z(ne,j);else if(Z==="value"){$=-1;for(var Be=0;Be<ne.length;Be++)if(ne[Be].value===j.activeLabel){$=Be;break}}var Te=kr(kr({},ye),{},{x:ye.left,y:ye.top}),me=Math.min(D,Te.x+Te.width),ue=Math.min(q,Te.y+Te.height),ve=ne[$]&&ne[$].value,le=T4(S.state,S.props.data,$),Ae=ne[$]?{x:P==="horizontal"?ne[$].coordinate:me,y:P==="horizontal"?ue:ne[$].coordinate}:jF;S.setState(kr(kr({},j),{},{activeLabel:ve,activeCoordinate:Ae,activePayload:le,activeTooltipIndex:$}))}else S.setState(j)}),Ra(S,"renderCursor",function(j){var _,P=S.state,Z=P.isTooltipActive,ee=P.activeCoordinate,K=P.activePayload,ae=P.offset,D=P.activeTooltipIndex,q=P.tooltipAxisBandSize,$=S.getTooltipEventType(),L=(_=j.props.active)!==null&&_!==void 0?_:Z,ye=S.props.layout,ne=j.key||"_recharts-cursor";return St.createElement(ZZ,{key:ne,activeCoordinate:ee,activePayload:K,activeTooltipIndex:D,chartName:n,element:j,isActive:L,layout:ye,offset:ae,tooltipAxisBandSize:q,tooltipEventType:$})}),Ra(S,"renderPolarAxis",function(j,_,P){var Z=ld(j,"type.axisType"),ee=ld(S.state,"".concat(Z,"Map")),K=j.type.defaultProps,ae=K!==void 0?kr(kr({},K),j.props):j.props,D=ee&&ee[ae["".concat(Z,"Id")]];return k.cloneElement(j,kr(kr({},D),{},{className:gi(Z,D.className),key:j.key||"".concat(_,"-").concat(P),ticks:uf(D,!0)}))}),Ra(S,"renderPolarGrid",function(j){var _=j.props,P=_.radialLines,Z=_.polarAngles,ee=_.polarRadius,K=S.state,ae=K.radiusAxisMap,D=K.angleAxisMap,q=Jf(ae),$=Jf(D),L=$.cx,ye=$.cy,ne=$.innerRadius,Be=$.outerRadius;return k.cloneElement(j,{polarAngles:Array.isArray(Z)?Z:uf($,!0).map(function(Te){return Te.coordinate}),polarRadius:Array.isArray(ee)?ee:uf(q,!0).map(function(Te){return Te.coordinate}),cx:L,cy:ye,innerRadius:ne,outerRadius:Be,key:j.key||"polar-grid",radialLines:P})}),Ra(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,_=S.props,P=_.children,Z=_.width,ee=_.height,K=S.props.margin||{},ae=Z-(K.left||0)-(K.right||0),D=iP({children:P,formattedGraphicalItems:j,legendWidth:ae,legendContent:o});if(!D)return null;var q=D.item,$=x6(D,JZ);return k.cloneElement(q,kr(kr({},$),{},{chartWidth:Z,chartHeight:ee,margin:K,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ra(S,"renderTooltip",function(){var j,_=S.props,P=_.children,Z=_.accessibilityLayer,ee=ad(P,id);if(!ee)return null;var K=S.state,ae=K.isTooltipActive,D=K.activeCoordinate,q=K.activePayload,$=K.activeLabel,L=K.offset,ye=(j=ee.props.active)!==null&&j!==void 0?j:ae;return k.cloneElement(ee,{viewBox:kr(kr({},L),{},{x:L.left,y:L.top}),active:ye,label:$,payload:ye?q:[],coordinate:D,accessibilityLayer:Z})}),Ra(S,"renderBrush",function(j){var _=S.props,P=_.margin,Z=_.data,ee=S.state,K=ee.offset,ae=ee.dataStartIndex,D=ee.dataEndIndex,q=ee.updateId;return k.cloneElement(j,{key:j.key||"_recharts-brush",onChange:o1(S.handleBrushChange,j.props.onChange),data:Z,x:gn(j.props.x)?j.props.x:K.left,y:gn(j.props.y)?j.props.y:K.top+K.height+K.brushBottom-(P.bottom||0),width:gn(j.props.width)?j.props.width:K.width,startIndex:ae,endIndex:D,updateId:"brush-".concat(q)})}),Ra(S,"renderReferenceElement",function(j,_,P){if(!j)return null;var Z=S,ee=Z.clipPathId,K=S.state,ae=K.xAxisMap,D=K.yAxisMap,q=K.offset,$=j.type.defaultProps||{},L=j.props,ye=L.xAxisId,ne=ye===void 0?$.xAxisId:ye,Be=L.yAxisId,Te=Be===void 0?$.yAxisId:Be;return k.cloneElement(j,{key:j.key||"".concat(_,"-").concat(P),xAxis:ae[ne],yAxis:D[Te],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:ee})}),Ra(S,"renderActivePoints",function(j){var _=j.item,P=j.activePoint,Z=j.basePoint,ee=j.childIndex,K=j.isRange,ae=[],D=_.props.key,q=_.item.type.defaultProps!==void 0?kr(kr({},_.item.type.defaultProps),_.item.props):_.item.props,$=q.activeDot,L=q.dataKey,ye=kr(kr({index:ee,dataKey:L,cx:P.x,cy:P.y,r:4,fill:HN(_.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},_a($,!1)),fv($));return ae.push(y.renderActiveDot($,ye,"".concat(D,"-activePoint-").concat(ee))),Z?ae.push(y.renderActiveDot($,kr(kr({},ye),{},{cx:Z.x,cy:Z.y}),"".concat(D,"-basePoint-").concat(ee))):K&&ae.push(null),ae}),Ra(S,"renderGraphicChild",function(j,_,P){var Z=S.filterFormatItem(j,_,P);if(!Z)return null;var ee=S.getTooltipEventType(),K=S.state,ae=K.isTooltipActive,D=K.tooltipAxis,q=K.activeTooltipIndex,$=K.activeLabel,L=S.props.children,ye=ad(L,id),ne=Z.props,Be=ne.points,Te=ne.isRange,me=ne.baseLine,ue=Z.item.type.defaultProps!==void 0?kr(kr({},Z.item.type.defaultProps),Z.item.props):Z.item.props,ve=ue.activeDot,le=ue.hide,Ae=ue.activeBar,Ie=ue.activeShape,Pe=!!(!le&&ae&&ye&&(ve||Ae||Ie)),Ce={};ee!=="axis"&&ye&&ye.props.trigger==="click"?Ce={onClick:o1(S.handleItemMouseEnter,j.props.onClick)}:ee!=="axis"&&(Ce={onMouseLeave:o1(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:o1(S.handleItemMouseEnter,j.props.onMouseEnter)});var ce=k.cloneElement(j,kr(kr({},Z.props),Ce));function X(Xt){return typeof D.dataKey=="function"?D.dataKey(Xt.payload):null}if(Pe)if(q>=0){var de,se;if(D.dataKey&&!D.allowDuplicatedCategory){var We=typeof D.dataKey=="function"?X:"payload.".concat(D.dataKey.toString());de=hv(Be,We,$),se=Te&&me&&hv(me,We,$)}else de=Be==null?void 0:Be[q],se=Te&&me&&me[q];if(Ie||Ae){var Re=j.props.activeIndex!==void 0?j.props.activeIndex:q;return[k.cloneElement(j,kr(kr(kr({},Z.props),Ce),{},{activeIndex:Re})),null,null]}if(!li(de))return[ce].concat(Sm(S.renderActivePoints({item:Z,activePoint:de,basePoint:se,childIndex:q,isRange:Te})))}else{var Ee,ie=(Ee=S.getItemByXY(S.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ce},Le=ie.graphicalItem,Ze=Le.item,jt=Ze===void 0?j:Ze,Lt=Le.childIndex,Ct=kr(kr(kr({},Z.props),Ce),{},{activeIndex:Lt});return[k.cloneElement(jt,Ct),null,null]}return Te?[ce,null,null]:[ce,null]}),Ra(S,"renderCustomized",function(j,_,P){return k.cloneElement(j,kr(kr({key:"recharts-customized-".concat(P)},S.props),S.state))}),Ra(S,"renderMap",{CartesianGrid:{handler:h1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:h1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:h1},YAxis:{handler:h1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Om("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=ik(S.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return dJ(y,x),oJ(y,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,j=w.height,_=w.layout,P=ad(N,id);if(P){var Z=P.props.defaultIndex;if(!(typeof Z!="number"||Z<0||Z>this.state.tooltipTicks.length-1)){var ee=this.state.tooltipTicks[Z]&&this.state.tooltipTicks[Z].value,K=T4(this.state,S,Z,ee),ae=this.state.tooltipTicks[Z].coordinate,D=(this.state.offset.top+j)/2,q=_==="horizontal",$=q?{x:ae,y:D}:{y:ae,x:D},L=this.state.formattedGraphicalItems.find(function(ne){var Be=ne.item;return Be.type.name==="Scatter"});L&&($=kr(kr({},$),L.props.points[Z].tooltipPosition),K=L.props.points[Z].tooltipPayload);var ye={activeTooltipIndex:Z,isTooltipActive:!0,activeLabel:ee,activePayload:K,activeCoordinate:$};this.setState(ye),this.renderCursor(P),this.accessibilityManager.setIndex(Z)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){hC([ad(w.children,id)],[ad(this.props.children,id)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ad(this.props.children,id);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),j=k9(S),_={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},P=S.width/N.offsetWidth||1,Z=this.inRange(_.chartX,_.chartY,P);if(!Z)return null;var ee=this.state,K=ee.xAxisMap,ae=ee.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&K&&ae){var q=Jf(K).scale,$=Jf(ae).scale,L=q&&q.invert?q.invert(_.chartX):null,ye=$&&$.invert?$.invert(_.chartY):null;return kr(kr({},_),{},{xValue:L,yValue:ye})}var ne=b6(this.state,this.props.data,this.props.layout,Z);return ne?kr(kr({},_),ne):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,_=w/S,P=N/S;if(j==="horizontal"||j==="vertical"){var Z=this.state.offset,ee=_>=Z.left&&_<=Z.left+Z.width&&P>=Z.top&&P<=Z.top+Z.height;return ee?{x:_,y:P}:null}var K=this.state,ae=K.angleAxisMap,D=K.radiusAxisMap;if(ae&&D){var q=Jf(ae);return SI({x:_,y:P},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=ad(w,id),j={};S&&N==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=fv(this.props,this.handleOuterEvent);return kr(kr({},_),j)}},{key:"addListener",value:function(){gj.on(vj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gj.removeListener(vj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var j=this.state.formattedGraphicalItems,_=0,P=j.length;_<P;_++){var Z=j[_];if(Z.item===w||Z.props.key===w.key||N===hf(Z.item.type)&&S===Z.childIndex)return Z}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,j=N.top,_=N.height,P=N.width;return St.createElement("defs",null,St.createElement("clipPath",{id:w},St.createElement("rect",{x:S,y:j,height:_,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var j=v6(S,2),_=j[0],P=j[1];return kr(kr({},N),{},Ra({},_,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var j=v6(S,2),_=j[0],P=j[1];return kr(kr({},N),{},Ra({},_,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,j=N.activeItem;if(S&&S.length)for(var _=0,P=S.length;_<P;_++){var Z=S[_],ee=Z.props,K=Z.item,ae=K.type.defaultProps!==void 0?kr(kr({},K.type.defaultProps),K.props):K.props,D=hf(K.type);if(D==="Bar"){var q=(ee.data||[]).find(function(ne){return eG(w,ne)});if(q)return{graphicalItem:Z,payload:q}}else if(D==="RadialBar"){var $=(ee.data||[]).find(function(ne){return SI(w,ne)});if($)return{graphicalItem:Z,payload:$}}else if(Y2(Z,j)||Z2(Z,j)||Bg(Z,j)){var L=jq({graphicalItem:Z,activeTooltipItem:j,itemData:ae.data}),ye=ae.activeIndex===void 0?L:ae.activeIndex;return{graphicalItem:kr(kr({},Z),{},{childIndex:ye}),payload:Bg(Z,j)?ae.data[L]:Z.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!MB(this))return null;var N=this.props,S=N.children,j=N.className,_=N.width,P=N.height,Z=N.style,ee=N.compact,K=N.title,ae=N.desc,D=x6(N,eJ),q=_a(D,!1);if(ee)return St.createElement(J8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},St.createElement(AC,$p({},q,{width:_,height:P,title:K,desc:ae}),this.renderClipPath(),LB(S,this.renderMap)));if(this.props.accessibilityLayer){var $,L;q.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,q.role=(L=this.props.role)!==null&&L!==void 0?L:"application",q.onKeyDown=function(ne){w.accessibilityManager.keyboardEvent(ne)},q.onFocus=function(){w.accessibilityManager.focus()}}var ye=this.parseEventsOfWrapper();return St.createElement(J8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},St.createElement("div",$p({className:gi("recharts-wrapper",j),style:kr({position:"relative",cursor:"default",width:_,height:P},Z)},ye,{ref:function(Be){w.container=Be}}),St.createElement(AC,$p({},q,{width:_,height:P,title:K,desc:ae,style:gJ}),this.renderClipPath(),LB(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);Ra(g,"displayName",n),Ra(g,"defaultProps",kr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ra(g,"getDerivedStateFromProps",function(x,y){var b=x.dataKey,w=x.data,N=x.children,S=x.width,j=x.height,_=x.layout,P=x.stackOffset,Z=x.margin,ee=y.dataStartIndex,K=y.dataEndIndex;if(y.updateId===void 0){var ae=w6(x);return kr(kr(kr({},ae),{},{updateId:0},A(kr(kr({props:x},ae),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:j,prevLayout:_,prevStackOffset:P,prevMargin:Z,prevChildren:N})}if(b!==y.prevDataKey||w!==y.prevData||S!==y.prevWidth||j!==y.prevHeight||_!==y.prevLayout||P!==y.prevStackOffset||!Zp(Z,y.prevMargin)){var D=w6(x),q={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=kr(kr({},b6(y,w,_)),{},{updateId:y.updateId+1}),L=kr(kr(kr({},D),q),$);return kr(kr(kr({},L),A(kr({props:x},L),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:j,prevLayout:_,prevStackOffset:P,prevMargin:Z,prevChildren:N})}if(!hC(N,y.prevChildren)){var ye,ne,Be,Te,me=ad(N,pm),ue=me&&(ye=(ne=me.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&ye!==void 0?ye:ee,ve=me&&(Be=(Te=me.props)===null||Te===void 0?void 0:Te.endIndex)!==null&&Be!==void 0?Be:K,le=ue!==ee||ve!==K,Ae=!li(w),Ie=Ae&&!le?y.updateId:y.updateId+1;return kr(kr({updateId:Ie},A(kr(kr({props:x},y),{},{updateId:Ie,dataStartIndex:ue,dataEndIndex:ve}),y)),{},{prevChildren:N,dataStartIndex:ue,dataEndIndex:ve})}return null}),Ra(g,"renderActiveDot",function(x,y,b){var w;return k.isValidElement(x)?w=k.cloneElement(x,y):qa(x)?w=x(y):w=St.createElement(z2,y),St.createElement(ss,{className:"recharts-active-dot",key:b},w)});var m=k.forwardRef(function(y,b){return St.createElement(g,$p({},y,{ref:b}))});return m.displayName=g.displayName,m},C6=ZN({chartName:"LineChart",GraphicalChild:wm,axisComponents:[{axisType:"xAxis",AxisComp:ep},{axisType:"yAxis",AxisComp:tp}],formatAxisMap:$P}),BJ=ZN({chartName:"BarChart",GraphicalChild:fp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ep},{axisType:"yAxis",AxisComp:tp}],formatAxisMap:$P}),EJ=ZN({chartName:"PieChart",GraphicalChild:wf,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:X2},{axisType:"radiusAxis",AxisComp:G2}],formatAxisMap:dV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const IJ=({title:r,type:e,data:n=[],loading:a=!1,xAxis:i,yAxis:s,series:c})=>{const[l,u]=k.useState([]),[o,h]=k.useState([]),d=i||"label",f=s||"value";k.useEffect(()=>{Array.isArray(n)?(u(n),h(n.map((m,x)=>m.label||m[d]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(h(n.labels||[]),u((n.data||[]).map((m,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:m}}))):(u([]),h([]))},[n,d]);const A=k.useMemo(()=>Array.isArray(c)&&c.length>0?c:[f],[f,c]),g=k.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-chart"})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:l.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),t.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),t.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"chart-container",children:t.jsx(S9,{width:"100%",height:260,children:e==="line"?t.jsxs(C6,{data:l,children:[t.jsx(iv,{strokeDasharray:"3 3"}),t.jsx(ep,{dataKey:d}),t.jsx(tp,{}),t.jsx(id,{}),t.jsx(Sh,{}),A.map(m=>t.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]}):e==="bar"?t.jsxs(BJ,{data:l,children:[t.jsx(iv,{strokeDasharray:"3 3"}),t.jsx(ep,{dataKey:d}),t.jsx(tp,{}),t.jsx(id,{}),t.jsx(Sh,{}),A.map(m=>t.jsx(fp,{dataKey:m,fill:"#2563eb",radius:[6,6,0,0]},m))]}):e==="pie"||e==="doughnut"?t.jsxs(EJ,{children:[t.jsx(id,{}),t.jsx(Sh,{}),t.jsx(wf,{data:l,dataKey:f,nameKey:d,cx:"50%",cy:"50%",outerRadius:90,innerRadius:e==="doughnut"?55:0,paddingAngle:2,children:l.map((m,x)=>t.jsx(P2,{fill:g[x%g.length]},`cell-${x}`))})]}):t.jsxs(C6,{data:l,children:[t.jsx(iv,{strokeDasharray:"3 3"}),t.jsx(ep,{dataKey:d}),t.jsx(tp,{}),t.jsx(id,{}),t.jsx(Sh,{}),A.map(m=>t.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]})})})})]})},TJ=({title:r,columns:e,data:n,loading:a=!1,maxRows:i=5,onRowClick:s})=>{const c=n.slice(0,i);return a?t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-row",children:e.map((o,h)=>t.jsx("div",{className:"skeleton-cell"},h))},u))})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),n.length>i&&t.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:c.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"table-widget",children:t.jsxs("table",{className:"table-widget__table",children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(l=>t.jsx("th",{children:l.label},l.key))})}),t.jsx("tbody",{children:c.map((l,u)=>t.jsx("tr",{onClick:()=>s==null?void 0:s(l),className:s?"table-widget__row--clickable":"",children:e.map(o=>t.jsx("td",{children:o.render?o.render(l[o.key],l):l[o.key]||"-"},o.key))},u))})]})})})]})},_J=({title:r,tasks:e,loading:n=!1,maxItems:a=5,onTaskClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-task-item"},u))})})]});const c=l=>{switch(l){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),t.jsx("p",{children:"No tasks available"})]}):t.jsx("ul",{className:"task-list",children:s.map(l=>t.jsxs("li",{className:`task-item ${i?"task-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsxs("div",{className:"task-item__header",children:[t.jsx("h4",{className:"task-item__title",children:l.title}),t.jsx("span",{className:"task-item__status",style:{backgroundColor:c(l.status)},children:l.status})]}),l.description&&t.jsx("p",{className:"task-item__description",children:l.description}),l.dueDate&&t.jsx("div",{className:"task-item__meta",children:t.jsxs("span",{className:"task-item__due-date",children:["Due: ",l.dueDate]})})]},l.id))})})]})},OJ=({title:r,items:e,loading:n=!1,maxItems:a=5,onApprove:i,onReject:s,onView:c,canApprove:l=!1,canReject:u=!1})=>{const o=e.slice(0,a);return n?t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((h,d)=>t.jsx("div",{className:"skeleton-approval-item"},d))})})]}):t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," pending"]})]}),t.jsx("div",{className:"widget-panel__body",children:o.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No pending approvals"})]}):t.jsx("ul",{className:"approval-queue",children:o.map(h=>t.jsxs("li",{className:"approval-item",children:[t.jsxs("div",{className:"approval-item__header",children:[t.jsxs("div",{className:"approval-item__info",children:[t.jsx("h4",{className:"approval-item__title",children:h.title}),h.description&&t.jsx("p",{className:"approval-item__description",children:h.description})]}),h.amount&&t.jsxs("div",{className:"approval-item__amount",children:["",h.amount.toLocaleString()]})]}),t.jsxs("div",{className:"approval-item__meta",children:[t.jsxs("span",{className:"approval-item__submitted",children:["By ",h.submittedBy,"  ",h.submittedOn]}),h.priority&&t.jsx("span",{className:`approval-item__priority approval-item__priority--${h.priority}`,children:h.priority})]}),t.jsxs("div",{className:"approval-item__actions",children:[c&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(h),children:"View"}),u&&s&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>s(h),children:"Reject"}),l&&i&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>i(h),children:"Approve"})]})]},h.id))})})]})},kJ=({title:r,alerts:e,loading:n=!1,maxItems:a=5})=>{const i=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,l)=>t.jsx("div",{className:"skeleton-alert-item"},l))})})]});const s=c=>{switch(c){case"error":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:i.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No alerts"})]}):t.jsx("ul",{className:"alert-list",children:i.map(c=>t.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[t.jsx("div",{className:"alert-item__icon",children:s(c.type)}),t.jsxs("div",{className:"alert-item__content",children:[t.jsx("h4",{className:"alert-item__title",children:c.title}),t.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&t.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&t.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},PJ=({title:r,activities:e,loading:n=!1,maxItems:a=10,onItemClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((l,u)=>t.jsx("div",{className:"skeleton-activity-item"},u))})})]});const c=l=>{switch(l){case"success":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t.jsx("p",{children:"No recent activity"})]}):t.jsx("ul",{className:"activity-timeline",children:s.map((l,u)=>t.jsxs("li",{className:`activity-item activity-item--${l.type||"info"} ${i?"activity-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsx("div",{className:"activity-item__line",children:u<s.length-1&&t.jsx("div",{className:"activity-item__line-connector"})}),t.jsx("div",{className:"activity-item__icon",children:l.icon||c(l.type)}),t.jsxs("div",{className:"activity-item__content",children:[t.jsxs("div",{className:"activity-item__header",children:[t.jsx("span",{className:"activity-item__user",children:l.user}),t.jsx("span",{className:"activity-item__timestamp",children:l.timestamp})]}),t.jsx("div",{className:"activity-item__action",children:l.action}),l.description&&t.jsx("div",{className:"activity-item__description",children:l.description})]})]},l.id))})})]})},FJ={dashboard:["DASHBOARD_VIEW","DASHBOARD.VIEW"],transaction:["MENU_TRANSACTION_VIEW","ROUTE_ASSIGNMENT_VIEW","BARCODE_LABEL_VIEW","WASTE_COLLECTION_VIEW","WASTE_TRANSACTION_VIEW","VEHICLE_WASTE_COLLECTION_VIEW","WASTE_PROCESS_VIEW"],finance:["FINANCE_VIEW","FINANCE.VIEW","INVOICE_VIEW","INVOICE.VIEW"],commercial:["MENU_COMMERCIAL_VIEW","CONTRACT_VIEW","AGREEMENT_VIEW","AGREEMENT_CLAUSE_VIEW"],compliance:["MENU_COMPLIANCE_VIEW","TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE.VIEW"],master:["MENU_MASTER_VIEW","COMPANY_VIEW","STATE_VIEW","AREA_VIEW","CATEGORY_VIEW","PCB_ZONE_VIEW","COLOR_VIEW","FREQUENCY_VIEW","HCF_TYPE_VIEW","HCF_VIEW","ROUTE_VIEW","FLEET_VIEW","ROUTE_HCF_VIEW","USER_VIEW","ROLE_VIEW"],report:["MENU_REPORTS_VIEW","REPORTS_VIEW","REPORTS.VIEW"]};function Zi(r,e){const n=Array.isArray(r)?r:[];return n.includes("*")?!0:(FJ[e]||[]).some(i=>y2(n,i))}const DJ=({widget:r,permissions:e,isPreviewMode:n})=>{var d,f,A,g,m,x,y,b,w,N,S,j,_,P;const[a,i]=k.useState(null),[s,c]=k.useState(!0),[l,u]=k.useState(null);if(!r||typeof r!="object"||Array.isArray(r))return console.error("[WidgetRenderer] Invalid widget passed:",r),null;if(!r.id||!r.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",r),null;const o=k.useMemo(()=>{var Z;return(Z=r.permissions)!=null&&Z.view?e[r.permissions.view]===!0:!0},[r.permissions,e]);if(k.useEffect(()=>{var K,ae,D,q;if(!r||!r.id||!r.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",r),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${r.id} check:`,{hasDataSource:!!r.dataSource,hasEndpoint:!!((K=r.dataSource)!=null&&K.endpoint),endpoint:(ae=r.dataSource)==null?void 0:ae.endpoint,canView:o,permissions:r.permissions,widgetType:r.type}),!((D=r.dataSource)!=null&&D.endpoint)){console.warn(`[WidgetRenderer] Widget ${r.id} has no dataSource.endpoint, skipping API call`,{widgetId:r.id,widgetTitle:r.title,widgetType:r.type,dataSource:r.dataSource,fullWidget:r}),c(!1);return}if(!o){console.warn(`[WidgetRenderer] Widget ${r.id} cannot be viewed (permission check failed)`,{widgetId:r.id,widgetTitle:r.title,requiredPermission:(q=r.permissions)==null?void 0:q.view,permissions:e}),c(!1);return}const Z=async()=>{var $;try{c(!0),u(null),console.log("[WidgetRenderer] Loading data for widget:",{id:r.id,type:r.type,endpoint:($=r.dataSource)==null?void 0:$.endpoint,fullWidget:r});const L=await VM(r);console.log(`[WidgetRenderer] Data loaded for widget ${r.id}:`,{data:L,hasValue:(L==null?void 0:L.value)!==void 0,value:L==null?void 0:L.value,fullData:L}),L==null?(console.warn(`[WidgetRenderer] Widget ${r.id} returned null/undefined data`),i({value:0})):i(L)}catch(L){console.error(`[WidgetRenderer] Failed to load data for widget ${r.id}:`,L),console.error("[WidgetRenderer] Error type:",typeof L),console.error("[WidgetRenderer] Error message:",L==null?void 0:L.message),console.error("[WidgetRenderer] Error stack:",L==null?void 0:L.stack),console.error("[WidgetRenderer] Widget config:",r),u("Failed to load data"),i({value:0})}finally{c(!1)}};Z();let ee=null;return r.dataSource.refreshInterval&&r.dataSource.refreshInterval>0&&(ee=setInterval(Z,r.dataSource.refreshInterval*1e3)),()=>{ee&&clearInterval(ee)}},[r,o]),!o)return null;const h=((d=r.type)==null?void 0:d.toLowerCase().trim())||"metric";switch(h){case"metric":case"kpi":return t.jsx(zM,{title:r.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:s});case"chart":return t.jsx(IJ,{title:r.title,type:((f=r.chartConfig)==null?void 0:f.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:s,xAxis:(A=r.chartConfig)==null?void 0:A.xAxis,yAxis:(g=r.chartConfig)==null?void 0:g.yAxis,series:(m=r.chartConfig)==null?void 0:m.series});case"table":return t.jsx(TJ,{title:r.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:s,maxRows:((x=r.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":return t.jsx(_J,{title:r.title,tasks:(a==null?void 0:a.tasks)||[],loading:s,maxItems:((y=r.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return t.jsx(OJ,{title:r.title,items:(a==null?void 0:a.items)||[],loading:s,maxItems:((b=r.props)==null?void 0:b.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:e[((N=(w=r.permissions)==null?void 0:w.actions)==null?void 0:N.approve)||""]||!1,canReject:e[((j=(S=r.permissions)==null?void 0:S.actions)==null?void 0:j.approve)||""]||!1});case"activity-timeline":return t.jsx(PJ,{title:r.title,activities:(a==null?void 0:a.activities)||[],loading:s,maxItems:((_=r.props)==null?void 0:_.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return t.jsx(kJ,{title:r.title,alerts:(a==null?void 0:a.alerts)||[],loading:s,maxItems:((P=r.props)==null?void 0:P.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${r.type}" (normalized: "${h}")`,r),t.jsxs("div",{className:"dashboard-widget-error",children:[t.jsxs("p",{children:["Unknown widget type: ",r.type||"undefined"]}),t.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",r.id||"N/A"]})]})}},MJ=()=>{var Z,ee,K;const{user:r,permissions:e,logout:n,permissionsLoaded:a}=pa(),i=_n(),[s]=K4(),[c,l]=k.useState([]),[u,o]=k.useState({}),[h,d]=k.useState(!0),[f,A]=k.useState(!1),[g,m]=k.useState({enabled:!1,role:null});k.useEffect(()=>{const ae=s.get("preview")==="true",D=sessionStorage.getItem("dashboard-preview-config"),q=sessionStorage.getItem("dashboard-preview-role");if(ae&&D&&q)try{const $=JSON.parse(D);m({enabled:!0,role:q}),l($.widgets||[]),o($.permissions||{}),d(!1)}catch($){console.error("Failed to load preview config:",$)}},[s]);const x=g.enabled&&g.role?g.role:((Z=r==null?void 0:r.roles)==null?void 0:Z[0])||"viewer",y=g.enabled,b=e.includes("*"),w=a&&!b&&(!Array.isArray(e)||e.length===0),N=()=>{A(!f)},S=()=>{m({enabled:!1,role:null})},_=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:i.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:i.pathname==="/transaction"||i.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:i.pathname==="/finance"||i.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:i.pathname==="/commercial-agreements"||i.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:i.pathname==="/compliance-training"||i.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:i.pathname==="/master"||i.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:i.pathname.startsWith("/report")},...b?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:i.pathname==="/admin/dashboard-configuration"||i.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:i.pathname==="/admin/permission-configuration"||i.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(ae=>ae.path==="/dashboard"?!0:ae.path==="/transaction"?Zi(e,"transaction"):ae.path==="/finance"?Zi(e,"finance"):ae.path==="/commercial-agreements"?Zi(e,"commercial"):ae.path==="/compliance-training"?Zi(e,"compliance"):ae.path==="/master"?Zi(e,"master"):ae.path==="/report"?Zi(e,"report"):!0);k.useEffect(()=>{if(!a){d(!0);return}if(w){l([]),o({}),d(!1);return}if(g.enabled)return;(async()=>{d(!0);try{console.log("[DashboardPage] Loading dashboard for role:",x);const D=await zA.getDashboardConfig(x);console.log("[DashboardPage] Loaded role config:",{role:D.role,widgetsCount:Array.isArray(D.widgets)?D.widgets.length:0,widgets:D.widgets});const q=r!=null&&r.id?await zA.getUserOverrides(r.id):null,$=zA.computePermissions(D,q);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray($.widgets)?$.widgets.length:0,widgets:$.widgets});let L=[];Array.isArray($.widgets)?$.widgets.forEach(ne=>{Array.isArray(ne)?ne.forEach(Be=>{Be&&typeof Be=="object"&&!Array.isArray(Be)&&L.push(Be)}):ne&&typeof ne=="object"&&!Array.isArray(ne)&&L.push(ne)}):$.widgets&&typeof $.widgets=="object"&&!Array.isArray($.widgets)&&(L=[$.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray($.widgets)?$.widgets.length:0,processedCount:L.length,widgets:L});const ye=L.filter(ne=>!ne||typeof ne!="object"||Array.isArray(ne)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",ne),!1):!0).map((ne,Be)=>{var ve,le,Ae,Ie,Pe,Ce;if(ne.id||(ne.id=`widget-${Date.now()}-${Be}-${Math.random()}`),ne.dataSource||(ne.dataSource={}),!ne.dataSource.endpoint){const ce=ne.id.toLowerCase(),X=(ne.title||"").toLowerCase(),de=`${ce} ${X}`;let se=null;if(ce.includes("total-invoices")||ce.includes("totalinvoices")||ce.startsWith("metric-total-invoices")?se="/dashboard/kpi/total-invoices":ce.includes("pending-invoices")||ce.includes("pendinginvoices")||ce.startsWith("metric-pending-invoices")?se="/dashboard/kpi/pending-invoices":ce.includes("total-revenue")||ce.includes("totalrevenue")||ce.startsWith("metric-total-revenue")?se="/dashboard/kpi/total-revenue":ce.includes("pending-payments")||ce.includes("pendingpayments")||ce.startsWith("metric-pending-payments")?se="/dashboard/kpi/pending-payments":ce.includes("receipts-today")||ce.includes("receiptstoday")?se="/dashboard/kpi/receipts-today":ce.includes("active-users")||ce.includes("activeusers")?se="/dashboard/kpi/active-users":ce.includes("errors-today")||ce.includes("errorstoday")?se="/dashboard/kpi/errors-today":ce.includes("monthly-revenue")||ce.includes("monthlyrevenue")||ce.startsWith("chart-monthly-revenue")?se="/dashboard/chart/monthly-revenue":ce.includes("payment-status")||ce.includes("paymentstatus")?se="/dashboard/chart/payment-status":ce.includes("invoice-aging")||ce.includes("invoiceaging")?se="/dashboard/chart/invoice-aging":ce.includes("recent-invoices")||ce.includes("recentinvoices")||ce.startsWith("table-recent-invoices")?se="/dashboard/table/recent-invoices":ce.includes("recent-payments")||ce.includes("recentpayments")?se="/dashboard/table/recent-payments":ce.includes("pending-receipts")||ce.includes("pendingreceipts")?se="/dashboard/table/pending-receipts":ce.includes("pending-approvals")||ce.includes("pendingapprovals")||ce.includes("approval-queue")||ce.startsWith("approval-queue")?se="/dashboard/tasks/pending-approvals":ce.includes("assigned-tasks")||ce.includes("assignedtasks")?se="/dashboard/tasks/assigned":ce.includes("payment-overdue")||ce.includes("paymentoverdue")?se="/dashboard/alerts/payment-overdue":(ce.includes("compliance-expiry")||ce.includes("complianceexpiry"))&&(se="/dashboard/alerts/compliance-expiry"),se||(de.includes("total invoices")||de.includes("totalinvoices")?se="/dashboard/kpi/total-invoices":de.includes("pending invoices")||de.includes("pendinginvoices")?se="/dashboard/kpi/pending-invoices":de.includes("total revenue")||de.includes("totalrevenue")?se="/dashboard/kpi/total-revenue":de.includes("pending payments")||de.includes("pendingpayments")?se="/dashboard/kpi/pending-payments":de.includes("receipts today")||de.includes("receiptstoday")?se="/dashboard/kpi/receipts-today":de.includes("active users")||de.includes("activeusers")?se="/dashboard/kpi/active-users":de.includes("errors today")||de.includes("errorstoday")?se="/dashboard/kpi/errors-today":de.includes("monthly revenue")||de.includes("monthlyrevenue")?se="/dashboard/chart/monthly-revenue":de.includes("payment status")||de.includes("paymentstatus")?se="/dashboard/chart/payment-status":de.includes("invoice aging")||de.includes("invoiceaging")?se="/dashboard/chart/invoice-aging":de.includes("recent invoices")||de.includes("recentinvoices")?se="/dashboard/table/recent-invoices":de.includes("recent payments")||de.includes("recentpayments")?se="/dashboard/table/recent-payments":de.includes("pending receipts")||de.includes("pendingreceipts")?se="/dashboard/table/pending-receipts":de.includes("pending approvals")||de.includes("pendingapprovals")||de.includes("approval queue")?se="/dashboard/tasks/pending-approvals":de.includes("assigned tasks")||de.includes("assignedtasks")?se="/dashboard/tasks/assigned":de.includes("payment overdue")||de.includes("paymentoverdue")?se="/dashboard/alerts/payment-overdue":(de.includes("compliance expiry")||de.includes("complianceexpiry"))&&(se="/dashboard/alerts/compliance-expiry")),se)console.log(`[DashboardPage] Widget ${ne.id} endpoint inferred from ID/title:`,{widgetId:ne.id,widgetTitle:ne.title,inferredEndpoint:se});else{const We=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];ne.type==="metric"||ne.type==="kpi"?se=We[Be%We.length]||"/dashboard/kpi/total-invoices":ne.type==="chart"?se="/dashboard/chart/monthly-revenue":ne.type==="table"?se="/dashboard/table/recent-invoices":ne.type==="task-list"||ne.type==="approval-queue"?se="/dashboard/tasks/pending-approvals":ne.type==="alert"?se="/dashboard/alerts/payment-overdue":se=We[Be%We.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${ne.id} missing endpoint, using index-based assignment:`,{widgetId:ne.id,widgetTitle:ne.title,widgetType:ne.type,widgetIndex:Be,assignedEndpoint:se})}ne.dataSource.endpoint=se}if(!ne.title){const ce=((ve=ne.dataSource)==null?void 0:ve.endpoint)||"";ce.includes("total-invoices")?ne.title="Total Invoices":ce.includes("pending-invoices")?ne.title="Pending Invoices":ce.includes("total-revenue")?ne.title="Total Revenue":ce.includes("pending-payments")?ne.title="Pending Payments":ce.includes("receipts-today")?ne.title="Receipts Today":ce.includes("active-users")?ne.title="Active Users":ce.includes("errors-today")?ne.title="Errors Today":ce.includes("monthly-revenue")?ne.title="Monthly Revenue":ce.includes("payment-status")?ne.title="Payment Status":ce.includes("invoice-aging")?ne.title="Invoice Aging":ce.includes("recent-invoices")?ne.title="Recent Invoices":ce.includes("recent-payments")?ne.title="Recent Payments":ce.includes("pending-receipts")?ne.title="Pending Receipts":ce.includes("pending-approvals")?ne.title="Pending Approvals":ce.includes("assigned-tasks")?ne.title="Assigned Tasks":ce.includes("payment-overdue")?ne.title="Payment Overdue":ce.includes("compliance-expiry")?ne.title="Compliance Expiry":ne.title=`Widget ${Be+1}`,console.log(`[DashboardPage] Widget ${ne.id} missing title, inferred from endpoint:`,{widgetId:ne.id,inferredTitle:ne.title,endpoint:(le=ne.dataSource)==null?void 0:le.endpoint})}if(!ne.type){const ce=((Ae=ne.dataSource)==null?void 0:Ae.endpoint)||"";ce.includes("/kpi/")||ce.includes("/dashboard/kpi/")?ne.type="metric":ce.includes("/chart/")||ce.includes("/dashboard/chart/")?ne.type="chart":ce.includes("/table/")||ce.includes("/dashboard/table/")?ne.type="table":ce.includes("/tasks/")||ce.includes("/approval")||ce.includes("/dashboard/tasks/")?ne.type="task-list":ce.includes("/alerts/")||ce.includes("/dashboard/alerts/")?ne.type="alert":ce.includes("/activity")||ce.includes("/timeline")?ne.type="activity-timeline":(ne.id&&!ne.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:ne.id,title:ne.title,endpoint:ce||"none"}),ne.type="metric")}const Te=ne.type.toLowerCase().trim(),ue={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[Te];return ue?ne.type=ue:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(Te)||(console.warn(`[DashboardPage] Unknown widget type "${ne.type}", defaulting to "metric"`,ne),ne.type="metric"),(!ne.gridColumn||ne.gridColumn<1)&&(ne.gridColumn=1),ne.gridColumn>4&&(ne.gridColumn=4),(Ie=ne.dataSource)!=null&&Ie.endpoint||(console.error(`[DashboardPage] Widget ${ne.id} still missing endpoint after validation!`,ne),ne.dataSource=ne.dataSource||{},ne.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:ne.id,title:ne.title,type:ne.type,endpoint:(Pe=ne.dataSource)==null?void 0:Pe.endpoint,hasEndpoint:!!((Ce=ne.dataSource)!=null&&Ce.endpoint)}),ne}).filter(ne=>!ne||typeof ne!="object"||Array.isArray(ne)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",ne),!1):!ne.id||!ne.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",ne),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(ne.type)?!ne.dataSource||!ne.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",ne),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",ne),!1));console.log("[DashboardPage] Final validated widgets:",{count:ye.length,widgets:ye}),l(ye),o($.permissions)}catch(D){console.error("[DashboardPage] Failed to load dashboard:",D),l([]),o({})}finally{d(!1)}})()},[x,r==null?void 0:r.id,g.enabled,a,w,e.join("|")]);const P=k.useMemo(()=>{const ae=[];let D=[],q=0;return c.forEach($=>{const L=$.gridColumn||1;q+L>4?(ae.push(D),D=[$],q=L):(D.push($),q+=L)}),D.length>0&&ae.push(D),ae},[c]);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${f?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!f&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":f?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(ae=>t.jsx("li",{children:t.jsxs(en,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ae.icon}),!f&&t.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${i.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!f&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!f&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard"})})}),t.jsxs("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:[w&&t.jsxs("div",{style:{maxWidth:720,margin:"40px auto",background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:20,boxShadow:"0 10px 30px rgba(0,0,0,0.06)"},children:[t.jsx("h2",{style:{margin:0,color:"#111827"},children:"Welcome to MEDIWASTE System Management"}),t.jsxs("p",{style:{marginTop:10,color:"#4b5563",lineHeight:1.6},children:["Your account is active, but ",t.jsx("strong",{children:"no permissions are assigned"})," yet."]}),t.jsx("p",{style:{marginTop:8,color:"#6b7280"},children:"Please contact your SuperAdmin to assign permissions for your role."})]}),y&&t.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),t.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",((ee=g.role)==null?void 0:ee.charAt(0).toUpperCase())+((K=g.role)==null?void 0:K.slice(1))]})]}),t.jsx("button",{onClick:S,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),h&&t.jsxs("div",{className:"dashboard-loading",children:[t.jsx("div",{className:"dashboard-loading-spinner"}),t.jsx("p",{children:"Loading dashboard..."})]}),!h&&t.jsx("div",{className:"dashboard-widget-grid",children:P.map((ae,D)=>t.jsx("div",{className:"dashboard-widget-row",children:ae.map((q,$)=>!q||typeof q!="object"||Array.isArray(q)||!q.id||!q.type?(console.error("[DashboardPage] Invalid widget in render:",q),t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:"span 1"},children:t.jsx("div",{className:"widget-error",children:"Invalid widget configuration"})},`invalid-widget-${D}-${$}`)):t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:`span ${q.gridColumn||1}`,gridRow:q.gridRow?`span ${q.gridRow}`:void 0},children:t.jsx(k.Suspense,{fallback:t.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:t.jsx(DJ,{widget:q,permissions:u,isPreviewMode:y})})},q.id||`widget-${D}-${$}`))},`row-${D}`))}),!h&&c.length===0&&t.jsxs("div",{className:"dashboard-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),t.jsx("h2",{children:"No widgets configured"}),t.jsx("p",{children:"Your dashboard is empty. Contact your administrator to configure widgets for your role."})]})]})]})]})},RJ=({catalog:r,onAddWidget:e})=>{const[n,a]=St.useState({kpis:!0,charts:!0,tables:!0,tasks:!0,alerts:!0}),i=c=>{a(l=>({...l,[c]:!l[c]}))},s=(c,l,u,o)=>{const h=n[o];return t.jsxs("div",{className:"catalog-group",children:[t.jsxs("button",{className:"catalog-group-header",onClick:()=>i(o),children:[t.jsx("span",{className:"catalog-group-title",children:c}),t.jsxs("span",{className:"catalog-group-count",children:["(",l.length,")"]}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`catalog-group-arrow ${h?"expanded":""}`,children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),h&&t.jsx("div",{className:"catalog-group-items",children:l.length===0?t.jsx("div",{className:"catalog-empty",children:"No items available"}):l.map(d=>t.jsxs("div",{className:"catalog-item",onClick:()=>e(d,u),children:[t.jsxs("div",{className:"catalog-item-header",children:[t.jsx("span",{className:"catalog-item-title",children:d.title}),t.jsx("button",{className:"catalog-item-add-btn",onClick:f=>{f.stopPropagation(),e(d,u)},title:"Add to dashboard",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),d.description&&t.jsx("div",{className:"catalog-item-description",children:d.description}),t.jsxs("div",{className:"catalog-item-meta",children:[t.jsx("span",{className:"catalog-item-type",children:u.toUpperCase()}),d.format&&t.jsx("span",{className:"catalog-item-format",children:d.format})]})]},d.code))})]})};return t.jsxs("div",{className:"catalog-panel",children:[t.jsxs("div",{className:"catalog-panel-header",children:[t.jsx("h2",{className:"catalog-panel-title",children:"Available Widgets"}),t.jsx("p",{className:"catalog-panel-subtitle",children:"Click to add widgets to the dashboard configuration"})]}),t.jsxs("div",{className:"catalog-panel-content",children:[s("KPIs",r.kpis,"kpi","kpis"),s("Charts",r.charts,"chart","charts"),s("Tables",r.tables,"table","tables"),s("Tasks",r.tasks,"task","tasks"),s("Alerts",r.alerts,"alert","alerts")]})]})},LJ=({widgets:r,selectedWidgetId:e,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:i,onReorderWidget:s})=>{const c=u=>u===4?"Full":u===2?"Half":u===1?"Quarter":`${u}/4`,l=(u,o)=>{a(u,{gridColumn:o})};return t.jsxs("div",{className:"dashboard-canvas",children:[t.jsxs("div",{className:"dashboard-canvas-header",children:[t.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),t.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),t.jsx("div",{className:"dashboard-canvas-content",children:r.length===0?t.jsxs("div",{className:"dashboard-canvas-empty",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),t.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),t.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):t.jsx("div",{className:"dashboard-canvas-widgets",children:r.map((u,o)=>{const h=e===u.id,d=o>0,f=o<r.length-1;return t.jsxs("div",{className:`dashboard-canvas-widget ${h?"selected":""}`,style:{gridColumn:`span ${u.gridColumn}`},onClick:()=>n(u.id),children:[t.jsxs("div",{className:"dashboard-canvas-widget-header",children:[t.jsxs("div",{className:"dashboard-canvas-widget-info",children:[t.jsx("span",{className:"dashboard-canvas-widget-title",children:u.title}),t.jsx("span",{className:"dashboard-canvas-widget-type",children:u.type})]}),t.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[t.jsxs("select",{value:u.gridColumn,onChange:A=>l(u.id,parseInt(A.target.value,10)),onClick:A=>A.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[t.jsx("option",{value:"1",children:"Quarter"}),t.jsx("option",{value:"2",children:"Half"}),t.jsx("option",{value:"4",children:"Full"})]}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:A=>{A.stopPropagation(),d&&s(u.id,"up")},disabled:!d,title:"Move up",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:A=>{A.stopPropagation(),f&&s(u.id,"down")},disabled:!f,title:"Move down",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:A=>{A.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&i(u.id)},title:"Remove widget",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),t.jsx("div",{className:"dashboard-canvas-widget-preview",children:t.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[t.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[u.type==="metric"&&" Metric Widget",u.type==="chart"&&" Chart Widget",u.type==="table"&&" Table Widget",u.type==="task-list"&&" Task List Widget",u.type==="alert"&&" Alert Widget",!["metric","chart","table","task-list","alert"].includes(u.type)&&"Widget Preview"]}),t.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(u.gridColumn)})]})})]},u.id||`widget-${o}`)})})})]})},UJ=({widget:r,onUpdateWidget:e})=>{if(!r)return t.jsx("div",{className:"widget-settings-panel",children:t.jsxs("div",{className:"widget-settings-empty",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),t.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{e(r.id,{title:c})},a=c=>{e(r.id,{description:c})},i=c=>{e(r.id,{gridColumn:c})},s=c=>{e(r.id,{chartConfig:{...r.chartConfig,type:c}})};return t.jsxs("div",{className:"widget-settings-panel",children:[t.jsxs("div",{className:"widget-settings-header",children:[t.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),t.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),t.jsxs("div",{className:"widget-settings-content",children:[t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),t.jsx("div",{className:"widget-settings-readonly",children:r.id})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),t.jsx("div",{className:"widget-settings-readonly",children:r.type})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),t.jsx("input",{id:"widget-title",type:"text",value:r.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),t.jsx("textarea",{id:"widget-description",value:r.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),t.jsxs("select",{id:"widget-size",value:r.gridColumn,onChange:c=>i(parseInt(c.target.value,10)),className:"widget-settings-select",children:[t.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),t.jsx("option",{value:"2",children:"Half (1/2 width)"}),t.jsx("option",{value:"4",children:"Full (full width)"})]})]}),r.type==="chart"&&r.chartConfig&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),t.jsxs("select",{id:"widget-chart-type",value:r.chartConfig.type||"line",onChange:c=>s(c.target.value),className:"widget-settings-select",children:[t.jsx("option",{value:"line",children:"Line Chart"}),t.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),r.dataSource&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),t.jsx("div",{className:"widget-settings-readonly",children:r.dataSource.endpoint}),t.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),r.permissions&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Permissions"}),t.jsxs("div",{className:"widget-settings-permissions",children:[r.permissions.view&&t.jsxs("div",{className:"widget-settings-permission",children:[t.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),t.jsx("span",{className:"widget-settings-permission-value",children:r.permissions.view})]}),r.permissions.actions&&Object.entries(r.permissions.actions).map(([c,l])=>t.jsxs("div",{className:"widget-settings-permission",children:[t.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),t.jsx("span",{className:"widget-settings-permission-value",children:l})]},c))]})]})]})]})},HJ=()=>{const r=ti(),[e,n]=St.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,i]=St.useState([]),[s,c]=St.useState(""),[l,u]=St.useState("role"),[o,h]=St.useState(null),[d,f]=St.useState(null),[A,g]=St.useState(!1),[m,x]=St.useState(!1),[y,b]=St.useState(null);St.useEffect(()=>{(async()=>{g(!0);try{const[K,ae]=await Promise.all([zA.getCatalog(),zA.getAvailableRoles()]);n(K),i(ae)}catch(K){console.error("Failed to load catalog:",K),b("Failed to load dashboard catalog")}finally{g(!1)}})()},[]),St.useEffect(()=>{s?(async()=>{g(!0);try{const K=await zA.getDashboardConfigByTarget(s);h(K),f(null)}catch(K){console.error("Failed to load configuration:",K),b("Failed to load dashboard configuration")}finally{g(!1)}})():(h(null),f(null))},[s,l]);const w=(ee,K)=>{if(!o){alert("Please select a role or department first");return}const ae={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},D={id:`${ee.code.toLowerCase()}-${Date.now()}`,type:ae[K]||"metric",title:ee.title,description:ee.description,gridColumn:2,dataSource:{endpoint:ee.api,method:"GET"},...K==="chart"&&ee.chartTypes&&ee.chartTypes.length>0&&{chartConfig:{type:ee.chartTypes[0]}}};h({...o,widgets:[...o.widgets,D]}),f(D.id)},N=(ee,K)=>{o&&h({...o,widgets:o.widgets.map(ae=>ae.id===ee?{...ae,...K}:ae)})},S=ee=>{o&&(h({...o,widgets:o.widgets.filter(K=>K.id!==ee)}),d===ee&&f(null))},j=(ee,K)=>{if(!o)return;const ae=o.widgets.findIndex($=>$.id===ee);if(ae===-1)return;const D=K==="up"?ae-1:ae+1;if(D<0||D>=o.widgets.length)return;const q=[...o.widgets];[q[ae],q[D]]=[q[D],q[ae]],h({...o,widgets:q})},_=async()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}x(!0),b(null);try{const ee={...o,widgets:(o.widgets||[]).filter(K=>K&&typeof K=="object"&&!Array.isArray(K)),menuItems:Array.isArray(o.menuItems)?o.menuItems:[],permissions:o.permissions&&typeof o.permissions=="object"&&!Array.isArray(o.permissions)?o.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:ee.role,widgetsCount:ee.widgets.length,widgets:ee.widgets}),await zA.saveDashboardConfig(ee),alert("Dashboard configuration saved successfully")}catch(ee){console.error("Failed to save configuration:",ee);const K=(ee==null?void 0:ee.message)||"Failed to save dashboard configuration";b(K)}finally{x(!1)}},P=()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(o)),sessionStorage.setItem("dashboard-preview-role",s),r("/dashboard?preview=true")},Z=(o==null?void 0:o.widgets.find(ee=>ee.id===d))||null;return t.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[t.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),t.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),t.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[t.jsxs("div",{className:"dashboard-configuration-target-selector",children:[t.jsxs("select",{value:l,onChange:ee=>{u(ee.target.value),c("")},className:"dashboard-configuration-type-select",children:[t.jsx("option",{value:"role",children:"Role"}),t.jsx("option",{value:"department",children:"Department"})]}),t.jsxs("select",{value:s,onChange:ee=>c(ee.target.value),className:"dashboard-configuration-target-select",disabled:A,children:[t.jsxs("option",{value:"",children:["Select ",l,"..."]}),l==="role"&&a.map(ee=>t.jsx("option",{value:ee,children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))]})]}),t.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:P,disabled:!o||!s||o.widgets.length===0,title:"Preview dashboard with current configuration",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),t.jsx("button",{className:"dashboard-configuration-btn save",onClick:_,disabled:!o||!s||m,children:m?"Saving...":"Save Configuration"})]})]}),y&&t.jsxs("div",{className:"dashboard-configuration-error",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),t.jsxs("div",{className:"dashboard-configuration-panels",children:[t.jsx("div",{className:"dashboard-configuration-panel-left",children:A&&!e.kpis.length?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):t.jsx(RJ,{catalog:e,onAddWidget:w})}),t.jsx("div",{className:"dashboard-configuration-panel-center",children:A&&!o?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):o?t.jsx(LJ,{widgets:o.widgets,selectedWidgetId:d,onSelectWidget:f,onUpdateWidget:N,onRemoveWidget:S,onReorderWidget:j}):t.jsx("div",{className:"dashboard-configuration-empty-state",children:t.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),t.jsx("div",{className:"dashboard-configuration-panel-right",children:t.jsx(UJ,{widget:Z,onUpdateWidget:N})})]})]})},QJ=()=>{const{user:r,permissions:e,logout:n}=pa(),a=_n(),[i,s]=St.useState(!1),c=e.includes("*");St.useEffect(()=>{c||(window.location.href="/dashboard")},[c]);const l=()=>{s(!i)},u=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...c?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")}]:[]];return c?t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(o=>t.jsx("li",{children:t.jsxs(en,{to:o.path,className:`nav-link ${o.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:o.icon}),!i&&t.jsx("span",{className:"nav-label",children:o.label})]})},o.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Dashboard Configuration"})})}),t.jsx("div",{className:"dashboard-configuration-content",style:{padding:0,overflow:"hidden",flex:1},children:t.jsx(HJ,{})})]})]}):null},WJ="http://localhost:3000/api/v1",$J=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},e0=async(r,e={})=>{const n=$J(),a=`${WJ}${r}`;console.log("[roleService] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[roleService] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const h=await s.text();console.log("[roleService] Error response text:",h),h&&(u=JSON.parse(h),console.log("[roleService] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(h){console.error("[roleService] Failed to parse error response:",h)}console.error("[roleService] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[roleService] Success response data:",c),c}catch(s){if(console.error("[roleService] Fetch error:",s),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},Vp={createRole:async r=>(console.log("[roleService] createRole called with data:",r),(await e0("/roles",{method:"POST",body:JSON.stringify(r)})).data),getRoleById:async r=>(await e0(`/roles/${r}`,{method:"GET"})).data,getAllRoles:async(r,e)=>{let n="/roles";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await e0(n,{method:"GET"})).data},updateRole:async(r,e)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",r),console.log("[roleService] Data:",e),(await e0(`/roles/${r}`,{method:"PUT",body:JSON.stringify(e)})).data),deleteRole:async r=>{await e0(`/roles/${r}`,{method:"DELETE"})}},yj=async(r,e,n)=>{const a=await fetch(`${pf}${e}`,{...n||{},headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,...(n==null?void 0:n.headers)||{}}}),i=await a.json().catch(()=>null);if(!a.ok){const s=(i==null?void 0:i.message)||(i==null?void 0:i.error)||`Request failed (${a.status})`;throw new Error(s)}if(!(i!=null&&i.success))throw new Error((i==null?void 0:i.message)||"Request failed");return i.data},bj={listAllPermissions:r=>yj(r,"/permissions"),getRolePermissionCodes:(r,e)=>yj(r,`/permissions/roles/${e}`),replaceRolePermissions:(r,e,n)=>yj(r,`/permissions/roles/${e}`,{method:"PUT",body:JSON.stringify({permissionCodes:n})})},VJ=()=>{const{user:r,permissions:e,logout:n}=pa(),a=_n(),[i,s]=k.useState(!1),c=e.includes("*"),l=e.includes("*"),u=()=>s(!i),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...l?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(L=>L.path==="/dashboard"?!0:L.path==="/transaction"?Zi(e,"transaction"):L.path==="/finance"?Zi(e,"finance"):L.path==="/commercial-agreements"?Zi(e,"commercial"):L.path==="/compliance-training"?Zi(e,"compliance"):L.path==="/master"?Zi(e,"master"):L.path==="/report"?Zi(e,"report"):!0),[d,f]=k.useState([]),[A,g]=k.useState(""),[m,x]=k.useState([]),[y,b]=k.useState(new Set),[w,N]=k.useState(""),[S,j]=k.useState(!0),[_,P]=k.useState(!1),[Z,ee]=k.useState(null),[K,ae]=k.useState(null);k.useEffect(()=>{(async()=>{if(r!=null&&r.token){j(!0),ee(null);try{const[ye,ne]=await Promise.all([Vp.getAllRoles(void 0,!0),bj.listAllPermissions(r.token)]);f((ye||[]).map(Be=>({roleId:Be.roleId,roleName:Be.roleName}))),x(ne||[])}catch(ye){ee((ye==null?void 0:ye.message)||"Failed to load roles/permissions")}finally{j(!1)}}})()},[r==null?void 0:r.token]),k.useEffect(()=>{(async()=>{if(!(!(r!=null&&r.token)||!A)){ee(null),ae(null);try{const ye=await bj.getRolePermissionCodes(r.token,A);b(new Set(ye||[]))}catch(ye){ee((ye==null?void 0:ye.message)||"Failed to load role permissions")}}})()},[r==null?void 0:r.token,A]);const D=k.useMemo(()=>{const L=w.trim().toLowerCase(),ye=m.filter(Be=>L?Be.permissionCode.toLowerCase().includes(L)||Be.permissionName.toLowerCase().includes(L)||Be.moduleName.toLowerCase().includes(L):!0),ne=new Map;for(const Be of ye){const Te=Be.moduleName||"Other";ne.has(Te)||ne.set(Te,[]),ne.get(Te).push(Be)}return Array.from(ne.entries()).sort((Be,Te)=>Be[0].localeCompare(Te[0]))},[m,w]),q=L=>{b(ye=>{const ne=new Set(ye);return ne.has(L)?ne.delete(L):ne.add(L),ne})},$=async()=>{if(!(!(r!=null&&r.token)||!A)){P(!0),ee(null),ae(null);try{const L=Array.from(y);await bj.replaceRolePermissions(r.token,A,L),ae("Permissions updated successfully")}catch(L){ee((L==null?void 0:L.message)||"Failed to save permissions")}finally{P(!1)}}};return c?t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:u,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:h.map(L=>t.jsx("li",{children:t.jsxs(en,{to:L.path,className:`nav-link ${L.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:L.icon}),!i&&t.jsx("span",{className:"nav-label",children:L.label})]})},L.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Admin / Permission Configuration"})})}),t.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:t.jsxs("div",{className:"perm-config-page",children:[t.jsxs("div",{className:"perm-config-header",children:[t.jsx("h1",{children:"Permission Configuration"}),t.jsx("p",{children:"Assign permissions to roles (writes to existing role_permissions table)"})]}),t.jsxs("div",{className:"perm-config-toolbar",children:[t.jsxs("label",{className:"perm-config-field",children:[t.jsx("span",{children:"Role"}),t.jsxs("select",{value:A,onChange:L=>g(L.target.value),children:[t.jsx("option",{value:"",children:"Select role..."}),d.map(L=>t.jsx("option",{value:L.roleId,children:L.roleName},L.roleId))]})]}),t.jsxs("label",{className:"perm-config-field",children:[t.jsx("span",{children:"Search"}),t.jsx("input",{value:w,onChange:L=>N(L.target.value),placeholder:"Search by module / code / name..."})]}),t.jsx("button",{className:"perm-config-save",type:"button",disabled:_||!A,onClick:$,children:_?"Saving...":"Save"})]}),S&&t.jsx("div",{className:"perm-config-info",children:"Loading..."}),Z&&t.jsx("div",{className:"perm-config-error",children:Z}),K&&t.jsx("div",{className:"perm-config-success",children:K}),!S&&A&&t.jsx("div",{className:"perm-config-grid",children:D.map(([L,ye])=>t.jsxs("div",{className:"perm-config-module",children:[t.jsx("div",{className:"perm-config-module__title",children:L}),t.jsx("div",{className:"perm-config-module__list",children:ye.map(ne=>t.jsxs("label",{className:"perm-config-item",children:[t.jsx("input",{type:"checkbox",checked:y.has(ne.permissionCode),onChange:()=>q(ne.permissionCode)}),t.jsxs("div",{className:"perm-config-item__meta",children:[t.jsx("div",{className:"perm-config-item__name",children:ne.permissionName}),t.jsx("div",{className:"perm-config-item__code",children:ne.permissionCode})]})]},ne.permissionId))})]},L))}),!S&&!A&&t.jsx("div",{className:"perm-config-info",children:"Select a role to view and assign permissions."})]})})]})]}):t.jsx(Yp,{to:"/dashboard",replace:!0})},zJ=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},o=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),t.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],d={"route-assignment":"ROUTE_ASSIGNMENT_VIEW","barcode-generation":"BARCODE_LABEL_VIEW","waste-collection":"WASTE_COLLECTION_VIEW","waste-transaction-data":"WASTE_TRANSACTION_VIEW","vehicle-wise-waste-collection":"VEHICLE_WASTE_COLLECTION_VIEW","waste-processing":"WASTE_PROCESS_VIEW"},f=g=>{const m=Array.isArray(e)?e:[];if(m.includes("*"))return!0;const x=d[g];return x?y2(m,x):!1},A=h.filter(g=>g.path==="/dashboard"?Zi(e,"dashboard"):g.path==="/transaction"?Zi(e,"transaction"):g.path==="/finance"?Zi(e,"finance"):g.path==="/commercial-agreements"?Zi(e,"commercial"):g.path==="/compliance-training"?Zi(e,"compliance"):g.path==="/master"?Zi(e,"master"):g.path==="/report"?Zi(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:A.map(g=>t.jsx("li",{children:t.jsxs(en,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:g.icon}),!s&&t.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Transaction"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Transaction"}),t.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>i(g.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.filter(g=>f(g.id)).map(g=>t.jsxs(en,{to:g.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id))})]})]})]})},KJ=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),c=()=>{s(!i)},u=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}].filter(h=>h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(h=>t.jsx("li",{children:t.jsxs(en,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Finance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Finance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:h=>a(h.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(h=>t.jsxs(en,{to:h.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:h.icon}),t.jsx("h3",{className:"master-card-title",children:h.title}),t.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},GJ=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),c=()=>{s(!i)},u=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}].filter(h=>h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(h=>t.jsx("li",{children:t.jsxs(en,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Commercial / Agreements"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),t.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:h=>a(h.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(h=>t.jsxs(en,{to:h.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:h.icon}),t.jsx("h3",{className:"master-card-title",children:h.title}),t.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},qJ=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),c=()=>{s(!i)},u=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}].filter(h=>h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase())),o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(h=>t.jsx("li",{children:t.jsxs(en,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Compliance & Training"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Compliance & Training"}),t.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:h=>a(h.target.value)})]})}),t.jsx("div",{className:"master-grid",children:u.map(h=>t.jsxs(en,{to:h.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:h.icon}),t.jsx("h3",{className:"master-card-title",children:h.title}),t.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},XJ=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=k.useState(""),[s,c]=k.useState(!1),l=()=>{c(!s)},o=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),t.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),t.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),t.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),t.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],d={company:"COMPANY_VIEW",state:"STATE_VIEW",area:"AREA_VIEW",category:"CATEGORY_VIEW","color-code":"COLOR_VIEW","pcb-zone":"PCB_ZONE_VIEW",frequency:"FREQUENCY_VIEW","hcf-type":"HCF_TYPE_VIEW","user-management":"USER_VIEW","hcf-master":"HCF_VIEW","hcf-amendments":"HCF_AMENDMENT_VIEW","fleet-management":"FLEET_VIEW","route-master":"ROUTE_VIEW","route-hcf-mapping":"ROUTE_HCF_VIEW"},f=g=>{const m=Array.isArray(e)?e:[];if(m.includes("*"))return!0;const x=d[g];return x?y2(m,x):!1},A=h.filter(g=>g.path==="/dashboard"?Zi(e,"dashboard"):g.path==="/transaction"?Zi(e,"transaction"):g.path==="/finance"?Zi(e,"finance"):g.path==="/commercial-agreements"?Zi(e,"commercial"):g.path==="/compliance-training"?Zi(e,"compliance"):g.path==="/master"?Zi(e,"master"):g.path==="/report"?Zi(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:A.map(g=>t.jsx("li",{children:t.jsxs(en,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:g.icon}),!s&&t.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Masters"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Masters"}),t.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>i(g.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.filter(g=>f(g.id)).map(g=>t.jsxs(en,{to:g.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id))})]})]})]})},YJ=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},t0=async(r,e={})=>{const n=YJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pf}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{i.status===401?s="User not authenticated":i.status===403&&(s="Access forbidden")}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Qa={createCompany:async r=>(await t0("/companies",{method:"POST",body:JSON.stringify(r)})).data,getCompanyById:async r=>(await t0(`/companies/${r}`,{method:"GET"})).data,getAllCompanies:async(r=!1)=>(await t0(r?"/companies?activeOnly=true":"/companies",{method:"GET"})).data,updateCompany:async(r,e)=>(await t0(`/companies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCompany:async r=>{await t0(`/companies/${r}`,{method:"DELETE"})}},JN=(r,e)=>{if(!Array.isArray(r)||r.length===0)return!1;if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},Ap=r=>JN(r,"MASTERS.CREATE")?!0:r.includes("*")||r.some(e=>e.endsWith(".CREATE")||e.endsWith("_CREATE")),ZJ=r=>JN(r,"MASTERS.EDIT")?!0:r.includes("*")||r.some(e=>e.endsWith(".EDIT")||e.endsWith("_EDIT")||e.endsWith(".UPDATE")||e.endsWith("_UPDATE")),JJ=r=>JN(r,"MASTERS.DELETE")?!0:r.includes("*")||r.some(e=>e.endsWith(".DELETE")||e.endsWith("_DELETE"));function ix({data:r,columns:e,onEdit:n,onDelete:a,onRowClick:i,getId:s,emptyMessage:c="No data available"}){return t.jsx("div",{className:"data-table-container",children:t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[e.map(l=>t.jsx("th",{style:{minWidth:l.minWidth?`${l.minWidth}px`:"auto"},children:l.label},l.key)),(n||a)&&t.jsx("th",{className:"col-actions",children:"Actions"})]})}),t.jsx("tbody",{children:r.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(n||a?1:0),className:"empty-state",children:c})}):r.map(l=>t.jsxs("tr",{onClick:()=>i&&i(l),style:{cursor:i?"pointer":"default"},className:i?"data-table-row-clickable":"",children:[e.map(u=>t.jsx("td",{className:u.allowWrap?"allow-wrap":"",onClick:o=>{o.target.closest(".action-btn")&&o.stopPropagation()},children:u.render?u.render(l):l[u.key]||"-"},u.key)),(n||a)&&t.jsxs("td",{onClick:u=>u.stopPropagation(),children:[n&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>n(l),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),a&&t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>a(s(l)),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},s(l)))})]})})}function pp({title:r,breadcrumb:e,data:n,filteredData:a,columns:i,searchQuery:s,onSearchChange:c,onAdd:l,onEdit:u,onDelete:o,getId:h,addButtonLabel:d="Add",emptyMessage:f,children:A,showAddButton:g}){const{permissions:m}=pa(),x=g!==void 0?g:Ap(m);return t.jsxs("div",{className:"master-page-layout",children:[t.jsx("div",{className:"master-page-header",children:t.jsx("h1",{className:"master-page-title",children:r})}),A&&t.jsx("div",{className:"master-page-content",children:A}),t.jsxs("div",{className:"master-page-actions",children:[t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:s,onChange:y=>c(y.target.value)})]}),x&&t.jsxs("button",{className:"add-item-btn",onClick:l,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d]})]}),t.jsx(ix,{data:a,columns:i,onEdit:u,onDelete:o,getId:h,emptyMessage:f}),t.jsxs("div",{className:"master-pagination-info",children:["Showing ",a.length," of ",n.length," Items"]})]})}function mp({tabs:r,activeTab:e,onTabChange:n}){return t.jsx("div",{className:"tabs-container",children:r.map(a=>t.jsx("button",{className:`tab-button ${e===a.id?"tab-button--active":""}`,onClick:()=>n(a.id),children:a.label},a.id))})}const eee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(!1),i=()=>{a(!n)},s=ti(),[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b]=k.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[w]=k.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[N,S]=k.useState([]),j=$=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:$.status,createdBy:$.createdBy||"System",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"System",modifiedOn:$.modifiedOn}),_=async()=>{m(!0),y(null);try{const L=(await Qa.getAllCompanies(!0)).map(ye=>j(ye));S(L)}catch($){const L=$.message||"Failed to load companies";if(console.error("Error loading companies:",$),L.includes("not authenticated")||L.includes("Unauthorized")||L.includes("401")||L.includes("403")||($==null?void 0:$.status)===401||($==null?void 0:$.status)===403){localStorage.removeItem("mw-auth-user"),s("/login",{replace:!0});return}y(L)}finally{m(!1)}};k.useEffect(()=>{_()},[]);const P=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],Z=N.filter($=>{const L=c.toLowerCase();return($.companyName||"").toLowerCase().includes(L)||($.companyCode||"").toLowerCase().includes(L)||($.gstin||"").toLowerCase().includes(L)}),ee=()=>{A(null),d(!0)},K=$=>{A($),d(!0)},ae=async $=>{if(window.confirm("Are you sure you want to delete this company?")){m(!0),y(null);try{await Qa.deleteCompany($),await _()}catch(L){y(L.message||"Failed to delete company"),console.error("Error deleting company:",L)}finally{m(!1)}}},D=async $=>{m(!0),y(null);try{if(f){const L={companyCode:$.companyCode,companyName:$.companyName,status:$.status};await Qa.updateCompany(f.id,L)}else{if(!$.companyCode||!$.companyName)throw new Error("Company Code and Company Name are required");const L={companyCode:$.companyCode,companyName:$.companyName};await Qa.createCompany(L)}await _(),d(!1),A(null)}catch(L){const ye=L.message||"Failed to save company";y(ye),console.error("Error saving company:",L),(ye.includes("403")||ye.includes("401")||ye.includes("Unauthorized"))&&y("Authentication failed. Please login again.")}finally{m(!1)}},q=[{key:"companyCode",label:"Code",minWidth:110},{key:"companyName",label:"Company Name",minWidth:150,allowWrap:!0},{key:"gstin",label:"GSTIN",minWidth:130},{key:"state",label:"State",minWidth:120},{key:"pcbauthNum",label:"PCB Auth #",minWidth:110},{key:"ctoWaterNum",label:"CTO Water #",minWidth:120},{key:"ctoWaterDate",label:"CTO Wtr Date",minWidth:130},{key:"ctoWaterValidUpto",label:"CTO Wtr Valid To",minWidth:150},{key:"ctoAirNum",label:"CTO Air #",minWidth:110},{key:"ctoAirDate",label:"CTO Air Date",minWidth:130},{key:"ctoAirValidUpto",label:"CTO Air Valid To",minWidth:150},{key:"cteWaterNum",label:"CTE Water #",minWidth:120},{key:"cteWaterDate",label:"CTE Wtr Date",minWidth:130},{key:"cteWaterValidUpto",label:"CTE Wtr Valid To",minWidth:150},{key:"cteAirNum",label:"CTE Air #",minWidth:110},{key:"cteAirDate",label:"CTE Air Date",minWidth:130},{key:"cteAirValidUpto",label:"CTE Air Valid To",minWidth:150},{key:"hazardousWasteNum",label:"Haz Waste #",minWidth:140},{key:"pcbZoneID",label:"PCB Zone",minWidth:110},{key:"gstValidFrom",label:"GST From",minWidth:130},{key:"gstRate",label:"GST Rate",minWidth:100},{key:"status",label:"Status",minWidth:90,render:$=>t.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:P.map($=>t.jsx("li",{children:t.jsxs(en,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:$.icon}),!n&&t.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Company Master"})})}),x&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),t.jsx(pp,{title:"Company Master",breadcrumb:"/ Masters / Company Master",data:N,filteredData:Z,columns:q,searchQuery:c,onSearchChange:l,onAdd:ee,onEdit:K,onDelete:ae,getId:$=>$.id,addButtonLabel:"Add Company",children:t.jsx(mp,{tabs:[{id:"list",label:"Company List"}],activeTab:u,onTabChange:$=>o($)})})]}),h&&t.jsx(tee,{company:f,states:b.filter($=>$.status==="Active"),pcbZones:w.filter($=>$.status==="Active"),loading:g,onClose:()=>{d(!1),A(null)},onSave:D})]})},tee=({company:r,states:e,pcbZones:n,loading:a=!1,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),u=o=>{o.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Company":"Add Company"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"company-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Code *"}),t.jsx("input",{type:"text",value:c.companyCode||"",onChange:o=>l({...c,companyCode:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsx("input",{type:"text",value:c.companyName||"",onChange:o=>l({...c,companyName:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN *"}),t.jsx("input",{type:"text",value:c.gstin||"",onChange:o=>l({...c,gstin:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State *"}),t.jsxs("select",{value:c.state||"",onChange:o=>l({...c,state:o.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),e.map(o=>t.jsx("option",{value:o.stateCode,children:o.stateCode},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:c.pincode||"",onChange:o=>l({...c,pincode:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Prefix"}),t.jsx("input",{type:"text",value:c.prefix||"",onChange:o=>l({...c,prefix:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Addresses"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Registered Office Address"}),t.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:o=>l({...c,regdOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Admin Office Address"}),t.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:o=>l({...c,adminOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Factory Address"}),t.jsx("textarea",{value:c.factoryAddress||"",onChange:o=>l({...c,factoryAddress:o.target.value}),rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Authorized Person"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name"}),t.jsx("input",{type:"text",value:c.authPersonName||"",onChange:o=>l({...c,authPersonName:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation"}),t.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:o=>l({...c,authPersonDesignation:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:o=>l({...c,authPersonDOB:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"PCB Authorization"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Auth Num"}),t.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:o=>l({...c,pcbauthNum:o.target.value})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Num"}),t.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:o=>l({...c,ctoWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Date"}),t.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:o=>l({...c,ctoWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:o=>l({...c,ctoWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Num"}),t.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:o=>l({...c,ctoAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Date"}),t.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:o=>l({...c,ctoAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:o=>l({...c,ctoAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Num"}),t.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:o=>l({...c,cteWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Date"}),t.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:o=>l({...c,cteWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Valid Upto"}),t.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:o=>l({...c,cteWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Num"}),t.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:o=>l({...c,cteAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Date"}),t.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:o=>l({...c,cteAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Valid Upto"}),t.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:o=>l({...c,cteAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hazardous Waste Num"}),t.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:o=>l({...c,hazardousWasteNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone ID"}),t.jsxs("select",{value:c.pcbZoneID||"",onChange:o=>l({...c,pcbZoneID:o.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(o=>t.jsx("option",{value:o.pcbZoneName,children:o.pcbZoneName},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Valid From"}),t.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:o=>l({...c,gstValidFrom:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Rate"}),t.jsx("input",{type:"text",value:c.gstRate||"",onChange:o=>l({...c,gstRate:o.target.value}),placeholder:"e.g., 18%"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:o=>l({...c,status:o.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":r?"Update":"Save"})]})]})]})})},ree="http://localhost:3000/api/v1",nee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},r0=async(r,e={})=>{const n=nee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${ree}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},k0={createState:async r=>(await r0("/states",{method:"POST",body:JSON.stringify(r)})).data,getStateById:async r=>(await r0(`/states/${r}`,{method:"GET"})).data,getAllStates:async(r=!1)=>(await r0(r?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(r,e)=>(await r0(`/states/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteState:async r=>{await r0(`/states/${r}`,{method:"DELETE"})}},aee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=k.useState(!1),s=()=>{i(!a)},[c,l]=k.useState(""),[u,o]=k.useState("list"),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState([]),[x,y]=k.useState(!1),[b,w]=k.useState(null),N=async()=>{y(!0),w(null);try{const q=(await k0.getAllStates(!0)).map($=>({id:$.id,stateCode:$.stateCode,stateName:$.stateName,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}));m(q)}catch(D){const q=D instanceof Error?D.message:"Failed to load states";w(q),console.error("Error loading states:",D)}finally{y(!1)}};k.useEffect(()=>{N()},[]);const j=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:n.pathname==="/report"}].filter(D=>D.path==="/dashboard"?Zi(e,"dashboard"):D.path==="/transaction"?Zi(e,"transaction"):D.path==="/finance"?Zi(e,"finance"):D.path==="/commercial-agreements"?Zi(e,"commercial"):D.path==="/compliance-training"?Zi(e,"compliance"):D.path==="/master"?Zi(e,"master"):D.path==="/report"?Zi(e,"report"):!0),_=g.filter(D=>D.stateName.toLowerCase().includes(c.toLowerCase())||D.stateCode.toLowerCase().includes(c.toLowerCase())),P=()=>{A(null),d(!0)},Z=D=>{A(D),d(!0)},ee=async D=>{if(window.confirm("Are you sure you want to delete this state?"))try{y(!0),await k0.deleteState(D),await N(),alert("State deleted successfully")}catch(q){const $=q instanceof Error?q.message:"Failed to delete state";alert(`Error: ${$}`),console.error("Error deleting state:",q)}finally{y(!1)}},K=async D=>{try{if(y(!0),w(null),f)await k0.updateState(f.id,{status:D.status}),alert("State updated successfully");else{if(!D.stateCode||!D.stateName){alert("Please fill in all required fields");return}await k0.createState({stateCode:D.stateCode,stateName:D.stateName}),alert("State created successfully")}d(!1),A(null),await N()}catch(q){const $=q instanceof Error?q.message:"Failed to save state";w($),alert(`Error: ${$}`),console.error("Error saving state:",q)}finally{y(!1)}},ae=[{key:"stateCode",label:"State Code",minWidth:120},{key:"stateName",label:"State Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:D=>t.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:j.map(D=>t.jsx("li",{children:t.jsxs(en,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:D.icon}),!a&&t.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / State Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading states..."}),t.jsx(pp,{title:"State Master",breadcrumb:"/ Masters / State Master",data:g,filteredData:_,columns:ae,searchQuery:c,onSearchChange:l,onAdd:P,onEdit:Z,onDelete:ee,getId:D=>D.id,addButtonLabel:"Add State",children:t.jsx(mp,{tabs:[{id:"list",label:"State List"}],activeTab:u,onTabChange:D=>o(D)})})]}),h&&t.jsx(iee,{state:f,onClose:()=>{d(!1),A(null)},onSave:K})]})},iee=({state:r,onClose:e,onSave:n})=>{const[a,i]=k.useState(r||{stateCode:"",stateName:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit State":"Add State"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"state-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>i({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Name *"}),t.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>i({...a,stateName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},see="http://localhost:3000/api/v1",oee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},n0=async(r,e={})=>{const n=oee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${see}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},P0={createArea:async r=>(await n0("/areas",{method:"POST",body:JSON.stringify(r)})).data,getAreaById:async r=>(await n0(`/areas/${r}`,{method:"GET"})).data,getAllAreas:async(r=!1)=>(await n0(r?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(r,e)=>(await n0(`/areas/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteArea:async r=>{await n0(`/areas/${r}`,{method:"DELETE"})}},lee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(!1),i=()=>{a(!n)},[s,c]=k.useState(""),[l,u]=k.useState("list"),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(null),w=async()=>{x(!0),b(null);try{const ae=(await P0.getAllAreas(!0)).map(D=>({id:D.id,areaCode:D.areaCode,areaName:D.areaName,areaPincode:D.areaPincode,status:D.status,createdBy:D.createdBy||"",createdOn:D.createdOn,modifiedBy:D.modifiedBy||"",modifiedOn:D.modifiedOn}));g(ae)}catch(K){const ae=K instanceof Error?K.message:"Failed to load areas";b(ae),console.error("Error loading areas:",K)}finally{x(!1)}};k.useEffect(()=>{w()},[]);const N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],S=A.filter(K=>K.areaName.toLowerCase().includes(s.toLowerCase())||K.areaCode.toLowerCase().includes(s.toLowerCase())||K.areaPincode.toLowerCase().includes(s.toLowerCase())),j=()=>{f(null),h(!0)},_=K=>{f(K),h(!0)},P=async K=>{if(window.confirm("Are you sure you want to delete this area?"))try{x(!0),await P0.deleteArea(K),await w(),alert("Area deleted successfully")}catch(ae){const D=ae instanceof Error?ae.message:"Failed to delete area";alert(`Error: ${D}`),console.error("Error deleting area:",ae)}finally{x(!1)}},Z=async K=>{try{if(x(!0),b(null),d)await P0.updateArea(d.id,{areaPincode:K.areaPincode,status:K.status}),alert("Area updated successfully");else{if(!K.areaCode||!K.areaName||!K.areaPincode){alert("Please fill in all required fields");return}await P0.createArea({areaCode:K.areaCode,areaName:K.areaName,areaPincode:K.areaPincode}),alert("Area created successfully")}h(!1),f(null),await w()}catch(ae){const D=ae instanceof Error?ae.message:"Failed to save area";b(D),alert(`Error: ${D}`),console.error("Error saving area:",ae)}finally{x(!1)}},ee=[{key:"areaCode",label:"Area Code",minWidth:120},{key:"areaName",label:"Area Name",minWidth:200,allowWrap:!0},{key:"areaPincode",label:"Area Pincode",minWidth:130},{key:"status",label:"Status",minWidth:100,render:K=>t.jsx("span",{className:`status-badge status-badge--${K.status.toLowerCase()}`,children:K.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(K=>t.jsx("li",{children:t.jsxs(en,{to:K.path,className:`nav-link ${K.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:K.icon}),!n&&t.jsx("span",{className:"nav-label",children:K.label})]})},K.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Area Master"})})}),y&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),m&&!A.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading areas..."}),t.jsx(pp,{title:"Area Master",breadcrumb:"/ Masters / Area Master",data:A,filteredData:S,columns:ee,searchQuery:s,onSearchChange:c,onAdd:j,onEdit:_,onDelete:P,getId:K=>K.id,addButtonLabel:"Add Area",children:t.jsx(mp,{tabs:[{id:"list",label:"Area List"}],activeTab:l,onTabChange:K=>u(K)})})]}),o&&t.jsx(cee,{area:d,onClose:()=>{h(!1),f(null)},onSave:Z})]})},cee=({area:r,onClose:e,onSave:n})=>{const[a,i]=k.useState(r||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Area":"Add Area"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"area-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Code *"}),t.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>i({...a,areaCode:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Name *"}),t.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>i({...a,areaName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Pincode *"}),t.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>i({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},uee="http://localhost:3000/api/v1",dee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},a0=async(r,e={})=>{const n=dee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${uee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},F0={createCategory:async r=>(await a0("/categories",{method:"POST",body:JSON.stringify(r)})).data,getCategoryById:async r=>(await a0(`/categories/${r}`,{method:"GET"})).data,getAllCategories:async(r,e=!1)=>{let n="/categories";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await a0(n,{method:"GET"})).data},updateCategory:async(r,e)=>(await a0(`/categories/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCategory:async r=>{await a0(`/categories/${r}`,{method:"DELETE"})}},hee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(!1),i=()=>{a(!n)},[s,c]=k.useState(""),[l,u]=k.useState("list"),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=async()=>{try{const $=(await Qa.getAllCompanies(!0)).map(L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,status:L.status}));x($)}catch(q){console.error("Error loading companies:",q)}},j=async()=>{b(!0),N(null);try{const $=(await F0.getAllCategories(void 0,!0)).map(L=>{const ye=m.find(ne=>ne.id===L.companyId);return{id:L.id,companyName:(ye==null?void 0:ye.companyName)||"Unknown Company",categoryCode:L.categoryCode,categoryName:L.categoryName,status:L.status,createdBy:L.createdBy||"",createdOn:L.createdOn,modifiedBy:L.modifiedBy||"",modifiedOn:L.modifiedOn}});g($)}catch(q){const $=q instanceof Error?q.message:"Failed to load categories";N($),console.error("Error loading categories:",q),g([])}finally{b(!1)}};k.useEffect(()=>{(async()=>{await S()})()},[]),k.useEffect(()=>{m.length>0&&j()},[m.length]);const _=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],P=A.filter(q=>q.categoryName.toLowerCase().includes(s.toLowerCase())||q.categoryCode.toLowerCase().includes(s.toLowerCase())||q.companyName.toLowerCase().includes(s.toLowerCase())),Z=()=>{f(null),h(!0)},ee=q=>{f(q),h(!0)},K=async q=>{if(window.confirm("Are you sure you want to delete this category?"))try{b(!0),await F0.deleteCategory(q),await j(),alert("Category deleted successfully")}catch($){const L=$ instanceof Error?$.message:"Failed to delete category";alert(`Error: ${L}`),console.error("Error deleting category:",$)}finally{b(!1)}},ae=async q=>{try{b(!0),N(null);const $=m.find(L=>L.companyName===q.companyName);if(!$){alert("Please select a valid company");return}if(d)await F0.updateCategory(d.id,{status:q.status}),alert("Category updated successfully");else{if(!q.categoryCode||!q.categoryName||!q.companyName){alert("Please fill in all required fields");return}await F0.createCategory({categoryCode:q.categoryCode,categoryName:q.categoryName,companyId:$.id}),alert("Category created successfully")}h(!1),f(null),await j()}catch($){const L=$ instanceof Error?$.message:"Failed to save category";N(L),alert(`Error: ${L}`),console.error("Error saving category:",$)}finally{b(!1)}},D=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"categoryCode",label:"Category Code",minWidth:140},{key:"categoryName",label:"Category Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:q=>t.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(q=>t.jsx("li",{children:t.jsxs(en,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:q.icon}),!n&&t.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Category Master"})})}),w&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:w}),y&&!A.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading categories..."}),t.jsx(pp,{title:"Category Master",breadcrumb:"/ Masters / Category Master",data:A,filteredData:P,columns:D,searchQuery:s,onSearchChange:c,onAdd:Z,onEdit:ee,onDelete:K,getId:q=>q.id,addButtonLabel:"Add Category",children:t.jsx(mp,{tabs:[{id:"list",label:"Category List"}],activeTab:l,onTabChange:q=>u(q)})})]}),o&&t.jsx(fee,{category:d,companies:m.filter(q=>q.status==="Active"),onClose:()=>{h(!1),f(null)},onSave:ae})]})},fee=({category:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Category":"Add Category"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"category-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Code *"}),t.jsx("input",{type:"text",value:i.categoryCode||"",onChange:l=>s({...i,categoryCode:l.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Name *"}),t.jsx("input",{type:"text",value:i.categoryName||"",onChange:l=>s({...i,categoryName:l.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Aee="http://localhost:3000/api/v1",pee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},i0=async(r,e={})=>{const n=pee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Aee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},D0={createPcbZone:async r=>(await i0("/pcb-zones",{method:"POST",body:JSON.stringify(r)})).data,getPcbZoneById:async r=>(await i0(`/pcb-zones/${r}`,{method:"GET"})).data,getAllPcbZones:async(r=!1)=>(await i0(r?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(r,e)=>(await i0(`/pcb-zones/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deletePcbZone:async r=>{await i0(`/pcb-zones/${r}`,{method:"DELETE"})}},mee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(!1),i=()=>{a(!n)},[s,c]=k.useState(""),[l,u]=k.useState("list"),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(null),w=async()=>{x(!0),b(null);try{const ae=(await D0.getAllPcbZones(!0)).map(D=>({id:D.id,pcbZoneName:D.pcbZoneName,pcbZoneAddress:D.pcbZoneAddress||"",contactNum:D.contactNum||"",contactEmail:D.contactEmail||"",alertEmail:D.alertEmail||"",status:D.status,createdBy:D.createdBy||"",createdOn:D.createdOn,modifiedBy:D.modifiedBy||"",modifiedOn:D.modifiedOn}));g(ae)}catch(K){const ae=K instanceof Error?K.message:"Failed to load PCB zones";b(ae),console.error("Error loading PCB zones:",K)}finally{x(!1)}};k.useEffect(()=>{w()},[]);const N=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],S=A.filter(K=>K.pcbZoneName.toLowerCase().includes(s.toLowerCase())||K.pcbZoneAddress.toLowerCase().includes(s.toLowerCase())||K.contactEmail.toLowerCase().includes(s.toLowerCase())),j=()=>{f(null),h(!0)},_=K=>{f(K),h(!0)},P=async K=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{x(!0),await D0.deletePcbZone(K),await w(),alert("PCB Zone deleted successfully")}catch(ae){const D=ae instanceof Error?ae.message:"Failed to delete PCB zone";alert(`Error: ${D}`),console.error("Error deleting PCB zone:",ae)}finally{x(!1)}},Z=async K=>{try{if(x(!0),b(null),d)await D0.updatePcbZone(d.id,{pcbZoneAddress:K.pcbZoneAddress,contactNum:K.contactNum,contactEmail:K.contactEmail,alertEmail:K.alertEmail,status:K.status}),alert("PCB Zone updated successfully");else{if(!K.pcbZoneName){alert("Please fill in PCB Zone Name");return}await D0.createPcbZone({pcbZoneName:K.pcbZoneName,pcbZoneAddress:K.pcbZoneAddress,contactNum:K.contactNum,contactEmail:K.contactEmail,alertEmail:K.alertEmail}),alert("PCB Zone created successfully")}h(!1),f(null),await w()}catch(ae){const D=ae instanceof Error?ae.message:"Failed to save PCB zone";b(D),alert(`Error: ${D}`),console.error("Error saving PCB zone:",ae)}finally{x(!1)}},ee=[{key:"pcbZoneName",label:"PCB Zone Name",minWidth:150,allowWrap:!0},{key:"pcbZoneAddress",label:"PCB Zone Address",minWidth:250,allowWrap:!0},{key:"contactNum",label:"Contact Number",minWidth:140},{key:"contactEmail",label:"Contact Email",minWidth:180,allowWrap:!0},{key:"alertEmail",label:"Alert Email",minWidth:180,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:K=>t.jsx("span",{className:`status-badge status-badge--${K.status.toLowerCase()}`,children:K.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:N.map(K=>t.jsx("li",{children:t.jsxs(en,{to:K.path,className:`nav-link ${K.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:K.icon}),!n&&t.jsx("span",{className:"nav-label",children:K.label})]})},K.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / PCB Zone Master"})})}),y&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),m&&!A.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading PCB zones..."}),t.jsx(pp,{title:"PCB Zone Master",breadcrumb:"/ Masters / PCB Zone Master",data:A,filteredData:S,columns:ee,searchQuery:s,onSearchChange:c,onAdd:j,onEdit:_,onDelete:P,getId:K=>K.id,addButtonLabel:"Add PCB Zone",children:t.jsx(mp,{tabs:[{id:"list",label:"PCB Zone List"}],activeTab:l,onTabChange:K=>u(K)})})]}),o&&t.jsx(gee,{pcbZone:d,onClose:()=>{h(!1),f(null)},onSave:Z})]})},gee=({pcbZone:r,onClose:e,onSave:n})=>{const[a,i]=k.useState(r||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit PCB Zone":"Add PCB Zone"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"pcb-zone-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone Name *"}),t.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>i({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"PCB Zone Address *"}),t.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>i({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Number *"}),t.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>i({...a,contactNum:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email *"}),t.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>i({...a,contactEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Alert Email *"}),t.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>i({...a,alertEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},vee="http://localhost:3000/api/v1",xee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},s0=async(r,e={})=>{const n=xee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},rA={createRoute:async r=>(await s0("/routes",{method:"POST",body:JSON.stringify(r)})).data,getRouteById:async r=>(await s0(`/routes/${r}`,{method:"GET"})).data,getAllRoutes:async(r=!1)=>(await s0(r?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(r,e)=>(await s0(`/routes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRoute:async r=>{await s0(`/routes/${r}`,{method:"DELETE"})}},yee="http://localhost:3000/api/v1",bee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},o0=async(r,e={})=>{const n=bee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${yee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},zp={createFrequency:async r=>(await o0("/frequencies",{method:"POST",body:JSON.stringify(r)})).data,getFrequencyById:async r=>(await o0(`/frequencies/${r}`,{method:"GET"})).data,getAllFrequencies:async(r,e=!1)=>{let n="/frequencies";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await o0(n,{method:"GET"})).data},updateFrequency:async(r,e)=>(await o0(`/frequencies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFrequency:async r=>{await o0(`/frequencies/${r}`,{method:"DELETE"})}},wee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState("list"),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[f,A]=k.useState([]),[g,m]=k.useState([]),[x,y]=k.useState(!1),[b,w]=k.useState(null),N=async()=>{try{const $=(await Qa.getAllCompanies(!0)).map(L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,status:L.status}));A($)}catch(q){console.error("Error loading companies:",q)}},S=async()=>{try{const $=(await zp.getAllFrequencies(void 0,!0)).map(L=>({id:L.id,frequencyCode:L.frequencyCode,frequencyName:L.frequencyName,companyName:L.companyName||"",status:L.status}));m($)}catch(q){console.error("Error loading frequencies:",q)}},j=async()=>{y(!0),w(null);try{let q=f;q.length===0&&(q=(await Qa.getAllCompanies(!0)).map(Be=>({id:Be.id,companyCode:Be.companyCode,companyName:Be.companyName,status:Be.status})),A(q));let $=g;$.length===0&&($=(await zp.getAllFrequencies(void 0,!0)).map(Be=>({id:Be.id,frequencyCode:Be.frequencyCode,frequencyName:Be.frequencyName,companyName:Be.companyName||"",status:Be.status})),m($));const ye=(await rA.getAllRoutes(!0)).map(ne=>{const Be=q.find(ve=>ve.id===ne.companyId),Te=(Be==null?void 0:Be.companyName)||"Unknown",me=$.find(ve=>ve.id===ne.frequencyId),ue=(me==null?void 0:me.frequencyCode)||ne.frequencyId||"";return{id:ne.id,companyName:Te,routeCode:ne.routeCode,routeName:ne.routeName,frequencyID:ue,status:ne.status,createdBy:ne.createdBy||"",createdOn:ne.createdOn,modifiedBy:ne.modifiedBy||"",modifiedOn:ne.modifiedOn}});d(ye)}catch(q){const $=q instanceof Error?q.message:"Failed to load routes";w($),console.error("Error loading routes:",q)}finally{y(!1)}};k.useEffect(()=>{(async()=>{await N(),await S(),await j()})()},[]);const _=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],P=h.filter(q=>q.routeName.toLowerCase().includes(n.toLowerCase())||q.routeCode.toLowerCase().includes(n.toLowerCase())||q.frequencyID.toLowerCase().includes(n.toLowerCase())||q.companyName.toLowerCase().includes(n.toLowerCase())),Z=()=>{o(null),l(!0)},ee=q=>{o(q),l(!0)},K=async q=>{if(window.confirm("Are you sure you want to delete this route?"))try{y(!0),await rA.deleteRoute(q),await j(),alert("Route deleted successfully")}catch($){const L=$ instanceof Error?$.message:"Failed to delete route";alert(`Error: ${L}`),console.error("Error deleting route:",$)}finally{y(!1)}},ae=async q=>{try{y(!0),w(null);const $=f.find(ye=>ye.companyName===q.companyName);if(!$){alert("Please select a valid company");return}const L=g.find(ye=>ye.frequencyCode===q.frequencyID);if(u)await rA.updateRoute(u.id,{frequencyId:L==null?void 0:L.id,status:q.status}),alert("Route updated successfully");else{if(!q.routeCode||!q.routeName||!q.companyName){alert("Please fill in all required fields");return}await rA.createRoute({routeCode:q.routeCode,routeName:q.routeName,companyId:$.id,frequencyId:L==null?void 0:L.id}),alert("Route created successfully")}l(!1),o(null),await j()}catch($){const L=$ instanceof Error?$.message:"Failed to save route";w(L),alert(`Error: ${L}`),console.error("Error saving route:",$)}finally{y(!1)}},D=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"routeCode",label:"Route Code",minWidth:120},{key:"routeName",label:"Route Name",minWidth:200,allowWrap:!0},{key:"frequencyID",label:"Frequency ID",minWidth:130},{key:"status",label:"Status",minWidth:100,render:q=>t.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(q=>t.jsx("li",{children:t.jsxs(en,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:q.icon}),t.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading routes..."}),t.jsx(pp,{title:"Route Master",breadcrumb:"/ Masters / Route Master",data:h,filteredData:P,columns:D,searchQuery:n,onSearchChange:a,onAdd:Z,onEdit:ee,onDelete:K,getId:q=>q.id,addButtonLabel:"Add Route",children:t.jsx(mp,{tabs:[{id:"list",label:"Route List"}],activeTab:i,onTabChange:q=>s(q)})})]}),c&&t.jsx(jee,{route:u,companies:f.filter(q=>q.status==="Active"),frequencies:g.filter(q=>q.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:ae})]})},jee=({route:r,companies:e,frequencies:n,onClose:a,onSave:i})=>{const[s,c]=k.useState(r||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),l=u=>{u.preventDefault(),i(s)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Route":"Add Route"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"route-form",onSubmit:l,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:s.companyName||"",onChange:u=>c({...s,companyName:u.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(u=>t.jsx("option",{value:u.companyName,children:u.companyName},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsx("input",{type:"text",value:s.routeCode||"",onChange:u=>c({...s,routeCode:u.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Name *"}),t.jsx("input",{type:"text",value:s.routeName||"",onChange:u=>c({...s,routeName:u.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency"}),t.jsxs("select",{value:s.frequencyID||"",onChange:u=>c({...s,frequencyID:u.target.value}),children:[t.jsx("option",{value:"",children:"Select Frequency"}),n.map(u=>t.jsxs("option",{value:u.frequencyCode,children:[u.frequencyName," (",u.frequencyCode,")"]},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:s.status||"Active",onChange:u=>c({...s,status:u.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Cee="http://localhost:3000/api/v1",Nee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},l0=async(r,e={})=>{const n=Nee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Cee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},f1={createColor:async r=>(await l0("/colors",{method:"POST",body:JSON.stringify(r)})).data,getColorById:async r=>(await l0(`/colors/${r}`,{method:"GET"})).data,getAllColors:async(r,e=!1)=>{let n="/colors";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await l0(n,{method:"GET"})).data},updateColor:async(r,e)=>(await l0(`/colors/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteColor:async r=>{await l0(`/colors/${r}`,{method:"DELETE"})}},See=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(!1),i=()=>{a(!n)},[s,c]=k.useState(""),[l,u]=k.useState("list"),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=async()=>{try{const $=(await Qa.getAllCompanies(!0)).map(L=>({id:L.id,companyCode:L.companyCode,companyName:L.companyName,status:L.status}));x($)}catch(q){console.error("Error loading companies:",q)}},j=async()=>{b(!0),N(null);try{const $=(await f1.getAllColors(void 0,!0)).map(L=>{const ye=m.find(ne=>ne.id===L.companyId);return{id:L.id,colorName:L.colorName,companyName:(ye==null?void 0:ye.companyName)||"Unknown Company",status:L.status,createdBy:L.createdBy||"",createdOn:L.createdOn,modifiedBy:L.modifiedBy||"",modifiedOn:L.modifiedOn}});g($)}catch(q){const $=q instanceof Error?q.message:"Failed to load color codes";N($),console.error("Error loading color codes:",q)}finally{b(!1)}};k.useEffect(()=>{(async()=>{await S()})()},[]),k.useEffect(()=>{m.length>0&&j()},[m.length]);const _=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}],P=A.filter(q=>q.colorName.toLowerCase().includes(s.toLowerCase())||q.companyName.toLowerCase().includes(s.toLowerCase())),Z=()=>{f(null),h(!0)},ee=q=>{f(q),h(!0)},K=async q=>{if(window.confirm("Are you sure you want to delete this color code?"))try{b(!0),await f1.deleteColor(q),await j(),alert("Color code deleted successfully")}catch($){const L=$ instanceof Error?$.message:"Failed to delete color code";alert(`Error: ${L}`),console.error("Error deleting color code:",$)}finally{b(!1)}},ae=async q=>{try{b(!0),N(null);const $=m.find(L=>L.companyName===q.companyName);if(!$){alert("Please select a valid company");return}if(d)await f1.updateColor(d.id,{status:q.status}),alert("Color code updated successfully");else{if(!q.colorName||!q.companyName){alert("Please fill in all required fields");return}await f1.createColor({colorName:q.colorName,companyId:$.id}),alert("Color code created successfully")}h(!1),f(null),await j()}catch($){const L=$ instanceof Error?$.message:"Failed to save color code";N(L),alert(`Error: ${L}`),console.error("Error saving color code:",$)}finally{b(!1)}},D=[{key:"colorName",label:"Color Name",minWidth:200,allowWrap:!0},{key:"companyName",label:"Company Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:q=>t.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:_.map(q=>t.jsx("li",{children:t.jsxs(en,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:q.icon}),!n&&t.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Color Code Master"})})}),w&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:w}),y&&!A.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading color codes..."}),t.jsx(pp,{title:"Color Code Master",breadcrumb:"/ Masters / Color Code Master",data:A,filteredData:P,columns:D,searchQuery:s,onSearchChange:c,onAdd:Z,onEdit:ee,onDelete:K,getId:q=>q.id,addButtonLabel:"Add Color Code",children:t.jsx(mp,{tabs:[{id:"list",label:"Color Code List"}],activeTab:l,onTabChange:q=>u(q)})})]}),o&&t.jsx(Bee,{colorCode:d,companies:m.filter(q=>q.status==="Active"),onClose:()=>{h(!1),f(null)},onSave:ae})]})},Bee=({colorCode:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{colorName:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Color Code":"Add Color Code"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"color-code-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Color Name *"}),t.jsx("input",{type:"text",value:i.colorName||"",onChange:l=>s({...i,colorName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Eee="http://localhost:3000/api/v1",Iee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ch=async(r,e={})=>{const n=Iee(),a=`${Eee}${r}`;console.log("[apiRequest] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[apiRequest] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok,headers:Object.fromEntries(s.headers.entries())}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const h=await s.text();console.log("[apiRequest] Error response text:",h),h&&(u=JSON.parse(h),console.log("[apiRequest] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(h){console.error("[apiRequest] Failed to parse error response:",h)}console.error("[apiRequest] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[apiRequest] Success response data:",c),c}catch(s){if(console.error("[apiRequest] Fetch error:",s),console.error("[apiRequest] Fetch error details:",{message:s instanceof Error?s.message:String(s),name:s instanceof Error?s.name:void 0,stack:s instanceof Error?s.stack:void 0}),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},Vl={createUser:async r=>(await Ch("/users",{method:"POST",body:JSON.stringify(r)})).data,createCompleteUser:async r=>{console.log("[userService] createCompleteUser called with data:",r),console.log("[userService] API endpoint: POST /users/complete");try{const e=await Ch("/users/complete",{method:"POST",body:JSON.stringify(r)});return console.log("[userService] createCompleteUser success - Response:",e),e.data}catch(e){throw console.error("[userService] createCompleteUser error:",e),console.error("[userService] Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),e}},getUserById:async r=>(await Ch(`/users/${r}`,{method:"GET"})).data,updateUser:async(r,e)=>(await Ch(`/users/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,updateCompleteUser:async(r,e)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",r),console.log("[userService] Data:",e),console.log("[userService] API endpoint: PUT /users/"+r+"/complete");try{const n=await Ch(`/users/${r}/complete`,{method:"PUT",body:JSON.stringify(e)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async r=>{await Ch(`/users/${r}`,{method:"DELETE"})},activateUser:async(r,e)=>(await Ch(`/users/${r}/activate`,{method:"POST",body:JSON.stringify(e)})).data,deactivateUser:async r=>(await Ch(`/users/${r}/deactivate`,{method:"POST"})).data,getUsersByCompany:async r=>(await Ch(`/users/company/${r}`,{method:"GET"})).data,getUserByUsername:async r=>(await Ch(`/users/username/${encodeURIComponent(r)}`,{method:"GET"})).data},Tee="http://localhost:3000/api/v1",_ee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},eS=async(r,e={})=>{const n=_ee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Tee}${r}`,{...e,headers:a});if(!i.ok){const c=await i.json().catch(()=>({}));let l=`HTTP error! status: ${i.status}`;throw c.message?Array.isArray(c.message)?l=c.message.join(", "):l=c.message:c.error&&(l=c.error),new Error(l)}return(await i.json()).data},Oee=async(r,e)=>eS(`/users/${r}/activate-with-password`,{method:"POST",body:JSON.stringify(e)}),h2=async(r,e)=>eS(`/users/${r}/change-password`,{method:"POST",body:JSON.stringify(e)}),kee=async r=>eS(`/users/${r}/reset-password`,{method:"POST"}),Pee=({isOpen:r,onClose:e})=>{const{user:n}=pa(),[a,i]=k.useState(!1),[s,c]=k.useState(null),[l,u]=k.useState(null),[o,h]=k.useState("basic"),[d,f]=k.useState(null),[A,g]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=k.useState(!1);k.useEffect(()=>{r&&n&&y()},[r,n]);const y=async()=>{if(n){i(!0),c(null);try{if(n.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id))try{const N=await Vl.getUserById(n.id);f(N),x(N.otpEnabled||!1);return}catch(N){console.log("User ID lookup failed, trying search by username:",N)}if(n.name)try{const N=await Vl.getUserByUsername(n.name);f(N),x(N.otpEnabled||!1);return}catch(N){console.log("User lookup by username failed:",N)}f({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}catch(w){console.error("Error loading user profile:",w),f({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},b=async w=>{if(w.preventDefault(),c(null),u(null),A.newPassword!==A.confirmPassword){c("New password and confirm password do not match");return}if(A.newPassword.length<8){c("New password must be at least 8 characters long");return}i(!0);try{if(!(n!=null&&n.id))throw new Error("User ID not found");const N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id);if(!N&&n.name){const S=await Vl.getUserByUsername(n.name);await h2(S.userId,{currentPassword:A.currentPassword,newPassword:A.newPassword})}else if(N)await h2(n.id,{currentPassword:A.currentPassword,newPassword:A.newPassword});else throw new Error("Unable to identify user for password change");u("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{e(),u(null),c(null)},1500)}catch(N){c(N.message||"Failed to change password")}finally{i(!1)}};return r?t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content profile-modal-content",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"My Profile"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body profile-modal-body",children:[s&&t.jsxs("div",{className:"profile-error-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),s]}),l&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),l]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${o==="basic"?"active":""}`,onClick:()=>h("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${o==="contact"?"active":""}`,onClick:()=>h("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${o==="security"?"active":""}`,onClick:()=>h("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!d?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading profile data..."}):t.jsxs(t.Fragment,{children:[o==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"User Name"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.userName)||(n==null?void 0:n.name)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employee Code"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.employeeCode)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Mobile Number"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.mobileNumber)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Status"}),t.jsx("div",{className:"info-value",children:t.jsx("span",{className:`status-badge status-badge--${((d==null?void 0:d.status)||"active").toLowerCase()}`,children:(d==null?void 0:d.status)||"Active"})})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Role"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.userRoleId)||(n==null?void 0:n.roles.join(", "))||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employment Type"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.employmentType)||"-"})]})]})]}),o==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:"Update your contact details (email is optional)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Email Address"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.emailAddress)||(n==null?void 0:n.email)||"Not provided"}),t.jsx("small",{className:"info-hint",children:"Email is optional and can be updated by admin"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Emergency Contact"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.emergencyContact)||"-"})]}),t.jsxs("div",{className:"info-item",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{className:"info-label",children:"Address"}),t.jsx("div",{className:"info-value",children:d!=null&&d.addressLine?t.jsxs("div",{children:[t.jsx("div",{children:d.addressLine}),d.area&&t.jsx("div",{children:d.area}),d.city&&t.jsxs("div",{children:[d.city,", ",d.district]}),d.pincode&&t.jsxs("div",{children:["PIN: ",d.pincode]})]}):"-"})]})]})]}),o==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"Change Password"}),t.jsxs("form",{onSubmit:b,className:"password-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"currentPassword",children:"Current Password *"}),t.jsx("input",{type:"password",id:"currentPassword",value:A.currentPassword,onChange:w=>g({...A,currentPassword:w.target.value}),required:!0,placeholder:"Enter your current password"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"newPassword",children:"New Password *"}),t.jsx("input",{type:"password",id:"newPassword",value:A.newPassword,onChange:w=>g({...A,newPassword:w.target.value}),required:!0,minLength:8,placeholder:"Enter new password (min 8 characters)"}),t.jsx("small",{className:"form-hint",children:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password *"}),t.jsx("input",{type:"password",id:"confirmPassword",value:A.confirmPassword,onChange:w=>g({...A,confirmPassword:w.target.value}),required:!0,minLength:8,placeholder:"Confirm new password"})]}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Changing Password...":"Change Password"})]})]}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"OTP Settings"}),t.jsxs("div",{className:"otp-settings",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{className:"setting-label",children:"OTP Enabled"}),t.jsx("p",{className:"setting-description",children:d!=null&&d.emailAddress?"OTP can be enabled if you have an email address":"OTP requires an email address. Please contact admin to add your email."})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:m,onChange:w=>x(w.target.checked),disabled:!(d!=null&&d.emailAddress)}),t.jsx("span",{className:"toggle-slider"})]})})]}),!(d!=null&&d.emailAddress)&&t.jsxs("div",{className:"setting-note",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Email address is required to enable OTP. Please contact your administrator."]})]})]})]})]})})]})]})}):null},Fee=()=>{const{user:r,logout:e}=pa(),n=_n();ti();const[a,i]=k.useState("users"),[s,c]=k.useState(""),[l,u]=k.useState(!1),[o,h]=k.useState(!1),[d,f]=k.useState(!1),[A,g]=k.useState(!1),[m,x]=k.useState(null),[y,b]=k.useState(null),[w,N]=k.useState(null),[S,j]=k.useState(!1),[_,P]=k.useState(null),Z=He=>{if(console.log("[extractErrorMessage] Extracting error message from:",He),He instanceof Error){const Zt=He;Zt.status&&console.log("[extractErrorMessage] Error has status:",Zt.status),Zt.errorData&&console.log("[extractErrorMessage] Error has errorData:",Zt.errorData);const Bt=Zt.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",Bt),Bt}if(typeof He=="string")return He;if(He&&typeof He=="object"){const Zt=He;if(Array.isArray(Zt.message))return Zt.message.join(", ");if(Zt.message)return String(Zt.message);if(Zt.error)return Array.isArray(Zt.error)?Zt.error.join(", "):String(Zt.error);try{return JSON.stringify(Zt)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[ee,K]=k.useState([]),[ae,D]=k.useState(!1),q=He=>({id:He.id,companyCode:He.companyCode,companyName:He.companyName,status:He.status}),$=async()=>{D(!0);try{const Zt=(await Qa.getAllCompanies(!0)).map(Bt=>q(Bt));return K(Zt),Zt}catch(He){console.error("Error loading companies:",He);const Zt=Z(He);return P(Zt||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{D(!1)}},[L,ye]=k.useState([]),[ne,Be]=k.useState([]),Te=He=>{if(!He)return null;if(X(He))return He;const Zt=ne.find(Bt=>Bt.roleName===He);return Zt?Zt.id:null},me=(He,Zt)=>{let Bt="-";if(He.userRoleId)if(ne.length>0){const $r=ne.find(pr=>pr.id===He.userRoleId);Bt=$r?$r.roleName:"-"}else Bt=He.userRoleId;return{id:He.userId,companyName:Zt,mobileNumber:He.mobileNumber,userName:He.userName,empCode:He.employeeCode||"",userRoleID:Bt,employmentType:He.employmentType||"",designation:He.designation||"",contractorName:He.contractorName||"",companyNameThirdParty:He.companyNameThirdParty||"",grossSalary:He.grossSalary?String(He.grossSalary):"",emailAddress:He.emailAddress||"",aadhaar:He.aadhaarNumber||"",pan:He.panNumber||"",dlNum:He.drivingLicenseNumber||"",pfNum:He.pfNumber||"",uan:He.uanNumber||"",esiNum:He.esiNumber||"",address:He.addressLine||"",area:He.area||"",city:He.city||"",district:He.district||"",pincode:He.pincode||"",emergencyContact:He.emergencyContact||"",webLogin:He.webLogin,mobileApp:He.mobileAppAccess,password:"",status:He.status,passwordEnabled:He.passwordEnabled,otpEnabled:He.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:He.createdOn,modifiedBy:"",modifiedOn:He.modifiedOn}},ue=async He=>{let Zt=He||ee;if(Zt.length===0&&(Zt=await $(),Zt.length===0)){ye([]),j(!1),P("No companies found. Please create a company first.");return}j(!0),P(null);try{const Bt=[];let $r=!1;for(const pr of Zt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(pr.id)){console.warn(`Skipping company ${pr.companyName} - ID is not a valid UUID: ${pr.id}`);continue}try{$r=!0;const qr=(await Vl.getUsersByCompany(pr.id)).map(Ir=>me(Ir,pr.companyName));Bt.push(...qr)}catch(Yr){console.warn(`Failed to load users for company ${pr.companyName}:`,Yr);const qr=Z(Yr);qr.includes("403")||qr.includes("401")||qr.includes("Unauthorized")?P("Authentication failed. Please login again."):qr.includes("404")||console.warn(`Error loading users for ${pr.companyName}: ${qr}`)}}$r?(ye(Bt),Bt.length>0&&P(null)):P("No valid companies found. Please create a company first.")}catch(Bt){const $r=Z(Bt);P($r||"Failed to load users"),console.error("Error loading users:",Bt)}finally{j(!1)}};k.useEffect(()=>{let He=!0;return(async()=>{try{const Bt=await $();if(!He)return;if(Bt.length>0){if(await We(Bt),!He)return;await ue(Bt)}else P("No companies found. Please create a company first.")}catch(Bt){if(!He)return;console.error("[UserManagementPage] Error during initialization:",Bt);const $r=Z(Bt);P($r||"Failed to initialize page. Please refresh.")}})(),()=>{He=!1}},[]),k.useEffect(()=>{if(ne.length>0&&L.length>0){const He=L.map(Bt=>{if(Bt.userRoleID&&X(Bt.userRoleID)){const $r=ne.find(pr=>pr.id===Bt.userRoleID);return $r?{...Bt,userRoleID:$r.roleName}:{...Bt,userRoleID:"-"}}return Bt});He.some((Bt,$r)=>Bt.userRoleID!==L[$r].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),ye(He))}},[ne]);const[ve]=k.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),le=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],Ae=L.filter(He=>{const Zt=s.toLowerCase();return(He.userName||"").toLowerCase().includes(Zt)||(He.emailAddress||"").toLowerCase().includes(Zt)||(He.empCode||"").toLowerCase().includes(Zt)||(He.mobileNumber||"").toLowerCase().includes(Zt)||(He.companyName||"").toLowerCase().includes(Zt)}),Ie=ne.filter(He=>He.roleName.toLowerCase().includes(s.toLowerCase())||He.description.toLowerCase().includes(s.toLowerCase())||He.companyName.toLowerCase().includes(s.toLowerCase())),Pe=()=>{x(null),u(!0)},Ce=async He=>{console.log("[handleEditUser] Editing user:",He.id),j(!0),P(null);try{const Zt=await Vl.getUserById(He.id);console.log("[handleEditUser] Complete user data fetched:",Zt);const Bt=ee.find(on=>on.id===Zt.companyId),$r=(Bt==null?void 0:Bt.companyName)||He.companyName,pr=me(Zt,$r);console.log("[handleEditUser] Mapped user data:",pr),x(pr),u(!0)}catch(Zt){console.error("[handleEditUser] Error fetching user data:",Zt);const Bt=Z(Zt);P(Bt||"Failed to load user data. Please try again."),x(He),u(!0)}finally{j(!1)}},ce=async He=>{if(window.confirm("Are you sure you want to delete this user?")){j(!0),P(null);try{await Vl.deleteUser(He),await ue()}catch(Zt){const Bt=Z(Zt);P(Bt||"Failed to delete user"),console.error("Error deleting user:",Zt)}finally{j(!1)}}},X=He=>!He||He.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(He),de=async He=>{console.log("handleSaveUser called with formData:",He),j(!0),P(null);try{if(m){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",m.id);const Zt=ee.find(pr=>pr.companyName===He.companyName)||ee[0];if(!Zt)throw new Error("Please select a company");if(!X(Zt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Zt.id}`);const Bt={companyId:Zt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode||null,emailAddress:He.emailAddress||null};if(He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const pr=Te(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",pr),pr&&X(pr)?(Bt.userRoleId=pr,console.log("[handleSaveUser]  Using converted UUID role ID:",pr)):X(He.userRoleID)?(Bt.userRoleId=He.userRoleID,console.log("[handleSaveUser]  Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser]  Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:pr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Bt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Bt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Bt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Bt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Bt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,Bt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Bt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Bt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Bt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Bt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Bt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,Bt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Bt.area=He.area&&He.area.trim()?He.area.trim():null,Bt.city=He.city&&He.city.trim()?He.city.trim():null,Bt.district=He.district&&He.district.trim()?He.district.trim():null,Bt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Bt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,Bt.webLogin=He.webLogin||!1,Bt.mobileAppAccess=He.mobileApp||!1,Bt.status=He.status||"Draft",Bt.passwordEnabled=He.passwordEnabled||!1,Bt.otpEnabled=He.otpEnabled||!1,Bt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(Bt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Bt.emailAddress),console.log("  - Aadhaar:",Bt.aadhaarNumber),console.log("  - PAN:",Bt.panNumber),console.log("  - ESI:",Bt.esiNumber),console.log("  - Address:",Bt.addressLine);let $r=!1;try{const pr=await Vl.updateCompleteUser(m.id,Bt);$r=!0,console.log("[handleSaveUser]  UPDATE API call SUCCESSFUL! Result:",pr),alert(" User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),P(null),console.log("[handleSaveUser]  Modal closed"),setTimeout(async()=>{try{await ue(),console.log("[handleSaveUser]  Users reloaded")}catch(on){console.error("[handleSaveUser]  Reload error (data was saved):",on)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch(pr){throw $r=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",pr),pr}}else{const Zt=ee.find(pr=>pr.companyName===He.companyName)||ee[0];if(!Zt)throw new Error("Please select a company");if(!X(Zt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Zt.id}`);const Bt={companyId:Zt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode,emailAddress:He.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",He.emailAddress),console.log("[handleSaveUser] Email address in createData:",Bt.emailAddress),He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const pr=Te(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",pr),pr&&X(pr)?(Bt.userRoleId=pr,console.log("[handleSaveUser]  Using converted UUID role ID:",pr)):X(He.userRoleID)?(Bt.userRoleId=He.userRoleID,console.log("[handleSaveUser]  Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser]  Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:pr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Bt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Bt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Bt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Bt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Bt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:Bt.employmentType,designation:Bt.designation,contractorName:Bt.contractorName,companyNameThirdParty:Bt.companyNameThirdParty,grossSalary:Bt.grossSalary}),Bt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Bt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Bt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Bt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Bt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Bt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:Bt.aadhaarNumber,pan:Bt.panNumber,drivingLicense:Bt.drivingLicenseNumber,pfNumber:Bt.pfNumber,uan:Bt.uanNumber,esi:Bt.esiNumber}),Bt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Bt.area=He.area&&He.area.trim()?He.area.trim():null,Bt.city=He.city&&He.city.trim()?He.city.trim():null,Bt.district=He.district&&He.district.trim()?He.district.trim():null,Bt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Bt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:Bt.addressLine,area:Bt.area,city:Bt.city,district:Bt.district,pincode:Bt.pincode,emergencyContact:Bt.emergencyContact}),Bt.webLogin=He.webLogin||!1,Bt.mobileAppAccess=He.mobileApp||!1,Bt.status=He.status||"Draft",Bt.passwordEnabled=He.passwordEnabled||!1,Bt.otpEnabled=He.otpEnabled||!1,Bt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",Bt),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(Bt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Bt.emailAddress),console.log("  - Aadhaar:",Bt.aadhaarNumber),console.log("  - PAN:",Bt.panNumber),console.log("  - ESI:",Bt.esiNumber),console.log("  - Address:",Bt.addressLine),console.log("  - Area:",Bt.area),console.log("  - City:",Bt.city);let $r=!1;try{const pr=await Vl.createCompleteUser(Bt);$r=!0,console.log("[handleSaveUser]  API call SUCCESSFUL! Result:",pr),pr||console.warn("[handleSaveUser]  Warning: API returned empty result but status was 200"),alert(" User created successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),P(null),console.log("[handleSaveUser]  Modal closed"),setTimeout(async()=>{try{await ue(),console.log("[handleSaveUser]  Users reloaded")}catch(on){console.error("[handleSaveUser]  Reload error (data was saved):",on)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch(pr){throw $r=!1,console.error("[handleSaveUser]  API CALL FAILED:",pr),pr}}}catch(Zt){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",Zt),console.error("[handleSaveUser] Error type:",typeof Zt),console.error("[handleSaveUser] Error instance check:",Zt instanceof Error);try{if(Zt instanceof Error){const pr=Zt;console.error("[handleSaveUser] Error details:",{message:pr.message,name:pr.name,stack:pr.stack,status:pr.status,statusText:pr.statusText,errorData:pr.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify(Zt,null,2))}catch(pr){console.error("[handleSaveUser] Could not log error details:",pr)}const Bt=Z(Zt);console.error("[handleSaveUser] Extracted error message:",Bt),console.error("[handleSaveUser] ========== ERROR END ==========");const $r=Bt||"Failed to save user. Please check console (F12) for details.";P($r),alert(` Error Saving User

${$r}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{j(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},se=(He,Zt)=>({id:He.roleId,roleName:He.roleName,description:He.roleDescription||"",companyName:Zt,status:He.status,createdBy:He.createdBy||"",createdOn:He.createdOn,modifiedBy:He.modifiedBy||"",modifiedOn:He.modifiedOn}),We=async He=>{let Zt=He||ee;if(Zt.length===0&&(Zt=await $(),Zt.length===0)){console.warn("No companies available to load roles"),Be([]);return}j(!0),P(null);try{const Bt=[];for(const $r of Zt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($r.id)){console.warn(`Skipping company ${$r.companyName} - ID is not a valid UUID: ${$r.id}`);continue}try{const Yr=(await Vp.getAllRoles($r.id,!1)).map(qr=>se(qr,$r.companyName));Bt.push(...Yr)}catch(on){console.warn(`Failed to load roles for company ${$r.companyName}:`,on)}}Be(Bt),console.log(`[loadRoles] Loaded ${Bt.length} roles`)}catch(Bt){const $r=Z(Bt);P($r||"Failed to load roles"),console.error("Error loading roles:",Bt)}finally{j(!1)}},Re=()=>{b(null),h(!0)},Ee=He=>{b(He),h(!0)},ie=async He=>{if(window.confirm("Are you sure you want to delete this role?")){j(!0),P(null);try{await Vp.deleteRole(He),await We(),alert(" Role deleted successfully!")}catch(Zt){const Bt=Z(Zt);P(Bt||"Failed to delete role"),console.error("Error deleting role:",Zt),alert(` Error Deleting Role

${Bt}

Please check the browser console (F12) for more details.`)}finally{j(!1)}}},Le=async He=>{j(!0),P(null);try{const Zt=ee.find(Bt=>Bt.companyName===He.companyName);if(!Zt)throw new Error("Please select a company");if(y){const Bt={roleName:He.roleName,roleDescription:He.description||null,status:He.status};console.log("[handleSaveRole] Updating role:",y.id,Bt),await Vp.updateRole(y.id,Bt),console.log("[handleSaveRole]  Role updated successfully"),alert(" Role updated successfully!")}else{const Bt={companyId:Zt.id,roleName:He.roleName||"",roleDescription:He.description||null,status:He.status||"Active"};console.log("[handleSaveRole] Creating role:",Bt),await Vp.createRole(Bt),console.log("[handleSaveRole]  Role created successfully"),alert(" Role created successfully!")}h(!1),b(null),await We()}catch(Zt){const Bt=Z(Zt);P(Bt||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",Zt),alert(` Error Saving Role

${Bt}

Please check the browser console (F12) for more details.`)}finally{j(!1)}},[Ze,jt]=k.useState(!1),[Lt,Ct]=k.useState(null),Xt=async(He,Zt)=>{j(!0),P(null);try{if(Zt.passwordEnabled){const Bt=await Oee(He,Zt);Ct({userName:Bt.userName,temporaryPassword:Bt.temporaryPassword,expiry:Bt.temporaryPasswordExpiry}),jt(!0),await ue()}else await Vl.activateUser(He,Zt),await ue()}catch(Bt){const $r=Z(Bt);P($r||"Failed to activate user"),console.error("Error activating user:",Bt)}finally{j(!1)}},_r=async(He,Zt)=>{if(window.confirm(`Are you sure you want to reset the password for ${Zt}? A new temporary password will be generated.`)){j(!0),P(null);try{const Bt=await kee(He);Ct({userName:Bt.userName,temporaryPassword:Bt.temporaryPassword,expiry:Bt.temporaryPasswordExpiry}),jt(!0),await ue()}catch(Bt){const $r=Z(Bt);P($r||"Failed to reset password"),console.error("Error resetting password:",Bt),alert(` Error Resetting Password

${$r}

Please check the browser console (F12) for more details.`)}finally{j(!1)}}},Or=async He=>{if(window.confirm("Are you sure you want to deactivate this user?")){j(!0),P(null);try{await Vl.deactivateUser(He),await ue()}catch(Zt){const Bt=Z(Zt);P(Bt||"Failed to deactivate user"),console.error("Error deactivating user:",Zt)}finally{j(!1)}}};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:le.map(He=>t.jsx("li",{children:t.jsxs(en,{to:He.path,className:`nav-link ${He.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:He.icon}),t.jsx("span",{className:"nav-label",children:He.label})]})},He.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsx("div",{className:"user-management-header",children:t.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})}),_&&t.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:_}),t.jsx("button",{onClick:()=>P(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),S&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),t.jsxs("div",{className:"user-management-tabs",children:[t.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>i("users"),children:"Users"}),t.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>i("roles"),children:"Roles & Permissions"})]}),t.jsxs("div",{className:"user-management-actions",children:[t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:a==="roles"?"Search roles...":"Search users...",value:s,onChange:He=>c(He.target.value)})]}),t.jsx("button",{className:"add-btn",onClick:a==="users"?Pe:Re,children:a==="users"?"Add User":"Add Role"})]}),a==="users"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Emp Code"}),t.jsx("th",{children:"Email Address"}),t.jsx("th",{children:"Mobile Number"}),t.jsx("th",{children:"User Role"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ae.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:S?"Loading users...":"No users found"})}):Ae.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:He.userName||"-"}),t.jsx("td",{children:He.empCode||"-"}),t.jsx("td",{children:He.emailAddress||"-"}),t.jsx("td",{children:He.mobileNumber||"-"}),t.jsx("td",{children:He.userRoleID||"-"}),t.jsx("td",{children:He.employmentType||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ce(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsxs("button",{className:"action-btn action-btn--reset",onClick:()=>_r(He.id,He.userName),title:"Reset Password - Generate new temporary password",style:{color:"#ffffff",background:"#f59e0b",border:"1px solid #f59e0b",padding:"6px 10px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M3 21v-5h5"})]}),t.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:"Reset"})]}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ce(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",Ae.length," of ",L.length," Items"]})]}),a==="roles"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ie.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:S?"Loading roles...":"No roles found"})}):Ie.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.roleName}),t.jsx("td",{children:He.description}),t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ee(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{N(He),f(!0)},title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ie(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",Ie.length," of ",ne.length," Items"]})]})]})]}),l&&t.jsx(Dee,{user:m,roles:ne.filter(He=>He.status==="Active"),companies:ee.filter(He=>He.status==="Active"),onClose:()=>{u(!1),x(null)},onSave:de,onActivate:Xt,onDeactivate:Or,loading:S}),Ze&&Lt&&t.jsx("div",{className:"modal-overlay",onClick:()=>jt(!1),children:t.jsxs("div",{className:"modal-content",onClick:He=>He.stopPropagation(),style:{maxWidth:"500px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Temporary Password Generated"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>jt(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[t.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:"600",color:"#92400e"},children:" Important: This password will only be shown once!"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"#78350f"},children:"Please copy this password and share it securely with the user. The user must change this password on their first login."})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"User Name:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px"},children:Lt.userName})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Temporary Password:"}),t.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{flex:1,padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"600",letterSpacing:"2px",color:"#1f2937"},children:Lt.temporaryPassword}),t.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(Lt.temporaryPassword),alert("Password copied to clipboard!")},style:{padding:"8px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Copy"})]})]}),Lt.expiry&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Password Expires:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontSize:"14px",color:"#6b7280"},children:new Date(Lt.expiry).toLocaleString()})]}),t.jsxs("div",{style:{background:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"8px",padding:"12px",fontSize:"14px",color:"#1e40af"},children:[t.jsx("strong",{children:"Note:"})," The user will be forced to change this password on their first login. This temporary password expires in 24 hours."]})]}),t.jsx("div",{className:"modal-footer",style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb"},children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>{jt(!1),Ct(null)},style:{width:"100%"},children:"I've Copied the Password"})})]})}),o&&t.jsx(Mee,{role:y,companies:ee.filter(He=>He.status==="Active"),onClose:()=>{h(!1),b(null)},onSave:Le}),d&&w&&t.jsx(Ree,{role:w,onClose:()=>{f(!1),N(null)},onSave:He=>{console.log("Saving permissions for role:",w.roleName,He),f(!1),N(null)}}),t.jsx(Pee,{isOpen:A,onClose:()=>g(!1)})]})},Dee=({user:r,roles:e,companies:n,onClose:a,onSave:i,onActivate:s,onDeactivate:c,loading:l})=>{const u=j=>{if(!j)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(j))return j;if(e&&e.length>0){const _=e.find(P=>P.roleName===j);return _?_.id:""}return""},[o,h]=k.useState(1),[d,f]=k.useState(r||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});k.useEffect(()=>{if(r)try{const j=u(r.userRoleID);f(_=>({...r,userRoleID:j||r.userRoleID||""}))}catch(j){console.error("[UserFormModal] Error converting role:",j),f(r)}},[r==null?void 0:r.id]);const A=()=>{const j=[d.companyName,d.userName,d.mobileNumber,d.empCode,d.userRoleID,d.employmentType,d.designation,d.aadhaar,d.pan,d.address,d.area,d.city,d.district,d.pincode,d.emergencyContact],_=j.filter(P=>P&&P.toString().trim()!=="").length;return Math.round(_/j.length*100)},g=(j,_)=>{f(j==="companyName"?{...d,[j]:_,userRoleID:""}:{...d,[j]:_})},m=()=>{if(console.log("handleNext called - Current step:",o),o<6){const j=o+1;console.log("Setting step to:",j),h(j)}else console.warn("handleNext called but already at step 6")},x=()=>{o>1&&h(o-1)},y=j=>{const _=[];switch(j){case 1:(!d.companyName||d.companyName.trim()==="")&&_.push("Company"),(!d.userName||d.userName.trim()==="")&&_.push("User Name"),(!d.mobileNumber||d.mobileNumber.trim()==="")&&_.push("Mobile Number"),(!d.empCode||d.empCode.trim()==="")&&_.push("Employee Code"),(!d.userRoleID||d.userRoleID.trim()==="")&&_.push("User Role");break;case 2:(!d.employmentType||d.employmentType.trim()==="")&&_.push("Employment Type"),(!d.designation||d.designation.trim()==="")&&_.push("Designation"),d.employmentType==="Contract"&&(!d.contractorName||d.contractorName.trim()==="")&&_.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!d.companyName||d.companyName.trim()==="")&&_.push("Company (Step 1)"),(!d.userName||d.userName.trim()==="")&&_.push("User Name (Step 1)"),(!d.mobileNumber||d.mobileNumber.trim()==="")&&_.push("Mobile Number (Step 1)"),(!d.empCode||d.empCode.trim()==="")&&_.push("Employee Code (Step 1)"),(!d.userRoleID||d.userRoleID.trim()==="")&&_.push("User Role (Step 1)"),(!d.employmentType||d.employmentType.trim()==="")&&_.push("Employment Type (Step 2)"),(!d.designation||d.designation.trim()==="")&&_.push("Designation (Step 2)"),d.employmentType==="Contract"&&(!d.contractorName||d.contractorName.trim()==="")&&_.push("Contractor Name (Step 2)");break}const P=_.length===0,ee=P?"":` Validation Error - Step ${j}: ${j===1?"Create User":j===2?"Employee Profile":j===3?"Identity & Compliance":j===4?"Address & Emergency":j===5?"User Activation":"Summary"}

Please fill in the following required fields:

${_.map((K,ae)=>`  ${ae+1}. ${K}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:P,missingFields:_,message:ee}},b=j=>{j&&(j.preventDefault(),j.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",o),console.log("Form data:",d);const _=y(o);if(!_.isValid){alert(_.message),console.error(`Step ${o} validation failed - Missing fields:`,_.missingFields);return}o<6?(console.log(`Moving from Step ${o} to Step ${o+1}`),m()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},w=j=>{if(j&&(j.preventDefault(),j.stopPropagation()),console.log("handleFinalSave called - Current step:",o),o===6){const _=[],P=y(1);if(P.isValid||_.push({step:1,fields:P.missingFields}),_.length>0){const ee=_.map(({step:K,fields:ae})=>`Step ${K}:
${ae.map((D,q)=>`  ${q+1}. ${D}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${ee}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",_);return}const Z={...d,status:d.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",Z),console.log("[handleFinalSave] Email address in finalData:",Z.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),i(Z)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",o)},N=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&a()},S=[{number:1,title:"Create user"},{number:2,title:"Employee profile"},{number:3,title:"Identity & compliance"},{number:4,title:"Address & emergency"},{number:5,title:"User activation"},{number:6,title:"Summary & confirm"}];return t.jsx("div",{className:"modal-overlay",onClick:N,children:t.jsxs("div",{className:"modal-content wizard-modal",onClick:j=>j.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit User":"Create User"}),t.jsx("button",{className:"modal-close-btn",onClick:N,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"wizard-progress",children:S.map(j=>t.jsxs("div",{className:`wizard-step ${o>=j.number?"wizard-step--active":""} ${o===j.number?"wizard-step--current":""}`,children:[t.jsx("div",{className:"wizard-step-number",children:j.number}),t.jsx("div",{className:"wizard-step-title",children:j.title})]},j.number))}),t.jsxs("div",{className:"wizard-content",children:[o===1&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Create user"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:d.companyName||"",onChange:j=>g("companyName",j.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select company"}),n.map(j=>t.jsx("option",{value:j.companyName,children:j.companyName},j.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User name *"}),t.jsx("input",{type:"text",value:d.userName||"",onChange:j=>g("userName",j.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$"}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Mobile number *"}),t.jsx("input",{type:"tel",value:d.mobileNumber||"",onChange:j=>g("mobileNumber",j.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email address"}),t.jsx("input",{type:"email",value:d.emailAddress||"",onChange:j=>g("emailAddress",j.target.value),placeholder:"e.g., user@example.com",maxLength:255}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),t.jsxs("div",{className:"form-group field-emp-code",children:[t.jsx("label",{children:"Employee code *"}),t.jsx("input",{type:"text",value:d.empCode||"",onChange:j=>g("empCode",j.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User role *"}),t.jsxs("select",{value:d.userRoleID||"",onChange:j=>g("userRoleID",j.target.value),required:!0,disabled:!d.companyName,children:[t.jsx("option",{value:"",children:d.companyName?"Select role":"Select company first"}),d.companyName&&e.filter(j=>j.companyName===d.companyName&&j.status==="Active").map(j=>t.jsx("option",{value:j.id,children:j.roleName},j.id))]}),!d.companyName&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),d.companyName&&e.filter(j=>j.companyName===d.companyName&&j.status==="Active").length===0&&t.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),o===2&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Employee profile"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Employment type *"}),t.jsxs("select",{value:d.employmentType||"",onChange:j=>g("employmentType",j.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"Permanent",children:"Permanent"}),t.jsx("option",{value:"Contract",children:"Contract"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:d.designation||"",onChange:j=>g("designation",j.target.value),required:!0})]}),d.employmentType==="Contract"&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contractor name *"}),t.jsx("input",{type:"text",value:d.contractorName||"",onChange:j=>g("contractorName",j.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company name (if third-party)"}),t.jsx("input",{type:"text",value:d.companyNameThirdParty||"",onChange:j=>g("companyNameThirdParty",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Gross salary"}),t.jsx("input",{type:"text",value:d.grossSalary||"",onChange:j=>g("grossSalary",j.target.value)})]})]})]}),o===3&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Identity & compliance details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group field-aadhaar",children:[t.jsx("label",{children:"Aadhaar"}),t.jsx("input",{type:"text",value:d.aadhaar||"",onChange:j=>g("aadhaar",j.target.value)})]}),t.jsxs("div",{className:"form-group field-pan",children:[t.jsx("label",{children:"PAN"}),t.jsx("input",{type:"text",value:d.pan||"",onChange:j=>g("pan",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driving license"}),t.jsx("input",{type:"text",value:d.dlNum||"",onChange:j=>g("dlNum",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PF number"}),t.jsx("input",{type:"text",value:d.pfNum||"",onChange:j=>g("pfNum",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"UAN"}),t.jsx("input",{type:"text",value:d.uan||"",onChange:j=>g("uan",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"ESI number"}),t.jsx("input",{type:"text",value:d.esiNum||"",onChange:j=>g("esiNum",j.target.value)})]})]})]}),o===4&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Address & emergency"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("textarea",{value:d.address||"",onChange:j=>g("address",j.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area"}),t.jsx("input",{type:"text",value:d.area||"",onChange:j=>g("area",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"City"}),t.jsx("input",{type:"text",value:d.city||"",onChange:j=>g("city",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District"}),t.jsx("input",{type:"text",value:d.district||"",onChange:j=>g("district",j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:d.pincode||"",onChange:j=>g("pincode",j.target.value)})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Emergency contact number"}),t.jsx("input",{type:"tel",value:d.emergencyContact||"",onChange:j=>g("emergencyContact",j.target.value)})]})]})]}),o===5&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User activation & access enablement"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Web login *"}),t.jsxs("select",{value:d.webLogin?"Yes":"No",onChange:j=>g("webLogin",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Mobile app access *"}),t.jsxs("select",{value:d.mobileApp?"Yes":"No",onChange:j=>g("mobileApp",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:d.status||"Draft",onChange:j=>g("status",j.target.value),required:!0,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password enabled *"}),t.jsxs("select",{value:d.passwordEnabled?"Yes":"No",onChange:j=>g("passwordEnabled",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"OTP enabled *"}),t.jsxs("select",{value:d.otpEnabled?"Yes":"No",onChange:j=>g("otpEnabled",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"Force OTP on next login *"}),t.jsxs("select",{value:d.forceOtpOnNextLogin?"Yes":"No",onChange:j=>g("forceOtpOnNextLogin",j.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]})]})]}),o===6&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User summary & confirmation"}),t.jsx("div",{className:"activation-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"User summary"}),t.jsxs("div",{className:"summary-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Company:"}),t.jsx("span",{className:"info-value",children:d.companyName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"User name:"}),t.jsx("span",{className:"info-value",children:d.userName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Employee code:"}),t.jsx("span",{className:"info-value",children:d.empCode||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Role:"}),t.jsx("span",{className:"info-value",children:d.userRoleID||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Profile completeness:"}),t.jsxs("span",{className:"info-value",children:[A(),"%"]})]})]}),t.jsxs("div",{className:"activation-actions",children:[t.jsx("button",{type:"button",className:"btn btn--activate",onClick:async()=>{r!=null&&r.id&&s&&(await s(r.id,{passwordEnabled:d.passwordEnabled||!1,otpEnabled:d.otpEnabled||!1,webLogin:d.webLogin||!1,mobileAppAccess:d.mobileApp||!1,forceOtpOnNextLogin:d.forceOtpOnNextLogin||!1}),a())},disabled:!(r!=null&&r.id)||l,children:" Activate User"}),t.jsx("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{r!=null&&r.id&&c&&(await c(r.id),a())},disabled:!(r!=null&&r.id)||l,children:" Deactivate User"})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[o>1&&t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:N,children:"Cancel"}),o<6?t.jsx("button",{type:"button",className:"btn btn--primary",onClick:j=>{j.preventDefault(),j.stopPropagation(),console.log("Save & Continue button clicked!"),b(j)},disabled:l,children:"Save & Continue"}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:j=>{j.preventDefault(),j.stopPropagation(),console.log("Save & Complete button clicked!"),w(j)},disabled:l,children:"Save & Complete"})]})]})})},Mee=({role:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{roleName:"",description:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--role",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Role":"Add Role"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-single-column",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]}),r&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Role name *"}),t.jsx("input",{type:"text",value:i.roleName||"",onChange:l=>s({...i,roleName:l.target.value}),required:!0,maxLength:100})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:i.description||"",onChange:l=>s({...i,description:l.target.value}),rows:3,maxLength:500})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Ree=({role:r,onClose:e,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[i,s]=k.useState(()=>{const h={};return a.forEach(d=>{d.permissions.forEach(f=>{h[f.code]=!1})}),h}),c=r.status==="Inactive",l=(h,d)=>{c||s({...i,[h]:d})},u=h=>{if(c)return;const d={...i},f=h.every(A=>i[A.code]);h.forEach(A=>{d[A.code]=!f}),s(d)},o=h=>{h.preventDefault(),n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--permissions",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",r.roleName]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"permissions-form",onSubmit:o,children:[t.jsx("div",{className:"permissions-content",children:a.map(h=>{const d=h.permissions,f=d.every(A=>i[A.code]);return d.some(A=>i[A.code]),t.jsxs("div",{className:"permissions-module",children:[t.jsxs("div",{className:"permissions-module-header",children:[t.jsx("h3",{className:"permissions-module-title",children:h.module}),t.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>u(d),disabled:c,children:f?"Deselect All":"Select All"})]}),t.jsx("div",{className:"permissions-list",children:d.map(A=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:i[A.code]||!1,onChange:g=>l(A.code,g.target.checked),disabled:c}),t.jsx("span",{className:"permission-label",children:A.name})]},A.id))})]},h.module)})}),t.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},Lee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),[c,l]=k.useState(null),[u,o]=k.useState({}),h={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[d]=k.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[f,A]=k.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[g,m]=k.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:e.pathname==="/master/user-management"||e.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],y=f.filter(K=>K.roleName.toLowerCase().includes(n.toLowerCase())||K.description.toLowerCase().includes(n.toLowerCase())||K.companyName.toLowerCase().includes(n.toLowerCase())),b=()=>{m({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),l(null),s(!0);const K={};Object.values(h).forEach(ae=>{ae.forEach(D=>{K[D.code]=!1})}),m(ae=>({...ae,permissions:K}))},w=K=>{m({roleName:K.roleName,description:K.description,companyName:K.companyName,landingPage:K.landingPage,status:K.status,accessLevel:K.accessLevel,permissions:K.permissions||{}}),l(K),s(!0)},N=K=>{window.confirm("Are you sure you want to delete this role?")&&A(f.filter(ae=>ae.id!==K))},S=()=>{if(!g.roleName||!g.companyName||!g.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)A(f.map(K=>K.id===c.id?{...K,roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:K));else{const K={id:Date.now().toString(),roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};A([...f,K])}s(!1),l(null)},j=(K,ae)=>{m(D=>({...D,permissions:{...D.permissions,[K]:ae}}))},_=(K,ae)=>{const D=h[K]||[],q={...g.permissions};D.forEach($=>{q[$.code]=ae}),m($=>({...$,permissions:q}))},P=K=>{o(ae=>({...ae,[K]:!ae[K]}))},Z=K=>{const ae=h[K]||[];return ae.length===0?!1:ae.every(D=>g.permissions[D.code])},ee=K=>{const ae=h[K]||[],D=ae.filter(q=>g.permissions[q.code]).length;return D>0&&D<ae.length};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsx("div",{className:"sidebar-header",children:t.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),t.jsx("nav",{className:"sidebar-nav",children:x.map(K=>t.jsxs(en,{to:K.path,className:`nav-item ${K.active?"nav-item--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:K.icon}),t.jsx("span",{className:"nav-label",children:K.label})]},K.path))}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"logout-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management / Roles & Permissions"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsxs("div",{className:"user-management-header",children:[t.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),t.jsxs("button",{className:"btn btn-primary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),t.jsx("div",{className:"user-management-search-section",children:t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:K=>a(K.target.value)})]})}),t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:y.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(K=>t.jsxs("tr",{children:[t.jsx("td",{children:K.roleName}),t.jsx("td",{children:K.description}),t.jsx("td",{children:K.companyName}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${K.status.toLowerCase()}`,children:K.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>w(K),title:"Edit Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>w(K),title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>N(K.id),title:"Delete Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},K.id))})]})})]})]}),i&&t.jsx("div",{className:"modal-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"modal-content modal-content--role-form",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),t.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Access Level"}),t.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(K=>t.jsxs("label",{className:"access-level-option",children:[t.jsx("input",{type:"radio",name:"accessLevel",value:K,checked:g.accessLevel===K,onChange:ae=>m({...g,accessLevel:ae.target.value})}),t.jsx("span",{children:K})]},K))})]}),t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Role Name *"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:g.roleName,onChange:K=>m({...g,roleName:K.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:g.description,onChange:K=>m({...g,description:K.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Company Name *"}),t.jsxs("select",{className:"form-input",value:g.companyName,onChange:K=>m({...g,companyName:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),d.filter(K=>K.status==="Active").map(K=>t.jsx("option",{value:K.companyName,children:K.companyName},K.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Status *"}),t.jsxs("select",{className:"form-input",value:g.status,onChange:K=>m({...g,status:K.target.value}),children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Permissions"}),t.jsx("div",{className:"permissions-list-container",children:Object.entries(h).map(([K,ae])=>t.jsxs("div",{className:"permission-module-item",children:[t.jsxs("div",{className:"permission-module-header-row",children:[t.jsxs("div",{className:"permission-module-header-left",children:[t.jsx("input",{type:"checkbox",checked:Z(K),ref:D=>{D&&(D.indeterminate=ee(K))},onChange:D=>_(K,D.target.checked),className:"permission-module-checkbox"}),t.jsx("span",{className:"permission-module-title",children:K})]}),t.jsx("button",{className:"permission-module-toggle",onClick:()=>P(K),children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:u[K]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),u[K]&&t.jsx("div",{className:"permission-module-permissions",children:ae.map(D=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:g.permissions[D.code]||!1,onChange:q=>j(D.code,q.target.checked)}),t.jsx("span",{children:D.name})]},D.id))})]},K))})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>s(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:S,children:"Save"})]})]})})]})},Uee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},c0=async(r,e={})=>{const n=Uee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pf}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},ks={createHcf:async r=>(await c0("/hcfs",{method:"POST",body:JSON.stringify(r)})).data,getHcfById:async r=>(await c0(`/hcfs/${r}`,{method:"GET"})).data,getAllHcfs:async(r,e=!1)=>{let n="/hcfs";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await c0(n,{method:"GET"})).data},updateHcf:async(r,e)=>(await c0(`/hcfs/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcf:async r=>{await c0(`/hcfs/${r}`,{method:"DELETE"})}},Hee="http://localhost:3000/api/v1",Qee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},u0=async(r,e={})=>{const n=Qee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Hee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},M0={createHcfType:async r=>(await u0("/hcf-types",{method:"POST",body:JSON.stringify(r)})).data,getHcfTypeById:async r=>(await u0(`/hcf-types/${r}`,{method:"GET"})).data,getAllHcfTypes:async(r,e=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await u0(n,{method:"GET"})).data},updateHcfType:async(r,e)=>(await u0(`/hcf-types/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfType:async r=>{await u0(`/hcf-types/${r}`,{method:"DELETE"})}},Wee=()=>{const{logout:r,user:e,permissions:n}=pa(),a=_n(),i=Ap(n),s=ZJ(n),c=JJ(n);k.useEffect(()=>{e&&(console.log("HCF Master - User:",{id:e.id,email:e.email,name:e.name,roles:e.roles}),console.log("HCF Master - Permissions:",{canCreate:i,canEdit:s,canDelete:c}))},[e,i,s]);const[l,u]=k.useState(""),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState(!1),[m,x]=k.useState(null),[y,b]=k.useState(!1),[w,N]=k.useState(!1),S=()=>{N(!w)},[j,_]=k.useState([]),[P,Z]=k.useState([]),[ee,K]=k.useState([]),[ae,D]=k.useState([]),[q,$]=k.useState([]),[L,ye]=k.useState([]),[ne,Be]=k.useState([]),[Te,me]=k.useState([]),ue=k.useCallback(async()=>{try{const ie=await Qa.getAllCompanies(void 0,!0);_(ie.map(Le=>({id:Le.id,companyCode:Le.companyCode,companyName:Le.companyName,status:Le.status})))}catch(ie){console.error("Failed to load companies:",ie)}},[]),ve=k.useCallback(async()=>{try{const ie=await P0.getAllAreas(!0);Z(ie.map(Le=>({id:Le.id,areaName:Le.areaName,status:Le.status})))}catch(ie){console.error("Failed to load areas:",ie)}},[]),le=k.useCallback(async()=>{try{const ie=await k0.getAllStates(!0);K(ie.map(Le=>({id:Le.id,stateCode:Le.stateCode,stateName:Le.stateName,status:Le.status})))}catch(ie){console.error("Failed to load states:",ie)}},[]),Ae=k.useCallback(async()=>{try{const ie=await D0.getAllPcbZones(!0);D(ie.map(Le=>({id:Le.id,pcbZoneName:Le.pcbZoneName,status:Le.status})))}catch(ie){console.error("Failed to load PCB zones:",ie)}},[]),Ie=k.useCallback(async()=>{try{const ie=await F0.getAllCategories(void 0,!0);$(ie.map(Le=>({id:Le.id,categoryName:Le.categoryName,status:Le.status})))}catch(ie){console.error("Failed to load categories:",ie)}},[]),Pe=k.useCallback(async()=>{try{const ie=await rA.getAllRoutes(!0);ye(ie.map(Le=>({id:Le.id,routeName:Le.routeName,status:Le.status})))}catch(ie){console.error("Failed to load routes:",ie)}},[]),Ce=k.useCallback(async()=>{try{const ie=await M0.getAllHcfTypes(void 0,!0);Be(ie)}catch(ie){console.error("Failed to load HCF types:",ie)}},[]),ce=k.useCallback(async()=>{try{g(!0),x(null);const Le=(await ks.getAllHcfs()).map(Ze=>{const jt=j.find(He=>He.id===Ze.companyId),Lt=P.find(He=>He.id===Ze.areaId),Ct=ee.find(He=>He.stateCode===Ze.stateCode),Xt=ae.find(He=>He.id===Ze.pcbZone),_r=q.find(He=>He.id===Ze.category),Or=L.find(He=>He.id===Ze.route);return{id:Ze.id,companyName:(jt==null?void 0:jt.companyName)||"",companyID:Ze.companyId,hcfCode:Ze.hcfCode,password:Ze.password||"",hcfTypeCode:Ze.hcfTypeCode||"",hcfName:Ze.hcfName,hcfShortName:Ze.hcfShortName||"",areaID:Ze.areaId||"",pincode:Ze.pincode||"",district:Ze.district||"",stateCode:Ze.stateCode||"",groupCode:Ze.groupCode||"",pcbZone:Ze.pcbZone||"",billingName:Ze.billingName||"",billingAddress:Ze.billingAddress||"",serviceAddress:Ze.serviceAddress||"",gstin:Ze.gstin||"",regnNum:Ze.regnNum||"",hospRegnDate:Ze.hospRegnDate||"",billingType:Ze.billingType||"",advAmount:Ze.advAmount||"",billingOption:Ze.billingOption||"",bedCount:Ze.bedCount||"",bedRate:Ze.bedRate||"",kgRate:Ze.kgRate||"",lumpsum:Ze.lumpsum||"",accountsLandline:Ze.accountsLandline||"",accountsMobile:Ze.accountsMobile||"",accountsEmail:Ze.accountsEmail||"",contactName:Ze.contactName||"",contactDesignation:Ze.contactDesignation||"",contactMobile:Ze.contactMobile||"",contactEmail:Ze.contactEmail||"",agrSignAuthName:Ze.agrSignAuthName||"",agrSignAuthDesignation:Ze.agrSignAuthDesignation||"",drName:Ze.drName||"",drPhNo:Ze.drPhNo||"",drEmail:Ze.drEmail||"",serviceStartDate:Ze.serviceStartDate||"",serviceEndDate:Ze.serviceEndDate||"",category:Ze.category||"",route:Ze.route||"",executive_Assigned:Ze.executive_Assigned||"",submitBy:Ze.submitBy||"",agrID:Ze.agrID||"",sortOrder:Ze.sortOrder||"",isGovt:Ze.isGovt||!1,isGSTExempt:Ze.isGSTExempt||!1,autoGen:Ze.autoGen||!1,status:Ze.status,createdBy:Ze.createdBy||"",createdOn:Ze.createdOn,modifiedBy:Ze.modifiedBy||"",modifiedOn:Ze.modifiedOn}});me(Le)}catch(ie){console.error("Failed to load HCFs:",ie),x(ie.message||"Failed to load HCFs"),me([])}finally{g(!1)}},[j,P,ee,ae,q,L]);k.useEffect(()=>{(async()=>{await Promise.all([ue(),ve(),le(),Ae(),Ie(),Pe(),Ce()])})()},[ue,ve,le,Ae,Ie,Pe,Ce]),k.useEffect(()=>{j.length>0&&ce()},[j.length,ce]);const X=Te.filter(ie=>ie.hcfName.toLowerCase().includes(l.toLowerCase())||ie.hcfCode.toLowerCase().includes(l.toLowerCase())||ie.companyName.toLowerCase().includes(l.toLowerCase())||ie.hcfShortName.toLowerCase().includes(l.toLowerCase()));k.useEffect(()=>{const ie=setTimeout(()=>{const Le=document.querySelector(".add-hcf-btn"),Ze=document.querySelectorAll(".action-btn"),jt=Le?window.getComputedStyle(Le):null,Lt=Ze[0],Ct=Lt?window.getComputedStyle(Lt):null;console.log("HCF Master - Button Check:",{addButtonExists:!!Le,addButtonVisible:Le?(jt==null?void 0:jt.display)!=="none"&&(jt==null?void 0:jt.visibility)!=="hidden":!1,addButtonStyles:Le?{display:jt==null?void 0:jt.display,visibility:jt==null?void 0:jt.visibility,opacity:jt==null?void 0:jt.opacity,width:jt==null?void 0:jt.width,height:jt==null?void 0:jt.height}:null,actionButtonsCount:Ze.length,firstActionButtonStyles:Lt?{display:Ct==null?void 0:Ct.display,visibility:Ct==null?void 0:Ct.visibility,opacity:Ct==null?void 0:Ct.opacity}:null,canCreate:i,canEdit:s,hcfsCount:Te.length,filteredHCFsCount:X.length})},500);return()=>clearTimeout(ie)},[i,s,Te.length,X.length]);const de=()=>{f(null),h(!0)},se=ie=>{f(ie),h(!0)},We=async ie=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{g(!0),await ks.deleteHcf(ie),await ce()}catch(Le){console.error("Failed to delete HCF:",Le),x(Le.message||"Failed to delete HCF"),alert(Le.message||"Failed to delete HCF")}finally{g(!1)}},Re=async ie=>{try{if(b(!0),x(null),d){const Le={hcfName:ie.hcfName,hcfShortName:ie.hcfShortName,areaId:ie.areaID,pincode:ie.pincode,district:ie.district,stateCode:ie.stateCode,groupCode:ie.groupCode,pcbZone:ie.pcbZone,billingName:ie.billingName,billingAddress:ie.billingAddress,serviceAddress:ie.serviceAddress,gstin:ie.gstin,regnNum:ie.regnNum,hospRegnDate:ie.hospRegnDate,billingType:ie.billingType,advAmount:ie.advAmount,billingOption:ie.billingOption,bedCount:ie.bedCount,bedRate:ie.bedRate,kgRate:ie.kgRate,lumpsum:ie.lumpsum,accountsLandline:ie.accountsLandline,accountsMobile:ie.accountsMobile,accountsEmail:ie.accountsEmail,contactName:ie.contactName,contactDesignation:ie.contactDesignation,contactMobile:ie.contactMobile,contactEmail:ie.contactEmail,agrSignAuthName:ie.agrSignAuthName,agrSignAuthDesignation:ie.agrSignAuthDesignation,drName:ie.drName,drPhNo:ie.drPhNo,drEmail:ie.drEmail,serviceStartDate:ie.serviceStartDate,serviceEndDate:ie.serviceEndDate,category:ie.category,route:ie.route,executive_Assigned:ie.executive_Assigned,submitBy:ie.submitBy,agrID:ie.agrID,sortOrder:ie.sortOrder,isGovt:ie.isGovt,isGSTExempt:ie.isGSTExempt,autoGen:ie.autoGen,status:ie.status};await ks.updateHcf(d.id,Le)}else{if(!ie.companyID)throw new Error("Company is required");if(!ie.hcfCode)throw new Error("HCF Code is required");if(!ie.hcfName)throw new Error("HCF Name is required");await ks.createHcf({companyId:ie.companyID,hcfCode:ie.hcfCode,password:ie.password,hcfTypeCode:ie.hcfTypeCode,hcfName:ie.hcfName,hcfShortName:ie.hcfShortName,areaId:ie.areaID,pincode:ie.pincode,district:ie.district,stateCode:ie.stateCode,groupCode:ie.groupCode,pcbZone:ie.pcbZone,billingName:ie.billingName,billingAddress:ie.billingAddress,serviceAddress:ie.serviceAddress,gstin:ie.gstin,regnNum:ie.regnNum,hospRegnDate:ie.hospRegnDate,billingType:ie.billingType,advAmount:ie.advAmount,billingOption:ie.billingOption,bedCount:ie.bedCount,bedRate:ie.bedRate,kgRate:ie.kgRate,lumpsum:ie.lumpsum,accountsLandline:ie.accountsLandline,accountsMobile:ie.accountsMobile,accountsEmail:ie.accountsEmail,contactName:ie.contactName,contactDesignation:ie.contactDesignation,contactMobile:ie.contactMobile,contactEmail:ie.contactEmail,agrSignAuthName:ie.agrSignAuthName,agrSignAuthDesignation:ie.agrSignAuthDesignation,drName:ie.drName,drPhNo:ie.drPhNo,drEmail:ie.drEmail,serviceStartDate:ie.serviceStartDate,serviceEndDate:ie.serviceEndDate,category:ie.category,route:ie.route,executive_Assigned:ie.executive_Assigned,submitBy:ie.submitBy,agrID:ie.agrID,sortOrder:ie.sortOrder,isGovt:ie.isGovt,isGSTExempt:ie.isGSTExempt,autoGen:ie.autoGen})}await ce(),h(!1),f(null)}catch(Le){console.error("Failed to save HCF:",Le),x(Le.message||"Failed to save HCF"),alert(Le.message||"Failed to save HCF")}finally{b(!1)}},Ee=[{path:"/dashboard",label:"Dashboard",icon:"",active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:a.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:a.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:a.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:a.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:a.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:a.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${w?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!w&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":w?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:w?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ee.map(ie=>t.jsx("li",{children:t.jsxs(en,{to:ie.path,className:`nav-link ${ie.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ie.icon}),!w&&t.jsx("span",{className:"nav-label",children:ie.label})]})},ie.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!w&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!w&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Master"})})}),t.jsxs("div",{className:"hcf-master-page",children:[m&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:m}),A&&Te.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),t.jsx("div",{className:"hcf-master-header",children:t.jsx("h1",{className:"hcf-master-title",children:"HCF Master"})}),t.jsxs("div",{className:"hcf-master-actions",style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center",gap:"16px",marginBottom:"20px",flexWrap:"nowrap"},children:[t.jsxs("div",{className:"hcf-search-box",style:{flex:"0 1 auto",maxWidth:"400px",minWidth:"200px"},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-search-input",placeholder:"Search HCF...",value:l,onChange:ie=>u(ie.target.value)})]}),t.jsxs("button",{className:"add-hcf-btn",onClick:de,disabled:!i,style:{display:"flex !important",visibility:"visible !important",opacity:i?1:.6,cursor:i?"pointer":"not-allowed",position:"relative",zIndex:10,minWidth:"120px",minHeight:"40px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"13px",fontWeight:600,flexShrink:0,alignItems:"center",gap:"8px",whiteSpace:"nowrap"},title:i?"Add new HCF":"No permission to create HCF",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]}),t.jsx("div",{className:"hcf-table-container",children:t.jsxs("table",{className:"hcf-table",style:{width:"100%",tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"12%"},children:"Company Name"}),t.jsx("th",{style:{width:"8%"},children:"HCF Code"}),t.jsx("th",{style:{width:"12%"},children:"HCF Name"}),t.jsx("th",{style:{width:"10%"},children:"HCF Short Name"}),t.jsx("th",{style:{width:"7%"},children:"State Code"}),t.jsx("th",{style:{width:"10%"},children:"District"}),t.jsx("th",{style:{width:"8%"},children:"Pincode"}),t.jsx("th",{style:{width:"8%"},children:"Status"}),t.jsx("th",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"10px 8px",textAlign:"left",backgroundColor:"#f1f5f9"},children:"Actions"})]})}),t.jsx("tbody",{children:A&&Te.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading HCFs..."})}):X.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):X.map(ie=>t.jsxs("tr",{children:[t.jsx("td",{children:ie.companyName||"-"}),t.jsx("td",{children:ie.hcfCode||"-"}),t.jsx("td",{children:ie.hcfName||"-"}),t.jsx("td",{children:ie.hcfShortName||"-"}),t.jsx("td",{children:ie.stateCode||"-"}),t.jsx("td",{children:ie.district||"-"}),t.jsx("td",{children:ie.pincode||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${ie.status.toLowerCase()}`,children:ie.status})}),t.jsx("td",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"8px",whiteSpace:"nowrap",backgroundColor:"#ffffff"},children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-start",width:"100%",visibility:"visible",flexWrap:"nowrap"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>s&&se(ie),title:s?"Edit":"No permission to edit",disabled:!s,style:{display:"flex",visibility:"visible",opacity:s?1:.5,cursor:s?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:s?"#3b82f6":"#e5e7eb",color:s?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>c&&We(ie.id),title:c?"Delete":"No permission to delete",disabled:!c,style:{display:"flex",visibility:"visible",opacity:c?1:.5,cursor:c?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:c?"#ef4444":"#e5e7eb",color:c?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},ie.id))})]})}),t.jsxs("div",{className:"hcf-pagination-info",children:["Showing ",X.length," of ",Te.length," Items"]})]})]}),o&&t.jsx($ee,{hcf:d,companies:j.filter(ie=>ie.status==="Active"),areas:P.filter(ie=>ie.status==="Active"),states:ee.filter(ie=>ie.status==="Active"),pcbZones:ae.filter(ie=>ie.status==="Active"),categories:q.filter(ie=>ie.status==="Active"),routes:L.filter(ie=>ie.status==="Active"),hcfTypes:ne.filter(ie=>ie.status==="Active"),saving:y,onClose:()=>{h(!1),f(null)},onSave:Re})]})},$ee=({hcf:r,companies:e,areas:n,states:a,pcbZones:i,categories:s,routes:c,hcfTypes:l,saving:u,onClose:o,onSave:h})=>{const d=k.useCallback(()=>r?{...r}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[r]),[f,A]=k.useState(d);k.useEffect(()=>{A(d())},[r,d]);const g=m=>{m.preventDefault(),h(f)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF":"Add HCF"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-form",onSubmit:g,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:f.companyName||"",onChange:m=>{const x=e.find(y=>y.companyName===m.target.value);A({...f,companyName:m.target.value,companyID:(x==null?void 0:x.id)||""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.companyName,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company ID"}),t.jsx("input",{type:"text",value:f.companyID||"",readOnly:!0,style:{backgroundColor:"#f1f5f9"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsx("input",{type:"text",value:f.hcfCode||"",onChange:m=>A({...f,hcfCode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password *"}),t.jsx("input",{type:"password",value:f.password||"",onChange:m=>A({...f,password:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code"}),t.jsxs("select",{value:f.hcfTypeCode||"",onChange:m=>A({...f,hcfTypeCode:m.target.value}),children:[t.jsx("option",{value:"",children:"Select HCF Type"}),l.map(m=>t.jsxs("option",{value:m.hcfTypeCode,children:[m.hcfTypeCode," - ",m.hcfTypeName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Name *"}),t.jsx("input",{type:"text",value:f.hcfName||"",onChange:m=>A({...f,hcfName:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Short Name"}),t.jsx("input",{type:"text",value:f.hcfShortName||"",onChange:m=>A({...f,hcfShortName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Group Code"}),t.jsx("input",{type:"text",value:f.groupCode||"",onChange:m=>A({...f,groupCode:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Location Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area ID *"}),t.jsxs("select",{value:f.areaID||"",onChange:m=>A({...f,areaID:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Area"}),n.map(m=>t.jsx("option",{value:m.id,children:m.areaName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsxs("select",{value:f.stateCode||"",onChange:m=>A({...f,stateCode:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),a.map(m=>t.jsxs("option",{value:m.stateCode,children:[m.stateCode," - ",m.stateName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District *"}),t.jsx("input",{type:"text",value:f.district||"",onChange:m=>A({...f,district:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode *"}),t.jsx("input",{type:"text",value:f.pincode||"",onChange:m=>A({...f,pincode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone"}),t.jsxs("select",{value:f.pcbZone||"",onChange:m=>A({...f,pcbZone:m.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),i.map(m=>t.jsx("option",{value:m.id,children:m.pcbZoneName},m.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Billing Address"}),t.jsx("textarea",{value:f.billingAddress||"",onChange:m=>A({...f,billingAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Service Address"}),t.jsx("textarea",{value:f.serviceAddress||"",onChange:m=>A({...f,serviceAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Name"}),t.jsx("input",{type:"text",value:f.billingName||"",onChange:m=>A({...f,billingName:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Registration & GST Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN"}),t.jsx("input",{type:"text",value:f.gstin||"",onChange:m=>A({...f,gstin:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Registration Number"}),t.jsx("input",{type:"text",value:f.regnNum||"",onChange:m=>A({...f,regnNum:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hospital Registration Date"}),t.jsx("input",{type:"date",value:f.hospRegnDate||"",onChange:m=>A({...f,hospRegnDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is GST Exempt"}),t.jsxs("select",{value:f.isGSTExempt?"true":"false",onChange:m=>A({...f,isGSTExempt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is Government"}),t.jsxs("select",{value:f.isGovt?"true":"false",onChange:m=>A({...f,isGovt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type"}),t.jsxs("select",{value:f.billingType||"",onChange:m=>A({...f,billingType:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option"}),t.jsxs("select",{value:f.billingOption||"",onChange:m=>A({...f,billingOption:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Option"}),t.jsx("option",{value:"Per Bed",children:"Per Bed"}),t.jsx("option",{value:"Per Kg",children:"Per Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Advance Amount"}),t.jsx("input",{type:"text",value:f.advAmount||"",onChange:m=>A({...f,advAmount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:f.bedCount||"",onChange:m=>A({...f,bedCount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:f.bedRate||"",onChange:m=>A({...f,bedRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:f.kgRate||"",onChange:m=>A({...f,kgRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum"}),t.jsx("input",{type:"text",value:f.lumpsum||"",onChange:m=>A({...f,lumpsum:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Accounts Contact"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Landline"}),t.jsx("input",{type:"tel",value:f.accountsLandline||"",onChange:m=>A({...f,accountsLandline:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Mobile"}),t.jsx("input",{type:"tel",value:f.accountsMobile||"",onChange:m=>A({...f,accountsMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Email"}),t.jsx("input",{type:"email",value:f.accountsEmail||"",onChange:m=>A({...f,accountsEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contact Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Name"}),t.jsx("input",{type:"text",value:f.contactName||"",onChange:m=>A({...f,contactName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Designation"}),t.jsx("input",{type:"text",value:f.contactDesignation||"",onChange:m=>A({...f,contactDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Mobile"}),t.jsx("input",{type:"tel",value:f.contactMobile||"",onChange:m=>A({...f,contactMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email"}),t.jsx("input",{type:"email",value:f.contactEmail||"",onChange:m=>A({...f,contactEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Signatory"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Name"}),t.jsx("input",{type:"text",value:f.agrSignAuthName||"",onChange:m=>A({...f,agrSignAuthName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Designation"}),t.jsx("input",{type:"text",value:f.agrSignAuthDesignation||"",onChange:m=>A({...f,agrSignAuthDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID"}),t.jsx("input",{type:"text",value:f.agrID||"",onChange:m=>A({...f,agrID:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Doctor Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Name"}),t.jsx("input",{type:"text",value:f.drName||"",onChange:m=>A({...f,drName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Phone Number"}),t.jsx("input",{type:"tel",value:f.drPhNo||"",onChange:m=>A({...f,drPhNo:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Email"}),t.jsx("input",{type:"email",value:f.drEmail||"",onChange:m=>A({...f,drEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Service Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Start Date"}),t.jsx("input",{type:"date",value:f.serviceStartDate||"",onChange:m=>A({...f,serviceStartDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service End Date"}),t.jsx("input",{type:"date",value:f.serviceEndDate||"",onChange:m=>A({...f,serviceEndDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsxs("select",{value:f.category||"",onChange:m=>A({...f,category:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),s.map(m=>t.jsx("option",{value:m.id,children:m.categoryName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route"}),t.jsxs("select",{value:f.route||"",onChange:m=>A({...f,route:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Route"}),c.map(m=>t.jsx("option",{value:m.id,children:m.routeName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Executive Assigned"}),t.jsx("input",{type:"text",value:f.executive_Assigned||"",onChange:m=>A({...f,executive_Assigned:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Submit By"}),t.jsx("input",{type:"text",value:f.submitBy||"",onChange:m=>A({...f,submitBy:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Sort Order"}),t.jsx("input",{type:"text",value:f.sortOrder||"",onChange:m=>A({...f,sortOrder:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Auto Generate"}),t.jsxs("select",{value:f.autoGen?"true":"false",onChange:m=>A({...f,autoGen:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:f.status||"Active",onChange:m=>A({...f,status:m.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:u,children:u?"Saving...":r?"Update":"Save"})]})]})]})})},Vee="http://localhost:3000/api/v1",zee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},d0=async(r,e={})=>{const n=zee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Vee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},A1={createHcfAmendment:async r=>(await d0("/hcf-amendments",{method:"POST",body:JSON.stringify(r)})).data,getHcfAmendmentById:async r=>(await d0(`/hcf-amendments/${r}`,{method:"GET"})).data,getAllHcfAmendments:async(r,e=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return r&&a.append("hcfId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await d0(n,{method:"GET"})).data},updateHcfAmendment:async(r,e)=>(await d0(`/hcf-amendments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfAmendment:async r=>{await d0(`/hcf-amendments/${r}`,{method:"DELETE"})}},Kee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ap(e),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState(!0),[f,A]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(!1),b=()=>{y(!x)},[w,N]=k.useState([]),[S,j]=k.useState([]),[_,P]=k.useState([]);k.useCallback(async()=>{try{const L=await Qa.getAllCompanies(void 0,!0);N(L)}catch(L){console.error("Failed to load companies:",L),A("Failed to load companies")}},[]),k.useCallback(async()=>{try{const L=await ks.getAllHcfs(void 0,!0);j(L)}catch(L){console.error("Failed to load HCFs:",L),A("Failed to load HCFs")}},[]);const Z=k.useCallback(async()=>{try{d(!0),A(null),console.log("Loading amendments...");const L=await A1.getAllHcfAmendments();console.log("Amendments loaded:",L),P(L.map(ye=>({id:ye.id,hcfId:ye.hcfId,amendmentType:ye.amendmentType,amendmentDate:ye.amendmentDate,description:ye.description,status:ye.status,approvedBy:ye.approvedBy,approvedDate:ye.approvedDate,createdBy:ye.createdBy,createdOn:ye.createdOn,modifiedBy:ye.modifiedBy,modifiedOn:ye.modifiedOn}))),d(!1)}catch(L){console.error("Failed to load amendments:",L),A(L.message||"Failed to load amendments"),P([]),d(!1)}},[]);k.useEffect(()=>{_.length>0&&w.length>0&&S.length>0&&P(L=>{if(!L.some(Te=>!Te.hcfCode||!Te.companyName))return L;const ne=L.map(Te=>{if(Te.hcfCode&&Te.companyName)return Te;const me=S.find(ve=>ve.id===Te.hcfId),ue=me?w.find(ve=>ve.id===me.companyId):null;return{...Te,hcfCode:(me==null?void 0:me.hcfCode)||"",companyName:(ue==null?void 0:ue.companyName)||""}});return ne.some((Te,me)=>{var ue,ve;return Te.hcfCode!==((ue=L[me])==null?void 0:ue.hcfCode)||Te.companyName!==((ve=L[me])==null?void 0:ve.companyName)})?ne:L})},[w,S]),k.useEffect(()=>{let L=!0;return(async()=>{try{d(!0);const[ne,Be]=await Promise.all([Qa.getAllCompanies(void 0,!0).catch(Te=>(console.error("Failed to load companies:",Te),[])),ks.getAllHcfs(void 0,!0).catch(Te=>(console.error("Failed to load HCFs:",Te),[]))]);if(!L)return;N(ne),j(Be),await Z()}catch(ne){console.error("Failed to initialize:",ne),L&&(A("Failed to load data"),d(!1))}})(),()=>{L=!1}},[Z]);const ee=_.filter(L=>(L.companyName||"").toLowerCase().includes(i.toLowerCase())||(L.hcfCode||"").toLowerCase().includes(i.toLowerCase())||L.amendmentType.toLowerCase().includes(i.toLowerCase())||(L.description||"").toLowerCase().includes(i.toLowerCase())),K=()=>{o(null),l(!0)},ae=L=>{o(L),l(!0)},D=async L=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{d(!0),await A1.deleteHcfAmendment(L),await Z()}catch(ye){console.error("Failed to delete amendment:",ye),alert(ye.message||"Failed to delete amendment")}finally{d(!1)}},q=async L=>{try{if(m(!0),A(null),u){const ye={};L.amendmentType!==void 0&&(ye.amendmentType=L.amendmentType),L.amendmentDate!==void 0&&(ye.amendmentDate=L.amendmentDate),L.description!==void 0&&(ye.description=L.description),L.status!==void 0&&(ye.amendmentStatus=L.status),L.approvedBy!==void 0&&(ye.approvedBy=L.approvedBy),L.approvedDate!==void 0&&(ye.approvedDate=L.approvedDate),await A1.updateHcfAmendment(u.id,ye)}else{if(!L.hcfId)throw new Error("HCF is required");if(!L.amendmentType)throw new Error("Amendment type is required");if(!L.amendmentDate)throw new Error("Amendment date is required");await A1.createHcfAmendment({hcfId:L.hcfId,amendmentType:L.amendmentType,amendmentDate:L.amendmentDate,description:L.description,status:L.status,approvedBy:L.approvedBy,approvedDate:L.approvedDate})}await Z(),l(!1),o(null)}catch(ye){console.error("Failed to save amendment:",ye),A(ye.message||"Failed to save amendment"),alert(ye.message||"Failed to save amendment")}finally{m(!1)}},$=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:$.map(L=>t.jsx("li",{children:t.jsxs(en,{to:L.path,className:`nav-link ${L.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:L.icon}),!x&&t.jsx("span",{className:"nav-label",children:L.label})]})},L.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Amendments"})})}),t.jsxs("div",{className:"hcf-amendments-page",children:[f&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:f}),h&&_.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading amendments..."}),t.jsx("div",{className:"hcf-amendments-header",children:t.jsx("h1",{className:"hcf-amendments-title",children:"HCF Amendments"})}),t.jsxs("div",{className:"hcf-amendments-actions",children:[t.jsxs("div",{className:"hcf-amendments-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-amendments-search-input",placeholder:"Search Amendments...",value:i,onChange:L=>s(L.target.value)})]}),a&&t.jsxs("button",{className:"add-amendment-btn",onClick:K,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]}),t.jsx("div",{className:"hcf-amendments-table-container",children:t.jsxs("table",{className:"hcf-amendments-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Amendment Type"}),t.jsx("th",{children:"Amendment Date"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Approved By"}),t.jsx("th",{children:"Approved Date"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:h&&_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):ee.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):ee.map(L=>{const ye=S.find(ne=>ne.id===L.hcfId);return t.jsxs("tr",{children:[t.jsx("td",{children:L.companyName||"-"}),t.jsx("td",{children:ye?`${ye.hcfCode} - ${ye.hcfName}`:L.hcfCode||"-"}),t.jsx("td",{children:L.amendmentType||"-"}),t.jsx("td",{children:L.amendmentDate?new Date(L.amendmentDate).toLocaleDateString():"-"}),t.jsx("td",{children:L.description||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${(L.status||"Pending").toLowerCase()}`,children:L.status||"Pending"})}),t.jsx("td",{children:L.approvedBy||"-"}),t.jsx("td",{children:L.approvedDate?new Date(L.approvedDate).toLocaleDateString():"-"}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ae(L),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>D(L.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},L.id)})})]})}),t.jsxs("div",{className:"hcf-amendments-pagination-info",children:["Showing ",ee.length," of ",_.length," Items"]})]})]}),c&&t.jsx(Gee,{amendment:u,companies:w.filter(L=>L.status==="Active"),hcfs:S.filter(L=>L.status==="Active"),onClose:()=>{l(!1),o(null),A(null)},onSave:q,saving:g})]})},Gee=({amendment:r,companies:e,hcfs:n,onClose:a,onSave:i,saving:s=!1})=>{const c=()=>r?{...r,hcfId:r.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[l,u]=k.useState(c()),o=()=>{if(r&&r.hcfId){const g=n.find(m=>m.id===r.hcfId);return(g==null?void 0:g.companyId)||""}return""},[h,d]=k.useState(o());k.useEffect(()=>{h&&!r&&u(g=>({...g,hcfId:""}))},[h,r]),k.useEffect(()=>{if(r&&r.hcfId&&n.length>0&&!h){const g=n.find(m=>m.id===r.hcfId);g&&d(g.companyId)}},[r,n,h]);const f=h?n.filter(g=>g.companyId===h&&g.status==="Active"):n,A=g=>{if(g.preventDefault(),!l.hcfId){alert("Please select an HCF");return}if(!l.amendmentType){alert("Amendment type is required");return}if(!l.amendmentDate){alert("Amendment date is required");return}i(l)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Amendment":"Add Amendment"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"amendment-form",onSubmit:A,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:h,onChange:g=>{d(g.target.value),u({...l,hcfId:""})},required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfId||"",onChange:g=>u({...l,hcfId:g.target.value}),required:!0,disabled:!h&&!r,children:[t.jsx("option",{value:"",children:"Select HCF"}),f.length===0&&(h||r)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):f.map(g=>t.jsxs("option",{value:g.id,children:[g.hcfCode," - ",g.hcfName]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Type *"}),t.jsx("input",{type:"text",value:l.amendmentType||"",onChange:g=>u({...l,amendmentType:g.target.value}),required:!0,placeholder:"Enter amendment type"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Date *"}),t.jsx("input",{type:"date",value:l.amendmentDate||"",onChange:g=>u({...l,amendmentDate:g.target.value}),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Description"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:l.description||"",onChange:g=>u({...l,description:g.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Approval Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:l.status||"Pending",onChange:g=>u({...l,status:g.target.value}),children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Approved",children:"Approved"}),t.jsx("option",{value:"Rejected",children:"Rejected"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved By"}),t.jsx("input",{type:"text",value:l.approvedBy||"",onChange:g=>u({...l,approvedBy:g.target.value}),placeholder:"Enter approver name or ID"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved Date"}),t.jsx("input",{type:"date",value:l.approvedDate||"",onChange:g=>u({...l,approvedDate:g.target.value})})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:s,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Saving...":r?"Update":"Save"})]})]})]})})},qee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ap(e),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[f,A]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),N=()=>{w(!b)},S=async()=>{try{const q=(await Qa.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));A(q)}catch(D){console.error("Error loading companies:",D)}},j=async()=>{m(!0),y(null);try{const q=(await M0.getAllHcfTypes(void 0,!0)).map($=>{const L=f.find(ye=>ye.id===$.companyId);return{id:$.id,companyName:(L==null?void 0:L.companyName)||"Unknown Company",hcfTypeCode:$.hcfTypeCode,hcfTypeName:$.hcfTypeName,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});d(q)}catch(D){const q=D instanceof Error?D.message:"Failed to load HCF types";y(q),console.error("Error loading HCF types:",D),d([])}finally{m(!1)}};k.useEffect(()=>{(async()=>{await S()})()},[]),k.useEffect(()=>{f.length>0&&j()},[f.length]);const _=h.filter(D=>D.companyName.toLowerCase().includes(i.toLowerCase())||D.hcfTypeCode.toLowerCase().includes(i.toLowerCase())||D.hcfTypeName.toLowerCase().includes(i.toLowerCase())),P=()=>{o(null),l(!0)},Z=D=>{o(D),l(!0)},ee=async D=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{m(!0),await M0.deleteHcfType(D),await j(),alert("HCF Type deleted successfully")}catch(q){const $=q instanceof Error?q.message:"Failed to delete HCF type";alert(`Error: ${$}`),console.error("Error deleting HCF type:",q)}finally{m(!1)}},K=async D=>{try{m(!0),y(null);const q=f.find($=>$.companyName===D.companyName);if(!q){alert("Please select a valid company");return}if(u)await M0.updateHcfType(u.id,{status:D.status}),alert("HCF Type updated successfully");else{if(!D.hcfTypeCode||!D.hcfTypeName||!D.companyName){alert("Please fill in all required fields");return}await M0.createHcfType({hcfTypeCode:D.hcfTypeCode,hcfTypeName:D.hcfTypeName,companyId:q.id}),alert("HCF Type created successfully")}l(!1),o(null),await j()}catch(q){const $=q instanceof Error?q.message:"Failed to save HCF type";y($),alert(`Error: ${$}`),console.error("Error saving HCF type:",q)}finally{m(!1)}},ae=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ae.map(D=>t.jsx("li",{children:t.jsxs(en,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:D.icon}),!b&&t.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Type Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading HCF types..."}),t.jsxs("div",{className:"hcf-type-master-page",children:[t.jsx("div",{className:"hcf-type-master-header",children:t.jsx("h1",{className:"hcf-type-master-title",children:"HCF Type Master"})}),t.jsxs("div",{className:"hcf-type-master-actions",children:[t.jsxs("div",{className:"hcf-type-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-type-search-input",placeholder:"Search HCF Type...",value:i,onChange:D=>s(D.target.value)})]}),a&&t.jsxs("button",{className:"add-hcf-type-btn",onClick:P,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]}),t.jsx("div",{className:"hcf-type-table-container",children:t.jsxs("table",{className:"hcf-type-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Type Code"}),t.jsx("th",{children:"HCF Type Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No HCF Type records found"})}):_.map(D=>t.jsxs("tr",{children:[t.jsx("td",{children:D.companyName||"-"}),t.jsx("td",{children:D.hcfTypeCode||"-"}),t.jsx("td",{children:D.hcfTypeName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(D),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(D.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},D.id))})]})}),t.jsxs("div",{className:"hcf-type-pagination-info",children:["Showing ",_.length," of ",h.length," Items"]})]})]}),c&&t.jsx(Xee,{hcfType:u,companies:f.filter(D=>D.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:K})]})},Xee=({hcfType:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF Type":"Add HCF Type"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code *"}),t.jsx("input",{type:"text",value:i.hcfTypeCode||"",onChange:l=>s({...i,hcfTypeCode:l.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Name *"}),t.jsx("input",{type:"text",value:i.hcfTypeName||"",onChange:l=>s({...i,hcfTypeName:l.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Yee="http://localhost:3000/api/v1",Zee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},h0=async(r,e={})=>{const n=Zee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Yee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Eh={createFleet:async r=>(await h0("/fleets",{method:"POST",body:JSON.stringify(r)})).data,getFleetById:async r=>(await h0(`/fleets/${r}`,{method:"GET"})).data,getAllFleets:async(r,e=!1)=>{let n="/fleets";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await h0(n,{method:"GET"})).data},updateFleet:async(r,e)=>(await h0(`/fleets/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFleet:async r=>{await h0(`/fleets/${r}`,{method:"DELETE"})}},Jee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ap(e),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[f,A]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),N=()=>{w(!b)},S=async()=>{try{const q=(await Qa.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));A(q)}catch(D){console.error("Error loading companies:",D)}},j=async()=>{m(!0),y(null);try{const q=(await Eh.getAllFleets(void 0,!0)).map($=>{const L=f.find(ye=>ye.id===$.companyId);return{id:$.id,companyName:(L==null?void 0:L.companyName)||"Unknown Company",vehicleNum:$.vehicleNum,capacity:$.capacity||"",vehMake:$.vehMake||"",vehModel:$.vehModel||"",mfgYear:$.mfgYear||"",nextFCDate:$.nextFCDate||"",pucDateValidUpto:$.pucDateValidUpto||"",insuranceValidUpto:$.insuranceValidUpto||"",ownerName:$.ownerName||"",ownerContact:$.ownerContact||"",ownerEmail:$.ownerEmail||"",ownerPAN:$.ownerPAN||"",ownerAadhaar:$.ownerAadhaar||"",pymtToName:$.pymtToName||"",pymtBankName:$.pymtBankName||"",pymtAccNum:$.pymtAccNum||"",pymtIFSCode:$.pymtIFSCode||"",pymtBranch:$.pymtBranch||"",contractAmount:$.contractAmount||"",tdsExemption:$.tdsExemption||!1,status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});d(q)}catch(D){const q=D instanceof Error?D.message:"Failed to load fleets";y(q),console.error("Error loading fleets:",D),d([])}finally{m(!1)}};k.useEffect(()=>{(async()=>{await S()})()},[]),k.useEffect(()=>{f.length>0&&j()},[f.length]);const _=h.filter(D=>D.companyName.toLowerCase().includes(i.toLowerCase())||D.vehicleNum.toLowerCase().includes(i.toLowerCase())||D.vehMake.toLowerCase().includes(i.toLowerCase())||D.vehModel.toLowerCase().includes(i.toLowerCase())||D.ownerName.toLowerCase().includes(i.toLowerCase())),P=()=>{o(null),l(!0)},Z=D=>{o(D),l(!0)},ee=async D=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{m(!0),await Eh.deleteFleet(D),await j(),alert("Fleet deleted successfully")}catch(q){const $=q instanceof Error?q.message:"Failed to delete fleet";alert(`Error: ${$}`),console.error("Error deleting fleet:",q)}finally{m(!1)}},K=async D=>{try{m(!0),y(null);const q=f.find($=>$.companyName===D.companyName);if(!q){alert("Please select a valid company");return}if(u)await Eh.updateFleet(u.id,{capacity:D.capacity,vehMake:D.vehMake,vehModel:D.vehModel,mfgYear:D.mfgYear,nextFCDate:D.nextFCDate,pucDateValidUpto:D.pucDateValidUpto,insuranceValidUpto:D.insuranceValidUpto,ownerName:D.ownerName,ownerContact:D.ownerContact,ownerEmail:D.ownerEmail,ownerPAN:D.ownerPAN,ownerAadhaar:D.ownerAadhaar,pymtToName:D.pymtToName,pymtBankName:D.pymtBankName,pymtAccNum:D.pymtAccNum,pymtIFSCode:D.pymtIFSCode,pymtBranch:D.pymtBranch,contractAmount:D.contractAmount,tdsExemption:D.tdsExemption,status:D.status}),alert("Fleet updated successfully");else{if(!D.vehicleNum||!D.companyName){alert("Please fill in Vehicle Number and Company Name");return}await Eh.createFleet({companyId:q.id,vehicleNum:D.vehicleNum,capacity:D.capacity,vehMake:D.vehMake,vehModel:D.vehModel,mfgYear:D.mfgYear,nextFCDate:D.nextFCDate,pucDateValidUpto:D.pucDateValidUpto,insuranceValidUpto:D.insuranceValidUpto,ownerName:D.ownerName,ownerContact:D.ownerContact,ownerEmail:D.ownerEmail,ownerPAN:D.ownerPAN,ownerAadhaar:D.ownerAadhaar,pymtToName:D.pymtToName,pymtBankName:D.pymtBankName,pymtAccNum:D.pymtAccNum,pymtIFSCode:D.pymtIFSCode,pymtBranch:D.pymtBranch,contractAmount:D.contractAmount,tdsExemption:D.tdsExemption}),alert("Fleet created successfully")}l(!1),o(null),await j()}catch(q){const $=q instanceof Error?q.message:"Failed to save fleet";y($),alert(`Error: ${$}`),console.error("Error saving fleet:",q)}finally{m(!1)}},ae=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ae.map(D=>t.jsx("li",{children:t.jsxs(en,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:D.icon}),!b&&t.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Fleet Management"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading fleets..."}),t.jsxs("div",{className:"fleet-management-page",children:[t.jsx("div",{className:"fleet-management-header",children:t.jsx("h1",{className:"fleet-management-title",children:"Fleet Management"})}),t.jsxs("div",{className:"fleet-management-actions",children:[t.jsxs("div",{className:"fleet-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"fleet-search-input",placeholder:"Search Fleet...",value:i,onChange:D=>s(D.target.value)})]}),a&&t.jsxs("button",{className:"add-fleet-btn",onClick:P,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]}),t.jsx("div",{className:"fleet-table-container",children:t.jsxs("table",{className:"fleet-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No fleet records found"})}):_.map(D=>t.jsxs("tr",{children:[t.jsx("td",{children:D.companyName||"-"}),t.jsx("td",{children:D.vehicleNum||"-"}),t.jsx("td",{children:D.vehMake||"-"}),t.jsx("td",{children:D.vehModel||"-"}),t.jsx("td",{children:D.capacity||"-"}),t.jsx("td",{children:D.ownerName||"-"}),t.jsx("td",{children:D.ownerContact||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(D),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(D.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},D.id))})]})}),t.jsxs("div",{className:"fleet-pagination-info",children:["Showing ",_.length," of ",h.length," Items"]})]})]}),c&&t.jsx(ete,{fleet:u,companies:f.filter(D=>D.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:K})]})},ete=({fleet:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Vehicle":"Add Vehicle"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"fleet-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Number *"}),t.jsx("input",{type:"text",value:i.vehicleNum||"",onChange:l=>s({...i,vehicleNum:l.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Capacity *"}),t.jsx("input",{type:"text",value:i.capacity||"",onChange:l=>s({...i,capacity:l.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Make *"}),t.jsx("input",{type:"text",value:i.vehMake||"",onChange:l=>s({...i,vehMake:l.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Model *"}),t.jsx("input",{type:"text",value:i.vehModel||"",onChange:l=>s({...i,vehModel:l.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Manufacturing Year"}),t.jsx("input",{type:"text",value:i.mfgYear||"",onChange:l=>s({...i,mfgYear:l.target.value}),placeholder:"e.g., 2020"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Next FC Date"}),t.jsx("input",{type:"date",value:i.nextFCDate||"",onChange:l=>s({...i,nextFCDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PUC Date Valid Upto"}),t.jsx("input",{type:"date",value:i.pucDateValidUpto||"",onChange:l=>s({...i,pucDateValidUpto:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Insurance Valid Upto"}),t.jsx("input",{type:"date",value:i.insuranceValidUpto||"",onChange:l=>s({...i,insuranceValidUpto:l.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Owner Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Name *"}),t.jsx("input",{type:"text",value:i.ownerName||"",onChange:l=>s({...i,ownerName:l.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Contact *"}),t.jsx("input",{type:"tel",value:i.ownerContact||"",onChange:l=>s({...i,ownerContact:l.target.value}),required:!0,placeholder:"+91-9876543210"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Email"}),t.jsx("input",{type:"email",value:i.ownerEmail||"",onChange:l=>s({...i,ownerEmail:l.target.value}),placeholder:"owner@example.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner PAN"}),t.jsx("input",{type:"text",value:i.ownerPAN||"",onChange:l=>s({...i,ownerPAN:l.target.value}),placeholder:"ABCDE1234F"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Aadhaar"}),t.jsx("input",{type:"text",value:i.ownerAadhaar||"",onChange:l=>s({...i,ownerAadhaar:l.target.value}),placeholder:"1234-5678-9012"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment To Name"}),t.jsx("input",{type:"text",value:i.pymtToName||"",onChange:l=>s({...i,pymtToName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.pymtBankName||"",onChange:l=>s({...i,pymtBankName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Account Number"}),t.jsx("input",{type:"text",value:i.pymtAccNum||"",onChange:l=>s({...i,pymtAccNum:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IFSC Code"}),t.jsx("input",{type:"text",value:i.pymtIFSCode||"",onChange:l=>s({...i,pymtIFSCode:l.target.value}),placeholder:"SBIN0001234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Branch"}),t.jsx("input",{type:"text",value:i.pymtBranch||"",onChange:l=>s({...i,pymtBranch:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Amount"}),t.jsx("input",{type:"text",value:i.contractAmount||"",onChange:l=>s({...i,contractAmount:l.target.value}),placeholder:"Enter amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"TDS Exemption"}),t.jsxs("select",{value:i.tdsExemption?"true":"false",onChange:l=>s({...i,tdsExemption:l.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},tte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},f0=async(r,e={})=>{const n=tte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pf}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},R0={createRouteHcfMapping:async r=>(await f0("/route-hcf-mappings",{method:"POST",body:JSON.stringify(r)})).data,getRouteHcfMappingById:async r=>(await f0(`/route-hcf-mappings/${r}`,{method:"GET"})).data,getAllRouteHcfMappings:async(r,e,n,a=!1)=>{let i="/route-hcf-mappings";const s=new URLSearchParams;return r&&s.append("routeId",r),e&&s.append("hcfId",e),n&&s.append("companyId",n),a&&s.append("activeOnly","true"),s.toString()&&(i+=`?${s.toString()}`),(await f0(i,{method:"GET"})).data},updateRouteHcfMapping:async(r,e)=>(await f0(`/route-hcf-mappings/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteHcfMapping:async r=>{await f0(`/route-hcf-mappings/${r}`,{method:"DELETE"})}},rte=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ap(e),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(null),[x,y]=k.useState(!1),b=()=>{y(!x)},[w,N]=k.useState([]),[S,j]=k.useState([]),[_,P]=k.useState([]),[Z,ee]=k.useState([]),K=k.useCallback(async()=>{try{const ve=(await Qa.getAllCompanies(!0)).map(le=>({id:le.id,companyCode:le.companyCode,companyName:le.companyName,status:le.status}));N(ve)}catch(ue){console.error("Error loading companies:",ue)}},[]),ae=k.useCallback(async()=>{try{const ue=await rA.getAllRoutes(!0),ve=await Promise.all(ue.map(async le=>{const Ae=w.find(Ie=>Ie.id===le.companyId);return{id:le.id,routeCode:le.routeCode,routeName:le.routeName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",status:le.status}}));j(ve)}catch(ue){console.error("Error loading routes:",ue)}},[w]),D=k.useCallback(async()=>{try{const ue=await ks.getAllHcfs(void 0,!0),ve=await Promise.all(ue.map(async le=>{const Ae=w.find(Ie=>Ie.id===le.companyId);return{id:le.id,hcfCode:le.hcfCode,hcfName:le.hcfName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",status:le.status}}));P(ve)}catch(ue){console.error("Error loading HCFs:",ue)}},[w]),q=k.useCallback(async()=>{d(!0),A(null);try{const ve=(await R0.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(le=>{const Ae=S.find(Ce=>Ce.id===le.routeId),Ie=_.find(Ce=>Ce.id===le.hcfId),Pe=w.find(Ce=>Ce.id===le.companyId);return{id:le.id,routeId:le.routeId,routeCode:(Ae==null?void 0:Ae.routeCode)||"",routeName:(Ae==null?void 0:Ae.routeName)||"",hcfId:le.hcfId,hcfCode:(Ie==null?void 0:Ie.hcfCode)||"",hcfName:(Ie==null?void 0:Ie.hcfName)||"",companyId:le.companyId,companyName:(Pe==null?void 0:Pe.companyName)||"Unknown",sequenceOrder:le.sequenceOrder,status:le.status,createdBy:le.createdBy,createdOn:le.createdOn,modifiedBy:le.modifiedBy,modifiedOn:le.modifiedOn}});ee(ve)}catch(ue){const ve=ue instanceof Error?ue.message:"Failed to load mappings";A(ve),console.error("Error loading mappings:",ue)}finally{d(!1)}},[S,_,w]);k.useEffect(()=>{(async()=>{await K()})()},[K]),k.useEffect(()=>{w.length>0&&(ae(),D())},[w,ae,D]),k.useEffect(()=>{S.length>0&&_.length>0&&w.length>0&&q()},[S,_,w,q]);const $=Z.filter(ue=>{var ve,le;return ue.routeCode.toLowerCase().includes(i.toLowerCase())||ue.hcfCode.toLowerCase().includes(i.toLowerCase())||ue.companyName.toLowerCase().includes(i.toLowerCase())||((ve=S.find(Ae=>Ae.routeCode===ue.routeCode))==null?void 0:ve.routeName.toLowerCase().includes(i.toLowerCase()))||((le=_.find(Ae=>Ae.hcfCode===ue.hcfCode))==null?void 0:le.hcfName.toLowerCase().includes(i.toLowerCase()))}),L=()=>{o(null),l(!0)},ye=ue=>{o(ue),l(!0)},ne=async ue=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{d(!0),A(null),await R0.deleteRouteHcfMapping(ue),m("Mapping deleted successfully"),await q(),setTimeout(()=>{m(null)},3e3)}catch(ve){let le="Failed to delete mapping";ve instanceof Error&&(le=ve.message,le.includes("not found")?le="This mapping could not be found. It may have already been deleted.":(le.includes("permission")||le.includes("unauthorized"))&&(le="You do not have permission to delete this mapping.")),A(le),console.error("Error deleting mapping:",ve)}finally{d(!1)}},Be=(ue,ve,le)=>{let Ae="Failed to save mapping";return ue instanceof Error&&(Ae=ue.message,Ae.includes("already exists")||Ae.includes("mapping between")?ve&&le?Ae=`This mapping already exists: Route "${ve.routeCode} - ${ve.routeName}" and HCF "${le.hcfCode} - ${le.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:Ae="This mapping already exists. Each route-HCF combination can only be mapped once.":Ae.includes("not found")?Ae="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":Ae.includes("invalid")?Ae="Invalid data provided. Please check your inputs and try again.":Ae.includes("required")?Ae="Please fill in all required fields.":Ae.includes("permission")||Ae.includes("unauthorized")?Ae="You do not have permission to perform this action.":Ae.includes("HTTP 409")||Ae.includes("Conflict")?Ae="A conflict occurred. This mapping may already exist.":Ae.includes("HTTP 400")||Ae.includes("Bad Request")?Ae="Invalid request. Please check your inputs and try again.":(Ae.includes("HTTP 500")||Ae.includes("Internal Server Error"))&&(Ae="An internal server error occurred. Please try again later or contact support.")),Ae},Te=async ue=>{try{d(!0),A(null);const ve=w.find(Ie=>Ie.companyName===ue.companyName);if(!ve){A("Please select a valid company");return}const le=S.find(Ie=>Ie.routeCode===ue.routeCode&&Ie.companyName===ue.companyName);if(!le){A("Please select a valid route");return}const Ae=_.find(Ie=>Ie.hcfCode===ue.hcfCode&&Ie.companyName===ue.companyName);if(!Ae){A("Please select a valid HCF");return}u?(await R0.updateRouteHcfMapping(u.id,{sequenceOrder:ue.sequenceOrder,status:ue.status}),A(null),m("Mapping updated successfully"),l(!1),o(null),await q(),setTimeout(()=>{m(null)},3e3)):(await R0.createRouteHcfMapping({routeId:le.id,hcfId:Ae.id,companyId:ve.id,sequenceOrder:ue.sequenceOrder}),A(null),m("Mapping created successfully"),l(!1),o(null),await q(),setTimeout(()=>{m(null)},3e3))}catch(ve){const le=S.find(Pe=>Pe.routeCode===ue.routeCode&&Pe.companyName===ue.companyName),Ae=_.find(Pe=>Pe.hcfCode===ue.hcfCode&&Pe.companyName===ue.companyName),Ie=Be(ve,le,Ae);A(Ie),console.error("Error saving mapping:",ve)}finally{d(!1)}},me=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:me.map(ue=>t.jsx("li",{children:t.jsxs(en,{to:ue.path,className:`nav-link ${ue.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ue.icon}),!x&&t.jsx("span",{className:"nav-label",children:ue.label})]})},ue.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route-HCF Mapping"})})}),g&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:g}),t.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),f&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:f}),t.jsx("button",{onClick:()=>A(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),h&&!Z.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading mappings..."}),t.jsxs("div",{className:"route-hcf-mapping-page",children:[t.jsx("div",{className:"route-hcf-mapping-header",children:t.jsx("h1",{className:"route-hcf-mapping-title",children:"Route-HCF Mapping"})}),t.jsxs("div",{className:"route-hcf-mapping-actions",children:[t.jsxs("div",{className:"route-hcf-mapping-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"route-hcf-mapping-search-input",placeholder:"Search Mapping...",value:i,onChange:ue=>s(ue.target.value)})]}),a&&t.jsxs("button",{className:"add-mapping-btn",onClick:L,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]}),t.jsx("div",{className:"route-hcf-mapping-table-container",children:t.jsxs("table",{className:"route-hcf-mapping-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:$.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No mapping records found"})}):$.map(ue=>t.jsxs("tr",{children:[t.jsx("td",{children:ue.companyName||"-"}),t.jsx("td",{children:ue.routeCode?`${ue.routeCode} - ${ue.routeName}`:"-"}),t.jsx("td",{children:ue.hcfCode?`${ue.hcfCode} - ${ue.hcfName}`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${ue.status.toLowerCase()}`,children:ue.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ye(ue),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ne(ue.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},ue.id))})]})}),t.jsxs("div",{className:"route-hcf-mapping-pagination-info",children:["Showing ",$.length," of ",Z.length," Items"]})]})]}),c&&t.jsx(nte,{mapping:u,companies:w.filter(ue=>ue.status==="Active"),routes:S.filter(ue=>ue.status==="Active"),hcfs:_.filter(ue=>ue.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:Te})]})},nte=({mapping:r,companies:e,routes:n,hcfs:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),u=c.companyName?n.filter(d=>d.companyName===c.companyName):n,o=c.companyName?a.filter(d=>d.companyName===c.companyName):a,h=d=>{d.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Mapping":"Add Mapping"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"mapping-form",onSubmit:h,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:d=>{l({...c,companyName:d.target.value,routeCode:"",hcfCode:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(d=>t.jsx("option",{value:d.companyName,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsxs("select",{value:c.routeCode||"",onChange:d=>l({...c,routeCode:d.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select Route"}),u.map(d=>t.jsxs("option",{value:d.routeCode,children:[d.routeCode," - ",d.routeName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:d=>l({...c,hcfCode:d.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),o.map(d=>t.jsxs("option",{value:d.hcfCode,children:[d.hcfCode," - ",d.hcfName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:d=>l({...c,status:d.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ate=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ap(e),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[f,A]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(!1),N=()=>{w(!b)},S=async()=>{try{const q=(await Qa.getAllCompanies(!0)).map($=>({id:$.id,companyCode:$.companyCode,companyName:$.companyName,status:$.status}));A(q)}catch(D){console.error("Error loading companies:",D)}},j=async()=>{m(!0),y(null);try{const q=(await zp.getAllFrequencies(void 0,!0)).map($=>{const L=f.find(ye=>ye.id===$.companyId);return{id:$.id,frequencyCode:$.frequencyCode,frequencyName:$.frequencyName,companyName:(L==null?void 0:L.companyName)||"Unknown Company",status:$.status,createdBy:$.createdBy||"",createdOn:$.createdOn,modifiedBy:$.modifiedBy||"",modifiedOn:$.modifiedOn}});d(q)}catch(D){const q=D instanceof Error?D.message:"Failed to load frequencies";y(q),console.error("Error loading frequencies:",D),d([])}finally{m(!1)}};k.useEffect(()=>{(async()=>{await S()})()},[]),k.useEffect(()=>{f.length>0&&j()},[f.length]);const _=h.filter(D=>D.companyName.toLowerCase().includes(i.toLowerCase())||D.frequencyCode.toLowerCase().includes(i.toLowerCase())||D.frequencyName.toLowerCase().includes(i.toLowerCase())),P=()=>{o(null),l(!0)},Z=D=>{o(D),l(!0)},ee=async D=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{m(!0),await zp.deleteFrequency(D),await j(),alert("Frequency deleted successfully")}catch(q){const $=q instanceof Error?q.message:"Failed to delete frequency";alert(`Error: ${$}`),console.error("Error deleting frequency:",q)}finally{m(!1)}},K=async D=>{try{m(!0),y(null);const q=f.find($=>$.companyName===D.companyName);if(!q){alert("Please select a valid company");return}if(u)await zp.updateFrequency(u.id,{status:D.status}),alert("Frequency updated successfully");else{if(!D.frequencyCode||!D.frequencyName||!D.companyName){alert("Please fill in all required fields");return}await zp.createFrequency({frequencyCode:D.frequencyCode,frequencyName:D.frequencyName,companyId:q.id}),alert("Frequency created successfully")}l(!1),o(null),await j()}catch(q){const $=q instanceof Error?q.message:"Failed to save frequency";y($),alert(`Error: ${$}`),console.error("Error saving frequency:",q)}finally{m(!1)}},ae=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ae.map(D=>t.jsx("li",{children:t.jsxs(en,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:D.icon}),!b&&t.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Frequency Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading frequencies..."}),t.jsxs("div",{className:"frequency-master-page",children:[t.jsx("div",{className:"frequency-master-header",children:t.jsx("h1",{className:"frequency-master-title",children:"Frequency Master"})}),t.jsxs("div",{className:"frequency-master-actions",children:[t.jsxs("div",{className:"frequency-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"frequency-search-input",placeholder:"Search Frequency...",value:i,onChange:D=>s(D.target.value)})]}),a&&t.jsxs("button",{className:"add-frequency-btn",onClick:P,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]}),t.jsx("div",{className:"frequency-table-container",children:t.jsxs("table",{className:"frequency-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Frequency Code"}),t.jsx("th",{children:"Frequency Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No frequency records found"})}):_.map(D=>t.jsxs("tr",{children:[t.jsx("td",{children:D.companyName||"-"}),t.jsx("td",{children:D.frequencyCode||"-"}),t.jsx("td",{children:D.frequencyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(D),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ee(D.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},D.id))})]})}),t.jsxs("div",{className:"frequency-pagination-info",children:["Showing ",_.length," of ",h.length," Items"]})]})]}),c&&t.jsx(ite,{frequency:u,companies:f.filter(D=>D.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:K})]})},ite=({frequency:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=k.useState(r||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Frequency":"Add Frequency"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"frequency-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Code *"}),t.jsx("input",{type:"text",value:i.frequencyCode||"",onChange:l=>s({...i,frequencyCode:l.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Name *"}),t.jsx("input",{type:"text",value:i.frequencyName||"",onChange:l=>s({...i,frequencyName:l.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ste="http://localhost:3000/api/v1",ote=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},A0=async(r,e={})=>{const n=ote(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${ste}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},p0={createRouteAssignment:async r=>(await A0("/route-assignments",{method:"POST",body:JSON.stringify(r)})).data,getRouteAssignmentById:async r=>(await A0(`/route-assignments/${r}`,{method:"GET"})).data,getAllRouteAssignments:async(r,e,n)=>{let a="/route-assignments";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("date",e),n&&i.append("status",n),i.toString()&&(a+=`?${i.toString()}`),(await A0(a,{method:"GET"})).data},updateRouteAssignment:async(r,e)=>(await A0(`/route-assignments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteAssignment:async r=>{await A0(`/route-assignments/${r}`,{method:"DELETE"})}},lte=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(new Date().toISOString().split("T")[0]),[c,l]=k.useState("all"),[u,o]=k.useState(!1),[h,d]=k.useState(null),[f,A]=k.useState(!1),[g,m]=k.useState(null),[x,y]=k.useState(null),[b,w]=k.useState([]),[N,S]=k.useState([]),[j,_]=k.useState([]),[P,Z]=k.useState([]),[ee,K]=k.useState([]),[ae,D]=k.useState([]),[q,$]=k.useState([]),L=k.useCallback(async()=>{try{const de=(await Qa.getAllCompanies(!0)).map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status}));w(de)}catch(X){console.error("Error loading companies:",X)}},[]),ye=k.useCallback(async X=>{try{const se=(await rA.getAllRoutes(X,!0)).map(We=>({id:We.id,routeCode:We.routeCode,routeName:We.routeName,companyId:We.companyId,status:We.status}));S(se)}catch(de){console.error("Error loading routes:",de)}},[]),ne=k.useCallback(async X=>{try{const se=(await Eh.getAllFleets(X,!0)).map(We=>({id:We.id,vehicleNum:We.vehicleNum,companyId:We.companyId,status:We.status}));_(se)}catch(de){console.error("Error loading vehicles:",de)}},[]),Be=k.useCallback(async X=>{if(!X){Z([]),K([]),D([]);return}try{const We=(await Vl.getUsersByCompany(X)).map(Re=>({id:Re.userId,userName:Re.userName,employeeCode:Re.employeeCode,companyId:Re.companyId,status:Re.status})).filter(Re=>Re.status==="Active");Z(We),K(We),D(We)}catch(de){console.error("Error loading users:",de),Z([]),K([]),D([])}},[]),Te=k.useCallback(async()=>{A(!0),m(null);try{const X=await p0.getAllRouteAssignments(void 0,i,c!=="all"?c:void 0),de=await Promise.all(X.map(async se=>{const We=N.find(jt=>jt.id===se.routeId),Re=j.find(jt=>jt.id===se.vehicleId),Ee=P.find(jt=>jt.id===se.driverId),ie=se.pickerId?ee.find(jt=>jt.id===se.pickerId):null,Le=se.supervisorId?ae.find(jt=>jt.id===se.supervisorId):null,Ze=b.find(jt=>jt.id===se.companyId);return{id:se.id,assignmentDate:se.assignmentDate,routeId:se.routeId,routeCode:(We==null?void 0:We.routeCode)||"",routeName:(We==null?void 0:We.routeName)||"",vehicleId:se.vehicleId,vehicleNum:(Re==null?void 0:Re.vehicleNum)||"",driverId:se.driverId,driverName:(Ee==null?void 0:Ee.userName)||"",pickerId:se.pickerId,pickerName:ie==null?void 0:ie.userName,supervisorId:se.supervisorId,supervisorName:Le==null?void 0:Le.userName,companyId:se.companyId,companyName:(Ze==null?void 0:Ze.companyName)||"Unknown",status:se.status,notes:se.notes,createdBy:se.createdBy,createdOn:se.createdOn,modifiedBy:se.modifiedBy,modifiedOn:se.modifiedOn}}));$(de)}catch(X){const de=X instanceof Error?X.message:"Failed to load assignments";m(de),console.error("Error loading assignments:",X)}finally{A(!1)}},[i,c,N,j,P,ee,ae,b]);k.useEffect(()=>{(async()=>{await L()})()},[L]),k.useEffect(()=>{b.length>0&&(ye(),ne())},[b,ye,ne]),k.useEffect(()=>{N.length>0&&j.length>0&&Te()},[i,c,N,j,P,ee,ae,b,Te]);const me=q.filter(X=>X.routeCode.toLowerCase().includes(n.toLowerCase())||X.routeName.toLowerCase().includes(n.toLowerCase())||X.vehicleNum.toLowerCase().includes(n.toLowerCase())||X.driverName.toLowerCase().includes(n.toLowerCase())||X.companyName.toLowerCase().includes(n.toLowerCase())),ue=()=>{d(null),o(!0)},ve=X=>{if(X.status==="In Progress"||X.status==="Completed"){m("Cannot edit assignments that are In Progress or Completed");return}d(X),o(!0)},le=async X=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{A(!0),m(null),await p0.deleteRouteAssignment(X),y("Assignment deleted successfully"),await Te(),setTimeout(()=>y(null),3e3)}catch(de){const se=de instanceof Error?de.message:"Failed to delete assignment";m(se),console.error("Error deleting assignment:",de)}finally{A(!1)}},Ae=async X=>{try{if(A(!0),m(null),h)await p0.updateRouteAssignment(h.id,{status:X.status,pickerId:X.pickerId,supervisorId:X.supervisorId,notes:X.notes}),y("Assignment updated successfully");else{const de=b.find(se=>se.id===X.companyId);if(!de){m("Please select a valid company");return}await p0.createRouteAssignment({assignmentDate:i,routeId:X.routeId,vehicleId:X.vehicleId,driverId:X.driverId,pickerId:X.pickerId,supervisorId:X.supervisorId,companyId:de.id,status:X.status||"Draft",notes:X.notes}),y("Assignment created successfully")}o(!1),d(null),await Te(),setTimeout(()=>y(null),3e3)}catch(de){const se=de instanceof Error?de.message:"Failed to save assignment";m(se),console.error("Error saving assignment:",de)}finally{A(!1)}},Ie=async(X,de)=>{try{A(!0),m(null),await p0.updateRouteAssignment(X.id,{status:de}),y(`Assignment status changed to ${de}`),await Te(),setTimeout(()=>y(null),3e3)}catch(se){const We=se instanceof Error?se.message:"Failed to update status";m(We),console.error("Error updating status:",se)}finally{A(!1)}},Pe=X=>{switch(X){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},Ce=X=>X.status==="Draft"||X.status==="Assigned",ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(X=>t.jsx("li",{children:t.jsxs(en,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:X.icon}),t.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Route Assignment"})})}),x&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),g&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:g}),t.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),f&&!q.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),t.jsxs("div",{className:"route-assignment-page",children:[t.jsx("div",{className:"route-assignment-header",children:t.jsx("h1",{className:"route-assignment-title",children:"Route Assignment"})}),t.jsxs("div",{className:"route-assignment-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"assignment-date",children:"Assignment Date"}),t.jsx("input",{id:"assignment-date",type:"date",value:i,onChange:X=>s(X.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:X=>l(X.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by route, vehicle, driver...",value:n,onChange:X=>a(X.target.value),className:"search-input"})]})]}),t.jsxs("button",{className:"add-assignment-btn",onClick:ue,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]}),t.jsx("div",{className:"route-assignment-table-container",children:t.jsxs("table",{className:"route-assignment-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Route"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Driver"}),t.jsx("th",{children:"Picker"}),t.jsx("th",{children:"Supervisor"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:me.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:f?"Loading...":"No assignments found for the selected date"})}):me.map(X=>t.jsxs("tr",{className:Ce(X)?"":"read-only-row",children:[t.jsx("td",{children:new Date(X.assignmentDate).toLocaleDateString()}),t.jsx("td",{children:t.jsxs("div",{className:"route-info",children:[t.jsx("span",{className:"route-code",children:X.routeCode}),t.jsx("span",{className:"route-name",children:X.routeName})]})}),t.jsx("td",{children:X.vehicleNum}),t.jsx("td",{children:X.driverName}),t.jsx("td",{children:X.pickerName||"-"}),t.jsx("td",{children:X.supervisorName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${Pe(X.status)}`,children:X.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[Ce(X)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ve(X),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>le(X.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),X.status==="Assigned"&&t.jsx("button",{className:"action-btn action-btn--start",onClick:()=>Ie(X,"In Progress"),title:"Start Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),X.status==="In Progress"&&t.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>Ie(X,"Completed"),title:"Complete Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!Ce(X)&&t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ve(X),title:"View (Read-only)",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},X.id))})]})}),t.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",q.length," Items"]})]})]}),u&&t.jsx(cte,{assignment:h,companies:b.filter(X=>X.status==="Active"),routes:N.filter(X=>X.status==="Active"),vehicles:j.filter(X=>X.status==="Active"),drivers:P,pickers:ee,supervisors:ae,selectedDate:i,onLoadUsers:Be,onClose:()=>{o(!1),d(null)},onSave:Ae})]})},cte=({assignment:r,companies:e,routes:n,vehicles:a,drivers:i,pickers:s,supervisors:c,selectedDate:l,onLoadUsers:u,onClose:o,onSave:h})=>{const[d,f]=k.useState(r||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),A=r&&(r.status==="In Progress"||r.status==="Completed");k.useEffect(()=>{d.companyId&&!r&&u(d.companyId)},[d.companyId,r,u]);const g=d.companyId?n.filter(N=>N.companyId===d.companyId):n,m=d.companyId?a.filter(N=>N.companyId===d.companyId):a,x=d.companyId?i.filter(N=>N.companyId===d.companyId):i,y=d.companyId?s.filter(N=>N.companyId===d.companyId):s,b=d.companyId?c.filter(N=>N.companyId===d.companyId):c,w=N=>{N.preventDefault(),h(d)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:N=>N.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?A?"View Assignment":"Edit Assignment":"Add Assignment"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"assignment-form",onSubmit:w,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Assignment Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Assignment Date *"}),t.jsx("input",{type:"date",value:r?r.assignmentDate:l,disabled:!0,className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:d.companyId||"",onChange:async N=>{const S=N.target.value;f({...d,companyId:S,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),S&&await u(S)},required:!0,disabled:!!r||A,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(N=>t.jsx("option",{value:N.id,children:N.companyName},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route *"}),t.jsxs("select",{value:d.routeId||"",onChange:N=>f({...d,routeId:N.target.value}),required:!0,disabled:!d.companyId||A,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Route"}),g.map(N=>t.jsxs("option",{value:N.id,children:[N.routeCode," - ",N.routeName]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle *"}),t.jsxs("select",{value:d.vehicleId||"",onChange:N=>f({...d,vehicleId:N.target.value}),required:!0,disabled:!d.companyId||A,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Vehicle"}),m.map(N=>t.jsx("option",{value:N.id,children:N.vehicleNum},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driver *"}),t.jsxs("select",{value:d.driverId||"",onChange:N=>f({...d,driverId:N.target.value}),required:!0,disabled:!d.companyId||A,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Driver"}),x.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Picker"}),t.jsxs("select",{value:d.pickerId||"",onChange:N=>f({...d,pickerId:N.target.value||null}),disabled:!d.companyId||A,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Supervisor"}),t.jsxs("select",{value:d.supervisorId||"",onChange:N=>f({...d,supervisorId:N.target.value||null}),disabled:!d.companyId||A,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),b.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:d.status||"Draft",onChange:N=>f({...d,status:N.target.value}),disabled:A,className:"form-select",children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),r&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:d.notes||"",onChange:N=>f({...d,notes:N.target.value||null}),disabled:A,rows:3,className:"form-textarea",placeholder:"Additional notes or instructions..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,children:A?"Close":"Cancel"}),!A&&t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Create"})]})]})]})})},ute=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},PA=async(r,e={})=>{const n=ute(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pf}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},df={lookupBarcode:async r=>(await PA(`/waste-collections/barcode/${encodeURIComponent(r)}`,{method:"GET"})).data,createWasteCollection:async r=>(await PA("/waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getWasteCollectionById:async r=>(await PA(`/waste-collections/${r}`,{method:"GET"})).data,getAllWasteCollections:async(r,e,n,a,i,s)=>{let c="/waste-collections";const l=new URLSearchParams;return r&&l.append("companyId",r),e&&l.append("hcfId",e),n&&l.append("date",n),a&&l.append("endDate",a),i&&l.append("status",i),s&&l.append("routeAssignmentId",s),l.toString()&&(c+=`?${l.toString()}`),(await PA(c,{method:"GET"})).data},updateWasteCollection:async(r,e)=>(await PA(`/waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,collectWaste:async(r,e)=>(await PA(`/waste-collections/${r}/collect`,{method:"POST",body:JSON.stringify({weightKg:e})})).data,deleteWasteCollection:async r=>{await PA(`/waste-collections/${r}`,{method:"DELETE"})}},dte=()=>{const{logout:r,user:e}=pa(),n=_n(),[a,i]=k.useState(""),[s,c]=k.useState(new Date().toISOString().split("T")[0]),[l,u]=k.useState("all"),[o,h]=k.useState("all"),[d,f]=k.useState(!1),[A,g]=k.useState(!1),[m,x]=k.useState(null),[y,b]=k.useState(!1),[w,N]=k.useState(null),[S,j]=k.useState(null),[_,P]=k.useState(""),[Z,ee]=k.useState(null),[K,ae]=k.useState(!1),D=k.useRef(null),[q,$]=k.useState([]),[L,ye]=k.useState([]),ne=k.useCallback(async()=>{try{const X=(await Qa.getAllCompanies(!0)).map(de=>({id:de.id,companyCode:de.companyCode,companyName:de.companyName,status:de.status}));$(X)}catch(ce){console.error("Error loading companies:",ce)}},[]),Be=k.useCallback(async()=>{b(!0),N(null);try{const ce=await df.getAllWasteCollections(void 0,void 0,s,void 0,l!=="all"?l:void 0),X=await Promise.all(ce.map(async de=>{const se=q.find(Ee=>Ee.id===de.companyId);let We="",Re="";try{const Ee=await ks.getHcfById(de.hcfId);We=Ee.hcfCode,Re=Ee.hcfName}catch(Ee){console.error("Error loading HCF:",Ee)}return{id:de.id,barcode:de.barcode,collectionDate:de.collectionDate,companyId:de.companyId,companyName:(se==null?void 0:se.companyName)||"Unknown",hcfId:de.hcfId,hcfCode:We,hcfName:Re,wasteColor:de.wasteColor,weightKg:de.weightKg,status:de.status,routeAssignmentId:de.routeAssignmentId,collectedBy:de.collectedBy,collectedAt:de.collectedAt,notes:de.notes,createdOn:de.createdOn}}));ye(X)}catch(ce){const X=ce instanceof Error?ce.message:"Failed to load collections";N(X),console.error("Error loading collections:",ce)}finally{b(!1)}},[s,l,q]);k.useEffect(()=>{(async()=>{await ne()})()},[ne]),k.useEffect(()=>{q.length>0&&Be()},[s,l,q,Be]);const Te=async ce=>{if(!ce||ce.length<5){N("Please enter a valid barcode (at least 5 characters)");return}ae(!0),N(null),ee(null);try{const X=await df.lookupBarcode(ce);ee(X),L.find(se=>se.barcode===ce&&se.collectionDate===s)?(N(`Barcode ${ce} has already been collected on ${s}`),ee(null)):f(!0)}catch(X){const de=X instanceof Error?X.message:"Failed to lookup barcode";N(de),ee(null)}finally{ae(!1)}},me=ce=>{ce==null||ce.preventDefault(),_.trim()&&(Te(_.trim()),P(""))},ue=async ce=>{if(!Z){N("Barcode lookup result is missing");return}try{b(!0),N(null),await df.createWasteCollection({barcode:Z.barcode,collectionDate:s,companyId:Z.companyId,hcfId:Z.hcfId,wasteColor:Z.wasteColor,weightKg:ce.weightKg||null,status:"Pending",notes:ce.notes||null}),j("Waste collection recorded successfully"),f(!1),ee(null),await Be(),setTimeout(()=>j(null),3e3)}catch(X){const de=X instanceof Error?X.message:"Failed to save collection";N(de),console.error("Error saving collection:",X)}finally{b(!1)}},ve=async(ce,X)=>{try{b(!0),N(null),await df.collectWaste(ce,X),j("Waste collected successfully"),await Be(),setTimeout(()=>j(null),3e3)}catch(de){const se=de instanceof Error?de.message:"Failed to collect waste";N(se),console.error("Error collecting waste:",de)}finally{b(!1)}},le=ce=>{x(ce),g(!0)},Ae=L.filter(ce=>{const X=ce.barcode.toLowerCase().includes(a.toLowerCase())||ce.hcfCode.toLowerCase().includes(a.toLowerCase())||ce.hcfName.toLowerCase().includes(a.toLowerCase())||ce.companyName.toLowerCase().includes(a.toLowerCase()),de=o==="all"||ce.wasteColor===o;return X&&de}),Ie=ce=>{switch(ce){case"Pending":return"status-badge--pending";case"Collected":return"status-badge--collected";case"In Transit":return"status-badge--in-transit";case"Processed":return"status-badge--processed";case"Disposed":return"status-badge--disposed";default:return""}},Pe=ce=>{switch(ce){case"Yellow":return"color-badge--yellow";case"Red":return"color-badge--red";case"White":return"color-badge--white";default:return""}},Ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:n.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ce.map(ce=>t.jsx("li",{children:t.jsxs(en,{to:ce.path,className:`nav-link ${ce.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ce.icon}),t.jsx("span",{className:"nav-label",children:ce.label})]})},ce.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Collection"})})}),S&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:S}),t.jsx("button",{onClick:()=>j(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),w&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>N(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),y&&!L.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"waste-collection-page",children:[t.jsx("div",{className:"waste-collection-header",children:t.jsx("h1",{className:"waste-collection-title",children:"Waste Collection"})}),t.jsx("div",{className:"barcode-scanner-section",children:t.jsx("form",{onSubmit:me,className:"barcode-scanner-form",children:t.jsxs("div",{className:"barcode-input-group",children:[t.jsx("label",{htmlFor:"barcode-input",children:"Scan Barcode"}),t.jsxs("div",{className:"barcode-input-wrapper",children:[t.jsx("input",{id:"barcode-input",ref:D,type:"text",value:_,onChange:ce=>P(ce.target.value),placeholder:"Scan or enter barcode...",className:"barcode-input",autoFocus:!0,disabled:K}),t.jsx("button",{type:"submit",className:"barcode-scan-btn",disabled:K||!_.trim(),children:K?t.jsx("span",{children:"Looking up..."}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"})}),"Scan"]})})]})]})})}),t.jsxs("div",{className:"waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:s,onChange:ce=>c(ce.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:ce=>u(ce.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Collected",children:"Collected"}),t.jsx("option",{value:"In Transit",children:"In Transit"}),t.jsx("option",{value:"Processed",children:"Processed"}),t.jsx("option",{value:"Disposed",children:"Disposed"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"color-filter",children:"Color"}),t.jsxs("select",{id:"color-filter",value:o,onChange:ce=>h(ce.target.value),className:"color-select",children:[t.jsx("option",{value:"all",children:"All Colors"}),t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by barcode, HCF, company...",value:a,onChange:ce=>i(ce.target.value),className:"search-input"})]})]})]}),t.jsx("div",{className:"waste-collection-table-container",children:t.jsxs("table",{className:"waste-collection-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Color"}),t.jsx("th",{children:"Weight (Kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ae.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:y?"Loading...":"No collections found for the selected date"})}):Ae.map(ce=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ce.collectionDate).toLocaleDateString()}),t.jsx("td",{children:t.jsx("span",{className:"barcode-display",children:ce.barcode})}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:ce.hcfCode}),t.jsx("span",{className:"hcf-name",children:ce.hcfName})]})}),t.jsx("td",{children:ce.companyName}),t.jsx("td",{children:t.jsx("span",{className:`color-badge ${Pe(ce.wasteColor)}`,children:ce.wasteColor})}),t.jsx("td",{children:ce.weightKg?`${ce.weightKg} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${Ie(ce.status)}`,children:ce.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le(ce),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ce.status==="Pending"&&t.jsx("button",{className:"action-btn action-btn--collect",onClick:()=>{const X=prompt("Enter weight in kg:");X&&!isNaN(parseFloat(X))&&parseFloat(X)>0&&ve(ce.id,parseFloat(X))},title:"Collect Waste",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]},ce.id))})]})}),t.jsxs("div",{className:"waste-collection-pagination-info",children:["Showing ",Ae.length," of ",L.length," Items"]})]})]}),d&&Z&&t.jsx(hte,{barcodeLookup:Z,collectionDate:s,onClose:()=>{f(!1),ee(null)},onSave:ue}),A&&m&&t.jsx(fte,{collection:m,onClose:()=>{g(!1),x(null)}})]})},hte=({barcodeLookup:r,collectionDate:e,onClose:n,onSave:a})=>{const[i,s]=k.useState({weightKg:null,notes:null}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--medium",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Waste Collection"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"collection-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Barcode Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode"}),t.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("input",{type:"date",value:e,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company"}),t.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF"}),t.jsx("input",{type:"text",value:`${r.hcfCode} - ${r.hcfName}`,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"form-input form-input--readonly"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Collection Details"}),t.jsx("div",{className:"form-grid form-grid--two-columns",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (Kg) *"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:i.weightKg||"",onChange:l=>s({...i,weightKg:parseFloat(l.target.value)||null}),required:!0,className:"form-input",placeholder:"Enter weight"})]})}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),rows:3,className:"form-textarea",placeholder:"Additional notes or observations..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Record Collection"})]})]})]})})},fte=({collection:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Collection Details"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"collection-detail-content",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Barcode"}),t.jsx("span",{children:r.barcode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("span",{children:new Date(r.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:r.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Code"}),t.jsx("span",{children:r.hcfCode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Name"}),t.jsx("span",{children:r.hcfName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("span",{className:`color-badge ${r.wasteColor.toLowerCase()}`,children:r.wasteColor})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Collection Details"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Weight"}),t.jsx("span",{children:r.weightKg?`${r.weightKg} kg`:"Not recorded"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`status-badge ${r.status.toLowerCase().replace(" ","-")}`,children:r.status})]}),r.collectedBy&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected By"}),t.jsx("span",{children:r.collectedBy})]}),r.collectedAt&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected At"}),t.jsx("span",{children:new Date(r.collectedAt).toLocaleString()})]}),r.notes&&t.jsxs("div",{className:"detail-item detail-item--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("span",{children:r.notes})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Audit Information"}),t.jsx("div",{className:"detail-grid",children:t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Created On"}),t.jsx("span",{children:new Date(r.createdOn).toLocaleString()})]})})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Close"})})]})}),Ate="http://localhost:3000/api/v1",pte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},FA=async(r,e={})=>{const n=pte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Ate}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},kp={createTransaction:async r=>(await FA("/waste-transactions",{method:"POST",body:JSON.stringify(r)})).data,getTransactionById:async r=>(await FA(`/waste-transactions/${r}`,{method:"GET"})).data,getAllTransactions:async(r,e,n,a,i)=>{let s="/waste-transactions";const c=new URLSearchParams;return r&&c.append("companyId",r),e&&c.append("hcfId",e),n&&c.append("startDate",n),a&&c.append("endDate",a),i&&c.append("status",i),c.toString()&&(s+=`?${c.toString()}`),(await FA(s,{method:"GET"})).data},updateTransaction:async(r,e)=>(await FA(`/waste-transactions/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitTransaction:async r=>(await FA(`/waste-transactions/${r}/submit`,{method:"PATCH"})).data,verifyTransaction:async r=>(await FA(`/waste-transactions/${r}/verify`,{method:"PATCH"})).data,deleteTransaction:async r=>{await FA(`/waste-transactions/${r}`,{method:"DELETE"})}},mte=()=>{var de;const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(new Date().toISOString().split("T")[0]),[c,l]=k.useState("all"),[u,o]=k.useState(!1),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(null),[N,S]=k.useState(!1),[j,_]=k.useState(null),[P,Z]=k.useState([]),[ee,K]=k.useState([]),[ae,D]=k.useState([]),[q,$]=k.useState([]),[L,ye]=k.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),ne=k.useCallback(async()=>{try{const se=await Qa.getAllCompanies(void 0,!0);Z(se)}catch(se){console.error("Failed to load companies:",se),y("Failed to load companies")}},[]),Be=k.useCallback(async()=>{try{const se=await ks.getAllHcfs(void 0,!0);K(se)}catch(se){console.error("Failed to load HCFs:",se),y("Failed to load HCFs")}},[]),Te=k.useCallback(async()=>{m(!0),y(null);try{const se=i,We=i,Re=await kp.getAllTransactions(void 0,void 0,se,We,c!=="all"?c:void 0),Ee=await Promise.all(Re.map(async ie=>{const Le=P.find(Lt=>Lt.id===ie.companyId);let Ze="",jt="";try{const Lt=await ks.getHcfById(ie.hcfId);Ze=Lt.hcfName,jt=Lt.hcfCode}catch(Lt){console.error("Error loading HCF:",Lt)}return{id:ie.id,companyId:ie.companyId,companyName:(Le==null?void 0:Le.companyName)||"Unknown",hcfId:ie.hcfId,hcfCode:jt,hcfName:Ze,pickupDate:ie.pickupDate,isNilPickup:ie.isNilPickup,yellowBagCount:ie.yellowBagCount,redBagCount:ie.redBagCount,whiteBagCount:ie.whiteBagCount,yellowWeightKg:ie.yellowWeightKg,redWeightKg:ie.redWeightKg,whiteWeightKg:ie.whiteWeightKg,latitude:ie.latitude,longitude:ie.longitude,segregationQuality:ie.segregationQuality,status:ie.status,notes:ie.notes,createdOn:ie.createdOn}}));$(Ee)}catch(se){const We=se instanceof Error?se.message:"Failed to load transactions";y(We),console.error("Error loading transactions:",se)}finally{m(!1)}},[i,c,P]);k.useEffect(()=>{if(L.companyId){const se=ee.filter(We=>We.companyId===L.companyId);D(se),L.hcfId&&!se.find(We=>We.id===L.hcfId)&&ye(We=>({...We,hcfId:""}))}else D([]),ye(se=>({...se,hcfId:""}))},[L.companyId,ee]),k.useEffect(()=>{ne(),Be()},[ne,Be]),k.useEffect(()=>{P.length>0&&Te()},[i,c,P,Te]);const me=k.useCallback(()=>{if(!navigator.geolocation){_("Geolocation is not supported by your browser");return}S(!0),_(null),navigator.geolocation.getCurrentPosition(se=>{ye(We=>({...We,latitude:se.coords.latitude,longitude:se.coords.longitude})),S(!1),w("GPS location captured successfully"),setTimeout(()=>w(null),3e3)},se=>{_(`Failed to get GPS location: ${se.message}`),S(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),ue=async se=>{if(se.preventDefault(),!L.companyId||!L.hcfId||!L.pickupDate){y("Please fill in all required fields");return}if(!L.isNilPickup&&L.yellowBagCount===0&&L.redBagCount===0&&L.whiteBagCount===0){y("Please enter at least one bag count or select NIL pickup");return}try{if(m(!0),y(null),L.editingId){const We=Ee=>{if(Ee==null)return null;const ie=Number(Ee);return isNaN(ie)?null:ie},Re={pickupDate:L.pickupDate,isNilPickup:L.isNilPickup,yellowBagCount:L.yellowBagCount,redBagCount:L.redBagCount,whiteBagCount:L.whiteBagCount,yellowWeightKg:We(L.yellowWeightKg),redWeightKg:We(L.redWeightKg),whiteWeightKg:We(L.whiteWeightKg),latitude:We(L.latitude),longitude:We(L.longitude),segregationQuality:L.segregationQuality,notes:L.notes};await kp.updateTransaction(L.editingId,Re),w("Transaction updated successfully")}else{const We=Ee=>{if(Ee==null)return null;const ie=Number(Ee);return isNaN(ie)?null:ie},Re={companyId:L.companyId,hcfId:L.hcfId,pickupDate:L.pickupDate,isNilPickup:L.isNilPickup,yellowBagCount:L.yellowBagCount,redBagCount:L.redBagCount,whiteBagCount:L.whiteBagCount,yellowWeightKg:We(L.yellowWeightKg),redWeightKg:We(L.redWeightKg),whiteWeightKg:We(L.whiteWeightKg),latitude:We(L.latitude),longitude:We(L.longitude),segregationQuality:L.segregationQuality,notes:L.notes};await kp.createTransaction(Re),w("Transaction created successfully")}await Te(),o(!1),Ae(),setTimeout(()=>w(null),3e3)}catch(We){const Re=We instanceof Error?We.message:"Failed to save transaction";y(Re),console.error("Error saving transaction:",We)}finally{m(!1)}},ve=async(se,We)=>{try{m(!0),y(null),We==="submit"?(await kp.submitTransaction(se),w("Transaction submitted successfully")):(await kp.verifyTransaction(se),w("Transaction verified successfully")),await Te(),d(!1),setTimeout(()=>w(null),3e3)}catch(Re){const Ee=Re instanceof Error?Re.message:"Failed to update status";y(Ee),console.error("Error updating status:",Re)}finally{m(!1)}},le=async se=>{if(confirm("Are you sure you want to delete this transaction?"))try{m(!0),y(null),await kp.deleteTransaction(se),w("Transaction deleted successfully"),await Te(),d(!1),setTimeout(()=>w(null),3e3)}catch(We){const Re=We instanceof Error?We.message:"Failed to delete transaction";y(Re),console.error("Error deleting transaction:",We)}finally{m(!1)}},Ae=()=>{ye({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Ie=se=>{if(se.status!=="Draft"){y("Only draft transactions can be edited");return}ye({companyId:se.companyId,hcfId:se.hcfId,pickupDate:se.pickupDate.split("T")[0],isNilPickup:se.isNilPickup,yellowBagCount:se.yellowBagCount,redBagCount:se.redBagCount,whiteBagCount:se.whiteBagCount,yellowWeightKg:se.yellowWeightKg,redWeightKg:se.redWeightKg,whiteWeightKg:se.whiteWeightKg,latitude:se.latitude,longitude:se.longitude,segregationQuality:se.segregationQuality,notes:se.notes,editingId:se.id}),o(!0)},Pe=se=>{A(se),d(!0)},Ce=q.filter(se=>{if(!n.trim())return!0;const We=n.toLowerCase().trim();return se.companyName.toLowerCase().includes(We)||se.hcfName.toLowerCase().includes(We)||se.hcfCode.toLowerCase().includes(We)}),ce=!L.editingId||((de=q.find(se=>se.id===L.editingId))==null?void 0:de.status)==="Draft",X=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:X.map(se=>t.jsx("li",{children:t.jsxs(en,{to:se.path,className:`nav-link ${se.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:se.icon}),t.jsx("span",{className:"nav-label",children:se.label})]})},se.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Transaction Data"})})}),b&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>w(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),x&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),g&&!q.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),t.jsxs("div",{className:"waste-transaction-page",children:[t.jsx("div",{className:"waste-transaction-header",children:t.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})}),t.jsxs("div",{className:"waste-transaction-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"pickup-date",children:"Pickup Date"}),t.jsx("input",{id:"pickup-date",type:"date",value:i,onChange:se=>s(se.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:se=>l(se.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company, HCF...",value:n,onChange:se=>a(se.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-transaction-btn",onClick:()=>{Ae(),o(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),t.jsx("div",{className:"waste-transaction-table-container",children:t.jsxs("table",{className:"waste-transaction-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"NIL"}),t.jsx("th",{children:"Yellow"}),t.jsx("th",{children:"Red"}),t.jsx("th",{children:"White"}),t.jsx("th",{children:"Total Weight"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ce.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"empty-message",children:g?"Loading...":"No transactions found for the selected date"})}):Ce.map(se=>{const We=(Number(se.yellowWeightKg)||0)+(Number(se.redWeightKg)||0)+(Number(se.whiteWeightKg)||0);return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(se.pickupDate).toLocaleDateString()}),t.jsx("td",{children:se.companyName}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:se.hcfCode}),t.jsx("span",{className:"hcf-name",children:se.hcfName})]})}),t.jsx("td",{children:se.isNilPickup?t.jsx("span",{className:"nil-badge",children:"NIL"}):t.jsx("span",{className:"pickup-badge",children:"Yes"})}),t.jsx("td",{children:se.yellowBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--yellow"}),se.yellowBagCount,se.yellowWeightKg&&` (${se.yellowWeightKg}kg)`]}):"-"}),t.jsx("td",{children:se.redBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--red"}),se.redBagCount,se.redWeightKg&&` (${se.redWeightKg}kg)`]}):"-"}),t.jsx("td",{children:se.whiteBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--white"}),se.whiteBagCount,se.whiteWeightKg&&` (${se.whiteWeightKg}kg)`]}):"-"}),t.jsx("td",{children:We>0?`${Number(We).toFixed(2)} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${se.status.toLowerCase()}`,children:se.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Pe(se),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),se.status==="Draft"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ie(se),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},se.id)})})]})}),t.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",Ce.length," of ",q.length," Items"]})]})]}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>{o(!1),Ae()},children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:se=>se.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:L.editingId?"Edit Transaction":"Add Waste Transaction"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>{o(!1),Ae()},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"waste-transaction-form",onSubmit:ue,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:L.companyId,onChange:se=>ye({...L,companyId:se.target.value,hcfId:""}),required:!0,disabled:!ce,children:[t.jsx("option",{value:"",children:"Select Company"}),P.map(se=>t.jsxs("option",{value:se.id,children:[se.companyCode," - ",se.companyName]},se.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:L.hcfId,onChange:se=>ye({...L,hcfId:se.target.value}),required:!0,disabled:!L.companyId||!ce,children:[t.jsx("option",{value:"",children:"Select HCF"}),ae.map(se=>t.jsxs("option",{value:se.id,children:[se.hcfCode," - ",se.hcfName]},se.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date *"}),t.jsx("input",{type:"date",value:L.pickupDate,onChange:se=>ye({...L,pickupDate:se.target.value}),required:!0,disabled:!ce})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:L.isNilPickup,onChange:se=>ye({...L,isNilPickup:se.target.checked}),disabled:!ce}),"NIL Pickup (No waste collected)"]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"GPS Location"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Latitude"}),t.jsx("input",{type:"number",step:"any",value:L.latitude||"",onChange:se=>ye({...L,latitude:se.target.value?parseFloat(se.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Longitude"}),t.jsx("input",{type:"number",step:"any",value:L.longitude||"",onChange:se=>ye({...L,longitude:se.target.value?parseFloat(se.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:me,disabled:!ce||N,children:N?"Capturing...":"Capture GPS Location"}),j&&t.jsx("div",{className:"form-error",children:j})]})]})]}),!L.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Bag Counts & Weights"}),t.jsxs("div",{className:"color-inputs-grid",children:[t.jsxs("div",{className:"color-input-group color-input-group--yellow",children:[t.jsx("h4",{className:"color-input-title",children:"Yellow Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:L.yellowBagCount||0,onChange:se=>ye({...L,yellowBagCount:parseInt(se.target.value)||0}),disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:L.yellowWeightKg||"",onChange:se=>ye({...L,yellowWeightKg:se.target.value?parseFloat(se.target.value):null}),placeholder:"0.00",disabled:!ce})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--red",children:[t.jsx("h4",{className:"color-input-title",children:"Red Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:L.redBagCount||0,onChange:se=>ye({...L,redBagCount:parseInt(se.target.value)||0}),disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:L.redWeightKg||"",onChange:se=>ye({...L,redWeightKg:se.target.value?parseFloat(se.target.value):null}),placeholder:"0.00",disabled:!ce})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--white",children:[t.jsx("h4",{className:"color-input-title",children:"White Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:L.whiteBagCount||0,onChange:se=>ye({...L,whiteBagCount:parseInt(se.target.value)||0}),disabled:!ce})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:L.whiteWeightKg||"",onChange:se=>ye({...L,whiteWeightKg:se.target.value?parseFloat(se.target.value):null}),placeholder:"0.00",disabled:!ce})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Segregation Quality"}),t.jsx("div",{className:"form-group",children:t.jsxs("select",{value:L.segregationQuality||"",onChange:se=>ye({...L,segregationQuality:se.target.value||null}),disabled:!ce,children:[t.jsx("option",{value:"",children:"Select Quality"}),t.jsx("option",{value:"Excellent",children:"Excellent"}),t.jsx("option",{value:"Good",children:"Good"}),t.jsx("option",{value:"Fair",children:"Fair"}),t.jsx("option",{value:"Poor",children:"Poor"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Notes"}),t.jsx("div",{className:"form-group",children:t.jsx("textarea",{value:L.notes||"",onChange:se=>ye({...L,notes:se.target.value||null}),placeholder:"Enter any additional notes or remarks...",rows:3,disabled:!ce})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>{o(!1),Ae()},disabled:g,children:"Cancel"}),ce&&t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:g,children:g?"Saving...":L.editingId?"Update":"Create"})]})]})]})}),h&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:se=>se.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Transaction Details"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>d(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"transaction-details",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Pickup Date"}),t.jsx("span",{children:new Date(f.pickupDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:f.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF"}),t.jsxs("span",{children:[f.hcfCode," - ",f.hcfName]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`badge badge--${f.status.toLowerCase()}`,children:f.status})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"NIL Pickup"}),t.jsx("span",{children:f.isNilPickup?"Yes":"No"})]})]})]}),!f.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Bag Counts & Weights"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Yellow Bags"}),t.jsxs("span",{children:[f.yellowBagCount," bags",f.yellowWeightKg&&` (${f.yellowWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Red Bags"}),t.jsxs("span",{children:[f.redBagCount," bags",f.redWeightKg&&` (${f.redWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"White Bags"}),t.jsxs("span",{children:[f.whiteBagCount," bags",f.whiteWeightKg&&` (${f.whiteWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight"}),t.jsxs("span",{children:[Number((Number(f.yellowWeightKg)||0)+(Number(f.redWeightKg)||0)+(Number(f.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),f.segregationQuality&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Segregation Quality"}),t.jsx("span",{children:f.segregationQuality})]})]})]}),(f.latitude||f.longitude)&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"GPS Location"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Latitude"}),t.jsx("span",{children:f.latitude})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Longitude"}),t.jsx("span",{children:f.longitude})]})]})]})]}),f.notes&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Notes"}),t.jsx("p",{children:f.notes})]}),t.jsxs("div",{className:"modal-footer",children:[f.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn--secondary",onClick:()=>{Ie(f),d(!1)},children:"Edit"}),t.jsx("button",{className:"btn btn--primary",onClick:()=>ve(f.id,"submit"),disabled:g,children:"Submit"})]}),f.status==="Submitted"&&t.jsx("button",{className:"btn btn--primary",onClick:()=>ve(f.id,"verify"),disabled:g,children:"Verify"}),f.status==="Draft"&&t.jsx("button",{className:"btn btn--danger",onClick:()=>le(f.id),disabled:g,children:"Delete"}),t.jsx("button",{className:"btn btn--secondary",onClick:()=>d(!1),children:"Close"})]})]})]})})]})},gte="http://localhost:3000/api/v1",vte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},DA=async(r,e={})=>{const n=vte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${gte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Pp={createCollection:async r=>(await DA("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getCollectionById:async r=>(await DA(`/vehicle-waste-collections/${r}`,{method:"GET"})).data,getAllCollections:async(r,e,n,a)=>{let i="/vehicle-waste-collections";const s=new URLSearchParams;return r&&s.append("vehicleId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await DA(i,{method:"GET"})).data},updateCollection:async(r,e)=>(await DA(`/vehicle-waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitCollection:async r=>(await DA(`/vehicle-waste-collections/${r}/submit`,{method:"PUT"})).data,verifyCollection:async r=>(await DA(`/vehicle-waste-collections/${r}/verify`,{method:"PUT"})).data,deleteCollection:async r=>{await DA(`/vehicle-waste-collections/${r}`,{method:"DELETE"})}},xte=()=>{var me,ue;const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(new Date().toISOString().split("T")[0]),[c,l]=k.useState("all"),[u,o]=k.useState(!1),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(null),[N,S]=k.useState([]),[j,_]=k.useState([]),[P,Z]=k.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),ee=k.useCallback(async()=>{try{const ve=await Eh.getAllFleets(void 0,!0);S(ve)}catch(ve){console.error("Failed to load vehicles:",ve),y("Failed to load vehicles")}},[]),K=k.useCallback(async()=>{m(!0),y(null);try{const ve=i,le=i,Ie=(await Pp.getAllCollections(void 0,ve,le,c!=="all"?c:void 0)).map(Pe=>{const Ce=N.find(ce=>ce.id===Pe.vehicleId);return{id:Pe.id,vehicleId:Pe.vehicleId,vehicleNum:(Ce==null?void 0:Ce.vehicleNum)||"Unknown",collectionDate:Pe.collectionDate,grossWeightKg:Number(Pe.grossWeightKg)||0,tareWeightKg:Number(Pe.tareWeightKg)||0,netWeightKg:Number(Pe.netWeightKg)||0,incinerationWeightKg:Number(Pe.incinerationWeightKg)||0,autoclaveWeightKg:Number(Pe.autoclaveWeightKg)||0,vehicleKm:Pe.vehicleKm!==null&&Pe.vehicleKm!==void 0?Number(Pe.vehicleKm):null,fuelUsageLiters:Pe.fuelUsageLiters!==null&&Pe.fuelUsageLiters!==void 0?Number(Pe.fuelUsageLiters):null,status:Pe.status,notes:Pe.notes,createdOn:Pe.createdOn}});_(Ie)}catch(ve){const le=ve instanceof Error?ve.message:"Failed to load collections";y(le),console.error("Error loading collections:",ve)}finally{m(!1)}},[i,c,N]);k.useEffect(()=>{ee()},[ee]),k.useEffect(()=>{N.length>0&&K()},[i,c,N,K]),k.useEffect(()=>{const ve=P.grossWeightKg-P.tareWeightKg;ve>=0&&Z(le=>({...le,netWeightKg:ve}))},[P.grossWeightKg,P.tareWeightKg]);const ae=async ve=>{if(ve.preventDefault(),!P.vehicleId){y("Please select a vehicle");return}if(P.grossWeightKg<P.tareWeightKg){y("Gross weight must be greater than or equal to tare weight");return}try{if(m(!0),y(null),P.editingId){const le={grossWeightKg:P.grossWeightKg,tareWeightKg:P.tareWeightKg,netWeightKg:P.netWeightKg,incinerationWeightKg:P.incinerationWeightKg,autoclaveWeightKg:P.autoclaveWeightKg,vehicleKm:P.vehicleKm!==null&&P.vehicleKm!==void 0?Number(P.vehicleKm):null,fuelUsageLiters:P.fuelUsageLiters!==null&&P.fuelUsageLiters!==void 0?Number(P.fuelUsageLiters):null,notes:P.notes};await Pp.updateCollection(P.editingId,le),w("Collection updated successfully")}else{const le={vehicleId:P.vehicleId,collectionDate:P.collectionDate,grossWeightKg:Number(P.grossWeightKg),tareWeightKg:Number(P.tareWeightKg),netWeightKg:Number(P.netWeightKg),incinerationWeightKg:Number(P.incinerationWeightKg),autoclaveWeightKg:Number(P.autoclaveWeightKg),vehicleKm:P.vehicleKm!==null&&P.vehicleKm!==void 0?Number(P.vehicleKm):null,fuelUsageLiters:P.fuelUsageLiters!==null&&P.fuelUsageLiters!==void 0?Number(P.fuelUsageLiters):null,notes:P.notes};await Pp.createCollection(le),w("Collection created successfully")}await K(),o(!1),ye(),setTimeout(()=>w(null),3e3)}catch(le){const Ae=le instanceof Error?le.message:"Failed to save collection";y(Ae),console.error("Error saving collection:",le)}finally{m(!1)}},D=async(ve,le)=>{try{m(!0),y(null),le==="submit"?(await Pp.submitCollection(ve),w("Collection submitted successfully")):(await Pp.verifyCollection(ve),w("Collection verified successfully")),await K(),setTimeout(()=>w(null),3e3)}catch(Ae){const Ie=Ae instanceof Error?Ae.message:"Failed to update status";y(Ie),console.error("Error updating status:",Ae)}finally{m(!1)}},q=async ve=>{if(window.confirm("Are you sure you want to delete this collection?"))try{m(!0),y(null),await Pp.deleteCollection(ve),w("Collection deleted successfully"),await K(),setTimeout(()=>w(null),3e3)}catch(le){const Ae=le instanceof Error?le.message:"Failed to delete collection";y(Ae),console.error("Error deleting collection:",le)}finally{m(!1)}},$=ve=>{Z({vehicleId:ve.vehicleId,collectionDate:ve.collectionDate,grossWeightKg:ve.grossWeightKg,tareWeightKg:ve.tareWeightKg,netWeightKg:ve.netWeightKg,incinerationWeightKg:ve.incinerationWeightKg,autoclaveWeightKg:ve.autoclaveWeightKg,vehicleKm:ve.vehicleKm,fuelUsageLiters:ve.fuelUsageLiters,notes:ve.notes,editingId:ve.id,editingStatus:ve.status}),o(!0)},L=ve=>{A(ve),d(!0)},ye=()=>{Z({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},ne=j.filter(ve=>{if(n.trim()){const le=n.toLowerCase().trim();if(!ve.vehicleNum.toLowerCase().includes(le))return!1}return!0}),Be=ve=>{switch(ve){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},Te=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5"}),t.jsx("path",{d:"M2 12l10 5 10-5"})]}),active:e.pathname==="/master"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname.startsWith("/transaction")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(ve=>t.jsx("li",{children:t.jsxs(en,{to:ve.path,className:`nav-link ${ve.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ve.icon}),t.jsx("span",{className:"nav-label",children:ve.label})]})},ve.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Vehicle Waste Collection"})})}),b&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>w(null),"aria-label":"Close success message",children:""})]}),x&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),"aria-label":"Close error message",children:""})]}),g&&!j.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"vehicle-waste-collection-page",children:[t.jsx("div",{className:"vehicle-waste-collection-header",children:t.jsx("h1",{className:"vehicle-waste-collection-title",children:"Vehicle Waste Collection"})}),t.jsxs("div",{className:"vehicle-waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:i,onChange:ve=>s(ve.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:ve=>l(ve.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by vehicle number...",value:n,onChange:ve=>a(ve.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-collection-btn",onClick:()=>{ye(),o(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),t.jsx("div",{className:"table-container",children:ne.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No collections found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Gross Weight (kg)"}),t.jsx("th",{children:"Tare Weight (kg)"}),t.jsx("th",{children:"Net Weight (kg)"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"KM"}),t.jsx("th",{children:"Fuel (L)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ne.map(ve=>{var le,Ae;return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ve.collectionDate).toLocaleDateString()}),t.jsx("td",{children:ve.vehicleNum}),t.jsx("td",{children:ve.grossWeightKg.toFixed(2)}),t.jsx("td",{children:ve.tareWeightKg.toFixed(2)}),t.jsx("td",{children:ve.netWeightKg.toFixed(2)}),t.jsx("td",{children:ve.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:ve.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:((le=ve.vehicleKm)==null?void 0:le.toFixed(2))||"-"}),t.jsx("td",{children:((Ae=ve.fuelUsageLiters)==null?void 0:Ae.toFixed(2))||"-"}),t.jsx("td",{children:t.jsx("span",{className:Be(ve.status),children:ve.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>L(ve),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ve.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>$(ve),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>D(ve.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>q(ve.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ve.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>D(ve.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},ve.id)})})]})}),ne.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",ne.length," of ",j.length," Items"]})]})]}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:t.jsxs("div",{className:"modal-content",onClick:ve=>ve.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:P.editingId?"Edit Collection":"Add Collection"}),t.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:""})]}),t.jsxs("form",{onSubmit:ae,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs("select",{id:"vehicleId",value:P.vehicleId,onChange:ve=>Z({...P,vehicleId:ve.target.value}),required:!0,disabled:!!P.editingId,children:[t.jsx("option",{value:"",children:"Select Vehicle"}),N.filter(ve=>ve.status==="Active").map(ve=>t.jsx("option",{value:ve.id,children:ve.vehicleNum},ve.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"collectionDate",children:"Collection Date *"}),t.jsx("input",{id:"collectionDate",type:"date",value:P.collectionDate,onChange:ve=>Z({...P,collectionDate:ve.target.value}),required:!0,disabled:!!P.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossWeightKg",children:"Gross Weight (kg) *"}),t.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",value:P.grossWeightKg,onChange:ve=>Z({...P,grossWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!P.editingId&&P.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"tareWeightKg",children:"Tare Weight (kg) *"}),t.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",value:P.tareWeightKg,onChange:ve=>Z({...P,tareWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!P.editingId&&P.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"netWeightKg",children:"Net Weight (kg) *"}),t.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",value:P.netWeightKg.toFixed(2),readOnly:!0,className:"readonly-input"}),t.jsx("small",{children:"Auto-calculated: Gross - Tare"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",value:P.incinerationWeightKg,onChange:ve=>Z({...P,incinerationWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!P.editingId&&P.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",value:P.autoclaveWeightKg,onChange:ve=>Z({...P,autoclaveWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!P.editingId&&P.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleKm",children:"Vehicle KM"}),t.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",value:P.vehicleKm||"",onChange:ve=>Z({...P,vehicleKm:ve.target.value?parseFloat(ve.target.value):null}),disabled:!!P.editingId&&P.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"fuelUsageLiters",children:"Fuel Usage (Liters)"}),t.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",value:P.fuelUsageLiters||"",onChange:ve=>Z({...P,fuelUsageLiters:ve.target.value?parseFloat(ve.target.value):null}),disabled:!!P.editingId&&P.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:P.notes||"",onChange:ve=>Z({...P,notes:ve.target.value||null}),disabled:P.editingId&&P.status!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save"})]})]})]})}),h&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:ve=>ve.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Collection Details"}),t.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle:"}),t.jsx("span",{children:f.vehicleNum})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date:"}),t.jsx("span",{children:new Date(f.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Gross Weight:"}),t.jsxs("span",{children:[f.grossWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Tare Weight:"}),t.jsxs("span",{children:[f.tareWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Net Weight:"}),t.jsxs("span",{children:[f.netWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle KM:"}),t.jsx("span",{children:((me=f.vehicleKm)==null?void 0:me.toFixed(2))||"-"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Fuel Usage:"}),t.jsxs("span",{children:[((ue=f.fuelUsageLiters)==null?void 0:ue.toFixed(2))||"-"," L"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:Be(f.status),children:f.status})]}),f.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:f.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Close"})})]})})]})},yte="http://localhost:3000/api/v1",bte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Vf=async(r,e={})=>{const n=bte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${yte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},MA={createProcess:async r=>(await Vf("/waste-processes",{method:"POST",body:JSON.stringify(r)})).data,getProcessById:async r=>(await Vf(`/waste-processes/${r}`,{method:"GET"})).data,getAllProcesses:async(r,e,n,a)=>{let i="/waste-processes";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await Vf(i,{method:"GET"})).data},updateProcess:async(r,e)=>(await Vf(`/waste-processes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitProcess:async r=>(await Vf(`/waste-processes/${r}/submit`,{method:"PUT"})).data,verifyProcess:async r=>(await Vf(`/waste-processes/${r}/verify`,{method:"PUT"})).data,closeProcess:async r=>(await Vf(`/waste-processes/${r}/close`,{method:"PUT"})).data,deleteProcess:async r=>{await Vf(`/waste-processes/${r}`,{method:"DELETE"})}},wte=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(new Date().toISOString().split("T")[0]),[c,l]=k.useState("all"),[u,o]=k.useState(!1),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(null),[N,S]=k.useState([]),[j,_]=k.useState([]),[P,Z]=k.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),ee=k.useCallback(async()=>{try{const me=await Qa.getAllCompanies(void 0,!0);S(me)}catch(me){console.error("Failed to load companies:",me),y("Failed to load companies")}},[]),K=k.useCallback(async()=>{m(!0),y(null);try{const me=i,ue=i,le=(await MA.getAllProcesses(void 0,me,ue,c!=="all"?c:void 0)).map(Ae=>{const Ie=N.find(Pe=>Pe.id===Ae.companyId);return{id:Ae.id,companyId:Ae.companyId,companyName:(Ie==null?void 0:Ie.companyName)||"Unknown",processDate:Ae.processDate,incinerationWeightKg:Number(Ae.incinerationWeightKg)||0,autoclaveWeightKg:Number(Ae.autoclaveWeightKg)||0,status:Ae.status,notes:Ae.notes,createdOn:Ae.createdOn}});_(le)}catch(me){const ue=me instanceof Error?me.message:"Failed to load processes";y(ue),console.error("Error loading processes:",me)}finally{m(!1)}},[i,c,N]);k.useEffect(()=>{ee()},[ee]),k.useEffect(()=>{N.length>0&&K()},[i,c,N,K]);const ae=async me=>{if(me.preventDefault(),!P.companyId){y("Please select a company");return}if(P.incinerationWeightKg<=0){y("Incineration weight must be greater than zero");return}if(P.autoclaveWeightKg<=0){y("Autoclave weight must be greater than zero");return}try{if(m(!0),y(null),P.editingId){const ue={incinerationWeightKg:Number(P.incinerationWeightKg),autoclaveWeightKg:Number(P.autoclaveWeightKg),notes:P.notes};await MA.updateProcess(P.editingId,ue),w("Process updated successfully")}else{const ue={companyId:P.companyId,processDate:P.processDate,incinerationWeightKg:Number(P.incinerationWeightKg),autoclaveWeightKg:Number(P.autoclaveWeightKg),notes:P.notes};await MA.createProcess(ue),w("Process created successfully")}await K(),o(!1),ye(),setTimeout(()=>w(null),3e3)}catch(ue){const ve=ue instanceof Error?ue.message:"Failed to save process";y(ve),console.error("Error saving process:",ue)}finally{m(!1)}},D=async(me,ue)=>{try{m(!0),y(null),ue==="submit"?(await MA.submitProcess(me),w("Process submitted successfully")):ue==="verify"?(await MA.verifyProcess(me),w("Process verified successfully")):(await MA.closeProcess(me),w("Process closed successfully")),await K(),setTimeout(()=>w(null),3e3)}catch(ve){const le=ve instanceof Error?ve.message:"Failed to update status";y(le),console.error("Error updating status:",ve)}finally{m(!1)}},q=async me=>{if(window.confirm("Are you sure you want to delete this process?"))try{m(!0),y(null),await MA.deleteProcess(me),w("Process deleted successfully"),await K(),setTimeout(()=>w(null),3e3)}catch(ue){const ve=ue instanceof Error?ue.message:"Failed to delete process";y(ve),console.error("Error deleting process:",ue)}finally{m(!1)}},$=me=>{Z({companyId:me.companyId,processDate:me.processDate,incinerationWeightKg:me.incinerationWeightKg,autoclaveWeightKg:me.autoclaveWeightKg,notes:me.notes,editingId:me.id,editingStatus:me.status}),o(!0)},L=me=>{A(me),d(!0)},ye=()=>{Z({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},ne=j.filter(me=>{if(n.trim()){const ue=n.toLowerCase().trim();if(!me.companyName.toLowerCase().includes(ue))return!1}return!0}),Be=me=>{switch(me){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},Te=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5"}),t.jsx("path",{d:"M2 12l10 5 10-5"})]}),active:e.pathname==="/master"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname.startsWith("/transaction")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname==="/report"}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(me=>t.jsx("li",{children:t.jsxs(en,{to:me.path,className:`nav-link ${me.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:me.icon}),t.jsx("span",{className:"nav-label",children:me.label})]})},me.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Processing"})})}),b&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:b}),t.jsx("button",{onClick:()=>w(null),"aria-label":"Close success message",children:""})]}),x&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:x}),t.jsx("button",{onClick:()=>y(null),"aria-label":"Close error message",children:""})]}),g&&!j.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),t.jsxs("div",{className:"waste-process-page",children:[t.jsx("div",{className:"waste-process-header",children:t.jsx("h1",{className:"waste-process-title",children:"Waste Processing"})}),t.jsxs("div",{className:"waste-process-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"process-date",children:"Process Date"}),t.jsx("input",{id:"process-date",type:"date",value:i,onChange:me=>s(me.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:c,onChange:me=>l(me.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:n,onChange:me=>a(me.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-process-btn",onClick:()=>{ye(),o(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})]})]}),t.jsx("div",{className:"table-container",children:ne.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No processes found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"Total (kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ne.map(me=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(me.processDate).toLocaleDateString()}),t.jsx("td",{children:me.companyName}),t.jsx("td",{children:me.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:me.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:(Number(me.incinerationWeightKg)+Number(me.autoclaveWeightKg)).toFixed(2)}),t.jsx("td",{children:t.jsx("span",{className:Be(me.status),children:me.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>L(me),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),me.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>$(me),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>D(me.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>q(me.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),me.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>D(me.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),me.status==="Verified"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>D(me.id,"close"),title:"Close",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 6L6 18"}),t.jsx("path",{d:"M6 6l12 12"})]})})]})})]},me.id))})]})}),ne.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",ne.length," of ",j.length," Items"]})]})]}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:t.jsxs("div",{className:"modal-content",onClick:me=>me.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:P.editingId?"Edit Process":"Add Process"}),t.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:""})]}),t.jsxs("form",{onSubmit:ae,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyId",children:"Company *"}),t.jsxs("select",{id:"companyId",value:P.companyId,onChange:me=>Z({...P,companyId:me.target.value}),required:!0,disabled:!!P.editingId,children:[t.jsx("option",{value:"",children:"Select Company"}),N.filter(me=>me.status==="Active").map(me=>t.jsx("option",{value:me.id,children:me.companyName},me.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"processDate",children:"Process Date *"}),t.jsx("input",{id:"processDate",type:"date",value:P.processDate,onChange:me=>Z({...P,processDate:me.target.value}),required:!0,disabled:!!P.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:P.incinerationWeightKg,onChange:me=>Z({...P,incinerationWeightKg:parseFloat(me.target.value)||0}),required:!0,disabled:!!P.editingId&&P.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:P.autoclaveWeightKg,onChange:me=>Z({...P,autoclaveWeightKg:parseFloat(me.target.value)||0}),required:!0,disabled:!!P.editingId&&P.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:P.notes||"",onChange:me=>Z({...P,notes:me.target.value||null}),disabled:!!P.editingId&&P.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save"})]})]})]})}),h&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:me=>me.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Process Details"}),t.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:f.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Process Date:"}),t.jsx("span",{children:new Date(f.processDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight:"}),t.jsxs("span",{children:[(Number(f.incinerationWeightKg)+Number(f.autoclaveWeightKg)).toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:Be(f.status),children:f.status})]}),f.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:f.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Close"})})]})})]})},jte="http://localhost:3000/api/v1",Cte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},gp=async(r,e={})=>{const n=Cte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${jte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?c=l.message.join(", "):typeof l.message=="string"?c=l.message:l.error&&(c=typeof l.error=="string"?l.error:JSON.stringify(l.error)),i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c=l.message||l.error||"Forbidden: You do not have permission to access this resource":i.status===500&&(c=l.message||l.error||"Internal server error")}catch{i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c="Forbidden: You do not have permission to access this resource":i.status===500&&(c="Internal server error")}throw new Error(c)}return(await i.json()).data},NF=async r=>{const n=new URLSearchParams().toString();return gp(`/invoices${n?`?${n}`:""}`)},q0=async r=>{const e=r?{...r}:{};e.fromDate&&!e.invoiceFromDate&&(e.invoiceFromDate=e.fromDate),e.toDate&&!e.invoiceToDate&&(e.invoiceToDate=e.toDate),e.search&&!e.searchText&&(e.searchText=e.search),e.sortDir&&!e.sortOrder&&(e.sortOrder=e.sortDir);const n={};return Object.keys(e).forEach(a=>{const i=e[a];i!=null&&i!==""&&(n[a]=i)}),gp("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},Nte=async r=>gp("/invoices",{method:"POST",body:JSON.stringify(r)}),Ste=async(r,e)=>gp(`/invoices/${r}`,{method:"PUT",body:JSON.stringify(e)}),Bte=async r=>gp("/invoices/generate",{method:"POST",body:JSON.stringify(r)}),Ete=async r=>gp("/invoices/generate-weight",{method:"POST",body:JSON.stringify(r)}),Ite=async r=>gp("/invoices/generate-month",{method:"POST",body:JSON.stringify(r)}),Tte="http://localhost:3000/api/v1",_te=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},$g=async(r,e={})=>{const n=_te(),a={"Content-Type":"application/json",...e.headers};if(n&&(a.Authorization=`Bearer ${n}`),e.body&&r.includes("/payments"))try{const c=JSON.parse(e.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",r),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const i=await fetch(`${Tte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data};var Ja=(r=>(r.CASH="Cash",r.CHEQUE="Cheque",r.BANK_TRANSFER="Bank Transfer",r.UPI="UPI",r.NEFT="NEFT",r.RTGS="RTGS",r.OTHER="Other",r))(Ja||{});const SF=async r=>$g("/payments",{method:"POST",body:JSON.stringify(r)}),Ote=async r=>{const e=new URLSearchParams;r!=null&&r.companyId&&e.append("companyId",r.companyId),r!=null&&r.status&&e.append("status",r.status),r!=null&&r.paymentDateFrom&&e.append("paymentDateFrom",r.paymentDateFrom),r!=null&&r.paymentDateTo&&e.append("paymentDateTo",r.paymentDateTo);const n=`/payments${e.toString()?`?${e.toString()}`:""}`;return $g(n,{method:"GET"})},N6=async r=>$g(`/payments/receipts/${r}`,{method:"GET"}),kte=async r=>{const e=new URLSearchParams;r&&e.append("companyId",r);const n=`/payments/without-receipt${e.toString()?`?${e.toString()}`:""}`;return $g(n,{method:"GET"})},Pte=async r=>$g("/payments/receipts/manual",{method:"POST",body:JSON.stringify(r)}),Fte=()=>{const{logout:r}=pa(),e=_n(),n=ti(),[a,i]=k.useState(""),[s,c]=k.useState("All"),[l,u]=k.useState(!1),[o,h]=k.useState(!1),[d,f]=k.useState(!1),[A,g]=k.useState(!1),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),[_,P]=k.useState(!1),[Z,ee]=k.useState([]),[K,ae]=k.useState(!1),[D,q]=k.useState(null),[$,L]=k.useState(!1),[ye,ne]=k.useState(null),[Be,Te]=k.useState(new Set),[me,ue]=k.useState(null),[ve,le]=k.useState(null),[Ae,Ie]=k.useState(!1),[Pe,Ce]=k.useState(null),[ce,X]=k.useState(null),[de,se]=k.useState(!1),We=()=>{se(!de)},[Re,Ee]=k.useState([]),[ie,Le]=k.useState([]),[Ze,jt]=k.useState([]);k.useEffect(()=>{Lt()},[]);const Lt=async()=>{Ie(!0),Ce(null);try{const bt=await Qa.getAllCompanies(!0),Sr=bt.map(Xr=>({id:Xr.id,companyCode:Xr.companyCode,companyName:Xr.companyName,status:Xr.status}));Ee(Sr);const Dn=(await ks.getAllHcfs(void 0,!0)).map(Xr=>{var Un;return{id:Xr.id,hcfCode:Xr.hcfCode,hcfName:Xr.hcfName,companyName:((Un=bt.find(Ur=>Ur.id===Xr.companyId))==null?void 0:Un.companyName)||"",status:Xr.status||"Active"}});Le(Dn),await Ct(Sr,Dn)}catch(bt){console.error("Error loading data:",bt);const Sr=bt.message||"Failed to load data";Sr.includes("Internal server error")||Sr.includes("500")?Ce("Internal server error. Please check the backend logs."):Ce(Sr)}finally{Ie(!1)}},Ct=async(bt,Sr)=>{try{const dn=await NF();console.log("Loaded invoices:",dn.length),console.log("Companies available:",bt.length),console.log("HCFs available:",Sr.length);const Dn=dn.map(Xr=>{var ei,ls,Cn,Bs,ji,vi,Ui,Bi;const Un=bt.find(Es=>Es.id===Xr.companyId),Ur=Sr.find(Es=>Es.id===Xr.hcfId);return dn.indexOf(Xr)===0&&console.log("First invoice mapping:",{invoiceId:Xr.invoiceId,companyId:Xr.companyId,hcfId:Xr.hcfId,foundCompany:!!Un,foundHcf:!!Ur,companyName:Un==null?void 0:Un.companyName,hcfCode:Ur==null?void 0:Ur.hcfCode}),{...Xr,id:Xr.invoiceId,invoiceNum:Xr.invoiceNumber,invoiceStatus:Xr.status,companyName:(Un==null?void 0:Un.companyName)||Xr.companyName||"",hcfCode:(Ur==null?void 0:Ur.hcfCode)||Xr.hcfCode||"",invoiceDate:Xr.invoiceDate||"",dueDate:Xr.dueDate||"",billingDays:Xr.billingDays!==null&&Xr.billingDays!==void 0?Xr.billingDays.toString():"",bedCount:Xr.bedCount!==null&&Xr.bedCount!==void 0?Xr.bedCount.toString():"",bedRate:Xr.bedRate!==null&&Xr.bedRate!==void 0?Xr.bedRate.toString():"",weightInKg:Xr.weightInKg!==null&&Xr.weightInKg!==void 0?Xr.weightInKg.toString():"",kgRate:Xr.kgRate!==null&&Xr.kgRate!==void 0?Xr.kgRate.toString():"",lumpsumAmount:Xr.lumpsumAmount!==null&&Xr.lumpsumAmount!==void 0?Xr.lumpsumAmount.toString():"",taxableValue:((ei=Xr.taxableValue)==null?void 0:ei.toString())||"",igst:((ls=Xr.igst)==null?void 0:ls.toString())||"",cgst:((Cn=Xr.cgst)==null?void 0:Cn.toString())||"",sgst:((Bs=Xr.sgst)==null?void 0:Bs.toString())||"",roundOff:((ji=Xr.roundOff)==null?void 0:ji.toString())||"",invoiceValue:((vi=Xr.invoiceValue)==null?void 0:vi.toString())||"",totalPaidAmount:((Ui=Xr.totalPaidAmount)==null?void 0:Ui.toString())||"",balanceAmount:((Bi=Xr.balanceAmount)==null?void 0:Bi.toString())||""}});console.log("Mapped invoices:",Dn.length),jt(Dn),Dn.length>0&&Ce(null)}catch(dn){console.error("Error loading invoices:",dn);const Dn=dn.message||"Failed to load invoices";if(Dn.includes("Unauthorized")||Dn.includes("Forbidden")||Dn.includes("permission")){Ce("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw Dn.includes("Internal server error")||Dn.includes("500")?Ce("Internal server error. Please check the backend logs."):Ce(Dn),dn}},Xt=async()=>{await Ct(Re,ie)},_r=Ze.filter(bt=>{var Dn;const Sr=bt.invoiceNum.toLowerCase().includes(a.toLowerCase())||bt.companyName.toLowerCase().includes(a.toLowerCase())||bt.hcfCode.toLowerCase().includes(a.toLowerCase())||((Dn=ie.find(Xr=>Xr.hcfCode===bt.hcfCode))==null?void 0:Dn.hcfName.toLowerCase().includes(a.toLowerCase())),dn=s==="All"||bt.invoiceStatus===s;return Sr&&dn}),Or=()=>{ue(null),u(!0)},He=bt=>{le(bt),h(!0)},Zt=bt=>{bt.invoiceStatus==="Draft"?(ue(bt),u(!0)):alert("Only Draft invoices can be edited.")},Bt=bt=>{if(bt.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},$r=bt=>{window.confirm("Are you sure you want to cancel this invoice?")&&jt(Ze.map(Sr=>Sr.id===bt.id?{...Sr,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:Sr))},pr=async bt=>{Ie(!0),Ce(null),X(null);try{const Sr=await recordPayment(bt);X(`Payment recorded successfully! Receipt Number: ${Sr.data.receipt.receiptNumber}`);const dn=await N6(Sr.data.receipt.receiptId);q(dn.data),ae(!0),await Xt(),L(!1),ne(null)}catch(Sr){console.error("Error recording payment:",Sr);const dn=Sr.message||"Failed to record payment";Ce(dn)}finally{Ie(!1)}},on=bt=>bt==="Generated"?"DUE":bt,Yr=bt=>bt.invoiceStatus==="Generated"||bt.invoiceStatus==="Partially Paid",qr=bt=>Be.has(bt),Ir=bt=>{if(!Yr(bt))return;const Sr=new Set(Be);Sr.has(bt.id)?Sr.delete(bt.id):Sr.add(bt.id),Te(Sr)},dr=()=>{if(_r.filter(dn=>Be.has(dn.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const Sr=Array.from(Be);n(`/finance/payment?invoices=${Sr.join(",")}`)},Cr=()=>{const bt=_r.filter(dn=>Be.has(dn.id)),Sr=bt.reduce((dn,Dn)=>dn+parseFloat(Dn.balanceAmount||"0"),0);return{count:bt.length,totalBalance:Sr}},Vr=async bt=>{Ie(!0),Ce(null),X(null);try{const Sr=await SF(bt);X(`Payment processed successfully! Receipt Number: ${Sr.data.receipt.receiptNumber}`);const dn=await N6(Sr.data.receipt.receiptId);q(dn.data),ae(!0),await Xt(),P(!1)}catch(Sr){console.error("Error processing payment:",Sr);const dn=Sr.message||"Failed to process payment";Ce(dn)}finally{Ie(!1)}},zr=bt=>{window.print()},vn=()=>{alert("Export functionality will be implemented")},Wr=async(bt,Sr=!1)=>{Ie(!0),Ce(null),X(null);try{const dn=Re.find(Xr=>Xr.companyName===bt.companyName),Dn=ie.find(Xr=>Xr.hcfCode===bt.hcfCode);if(!dn||!Dn)throw new Error("Company or HCF not found");if(me){const Xr={invoiceDate:bt.invoiceDate,dueDate:bt.dueDate,billingType:bt.billingType,billingDays:bt.billingDays?parseInt(bt.billingDays):void 0,billingOption:bt.billingOption,bedCount:bt.bedCount?parseInt(bt.bedCount):void 0,bedRate:bt.bedRate?parseFloat(bt.bedRate):void 0,weightInKg:bt.weightInKg?parseFloat(bt.weightInKg):void 0,kgRate:bt.kgRate?parseFloat(bt.kgRate):void 0,lumpsumAmount:bt.lumpsumAmount?parseFloat(bt.lumpsumAmount):void 0,taxableValue:bt.taxableValue?parseFloat(bt.taxableValue):void 0,igst:bt.igst?parseFloat(bt.igst):void 0,cgst:bt.cgst?parseFloat(bt.cgst):void 0,sgst:bt.sgst?parseFloat(bt.sgst):void 0,roundOff:bt.roundOff?parseFloat(bt.roundOff):void 0,invoiceValue:bt.invoiceValue?parseFloat(bt.invoiceValue):void 0,notes:bt.notes};await Ste(me.id,Xr),X("Invoice updated successfully")}else{const Xr={companyId:dn.id,hcfId:Dn.id,invoiceDate:bt.invoiceDate||new Date().toISOString().split("T")[0],dueDate:bt.dueDate||new Date().toISOString().split("T")[0],billingType:bt.billingType||"Monthly",billingDays:bt.billingDays?parseInt(bt.billingDays):void 0,billingOption:bt.billingOption||"Bed-wise",generationType:"Manual",bedCount:bt.bedCount?parseInt(bt.bedCount):void 0,bedRate:bt.bedRate?parseFloat(bt.bedRate):void 0,weightInKg:bt.weightInKg?parseFloat(bt.weightInKg):void 0,kgRate:bt.kgRate?parseFloat(bt.kgRate):void 0,lumpsumAmount:bt.lumpsumAmount?parseFloat(bt.lumpsumAmount):void 0,taxableValue:bt.taxableValue?parseFloat(bt.taxableValue):void 0,igst:bt.igst?parseFloat(bt.igst):void 0,cgst:bt.cgst?parseFloat(bt.cgst):void 0,sgst:bt.sgst?parseFloat(bt.sgst):void 0,roundOff:bt.roundOff?parseFloat(bt.roundOff):void 0,invoiceValue:bt.invoiceValue?parseFloat(bt.invoiceValue):void 0,notes:bt.notes};await Nte(Xr),X("Invoice created successfully")}await Xt(),u(!1),ue(null)}catch(dn){console.error("Error saving invoice:",dn);const Dn=dn.message||"Failed to save invoice";Dn.includes("Internal server error")||Dn.includes("500")?Ce("Internal server error. Please check the backend logs."):Ce(Dn)}finally{Ie(!1)}},$n=async bt=>{Ie(!0),Ce(null),X(null);try{const Sr=await Bte(bt);if(Sr.summary.success>0&&X(`Generated ${Sr.summary.success} invoice(s) successfully. ${Sr.summary.failed} failed.`),Sr.failed.length>0){const dn=Sr.failed.map(Dn=>`${Dn.hcfCode}: ${Dn.reason}`).join(", ");Ce(`Some invoices failed: ${dn}`)}await Xt(),f(!1)}catch(Sr){console.error("Error generating invoices:",Sr);const dn=Sr.message||"Failed to generate invoices";dn.includes("Internal server error")||dn.includes("500")?Ce("Internal server error. Please check the backend logs."):Ce(dn)}finally{Ie(!1)}},Lr=async bt=>{Ie(!0),Ce(null),X(null);try{const Sr=await Ete(bt);if(Sr.summary.success>0&&X(`Generated ${Sr.summary.success} invoice(s) successfully (Weight-based). ${Sr.summary.failed} failed.`),Sr.failed.length>0){const dn=Sr.failed.map(Dn=>`${Dn.hcfCode}: ${Dn.reason}`).join(", ");Ce(`Some invoices failed: ${dn}`)}await Xt(),g(!1)}catch(Sr){console.error("Error generating weight-based invoices:",Sr);const dn=Sr.message||"Failed to generate invoices";dn.includes("Internal server error")||dn.includes("500")?Ce("Internal server error. Please check the backend logs."):Ce(dn)}finally{Ie(!1)}},Dr=async bt=>{Ie(!0),Ce(null),X(null);try{const Sr=await Ite(bt);if(X(`Generated ${Sr.summary.success} invoice(s) successfully. ${Sr.summary.failed} failed. ${Sr.summary.skipped||0} skipped.`),Sr.skipped&&Sr.skipped.length>0&&(j({skipped:Sr.skipped}),N(!0)),Sr.failed.length>0){const dn=Sr.failed.map(Dn=>`${Dn.hcfCode}: ${Dn.reason}`).join(", ");Ce(`Some invoices failed: ${dn}`)}await Xt(),x(!1),b(!1)}catch(Sr){console.error("Error generating month-based invoices:",Sr);const dn=Sr.message||"Failed to generate invoices";dn.includes("Internal server error")||dn.includes("500")?Ce("Internal server error during invoice generation. Please check the backend logs."):Ce(dn)}finally{Ie(!1)}},jn=bt=>{const Sr=parseFloat(bt.taxableValue||"0"),dn=parseFloat(bt.igst||"0"),Dn=parseFloat(bt.cgst||"0"),Xr=parseFloat(bt.sgst||"0"),Un=parseFloat(bt.roundOff||"0");return(Sr+dn+Dn+Xr+Un).toFixed(2)},cn=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${de?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!de&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:We,"aria-label":de?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:de?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:cn.map(bt=>t.jsx("li",{children:t.jsxs(en,{to:bt.path,className:`nav-link ${bt.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:bt.icon}),!de&&t.jsx("span",{className:"nav-label",children:bt.label})]})},bt.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!de&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!de&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Invoice Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Invoice Management"})}),Pe&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[Pe,t.jsx("button",{onClick:()=>Ce(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),ce&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[ce,t.jsx("button",{onClick:()=>X(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search Invoice...",value:a,onChange:bt=>i(bt.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:bt=>c(bt.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"DUE"}),t.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),t.jsxs("button",{className:"export-btn",onClick:vn,disabled:Ae,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>x(!0),disabled:Ae,style:{marginRight:"8px",backgroundColor:"#3b82f6"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Bed / Lumpsum"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>b(!0),disabled:Ae,style:{marginRight:"8px",backgroundColor:"#10b981"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Weight Based"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:Or,disabled:Ae,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Invoice"]})]}),Ae&&!Ze.length&&t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),t.jsx("div",{className:"invoice-table-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice Number"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{children:"Invoice Value"}),t.jsx("th",{children:"Paid Amount"}),t.jsx("th",{children:"Balance"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:_r.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:11,className:"empty-message",children:"No invoice records found"})}):_r.map(bt=>{const Sr=ie.find(Xr=>Xr.hcfCode===bt.hcfCode),dn=Yr(bt),Dn=qr(bt.id);return t.jsxs("tr",{style:{opacity:bt.invoiceStatus==="Paid"?.6:1},children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:Dn,onChange:()=>Ir(bt),disabled:!dn,title:dn?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),t.jsx("td",{children:bt.invoiceNum||"-"}),t.jsx("td",{children:bt.companyName||"-"}),t.jsx("td",{children:Sr?`${bt.hcfCode} - ${Sr.hcfName}`:bt.hcfCode}),t.jsx("td",{children:bt.invoiceDate||"-"}),t.jsx("td",{children:bt.dueDate||"-"}),t.jsxs("td",{children:["",bt.invoiceValue||"0"]}),t.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(bt.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(bt.balanceAmount||"0").toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${bt.invoiceStatus.toLowerCase().replace(" ","-")}`,children:on(bt.invoiceStatus)})}),t.jsx("td",{children:t.jsxs("div",{className:"invoice-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>He(bt),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),bt.invoiceStatus==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Zt(bt),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>Bt(bt),title:"Generate",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>zr(),title:"Download PDF",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),bt.invoiceStatus!=="Cancelled"&&bt.invoiceStatus!=="Paid"&&t.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>$r(bt),title:"Cancel",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},bt.id)})})]})}),Be.size>0&&t.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),t.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:Cr().count})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",Cr().totalBalance.toFixed(2)]})]})]}),t.jsx("div",{style:{flexShrink:0},children:t.jsxs("button",{onClick:dr,disabled:Be.size===0,title:Be.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:Be.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:Be.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:bt=>{Be.size>0&&(bt.currentTarget.style.background="#059669",bt.currentTarget.style.transform="translateY(-1px)",bt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:bt=>{Be.size>0&&(bt.currentTarget.style.background="#10b981",bt.currentTarget.style.transform="translateY(0)",bt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),t.jsxs("div",{className:"invoice-pagination-info",style:{marginBottom:Be.size>0?"80px":"0"},children:["Showing ",_r.length," of ",Ze.length," Items"]})]})]}),l&&t.jsx(Rte,{invoice:me,companies:Re.filter(bt=>bt.status==="Active"),hcfs:ie.filter(bt=>bt.status==="Active"),onClose:()=>{u(!1),ue(null)},onSave:Wr,calculateInvoiceValue:jn}),o&&ve&&t.jsx(Lte,{invoice:ve,hcfs:ie,onClose:()=>{h(!1),le(null)},onPrint:zr}),_&&t.jsx(Hte,{invoices:Z,companies:Re.filter(bt=>bt.status==="Active"),onClose:()=>{P(!1),ee([])},onProcessPayment:Vr,loading:Ae}),$&&ye&&t.jsx(Qte,{invoice:ye,onClose:()=>{L(!1),ne(null)},onSubmit:pr,loading:Ae}),K&&D&&t.jsx(Wte,{receiptData:D,onClose:()=>{ae(!1),q(null)}}),d&&t.jsx(Dte,{companies:Re.filter(bt=>bt.status==="Active"),hcfs:ie.filter(bt=>bt.status==="Active"),onClose:()=>f(!1),onGenerate:$n,loading:Ae}),A&&t.jsx(Mte,{companies:Re.filter(bt=>bt.status==="Active"),hcfs:ie.filter(bt=>bt.status==="Active"),onClose:()=>g(!1),onGenerate:Lr,loading:Ae}),m&&t.jsx(S6,{companies:Re.filter(bt=>bt.status==="Active"),onClose:()=>x(!1),onGenerate:Dr,loading:Ae,generationMode:"Bed/Lumpsum"}),y&&t.jsx(S6,{companies:Re.filter(bt=>bt.status==="Active"),onClose:()=>b(!1),onGenerate:Dr,loading:Ae,generationMode:"Weight Based"}),w&&S&&t.jsx(Ute,{skipped:S.skipped,onClose:()=>{N(!1),j(null)}})]})},Dte=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=k.useState({companyId:"",billingPeriodStart:"",billingPeriodEnd:"",billingType:"Monthly",dueDays:30}),[l,u]=k.useState([]),o=s.companyId?e.filter(d=>{const f=r.find(A=>A.id===s.companyId);return f&&d.companyName===f.companyName}):e,h=d=>{d.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Auto Generate Invoices"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:d=>{c({...s,companyId:d.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:d=>{const f=Array.from(d.target.selectedOptions,A=>A.value);u(f)},style:{minHeight:"100px"},children:o.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period Start *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodStart,onChange:d=>c({...s,billingPeriodStart:d.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period End *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodEnd,onChange:d=>c({...s,billingPeriodEnd:d.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option Filter"}),t.jsxs("select",{value:s.billingOption||"",onChange:d=>c({...s,billingOption:d.target.value}),children:[t.jsx("option",{value:"",children:"All Options"}),t.jsx("option",{value:"Bed-wise",children:"Bed-wise"}),t.jsx("option",{value:"Weight-wise",children:"Weight-wise"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Filter HCFs by billing option (optional)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:d=>c({...s,billingType:d.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:d=>c({...s,dueDays:parseInt(d.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices"})]})]})]})})},Mte=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=k.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),[l,u]=k.useState([]),o=s.companyId?e.filter(d=>{const f=r.find(A=>A.id===s.companyId);return f&&d.companyName===f.companyName}):e,h=d=>{d.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Invoice (Weight-Based)"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:d=>{c({...s,companyId:d.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:d=>{const f=Array.from(d.target.selectedOptions,A=>A.value);u(f)},style:{minHeight:"100px"},children:o.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date From *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateFrom,onChange:d=>c({...s,pickupDateFrom:d.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Start date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date To *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateTo,onChange:d=>c({...s,pickupDateTo:d.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"End date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:d=>c({...s,billingType:d.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:d=>c({...s,dueDays:parseInt(d.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices (Weight-Based)"})]})]})]})})},Rte=({invoice:r,companies:e,hcfs:n,onClose:a,onSave:i,calculateInvoiceValue:s})=>{const[c,l]=k.useState(r||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),u=c.companyName?n.filter(A=>A.companyName===c.companyName):n,o=(A,g)=>{const m={...c,[A]:g};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(A)){const w=s(m);m.invoiceValue=w}const x=parseFloat(m.invoiceValue||"0"),y=parseFloat(m.totalPaidAmount||"0"),b=(x-y).toFixed(2);m.balanceAmount=b,l(m)},h=A=>{A.preventDefault(),i(c,!1)},d=A=>{if(A.preventDefault(),!c.companyName||!c.hcfCode){alert("Please fill in all required fields");return}window.confirm("Are you sure you want to generate this invoice? This action cannot be undone.")&&i(c,!0)},f=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&l({companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Invoice":"Create Invoice"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"invoice-form",onSubmit:h,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:A=>{o("companyName",A.target.value),o("hcfCode","")},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(A=>t.jsx("option",{value:A.companyName,children:A.companyName},A.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:A=>o("hcfCode",A.target.value),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),u.map(A=>t.jsxs("option",{value:A.hcfCode,children:[A.hcfCode," - ",A.hcfName]},A.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Number *"}),t.jsx("input",{type:"text",value:c.invoiceNum||"",onChange:A=>o("invoiceNum",A.target.value),required:!0,placeholder:"e.g., INV-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",value:c.invoiceDate||"",onChange:A=>o("invoiceDate",A.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Date *"}),t.jsx("input",{type:"date",value:c.dueDate||"",onChange:A=>o("dueDate",A.target.value),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"",onChange:A=>o("billingType",A.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Days"}),t.jsx("input",{type:"text",value:c.billingDays||"",onChange:A=>o("billingDays",A.target.value),placeholder:"Enter billing days"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:c.bedCount||"",onChange:A=>o("bedCount",A.target.value),placeholder:"Enter bed count"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:c.bedRate||"",onChange:A=>o("bedRate",A.target.value),placeholder:"Enter bed rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight in Kg"}),t.jsx("input",{type:"text",value:c.weightInKg||"",onChange:A=>o("weightInKg",A.target.value),placeholder:"Enter weight in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:c.kgRate||"",onChange:A=>o("kgRate",A.target.value),placeholder:"Enter kg rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum Amount"}),t.jsx("input",{type:"text",value:c.lumpsumAmount||"",onChange:A=>o("lumpsumAmount",A.target.value),placeholder:"Enter lumpsum amount"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Tax & Amount Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Taxable Value *"}),t.jsx("input",{type:"text",value:c.taxableValue||"",onChange:A=>o("taxableValue",A.target.value),required:!0,placeholder:"Enter taxable value"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IGST"}),t.jsx("input",{type:"text",value:c.igst||"",onChange:A=>o("igst",A.target.value),placeholder:"Enter IGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CGST"}),t.jsx("input",{type:"text",value:c.cgst||"",onChange:A=>o("cgst",A.target.value),placeholder:"Enter CGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"SGST"}),t.jsx("input",{type:"text",value:c.sgst||"",onChange:A=>o("sgst",A.target.value),placeholder:"Enter SGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Round Off"}),t.jsx("input",{type:"text",value:c.roundOff||"0",onChange:A=>o("roundOff",A.target.value),placeholder:"Enter round off"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Value"}),t.jsx("input",{type:"text",value:c.invoiceValue||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Paid Amount"}),t.jsx("input",{type:"text",value:c.totalPaidAmount||"0",onChange:A=>o("totalPaidAmount",A.target.value),placeholder:"Enter paid amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Balance Amount"}),t.jsx("input",{type:"text",value:c.balanceAmount||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:f,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Draft"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:d,children:"Generate Invoice"})]})]})]})})},Lte=({invoice:r,hcfs:e,onClose:n,onPrint:a})=>{const i=e.find(l=>l.hcfCode===r.hcfCode),s=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",r.invoiceNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"invoice-view-content",children:[t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Company Name:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"HCF Code:"}),t.jsx("span",{children:i?`${r.hcfCode} - ${i.hcfName}`:r.hcfCode})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Number:"}),t.jsx("span",{children:r.invoiceNum||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Date:"}),t.jsx("span",{children:r.invoiceDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Due Date:"}),t.jsx("span",{children:r.dueDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${r.invoiceStatus.toLowerCase().replace(" ","-")}`,children:r.invoiceStatus})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Type:"}),t.jsx("span",{children:r.billingType||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Days:"}),t.jsx("span",{children:r.billingDays||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Count:"}),t.jsx("span",{children:r.bedCount||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Rate:"}),t.jsxs("span",{children:["",r.bedRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Weight in Kg:"}),t.jsxs("span",{children:[r.weightInKg||"-"," kg"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Kg Rate:"}),t.jsxs("span",{children:["",r.kgRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Lumpsum Amount:"}),t.jsxs("span",{children:["",r.lumpsumAmount||"-"]})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Taxable Value:"}),t.jsxs("span",{children:["",r.taxableValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"IGST:"}),t.jsxs("span",{children:["",r.igst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"CGST:"}),t.jsxs("span",{children:["",r.cgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"SGST:"}),t.jsxs("span",{children:["",r.sgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Round Off:"}),t.jsxs("span",{children:["",r.roundOff||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Invoice Value:"}),t.jsxs("span",{children:["",r.invoiceValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Total Paid Amount:"}),t.jsxs("span",{children:["",r.totalPaidAmount||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Balance Amount:"}),t.jsxs("span",{children:["",r.balanceAmount||"0"]})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(r.invoiceStatus==="Generated"||r.invoiceStatus==="Partially Paid"||r.invoiceStatus==="Paid")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:s,children:"Add Receipt"})]}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(r),children:"Print / Download PDF"})]})]})})},S6=({companies:r,onClose:e,onGenerate:n,loading:a,generationMode:i})=>{const s=new Date,c=s.getMonth()+1,l=s.getFullYear();let u=c-1,o=l;u===0&&(u=12,o=l-1);const[h,d]=k.useState({companyId:"",month:u,year:o,invoiceDate:new Date().toISOString().split("T")[0],generationMode:i,dueDays:30}),f=["January","February","March","April","May","June","July","August","September","October","November","December"],A=g=>{g.preventDefault(),n(h)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Auto Generate Invoices (",i,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:A,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:h.companyId,onChange:g=>d({...h,companyId:g.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Month *"}),t.jsx("select",{required:!0,value:h.month,onChange:g=>d({...h,month:parseInt(g.target.value)}),children:f.map((g,m)=>t.jsxs("option",{value:m+1,disabled:m+1!==u,children:[g," ",m+1===u?"(Previous Month)":""]},m+1))}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Only previous month (",f[u-1]," ",o,") can be selected"]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Year *"}),t.jsx("input",{type:"number",required:!0,min:"2000",max:"2100",value:h.year,onChange:g=>d({...h,year:parseInt(g.target.value)}),disabled:!0}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Year is automatically set to previous month's year"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",required:!0,value:h.invoiceDate,onChange:g=>d({...h,invoiceDate:g.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Enter the invoice date"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:h.dueDays||30,onChange:g=>d({...h,dueDays:parseInt(g.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Generating...":`Generate Invoices (${i})`})]})]})]})})},Ute=({skipped:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f5f5f5"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),t.jsx("tbody",{children:r.map((n,a)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"OK"})})]})}),Hte=({invoices:r,companies:e,onClose:n,onProcessPayment:a,loading:i})=>{const s=()=>{if(r.length===0)return"";const m=r[0],x=e.find(y=>y.companyName===m.companyName);return(x==null?void 0:x.id)||""},[c,l]=k.useState({companyId:s(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:Ja.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[u,o]=k.useState("FIFO"),[h,d]=k.useState({}),f=r.reduce((m,x)=>m+parseFloat(x.balanceAmount||"0"),0);k.useEffect(()=>{l(m=>({...m,paymentAmount:u==="FIFO"?f:Object.values(h).reduce((x,y)=>x+y,0)}))},[u,h,f]);const A=m=>{if(m.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:u==="FIFO"?[]:r.map(y=>({invoiceId:y.id,allocatedAmount:h[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},g=(m,x)=>{const y=r.find(N=>N.id===m),b=parseFloat((y==null?void 0:y.balanceAmount)||"0"),w=Math.min(Math.max(0,x),b);d(N=>({...N,[m]:w}))};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Make Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:A,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",r.length,")"]}),t.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),t.jsx("tbody",{children:r.map(m=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:m.invoiceNum}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.invoiceValue||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(m.balanceAmount||"0").toFixed(2)]})]},m.id))}),t.jsx("tfoot",{children:t.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[t.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),t.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",f.toFixed(2)]})]})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:c.companyId,onChange:m=>l({...c,companyId:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.id,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:m=>l({...c,paymentDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:c.paymentMode,onChange:m=>l({...c,paymentMode:m.target.value}),children:[t.jsx("option",{value:Ja.CASH,children:"Cash"}),t.jsx("option",{value:Ja.CHEQUE,children:"Cheque"}),t.jsx("option",{value:Ja.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:Ja.UPI,children:"UPI"}),t.jsx("option",{value:Ja.NEFT,children:"NEFT"}),t.jsx("option",{value:Ja.RTGS,children:"RTGS"}),t.jsx("option",{value:Ja.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:m=>l({...c,paymentAmount:parseFloat(m.target.value)||0}),disabled:u==="FIFO"}),u==="FIFO"&&t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===Ja.CHEQUE||c.paymentMode===Ja.BANK_TRANSFER||c.paymentMode===Ja.NEFT||c.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:m=>l({...c,referenceNumber:m.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:c.bankName||"",onChange:m=>l({...c,bankName:m.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:m=>l({...c,chequeNumber:m.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:c.chequeDate||"",onChange:m=>l({...c,chequeDate:m.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:c.notes||"",onChange:m=>l({...c,notes:m.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),t.jsx("div",{style:{marginBottom:"15px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:u==="FIFO",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),t.jsx("div",{children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:u==="Manual",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),u==="Manual"&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),t.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map(m=>{const x=parseFloat(m.balanceAmount||"0"),y=h[m.id]||0;return t.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[t.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:m.invoiceNum}),t.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),t.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:b=>g(m.id,parseFloat(b.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},m.id)})}),t.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[t.jsx("strong",{children:"Total Allocated:"})," ",Object.values(h).reduce((m,x)=>m+x,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Processing...":"Process Payment"})]})]})]})})},Qte=({invoice:r,onClose:e,onSubmit:n,loading:a})=>{const[i,s]=k.useState({invoiceId:r.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(r.balanceAmount||"0"),paymentMode:Ja.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async l=>{l.preventDefault();const u=parseFloat(r.balanceAmount||"0");if(i.paymentAmount>u){alert(`Payment amount cannot exceed invoice balance of ${u.toFixed(2)}`);return}if(i.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:c,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),t.jsxs("div",{style:{fontSize:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice #:"}),t.jsx("span",{style:{fontWeight:600},children:r.invoiceNum})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice Value:"}),t.jsxs("span",{children:["",parseFloat(r.invoiceValue||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Paid Amount:"}),t.jsxs("span",{children:["",parseFloat(r.totalPaidAmount||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[t.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),t.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(r.balanceAmount||"0").toFixed(2)]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:i.paymentDate,onChange:l=>s({...i,paymentDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:i.paymentMode,onChange:l=>s({...i,paymentMode:l.target.value}),children:[t.jsx("option",{value:Ja.CASH,children:"Cash"}),t.jsx("option",{value:Ja.CHEQUE,children:"Cheque"}),t.jsx("option",{value:Ja.NEFT,children:"NEFT"}),t.jsx("option",{value:Ja.RTGS,children:"RTGS"}),t.jsx("option",{value:Ja.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:Ja.UPI,children:"UPI"}),t.jsx("option",{value:Ja.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(r.balanceAmount||"0"),value:i.paymentAmount,onChange:l=>s({...i,paymentAmount:parseFloat(l.target.value)||0})}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(r.balanceAmount||"0").toFixed(2)]})]}),(i.paymentMode===Ja.CHEQUE||i.paymentMode===Ja.BANK_TRANSFER||i.paymentMode===Ja.NEFT||i.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:i.referenceNumber||"",onChange:l=>s({...i,referenceNumber:l.target.value||null}),placeholder:"Transaction/Reference number"})]}),i.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.bankName||"",onChange:l=>s({...i,bankName:l.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:i.chequeNumber||"",onChange:l=>s({...i,chequeNumber:l.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:i.chequeDate||"",onChange:l=>s({...i,chequeDate:l.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},Wte=({receiptData:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",r.receiptNumber]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),t.jsx("span",{children:r.receiptDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),t.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",r.totalAmount.toFixed(2)]})]}),r.payment&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),t.jsx("span",{children:r.payment.paymentMode})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),t.jsx("span",{children:r.payment.paymentDate})]})]})]}),r.invoices&&r.invoices.length>0&&t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),t.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),t.jsx("tbody",{children:r.invoices.map((n,a)=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),t.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:t.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",t.jsx("strong",{children:r.receiptNumber})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),$te=()=>{var ae;const{logout:r}=pa(),e=ti(),[n]=K4(),a=n.get("invoices")||"",i=a.split(",").filter(D=>D),[s,c]=k.useState([]),[l,u]=k.useState([]),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState(null),[m,x]=k.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:Ja.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,b]=k.useState(!1),[w,N]=k.useState(!1),S=k.useRef(0),j=k.useRef(null);k.useEffect(()=>{_()},[a]);const _=async()=>{var D,q;if(i.length===0){f("No invoices selected");return}h(!0),f(null);try{const $=await Qa.getAllCompanies();u($.filter(Te=>Te.status==="Active"));const ye=(await NF()).filter(Te=>i.includes(Te.invoiceId));if(ye.length===0){f("Selected invoices not found");return}const ne=ye.map(Te=>({id:Te.invoiceId,invoiceId:Te.invoiceId,companyId:Te.companyId,companyName:Te.companyName,hcfId:Te.hcfId,hcfCode:Te.hcfCode,invoiceNum:Te.invoiceNumber,invoiceDate:Te.invoiceDate,dueDate:Te.dueDate,invoiceValue:Te.invoiceValue,totalPaidAmount:Te.totalPaidAmount,balanceAmount:Te.balanceAmount,invoiceStatus:Te.status}));c(ne),ne.length>0&&ne[0].companyId&&x(Te=>({...Te,companyId:ne[0].companyId}));const Be=ne.reduce((Te,me)=>Te+parseFloat(me.balanceAmount||"0"),0);S.current=Be,x(Te=>({...Te,paymentAmount:Be}))}catch($){console.error("Error loading data:",$);let L="Failed to load invoice data";$.message?L=$.message:(q=(D=$.response)==null?void 0:D.data)!=null&&q.message?L=$.response.data.message:typeof $=="string"&&(L=$),(L.includes("Internal server error")||L.includes("500"))&&(L="Internal server error. Please check the backend logs or try again later."),f(L)}finally{h(!1)}},P=s.reduce((D,q)=>D+parseFloat(q.balanceAmount||"0"),0),Z=async D=>{var $;D.preventDefault();let q=0;if(j.current){const L=j.current.value;q=L?parseFloat(L):0}if((!q||q<=0)&&(q=S.current>0?S.current:m.paymentAmount),q=Number(q),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",($=j.current)==null?void 0:$.value),console.log("Payment Amount Ref:",S.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Current Amount:",q),q>P){f(`Payment amount (${q.toFixed(2)}) cannot exceed total payable (${P.toFixed(2)})`);return}if(q<=0||isNaN(q)){f("Payment amount must be greater than zero"),q=P,S.current=P,x(L=>({...L,paymentAmount:P})),j.current&&(j.current.value=P.toString());return}S.current=q,x(L=>({...L,paymentAmount:q})),j.current&&(j.current.value=q.toString()),b(!0)},ee=async()=>{var D,q,$;b(!1),N(!0),h(!0),f(null),g(null);try{let L=0;if(j.current){const me=j.current.value;L=me?parseFloat(me):0,console.log("Reading from input field:",me,"->",L)}if((!L||L<=0)&&(L=S.current>0?S.current:m.paymentAmount,console.log("Using fallback - Ref:",S.current,"FormData:",m.paymentAmount)),L=Number(L),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(D=j.current)==null?void 0:D.value),console.log("Payment Amount Ref:",S.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Final Payment Amount:",L),console.log("Total Payable:",P),!L||L<=0||isNaN(L)){f(`Invalid payment amount: ${L}. Please enter a valid amount greater than zero.`),N(!1),h(!1);return}if(L>P){f(`Payment amount (${L.toFixed(2)}) cannot exceed total payable (${P.toFixed(2)})`),N(!1),h(!1);return}const ye=s.map(me=>({invoiceId:me.id,allocatedAmount:0})),ne={companyId:m.companyId||"",paymentDate:m.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:L,paymentMode:m.paymentMode||Ja.CASH,referenceNumber:m.referenceNumber||null,bankName:m.bankName||null,chequeNumber:m.chequeNumber||null,chequeDate:m.chequeDate||null,notes:m.notes||null,invoiceAllocations:ye},Be=Number(ne.paymentAmount);if(!Be||Be<=0||isNaN(Be)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",ne),console.error("Payment Amount:",ne.paymentAmount),console.error("Final Payment Amount:",Be),f(`Invalid payment amount: ${ne.paymentAmount}. Cannot proceed. Please check the amount and try again.`),N(!1),h(!1);return}ne.paymentAmount=Be,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",ne),console.log("Payment Amount Type:",typeof ne.paymentAmount),console.log("Payment Amount Value:",ne.paymentAmount),console.log("Payment Amount is Number?",!isNaN(ne.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(ne,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(ne).match(/"paymentAmount":\s*([^,}]+)/));const Te=await SF(ne);e("/finance/payment-success",{state:{receiptNumber:Te.receipt.receiptNumber,receiptId:Te.receipt.receiptId,totalAmount:Te.receipt.totalAmount,receiptDate:Te.receipt.receiptDate,invoiceUpdates:Te.invoiceUpdates}})}catch(L){console.error("Error processing payment:",L);let ye="Failed to process payment";L.message?ye=L.message:($=(q=L.response)==null?void 0:q.data)!=null&&$.message?ye=L.response.data.message:typeof L=="string"&&(ye=L),(ye.includes("Internal server error")||ye.includes("500"))&&(ye="Internal server error. Please check the backend logs or try again later."),f(ye),N(!1)}finally{h(!1)}},K=()=>{e("/finance/invoice-management")};return i.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[t.jsx("h2",{children:"No invoices selected"}),t.jsx("p",{children:"Please select invoices from the Invoice Management page."}),t.jsx("button",{onClick:K,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):t.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[t.jsxs("button",{onClick:K,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:D=>{D.currentTarget.style.background="#F1F5F9",D.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:D=>{D.currentTarget.style.background="#FFFFFF",D.currentTarget.style.borderColor="#E2E8F0"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),t.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),d&&t.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[d,t.jsx("button",{onClick:()=>f(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),A&&t.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:A}),t.jsxs("form",{onSubmit:Z,children:[t.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[t.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",s.length,")"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:s.map(D=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),t.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:D.invoiceNum}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),t.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(D.balanceAmount||"0").toFixed(2)]})]},D.id))}),t.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",P.toFixed(2)]})]})]}),t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),t.jsx("input",{type:"text",value:((ae=l.find(D=>D.id===m.companyId))==null?void 0:ae.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:m.paymentDate,onChange:D=>x(q=>({...q,paymentDate:D.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:m.paymentMode,onChange:D=>x(q=>({...q,paymentMode:D.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[t.jsx("option",{value:Ja.CASH,children:"Cash"}),t.jsx("option",{value:Ja.CHEQUE,children:"Cheque"}),t.jsx("option",{value:Ja.NEFT,children:"NEFT"}),t.jsx("option",{value:Ja.RTGS,children:"RTGS"}),t.jsx("option",{value:Ja.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:Ja.UPI,children:"UPI"}),t.jsx("option",{value:Ja.OTHER,children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),t.jsx("input",{ref:j,type:"number",required:!0,min:"0.01",step:"0.01",max:P,value:m.paymentAmount>0?m.paymentAmount:"",onChange:D=>{const q=D.target.value.trim();if(q===""){x(L=>({...L,paymentAmount:0})),f(null);return}const $=parseFloat(q);if(isNaN($)){x(L=>({...L,paymentAmount:0}));return}if($<0){x(L=>({...L,paymentAmount:0}));return}$>P?f(`Payment amount cannot exceed total payable of ${P.toFixed(2)}`):f(null),S.current=$,x(L=>({...L,paymentAmount:$})),console.log("Payment amount updated to:",$)},onBlur:D=>{const q=D.target.value.trim();if(q===""){S.current=P,x(L=>({...L,paymentAmount:P}));return}const $=parseFloat(q);isNaN($)||$<=0?(S.current=P,x(L=>({...L,paymentAmount:P}))):(S.current=$,x(L=>({...L,paymentAmount:$})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",P.toFixed(2)," (supports partial payments)"]})]}),(m.paymentMode===Ja.CHEQUE||m.paymentMode===Ja.BANK_TRANSFER||m.paymentMode===Ja.NEFT||m.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:D=>x({...m,referenceNumber:D.target.value||null}),placeholder:"Transaction/Reference number"})]}),m.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:D=>x({...m,bankName:D.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:D=>x({...m,chequeNumber:D.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:D=>x({...m,chequeDate:D.target.value||null})})]})]})]}),(m.paymentMode===Ja.CHEQUE||m.paymentMode===Ja.BANK_TRANSFER||m.paymentMode===Ja.NEFT||m.paymentMode===Ja.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:D=>x({...m,referenceNumber:D.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),m.paymentMode===Ja.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:D=>x({...m,bankName:D.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:D=>x({...m,chequeNumber:D.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:D=>x({...m,chequeDate:D.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),t.jsx("textarea",{value:m.notes||"",onChange:D=>x({...m,notes:D.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),t.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),t.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[t.jsx("button",{type:"button",onClick:K,disabled:o||w,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:o||w?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o||w,style:{padding:"12px 32px",background:w?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:w?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:w?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:D=>{!w&&!o&&(D.currentTarget.style.background="#059669",D.currentTarget.style.transform="translateY(-1px)",D.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:D=>{!w&&!o&&(D.currentTarget.style.background="#10b981",D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:w?"Processing...":o?"Loading...":"Process Payment"})]})]}),y&&t.jsx("div",{className:"modal-overlay",onClick:()=>!w&&b(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[t.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:" This action cannot be undone."}),t.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",t.jsxs("strong",{children:["",m.paymentAmount.toFixed(2)]}),"."]}),t.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{type:"button",onClick:()=>b(!1),disabled:w,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:ee,disabled:w,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:w?"not-allowed":"pointer",fontWeight:600},children:w?"Processing...":"Confirm & Process Payment"})]})]})})]})})},Vte=()=>{const r=_n(),e=ti(),n=r.state;k.useEffect(()=>{if(!(n!=null&&n.receiptId)){e("/finance/invoice-management");return}},[n,e]);const a=()=>{window.print()},i=()=>{e("/finance/invoice-management")};return n?t.jsxs("div",{className:"payment-success-page",children:[t.jsx("div",{className:"payment-success-header",children:t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),t.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),t.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),t.jsxs("div",{className:"payment-success-content",children:[t.jsxs("div",{className:"success-card receipt-card",children:[t.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),t.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),t.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),t.jsx("div",{className:"amount-received-section",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[t.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),t.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),t.jsxs("div",{className:"success-card settlement-card",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),t.jsx("tbody",{children:n.invoiceUpdates.map(s=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:s.invoiceNumber}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",s.totalPaidAmount.toFixed(2)]}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:s.balanceAmount>0?"#dc2626":"#059669"},children:["",s.balanceAmount.toFixed(2)]}),t.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:t.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:s.status==="Paid"?"#d1fae5":s.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:s.status==="Paid"?"#065f46":s.status==="Partially Paid"?"#92400e":"#3730a3"},children:s.status==="Generated"?"DUE":s.status})})]},s.invoiceId))})]})]}),t.jsxs("div",{className:"action-buttons",children:[t.jsxs("button",{onClick:a,className:"primary-action-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),t.jsx("button",{onClick:i,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):t.jsx("div",{style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"No payment data found. Redirecting..."})})},zte=()=>{const{logout:r}=pa(),e=_n();ti();const[n,a]=k.useState(""),[i,s]=k.useState(""),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState([]),[f,A]=k.useState([]),[g,m]=k.useState(!1),[x,y]=k.useState(null),[b,w]=k.useState(null),[N,S]=k.useState(!1),j=()=>{S(!N)},[_,P]=k.useState({paymentId:"",receiptDate:"",notes:null});k.useEffect(()=>{Z()},[]),k.useEffect(()=>{f.length>0&&(i?ee(i):ee())},[i,f.length]);const Z=async()=>{var $,L;try{m(!0),y(null);const ne=(await Qa.getAllCompanies(!0)).map(Be=>({id:Be.id,companyCode:Be.companyCode,companyName:Be.companyName,status:Be.status}));A(ne),console.log("Loaded companies:",ne.length),await ee(),y(null)}catch(ye){console.error("Error loading data:",ye);const ne=ye.message||((L=($=ye.response)==null?void 0:$.data)==null?void 0:L.message)||"Failed to load data";y(ne)}finally{m(!1)}},ee=async $=>{var L,ye;try{m(!0),y(null);const ne=await kte($),Be=Array.isArray(ne)?ne:[];d(Be),y(null),Be.length>0&&(console.log("Payments loaded:",Be.length),console.log("Payment company IDs:",Be.map(Te=>Te.companyId)),console.log("Available companies:",f.map(Te=>({id:Te.id,name:Te.companyName}))))}catch(ne){console.error("Error loading payments:",ne);const Be=ne.message||((ye=(L=ne.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to load payments";y(Be),d([])}finally{m(!1)}},K=$=>{o($),P({paymentId:$.paymentId,receiptDate:$.paymentDate,notes:null}),l(!0)},ae=async()=>{if(!_.paymentId){y("Please select a payment");return}try{m(!0),y(null),w(null);const $=await Pte(_);w(`Receipt ${$.data.receipt.receiptNumber} created successfully!`),l(!1),o(null),P({paymentId:"",receiptDate:"",notes:null}),await ee(i||void 0)}catch($){console.error("Error creating receipt:",$),y($.message||"Failed to create receipt")}finally{m(!1)}},D=h.filter($=>{var ne,Be;const L=$.paymentId.toLowerCase().includes(n.toLowerCase())||((ne=$.receiptNumber)==null?void 0:ne.toLowerCase().includes(n.toLowerCase()))||((Be=f.find(Te=>Te.id===$.companyId))==null?void 0:Be.companyName.toLowerCase().includes(n.toLowerCase())),ye=!i||$.companyId===i;return L&&ye}),q=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${N?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!N&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:j,"aria-label":N?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:q.map($=>t.jsx("li",{children:t.jsxs(en,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:$.icon}),!N&&t.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!N&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!N&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Receipt Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Receipt Management"})}),x&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[x,t.jsx("button",{onClick:()=>y(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),b&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[b,t.jsx("button",{onClick:()=>w(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by payment ID, receipt number, or company...",value:n,onChange:$=>a($.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:i,onChange:$=>s($.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),f.filter($=>$.status==="Active").map($=>t.jsx("option",{value:$.id,children:$.companyName},$.id))]})]}),t.jsx("div",{className:"invoice-table-container",children:g&&h.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading payments..."}):D.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:h.length===0?"No payments found without receipts":"No payments match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Payment ID"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Amount"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:D.map($=>{const L=f.find(ye=>ye.id===$.companyId);return t.jsxs("tr",{children:[t.jsxs("td",{children:[$.paymentId.substring(0,8),"..."]}),t.jsx("td",{children:(L==null?void 0:L.companyName)||$.companyId||"-"}),t.jsx("td",{children:$.paymentDate}),t.jsxs("td",{style:{fontWeight:600},children:["",Number($.paymentAmount).toFixed(2)]}),t.jsx("td",{children:$.paymentMode}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:$.status==="Completed"?"#d1fae5":"#fef3c7",color:$.status==="Completed"?"#065f46":"#92400e"},children:$.status})}),t.jsx("td",{children:t.jsx("button",{onClick:()=>K($),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Create Receipt"})})]},$.paymentId)})})]})}),c&&u&&t.jsx("div",{className:"modal-overlay",onClick:()=>l(!1),children:t.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Create Receipt"}),t.jsx("button",{onClick:()=>l(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:t.jsxs("div",{style:{display:"grid",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),t.jsxs("span",{style:{fontWeight:600},children:[u.paymentId.substring(0,8),"..."]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),t.jsxs("span",{style:{fontWeight:600},children:["",Number(u.paymentAmount).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),t.jsx("span",{children:u.paymentDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),t.jsx("span",{children:u.paymentMode})]})]})}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:_.receiptDate||"",onChange:$=>P({..._,receiptDate:$.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:_.notes||"",onChange:$=>P({..._,notes:$.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>l(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:ae,disabled:g||!_.receiptDate,style:{padding:"10px 20px",background:g||!_.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:g||!_.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Creating...":"Create Receipt"})]})]})})]})]})]})},BF="http://localhost:3000/api/v1",EF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Vg=async(r,e={})=>{const n=EF(),a={"Content-Type":"application/json",...e.headers};n&&(a.Authorization=`Bearer ${n}`);const i=await fetch(`${BF}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data},Kte=async r=>{const e=r?`?companyId=${r}`:"";return Vg(`/fin-balance${e}`,{method:"GET"})},Gte=async r=>Vg("/fin-balance",{method:"POST",body:JSON.stringify(r)}),qte=async(r,e)=>Vg(`/fin-balance/${r}`,{method:"PUT",body:JSON.stringify(e)}),Xte=async r=>Vg(`/fin-balance/${r}`,{method:"DELETE"}),Yte=async r=>{const e=EF(),n=new FormData;n.append("file",r);const a=await fetch(`${BF}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...e&&{Authorization:`Bearer ${e}`}},body:n});if(!a.ok){let s=`HTTP error! status: ${a.status}`;try{const c=await a.json();s=c.message||c.error||s}catch{s="Failed to preview bulk upload"}throw new Error(s)}return(await a.json()).data},Zte=async r=>Vg("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:r})}),Jte=()=>{const{logout:r}=pa(),e=_n();ti();const n=k.useRef(null),[a,i]=k.useState(""),[s,c]=k.useState(""),[l,u]=k.useState([]),[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState(!1),[m,x]=k.useState(null),[y,b]=k.useState(null),[w,N]=k.useState(!1),S=()=>{N(!w)},[j,_]=k.useState(!1),[P,Z]=k.useState(!1),[ee,K]=k.useState(!1),[ae,D]=k.useState(null),[q,$]=k.useState(null),[L,ye]=k.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});k.useEffect(()=>{ne()},[]),k.useEffect(()=>{s?Be(s):Be()},[s]);const ne=async()=>{try{g(!0),x(null);const X=await Qa.getAllCompanies(!0);h(X.map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status})));const de=await ks.getAllHcfs(void 0,!1);f(de.map(se=>{var We;return{id:se.id,hcfCode:se.hcfCode,hcfName:se.hcfName,companyId:se.companyId,companyName:((We=X.find(Re=>Re.id===se.companyId))==null?void 0:We.companyName)||""}})),await Be()}catch(X){console.error("Error loading data:",X),x(X.message||"Failed to load data")}finally{g(!1)}},Be=async X=>{var de,se;try{g(!0),x(null);const We=await Kte(X);u(Array.isArray(We)?We:[]),x(null)}catch(We){console.error("Error loading balances:",We);const Re=We.message||((se=(de=We.response)==null?void 0:de.data)==null?void 0:se.message)||"Failed to load balances";x(Re),u([])}finally{g(!1)}},Te=async X=>{var se;const de=(se=X.target.files)==null?void 0:se[0];if(de)try{g(!0),x(null),b(null);const We=await Yte(de);$(We),K(!0)}catch(We){console.error("Error previewing upload:",We),x(We.message||"Failed to preview Excel file")}finally{g(!1),n.current&&(n.current.value="")}},me=async()=>{if(q)try{g(!0),x(null),b(null);const X=await Zte(q),de=X.created.length+X.updated.length;b(`Successfully processed ${de} records (${X.created.length} created, ${X.updated.length} updated)`),K(!1),$(null),await Be(s||void 0)}catch(X){console.error("Error executing bulk upload:",X),x(X.message||"Failed to execute bulk upload")}finally{g(!1)}},ue=()=>{ye({companyId:"",hcfId:"",openingBalance:0,notes:null}),_(!0)},ve=X=>{D(X),ye({companyId:X.companyId,hcfId:X.hcfId,openingBalance:X.openingBalance,notes:X.notes}),Z(!0)},le=async X=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{g(!0),x(null),await Xte(X),b("Financial balance deleted successfully"),await Be(s||void 0)}catch(de){console.error("Error deleting balance:",de),x(de.message||"Failed to delete financial balance")}finally{g(!1)}},Ae=async()=>{try{g(!0),x(null),b(null),await Gte(L),b("Financial balance created successfully"),_(!1),ye({companyId:"",hcfId:"",openingBalance:0,notes:null}),await Be(s||void 0)}catch(X){console.error("Error creating balance:",X),x(X.message||"Failed to create financial balance")}finally{g(!1)}},Ie=async()=>{if(ae)try{g(!0),x(null),b(null);const X={openingBalance:L.openingBalance,notes:L.notes};await qte(ae.finBalanceId,X),b("Financial balance updated successfully (current balance reset to opening balance)"),Z(!1),D(null),await Be(s||void 0)}catch(X){console.error("Error updating balance:",X),x(X.message||"Failed to update financial balance")}finally{g(!1)}},Pe=l.filter(X=>{var We,Re,Ee,ie;const de=((We=X.companyName)==null?void 0:We.toLowerCase().includes(a.toLowerCase()))||((Re=X.companyCode)==null?void 0:Re.toLowerCase().includes(a.toLowerCase()))||((Ee=X.hcfCode)==null?void 0:Ee.toLowerCase().includes(a.toLowerCase()))||((ie=X.hcfName)==null?void 0:ie.toLowerCase().includes(a.toLowerCase())),se=!s||X.companyId===s;return de&&se}),Ce=L.companyId?d.filter(X=>X.companyId===L.companyId):[],ce=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${w?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!w&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":w?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:w?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(X=>t.jsx("li",{children:t.jsxs(en,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:X.icon}),!w&&t.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!w&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!w&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Financial Balance Summary"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Financial Balance Summary"})}),m&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[m,t.jsx("button",{onClick:()=>x(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),y&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[y,t.jsx("button",{onClick:()=>b(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by company, HCF code, or name...",value:a,onChange:X=>i(X.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:X=>c(X.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),o.filter(X=>X.status==="Active").map(X=>t.jsx("option",{value:X.id,children:X.companyName},X.id))]}),t.jsxs("label",{className:"export-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",t.jsx("input",{ref:n,type:"file",accept:".xlsx,.xls",onChange:Te,style:{display:"none"}})]}),t.jsxs("button",{className:"add-invoice-btn",onClick:ue,disabled:A,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]}),t.jsx("div",{className:"invoice-table-container",children:A&&l.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading balances..."}):Pe.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:l.length===0?"No financial balance records found":"No records match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Opening Balance"}),t.jsx("th",{children:"Current Balance"}),t.jsx("th",{children:"Is Manual"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Pe.map(X=>t.jsxs("tr",{children:[t.jsx("td",{children:X.companyName||"-"}),t.jsx("td",{children:X.hcfCode||"-"}),t.jsx("td",{children:X.hcfName||"-"}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(X.openingBalance).toFixed(2)]}),t.jsxs("td",{style:{fontWeight:600,color:X.currentBalance<0?"#dc2626":"#059669"},children:["",Number(X.currentBalance).toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:X.isManual?"#dbeafe":"#f3f4f6",color:X.isManual?"#1e40af":"#6b7280"},children:X.isManual?"Manual":"Auto"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>ve(X),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Edit"}),t.jsx("button",{onClick:()=>le(X.finBalanceId),style:{padding:"6px 12px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Delete"})]})})]},X.finBalanceId))})]})}),j&&t.jsx("div",{className:"modal-overlay",onClick:()=>_(!1),children:t.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add Financial Balance"}),t.jsx("button",{onClick:()=>_(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:L.companyId,onChange:X=>ye({...L,companyId:X.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"",children:"Select Company"}),o.filter(X=>X.status==="Active").map(X=>t.jsx("option",{value:X.id,children:X.companyName},X.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:L.hcfId,onChange:X=>ye({...L,hcfId:X.target.value}),required:!0,disabled:!L.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:L.companyId?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"",children:L.companyId?"Select HCF":"Select Company first"}),Ce.map(X=>t.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:L.openingBalance,onChange:X=>ye({...L,openingBalance:parseFloat(X.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:L.notes||"",onChange:X=>ye({...L,notes:X.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>_(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Ae,disabled:A||!L.companyId||!L.hcfId||L.openingBalance<0,style:{padding:"10px 20px",background:A||!L.companyId||!L.hcfId||L.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:A||!L.companyId||!L.hcfId||L.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:A?"Creating...":"Create"})]})]})}),P&&ae&&t.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:t.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Edit Financial Balance"}),t.jsx("button",{onClick:()=>Z(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[t.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),t.jsx("input",{type:"text",value:ae.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),t.jsx("input",{type:"text",value:`${ae.hcfCode||""} - ${ae.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:L.openingBalance,onChange:X=>ye({...L,openingBalance:parseFloat(X.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),t.jsx("input",{type:"text",value:`${Number(ae.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:L.notes||"",onChange:X=>ye({...L,notes:X.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>Z(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Ie,disabled:A||L.openingBalance<0,style:{padding:"10px 20px",background:A||L.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:A||L.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:A?"Updating...":"Update"})]})]})}),ee&&q&&t.jsx("div",{className:"modal-overlay",onClick:()=>K(!1),children:t.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Preview Bulk Upload"}),t.jsx("button",{onClick:()=>K(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:q.inserts.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:q.updates.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:q.errors.length+q.parseErrors.length})]})]}),q.parseErrors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:q.parseErrors.map((X,de)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",X.row,":"]})," ",X.message]},de))})]}),q.errors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:q.errors.map((X,de)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",X.row,":"]})," ",X.message]},de))})]}),(q.inserts.length>0||q.updates.length>0)&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),t.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:t.jsxs("tr",{children:[t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),t.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),t.jsxs("tbody",{children:[q.inserts.map((X,de)=>{const se=o.find(Re=>Re.id===X.companyId),We=d.find(Re=>Re.id===X.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),t.jsx("td",{style:{padding:"10px"},children:(se==null?void 0:se.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(X.openingBalance).toFixed(2)]})]},`insert-${de}`)}),q.updates.map((X,de)=>{const se=o.find(Re=>Re.id===X.data.companyId),We=d.find(Re=>Re.id===X.data.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),t.jsx("td",{style:{padding:"10px"},children:(se==null?void 0:se.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(X.data.openingBalance).toFixed(2)]})]},`update-${de}`)})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>K(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:me,disabled:A||q.inserts.length===0&&q.updates.length===0,style:{padding:"10px 20px",background:A||q.inserts.length===0&&q.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:A||q.inserts.length===0&&q.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:A?"Processing...":"Save All"})]})]})})]})]})]})},ere="http://localhost:3000/api/v1",tre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},m0=async(r,e={})=>{const n=tre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${ere}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},iA={generateLabels:async r=>(await m0("/barcode-labels",{method:"POST",body:JSON.stringify(r)})).data,getBarcodeLabelById:async r=>(await m0(`/barcode-labels/${r}`,{method:"GET"})).data,getAllBarcodeLabels:async(r,e,n,a)=>{let i="/barcode-labels";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("hcfId",e),n&&s.append("hcfCode",n),a&&s.append("barcodeType",a),s.toString()&&(i+=`?${s.toString()}`),(await m0(i,{method:"GET"})).data},getLastSequence:async(r,e)=>(await m0(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(r)}&barcodeType=${encodeURIComponent(e)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async r=>{await m0(`/barcode-labels/${r}`,{method:"DELETE"})}};var p1={},g0={},m1={},B6;function ud(){if(B6)return m1;B6=1,Object.defineProperty(m1,"__esModule",{value:!0});function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function n(a,i){r(this,n),this.data=a,this.text=i.text||a,this.options=i};return m1.default=e,m1}var E6;function rre(){if(E6)return g0;E6=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.CODE39=void 0;var r=(function(){function m(x,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,y,b){return y&&m(x.prototype,y),b&&m(x,b),x}})(),e=ud(),n=a(e);function a(m){return m&&m.__esModule?m:{default:m}}function i(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function s(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function c(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var l=(function(m){c(x,m);function x(y,b){return i(this,x),y=y.toUpperCase(),b.mod43&&(y+=f(g(y))),s(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,b))}return r(x,[{key:"encode",value:function(){for(var b=h("*"),w=0;w<this.data.length;w++)b+=h(this.data[w])+"0";return b+=h("*"),{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],o=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(m){return d(A(m))}function d(m){return o[m].toString(2)}function f(m){return u[m]}function A(m){return u.indexOf(m)}function g(m){for(var x=0,y=0;y<m.length;y++)x+=A(m[y]);return x=x%43,x}return g0.CODE39=l,g0}var ah={},g1={},v1={},Jo={},I6;function zg(){if(I6)return Jo;I6=1,Object.defineProperty(Jo,"__esModule",{value:!0});var r;function e(u,o,h){return o in u?Object.defineProperty(u,o,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[o]=h,u}var n=Jo.SET_A=0,a=Jo.SET_B=1,i=Jo.SET_C=2;Jo.SHIFT=98;var s=Jo.START_A=103,c=Jo.START_B=104,l=Jo.START_C=105;return Jo.MODULO=103,Jo.STOP=106,Jo.FNC1=207,Jo.SET_BY_CODE=(r={},e(r,s,n),e(r,c,a),e(r,l,i),r),Jo.SWAP={101:n,100:a,99:i},Jo.A_START_CHAR="",Jo.B_START_CHAR="",Jo.C_START_CHAR="",Jo.A_CHARS="[\0-_-]",Jo.B_CHARS="[ --]",Jo.C_CHARS="(*[0-9]{2}*)",Jo.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Jo}var T6;function sx(){if(T6)return v1;T6=1,Object.defineProperty(v1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=ud(),n=i(e),a=zg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,f){s(this,h);var A=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d.substring(1),f));return A.bytes=d.split("").map(function(g){return g.charCodeAt(0)}),A}return r(h,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.bytes,A=f.shift()-105,g=a.SET_BY_CODE[A];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&f.unshift(a.FNC1);var m=h.next(f,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:h.getBar(A)+m.result+h.getBar((m.checksum+A)%a.MODULO)+h.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var f=this.options.ean128||!1;return typeof f=="string"&&(f=f.toLowerCase()==="true"),f}}],[{key:"getBar",value:function(f){return a.BARS[f]?a.BARS[f].toString():""}},{key:"correctIndex",value:function(f,A){if(A===a.SET_A){var g=f.shift();return g<32?g+64:g-32}else return A===a.SET_B?f.shift()-32:(f.shift()-48)*10+f.shift()-48}},{key:"next",value:function(f,A,g){if(!f.length)return{result:"",checksum:0};var m=void 0,x=void 0;if(f[0]>=200){x=f.shift()-105;var y=a.SWAP[x];y!==void 0?m=h.next(f,A+1,y):((g===a.SET_A||g===a.SET_B)&&x===a.SHIFT&&(f[0]=g===a.SET_A?f[0]>95?f[0]-96:f[0]:f[0]<32?f[0]+96:f[0]),m=h.next(f,A+1,g))}else x=h.correctIndex(f,g),m=h.next(f,A+1,g);var b=h.getBar(x),w=x*A;return{result:b+m.result,checksum:w+m.checksum}}}]),h})(n.default);return v1.default=u,v1}var x1={},_6;function nre(){if(_6)return x1;_6=1,Object.defineProperty(x1,"__esModule",{value:!0});var r=zg(),e=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},n=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function i(c,l){var u=l?r.A_CHARS:r.B_CHARS,o=c.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+""+s(c.substring(o[1].length));var h=c.match(new RegExp("^"+u+"+"))[0];return h.length===c.length?c:h+String.fromCharCode(l?205:206)+i(c.substring(h.length),!l)}function s(c){var l=a(c),u=l.length;if(u===c.length)return c;c=c.substring(u);var o=e(c)>=n(c);return l+String.fromCharCode(o?206:205)+i(c,o)}return x1.default=function(c){var l=void 0,u=a(c).length;if(u>=2)l=r.C_START_CHAR+s(c);else{var o=e(c)>n(c);l=(o?r.A_START_CHAR:r.B_START_CHAR)+i(c,o)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(h,d){return""+d})},x1}var O6;function are(){if(O6)return g1;O6=1,Object.defineProperty(g1,"__esModule",{value:!0});var r=sx(),e=i(r),n=nre(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,f){if(s(this,h),/^[\x00-\x7F\xC8-\xD3]+$/.test(d))var A=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,(0,a.default)(d),f));else var A=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,f));return c(A)}return h})(e.default);return g1.default=u,g1}var y1={},k6;function ire(){if(k6)return y1;k6=1,Object.defineProperty(y1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=sx(),n=i(e),a=zg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,f){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.A_START_CHAR+d,f))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),h})(n.default);return y1.default=u,y1}var b1={},P6;function sre(){if(P6)return b1;P6=1,Object.defineProperty(b1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=sx(),n=i(e),a=zg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,f){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.B_START_CHAR+d,f))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),h})(n.default);return b1.default=u,b1}var w1={},F6;function ore(){if(F6)return w1;F6=1,Object.defineProperty(w1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=sx(),n=i(e),a=zg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,f){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.C_START_CHAR+d,f))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),h})(n.default);return w1.default=u,w1}var D6;function lre(){if(D6)return ah;D6=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.CODE128C=ah.CODE128B=ah.CODE128A=ah.CODE128=void 0;var r=are(),e=u(r),n=ire(),a=u(n),i=sre(),s=u(i),c=ore(),l=u(c);function u(o){return o&&o.__esModule?o:{default:o}}return ah.CODE128=e.default,ah.CODE128A=a.default,ah.CODE128B=s.default,ah.CODE128C=l.default,ah}var pu={},j1={},af={},M6;function Kg(){return M6||(M6=1,Object.defineProperty(af,"__esModule",{value:!0}),af.SIDE_BIN="101",af.MIDDLE_BIN="01010",af.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},af.EAN2_STRUCTURE=["LL","LG","GL","GG"],af.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],af.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),af}var C1={},N1={},R6;function Gg(){if(R6)return N1;R6=1,Object.defineProperty(N1,"__esModule",{value:!0});var r=Kg(),e=function(a,i,s){var c=a.split("").map(function(u,o){return r.BINARIES[i[o]]}).map(function(u,o){return u?u[a[o]]:""});if(s){var l=a.length-1;c=c.map(function(u,o){return o<l?u+s:u})}return c.join("")};return N1.default=e,N1}var L6;function IF(){if(L6)return C1;L6=1,Object.defineProperty(C1,"__esModule",{value:!0});var r=(function(){function d(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&d(f.prototype,A),g&&d(f,g),f}})(),e=Kg(),n=Gg(),a=c(n),i=ud(),s=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function o(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=(function(d){o(f,d);function f(A,g){l(this,f);var m=u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(f,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:e.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:e.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:e.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),f})(s.default);return C1.default=h,C1}var U6;function cre(){if(U6)return j1;U6=1,Object.defineProperty(j1,"__esModule",{value:!0});var r=(function(){function d(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&d(f.prototype,A),g&&d(f,g),f}})(),e=function d(f,A,g){f===null&&(f=Function.prototype);var m=Object.getOwnPropertyDescriptor(f,A);if(m===void 0){var x=Object.getPrototypeOf(f);return x===null?void 0:d(x,A,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},n=Kg(),a=IF(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function c(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function l(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function u(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var o=function(f){var A=f.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,x){return x%2?g+m*3:g+m},0);return(10-A%10)%10},h=(function(d){u(f,d);function f(A,g){c(this,f),A.search(/^[0-9]{12}$/)!==-1&&(A+=o(A));var m=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.lastChar=g.lastChar,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===o(this.data)}},{key:"leftText",value:function(){return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),f})(i.default);return j1.default=h,j1}var S1={},H6;function ure(){if(H6)return S1;H6=1,Object.defineProperty(S1,"__esModule",{value:!0});var r=(function(){function h(d,f){for(var A=0;A<f.length;A++){var g=f[A];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,A){return f&&h(d.prototype,f),A&&h(d,A),d}})(),e=function h(d,f,A){d===null&&(d=Function.prototype);var g=Object.getOwnPropertyDescriptor(d,f);if(g===void 0){var m=Object.getPrototypeOf(d);return m===null?void 0:h(m,f,A)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(A)}},n=IF(),a=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var u=function(d){var f=d.substr(0,7).split("").map(function(A){return+A}).reduce(function(A,g,m){return m%2?A+g:A+g*3},0);return(10-f%10)%10},o=(function(h){l(d,h);function d(f,A){return s(this,d),f.search(/^[0-9]{7}$/)!==-1&&(f+=u(f)),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,f,A))}return r(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var A=this.data.substr(0,4);return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftEncode",this).call(this,A,"LLLL")}},{key:"rightText",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var A=this.data.substr(4,4);return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightEncode",this).call(this,A,"RRRR")}}]),d})(a.default);return S1.default=o,S1}var B1={},Q6;function dre(){if(Q6)return B1;Q6=1,Object.defineProperty(B1,"__esModule",{value:!0});var r=(function(){function f(A,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}return function(A,g,m){return g&&f(A.prototype,g),m&&f(A,m),A}})(),e=Kg(),n=Gg(),a=c(n),i=ud(),s=c(i);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,A){if(!(f instanceof A))throw new TypeError("Cannot call a class as a function")}function u(f,A){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:f}function o(f,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);f.prototype=Object.create(A&&A.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(f,A):f.__proto__=A)}var h=function(A){var g=A.split("").map(function(m){return+m}).reduce(function(m,x,y){return y%2?m+x*9:m+x*3},0);return g%10},d=(function(f){o(A,f);function A(g,m){return l(this,A),u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,g,m))}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=e.EAN5_STRUCTURE[h(this.data)];return{data:"1011"+(0,a.default)(this.data,m,"01"),text:this.text}}}]),A})(s.default);return B1.default=d,B1}var E1={},W6;function hre(){if(W6)return E1;W6=1,Object.defineProperty(E1,"__esModule",{value:!0});var r=(function(){function d(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&d(f.prototype,A),g&&d(f,g),f}})(),e=Kg(),n=Gg(),a=c(n),i=ud(),s=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function o(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=(function(d){o(f,d);function f(A,g){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),f})(s.default);return E1.default=h,E1}var v0={},$6;function TF(){if($6)return v0;$6=1,Object.defineProperty(v0,"__esModule",{value:!0});var r=(function(){function d(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&d(f.prototype,A),g&&d(f,g),f}})();v0.checksum=h;var e=Gg(),n=s(e),a=ud(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function c(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function l(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function u(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var o=(function(d){u(f,d);function f(A,g){c(this,f),A.search(/^[0-9]{11}$/)!==-1&&(A+=h(A));var m=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==h(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),f})(i.default);function h(d){var f=0,A;for(A=1;A<11;A+=2)f+=parseInt(d[A]);for(A=0;A<11;A+=2)f+=parseInt(d[A])*3;return(10-f%10)%10}return v0.default=o,v0}var I1={},V6;function fre(){if(V6)return I1;V6=1,Object.defineProperty(I1,"__esModule",{value:!0});var r=(function(){function g(m,x){for(var y=0;y<x.length;y++){var b=x[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,y){return x&&g(m.prototype,x),y&&g(m,y),m}})(),e=Gg(),n=c(e),a=ud(),i=c(a),s=TF();function c(g){return g&&g.__esModule?g:{default:g}}function l(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function o(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],d=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f=(function(g){o(m,g);function m(x,y){l(this,m);var b=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,y));if(b.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)b.middleDigits=x,b.upcA=A(x,"0"),b.text=y.text||""+b.upcA[0]+x+b.upcA[b.upcA.length-1],b.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(b.middleDigits=x.substring(1,x.length-1),b.upcA=A(b.middleDigits,x[0]),b.upcA[b.upcA.length-1]===x[x.length-1])b.isValid=!0;else return u(b);else return u(b);return b.displayValue=y.displayValue,y.fontSize>y.width*10?b.fontSize=y.width*10:b.fontSize=y.fontSize,b.guardHeight=y.height+b.fontSize/2+y.textMargin,b}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],b=this.upcA[this.upcA.length-1],w=d[parseInt(b)][parseInt(y)];return(0,n.default)(this.middleDigits,w)}}]),m})(i.default);function A(g,m){for(var x=parseInt(g[g.length-1]),y=h[x],b="",w=0,N=0;N<y.length;N++){var S=y[N];S==="X"?b+=g[w++]:b+=S}return b=""+m+b,""+b+(0,s.checksum)(b)}return I1.default=f,I1}var z6;function Are(){if(z6)return pu;z6=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.UPCE=pu.UPC=pu.EAN2=pu.EAN5=pu.EAN8=pu.EAN13=void 0;var r=cre(),e=f(r),n=ure(),a=f(n),i=dre(),s=f(i),c=hre(),l=f(c),u=TF(),o=f(u),h=fre(),d=f(h);function f(A){return A&&A.__esModule?A:{default:A}}return pu.EAN13=e.default,pu.EAN8=a.default,pu.EAN5=s.default,pu.EAN2=l.default,pu.UPC=o.default,pu.UPCE=d.default,pu}var RA={},T1={},Fp={},K6;function pre(){return K6||(K6=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.START_BIN="1010",Fp.END_BIN="11101",Fp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Fp}var G6;function _F(){if(G6)return T1;G6=1,Object.defineProperty(T1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=pre(),n=ud(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var f=this,A=this.data.match(/.{2}/g).map(function(g){return f.encodePair(g)}).join("");return{data:e.START_BIN+A+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(f){var A=e.BINARIES[f[1]];return e.BINARIES[f[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(A[m]==="1"?"000":"0")}).join("")}}]),h})(a.default);return T1.default=u,T1}var _1={},q6;function mre(){if(q6)return _1;q6=1,Object.defineProperty(_1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=_F(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function s(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function c(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var l=function(h){var d=h.substr(0,13).split("").map(function(f){return parseInt(f,10)}).reduce(function(f,A,g){return f+A*(3-g%2*2)},0);return Math.ceil(d/10)*10-d},u=(function(o){c(h,o);function h(d,f){return i(this,h),d.search(/^[0-9]{13}$/)!==-1&&(d+=l(d)),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,f))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),h})(n.default);return _1.default=u,_1}var X6;function gre(){if(X6)return RA;X6=1,Object.defineProperty(RA,"__esModule",{value:!0}),RA.ITF14=RA.ITF=void 0;var r=_F(),e=i(r),n=mre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return RA.ITF=e.default,RA.ITF14=a.default,RA}var ed={},O1={},Y6;function qg(){if(Y6)return O1;Y6=1,Object.defineProperty(O1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=ud(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function s(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function c(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var l=(function(o){c(h,o);function h(d,f){return i(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,f))}return r(h,[{key:"encode",value:function(){for(var f="110",A=0;A<this.data.length;A++){var g=parseInt(this.data[A]),m=g.toString(2);m=u(m,4-m.length);for(var x=0;x<m.length;x++)f+=m[x]=="0"?"100":"110"}return f+="1001",{data:f,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h})(n.default);function u(o,h){for(var d=0;d<h;d++)o="0"+o;return o}return O1.default=l,O1}var k1={},x0={},Z6;function ox(){if(Z6)return x0;Z6=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.mod10=r,x0.mod11=e;function r(n){for(var a=0,i=0;i<n.length;i++){var s=parseInt(n[i]);(i+n.length)%2===0?a+=s:a+=s*2%10+Math.floor(s*2/10)}return(10-a%10)%10}function e(n){for(var a=0,i=[2,3,4,5,6,7],s=0;s<n.length;s++){var c=parseInt(n[n.length-1-s]);a+=i[s%i.length]*c}return(11-a%11)%11}return x0}var J6;function vre(){if(J6)return k1;J6=1,Object.defineProperty(k1,"__esModule",{value:!0});var r=qg(),e=a(r),n=ox();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h+(0,n.mod10)(h),d))}return o})(e.default);return k1.default=l,k1}var P1={},eT;function xre(){if(eT)return P1;eT=1,Object.defineProperty(P1,"__esModule",{value:!0});var r=qg(),e=a(r),n=ox();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h+(0,n.mod11)(h),d))}return o})(e.default);return P1.default=l,P1}var F1={},tT;function yre(){if(tT)return F1;tT=1,Object.defineProperty(F1,"__esModule",{value:!0});var r=qg(),e=a(r),n=ox();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),h+=(0,n.mod10)(h),h+=(0,n.mod10)(h),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return o})(e.default);return F1.default=l,F1}var D1={},rT;function bre(){if(rT)return D1;rT=1,Object.defineProperty(D1,"__esModule",{value:!0});var r=qg(),e=a(r),n=ox();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),h+=(0,n.mod11)(h),h+=(0,n.mod10)(h),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return o})(e.default);return D1.default=l,D1}var nT;function wre(){if(nT)return ed;nT=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.MSI1110=ed.MSI1010=ed.MSI11=ed.MSI10=ed.MSI=void 0;var r=qg(),e=h(r),n=vre(),a=h(n),i=xre(),s=h(i),c=yre(),l=h(c),u=bre(),o=h(u);function h(d){return d&&d.__esModule?d:{default:d}}return ed.MSI=e.default,ed.MSI10=a.default,ed.MSI11=s.default,ed.MSI1010=l.default,ed.MSI1110=o.default,ed}var y0={},aT;function jre(){if(aT)return y0;aT=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.pharmacode=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=ud(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){i(this,o);var f=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d));return f.number=parseInt(h,10),f}return r(o,[{key:"encode",value:function(){for(var d=this.number,f="";!isNaN(d)&&d!=0;)d%2===0?(f="11100"+f,d=(d-2)/2):(f="100"+f,d=(d-1)/2);return f=f.slice(0,-2),{data:f,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),o})(n.default);return y0.pharmacode=l,y0}var b0={},iT;function Cre(){if(iT)return b0;iT=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.codabar=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=ud(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){i(this,o),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var f=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h.toUpperCase(),d));return f.text=f.options.text||f.text.replace(/[A-D]/g,""),f}return r(o,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var d=[],f=this.getEncodings(),A=0;A<this.data.length;A++)d.push(f[this.data.charAt(A)]),A!==this.data.length-1&&d.push("0");return{text:this.text,data:d.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),o})(n.default);return b0.codabar=l,b0}var LA={},M1={},Dp={},sT;function Nre(){return sT||(sT=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Dp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Dp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Dp}var oT;function OF(){if(oT)return M1;oT=1,Object.defineProperty(M1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var f=0;f<d.length;f++){var A=d[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}return function(h,d,f){return d&&o(h.prototype,d),f&&o(h,f),h}})(),e=Nre(),n=ud(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,f){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,f))}return r(h,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.data.split("").flatMap(function(x){return e.MULTI_SYMBOLS[x]||x}),A=f.map(function(x){return h.getEncoding(x)}).join(""),g=h.checksum(f,20),m=h.checksum(f.concat(g),15);return{text:this.text,data:h.getEncoding("")+A+h.getEncoding(g)+h.getEncoding(m)+h.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(f){return e.BINARIES[h.symbolValue(f)]}},{key:"getSymbol",value:function(f){return e.SYMBOLS[f]}},{key:"symbolValue",value:function(f){return e.SYMBOLS.indexOf(f)}},{key:"checksum",value:function(f,A){var g=f.slice().reverse().reduce(function(m,x,y){var b=y%A+1;return m+h.symbolValue(x)*b},0);return h.getSymbol(g%47)}}]),h})(a.default);return M1.default=u,M1}var R1={},lT;function Sre(){if(lT)return R1;lT=1,Object.defineProperty(R1,"__esModule",{value:!0});var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=OF(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return r(o,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),o})(n.default);return R1.default=l,R1}var cT;function Bre(){if(cT)return LA;cT=1,Object.defineProperty(LA,"__esModule",{value:!0}),LA.CODE93FullASCII=LA.CODE93=void 0;var r=OF(),e=i(r),n=Sre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return LA.CODE93=e.default,LA.CODE93FullASCII=a.default,LA}var w0={},uT;function Ere(){if(uT)return w0;uT=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.GenericBarcode=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=ud(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return r(o,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),o})(n.default);return w0.GenericBarcode=l,w0}var dT;function Ire(){if(dT)return p1;dT=1,Object.defineProperty(p1,"__esModule",{value:!0});var r=rre(),e=lre(),n=Are(),a=gre(),i=wre(),s=jre(),c=Cre(),l=Bre(),u=Ere();return p1.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:s.pharmacode,codabar:c.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:u.GenericBarcode},p1}var L1={},hT;function lx(){if(hT)return L1;hT=1,Object.defineProperty(L1,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};return L1.default=function(e,n){return r({},e,n)},L1}var U1={},fT;function Tre(){if(fT)return U1;fT=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.default=r;function r(e){var n=[];function a(i){if(Array.isArray(i))for(var s=0;s<i.length;s++)a(i[s]);else i.text=i.text||"",i.data=i.data||"",n.push(i)}return a(e),n}return U1}var H1={},AT;function _re(){if(AT)return H1;AT=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return H1}var Q1={},W1={},$1={},pT;function kF(){if(pT)return $1;pT=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.default=r;function r(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof e[a]=="string"&&(e[a]=parseInt(e[a],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return $1}var V1={},mT;function PF(){if(mT)return V1;mT=1,Object.defineProperty(V1,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return V1.default=r,V1}var gT;function Ore(){if(gT)return W1;gT=1,Object.defineProperty(W1,"__esModule",{value:!0});var r=kF(),e=i(r),n=PF(),a=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function s(c){var l={};for(var u in a.default)a.default.hasOwnProperty(u)&&(c.hasAttribute("jsbarcode-"+u.toLowerCase())&&(l[u]=c.getAttribute("jsbarcode-"+u.toLowerCase())),c.hasAttribute("data-"+u.toLowerCase())&&(l[u]=c.getAttribute("data-"+u.toLowerCase())));return l.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),l=(0,e.default)(l),l}return W1.default=s,W1}var z1={},K1={},td={},vT;function FF(){if(vT)return td;vT=1,Object.defineProperty(td,"__esModule",{value:!0}),td.getTotalWidthOfEncodings=td.calculateEncodingAttributes=td.getBarcodePadding=td.getEncodingHeight=td.getMaximumHeightOfEncodings=void 0;var r=lx(),e=n(r);function n(o){return o&&o.__esModule?o:{default:o}}function a(o,h){return h.height+(h.displayValue&&o.text.length>0?h.fontSize+h.textMargin:0)+h.marginTop+h.marginBottom}function i(o,h,d){if(d.displayValue&&h<o){if(d.textAlign=="center")return Math.floor((o-h)/2);if(d.textAlign=="left")return 0;if(d.textAlign=="right")return Math.floor(o-h)}return 0}function s(o,h,d){for(var f=0;f<o.length;f++){var A=o[f],g=(0,e.default)(h,A.options),m;g.displayValue?m=u(A.text,g,d):m=0;var x=A.data.length*g.width;A.width=Math.ceil(Math.max(m,x)),A.height=a(A,g),A.barcodePadding=i(m,x,g)}}function c(o){for(var h=0,d=0;d<o.length;d++)h+=o[d].width;return h}function l(o){for(var h=0,d=0;d<o.length;d++)o[d].height>h&&(h=o[d].height);return h}function u(o,h,d){var f;if(d)f=d;else if(typeof document<"u")f=document.createElement("canvas").getContext("2d");else return 0;f.font=h.fontOptions+" "+h.fontSize+"px "+h.font;var A=f.measureText(o);if(!A)return 0;var g=A.width;return g}return td.getMaximumHeightOfEncodings=l,td.getEncodingHeight=a,td.getBarcodePadding=i,td.calculateEncodingAttributes=s,td.getTotalWidthOfEncodings=c,td}var xT;function kre(){if(xT)return K1;xT=1,Object.defineProperty(K1,"__esModule",{value:!0});var r=(function(){function l(u,o){for(var h=0;h<o.length;h++){var d=o[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,o,h){return o&&l(u.prototype,o),h&&l(u,h),u}})(),e=lx(),n=i(e),a=FF();function i(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=(function(){function l(u,o,h){s(this,l),this.canvas=u,this.encodings=o,this.options=h}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var h=(0,n.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(h,this.encodings[o]),this.drawCanvasText(h,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,o);var h=(0,a.getTotalWidthOfEncodings)(this.encodings),d=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=h+this.options.marginLeft+this.options.marginRight,this.canvas.height=d,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,h){var d=this.canvas.getContext("2d"),f=h.data,A;o.textPosition=="top"?A=o.marginTop+o.fontSize+o.textMargin:A=o.marginTop,d.fillStyle=o.lineColor;for(var g=0;g<f.length;g++){var m=g*o.width+h.barcodePadding;f[g]==="1"?d.fillRect(m,A,o.width,o.height):f[g]&&d.fillRect(m,A,o.width,o.height*f[g])}}},{key:"drawCanvasText",value:function(o,h){var d=this.canvas.getContext("2d"),f=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var A,g;o.textPosition=="top"?g=o.marginTop+o.fontSize-o.textMargin:g=o.height+o.textMargin+o.marginTop+o.fontSize,d.font=f,o.textAlign=="left"||h.barcodePadding>0?(A=0,d.textAlign="left"):o.textAlign=="right"?(A=h.width-1,d.textAlign="right"):(A=h.width/2,d.textAlign="center"),d.fillText(h.text,A,g)}}},{key:"moveCanvasDrawing",value:function(o){var h=this.canvas.getContext("2d");h.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),l})();return K1.default=c,K1}var G1={},yT;function Pre(){if(yT)return G1;yT=1,Object.defineProperty(G1,"__esModule",{value:!0});var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=lx(),n=i(e),a=FF();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",l=(function(){function u(o,h,d){s(this,u),this.svg=o,this.encodings=h,this.options=d,this.document=d.xmlDocument||document}return r(u,[{key:"render",value:function(){var h=this.options.marginLeft;this.prepareSVG();for(var d=0;d<this.encodings.length;d++){var f=this.encodings[d],A=(0,n.default)(this.options,f.options),g=this.createGroup(h,A.marginTop,this.svg);this.setGroupOptions(g,A),this.drawSvgBarcode(g,A,f),this.drawSVGText(g,A,f),h+=f.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var h=(0,a.getTotalWidthOfEncodings)(this.encodings),d=(0,a.getMaximumHeightOfEncodings)(this.encodings),f=h+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(f,d),this.options.background&&this.drawRect(0,0,f,d,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(h,d,f){var A=f.data,g;d.textPosition=="top"?g=d.fontSize+d.textMargin:g=0;for(var m=0,x=0,y=0;y<A.length;y++)x=y*d.width+f.barcodePadding,A[y]==="1"?m++:m>0&&(this.drawRect(x-d.width*m,g,d.width*m,d.height,h),m=0);m>0&&this.drawRect(x-d.width*(m-1),g,d.width*m,d.height,h)}},{key:"drawSVGText",value:function(h,d,f){var A=this.document.createElementNS(c,"text");if(d.displayValue){var g,m;A.setAttribute("font-family",d.font),A.setAttribute("font-size",d.fontSize),d.fontOptions.includes("bold")&&A.setAttribute("font-weight","bold"),d.fontOptions.includes("italic")&&A.setAttribute("font-style","italic"),d.textPosition=="top"?m=d.fontSize-d.textMargin:m=d.height+d.textMargin+d.fontSize,d.textAlign=="left"||f.barcodePadding>0?(g=0,A.setAttribute("text-anchor","start")):d.textAlign=="right"?(g=f.width-1,A.setAttribute("text-anchor","end")):(g=f.width/2,A.setAttribute("text-anchor","middle")),A.setAttribute("x",g),A.setAttribute("y",m),A.appendChild(this.document.createTextNode(f.text)),h.appendChild(A)}}},{key:"setSvgAttributes",value:function(h,d){var f=this.svg;f.setAttribute("width",h+"px"),f.setAttribute("height",d+"px"),f.setAttribute("x","0px"),f.setAttribute("y","0px"),f.setAttribute("viewBox","0 0 "+h+" "+d),f.setAttribute("xmlns",c),f.setAttribute("version","1.1")}},{key:"createGroup",value:function(h,d,f){var A=this.document.createElementNS(c,"g");return A.setAttribute("transform","translate("+h+", "+d+")"),f.appendChild(A),A}},{key:"setGroupOptions",value:function(h,d){h.setAttribute("fill",d.lineColor)}},{key:"drawRect",value:function(h,d,f,A,g){var m=this.document.createElementNS(c,"rect");return m.setAttribute("x",h),m.setAttribute("y",d),m.setAttribute("width",f),m.setAttribute("height",A),g.appendChild(m),m}}]),u})();return G1.default=l,G1}var q1={},bT;function Fre(){if(bT)return q1;bT=1,Object.defineProperty(q1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i,s,c){e(this,a),this.object=i,this.encodings=s,this.options=c}return r(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return q1.default=n,q1}var wT;function Dre(){if(wT)return z1;wT=1,Object.defineProperty(z1,"__esModule",{value:!0});var r=kre(),e=c(r),n=Pre(),a=c(n),i=Fre(),s=c(i);function c(l){return l&&l.__esModule?l:{default:l}}return z1.default={CanvasRenderer:e.default,SVGRenderer:a.default,ObjectRenderer:s.default},z1}var Mp={},jT;function DF(){if(jT)return Mp;jT=1,Object.defineProperty(Mp,"__esModule",{value:!0});function r(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function e(c,l){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:c}function n(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(c,l):c.__proto__=l)}var a=(function(c){n(l,c);function l(u,o){r(this,l);var h=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return h.name="InvalidInputException",h.symbology=u,h.input=o,h.message='"'+h.input+'" is not a valid input for '+h.symbology,h}return l})(Error),i=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return l})(Error),s=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return l})(Error);return Mp.InvalidInputException=a,Mp.InvalidElementException=i,Mp.NoElementException=s,Mp}var CT;function Mre(){if(CT)return Q1;CT=1,Object.defineProperty(Q1,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e=Ore(),n=c(e),a=Dre(),i=c(a),s=DF();function c(h){return h&&h.__esModule?h:{default:h}}function l(h){if(typeof h=="string")return u(h);if(Array.isArray(h)){for(var d=[],f=0;f<h.length;f++)d.push(l(h[f]));return d}else{if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLImageElement)return o(h);if(h&&h.nodeName&&h.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&h instanceof SVGElement)return{element:h,options:(0,n.default)(h),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement)return{element:h,options:(0,n.default)(h),renderer:i.default.CanvasRenderer};if(h&&h.getContext)return{element:h,renderer:i.default.CanvasRenderer};if(h&&(typeof h>"u"?"undefined":r(h))==="object"&&!h.nodeName)return{element:h,renderer:i.default.ObjectRenderer};throw new s.InvalidElementException}}function u(h){var d=document.querySelectorAll(h);if(d.length!==0){for(var f=[],A=0;A<d.length;A++)f.push(l(d[A]));return f}}function o(h){var d=document.createElement("canvas");return{element:d,options:(0,n.default)(h),renderer:i.default.CanvasRenderer,afterRender:function(){h.setAttribute("src",d.toDataURL())}}}return Q1.default=l,Q1}var X1={},NT;function Rre(){if(NT)return X1;NT=1,Object.defineProperty(X1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i){e(this,a),this.api=i}return r(a,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var c=s.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(l){return this.handleCatch(l),this.api}}}]),a})();return X1.default=n,X1}var wj,ST;function Lre(){if(ST)return wj;ST=1;var r=Ire(),e=y(r),n=lx(),a=y(n),i=Tre(),s=y(i),c=_re(),l=y(c),u=Mre(),o=y(u),h=kF(),d=y(h),f=Rre(),A=y(f),g=DF(),m=PF(),x=y(m);function y(Z){return Z&&Z.__esModule?Z:{default:Z}}var b=function(){},w=function(ee,K,ae){var D=new b;if(typeof ee>"u")throw Error("No element to render on was provided.");return D._renderProperties=(0,o.default)(ee),D._encodings=[],D._options=x.default,D._errorHandler=new A.default(D),typeof K<"u"&&(ae=ae||{},ae.format||(ae.format=_()),D.options(ae)[ae.format](K,ae).render()),D};w.getModule=function(Z){return e.default[Z]};for(var N in e.default)e.default.hasOwnProperty(N)&&S(e.default,N);function S(Z,ee){b.prototype[ee]=b.prototype[ee.toUpperCase()]=b.prototype[ee.toLowerCase()]=function(K,ae){var D=this;return D._errorHandler.wrapBarcodeCall(function(){ae.text=typeof ae.text>"u"?void 0:""+ae.text;var q=(0,a.default)(D._options,ae);q=(0,d.default)(q);var $=Z[ee],L=j(K,$,q);return D._encodings.push(L),D})}}function j(Z,ee,K){Z=""+Z;var ae=new ee(Z,K);if(!ae.valid())throw new g.InvalidInputException(ae.constructor.name,Z);var D=ae.encode();D=(0,s.default)(D);for(var q=0;q<D.length;q++)D[q].options=(0,a.default)(K,D[q].options);return D}function _(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}b.prototype.options=function(Z){return this._options=(0,a.default)(this._options,Z),this},b.prototype.blank=function(Z){var ee=new Array(Z+1).join("0");return this._encodings.push({data:ee}),this},b.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var Z;for(var ee in this._renderProperties){Z=this._renderProperties[ee];var K=(0,a.default)(this._options,Z.options);K.format=="auto"&&(K.format=_()),this._errorHandler.wrapBarcodeCall(function(){var ae=K.value,D=e.default[K.format.toUpperCase()],q=j(ae,D,K);P(Z,q,K)})}}},b.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var Z=0;Z<this._renderProperties.length;Z++)P(this._renderProperties[Z],this._encodings,this._options);else P(this._renderProperties,this._encodings,this._options);return this},b.prototype._defaults=x.default;function P(Z,ee,K){ee=(0,s.default)(ee);for(var ae=0;ae<ee.length;ae++)ee[ae].options=(0,a.default)(K,ee[ae].options),(0,l.default)(ee[ae].options);(0,l.default)(K);var D=Z.renderer,q=new D(Z.element,ee,K);q.render(),Z.afterRender&&Z.afterRender()}return typeof window<"u"&&(window.JsBarcode=w),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Z,ee){var K=[];return jQuery(this).each(function(){K.push(this)}),w(K,Z,ee)}),wj=w,wj}var Ure=Lre();const BT=Ji(Ure);var Rp={},jj,ET;function Hre(){return ET||(ET=1,jj=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),jj}var Cj={},zf={},IT;function vp(){if(IT)return zf;IT=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return zf.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},zf.getSymbolTotalCodewords=function(a){return e[a]},zf.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},zf.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},zf.isKanjiModeEnabled=function(){return typeof r<"u"},zf.toSJIS=function(a){return r(a)},zf}var Nj={},TT;function tS(){return TT||(TT=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,i){if(r.isValid(a))return a;try{return e(a)}catch{return i}}})(Nj)),Nj}var Sj,_T;function Qre(){if(_T)return Sj;_T=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let a=0;a<n;a++)this.putBit((e>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Sj=r,Sj}var Bj,OT;function Wre(){if(OT)return Bj;OT=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,a,i){const s=e*this.size+n;this.data[s]=a,i&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,a){this.data[e*this.size+n]^=a},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Bj=r,Bj}var Ej={},kT;function $re(){return kT||(kT=1,(function(r){const e=vp().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const i=Math.floor(a/7)+2,s=e(a),c=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let u=1;u<i-1;u++)l[u]=l[u-1]-c;return l.push(6),l.reverse()},r.getPositions=function(a){const i=[],s=r.getRowColCoords(a),c=s.length;for(let l=0;l<c;l++)for(let u=0;u<c;u++)l===0&&u===0||l===0&&u===c-1||l===c-1&&u===0||i.push([s[l],s[u]]);return i}})(Ej)),Ej}var Ij={},PT;function Vre(){if(PT)return Ij;PT=1;const r=vp().getSymbolSize,e=7;return Ij.getPositions=function(a){const i=r(a);return[[0,0],[i-e,0],[0,i-e]]},Ij}var Tj={},FT;function zre(){return FT||(FT=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const s=i.size;let c=0,l=0,u=0,o=null,h=null;for(let d=0;d<s;d++){l=u=0,o=h=null;for(let f=0;f<s;f++){let A=i.get(d,f);A===o?l++:(l>=5&&(c+=e.N1+(l-5)),o=A,l=1),A=i.get(f,d),A===h?u++:(u>=5&&(c+=e.N1+(u-5)),h=A,u=1)}l>=5&&(c+=e.N1+(l-5)),u>=5&&(c+=e.N1+(u-5))}return c},r.getPenaltyN2=function(i){const s=i.size;let c=0;for(let l=0;l<s-1;l++)for(let u=0;u<s-1;u++){const o=i.get(l,u)+i.get(l,u+1)+i.get(l+1,u)+i.get(l+1,u+1);(o===4||o===0)&&c++}return c*e.N2},r.getPenaltyN3=function(i){const s=i.size;let c=0,l=0,u=0;for(let o=0;o<s;o++){l=u=0;for(let h=0;h<s;h++)l=l<<1&2047|i.get(o,h),h>=10&&(l===1488||l===93)&&c++,u=u<<1&2047|i.get(h,o),h>=10&&(u===1488||u===93)&&c++}return c*e.N3},r.getPenaltyN4=function(i){let s=0;const c=i.data.length;for(let u=0;u<c;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/c/5)-10)*e.N4};function n(a,i,s){switch(a){case r.Patterns.PATTERN000:return(i+s)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(i+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return i*s%2+i*s%3===0;case r.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case r.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(i,s){const c=s.size;for(let l=0;l<c;l++)for(let u=0;u<c;u++)s.isReserved(u,l)||s.xor(u,l,n(i,u,l))},r.getBestMask=function(i,s){const c=Object.keys(r.Patterns).length;let l=0,u=1/0;for(let o=0;o<c;o++){s(o),r.applyMask(o,i);const h=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(o,i),h<u&&(u=h,l=o)}return l}})(Tj)),Tj}var Y1={},DT;function MF(){if(DT)return Y1;DT=1;const r=tS(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Y1.getBlocksCount=function(i,s){switch(s){case r.L:return e[(i-1)*4+0];case r.M:return e[(i-1)*4+1];case r.Q:return e[(i-1)*4+2];case r.H:return e[(i-1)*4+3];default:return}},Y1.getTotalCodewordsCount=function(i,s){switch(s){case r.L:return n[(i-1)*4+0];case r.M:return n[(i-1)*4+1];case r.Q:return n[(i-1)*4+2];case r.H:return n[(i-1)*4+3];default:return}},Y1}var _j={},j0={},MT;function Kre(){if(MT)return j0;MT=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let a=1;for(let i=0;i<255;i++)r[i]=a,e[a]=i,a<<=1,a&256&&(a^=285);for(let i=255;i<512;i++)r[i]=r[i-255]})(),j0.log=function(a){if(a<1)throw new Error("log("+a+")");return e[a]},j0.exp=function(a){return r[a]},j0.mul=function(a,i){return a===0||i===0?0:r[e[a]+e[i]]},j0}var RT;function Gre(){return RT||(RT=1,(function(r){const e=Kre();r.mul=function(a,i){const s=new Uint8Array(a.length+i.length-1);for(let c=0;c<a.length;c++)for(let l=0;l<i.length;l++)s[c+l]^=e.mul(a[c],i[l]);return s},r.mod=function(a,i){let s=new Uint8Array(a);for(;s.length-i.length>=0;){const c=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],c);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},r.generateECPolynomial=function(a){let i=new Uint8Array([1]);for(let s=0;s<a;s++)i=r.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(_j)),_j}var Oj,LT;function qre(){if(LT)return Oj;LT=1;const r=Gre();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(a.length+this.degree);i.set(a);const s=r.mod(i,this.genPoly),c=this.degree-s.length;if(c>0){const l=new Uint8Array(this.degree);return l.set(s,c),l}return s},Oj=e,Oj}var kj={},Pj={},Fj={},UT;function RF(){return UT||(UT=1,Fj.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Fj}var Nh={},HT;function LF(){if(HT)return Nh;HT=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Nh.KANJI=new RegExp(n,"g"),Nh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Nh.BYTE=new RegExp(a,"g"),Nh.NUMERIC=new RegExp(r,"g"),Nh.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Nh.testKanji=function(u){return i.test(u)},Nh.testNumeric=function(u){return s.test(u)},Nh.testAlphanumeric=function(u){return c.test(u)},Nh}var QT;function xp(){return QT||(QT=1,(function(r){const e=RF(),n=LF();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return n.testNumeric(s)?r.NUMERIC:n.testAlphanumeric(s)?r.ALPHANUMERIC:n.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function a(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(s,c){if(r.isValid(s))return s;try{return a(s)}catch{return c}}})(Pj)),Pj}var WT;function Xre(){return WT||(WT=1,(function(r){const e=vp(),n=MF(),a=tS(),i=xp(),s=RF(),c=7973,l=e.getBCHDigit(c);function u(f,A,g){for(let m=1;m<=40;m++)if(A<=r.getCapacity(m,g,f))return m}function o(f,A){return i.getCharCountIndicator(f,A)+4}function h(f,A){let g=0;return f.forEach(function(m){const x=o(m.mode,A);g+=x+m.getBitsLength()}),g}function d(f,A){for(let g=1;g<=40;g++)if(h(f,g)<=r.getCapacity(g,A,i.MIXED))return g}r.from=function(A,g){return s.isValid(A)?parseInt(A,10):g},r.getCapacity=function(A,g,m){if(!s.isValid(A))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const x=e.getSymbolTotalCodewords(A),y=n.getTotalCodewordsCount(A,g),b=(x-y)*8;if(m===i.MIXED)return b;const w=b-o(m,A);switch(m){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(A,g){let m;const x=a.from(g,a.M);if(Array.isArray(A)){if(A.length>1)return d(A,x);if(A.length===0)return 1;m=A[0]}else m=A;return u(m.mode,m.getLength(),x)},r.getEncodedBits=function(A){if(!s.isValid(A)||A<7)throw new Error("Invalid QR Code version");let g=A<<12;for(;e.getBCHDigit(g)-l>=0;)g^=c<<e.getBCHDigit(g)-l;return A<<12|g}})(kj)),kj}var Dj={},$T;function Yre(){if($T)return Dj;$T=1;const r=vp(),e=1335,n=21522,a=r.getBCHDigit(e);return Dj.getEncodedBits=function(s,c){const l=s.bit<<3|c;let u=l<<10;for(;r.getBCHDigit(u)-a>=0;)u^=e<<r.getBCHDigit(u)-a;return(l<<10|u)^n},Dj}var Mj={},Rj,VT;function Zre(){if(VT)return Rj;VT=1;const r=xp();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let i,s,c;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),c=parseInt(s,10),a.put(c,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),c=parseInt(s,10),a.put(c,l*3+1))},Rj=e,Rj}var Lj,zT;function Jre(){if(zT)return Lj;zT=1;const r=xp(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let c=e.indexOf(this.data[s])*45;c+=e.indexOf(this.data[s+1]),i.put(c,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Lj=n,Lj}var Uj,KT;function ene(){if(KT)return Uj;KT=1;const r=xp();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(a){return a*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let a=0,i=this.data.length;a<i;a++)n.put(this.data[a],8)},Uj=e,Uj}var Hj,GT;function tne(){if(GT)return Hj;GT=1;const r=xp(),e=vp();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),a.put(s,13)}},Hj=n,Hj}var Qj={exports:{}},qT;function rne(){return qT||(qT=1,(function(r){var e={single_source_shortest_paths:function(n,a,i){var s={},c={};c[a]=0;var l=e.PriorityQueue.make();l.push(a,0);for(var u,o,h,d,f,A,g,m,x;!l.empty();){u=l.pop(),o=u.value,d=u.cost,f=n[o]||{};for(h in f)f.hasOwnProperty(h)&&(A=f[h],g=d+A,m=c[h],x=typeof c[h]>"u",(x||m>g)&&(c[h]=g,l.push(h,g),s[h]=o))}if(typeof i<"u"&&typeof c[i]>"u"){var y=["Could not find a path from ",a," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(n,a){for(var i=[],s=a;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,a,i){var s=e.single_source_shortest_paths(n,a,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var a=e.PriorityQueue,i={},s;n=n||{};for(s in a)a.hasOwnProperty(s)&&(i[s]=a[s]);return i.queue=[],i.sorter=n.sorter||a.default_sorter,i},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var i={value:n,cost:a};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Qj)),Qj.exports}var XT;function nne(){return XT||(XT=1,(function(r){const e=xp(),n=Zre(),a=Jre(),i=ene(),s=tne(),c=LF(),l=vp(),u=rne();function o(y){return unescape(encodeURIComponent(y)).length}function h(y,b,w){const N=[];let S;for(;(S=y.exec(w))!==null;)N.push({data:S[0],index:S.index,mode:b,length:S[0].length});return N}function d(y){const b=h(c.NUMERIC,e.NUMERIC,y),w=h(c.ALPHANUMERIC,e.ALPHANUMERIC,y);let N,S;return l.isKanjiModeEnabled()?(N=h(c.BYTE,e.BYTE,y),S=h(c.KANJI,e.KANJI,y)):(N=h(c.BYTE_KANJI,e.BYTE,y),S=[]),b.concat(w,N,S).sort(function(_,P){return _.index-P.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function f(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return a.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function A(y){return y.reduce(function(b,w){const N=b.length-1>=0?b[b.length-1]:null;return N&&N.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function g(y){const b=[];for(let w=0;w<y.length;w++){const N=y[w];switch(N.mode){case e.NUMERIC:b.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:b.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:b.push([N,{data:N.data,mode:e.BYTE,length:o(N.data)}]);break;case e.BYTE:b.push([{data:N.data,mode:e.BYTE,length:o(N.data)}])}}return b}function m(y,b){const w={},N={start:{}};let S=["start"];for(let j=0;j<y.length;j++){const _=y[j],P=[];for(let Z=0;Z<_.length;Z++){const ee=_[Z],K=""+j+Z;P.push(K),w[K]={node:ee,lastCount:0},N[K]={};for(let ae=0;ae<S.length;ae++){const D=S[ae];w[D]&&w[D].node.mode===ee.mode?(N[D][K]=f(w[D].lastCount+ee.length,ee.mode)-f(w[D].lastCount,ee.mode),w[D].lastCount+=ee.length):(w[D]&&(w[D].lastCount=ee.length),N[D][K]=f(ee.length,ee.mode)+4+e.getCharCountIndicator(ee.mode,b))}}S=P}for(let j=0;j<S.length;j++)N[S[j]].end=0;return{map:N,table:w}}function x(y,b){let w;const N=e.getBestModeForData(y);if(w=e.from(b,N),w!==e.BYTE&&w.bit<N.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(N));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new a(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}r.fromArray=function(b){return b.reduce(function(w,N){return typeof N=="string"?w.push(x(N,null)):N.data&&w.push(x(N.data,N.mode)),w},[])},r.fromString=function(b,w){const N=d(b,l.isKanjiModeEnabled()),S=g(N),j=m(S,w),_=u.find_path(j.map,"start","end"),P=[];for(let Z=1;Z<_.length-1;Z++)P.push(j.table[_[Z]].node);return r.fromArray(A(P))},r.rawSplit=function(b){return r.fromArray(d(b,l.isKanjiModeEnabled()))}})(Mj)),Mj}var YT;function ane(){if(YT)return Cj;YT=1;const r=vp(),e=tS(),n=Qre(),a=Wre(),i=$re(),s=Vre(),c=zre(),l=MF(),u=qre(),o=Xre(),h=Yre(),d=xp(),f=nne();function A(j,_){const P=j.size,Z=s.getPositions(_);for(let ee=0;ee<Z.length;ee++){const K=Z[ee][0],ae=Z[ee][1];for(let D=-1;D<=7;D++)if(!(K+D<=-1||P<=K+D))for(let q=-1;q<=7;q++)ae+q<=-1||P<=ae+q||(D>=0&&D<=6&&(q===0||q===6)||q>=0&&q<=6&&(D===0||D===6)||D>=2&&D<=4&&q>=2&&q<=4?j.set(K+D,ae+q,!0,!0):j.set(K+D,ae+q,!1,!0))}}function g(j){const _=j.size;for(let P=8;P<_-8;P++){const Z=P%2===0;j.set(P,6,Z,!0),j.set(6,P,Z,!0)}}function m(j,_){const P=i.getPositions(_);for(let Z=0;Z<P.length;Z++){const ee=P[Z][0],K=P[Z][1];for(let ae=-2;ae<=2;ae++)for(let D=-2;D<=2;D++)ae===-2||ae===2||D===-2||D===2||ae===0&&D===0?j.set(ee+ae,K+D,!0,!0):j.set(ee+ae,K+D,!1,!0)}}function x(j,_){const P=j.size,Z=o.getEncodedBits(_);let ee,K,ae;for(let D=0;D<18;D++)ee=Math.floor(D/3),K=D%3+P-8-3,ae=(Z>>D&1)===1,j.set(ee,K,ae,!0),j.set(K,ee,ae,!0)}function y(j,_,P){const Z=j.size,ee=h.getEncodedBits(_,P);let K,ae;for(K=0;K<15;K++)ae=(ee>>K&1)===1,K<6?j.set(K,8,ae,!0):K<8?j.set(K+1,8,ae,!0):j.set(Z-15+K,8,ae,!0),K<8?j.set(8,Z-K-1,ae,!0):K<9?j.set(8,15-K-1+1,ae,!0):j.set(8,15-K-1,ae,!0);j.set(Z-8,8,1,!0)}function b(j,_){const P=j.size;let Z=-1,ee=P-1,K=7,ae=0;for(let D=P-1;D>0;D-=2)for(D===6&&D--;;){for(let q=0;q<2;q++)if(!j.isReserved(ee,D-q)){let $=!1;ae<_.length&&($=(_[ae]>>>K&1)===1),j.set(ee,D-q,$),K--,K===-1&&(ae++,K=7)}if(ee+=Z,ee<0||P<=ee){ee-=Z,Z=-Z;break}}}function w(j,_,P){const Z=new n;P.forEach(function(q){Z.put(q.mode.bit,4),Z.put(q.getLength(),d.getCharCountIndicator(q.mode,j)),q.write(Z)});const ee=r.getSymbolTotalCodewords(j),K=l.getTotalCodewordsCount(j,_),ae=(ee-K)*8;for(Z.getLengthInBits()+4<=ae&&Z.put(0,4);Z.getLengthInBits()%8!==0;)Z.putBit(0);const D=(ae-Z.getLengthInBits())/8;for(let q=0;q<D;q++)Z.put(q%2?17:236,8);return N(Z,j,_)}function N(j,_,P){const Z=r.getSymbolTotalCodewords(_),ee=l.getTotalCodewordsCount(_,P),K=Z-ee,ae=l.getBlocksCount(_,P),D=Z%ae,q=ae-D,$=Math.floor(Z/ae),L=Math.floor(K/ae),ye=L+1,ne=$-L,Be=new u(ne);let Te=0;const me=new Array(ae),ue=new Array(ae);let ve=0;const le=new Uint8Array(j.buffer);for(let ce=0;ce<ae;ce++){const X=ce<q?L:ye;me[ce]=le.slice(Te,Te+X),ue[ce]=Be.encode(me[ce]),Te+=X,ve=Math.max(ve,X)}const Ae=new Uint8Array(Z);let Ie=0,Pe,Ce;for(Pe=0;Pe<ve;Pe++)for(Ce=0;Ce<ae;Ce++)Pe<me[Ce].length&&(Ae[Ie++]=me[Ce][Pe]);for(Pe=0;Pe<ne;Pe++)for(Ce=0;Ce<ae;Ce++)Ae[Ie++]=ue[Ce][Pe];return Ae}function S(j,_,P,Z){let ee;if(Array.isArray(j))ee=f.fromArray(j);else if(typeof j=="string"){let $=_;if(!$){const L=f.rawSplit(j);$=o.getBestVersionForData(L,P)}ee=f.fromString(j,$||40)}else throw new Error("Invalid data");const K=o.getBestVersionForData(ee,P);if(!K)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=K;else if(_<K)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+K+`.
`);const ae=w(_,P,ee),D=r.getSymbolSize(_),q=new a(D);return A(q,_),g(q),m(q,_),y(q,P,0),_>=7&&x(q,_),b(q,ae),isNaN(Z)&&(Z=c.getBestMask(q,y.bind(null,q,P))),c.applyMask(Z,q),y(q,P,Z),{modules:q,version:_,errorCorrectionLevel:P,maskPattern:Z,segments:ee}}return Cj.create=function(_,P){if(typeof _>"u"||_==="")throw new Error("No input text");let Z=e.M,ee,K;return typeof P<"u"&&(Z=e.from(P.errorCorrectionLevel,e.M),ee=o.from(P.version),K=c.from(P.maskPattern),P.toSJISFunc&&r.setToSJISFunction(P.toSJISFunc)),S(_,ee,Z,K)},Cj}var Wj={},$j={},ZT;function UF(){return ZT||(ZT=1,(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(s){return[s,s]}))),a.length===6&&a.push("F","F");const i=parseInt(a.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const i=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,s=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:s,scale:s?4:c,margin:i,color:{dark:e(a.color.dark||"#000000ff"),light:e(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,i){return i.width&&i.width>=a+i.margin*2?i.width/(a+i.margin*2):i.scale},r.getImageWidth=function(a,i){const s=r.getScale(a,i);return Math.floor((a+i.margin*2)*s)},r.qrToImageData=function(a,i,s){const c=i.modules.size,l=i.modules.data,u=r.getScale(c,s),o=Math.floor((c+s.margin*2)*u),h=s.margin*u,d=[s.color.light,s.color.dark];for(let f=0;f<o;f++)for(let A=0;A<o;A++){let g=(f*o+A)*4,m=s.color.light;if(f>=h&&A>=h&&f<o-h&&A<o-h){const x=Math.floor((f-h)/u),y=Math.floor((A-h)/u);m=d[l[x*c+y]?1:0]}a[g++]=m.r,a[g++]=m.g,a[g++]=m.b,a[g]=m.a}}})($j)),$j}var JT;function ine(){return JT||(JT=1,(function(r){const e=UF();function n(i,s,c){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,c,l){let u=l,o=c;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),c||(o=a()),u=e.getOptions(u);const h=e.getImageWidth(s.modules.size,u),d=o.getContext("2d"),f=d.createImageData(h,h);return e.qrToImageData(f.data,s,u),n(d,o,h),d.putImageData(f,0,0),o},r.renderToDataURL=function(s,c,l){let u=l;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),u||(u={});const o=r.render(s,c,u),h=u.type||"image/png",d=u.rendererOpts||{};return o.toDataURL(h,d.quality)}})(Wj)),Wj}var Vj={},e_;function sne(){if(e_)return Vj;e_=1;const r=UF();function e(i,s){const c=i.a/255,l=s+'="'+i.hex+'"';return c<1?l+" "+s+'-opacity="'+c.toFixed(2).slice(1)+'"':l}function n(i,s,c){let l=i+s;return typeof c<"u"&&(l+=" "+c),l}function a(i,s,c){let l="",u=0,o=!1,h=0;for(let d=0;d<i.length;d++){const f=Math.floor(d%s),A=Math.floor(d/s);!f&&!o&&(o=!0),i[d]?(h++,d>0&&f>0&&i[d-1]||(l+=o?n("M",f+c,.5+A+c):n("m",u,0),u=0,o=!1),f+1<s&&i[d+1]||(l+=n("h",h),h=0)):u++}return l}return Vj.render=function(s,c,l){const u=r.getOptions(c),o=s.modules.size,h=s.modules.data,d=o+u.margin*2,f=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",A="<path "+e(u.color.dark,"stroke")+' d="'+a(h,o,u.margin)+'"/>',g='viewBox="0 0 '+d+" "+d+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+A+`</svg>
`;return typeof l=="function"&&l(null,x),x},Vj}var t_;function one(){if(t_)return Rp;t_=1;const r=Hre(),e=ane(),n=ine(),a=sne();function i(s,c,l,u,o){const h=[].slice.call(arguments,1),d=h.length,f=typeof h[d-1]=="function";if(!f&&!r())throw new Error("Callback required as last argument");if(f){if(d<2)throw new Error("Too few arguments provided");d===2?(o=l,l=c,c=u=void 0):d===3&&(c.getContext&&typeof o>"u"?(o=u,u=void 0):(o=u,u=l,l=c,c=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(l=c,c=u=void 0):d===2&&!c.getContext&&(u=l,l=c,c=void 0),new Promise(function(A,g){try{const m=e.create(l,u);A(s(m,c,u))}catch(m){g(m)}})}try{const A=e.create(l,u);o(null,s(A,c,u))}catch(A){o(A)}}return Rp.create=e.create,Rp.toCanvas=i.bind(null,n.render),Rp.toDataURL=i.bind(null,n.renderToDataURL),Rp.toString=i.bind(null,function(s,c,l){return a.render(s,l)}),Rp}var lne=one();const r_=Ji(lne),cne=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),[c,l]=k.useState(!1),[u,o]=k.useState([]),h=k.useRef(null),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState([]),[w,N]=k.useState(!1),[S,j]=k.useState(null),[_,P]=k.useState(!1),Z=()=>{P(!_)},[ee,K]=k.useState({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1}),ae=k.useCallback(async()=>{try{const Be=await Qa.getAllCompanies(void 0,!0);f(Be)}catch(Be){console.error("Failed to load companies:",Be),j("Failed to load companies")}},[]),D=k.useCallback(async()=>{try{const Be=await ks.getAllHcfs(void 0,!0);g(Be)}catch(Be){console.error("Failed to load HCFs:",Be),j("Failed to load HCFs")}},[]);k.useEffect(()=>{if(ee.companyId){const Be=A.filter(Te=>Te.companyId===ee.companyId);x(Be),ee.hcfId&&!Be.find(Te=>Te.id===ee.hcfId)&&K(Te=>({...Te,hcfId:""}))}else x([]),K(Be=>({...Be,hcfId:""}))},[ee.companyId,A]);const q=k.useCallback(async()=>{try{N(!0);const Be=await iA.getAllBarcodeLabels(),Te=await Promise.all(Be.map(async me=>{const ue=d.find(le=>le.id===me.companyId);let ve="";try{ve=(await ks.getHcfById(me.hcfId)).hcfName}catch(le){console.error("Error loading HCF:",le)}return{id:me.id,hcfCode:me.hcfCode,hcfName:ve,companyId:me.companyId,companyName:(ue==null?void 0:ue.companyName)||"Unknown",sequenceNumber:me.sequenceNumber,barcodeType:me.barcodeType,colorBlock:me.colorBlock,barcodeValue:me.barcodeValue,createdAt:me.createdOn}}));b(Te)}catch(Be){console.error("Failed to load labels:",Be),j("Failed to load labels")}finally{N(!1)}},[d]);k.useEffect(()=>{ae(),D()},[ae,D]),k.useEffect(()=>{d.length>0&&q()},[d,q]),k.useCallback(async(Be,Te)=>{try{return await iA.getLastSequence(Be,Te)}catch(me){return console.error("Failed to get last sequence:",me),0}},[]);const $=async()=>{if(!ee.companyId||!ee.hcfId||ee.count<1){j("Please select company, HCF, and enter valid count");return}const Be=m.find(me=>me.id===ee.hcfId),Te=d.find(me=>me.id===ee.companyId);if(!Be||!Te){j("Invalid selection");return}try{N(!0),j(null);const ue=(await iA.generateLabels({hcfId:ee.hcfId,companyId:ee.companyId,barcodeType:ee.barcodeType,colorBlock:ee.colorBlock,count:ee.count})).map(ve=>({id:ve.id,hcfCode:ve.hcfCode,hcfName:Be.hcfName,companyId:ve.companyId,companyName:Te.companyName,sequenceNumber:ve.sequenceNumber,barcodeType:ve.barcodeType,colorBlock:ve.colorBlock,barcodeValue:ve.barcodeValue,createdAt:ve.createdOn}));await q(),o(ue),l(!0),s(!1),K({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1})}catch(me){const ue=me instanceof Error?me.message:"Failed to generate labels";j(ue),console.error("Error generating labels:",me)}finally{N(!1)}};k.useEffect(()=>{c&&h.current&&u.length>0&&setTimeout(()=>{const Be=h.current;if(!Be)return;const Te=Be.querySelectorAll(".barcode-svg"),me=Be.querySelectorAll(".qr-canvas");Te.forEach((ue,ve)=>{const le=u[ve];if(le&&le.barcodeType==="Barcode")try{ue.innerHTML="",BT(ue,le.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(Ae){console.error("Failed to generate barcode:",Ae)}}),me.forEach((ue,ve)=>{const le=u[ve];le&&le.barcodeType==="QR Code"&&r_.toCanvas(ue,le.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(Ae=>{console.error("Failed to generate QR code:",Ae)})})},100)},[u,c]);const L=()=>{!h.current||u.length===0||setTimeout(()=>{const Be=h.current;if(!Be)return;const Te=Be.querySelectorAll(".barcode-svg"),me=Be.querySelectorAll(".qr-canvas");Te.forEach((ue,ve)=>{const le=u[ve];if(le&&le.barcodeType==="Barcode")try{ue.innerHTML="",BT(ue,le.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(Ae){console.error("Failed to generate barcode:",Ae)}}),me.forEach((ue,ve)=>{const le=u[ve];le&&le.barcodeType==="QR Code"&&r_.toCanvas(ue,le.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(Ae=>{console.error("Failed to generate QR code:",Ae)})}),setTimeout(()=>{window.print()},200)},100)},ye=y.filter(Be=>Be.hcfCode.toLowerCase().includes(n.toLowerCase())||Be.hcfName.toLowerCase().includes(n.toLowerCase())||Be.companyName.toLowerCase().includes(n.toLowerCase())||Be.barcodeValue.toLowerCase().includes(n.toLowerCase())),ne=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${_?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!_&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:Z,"aria-label":_?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ne.map(Be=>t.jsx("li",{children:t.jsxs(en,{to:Be.path,className:`nav-link ${Be.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Be.icon}),!_&&t.jsx("span",{className:"nav-label",children:Be.label})]})},Be.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!_&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!_&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Barcode Generation"})})}),t.jsxs("div",{className:"barcode-generation-page",children:[t.jsxs("div",{className:"barcode-generation-header",children:[t.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),t.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]}),t.jsxs("div",{className:"barcode-generation-actions",children:[t.jsxs("div",{className:"barcode-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:n,onChange:Be=>a(Be.target.value)})]}),t.jsxs("button",{className:"generate-btn",onClick:()=>s(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]}),S&&t.jsxs("div",{className:"barcode-error-banner",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),S]}),t.jsx("div",{className:"barcode-table-container",children:t.jsxs("table",{className:"barcode-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Sequence"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ye.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:'No labels generated yet. Click "Generate Labels" to create barcode/QR labels.'})}):ye.map(Be=>t.jsxs("tr",{children:[t.jsx("td",{className:"sequence-cell",children:Be.sequenceNumber}),t.jsx("td",{className:"hcf-code-cell",children:Be.hcfCode}),t.jsx("td",{children:Be.hcfName}),t.jsx("td",{children:Be.companyName}),t.jsx("td",{children:t.jsx("span",{className:`barcode-type-badge barcode-type-badge--${Be.barcodeType.toLowerCase().replace(" ","-")}`,children:Be.barcodeType})}),t.jsx("td",{children:t.jsx("span",{className:`color-block-badge color-block-badge--${Be.colorBlock.toLowerCase()}`,children:Be.colorBlock})}),t.jsx("td",{className:"barcode-value-cell",children:Be.barcodeValue}),t.jsx("td",{children:t.jsx("div",{className:"barcode-action-buttons",children:t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>{o([Be]),l(!0)},title:"Preview & Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})})})]},Be.id))})]})}),t.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",ye.length," of ",y.length," Labels"]})]})]}),i&&t.jsx(une,{companies:d,hcfs:m,formData:ee,setFormData:K,onClose:()=>s(!1),onGenerate:$}),c&&u.length>0&&t.jsx(dne,{labels:u,printContainerRef:h,onClose:()=>l(!1),onPrint:L}),t.jsx("div",{className:"print-container",ref:h,children:u.map(Be=>t.jsxs("div",{className:"print-label",children:[t.jsxs("div",{className:"print-label-header",children:[t.jsx("div",{className:`print-color-block-square print-color-block-square--${Be.colorBlock.toLowerCase()}`,children:Be.colorBlock.toUpperCase()}),t.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",Be.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsxs("div",{className:"print-barcode-container",children:[Be.barcodeType==="QR Code"?t.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):t.jsx("svg",{className:"barcode-svg"}),t.jsx("div",{className:"print-barcode-value",children:Be.barcodeValue})]}),t.jsx("div",{className:"print-label-footer",children:t.jsx("div",{className:"print-type-label",children:Be.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},Be.id))})]})},une=({companies:r,hcfs:e,formData:n,setFormData:a,onClose:i,onGenerate:s})=>{const c=e.find(A=>A.id===n.hcfId),[l,u]=k.useState(0),[o,h]=k.useState(0),[d,f]=k.useState(!1);return k.useEffect(()=>{c?(f(!0),Promise.all([iA.getLastSequence(c.hcfCode,"Barcode").catch(()=>0),iA.getLastSequence(c.hcfCode,"QR Code").catch(()=>0)]).then(([A,g])=>{u(A),h(g),f(!1)}).catch(()=>{f(!1)})):(u(0),h(0))},[c]),t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Barcode/QR Labels"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"barcode-form",onSubmit:A=>{A.preventDefault(),s()},children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Label Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:n.companyId,onChange:A=>a({...n,companyId:A.target.value,hcfId:""}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(A=>t.jsxs("option",{value:A.id,children:[A.companyCode," - ",A.companyName]},A.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:n.hcfId,onChange:A=>a({...n,hcfId:A.target.value}),required:!0,disabled:!n.companyId,children:[t.jsx("option",{value:"",children:"Select HCF"}),e.map(A=>t.jsxs("option",{value:A.id,children:[A.hcfCode," - ",A.hcfName]},A.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode Type *"}),t.jsxs("select",{value:n.barcodeType,onChange:A=>a({...n,barcodeType:A.target.value}),required:!0,children:[t.jsx("option",{value:"Barcode",children:"Barcode (Code128)"}),t.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Print Color Block *"}),t.jsxs("select",{value:n.colorBlock,onChange:A=>a({...n,colorBlock:A.target.value}),required:!0,children:[t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode Count *"}),t.jsx("input",{type:"number",value:n.count,onChange:A=>a({...n,count:parseInt(A.target.value)||1}),required:!0,min:1,max:1e3,placeholder:"Enter count (1-1000)"})]}),c&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Sequence"}),t.jsx("input",{type:"text",value:d?"Loading...":`Barcode: ${l} | QR: ${o}`,readOnly:!0,style:{backgroundColor:"#f1f5f9",cursor:"not-allowed"}})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Generate Labels"})]})]})]})})},dne=({labels:r,printContainerRef:e,onClose:n,onPrint:a})=>{var i,s,c,l,u,o,h;return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--preview",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Preview Labels (",r.length,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"preview-content",children:[t.jsxs("div",{className:"preview-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"HCF:"})," ",(i=r[0])==null?void 0:i.hcfCode," - ",(s=r[0])==null?void 0:s.hcfName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Company:"})," ",(c=r[0])==null?void 0:c.companyName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",(l=r[0])==null?void 0:l.barcodeType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Color Block:"})," ",(u=r[0])==null?void 0:u.colorBlock]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Sequence Range:"})," ",(o=r[0])==null?void 0:o.sequenceNumber," - ",(h=r[r.length-1])==null?void 0:h.sequenceNumber]})]}),t.jsx("div",{className:"preview-labels-grid",children:r.slice(0,6).map(d=>t.jsxs("div",{className:"preview-label",children:[t.jsxs("div",{className:"preview-label-header",children:[t.jsx("div",{className:`preview-color-block-square preview-color-block-square--${d.colorBlock.toLowerCase()}`,children:d.colorBlock.toUpperCase()}),t.jsxs("div",{className:"preview-sequence-text",children:["Seq. No. ",d.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsx("div",{className:"preview-barcode-placeholder",children:d.barcodeType==="QR Code"?"QR Code":"Barcode"}),t.jsx("div",{className:"preview-barcode-value",children:d.barcodeValue}),t.jsx("div",{className:"preview-label-footer",children:t.jsx("div",{className:"preview-type-label",children:d.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},d.id))}),r.length>6&&t.jsxs("p",{className:"preview-more-info",children:["... and ",r.length-6," more labels"]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:a,children:"Print Labels"})]})]})})},hne="http://localhost:3000/api/v1",fne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},C0=async(r,e={})=>{const n=fne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${hne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},sv={createCertificate:async r=>(await C0("/training-certificates",{method:"POST",body:JSON.stringify(r)})).data,getCertificateById:async r=>(await C0(`/training-certificates/${r}`,{method:"GET"})).data,getAllCertificates:async(r,e,n)=>{let a="/training-certificates";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("activeOnly","true"),n!=null&&n.hcfId&&i.append("hcfId",n.hcfId),n!=null&&n.status&&i.append("status",n.status),n!=null&&n.dateFrom&&i.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&i.append("dateTo",n.dateTo),n!=null&&n.search&&i.append("search",n.search),i.toString()&&(a+=`?${i.toString()}`),(await C0(a,{method:"GET"})).data},updateCertificate:async(r,e)=>(await C0(`/training-certificates/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCertificate:async r=>{await C0(`/training-certificates/${r}`,{method:"DELETE"})}},Ane=()=>{const{logout:r,user:e}=pa(),n=_n(),[a,i]=k.useState(""),[s,c]=k.useState("All"),[l,u]=k.useState("All"),[o,h]=k.useState("All"),[d,f]=k.useState(""),[A,g]=k.useState(""),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),[S,j]=k.useState(null),[_,P]=k.useState(!0),[Z,ee]=k.useState(null),[K,ae]=k.useState(!1),[D,q]=k.useState(!1),$=()=>{q(!D)},[L,ye]=k.useState([]),[ne,Be]=k.useState([]),[Te,me]=k.useState([]),ue=k.useCallback(async()=>{try{const ie=await Qa.getAllCompanies(void 0,!0);ye(ie)}catch(ie){console.error("Failed to load companies:",ie),ee("Failed to load companies")}},[]),ve=k.useCallback(async ie=>{try{const Le=await ks.getAllHcfs(ie,!0);Be(Le)}catch(Le){console.error("Failed to load HCFs:",Le),ee("Failed to load HCFs")}},[]),le=k.useCallback(async()=>{var ie;try{P(!0),ee(null);const Le=s!=="All"?(ie=L.find(Ct=>Ct.companyName===s))==null?void 0:ie.id:void 0,Ze={};if(l!=="All"){const Ct=ne.find(Xt=>Xt.hcfCode===l);Ct&&(Ze.hcfId=Ct.id)}o!=="All"&&(Ze.status=o),d&&(Ze.dateFrom=d),A&&(Ze.dateTo=A),a&&(Ze.search=a);const Lt=(await sv.getAllCertificates(Le,!1,Object.keys(Ze).length>0?Ze:void 0)).map(Ct=>{const Xt=L.find(Or=>Or.id===Ct.companyId),_r=ne.find(Or=>Or.id===Ct.hcfId);return{id:Ct.id,certificateNo:Ct.certificateNo,staffName:Ct.staffName,staffCode:Ct.staffCode,designation:Ct.designation||"",hcfCode:(_r==null?void 0:_r.hcfCode)||"",hcfId:Ct.hcfId,trainingDate:Ct.trainingDate,status:Ct.status,companyName:(Xt==null?void 0:Xt.companyName)||"",companyId:Ct.companyId,trainedBy:Ct.trainedBy,createdBy:Ct.createdBy||"",createdOn:Ct.createdOn,modifiedBy:Ct.modifiedBy||"",modifiedOn:Ct.modifiedOn}});me(Lt)}catch(Le){console.error("Failed to load certificates:",Le),ee(Le.message||"Failed to load certificates")}finally{P(!1)}},[s,l,o,d,A,a,L,ne]);k.useEffect(()=>{(async()=>{await ue(),await ve()})()},[ue,ve]),k.useEffect(()=>{L.length>0&&ne.length>0&&le()},[s,l,o,d,A,a,L,ne,le]),k.useEffect(()=>{if(s!=="All"){const ie=L.find(Le=>Le.companyName===s);ie&&ve(ie.id)}else ve()},[s,L,ve]);const Ae=Te,Ie=()=>{N(null),x(!0)},Pe=ie=>{j(ie),b(!0)},Ce=ie=>{ie.status==="Active"?(N(ie),x(!0)):alert("Only Active certificates can be edited.")},ce=ie=>{window.print()},X=()=>{alert("Export functionality will be implemented")},de=async ie=>{try{if(ae(!0),ee(null),w){const Le={};ie.staffName!==void 0&&(Le.staffName=ie.staffName),ie.staffCode!==void 0&&(Le.staffCode=ie.staffCode),ie.designation!==void 0&&(Le.designation=ie.designation),ie.hcfId!==void 0&&(Le.hcfId=ie.hcfId),ie.trainingDate!==void 0&&(Le.trainingDate=ie.trainingDate),ie.trainedBy!==void 0&&(Le.trainedBy=ie.trainedBy),ie.status!==void 0&&(Le.status=ie.status),await sv.updateCertificate(w.id,Le)}else{const Le=L.find(Ze=>Ze.companyName===ie.companyName);if(!Le)throw new Error("Company not found");if(!ie.hcfId)throw new Error("HCF is required");if(!ie.certificateNo)throw new Error("Certificate number is required");await sv.createCertificate({certificateNo:ie.certificateNo||se(),staffName:ie.staffName||"",staffCode:ie.staffCode||"",designation:ie.designation,hcfId:ie.hcfId,trainingDate:ie.trainingDate||new Date().toISOString().split("T")[0],companyId:Le.id,trainedBy:ie.trainedBy||""})}await le(),x(!1),N(null)}catch(Le){console.error("Failed to save certificate:",Le),ee(Le.message||"Failed to save certificate"),alert(Le.message||"Failed to save certificate")}finally{ae(!1)}},se=()=>{const ie=new Date().getFullYear(),Le=Te.length+1;return`CERT-${ie}-${Le.toString().padStart(3,"0")}`},We=ie=>{if(ie==="All")return ne.filter(Ze=>Ze.status==="Active");const Le=L.find(Ze=>Ze.companyName===ie);return Le?ne.filter(Ze=>Ze.companyId===Le.id&&Ze.status==="Active"):[]},Re=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}],Ee=We(s);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${D?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!D&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:$,"aria-label":D?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:D?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Re.map(ie=>t.jsx("li",{children:t.jsxs(en,{to:ie.path,className:`nav-link ${ie.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ie.icon}),!D&&t.jsx("span",{className:"nav-label",children:ie.label})]})},ie.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!D&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!D&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Compliance & Training / Training Certificate Management"})})}),t.jsxs("div",{className:"training-certificate-page",children:[Z&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:Z}),_&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading..."}),t.jsx("div",{className:"training-certificate-header",children:t.jsx("h1",{className:"training-certificate-title",children:"Training Certificate Management"})}),t.jsx("div",{className:"training-certificate-filters",children:t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Company"}),t.jsxs("select",{className:"filter-select",value:s,onChange:ie=>{c(ie.target.value),ie.target.value==="All"&&u("All")},children:[t.jsx("option",{value:"All",children:"All Companies"}),L.filter(ie=>ie.status==="Active").map(ie=>t.jsx("option",{value:ie.companyName,children:ie.companyName},ie.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"HCF"}),t.jsxs("select",{className:"filter-select",value:l,onChange:ie=>u(ie.target.value),children:[t.jsx("option",{value:"All",children:"All HCFs"}),Ee.map(ie=>t.jsxs("option",{value:ie.hcfCode,children:[ie.hcfCode," - ",ie.hcfName]},ie.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date From"}),t.jsx("input",{type:"date",className:"filter-input",value:d,onChange:ie=>f(ie.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date To"}),t.jsx("input",{type:"date",className:"filter-input",value:A,onChange:ie=>g(ie.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{className:"filter-select",value:o,onChange:ie=>h(ie.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsx("div",{className:"filter-group",children:t.jsx("button",{className:"clear-filters-btn",onClick:()=>{c("All"),u("All"),h("All"),f(""),g("")},children:"Clear Filters"})})]})}),t.jsxs("div",{className:"training-certificate-actions",children:[t.jsxs("div",{className:"certificate-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"certificate-search-input",placeholder:"Search Certificate...",value:a,onChange:ie=>i(ie.target.value)})]}),t.jsxs("button",{className:"export-btn",onClick:X,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-certificate-btn",onClick:Ie,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]}),t.jsx("div",{className:"certificate-table-container",children:t.jsxs("table",{className:"certificate-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Designation"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ae.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:"No certificate records found"})}):Ae.map(ie=>{const Le=ne.find(Ze=>Ze.hcfCode===ie.hcfCode);return t.jsxs("tr",{children:[t.jsx("td",{className:"certificate-no-cell",children:ie.certificateNo}),t.jsx("td",{children:ie.staffName}),t.jsx("td",{children:ie.staffCode}),t.jsx("td",{children:ie.designation}),t.jsx("td",{children:Le?`${ie.hcfCode} - ${Le.hcfName}`:ie.hcfCode}),t.jsx("td",{children:ie.trainingDate}),t.jsx("td",{children:t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${ie.status.toLowerCase()}`,children:ie.status})}),t.jsx("td",{children:t.jsxs("div",{className:"certificate-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Pe(ie),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ie.status==="Active"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ce(ie),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>ce(),title:"Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},ie.id)})})]})}),t.jsxs("div",{className:"certificate-pagination-info",children:["Showing ",Ae.length," of ",Te.length," Items"]})]})]}),m&&t.jsx(pne,{certificate:w,companies:L.filter(ie=>ie.status==="Active"),hcfs:ne.filter(ie=>ie.status==="Active"),onClose:()=>{x(!1),N(null)},onSave:de,generateCertificateNo:se}),y&&S&&t.jsx(mne,{certificate:S,hcfs:ne,companies:L,onClose:()=>{b(!1),j(null)},onPrint:ce})]})},pne=({certificate:r,companies:e,hcfs:n,onClose:a,onSave:i,generateCertificateNo:s})=>{const c=()=>{if(r){const y=e.find(b=>b.companyName===r.companyName);return{...r,companyId:r.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[l,u]=k.useState(c()),[o,h]=k.useState(r?"manual":"auto");k.useEffect(()=>{if(l.companyName&&!l.companyId&&e.length>0){const y=e.find(b=>b.companyName===l.companyName);y&&u(b=>({...b,companyId:y.id}))}},[l.companyName,e.length]);const d=(()=>{if(!l.companyId&&!l.companyName)return[];const y=l.companyId?e.find(w=>w.id===l.companyId):e.find(w=>w.companyName===l.companyName);return y?n.filter(w=>w.companyId===y.id):[]})(),f=(y,b)=>{const w={[y]:b};if(y==="companyName"){const N=e.find(S=>S.companyName===b);N&&(w.companyId=N.id),w.hcfCode="",w.hcfId=""}if(y==="hcfCode"){const N=d.find(S=>S.hcfCode===b);N&&(w.hcfId=N.id)}u({...l,...w})},A=y=>{h(y),u(y==="auto"?{...l,certificateNo:s()}:{...l,certificateNo:""})},g=()=>{u({...l,certificateNo:s()})},m=y=>{if(y.preventDefault(),!l.companyName||!l.hcfCode||!l.staffName||!l.staffCode||!l.trainingDate){alert("Please fill in all required fields");return}i(l)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&u({certificateNo:o==="auto"?s():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Training Certificate":"Create Training Certificate"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"certificate-form",onSubmit:m,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Organization Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:l.companyName||"",onChange:y=>{f("companyName",y.target.value)},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(y=>t.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfCode||"",onChange:y=>f("hcfCode",y.target.value),required:!0,disabled:!l.companyId&&!l.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),d.length===0&&(l.companyId||l.companyName)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):d.map(y=>t.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Staff Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Code *"}),t.jsx("input",{type:"text",value:l.staffCode||"",onChange:y=>f("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Name *"}),t.jsx("input",{type:"text",value:l.staffName||"",onChange:y=>f("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:l.designation||"",onChange:y=>f("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Training Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Certificate Number *"}),t.jsxs("div",{className:"certificate-no-input-group",children:[t.jsxs("div",{className:"certificate-no-mode-toggle",children:[t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="auto"?"active":""}`,onClick:()=>A("auto"),children:"Auto"}),t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="manual"?"active":""}`,onClick:()=>A("manual"),children:"Manual"})]}),t.jsx("input",{type:"text",value:l.certificateNo||"",onChange:y=>f("certificateNo",y.target.value),required:!0,placeholder:o==="auto"?"Auto-generated":"Enter certificate number",disabled:o==="auto"&&!r,style:{flex:1}}),o==="auto"&&!r&&t.jsx("button",{type:"button",className:"generate-btn-small",onClick:g,children:"Generate"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Training Date *"}),t.jsx("input",{type:"date",value:l.trainingDate||"",onChange:y=>f("trainingDate",y.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Trained By *"}),t.jsx("input",{type:"text",value:l.trainedBy||"",onChange:y=>f("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:l.status||"Active",onChange:y=>f("status",y.target.value),required:!0,children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},mne=({certificate:r,hcfs:e,companies:n,onClose:a,onPrint:i})=>{const s=e.find(c=>c.hcfCode===r.hcfCode);return n.find(c=>c.companyName===r.companyName),t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",r.certificateNo]}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"certificate-view-content",children:[t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"HCF:"}),t.jsx("span",{children:s?`${r.hcfCode} - ${s.hcfName}`:r.hcfCode})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Code:"}),t.jsx("span",{children:r.staffCode||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Name:"}),t.jsx("span",{children:r.staffName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Designation:"}),t.jsx("span",{children:r.designation||"-"})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Certificate Number:"}),t.jsx("span",{className:"certificate-no-display",children:r.certificateNo||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Training Date:"}),t.jsx("span",{children:r.trainingDate||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Trained By:"}),t.jsx("span",{children:r.trainedBy||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${r.status.toLowerCase()}`,children:r.status})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>i(r),children:"Print Certificate"})]})]})})},gne=({contracts:r,searchQuery:e,statusFilter:n})=>({filteredContracts:k.useMemo(()=>r.filter(i=>{const s=e===""||i.contractNum.toLowerCase().includes(e.toLowerCase())||i.companyName.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),vne="http://localhost:3000/api/v1",xne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},N0=async(r,e={})=>{const n=xne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},sA={getAllContracts:async(r,e)=>{let n="/contracts";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await N0(n,{method:"GET"})).data},getContractById:async r=>(await N0(`/contracts/${r}`,{method:"GET"})).data,createContract:async r=>(await N0("/contracts",{method:"POST",body:JSON.stringify(r)})).data,updateContract:async(r,e)=>(await N0(`/contracts/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteContract:async r=>{await N0(`/contracts/${r}`,{method:"DELETE"})}},yne=()=>{const{logout:r}=pa(),e=_n(),n=ti(),[a,i]=k.useState(""),[s,c]=k.useState("All"),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState([]),[w,N]=k.useState(!1),[S,j]=k.useState(null),[_,P]=k.useState(!1),[Z,ee]=k.useState(!1),K=()=>{ee(!Z)},ae=k.useCallback(async()=>{try{const le=await Qa.getAllCompanies(!0);g(le.map(Ae=>({id:Ae.id,companyCode:Ae.companyCode,companyName:Ae.companyName})))}catch(le){console.error("Failed to load companies:",le)}},[]),D=k.useCallback(async()=>{try{const le=await ks.getAllHcfs(void 0,!0);x(le.map(Ae=>({id:Ae.id,hcfCode:Ae.hcfCode,hcfName:Ae.hcfName,companyId:Ae.companyId})))}catch(le){console.error("Failed to load HCFs:",le)}},[]),q=k.useCallback(async()=>{try{N(!0),j(null);const le=await sA.getAllContracts(),Ae=await Promise.all(le.map(async Ie=>{const Pe=A.find(ce=>ce.id===Ie.companyId),Ce=m.find(ce=>ce.id===Ie.hcfId);return{id:Ie.id,contractID:Ie.contractID,contractNum:Ie.contractNum,companyName:(Pe==null?void 0:Pe.companyName)||"Unknown",companyID:Ie.companyId,hcfName:(Ce==null?void 0:Ce.hcfName)||"Unknown",hcfID:Ie.hcfId,startDate:Ie.startDate,endDate:Ie.endDate,billingType:Ie.billingType,status:Ie.status}}));f(Ae)}catch(le){console.error("Failed to load contracts:",le),j(le.message||"Failed to load contracts")}finally{N(!1)}},[A,m]);k.useEffect(()=>{(async()=>{await Promise.all([ae(),D()])})()},[ae,D]),k.useEffect(()=>{A.length>0&&m.length>0&&q()},[A.length,m.length,q]),k.useEffect(()=>{o!=null&&o.companyID?b(m.filter(le=>le.companyId===o.companyID)):b(m)},[o==null?void 0:o.companyID,m]);const{filteredContracts:$}=gne({contracts:d,searchQuery:a,statusFilter:s}),L=()=>{h(null),u(!0)},ye=(le,Ae)=>{Ae.stopPropagation(),h(le),u(!0)},ne=async le=>{try{P(!0),j(null),o?await sA.updateContract(o.id,{contractNum:le.contractNum,startDate:le.startDate,endDate:le.endDate,billingType:le.billingType,status:le.status}):await sA.createContract({contractNum:le.contractNum,companyId:le.companyID,hcfId:le.hcfID,startDate:le.startDate,endDate:le.endDate,billingType:le.billingType,status:le.status||"Draft"}),u(!1),h(null),await q()}catch(Ae){console.error("Failed to save contract:",Ae),j(Ae.message||"Failed to save contract"),alert(Ae.message||"Failed to save contract")}finally{P(!1)}},Be=le=>{n(`/commercial-agreements/agreement?contractId=${le.id}`)},Te=({status:le})=>{const Ae=`contract-status-badge contract-status-badge--${le.toLowerCase()}`;return t.jsx("span",{className:Ae,children:le})},me=({contract:le})=>t.jsx("div",{className:"contract-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:t.jsx("button",{className:"action-btn action-btn--edit",onClick:Ae=>ye(le,Ae),title:"Edit Contract","aria-label":`Edit contract ${le.contractNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),ue=[{key:"contractNum",label:"Contract Number",minWidth:180,render:le=>t.jsx("span",{className:"contract-num-cell",children:le.contractNum})},{key:"contractID",label:"Contract ID",minWidth:120},{key:"companyName",label:"Company",minWidth:150,render:le=>le.companyName},{key:"hcfName",label:"HCF",minWidth:150,render:le=>le.hcfName},{key:"startDate",label:"Start Date",minWidth:120},{key:"endDate",label:"End Date",minWidth:120},{key:"billingType",label:"Billing Type",minWidth:120},{key:"status",label:"Status",minWidth:100,render:le=>t.jsx(Te,{status:le.status})},{key:"actions",label:"Actions",minWidth:100,render:le=>t.jsx(me,{contract:le})}],ve=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${Z?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Z&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:K,"aria-label":Z?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ve.map(le=>t.jsx("li",{children:t.jsxs(en,{to:le.path,className:`nav-link ${le.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:le.icon}),!Z&&t.jsx("span",{className:"nav-label",children:le.label})]})},le.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Z&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Z&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Contract Master"})})}),t.jsxs("div",{className:"contract-master-page",children:[t.jsx("div",{className:"contract-master-header",children:t.jsx("h1",{className:"contract-master-title",children:"Contract Master"})}),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:S}),t.jsxs("div",{className:"contract-master-actions",children:[t.jsxs("div",{className:"contract-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"contract-search-input",placeholder:"Search by contract number or company...",value:a,onChange:le=>i(le.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:le=>c(le.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]}),t.jsxs("button",{className:"add-contract-btn",onClick:L,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]}),w&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),t.jsx("div",{className:"contract-table-container",children:t.jsx(ix,{data:$,columns:ue,getId:le=>le.id,onRowClick:Be,emptyMessage:"No contract records found"})}),t.jsxs("div",{className:"contract-pagination-info",children:["Showing ",$.length," of ",d.length," Items"]})]})]}),l&&t.jsx(bne,{contract:o,companies:A,hcfs:y,saving:_,onClose:()=>{u(!1),h(null)},onSave:ne})]})},bne=({contract:r,companies:e,hcfs:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),u=d=>{l({...c,companyID:d,hcfID:""})},o=d=>{if(d.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}s(c)},h=c.companyID?n.filter(d=>d.companyId===c.companyID):[];return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Contract":"Add Contract"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"contract-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contract Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Number *"}),t.jsx("input",{type:"text",value:c.contractNum||"",onChange:d=>l({...c,contractNum:d.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:c.companyID||"",onChange:d=>u(d.target.value),required:!0,disabled:a||!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(d=>t.jsxs("option",{value:d.id,children:[d.companyCode," - ",d.companyName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:c.hcfID||"",onChange:d=>l({...c,hcfID:d.target.value}),required:!0,disabled:a||!c.companyID,children:[t.jsx("option",{value:"",children:"Select HCF"}),h.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Start Date *"}),t.jsx("input",{type:"date",value:c.startDate||"",onChange:d=>l({...c,startDate:d.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"End Date *"}),t.jsx("input",{type:"date",value:c.endDate||"",onChange:d=>l({...c,endDate:d.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"Bed",onChange:d=>l({...c,billingType:d.target.value}),required:!0,disabled:a,children:[t.jsx("option",{value:"Bed",children:"Bed"}),t.jsx("option",{value:"Kg",children:"Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:d=>l({...c,status:d.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Contract"]})]})]})]})})},wne=({agreements:r,searchQuery:e,statusFilter:n})=>({filteredAgreements:k.useMemo(()=>r.filter(i=>{const s=e===""||i.agreementNum.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),HF="http://localhost:3000/api/v1",QF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Z1=async(r,e={})=>{const n=QF(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${HF}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},X0={getAllAgreements:async(r,e)=>{let n="/agreements";const a=new URLSearchParams;return r&&a.append("contractId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await Z1(n,{method:"GET"})).data},getAgreementById:async r=>(await Z1(`/agreements/${r}`,{method:"GET"})).data,createAgreement:async r=>(await Z1("/agreements",{method:"POST",body:JSON.stringify(r)})).data,updateAgreement:async(r,e)=>(await Z1(`/agreements/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,downloadAgreementPDF:async r=>{const e=QF(),n=await fetch(`${HF}/agreements/${r}/download`,{method:"GET",headers:{...e&&{Authorization:`Bearer ${e}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const i=await n.json();i.message&&(a=i.message)}catch{}throw new Error(a)}return n.blob()}},jne="http://localhost:3000/api/v1",Cne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},S0=async(r,e={})=>{const n=Cne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${jne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},qf={getAllClauses:async(r,e)=>{let n="/agreement-clauses";const a=new URLSearchParams;return r&&a.append("agreementId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await S0(n,{method:"GET"})).data},getClauseById:async r=>(await S0(`/agreement-clauses/${r}`,{method:"GET"})).data,createClause:async r=>(await S0("/agreement-clauses",{method:"POST",body:JSON.stringify(r)})).data,updateClause:async(r,e)=>(await S0(`/agreement-clauses/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,reorderClause:async(r,e)=>(await S0(`/agreement-clauses/${r}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:e})})).data};var zj={exports:{}},ov={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var Nne=ov.exports,n_;function Sne(){return n_||(n_=1,(function(r,e){(function(n,a){r.exports=a()})(Nne,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,E){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,H){U.__proto__=H}||function(U,H){for(var we in H)Object.prototype.hasOwnProperty.call(H,we)&&(U[we]=H[we])},n(F,E)};function a(F,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");n(F,E);function U(){this.constructor=F}F.prototype=E===null?Object.create(E):(U.prototype=E.prototype,new U)}var i=function(){return i=Object.assign||function(E){for(var U,H=1,we=arguments.length;H<we;H++){U=arguments[H];for(var Fe in U)Object.prototype.hasOwnProperty.call(U,Fe)&&(E[Fe]=U[Fe])}return E},i.apply(this,arguments)};function s(F,E,U,H){function we(Fe){return Fe instanceof U?Fe:new U(function(ze){ze(Fe)})}return new(U||(U=Promise))(function(Fe,ze){function ct(Ht){try{Rt(H.next(Ht))}catch(tr){ze(tr)}}function lt(Ht){try{Rt(H.throw(Ht))}catch(tr){ze(tr)}}function Rt(Ht){Ht.done?Fe(Ht.value):we(Ht.value).then(ct,lt)}Rt((H=H.apply(F,[])).next())})}function c(F,E){var U={label:0,sent:function(){if(Fe[0]&1)throw Fe[1];return Fe[1]},trys:[],ops:[]},H,we,Fe,ze;return ze={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function ct(Rt){return function(Ht){return lt([Rt,Ht])}}function lt(Rt){if(H)throw new TypeError("Generator is already executing.");for(;U;)try{if(H=1,we&&(Fe=Rt[0]&2?we.return:Rt[0]?we.throw||((Fe=we.return)&&Fe.call(we),0):we.next)&&!(Fe=Fe.call(we,Rt[1])).done)return Fe;switch(we=0,Fe&&(Rt=[Rt[0]&2,Fe.value]),Rt[0]){case 0:case 1:Fe=Rt;break;case 4:return U.label++,{value:Rt[1],done:!1};case 5:U.label++,we=Rt[1],Rt=[0];continue;case 7:Rt=U.ops.pop(),U.trys.pop();continue;default:if(Fe=U.trys,!(Fe=Fe.length>0&&Fe[Fe.length-1])&&(Rt[0]===6||Rt[0]===2)){U=0;continue}if(Rt[0]===3&&(!Fe||Rt[1]>Fe[0]&&Rt[1]<Fe[3])){U.label=Rt[1];break}if(Rt[0]===6&&U.label<Fe[1]){U.label=Fe[1],Fe=Rt;break}if(Fe&&U.label<Fe[2]){U.label=Fe[2],U.ops.push(Rt);break}Fe[2]&&U.ops.pop(),U.trys.pop();continue}Rt=E.call(F,U)}catch(Ht){Rt=[6,Ht],we=0}finally{H=Fe=0}if(Rt[0]&5)throw Rt[1];return{value:Rt[0]?Rt[1]:void 0,done:!0}}}function l(F,E,U){if(arguments.length===2)for(var H=0,we=E.length,Fe;H<we;H++)(Fe||!(H in E))&&(Fe||(Fe=Array.prototype.slice.call(E,0,H)),Fe[H]=E[H]);return F.concat(Fe||E)}for(var u=(function(){function F(E,U,H,we){this.left=E,this.top=U,this.width=H,this.height=we}return F.prototype.add=function(E,U,H,we){return new F(this.left+E,this.top+U,this.width+H,this.height+we)},F.fromClientRect=function(E,U){return new F(U.left+E.windowBounds.left,U.top+E.windowBounds.top,U.width,U.height)},F.fromDOMRectList=function(E,U){var H=Array.from(U).find(function(we){return we.width!==0});return H?new F(H.left+E.windowBounds.left,H.top+E.windowBounds.top,H.width,H.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),o=function(F,E){return u.fromClientRect(F,E.getBoundingClientRect())},h=function(F){var E=F.body,U=F.documentElement;if(!E||!U)throw new Error("Unable to get document size");var H=Math.max(Math.max(E.scrollWidth,U.scrollWidth),Math.max(E.offsetWidth,U.offsetWidth),Math.max(E.clientWidth,U.clientWidth)),we=Math.max(Math.max(E.scrollHeight,U.scrollHeight),Math.max(E.offsetHeight,U.offsetHeight),Math.max(E.clientHeight,U.clientHeight));return new u(0,0,H,we)},d=function(F){for(var E=[],U=0,H=F.length;U<H;){var we=F.charCodeAt(U++);if(we>=55296&&we<=56319&&U<H){var Fe=F.charCodeAt(U++);(Fe&64512)===56320?E.push(((we&1023)<<10)+(Fe&1023)+65536):(E.push(we),U--)}else E.push(we)}return E},f=function(){for(var F=[],E=0;E<arguments.length;E++)F[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],we=-1,Fe="";++we<U;){var ze=F[we];ze<=65535?H.push(ze):(ze-=65536,H.push((ze>>10)+55296,ze%1024+56320)),(we+1===U||H.length>16384)&&(Fe+=String.fromCharCode.apply(String,H),H.length=0)}return Fe},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<A.length;m++)g[A.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<x.length;b++)y[x.charCodeAt(b)]=b;for(var w=function(F){var E=F.length*.75,U=F.length,H,we=0,Fe,ze,ct,lt;F[F.length-1]==="="&&(E--,F[F.length-2]==="="&&E--);var Rt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),Ht=Array.isArray(Rt)?Rt:new Uint8Array(Rt);for(H=0;H<U;H+=4)Fe=y[F.charCodeAt(H)],ze=y[F.charCodeAt(H+1)],ct=y[F.charCodeAt(H+2)],lt=y[F.charCodeAt(H+3)],Ht[we++]=Fe<<2|ze>>4,Ht[we++]=(ze&15)<<4|ct>>2,Ht[we++]=(ct&3)<<6|lt&63;return Rt},N=function(F){for(var E=F.length,U=[],H=0;H<E;H+=2)U.push(F[H+1]<<8|F[H]);return U},S=function(F){for(var E=F.length,U=[],H=0;H<E;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},j=5,_=11,P=2,Z=_-j,ee=65536>>j,K=1<<j,ae=K-1,D=1024>>j,q=ee+D,$=q,L=32,ye=$+L,ne=65536>>_,Be=1<<Z,Te=Be-1,me=function(F,E,U){return F.slice?F.slice(E,U):new Uint16Array(Array.prototype.slice.call(F,E,U))},ue=function(F,E,U){return F.slice?F.slice(E,U):new Uint32Array(Array.prototype.slice.call(F,E,U))},ve=function(F,E){var U=w(F),H=Array.isArray(U)?S(U):new Uint32Array(U),we=Array.isArray(U)?N(U):new Uint16Array(U),Fe=24,ze=me(we,Fe/2,H[4]/2),ct=H[5]===2?me(we,(Fe+H[4])/2):ue(H,Math.ceil((Fe+H[4])/4));return new le(H[0],H[1],H[2],H[3],ze,ct)},le=(function(){function F(E,U,H,we,Fe,ze){this.initialValue=E,this.errorValue=U,this.highStart=H,this.highValueIndex=we,this.index=Fe,this.data=ze}return F.prototype.get=function(E){var U;if(E>=0){if(E<55296||E>56319&&E<=65535)return U=this.index[E>>j],U=(U<<P)+(E&ae),this.data[U];if(E<=65535)return U=this.index[ee+(E-55296>>j)],U=(U<<P)+(E&ae),this.data[U];if(E<this.highStart)return U=ye-ne+(E>>_),U=this.index[U],U+=E>>j&Te,U=this.index[U],U=(U<<P)+(E&ae),this.data[U];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ie=typeof Uint8Array>"u"?[]:new Uint8Array(256),Pe=0;Pe<Ae.length;Pe++)Ie[Ae.charCodeAt(Pe)]=Pe;var Ce="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ce=50,X=1,de=2,se=3,We=4,Re=5,Ee=7,ie=8,Le=9,Ze=10,jt=11,Lt=12,Ct=13,Xt=14,_r=15,Or=16,He=17,Zt=18,Bt=19,$r=20,pr=21,on=22,Yr=23,qr=24,Ir=25,dr=26,Cr=27,Vr=28,zr=29,vn=30,Wr=31,$n=32,Lr=33,Dr=34,jn=35,cn=36,bt=37,Sr=38,dn=39,Dn=40,Xr=41,Un=42,Ur=43,ei=[9001,65288],ls="!",Cn="",Bs="",ji=ve(Ce),vi=[vn,cn],Ui=[X,de,se,Re],Bi=[Ze,ie],Es=[Cr,dr],ri=Ui.concat(Bi),Gs=[Sr,dn,Dn,Dr,jn],Wa=[_r,Ct],jc=function(F,E){E===void 0&&(E="strict");var U=[],H=[],we=[];return F.forEach(function(Fe,ze){var ct=ji.get(Fe);if(ct>ce?(we.push(!0),ct-=ce):we.push(!1),["normal","auto","loose"].indexOf(E)!==-1&&[8208,8211,12316,12448].indexOf(Fe)!==-1)return H.push(ze),U.push(Or);if(ct===We||ct===jt){if(ze===0)return H.push(ze),U.push(vn);var lt=U[ze-1];return ri.indexOf(lt)===-1?(H.push(H[ze-1]),U.push(lt)):(H.push(ze),U.push(vn))}if(H.push(ze),ct===Wr)return U.push(E==="strict"?pr:bt);if(ct===Un||ct===zr)return U.push(vn);if(ct===Ur)return Fe>=131072&&Fe<=196605||Fe>=196608&&Fe<=262141?U.push(bt):U.push(vn);U.push(ct)}),[H,U,we]},gs=function(F,E,U,H){var we=H[U];if(Array.isArray(F)?F.indexOf(we)!==-1:F===we)for(var Fe=U;Fe<=H.length;){Fe++;var ze=H[Fe];if(ze===E)return!0;if(ze!==Ze)break}if(we===Ze)for(var Fe=U;Fe>0;){Fe--;var ct=H[Fe];if(Array.isArray(F)?F.indexOf(ct)!==-1:F===ct)for(var lt=U;lt<=H.length;){lt++;var ze=H[lt];if(ze===E)return!0;if(ze!==Ze)break}if(ct!==Ze)break}return!1},Sl=function(F,E){for(var U=F;U>=0;){var H=E[U];if(H===Ze)U--;else return H}return 0},Cc=function(F,E,U,H,we){if(U[H]===0)return Cn;var Fe=H-1;if(Array.isArray(we)&&we[Fe]===!0)return Cn;var ze=Fe-1,ct=Fe+1,lt=E[Fe],Rt=ze>=0?E[ze]:0,Ht=E[ct];if(lt===de&&Ht===se)return Cn;if(Ui.indexOf(lt)!==-1)return ls;if(Ui.indexOf(Ht)!==-1||Bi.indexOf(Ht)!==-1)return Cn;if(Sl(Fe,E)===ie)return Bs;if(ji.get(F[Fe])===jt||(lt===$n||lt===Lr)&&ji.get(F[ct])===jt||lt===Ee||Ht===Ee||lt===Le||[Ze,Ct,_r].indexOf(lt)===-1&&Ht===Le||[He,Zt,Bt,qr,Vr].indexOf(Ht)!==-1||Sl(Fe,E)===on||gs(Yr,on,Fe,E)||gs([He,Zt],pr,Fe,E)||gs(Lt,Lt,Fe,E))return Cn;if(lt===Ze)return Bs;if(lt===Yr||Ht===Yr)return Cn;if(Ht===Or||lt===Or)return Bs;if([Ct,_r,pr].indexOf(Ht)!==-1||lt===Xt||Rt===cn&&Wa.indexOf(lt)!==-1||lt===Vr&&Ht===cn||Ht===$r||vi.indexOf(Ht)!==-1&&lt===Ir||vi.indexOf(lt)!==-1&&Ht===Ir||lt===Cr&&[bt,$n,Lr].indexOf(Ht)!==-1||[bt,$n,Lr].indexOf(lt)!==-1&&Ht===dr||vi.indexOf(lt)!==-1&&Es.indexOf(Ht)!==-1||Es.indexOf(lt)!==-1&&vi.indexOf(Ht)!==-1||[Cr,dr].indexOf(lt)!==-1&&(Ht===Ir||[on,_r].indexOf(Ht)!==-1&&E[ct+1]===Ir)||[on,_r].indexOf(lt)!==-1&&Ht===Ir||lt===Ir&&[Ir,Vr,qr].indexOf(Ht)!==-1)return Cn;if([Ir,Vr,qr,He,Zt].indexOf(Ht)!==-1)for(var tr=Fe;tr>=0;){var jr=E[tr];if(jr===Ir)return Cn;if([Vr,qr].indexOf(jr)!==-1)tr--;else break}if([Cr,dr].indexOf(Ht)!==-1)for(var tr=[He,Zt].indexOf(lt)!==-1?ze:Fe;tr>=0;){var jr=E[tr];if(jr===Ir)return Cn;if([Vr,qr].indexOf(jr)!==-1)tr--;else break}if(Sr===lt&&[Sr,dn,Dr,jn].indexOf(Ht)!==-1||[dn,Dr].indexOf(lt)!==-1&&[dn,Dn].indexOf(Ht)!==-1||[Dn,jn].indexOf(lt)!==-1&&Ht===Dn||Gs.indexOf(lt)!==-1&&[$r,dr].indexOf(Ht)!==-1||Gs.indexOf(Ht)!==-1&&lt===Cr||vi.indexOf(lt)!==-1&&vi.indexOf(Ht)!==-1||lt===qr&&vi.indexOf(Ht)!==-1||vi.concat(Ir).indexOf(lt)!==-1&&Ht===on&&ei.indexOf(F[ct])===-1||vi.concat(Ir).indexOf(Ht)!==-1&&lt===Zt)return Cn;if(lt===Xr&&Ht===Xr){for(var bn=U[Fe],nn=1;bn>0&&(bn--,E[bn]===Xr);)nn++;if(nn%2!==0)return Cn}return lt===$n&&Ht===Lr?Cn:Bs},Bl=function(F,E){E||(E={lineBreak:"normal",wordBreak:"normal"});var U=jc(F,E.lineBreak),H=U[0],we=U[1],Fe=U[2];(E.wordBreak==="break-all"||E.wordBreak==="break-word")&&(we=we.map(function(ct){return[Ir,vn,Un].indexOf(ct)!==-1?bt:ct}));var ze=E.wordBreak==="keep-all"?Fe.map(function(ct,lt){return ct&&F[lt]>=19968&&F[lt]<=40959}):void 0;return[H,we,ze]},Hi=(function(){function F(E,U,H,we){this.codePoints=E,this.required=U===ls,this.start=H,this.end=we}return F.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),vo=function(F,E){var U=d(F),H=Bl(U,E),we=H[0],Fe=H[1],ze=H[2],ct=U.length,lt=0,Rt=0;return{next:function(){if(Rt>=ct)return{done:!0,value:null};for(var Ht=Cn;Rt<ct&&(Ht=Cc(U,Fe,we,++Rt,ze))===Cn;);if(Ht!==Cn||Rt===ct){var tr=new Hi(U,Ht,lt,Rt);return lt=Rt,{value:tr,done:!1}}return{done:!0,value:null}}}},ha=1,Zl=2,ni=4,Eo=8,qs=10,Io=47,tl=92,To=9,Qs=32,Ci=34,ai=61,Al=35,_o=36,Uc=37,cs=39,qn=40,Qi=41,vs=95,xs=45,Oo=33,Di=60,oo=62,Xi=64,ki=91,xo=93,ko=61,ma=123,Wi=63,ys=125,Xs=124,Ps=126,Po=128,Ut=65533,Q=42,oe=43,he=44,R=58,W=59,te=46,je=0,ke=8,Ge=11,it=14,I=31,B=127,M=-1,z=48,Y=97,re=101,Ne=102,ge=117,xe=122,De=65,Ve=69,et=70,st=85,Oe=90,vt=function(F){return F>=z&&F<=57},mt=function(F){return F>=55296&&F<=57343},yt=function(F){return vt(F)||F>=De&&F<=et||F>=Y&&F<=Ne},nt=function(F){return F>=Y&&F<=xe},kt=function(F){return F>=De&&F<=Oe},Kt=function(F){return nt(F)||kt(F)},Et=function(F){return F>=Po},tt=function(F){return F===qs||F===To||F===Qs},Qt=function(F){return Kt(F)||Et(F)||F===vs},lr=function(F){return Qt(F)||vt(F)||F===xs},qt=function(F){return F>=je&&F<=ke||F===Ge||F>=it&&F<=I||F===B},_t=function(F,E){return F!==tl?!1:E!==qs},or=function(F,E,U){return F===xs?Qt(E)||_t(E,U):Qt(F)?!0:!!(F===tl&&_t(F,E))},at=function(F,E,U){return F===oe||F===xs?vt(E)?!0:E===te&&vt(U):vt(F===te?E:F)},dt=function(F){var E=0,U=1;(F[E]===oe||F[E]===xs)&&(F[E]===xs&&(U=-1),E++);for(var H=[];vt(F[E]);)H.push(F[E++]);var we=H.length?parseInt(f.apply(void 0,H),10):0;F[E]===te&&E++;for(var Fe=[];vt(F[E]);)Fe.push(F[E++]);var ze=Fe.length,ct=ze?parseInt(f.apply(void 0,Fe),10):0;(F[E]===Ve||F[E]===re)&&E++;var lt=1;(F[E]===oe||F[E]===xs)&&(F[E]===xs&&(lt=-1),E++);for(var Rt=[];vt(F[E]);)Rt.push(F[E++]);var Ht=Rt.length?parseInt(f.apply(void 0,Rt),10):0;return U*(we+ct*Math.pow(10,-ze))*Math.pow(10,lt*Ht)},It={type:2},Tt={type:3},cr={type:4},Ar={type:13},xr={type:8},Jt={type:21},gr={type:9},Zr={type:10},Hr={type:11},Ye={type:12},xt={type:14},Nt={type:23},Wt={type:1},zt={type:25},nr={type:24},mr={type:26},vr={type:27},Pr={type:28},Jr={type:29},Nn={type:31},Bn={type:32},ca=(function(){function F(){this._value=[]}return F.prototype.write=function(E){this._value=this._value.concat(d(E))},F.prototype.read=function(){for(var E=[],U=this.consumeToken();U!==Bn;)E.push(U),U=this.consumeToken();return E},F.prototype.consumeToken=function(){var E=this.consumeCodePoint();switch(E){case Ci:return this.consumeStringToken(Ci);case Al:var U=this.peekCodePoint(0),H=this.peekCodePoint(1),we=this.peekCodePoint(2);if(lr(U)||_t(H,we)){var Fe=or(U,H,we)?Zl:ha,ze=this.consumeName();return{type:5,value:ze,flags:Fe}}break;case _o:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),Ar;break;case cs:return this.consumeStringToken(cs);case qn:return It;case Qi:return Tt;case Q:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),xt;break;case oe:if(at(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case he:return cr;case xs:var ct=E,lt=this.peekCodePoint(0),Rt=this.peekCodePoint(1);if(at(ct,lt,Rt))return this.reconsumeCodePoint(E),this.consumeNumericToken();if(or(ct,lt,Rt))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();if(lt===xs&&Rt===oo)return this.consumeCodePoint(),this.consumeCodePoint(),nr;break;case te:if(at(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case Io:if(this.peekCodePoint(0)===Q)for(this.consumeCodePoint();;){var Ht=this.consumeCodePoint();if(Ht===Q&&(Ht=this.consumeCodePoint(),Ht===Io))return this.consumeToken();if(Ht===M)return this.consumeToken()}break;case R:return mr;case W:return vr;case Di:if(this.peekCodePoint(0)===Oo&&this.peekCodePoint(1)===xs&&this.peekCodePoint(2)===xs)return this.consumeCodePoint(),this.consumeCodePoint(),zt;break;case Xi:var tr=this.peekCodePoint(0),jr=this.peekCodePoint(1),bn=this.peekCodePoint(2);if(or(tr,jr,bn)){var ze=this.consumeName();return{type:7,value:ze}}break;case ki:return Pr;case tl:if(_t(E,this.peekCodePoint(0)))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();break;case xo:return Jr;case ko:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),xr;break;case ma:return Hr;case ys:return Ye;case ge:case st:var nn=this.peekCodePoint(0),xn=this.peekCodePoint(1);return nn===oe&&(yt(xn)||xn===Wi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(E),this.consumeIdentLikeToken();case Xs:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),gr;if(this.peekCodePoint(0)===Xs)return this.consumeCodePoint(),Jt;break;case Ps:if(this.peekCodePoint(0)===ai)return this.consumeCodePoint(),Zr;break;case M:return Bn}return tt(E)?(this.consumeWhiteSpace(),Nn):vt(E)?(this.reconsumeCodePoint(E),this.consumeNumericToken()):Qt(E)?(this.reconsumeCodePoint(E),this.consumeIdentLikeToken()):{type:6,value:f(E)}},F.prototype.consumeCodePoint=function(){var E=this._value.shift();return typeof E>"u"?-1:E},F.prototype.reconsumeCodePoint=function(E){this._value.unshift(E)},F.prototype.peekCodePoint=function(E){return E>=this._value.length?-1:this._value[E]},F.prototype.consumeUnicodeRangeToken=function(){for(var E=[],U=this.consumeCodePoint();yt(U)&&E.length<6;)E.push(U),U=this.consumeCodePoint();for(var H=!1;U===Wi&&E.length<6;)E.push(U),U=this.consumeCodePoint(),H=!0;if(H){var we=parseInt(f.apply(void 0,E.map(function(lt){return lt===Wi?z:lt})),16),Fe=parseInt(f.apply(void 0,E.map(function(lt){return lt===Wi?et:lt})),16);return{type:30,start:we,end:Fe}}var ze=parseInt(f.apply(void 0,E),16);if(this.peekCodePoint(0)===xs&&yt(this.peekCodePoint(1))){this.consumeCodePoint(),U=this.consumeCodePoint();for(var ct=[];yt(U)&&ct.length<6;)ct.push(U),U=this.consumeCodePoint();var Fe=parseInt(f.apply(void 0,ct),16);return{type:30,start:ze,end:Fe}}else return{type:30,start:ze,end:ze}},F.prototype.consumeIdentLikeToken=function(){var E=this.consumeName();return E.toLowerCase()==="url"&&this.peekCodePoint(0)===qn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qn?(this.consumeCodePoint(),{type:19,value:E}):{type:20,value:E}},F.prototype.consumeUrlToken=function(){var E=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===M)return{type:22,value:""};var U=this.peekCodePoint(0);if(U===cs||U===Ci){var H=this.consumeStringToken(this.consumeCodePoint());return H.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===M||this.peekCodePoint(0)===Qi)?(this.consumeCodePoint(),{type:22,value:H.value}):(this.consumeBadUrlRemnants(),Nt)}for(;;){var we=this.consumeCodePoint();if(we===M||we===Qi)return{type:22,value:f.apply(void 0,E)};if(tt(we))return this.consumeWhiteSpace(),this.peekCodePoint(0)===M||this.peekCodePoint(0)===Qi?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,E)}):(this.consumeBadUrlRemnants(),Nt);if(we===Ci||we===cs||we===qn||qt(we))return this.consumeBadUrlRemnants(),Nt;if(we===tl)if(_t(we,this.peekCodePoint(0)))E.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Nt;else E.push(we)}},F.prototype.consumeWhiteSpace=function(){for(;tt(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var E=this.consumeCodePoint();if(E===Qi||E===M)return;_t(E,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(E){for(var U=5e4,H="";E>0;){var we=Math.min(U,E);H+=f.apply(void 0,this._value.splice(0,we)),E-=we}return this._value.shift(),H},F.prototype.consumeStringToken=function(E){var U="",H=0;do{var we=this._value[H];if(we===M||we===void 0||we===E)return U+=this.consumeStringSlice(H),{type:0,value:U};if(we===qs)return this._value.splice(0,H),Wt;if(we===tl){var Fe=this._value[H+1];Fe!==M&&Fe!==void 0&&(Fe===qs?(U+=this.consumeStringSlice(H),H=-1,this._value.shift()):_t(we,Fe)&&(U+=this.consumeStringSlice(H),U+=f(this.consumeEscapedCodePoint()),H=-1))}H++}while(!0)},F.prototype.consumeNumber=function(){var E=[],U=ni,H=this.peekCodePoint(0);for((H===oe||H===xs)&&E.push(this.consumeCodePoint());vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());H=this.peekCodePoint(0);var we=this.peekCodePoint(1);if(H===te&&vt(we))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),U=Eo;vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());H=this.peekCodePoint(0),we=this.peekCodePoint(1);var Fe=this.peekCodePoint(2);if((H===Ve||H===re)&&((we===oe||we===xs)&&vt(Fe)||vt(we)))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),U=Eo;vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());return[dt(E),U]},F.prototype.consumeNumericToken=function(){var E=this.consumeNumber(),U=E[0],H=E[1],we=this.peekCodePoint(0),Fe=this.peekCodePoint(1),ze=this.peekCodePoint(2);if(or(we,Fe,ze)){var ct=this.consumeName();return{type:15,number:U,flags:H,unit:ct}}return we===Uc?(this.consumeCodePoint(),{type:16,number:U,flags:H}):{type:17,number:U,flags:H}},F.prototype.consumeEscapedCodePoint=function(){var E=this.consumeCodePoint();if(yt(E)){for(var U=f(E);yt(this.peekCodePoint(0))&&U.length<6;)U+=f(this.consumeCodePoint());tt(this.peekCodePoint(0))&&this.consumeCodePoint();var H=parseInt(U,16);return H===0||mt(H)||H>1114111?Ut:H}return E===M?Ut:E},F.prototype.consumeName=function(){for(var E="";;){var U=this.consumeCodePoint();if(lr(U))E+=f(U);else if(_t(U,this.peekCodePoint(0)))E+=f(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(U),E}},F})(),ut=(function(){function F(E){this._tokens=E}return F.create=function(E){var U=new ca;return U.write(E),new F(U.read())},F.parseValue=function(E){return F.create(E).parseComponentValue()},F.parseValues=function(E){return F.create(E).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var E=this.consumeToken();E.type===31;)E=this.consumeToken();if(E.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(E);var U=this.consumeComponentValue();do E=this.consumeToken();while(E.type===31);if(E.type===32)return U;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var E=[];;){var U=this.consumeComponentValue();if(U.type===32)return E;E.push(U),E.push()}},F.prototype.consumeComponentValue=function(){var E=this.consumeToken();switch(E.type){case 11:case 28:case 2:return this.consumeSimpleBlock(E.type);case 19:return this.consumeFunction(E)}return E},F.prototype.consumeSimpleBlock=function(E){for(var U={type:E,values:[]},H=this.consumeToken();;){if(H.type===32||Ai(H,E))return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue()),H=this.consumeToken()}},F.prototype.consumeFunction=function(E){for(var U={name:E.value,values:[],type:18};;){var H=this.consumeToken();if(H.type===32||H.type===3)return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var E=this._tokens.shift();return typeof E>"u"?Bn:E},F.prototype.reconsumeToken=function(E){this._tokens.unshift(E)},F})(),hn=function(F){return F.type===15},ga=function(F){return F.type===17},un=function(F){return F.type===20},Qr=function(F){return F.type===0},oa=function(F,E){return un(F)&&F.value===E},Mn=function(F){return F.type!==31},Jn=function(F){return F.type!==31&&F.type!==4},Rn=function(F){var E=[],U=[];return F.forEach(function(H){if(H.type===4){if(U.length===0)throw new Error("Error parsing function args, zero tokens for arg");E.push(U),U=[];return}H.type!==31&&U.push(H)}),U.length&&E.push(U),E},Ai=function(F,E){return E===11&&F.type===12||E===28&&F.type===29?!0:E===2&&F.type===3},La=function(F){return F.type===17||F.type===15},Fn=function(F){return F.type===16||La(F)},si=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},la={type:17,number:0,flags:ni},On={type:16,number:50,flags:ni},ua={type:16,number:100,flags:ni},kn=function(F,E,U){var H=F[0],we=F[1];return[wa(H,E),wa(typeof we<"u"?we:H,U)]},wa=function(F,E){if(F.type===16)return F.number/100*E;if(hn(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},ci="deg",Va="grad",za="rad",es="turn",Kn={name:"angle",parse:function(F,E){if(E.type===15)switch(E.unit){case ci:return Math.PI*E.number/180;case Va:return Math.PI/200*E.number;case za:return E.number;case es:return Math.PI*2*E.number}throw new Error("Unsupported angle type")}},Ei=function(F){return F.type===15&&(F.unit===ci||F.unit===Va||F.unit===za||F.unit===es)},va=function(F){var E=F.filter(un).map(function(U){return U.value}).join(" ");switch(E){case"to bottom right":case"to right bottom":case"left top":case"top left":return[la,la];case"to top":case"bottom":return zn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[la,ua];case"to right":case"left":return zn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ua,ua];case"to bottom":case"top":return zn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ua,la];case"to left":case"right":return zn(270)}return 0},zn=function(F){return Math.PI*F/180},Ii={name:"color",parse:function(F,E){if(E.type===18){var U=fa[E.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported color function "'+E.name+'"');return U(F,E.values)}if(E.type===5){if(E.value.length===3){var H=E.value.substring(0,1),we=E.value.substring(1,2),Fe=E.value.substring(2,3);return Xa(parseInt(H+H,16),parseInt(we+we,16),parseInt(Fe+Fe,16),1)}if(E.value.length===4){var H=E.value.substring(0,1),we=E.value.substring(1,2),Fe=E.value.substring(2,3),ze=E.value.substring(3,4);return Xa(parseInt(H+H,16),parseInt(we+we,16),parseInt(Fe+Fe,16),parseInt(ze+ze,16)/255)}if(E.value.length===6){var H=E.value.substring(0,2),we=E.value.substring(2,4),Fe=E.value.substring(4,6);return Xa(parseInt(H,16),parseInt(we,16),parseInt(Fe,16),1)}if(E.value.length===8){var H=E.value.substring(0,2),we=E.value.substring(2,4),Fe=E.value.substring(4,6),ze=E.value.substring(6,8);return Xa(parseInt(H,16),parseInt(we,16),parseInt(Fe,16),parseInt(ze,16)/255)}}if(E.type===20){var ct=bo[E.value.toUpperCase()];if(typeof ct<"u")return ct}return bo.TRANSPARENT}},ja=function(F){return(255&F)===0},En=function(F){var E=255&F,U=255&F>>8,H=255&F>>16,we=255&F>>24;return E<255?"rgba("+we+","+H+","+U+","+E/255+")":"rgb("+we+","+H+","+U+")"},Xa=function(F,E,U,H){return(F<<24|E<<16|U<<8|Math.round(H*255)<<0)>>>0},tu=function(F,E){if(F.type===17)return F.number;if(F.type===16){var U=E===3?1:255;return E===3?F.number/100*U:Math.round(F.number/100*U)}return 0},Ws=function(F,E){var U=E.filter(Jn);if(U.length===3){var H=U.map(tu),we=H[0],Fe=H[1],ze=H[2];return Xa(we,Fe,ze,1)}if(U.length===4){var ct=U.map(tu),we=ct[0],Fe=ct[1],ze=ct[2],lt=ct[3];return Xa(we,Fe,ze,lt)}return 0};function yo(F,E,U){return U<0&&(U+=1),U>=1&&(U-=1),U<1/6?(E-F)*U*6+F:U<1/2?E:U<2/3?(E-F)*6*(2/3-U)+F:F}var Nc=function(F,E){var U=E.filter(Jn),H=U[0],we=U[1],Fe=U[2],ze=U[3],ct=(H.type===17?zn(H.number):Kn.parse(F,H))/(Math.PI*2),lt=Fn(we)?we.number/100:0,Rt=Fn(Fe)?Fe.number/100:0,Ht=typeof ze<"u"&&Fn(ze)?wa(ze,1):1;if(lt===0)return Xa(Rt*255,Rt*255,Rt*255,1);var tr=Rt<=.5?Rt*(lt+1):Rt+lt-Rt*lt,jr=Rt*2-tr,bn=yo(jr,tr,ct+1/3),nn=yo(jr,tr,ct),xn=yo(jr,tr,ct-1/3);return Xa(bn*255,nn*255,xn*255,Ht)},fa={hsl:Nc,hsla:Nc,rgb:Ws,rgba:Ws},bs=function(F,E){return Ii.parse(F,ut.create(E).parseComponentValue())},bo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},El={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,E){return E.map(function(U){if(un(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Fs={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pi=function(F,E){var U=Ii.parse(F,E[0]),H=E[1];return H&&Fn(H)?{color:U,stop:H}:{color:U,stop:null}},Is=function(F,E){var U=F[0],H=F[F.length-1];U.stop===null&&(U.stop=la),H.stop===null&&(H.stop=ua);for(var we=[],Fe=0,ze=0;ze<F.length;ze++){var ct=F[ze].stop;if(ct!==null){var lt=wa(ct,E);lt>Fe?we.push(lt):we.push(Fe),Fe=lt}else we.push(null)}for(var Rt=null,ze=0;ze<we.length;ze++){var Ht=we[ze];if(Ht===null)Rt===null&&(Rt=ze);else if(Rt!==null){for(var tr=ze-Rt,jr=we[Rt-1],bn=(Ht-jr)/(tr+1),nn=1;nn<=tr;nn++)we[Rt+nn-1]=bn*nn;Rt=null}}return F.map(function(xn,Za){var Yn=xn.color;return{color:Yn,stop:Math.max(Math.min(1,we[Za]/E),0)}})},lo=function(F,E,U){var H=E/2,we=U/2,Fe=wa(F[0],E)-H,ze=we-wa(F[1],U);return(Math.atan2(ze,Fe)+Math.PI*2)%(Math.PI*2)},ru=function(F,E,U){var H=typeof F=="number"?F:lo(F,E,U),we=Math.abs(E*Math.sin(H))+Math.abs(U*Math.cos(H)),Fe=E/2,ze=U/2,ct=we/2,lt=Math.sin(H-Math.PI/2)*ct,Rt=Math.cos(H-Math.PI/2)*ct;return[we,Fe-Rt,Fe+Rt,ze-lt,ze+lt]},Ys=function(F,E){return Math.sqrt(F*F+E*E)},rl=function(F,E,U,H,we){var Fe=[[0,0],[0,E],[F,0],[F,E]];return Fe.reduce(function(ze,ct){var lt=ct[0],Rt=ct[1],Ht=Ys(U-lt,H-Rt);return(we?Ht<ze.optimumDistance:Ht>ze.optimumDistance)?{optimumCorner:ct,optimumDistance:Ht}:ze},{optimumDistance:we?1/0:-1/0,optimumCorner:null}).optimumCorner},Sc=function(F,E,U,H,we){var Fe=0,ze=0;switch(F.size){case 0:F.shape===0?Fe=ze=Math.min(Math.abs(E),Math.abs(E-H),Math.abs(U),Math.abs(U-we)):F.shape===1&&(Fe=Math.min(Math.abs(E),Math.abs(E-H)),ze=Math.min(Math.abs(U),Math.abs(U-we)));break;case 2:if(F.shape===0)Fe=ze=Math.min(Ys(E,U),Ys(E,U-we),Ys(E-H,U),Ys(E-H,U-we));else if(F.shape===1){var ct=Math.min(Math.abs(U),Math.abs(U-we))/Math.min(Math.abs(E),Math.abs(E-H)),lt=rl(H,we,E,U,!0),Rt=lt[0],Ht=lt[1];Fe=Ys(Rt-E,(Ht-U)/ct),ze=ct*Fe}break;case 1:F.shape===0?Fe=ze=Math.max(Math.abs(E),Math.abs(E-H),Math.abs(U),Math.abs(U-we)):F.shape===1&&(Fe=Math.max(Math.abs(E),Math.abs(E-H)),ze=Math.max(Math.abs(U),Math.abs(U-we)));break;case 3:if(F.shape===0)Fe=ze=Math.max(Ys(E,U),Ys(E,U-we),Ys(E-H,U),Ys(E-H,U-we));else if(F.shape===1){var ct=Math.max(Math.abs(U),Math.abs(U-we))/Math.max(Math.abs(E),Math.abs(E-H)),tr=rl(H,we,E,U,!1),Rt=tr[0],Ht=tr[1];Fe=Ys(Rt-E,(Ht-U)/ct),ze=ct*Fe}break}return Array.isArray(F.size)&&(Fe=wa(F.size[0],H),ze=F.size.length===2?wa(F.size[1],we):Fe),[Fe,ze]},Jl=function(F,E){var U=zn(180),H=[];return Rn(E).forEach(function(we,Fe){if(Fe===0){var ze=we[0];if(ze.type===20&&ze.value==="to"){U=va(we);return}else if(Ei(ze)){U=Kn.parse(F,ze);return}}var ct=Pi(F,we);H.push(ct)}),{angle:U,stops:H,type:1}},Zs=function(F,E){var U=zn(180),H=[];return Rn(E).forEach(function(we,Fe){if(Fe===0){var ze=we[0];if(ze.type===20&&["top","left","right","bottom"].indexOf(ze.value)!==-1){U=va(we);return}else if(Ei(ze)){U=(Kn.parse(F,ze)+zn(270))%zn(360);return}}var ct=Pi(F,we);H.push(ct)}),{angle:U,stops:H,type:1}},nl=function(F,E){var U=zn(180),H=[],we=1,Fe=0,ze=3,ct=[];return Rn(E).forEach(function(lt,Rt){var Ht=lt[0];if(Rt===0){if(un(Ht)&&Ht.value==="linear"){we=1;return}else if(un(Ht)&&Ht.value==="radial"){we=2;return}}if(Ht.type===18){if(Ht.name==="from"){var tr=Ii.parse(F,Ht.values[0]);H.push({stop:la,color:tr})}else if(Ht.name==="to"){var tr=Ii.parse(F,Ht.values[0]);H.push({stop:ua,color:tr})}else if(Ht.name==="color-stop"){var jr=Ht.values.filter(Jn);if(jr.length===2){var tr=Ii.parse(F,jr[1]),bn=jr[0];ga(bn)&&H.push({stop:{type:16,number:bn.number*100,flags:bn.flags},color:tr})}}}}),we===1?{angle:(U+zn(180))%zn(360),stops:H,type:we}:{size:ze,shape:Fe,stops:H,position:ct,type:we}},Il="closest-side",Vo="farthest-side",Fo="closest-corner",ec="farthest-corner",Tl="circle",Bc="ellipse",dd="cover",Hc="contain",hd=function(F,E){var U=0,H=3,we=[],Fe=[];return Rn(E).forEach(function(ze,ct){var lt=!0;if(ct===0){var Rt=!1;lt=ze.reduce(function(tr,jr){if(Rt)if(un(jr))switch(jr.value){case"center":return Fe.push(On),tr;case"top":case"left":return Fe.push(la),tr;case"right":case"bottom":return Fe.push(ua),tr}else(Fn(jr)||La(jr))&&Fe.push(jr);else if(un(jr))switch(jr.value){case Tl:return U=0,!1;case Bc:return U=1,!1;case"at":return Rt=!0,!1;case Il:return H=0,!1;case dd:case Vo:return H=1,!1;case Hc:case Fo:return H=2,!1;case ec:return H=3,!1}else if(La(jr)||Fn(jr))return Array.isArray(H)||(H=[]),H.push(jr),!1;return tr},lt)}if(lt){var Ht=Pi(F,ze);we.push(Ht)}}),{size:H,shape:U,stops:we,position:Fe,type:2}},nu=function(F,E){var U=0,H=3,we=[],Fe=[];return Rn(E).forEach(function(ze,ct){var lt=!0;if(ct===0?lt=ze.reduce(function(Ht,tr){if(un(tr))switch(tr.value){case"center":return Fe.push(On),!1;case"top":case"left":return Fe.push(la),!1;case"right":case"bottom":return Fe.push(ua),!1}else if(Fn(tr)||La(tr))return Fe.push(tr),!1;return Ht},lt):ct===1&&(lt=ze.reduce(function(Ht,tr){if(un(tr))switch(tr.value){case Tl:return U=0,!1;case Bc:return U=1,!1;case Hc:case Il:return H=0,!1;case Vo:return H=1,!1;case Fo:return H=2,!1;case dd:case ec:return H=3,!1}else if(La(tr)||Fn(tr))return Array.isArray(H)||(H=[]),H.push(tr),!1;return Ht},lt)),lt){var Rt=Pi(F,ze);we.push(Rt)}}),{size:H,shape:U,stops:we,position:Fe,type:2}},zo=function(F){return F.type===1},au=function(F){return F.type===2},wu={name:"image",parse:function(F,E){if(E.type===22){var U={url:E.value,type:0};return F.cache.addImage(E.value),U}if(E.type===18){var H=_l[E.name];if(typeof H>"u")throw new Error('Attempting to parse an unsupported image function "'+E.name+'"');return H(F,E.values)}throw new Error("Unsupported image type "+E.type)}};function Uu(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!_l[F.name])}var _l={"linear-gradient":Jl,"-moz-linear-gradient":Zs,"-ms-linear-gradient":Zs,"-o-linear-gradient":Zs,"-webkit-linear-gradient":Zs,"radial-gradient":hd,"-moz-radial-gradient":nu,"-ms-radial-gradient":nu,"-o-radial-gradient":nu,"-webkit-radial-gradient":nu,"-webkit-gradient":nl},Hu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,E){if(E.length===0)return[];var U=E[0];return U.type===20&&U.value==="none"?[]:E.filter(function(H){return Jn(H)&&Uu(H)}).map(function(H){return wu.parse(F,H)})}},Qu={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,E){return E.map(function(U){if(un(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tc={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,E){return Rn(E).map(function(U){return U.filter(Fn)}).map(si)}},Wu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,E){return Rn(E).map(function(U){return U.filter(un).map(function(H){return H.value}).join(" ")}).map(ju)}},ju=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ya;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(ya||(ya={}));var fd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,E){return Rn(E).map(function(U){return U.filter(rc)})}},rc=function(F){return un(F)||Fn(F)},xi=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ad=xi("top"),pl=xi("right"),Ts=xi("bottom"),Ec=xi("left"),iu=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(E,U){return si(U.filter(Fn))}}},Ol=iu("top-left"),$u=iu("top-right"),Ko=iu("bottom-right"),pd=iu("bottom-left"),Cu=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(E,U){switch(U){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},md=Cu("top"),su=Cu("right"),Nu=Cu("bottom"),Su=Cu("left"),Bu=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(E,U){return hn(U)?U.number:0}}},Eu=Bu("top"),gd=Bu("right"),kl=Bu("bottom"),Rh=Bu("left"),Iu={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$d={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,E){switch(E){case"rtl":return 1;case"ltr":default:return 0}}},Lh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,E){return E.filter(un).reduce(function(U,H){return U|Ca(H.value)},0)}},Ca=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Qc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,E){return E.type===20&&E.value==="normal"?0:E.type===17||E.type===15?E.number:0}},Ic;(function(F){F.NORMAL="normal",F.STRICT="strict"})(Ic||(Ic={}));var wo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"strict":return Ic.STRICT;case"normal":default:return Ic.NORMAL}}},Pl={name:"line-height",initialValue:"normal",prefix:!1,type:4},nc=function(F,E){return un(F)&&F.value==="normal"?1.2*E:F.type===17?E*F.number:Fn(F)?wa(F,E):E},Vd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,E){return E.type===20&&E.value==="none"?null:wu.parse(F,E)}},ml={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,E){switch(E){case"inside":return 0;case"outside":default:return 1}}},Vu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Go=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},Tu=Go("top"),gl=Go("right"),vd=Go("bottom"),Tc=Go("left"),ac={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,E){return E.filter(un).map(function(U){switch(U.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Fl={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"break-word":return"break-word";case"normal":default:return"normal"}}},ui=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ti=ui("top"),Dl=ui("right"),ws=ui("bottom"),Ds=ui("left"),_c={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,E){switch(E){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ou={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,E){switch(E){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Do={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.length===1&&oa(E[0],"none")?[]:Rn(E).map(function(U){for(var H={color:bo.TRANSPARENT,offsetX:la,offsetY:la,blur:la},we=0,Fe=0;Fe<U.length;Fe++){var ze=U[Fe];La(ze)?(we===0?H.offsetX=ze:we===1?H.offsetY=ze:H.blur=ze,we++):H.color=Ii.parse(F,ze)}return H})}},ic={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Wc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,E){if(E.type===20&&E.value==="none")return null;if(E.type===18){var U=Kd[E.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported transform function "'+E.name+'"');return U(E.values)}return null}},zd=function(F){var E=F.filter(function(U){return U.type===17}).map(function(U){return U.number});return E.length===6?E:null},$c=function(F){var E=F.filter(function(lt){return lt.type===17}).map(function(lt){return lt.number}),U=E[0],H=E[1];E[2],E[3];var we=E[4],Fe=E[5];E[6],E[7],E[8],E[9],E[10],E[11];var ze=E[12],ct=E[13];return E[14],E[15],E.length===16?[U,H,we,Fe,ze,ct]:null},Kd={matrix:zd,matrix3d:$c},fe={type:16,number:50,flags:ni},Ue=[fe,fe],gt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,E){var U=E.filter(Fn);return U.length!==2?Ue:[U[0],U[1]]}},Ot={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Gt;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(Gt||(Gt={}));for(var yr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"break-all":return Gt.BREAK_ALL;case"keep-all":return Gt.KEEP_ALL;case"normal":default:return Gt.NORMAL}}},Fr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,E){if(E.type===20)return{auto:!0,order:0};if(ga(E))return{auto:!1,order:E.number};throw new Error("Invalid z-index number parsed")}},In={name:"time",parse:function(F,E){if(E.type===15)switch(E.unit.toLowerCase()){case"s":return 1e3*E.number;case"ms":return E.number}throw new Error("Unsupported time type")}},Hn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,E){return ga(E)?E.number:1}},Aa={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aa={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,E){return E.filter(un).map(function(U){switch(U.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(U){return U!==0})}},Oa={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,E){var U=[],H=[];return E.forEach(function(we){switch(we.type){case 20:case 0:U.push(we.value);break;case 17:U.push(we.number.toString());break;case 4:H.push(U.join(" ")),U.length=0;break}}),U.length&&H.push(U.join(" ")),H.map(function(we){return we.indexOf(" ")===-1?we:"'"+we+"'"})}},Fi={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Mi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,E){if(ga(E))return E.number;if(un(E))switch(E.value){case"bold":return 700;case"normal":default:return 400}return 400}},hi={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.filter(un).map(function(U){return U.value})}},us={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},T=function(F,E){return(F&E)!==0},Me={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,E){if(E.length===0)return[];var U=E[0];return U.type===20&&U.value==="none"?[]:E}},J={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return null;var U=E[0];if(U.type===20&&U.value==="none")return null;for(var H=[],we=E.filter(Mn),Fe=0;Fe<we.length;Fe++){var ze=we[Fe],ct=we[Fe+1];if(ze.type===20){var lt=ct&&ga(ct)?ct.number:1;H.push({counter:ze.value,increment:lt})}}return H}},Xe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return[];for(var U=[],H=E.filter(Mn),we=0;we<H.length;we++){var Fe=H[we],ze=H[we+1];if(un(Fe)&&Fe.value!=="none"){var ct=ze&&ga(ze)?ze.number:0;U.push({counter:Fe.value,reset:ct})}}return U}},ht={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,E){return E.filter(hn).map(function(U){return In.parse(F,U)})}},ot={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return null;var U=E[0];if(U.type===20&&U.value==="none")return null;var H=[],we=E.filter(Qr);if(we.length%2!==0)return null;for(var Fe=0;Fe<we.length;Fe+=2){var ze=we[Fe].value,ct=we[Fe+1].value;H.push({open:ze,close:ct})}return H}},er=function(F,E,U){if(!F)return"";var H=F[Math.min(E,F.length-1)];return H?U?H.open:H.close:""},$t={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.length===1&&oa(E[0],"none")?[]:Rn(E).map(function(U){for(var H={color:255,offsetX:la,offsetY:la,blur:la,spread:la,inset:!1},we=0,Fe=0;Fe<U.length;Fe++){var ze=U[Fe];oa(ze,"inset")?H.inset=!0:La(ze)?(we===0?H.offsetX=ze:we===1?H.offsetY=ze:we===2?H.blur=ze:H.spread=ze,we++):H.color=Ii.parse(F,ze)}return H})}},Sn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,E){var U=[0,1,2],H=[];return E.filter(un).forEach(function(we){switch(we.value){case"stroke":H.push(1);break;case"fill":H.push(0);break;case"markers":H.push(2);break}}),U.forEach(function(we){H.indexOf(we)===-1&&H.push(we)}),H}},Pt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ir={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,E){return hn(E)?E.number:0}},xa=(function(){function F(E,U){var H,we;this.animationDuration=br(E,ht,U.animationDuration),this.backgroundClip=br(E,El,U.backgroundClip),this.backgroundColor=br(E,Fs,U.backgroundColor),this.backgroundImage=br(E,Hu,U.backgroundImage),this.backgroundOrigin=br(E,Qu,U.backgroundOrigin),this.backgroundPosition=br(E,tc,U.backgroundPosition),this.backgroundRepeat=br(E,Wu,U.backgroundRepeat),this.backgroundSize=br(E,fd,U.backgroundSize),this.borderTopColor=br(E,Ad,U.borderTopColor),this.borderRightColor=br(E,pl,U.borderRightColor),this.borderBottomColor=br(E,Ts,U.borderBottomColor),this.borderLeftColor=br(E,Ec,U.borderLeftColor),this.borderTopLeftRadius=br(E,Ol,U.borderTopLeftRadius),this.borderTopRightRadius=br(E,$u,U.borderTopRightRadius),this.borderBottomRightRadius=br(E,Ko,U.borderBottomRightRadius),this.borderBottomLeftRadius=br(E,pd,U.borderBottomLeftRadius),this.borderTopStyle=br(E,md,U.borderTopStyle),this.borderRightStyle=br(E,su,U.borderRightStyle),this.borderBottomStyle=br(E,Nu,U.borderBottomStyle),this.borderLeftStyle=br(E,Su,U.borderLeftStyle),this.borderTopWidth=br(E,Eu,U.borderTopWidth),this.borderRightWidth=br(E,gd,U.borderRightWidth),this.borderBottomWidth=br(E,kl,U.borderBottomWidth),this.borderLeftWidth=br(E,Rh,U.borderLeftWidth),this.boxShadow=br(E,$t,U.boxShadow),this.color=br(E,Iu,U.color),this.direction=br(E,$d,U.direction),this.display=br(E,Lh,U.display),this.float=br(E,Qc,U.cssFloat),this.fontFamily=br(E,Oa,U.fontFamily),this.fontSize=br(E,Fi,U.fontSize),this.fontStyle=br(E,us,U.fontStyle),this.fontVariant=br(E,hi,U.fontVariant),this.fontWeight=br(E,Mi,U.fontWeight),this.letterSpacing=br(E,fh,U.letterSpacing),this.lineBreak=br(E,wo,U.lineBreak),this.lineHeight=br(E,Pl,U.lineHeight),this.listStyleImage=br(E,Vd,U.listStyleImage),this.listStylePosition=br(E,ml,U.listStylePosition),this.listStyleType=br(E,Vu,U.listStyleType),this.marginTop=br(E,Tu,U.marginTop),this.marginRight=br(E,gl,U.marginRight),this.marginBottom=br(E,vd,U.marginBottom),this.marginLeft=br(E,Tc,U.marginLeft),this.opacity=br(E,Hn,U.opacity);var Fe=br(E,ac,U.overflow);this.overflowX=Fe[0],this.overflowY=Fe[Fe.length>1?1:0],this.overflowWrap=br(E,Fl,U.overflowWrap),this.paddingTop=br(E,Ti,U.paddingTop),this.paddingRight=br(E,Dl,U.paddingRight),this.paddingBottom=br(E,ws,U.paddingBottom),this.paddingLeft=br(E,Ds,U.paddingLeft),this.paintOrder=br(E,Sn,U.paintOrder),this.position=br(E,ou,U.position),this.textAlign=br(E,_c,U.textAlign),this.textDecorationColor=br(E,Aa,(H=U.textDecorationColor)!==null&&H!==void 0?H:U.color),this.textDecorationLine=br(E,aa,(we=U.textDecorationLine)!==null&&we!==void 0?we:U.textDecoration),this.textShadow=br(E,Do,U.textShadow),this.textTransform=br(E,ic,U.textTransform),this.transform=br(E,Wc,U.transform),this.transformOrigin=br(E,gt,U.transformOrigin),this.visibility=br(E,Ot,U.visibility),this.webkitTextStrokeColor=br(E,Pt,U.webkitTextStrokeColor),this.webkitTextStrokeWidth=br(E,ir,U.webkitTextStrokeWidth),this.wordBreak=br(E,yr,U.wordBreak),this.zIndex=br(E,Fr,U.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return ja(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return T(this.display,4)||T(this.display,33554432)||T(this.display,268435456)||T(this.display,536870912)||T(this.display,67108864)||T(this.display,134217728)},F})(),fn=(function(){function F(E,U){this.content=br(E,Me,U.content),this.quotes=br(E,ot,U.quotes)}return F})(),Mr=(function(){function F(E,U){this.counterIncrement=br(E,J,U.counterIncrement),this.counterReset=br(E,Xe,U.counterReset)}return F})(),br=function(F,E,U){var H=new ca,we=U!==null&&typeof U<"u"?U.toString():E.initialValue;H.write(we);var Fe=new ut(H.read());switch(E.type){case 2:var ze=Fe.parseComponentValue();return E.parse(F,un(ze)?ze.value:E.initialValue);case 0:return E.parse(F,Fe.parseComponentValue());case 1:return E.parse(F,Fe.parseComponentValues());case 4:return Fe.parseComponentValue();case 3:switch(E.format){case"angle":return Kn.parse(F,Fe.parseComponentValue());case"color":return Ii.parse(F,Fe.parseComponentValue());case"image":return wu.parse(F,Fe.parseComponentValue());case"length":var ct=Fe.parseComponentValue();return La(ct)?ct:la;case"length-percentage":var lt=Fe.parseComponentValue();return Fn(lt)?lt:la;case"time":return In.parse(F,Fe.parseComponentValue())}break}},Ri="data-html2canvas-debug",ba=function(F){var E=F.getAttribute(Ri);switch(E){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ia=function(F,E){var U=ba(F);return U===1||E===U},Na=(function(){function F(E,U){if(this.context=E,this.textNodes=[],this.elements=[],this.flags=0,ia(U,3))debugger;this.styles=new xa(E,window.getComputedStyle(U,null)),Nd(U)&&(this.styles.animationDuration.some(function(H){return H>0})&&(U.style.animationDuration="0s"),this.styles.transform!==null&&(U.style.transform="none")),this.bounds=o(this.context,U),ia(U,4)&&(this.flags|=16)}return F})(),Ya="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ea=typeof Uint8Array>"u"?[]:new Uint8Array(256),ts=0;ts<an.length;ts++)Ea[an.charCodeAt(ts)]=ts;for(var ea=function(F){var E=F.length*.75,U=F.length,H,we=0,Fe,ze,ct,lt;F[F.length-1]==="="&&(E--,F[F.length-2]==="="&&E--);var Rt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),Ht=Array.isArray(Rt)?Rt:new Uint8Array(Rt);for(H=0;H<U;H+=4)Fe=Ea[F.charCodeAt(H)],ze=Ea[F.charCodeAt(H+1)],ct=Ea[F.charCodeAt(H+2)],lt=Ea[F.charCodeAt(H+3)],Ht[we++]=Fe<<2|ze>>4,Ht[we++]=(ze&15)<<4|ct>>2,Ht[we++]=(ct&3)<<6|lt&63;return Rt},oi=function(F){for(var E=F.length,U=[],H=0;H<E;H+=2)U.push(F[H+1]<<8|F[H]);return U},ka=function(F){for(var E=F.length,U=[],H=0;H<E;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},Qn=5,da=11,jo=2,sc=da-Qn,Mo=65536>>Qn,co=1<<Qn,oc=co-1,$s=1024>>Qn,Uh=Mo+$s,qo=Uh,al=32,Gd=qo+al,Ah=65536>>da,Oc=1<<sc,Vc=Oc-1,zc=function(F,E,U){return F.slice?F.slice(E,U):new Uint16Array(Array.prototype.slice.call(F,E,U))},zu=function(F,E,U){return F.slice?F.slice(E,U):new Uint32Array(Array.prototype.slice.call(F,E,U))},lu=function(F,E){var U=ea(F),H=Array.isArray(U)?ka(U):new Uint32Array(U),we=Array.isArray(U)?oi(U):new Uint16Array(U),Fe=24,ze=zc(we,Fe/2,H[4]/2),ct=H[5]===2?zc(we,(Fe+H[4])/2):zu(H,Math.ceil((Fe+H[4])/4));return new xd(H[0],H[1],H[2],H[3],ze,ct)},xd=(function(){function F(E,U,H,we,Fe,ze){this.initialValue=E,this.errorValue=U,this.highStart=H,this.highValueIndex=we,this.index=Fe,this.data=ze}return F.prototype.get=function(E){var U;if(E>=0){if(E<55296||E>56319&&E<=65535)return U=this.index[E>>Qn],U=(U<<jo)+(E&oc),this.data[U];if(E<=65535)return U=this.index[Mo+(E-55296>>Qn)],U=(U<<jo)+(E&oc),this.data[U];if(E<this.highStart)return U=Gd-Ah+(E>>da),U=this.index[U],U+=E>>Qn&Vc,U=this.index[U],U=(U<<jo)+(E&oc),this.data[U];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ro=0;Ro<kc.length;Ro++)vl[kc.charCodeAt(Ro)]=Ro;var lc=1,di=2,Li=3,ds=4,uo=5,cu=7,rs=8,uu=9,yd=10,Hh=11,ph=12,Qh=13,Ku=14,js=15,Co=function(F){for(var E=[],U=0,H=F.length;U<H;){var we=F.charCodeAt(U++);if(we>=55296&&we<=56319&&U<H){var Fe=F.charCodeAt(U++);(Fe&64512)===56320?E.push(((we&1023)<<10)+(Fe&1023)+65536):(E.push(we),U--)}else E.push(we)}return E},Js=function(){for(var F=[],E=0;E<arguments.length;E++)F[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],we=-1,Fe="";++we<U;){var ze=F[we];ze<=65535?H.push(ze):(ze-=65536,H.push((ze>>10)+55296,ze%1024+56320)),(we+1===U||H.length>16384)&&(Fe+=String.fromCharCode.apply(String,H),H.length=0)}return Fe},Wh=lu(Ya),il="",bd="",yp=function(F){return Wh.get(F)},sl=function(F,E,U){var H=U-2,we=E[H],Fe=E[U-1],ze=E[U];if(Fe===di&&ze===Li)return il;if(Fe===di||Fe===Li||Fe===ds||ze===di||ze===Li||ze===ds)return bd;if(Fe===rs&&[rs,uu,Hh,ph].indexOf(ze)!==-1||(Fe===Hh||Fe===uu)&&(ze===uu||ze===yd)||(Fe===ph||Fe===yd)&&ze===yd||ze===Qh||ze===uo||ze===cu||Fe===lc)return il;if(Fe===Qh&&ze===Ku){for(;we===uo;)we=E[--H];if(we===Ku)return il}if(Fe===js&&ze===js){for(var ct=0;we===js;)ct++,we=E[--H];if(ct%2===0)return il}return bd},jf=function(F){var E=Co(F),U=E.length,H=0,we=0,Fe=E.map(yp);return{next:function(){if(H>=U)return{done:!0,value:null};for(var ze=il;H<U&&(ze=sl(E,Fe,++H))===il;);if(ze!==il||H===U){var ct=Js.apply(null,E.slice(we,H));return we=H,{value:ct,done:!1}}return{done:!0,value:null}}}},Cf=function(F){for(var E=jf(F),U=[],H;!(H=E.next()).done;)H.value&&U.push(H.value.slice());return U},Nf=function(F){var E=123;if(F.createRange){var U=F.createRange();if(U.getBoundingClientRect){var H=F.createElement("boundtest");H.style.height=E+"px",H.style.display="block",F.body.appendChild(H),U.selectNode(H);var we=U.getBoundingClientRect(),Fe=Math.round(we.height);if(F.body.removeChild(H),Fe===E)return!0}}return!1},Kc=function(F){var E=F.createElement("boundtest");E.style.width="50px",E.style.display="block",E.style.fontSize="12px",E.style.letterSpacing="0px",E.style.wordSpacing="0px",F.body.appendChild(E);var U=F.createRange();E.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var H=E.firstChild,we=d(H.data).map(function(lt){return f(lt)}),Fe=0,ze={},ct=we.every(function(lt,Rt){U.setStart(H,Fe),U.setEnd(H,Fe+lt.length);var Ht=U.getBoundingClientRect();Fe+=lt.length;var tr=Ht.x>ze.x||Ht.y>ze.y;return ze=Ht,Rt===0?!0:tr});return F.body.removeChild(E),ct},Ml=function(){return typeof new Image().crossOrigin<"u"},ol=function(){return typeof new XMLHttpRequest().responseType=="string"},cc=function(F){var E=new Image,U=F.createElement("canvas"),H=U.getContext("2d");if(!H)return!1;E.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{H.drawImage(E,0,0),U.toDataURL()}catch{return!1}return!0},qd=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},$h=function(F){var E=F.createElement("canvas"),U=100;E.width=U,E.height=U;var H=E.getContext("2d");if(!H)return Promise.reject(!1);H.fillStyle="rgb(0, 255, 0)",H.fillRect(0,0,U,U);var we=new Image,Fe=E.toDataURL();we.src=Fe;var ze=Vh(U,U,0,0,we);return H.fillStyle="red",H.fillRect(0,0,U,U),mh(ze).then(function(ct){H.drawImage(ct,0,0);var lt=H.getImageData(0,0,U,U).data;H.fillStyle="red",H.fillRect(0,0,U,U);var Rt=F.createElement("div");return Rt.style.backgroundImage="url("+Fe+")",Rt.style.height=U+"px",qd(lt)?mh(Vh(U,U,0,0,Rt)):Promise.reject(!1)}).then(function(ct){return H.drawImage(ct,0,0),qd(H.getImageData(0,0,U,U).data)}).catch(function(){return!1})},Vh=function(F,E,U,H,we){var Fe="http://www.w3.org/2000/svg",ze=document.createElementNS(Fe,"svg"),ct=document.createElementNS(Fe,"foreignObject");return ze.setAttributeNS(null,"width",F.toString()),ze.setAttributeNS(null,"height",E.toString()),ct.setAttributeNS(null,"width","100%"),ct.setAttributeNS(null,"height","100%"),ct.setAttributeNS(null,"x",U.toString()),ct.setAttributeNS(null,"y",H.toString()),ct.setAttributeNS(null,"externalResourcesRequired","true"),ze.appendChild(ct),ct.appendChild(we),ze},mh=function(F){return new Promise(function(E,U){var H=new Image;H.onload=function(){return E(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},ho={get SUPPORT_RANGE_BOUNDS(){var F=Nf(document);return Object.defineProperty(ho,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=ho.SUPPORT_RANGE_BOUNDS&&Kc(document);return Object.defineProperty(ho,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=cc(document);return Object.defineProperty(ho,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?$h(document):Promise.resolve(!1);return Object.defineProperty(ho,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=Ml();return Object.defineProperty(ho,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=ol();return Object.defineProperty(ho,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ho,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ho,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},wd=(function(){function F(E,U){this.text=E,this.bounds=U}return F})(),pA=function(F,E,U,H){var we=Ef(E,U),Fe=[],ze=0;return we.forEach(function(ct){if(U.textDecorationLine.length||ct.trim().length>0)if(ho.SUPPORT_RANGE_BOUNDS){var lt=zh(H,ze,ct.length).getClientRects();if(lt.length>1){var Rt=_u(ct),Ht=0;Rt.forEach(function(jr){Fe.push(new wd(jr,u.fromDOMRectList(F,zh(H,Ht+ze,jr.length).getClientRects()))),Ht+=jr.length})}else Fe.push(new wd(ct,u.fromDOMRectList(F,lt)))}else{var tr=H.splitText(ct.length);Fe.push(new wd(ct,Sf(F,H))),H=tr}else ho.SUPPORT_RANGE_BOUNDS||(H=H.splitText(ct.length));ze+=ct.length}),Fe},Sf=function(F,E){var U=E.ownerDocument;if(U){var H=U.createElement("html2canvaswrapper");H.appendChild(E.cloneNode(!0));var we=E.parentNode;if(we){we.replaceChild(H,E);var Fe=o(F,H);return H.firstChild&&we.replaceChild(H.firstChild,H),Fe}}return u.EMPTY},zh=function(F,E,U){var H=F.ownerDocument;if(!H)throw new Error("Node has no owner document");var we=H.createRange();return we.setStart(F,E),we.setEnd(F,E+U),we},_u=function(F){if(ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var E=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(E.segment(F)).map(function(U){return U.segment})}return Cf(F)},Bf=function(F,E){if(ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var U=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(U.segment(F)).map(function(H){return H.segment})}return mA(F,E)},Ef=function(F,E){return E.letterSpacing!==0?_u(F):Bf(F,E)},If=[32,160,4961,65792,65793,4153,4241],mA=function(F,E){for(var U=vo(F,{lineBreak:E.lineBreak,wordBreak:E.overflowWrap==="break-word"?"break-word":E.wordBreak}),H=[],we,Fe=function(){if(we.value){var ze=we.value.slice(),ct=d(ze),lt="";ct.forEach(function(Rt){If.indexOf(Rt)===-1?lt+=f(Rt):(lt.length&&H.push(lt),H.push(f(Rt)),lt="")}),lt.length&&H.push(lt)}};!(we=U.next()).done;)Fe();return H},gA=(function(){function F(E,U,H){this.text=bp(U.data,H.textTransform),this.textBounds=pA(E,this.text,H,U)}return F})(),bp=function(F,E){switch(E){case 1:return F.toLowerCase();case 3:return F.replace(wp,jp);case 2:return F.toUpperCase();default:return F}},wp=/(^|\s|:|-|\(|\))([a-z])/g,jp=function(F,E,U){return F.length>0?E+U.toUpperCase():F},vA=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.src=H.currentSrc||H.src,we.intrinsicWidth=H.naturalWidth,we.intrinsicHeight=H.naturalHeight,we.context.cache.addImage(we.src),we}return E})(Na),gh=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.canvas=H,we.intrinsicWidth=H.width,we.intrinsicHeight=H.height,we}return E})(Na),Kh=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this,Fe=new XMLSerializer,ze=o(U,H);return H.setAttribute("width",ze.width+"px"),H.setAttribute("height",ze.height+"px"),we.svg="data:image/svg+xml,"+encodeURIComponent(Fe.serializeToString(H)),we.intrinsicWidth=H.width.baseVal.value,we.intrinsicHeight=H.height.baseVal.value,we.context.cache.addImage(we.svg),we}return E})(Na),Xd=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.value=H.value,we}return E})(Na),Tf=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.start=H.start,we.reversed=typeof H.reversed=="boolean"&&H.reversed===!0,we}return E})(Na),Um=[{type:15,flags:0,unit:"px",number:3}],xA=[{type:16,flags:0,number:50}],Hm=function(F){return F.width>F.height?new u(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new u(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},Qm=function(F){var E=F.type===Gu?new Array(F.value.length+1).join(""):F.value;return E.length===0?F.placeholder||"":E},Gh="checkbox",qh="radio",Gu="password",Rl=707406591,du=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;switch(we.type=H.type.toLowerCase(),we.checked=H.checked,we.value=Qm(H),(we.type===Gh||we.type===qh)&&(we.styles.backgroundColor=3739148031,we.styles.borderTopColor=we.styles.borderRightColor=we.styles.borderBottomColor=we.styles.borderLeftColor=2779096575,we.styles.borderTopWidth=we.styles.borderRightWidth=we.styles.borderBottomWidth=we.styles.borderLeftWidth=1,we.styles.borderTopStyle=we.styles.borderRightStyle=we.styles.borderBottomStyle=we.styles.borderLeftStyle=1,we.styles.backgroundClip=[0],we.styles.backgroundOrigin=[0],we.bounds=Hm(we.bounds)),we.type){case Gh:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=Um;break;case qh:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=xA;break}return we}return E})(Na),Cp=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this,Fe=H.options[H.selectedIndex||0];return we.value=Fe&&Fe.text||"",we}return E})(Na),yA=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.value=H.value,we}return E})(Na),Lo=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;we.src=H.src,we.width=parseInt(H.width,10)||0,we.height=parseInt(H.height,10)||0,we.backgroundColor=we.styles.backgroundColor;try{if(H.contentWindow&&H.contentWindow.document&&H.contentWindow.document.documentElement){we.tree=_f(U,H.contentWindow.document.documentElement);var Fe=H.contentWindow.document.documentElement?bs(U,getComputedStyle(H.contentWindow.document.documentElement).backgroundColor):bo.TRANSPARENT,ze=H.contentWindow.document.body?bs(U,getComputedStyle(H.contentWindow.document.body).backgroundColor):bo.TRANSPARENT;we.backgroundColor=ja(Fe)?ja(ze)?we.styles.backgroundColor:ze:Fe}}catch{}return we}return E})(Na),uc=["OL","UL","MENU"],Yd=function(F,E,U,H){for(var we=E.firstChild,Fe=void 0;we;we=Fe)if(Fe=we.nextSibling,jd(we)&&we.data.trim().length>0)U.textNodes.push(new gA(F,we,U.styles));else if(Cd(we))if(Df(we)&&we.assignedNodes)we.assignedNodes().forEach(function(ct){return Yd(F,ct,U,H)});else{var ze=bA(F,we);ze.styles.isVisible()&&(wA(we,ze,H)?ze.flags|=4:Of(ze.styles)&&(ze.flags|=2),uc.indexOf(we.tagName)!==-1&&(ze.flags|=8),U.elements.push(ze),we.slot,we.shadowRoot?Yd(F,we.shadowRoot,ze,H):!Yh(we)&&!CA(we)&&!xh(we)&&Yd(F,we,ze,H))}},bA=function(F,E){return Pf(E)?new vA(F,E):Ll(E)?new gh(F,E):CA(E)?new Kh(F,E):vh(E)?new Xd(F,E):kf(E)?new Tf(F,E):Np(E)?new du(F,E):xh(E)?new Cp(F,E):Yh(E)?new yA(F,E):SA(E)?new Lo(F,E):new Na(F,E)},_f=function(F,E){var U=bA(F,E);return U.flags|=4,Yd(F,E,U,U),U},wA=function(F,E,U){return E.styles.isPositionedWithZIndex()||E.styles.opacity<1||E.styles.isTransformed()||NA(F)&&U.styles.isTransparent()},Of=function(F){return F.isPositioned()||F.isFloating()},jd=function(F){return F.nodeType===Node.TEXT_NODE},Cd=function(F){return F.nodeType===Node.ELEMENT_NODE},Nd=function(F){return Cd(F)&&typeof F.style<"u"&&!Zd(F)},Zd=function(F){return typeof F.className=="object"},vh=function(F){return F.tagName==="LI"},kf=function(F){return F.tagName==="OL"},Np=function(F){return F.tagName==="INPUT"},jA=function(F){return F.tagName==="HTML"},CA=function(F){return F.tagName==="svg"},NA=function(F){return F.tagName==="BODY"},Ll=function(F){return F.tagName==="CANVAS"},xl=function(F){return F.tagName==="VIDEO"},Pf=function(F){return F.tagName==="IMG"},SA=function(F){return F.tagName==="IFRAME"},Ff=function(F){return F.tagName==="STYLE"},Xh=function(F){return F.tagName==="SCRIPT"},Yh=function(F){return F.tagName==="TEXTAREA"},xh=function(F){return F.tagName==="SELECT"},Df=function(F){return F.tagName==="SLOT"},O=function(F){return F.tagName.indexOf("-")>0},G=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(E){var U=this.counters[E];return U&&U.length?U[U.length-1]:1},F.prototype.getCounterValues=function(E){var U=this.counters[E];return U||[]},F.prototype.pop=function(E){var U=this;E.forEach(function(H){return U.counters[H].pop()})},F.prototype.parse=function(E){var U=this,H=E.counterIncrement,we=E.counterReset,Fe=!0;H!==null&&H.forEach(function(ct){var lt=U.counters[ct.counter];lt&&ct.increment!==0&&(Fe=!1,lt.length||lt.push(1),lt[Math.max(0,lt.length-1)]+=ct.increment)});var ze=[];return Fe&&we.forEach(function(ct){var lt=U.counters[ct.counter];ze.push(ct.counter),lt||(lt=U.counters[ct.counter]=[]),lt.push(ct.reset)}),ze},F})(),be={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_e={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qe=function(F,E,U,H,we,Fe){return F<E||F>U?Rr(F,we,Fe.length>0):H.integers.reduce(function(ze,ct,lt){for(;F>=ct;)F-=ct,ze+=H.values[lt];return ze},"")+Fe},Je=function(F,E,U,H){var we="";do U||F--,we=H(F)+we,F/=E;while(F*E>=E);return we},rt=function(F,E,U,H,we){var Fe=U-E+1;return(F<0?"-":"")+(Je(Math.abs(F),Fe,H,function(ze){return f(Math.floor(ze%Fe)+E)})+we)},pt=function(F,E,U){U===void 0&&(U=". ");var H=E.length;return Je(Math.abs(F),H,!1,function(we){return E[Math.floor(we%H)]})+U},Ft=1,rr=2,ft=4,Mt=8,Yt=function(F,E,U,H,we,Fe){if(F<-9999||F>9999)return Rr(F,4,we.length>0);var ze=Math.abs(F),ct=we;if(ze===0)return E[0]+ct;for(var lt=0;ze>0&&lt<=4;lt++){var Rt=ze%10;Rt===0&&T(Fe,Ft)&&ct!==""?ct=E[Rt]+ct:Rt>1||Rt===1&&lt===0||Rt===1&&lt===1&&T(Fe,rr)||Rt===1&&lt===1&&T(Fe,ft)&&F>100||Rt===1&&lt>1&&T(Fe,Mt)?ct=E[Rt]+(lt>0?U[lt-1]:"")+ct:Rt===1&&lt>0&&(ct=U[lt-1]+ct),ze=Math.floor(ze/10)}return(F<0?H:"")+ct},wr="",ar="",Nr="",Er="",Rr=function(F,E,U){var H=U?". ":"",we=U?"":"",Fe=U?", ":"",ze=U?" ":"";switch(E){case 0:return""+ze;case 1:return""+ze;case 2:return""+ze;case 5:var ct=rt(F,48,57,!0,H);return ct.length<4?"0"+ct:ct;case 4:return pt(F,"",we);case 6:return qe(F,1,3999,be,3,H).toLowerCase();case 7:return qe(F,1,3999,be,3,H);case 8:return rt(F,945,969,!1,H);case 9:return rt(F,97,122,!1,H);case 10:return rt(F,65,90,!1,H);case 11:return rt(F,1632,1641,!0,H);case 12:case 49:return qe(F,1,9999,_e,3,H);case 35:return qe(F,1,9999,_e,3,H).toLowerCase();case 13:return rt(F,2534,2543,!0,H);case 14:case 30:return rt(F,6112,6121,!0,H);case 15:return pt(F,"",we);case 16:return pt(F,"",we);case 17:case 48:return Yt(F,"",wr,"",we,rr|ft|Mt);case 47:return Yt(F,"",ar,"",we,Ft|rr|ft|Mt);case 42:return Yt(F,"",wr,"",we,rr|ft|Mt);case 41:return Yt(F,"",ar,"",we,Ft|rr|ft|Mt);case 26:return Yt(F,"","",Nr,we,0);case 25:return Yt(F,"","",Nr,we,Ft|rr|ft);case 31:return Yt(F,"","",Er,Fe,Ft|rr|ft);case 33:return Yt(F,"","",Er,Fe,0);case 32:return Yt(F,"","",Er,Fe,Ft|rr|ft);case 18:return rt(F,2406,2415,!0,H);case 20:return qe(F,1,19999,Ke,3,H);case 21:return rt(F,2790,2799,!0,H);case 22:return rt(F,2662,2671,!0,H);case 22:return qe(F,1,10999,Qe,3,H);case 23:return pt(F,"");case 24:return pt(F,"");case 27:return rt(F,3302,3311,!0,H);case 28:return pt(F,"",we);case 29:return pt(F,"",we);case 34:return rt(F,3792,3801,!0,H);case 37:return rt(F,6160,6169,!0,H);case 38:return rt(F,4160,4169,!0,H);case 39:return rt(F,2918,2927,!0,H);case 40:return rt(F,1776,1785,!0,H);case 43:return rt(F,3046,3055,!0,H);case 44:return rt(F,3174,3183,!0,H);case 45:return rt(F,3664,3673,!0,H);case 46:return rt(F,3872,3881,!0,H);case 3:default:return rt(F,48,57,!0,H)}},Tr="data-html2canvas-ignore",ta=(function(){function F(E,U,H){if(this.context=E,this.options=H,this.scrolledElements=[],this.referenceElement=U,this.counters=new G,this.quoteDepth=0,!U.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(U.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(E,U){var H=this,we=$a(E,U);if(!we.contentWindow)return Promise.reject("Unable to find iframe window");var Fe=E.defaultView.pageXOffset,ze=E.defaultView.pageYOffset,ct=we.contentWindow,lt=ct.document,Rt=ln(we).then(function(){return s(H,void 0,void 0,function(){var Ht,tr;return c(this,function(jr){switch(jr.label){case 0:return this.scrolledElements.forEach(Pa),ct&&(ct.scrollTo(U.left,U.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ct.scrollY!==U.top||ct.scrollX!==U.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ct.scrollX-U.left,ct.scrollY-U.top,0,0))),Ht=this.options.onclone,tr=this.clonedReferenceElement,typeof tr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:lt.fonts&&lt.fonts.ready?[4,lt.fonts.ready]:[3,2];case 1:jr.sent(),jr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yi(lt)]:[3,4];case 3:jr.sent(),jr.label=4;case 4:return typeof Ht=="function"?[2,Promise.resolve().then(function(){return Ht(lt,tr)}).then(function(){return we})]:[2,we]}})})});return lt.open(),lt.write(An(document.doctype)+"<html></html>"),fo(this.referenceElement.ownerDocument,Fe,ze),lt.replaceChild(lt.adoptNode(this.documentElement),lt.documentElement),lt.close(),Rt},F.prototype.createElementClone=function(E){if(ia(E,2))debugger;if(Ll(E))return this.createCanvasClone(E);if(xl(E))return this.createVideoClone(E);if(Ff(E))return this.createStyleClone(E);var U=E.cloneNode(!1);return Pf(U)&&(Pf(E)&&E.currentSrc&&E.currentSrc!==E.src&&(U.src=E.currentSrc,U.srcset=""),U.loading==="lazy"&&(U.loading="eager")),O(U)?this.createCustomElementClone(U):U},F.prototype.createCustomElementClone=function(E){var U=document.createElement("html2canvascustomelement");return Wn(E.style,U),U},F.prototype.createStyleClone=function(E){try{var U=E.sheet;if(U&&U.cssRules){var H=[].slice.call(U.cssRules,0).reduce(function(Fe,ze){return ze&&typeof ze.cssText=="string"?Fe+ze.cssText:Fe},""),we=E.cloneNode(!1);return we.textContent=H,we}}catch(Fe){if(this.context.logger.error("Unable to access cssRules property",Fe),Fe.name!=="SecurityError")throw Fe}return E.cloneNode(!1)},F.prototype.createCanvasClone=function(E){var U;if(this.options.inlineImages&&E.ownerDocument){var H=E.ownerDocument.createElement("img");try{return H.src=E.toDataURL(),H}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",E)}}var we=E.cloneNode(!1);try{we.width=E.width,we.height=E.height;var Fe=E.getContext("2d"),ze=we.getContext("2d");if(ze)if(!this.options.allowTaint&&Fe)ze.putImageData(Fe.getImageData(0,0,E.width,E.height),0,0);else{var ct=(U=E.getContext("webgl2"))!==null&&U!==void 0?U:E.getContext("webgl");if(ct){var lt=ct.getContextAttributes();(lt==null?void 0:lt.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",E)}ze.drawImage(E,0,0)}return we}catch{this.context.logger.info("Unable to clone canvas as it is tainted",E)}return we},F.prototype.createVideoClone=function(E){var U=E.ownerDocument.createElement("canvas");U.width=E.offsetWidth,U.height=E.offsetHeight;var H=U.getContext("2d");try{return H&&(H.drawImage(E,0,0,U.width,U.height),this.options.allowTaint||H.getImageData(0,0,U.width,U.height)),U}catch{this.context.logger.info("Unable to clone video as it is tainted",E)}var we=E.ownerDocument.createElement("canvas");return we.width=E.offsetWidth,we.height=E.offsetHeight,we},F.prototype.appendChildNode=function(E,U,H){(!Cd(U)||!Xh(U)&&!U.hasAttribute(Tr)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(U)))&&(!this.options.copyStyles||!Cd(U)||!Ff(U))&&E.appendChild(this.cloneNode(U,H))},F.prototype.cloneChildNodes=function(E,U,H){for(var we=this,Fe=E.shadowRoot?E.shadowRoot.firstChild:E.firstChild;Fe;Fe=Fe.nextSibling)if(Cd(Fe)&&Df(Fe)&&typeof Fe.assignedNodes=="function"){var ze=Fe.assignedNodes();ze.length&&ze.forEach(function(ct){return we.appendChildNode(U,ct,H)})}else this.appendChildNode(U,Fe,H)},F.prototype.cloneNode=function(E,U){if(jd(E))return document.createTextNode(E.data);if(!E.ownerDocument)return E.cloneNode(!1);var H=E.ownerDocument.defaultView;if(H&&Cd(E)&&(Nd(E)||Zd(E))){var we=this.createElementClone(E);we.style.transitionProperty="none";var Fe=H.getComputedStyle(E),ze=H.getComputedStyle(E,":before"),ct=H.getComputedStyle(E,":after");this.referenceElement===E&&Nd(we)&&(this.clonedReferenceElement=we),NA(we)&&Yo(we);var lt=this.counters.parse(new Mr(this.context,Fe)),Rt=this.resolvePseudoContent(E,we,ze,Pn.BEFORE);O(E)&&(U=!0),xl(E)||this.cloneChildNodes(E,we,U),Rt&&we.insertBefore(Rt,we.firstChild);var Ht=this.resolvePseudoContent(E,we,ct,Pn.AFTER);return Ht&&we.appendChild(Ht),this.counters.pop(lt),(Fe&&(this.options.copyStyles||Zd(E))&&!SA(E)||U)&&Wn(Fe,we),(E.scrollTop!==0||E.scrollLeft!==0)&&this.scrolledElements.push([we,E.scrollLeft,E.scrollTop]),(Yh(E)||xh(E))&&(Yh(we)||xh(we))&&(we.value=E.value),we}return E.cloneNode(!1)},F.prototype.resolvePseudoContent=function(E,U,H,we){var Fe=this;if(H){var ze=H.content,ct=U.ownerDocument;if(!(!ct||!ze||ze==="none"||ze==="-moz-alt-content"||H.display==="none")){this.counters.parse(new Mr(this.context,H));var lt=new fn(this.context,H),Rt=ct.createElement("html2canvaspseudoelement");Wn(H,Rt),lt.content.forEach(function(tr){if(tr.type===0)Rt.appendChild(ct.createTextNode(tr.value));else if(tr.type===22){var jr=ct.createElement("img");jr.src=tr.value,jr.style.opacity="1",Rt.appendChild(jr)}else if(tr.type===18){if(tr.name==="attr"){var bn=tr.values.filter(un);bn.length&&Rt.appendChild(ct.createTextNode(E.getAttribute(bn[0].value)||""))}else if(tr.name==="counter"){var nn=tr.values.filter(Jn),xn=nn[0],Za=nn[1];if(xn&&un(xn)){var Yn=Fe.counters.getCounterValue(xn.value),Vn=Za&&un(Za)?Vu.parse(Fe.context,Za.value):3;Rt.appendChild(ct.createTextNode(Rr(Yn,Vn,!1)))}}else if(tr.name==="counters"){var Ki=tr.values.filter(Jn),xn=Ki[0],ii=Ki[1],Za=Ki[2];if(xn&&un(xn)){var Ha=Fe.counters.getCounterValues(xn.value),Tn=Za&&un(Za)?Vu.parse(Fe.context,Za.value):3,Oi=ii&&ii.type===0?ii.value:"",bi=Ha.map(function(fc){return Rr(fc,Tn,!1)}).join(Oi);Rt.appendChild(ct.createTextNode(bi))}}}else if(tr.type===20)switch(tr.value){case"open-quote":Rt.appendChild(ct.createTextNode(er(lt.quotes,Fe.quoteDepth++,!0)));break;case"close-quote":Rt.appendChild(ct.createTextNode(er(lt.quotes,--Fe.quoteDepth,!1)));break;default:Rt.appendChild(ct.createTextNode(tr.value))}}),Rt.className=No+" "+Xo;var Ht=we===Pn.BEFORE?" "+No:" "+Xo;return Zd(U)?U.className.baseValue+=Ht:U.className+=Ht,Rt}}},F.destroy=function(E){return E.parentNode?(E.parentNode.removeChild(E),!0):!1},F})(),Pn;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(Pn||(Pn={}));var $a=function(F,E){var U=F.createElement("iframe");return U.className="html2canvas-container",U.style.visibility="hidden",U.style.position="fixed",U.style.left="-10000px",U.style.top="0px",U.style.border="0",U.width=E.width.toString(),U.height=E.height.toString(),U.scrolling="no",U.setAttribute(Tr,"true"),F.body.appendChild(U),U},yn=function(F){return new Promise(function(E){if(F.complete){E();return}if(!F.src){E();return}F.onload=E,F.onerror=E})},yi=function(F){return Promise.all([].slice.call(F.images,0).map(yn))},ln=function(F){return new Promise(function(E,U){var H=F.contentWindow;if(!H)return U("No window assigned for iframe");var we=H.document;H.onload=F.onload=function(){H.onload=F.onload=null;var Fe=setInterval(function(){we.body.childNodes.length>0&&we.readyState==="complete"&&(clearInterval(Fe),E(F))},50)}})},Ma=["all","d","content"],Wn=function(F,E){for(var U=F.length-1;U>=0;U--){var H=F.item(U);Ma.indexOf(H)===-1&&E.style.setProperty(H,F.getPropertyValue(H))}return E},An=function(F){var E="";return F&&(E+="<!DOCTYPE ",F.name&&(E+=F.name),F.internalSubset&&(E+=F.internalSubset),F.publicId&&(E+='"'+F.publicId+'"'),F.systemId&&(E+='"'+F.systemId+'"'),E+=">"),E},fo=function(F,E,U){F&&F.defaultView&&(E!==F.defaultView.pageXOffset||U!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(E,U)},Pa=function(F){var E=F[0],U=F[1],H=F[2];E.scrollLeft=U,E.scrollTop=H},fi=":before",hs=":after",No="___html2canvas___pseudoelement_before",Xo="___html2canvas___pseudoelement_after",Ms=`{
    content: "" !important;
    display: none !important;
}`,Yo=function(F){ll(F,"."+No+fi+Ms+`
         .`+Xo+hs+Ms)},ll=function(F,E){var U=F.ownerDocument;if(U){var H=U.createElement("style");H.textContent=E,F.appendChild(H)}},pi=(function(){function F(){}return F.getOrigin=function(E){var U=F._link;return U?(U.href=E,U.href=U.href,U.protocol+U.hostname+U.port):"about:blank"},F.isSameOrigin=function(E){return F.getOrigin(E)===F._origin},F.setContext=function(E){F._link=E.document.createElement("a"),F._origin=F.getOrigin(E.location.href)},F._origin="about:blank",F})(),Ka=(function(){function F(E,U){this.context=E,this._options=U,this._cache={}}return F.prototype.addImage=function(E){var U=Promise.resolve();return this.has(E)||(yl(E)||fs(E))&&(this._cache[E]=this.loadImage(E)).catch(function(){}),U},F.prototype.match=function(E){return this._cache[E]},F.prototype.loadImage=function(E){return s(this,void 0,void 0,function(){var U,H,we,Fe,ze=this;return c(this,function(ct){switch(ct.label){case 0:return U=pi.isSameOrigin(E),H=!dc(E)&&this._options.useCORS===!0&&ho.SUPPORT_CORS_IMAGES&&!U,we=!dc(E)&&!U&&!yl(E)&&typeof this._options.proxy=="string"&&ho.SUPPORT_CORS_XHR&&!H,!U&&this._options.allowTaint===!1&&!dc(E)&&!yl(E)&&!we&&!H?[2]:(Fe=E,we?[4,this.proxy(Fe)]:[3,2]);case 1:Fe=ct.sent(),ct.label=2;case 2:return this.context.logger.debug("Added image "+E.substring(0,256)),[4,new Promise(function(lt,Rt){var Ht=new Image;Ht.onload=function(){return lt(Ht)},Ht.onerror=Rt,(Vi(Fe)||H)&&(Ht.crossOrigin="anonymous"),Ht.src=Fe,Ht.complete===!0&&setTimeout(function(){return lt(Ht)},500),ze._options.imageTimeout>0&&setTimeout(function(){return Rt("Timed out ("+ze._options.imageTimeout+"ms) loading image")},ze._options.imageTimeout)})];case 3:return[2,ct.sent()]}})})},F.prototype.has=function(E){return typeof this._cache[E]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(E){var U=this,H=this._options.proxy;if(!H)throw new Error("No proxy defined");var we=E.substring(0,256);return new Promise(function(Fe,ze){var ct=ho.SUPPORT_RESPONSE_TYPE?"blob":"text",lt=new XMLHttpRequest;lt.onload=function(){if(lt.status===200)if(ct==="text")Fe(lt.response);else{var tr=new FileReader;tr.addEventListener("load",function(){return Fe(tr.result)},!1),tr.addEventListener("error",function(jr){return ze(jr)},!1),tr.readAsDataURL(lt.response)}else ze("Failed to proxy resource "+we+" with status code "+lt.status)},lt.onerror=ze;var Rt=H.indexOf("?")>-1?"&":"?";if(lt.open("GET",""+H+Rt+"url="+encodeURIComponent(E)+"&responseType="+ct),ct!=="text"&&lt instanceof XMLHttpRequest&&(lt.responseType=ct),U._options.imageTimeout){var Ht=U._options.imageTimeout;lt.timeout=Ht,lt.ontimeout=function(){return ze("Timed out ("+Ht+"ms) proxying "+we)}}lt.send()})},F})(),mi=/^data:image\/svg\+xml/i,Vs=/^data:image\/.*;base64,/i,$i=/^data:image\/.*/i,fs=function(F){return ho.SUPPORT_SVG_DRAWING||!ns(F)},dc=function(F){return $i.test(F)},Vi=function(F){return Vs.test(F)},yl=function(F){return F.substr(0,4)==="blob"},ns=function(F){return F.substr(-3).toLowerCase()==="svg"||mi.test(F)},rn=(function(){function F(E,U){this.type=0,this.x=E,this.y=U}return F.prototype.add=function(E,U){return new F(this.x+E,this.y+U)},F})(),Uo=function(F,E,U){return new rn(F.x+(E.x-F.x)*U,F.y+(E.y-F.y)*U)},Ho=(function(){function F(E,U,H,we){this.type=1,this.start=E,this.startControl=U,this.endControl=H,this.end=we}return F.prototype.subdivide=function(E,U){var H=Uo(this.start,this.startControl,E),we=Uo(this.startControl,this.endControl,E),Fe=Uo(this.endControl,this.end,E),ze=Uo(H,we,E),ct=Uo(we,Fe,E),lt=Uo(ze,ct,E);return U?new F(this.start,H,ze,lt):new F(lt,ct,Fe,this.end)},F.prototype.add=function(E,U){return new F(this.start.add(E,U),this.startControl.add(E,U),this.endControl.add(E,U),this.end.add(E,U))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),Rs=function(F){return F.type===1},bl=(function(){function F(E){var U=E.styles,H=E.bounds,we=kn(U.borderTopLeftRadius,H.width,H.height),Fe=we[0],ze=we[1],ct=kn(U.borderTopRightRadius,H.width,H.height),lt=ct[0],Rt=ct[1],Ht=kn(U.borderBottomRightRadius,H.width,H.height),tr=Ht[0],jr=Ht[1],bn=kn(U.borderBottomLeftRadius,H.width,H.height),nn=bn[0],xn=bn[1],Za=[];Za.push((Fe+lt)/H.width),Za.push((nn+tr)/H.width),Za.push((ze+xn)/H.height),Za.push((Rt+jr)/H.height);var Yn=Math.max.apply(Math,Za);Yn>1&&(Fe/=Yn,ze/=Yn,lt/=Yn,Rt/=Yn,tr/=Yn,jr/=Yn,nn/=Yn,xn/=Yn);var Vn=H.width-lt,Ki=H.height-jr,ii=H.width-tr,Ha=H.height-xn,Tn=U.borderTopWidth,Oi=U.borderRightWidth,bi=U.borderBottomWidth,Da=U.borderLeftWidth,Qo=wa(U.paddingTop,E.bounds.width),fc=wa(U.paddingRight,E.bounds.width),fu=wa(U.paddingBottom,E.bounds.width),As=wa(U.paddingLeft,E.bounds.width);this.topLeftBorderDoubleOuterBox=Fe>0||ze>0?Fa(H.left+Da/3,H.top+Tn/3,Fe-Da/3,ze-Tn/3,Ua.TOP_LEFT):new rn(H.left+Da/3,H.top+Tn/3),this.topRightBorderDoubleOuterBox=Fe>0||ze>0?Fa(H.left+Vn,H.top+Tn/3,lt-Oi/3,Rt-Tn/3,Ua.TOP_RIGHT):new rn(H.left+H.width-Oi/3,H.top+Tn/3),this.bottomRightBorderDoubleOuterBox=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr-Oi/3,jr-bi/3,Ua.BOTTOM_RIGHT):new rn(H.left+H.width-Oi/3,H.top+H.height-bi/3),this.bottomLeftBorderDoubleOuterBox=nn>0||xn>0?Fa(H.left+Da/3,H.top+Ha,nn-Da/3,xn-bi/3,Ua.BOTTOM_LEFT):new rn(H.left+Da/3,H.top+H.height-bi/3),this.topLeftBorderDoubleInnerBox=Fe>0||ze>0?Fa(H.left+Da*2/3,H.top+Tn*2/3,Fe-Da*2/3,ze-Tn*2/3,Ua.TOP_LEFT):new rn(H.left+Da*2/3,H.top+Tn*2/3),this.topRightBorderDoubleInnerBox=Fe>0||ze>0?Fa(H.left+Vn,H.top+Tn*2/3,lt-Oi*2/3,Rt-Tn*2/3,Ua.TOP_RIGHT):new rn(H.left+H.width-Oi*2/3,H.top+Tn*2/3),this.bottomRightBorderDoubleInnerBox=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr-Oi*2/3,jr-bi*2/3,Ua.BOTTOM_RIGHT):new rn(H.left+H.width-Oi*2/3,H.top+H.height-bi*2/3),this.bottomLeftBorderDoubleInnerBox=nn>0||xn>0?Fa(H.left+Da*2/3,H.top+Ha,nn-Da*2/3,xn-bi*2/3,Ua.BOTTOM_LEFT):new rn(H.left+Da*2/3,H.top+H.height-bi*2/3),this.topLeftBorderStroke=Fe>0||ze>0?Fa(H.left+Da/2,H.top+Tn/2,Fe-Da/2,ze-Tn/2,Ua.TOP_LEFT):new rn(H.left+Da/2,H.top+Tn/2),this.topRightBorderStroke=Fe>0||ze>0?Fa(H.left+Vn,H.top+Tn/2,lt-Oi/2,Rt-Tn/2,Ua.TOP_RIGHT):new rn(H.left+H.width-Oi/2,H.top+Tn/2),this.bottomRightBorderStroke=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr-Oi/2,jr-bi/2,Ua.BOTTOM_RIGHT):new rn(H.left+H.width-Oi/2,H.top+H.height-bi/2),this.bottomLeftBorderStroke=nn>0||xn>0?Fa(H.left+Da/2,H.top+Ha,nn-Da/2,xn-bi/2,Ua.BOTTOM_LEFT):new rn(H.left+Da/2,H.top+H.height-bi/2),this.topLeftBorderBox=Fe>0||ze>0?Fa(H.left,H.top,Fe,ze,Ua.TOP_LEFT):new rn(H.left,H.top),this.topRightBorderBox=lt>0||Rt>0?Fa(H.left+Vn,H.top,lt,Rt,Ua.TOP_RIGHT):new rn(H.left+H.width,H.top),this.bottomRightBorderBox=tr>0||jr>0?Fa(H.left+ii,H.top+Ki,tr,jr,Ua.BOTTOM_RIGHT):new rn(H.left+H.width,H.top+H.height),this.bottomLeftBorderBox=nn>0||xn>0?Fa(H.left,H.top+Ha,nn,xn,Ua.BOTTOM_LEFT):new rn(H.left,H.top+H.height),this.topLeftPaddingBox=Fe>0||ze>0?Fa(H.left+Da,H.top+Tn,Math.max(0,Fe-Da),Math.max(0,ze-Tn),Ua.TOP_LEFT):new rn(H.left+Da,H.top+Tn),this.topRightPaddingBox=lt>0||Rt>0?Fa(H.left+Math.min(Vn,H.width-Oi),H.top+Tn,Vn>H.width+Oi?0:Math.max(0,lt-Oi),Math.max(0,Rt-Tn),Ua.TOP_RIGHT):new rn(H.left+H.width-Oi,H.top+Tn),this.bottomRightPaddingBox=tr>0||jr>0?Fa(H.left+Math.min(ii,H.width-Da),H.top+Math.min(Ki,H.height-bi),Math.max(0,tr-Oi),Math.max(0,jr-bi),Ua.BOTTOM_RIGHT):new rn(H.left+H.width-Oi,H.top+H.height-bi),this.bottomLeftPaddingBox=nn>0||xn>0?Fa(H.left+Da,H.top+Math.min(Ha,H.height-bi),Math.max(0,nn-Da),Math.max(0,xn-bi),Ua.BOTTOM_LEFT):new rn(H.left+Da,H.top+H.height-bi),this.topLeftContentBox=Fe>0||ze>0?Fa(H.left+Da+As,H.top+Tn+Qo,Math.max(0,Fe-(Da+As)),Math.max(0,ze-(Tn+Qo)),Ua.TOP_LEFT):new rn(H.left+Da+As,H.top+Tn+Qo),this.topRightContentBox=lt>0||Rt>0?Fa(H.left+Math.min(Vn,H.width+Da+As),H.top+Tn+Qo,Vn>H.width+Da+As?0:lt-Da+As,Rt-(Tn+Qo),Ua.TOP_RIGHT):new rn(H.left+H.width-(Oi+fc),H.top+Tn+Qo),this.bottomRightContentBox=tr>0||jr>0?Fa(H.left+Math.min(ii,H.width-(Da+As)),H.top+Math.min(Ki,H.height+Tn+Qo),Math.max(0,tr-(Oi+fc)),jr-(bi+fu),Ua.BOTTOM_RIGHT):new rn(H.left+H.width-(Oi+fc),H.top+H.height-(bi+fu)),this.bottomLeftContentBox=nn>0||xn>0?Fa(H.left+Da+As,H.top+Ha,Math.max(0,nn-(Da+As)),xn-(bi+fu),Ua.BOTTOM_LEFT):new rn(H.left+Da+As,H.top+H.height-(bi+fu))}return F})(),Ua;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ua||(Ua={}));var Fa=function(F,E,U,H,we){var Fe=4*((Math.sqrt(2)-1)/3),ze=U*Fe,ct=H*Fe,lt=F+U,Rt=E+H;switch(we){case Ua.TOP_LEFT:return new Ho(new rn(F,Rt),new rn(F,Rt-ct),new rn(lt-ze,E),new rn(lt,E));case Ua.TOP_RIGHT:return new Ho(new rn(F,E),new rn(F+ze,E),new rn(lt,Rt-ct),new rn(lt,Rt));case Ua.BOTTOM_RIGHT:return new Ho(new rn(lt,E),new rn(lt,E+ct),new rn(F+ze,Rt),new rn(F,Rt));case Ua.BOTTOM_LEFT:default:return new Ho(new rn(lt,Rt),new rn(lt-ze,Rt),new rn(F,E+ct),new rn(F,E))}},Xn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},zi=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},_i=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},zs=(function(){function F(E,U,H){this.offsetX=E,this.offsetY=U,this.matrix=H,this.type=0,this.target=6}return F})(),Ls=(function(){function F(E,U){this.path=E,this.target=U,this.type=1}return F})(),eo=(function(){function F(E){this.opacity=E,this.type=2,this.target=6}return F})(),to=function(F){return F.type===0},Sd=function(F){return F.type===1},Ou=function(F){return F.type===2},qu=function(F,E){return F.length===E.length?F.some(function(U,H){return U===E[H]}):!1},BA=function(F,E,U,H,we){return F.map(function(Fe,ze){switch(ze){case 0:return Fe.add(E,U);case 1:return Fe.add(E+H,U);case 2:return Fe.add(E+H,U+we);case 3:return Fe.add(E,U+we)}return Fe})},yh=(function(){function F(E){this.element=E,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),cl=(function(){function F(E,U){if(this.container=E,this.parent=U,this.effects=[],this.curves=new bl(this.container),this.container.styles.opacity<1&&this.effects.push(new eo(this.container.styles.opacity)),this.container.styles.transform!==null){var H=this.container.bounds.left+this.container.styles.transformOrigin[0].number,we=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Fe=this.container.styles.transform;this.effects.push(new zs(H,we,Fe))}if(this.container.styles.overflowX!==0){var ze=Xn(this.curves),ct=_i(this.curves);qu(ze,ct)?this.effects.push(new Ls(ze,6)):(this.effects.push(new Ls(ze,2)),this.effects.push(new Ls(ct,4)))}}return F.prototype.getEffects=function(E){for(var U=[2,3].indexOf(this.container.styles.position)===-1,H=this.parent,we=this.effects.slice(0);H;){var Fe=H.effects.filter(function(lt){return!Sd(lt)});if(U||H.container.styles.position!==0||!H.parent){if(we.unshift.apply(we,Fe),U=[2,3].indexOf(H.container.styles.position)===-1,H.container.styles.overflowX!==0){var ze=Xn(H.curves),ct=_i(H.curves);qu(ze,ct)||we.unshift(new Ls(ct,6))}}else we.unshift.apply(we,Fe);H=H.parent}return we.filter(function(lt){return T(lt.target,E)})},F})(),Gc=function(F,E,U,H){F.container.elements.forEach(function(we){var Fe=T(we.flags,4),ze=T(we.flags,2),ct=new cl(we,F);T(we.styles.display,2048)&&H.push(ct);var lt=T(we.flags,8)?[]:H;if(Fe||ze){var Rt=Fe||we.styles.isPositioned()?U:E,Ht=new yh(ct);if(we.styles.isPositioned()||we.styles.opacity<1||we.styles.isTransformed()){var tr=we.styles.zIndex.order;if(tr<0){var jr=0;Rt.negativeZIndex.some(function(nn,xn){return tr>nn.element.container.styles.zIndex.order?(jr=xn,!1):jr>0}),Rt.negativeZIndex.splice(jr,0,Ht)}else if(tr>0){var bn=0;Rt.positiveZIndex.some(function(nn,xn){return tr>=nn.element.container.styles.zIndex.order?(bn=xn+1,!1):bn>0}),Rt.positiveZIndex.splice(bn,0,Ht)}else Rt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ht)}else we.styles.isFloating()?Rt.nonPositionedFloats.push(Ht):Rt.nonPositionedInlineLevel.push(Ht);Gc(ct,Ht,Fe?Ht:U,lt)}else we.styles.isInlineLevel()?E.inlineLevel.push(ct):E.nonInlineLevel.push(ct),Gc(ct,E,U,lt);T(we.flags,8)&&Jd(we,lt)})},Jd=function(F,E){for(var U=F instanceof Tf?F.start:1,H=F instanceof Tf?F.reversed:!1,we=0;we<E.length;we++){var Fe=E[we];Fe.container instanceof Xd&&typeof Fe.container.value=="number"&&Fe.container.value!==0&&(U=Fe.container.value),Fe.listValue=Rr(U,Fe.container.styles.listStyleType,!0),U+=H?-1:1}},Xu=function(F){var E=new cl(F,null),U=new yh(E),H=[];return Gc(E,U,U,H),Jd(E.container,H),U},Zh=function(F,E){switch(E){case 0:return Zo(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return Zo(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return Zo(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return Zo(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},Mf=function(F,E){switch(E){case 0:return Zo(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return Zo(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return Zo(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return Zo(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},hu=function(F,E){switch(E){case 0:return Zo(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return Zo(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return Zo(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return Zo(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},Jh=function(F,E){switch(E){case 0:return qc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return qc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return qc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return qc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},qc=function(F,E){var U=[];return Rs(F)?U.push(F.subdivide(.5,!1)):U.push(F),Rs(E)?U.push(E.subdivide(.5,!0)):U.push(E),U},Zo=function(F,E,U,H){var we=[];return Rs(F)?we.push(F.subdivide(.5,!1)):we.push(F),Rs(U)?we.push(U.subdivide(.5,!0)):we.push(U),Rs(H)?we.push(H.subdivide(.5,!0).reverse()):we.push(H),Rs(E)?we.push(E.subdivide(.5,!1).reverse()):we.push(E),we},Bd=function(F){var E=F.bounds,U=F.styles;return E.add(U.borderLeftWidth,U.borderTopWidth,-(U.borderRightWidth+U.borderLeftWidth),-(U.borderTopWidth+U.borderBottomWidth))},ku=function(F){var E=F.styles,U=F.bounds,H=wa(E.paddingLeft,U.width),we=wa(E.paddingRight,U.width),Fe=wa(E.paddingTop,U.width),ze=wa(E.paddingBottom,U.width);return U.add(H+E.borderLeftWidth,Fe+E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth+H+we),-(E.borderTopWidth+E.borderBottomWidth+Fe+ze))},ef=function(F,E){return F===0?E.bounds:F===2?ku(E):Bd(E)},Rf=function(F,E){return F===0?E.bounds:F===2?ku(E):Bd(E)},So=function(F,E,U){var H=ef(Ed(F.styles.backgroundOrigin,E),F),we=Rf(Ed(F.styles.backgroundClip,E),F),Fe=Ao(Ed(F.styles.backgroundSize,E),U,H),ze=Fe[0],ct=Fe[1],lt=kn(Ed(F.styles.backgroundPosition,E),H.width-ze,H.height-ct),Rt=Lf(Ed(F.styles.backgroundRepeat,E),lt,Fe,H,we),Ht=Math.round(H.left+lt[0]),tr=Math.round(H.top+lt[1]);return[Rt,Ht,tr,ze,ct]},hc=function(F){return un(F)&&F.value===ya.AUTO},wl=function(F){return typeof F=="number"},Ao=function(F,E,U){var H=E[0],we=E[1],Fe=E[2],ze=F[0],ct=F[1];if(!ze)return[0,0];if(Fn(ze)&&ct&&Fn(ct))return[wa(ze,U.width),wa(ct,U.height)];var lt=wl(Fe);if(un(ze)&&(ze.value===ya.CONTAIN||ze.value===ya.COVER)){if(wl(Fe)){var Rt=U.width/U.height;return Rt<Fe!=(ze.value===ya.COVER)?[U.width,U.width/Fe]:[U.height*Fe,U.height]}return[U.width,U.height]}var Ht=wl(H),tr=wl(we),jr=Ht||tr;if(hc(ze)&&(!ct||hc(ct))){if(Ht&&tr)return[H,we];if(!lt&&!jr)return[U.width,U.height];if(jr&&lt){var bn=Ht?H:we*Fe,nn=tr?we:H/Fe;return[bn,nn]}var xn=Ht?H:U.width,Za=tr?we:U.height;return[xn,Za]}if(lt){var Yn=0,Vn=0;return Fn(ze)?Yn=wa(ze,U.width):Fn(ct)&&(Vn=wa(ct,U.height)),hc(ze)?Yn=Vn*Fe:(!ct||hc(ct))&&(Vn=Yn/Fe),[Yn,Vn]}var Ki=null,ii=null;if(Fn(ze)?Ki=wa(ze,U.width):ct&&Fn(ct)&&(ii=wa(ct,U.height)),Ki!==null&&(!ct||hc(ct))&&(ii=Ht&&tr?Ki/H*we:U.height),ii!==null&&hc(ze)&&(Ki=Ht&&tr?ii/we*H:U.width),Ki!==null&&ii!==null)return[Ki,ii];throw new Error("Unable to calculate background-size for element")},Ed=function(F,E){var U=F[E];return typeof U>"u"?F[0]:U},Lf=function(F,E,U,H,we){var Fe=E[0],ze=E[1],ct=U[0],lt=U[1];switch(F){case 2:return[new rn(Math.round(H.left),Math.round(H.top+ze)),new rn(Math.round(H.left+H.width),Math.round(H.top+ze)),new rn(Math.round(H.left+H.width),Math.round(lt+H.top+ze)),new rn(Math.round(H.left),Math.round(lt+H.top+ze))];case 3:return[new rn(Math.round(H.left+Fe),Math.round(H.top)),new rn(Math.round(H.left+Fe+ct),Math.round(H.top)),new rn(Math.round(H.left+Fe+ct),Math.round(H.height+H.top)),new rn(Math.round(H.left+Fe),Math.round(H.height+H.top))];case 1:return[new rn(Math.round(H.left+Fe),Math.round(H.top+ze)),new rn(Math.round(H.left+Fe+ct),Math.round(H.top+ze)),new rn(Math.round(H.left+Fe+ct),Math.round(H.top+ze+lt)),new rn(Math.round(H.left+Fe),Math.round(H.top+ze+lt))];default:return[new rn(Math.round(we.left),Math.round(we.top)),new rn(Math.round(we.left+we.width),Math.round(we.top)),new rn(Math.round(we.left+we.width),Math.round(we.height+we.top)),new rn(Math.round(we.left),Math.round(we.height+we.top))]}},EA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",IA="Hidden Text",Pc=(function(){function F(E){this._data={},this._document=E}return F.prototype.parseMetrics=function(E,U){var H=this._document.createElement("div"),we=this._document.createElement("img"),Fe=this._document.createElement("span"),ze=this._document.body;H.style.visibility="hidden",H.style.fontFamily=E,H.style.fontSize=U,H.style.margin="0",H.style.padding="0",H.style.whiteSpace="nowrap",ze.appendChild(H),we.src=EA,we.width=1,we.height=1,we.style.margin="0",we.style.padding="0",we.style.verticalAlign="baseline",Fe.style.fontFamily=E,Fe.style.fontSize=U,Fe.style.margin="0",Fe.style.padding="0",Fe.appendChild(this._document.createTextNode(IA)),H.appendChild(Fe),H.appendChild(we);var ct=we.offsetTop-Fe.offsetTop+2;H.removeChild(Fe),H.appendChild(this._document.createTextNode(IA)),H.style.lineHeight="normal",we.style.verticalAlign="super";var lt=we.offsetTop-H.offsetTop+2;return ze.removeChild(H),{baseline:ct,middle:lt}},F.prototype.getMetrics=function(E,U){var H=E+" "+U;return typeof this._data[H]>"u"&&(this._data[H]=this.parseMetrics(E,U)),this._data[H]},F})(),TA=(function(){function F(E,U){this.context=E,this.options=U}return F})(),Uf=1e4,eh=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we._activeEffects=[],we.canvas=H.canvas?H.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),H.canvas||(we.canvas.width=Math.floor(H.width*H.scale),we.canvas.height=Math.floor(H.height*H.scale),we.canvas.style.width=H.width+"px",we.canvas.style.height=H.height+"px"),we.fontMetrics=new Pc(document),we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-H.x,-H.y),we.ctx.textBaseline="bottom",we._activeEffects=[],we.context.logger.debug("Canvas renderer initialized ("+H.width+"x"+H.height+") with scale "+H.scale),we}return E.prototype.applyEffects=function(U){for(var H=this;this._activeEffects.length;)this.popEffect();U.forEach(function(we){return H.applyEffect(we)})},E.prototype.applyEffect=function(U){this.ctx.save(),Ou(U)&&(this.ctx.globalAlpha=U.opacity),to(U)&&(this.ctx.translate(U.offsetX,U.offsetY),this.ctx.transform(U.matrix[0],U.matrix[1],U.matrix[2],U.matrix[3],U.matrix[4],U.matrix[5]),this.ctx.translate(-U.offsetX,-U.offsetY)),Sd(U)&&(this.path(U.path),this.ctx.clip()),this._activeEffects.push(U)},E.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},E.prototype.renderStack=function(U){return s(this,void 0,void 0,function(){var H;return c(this,function(we){switch(we.label){case 0:return H=U.element.container.styles,H.isVisible()?[4,this.renderStackContent(U)]:[3,2];case 1:we.sent(),we.label=2;case 2:return[2]}})})},E.prototype.renderNode=function(U){return s(this,void 0,void 0,function(){return c(this,function(H){switch(H.label){case 0:if(T(U.container.flags,16))debugger;return U.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(U)]:[3,3];case 1:return H.sent(),[4,this.renderNodeContent(U)];case 2:H.sent(),H.label=3;case 3:return[2]}})})},E.prototype.renderTextWithLetterSpacing=function(U,H,we){var Fe=this;if(H===0)this.ctx.fillText(U.text,U.bounds.left,U.bounds.top+we);else{var ze=_u(U.text);ze.reduce(function(ct,lt){return Fe.ctx.fillText(lt,ct,U.bounds.top+we),ct+Fe.ctx.measureText(lt).width},U.bounds.left)}},E.prototype.createFontStyle=function(U){var H=U.fontVariant.filter(function(ze){return ze==="normal"||ze==="small-caps"}).join(""),we=wh(U.fontFamily).join(", "),Fe=hn(U.fontSize)?""+U.fontSize.number+U.fontSize.unit:U.fontSize.number+"px";return[[U.fontStyle,H,U.fontWeight,Fe,we].join(" "),we,Fe]},E.prototype.renderTextNode=function(U,H){return s(this,void 0,void 0,function(){var we,Fe,ze,ct,lt,Rt,Ht,tr,jr=this;return c(this,function(bn){return we=this.createFontStyle(H),Fe=we[0],ze=we[1],ct=we[2],this.ctx.font=Fe,this.ctx.direction=H.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",lt=this.fontMetrics.getMetrics(ze,ct),Rt=lt.baseline,Ht=lt.middle,tr=H.paintOrder,U.textBounds.forEach(function(nn){tr.forEach(function(xn){switch(xn){case 0:jr.ctx.fillStyle=En(H.color),jr.renderTextWithLetterSpacing(nn,H.letterSpacing,Rt);var Za=H.textShadow;Za.length&&nn.text.trim().length&&(Za.slice(0).reverse().forEach(function(Yn){jr.ctx.shadowColor=En(Yn.color),jr.ctx.shadowOffsetX=Yn.offsetX.number*jr.options.scale,jr.ctx.shadowOffsetY=Yn.offsetY.number*jr.options.scale,jr.ctx.shadowBlur=Yn.blur.number,jr.renderTextWithLetterSpacing(nn,H.letterSpacing,Rt)}),jr.ctx.shadowColor="",jr.ctx.shadowOffsetX=0,jr.ctx.shadowOffsetY=0,jr.ctx.shadowBlur=0),H.textDecorationLine.length&&(jr.ctx.fillStyle=En(H.textDecorationColor||H.color),H.textDecorationLine.forEach(function(Yn){switch(Yn){case 1:jr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top+Rt),nn.bounds.width,1);break;case 2:jr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top),nn.bounds.width,1);break;case 3:jr.ctx.fillRect(nn.bounds.left,Math.ceil(nn.bounds.top+Ht),nn.bounds.width,1);break}}));break;case 1:H.webkitTextStrokeWidth&&nn.text.trim().length&&(jr.ctx.strokeStyle=En(H.webkitTextStrokeColor),jr.ctx.lineWidth=H.webkitTextStrokeWidth,jr.ctx.lineJoin=window.chrome?"miter":"round",jr.ctx.strokeText(nn.text,nn.bounds.left,nn.bounds.top+Rt)),jr.ctx.strokeStyle="",jr.ctx.lineWidth=0,jr.ctx.lineJoin="miter";break}})}),[2]})})},E.prototype.renderReplacedElement=function(U,H,we){if(we&&U.intrinsicWidth>0&&U.intrinsicHeight>0){var Fe=ku(U),ze=_i(H);this.path(ze),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(we,0,0,U.intrinsicWidth,U.intrinsicHeight,Fe.left,Fe.top,Fe.width,Fe.height),this.ctx.restore()}},E.prototype.renderNodeContent=function(U){return s(this,void 0,void 0,function(){var H,we,Fe,ze,ct,lt,Vn,Vn,Rt,Ht,tr,jr,ii,bn,nn,Ha,xn,Za,Yn,Vn,Ki,ii,Ha;return c(this,function(Tn){switch(Tn.label){case 0:this.applyEffects(U.getEffects(4)),H=U.container,we=U.curves,Fe=H.styles,ze=0,ct=H.textNodes,Tn.label=1;case 1:return ze<ct.length?(lt=ct[ze],[4,this.renderTextNode(lt,Fe)]):[3,4];case 2:Tn.sent(),Tn.label=3;case 3:return ze++,[3,1];case 4:if(!(H instanceof vA))return[3,8];Tn.label=5;case 5:return Tn.trys.push([5,7,,8]),[4,this.context.cache.match(H.src)];case 6:return Vn=Tn.sent(),this.renderReplacedElement(H,we,Vn),[3,8];case 7:return Tn.sent(),this.context.logger.error("Error loading image "+H.src),[3,8];case 8:if(H instanceof gh&&this.renderReplacedElement(H,we,H.canvas),!(H instanceof Kh))return[3,12];Tn.label=9;case 9:return Tn.trys.push([9,11,,12]),[4,this.context.cache.match(H.svg)];case 10:return Vn=Tn.sent(),this.renderReplacedElement(H,we,Vn),[3,12];case 11:return Tn.sent(),this.context.logger.error("Error loading svg "+H.svg.substring(0,255)),[3,12];case 12:return H instanceof Lo&&H.tree?(Rt=new E(this.context,{scale:this.options.scale,backgroundColor:H.backgroundColor,x:0,y:0,width:H.width,height:H.height}),[4,Rt.render(H.tree)]):[3,14];case 13:Ht=Tn.sent(),H.width&&H.height&&this.ctx.drawImage(Ht,0,0,H.width,H.height,H.bounds.left,H.bounds.top,H.bounds.width,H.bounds.height),Tn.label=14;case 14:if(H instanceof du&&(tr=Math.min(H.bounds.width,H.bounds.height),H.type===Gh?H.checked&&(this.ctx.save(),this.path([new rn(H.bounds.left+tr*.39363,H.bounds.top+tr*.79),new rn(H.bounds.left+tr*.16,H.bounds.top+tr*.5549),new rn(H.bounds.left+tr*.27347,H.bounds.top+tr*.44071),new rn(H.bounds.left+tr*.39694,H.bounds.top+tr*.5649),new rn(H.bounds.left+tr*.72983,H.bounds.top+tr*.23),new rn(H.bounds.left+tr*.84,H.bounds.top+tr*.34085),new rn(H.bounds.left+tr*.39363,H.bounds.top+tr*.79)]),this.ctx.fillStyle=En(Rl),this.ctx.fill(),this.ctx.restore()):H.type===qh&&H.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(H.bounds.left+tr/2,H.bounds.top+tr/2,tr/4,0,Math.PI*2,!0),this.ctx.fillStyle=En(Rl),this.ctx.fill(),this.ctx.restore())),Hf(H)&&H.value.length){switch(jr=this.createFontStyle(Fe),ii=jr[0],bn=jr[1],nn=this.fontMetrics.getMetrics(ii,bn).baseline,this.ctx.font=ii,this.ctx.fillStyle=En(Fe.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=bh(H.styles.textAlign),Ha=ku(H),xn=0,H.styles.textAlign){case 1:xn+=Ha.width/2;break;case 2:xn+=Ha.width;break}Za=Ha.add(xn,0,0,-Ha.height/2+1),this.ctx.save(),this.path([new rn(Ha.left,Ha.top),new rn(Ha.left+Ha.width,Ha.top),new rn(Ha.left+Ha.width,Ha.top+Ha.height),new rn(Ha.left,Ha.top+Ha.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wd(H.value,Za),Fe.letterSpacing,nn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!T(H.styles.display,2048))return[3,20];if(H.styles.listStyleImage===null)return[3,19];if(Yn=H.styles.listStyleImage,Yn.type!==0)return[3,18];Vn=void 0,Ki=Yn.url,Tn.label=15;case 15:return Tn.trys.push([15,17,,18]),[4,this.context.cache.match(Ki)];case 16:return Vn=Tn.sent(),this.ctx.drawImage(Vn,H.bounds.left-(Vn.width+10),H.bounds.top),[3,18];case 17:return Tn.sent(),this.context.logger.error("Error loading list-style-image "+Ki),[3,18];case 18:return[3,20];case 19:U.listValue&&H.styles.listStyleType!==-1&&(ii=this.createFontStyle(Fe)[0],this.ctx.font=ii,this.ctx.fillStyle=En(Fe.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ha=new u(H.bounds.left,H.bounds.top+wa(H.styles.paddingTop,H.bounds.width),H.bounds.width,nc(Fe.lineHeight,Fe.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wd(U.listValue,Ha),Fe.letterSpacing,nc(Fe.lineHeight,Fe.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Tn.label=20;case 20:return[2]}})})},E.prototype.renderStackContent=function(U){return s(this,void 0,void 0,function(){var H,we,Yn,Fe,ze,Yn,ct,lt,Yn,Rt,Ht,Yn,tr,jr,Yn,bn,nn,Yn,xn,Za,Yn;return c(this,function(Vn){switch(Vn.label){case 0:if(T(U.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(U.element)];case 1:Vn.sent(),H=0,we=U.negativeZIndex,Vn.label=2;case 2:return H<we.length?(Yn=we[H],[4,this.renderStack(Yn)]):[3,5];case 3:Vn.sent(),Vn.label=4;case 4:return H++,[3,2];case 5:return[4,this.renderNodeContent(U.element)];case 6:Vn.sent(),Fe=0,ze=U.nonInlineLevel,Vn.label=7;case 7:return Fe<ze.length?(Yn=ze[Fe],[4,this.renderNode(Yn)]):[3,10];case 8:Vn.sent(),Vn.label=9;case 9:return Fe++,[3,7];case 10:ct=0,lt=U.nonPositionedFloats,Vn.label=11;case 11:return ct<lt.length?(Yn=lt[ct],[4,this.renderStack(Yn)]):[3,14];case 12:Vn.sent(),Vn.label=13;case 13:return ct++,[3,11];case 14:Rt=0,Ht=U.nonPositionedInlineLevel,Vn.label=15;case 15:return Rt<Ht.length?(Yn=Ht[Rt],[4,this.renderStack(Yn)]):[3,18];case 16:Vn.sent(),Vn.label=17;case 17:return Rt++,[3,15];case 18:tr=0,jr=U.inlineLevel,Vn.label=19;case 19:return tr<jr.length?(Yn=jr[tr],[4,this.renderNode(Yn)]):[3,22];case 20:Vn.sent(),Vn.label=21;case 21:return tr++,[3,19];case 22:bn=0,nn=U.zeroOrAutoZIndexOrTransformedOrOpacity,Vn.label=23;case 23:return bn<nn.length?(Yn=nn[bn],[4,this.renderStack(Yn)]):[3,26];case 24:Vn.sent(),Vn.label=25;case 25:return bn++,[3,23];case 26:xn=0,Za=U.positiveZIndex,Vn.label=27;case 27:return xn<Za.length?(Yn=Za[xn],[4,this.renderStack(Yn)]):[3,30];case 28:Vn.sent(),Vn.label=29;case 29:return xn++,[3,27];case 30:return[2]}})})},E.prototype.mask=function(U){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(U.slice(0).reverse()),this.ctx.closePath()},E.prototype.path=function(U){this.ctx.beginPath(),this.formatPath(U),this.ctx.closePath()},E.prototype.formatPath=function(U){var H=this;U.forEach(function(we,Fe){var ze=Rs(we)?we.start:we;Fe===0?H.ctx.moveTo(ze.x,ze.y):H.ctx.lineTo(ze.x,ze.y),Rs(we)&&H.ctx.bezierCurveTo(we.startControl.x,we.startControl.y,we.endControl.x,we.endControl.y,we.end.x,we.end.y)})},E.prototype.renderRepeat=function(U,H,we,Fe){this.path(U),this.ctx.fillStyle=H,this.ctx.translate(we,Fe),this.ctx.fill(),this.ctx.translate(-we,-Fe)},E.prototype.resizeImage=function(U,H,we){var Fe;if(U.width===H&&U.height===we)return U;var ze=(Fe=this.canvas.ownerDocument)!==null&&Fe!==void 0?Fe:document,ct=ze.createElement("canvas");ct.width=Math.max(1,H),ct.height=Math.max(1,we);var lt=ct.getContext("2d");return lt.drawImage(U,0,0,U.width,U.height,0,0,H,we),ct},E.prototype.renderBackgroundImage=function(U){return s(this,void 0,void 0,function(){var H,we,Fe,ze,ct,lt;return c(this,function(Rt){switch(Rt.label){case 0:H=U.styles.backgroundImage.length-1,we=function(Ht){var tr,jr,bn,Qo,Ac,Ul,As,ul,bi,nn,Qo,Ac,Ul,As,ul,xn,Za,Yn,Vn,Ki,ii,Ha,Tn,Oi,bi,Da,Qo,fc,fu,As,ul,Yu,Ac,Ul,jh,Od,Zu,rf,Ju,rh,kd,p;return c(this,function(v){switch(v.label){case 0:if(Ht.type!==0)return[3,5];tr=void 0,jr=Ht.url,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Fe.context.cache.match(jr)];case 2:return tr=v.sent(),[3,4];case 3:return v.sent(),Fe.context.logger.error("Error loading background-image "+jr),[3,4];case 4:return tr&&(bn=So(U,H,[tr.width,tr.height,tr.width/tr.height]),Qo=bn[0],Ac=bn[1],Ul=bn[2],As=bn[3],ul=bn[4],bi=Fe.ctx.createPattern(Fe.resizeImage(tr,As,ul),"repeat"),Fe.renderRepeat(Qo,bi,Ac,Ul)),[3,6];case 5:zo(Ht)?(nn=So(U,H,[null,null,null]),Qo=nn[0],Ac=nn[1],Ul=nn[2],As=nn[3],ul=nn[4],xn=ru(Ht.angle,As,ul),Za=xn[0],Yn=xn[1],Vn=xn[2],Ki=xn[3],ii=xn[4],Ha=document.createElement("canvas"),Ha.width=As,Ha.height=ul,Tn=Ha.getContext("2d"),Oi=Tn.createLinearGradient(Yn,Ki,Vn,ii),Is(Ht.stops,Za).forEach(function(C){return Oi.addColorStop(C.stop,En(C.color))}),Tn.fillStyle=Oi,Tn.fillRect(0,0,As,ul),As>0&&ul>0&&(bi=Fe.ctx.createPattern(Ha,"repeat"),Fe.renderRepeat(Qo,bi,Ac,Ul))):au(Ht)&&(Da=So(U,H,[null,null,null]),Qo=Da[0],fc=Da[1],fu=Da[2],As=Da[3],ul=Da[4],Yu=Ht.position.length===0?[On]:Ht.position,Ac=wa(Yu[0],As),Ul=wa(Yu[Yu.length-1],ul),jh=Sc(Ht,Ac,Ul,As,ul),Od=jh[0],Zu=jh[1],Od>0&&Zu>0&&(rf=Fe.ctx.createRadialGradient(fc+Ac,fu+Ul,0,fc+Ac,fu+Ul,Od),Is(Ht.stops,Od*2).forEach(function(C){return rf.addColorStop(C.stop,En(C.color))}),Fe.path(Qo),Fe.ctx.fillStyle=rf,Od!==Zu?(Ju=U.bounds.left+.5*U.bounds.width,rh=U.bounds.top+.5*U.bounds.height,kd=Zu/Od,p=1/kd,Fe.ctx.save(),Fe.ctx.translate(Ju,rh),Fe.ctx.transform(1,0,0,kd,0,0),Fe.ctx.translate(-Ju,-rh),Fe.ctx.fillRect(fc,p*(fu-rh)+rh,As,ul*p),Fe.ctx.restore()):Fe.ctx.fill())),v.label=6;case 6:return H--,[2]}})},Fe=this,ze=0,ct=U.styles.backgroundImage.slice(0).reverse(),Rt.label=1;case 1:return ze<ct.length?(lt=ct[ze],[5,we(lt)]):[3,4];case 2:Rt.sent(),Rt.label=3;case 3:return ze++,[3,1];case 4:return[2]}})})},E.prototype.renderSolidBorder=function(U,H,we){return s(this,void 0,void 0,function(){return c(this,function(Fe){return this.path(Zh(we,H)),this.ctx.fillStyle=En(U),this.ctx.fill(),[2]})})},E.prototype.renderDoubleBorder=function(U,H,we,Fe){return s(this,void 0,void 0,function(){var ze,ct;return c(this,function(lt){switch(lt.label){case 0:return H<3?[4,this.renderSolidBorder(U,we,Fe)]:[3,2];case 1:return lt.sent(),[2];case 2:return ze=Mf(Fe,we),this.path(ze),this.ctx.fillStyle=En(U),this.ctx.fill(),ct=hu(Fe,we),this.path(ct),this.ctx.fill(),[2]}})})},E.prototype.renderNodeBackgroundAndBorders=function(U){return s(this,void 0,void 0,function(){var H,we,Fe,ze,ct,lt,Rt,Ht,tr=this;return c(this,function(jr){switch(jr.label){case 0:return this.applyEffects(U.getEffects(2)),H=U.container.styles,we=!ja(H.backgroundColor)||H.backgroundImage.length,Fe=[{style:H.borderTopStyle,color:H.borderTopColor,width:H.borderTopWidth},{style:H.borderRightStyle,color:H.borderRightColor,width:H.borderRightWidth},{style:H.borderBottomStyle,color:H.borderBottomColor,width:H.borderBottomWidth},{style:H.borderLeftStyle,color:H.borderLeftColor,width:H.borderLeftWidth}],ze=th(Ed(H.backgroundClip,0),U.curves),we||H.boxShadow.length?(this.ctx.save(),this.path(ze),this.ctx.clip(),ja(H.backgroundColor)||(this.ctx.fillStyle=En(H.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(U.container)]):[3,2];case 1:jr.sent(),this.ctx.restore(),H.boxShadow.slice(0).reverse().forEach(function(bn){tr.ctx.save();var nn=Xn(U.curves),xn=bn.inset?0:Uf,Za=BA(nn,-xn+(bn.inset?1:-1)*bn.spread.number,(bn.inset?1:-1)*bn.spread.number,bn.spread.number*(bn.inset?-2:2),bn.spread.number*(bn.inset?-2:2));bn.inset?(tr.path(nn),tr.ctx.clip(),tr.mask(Za)):(tr.mask(nn),tr.ctx.clip(),tr.path(Za)),tr.ctx.shadowOffsetX=bn.offsetX.number+xn,tr.ctx.shadowOffsetY=bn.offsetY.number,tr.ctx.shadowColor=En(bn.color),tr.ctx.shadowBlur=bn.blur.number,tr.ctx.fillStyle=bn.inset?En(bn.color):"rgba(0,0,0,1)",tr.ctx.fill(),tr.ctx.restore()}),jr.label=2;case 2:ct=0,lt=0,Rt=Fe,jr.label=3;case 3:return lt<Rt.length?(Ht=Rt[lt],Ht.style!==0&&!ja(Ht.color)&&Ht.width>0?Ht.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ht.color,Ht.width,ct,U.curves,2)]:[3,11]):[3,13];case 4:return jr.sent(),[3,11];case 5:return Ht.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ht.color,Ht.width,ct,U.curves,3)];case 6:return jr.sent(),[3,11];case 7:return Ht.style!==4?[3,9]:[4,this.renderDoubleBorder(Ht.color,Ht.width,ct,U.curves)];case 8:return jr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ht.color,ct,U.curves)];case 10:jr.sent(),jr.label=11;case 11:ct++,jr.label=12;case 12:return lt++,[3,3];case 13:return[2]}})})},E.prototype.renderDashedDottedBorder=function(U,H,we,Fe,ze){return s(this,void 0,void 0,function(){var ct,lt,Rt,Ht,tr,jr,bn,nn,xn,Za,Yn,Vn,Ki,ii,Ha,Tn,Ha,Tn;return c(this,function(Oi){return this.ctx.save(),ct=Jh(Fe,we),lt=Zh(Fe,we),ze===2&&(this.path(lt),this.ctx.clip()),Rs(lt[0])?(Rt=lt[0].start.x,Ht=lt[0].start.y):(Rt=lt[0].x,Ht=lt[0].y),Rs(lt[1])?(tr=lt[1].end.x,jr=lt[1].end.y):(tr=lt[1].x,jr=lt[1].y),we===0||we===2?bn=Math.abs(Rt-tr):bn=Math.abs(Ht-jr),this.ctx.beginPath(),ze===3?this.formatPath(ct):this.formatPath(lt.slice(0,2)),nn=H<3?H*3:H*2,xn=H<3?H*2:H,ze===3&&(nn=H,xn=H),Za=!0,bn<=nn*2?Za=!1:bn<=nn*2+xn?(Yn=bn/(2*nn+xn),nn*=Yn,xn*=Yn):(Vn=Math.floor((bn+xn)/(nn+xn)),Ki=(bn-Vn*nn)/(Vn-1),ii=(bn-(Vn+1)*nn)/Vn,xn=ii<=0||Math.abs(xn-Ki)<Math.abs(xn-ii)?Ki:ii),Za&&(ze===3?this.ctx.setLineDash([0,nn+xn]):this.ctx.setLineDash([nn,xn])),ze===3?(this.ctx.lineCap="round",this.ctx.lineWidth=H):this.ctx.lineWidth=H*2+1.1,this.ctx.strokeStyle=En(U),this.ctx.stroke(),this.ctx.setLineDash([]),ze===2&&(Rs(lt[0])&&(Ha=lt[3],Tn=lt[0],this.ctx.beginPath(),this.formatPath([new rn(Ha.end.x,Ha.end.y),new rn(Tn.start.x,Tn.start.y)]),this.ctx.stroke()),Rs(lt[1])&&(Ha=lt[1],Tn=lt[2],this.ctx.beginPath(),this.formatPath([new rn(Ha.end.x,Ha.end.y),new rn(Tn.start.x,Tn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},E.prototype.render=function(U){return s(this,void 0,void 0,function(){var H;return c(this,function(we){switch(we.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),H=Xu(U),[4,this.renderStack(H)];case 1:return we.sent(),this.applyEffects([]),[2,this.canvas]}})})},E})(TA),Hf=function(F){return F instanceof yA||F instanceof Cp?!0:F instanceof du&&F.type!==qh&&F.type!==Gh},th=function(F,E){switch(F){case 0:return Xn(E);case 2:return zi(E);case 1:default:return _i(E)}},bh=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Qf=["-apple-system","system-ui"],wh=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(E){return Qf.indexOf(E)===-1}):F},Xc=(function(F){a(E,F);function E(U,H){var we=F.call(this,U,H)||this;return we.canvas=H.canvas?H.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),we.options=H,we.canvas.width=Math.floor(H.width*H.scale),we.canvas.height=Math.floor(H.height*H.scale),we.canvas.style.width=H.width+"px",we.canvas.style.height=H.height+"px",we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-H.x,-H.y),we.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+H.width+"x"+H.height+" at "+H.x+","+H.y+") with scale "+H.scale),we}return E.prototype.render=function(U){return s(this,void 0,void 0,function(){var H,we;return c(this,function(Fe){switch(Fe.label){case 0:return H=Vh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,U),[4,Id(H)];case 1:return we=Fe.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(we,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},E})(TA),Id=function(F){return new Promise(function(E,U){var H=new Image;H.onload=function(){E(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},Td=(function(){function F(E){var U=E.id,H=E.enabled;this.id=U,this.enabled=H,this.start=Date.now()}return F.prototype.debug=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],E))},F.prototype.warn=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.prototype.error=function(){for(var E=[],U=0;U<arguments.length;U++)E[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.instances={},F})(),tf=(function(){function F(E,U){var H;this.windowBounds=U,this.instanceName="#"+F.instanceCount++,this.logger=new Td({id:this.instanceName,enabled:E.logging}),this.cache=(H=E.cache)!==null&&H!==void 0?H:new Ka(this,E)}return F.instanceCount=1,F})(),Wf=function(F,E){return E===void 0&&(E={}),_d(F,E)};typeof window<"u"&&pi.setContext(window);var _d=function(F,E){return s(void 0,void 0,void 0,function(){var U,H,we,Fe,ze,ct,lt,Rt,Ht,tr,jr,bn,nn,xn,Za,Yn,Vn,Ki,ii,Ha,Oi,Tn,Oi,bi,Da,Qo,fc,fu,As,ul,Yu,Ac,Ul,jh,Od,Zu,rf,Ju,rh,kd;return c(this,function(p){switch(p.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(U=F.ownerDocument,!U)throw new Error("Element is not attached to a Document");if(H=U.defaultView,!H)throw new Error("Document is not attached to a Window");return we={allowTaint:(bi=E.allowTaint)!==null&&bi!==void 0?bi:!1,imageTimeout:(Da=E.imageTimeout)!==null&&Da!==void 0?Da:15e3,proxy:E.proxy,useCORS:(Qo=E.useCORS)!==null&&Qo!==void 0?Qo:!1},Fe=i({logging:(fc=E.logging)!==null&&fc!==void 0?fc:!0,cache:E.cache},we),ze={windowWidth:(fu=E.windowWidth)!==null&&fu!==void 0?fu:H.innerWidth,windowHeight:(As=E.windowHeight)!==null&&As!==void 0?As:H.innerHeight,scrollX:(ul=E.scrollX)!==null&&ul!==void 0?ul:H.pageXOffset,scrollY:(Yu=E.scrollY)!==null&&Yu!==void 0?Yu:H.pageYOffset},ct=new u(ze.scrollX,ze.scrollY,ze.windowWidth,ze.windowHeight),lt=new tf(Fe,ct),Rt=(Ac=E.foreignObjectRendering)!==null&&Ac!==void 0?Ac:!1,Ht={allowTaint:(Ul=E.allowTaint)!==null&&Ul!==void 0?Ul:!1,onclone:E.onclone,ignoreElements:E.ignoreElements,inlineImages:Rt,copyStyles:Rt},lt.logger.debug("Starting document clone with size "+ct.width+"x"+ct.height+" scrolled to "+-ct.left+","+-ct.top),tr=new ta(lt,F,Ht),jr=tr.clonedReferenceElement,jr?[4,tr.toIFrame(U,ct)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return bn=p.sent(),nn=NA(jr)||jA(jr)?h(jr.ownerDocument):o(lt,jr),xn=nn.width,Za=nn.height,Yn=nn.left,Vn=nn.top,Ki=Wm(lt,jr,E.backgroundColor),ii={canvas:E.canvas,backgroundColor:Ki,scale:(Od=(jh=E.scale)!==null&&jh!==void 0?jh:H.devicePixelRatio)!==null&&Od!==void 0?Od:1,x:((Zu=E.x)!==null&&Zu!==void 0?Zu:0)+Yn,y:((rf=E.y)!==null&&rf!==void 0?rf:0)+Vn,width:(Ju=E.width)!==null&&Ju!==void 0?Ju:Math.ceil(xn),height:(rh=E.height)!==null&&rh!==void 0?rh:Math.ceil(Za)},Rt?(lt.logger.debug("Document cloned, using foreign object rendering"),Oi=new Xc(lt,ii),[4,Oi.render(jr)]):[3,3];case 2:return Ha=p.sent(),[3,5];case 3:return lt.logger.debug("Document cloned, element located at "+Yn+","+Vn+" with size "+xn+"x"+Za+" using computed rendering"),lt.logger.debug("Starting DOM parsing"),Tn=_f(lt,jr),Ki===Tn.styles.backgroundColor&&(Tn.styles.backgroundColor=bo.TRANSPARENT),lt.logger.debug("Starting renderer for element at "+ii.x+","+ii.y+" with size "+ii.width+"x"+ii.height),Oi=new eh(lt,ii),[4,Oi.render(Tn)];case 4:Ha=p.sent(),p.label=5;case 5:return(!((kd=E.removeContainer)!==null&&kd!==void 0)||kd)&&(ta.destroy(bn)||lt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),lt.logger.debug("Finished rendering"),[2,Ha]}})})},Wm=function(F,E,U){var H=E.ownerDocument,we=H.documentElement?bs(F,getComputedStyle(H.documentElement).backgroundColor):bo.TRANSPARENT,Fe=H.body?bs(F,getComputedStyle(H.body).backgroundColor):bo.TRANSPARENT,ze=typeof U=="string"?bs(F,U):U===null?bo.TRANSPARENT:4294967295;return E===H.documentElement?ja(we)?ja(Fe)?ze:Fe:we:ze};return Wf}))})(ov)),ov.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var a_;function Bne(){return a_||(a_=1,(function(r,e){(function(a,i){r.exports=i(Sne())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d,f){(f==null||f>d.length)&&(f=d.length);for(var A=0,g=Array(f);A<f;A++)g[A]=d[A];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d){if(Array.isArray(d))return d}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function h(f,A,g,m,x,y,b){try{var w=f[y](b),N=w.value}catch(S){return void g(S)}w.done?A(N):Promise.resolve(N).then(m,x)}function d(f){return function(){var A=this,g=arguments;return new Promise(function(m,x){var y=f.apply(A,g);function b(N){h(y,m,x,b,w,"next",N)}function w(N){h(y,m,x,b,w,"throw",N)}b(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function d(f,A,g){return(A=(0,h.default)(A))in f?Object.defineProperty(f,A,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[A]=g,f}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d,f){var A=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(A!=null){var g,m,x,y,b=[],w=!0,N=!1;try{if(x=(A=A.call(d)).next,f===0){if(Object(A)!==A)return;w=!1}else for(;!(w=(g=x.call(A)).done)&&(b.push(g.value),b.length!==f);w=!0);}catch(S){N=!0,m=S}finally{try{if(!w&&A.return!=null&&(y=A.return(),Object(y)!==y))return}finally{if(N)throw m}}return b}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return g}});var h=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),d=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),f=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),A=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(m,x){return(0,h.default)(m)||(0,d.default)(m,x)||(0,f.default)(m,x)||(0,A.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function d(f,A){if((0,h.default)(f)!="object"||!f)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var m=g.call(f,A||"default");if((0,h.default)(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(f)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return f}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function f(A){var g=(0,d.default)(A,"string");return(0,h.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},h(d)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function d(f,A){if(f){if(typeof f=="string")return(0,h.default)(f,A);var g={}.toString.call(f).slice(8,-1);return g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set"?Array.from(f):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,h.default)(f,A):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(l,u,o){o.r(u),o.d(u,{AElement:function(){return Bl},AnimateColorElement:function(){return Gs},AnimateElement:function(){return ri},AnimateTransformElement:function(){return Wa},BoundingBox:function(){return vn},CB1:function(){return le},CB2:function(){return Ae},CB3:function(){return Ie},CB4:function(){return Pe},Canvg:function(){return Po},CircleElement:function(){return Dn},ClipPathElement:function(){return cs},DefsElement:function(){return Bs},DescElement:function(){return oo},Document:function(){return ys},Element:function(){return Yr},EllipseElement:function(){return Xr},FeColorMatrixElement:function(){return Al},FeCompositeElement:function(){return xs},FeDropShadowElement:function(){return Qi},FeGaussianBlurElement:function(){return Oo},FeMorphologyElement:function(){return vs},FilterElement:function(){return qn},Font:function(){return zr},FontElement:function(){return jc},FontFaceElement:function(){return gs},GElement:function(){return ji},GlyphElement:function(){return Dr},GradientElement:function(){return vi},ImageElement:function(){return ni},LineElement:function(){return Un},LinearGradientElement:function(){return Ui},MarkerElement:function(){return Cn},MaskElement:function(){return _o},Matrix:function(){return Or},MissingGlyphElement:function(){return Sl},Mouse:function(){return Re},PSEUDO_ZERO:function(){return Te},Parser:function(){return Lt},PathElement:function(){return Lr},PathParser:function(){return Wr},PatternElement:function(){return ls},Point:function(){return We},PolygonElement:function(){return ei},PolylineElement:function(){return Ur},Property:function(){return de},QB1:function(){return Ce},QB2:function(){return ce},QB3:function(){return X},RadialGradientElement:function(){return Bi},RectElement:function(){return dn},RenderedElement:function(){return $n},Rotate:function(){return Xt},SVGElement:function(){return Sr},SVGFontLoader:function(){return qs},Scale:function(){return _r},Screen:function(){return Le},Skew:function(){return He},SkewX:function(){return Zt},SkewY:function(){return Bt},StopElement:function(){return Es},StyleElement:function(){return Io},SymbolElement:function(){return Eo},TRefElement:function(){return Cc},TSpanElement:function(){return cn},TextElement:function(){return jn},TextPathElement:function(){return ha},TitleElement:function(){return Di},Transform:function(){return on},Translate:function(){return Ct},UnknownElement:function(){return qr},UseElement:function(){return tl},ViewPort:function(){return se},compressSpaces:function(){return w},default:function(){return Po},getSelectorSpecificity:function(){return Be},normalizeAttributeName:function(){return P},normalizeColor:function(){return ee},parseExternalUrl:function(){return Z},presets:function(){return b},toNumbers:function(){return j},trimLeft:function(){return N},trimRight:function(){return S},vectorMagnitude:function(){return me},vectorsAngle:function(){return ve},vectorsRatio:function(){return ue}}),o("./node_modules/core-js/modules/es.promise.js");var h=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var f=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var A=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var g=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var m=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Ut}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Ut,createCanvas(oe,he){return new OffscreenCanvas(oe,he)},createImage(oe){return(0,h.default)(function*(){var he=yield fetch(oe),R=yield he.blob(),W=yield createImageBitmap(R);return W})()}};return(typeof DOMParser<"u"||typeof Ut>"u")&&Reflect.deleteProperty(Q,"DOMParser"),Q}function y(Ut){var{DOMParser:Q,canvas:oe,fetch:he}=Ut;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Q,fetch:he,createCanvas:oe.createCanvas,createImage:oe.loadImage}}var b=Object.freeze({__proto__:null,offscreen:x,node:y});function w(Ut){return Ut.replace(/(?!\u3000)\s+/gm," ")}function N(Ut){return Ut.replace(/^[\n \t]+/,"")}function S(Ut){return Ut.replace(/[\n \t]+$/,"")}function j(Ut){var Q=(Ut||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return Q.map(parseFloat)}var _=/^[A-Z-]+$/;function P(Ut){return _.test(Ut)?Ut.toLowerCase():Ut}function Z(Ut){var Q=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Ut)||[];return Q[2]||Q[3]||Q[4]}function ee(Ut){if(!Ut.startsWith("rgb"))return Ut;var Q=3,oe=Ut.replace(/\d+(\.\d+)?/g,(he,R)=>Q--&&R?String(Math.round(parseFloat(he))):he);return oe}var K=/(\[[^\]]+\])/g,ae=/(#[^\s+>~.[:]+)/g,D=/(\.[^\s+>~.[:]+)/g,q=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,$=/(:[\w-]+\([^)]*\))/gi,L=/(:[^\s+>~.[:]+)/g,ye=/([^\s+>~.[:]+)/g;function ne(Ut,Q){var oe=Q.exec(Ut);return oe?[Ut.replace(Q," "),oe.length]:[Ut,0]}function Be(Ut){var Q=[0,0,0],oe=Ut.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),he=0;return[oe,he]=ne(oe,K),Q[1]+=he,[oe,he]=ne(oe,ae),Q[0]+=he,[oe,he]=ne(oe,D),Q[1]+=he,[oe,he]=ne(oe,q),Q[2]+=he,[oe,he]=ne(oe,$),Q[1]+=he,[oe,he]=ne(oe,L),Q[1]+=he,oe=oe.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[oe,he]=ne(oe,ye),Q[2]+=he,Q.join("")}var Te=1e-8;function me(Ut){return Math.sqrt(Math.pow(Ut[0],2)+Math.pow(Ut[1],2))}function ue(Ut,Q){return(Ut[0]*Q[0]+Ut[1]*Q[1])/(me(Ut)*me(Q))}function ve(Ut,Q){return(Ut[0]*Q[1]<Ut[1]*Q[0]?-1:1)*Math.acos(ue(Ut,Q))}function le(Ut){return Ut*Ut*Ut}function Ae(Ut){return 3*Ut*Ut*(1-Ut)}function Ie(Ut){return 3*Ut*(1-Ut)*(1-Ut)}function Pe(Ut){return(1-Ut)*(1-Ut)*(1-Ut)}function Ce(Ut){return Ut*Ut}function ce(Ut){return 2*Ut*(1-Ut)}function X(Ut){return(1-Ut)*(1-Ut)}class de{constructor(Q,oe,he){this.document=Q,this.name=oe,this.value=he,this.isNormalizedColor=!1}static empty(Q){return new de(Q,"EMPTY","")}split(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:oe,name:he}=this;return w(this.getString()).trim().split(Q).map(R=>new de(oe,he,R))}hasValue(Q){var{value:oe}=this;return oe!==null&&oe!==""&&(Q||oe!==0)&&typeof oe<"u"}isString(Q){var{value:oe}=this,he=typeof oe=="string";return!he||!Q?he:Q.test(oe)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var Q=this.getString();switch(!0){case Q.endsWith("px"):case/^[0-9]+$/.test(Q):return!0;default:return!1}}setValue(Q){return this.value=Q,this}getValue(Q){return typeof Q>"u"||this.hasValue()?this.value:Q}getNumber(Q){if(!this.hasValue())return typeof Q>"u"?0:parseFloat(Q);var{value:oe}=this,he=parseFloat(oe);return this.isString(/%$/)&&(he/=100),he}getString(Q){return typeof Q>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(Q)}getColor(Q){var oe=this.getString(Q);return this.isNormalizedColor||(this.isNormalizedColor=!0,oe=ee(oe),this.value=oe),oe}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[he,R]=typeof Q=="boolean"?[void 0,Q]:[Q],{viewPort:W}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(W.computeSize("x"),W.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(W.computeSize("x"),W.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*W.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*W.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&R):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*W.computeSize(he);default:{var te=this.getNumber();return oe&&te<1?te*W.computeSize(he):te}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var Q=this.getString(),oe=/#([^)'"]+)/.exec(Q);return oe&&(oe=oe[1]),oe||(oe=Q),this.document.definitions[oe]}getFillStyleDefinition(Q,oe){var he=this.getDefinition();if(!he)return null;if(typeof he.createGradient=="function")return he.createGradient(this.document.ctx,Q,oe);if(typeof he.createPattern=="function"){if(he.getHrefAttribute().hasValue()){var R=he.getAttribute("patternTransform");he=he.getHrefAttribute().getDefinition(),R.hasValue()&&he.getAttribute("patternTransform",!0).setValue(R.value)}return he.createPattern(this.document.ctx,Q,oe)}return null}getTextBaseline(){return this.hasValue()?de.textBaselineMapping[this.getString()]:null}addOpacity(Q){for(var oe=this.getColor(),he=oe.length,R=0,W=0;W<he&&(oe[W]===","&&R++,R!==3);W++);if(Q.hasValue()&&this.isString()&&R!==3){var te=new A(oe);te.ok&&(te.alpha=Q.getNumber(),oe=te.toRGBA())}return new de(this.document,this.name,oe)}}de.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class se{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(Q,oe){this.viewPorts.push({width:Q,height:oe})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:Q}=this;return Q[Q.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(Q){return typeof Q=="number"?Q:Q==="x"?this.width:Q==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class We{constructor(Q,oe){this.x=Q,this.y=oe}static parse(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[he=oe,R=oe]=j(Q);return new We(he,R)}static parseScale(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[he=oe,R=he]=j(Q);return new We(he,R)}static parsePath(Q){for(var oe=j(Q),he=oe.length,R=[],W=0;W<he;W+=2)R.push(new We(oe[W],oe[W+1]));return R}angleTo(Q){return Math.atan2(Q.y-this.y,Q.x-this.x)}applyTransform(Q){var{x:oe,y:he}=this,R=oe*Q[0]+he*Q[2]+Q[4],W=oe*Q[1]+he*Q[3]+Q[5];this.x=R,this.y=W}}class Re{constructor(Q){this.screen=Q,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:Q,onClick:oe,onMouseMove:he}=this,R=Q.ctx.canvas;R.onclick=oe,R.onmousemove=he,this.working=!0}}stop(){if(this.working){var Q=this.screen.ctx.canvas;this.working=!1,Q.onclick=null,Q.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:Q,events:oe,eventElements:he}=this,{style:R}=Q.ctx.canvas;R&&(R.cursor=""),oe.forEach((W,te)=>{for(var{run:je}=W,ke=he[te];ke;)je(ke),ke=ke.parent}),this.events=[],this.eventElements=[]}}checkPath(Q,oe){if(!(!this.working||!oe)){var{events:he,eventElements:R}=this;he.forEach((W,te)=>{var{x:je,y:ke}=W;!R[te]&&oe.isPointInPath&&oe.isPointInPath(je,ke)&&(R[te]=Q)})}}checkBoundingBox(Q,oe){if(!(!this.working||!oe)){var{events:he,eventElements:R}=this;he.forEach((W,te)=>{var{x:je,y:ke}=W;!R[te]&&oe.isPointInBox(je,ke)&&(R[te]=Q)})}}mapXY(Q,oe){for(var{window:he,ctx:R}=this.screen,W=new We(Q,oe),te=R.canvas;te;)W.x-=te.offsetLeft,W.y-=te.offsetTop,te=te.offsetParent;return he.scrollX&&(W.x+=he.scrollX),he.scrollY&&(W.y+=he.scrollY),W}onClick(Q){var{x:oe,y:he}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onclick",x:oe,y:he,run(R){R.onClick&&R.onClick()}})}onMouseMove(Q){var{x:oe,y:he}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onmousemove",x:oe,y:he,run(R){R.onMouseMove&&R.onMouseMove()}})}}var Ee=typeof window<"u"?window:null,ie=typeof fetch<"u"?fetch.bind(void 0):null;class Le{constructor(Q){var{fetch:oe=ie,window:he=Ee}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=Q,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new se,this.mouse=new Re(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=he,this.fetch=oe}wait(Q){this.waits.push(Q)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var Q=this.waits.every(oe=>oe());return Q&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=Q,Q}setDefaults(Q){Q.strokeStyle="rgba(0,0,0,0)",Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=4}setViewBox(Q){var{document:oe,ctx:he,aspectRatio:R,width:W,desiredWidth:te,height:je,desiredHeight:ke,minX:Ge=0,minY:it=0,refX:I,refY:B,clip:M=!1,clipX:z=0,clipY:Y=0}=Q,re=w(R).replace(/^defer\s/,""),[Ne,ge]=re.split(" "),xe=Ne||"xMidYMid",De=ge||"meet",Ve=W/te,et=je/ke,st=Math.min(Ve,et),Oe=Math.max(Ve,et),vt=te,mt=ke;De==="meet"&&(vt*=st,mt*=st),De==="slice"&&(vt*=Oe,mt*=Oe);var yt=new de(oe,"refX",I),nt=new de(oe,"refY",B),kt=yt.hasValue()&&nt.hasValue();if(kt&&he.translate(-st*yt.getPixels("x"),-st*nt.getPixels("y")),M){var Kt=st*z,Et=st*Y;he.beginPath(),he.moveTo(Kt,Et),he.lineTo(W,Et),he.lineTo(W,je),he.lineTo(Kt,je),he.closePath(),he.clip()}if(!kt){var tt=De==="meet"&&st===et,Qt=De==="slice"&&Oe===et,lr=De==="meet"&&st===Ve,qt=De==="slice"&&Oe===Ve;xe.startsWith("xMid")&&(tt||Qt)&&he.translate(W/2-vt/2,0),xe.endsWith("YMid")&&(lr||qt)&&he.translate(0,je/2-mt/2),xe.startsWith("xMax")&&(tt||Qt)&&he.translate(W-vt,0),xe.endsWith("YMax")&&(lr||qt)&&he.translate(0,je-mt)}switch(!0){case xe==="none":he.scale(Ve,et);break;case De==="meet":he.scale(st,st);break;case De==="slice":he.scale(Oe,Oe);break}he.translate(-Ge,-it)}start(Q){var{enableRedraw:oe=!1,ignoreMouse:he=!1,ignoreAnimation:R=!1,ignoreDimensions:W=!1,ignoreClear:te=!1,forceRedraw:je,scaleWidth:ke,scaleHeight:Ge,offsetX:it,offsetY:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:B,mouse:M}=this,z=1e3/B;if(this.frameDuration=z,this.readyPromise=new Promise(xe=>{this.resolveReady=xe}),this.isReady()&&this.render(Q,W,te,ke,Ge,it,I),!!oe){var Y=Date.now(),re=Y,Ne=0,ge=()=>{Y=Date.now(),Ne=Y-re,Ne>=z&&(re=Y-Ne%z,this.shouldUpdate(R,je)&&(this.render(Q,W,te,ke,Ge,it,I),M.runEvents())),this.intervalId=f(ge)};he||M.start(),this.intervalId=f(ge)}}stop(){this.intervalId&&(f.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(Q,oe){if(!Q){var{frameDuration:he}=this,R=this.animations.reduce((W,te)=>te.update(he)||W,!1);if(R)return!0}return!!(typeof oe=="function"&&oe()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(Q,oe,he,R,W,te,je){var{CLIENT_WIDTH:ke,CLIENT_HEIGHT:Ge,viewPort:it,ctx:I,isFirstRender:B}=this,M=I.canvas;it.clear(),M.width&&M.height?it.setCurrent(M.width,M.height):it.setCurrent(ke,Ge);var z=Q.getStyle("width"),Y=Q.getStyle("height");!oe&&(B||typeof R!="number"&&typeof W!="number")&&(z.hasValue()&&(M.width=z.getPixels("x"),M.style&&(M.style.width="".concat(M.width,"px"))),Y.hasValue()&&(M.height=Y.getPixels("y"),M.style&&(M.style.height="".concat(M.height,"px"))));var re=M.clientWidth||M.width,Ne=M.clientHeight||M.height;if(oe&&z.hasValue()&&Y.hasValue()&&(re=z.getPixels("x"),Ne=Y.getPixels("y")),it.setCurrent(re,Ne),typeof te=="number"&&Q.getAttribute("x",!0).setValue(te),typeof je=="number"&&Q.getAttribute("y",!0).setValue(je),typeof R=="number"||typeof W=="number"){var ge=j(Q.getAttribute("viewBox").getString()),xe=0,De=0;if(typeof R=="number"){var Ve=Q.getStyle("width");Ve.hasValue()?xe=Ve.getPixels("x")/R:isNaN(ge[2])||(xe=ge[2]/R)}if(typeof W=="number"){var et=Q.getStyle("height");et.hasValue()?De=et.getPixels("y")/W:isNaN(ge[3])||(De=ge[3]/W)}xe||(xe=De),De||(De=xe),Q.getAttribute("width",!0).setValue(R),Q.getAttribute("height",!0).setValue(W);var st=Q.getStyle("transform",!0,!0);st.setValue("".concat(st.getString()," scale(").concat(1/xe,", ").concat(1/De,")"))}he||I.clearRect(0,0,re,Ne),Q.render(I),B&&(this.isFirstRender=!1)}}Le.defaultWindow=Ee,Le.defaultFetch=ie;var{defaultFetch:Ze}=Le,jt=typeof DOMParser<"u"?DOMParser:null;class Lt{constructor(){var{fetch:Q=Ze,DOMParser:oe=jt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=Q,this.DOMParser=oe}parse(Q){var oe=this;return(0,h.default)(function*(){return Q.startsWith("<")?oe.parseFromString(Q):oe.load(Q)})()}parseFromString(Q){var oe=new this.DOMParser;try{return this.checkDocument(oe.parseFromString(Q,"image/svg+xml"))}catch{return this.checkDocument(oe.parseFromString(Q,"text/xml"))}}checkDocument(Q){var oe=Q.getElementsByTagName("parsererror")[0];if(oe)throw new Error(oe.textContent);return Q}load(Q){var oe=this;return(0,h.default)(function*(){var he=yield oe.fetch(Q),R=yield he.text();return oe.parseFromString(R)})()}}class Ct{constructor(Q,oe){this.type="translate",this.point=null,this.point=We.parse(oe)}apply(Q){var{x:oe,y:he}=this.point;Q.translate(oe||0,he||0)}unapply(Q){var{x:oe,y:he}=this.point;Q.translate(-1*oe||0,-1*he||0)}applyToPoint(Q){var{x:oe,y:he}=this.point;Q.applyTransform([1,0,0,1,oe||0,he||0])}}class Xt{constructor(Q,oe,he){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var R=j(oe);this.angle=new de(Q,"angle",R[0]),this.originX=he[0],this.originY=he[1],this.cx=R[1]||0,this.cy=R[2]||0}apply(Q){var{cx:oe,cy:he,originX:R,originY:W,angle:te}=this,je=oe+R.getPixels("x"),ke=he+W.getPixels("y");Q.translate(je,ke),Q.rotate(te.getRadians()),Q.translate(-je,-ke)}unapply(Q){var{cx:oe,cy:he,originX:R,originY:W,angle:te}=this,je=oe+R.getPixels("x"),ke=he+W.getPixels("y");Q.translate(je,ke),Q.rotate(-1*te.getRadians()),Q.translate(-je,-ke)}applyToPoint(Q){var{cx:oe,cy:he,angle:R}=this,W=R.getRadians();Q.applyTransform([1,0,0,1,oe||0,he||0]),Q.applyTransform([Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0]),Q.applyTransform([1,0,0,1,-oe||0,-he||0])}}class _r{constructor(Q,oe,he){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var R=We.parseScale(oe);(R.x===0||R.y===0)&&(R.x=Te,R.y=Te),this.scale=R,this.originX=he[0],this.originY=he[1]}apply(Q){var{scale:{x:oe,y:he},originX:R,originY:W}=this,te=R.getPixels("x"),je=W.getPixels("y");Q.translate(te,je),Q.scale(oe,he||oe),Q.translate(-te,-je)}unapply(Q){var{scale:{x:oe,y:he},originX:R,originY:W}=this,te=R.getPixels("x"),je=W.getPixels("y");Q.translate(te,je),Q.scale(1/oe,1/he||oe),Q.translate(-te,-je)}applyToPoint(Q){var{x:oe,y:he}=this.scale;Q.applyTransform([oe||0,0,0,he||0,0,0])}}class Or{constructor(Q,oe,he){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=j(oe),this.originX=he[0],this.originY=he[1]}apply(Q){var{originX:oe,originY:he,matrix:R}=this,W=oe.getPixels("x"),te=he.getPixels("y");Q.translate(W,te),Q.transform(R[0],R[1],R[2],R[3],R[4],R[5]),Q.translate(-W,-te)}unapply(Q){var{originX:oe,originY:he,matrix:R}=this,W=R[0],te=R[2],je=R[4],ke=R[1],Ge=R[3],it=R[5],I=0,B=0,M=1,z=1/(W*(Ge*M-it*B)-te*(ke*M-it*I)+je*(ke*B-Ge*I)),Y=oe.getPixels("x"),re=he.getPixels("y");Q.translate(Y,re),Q.transform(z*(Ge*M-it*B),z*(it*I-ke*M),z*(je*B-te*M),z*(W*M-je*I),z*(te*it-je*Ge),z*(je*ke-W*it)),Q.translate(-Y,-re)}applyToPoint(Q){Q.applyTransform(this.matrix)}}class He extends Or{constructor(Q,oe,he){super(Q,oe,he),this.type="skew",this.angle=null,this.angle=new de(Q,"angle",oe)}}class Zt extends He{constructor(Q,oe,he){super(Q,oe,he),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Bt extends He{constructor(Q,oe,he){super(Q,oe,he),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function $r(Ut){return w(Ut).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function pr(Ut){var[Q,oe]=Ut.split("(");return[Q.trim(),oe.trim().replace(")","")]}class on{constructor(Q,oe,he){this.document=Q,this.transforms=[];var R=$r(oe);R.forEach(W=>{if(W!=="none"){var[te,je]=pr(W),ke=on.transformTypes[te];typeof ke<"u"&&this.transforms.push(new ke(this.document,je,he))}})}static fromElement(Q,oe){var he=oe.getStyle("transform",!1,!0),[R,W=R]=oe.getStyle("transform-origin",!1,!0).split(),te=[R,W];return he.hasValue()?new on(Q,he.getString(),te):null}apply(Q){for(var{transforms:oe}=this,he=oe.length,R=0;R<he;R++)oe[R].apply(Q)}unapply(Q){for(var{transforms:oe}=this,he=oe.length,R=he-1;R>=0;R--)oe[R].unapply(Q)}applyToPoint(Q){for(var{transforms:oe}=this,he=oe.length,R=0;R<he;R++)oe[R].applyToPoint(Q)}}on.transformTypes={translate:Ct,rotate:Xt,scale:_r,matrix:Or,skewX:Zt,skewY:Bt};class Yr{constructor(Q,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=Q,this.node=oe,this.captureTextNodes=he,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!oe||oe.nodeType!==1)){if(Array.from(oe.attributes).forEach(je=>{var ke=P(je.nodeName);this.attributes[ke]=new de(Q,ke,je.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var R=this.getAttribute("style").getString().split(";").map(je=>je.trim());R.forEach(je=>{if(je){var[ke,Ge]=je.split(":").map(it=>it.trim());this.styles[ke]=new de(Q,ke,Ge)}})}var{definitions:W}=Q,te=this.getAttribute("id");te.hasValue()&&(W[te.getString()]||(W[te.getString()]=this)),Array.from(oe.childNodes).forEach(je=>{if(je.nodeType===1)this.addChild(je);else if(he&&(je.nodeType===3||je.nodeType===4)){var ke=Q.createTextNode(je);ke.getText().length>0&&this.addChild(ke)}})}}getAttribute(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he=this.attributes[Q];if(!he&&oe){var R=new de(this.document,Q,"");return this.attributes[Q]=R,R}return he||de.empty(this.document)}getHrefAttribute(){for(var Q in this.attributes)if(Q==="href"||Q.endsWith(":href"))return this.attributes[Q];return de.empty(this.document)}getStyle(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=this.styles[Q];if(R)return R;var W=this.getAttribute(Q);if(W!=null&&W.hasValue())return this.styles[Q]=W,W;if(!he){var{parent:te}=this;if(te){var je=te.getStyle(Q);if(je!=null&&je.hasValue())return je}}if(oe){var ke=new de(this.document,Q,"");return this.styles[Q]=ke,ke}return R||de.empty(this.document)}render(Q){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(Q.save(),this.getStyle("mask").hasValue()){var oe=this.getStyle("mask").getDefinition();oe&&(this.applyEffects(Q),oe.apply(Q,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var he=this.getStyle("filter").getDefinition();he&&(this.applyEffects(Q),he.apply(Q,this))}else this.setContext(Q),this.renderChildren(Q),this.clearContext(Q);Q.restore()}}setContext(Q){}applyEffects(Q){var oe=on.fromElement(this.document,this);oe&&oe.apply(Q);var he=this.getStyle("clip-path",!1,!0);if(he.hasValue()){var R=he.getDefinition();R&&R.apply(Q)}}clearContext(Q){}renderChildren(Q){this.children.forEach(oe=>{oe.render(Q)})}addChild(Q){var oe=Q instanceof Yr?Q:this.document.createElement(Q);oe.parent=this,Yr.ignoreChildTypes.includes(oe.type)||this.children.push(oe)}matchesSelector(Q){var oe,{node:he}=this;if(typeof he.matches=="function")return he.matches(Q);var R=(oe=he.getAttribute)===null||oe===void 0?void 0:oe.call(he,"class");return!R||R===""?!1:R.split(" ").some(W=>".".concat(W)===Q)}addStylesFromStyleDefinition(){var{styles:Q,stylesSpecificity:oe}=this.document;for(var he in Q)if(!he.startsWith("@")&&this.matchesSelector(he)){var R=Q[he],W=oe[he];if(R)for(var te in R){var je=this.stylesSpecificity[te];typeof je>"u"&&(je="000"),W>=je&&(this.styles[te]=R[te],this.stylesSpecificity[te]=W)}}}removeStyles(Q,oe){var he=oe.reduce((R,W)=>{var te=Q.getStyle(W);if(!te.hasValue())return R;var je=te.getString();return te.setValue(""),[...R,[W,je]]},[]);return he}restoreStyles(Q,oe){oe.forEach(he=>{var[R,W]=he;Q.getStyle(R,!0).setValue(W)})}isFirstChild(){var Q;return((Q=this.parent)===null||Q===void 0?void 0:Q.children.indexOf(this))===0}}Yr.ignoreChildTypes=["title"];class qr extends Yr{constructor(Q,oe,he){super(Q,oe,he)}}function Ir(Ut){var Q=Ut.trim();return/^('|")/.test(Q)?Q:'"'.concat(Q,'"')}function dr(Ut){return typeof process>"u"?Ut:Ut.trim().split(",").map(Ir).join(",")}function Cr(Ut){if(!Ut)return"";var Q=Ut.trim().toLowerCase();switch(Q){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return Q;default:return/^oblique\s+(-|)\d+deg$/.test(Q)?Q:""}}function Vr(Ut){if(!Ut)return"";var Q=Ut.trim().toLowerCase();switch(Q){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return Q;default:return/^[\d.]+$/.test(Q)?Q:""}}class zr{constructor(Q,oe,he,R,W,te){var je=te?typeof te=="string"?zr.parse(te):te:{};this.fontFamily=W||je.fontFamily,this.fontSize=R||je.fontSize,this.fontStyle=Q||je.fontStyle,this.fontWeight=he||je.fontWeight,this.fontVariant=oe||je.fontVariant}static parse(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",oe=arguments.length>1?arguments[1]:void 0,he="",R="",W="",te="",je="",ke=w(Q).trim().split(" "),Ge={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return ke.forEach(it=>{switch(!0){case(!Ge.fontStyle&&zr.styles.includes(it)):it!=="inherit"&&(he=it),Ge.fontStyle=!0;break;case(!Ge.fontVariant&&zr.variants.includes(it)):it!=="inherit"&&(R=it),Ge.fontStyle=!0,Ge.fontVariant=!0;break;case(!Ge.fontWeight&&zr.weights.includes(it)):it!=="inherit"&&(W=it),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0;break;case!Ge.fontSize:it!=="inherit"&&([te]=it.split("/")),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0,Ge.fontSize=!0;break;default:it!=="inherit"&&(je+=it)}}),new zr(he,R,W,te,je,oe)}toString(){return[Cr(this.fontStyle),this.fontVariant,Vr(this.fontWeight),this.fontSize,dr(this.fontFamily)].join(" ").trim()}}zr.styles="normal|italic|oblique|inherit",zr.variants="normal|small-caps|inherit",zr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class vn{constructor(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=Q,this.y1=oe,this.x2=he,this.y2=R,this.addPoint(Q,oe),this.addPoint(he,R)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(Q,oe){typeof Q<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Q,this.x2=Q),Q<this.x1&&(this.x1=Q),Q>this.x2&&(this.x2=Q)),typeof oe<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=oe,this.y2=oe),oe<this.y1&&(this.y1=oe),oe>this.y2&&(this.y2=oe))}addX(Q){this.addPoint(Q,null)}addY(Q){this.addPoint(null,Q)}addBoundingBox(Q){if(Q){var{x1:oe,y1:he,x2:R,y2:W}=Q;this.addPoint(oe,he),this.addPoint(R,W)}}sumCubic(Q,oe,he,R,W){return Math.pow(1-Q,3)*oe+3*Math.pow(1-Q,2)*Q*he+3*(1-Q)*Math.pow(Q,2)*R+Math.pow(Q,3)*W}bezierCurveAdd(Q,oe,he,R,W){var te=6*oe-12*he+6*R,je=-3*oe+9*he-9*R+3*W,ke=3*he-3*oe;if(je===0){if(te===0)return;var Ge=-ke/te;0<Ge&&Ge<1&&(Q?this.addX(this.sumCubic(Ge,oe,he,R,W)):this.addY(this.sumCubic(Ge,oe,he,R,W)));return}var it=Math.pow(te,2)-4*ke*je;if(!(it<0)){var I=(-te+Math.sqrt(it))/(2*je);0<I&&I<1&&(Q?this.addX(this.sumCubic(I,oe,he,R,W)):this.addY(this.sumCubic(I,oe,he,R,W)));var B=(-te-Math.sqrt(it))/(2*je);0<B&&B<1&&(Q?this.addX(this.sumCubic(B,oe,he,R,W)):this.addY(this.sumCubic(B,oe,he,R,W)))}}addBezierCurve(Q,oe,he,R,W,te,je,ke){this.addPoint(Q,oe),this.addPoint(je,ke),this.bezierCurveAdd(!0,Q,he,W,je),this.bezierCurveAdd(!1,oe,R,te,ke)}addQuadraticCurve(Q,oe,he,R,W,te){var je=Q+.6666666666666666*(he-Q),ke=oe+2/3*(R-oe),Ge=je+1/3*(W-Q),it=ke+1/3*(te-oe);this.addBezierCurve(Q,oe,je,Ge,ke,it,W,te)}isPointInBox(Q,oe){var{x1:he,y1:R,x2:W,y2:te}=this;return he<=Q&&Q<=W&&R<=oe&&oe<=te}}class Wr extends g.SVGPathData{constructor(Q){super(Q.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new We(0,0),this.control=new We(0,0),this.current=new We(0,0),this.points=[],this.angles=[]}isEnd(){var{i:Q,commands:oe}=this;return Q>=oe.length-1}next(){var Q=this.commands[++this.i];return this.previousCommand=this.command,this.command=Q,Q}getPoint(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",he=new We(this.command[Q],this.command[oe]);return this.makeAbsolute(he)}getAsControlPoint(Q,oe){var he=this.getPoint(Q,oe);return this.control=he,he}getAsCurrentPoint(Q,oe){var he=this.getPoint(Q,oe);return this.current=he,he}getReflectedControlPoint(){var Q=this.previousCommand.type;if(Q!==g.SVGPathData.CURVE_TO&&Q!==g.SVGPathData.SMOOTH_CURVE_TO&&Q!==g.SVGPathData.QUAD_TO&&Q!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:oe,y:he},control:{x:R,y:W}}=this,te=new We(2*oe-R,2*he-W);return te}makeAbsolute(Q){if(this.command.relative){var{x:oe,y:he}=this.current;Q.x+=oe,Q.y+=he}return Q}addMarker(Q,oe,he){var{points:R,angles:W}=this;he&&W.length>0&&!W[W.length-1]&&(W[W.length-1]=R[R.length-1].angleTo(he)),this.addMarkerAngle(Q,oe?oe.angleTo(Q):null)}addMarkerAngle(Q,oe){this.points.push(Q),this.angles.push(oe)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:Q}=this,oe=Q.length,he=0;he<oe;he++)if(!Q[he]){for(var R=he+1;R<oe;R++)if(Q[R]){Q[he]=Q[R];break}}return Q}}class $n extends Yr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var Q=1,oe=this;oe;){var he=oe.getStyle("opacity",!1,!0);he.hasValue(!0)&&(Q*=he.getNumber()),oe=oe.parent}return Q}setContext(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!oe){var he=this.getStyle("fill"),R=this.getStyle("fill-opacity"),W=this.getStyle("stroke"),te=this.getStyle("stroke-opacity");if(he.isUrlDefinition()){var je=he.getFillStyleDefinition(this,R);je&&(Q.fillStyle=je)}else if(he.hasValue()){he.getString()==="currentColor"&&he.setValue(this.getStyle("color").getColor());var ke=he.getColor();ke!=="inherit"&&(Q.fillStyle=ke==="none"?"rgba(0,0,0,0)":ke)}if(R.hasValue()){var Ge=new de(this.document,"fill",Q.fillStyle).addOpacity(R).getColor();Q.fillStyle=Ge}if(W.isUrlDefinition()){var it=W.getFillStyleDefinition(this,te);it&&(Q.strokeStyle=it)}else if(W.hasValue()){W.getString()==="currentColor"&&W.setValue(this.getStyle("color").getColor());var I=W.getString();I!=="inherit"&&(Q.strokeStyle=I==="none"?"rgba(0,0,0,0)":I)}if(te.hasValue()){var B=new de(this.document,"stroke",Q.strokeStyle).addOpacity(te).getString();Q.strokeStyle=B}var M=this.getStyle("stroke-width");if(M.hasValue()){var z=M.getPixels();Q.lineWidth=z||Te}var Y=this.getStyle("stroke-linecap"),re=this.getStyle("stroke-linejoin"),Ne=this.getStyle("stroke-miterlimit"),ge=this.getStyle("stroke-dasharray"),xe=this.getStyle("stroke-dashoffset");if(Y.hasValue()&&(Q.lineCap=Y.getString()),re.hasValue()&&(Q.lineJoin=re.getString()),Ne.hasValue()&&(Q.miterLimit=Ne.getNumber()),ge.hasValue()&&ge.getString()!=="none"){var De=j(ge.getString());typeof Q.setLineDash<"u"?Q.setLineDash(De):typeof Q.webkitLineDash<"u"?Q.webkitLineDash=De:typeof Q.mozDash<"u"&&!(De.length===1&&De[0]===0)&&(Q.mozDash=De);var Ve=xe.getPixels();typeof Q.lineDashOffset<"u"?Q.lineDashOffset=Ve:typeof Q.webkitLineDashOffset<"u"?Q.webkitLineDashOffset=Ve:typeof Q.mozDashOffset<"u"&&(Q.mozDashOffset=Ve)}}if(this.modifiedEmSizeStack=!1,typeof Q.font<"u"){var et=this.getStyle("font"),st=this.getStyle("font-style"),Oe=this.getStyle("font-variant"),vt=this.getStyle("font-weight"),mt=this.getStyle("font-size"),yt=this.getStyle("font-family"),nt=new zr(st.getString(),Oe.getString(),vt.getString(),mt.hasValue()?"".concat(mt.getPixels(!0),"px"):"",yt.getString(),zr.parse(et.getString(),Q.font));st.setValue(nt.fontStyle),Oe.setValue(nt.fontVariant),vt.setValue(nt.fontWeight),mt.setValue(nt.fontSize),yt.setValue(nt.fontFamily),Q.font=nt.toString(),mt.isPixels()&&(this.document.emSize=mt.getPixels(),this.modifiedEmSizeStack=!0)}oe||(this.applyEffects(Q),Q.globalAlpha=this.calculateOpacity())}clearContext(Q){super.clearContext(Q),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Lr extends $n{constructor(Q,oe,he){super(Q,oe,he),this.type="path",this.pathParser=null,this.pathParser=new Wr(this.getAttribute("d").getString())}path(Q){var{pathParser:oe}=this,he=new vn;for(oe.reset(),Q&&Q.beginPath();!oe.isEnd();)switch(oe.next().type){case Wr.MOVE_TO:this.pathM(Q,he);break;case Wr.LINE_TO:this.pathL(Q,he);break;case Wr.HORIZ_LINE_TO:this.pathH(Q,he);break;case Wr.VERT_LINE_TO:this.pathV(Q,he);break;case Wr.CURVE_TO:this.pathC(Q,he);break;case Wr.SMOOTH_CURVE_TO:this.pathS(Q,he);break;case Wr.QUAD_TO:this.pathQ(Q,he);break;case Wr.SMOOTH_QUAD_TO:this.pathT(Q,he);break;case Wr.ARC:this.pathA(Q,he);break;case Wr.CLOSE_PATH:this.pathZ(Q,he);break}return he}getBoundingBox(Q){return this.path()}getMarkers(){var{pathParser:Q}=this,oe=Q.getMarkerPoints(),he=Q.getMarkerAngles(),R=oe.map((W,te)=>[W,he[te]]);return R}renderChildren(Q){this.path(Q),this.document.screen.mouse.checkPath(this,Q);var oe=this.getStyle("fill-rule");Q.fillStyle!==""&&(oe.getString("inherit")!=="inherit"?Q.fill(oe.getString()):Q.fill()),Q.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(Q.save(),Q.setTransform(1,0,0,1,0,0),Q.stroke(),Q.restore()):Q.stroke());var he=this.getMarkers();if(he){var R=he.length-1,W=this.getStyle("marker-start"),te=this.getStyle("marker-mid"),je=this.getStyle("marker-end");if(W.isUrlDefinition()){var ke=W.getDefinition(),[Ge,it]=he[0];ke.render(Q,Ge,it)}if(te.isUrlDefinition())for(var I=te.getDefinition(),B=1;B<R;B++){var[M,z]=he[B];I.render(Q,M,z)}if(je.isUrlDefinition()){var Y=je.getDefinition(),[re,Ne]=he[R];Y.render(Q,re,Ne)}}}static pathM(Q){var oe=Q.getAsCurrentPoint();return Q.start=Q.current,{point:oe}}pathM(Q,oe){var{pathParser:he}=this,{point:R}=Lr.pathM(he),{x:W,y:te}=R;he.addMarker(R),oe.addPoint(W,te),Q&&Q.moveTo(W,te)}static pathL(Q){var{current:oe}=Q,he=Q.getAsCurrentPoint();return{current:oe,point:he}}pathL(Q,oe){var{pathParser:he}=this,{current:R,point:W}=Lr.pathL(he),{x:te,y:je}=W;he.addMarker(W,R),oe.addPoint(te,je),Q&&Q.lineTo(te,je)}static pathH(Q){var{current:oe,command:he}=Q,R=new We((he.relative?oe.x:0)+he.x,oe.y);return Q.current=R,{current:oe,point:R}}pathH(Q,oe){var{pathParser:he}=this,{current:R,point:W}=Lr.pathH(he),{x:te,y:je}=W;he.addMarker(W,R),oe.addPoint(te,je),Q&&Q.lineTo(te,je)}static pathV(Q){var{current:oe,command:he}=Q,R=new We(oe.x,(he.relative?oe.y:0)+he.y);return Q.current=R,{current:oe,point:R}}pathV(Q,oe){var{pathParser:he}=this,{current:R,point:W}=Lr.pathV(he),{x:te,y:je}=W;he.addMarker(W,R),oe.addPoint(te,je),Q&&Q.lineTo(te,je)}static pathC(Q){var{current:oe}=Q,he=Q.getPoint("x1","y1"),R=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:oe,point:he,controlPoint:R,currentPoint:W}}pathC(Q,oe){var{pathParser:he}=this,{current:R,point:W,controlPoint:te,currentPoint:je}=Lr.pathC(he);he.addMarker(je,te,W),oe.addBezierCurve(R.x,R.y,W.x,W.y,te.x,te.y,je.x,je.y),Q&&Q.bezierCurveTo(W.x,W.y,te.x,te.y,je.x,je.y)}static pathS(Q){var{current:oe}=Q,he=Q.getReflectedControlPoint(),R=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:oe,point:he,controlPoint:R,currentPoint:W}}pathS(Q,oe){var{pathParser:he}=this,{current:R,point:W,controlPoint:te,currentPoint:je}=Lr.pathS(he);he.addMarker(je,te,W),oe.addBezierCurve(R.x,R.y,W.x,W.y,te.x,te.y,je.x,je.y),Q&&Q.bezierCurveTo(W.x,W.y,te.x,te.y,je.x,je.y)}static pathQ(Q){var{current:oe}=Q,he=Q.getAsControlPoint("x1","y1"),R=Q.getAsCurrentPoint();return{current:oe,controlPoint:he,currentPoint:R}}pathQ(Q,oe){var{pathParser:he}=this,{current:R,controlPoint:W,currentPoint:te}=Lr.pathQ(he);he.addMarker(te,W,W),oe.addQuadraticCurve(R.x,R.y,W.x,W.y,te.x,te.y),Q&&Q.quadraticCurveTo(W.x,W.y,te.x,te.y)}static pathT(Q){var{current:oe}=Q,he=Q.getReflectedControlPoint();Q.control=he;var R=Q.getAsCurrentPoint();return{current:oe,controlPoint:he,currentPoint:R}}pathT(Q,oe){var{pathParser:he}=this,{current:R,controlPoint:W,currentPoint:te}=Lr.pathT(he);he.addMarker(te,W,W),oe.addQuadraticCurve(R.x,R.y,W.x,W.y,te.x,te.y),Q&&Q.quadraticCurveTo(W.x,W.y,te.x,te.y)}static pathA(Q){var{current:oe,command:he}=Q,{rX:R,rY:W,xRot:te,lArcFlag:je,sweepFlag:ke}=he,Ge=te*(Math.PI/180),it=Q.getAsCurrentPoint(),I=new We(Math.cos(Ge)*(oe.x-it.x)/2+Math.sin(Ge)*(oe.y-it.y)/2,-Math.sin(Ge)*(oe.x-it.x)/2+Math.cos(Ge)*(oe.y-it.y)/2),B=Math.pow(I.x,2)/Math.pow(R,2)+Math.pow(I.y,2)/Math.pow(W,2);B>1&&(R*=Math.sqrt(B),W*=Math.sqrt(B));var M=(je===ke?-1:1)*Math.sqrt((Math.pow(R,2)*Math.pow(W,2)-Math.pow(R,2)*Math.pow(I.y,2)-Math.pow(W,2)*Math.pow(I.x,2))/(Math.pow(R,2)*Math.pow(I.y,2)+Math.pow(W,2)*Math.pow(I.x,2)));isNaN(M)&&(M=0);var z=new We(M*R*I.y/W,M*-W*I.x/R),Y=new We((oe.x+it.x)/2+Math.cos(Ge)*z.x-Math.sin(Ge)*z.y,(oe.y+it.y)/2+Math.sin(Ge)*z.x+Math.cos(Ge)*z.y),re=ve([1,0],[(I.x-z.x)/R,(I.y-z.y)/W]),Ne=[(I.x-z.x)/R,(I.y-z.y)/W],ge=[(-I.x-z.x)/R,(-I.y-z.y)/W],xe=ve(Ne,ge);return ue(Ne,ge)<=-1&&(xe=Math.PI),ue(Ne,ge)>=1&&(xe=0),{currentPoint:it,rX:R,rY:W,sweepFlag:ke,xAxisRotation:Ge,centp:Y,a1:re,ad:xe}}pathA(Q,oe){var{pathParser:he}=this,{currentPoint:R,rX:W,rY:te,sweepFlag:je,xAxisRotation:ke,centp:Ge,a1:it,ad:I}=Lr.pathA(he),B=1-je?1:-1,M=it+B*(I/2),z=new We(Ge.x+W*Math.cos(M),Ge.y+te*Math.sin(M));if(he.addMarkerAngle(z,M-B*Math.PI/2),he.addMarkerAngle(R,M-B*Math.PI),oe.addPoint(R.x,R.y),Q&&!isNaN(it)&&!isNaN(I)){var Y=W>te?W:te,re=W>te?1:W/te,Ne=W>te?te/W:1;Q.translate(Ge.x,Ge.y),Q.rotate(ke),Q.scale(re,Ne),Q.arc(0,0,Y,it,it+I,!!(1-je)),Q.scale(1/re,1/Ne),Q.rotate(-ke),Q.translate(-Ge.x,-Ge.y)}}static pathZ(Q){Q.current=Q.start}pathZ(Q,oe){Lr.pathZ(this.pathParser),Q&&oe.x1!==oe.x2&&oe.y1!==oe.y2&&Q.closePath()}}class Dr extends Lr{constructor(Q,oe,he){super(Q,oe,he),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class jn extends $n{constructor(Q,oe,he){super(Q,oe,new.target===jn?!0:he),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(Q,oe);var he=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();he&&(Q.textBaseline=he)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(Q){if(this.type!=="text")return this.getTElementBoundingBox(Q);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q);var oe=null;return this.children.forEach((he,R)=>{var W=this.getChildBoundingBox(Q,this,this,R);oe?oe.addBoundingBox(W):oe=W}),oe}getFontSize(){var{document:Q,parent:oe}=this,he=zr.parse(Q.ctx.font).fontSize,R=oe.getStyle("font-size").getNumber(he);return R}getTElementBoundingBox(Q){var oe=this.getFontSize();return new vn(this.x,this.y-oe,this.x+this.measureText(Q),this.y)}getGlyph(Q,oe,he){var R=oe[he],W=null;if(Q.isArabic){var te=oe.length,je=oe[he-1],ke=oe[he+1],Ge="isolated";if((he===0||je===" ")&&he<te-1&&ke!==" "&&(Ge="terminal"),he>0&&je!==" "&&he<te-1&&ke!==" "&&(Ge="medial"),he>0&&je!==" "&&(he===te-1||ke===" ")&&(Ge="initial"),typeof Q.glyphs[R]<"u"){var it=Q.glyphs[R];W=it instanceof Dr?it:it[Ge]}}else W=Q.glyphs[R];return W||(W=Q.missingGlyph),W}getText(){return""}getTextFromNode(Q){var oe=Q||this.node,he=Array.from(oe.parentNode.childNodes),R=he.indexOf(oe),W=he.length-1,te=w(oe.textContent||"");return R===0&&(te=N(te)),R===W&&(te=S(te)),te}renderChildren(Q){if(this.type!=="text"){this.renderTElementChildren(Q);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q),this.children.forEach((he,R)=>{this.renderChild(Q,this,this,R)});var{mouse:oe}=this.document.screen;oe.isWorking()&&oe.checkBoundingBox(this,this.getBoundingBox(Q))}renderTElementChildren(Q){var{document:oe,parent:he}=this,R=this.getText(),W=he.getStyle("font-family").getDefinition();if(W){for(var{unitsPerEm:te}=W.fontFace,je=zr.parse(oe.ctx.font),ke=he.getStyle("font-size").getNumber(je.fontSize),Ge=he.getStyle("font-style").getString(je.fontStyle),it=ke/te,I=W.isRTL?R.split("").reverse().join(""):R,B=j(he.getAttribute("dx").getString()),M=I.length,z=0;z<M;z++){var Y=this.getGlyph(W,I,z);Q.translate(this.x,this.y),Q.scale(it,-it);var re=Q.lineWidth;Q.lineWidth=Q.lineWidth*te/ke,Ge==="italic"&&Q.transform(1,0,.4,1,0,0),Y.render(Q),Ge==="italic"&&Q.transform(1,0,-.4,1,0,0),Q.lineWidth=re,Q.scale(1/it,-1/it),Q.translate(-this.x,-this.y),this.x+=ke*(Y.horizAdvX||W.horizAdvX)/te,typeof B[z]<"u"&&!isNaN(B[z])&&(this.x+=B[z])}return}var{x:Ne,y:ge}=this;Q.fillStyle&&Q.fillText(R,Ne,ge),Q.strokeStyle&&Q.strokeText(R,Ne,ge)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var Q=this.leafTexts[this.textChunkStart],oe=Q.getStyle("text-anchor").getString("start"),he=!1,R=0;oe==="start"&&!he||oe==="end"&&he?R=Q.x-this.minX:oe==="end"&&!he||oe==="start"&&he?R=Q.x-this.maxX:R=Q.x-(this.minX+this.maxX)/2;for(var W=this.textChunkStart;W<this.leafTexts.length;W++)this.leafTexts[W].x+=R;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(Q){this.children.forEach((oe,he)=>{this.adjustChildCoordinatesRecursiveCore(Q,this,this,he)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(Q,oe,he,R){var W=he.children[R];W.children.length>0?W.children.forEach((te,je)=>{oe.adjustChildCoordinatesRecursiveCore(Q,oe,W,je)}):this.adjustChildCoordinates(Q,oe,he,R)}adjustChildCoordinates(Q,oe,he,R){var W=he.children[R];if(typeof W.measureText!="function")return W;Q.save(),W.setContext(Q,!0);var te=W.getAttribute("x"),je=W.getAttribute("y"),ke=W.getAttribute("dx"),Ge=W.getAttribute("dy"),it=W.getStyle("font-family").getDefinition(),I=!!it&&it.isRTL;R===0&&(te.hasValue()||te.setValue(W.getInheritedAttribute("x")),je.hasValue()||je.setValue(W.getInheritedAttribute("y")),ke.hasValue()||ke.setValue(W.getInheritedAttribute("dx")),Ge.hasValue()||Ge.setValue(W.getInheritedAttribute("dy")));var B=W.measureText(Q);return I&&(oe.x-=B),te.hasValue()?(oe.applyAnchoring(),W.x=te.getPixels("x"),ke.hasValue()&&(W.x+=ke.getPixels("x"))):(ke.hasValue()&&(oe.x+=ke.getPixels("x")),W.x=oe.x),oe.x=W.x,I||(oe.x+=B),je.hasValue()?(W.y=je.getPixels("y"),Ge.hasValue()&&(W.y+=Ge.getPixels("y"))):(Ge.hasValue()&&(oe.y+=Ge.getPixels("y")),W.y=oe.y),oe.y=W.y,oe.leafTexts.push(W),oe.minX=Math.min(oe.minX,W.x,W.x+B),oe.maxX=Math.max(oe.maxX,W.x,W.x+B),W.clearContext(Q),Q.restore(),W}getChildBoundingBox(Q,oe,he,R){var W=he.children[R];if(typeof W.getBoundingBox!="function")return null;var te=W.getBoundingBox(Q);return te?(W.children.forEach((je,ke)=>{var Ge=oe.getChildBoundingBox(Q,oe,W,ke);te.addBoundingBox(Ge)}),te):null}renderChild(Q,oe,he,R){var W=he.children[R];W.render(Q),W.children.forEach((te,je)=>{oe.renderChild(Q,oe,W,je)})}measureText(Q){var{measureCache:oe}=this;if(~oe)return oe;var he=this.getText(),R=this.measureTargetText(Q,he);return this.measureCache=R,R}measureTargetText(Q,oe){if(!oe.length)return 0;var{parent:he}=this,R=he.getStyle("font-family").getDefinition();if(R){for(var W=this.getFontSize(),te=R.isRTL?oe.split("").reverse().join(""):oe,je=j(he.getAttribute("dx").getString()),ke=te.length,Ge=0,it=0;it<ke;it++){var I=this.getGlyph(R,te,it);Ge+=(I.horizAdvX||R.horizAdvX)*W/R.fontFace.unitsPerEm,typeof je[it]<"u"&&!isNaN(je[it])&&(Ge+=je[it])}return Ge}if(!Q.measureText)return oe.length*10;Q.save(),this.setContext(Q,!0);var{width:B}=Q.measureText(oe);return this.clearContext(Q),Q.restore(),B}getInheritedAttribute(Q){for(var oe=this;oe instanceof jn&&oe.isFirstChild();){var he=oe.parent.getAttribute(Q);if(he.hasValue(!0))return he.getValue("0");oe=oe.parent}return null}}class cn extends jn{constructor(Q,oe,he){super(Q,oe,new.target===cn?!0:he),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class bt extends cn{constructor(){super(...arguments),this.type="textNode"}}class Sr extends $n{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(Q){var oe,{document:he}=this,{screen:R,window:W}=he,te=Q.canvas;if(R.setDefaults(Q),te.style&&typeof Q.font<"u"&&W&&typeof W.getComputedStyle<"u"){Q.font=W.getComputedStyle(te).getPropertyValue("font");var je=new de(he,"fontSize",zr.parse(Q.font).fontSize);je.hasValue()&&(he.rootEmSize=je.getPixels("y"),he.emSize=he.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:ke,height:Ge}=R.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var it=this.getAttribute("refX"),I=this.getAttribute("refY"),B=this.getAttribute("viewBox"),M=B.hasValue()?j(B.getString()):null,z=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",Y=0,re=0,Ne=0,ge=0;M&&(Y=M[0],re=M[1]),this.root||(ke=this.getStyle("width").getPixels("x"),Ge=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Ne=Y,ge=re,Y=0,re=0)),R.viewPort.setCurrent(ke,Ge),this.node&&(!this.parent||((oe=this.node.parentNode)===null||oe===void 0?void 0:oe.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(Q),Q.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),M&&(ke=M[2],Ge=M[3]),he.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:R.viewPort.width,desiredWidth:ke,height:R.viewPort.height,desiredHeight:Ge,minX:Y,minY:re,refX:it.getValue(),refY:I.getValue(),clip:z,clipX:Ne,clipY:ge}),M&&(R.viewPort.removeCurrent(),R.viewPort.setCurrent(ke,Ge))}clearContext(Q){super.clearContext(Q),this.document.screen.viewPort.removeCurrent()}resize(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=this.getAttribute("width",!0),W=this.getAttribute("height",!0),te=this.getAttribute("viewBox"),je=this.getAttribute("style"),ke=R.getNumber(0),Ge=W.getNumber(0);if(he)if(typeof he=="string")this.getAttribute("preserveAspectRatio",!0).setValue(he);else{var it=this.getAttribute("preserveAspectRatio");it.hasValue()&&it.setValue(it.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(R.setValue(Q),W.setValue(oe),te.hasValue()||te.setValue("0 0 ".concat(ke||Q," ").concat(Ge||oe)),je.hasValue()){var I=this.getStyle("width"),B=this.getStyle("height");I.hasValue()&&I.setValue("".concat(Q,"px")),B.hasValue()&&B.setValue("".concat(oe,"px"))}}}class dn extends Lr{constructor(){super(...arguments),this.type="rect"}path(Q){var oe=this.getAttribute("x").getPixels("x"),he=this.getAttribute("y").getPixels("y"),R=this.getStyle("width",!1,!0).getPixels("x"),W=this.getStyle("height",!1,!0).getPixels("y"),te=this.getAttribute("rx"),je=this.getAttribute("ry"),ke=te.getPixels("x"),Ge=je.getPixels("y");if(te.hasValue()&&!je.hasValue()&&(Ge=ke),je.hasValue()&&!te.hasValue()&&(ke=Ge),ke=Math.min(ke,R/2),Ge=Math.min(Ge,W/2),Q){var it=4*((Math.sqrt(2)-1)/3);Q.beginPath(),W>0&&R>0&&(Q.moveTo(oe+ke,he),Q.lineTo(oe+R-ke,he),Q.bezierCurveTo(oe+R-ke+it*ke,he,oe+R,he+Ge-it*Ge,oe+R,he+Ge),Q.lineTo(oe+R,he+W-Ge),Q.bezierCurveTo(oe+R,he+W-Ge+it*Ge,oe+R-ke+it*ke,he+W,oe+R-ke,he+W),Q.lineTo(oe+ke,he+W),Q.bezierCurveTo(oe+ke-it*ke,he+W,oe,he+W-Ge+it*Ge,oe,he+W-Ge),Q.lineTo(oe,he+Ge),Q.bezierCurveTo(oe,he+Ge-it*Ge,oe+ke-it*ke,he,oe+ke,he),Q.closePath())}return new vn(oe,he,oe+R,he+W)}getMarkers(){return null}}class Dn extends Lr{constructor(){super(...arguments),this.type="circle"}path(Q){var oe=this.getAttribute("cx").getPixels("x"),he=this.getAttribute("cy").getPixels("y"),R=this.getAttribute("r").getPixels();return Q&&R>0&&(Q.beginPath(),Q.arc(oe,he,R,0,Math.PI*2,!1),Q.closePath()),new vn(oe-R,he-R,oe+R,he+R)}getMarkers(){return null}}class Xr extends Lr{constructor(){super(...arguments),this.type="ellipse"}path(Q){var oe=4*((Math.sqrt(2)-1)/3),he=this.getAttribute("rx").getPixels("x"),R=this.getAttribute("ry").getPixels("y"),W=this.getAttribute("cx").getPixels("x"),te=this.getAttribute("cy").getPixels("y");return Q&&he>0&&R>0&&(Q.beginPath(),Q.moveTo(W+he,te),Q.bezierCurveTo(W+he,te+oe*R,W+oe*he,te+R,W,te+R),Q.bezierCurveTo(W-oe*he,te+R,W-he,te+oe*R,W-he,te),Q.bezierCurveTo(W-he,te-oe*R,W-oe*he,te-R,W,te-R),Q.bezierCurveTo(W+oe*he,te-R,W+he,te-oe*R,W+he,te),Q.closePath()),new vn(W-he,te-R,W+he,te+R)}getMarkers(){return null}}class Un extends Lr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new We(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new We(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(Q){var[{x:oe,y:he},{x:R,y:W}]=this.getPoints();return Q&&(Q.beginPath(),Q.moveTo(oe,he),Q.lineTo(R,W)),new vn(oe,he,R,W)}getMarkers(){var[Q,oe]=this.getPoints(),he=Q.angleTo(oe);return[[Q,he],[oe,he]]}}class Ur extends Lr{constructor(Q,oe,he){super(Q,oe,he),this.type="polyline",this.points=[],this.points=We.parsePath(this.getAttribute("points").getString())}path(Q){var{points:oe}=this,[{x:he,y:R}]=oe,W=new vn(he,R);return Q&&(Q.beginPath(),Q.moveTo(he,R)),oe.forEach(te=>{var{x:je,y:ke}=te;W.addPoint(je,ke),Q&&Q.lineTo(je,ke)}),W}getMarkers(){var{points:Q}=this,oe=Q.length-1,he=[];return Q.forEach((R,W)=>{W!==oe&&he.push([R,R.angleTo(Q[W+1])])}),he.length>0&&he.push([Q[Q.length-1],he[he.length-1][1]]),he}}class ei extends Ur{constructor(){super(...arguments),this.type="polygon"}path(Q){var oe=super.path(Q),[{x:he,y:R}]=this.points;return Q&&(Q.lineTo(he,R),Q.closePath()),oe}}class ls extends Yr{constructor(){super(...arguments),this.type="pattern"}createPattern(Q,oe,he){var R=this.getStyle("width").getPixels("x",!0),W=this.getStyle("height").getPixels("y",!0),te=new Sr(this.document,null);te.attributes.viewBox=new de(this.document,"viewBox",this.getAttribute("viewBox").getValue()),te.attributes.width=new de(this.document,"width","".concat(R,"px")),te.attributes.height=new de(this.document,"height","".concat(W,"px")),te.attributes.transform=new de(this.document,"transform",this.getAttribute("patternTransform").getValue()),te.children=this.children;var je=this.document.createCanvas(R,W),ke=je.getContext("2d"),Ge=this.getAttribute("x"),it=this.getAttribute("y");Ge.hasValue()&&it.hasValue()&&ke.translate(Ge.getPixels("x",!0),it.getPixels("y",!0)),he.hasValue()?this.styles["fill-opacity"]=he:Reflect.deleteProperty(this.styles,"fill-opacity");for(var I=-1;I<=1;I++)for(var B=-1;B<=1;B++)ke.save(),te.attributes.x=new de(this.document,"x",I*je.width),te.attributes.y=new de(this.document,"y",B*je.height),te.render(ke),ke.restore();var M=Q.createPattern(je,"repeat");return M}}class Cn extends Yr{constructor(){super(...arguments),this.type="marker"}render(Q,oe,he){if(oe){var{x:R,y:W}=oe,te=this.getAttribute("orient").getString("auto"),je=this.getAttribute("markerUnits").getString("strokeWidth");Q.translate(R,W),te==="auto"&&Q.rotate(he),je==="strokeWidth"&&Q.scale(Q.lineWidth,Q.lineWidth),Q.save();var ke=new Sr(this.document,null);ke.type=this.type,ke.attributes.viewBox=new de(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ke.attributes.refX=new de(this.document,"refX",this.getAttribute("refX").getValue()),ke.attributes.refY=new de(this.document,"refY",this.getAttribute("refY").getValue()),ke.attributes.width=new de(this.document,"width",this.getAttribute("markerWidth").getValue()),ke.attributes.height=new de(this.document,"height",this.getAttribute("markerHeight").getValue()),ke.attributes.overflow=new de(this.document,"overflow",this.getAttribute("overflow").getValue()),ke.attributes.fill=new de(this.document,"fill",this.getAttribute("fill").getColor("black")),ke.attributes.stroke=new de(this.document,"stroke",this.getAttribute("stroke").getValue("none")),ke.children=this.children,ke.render(Q),Q.restore(),je==="strokeWidth"&&Q.scale(1/Q.lineWidth,1/Q.lineWidth),te==="auto"&&Q.rotate(-he),Q.translate(-R,-W)}}}class Bs extends Yr{constructor(){super(...arguments),this.type="defs"}render(){}}class ji extends $n{constructor(){super(...arguments),this.type="g"}getBoundingBox(Q){var oe=new vn;return this.children.forEach(he=>{oe.addBoundingBox(he.getBoundingBox(Q))}),oe}}class vi extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:R,children:W}=this;W.forEach(te=>{te.type==="stop"&&R.push(te)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(Q,oe,he){var R=this;this.getHrefAttribute().hasValue()&&(R=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(R));var{stops:W}=R,te=this.getGradient(Q,oe);if(!te)return this.addParentOpacity(he,W[W.length-1].color);if(W.forEach(re=>{te.addColorStop(re.offset,this.addParentOpacity(he,re.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:je}=this,{MAX_VIRTUAL_PIXELS:ke,viewPort:Ge}=je.screen,[it]=Ge.viewPorts,I=new dn(je,null);I.attributes.x=new de(je,"x",-ke/3),I.attributes.y=new de(je,"y",-ke/3),I.attributes.width=new de(je,"width",ke),I.attributes.height=new de(je,"height",ke);var B=new ji(je,null);B.attributes.transform=new de(je,"transform",this.getAttribute("gradientTransform").getValue()),B.children=[I];var M=new Sr(je,null);M.attributes.x=new de(je,"x",0),M.attributes.y=new de(je,"y",0),M.attributes.width=new de(je,"width",it.width),M.attributes.height=new de(je,"height",it.height),M.children=[B];var z=je.createCanvas(it.width,it.height),Y=z.getContext("2d");return Y.fillStyle=te,M.render(Y),Y.createPattern(z,"no-repeat")}return te}inheritStopContainer(Q){this.attributesToInherit.forEach(oe=>{!this.getAttribute(oe).hasValue()&&Q.getAttribute(oe).hasValue()&&this.getAttribute(oe,!0).setValue(Q.getAttribute(oe).getValue())})}addParentOpacity(Q,oe){if(Q.hasValue()){var he=new de(this.document,"color",oe);return he.addOpacity(Q).getColor()}return oe}}class Ui extends vi{constructor(Q,oe,he){super(Q,oe,he),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(Q,oe){var he=this.getGradientUnits()==="objectBoundingBox",R=he?oe.getBoundingBox(Q):null;if(he&&!R)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var W=he?R.x+R.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),te=he?R.y+R.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),je=he?R.x+R.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),ke=he?R.y+R.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return W===je&&te===ke?null:Q.createLinearGradient(W,te,je,ke)}}class Bi extends vi{constructor(Q,oe,he){super(Q,oe,he),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(Q,oe){var he=this.getGradientUnits()==="objectBoundingBox",R=oe.getBoundingBox(Q);if(he&&!R)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var W=he?R.x+R.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),te=he?R.y+R.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),je=W,ke=te;this.getAttribute("fx").hasValue()&&(je=he?R.x+R.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(ke=he?R.y+R.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ge=he?(R.width+R.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),it=this.getAttribute("fr").getPixels();return Q.createRadialGradient(je,ke,it,W,te,Ge)}}class Es extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="stop";var R=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),W=this.getStyle("stop-opacity"),te=this.getStyle("stop-color",!0);te.getString()===""&&te.setValue("#000"),W.hasValue()&&(te=te.addOpacity(W)),this.offset=R,this.color=te.getColor()}}class ri extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,Q.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new de(Q,"values",null);var R=this.getAttribute("values");R.hasValue()&&this.values.setValue(R.getString().split(";"))}getProperty(){var Q=this.getAttribute("attributeType").getString(),oe=this.getAttribute("attributeName").getString();return Q==="CSS"?this.parent.getStyle(oe,!0):this.parent.getAttribute(oe,!0)}calcValue(){var{initialUnits:Q}=this,{progress:oe,from:he,to:R}=this.getProgress(),W=he.getNumber()+(R.getNumber()-he.getNumber())*oe;return Q==="%"&&(W*=100),"".concat(W).concat(Q)}update(Q){var{parent:oe}=this,he=this.getProperty();if(this.initialValue||(this.initialValue=he.getString(),this.initialUnits=he.getUnits()),this.duration>this.maxDuration){var R=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(R==="freeze"&&!this.frozen)this.frozen=!0,oe.animationFrozen=!0,oe.animationFrozenValue=he.getString();else if(R==="remove"&&!this.removed)return this.removed=!0,he.setValue(oe.animationFrozen?oe.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=Q;var W=!1;if(this.begin<this.duration){var te=this.calcValue(),je=this.getAttribute("type");if(je.hasValue()){var ke=je.getString();te="".concat(ke,"(").concat(te,")")}he.setValue(te),W=!0}return W}getProgress(){var{document:Q,values:oe}=this,he={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(oe.hasValue()){var R=he.progress*(oe.getValue().length-1),W=Math.floor(R),te=Math.ceil(R);he.from=new de(Q,"from",parseFloat(oe.getValue()[W])),he.to=new de(Q,"to",parseFloat(oe.getValue()[te])),he.progress=(R-W)/(te-W)}else he.from=this.from,he.to=this.to;return he}}class Gs extends ri{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:Q,from:oe,to:he}=this.getProgress(),R=new A(oe.getColor()),W=new A(he.getColor());if(R.ok&&W.ok){var te=R.r+(W.r-R.r)*Q,je=R.g+(W.g-R.g)*Q,ke=R.b+(W.b-R.b)*Q;return"rgb(".concat(Math.floor(te),", ").concat(Math.floor(je),", ").concat(Math.floor(ke),")")}return this.getAttribute("from").getColor()}}class Wa extends ri{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:Q,from:oe,to:he}=this.getProgress(),R=j(oe.getString()),W=j(he.getString()),te=R.map((je,ke)=>{var Ge=W[ke];return je+(Ge-je)*Q}).join(" ");return te}}class jc extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:R}=Q,{children:W}=this;for(var te of W)switch(te.type){case"font-face":{this.fontFace=te;var je=te.getStyle("font-family");je.hasValue()&&(R[je.getString()]=this);break}case"missing-glyph":this.missingGlyph=te;break;case"glyph":{var ke=te;ke.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[ke.unicode]>"u"&&(this.glyphs[ke.unicode]=Object.create(null)),this.glyphs[ke.unicode][ke.arabicForm]=ke):this.glyphs[ke.unicode]=ke;break}}}render(){}}class gs extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Sl extends Lr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Cc extends jn{constructor(){super(...arguments),this.type="tref"}getText(){var Q=this.getHrefAttribute().getDefinition();if(Q){var oe=Q.children[0];if(oe)return oe.getText()}return""}}class Bl extends jn{constructor(Q,oe,he){super(Q,oe,he),this.type="a";var{childNodes:R}=oe,W=R[0],te=R.length>0&&Array.from(R).every(je=>je.nodeType===3);this.hasText=te,this.text=te?this.getTextFromNode(W):""}getText(){return this.text}renderChildren(Q){if(this.hasText){super.renderChildren(Q);var{document:oe,x:he,y:R}=this,{mouse:W}=oe.screen,te=new de(oe,"fontSize",zr.parse(oe.ctx.font).fontSize);W.isWorking()&&W.checkBoundingBox(this,new vn(he,R-te.getPixels("y"),he+this.measureText(Q),R))}else if(this.children.length>0){var je=new ji(this.document,null);je.children=this.children,je.parent=this,je.render(Q)}}onClick(){var{window:Q}=this.document;Q&&Q.open(this.getHrefAttribute().getString())}onMouseMove(){var Q=this.document.ctx;Q.canvas.style.cursor="pointer"}}function Hi(Ut,Q){var oe=Object.keys(Ut);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Ut);Q&&(he=he.filter(function(R){return Object.getOwnPropertyDescriptor(Ut,R).enumerable})),oe.push.apply(oe,he)}return oe}function vo(Ut){for(var Q=1;Q<arguments.length;Q++){var oe=arguments[Q]!=null?arguments[Q]:{};Q%2?Hi(Object(oe),!0).forEach(function(he){(0,d.default)(Ut,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(oe)):Hi(Object(oe)).forEach(function(he){Object.defineProperty(Ut,he,Object.getOwnPropertyDescriptor(oe,he))})}return Ut}class ha extends jn{constructor(Q,oe,he){super(Q,oe,he),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var R=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(R)}getText(){return this.text}path(Q){var{dataArray:oe}=this;Q&&Q.beginPath(),oe.forEach(he=>{var{type:R,points:W}=he;switch(R){case Wr.LINE_TO:Q&&Q.lineTo(W[0],W[1]);break;case Wr.MOVE_TO:Q&&Q.moveTo(W[0],W[1]);break;case Wr.CURVE_TO:Q&&Q.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case Wr.QUAD_TO:Q&&Q.quadraticCurveTo(W[0],W[1],W[2],W[3]);break;case Wr.ARC:{var[te,je,ke,Ge,it,I,B,M]=W,z=ke>Ge?ke:Ge,Y=ke>Ge?1:ke/Ge,re=ke>Ge?Ge/ke:1;Q&&(Q.translate(te,je),Q.rotate(B),Q.scale(Y,re),Q.arc(0,0,z,it,it+I,!!(1-M)),Q.scale(1/Y,1/re),Q.rotate(-B),Q.translate(-te,-je));break}case Wr.CLOSE_PATH:Q&&Q.closePath();break}})}renderChildren(Q){this.setTextData(Q),Q.save();var oe=this.parent.getStyle("text-decoration").getString(),he=this.getFontSize(),{glyphInfo:R}=this,W=Q.fillStyle;oe==="underline"&&Q.beginPath(),R.forEach((te,je)=>{var{p0:ke,p1:Ge,rotation:it,text:I}=te;Q.save(),Q.translate(ke.x,ke.y),Q.rotate(it),Q.fillStyle&&Q.fillText(I,0,0),Q.strokeStyle&&Q.strokeText(I,0,0),Q.restore(),oe==="underline"&&(je===0&&Q.moveTo(ke.x,ke.y+he/8),Q.lineTo(Ge.x,Ge.y+he/5))}),oe==="underline"&&(Q.lineWidth=he/20,Q.strokeStyle=W,Q.stroke(),Q.closePath()),Q.restore()}getLetterSpacingAt(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[Q]||0}findSegmentToFitChar(Q,oe,he,R,W,te,je,ke,Ge){var it=te,I=this.measureText(Q,ke);ke===" "&&oe==="justify"&&he<R&&(I+=(R-he)/W),Ge>-1&&(it+=this.getLetterSpacingAt(Ge));var B=this.textHeight/20,M=this.getEquidistantPointOnPath(it,B,0),z=this.getEquidistantPointOnPath(it+I,B,0),Y={p0:M,p1:z},re=M&&z?Math.atan2(z.y-M.y,z.x-M.x):0;if(je){var Ne=Math.cos(Math.PI/2+re)*je,ge=Math.cos(-re)*je;Y.p0=vo(vo({},M),{},{x:M.x+Ne,y:M.y+ge}),Y.p1=vo(vo({},z),{},{x:z.x+Ne,y:z.y+ge})}return it+=I,{offset:it,segment:Y,rotation:re}}measureText(Q,oe){var{measuresCache:he}=this,R=oe||this.getText();if(he.has(R))return he.get(R);var W=this.measureTargetText(Q,R);return he.set(R,W),W}setTextData(Q){if(!this.glyphInfo){var oe=this.getText(),he=oe.split(""),R=oe.split(" ").length-1,W=this.parent.getAttribute("dx").split().map(De=>De.getPixels("x")),te=this.parent.getAttribute("dy").getPixels("y"),je=this.parent.getStyle("text-anchor").getString("start"),ke=this.getStyle("letter-spacing"),Ge=this.parent.getStyle("letter-spacing"),it=0;!ke.hasValue()||ke.getValue()==="inherit"?it=Ge.getPixels():ke.hasValue()&&ke.getValue()!=="initial"&&ke.getValue()!=="unset"&&(it=ke.getPixels());var I=[],B=oe.length;this.letterSpacingCache=I;for(var M=0;M<B;M++)I.push(typeof W[M]<"u"?W[M]:it);var z=I.reduce((De,Ve,et)=>et===0?0:De+Ve||0,0),Y=this.measureText(Q),re=Math.max(Y+z,0);this.textWidth=Y,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Ne=this.getPathLength(),ge=this.getStyle("startOffset").getNumber(0)*Ne,xe=0;(je==="middle"||je==="center")&&(xe=-re/2),(je==="end"||je==="right")&&(xe=-re),xe+=ge,he.forEach((De,Ve)=>{var{offset:et,segment:st,rotation:Oe}=this.findSegmentToFitChar(Q,je,re,Ne,R,xe,te,De,Ve);xe=et,!(!st.p0||!st.p1)&&this.glyphInfo.push({text:he[Ve],p0:st.p0,p1:st.p1,rotation:Oe})})}}parsePathData(Q){if(this.pathLength=-1,!Q)return[];var oe=[],{pathParser:he}=Q;for(he.reset();!he.isEnd();){var{current:R}=he,W=R?R.x:0,te=R?R.y:0,je=he.next(),ke=je.type,Ge=[];switch(je.type){case Wr.MOVE_TO:this.pathM(he,Ge);break;case Wr.LINE_TO:ke=this.pathL(he,Ge);break;case Wr.HORIZ_LINE_TO:ke=this.pathH(he,Ge);break;case Wr.VERT_LINE_TO:ke=this.pathV(he,Ge);break;case Wr.CURVE_TO:this.pathC(he,Ge);break;case Wr.SMOOTH_CURVE_TO:ke=this.pathS(he,Ge);break;case Wr.QUAD_TO:this.pathQ(he,Ge);break;case Wr.SMOOTH_QUAD_TO:ke=this.pathT(he,Ge);break;case Wr.ARC:Ge=this.pathA(he);break;case Wr.CLOSE_PATH:Lr.pathZ(he);break}je.type!==Wr.CLOSE_PATH?oe.push({type:ke,points:Ge,start:{x:W,y:te},pathLength:this.calcLength(W,te,ke,Ge)}):oe.push({type:Wr.CLOSE_PATH,points:[],pathLength:0})}return oe}pathM(Q,oe){var{x:he,y:R}=Lr.pathM(Q).point;oe.push(he,R)}pathL(Q,oe){var{x:he,y:R}=Lr.pathL(Q).point;return oe.push(he,R),Wr.LINE_TO}pathH(Q,oe){var{x:he,y:R}=Lr.pathH(Q).point;return oe.push(he,R),Wr.LINE_TO}pathV(Q,oe){var{x:he,y:R}=Lr.pathV(Q).point;return oe.push(he,R),Wr.LINE_TO}pathC(Q,oe){var{point:he,controlPoint:R,currentPoint:W}=Lr.pathC(Q);oe.push(he.x,he.y,R.x,R.y,W.x,W.y)}pathS(Q,oe){var{point:he,controlPoint:R,currentPoint:W}=Lr.pathS(Q);return oe.push(he.x,he.y,R.x,R.y,W.x,W.y),Wr.CURVE_TO}pathQ(Q,oe){var{controlPoint:he,currentPoint:R}=Lr.pathQ(Q);oe.push(he.x,he.y,R.x,R.y)}pathT(Q,oe){var{controlPoint:he,currentPoint:R}=Lr.pathT(Q);return oe.push(he.x,he.y,R.x,R.y),Wr.QUAD_TO}pathA(Q){var{rX:oe,rY:he,sweepFlag:R,xAxisRotation:W,centp:te,a1:je,ad:ke}=Lr.pathA(Q);return R===0&&ke>0&&(ke-=2*Math.PI),R===1&&ke<0&&(ke+=2*Math.PI),[te.x,te.y,oe,he,je,ke,W,R]}calcLength(Q,oe,he,R){var W=0,te=null,je=null,ke=0;switch(he){case Wr.LINE_TO:return this.getLineLength(Q,oe,R[0],R[1]);case Wr.CURVE_TO:for(W=0,te=this.getPointOnCubicBezier(0,Q,oe,R[0],R[1],R[2],R[3],R[4],R[5]),ke=.01;ke<=1;ke+=.01)je=this.getPointOnCubicBezier(ke,Q,oe,R[0],R[1],R[2],R[3],R[4],R[5]),W+=this.getLineLength(te.x,te.y,je.x,je.y),te=je;return W;case Wr.QUAD_TO:for(W=0,te=this.getPointOnQuadraticBezier(0,Q,oe,R[0],R[1],R[2],R[3]),ke=.01;ke<=1;ke+=.01)je=this.getPointOnQuadraticBezier(ke,Q,oe,R[0],R[1],R[2],R[3]),W+=this.getLineLength(te.x,te.y,je.x,je.y),te=je;return W;case Wr.ARC:{W=0;var Ge=R[4],it=R[5],I=R[4]+it,B=Math.PI/180;if(Math.abs(Ge-I)<B&&(B=Math.abs(Ge-I)),te=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],Ge,0),it<0)for(ke=Ge-B;ke>I;ke-=B)je=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],ke,0),W+=this.getLineLength(te.x,te.y,je.x,je.y),te=je;else for(ke=Ge+B;ke<I;ke+=B)je=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],ke,0),W+=this.getLineLength(te.x,te.y,je.x,je.y),te=je;return je=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],I,0),W+=this.getLineLength(te.x,te.y,je.x,je.y),W}}return 0}getPointOnLine(Q,oe,he,R,W){var te=arguments.length>5&&arguments[5]!==void 0?arguments[5]:oe,je=arguments.length>6&&arguments[6]!==void 0?arguments[6]:he,ke=(W-he)/(R-oe+Te),Ge=Math.sqrt(Q*Q/(1+ke*ke));R<oe&&(Ge*=-1);var it=ke*Ge,I=null;if(R===oe)I={x:te,y:je+it};else if((je-he)/(te-oe+Te)===ke)I={x:te+Ge,y:je+it};else{var B=0,M=0,z=this.getLineLength(oe,he,R,W);if(z<Te)return null;var Y=(te-oe)*(R-oe)+(je-he)*(W-he);Y/=z*z,B=oe+Y*(R-oe),M=he+Y*(W-he);var re=this.getLineLength(te,je,B,M),Ne=Math.sqrt(Q*Q-re*re);Ge=Math.sqrt(Ne*Ne/(1+ke*ke)),R<oe&&(Ge*=-1),it=ke*Ge,I={x:B+Ge,y:M+it}}return I}getPointOnPath(Q){var oe=this.getPathLength(),he=0,R=null;if(Q<-5e-5||Q-5e-5>oe)return null;var{dataArray:W}=this;for(var te of W){if(te&&(te.pathLength<5e-5||he+te.pathLength+5e-5<Q)){he+=te.pathLength;continue}var je=Q-he,ke=0;switch(te.type){case Wr.LINE_TO:R=this.getPointOnLine(je,te.start.x,te.start.y,te.points[0],te.points[1],te.start.x,te.start.y);break;case Wr.ARC:{var Ge=te.points[4],it=te.points[5],I=te.points[4]+it;if(ke=Ge+je/te.pathLength*it,it<0&&ke<I||it>=0&&ke>I)break;R=this.getPointOnEllipticalArc(te.points[0],te.points[1],te.points[2],te.points[3],ke,te.points[6]);break}case Wr.CURVE_TO:ke=je/te.pathLength,ke>1&&(ke=1),R=this.getPointOnCubicBezier(ke,te.start.x,te.start.y,te.points[0],te.points[1],te.points[2],te.points[3],te.points[4],te.points[5]);break;case Wr.QUAD_TO:ke=je/te.pathLength,ke>1&&(ke=1),R=this.getPointOnQuadraticBezier(ke,te.start.x,te.start.y,te.points[0],te.points[1],te.points[2],te.points[3]);break}if(R)return R;break}return null}getLineLength(Q,oe,he,R){return Math.sqrt((he-Q)*(he-Q)+(R-oe)*(R-oe))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((Q,oe)=>oe.pathLength>0?Q+oe.pathLength:Q,0)),this.pathLength}getPointOnCubicBezier(Q,oe,he,R,W,te,je,ke,Ge){var it=ke*le(Q)+te*Ae(Q)+R*Ie(Q)+oe*Pe(Q),I=Ge*le(Q)+je*Ae(Q)+W*Ie(Q)+he*Pe(Q);return{x:it,y:I}}getPointOnQuadraticBezier(Q,oe,he,R,W,te,je){var ke=te*Ce(Q)+R*ce(Q)+oe*X(Q),Ge=je*Ce(Q)+W*ce(Q)+he*X(Q);return{x:ke,y:Ge}}getPointOnEllipticalArc(Q,oe,he,R,W,te){var je=Math.cos(te),ke=Math.sin(te),Ge={x:he*Math.cos(W),y:R*Math.sin(W)};return{x:Q+(Ge.x*je-Ge.y*ke),y:oe+(Ge.x*ke+Ge.y*je)}}buildEquidistantCache(Q,oe){var he=this.getPathLength(),R=oe||.25,W=Q||he/100;if(!this.equidistantCache||this.equidistantCache.step!==W||this.equidistantCache.precision!==R){this.equidistantCache={step:W,precision:R,points:[]};for(var te=0,je=0;je<=he;je+=R){var ke=this.getPointOnPath(je),Ge=this.getPointOnPath(je+R);!ke||!Ge||(te+=this.getLineLength(ke.x,ke.y,Ge.x,Ge.y),te>=W&&(this.equidistantCache.points.push({x:ke.x,y:ke.y,distance:je}),te-=W))}}}getEquidistantPointOnPath(Q,oe,he){if(this.buildEquidistantCache(oe,he),Q<0||Q-this.getPathLength()>5e-5)return null;var R=Math.round(Q/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[R]||null}}var Zl=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ni extends $n{constructor(Q,oe,he){super(Q,oe,he),this.type="image",this.loaded=!1;var R=this.getHrefAttribute().getString();if(R){var W=R.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(R);Q.images.push(this),W?this.loadSvg(R):this.loadImage(R),this.isSvg=W}}loadImage(Q){var oe=this;return(0,h.default)(function*(){try{var he=yield oe.document.createImage(Q);oe.image=he}catch(R){console.error('Error while loading image "'.concat(Q,'":'),R)}oe.loaded=!0})()}loadSvg(Q){var oe=this;return(0,h.default)(function*(){var he=Zl.exec(Q);if(he){var R=he[5];he[4]==="base64"?oe.image=atob(R):oe.image=decodeURIComponent(R)}else try{var W=yield oe.document.fetch(Q),te=yield W.text();oe.image=te}catch(je){console.error('Error while loading image "'.concat(Q,'":'),je)}oe.loaded=!0})()}renderChildren(Q){var{document:oe,image:he,loaded:R}=this,W=this.getAttribute("x").getPixels("x"),te=this.getAttribute("y").getPixels("y"),je=this.getStyle("width").getPixels("x"),ke=this.getStyle("height").getPixels("y");if(!(!R||!he||!je||!ke)){if(Q.save(),Q.translate(W,te),this.isSvg){var Ge=oe.canvg.forkString(Q,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:je,scaleHeight:ke});Ge.document.documentElement.parent=this,Ge.render()}else{var it=this.image;oe.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:je,desiredWidth:it.width,height:ke,desiredHeight:it.height}),this.loaded&&(typeof it.complete>"u"||it.complete)&&Q.drawImage(it,0,0)}Q.restore()}}getBoundingBox(){var Q=this.getAttribute("x").getPixels("x"),oe=this.getAttribute("y").getPixels("y"),he=this.getStyle("width").getPixels("x"),R=this.getStyle("height").getPixels("y");return new vn(Q,oe,Q+he,oe+R)}}class Eo extends $n{constructor(){super(...arguments),this.type="symbol"}render(Q){}}class qs{constructor(Q){this.document=Q,this.loaded=!1,Q.fonts.push(this)}load(Q,oe){var he=this;return(0,h.default)(function*(){try{var{document:R}=he,W=yield R.canvg.parser.load(oe),te=W.getElementsByTagName("font");Array.from(te).forEach(je=>{var ke=R.createElement(je);R.definitions[Q]=ke})}catch(je){console.error('Error while loading font "'.concat(oe,'":'),je)}he.loaded=!0})()}}class Io extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="style";var R=w(Array.from(oe.childNodes).map(te=>te.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),W=R.split("}");W.forEach(te=>{var je=te.trim();if(je){var ke=je.split("{"),Ge=ke[0].split(","),it=ke[1].split(";");Ge.forEach(I=>{var B=I.trim();if(B){var M=Q.styles[B]||{};if(it.forEach(re=>{var Ne=re.indexOf(":"),ge=re.substr(0,Ne).trim(),xe=re.substr(Ne+1,re.length-Ne).trim();ge&&xe&&(M[ge]=new de(Q,ge,xe))}),Q.styles[B]=M,Q.stylesSpecificity[B]=Be(B),B==="@font-face"){var z=M["font-family"].getString().replace(/"|'/g,""),Y=M.src.getString().split(",");Y.forEach(re=>{if(re.indexOf('format("svg")')>0){var Ne=Z(re);Ne&&new qs(Q).load(z,Ne)}})}}})}})}}Io.parseExternalUrl=Z;class tl extends $n{constructor(){super(...arguments),this.type="use"}setContext(Q){super.setContext(Q);var oe=this.getAttribute("x"),he=this.getAttribute("y");oe.hasValue()&&Q.translate(oe.getPixels("x"),0),he.hasValue()&&Q.translate(0,he.getPixels("y"))}path(Q){var{element:oe}=this;oe&&oe.path(Q)}renderChildren(Q){var{document:oe,element:he}=this;if(he){var R=he;if(he.type==="symbol"&&(R=new Sr(oe,null),R.attributes.viewBox=new de(oe,"viewBox",he.getAttribute("viewBox").getString()),R.attributes.preserveAspectRatio=new de(oe,"preserveAspectRatio",he.getAttribute("preserveAspectRatio").getString()),R.attributes.overflow=new de(oe,"overflow",he.getAttribute("overflow").getString()),R.children=he.children,he.styles.opacity=new de(oe,"opacity",this.calculateOpacity())),R.type==="svg"){var W=this.getStyle("width",!1,!0),te=this.getStyle("height",!1,!0);W.hasValue()&&(R.attributes.width=new de(oe,"width",W.getString())),te.hasValue()&&(R.attributes.height=new de(oe,"height",te.getString()))}var je=R.parent;R.parent=this,R.render(Q),R.parent=je}}getBoundingBox(Q){var{element:oe}=this;return oe?oe.getBoundingBox(Q):null}elementTransform(){var{document:Q,element:oe}=this;return on.fromElement(Q,oe)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function To(Ut,Q,oe,he,R,W){return Ut[oe*he*4+Q*4+W]}function Qs(Ut,Q,oe,he,R,W,te){Ut[oe*he*4+Q*4+W]=te}function Ci(Ut,Q,oe){var he=Ut[Q];return he*oe}function ai(Ut,Q,oe,he){return Q+Math.cos(Ut)*oe+Math.sin(Ut)*he}class Al extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="feColorMatrix";var R=j(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var W=R[0];R=[.213+.787*W,.715-.715*W,.072-.072*W,0,0,.213-.213*W,.715+.285*W,.072-.072*W,0,0,.213-.213*W,.715-.715*W,.072+.928*W,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var te=R[0]*Math.PI/180;R=[ai(te,.213,.787,-.213),ai(te,.715,-.715,-.715),ai(te,.072,-.072,.928),0,0,ai(te,.213,-.213,.143),ai(te,.715,.285,.14),ai(te,.072,-.072,-.283),0,0,ai(te,.213,-.213,-.787),ai(te,.715,-.715,.715),ai(te,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=R,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(Q,oe,he,R,W){for(var{includeOpacity:te,matrix:je}=this,ke=Q.getImageData(0,0,R,W),Ge=0;Ge<W;Ge++)for(var it=0;it<R;it++){var I=To(ke.data,it,Ge,R,W,0),B=To(ke.data,it,Ge,R,W,1),M=To(ke.data,it,Ge,R,W,2),z=To(ke.data,it,Ge,R,W,3),Y=Ci(je,0,I)+Ci(je,1,B)+Ci(je,2,M)+Ci(je,3,z)+Ci(je,4,1),re=Ci(je,5,I)+Ci(je,6,B)+Ci(je,7,M)+Ci(je,8,z)+Ci(je,9,1),Ne=Ci(je,10,I)+Ci(je,11,B)+Ci(je,12,M)+Ci(je,13,z)+Ci(je,14,1),ge=Ci(je,15,I)+Ci(je,16,B)+Ci(je,17,M)+Ci(je,18,z)+Ci(je,19,1);te&&(Y=0,re=0,Ne=0,ge*=z/255),Qs(ke.data,it,Ge,R,W,0,Y),Qs(ke.data,it,Ge,R,W,1,re),Qs(ke.data,it,Ge,R,W,2,Ne),Qs(ke.data,it,Ge,R,W,3,ge)}Q.clearRect(0,0,R,W),Q.putImageData(ke,0,0)}}class _o extends Yr{constructor(){super(...arguments),this.type="mask"}apply(Q,oe){var{document:he}=this,R=this.getAttribute("x").getPixels("x"),W=this.getAttribute("y").getPixels("y"),te=this.getStyle("width").getPixels("x"),je=this.getStyle("height").getPixels("y");if(!te&&!je){var ke=new vn;this.children.forEach(z=>{ke.addBoundingBox(z.getBoundingBox(Q))}),R=Math.floor(ke.x1),W=Math.floor(ke.y1),te=Math.floor(ke.width),je=Math.floor(ke.height)}var Ge=this.removeStyles(oe,_o.ignoreStyles),it=he.createCanvas(R+te,W+je),I=it.getContext("2d");he.screen.setDefaults(I),this.renderChildren(I),new Al(he,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(I,0,0,R+te,W+je);var B=he.createCanvas(R+te,W+je),M=B.getContext("2d");he.screen.setDefaults(M),oe.render(M),M.globalCompositeOperation="destination-in",M.fillStyle=I.createPattern(it,"no-repeat"),M.fillRect(0,0,R+te,W+je),Q.fillStyle=M.createPattern(B,"no-repeat"),Q.fillRect(0,0,R+te,W+je),this.restoreStyles(oe,Ge)}render(Q){}}_o.ignoreStyles=["mask","transform","clip-path"];var Uc=()=>{};class cs extends Yr{constructor(){super(...arguments),this.type="clipPath"}apply(Q){var{document:oe}=this,he=Reflect.getPrototypeOf(Q),{beginPath:R,closePath:W}=Q;he&&(he.beginPath=Uc,he.closePath=Uc),Reflect.apply(R,Q,[]),this.children.forEach(te=>{if(!(typeof te.path>"u")){var je=typeof te.elementTransform<"u"?te.elementTransform():null;je||(je=on.fromElement(oe,te)),je&&je.apply(Q),te.path(Q),he&&(he.closePath=W),je&&je.unapply(Q)}}),Reflect.apply(W,Q,[]),Q.clip(),he&&(he.beginPath=R,he.closePath=W)}render(Q){}}class qn extends Yr{constructor(){super(...arguments),this.type="filter"}apply(Q,oe){var{document:he,children:R}=this,W=oe.getBoundingBox(Q);if(W){var te=0,je=0;R.forEach(Ne=>{var ge=Ne.extraFilterDistance||0;te=Math.max(te,ge),je=Math.max(je,ge)});var ke=Math.floor(W.width),Ge=Math.floor(W.height),it=ke+2*te,I=Ge+2*je;if(!(it<1||I<1)){var B=Math.floor(W.x),M=Math.floor(W.y),z=this.removeStyles(oe,qn.ignoreStyles),Y=he.createCanvas(it,I),re=Y.getContext("2d");he.screen.setDefaults(re),re.translate(-B+te,-M+je),oe.render(re),R.forEach(Ne=>{typeof Ne.apply=="function"&&Ne.apply(re,0,0,it,I)}),Q.drawImage(Y,0,0,it,I,B-te,M-je,it,I),this.restoreStyles(oe,z)}}}render(Q){}}qn.ignoreStyles=["filter","transform","clip-path"];class Qi extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(Q,oe,he,R,W){}}class vs extends Yr{constructor(){super(...arguments),this.type="feMorphology"}apply(Q,oe,he,R,W){}}class xs extends Yr{constructor(){super(...arguments),this.type="feComposite"}apply(Q,oe,he,R,W){}}class Oo extends Yr{constructor(Q,oe,he){super(Q,oe,he),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(Q,oe,he,R,W){var{document:te,blurRadius:je}=this,ke=te.window?te.window.document.body:null,Ge=Q.canvas;Ge.id=te.getUniqueId(),ke&&(Ge.style.display="none",ke.appendChild(Ge)),(0,m.canvasRGBA)(Ge,oe,he,R,W,je),ke&&ke.removeChild(Ge)}}class Di extends Yr{constructor(){super(...arguments),this.type="title"}}class oo extends Yr{constructor(){super(...arguments),this.type="desc"}}var Xi={svg:Sr,rect:dn,circle:Dn,ellipse:Xr,line:Un,polyline:Ur,polygon:ei,path:Lr,pattern:ls,marker:Cn,defs:Bs,linearGradient:Ui,radialGradient:Bi,stop:Es,animate:ri,animateColor:Gs,animateTransform:Wa,font:jc,"font-face":gs,"missing-glyph":Sl,glyph:Dr,text:jn,tspan:cn,tref:Cc,a:Bl,textPath:ha,image:ni,g:ji,symbol:Eo,style:Io,use:tl,mask:_o,clipPath:cs,filter:qn,feDropShadow:Qi,feMorphology:vs,feComposite:xs,feColorMatrix:Al,feGaussianBlur:Oo,title:Di,desc:oo};function ki(Ut,Q){var oe=Object.keys(Ut);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Ut);Q&&(he=he.filter(function(R){return Object.getOwnPropertyDescriptor(Ut,R).enumerable})),oe.push.apply(oe,he)}return oe}function xo(Ut){for(var Q=1;Q<arguments.length;Q++){var oe=arguments[Q]!=null?arguments[Q]:{};Q%2?ki(Object(oe),!0).forEach(function(he){(0,d.default)(Ut,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(oe)):ki(Object(oe)).forEach(function(he){Object.defineProperty(Ut,he,Object.getOwnPropertyDescriptor(oe,he))})}return Ut}function ko(Ut,Q){var oe=document.createElement("canvas");return oe.width=Ut,oe.height=Q,oe}function ma(Ut){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,h.default)(function*(Ut){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=document.createElement("img");return Q&&(oe.crossOrigin="Anonymous"),new Promise((he,R)=>{oe.onload=()=>{he(oe)},oe.onerror=(W,te,je,ke,Ge)=>{R(Ge)},oe.src=Ut})}),Wi.apply(this,arguments)}class ys{constructor(Q){var{rootEmSize:oe=12,emSize:he=12,createCanvas:R=ys.createCanvas,createImage:W=ys.createImage,anonymousCrossOrigin:te}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=Q,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=Q.screen,this.rootEmSize=oe,this.emSize=he,this.createCanvas=R,this.createImage=this.bindCreateImage(W,te),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(Q,oe){return typeof oe=="boolean"?(he,R)=>Q(he,typeof R=="boolean"?R:oe):Q}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:Q}=this;return Q[Q.length-1]}set emSize(Q){var{emSizeStack:oe}=this;oe.push(Q)}popEmSize(){var{emSizeStack:Q}=this;Q.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(Q=>Q.loaded)}isFontsLoaded(){return this.fonts.every(Q=>Q.loaded)}createDocumentElement(Q){var oe=this.createElement(Q.documentElement);return oe.root=!0,oe.addStylesFromStyleDefinition(),this.documentElement=oe,oe}createElement(Q){var oe=Q.nodeName.replace(/^[^:]+:/,""),he=ys.elementTypes[oe];return typeof he<"u"?new he(this,Q):new qr(this,Q)}createTextNode(Q){return new bt(this,Q)}setViewBox(Q){this.screen.setViewBox(xo({document:this},Q))}}ys.createCanvas=ko,ys.createImage=ma,ys.elementTypes=Xi;function Xs(Ut,Q){var oe=Object.keys(Ut);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(Ut);Q&&(he=he.filter(function(R){return Object.getOwnPropertyDescriptor(Ut,R).enumerable})),oe.push.apply(oe,he)}return oe}function Ps(Ut){for(var Q=1;Q<arguments.length;Q++){var oe=arguments[Q]!=null?arguments[Q]:{};Q%2?Xs(Object(oe),!0).forEach(function(he){(0,d.default)(Ut,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(oe)):Xs(Object(oe)).forEach(function(he){Object.defineProperty(Ut,he,Object.getOwnPropertyDescriptor(oe,he))})}return Ut}class Po{constructor(Q,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Lt(he),this.screen=new Le(Q,he),this.options=he;var R=new ys(this,he),W=R.createDocumentElement(oe);this.document=R,this.documentElement=W}static from(Q,oe){var he=arguments;return(0,h.default)(function*(){var R=he.length>2&&he[2]!==void 0?he[2]:{},W=new Lt(R),te=yield W.parse(oe);return new Po(Q,te,R)})()}static fromString(Q,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=new Lt(he),W=R.parseFromString(oe);return new Po(Q,W,he)}fork(Q,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Po.from(Q,oe,Ps(Ps({},this.options),he))}forkString(Q,oe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Po.fromString(Q,oe,Ps(Ps({},this.options),he))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var Q=arguments,oe=this;return(0,h.default)(function*(){var he=Q.length>0&&Q[0]!==void 0?Q[0]:{};oe.start(Ps({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},he)),yield oe.ready(),oe.stop()})()}start(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:oe,screen:he,options:R}=this;he.start(oe,Ps(Ps({enableRedraw:!0},R),Q))}stop(){this.screen.stop()}resize(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(Q,oe,he)}}}),"./node_modules/core-js/internals/a-callable.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;l.exports=function(A){if(h(A))return A;throw new f(d(A)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-constructor.js"),d=o("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;l.exports=function(A){if(h(A))return A;throw new f(d(A)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-possible-prototype.js"),d=String,f=TypeError;l.exports=function(A){if(h(A))return A;throw new f("Can't set "+d(A)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/set-helpers.js").has;l.exports=function(d){return h(d),d}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/object-define-property.js").f,A=h("unscopables"),g=Array.prototype;g[A]===void 0&&f(g,A,{configurable:!0,value:d(null)}),l.exports=function(m){g[A][m]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/string-multibyte.js").charAt;l.exports=function(d,f,A){return f+(A?h(d,f).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-is-prototype-of.js"),d=TypeError;l.exports=function(f,A){if(h(A,f))return f;throw new d("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=String,f=TypeError;l.exports=function(A){if(h(A))return A;throw new f(d(A)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=h(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/array-iteration.js").forEach,d=o("./node_modules/core-js/internals/array-method-is-strict.js"),f=d("forEach");l.exports=f?[].forEach:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/get-iterator.js"),w=o("./node_modules/core-js/internals/get-iterator-method.js"),N=Array;l.exports=function(j){var _=f(j),P=m(this),Z=arguments.length,ee=Z>1?arguments[1]:void 0,K=ee!==void 0;K&&(ee=h(ee,Z>2?arguments[2]:void 0));var ae=w(_),D=0,q,$,L,ye,ne,Be;if(ae&&!(this===N&&g(ae)))for($=P?new this:[],ye=b(_,ae),ne=ye.next;!(L=d(ne,ye)).done;D++)Be=K?A(ye,ee,[L.value,D],!0):L.value,y($,D,Be);else for(q=x(_),$=P?new this(q):N(q);q>D;D++)Be=K?ee(_[D],D):_[D],y($,D,Be);return $.length=D,$}}),"./node_modules/core-js/internals/array-includes.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-indexed-object.js"),d=o("./node_modules/core-js/internals/to-absolute-index.js"),f=o("./node_modules/core-js/internals/length-of-array-like.js"),A=function(g){return function(m,x,y){var b=h(m),w=f(b);if(w===0)return!g&&-1;var N=d(y,w),S;if(g&&x!==x){for(;w>N;)if(S=b[N++],S!==S)return!0}else for(;w>N;N++)if((g||N in b)&&b[N]===x)return g||N||0;return!g&&-1}};l.exports={includes:A(!0),indexOf:A(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/indexed-object.js"),A=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/length-of-array-like.js"),m=o("./node_modules/core-js/internals/array-species-create.js"),x=d([].push),y=function(b){var w=b===1,N=b===2,S=b===3,j=b===4,_=b===6,P=b===7,Z=b===5||_;return function(ee,K,ae,D){for(var q=A(ee),$=f(q),L=g($),ye=h(K,ae),ne=0,Be=D||m,Te=w?Be(ee,L):N||P?Be(ee,0):void 0,me,ue;L>ne;ne++)if((Z||ne in $)&&(me=$[ne],ue=ye(me,ne,q),b))if(w)Te[ne]=ue;else if(ue)switch(b){case 3:return!0;case 5:return me;case 6:return ne;case 2:x(Te,me)}else switch(b){case 4:return!1;case 7:x(Te,me)}return _?-1:S||j?j:Te}};l.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/environment-v8-version.js"),A=d("species");l.exports=function(g){return f>=51||!h(function(){var m=[],x=m.constructor={};return x[A]=function(){return{foo:1}},m[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=function(d,f){var A=[][d];return!!A&&h(function(){A.call(null,f||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/indexed-object.js"),A=o("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,m="Reduce of empty array with no initial value",x=function(y){return function(b,w,N,S){var j=d(b),_=f(j),P=A(j);if(h(w),P===0&&N<2)throw new g(m);var Z=y?P-1:0,ee=y?-1:1;if(N<2)for(;;){if(Z in _){S=_[Z],Z+=ee;break}if(Z+=ee,y?Z<0:P<=Z)throw new g(m)}for(;y?Z>=0:P>Z;Z+=ee)Z in _&&(S=w(S,_[Z],Z,j));return S}};l.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-array.js"),d=o("./node_modules/core-js/internals/is-constructor.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),g=A("species"),m=Array;l.exports=function(x){var y;return h(x)&&(y=x.constructor,d(y)&&(y===m||h(y.prototype))?y=void 0:f(y)&&(y=y[g],y===null&&(y=void 0))),y===void 0?m:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/array-species-constructor.js");l.exports=function(d,f){return new(h(d))(f===0?0:f)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(f,A,g,m){try{return m?A(h(g)[0],g[1]):A(g)}catch(x){d(f,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("iterator"),f=!1;try{var A=0,g={next:function(){return{done:!!A++}},return:function(){f=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}l.exports=function(m,x){try{if(!x&&!f)return!1}catch{return!1}var y=!1;try{var b={};b[d]=function(){return{next:function(){return{done:y=!0}}}},m(b)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=h({}.toString),f=h("".slice);l.exports=function(A){return f(d(A),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),g=A("toStringTag"),m=Object,x=f((function(){return arguments})())==="Arguments",y=function(b,w){try{return b[w]}catch{}};l.exports=h?f:function(b){var w,N,S;return b===void 0?"Undefined":b===null?"Null":typeof(N=y(w=m(b),g))=="string"?N:x?f(w):(S=f(w))==="Object"&&d(w.callee)?"Arguments":S}}),"./node_modules/core-js/internals/collection-strong.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-create.js"),d=o("./node_modules/core-js/internals/define-built-in-accessor.js"),f=o("./node_modules/core-js/internals/define-built-ins.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/an-instance.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/set-species.js"),N=o("./node_modules/core-js/internals/descriptors.js"),S=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,j=o("./node_modules/core-js/internals/internal-state.js"),_=j.set,P=j.getterFor;l.exports={getConstructor:function(Z,ee,K,ae){var D=Z(function(ne,Be){g(ne,q),_(ne,{type:ee,index:h(null),first:null,last:null,size:0}),N||(ne.size=0),m(Be)||x(Be,ne[ae],{that:ne,AS_ENTRIES:K})}),q=D.prototype,$=P(ee),L=function(ne,Be,Te){var me=$(ne),ue=ye(ne,Be),ve,le;return ue?ue.value=Te:(me.last=ue={index:le=S(Be,!0),key:Be,value:Te,previous:ve=me.last,next:null,removed:!1},me.first||(me.first=ue),ve&&(ve.next=ue),N?me.size++:ne.size++,le!=="F"&&(me.index[le]=ue)),ne},ye=function(ne,Be){var Te=$(ne),me=S(Be),ue;if(me!=="F")return Te.index[me];for(ue=Te.first;ue;ue=ue.next)if(ue.key===Be)return ue};return f(q,{clear:function(){for(var Be=this,Te=$(Be),me=Te.first;me;)me.removed=!0,me.previous&&(me.previous=me.previous.next=null),me=me.next;Te.first=Te.last=null,Te.index=h(null),N?Te.size=0:Be.size=0},delete:function(ne){var Be=this,Te=$(Be),me=ye(Be,ne);if(me){var ue=me.next,ve=me.previous;delete Te.index[me.index],me.removed=!0,ve&&(ve.next=ue),ue&&(ue.previous=ve),Te.first===me&&(Te.first=ue),Te.last===me&&(Te.last=ve),N?Te.size--:Be.size--}return!!me},forEach:function(Be){for(var Te=$(this),me=A(Be,arguments.length>1?arguments[1]:void 0),ue;ue=ue?ue.next:Te.first;)for(me(ue.value,ue.key,this);ue&&ue.removed;)ue=ue.previous},has:function(Be){return!!ye(this,Be)}}),f(q,K?{get:function(Be){var Te=ye(this,Be);return Te&&Te.value},set:function(Be,Te){return L(this,Be===0?0:Be,Te)}}:{add:function(Be){return L(this,Be=Be===0?0:Be,Be)}}),N&&d(q,"size",{configurable:!0,get:function(){return $(this).size}}),D},setStrong:function(Z,ee,K){var ae=ee+" Iterator",D=P(ee),q=P(ae);y(Z,ee,function($,L){_(this,{type:ae,target:$,state:D($),kind:L,last:null})},function(){for(var $=q(this),L=$.kind,ye=$.last;ye&&ye.removed;)ye=ye.previous;return!$.target||!($.last=ye=ye?ye.next:$.state.first)?($.target=null,b(void 0,!0)):b(L==="keys"?ye.key:L==="values"?ye.value:[ye.key,ye.value],!1)},K?"entries":"values",!K,!0),w(ee)}}}),"./node_modules/core-js/internals/collection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/internal-metadata.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/an-instance.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/is-null-or-undefined.js"),N=o("./node_modules/core-js/internals/is-object.js"),S=o("./node_modules/core-js/internals/fails.js"),j=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),_=o("./node_modules/core-js/internals/set-to-string-tag.js"),P=o("./node_modules/core-js/internals/inherit-if-required.js");l.exports=function(Z,ee,K){var ae=Z.indexOf("Map")!==-1,D=Z.indexOf("Weak")!==-1,q=ae?"set":"add",$=d[Z],L=$&&$.prototype,ye=$,ne={},Be=function(Ie){var Pe=f(L[Ie]);g(L,Ie,Ie==="add"?function(ce){return Pe(this,ce===0?0:ce),this}:Ie==="delete"?function(Ce){return D&&!N(Ce)?!1:Pe(this,Ce===0?0:Ce)}:Ie==="get"?function(ce){return D&&!N(ce)?void 0:Pe(this,ce===0?0:ce)}:Ie==="has"?function(ce){return D&&!N(ce)?!1:Pe(this,ce===0?0:ce)}:function(ce,X){return Pe(this,ce===0?0:ce,X),this})},Te=A(Z,!b($)||!(D||L.forEach&&!S(function(){new $().entries().next()})));if(Te)ye=K.getConstructor(ee,Z,ae,q),m.enable();else if(A(Z,!0)){var me=new ye,ue=me[q](D?{}:-0,1)!==me,ve=S(function(){me.has(1)}),le=j(function(Ie){new $(Ie)}),Ae=!D&&S(function(){for(var Ie=new $,Pe=5;Pe--;)Ie[q](Pe,Pe);return!Ie.has(-0)});le||(ye=ee(function(Ie,Pe){y(Ie,L);var Ce=P(new $,Ie,ye);return w(Pe)||x(Pe,Ce[q],{that:Ce,AS_ENTRIES:ae}),Ce}),ye.prototype=L,L.constructor=ye),(ve||Ae)&&(Be("delete"),Be("has"),ae&&Be("get")),(Ae||ue)&&Be(q),D&&L.clear&&delete L.clear}return ne[Z]=ye,h({global:!0,constructor:!0,forced:ye!==$},ne),_(ye,Z),D||K.setStrong(ye,Z,ae),ye}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/has-own-property.js"),d=o("./node_modules/core-js/internals/own-keys.js"),f=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),A=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(g,m,x){for(var y=d(m),b=A.f,w=f.f,N=0;N<y.length;N++){var S=y[N];!h(g,S)&&!(x&&h(x,S))&&b(g,S,w(m,S))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("match");l.exports=function(f){var A=/./;try{"/./"[f](A)}catch{try{return A[d]=!1,"/./"[f](A)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/to-string.js"),A=/"/g,g=h("".replace);l.exports=function(m,x,y,b){var w=f(d(m)),N="<"+x;return y!==""&&(N+=" "+y+'="'+g(f(b),A,"&quot;")+'"'),N+">"+w+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(l){l.exports=function(u,o){return{value:u,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=h?function(A,g,m){return d.f(A,g,f(1,m))}:function(A,g,m){return A[g]=m,A}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(l){l.exports=function(u,o){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=function(A,g,m){h?d.f(A,g,f(0,m)):A[g]=m}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/make-built-in.js"),d=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(f,A,g){return g.get&&h(g.get,A,{getter:!0}),g.set&&h(g.set,A,{setter:!0}),d.f(f,A,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/make-built-in.js"),A=o("./node_modules/core-js/internals/define-global-property.js");l.exports=function(g,m,x,y){y||(y={});var b=y.enumerable,w=y.name!==void 0?y.name:m;if(h(x)&&f(x,w,y),y.global)b?g[m]=x:A(m,x);else{try{y.unsafe?g[m]&&(b=!0):delete g[m]}catch{}b?g[m]=x:d.f(g,m,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(d,f,A){for(var g in f)h(d,g,f[g],A);return d}}),"./node_modules/core-js/internals/define-global-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=Object.defineProperty;l.exports=function(f,A){try{d(h,f,{value:A,configurable:!0,writable:!0})}catch{h[f]=A}return A}}),"./node_modules/core-js/internals/descriptors.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-object.js"),f=h.document,A=d(f)&&d(f.createElement);l.exports=function(g){return A?f.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(l){var u=TypeError,o=9007199254740991;l.exports=function(h){if(h>o)throw u("Maximum allowed index exceeded");return h}}),"./node_modules/core-js/internals/dom-iterables.js":(function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/document-create-element.js"),d=h("span").classList,f=d&&d.constructor&&d.constructor.prototype;l.exports=f===Object.prototype?void 0:f}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/ipad|iphone|ipod/i.test(h)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)}),"./node_modules/core-js/internals/environment-is-node.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment.js");l.exports=h==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/web0s(?!.*chrome)/i.test(h)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=h.navigator,f=d&&d.userAgent;l.exports=f?String(f):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/environment-user-agent.js"),f=h.process,A=h.Deno,g=f&&f.versions||A&&A.version,m=g&&g.v8,x,y;m&&(x=m.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&d&&(x=d.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=d.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),l.exports=y}),"./node_modules/core-js/internals/environment.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/environment-user-agent.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),A=function(g){return d.slice(0,g.length)===g};l.exports=(function(){return A("Bun/")?"BUN":A("Cloudflare-Workers")?"CLOUDFLARE":A("Deno/")?"DENO":A("Node.js/")?"NODE":h.Bun&&typeof Bun.version=="string"?"BUN":h.Deno&&typeof Deno.version=="object"?"DENO":f(h.process)==="process"?"NODE":h.window&&h.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=o("./node_modules/core-js/internals/define-built-in.js"),g=o("./node_modules/core-js/internals/define-global-property.js"),m=o("./node_modules/core-js/internals/copy-constructor-properties.js"),x=o("./node_modules/core-js/internals/is-forced.js");l.exports=function(y,b){var w=y.target,N=y.global,S=y.stat,j,_,P,Z,ee,K;if(N?_=h:S?_=h[w]||g(w,{}):_=h[w]&&h[w].prototype,_)for(P in b){if(ee=b[P],y.dontCallGetSet?(K=d(_,P),Z=K&&K.value):Z=_[P],j=x(N?P:w+(S?".":"#")+P,y.forced),!j&&Z!==void 0){if(typeof ee==typeof Z)continue;m(ee,Z)}(y.sham||Z&&Z.sham)&&f(ee,"sham",!0),A(_,P,ee,y)}}}),"./node_modules/core-js/internals/fails.js":(function(l){l.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/define-built-in.js"),f=o("./node_modules/core-js/internals/regexp-exec.js"),A=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=g("species"),y=RegExp.prototype;l.exports=function(b,w,N,S){var j=g(b),_=!A(function(){var K={};return K[j]=function(){return 7},""[b](K)!==7}),P=_&&!A(function(){var K=!1,ae=/a/;if(b==="split"){var D={};D[x]=function(){return ae},ae={constructor:D,flags:""},ae[j]=/./[j]}return ae.exec=function(){return K=!0,null},ae[j](""),!K});if(!_||!P||N){var Z=/./[j],ee=w(j,""[b],function(K,ae,D,q,$){var L=ae.exec;return L===f||L===y.exec?_&&!$?{done:!0,value:h(Z,ae,D,q)}:{done:!0,value:h(K,D,ae,q)}:{done:!1}});d(String.prototype,b,ee[0]),d(y,j,ee[1])}S&&m(y[j],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype,f=d.apply,A=d.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(h?A.bind(f):function(){return A.apply(f,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),d=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/function-bind-native.js"),A=h(h.bind);l.exports=function(g,m){return d(g),m===void 0?g:f?A(g,m):function(){return g.apply(m,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype.call;l.exports=h?d.bind(d):function(){return d.apply(d,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=Function.prototype,A=h&&Object.getOwnPropertyDescriptor,g=d(f,"name"),m=g&&(function(){}).name==="something",x=g&&(!h||h&&A(f,"name").configurable);l.exports={EXISTS:g,PROPER:m,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/a-callable.js");l.exports=function(f,A,g){try{return h(d(Object.getOwnPropertyDescriptor(f,A)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=function(f){if(h(f)==="Function")return d(f)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype,f=d.call,A=h&&d.bind.bind(f,f);l.exports=h?A:function(g){return function(){return f.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=function(A){return d(A)?A:void 0};l.exports=function(A,g){return arguments.length<2?f(h[A]):h[A]&&h[A][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(l){l.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=o("./node_modules/core-js/internals/get-method.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),A=o("./node_modules/core-js/internals/iterators.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("iterator");l.exports=function(x){if(!f(x))return d(x,m)||d(x,"@@iterator")||A[h(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/get-iterator-method.js"),m=TypeError;l.exports=function(x,y){var b=arguments.length<2?g(x):y;if(d(b))return f(h(b,x));throw new m(A(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/is-null-or-undefined.js");l.exports=function(f,A){var g=f[A];return d(g)?void 0:h(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m="Invalid size",x=RangeError,y=TypeError,b=Math.max,w=function(N,S){this.set=N,this.size=b(S,0),this.has=h(N.has),this.keys=h(N.keys)};w.prototype={getIterator:function(){return g(d(f(this.keys,this.set)))},includes:function(N){return f(this.has,this.set,N)}},l.exports=function(N){d(N);var S=+N.size;if(S!==S)throw new y(m);var j=A(S);if(j<0)throw new x(m);return new w(N,j)}}),"./node_modules/core-js/internals/get-substitution.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-object.js"),f=Math.floor,A=h("".charAt),g=h("".replace),m=h("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;l.exports=function(b,w,N,S,j,_){var P=N+b.length,Z=S.length,ee=y;return j!==void 0&&(j=d(j),ee=x),g(_,ee,function(K,ae){var D;switch(A(ae,0)){case"$":return"$";case"&":return b;case"`":return m(w,0,N);case"'":return m(w,P);case"<":D=j[m(ae,1,-1)];break;default:var q=+ae;if(q===0)return K;if(q>Z){var $=f(q/10);return $===0?K:$<=Z?S[$-1]===void 0?A(ae,1):S[$-1]+A(ae,1):K}D=S[q-1]}return D===void 0?"":D})}}),"./node_modules/core-js/internals/global-this.js":(function(l){var u=function(o){return o&&o.Math===Math&&o};l.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof of=="object"&&of)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-object.js"),f=h({}.hasOwnProperty);l.exports=Object.hasOwn||function(g,m){return f(d(g),m)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(l){l.exports=function(u,o){try{arguments.length===1?console.error(u):console.error(u,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js");l.exports=h("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/document-create-element.js");l.exports=!h&&!d(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),A=Object,g=h("".split);l.exports=d(function(){return!A("z").propertyIsEnumerable(0)})?function(m){return f(m)==="String"?g(m,""):A(m)}:A}),"./node_modules/core-js/internals/inherit-if-required.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/object-set-prototype-of.js");l.exports=function(A,g,m){var x,y;return f&&h(x=g.constructor)&&x!==m&&d(y=x.prototype)&&y!==m.prototype&&f(A,y),A}}),"./node_modules/core-js/internals/inspect-source.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/shared-store.js"),A=h(Function.toString);d(f.inspectSource)||(f.inspectSource=function(g){return A(g)}),l.exports=f.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/hidden-keys.js"),A=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=o("./node_modules/core-js/internals/object-get-own-property-names.js"),y=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),b=o("./node_modules/core-js/internals/object-is-extensible.js"),w=o("./node_modules/core-js/internals/uid.js"),N=o("./node_modules/core-js/internals/freezing.js"),S=!1,j=w("meta"),_=0,P=function(q){m(q,j,{value:{objectID:"O"+_++,weakData:{}}})},Z=function(q,$){if(!A(q))return typeof q=="symbol"?q:(typeof q=="string"?"S":"P")+q;if(!g(q,j)){if(!b(q))return"F";if(!$)return"E";P(q)}return q[j].objectID},ee=function(q,$){if(!g(q,j)){if(!b(q))return!0;if(!$)return!1;P(q)}return q[j].weakData},K=function(q){return N&&S&&b(q)&&!g(q,j)&&P(q),q},ae=function(){D.enable=function(){},S=!0;var q=x.f,$=d([].splice),L={};L[j]=1,q(L).length&&(x.f=function(ye){for(var ne=q(ye),Be=0,Te=ne.length;Be<Te;Be++)if(ne[Be]===j){$(ne,Be,1);break}return ne},h({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},D=l.exports={enable:ae,fastKey:Z,getWeakData:ee,onFreeze:K};f[j]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/shared-store.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=o("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",w=d.TypeError,N=d.WeakMap,S,j,_,P=function(ae){return _(ae)?j(ae):S(ae,{})},Z=function(ae){return function(D){var q;if(!f(D)||(q=j(D)).type!==ae)throw new w("Incompatible receiver, "+ae+" required");return q}};if(h||m.state){var ee=m.state||(m.state=new N);ee.get=ee.get,ee.has=ee.has,ee.set=ee.set,S=function(ae,D){if(ee.has(ae))throw new w(b);return D.facade=ae,ee.set(ae,D),D},j=function(ae){return ee.get(ae)||{}},_=function(ae){return ee.has(ae)}}else{var K=x("state");y[K]=!0,S=function(ae,D){if(g(ae,K))throw new w(b);return D.facade=ae,A(ae,K,D),D},j=function(ae){return g(ae,K)?ae[K]:{}},_=function(ae){return g(ae,K)}}l.exports={set:S,get:j,has:_,enforce:P,getterFor:Z}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=o("./node_modules/core-js/internals/iterators.js"),f=h("iterator"),A=Array.prototype;l.exports=function(g){return g!==void 0&&(d.Array===g||A[f]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js");l.exports=Array.isArray||function(f){return h(f)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(l){var u=typeof document=="object"&&document.all;l.exports=typeof u>"u"&&u!==void 0?function(o){return typeof o=="function"||o===u}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/classof.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=g("Reflect","construct"),b=/^\s*(?:class|function)\b/,w=h(b.exec),N=!b.test(x),S=function(P){if(!f(P))return!1;try{return y(x,[],P),!0}catch{return!1}},j=function(P){if(!f(P))return!1;switch(A(P)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return N||!!w(b,m(P))}catch{return!0}};j.sham=!0,l.exports=!y||d(function(){var _;return S(S.call)||!S(Object)||!S(function(){_=!0})||_})?j:S}),"./node_modules/core-js/internals/is-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=/#|\.prototype\./,A=function(b,w){var N=m[g(b)];return N===y?!0:N===x?!1:d(w)?h(w):!!w},g=A.normalize=function(b){return String(b).replace(f,".").toLowerCase()},m=A.data={},x=A.NATIVE="N",y=A.POLYFILL="P";l.exports=A}),"./node_modules/core-js/internals/is-iterable.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=A("iterator"),x=Object;l.exports=function(y){if(f(y))return!1;var b=x(y);return b[m]!==void 0||"@@iterator"in b||d(g,h(b))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(l){l.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js");l.exports=function(d){return typeof d=="object"?d!==null:h(d)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js");l.exports=function(d){return h(d)||d===null}}),"./node_modules/core-js/internals/is-pure.js":(function(l){l.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=o("./node_modules/core-js/internals/internal-state.js").get;l.exports=function(A){if(!h(A))return!1;var g=d(A);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),A=f("match");l.exports=function(g){var m;return h(g)&&((m=g[A])!==void 0?!!m:d(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),A=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;l.exports=A?function(m){return typeof m=="symbol"}:function(m){var x=h("Symbol");return d(x)&&f(x.prototype,g(m))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js");l.exports=function(d,f,A){for(var g=A?d:d.iterator,m=d.next,x,y;!(x=h(m,g)).done;)if(y=f(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/get-iterator.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),N=TypeError,S=function(_,P){this.stopped=_,this.result=P},j=S.prototype;l.exports=function(_,P,Z){var ee=Z&&Z.that,K=!!(Z&&Z.AS_ENTRIES),ae=!!(Z&&Z.IS_RECORD),D=!!(Z&&Z.IS_ITERATOR),q=!!(Z&&Z.INTERRUPTED),$=h(P,ee),L,ye,ne,Be,Te,me,ue,ve=function(Ae){return L&&w(L,"normal"),new S(!0,Ae)},le=function(Ae){return K?(f(Ae),q?$(Ae[0],Ae[1],ve):$(Ae[0],Ae[1])):q?$(Ae,ve):$(Ae)};if(ae)L=_.iterator;else if(D)L=_;else{if(ye=b(_),!ye)throw new N(A(_)+" is not iterable");if(g(ye)){for(ne=0,Be=m(_);Be>ne;ne++)if(Te=le(_[ne]),Te&&x(j,Te))return Te;return new S(!1)}L=y(_,ye)}for(me=ae?_.next:L.next;!(ue=d(me,L)).done;){try{Te=le(ue.value)}catch(Ae){w(L,"throw",Ae)}if(typeof Te=="object"&&Te&&x(j,Te))return Te}return new S(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(d,f,A){for(var g=d.length-1;g>=0;g--)if(d[g]!==void 0)try{A=h(d[g].iterator,f,A)}catch(m){f="throw",A=m}if(f==="throw")throw A;return A}}),"./node_modules/core-js/internals/iterator-close.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/get-method.js");l.exports=function(A,g,m){var x,y;d(A);try{if(x=f(A,"return"),!x){if(g==="throw")throw m;return m}x=h(x,A)}catch(b){y=!0,x=b}if(g==="throw")throw m;if(y)throw x;return d(x),m}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,d=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js"),A=o("./node_modules/core-js/internals/set-to-string-tag.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=function(){return this};l.exports=function(x,y,b,w){var N=y+" Iterator";return x.prototype=d(h,{next:f(+!w,b)}),A(x,N,!1,!0),g[N]=m,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=o("./node_modules/core-js/internals/define-built-ins.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/get-method.js"),y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),N=o("./node_modules/core-js/internals/iterator-close-all.js"),S=g("toStringTag"),j="IteratorHelper",_="WrapForValidIterator",P="normal",Z="throw",ee=m.set,K=function(q){var $=m.getterFor(q?_:j);return A(d(y),{next:function(){var ye=$(this);if(q)return ye.nextHandler();if(ye.done)return b(void 0,!0);try{var ne=ye.nextHandler();return ye.returnHandlerResult?ne:b(ne,ye.done)}catch(Be){throw ye.done=!0,Be}},return:function(){var L=$(this),ye=L.iterator;if(L.done=!0,q){var ne=x(ye,"return");return ne?h(ne,ye):b(void 0,!0)}if(L.inner)try{w(L.inner.iterator,P)}catch(Be){return w(ye,Z,Be)}if(L.openIters)try{N(L.openIters,P)}catch(Be){return w(ye,Z,Be)}return ye&&w(ye,P),b(void 0,!0)}})},ae=K(!0),D=K(!1);f(D,S,"Iterator Helper"),l.exports=function(q,$,L){var ye=function(Be,Te){Te?(Te.iterator=Be.iterator,Te.next=Be.next):Te=Be,Te.type=$?_:j,Te.returnHandlerResult=!!L,Te.nextHandler=q,Te.counter=0,Te.done=!1,ee(this,Te)};return ye.prototype=$?ae:D,ye}}),"./node_modules/core-js/internals/iterator-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/function-name.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/iterator-create-constructor.js"),x=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=o("./node_modules/core-js/internals/define-built-in.js"),S=o("./node_modules/core-js/internals/well-known-symbol.js"),j=o("./node_modules/core-js/internals/iterators.js"),_=o("./node_modules/core-js/internals/iterators-core.js"),P=A.PROPER,Z=A.CONFIGURABLE,ee=_.IteratorPrototype,K=_.BUGGY_SAFARI_ITERATORS,ae=S("iterator"),D="keys",q="values",$="entries",L=function(){return this};l.exports=function(ye,ne,Be,Te,me,ue,ve){m(Be,ne,Te);var le=function(Re){if(Re===me&&ce)return ce;if(!K&&Re&&Re in Pe)return Pe[Re];switch(Re){case D:return function(){return new Be(this,Re)};case q:return function(){return new Be(this,Re)};case $:return function(){return new Be(this,Re)}}return function(){return new Be(this)}},Ae=ne+" Iterator",Ie=!1,Pe=ye.prototype,Ce=Pe[ae]||Pe["@@iterator"]||me&&Pe[me],ce=!K&&Ce||le(me),X=ne==="Array"&&Pe.entries||Ce,de,se,We;if(X&&(de=x(X.call(new ye)),de!==Object.prototype&&de.next&&(!f&&x(de)!==ee&&(y?y(de,ee):g(de[ae])||N(de,ae,L)),b(de,Ae,!0,!0),f&&(j[Ae]=L))),P&&me===q&&Ce&&Ce.name!==q&&(!f&&Z?w(Pe,"name",q):(Ie=!0,ce=function(){return d(Ce,this)})),me)if(se={values:le(q),keys:ue?ce:le(D),entries:le($)},ve)for(We in se)(K||Ie||!(We in Pe))&&N(Pe,We,se[We]);else h({target:ne,proto:!0,forced:K||Ie},se);return(!f||ve)&&Pe[ae]!==ce&&N(Pe,ae,ce,{name:me}),j[ne]=ce,se}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(l){l.exports=function(u,o){var h=typeof Iterator=="function"&&Iterator.prototype[u];if(h)try{h.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=function(d,f){var A=h.Iterator,g=A&&A.prototype,m=g&&g[d],x=!1;if(m)try{m.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof f||(x=!1)}if(!x)return m}}),"./node_modules/core-js/internals/iterators-core.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/object-create.js"),g=o("./node_modules/core-js/internals/object-get-prototype-of.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),w=!1,N,S,j;[].keys&&(j=[].keys(),"next"in j?(S=g(g(j)),S!==Object.prototype&&(N=S)):w=!0);var _=!f(N)||h(function(){var P={};return N[b].call(P)!==P});_?N={}:y&&(N=A(N)),d(N[b])||m(N,b,function(){return this}),l.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:w}}),"./node_modules/core-js/internals/iterators.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-length.js");l.exports=function(d){return h(d.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/internal-state.js"),b=y.enforce,w=y.get,N=String,S=Object.defineProperty,j=h("".slice),_=h("".replace),P=h([].join),Z=g&&!d(function(){return S(function(){},"length",{value:8}).length!==8}),ee=String(String).split("String"),K=l.exports=function(ae,D,q){j(N(D),0,7)==="Symbol("&&(D="["+_(N(D),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),q&&q.getter&&(D="get "+D),q&&q.setter&&(D="set "+D),(!A(ae,"name")||m&&ae.name!==D)&&(g?S(ae,"name",{value:D,configurable:!0}):ae.name=D),Z&&q&&A(q,"arity")&&ae.length!==q.arity&&S(ae,"length",{value:q.arity});try{q&&A(q,"constructor")&&q.constructor?g&&S(ae,"prototype",{writable:!1}):ae.prototype&&(ae.prototype=void 0)}catch{}var $=b(ae);return A($,"source")||($.source=P(ee,typeof D=="string"?D:"")),ae};Function.prototype.toString=K(function(){return f(this)&&w(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(l){var u=Math.ceil,o=Math.floor;l.exports=Math.trunc||function(d){var f=+d;return(f>0?o:u)(f)}}),"./node_modules/core-js/internals/microtask.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/safe-get-built-in.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/task.js").set,g=o("./node_modules/core-js/internals/queue.js"),m=o("./node_modules/core-js/internals/environment-is-ios.js"),x=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),w=h.MutationObserver||h.WebKitMutationObserver,N=h.document,S=h.process,j=h.Promise,_=d("queueMicrotask"),P,Z,ee,K,ae;if(!_){var D=new g,q=function(){var $,L;for(b&&($=S.domain)&&$.exit();L=D.get();)try{L()}catch(ye){throw D.head&&P(),ye}$&&$.enter()};!m&&!b&&!y&&w&&N?(Z=!0,ee=N.createTextNode(""),new w(q).observe(ee,{characterData:!0}),P=function(){ee.data=Z=!Z}):!x&&j&&j.resolve?(K=j.resolve(void 0),K.constructor=j,ae=f(K.then,K),P=function(){ae(q)}):b?P=function(){S.nextTick(q)}:(A=f(A,h),P=function(){A(q)}),_=function($){D.head||P(),D.add($)}}l.exports=_}),"./node_modules/core-js/internals/native-raw-json.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){var d="9007199254740993",f=JSON.rawJSON(d);return!JSON.isRawJSON(f)||JSON.stringify(f)!==d})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=TypeError,f=function(A){var g,m;this.promise=new A(function(x,y){if(g!==void 0||m!==void 0)throw new d("Bad Promise constructor");g=x,m=y}),this.resolve=h(g),this.reject=h(m)};l.exports.f=function(A){return new f(A)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-regexp.js"),d=TypeError;l.exports=function(f){if(h(f))throw new d("The method doesn't accept regular expressions");return f}}),"./node_modules/core-js/internals/object-assign.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/object-keys.js"),m=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/indexed-object.js"),w=Object.assign,N=Object.defineProperty,S=d([].concat);l.exports=!w||A(function(){if(h&&w({b:1},w(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var j={},_={},P=Symbol("assign detection"),Z="abcdefghijklmnopqrst";return j[P]=7,Z.split("").forEach(function(ee){_[ee]=ee}),w({},j)[P]!==7||g(w({},_)).join("")!==Z})?function(_,P){for(var Z=y(_),ee=arguments.length,K=1,ae=m.f,D=x.f;ee>K;)for(var q=b(arguments[K++]),$=ae?S(g(q),ae(q)):g(q),L=$.length,ye=0,ne;L>ye;)ne=$[ye++],(!h||f(D,q,ne))&&(Z[ne]=q[ne]);return Z}:w}),"./node_modules/core-js/internals/object-create.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/object-define-properties.js"),f=o("./node_modules/core-js/internals/enum-bug-keys.js"),A=o("./node_modules/core-js/internals/hidden-keys.js"),g=o("./node_modules/core-js/internals/html.js"),m=o("./node_modules/core-js/internals/document-create-element.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=">",b="<",w="prototype",N="script",S=x("IE_PROTO"),j=function(){},_=function(ae){return b+N+y+ae+b+"/"+N+y},P=function(ae){ae.write(_("")),ae.close();var D=ae.parentWindow.Object;return ae=null,D},Z=function(){var ae=m("iframe"),D="java"+N+":",q;return ae.style.display="none",g.appendChild(ae),ae.src=String(D),q=ae.contentWindow.document,q.open(),q.write(_("document.F=Object")),q.close(),q.F},ee,K=function(){try{ee=new ActiveXObject("htmlfile")}catch{}K=typeof document<"u"?document.domain&&ee?P(ee):Z():P(ee);for(var ae=f.length;ae--;)delete K[w][f[ae]];return K()};A[S]=!0,l.exports=Object.create||function(D,q){var $;return D!==null?(j[w]=h(D),$=new j,j[w]=null,$[S]=D):$=K(),q===void 0?$:d.f($,q)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/object-keys.js");u.f=h&&!d?Object.defineProperties:function(y,b){A(y);for(var w=g(b),N=m(b),S=N.length,j=0,_;S>j;)f.f(y,_=N[j++],w[_]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/ie8-dom-define.js"),f=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-property-key.js"),m=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b="enumerable",w="configurable",N="writable";u.f=h?f?function(j,_,P){if(A(j),_=g(_),A(P),typeof j=="function"&&_==="prototype"&&"value"in P&&N in P&&!P[N]){var Z=y(j,_);Z&&Z[N]&&(j[_]=P.value,P={configurable:w in P?P[w]:Z[w],enumerable:b in P?P[b]:Z[b],writable:!1})}return x(j,_,P)}:x:function(j,_,P){if(A(j),_=g(_),A(P),d)try{return x(j,_,P)}catch{}if("get"in P||"set"in P)throw new m("Accessors not supported");return"value"in P&&(j[_]=P.value),j}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/to-property-key.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;u.f=h?b:function(N,S){if(N=g(N),S=m(S),y)try{return b(N,S)}catch{}if(x(N,S))return A(!d(f.f,N,S),N[S])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js"),d=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,A=o("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(x){try{return f(x)}catch{return A(g)}};l.exports.f=function(y){return g&&h(y)==="Window"?m(y):f(d(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-keys-internal.js"),d=o("./node_modules/core-js/internals/enum-bug-keys.js"),f=d.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return h(g,f)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(l,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/has-own-property.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/shared-key.js"),g=o("./node_modules/core-js/internals/correct-prototype-getter.js"),m=A("IE_PROTO"),x=Object,y=x.prototype;l.exports=g?x.getPrototypeOf:function(b){var w=f(b);if(h(w,m))return w[m];var N=w.constructor;return d(N)&&w instanceof N?N.prototype:w instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),A=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,m=h(function(){});l.exports=m||A?function(y){return!d(y)||A&&f(y)==="ArrayBuffer"?!1:g?g(y):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/to-indexed-object.js"),A=o("./node_modules/core-js/internals/array-includes.js").indexOf,g=o("./node_modules/core-js/internals/hidden-keys.js"),m=h([].push);l.exports=function(x,y){var b=f(x),w=0,N=[],S;for(S in b)!d(g,S)&&d(b,S)&&m(N,S);for(;y.length>w;)d(b,S=y[w++])&&(~A(N,S)||m(N,S));return N}}),"./node_modules/core-js/internals/object-keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-keys-internal.js"),d=o("./node_modules/core-js/internals/enum-bug-keys.js");l.exports=Object.keys||function(A){return h(A,d)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(l,u){var o={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,d=h&&!o.call({1:2},1);u.f=d?function(A){var g=h(this,A);return!!g&&g.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/a-possible-prototype.js");l.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,m={},x;try{x=h(Object.prototype,"__proto__","set"),x(m,[]),g=m instanceof Array}catch{}return function(b,w){return f(b),A(w),d(b)&&(g?x(b,w):b.__proto__=w),b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/classof.js");l.exports=h?{}.toString:function(){return"[object "+d(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=TypeError;l.exports=function(g,m){var x,y;if(m==="string"&&d(x=g.toString)&&!f(y=h(x,g))||d(x=g.valueOf)&&!f(y=h(x,g))||m!=="string"&&d(x=g.toString)&&!f(y=h(x,g)))return y;throw new A("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/object-get-own-property-names.js"),A=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=d([].concat);l.exports=h("Reflect","ownKeys")||function(y){var b=f.f(g(y)),w=A.f;return w?m(b,w(y)):b}}),"./node_modules/core-js/internals/parse-json-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=SyntaxError,A=parseInt,g=String.fromCharCode,m=h("".charAt),x=h("".slice),y=h(/./.exec),b={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},w=/^[\da-f]{4}$/i,N=/^[\u0000-\u001F]$/;l.exports=function(S,j){for(var _=!0,P="";j<S.length;){var Z=m(S,j);if(Z==="\\"){var ee=x(S,j,j+2);if(d(b,ee))P+=b[ee],j+=2;else if(ee==="\\u"){j+=2;var K=x(S,j,j+4);if(!y(w,K))throw new f("Bad Unicode escape at: "+j);P+=g(A(K,16)),j+=4}else throw new f('Unknown escape sequence: "'+ee+'"')}else if(Z==='"'){_=!1,j++;break}else{if(y(N,Z))throw new f("Bad control character in string literal at: "+j);P+=Z,j++}}if(_)throw new f("Unterminated string at: "+j);return{value:P,end:j}}}),"./node_modules/core-js/internals/path.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=h}),"./node_modules/core-js/internals/perform.js":(function(l){l.exports=function(u){try{return{error:!1,value:u()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/promise-native-constructor.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/inspect-source.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/environment.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/environment-v8-version.js"),w=d&&d.prototype,N=m("species"),S=!1,j=f(h.PromiseRejectionEvent),_=A("Promise",function(){var P=g(d),Z=P!==String(d);if(!Z&&b===66||y&&!(w.catch&&w.finally))return!0;if(!b||b<51||!/native code/.test(P)){var ee=new d(function(D){D(1)}),K=function(D){D(function(){},function(){})},ae=ee.constructor={};if(ae[N]=K,S=ee.then(function(){})instanceof K,!S)return!0}return!Z&&(x==="BROWSER"||x==="DENO")&&!j});l.exports={CONSTRUCTOR:_,REJECTION_EVENT:j,SUBCLASSING:S}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=h.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js");l.exports=function(A,g){if(h(A),d(g)&&g.constructor===A)return g;var m=f.f(A),x=m.resolve;return x(g),m.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/promise-native-constructor.js"),d=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;l.exports=f||!d(function(A){h.all(A).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(l){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(o){var h={item:o,next:null},d=this.tail;d?d.next=h:this.head=h,this.tail=h},get:function(){var o=this.head;if(o){var h=this.head=o.next;return h===null&&(this.tail=null),o.item}}},l.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/regexp-exec.js"),m=TypeError;l.exports=function(x,y){var b=x.exec;if(f(b)){var w=h(b,x,y);return w!==null&&d(w),w}if(A(x)==="RegExp")return h(g,x,y);throw new m("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/regexp-flags.js"),g=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),m=o("./node_modules/core-js/internals/shared.js"),x=o("./node_modules/core-js/internals/object-create.js"),y=o("./node_modules/core-js/internals/internal-state.js").get,b=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),w=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),N=m("native-string-replace",String.prototype.replace),S=RegExp.prototype.exec,j=S,_=d("".charAt),P=d("".indexOf),Z=d("".replace),ee=d("".slice),K=(function(){var $=/a/,L=/b*/g;return h(S,$,"a"),h(S,L,"a"),$.lastIndex!==0||L.lastIndex!==0})(),ae=g.BROKEN_CARET,D=/()??/.exec("")[1]!==void 0,q=K||D||ae||b||w;q&&(j=function(L){var ye=this,ne=y(ye),Be=f(L),Te=ne.raw,me,ue,ve,le,Ae,Ie,Pe;if(Te)return Te.lastIndex=ye.lastIndex,me=h(j,Te,Be),ye.lastIndex=Te.lastIndex,me;var Ce=ne.groups,ce=ae&&ye.sticky,X=h(A,ye),de=ye.source,se=0,We=Be;if(ce&&(X=Z(X,"y",""),P(X,"g")===-1&&(X+="g"),We=ee(Be,ye.lastIndex),ye.lastIndex>0&&(!ye.multiline||ye.multiline&&_(Be,ye.lastIndex-1)!==`
`)&&(de="(?: "+de+")",We=" "+We,se++),ue=new RegExp("^(?:"+de+")",X)),D&&(ue=new RegExp("^"+de+"$(?!\\s)",X)),K&&(ve=ye.lastIndex),le=h(S,ce?ue:ye,We),ce?le?(le.input=ee(le.input,se),le[0]=ee(le[0],se),le.index=ye.lastIndex,ye.lastIndex+=le[0].length):ye.lastIndex=0:K&&le&&(ye.lastIndex=ye.global?le.index+le[0].length:ve),D&&le&&le.length>1&&h(N,le[0],ue,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(le[Ae]=void 0)}),le&&Ce)for(le.groups=Ie=x(null),Ae=0;Ae<Ce.length;Ae++)Pe=Ce[Ae],Ie[Pe[0]]=le[Pe[1]];return le}),l.exports=j}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/fails.js"),f=h.RegExp,A=!d(function(){var g=!0;try{f(".","d")}catch{g=!1}var m={},x="",y=g?"dgimsy":"gimsy",b=function(j,_){Object.defineProperty(m,j,{get:function(){return x+=_,!0}})},w={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(w.hasIndices="d");for(var N in w)b(N,w[N]);var S=Object.getOwnPropertyDescriptor(f.prototype,"flags").get.call(m);return S!==y||x!==y});l.exports={correct:A}}),"./node_modules/core-js/internals/regexp-flags.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js");l.exports=function(){var d=h(this),f="";return d.hasIndices&&(f+="d"),d.global&&(f+="g"),d.ignoreCase&&(f+="i"),d.multiline&&(f+="m"),d.dotAll&&(f+="s"),d.unicode&&(f+="u"),d.unicodeSets&&(f+="v"),d.sticky&&(f+="y"),f}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),A=o("./node_modules/core-js/internals/regexp-flags-detection.js"),g=o("./node_modules/core-js/internals/regexp-flags.js"),m=RegExp.prototype;l.exports=A.correct?function(x){return x.flags}:function(x){return!A.correct&&f(m,x)&&!d(x,"flags")?h(g,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=d.RegExp,A=h(function(){var x=f("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),g=A||h(function(){return!f("a","y").sticky}),m=A||h(function(){var x=f("^r","gy");return x.lastIndex=2,x.exec("str")!==null});l.exports={BROKEN_CARET:m,MISSED_STICKY:g,UNSUPPORTED_Y:A}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=d.RegExp;l.exports=h(function(){var A=f(".","s");return!(A.dotAll&&A.test(`
`)&&A.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=d.RegExp;l.exports=h(function(){var A=f("(?<a>b)","g");return A.exec("b").groups.a!=="b"||"b".replace(A,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-null-or-undefined.js"),d=TypeError;l.exports=function(f){if(h(f))throw new d("Can't call method on "+f);return f}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/descriptors.js"),f=Object.getOwnPropertyDescriptor;l.exports=function(A){if(!d)return h[A];var g=f(h,A);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/environment.js"),g=o("./node_modules/core-js/internals/environment-user-agent.js"),m=o("./node_modules/core-js/internals/array-slice.js"),x=o("./node_modules/core-js/internals/validate-arguments-length.js"),y=h.Function,b=/MSIE .\./.test(g)||A==="BUN"&&(function(){var w=h.Bun.version.split(".");return w.length<3||w[0]==="0"&&(w[1]<3||w[1]==="3"&&w[2]==="0")})();l.exports=function(w,N){var S=N?2:1;return b?function(j,_){var P=x(arguments.length,1)>S,Z=f(j)?j:y(j),ee=P?m(arguments,S):[],K=P?function(){d(Z,this,ee)}:Z;return N?w(K,_):w(K)}:w}}),"./node_modules/core-js/internals/set-clone.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/set-helpers.js"),d=o("./node_modules/core-js/internals/set-iterate.js"),f=h.Set,A=h.add;l.exports=function(g){var m=new f;return d(g,function(x){A(m,x)}),m}}),"./node_modules/core-js/internals/set-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-clone.js"),A=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/iterate-simple.js"),y=d.has,b=d.remove;l.exports=function(N){var S=h(this),j=g(N),_=f(S);return A(S)<=j.size?m(S,function(P){j.includes(P)&&b(_,P)}):x(j.getIterator(),function(P){y(_,P)&&b(_,P)}),_}}),"./node_modules/core-js/internals/set-helpers.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=Set.prototype;l.exports={Set,add:h(d.add),has:h(d.has),remove:h(d.delete),proto:d}}),"./node_modules/core-js/internals/set-intersection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=d.Set,y=d.add,b=d.has;l.exports=function(N){var S=h(this),j=A(N),_=new x;return f(S)>j.size?m(j.getIterator(),function(P){b(S,P)&&y(_,P)}):g(S,function(P){j.includes(P)&&y(_,P)}),_}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").has,f=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(b){var w=h(this),N=A(b);if(f(w)<=N.size)return g(w,function(j){if(N.includes(j))return!1},!0)!==!1;var S=N.getIterator();return m(S,function(j){if(d(w,j))return x(S,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),A=o("./node_modules/core-js/internals/get-set-record.js");l.exports=function(m){var x=h(this),y=A(m);return d(x)>y.size?!1:f(x,function(b){if(!y.includes(b))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").has,f=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(y){var b=h(this),w=A(y);if(f(b)<w.size)return!1;var N=w.getIterator();return g(N,function(S){if(!d(b,S))return m(N,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/iterate-simple.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),A=f.Set,g=f.proto,m=h(g.forEach),x=h(g.keys),y=x(new A).next;l.exports=function(b,w,N){return N?d({iterator:x(b),next:y},w):m(b,w)}}),"./node_modules/core-js/internals/set-size.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),d=o("./node_modules/core-js/internals/set-helpers.js");l.exports=h(d.proto,"size","get")||function(f){return f.size}}),"./node_modules/core-js/internals/set-species.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/define-built-in-accessor.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),A=o("./node_modules/core-js/internals/descriptors.js"),g=f("species");l.exports=function(m){var x=h(m);A&&x&&!x[g]&&d(x,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-clone.js"),A=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=d.add,x=d.has,y=d.remove;l.exports=function(w){var N=h(this),S=A(w).getIterator(),j=f(N);return g(S,function(_){x(N,_)?y(j,_):m(j,_)}),j}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-define-property.js").f,d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),A=f("toStringTag");l.exports=function(g,m,x){g&&!x&&(g=g.prototype),g&&!d(g,A)&&h(g,A,{configurable:!0,value:m})}}),"./node_modules/core-js/internals/set-union.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").add,f=o("./node_modules/core-js/internals/set-clone.js"),A=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js");l.exports=function(x){var y=h(this),b=A(x).getIterator(),w=f(y);return g(b,function(N){d(w,N)}),w}}),"./node_modules/core-js/internals/shared-key.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/shared.js"),d=o("./node_modules/core-js/internals/uid.js"),f=h("keys");l.exports=function(A){return f[A]||(f[A]=d(A))}}),"./node_modules/core-js/internals/shared-store.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-pure.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/define-global-property.js"),A="__core-js_shared__",g=l.exports=d[A]||f(A,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:h?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/shared-store.js");l.exports=function(d,f){return h[d]||(h[d]=f||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/a-constructor.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),g=A("species");l.exports=function(m,x){var y=h(m).constructor,b;return y===void 0||f(b=h(y)[g])?x:d(b)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=function(d){return h(function(){var f=""[d]('"');return f!==f.toLowerCase()||f.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/require-object-coercible.js"),g=h("".charAt),m=h("".charCodeAt),x=h("".slice),y=function(b){return function(w,N){var S=f(A(w)),j=d(N),_=S.length,P,Z;return j<0||j>=_?b?"":void 0:(P=m(S,j),P<55296||P>56319||j+1===_||(Z=m(S,j+1))<56320||Z>57343?b?g(S,j):P:b?x(S,j,j+2):(P-55296<<10)+(Z-56320)+65536)}};l.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-name.js").PROPER,d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/whitespaces.js"),A="";l.exports=function(g){return d(function(){return!!f[g]()||A[g]()!==A||h&&f[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/whitespaces.js"),g=h("".replace),m=RegExp("^["+A+"]+"),x=RegExp("(^|[^"+A+"])["+A+"]+$"),y=function(b){return function(w){var N=f(d(w));return b&1&&(N=g(N,m,"")),b&2&&(N=g(N,x,"$1")),N}};l.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-v8-version.js"),d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=f.String;l.exports=!!Object.getOwnPropertySymbols&&!d(function(){var g=Symbol("symbol detection");return!A(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&h&&h<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),A=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(){var g=d("Symbol"),m=g&&g.prototype,x=m&&m.valueOf,y=f("toPrimitive");m&&!m[y]&&A(m,y,function(b){return h(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=h&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/array-slice.js"),b=o("./node_modules/core-js/internals/document-create-element.js"),w=o("./node_modules/core-js/internals/validate-arguments-length.js"),N=o("./node_modules/core-js/internals/environment-is-ios.js"),S=o("./node_modules/core-js/internals/environment-is-node.js"),j=h.setImmediate,_=h.clearImmediate,P=h.process,Z=h.Dispatch,ee=h.Function,K=h.MessageChannel,ae=h.String,D=0,q={},$="onreadystatechange",L,ye,ne,Be;m(function(){L=h.location});var Te=function(le){if(g(q,le)){var Ae=q[le];delete q[le],Ae()}},me=function(le){return function(){Te(le)}},ue=function(le){Te(le.data)},ve=function(le){h.postMessage(ae(le),L.protocol+"//"+L.host)};(!j||!_)&&(j=function(Ae){w(arguments.length,1);var Ie=A(Ae)?Ae:ee(Ae),Pe=y(arguments,1);return q[++D]=function(){d(Ie,void 0,Pe)},ye(D),D},_=function(Ae){delete q[Ae]},S?ye=function(le){P.nextTick(me(le))}:Z&&Z.now?ye=function(le){Z.now(me(le))}:K&&!N?(ne=new K,Be=ne.port2,ne.port1.onmessage=ue,ye=f(Be.postMessage,Be)):h.addEventListener&&A(h.postMessage)&&!h.importScripts&&L&&L.protocol!=="file:"&&!m(ve)?(ye=ve,h.addEventListener("message",ue,!1)):$ in b("script")?ye=function(le){x.appendChild(b("script"))[$]=function(){x.removeChild(this),Te(le)}}:ye=function(le){setTimeout(me(le),0)}),l.exports={set:j,clear:_}}),"./node_modules/core-js/internals/this-number-value.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),d=Math.max,f=Math.min;l.exports=function(A,g){var m=h(A);return m<0?d(m+g,0):f(m,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/indexed-object.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(f){return h(d(f))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/math-trunc.js");l.exports=function(d){var f=+d;return f!==f||f===0?0:h(f)}}),"./node_modules/core-js/internals/to-length.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),d=Math.min;l.exports=function(f){var A=h(f);return A>0?d(A,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/require-object-coercible.js"),d=Object;l.exports=function(f){return d(h(f))}}),"./node_modules/core-js/internals/to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/is-symbol.js"),A=o("./node_modules/core-js/internals/get-method.js"),g=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=m("toPrimitive");l.exports=function(b,w){if(!d(b)||f(b))return b;var N=A(b,y),S;if(N){if(w===void 0&&(w="default"),S=h(N,b,w),!d(S)||f(S))return S;throw new x("Can't convert object to primitive value")}return w===void 0&&(w="number"),g(b,w)}}),"./node_modules/core-js/internals/to-property-key.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-primitive.js"),d=o("./node_modules/core-js/internals/is-symbol.js");l.exports=function(f){var A=h(f,"string");return d(A)?A:A+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-iterable.js"),A=o("./node_modules/core-js/internals/is-object.js"),g=h("Set"),m=function(x){return A(x)&&typeof x.size=="number"&&d(x.has)&&d(x.keys)};l.exports=function(x){return m(x)?x:f(x)?new g(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("toStringTag"),f={};f[d]="z",l.exports=String(f)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=String;l.exports=function(f){if(h(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(f)}}),"./node_modules/core-js/internals/try-to-string.js":(function(l){var u=String;l.exports=function(o){try{return u(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=0,f=Math.random(),A=h(1.1.toString);l.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+A(++d+f,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/fails.js");l.exports=h&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(l){var u=TypeError;l.exports=function(o,h){if(o<h)throw new u("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),f=h.WeakMap;l.exports=d(f)&&/native code/.test(String(f))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/path.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),A=o("./node_modules/core-js/internals/object-define-property.js").f;l.exports=function(g){var m=h.Symbol||(h.Symbol={});d(m,g)||A(m,g,{value:f.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js");u.f=h}),"./node_modules/core-js/internals/well-known-symbol.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/shared.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/uid.js"),g=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=h.Symbol,y=d("wks"),b=m?x.for||x:x&&x.withoutSetter||A;l.exports=function(w){return f(y,w)||(y[w]=g&&f(x,w)?x[w]:b("Symbol."+w)),y[w]}}),"./node_modules/core-js/internals/whitespaces.js":(function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-array.js"),A=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/array-species-create.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/environment-v8-version.js"),j=N("isConcatSpreadable"),_=S>=51||!d(function(){var ee=[];return ee[j]=!1,ee.concat()[0]!==ee}),P=function(ee){if(!A(ee))return!1;var K=ee[j];return K!==void 0?!!K:f(ee)},Z=!_||!w("concat");h({target:"Array",proto:!0,arity:1,forced:Z},{concat:function(K){var ae=g(this),D=b(ae,0),q=0,$,L,ye,ne,Be;for($=-1,ye=arguments.length;$<ye;$++)if(Be=$===-1?ae:arguments[$],P(Be))for(ne=m(Be),x(q+ne),L=0;L<ne;L++,q++)L in Be&&y(D,q,Be[L]);else x(q+1),y(D,q++,Be);return D.length=q,D}})}),"./node_modules/core-js/modules/es.array.from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-from.js"),f=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=!f(function(g){Array.from(g)});h({target:"Array",stat:!0,forced:A},{from:d})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=o("./node_modules/core-js/internals/array-includes.js").indexOf,A=o("./node_modules/core-js/internals/array-method-is-strict.js"),g=d([].indexOf),m=!!g&&1/g([1],1,-0)<0,x=m||!A("indexOf");h({target:"Array",proto:!0,forced:x},{indexOf:function(b){var w=arguments.length>1?arguments[1]:void 0;return m?g(this,b,w)||0:f(this,b,w)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-indexed-object.js"),d=o("./node_modules/core-js/internals/add-to-unscopables.js"),f=o("./node_modules/core-js/internals/iterators.js"),A=o("./node_modules/core-js/internals/internal-state.js"),g=o("./node_modules/core-js/internals/object-define-property.js").f,m=o("./node_modules/core-js/internals/iterator-define.js"),x=o("./node_modules/core-js/internals/create-iter-result-object.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/descriptors.js"),w="Array Iterator",N=A.set,S=A.getterFor(w);l.exports=m(Array,"Array",function(_,P){N(this,{type:w,target:h(_),index:0,kind:P})},function(){var _=S(this),P=_.target,Z=_.index++;if(!P||Z>=P.length)return _.target=null,x(void 0,!0);switch(_.kind){case"keys":return x(Z,!1);case"values":return x(P[Z],!1)}return x([Z,P[Z]],!1)},"values");var j=f.Arguments=f.Array;if(d("keys"),d("values"),d("entries"),!y&&b&&j.name!=="values")try{g(j,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/indexed-object.js"),A=o("./node_modules/core-js/internals/to-indexed-object.js"),g=o("./node_modules/core-js/internals/array-method-is-strict.js"),m=d([].join),x=f!==Object,y=x||!g("join",",");h({target:"Array",proto:!0,forced:y},{join:function(w){return m(A(this),w===void 0?",":w)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-iteration.js").map,f=o("./node_modules/core-js/internals/array-method-has-species-support.js"),A=f("map");h({target:"Array",proto:!0,forced:!A},{map:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-reduce.js").left,f=o("./node_modules/core-js/internals/array-method-is-strict.js"),A=o("./node_modules/core-js/internals/environment-v8-version.js"),g=o("./node_modules/core-js/internals/environment-is-node.js"),m=!g&&A>79&&A<83,x=m||!f("reduce");h({target:"Array",proto:!0,forced:x},{reduce:function(b){var w=arguments.length;return d(this,b,w,w>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/is-array.js"),A=d([].reverse),g=[1,2];h({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),A(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-constructor.js"),A=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-absolute-index.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),N=o("./node_modules/core-js/internals/array-slice.js"),S=w("slice"),j=b("species"),_=Array,P=Math.max;h({target:"Array",proto:!0,forced:!S},{slice:function(ee,K){var ae=x(this),D=m(ae),q=g(ee,D),$=g(K===void 0?D:K,D),L,ye,ne;if(d(ae)&&(L=ae.constructor,f(L)&&(L===_||d(L.prototype))?L=void 0:A(L)&&(L=L[j],L===null&&(L=void 0)),L===_||L===void 0))return N(ae,q,$);for(ye=new(L===void 0?_:L)(P($-q,0)),ne=0;q<$;q++,ne++)q in ae&&y(ye,ne,ae[q]);return ye.length=ne,ye}})}),"./node_modules/core-js/modules/es.function.name.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-name.js").EXISTS,f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,m=f(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=f(x.exec),b="name";h&&!d&&A(g,b,{configurable:!0,get:function(){try{return y(x,m(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/an-instance.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-get-prototype-of.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,j=o("./node_modules/core-js/internals/descriptors.js"),_=o("./node_modules/core-js/internals/is-pure.js"),P="constructor",Z="Iterator",ee=N("toStringTag"),K=TypeError,ae=d[Z],D=_||!g(ae)||ae.prototype!==S||!b(function(){ae({})}),q=function(){if(f(this,S),m(this)===S)throw new K("Abstract class Iterator not directly constructable")},$=function(L,ye){j?x(S,L,{configurable:!0,get:function(){return ye},set:function(ne){if(A(this),this===S)throw new K("You can't redefine this property");w(this,L)?this[L]=ne:y(this,L,ne)}}):S[L]=ye};w(S,ee)||$(ee,Z),(D||!w(S,P)||S[P]===Object)&&$(P,q),q.prototype=S,h({global:!0,constructor:!0,forced:D},{Iterator:q})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/iterate.js"),A=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-iterator-direct.js"),x=o("./node_modules/core-js/internals/iterator-close.js"),y=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),b=y("forEach",TypeError);h({target:"Iterator",proto:!0,real:!0,forced:b},{forEach:function(N){g(this);try{A(N)}catch(_){x(this,"throw",_)}if(b)return d(b,this,N);var S=m(this),j=0;f(S,function(_){N(_,j++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m=o("./node_modules/core-js/internals/iterator-create-proxy.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=o("./node_modules/core-js/internals/iterator-close.js"),b=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),w=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),N=o("./node_modules/core-js/internals/is-pure.js"),S=!N&&!b("map",function(){}),j=!N&&!S&&w("map",TypeError),_=N||S||j,P=m(function(){var Z=this.iterator,ee=A(d(this.next,Z)),K=this.done=!!ee.done;if(!K)return x(Z,this.mapper,[ee.value,this.counter++],!0)});h({target:"Iterator",proto:!0,real:!0,forced:_},{map:function(ee){A(this);try{f(ee)}catch(K){y(this,"throw",K)}return j?d(j,this,ee):new P(g(this),{mapper:ee})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/is-array.js"),y=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/is-raw-json.js"),w=o("./node_modules/core-js/internals/is-symbol.js"),N=o("./node_modules/core-js/internals/classof-raw.js"),S=o("./node_modules/core-js/internals/to-string.js"),j=o("./node_modules/core-js/internals/array-slice.js"),_=o("./node_modules/core-js/internals/parse-json-string.js"),P=o("./node_modules/core-js/internals/uid.js"),Z=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),ee=o("./node_modules/core-js/internals/native-raw-json.js"),K=String,ae=d("JSON","stringify"),D=g(/./.exec),q=g("".charAt),$=g("".charCodeAt),L=g("".replace),ye=g("".slice),ne=g([].push),Be=g(1.1.toString),Te=/[\uD800-\uDFFF]/g,me=/^[\uD800-\uDBFF]$/,ue=/^[\uDC00-\uDFFF]$/,ve=P(),le=ve.length,Ae=!Z||m(function(){var X=d("Symbol")("stringify detection");return ae([X])!=="[null]"||ae({a:X})!=="{}"||ae(Object(X))!=="{}"}),Ie=m(function(){return ae("\uDF06\uD834")!=='"\\udf06\\ud834"'||ae("\uDEAD")!=='"\\udead"'}),Pe=Ae?function(X,de){var se=j(arguments),We=ce(de);if(!(!y(We)&&(X===void 0||w(X))))return se[1]=function(Re,Ee){if(y(We)&&(Ee=A(We,this,K(Re),Ee)),!w(Ee))return Ee},f(ae,null,se)}:ae,Ce=function(X,de,se){var We=q(se,de-1),Re=q(se,de+1);return D(me,X)&&!D(ue,Re)||D(ue,X)&&!D(me,We)?"\\u"+Be($(X,0),16):X},ce=function(X){if(y(X))return X;if(x(X)){for(var de=X.length,se=[],We=0;We<de;We++){var Re=X[We];typeof Re=="string"?ne(se,Re):(typeof Re=="number"||N(Re)==="Number"||N(Re)==="String")&&ne(se,S(Re))}var Ee=se.length,ie=!0;return function(Le,Ze){if(ie)return ie=!1,Ze;if(x(this))return Ze;for(var jt=0;jt<Ee;jt++)if(se[jt]===Le)return Ze}}};ae&&h({target:"JSON",stat:!0,arity:3,forced:Ae||Ie||!ee},{stringify:function(de,se,We){var Re=ce(se),Ee=[],ie=Pe(de,function(_r,Or){var He=y(Re)?A(Re,this,K(_r),Or):Or;return!ee&&b(He)?ve+(ne(Ee,He.rawJSON)-1):He},We);if(typeof ie!="string"||(Ie&&(ie=L(ie,Te,Ce)),ee))return ie;for(var Le="",Ze=ie.length,jt=0;jt<Ze;jt++){var Lt=q(ie,jt);if(Lt==='"'){var Ct=_(ie,++jt).end-1,Xt=ye(ie,jt,Ct);Le+=ye(Xt,0,le)===ve?Ee[ye(Xt,le)]:'"'+Xt+'"',jt=Ct}else Le+=Lt}return Le}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/descriptors.js"),A=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),y=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/inherit-if-required.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),N=o("./node_modules/core-js/internals/is-symbol.js"),S=o("./node_modules/core-js/internals/to-primitive.js"),j=o("./node_modules/core-js/internals/fails.js"),_=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,P=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Z=o("./node_modules/core-js/internals/object-define-property.js").f,ee=o("./node_modules/core-js/internals/this-number-value.js"),K=o("./node_modules/core-js/internals/string-trim.js").trim,ae="Number",D=A[ae],q=g[ae],$=D.prototype,L=A.TypeError,ye=m("".slice),ne=m("".charCodeAt),Be=function(Ae){var Ie=S(Ae,"number");return typeof Ie=="bigint"?Ie:Te(Ie)},Te=function(Ae){var Ie=S(Ae,"number"),Pe,Ce,ce,X,de,se,We,Re;if(N(Ie))throw new L("Cannot convert a Symbol value to a number");if(typeof Ie=="string"&&Ie.length>2){if(Ie=K(Ie),Pe=ne(Ie,0),Pe===43||Pe===45){if(Ce=ne(Ie,2),Ce===88||Ce===120)return NaN}else if(Pe===48){switch(ne(Ie,1)){case 66:case 98:ce=2,X=49;break;case 79:case 111:ce=8,X=55;break;default:return+Ie}for(de=ye(Ie,2),se=de.length,We=0;We<se;We++)if(Re=ne(de,We),Re<48||Re>X)return NaN;return parseInt(de,ce)}}return+Ie},me=x(ae,!D(" 0o1")||!D("0b1")||D("+0x1")),ue=function(Ae){return w($,Ae)&&j(function(){ee(Ae)})},ve=function(Ie){var Pe=arguments.length<1?0:D(Be(Ie));return ue(this)?b(Object(Pe),this,ve):Pe};ve.prototype=$,me&&!d&&($.constructor=ve),h({global:!0,constructor:!0,wrap:!0,forced:me},{Number:ve});var le=function(Ae,Ie){for(var Pe=f?_(Ie):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ce=0,ce;Pe.length>Ce;Ce++)y(Ie,ce=Pe[Ce])&&!y(Ae,ce)&&Z(Ae,ce,P(Ie,ce))};d&&q&&le(g[ae],q),(me||d)&&le(g[ae],D)}),"./node_modules/core-js/modules/es.object.assign.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/object-assign.js");h({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=!d||f(function(){A.f(1)});h({target:"Object",stat:!0,forced:m},{getOwnPropertySymbols:function(y){var b=A.f;return b?b(g(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/object-keys.js"),A=o("./node_modules/core-js/internals/fails.js"),g=A(function(){f(1)});h({target:"Object",stat:!0,forced:g},{keys:function(x){return f(d(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/define-built-in.js"),f=o("./node_modules/core-js/internals/object-to-string.js");h||d(Object.prototype,"toString",f,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");h({target:"Promise",stat:!0,forced:x},{all:function(b){var w=this,N=A.f(w),S=N.resolve,j=N.reject,_=g(function(){var P=f(w.resolve),Z=[],ee=0,K=1;m(b,function(ae){var D=ee++,q=!1;K++,d(P,w,ae).then(function($){q||(q=!0,Z[D]=$,--K||S(Z))},j)}),--K||S(Z)});return _.error&&j(_.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,A=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=A&&A.prototype;if(h({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(w){return this.then(void 0,w)}}),!d&&m(A)){var b=g("Promise").prototype.catch;y.catch!==b&&x(y,"catch",b,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/environment-is-node.js"),A=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/set-species.js"),N=o("./node_modules/core-js/internals/a-callable.js"),S=o("./node_modules/core-js/internals/is-callable.js"),j=o("./node_modules/core-js/internals/is-object.js"),_=o("./node_modules/core-js/internals/an-instance.js"),P=o("./node_modules/core-js/internals/species-constructor.js"),Z=o("./node_modules/core-js/internals/task.js").set,ee=o("./node_modules/core-js/internals/microtask.js"),K=o("./node_modules/core-js/internals/host-report-errors.js"),ae=o("./node_modules/core-js/internals/perform.js"),D=o("./node_modules/core-js/internals/queue.js"),q=o("./node_modules/core-js/internals/internal-state.js"),$=o("./node_modules/core-js/internals/promise-native-constructor.js"),L=o("./node_modules/core-js/internals/promise-constructor-detection.js"),ye=o("./node_modules/core-js/internals/new-promise-capability.js"),ne="Promise",Be=L.CONSTRUCTOR,Te=L.REJECTION_EVENT,me=L.SUBCLASSING,ue=q.getterFor(ne),ve=q.set,le=$&&$.prototype,Ae=$,Ie=le,Pe=A.TypeError,Ce=A.document,ce=A.process,X=ye.f,de=X,se=!!(Ce&&Ce.createEvent&&A.dispatchEvent),We="unhandledrejection",Re="rejectionhandled",Ee=0,ie=1,Le=2,Ze=1,jt=2,Lt,Ct,Xt,_r,Or=function(dr){var Cr;return j(dr)&&S(Cr=dr.then)?Cr:!1},He=function(dr,Cr){var Vr=Cr.value,zr=Cr.state===ie,vn=zr?dr.ok:dr.fail,Wr=dr.resolve,$n=dr.reject,Lr=dr.domain,Dr,jn,cn;try{vn?(zr||(Cr.rejection===jt&&on(Cr),Cr.rejection=Ze),vn===!0?Dr=Vr:(Lr&&Lr.enter(),Dr=vn(Vr),Lr&&(Lr.exit(),cn=!0)),Dr===dr.promise?$n(new Pe("Promise-chain cycle")):(jn=Or(Dr))?m(jn,Dr,Wr,$n):Wr(Dr)):$n(Vr)}catch(bt){Lr&&!cn&&Lr.exit(),$n(bt)}},Zt=function(dr,Cr){dr.notified||(dr.notified=!0,ee(function(){for(var Vr=dr.reactions,zr;zr=Vr.get();)He(zr,dr);dr.notified=!1,Cr&&!dr.rejection&&$r(dr)}))},Bt=function(dr,Cr,Vr){var zr,vn;se?(zr=Ce.createEvent("Event"),zr.promise=Cr,zr.reason=Vr,zr.initEvent(dr,!1,!0),A.dispatchEvent(zr)):zr={promise:Cr,reason:Vr},!Te&&(vn=A["on"+dr])?vn(zr):dr===We&&K("Unhandled promise rejection",Vr)},$r=function(dr){m(Z,A,function(){var Cr=dr.facade,Vr=dr.value,zr=pr(dr),vn;if(zr&&(vn=ae(function(){f?ce.emit("unhandledRejection",Vr,Cr):Bt(We,Cr,Vr)}),dr.rejection=f||pr(dr)?jt:Ze,vn.error))throw vn.value})},pr=function(dr){return dr.rejection!==Ze&&!dr.parent},on=function(dr){m(Z,A,function(){var Cr=dr.facade;f?ce.emit("rejectionHandled",Cr):Bt(Re,Cr,dr.value)})},Yr=function(dr,Cr,Vr){return function(zr){dr(Cr,zr,Vr)}},qr=function(dr,Cr,Vr){dr.done||(dr.done=!0,Vr&&(dr=Vr),dr.value=Cr,dr.state=Le,Zt(dr,!0))},Ir=function(dr,Cr,Vr){if(!dr.done){dr.done=!0,Vr&&(dr=Vr);try{if(dr.facade===Cr)throw new Pe("Promise can't be resolved itself");var zr=Or(Cr);zr?ee(function(){var vn={done:!1};try{m(zr,Cr,Yr(Ir,vn,dr),Yr(qr,vn,dr))}catch(Wr){qr(vn,Wr,dr)}}):(dr.value=Cr,dr.state=ie,Zt(dr,!1))}catch(vn){qr({done:!1},vn,dr)}}};if(Be&&(Ae=function(Cr){_(this,Ie),N(Cr),m(Lt,this);var Vr=ue(this);try{Cr(Yr(Ir,Vr),Yr(qr,Vr))}catch(zr){qr(Vr,zr)}},Ie=Ae.prototype,Lt=function(Cr){ve(this,{type:ne,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:Ee,value:null})},Lt.prototype=x(Ie,"then",function(Cr,Vr){var zr=ue(this),vn=X(P(this,Ae));return zr.parent=!0,vn.ok=S(Cr)?Cr:!0,vn.fail=S(Vr)&&Vr,vn.domain=f?ce.domain:void 0,zr.state===Ee?zr.reactions.add(vn):ee(function(){He(vn,zr)}),vn.promise}),Ct=function(){var dr=new Lt,Cr=ue(dr);this.promise=dr,this.resolve=Yr(Ir,Cr),this.reject=Yr(qr,Cr)},ye.f=X=function(dr){return dr===Ae||dr===Xt?new Ct(dr):de(dr)},!d&&S($)&&le!==Object.prototype)){_r=le.then,me||x(le,"then",function(Cr,Vr){var zr=this;return new Ae(function(vn,Wr){m(_r,zr,vn,Wr)}).then(Cr,Vr)},{unsafe:!0});try{delete le.constructor}catch{}y&&y(le,Ie)}h({global:!0,constructor:!0,wrap:!0,forced:Be},{Promise:Ae}),Xt=g.Promise,b(Ae,ne,!1,!0),w(ne)}),"./node_modules/core-js/modules/es.promise.js":(function(l,u,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");h({target:"Promise",stat:!0,forced:x},{race:function(b){var w=this,N=A.f(w),S=N.reject,j=g(function(){var _=f(w.resolve);m(b,function(P){d(_,w,P).then(N.resolve,S)})});return j.error&&S(j.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/new-promise-capability.js"),f=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;h({target:"Promise",stat:!0,forced:f},{reject:function(g){var m=d.f(this),x=m.reject;return x(g),m.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=o("./node_modules/core-js/internals/promise-resolve.js"),x=d("Promise"),y=f&&!g;h({target:"Promise",stat:!0,forced:f||g},{resolve:function(w){return m(y&&this===x?A:this,w)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/regexp-exec.js");h({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=(function(){var y=!1,b=/[ac]/;return b.exec=function(){return y=!0,/./.exec.apply(this,arguments)},b.test("abc")===!0&&y})(),x=/./.test;h({target:"RegExp",proto:!0,forced:!m},{test:function(y){var b=A(this),w=g(y),N=b.exec;if(!f(N))return d(x,b,w);var S=d(N,b,w);return S===null?!1:(A(S),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-name.js").PROPER,d=o("./node_modules/core-js/internals/define-built-in.js"),f=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,b=y[x],w=g(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),N=h&&b.name!==x;(w||N)&&d(y,x,function(){var j=f(this),_=A(j.source),P=A(m(j));return"/"+_+"/"+P},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/collection.js"),d=o("./node_modules/core-js/internals/collection-strong.js");h("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},d)}),"./node_modules/core-js/modules/es.set.js":(function(l,u,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=d("".slice),N=Math.min,S=y("endsWith"),j=!b&&!S&&!!(function(){var _=f(String.prototype,"endsWith");return _&&!_.writable})();h({target:"String",proto:!0,forced:!j&&!S},{endsWith:function(P){var Z=g(x(this));m(P);var ee=arguments.length>1?arguments[1]:void 0,K=Z.length,ae=ee===void 0?K:N(A(ee),K),D=g(P);return w(Z,ae-D.length,ae)===D}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/not-a-regexp.js"),A=o("./node_modules/core-js/internals/require-object-coercible.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=d("".indexOf);h({target:"String",proto:!0,forced:!m("includes")},{includes:function(b){return!!~x(g(A(this)),g(f(b)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/string-multibyte.js").charAt,d=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/internal-state.js"),A=o("./node_modules/core-js/internals/iterator-define.js"),g=o("./node_modules/core-js/internals/create-iter-result-object.js"),m="String Iterator",x=f.set,y=f.getterFor(m);A(String,"String",function(b){x(this,{type:m,string:d(b),index:0})},function(){var w=y(this),N=w.string,S=w.index,j;return S>=N.length?g(void 0,!0):(j=h(N,S),w.index+=j.length,g(j,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/create-html.js"),f=o("./node_modules/core-js/internals/string-html-forced.js");h({target:"String",proto:!0,forced:f("link")},{link:function(g){return d(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/to-length.js"),x=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/get-method.js"),w=o("./node_modules/core-js/internals/advance-string-index.js"),N=o("./node_modules/core-js/internals/regexp-get-flags.js"),S=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),j=d("".indexOf);f("match",function(_,P,Z){return[function(K){var ae=y(this),D=g(K)?b(K,_):void 0;return D?h(D,K,ae):new RegExp(K)[_](x(ae))},function(ee){var K=A(this),ae=x(ee),D=Z(P,K,ae);if(D.done)return D.value;var q=x(N(K));if(j(q,"g")===-1)return S(K,ae);var $=j(q,"u")!==-1;K.lastIndex=0;for(var L=[],ye=0,ne;(ne=S(K,ae))!==null;){var Be=x(ne[0]);L[ye]=Be,Be===""&&(K.lastIndex=w(ae,m(K.lastIndex),$)),ye++}return ye===0?null:L}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-apply.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),w=o("./node_modules/core-js/internals/to-length.js"),N=o("./node_modules/core-js/internals/to-string.js"),S=o("./node_modules/core-js/internals/require-object-coercible.js"),j=o("./node_modules/core-js/internals/advance-string-index.js"),_=o("./node_modules/core-js/internals/get-method.js"),P=o("./node_modules/core-js/internals/get-substitution.js"),Z=o("./node_modules/core-js/internals/regexp-get-flags.js"),ee=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),K=o("./node_modules/core-js/internals/well-known-symbol.js"),ae=K("replace"),D=Math.max,q=Math.min,$=f([].concat),L=f([].push),ye=f("".indexOf),ne=f("".slice),Be=function(ve){return ve===void 0?ve:String(ve)},Te=(function(){return"a".replace(/./,"$0")==="$0"})(),me=(function(){return/./[ae]?/./[ae]("a","$0")==="":!1})(),ue=!g(function(){var ve=/./;return ve.exec=function(){var le=[];return le.groups={a:"7"},le},"".replace(ve,"$<a>")!=="7"});A("replace",function(ve,le,Ae){var Ie=me?"$":"$0";return[function(Ce,ce){var X=S(this),de=y(Ce)?_(Ce,ae):void 0;return de?d(de,Ce,X,ce):d(le,N(X),Ce,ce)},function(Pe,Ce){var ce=m(this),X=N(Pe);if(typeof Ce=="string"&&ye(Ce,Ie)===-1&&ye(Ce,"$<")===-1){var de=Ae(le,ce,X,Ce);if(de.done)return de.value}var se=x(Ce);se||(Ce=N(Ce));var We=N(Z(ce)),Re=ye(We,"g")!==-1,Ee;Re&&(Ee=ye(We,"u")!==-1,ce.lastIndex=0);for(var ie=[],Le;Le=ee(ce,X),!(Le===null||(L(ie,Le),!Re));){var Ze=N(Le[0]);Ze===""&&(ce.lastIndex=j(X,w(ce.lastIndex),Ee))}for(var jt="",Lt=0,Ct=0;Ct<ie.length;Ct++){Le=ie[Ct];for(var Xt=N(Le[0]),_r=D(q(b(Le.index),X.length),0),Or=[],He,Zt=1;Zt<Le.length;Zt++)L(Or,Be(Le[Zt]));var Bt=Le.groups;if(se){var $r=$([Xt],Or,_r,X);Bt!==void 0&&L($r,Bt),He=N(h(Ce,void 0,$r))}else He=P(Xt,X,_r,Or,Bt,Ce);_r>=Lt&&(jt+=ne(X,Lt,_r)+He,Lt=_r+Xt.length)}return jt+ne(X,Lt)}]},!ue||!Te||me)}),"./node_modules/core-js/modules/es.string.split.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),A=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/species-constructor.js"),y=o("./node_modules/core-js/internals/advance-string-index.js"),b=o("./node_modules/core-js/internals/to-length.js"),w=o("./node_modules/core-js/internals/to-string.js"),N=o("./node_modules/core-js/internals/get-method.js"),S=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),j=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),_=o("./node_modules/core-js/internals/fails.js"),P=j.UNSUPPORTED_Y,Z=4294967295,ee=Math.min,K=d([].push),ae=d("".slice),D=!_(function(){var $=/(?:)/,L=$.exec;$.exec=function(){return L.apply(this,arguments)};var ye="ab".split($);return ye.length!==2||ye[0]!=="a"||ye[1]!=="b"}),q="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",function($,L,ye){var ne="0".split(void 0,0).length?function(Be,Te){return Be===void 0&&Te===0?[]:h(L,this,Be,Te)}:L;return[function(Te,me){var ue=m(this),ve=g(Te)?N(Te,$):void 0;return ve?h(ve,Te,ue,me):h(ne,w(ue),Te,me)},function(Be,Te){var me=A(this),ue=w(Be);if(!q){var ve=ye(ne,me,ue,Te,ne!==L);if(ve.done)return ve.value}var le=x(me,RegExp),Ae=me.unicode,Ie=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(P?"g":"y"),Pe=new le(P?"^(?:"+me.source+")":me,Ie),Ce=Te===void 0?Z:Te>>>0;if(Ce===0)return[];if(ue.length===0)return S(Pe,ue)===null?[ue]:[];for(var ce=0,X=0,de=[];X<ue.length;){Pe.lastIndex=P?0:X;var se=S(Pe,P?ae(ue,X):ue),We;if(se===null||(We=ee(b(Pe.lastIndex+(P?X:0)),ue.length))===ce)X=y(ue,X,Ae);else{if(K(de,ae(ue,ce,X)),de.length===Ce)return de;for(var Re=1;Re<=se.length-1;Re++)if(K(de,se[Re]),de.length===Ce)return de;X=ce=We}}return K(de,ae(ue,ce)),de}]},q||!D,P)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=d("".slice),N=Math.min,S=y("startsWith"),j=!b&&!S&&!!(function(){var _=f(String.prototype,"startsWith");return _&&!_.writable})();h({target:"String",proto:!0,forced:!j&&!S},{startsWith:function(P){var Z=g(x(this));m(P);var ee=A(N(arguments.length>1?arguments[1]:void 0,Z.length)),K=g(P);return w(Z,ee,ee+K.length)===K}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/string-trim.js").trim,f=o("./node_modules/core-js/internals/string-trim-forced.js");h({target:"String",proto:!0,forced:f("trim")},{trim:function(){return d(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),N=o("./node_modules/core-js/internals/an-object.js"),S=o("./node_modules/core-js/internals/to-indexed-object.js"),j=o("./node_modules/core-js/internals/to-property-key.js"),_=o("./node_modules/core-js/internals/to-string.js"),P=o("./node_modules/core-js/internals/create-property-descriptor.js"),Z=o("./node_modules/core-js/internals/object-create.js"),ee=o("./node_modules/core-js/internals/object-keys.js"),K=o("./node_modules/core-js/internals/object-get-own-property-names.js"),ae=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),D=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),q=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),$=o("./node_modules/core-js/internals/object-define-property.js"),L=o("./node_modules/core-js/internals/object-define-properties.js"),ye=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),ne=o("./node_modules/core-js/internals/define-built-in.js"),Be=o("./node_modules/core-js/internals/define-built-in-accessor.js"),Te=o("./node_modules/core-js/internals/shared.js"),me=o("./node_modules/core-js/internals/shared-key.js"),ue=o("./node_modules/core-js/internals/hidden-keys.js"),ve=o("./node_modules/core-js/internals/uid.js"),le=o("./node_modules/core-js/internals/well-known-symbol.js"),Ae=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Ie=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Pe=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Ce=o("./node_modules/core-js/internals/set-to-string-tag.js"),ce=o("./node_modules/core-js/internals/internal-state.js"),X=o("./node_modules/core-js/internals/array-iteration.js").forEach,de=me("hidden"),se="Symbol",We="prototype",Re=ce.set,Ee=ce.getterFor(se),ie=Object[We],Le=d.Symbol,Ze=Le&&Le[We],jt=d.RangeError,Lt=d.TypeError,Ct=d.QObject,Xt=q.f,_r=$.f,Or=ae.f,He=ye.f,Zt=A([].push),Bt=Te("symbols"),$r=Te("op-symbols"),pr=Te("wks"),on=!Ct||!Ct[We]||!Ct[We].findChild,Yr=function(Lr,Dr,jn){var cn=Xt(ie,Dr);cn&&delete ie[Dr],_r(Lr,Dr,jn),cn&&Lr!==ie&&_r(ie,Dr,cn)},qr=m&&y(function(){return Z(_r({},"a",{get:function(){return _r(this,"a",{value:7}).a}})).a!==7})?Yr:_r,Ir=function(Lr,Dr){var jn=Bt[Lr]=Z(Ze);return Re(jn,{type:se,tag:Lr,description:Dr}),m||(jn.description=Dr),jn},dr=function(Dr,jn,cn){Dr===ie&&dr($r,jn,cn),N(Dr);var bt=j(jn);return N(cn),b(Bt,bt)?(cn.enumerable?(b(Dr,de)&&Dr[de][bt]&&(Dr[de][bt]=!1),cn=Z(cn,{enumerable:P(0,!1)})):(b(Dr,de)||_r(Dr,de,P(1,Z(null))),Dr[de][bt]=!0),qr(Dr,bt,cn)):_r(Dr,bt,cn)},Cr=function(Dr,jn){N(Dr);var cn=S(jn),bt=ee(cn).concat($n(cn));return X(bt,function(Sr){(!m||f(zr,cn,Sr))&&dr(Dr,Sr,cn[Sr])}),Dr},Vr=function(Dr,jn){return jn===void 0?Z(Dr):Cr(Z(Dr),jn)},zr=function(Dr){var jn=j(Dr),cn=f(He,this,jn);return this===ie&&b(Bt,jn)&&!b($r,jn)?!1:cn||!b(this,jn)||!b(Bt,jn)||b(this,de)&&this[de][jn]?cn:!0},vn=function(Dr,jn){var cn=S(Dr),bt=j(jn);if(!(cn===ie&&b(Bt,bt)&&!b($r,bt))){var Sr=Xt(cn,bt);return Sr&&b(Bt,bt)&&!(b(cn,de)&&cn[de][bt])&&(Sr.enumerable=!0),Sr}},Wr=function(Dr){var jn=Or(S(Dr)),cn=[];return X(jn,function(bt){!b(Bt,bt)&&!b(ue,bt)&&Zt(cn,bt)}),cn},$n=function(Lr){var Dr=Lr===ie,jn=Or(Dr?$r:S(Lr)),cn=[];return X(jn,function(bt){b(Bt,bt)&&(!Dr||b(ie,bt))&&Zt(cn,Bt[bt])}),cn};x||(Le=function(){if(w(Ze,this))throw new Lt("Symbol is not a constructor");var Dr=!arguments.length||arguments[0]===void 0?void 0:_(arguments[0]),jn=ve(Dr),cn=function(bt){var Sr=this===void 0?d:this;Sr===ie&&f(cn,$r,bt),b(Sr,de)&&b(Sr[de],jn)&&(Sr[de][jn]=!1);var dn=P(1,bt);try{qr(Sr,jn,dn)}catch(Dn){if(!(Dn instanceof jt))throw Dn;Yr(Sr,jn,dn)}};return m&&on&&qr(ie,jn,{configurable:!0,set:cn}),Ir(jn,Dr)},Ze=Le[We],ne(Ze,"toString",function(){return Ee(this).tag}),ne(Le,"withoutSetter",function(Lr){return Ir(ve(Lr),Lr)}),ye.f=zr,$.f=dr,L.f=Cr,q.f=vn,K.f=ae.f=Wr,D.f=$n,Ae.f=function(Lr){return Ir(le(Lr),Lr)},m&&(Be(Ze,"description",{configurable:!0,get:function(){return Ee(this).description}}),g||ne(ie,"propertyIsEnumerable",zr,{unsafe:!0}))),h({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Le}),X(ee(pr),function(Lr){Ie(Lr)}),h({target:se,stat:!0,forced:!x},{useSetter:function(){on=!0},useSimple:function(){on=!1}}),h({target:"Object",stat:!0,forced:!x,sham:!m},{create:Vr,defineProperty:dr,defineProperties:Cr,getOwnPropertyDescriptor:vn}),h({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Wr}),Pe(),Ce(Le,se),ue[de]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/define-built-in-accessor.js"),w=o("./node_modules/core-js/internals/copy-constructor-properties.js"),N=f.Symbol,S=N&&N.prototype;if(d&&m(N)&&(!("description"in S)||N().description!==void 0)){var j={},_=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),L=x(S,this)?new N($):$===void 0?N():N($);return $===""&&(j[L]=!0),L};w(_,N),_.prototype=S,S.constructor=_;var P=String(N("description detection"))==="Symbol(description detection)",Z=A(S.valueOf),ee=A(S.toString),K=/^Symbol\((.*)\)[^)]+$/,ae=A("".replace),D=A("".slice);b(S,"description",{configurable:!0,get:function(){var $=Z(this);if(g(j,$))return"";var L=ee($),ye=P?D(L,7,-1):ae(L,K,"$1");return ye===""?void 0:ye}}),h({global:!0,constructor:!0,forced:!0},{Symbol:_})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("string-to-symbol-registry"),y=g("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!m},{for:function(b){var w=A(b);if(f(x,w))return x[w];var N=d("Symbol")(w);return x[w]=N,y[N]=w,N}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol-define.js");h("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(l,u,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/is-symbol.js"),A=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!m},{keyFor:function(b){if(!f(b))throw new TypeError(A(b)+" is not a symbol");if(d(x,b))return x[b]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").add;h({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=d(this),m=0,x=arguments.length;m<x;m++)f(g,arguments[m]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").remove;h({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=d(this),m=!0,x,y=0,b=arguments.length;y<b;y++)x=f(g,arguments[y]),m=m&&x;return!!m}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-difference.js");h({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{every:function(m){var x=f(this),y=d(m,arguments.length>1?arguments[1]:void 0);return A(x,function(b){if(!y(b,b,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=A.Set,x=A.add;h({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(b){var w=f(this),N=d(b,arguments.length>1?arguments[1]:void 0),S=new m;return g(w,function(j){N(j,j,w)&&x(S,j)}),S}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{find:function(m){var x=f(this),y=d(m,arguments.length>1?arguments[1]:void 0),b=A(x,function(w){if(y(w,w,x))return{value:w}},!0);return b&&b.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-intersection.js");h({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-is-disjoint-from.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-is-subset-of.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-is-superset-of.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-iterate.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=d([].join),x=d([].push);h({target:"Set",proto:!0,real:!0,forced:!0},{join:function(b){var w=f(this),N=b===void 0?",":g(b),S=[];return A(w,function(j){x(S,j)}),m(S,N)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=A.Set,x=A.add;h({target:"Set",proto:!0,real:!0,forced:!0},{map:function(b){var w=f(this),N=d(b,arguments.length>1?arguments[1]:void 0),S=new m;return g(w,function(j){x(S,N(j,j,w))}),S}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;h({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=f(this),b=arguments.length<2,w=b?void 0:arguments[1];if(d(x),A(y,function(N){b?(b=!1,w=N):w=x(w,N,N,y)}),b)throw new g("Reduce of empty set with no initial value");return w}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{some:function(m){var x=f(this),y=d(m,arguments.length>1?arguments[1]:void 0);return A(x,function(b){if(y(b,b,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-symmetric-difference.js");h({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),A=o("./node_modules/core-js/internals/set-union.js");h({target:"Set",proto:!0,real:!0,forced:!0},{union:function(m){return d(A,this,f(m))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/dom-iterables.js"),f=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),A=o("./node_modules/core-js/internals/array-for-each.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=function(y){if(y&&y.forEach!==A)try{g(y,"forEach",A)}catch{y.forEach=A}};for(var x in d)d[x]&&m(h[x]&&h[x].prototype);m(f)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/dom-iterables.js"),f=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),A=o("./node_modules/core-js/modules/es.array.iterator.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=o("./node_modules/core-js/internals/set-to-string-tag.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),b=A.values,w=function(S,j){if(S){if(S[y]!==b)try{g(S,y,b)}catch{S[y]=b}if(m(S,j,!0),d[j]){for(var _ in A)if(S[_]!==A[_])try{g(S,_,A[_])}catch{S[_]=A[_]}}}};for(var N in d)w(h[N]&&h[N].prototype,N);w(f,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/schedulers-fix.js"),A=f(d.setInterval,!0);h({global:!0,bind:!0,forced:d.setInterval!==A},{setInterval:A})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/schedulers-fix.js"),A=f(d.setTimeout,!0);h({global:!0,bind:!0,forced:d.setTimeout!==A},{setTimeout:A})}),"./node_modules/core-js/modules/web.timers.js":(function(l,u,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(l,u,o){o.r(u),o.d(u,{default:function(){return Yr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:h,setPrototypeOf:d,isFrozen:f,getPrototypeOf:A,getOwnPropertyDescriptor:g}=Object;let{freeze:m,seal:x,create:y}=Object,{apply:b,construct:w}=typeof Reflect<"u"&&Reflect;m||(m=function(Ir){return Ir}),x||(x=function(Ir){return Ir}),b||(b=function(Ir,dr){for(var Cr=arguments.length,Vr=new Array(Cr>2?Cr-2:0),zr=2;zr<Cr;zr++)Vr[zr-2]=arguments[zr];return Ir.apply(dr,Vr)}),w||(w=function(Ir){for(var dr=arguments.length,Cr=new Array(dr>1?dr-1:0),Vr=1;Vr<dr;Vr++)Cr[Vr-1]=arguments[Vr];return new Ir(...Cr)});const N=ne(Array.prototype.forEach),S=ne(Array.prototype.lastIndexOf),j=ne(Array.prototype.pop),_=ne(Array.prototype.push),P=ne(Array.prototype.splice),Z=ne(String.prototype.toLowerCase),ee=ne(String.prototype.toString),K=ne(String.prototype.match),ae=ne(String.prototype.replace),D=ne(String.prototype.indexOf),q=ne(String.prototype.trim),$=ne(Object.prototype.hasOwnProperty),L=ne(RegExp.prototype.test),ye=Be(TypeError);function ne(qr){return function(Ir){Ir instanceof RegExp&&(Ir.lastIndex=0);for(var dr=arguments.length,Cr=new Array(dr>1?dr-1:0),Vr=1;Vr<dr;Vr++)Cr[Vr-1]=arguments[Vr];return b(qr,Ir,Cr)}}function Be(qr){return function(){for(var Ir=arguments.length,dr=new Array(Ir),Cr=0;Cr<Ir;Cr++)dr[Cr]=arguments[Cr];return w(qr,dr)}}function Te(qr,Ir){let dr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z;d&&d(qr,null);let Cr=Ir.length;for(;Cr--;){let Vr=Ir[Cr];if(typeof Vr=="string"){const zr=dr(Vr);zr!==Vr&&(f(Ir)||(Ir[Cr]=zr),Vr=zr)}qr[Vr]=!0}return qr}function me(qr){for(let Ir=0;Ir<qr.length;Ir++)$(qr,Ir)||(qr[Ir]=null);return qr}function ue(qr){const Ir=y(null);for(const[dr,Cr]of h(qr))$(qr,dr)&&(Array.isArray(Cr)?Ir[dr]=me(Cr):Cr&&typeof Cr=="object"&&Cr.constructor===Object?Ir[dr]=ue(Cr):Ir[dr]=Cr);return Ir}function ve(qr,Ir){for(;qr!==null;){const Cr=g(qr,Ir);if(Cr){if(Cr.get)return ne(Cr.get);if(typeof Cr.value=="function")return ne(Cr.value)}qr=A(qr)}function dr(){return null}return dr}const le=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ae=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ie=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pe=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ce=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ce=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),X=m(["#text"]),de=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),se=m(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),We=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Re=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ee=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ie=x(/<%[\w\W]*|[\w\W]*%>/gm),Le=x(/\$\{[\w\W]*/gm),Ze=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),jt=x(/^aria-[\-\w]+$/),Lt=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ct=x(/^(?:\w+script|data):/i),Xt=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_r=x(/^html$/i),Or=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var He=Object.freeze({__proto__:null,ARIA_ATTR:jt,ATTR_WHITESPACE:Xt,CUSTOM_ELEMENT:Or,DATA_ATTR:Ze,DOCTYPE_NAME:_r,ERB_EXPR:ie,IS_ALLOWED_URI:Lt,IS_SCRIPT_OR_DATA:Ct,MUSTACHE_EXPR:Ee,TMPLIT_EXPR:Le});const Zt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Bt=function(){return typeof window>"u"?null:window},$r=function(Ir,dr){if(typeof Ir!="object"||typeof Ir.createPolicy!="function")return null;let Cr=null;const Vr="data-tt-policy-suffix";dr&&dr.hasAttribute(Vr)&&(Cr=dr.getAttribute(Vr));const zr="dompurify"+(Cr?"#"+Cr:"");try{return Ir.createPolicy(zr,{createHTML(vn){return vn},createScriptURL(vn){return vn}})}catch{return console.warn("TrustedTypes policy "+zr+" could not be created."),null}},pr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function on(){let qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt();const Ir=Et=>on(Et);if(Ir.version="3.3.1",Ir.removed=[],!qr||!qr.document||qr.document.nodeType!==Zt.document||!qr.Element)return Ir.isSupported=!1,Ir;let{document:dr}=qr;const Cr=dr,Vr=Cr.currentScript,{DocumentFragment:zr,HTMLTemplateElement:vn,Node:Wr,Element:$n,NodeFilter:Lr,NamedNodeMap:Dr=qr.NamedNodeMap||qr.MozNamedAttrMap,HTMLFormElement:jn,DOMParser:cn,trustedTypes:bt}=qr,Sr=$n.prototype,dn=ve(Sr,"cloneNode"),Dn=ve(Sr,"remove"),Xr=ve(Sr,"nextSibling"),Un=ve(Sr,"childNodes"),Ur=ve(Sr,"parentNode");if(typeof vn=="function"){const Et=dr.createElement("template");Et.content&&Et.content.ownerDocument&&(dr=Et.content.ownerDocument)}let ei,ls="";const{implementation:Cn,createNodeIterator:Bs,createDocumentFragment:ji,getElementsByTagName:vi}=dr,{importNode:Ui}=Cr;let Bi=pr();Ir.isSupported=typeof h=="function"&&typeof Ur=="function"&&Cn&&Cn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Es,ERB_EXPR:ri,TMPLIT_EXPR:Gs,DATA_ATTR:Wa,ARIA_ATTR:jc,IS_SCRIPT_OR_DATA:gs,ATTR_WHITESPACE:Sl,CUSTOM_ELEMENT:Cc}=He;let{IS_ALLOWED_URI:Bl}=He,Hi=null;const vo=Te({},[...le,...Ae,...Ie,...Ce,...X]);let ha=null;const Zl=Te({},[...de,...se,...We,...Re]);let ni=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Eo=null,qs=null;const Io=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let tl=!0,To=!0,Qs=!1,Ci=!0,ai=!1,Al=!0,_o=!1,Uc=!1,cs=!1,qn=!1,Qi=!1,vs=!1,xs=!0,Oo=!1;const Di="user-content-";let oo=!0,Xi=!1,ki={},xo=null;const ko=Te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ma=null;const Wi=Te({},["audio","video","img","source","image","track"]);let ys=null;const Xs=Te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ps="http://www.w3.org/1998/Math/MathML",Po="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let Q=Ut,oe=!1,he=null;const R=Te({},[Ps,Po,Ut],ee);let W=Te({},["mi","mo","mn","ms","mtext"]),te=Te({},["annotation-xml"]);const je=Te({},["title","style","font","a","script"]);let ke=null;const Ge=["application/xhtml+xml","text/html"],it="text/html";let I=null,B=null;const M=dr.createElement("form"),z=function(tt){return tt instanceof RegExp||tt instanceof Function},Y=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(B&&B===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=ue(tt),ke=Ge.indexOf(tt.PARSER_MEDIA_TYPE)===-1?it:tt.PARSER_MEDIA_TYPE,I=ke==="application/xhtml+xml"?ee:Z,Hi=$(tt,"ALLOWED_TAGS")?Te({},tt.ALLOWED_TAGS,I):vo,ha=$(tt,"ALLOWED_ATTR")?Te({},tt.ALLOWED_ATTR,I):Zl,he=$(tt,"ALLOWED_NAMESPACES")?Te({},tt.ALLOWED_NAMESPACES,ee):R,ys=$(tt,"ADD_URI_SAFE_ATTR")?Te(ue(Xs),tt.ADD_URI_SAFE_ATTR,I):Xs,ma=$(tt,"ADD_DATA_URI_TAGS")?Te(ue(Wi),tt.ADD_DATA_URI_TAGS,I):Wi,xo=$(tt,"FORBID_CONTENTS")?Te({},tt.FORBID_CONTENTS,I):ko,Eo=$(tt,"FORBID_TAGS")?Te({},tt.FORBID_TAGS,I):ue({}),qs=$(tt,"FORBID_ATTR")?Te({},tt.FORBID_ATTR,I):ue({}),ki=$(tt,"USE_PROFILES")?tt.USE_PROFILES:!1,tl=tt.ALLOW_ARIA_ATTR!==!1,To=tt.ALLOW_DATA_ATTR!==!1,Qs=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ci=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ai=tt.SAFE_FOR_TEMPLATES||!1,Al=tt.SAFE_FOR_XML!==!1,_o=tt.WHOLE_DOCUMENT||!1,qn=tt.RETURN_DOM||!1,Qi=tt.RETURN_DOM_FRAGMENT||!1,vs=tt.RETURN_TRUSTED_TYPE||!1,cs=tt.FORCE_BODY||!1,xs=tt.SANITIZE_DOM!==!1,Oo=tt.SANITIZE_NAMED_PROPS||!1,oo=tt.KEEP_CONTENT!==!1,Xi=tt.IN_PLACE||!1,Bl=tt.ALLOWED_URI_REGEXP||Lt,Q=tt.NAMESPACE||Ut,W=tt.MATHML_TEXT_INTEGRATION_POINTS||W,te=tt.HTML_INTEGRATION_POINTS||te,ni=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&z(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ni.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&z(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ni.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ni.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ai&&(To=!1),Qi&&(qn=!0),ki&&(Hi=Te({},X),ha=[],ki.html===!0&&(Te(Hi,le),Te(ha,de)),ki.svg===!0&&(Te(Hi,Ae),Te(ha,se),Te(ha,Re)),ki.svgFilters===!0&&(Te(Hi,Ie),Te(ha,se),Te(ha,Re)),ki.mathMl===!0&&(Te(Hi,Ce),Te(ha,We),Te(ha,Re))),tt.ADD_TAGS&&(typeof tt.ADD_TAGS=="function"?Io.tagCheck=tt.ADD_TAGS:(Hi===vo&&(Hi=ue(Hi)),Te(Hi,tt.ADD_TAGS,I))),tt.ADD_ATTR&&(typeof tt.ADD_ATTR=="function"?Io.attributeCheck=tt.ADD_ATTR:(ha===Zl&&(ha=ue(ha)),Te(ha,tt.ADD_ATTR,I))),tt.ADD_URI_SAFE_ATTR&&Te(ys,tt.ADD_URI_SAFE_ATTR,I),tt.FORBID_CONTENTS&&(xo===ko&&(xo=ue(xo)),Te(xo,tt.FORBID_CONTENTS,I)),tt.ADD_FORBID_CONTENTS&&(xo===ko&&(xo=ue(xo)),Te(xo,tt.ADD_FORBID_CONTENTS,I)),oo&&(Hi["#text"]=!0),_o&&Te(Hi,["html","head","body"]),Hi.table&&(Te(Hi,["tbody"]),delete Eo.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw ye('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ye('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ei=tt.TRUSTED_TYPES_POLICY,ls=ei.createHTML("")}else ei===void 0&&(ei=$r(bt,Vr)),ei!==null&&typeof ls=="string"&&(ls=ei.createHTML(""));m&&m(tt),B=tt}},re=Te({},[...Ae,...Ie,...Pe]),Ne=Te({},[...Ce,...ce]),ge=function(tt){let Qt=Ur(tt);(!Qt||!Qt.tagName)&&(Qt={namespaceURI:Q,tagName:"template"});const lr=Z(tt.tagName),qt=Z(Qt.tagName);return he[tt.namespaceURI]?tt.namespaceURI===Po?Qt.namespaceURI===Ut?lr==="svg":Qt.namespaceURI===Ps?lr==="svg"&&(qt==="annotation-xml"||W[qt]):!!re[lr]:tt.namespaceURI===Ps?Qt.namespaceURI===Ut?lr==="math":Qt.namespaceURI===Po?lr==="math"&&te[qt]:!!Ne[lr]:tt.namespaceURI===Ut?Qt.namespaceURI===Po&&!te[qt]||Qt.namespaceURI===Ps&&!W[qt]?!1:!Ne[lr]&&(je[lr]||!re[lr]):!!(ke==="application/xhtml+xml"&&he[tt.namespaceURI]):!1},xe=function(tt){_(Ir.removed,{element:tt});try{Ur(tt).removeChild(tt)}catch{Dn(tt)}},De=function(tt,Qt){try{_(Ir.removed,{attribute:Qt.getAttributeNode(tt),from:Qt})}catch{_(Ir.removed,{attribute:null,from:Qt})}if(Qt.removeAttribute(tt),tt==="is")if(qn||Qi)try{xe(Qt)}catch{}else try{Qt.setAttribute(tt,"")}catch{}},Ve=function(tt){let Qt=null,lr=null;if(cs)tt="<remove></remove>"+tt;else{const or=K(tt,/^[\r\n\t ]+/);lr=or&&or[0]}ke==="application/xhtml+xml"&&Q===Ut&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const qt=ei?ei.createHTML(tt):tt;if(Q===Ut)try{Qt=new cn().parseFromString(qt,ke)}catch{}if(!Qt||!Qt.documentElement){Qt=Cn.createDocument(Q,"template",null);try{Qt.documentElement.innerHTML=oe?ls:qt}catch{}}const _t=Qt.body||Qt.documentElement;return tt&&lr&&_t.insertBefore(dr.createTextNode(lr),_t.childNodes[0]||null),Q===Ut?vi.call(Qt,_o?"html":"body")[0]:_o?Qt.documentElement:_t},et=function(tt){return Bs.call(tt.ownerDocument||tt,tt,Lr.SHOW_ELEMENT|Lr.SHOW_COMMENT|Lr.SHOW_TEXT|Lr.SHOW_PROCESSING_INSTRUCTION|Lr.SHOW_CDATA_SECTION,null)},st=function(tt){return tt instanceof jn&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof Dr)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},Oe=function(tt){return typeof Wr=="function"&&tt instanceof Wr};function vt(Et,tt,Qt){N(Et,lr=>{lr.call(Ir,tt,Qt,B)})}const mt=function(tt){let Qt=null;if(vt(Bi.beforeSanitizeElements,tt,null),st(tt))return xe(tt),!0;const lr=I(tt.nodeName);if(vt(Bi.uponSanitizeElement,tt,{tagName:lr,allowedTags:Hi}),Al&&tt.hasChildNodes()&&!Oe(tt.firstElementChild)&&L(/<[/\w!]/g,tt.innerHTML)&&L(/<[/\w!]/g,tt.textContent)||tt.nodeType===Zt.progressingInstruction||Al&&tt.nodeType===Zt.comment&&L(/<[/\w]/g,tt.data))return xe(tt),!0;if(!(Io.tagCheck instanceof Function&&Io.tagCheck(lr))&&(!Hi[lr]||Eo[lr])){if(!Eo[lr]&&nt(lr)&&(ni.tagNameCheck instanceof RegExp&&L(ni.tagNameCheck,lr)||ni.tagNameCheck instanceof Function&&ni.tagNameCheck(lr)))return!1;if(oo&&!xo[lr]){const qt=Ur(tt)||tt.parentNode,_t=Un(tt)||tt.childNodes;if(_t&&qt){const or=_t.length;for(let at=or-1;at>=0;--at){const dt=dn(_t[at],!0);dt.__removalCount=(tt.__removalCount||0)+1,qt.insertBefore(dt,Xr(tt))}}}return xe(tt),!0}return tt instanceof $n&&!ge(tt)||(lr==="noscript"||lr==="noembed"||lr==="noframes")&&L(/<\/no(script|embed|frames)/i,tt.innerHTML)?(xe(tt),!0):(ai&&tt.nodeType===Zt.text&&(Qt=tt.textContent,N([Es,ri,Gs],qt=>{Qt=ae(Qt,qt," ")}),tt.textContent!==Qt&&(_(Ir.removed,{element:tt.cloneNode()}),tt.textContent=Qt)),vt(Bi.afterSanitizeElements,tt,null),!1)},yt=function(tt,Qt,lr){if(xs&&(Qt==="id"||Qt==="name")&&(lr in dr||lr in M))return!1;if(!(To&&!qs[Qt]&&L(Wa,Qt))){if(!(tl&&L(jc,Qt))){if(!(Io.attributeCheck instanceof Function&&Io.attributeCheck(Qt,tt))){if(!ha[Qt]||qs[Qt]){if(!(nt(tt)&&(ni.tagNameCheck instanceof RegExp&&L(ni.tagNameCheck,tt)||ni.tagNameCheck instanceof Function&&ni.tagNameCheck(tt))&&(ni.attributeNameCheck instanceof RegExp&&L(ni.attributeNameCheck,Qt)||ni.attributeNameCheck instanceof Function&&ni.attributeNameCheck(Qt,tt))||Qt==="is"&&ni.allowCustomizedBuiltInElements&&(ni.tagNameCheck instanceof RegExp&&L(ni.tagNameCheck,lr)||ni.tagNameCheck instanceof Function&&ni.tagNameCheck(lr))))return!1}else if(!ys[Qt]){if(!L(Bl,ae(lr,Sl,""))){if(!((Qt==="src"||Qt==="xlink:href"||Qt==="href")&&tt!=="script"&&D(lr,"data:")===0&&ma[tt])){if(!(Qs&&!L(gs,ae(lr,Sl,"")))){if(lr)return!1}}}}}}}return!0},nt=function(tt){return tt!=="annotation-xml"&&K(tt,Cc)},kt=function(tt){vt(Bi.beforeSanitizeAttributes,tt,null);const{attributes:Qt}=tt;if(!Qt||st(tt))return;const lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ha,forceKeepAttr:void 0};let qt=Qt.length;for(;qt--;){const _t=Qt[qt],{name:or,namespaceURI:at,value:dt}=_t,It=I(or),Tt=dt;let cr=or==="value"?Tt:q(Tt);if(lr.attrName=It,lr.attrValue=cr,lr.keepAttr=!0,lr.forceKeepAttr=void 0,vt(Bi.uponSanitizeAttribute,tt,lr),cr=lr.attrValue,Oo&&(It==="id"||It==="name")&&(De(or,tt),cr=Di+cr),Al&&L(/((--!?|])>)|<\/(style|title|textarea)/i,cr)){De(or,tt);continue}if(It==="attributename"&&K(cr,"href")){De(or,tt);continue}if(lr.forceKeepAttr)continue;if(!lr.keepAttr){De(or,tt);continue}if(!Ci&&L(/\/>/i,cr)){De(or,tt);continue}ai&&N([Es,ri,Gs],xr=>{cr=ae(cr,xr," ")});const Ar=I(tt.nodeName);if(!yt(Ar,It,cr)){De(or,tt);continue}if(ei&&typeof bt=="object"&&typeof bt.getAttributeType=="function"&&!at)switch(bt.getAttributeType(Ar,It)){case"TrustedHTML":{cr=ei.createHTML(cr);break}case"TrustedScriptURL":{cr=ei.createScriptURL(cr);break}}if(cr!==Tt)try{at?tt.setAttributeNS(at,or,cr):tt.setAttribute(or,cr),st(tt)?xe(tt):j(Ir.removed)}catch{De(or,tt)}}vt(Bi.afterSanitizeAttributes,tt,null)},Kt=function Et(tt){let Qt=null;const lr=et(tt);for(vt(Bi.beforeSanitizeShadowDOM,tt,null);Qt=lr.nextNode();)vt(Bi.uponSanitizeShadowNode,Qt,null),mt(Qt),kt(Qt),Qt.content instanceof zr&&Et(Qt.content);vt(Bi.afterSanitizeShadowDOM,tt,null)};return Ir.sanitize=function(Et){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qt=null,lr=null,qt=null,_t=null;if(oe=!Et,oe&&(Et="<!-->"),typeof Et!="string"&&!Oe(Et))if(typeof Et.toString=="function"){if(Et=Et.toString(),typeof Et!="string")throw ye("dirty is not a string, aborting")}else throw ye("toString is not a function");if(!Ir.isSupported)return Et;if(Uc||Y(tt),Ir.removed=[],typeof Et=="string"&&(Xi=!1),Xi){if(Et.nodeName){const dt=I(Et.nodeName);if(!Hi[dt]||Eo[dt])throw ye("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof Wr)Qt=Ve("<!---->"),lr=Qt.ownerDocument.importNode(Et,!0),lr.nodeType===Zt.element&&lr.nodeName==="BODY"||lr.nodeName==="HTML"?Qt=lr:Qt.appendChild(lr);else{if(!qn&&!ai&&!_o&&Et.indexOf("<")===-1)return ei&&vs?ei.createHTML(Et):Et;if(Qt=Ve(Et),!Qt)return qn?null:vs?ls:""}Qt&&cs&&xe(Qt.firstChild);const or=et(Xi?Et:Qt);for(;qt=or.nextNode();)mt(qt),kt(qt),qt.content instanceof zr&&Kt(qt.content);if(Xi)return Et;if(qn){if(Qi)for(_t=ji.call(Qt.ownerDocument);Qt.firstChild;)_t.appendChild(Qt.firstChild);else _t=Qt;return(ha.shadowroot||ha.shadowrootmode)&&(_t=Ui.call(Cr,_t,!0)),_t}let at=_o?Qt.outerHTML:Qt.innerHTML;return _o&&Hi["!doctype"]&&Qt.ownerDocument&&Qt.ownerDocument.doctype&&Qt.ownerDocument.doctype.name&&L(_r,Qt.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+Qt.ownerDocument.doctype.name+`>
`+at),ai&&N([Es,ri,Gs],dt=>{at=ae(at,dt," ")}),ei&&vs?ei.createHTML(at):at},Ir.setConfig=function(){let Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Y(Et),Uc=!0},Ir.clearConfig=function(){B=null,Uc=!1},Ir.isValidAttribute=function(Et,tt,Qt){B||Y({});const lr=I(Et),qt=I(tt);return yt(lr,qt,Qt)},Ir.addHook=function(Et,tt){typeof tt=="function"&&_(Bi[Et],tt)},Ir.removeHook=function(Et,tt){if(tt!==void 0){const Qt=S(Bi[Et],tt);return Qt===-1?void 0:P(Bi[Et],Qt,1)[0]}return j(Bi[Et])},Ir.removeHooks=function(Et){Bi[Et]=[]},Ir.removeAllHooks=function(){Bi=pr()},Ir}var Yr=on()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return b}});var h=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=o("./node_modules/pako/dist/pako.esm.mjs"),f=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),A=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),m=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");class b extends h.IOBuffer{constructor(j,_={}){super(j);Gi(this,"_checkCrc");Gi(this,"_inflator");Gi(this,"_png");Gi(this,"_apng");Gi(this,"_end");Gi(this,"_hasPalette");Gi(this,"_palette");Gi(this,"_hasTransparency");Gi(this,"_transparency");Gi(this,"_compressionMethod");Gi(this,"_filterMethod");Gi(this,"_interlaceMethod");Gi(this,"_colorType");Gi(this,"_isAnimated");Gi(this,"_numberOfFrames");Gi(this,"_numberOfPlays");Gi(this,"_frames");Gi(this,"_writingDataChunks");const{checkCrc:P=!1}=_;this._checkCrc=P,this._inflator=new d.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,m.checkSignature)(this);!this._end;){const j=this.readUint32(),_=this.readChars(4);this.decodeChunk(j,_)}return this.decodeImage(),this._png}decodeApng(){for((0,m.checkSignature)(this);!this._end;){const j=this.readUint32(),_=this.readChars(4);this.decodeApngChunk(j,_)}return this.decodeApngImage(),this._apng}decodeChunk(j,_){const P=this.offset;switch(_){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(j);break;case"IDAT":this.decodeIDAT(j);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(j);break;case"iCCP":this.decodeiCCP(j);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,j);break;case"pHYs":this.decodepHYs();break;default:this.skip(j);break}if(this.offset-P!==j)throw new Error(`Length mismatch while decoding chunk ${_}`);this._checkCrc?(0,f.checkCrc)(this,j+4,_):this.skip(4)}decodeApngChunk(j,_){const P=this.offset;switch(_!=="fdAT"&&_!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),_){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(j);break;default:this.decodeChunk(j,_),this.offset=P+j;break}if(this.offset-P!==j)throw new Error(`Length mismatch while decoding chunk ${_}`);this._checkCrc?(0,f.checkCrc)(this,j+4,_):this.skip(4)}decodeIHDR(){const j=this._png;j.width=this.readUint32(),j.height=this.readUint32(),j.depth=w(this.readUint8());const _=this.readUint8();this._colorType=_;let P;switch(_){case y.ColorType.GREYSCALE:P=1;break;case y.ColorType.TRUECOLOUR:P=3;break;case y.ColorType.INDEXED_COLOUR:P=1;break;case y.ColorType.GREYSCALE_ALPHA:P=2;break;case y.ColorType.TRUECOLOUR_ALPHA:P=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${_}`)}if(this._png.channels=P,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const j={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(j)}decodePLTE(j){if(j%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${j}`);const _=j/3;this._hasPalette=!0;const P=[];this._palette=P;for(let Z=0;Z<_;Z++)P.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(j){this._writingDataChunks=!0;const _=j,P=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,P,_)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(j)}decodeFDAT(j){this._writingDataChunks=!0;let _=j,P=this.offset+this.byteOffset;if(P+=4,_-=4,this._inflator.push(new Uint8Array(this.buffer,P,_)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(j)}decodetRNS(j){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(j%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${j}`);if(j/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${j/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(j/2);for(let _=0;_<j/2;_++)this._transparency[_]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(j>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${j} vs ${this._palette.length})`);let _=0;for(;_<j;_++){const P=this.readByte();this._palette[_].push(P)}for(;_<this._palette.length;_++)this._palette[_].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(j){const _=(0,x.readKeyword)(this),P=this.readUint8();if(P!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${P}`);const Z=this.readBytes(j-_.length-2);this._png.iccEmbeddedProfile={name:_,profile:(0,d.inflate)(Z)}}decodepHYs(){const j=this.readUint32(),_=this.readUint32(),P=this.readByte();this._png.resolution={x:j,y:_,unit:P}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let j=0;j<this._numberOfFrames;j++){const _={sequenceNumber:this._frames[j].sequenceNumber,delayNumber:this._frames[j].delayNumber,delayDenominator:this._frames[j].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},P=this._frames.at(j);if(P){if(P.data=(0,g.decodeInterlaceNull)({data:P.data,width:P.width,height:P.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),j===0||P.xOffset===0&&P.yOffset===0&&P.width===this._png.width&&P.height===this._png.height)_.data=P.data;else{const Z=this._apng.frames.at(j-1);this.disposeFrame(P,Z,_),this.addFrameDataToCanvas(_,P)}this._apng.frames.push(_)}}return this._apng}disposeFrame(j,_,P){switch(j.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let Z=0;Z<this._png.height;Z++)for(let ee=0;ee<this._png.width;ee++){const K=(Z*j.width+ee)*this._png.channels;for(let ae=0;ae<this._png.channels;ae++)P.data[K+ae]=0}break;case y.DisposeOpType.PREVIOUS:P.data.set(_.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(j,_){const P=1<<this._png.depth,Z=(ee,K)=>{const ae=((ee+_.yOffset)*this._png.width+_.xOffset+K)*this._png.channels,D=(ee*_.width+K)*this._png.channels;return{index:ae,frameIndex:D}};switch(_.blendOp){case y.BlendOpType.SOURCE:for(let ee=0;ee<_.height;ee++)for(let K=0;K<_.width;K++){const{index:ae,frameIndex:D}=Z(ee,K);for(let q=0;q<this._png.channels;q++)j.data[ae+q]=_.data[D+q]}break;case y.BlendOpType.OVER:for(let ee=0;ee<_.height;ee++)for(let K=0;K<_.width;K++){const{index:ae,frameIndex:D}=Z(ee,K);for(let q=0;q<this._png.channels;q++){const $=_.data[D+this._png.channels-1]/P,L=q%(this._png.channels-1)===0?1:_.data[D+q],ye=Math.floor($*L+(1-$)*j.data[ae+q]);j.data[ae+q]+=ye}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var _;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const j=this._isAnimated?((_=this._frames)==null?void 0:_.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:j,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,A.decodeInterlaceAdam7)({data:j,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const j=this._inflator.result,_=this._frames.at(-1);_?_.data=j:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:j}),this._inflator=new d.Inflate,this._writingDataChunks=!1}}function w(N){if(N!==1&&N!==2&&N!==4&&N!==8&&N!==16)throw new Error(`invalid bit depth: ${N}`);return N}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return y}});var h=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=o("./node_modules/pako/dist/pako.esm.mjs"),f=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),A=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=o("./node_modules/fast-png/lib-esm/helpers/text.js"),m=o("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends h.IOBuffer{constructor(Z,ee={}){super();Gi(this,"_png");Gi(this,"_zlibOptions");Gi(this,"_colorType");Gi(this,"_interlaceMethod");this._colorType=m.ColorType.UNKNOWN,this._zlibOptions={...x,...ee.zlib},this._png=this._checkData(Z),this._interlaceMethod=(ee.interlace==="Adam7"?m.InterlaceMethod.ADAM7:m.InterlaceMethod.NO_INTERLACE)??m.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,A.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[Z,ee]of Object.entries(this._png.text))(0,g.encodetEXt)(this,Z,ee);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(m.CompressionMethod.DEFLATE),this.writeByte(m.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,f.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,f.writeCrc)(this,4)}encodePLTE(){var ee;const Z=((ee=this._png.palette)==null?void 0:ee.length)*3;this.writeUint32(Z),this.writeChars("PLTE");for(const K of this._png.palette)this.writeByte(K[0]),this.writeByte(K[1]),this.writeByte(K[2]);(0,f.writeCrc)(this,4+Z)}encodeTRNS(){const Z=this._png.palette.filter(ee=>ee.at(-1)!==255);this.writeUint32(Z.length),this.writeChars("tRNS");for(const ee of Z)this.writeByte(ee.at(-1));(0,f.writeCrc)(this,4+Z.length)}encodeIDAT(Z){this.writeUint32(Z.length),this.writeChars("IDAT"),this.writeBytes(Z),(0,f.writeCrc)(this,Z.length+4)}encodeData(){const{width:Z,height:ee,channels:K,depth:ae,data:D}=this._png,q=ae<=8?Math.ceil(Z*ae/8)*K:Math.ceil(Z*ae/8*K/2),$=new h.IOBuffer().setBigEndian();let L=0;if(this._interlaceMethod===m.InterlaceMethod.NO_INTERLACE)for(let Be=0;Be<ee;Be++)$.writeByte(0),ae===16?L=j(D,$,q,L):L=N(D,$,q,L);else this._interlaceMethod===m.InterlaceMethod.ADAM7&&(L=S(this._png,D,$,L));const ye=$.toArray(),ne=(0,d.deflate)(ye,this._zlibOptions);this.encodeIDAT(ne)}_checkData(Z){const{colorType:ee,channels:K,depth:ae}=w(Z,Z.palette),D={width:b(Z.width,"width"),height:b(Z.height,"height"),channels:K,data:Z.data,depth:ae,text:Z.text,palette:Z.palette};this._colorType=ee;const q=ae<8?Math.ceil(D.width*ae/8)*D.height*K:D.width*D.height*K;if(D.data.length!==q)throw new RangeError(`wrong data size. Found ${D.data.length}, expected ${q}`);return D}}function b(_,P){if(Number.isInteger(_)&&_>0)return _;throw new TypeError(`${P} must be a positive integer`)}function w(_,P){const{channels:Z=4,depth:ee=8}=_;if(Z!==4&&Z!==3&&Z!==2&&Z!==1)throw new RangeError(`unsupported number of channels: ${Z}`);const K={channels:Z,depth:ee,colorType:m.ColorType.UNKNOWN};switch(Z){case 4:K.colorType=m.ColorType.TRUECOLOUR_ALPHA;break;case 3:K.colorType=m.ColorType.TRUECOLOUR;break;case 1:P?K.colorType=m.ColorType.INDEXED_COLOUR:K.colorType=m.ColorType.GREYSCALE;break;case 2:K.colorType=m.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return K}function N(_,P,Z,ee){for(let K=0;K<Z;K++)P.writeByte(_[ee++]);return ee}function S(_,P,Z,ee){const K=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:ae,height:D,channels:q,depth:$}=_;let L=0;$===16?L=q*$/8/2:L=q*$/8;for(let ye=0;ye<7;ye++){const ne=K[ye],Be=Math.floor((ae-ne.x+ne.xStep-1)/ne.xStep),Te=Math.floor((D-ne.y+ne.yStep-1)/ne.yStep);if(Be<=0||Te<=0)continue;const me=Be*L;for(let ue=0;ue<Te;ue++){const ve=ne.y+ue*ne.yStep,le=$<=8?new Uint8Array(me):new Uint16Array(me);let Ae=0;for(let Ie=0;Ie<Be;Ie++){const Pe=ne.x+Ie*ne.xStep;if(Pe<ae&&ve<D){const Ce=(ve*ae+Pe)*L;for(let ce=0;ce<L;ce++)le[Ae++]=P[Ce+ce]}}if(Z.writeByte(0),$===8)Z.writeBytes(le);else if($===16)for(const Ie of le)Z.writeByte(Ie>>8&255),Z.writeByte(Ie&255)}}return ee}function j(_,P,Z,ee){for(let K=0;K<Z;K++)P.writeUint16(_[ee++]);return ee}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(l,u,o){o.r(u),o.d(u,{convertIndexedToRgb:function(){return h}});function h(f){const A=f.palette,g=f.depth;if(!A)throw new Error("Color palette is undefined.");d(f);const m=f.width*f.height,x=m*A[0].length,y=new Uint8Array(x);let b=0,w=0;const N=new Uint8Array(m);let S=255;switch(g){case 1:S=128;break;case 2:S=192;break;case 4:S=240;break;case 8:S=255;break;default:throw new Error("Incorrect depth value")}for(const j of f.data){let _=S,P=8;for(;_&&(P-=g,N[b++]=(j&_)>>P,_=_>>g,b%f.width!==0););}if(f.palette)for(const j of N){const _=f.palette.at(j);if(!_)throw new Error("Incorrect index of palette color");y.set(_,w),w+=_.length}return y}function d(f){const A=f.depth<8?Math.ceil(f.width*f.depth/8)*f.height*f.channels:f.width*f.height*f.channels;if(f.data.length!==A)throw new RangeError(`wrong data size. Found ${f.data.length}, expected ${A}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(l,u,o){o.r(u),o.d(u,{applyUnfilter:function(){return d}});var h=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function d(f,A,g,m,x,y){switch(f){case 0:(0,h.unfilterNone)(A,g,x);break;case 1:(0,h.unfilterSub)(A,g,x,y);break;case 2:(0,h.unfilterUp)(A,g,m,x);break;case 3:(0,h.unfilterAverage)(A,g,m,x,y);break;case 4:(0,h.unfilterPaeth)(A,g,m,x,y);break;default:throw new Error(`Unsupported filter: ${f}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(l,u,o){o.r(u),o.d(u,{checkCrc:function(){return g},writeCrc:function(){return m}});const h=[];for(let x=0;x<256;x++){let y=x;for(let b=0;b<8;b++)y&1?y=3988292384^y>>>1:y=y>>>1;h[x]=y}const d=4294967295;function f(x,y,b){let w=x;for(let N=0;N<b;N++)w=h[(w^y[N])&255]^w>>>8;return w}function A(x,y){return(f(d,x,y)^d)>>>0}function g(x,y,b){const w=x.readUint32(),N=A(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(N!==w)throw new Error(`CRC mismatch for chunk ${b}. Expected ${w}, found ${N}`)}function m(x,y){x.writeUint32(A(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceAdam7:function(){return g}});var h=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const d=new Uint16Array([255]),A=new Uint8Array(d.buffer)[0]===255;function g(x){const{data:y,width:b,height:w,channels:N,depth:S}=x,j=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],_=Math.ceil(S/8)*N,P=new Uint8Array(w*b*_);let Z=0;for(let ee=0;ee<7;ee++){const K=j[ee],ae=Math.ceil((b-K.x)/K.xStep),D=Math.ceil((w-K.y)/K.yStep);if(ae<=0||D<=0)continue;const q=ae*_,$=new Uint8Array(q);for(let L=0;L<D;L++){const ye=y[Z++],ne=y.subarray(Z,Z+q);Z+=q;const Be=new Uint8Array(q);(0,h.applyUnfilter)(ye,ne,Be,$,q,_),$.set(Be);for(let Te=0;Te<ae;Te++){const me=K.x+Te*K.xStep,ue=K.y+L*K.yStep;if(!(me>=b||ue>=w))for(let ve=0;ve<_;ve++)P[(ue*b+me)*_+ve]=Be[Te*_+ve]}}}if(S===16){const ee=new Uint16Array(P.buffer);if(A)for(let K=0;K<ee.length;K++)ee[K]=m(ee[K]);return ee}else return P}function m(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceNull:function(){return m}});var h=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const d=new Uint16Array([255]),A=new Uint8Array(d.buffer)[0]===255,g=new Uint8Array(0);function m(y){const{data:b,width:w,height:N,channels:S,depth:j}=y,_=Math.ceil(j/8)*S,P=Math.ceil(j/8*S*w),Z=new Uint8Array(N*P);let ee=g,K=0,ae,D;for(let q=0;q<N;q++){switch(ae=b.subarray(K+1,K+1+P),D=Z.subarray(q*P,(q+1)*P),b[K]){case 0:(0,h.unfilterNone)(ae,D,P);break;case 1:(0,h.unfilterSub)(ae,D,P,_);break;case 2:(0,h.unfilterUp)(ae,D,ee,P);break;case 3:(0,h.unfilterAverage)(ae,D,ee,P,_);break;case 4:(0,h.unfilterPaeth)(ae,D,ee,P,_);break;default:throw new Error(`Unsupported filter: ${b[K]}`)}ee=D,K+=P+1}if(j===16){const q=new Uint16Array(Z.buffer);if(A)for(let $=0;$<q.length;$++)q[$]=x(q[$]);return q}else return Z}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(l,u,o){o.r(u),o.d(u,{checkSignature:function(){return f},hasPngSignature:function(){return A},writeSignature:function(){return d}});const h=Uint8Array.of(137,80,78,71,13,10,26,10);function d(g){g.writeBytes(h)}function f(g){if(!A(g.readBytes(h.length)))throw new Error("wrong PNG signature")}function A(g){if(g.length<h.length)return!1;for(let m=0;m<h.length;m++)if(g[m]!==h[m])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(l,u,o){o.r(u),o.d(u,{decodetEXt:function(){return y},encodetEXt:function(){return b},readKeyword:function(){return w},readLatin1:function(){return N},textChunkName:function(){return d}});var h=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const d="tEXt",f=0,A=new TextDecoder("latin1");function g(S){if(x(S),S.length===0||S.length>79)throw new Error("keyword length must be between 1 and 79")}const m=/^[\u0000-\u00FF]*$/;function x(S){if(!m.test(S))throw new Error("invalid latin1 text")}function y(S,j,_){const P=w(j);S[P]=N(j,_-P.length-1)}function b(S,j,_){g(j),x(_);const P=j.length+1+_.length;S.writeUint32(P),S.writeChars(d),S.writeChars(j),S.writeByte(f),S.writeChars(_),(0,h.writeCrc)(S,P+4)}function w(S){for(S.mark();S.readByte()!==f;);const j=S.offset;S.reset();const _=A.decode(S.readBytes(j-S.offset-1));return S.skip(1),g(_),_}function N(S,j){return A.decode(S.readBytes(j))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(l,u,o){o.r(u),o.d(u,{unfilterAverage:function(){return A},unfilterNone:function(){return h},unfilterPaeth:function(){return g},unfilterSub:function(){return d},unfilterUp:function(){return f}});function h(x,y,b){for(let w=0;w<b;w++)y[w]=x[w]}function d(x,y,b,w){let N=0;for(;N<w;N++)y[N]=x[N];for(;N<b;N++)y[N]=x[N]+y[N-w]&255}function f(x,y,b,w){let N=0;if(b.length===0)for(;N<w;N++)y[N]=x[N];else for(;N<w;N++)y[N]=x[N]+b[N]&255}function A(x,y,b,w,N){let S=0;if(b.length===0){for(;S<N;S++)y[S]=x[S];for(;S<w;S++)y[S]=x[S]+(y[S-N]>>1)&255}else{for(;S<N;S++)y[S]=x[S]+(b[S]>>1)&255;for(;S<w;S++)y[S]=x[S]+(y[S-N]+b[S]>>1)&255}}function g(x,y,b,w,N){let S=0;if(b.length===0){for(;S<N;S++)y[S]=x[S];for(;S<w;S++)y[S]=x[S]+y[S-N]&255}else{for(;S<N;S++)y[S]=x[S]+b[S]&255;for(;S<w;S++)y[S]=x[S]+m(y[S-N],b[S],b[S-N])&255}}function m(x,y,b){const w=x+y-b,N=Math.abs(w-x),S=Math.abs(w-y),j=Math.abs(w-b);return N<=S&&N<=j?x:S<=j?y:b}}),"./node_modules/fast-png/lib-esm/index.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return A.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return m},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return f.hasPngSignature}});var h=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),d=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),f=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),A=o("./node_modules/fast-png/lib-esm/types.js"),g=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function m(b,w){return new h.default(b,w).decode()}function x(b,w){return new d.default(b,w).encode()}function y(b,w){return new h.default(b,w).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(l,u,o){o.r(u),o.d(u,{BlendOpType:function(){return m},ColorType:function(){return h},CompressionMethod:function(){return d},DisposeOpType:function(){return g},FilterMethod:function(){return f},InterlaceMethod:function(){return A}});const h={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d={UNKNOWN:-1,DEFLATE:0},f={UNKNOWN:-1,ADAPTIVE:0},A={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},m={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return h}});var h;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.METRE=1]="METRE"})(h||(h={}))}),"./node_modules/fflate/esm/browser.js":(function(l,u,o){o.r(u),o.d(u,{AsyncCompress:function(){return Bi},AsyncDecompress:function(){return qs},AsyncDeflate:function(){return Ur},AsyncGunzip:function(){return Wa},AsyncGzip:function(){return Bi},AsyncInflate:function(){return Bs},AsyncUnzipInflate:function(){return Po},AsyncUnzlib:function(){return ha},AsyncZipDeflate:function(){return ko},AsyncZlib:function(){return Cc},Compress:function(){return Ui},DecodeUTF8:function(){return _o},Decompress:function(){return Eo},Deflate:function(){return Un},EncodeUTF8:function(){return Uc},FlateErrorCode:function(){return le},Gunzip:function(){return Gs},Gzip:function(){return Ui},Inflate:function(){return Cn},Unzip:function(){return Ut},UnzipInflate:function(){return Ps},UnzipPassThrough:function(){return Xs},Unzlib:function(){return vo},Zip:function(){return ma},ZipDeflate:function(){return xo},ZipPassThrough:function(){return ki},Zlib:function(){return Sl},compress:function(){return Es},compressSync:function(){return ri},decompress:function(){return Io},decompressSync:function(){return tl},deflate:function(){return ei},deflateSync:function(){return ls},gunzip:function(){return jc},gunzipSync:function(){return gs},gzip:function(){return Es},gzipSync:function(){return ri},inflate:function(){return ji},inflateSync:function(){return vi},strFromU8:function(){return qn},strToU8:function(){return cs},unzip:function(){return oe},unzipSync:function(){return he},unzlib:function(){return Zl},unzlibSync:function(){return ni},zip:function(){return Wi},zipSync:function(){return ys},zlib:function(){return Bl},zlibSync:function(){return Hi}});var h={},d=(function(R,W,te,je,ke){var Ge=new Worker(h[W]||(h[W]=URL.createObjectURL(new Blob([R+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ge.onmessage=function(it){var I=it.data,B=I.$e$;if(B){var M=new Error(B[0]);M.code=B[1],M.stack=B[2],ke(M,null)}else ke(null,I)},Ge.postMessage(te,je),Ge}),f=Uint8Array,A=Uint16Array,g=Int32Array,m=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=function(R,W){for(var te=new A(31),je=0;je<31;++je)te[je]=W+=1<<R[je-1];for(var ke=new g(te[30]),je=1;je<30;++je)for(var Ge=te[je];Ge<te[je+1];++Ge)ke[Ge]=Ge-te[je]<<5|je;return{b:te,r:ke}},w=b(m,2),N=w.b,S=w.r;N[28]=258,S[258]=28;for(var j=b(x,0),_=j.b,P=j.r,Z=new A(32768),ee=0;ee<32768;++ee){var K=(ee&43690)>>1|(ee&21845)<<1;K=(K&52428)>>2|(K&13107)<<2,K=(K&61680)>>4|(K&3855)<<4,Z[ee]=((K&65280)>>8|(K&255)<<8)>>1}for(var ae=(function(R,W,te){for(var je=R.length,ke=0,Ge=new A(W);ke<je;++ke)R[ke]&&++Ge[R[ke]-1];var it=new A(W);for(ke=1;ke<W;++ke)it[ke]=it[ke-1]+Ge[ke-1]<<1;var I;if(te){I=new A(1<<W);var B=15-W;for(ke=0;ke<je;++ke)if(R[ke])for(var M=ke<<4|R[ke],z=W-R[ke],Y=it[R[ke]-1]++<<z,re=Y|(1<<z)-1;Y<=re;++Y)I[Z[Y]>>B]=M}else for(I=new A(je),ke=0;ke<je;++ke)R[ke]&&(I[ke]=Z[it[R[ke]-1]++]>>15-R[ke]);return I}),D=new f(288),ee=0;ee<144;++ee)D[ee]=8;for(var ee=144;ee<256;++ee)D[ee]=9;for(var ee=256;ee<280;++ee)D[ee]=7;for(var ee=280;ee<288;++ee)D[ee]=8;for(var q=new f(32),ee=0;ee<32;++ee)q[ee]=5;var $=ae(D,9,0),L=ae(D,9,1),ye=ae(q,5,0),ne=ae(q,5,1),Be=function(R){for(var W=R[0],te=1;te<R.length;++te)R[te]>W&&(W=R[te]);return W},Te=function(R,W,te){var je=W/8|0;return(R[je]|R[je+1]<<8)>>(W&7)&te},me=function(R,W){var te=W/8|0;return(R[te]|R[te+1]<<8|R[te+2]<<16)>>(W&7)},ue=function(R){return(R+7)/8|0},ve=function(R,W,te){return(W==null||W<0)&&(W=0),(te==null||te>R.length)&&(te=R.length),new f(R.subarray(W,te))},le={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},Ae=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ie=function(R,W,te){var je=new Error(W||Ae[R]);if(je.code=R,Error.captureStackTrace&&Error.captureStackTrace(je,Ie),!te)throw je;return je},Pe=function(R,W,te,je){var ke=R.length,Ge=je?je.length:0;if(!ke||W.f&&!W.l)return te||new f(0);var it=!te,I=it||W.i!=2,B=W.i;it&&(te=new f(ke*3));var M=function(Nt){var Wt=te.length;if(Nt>Wt){var zt=new f(Math.max(Wt*2,Nt));zt.set(te),te=zt}},z=W.f||0,Y=W.p||0,re=W.b||0,Ne=W.l,ge=W.d,xe=W.m,De=W.n,Ve=ke*8;do{if(!Ne){z=Te(R,Y,1);var et=Te(R,Y+1,3);if(Y+=3,et)if(et==1)Ne=L,ge=ne,xe=9,De=5;else if(et==2){var mt=Te(R,Y,31)+257,yt=Te(R,Y+10,15)+4,nt=mt+Te(R,Y+5,31)+1;Y+=14;for(var kt=new f(nt),Kt=new f(19),Et=0;Et<yt;++Et)Kt[y[Et]]=Te(R,Y+Et*3,7);Y+=yt*3;for(var tt=Be(Kt),Qt=(1<<tt)-1,lr=ae(Kt,tt,1),Et=0;Et<nt;){var qt=lr[Te(R,Y,Qt)];Y+=qt&15;var st=qt>>4;if(st<16)kt[Et++]=st;else{var _t=0,or=0;for(st==16?(or=3+Te(R,Y,3),Y+=2,_t=kt[Et-1]):st==17?(or=3+Te(R,Y,7),Y+=3):st==18&&(or=11+Te(R,Y,127),Y+=7);or--;)kt[Et++]=_t}}var at=kt.subarray(0,mt),dt=kt.subarray(mt);xe=Be(at),De=Be(dt),Ne=ae(at,xe,1),ge=ae(dt,De,1)}else Ie(1);else{var st=ue(Y)+4,Oe=R[st-4]|R[st-3]<<8,vt=st+Oe;if(vt>ke){B&&Ie(0);break}I&&M(re+Oe),te.set(R.subarray(st,vt),re),W.b=re+=Oe,W.p=Y=vt*8,W.f=z;continue}if(Y>Ve){B&&Ie(0);break}}I&&M(re+131072);for(var It=(1<<xe)-1,Tt=(1<<De)-1,cr=Y;;cr=Y){var _t=Ne[me(R,Y)&It],Ar=_t>>4;if(Y+=_t&15,Y>Ve){B&&Ie(0);break}if(_t||Ie(2),Ar<256)te[re++]=Ar;else if(Ar==256){cr=Y,Ne=null;break}else{var xr=Ar-254;if(Ar>264){var Et=Ar-257,Jt=m[Et];xr=Te(R,Y,(1<<Jt)-1)+N[Et],Y+=Jt}var gr=ge[me(R,Y)&Tt],Zr=gr>>4;gr||Ie(3),Y+=gr&15;var dt=_[Zr];if(Zr>3){var Jt=x[Zr];dt+=me(R,Y)&(1<<Jt)-1,Y+=Jt}if(Y>Ve){B&&Ie(0);break}I&&M(re+131072);var Hr=re+xr;if(re<dt){var Ye=Ge-dt,xt=Math.min(dt,Hr);for(Ye+re<0&&Ie(3);re<xt;++re)te[re]=je[Ye+re]}for(;re<Hr;++re)te[re]=te[re-dt]}}W.l=Ne,W.p=cr,W.b=re,W.f=z,Ne&&(z=1,W.m=xe,W.d=ge,W.n=De)}while(!z);return re!=te.length&&it?ve(te,0,re):te.subarray(0,re)},Ce=function(R,W,te){te<<=W&7;var je=W/8|0;R[je]|=te,R[je+1]|=te>>8},ce=function(R,W,te){te<<=W&7;var je=W/8|0;R[je]|=te,R[je+1]|=te>>8,R[je+2]|=te>>16},X=function(R,W){for(var te=[],je=0;je<R.length;++je)R[je]&&te.push({s:je,f:R[je]});var ke=te.length,Ge=te.slice();if(!ke)return{t:Le,l:0};if(ke==1){var it=new f(te[0].s+1);return it[te[0].s]=1,{t:it,l:1}}te.sort(function(vt,mt){return vt.f-mt.f}),te.push({s:-1,f:25001});var I=te[0],B=te[1],M=0,z=1,Y=2;for(te[0]={s:-1,f:I.f+B.f,l:I,r:B};z!=ke-1;)I=te[te[M].f<te[Y].f?M++:Y++],B=te[M!=z&&te[M].f<te[Y].f?M++:Y++],te[z++]={s:-1,f:I.f+B.f,l:I,r:B};for(var re=Ge[0].s,je=1;je<ke;++je)Ge[je].s>re&&(re=Ge[je].s);var Ne=new A(re+1),ge=de(te[z-1],Ne,0);if(ge>W){var je=0,xe=0,De=ge-W,Ve=1<<De;for(Ge.sort(function(mt,yt){return Ne[yt.s]-Ne[mt.s]||mt.f-yt.f});je<ke;++je){var et=Ge[je].s;if(Ne[et]>W)xe+=Ve-(1<<ge-Ne[et]),Ne[et]=W;else break}for(xe>>=De;xe>0;){var st=Ge[je].s;Ne[st]<W?xe-=1<<W-Ne[st]++-1:++je}for(;je>=0&&xe;--je){var Oe=Ge[je].s;Ne[Oe]==W&&(--Ne[Oe],++xe)}ge=W}return{t:new f(Ne),l:ge}},de=function(R,W,te){return R.s==-1?Math.max(de(R.l,W,te+1),de(R.r,W,te+1)):W[R.s]=te},se=function(R){for(var W=R.length;W&&!R[--W];);for(var te=new A(++W),je=0,ke=R[0],Ge=1,it=function(B){te[je++]=B},I=1;I<=W;++I)if(R[I]==ke&&I!=W)++Ge;else{if(!ke&&Ge>2){for(;Ge>138;Ge-=138)it(32754);Ge>2&&(it(Ge>10?Ge-11<<5|28690:Ge-3<<5|12305),Ge=0)}else if(Ge>3){for(it(ke),--Ge;Ge>6;Ge-=6)it(8304);Ge>2&&(it(Ge-3<<5|8208),Ge=0)}for(;Ge--;)it(ke);Ge=1,ke=R[I]}return{c:te.subarray(0,je),n:W}},We=function(R,W){for(var te=0,je=0;je<W.length;++je)te+=R[je]*W[je];return te},Re=function(R,W,te){var je=te.length,ke=ue(W+2);R[ke]=je&255,R[ke+1]=je>>8,R[ke+2]=R[ke]^255,R[ke+3]=R[ke+1]^255;for(var Ge=0;Ge<je;++Ge)R[ke+Ge+4]=te[Ge];return(ke+4+je)*8},Ee=function(R,W,te,je,ke,Ge,it,I,B,M,z){Ce(W,z++,te),++ke[256];for(var Y=X(ke,15),re=Y.t,Ne=Y.l,ge=X(Ge,15),xe=ge.t,De=ge.l,Ve=se(re),et=Ve.c,st=Ve.n,Oe=se(xe),vt=Oe.c,mt=Oe.n,yt=new A(19),nt=0;nt<et.length;++nt)++yt[et[nt]&31];for(var nt=0;nt<vt.length;++nt)++yt[vt[nt]&31];for(var kt=X(yt,7),Kt=kt.t,Et=kt.l,tt=19;tt>4&&!Kt[y[tt-1]];--tt);var Qt=M+5<<3,lr=We(ke,D)+We(Ge,q)+it,qt=We(ke,re)+We(Ge,xe)+it+14+3*tt+We(yt,Kt)+2*yt[16]+3*yt[17]+7*yt[18];if(B>=0&&Qt<=lr&&Qt<=qt)return Re(W,z,R.subarray(B,B+M));var _t,or,at,dt;if(Ce(W,z,1+(qt<lr)),z+=2,qt<lr){_t=ae(re,Ne,0),or=re,at=ae(xe,De,0),dt=xe;var It=ae(Kt,Et,0);Ce(W,z,st-257),Ce(W,z+5,mt-1),Ce(W,z+10,tt-4),z+=14;for(var nt=0;nt<tt;++nt)Ce(W,z+3*nt,Kt[y[nt]]);z+=3*tt;for(var Tt=[et,vt],cr=0;cr<2;++cr)for(var Ar=Tt[cr],nt=0;nt<Ar.length;++nt){var xr=Ar[nt]&31;Ce(W,z,It[xr]),z+=Kt[xr],xr>15&&(Ce(W,z,Ar[nt]>>5&127),z+=Ar[nt]>>12)}}else _t=$,or=D,at=ye,dt=q;for(var nt=0;nt<I;++nt){var Jt=je[nt];if(Jt>255){var xr=Jt>>18&31;ce(W,z,_t[xr+257]),z+=or[xr+257],xr>7&&(Ce(W,z,Jt>>23&31),z+=m[xr]);var gr=Jt&31;ce(W,z,at[gr]),z+=dt[gr],gr>3&&(ce(W,z,Jt>>5&8191),z+=x[gr])}else ce(W,z,_t[Jt]),z+=or[Jt]}return ce(W,z,_t[256]),z+or[256]},ie=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Le=new f(0),Ze=function(R,W,te,je,ke,Ge){var it=Ge.z||R.length,I=new f(je+it+5*(1+Math.ceil(it/7e3))+ke),B=I.subarray(je,I.length-ke),M=Ge.l,z=(Ge.r||0)&7;if(W){z&&(B[0]=Ge.r>>3);for(var Y=ie[W-1],re=Y>>13,Ne=Y&8191,ge=(1<<te)-1,xe=Ge.p||new A(32768),De=Ge.h||new A(ge+1),Ve=Math.ceil(te/3),et=2*Ve,st=function(nr){return(R[nr]^R[nr+1]<<Ve^R[nr+2]<<et)&ge},Oe=new g(25e3),vt=new A(288),mt=new A(32),yt=0,nt=0,kt=Ge.i||0,Kt=0,Et=Ge.w||0,tt=0;kt+2<it;++kt){var Qt=st(kt),lr=kt&32767,qt=De[Qt];if(xe[lr]=qt,De[Qt]=lr,Et<=kt){var _t=it-kt;if((yt>7e3||Kt>24576)&&(_t>423||!M)){z=Ee(R,B,0,Oe,vt,mt,nt,Kt,tt,kt-tt,z),Kt=yt=nt=0,tt=kt;for(var or=0;or<286;++or)vt[or]=0;for(var or=0;or<30;++or)mt[or]=0}var at=2,dt=0,It=Ne,Tt=lr-qt&32767;if(_t>2&&Qt==st(kt-Tt))for(var cr=Math.min(re,_t)-1,Ar=Math.min(32767,kt),xr=Math.min(258,_t);Tt<=Ar&&--It&&lr!=qt;){if(R[kt+at]==R[kt+at-Tt]){for(var Jt=0;Jt<xr&&R[kt+Jt]==R[kt+Jt-Tt];++Jt);if(Jt>at){if(at=Jt,dt=Tt,Jt>cr)break;for(var gr=Math.min(Tt,Jt-2),Zr=0,or=0;or<gr;++or){var Hr=kt-Tt+or&32767,Ye=xe[Hr],xt=Hr-Ye&32767;xt>Zr&&(Zr=xt,qt=Hr)}}}lr=qt,qt=xe[lr],Tt+=lr-qt&32767}if(dt){Oe[Kt++]=268435456|S[at]<<18|P[dt];var Nt=S[at]&31,Wt=P[dt]&31;nt+=m[Nt]+x[Wt],++vt[257+Nt],++mt[Wt],Et=kt+at,++yt}else Oe[Kt++]=R[kt],++vt[R[kt]]}}for(kt=Math.max(kt,Et);kt<it;++kt)Oe[Kt++]=R[kt],++vt[R[kt]];z=Ee(R,B,M,Oe,vt,mt,nt,Kt,tt,kt-tt,z),M||(Ge.r=z&7|B[z/8|0]<<3,z-=7,Ge.h=De,Ge.p=xe,Ge.i=kt,Ge.w=Et)}else{for(var kt=Ge.w||0;kt<it+M;kt+=65535){var zt=kt+65535;zt>=it&&(B[z/8|0]=M,zt=it),z=Re(B,z+1,R.subarray(kt,zt))}Ge.i=it}return ve(I,0,je+ue(z)+ke)},jt=(function(){for(var R=new Int32Array(256),W=0;W<256;++W){for(var te=W,je=9;--je;)te=(te&1&&-306674912)^te>>>1;R[W]=te}return R})(),Lt=function(){var R=-1;return{p:function(W){for(var te=R,je=0;je<W.length;++je)te=jt[te&255^W[je]]^te>>>8;R=te},d:function(){return~R}}},Ct=function(){var R=1,W=0;return{p:function(te){for(var je=R,ke=W,Ge=te.length|0,it=0;it!=Ge;){for(var I=Math.min(it+2655,Ge);it<I;++it)ke+=je+=te[it];je=(je&65535)+15*(je>>16),ke=(ke&65535)+15*(ke>>16)}R=je,W=ke},d:function(){return R%=65521,W%=65521,(R&255)<<24|(R&65280)<<8|(W&255)<<8|W>>8}}},Xt=function(R,W,te,je,ke){if(!ke&&(ke={l:1},W.dictionary)){var Ge=W.dictionary.subarray(-32768),it=new f(Ge.length+R.length);it.set(Ge),it.set(R,Ge.length),R=it,ke.w=Ge.length}return Ze(R,W.level==null?6:W.level,W.mem==null?ke.l?Math.ceil(Math.max(8,Math.min(13,Math.log(R.length)))*1.5):20:12+W.mem,te,je,ke)},_r=function(R,W){var te={};for(var je in R)te[je]=R[je];for(var je in W)te[je]=W[je];return te},Or=function(R,W,te){for(var je=R(),ke=R.toString(),Ge=ke.slice(ke.indexOf("[")+1,ke.lastIndexOf("]")).replace(/\s+/g,"").split(","),it=0;it<je.length;++it){var I=je[it],B=Ge[it];if(typeof I=="function"){W+=";"+B+"=";var M=I.toString();if(I.prototype)if(M.indexOf("[native code]")!=-1){var z=M.indexOf(" ",8)+1;W+=M.slice(z,M.indexOf("(",z))}else{W+=M;for(var Y in I.prototype)W+=";"+B+".prototype."+Y+"="+I.prototype[Y].toString()}else W+=M}else te[B]=I}return W},He=[],Zt=function(R){var W=[];for(var te in R)R[te].buffer&&W.push((R[te]=new R[te].constructor(R[te])).buffer);return W},Bt=function(R,W,te,je){if(!He[te]){for(var ke="",Ge={},it=R.length-1,I=0;I<it;++I)ke=Or(R[I],ke,Ge);He[te]={c:Or(R[it],ke,Ge),e:Ge}}var B=_r({},He[te].e);return d(He[te].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+W.toString()+"}",te,B,Zt(B),je)},$r=function(){return[f,A,g,m,x,y,N,_,L,ne,Z,Ae,ae,Be,Te,me,ue,ve,Ie,Pe,vi,dr,Cr]},pr=function(){return[f,A,g,m,x,y,S,P,$,D,ye,q,Z,ie,Le,ae,Ce,ce,X,de,se,We,Re,Ee,ue,ve,Ze,Xt,ls,dr]},on=function(){return[jn,Sr,Dr,Lt,jt]},Yr=function(){return[cn,bt]},qr=function(){return[dn,Dr,Ct]},Ir=function(){return[Dn]},dr=function(R){return postMessage(R,[R.buffer])},Cr=function(R){return R&&{out:R.size&&new f(R.size),dictionary:R.dictionary}},Vr=function(R,W,te,je,ke,Ge){var it=Bt(te,je,ke,function(I,B){it.terminate(),Ge(I,B)});return it.postMessage([R,W],W.consume?[R.buffer]:[]),function(){it.terminate()}},zr=function(R){return R.ondata=function(W,te){return postMessage([W,te],[W.buffer])},function(W){W.data.length?(R.push(W.data[0],W.data[1]),postMessage([W.data[0].length])):R.flush()}},vn=function(R,W,te,je,ke,Ge,it){var I,B=Bt(R,je,ke,function(M,z){M?(B.terminate(),W.ondata.call(W,M)):Array.isArray(z)?z.length==1?(W.queuedSize-=z[0],W.ondrain&&W.ondrain(z[0])):(z[1]&&B.terminate(),W.ondata.call(W,M,z[0],z[1])):it(z)});B.postMessage(te),W.queuedSize=0,W.push=function(M,z){W.ondata||Ie(5),I&&W.ondata(Ie(4,0,1),null,!!z),W.queuedSize+=M.length,B.postMessage([M,I=z],[M.buffer])},W.terminate=function(){B.terminate()},Ge&&(W.flush=function(){B.postMessage([])})},Wr=function(R,W){return R[W]|R[W+1]<<8},$n=function(R,W){return(R[W]|R[W+1]<<8|R[W+2]<<16|R[W+3]<<24)>>>0},Lr=function(R,W){return $n(R,W)+$n(R,W+4)*4294967296},Dr=function(R,W,te){for(;te;++W)R[W]=te,te>>>=8},jn=function(R,W){var te=W.filename;if(R[0]=31,R[1]=139,R[2]=8,R[8]=W.level<2?4:W.level==9?2:0,R[9]=3,W.mtime!=0&&Dr(R,4,Math.floor(new Date(W.mtime||Date.now())/1e3)),te){R[3]=8;for(var je=0;je<=te.length;++je)R[je+10]=te.charCodeAt(je)}},cn=function(R){(R[0]!=31||R[1]!=139||R[2]!=8)&&Ie(6,"invalid gzip data");var W=R[3],te=10;W&4&&(te+=(R[10]|R[11]<<8)+2);for(var je=(W>>3&1)+(W>>4&1);je>0;je-=!R[te++]);return te+(W&2)},bt=function(R){var W=R.length;return(R[W-4]|R[W-3]<<8|R[W-2]<<16|R[W-1]<<24)>>>0},Sr=function(R){return 10+(R.filename?R.filename.length+1:0)},dn=function(R,W){var te=W.level,je=te==0?0:te<6?1:te==9?3:2;if(R[0]=120,R[1]=je<<6|(W.dictionary&&32),R[1]|=31-(R[0]<<8|R[1])%31,W.dictionary){var ke=Ct();ke.p(W.dictionary),Dr(R,2,ke.d())}},Dn=function(R,W){return((R[0]&15)!=8||R[0]>>4>7||(R[0]<<8|R[1])%31)&&Ie(6,"invalid zlib data"),(R[1]>>5&1)==+!W&&Ie(6,"invalid zlib data: "+(R[1]&32?"need":"unexpected")+" dictionary"),(R[1]>>3&4)+2};function Xr(R,W){return typeof R=="function"&&(W=R,R={}),this.ondata=W,R}var Un=(function(){function R(W,te){if(typeof W=="function"&&(te=W,W={}),this.ondata=te,this.o=W||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new f(98304),this.o.dictionary){var je=this.o.dictionary.subarray(-32768);this.b.set(je,32768-je.length),this.s.i=32768-je.length}}return R.prototype.p=function(W,te){this.ondata(Xt(W,this.o,0,0,this.s),te)},R.prototype.push=function(W,te){this.ondata||Ie(5),this.s.l&&Ie(4);var je=W.length+this.s.z;if(je>this.b.length){if(je>2*this.b.length-32768){var ke=new f(je&-32768);ke.set(this.b.subarray(0,this.s.z)),this.b=ke}var Ge=this.b.length-this.s.z;this.b.set(W.subarray(0,Ge),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(W.subarray(Ge),32768),this.s.z=W.length-Ge+32768,this.s.i=32766,this.s.w=32768}else this.b.set(W,this.s.z),this.s.z+=W.length;this.s.l=te&1,(this.s.z>this.s.w+8191||te)&&(this.p(this.b,te||!1),this.s.w=this.s.i,this.s.i-=2)},R.prototype.flush=function(){this.ondata||Ie(5),this.s.l&&Ie(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},R})(),Ur=(function(){function R(W,te){vn([pr,function(){return[zr,Un]}],this,Xr.call(this,W,te),function(je){var ke=new Un(je.data);onmessage=zr(ke)},6,1)}return R})();function ei(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),Vr(R,W,[pr],function(je){return dr(ls(je.data[0],je.data[1]))},0,te)}function ls(R,W){return Xt(R,W||{},0,0)}var Cn=(function(){function R(W,te){typeof W=="function"&&(te=W,W={}),this.ondata=te;var je=W&&W.dictionary&&W.dictionary.subarray(-32768);this.s={i:0,b:je?je.length:0},this.o=new f(32768),this.p=new f(0),je&&this.o.set(je)}return R.prototype.e=function(W){if(this.ondata||Ie(5),this.d&&Ie(4),!this.p.length)this.p=W;else if(W.length){var te=new f(this.p.length+W.length);te.set(this.p),te.set(W,this.p.length),this.p=te}},R.prototype.c=function(W){this.s.i=+(this.d=W||!1);var te=this.s.b,je=Pe(this.p,this.s,this.o);this.ondata(ve(je,te,this.s.b),this.d),this.o=ve(je,this.s.b-32768),this.s.b=this.o.length,this.p=ve(this.p,this.s.p/8|0),this.s.p&=7},R.prototype.push=function(W,te){this.e(W),this.c(te)},R})(),Bs=(function(){function R(W,te){vn([$r,function(){return[zr,Cn]}],this,Xr.call(this,W,te),function(je){var ke=new Cn(je.data);onmessage=zr(ke)},7,0)}return R})();function ji(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),Vr(R,W,[$r],function(je){return dr(vi(je.data[0],Cr(je.data[1])))},1,te)}function vi(R,W){return Pe(R,{i:2},W&&W.out,W&&W.dictionary)}var Ui=(function(){function R(W,te){this.c=Lt(),this.l=0,this.v=1,Un.call(this,W,te)}return R.prototype.push=function(W,te){this.c.p(W),this.l+=W.length,Un.prototype.push.call(this,W,te)},R.prototype.p=function(W,te){var je=Xt(W,this.o,this.v&&Sr(this.o),te&&8,this.s);this.v&&(jn(je,this.o),this.v=0),te&&(Dr(je,je.length-8,this.c.d()),Dr(je,je.length-4,this.l)),this.ondata(je,te)},R.prototype.flush=function(){Un.prototype.flush.call(this)},R})(),Bi=(function(){function R(W,te){vn([pr,on,function(){return[zr,Un,Ui]}],this,Xr.call(this,W,te),function(je){var ke=new Ui(je.data);onmessage=zr(ke)},8,1)}return R})();function Es(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),Vr(R,W,[pr,on,function(){return[ri]}],function(je){return dr(ri(je.data[0],je.data[1]))},2,te)}function ri(R,W){W||(W={});var te=Lt(),je=R.length;te.p(R);var ke=Xt(R,W,Sr(W),8),Ge=ke.length;return jn(ke,W),Dr(ke,Ge-8,te.d()),Dr(ke,Ge-4,je),ke}var Gs=(function(){function R(W,te){this.v=1,this.r=0,Cn.call(this,W,te)}return R.prototype.push=function(W,te){if(Cn.prototype.e.call(this,W),this.r+=W.length,this.v){var je=this.p.subarray(this.v-1),ke=je.length>3?cn(je):4;if(ke>je.length){if(!te)return}else this.v>1&&this.onmember&&this.onmember(this.r-je.length);this.p=je.subarray(ke),this.v=0}Cn.prototype.c.call(this,te),this.s.f&&!this.s.l&&!te&&(this.v=ue(this.s.p)+9,this.s={i:0},this.o=new f(0),this.push(new f(0),te))},R})(),Wa=(function(){function R(W,te){var je=this;vn([$r,Yr,function(){return[zr,Cn,Gs]}],this,Xr.call(this,W,te),function(ke){var Ge=new Gs(ke.data);Ge.onmember=function(it){return postMessage(it)},onmessage=zr(Ge)},9,0,function(ke){return je.onmember&&je.onmember(ke)})}return R})();function jc(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),Vr(R,W,[$r,Yr,function(){return[gs]}],function(je){return dr(gs(je.data[0],je.data[1]))},3,te)}function gs(R,W){var te=cn(R);return te+8>R.length&&Ie(6,"invalid gzip data"),Pe(R.subarray(te,-8),{i:2},W&&W.out||new f(bt(R)),W&&W.dictionary)}var Sl=(function(){function R(W,te){this.c=Ct(),this.v=1,Un.call(this,W,te)}return R.prototype.push=function(W,te){this.c.p(W),Un.prototype.push.call(this,W,te)},R.prototype.p=function(W,te){var je=Xt(W,this.o,this.v&&(this.o.dictionary?6:2),te&&4,this.s);this.v&&(dn(je,this.o),this.v=0),te&&Dr(je,je.length-4,this.c.d()),this.ondata(je,te)},R.prototype.flush=function(){Un.prototype.flush.call(this)},R})(),Cc=(function(){function R(W,te){vn([pr,qr,function(){return[zr,Un,Sl]}],this,Xr.call(this,W,te),function(je){var ke=new Sl(je.data);onmessage=zr(ke)},10,1)}return R})();function Bl(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),Vr(R,W,[pr,qr,function(){return[Hi]}],function(je){return dr(Hi(je.data[0],je.data[1]))},4,te)}function Hi(R,W){W||(W={});var te=Ct();te.p(R);var je=Xt(R,W,W.dictionary?6:2,4);return dn(je,W),Dr(je,je.length-4,te.d()),je}var vo=(function(){function R(W,te){Cn.call(this,W,te),this.v=W&&W.dictionary?2:1}return R.prototype.push=function(W,te){if(Cn.prototype.e.call(this,W),this.v){if(this.p.length<6&&!te)return;this.p=this.p.subarray(Dn(this.p,this.v-1)),this.v=0}te&&(this.p.length<4&&Ie(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Cn.prototype.c.call(this,te)},R})(),ha=(function(){function R(W,te){vn([$r,Ir,function(){return[zr,Cn,vo]}],this,Xr.call(this,W,te),function(je){var ke=new vo(je.data);onmessage=zr(ke)},11,0)}return R})();function Zl(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),Vr(R,W,[$r,Ir,function(){return[ni]}],function(je){return dr(ni(je.data[0],Cr(je.data[1])))},5,te)}function ni(R,W){return Pe(R.subarray(Dn(R,W&&W.dictionary),-4),{i:2},W&&W.out,W&&W.dictionary)}var Eo=(function(){function R(W,te){this.o=Xr.call(this,W,te)||{},this.G=Gs,this.I=Cn,this.Z=vo}return R.prototype.i=function(){var W=this;this.s.ondata=function(te,je){W.ondata(te,je)}},R.prototype.push=function(W,te){if(this.ondata||Ie(5),this.s)this.s.push(W,te);else{if(this.p&&this.p.length){var je=new f(this.p.length+W.length);je.set(this.p),je.set(W,this.p.length)}else this.p=W;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,te),this.p=null)}},R})(),qs=(function(){function R(W,te){Eo.call(this,W,te),this.queuedSize=0,this.G=Wa,this.I=Bs,this.Z=ha}return R.prototype.i=function(){var W=this;this.s.ondata=function(te,je,ke){W.ondata(te,je,ke)},this.s.ondrain=function(te){W.queuedSize-=te,W.ondrain&&W.ondrain(te)}},R.prototype.push=function(W,te){this.queuedSize+=W.length,Eo.prototype.push.call(this,W,te)},R})();function Io(R,W,te){return te||(te=W,W={}),typeof te!="function"&&Ie(7),R[0]==31&&R[1]==139&&R[2]==8?jc(R,W,te):(R[0]&15)!=8||R[0]>>4>7||(R[0]<<8|R[1])%31?ji(R,W,te):Zl(R,W,te)}function tl(R,W){return R[0]==31&&R[1]==139&&R[2]==8?gs(R,W):(R[0]&15)!=8||R[0]>>4>7||(R[0]<<8|R[1])%31?vi(R,W):ni(R,W)}var To=function(R,W,te,je){for(var ke in R){var Ge=R[ke],it=W+ke,I=je;Array.isArray(Ge)&&(I=_r(je,Ge[1]),Ge=Ge[0]),Ge instanceof f?te[it]=[Ge,I]:(te[it+="/"]=[new f(0),I],To(Ge,it,te,je))}},Qs=typeof TextEncoder<"u"&&new TextEncoder,Ci=typeof TextDecoder<"u"&&new TextDecoder,ai=0;try{Ci.decode(Le,{stream:!0}),ai=1}catch{}var Al=function(R){for(var W="",te=0;;){var je=R[te++],ke=(je>127)+(je>223)+(je>239);if(te+ke>R.length)return{s:W,r:ve(R,te-1)};ke?ke==3?(je=((je&15)<<18|(R[te++]&63)<<12|(R[te++]&63)<<6|R[te++]&63)-65536,W+=String.fromCharCode(55296|je>>10,56320|je&1023)):ke&1?W+=String.fromCharCode((je&31)<<6|R[te++]&63):W+=String.fromCharCode((je&15)<<12|(R[te++]&63)<<6|R[te++]&63):W+=String.fromCharCode(je)}},_o=(function(){function R(W){this.ondata=W,ai?this.t=new TextDecoder:this.p=Le}return R.prototype.push=function(W,te){if(this.ondata||Ie(5),te=!!te,this.t){this.ondata(this.t.decode(W,{stream:!0}),te),te&&(this.t.decode().length&&Ie(8),this.t=null);return}this.p||Ie(4);var je=new f(this.p.length+W.length);je.set(this.p),je.set(W,this.p.length);var ke=Al(je),Ge=ke.s,it=ke.r;te?(it.length&&Ie(8),this.p=null):this.p=it,this.ondata(Ge,te)},R})(),Uc=(function(){function R(W){this.ondata=W}return R.prototype.push=function(W,te){this.ondata||Ie(5),this.d&&Ie(4),this.ondata(cs(W),this.d=te||!1)},R})();function cs(R,W){if(W){for(var te=new f(R.length),je=0;je<R.length;++je)te[je]=R.charCodeAt(je);return te}if(Qs)return Qs.encode(R);for(var ke=R.length,Ge=new f(R.length+(R.length>>1)),it=0,I=function(z){Ge[it++]=z},je=0;je<ke;++je){if(it+5>Ge.length){var B=new f(it+8+(ke-je<<1));B.set(Ge),Ge=B}var M=R.charCodeAt(je);M<128||W?I(M):M<2048?(I(192|M>>6),I(128|M&63)):M>55295&&M<57344?(M=65536+(M&1047552)|R.charCodeAt(++je)&1023,I(240|M>>18),I(128|M>>12&63),I(128|M>>6&63),I(128|M&63)):(I(224|M>>12),I(128|M>>6&63),I(128|M&63))}return ve(Ge,0,it)}function qn(R,W){if(W){for(var te="",je=0;je<R.length;je+=16384)te+=String.fromCharCode.apply(null,R.subarray(je,je+16384));return te}else{if(Ci)return Ci.decode(R);var ke=Al(R),Ge=ke.s,te=ke.r;return te.length&&Ie(8),Ge}}var Qi=function(R){return R==1?3:R<6?2:R==9?1:0},vs=function(R,W){return W+30+Wr(R,W+26)+Wr(R,W+28)},xs=function(R,W,te){var je=Wr(R,W+28),ke=qn(R.subarray(W+46,W+46+je),!(Wr(R,W+8)&2048)),Ge=W+46+je,it=$n(R,W+20),I=te&&it==4294967295?Oo(R,Ge):[it,$n(R,W+24),$n(R,W+42)],B=I[0],M=I[1],z=I[2];return[Wr(R,W+10),B,M,ke,Ge+Wr(R,W+30)+Wr(R,W+32),z]},Oo=function(R,W){for(;Wr(R,W)!=1;W+=4+Wr(R,W+2));return[Lr(R,W+12),Lr(R,W+4),Lr(R,W+20)]},Di=function(R){var W=0;if(R)for(var te in R){var je=R[te].length;je>65535&&Ie(9),W+=je+4}return W},oo=function(R,W,te,je,ke,Ge,it,I){var B=je.length,M=te.extra,z=I&&I.length,Y=Di(M);Dr(R,W,it!=null?33639248:67324752),W+=4,it!=null&&(R[W++]=20,R[W++]=te.os),R[W]=20,W+=2,R[W++]=te.flag<<1|(Ge<0&&8),R[W++]=ke&&8,R[W++]=te.compression&255,R[W++]=te.compression>>8;var re=new Date(te.mtime==null?Date.now():te.mtime),Ne=re.getFullYear()-1980;if((Ne<0||Ne>119)&&Ie(10),Dr(R,W,Ne<<25|re.getMonth()+1<<21|re.getDate()<<16|re.getHours()<<11|re.getMinutes()<<5|re.getSeconds()>>1),W+=4,Ge!=-1&&(Dr(R,W,te.crc),Dr(R,W+4,Ge<0?-Ge-2:Ge),Dr(R,W+8,te.size)),Dr(R,W+12,B),Dr(R,W+14,Y),W+=16,it!=null&&(Dr(R,W,z),Dr(R,W+6,te.attrs),Dr(R,W+10,it),W+=14),R.set(je,W),W+=B,Y)for(var ge in M){var xe=M[ge],De=xe.length;Dr(R,W,+ge),Dr(R,W+2,De),R.set(xe,W+4),W+=4+De}return z&&(R.set(I,W),W+=z),W},Xi=function(R,W,te,je,ke){Dr(R,W,101010256),Dr(R,W+8,te),Dr(R,W+10,te),Dr(R,W+12,je),Dr(R,W+16,ke)},ki=(function(){function R(W){this.filename=W,this.c=Lt(),this.size=0,this.compression=0}return R.prototype.process=function(W,te){this.ondata(null,W,te)},R.prototype.push=function(W,te){this.ondata||Ie(5),this.c.p(W),this.size+=W.length,te&&(this.crc=this.c.d()),this.process(W,te||!1)},R})(),xo=(function(){function R(W,te){var je=this;te||(te={}),ki.call(this,W),this.d=new Un(te,function(ke,Ge){je.ondata(null,ke,Ge)}),this.compression=8,this.flag=Qi(te.level)}return R.prototype.process=function(W,te){try{this.d.push(W,te)}catch(je){this.ondata(je,null,te)}},R.prototype.push=function(W,te){ki.prototype.push.call(this,W,te)},R})(),ko=(function(){function R(W,te){var je=this;te||(te={}),ki.call(this,W),this.d=new Ur(te,function(ke,Ge,it){je.ondata(ke,Ge,it)}),this.compression=8,this.flag=Qi(te.level),this.terminate=this.d.terminate}return R.prototype.process=function(W,te){this.d.push(W,te)},R.prototype.push=function(W,te){ki.prototype.push.call(this,W,te)},R})(),ma=(function(){function R(W){this.ondata=W,this.u=[],this.d=1}return R.prototype.add=function(W){var te=this;if(this.ondata||Ie(5),this.d&2)this.ondata(Ie(4+(this.d&1)*8,0,1),null,!1);else{var je=cs(W.filename),ke=je.length,Ge=W.comment,it=Ge&&cs(Ge),I=ke!=W.filename.length||it&&Ge.length!=it.length,B=ke+Di(W.extra)+30;ke>65535&&this.ondata(Ie(11,0,1),null,!1);var M=new f(B);oo(M,0,W,je,I,-1);var z=[M],Y=function(){for(var De=0,Ve=z;De<Ve.length;De++){var et=Ve[De];te.ondata(null,et,!1)}z=[]},re=this.d;this.d=0;var Ne=this.u.length,ge=_r(W,{f:je,u:I,o:it,t:function(){W.terminate&&W.terminate()},r:function(){if(Y(),re){var De=te.u[Ne+1];De?De.r():te.d=1}re=1}}),xe=0;W.ondata=function(De,Ve,et){if(De)te.ondata(De,Ve,et),te.terminate();else if(xe+=Ve.length,z.push(Ve),et){var st=new f(16);Dr(st,0,134695760),Dr(st,4,W.crc),Dr(st,8,xe),Dr(st,12,W.size),z.push(st),ge.c=xe,ge.b=B+xe+16,ge.crc=W.crc,ge.size=W.size,re&&ge.r(),re=1}else re&&Y()},this.u.push(ge)}},R.prototype.end=function(){var W=this;if(this.d&2){this.ondata(Ie(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){W.d&1&&(W.u.splice(-1,1),W.e())},t:function(){}}),this.d=3},R.prototype.e=function(){for(var W=0,te=0,je=0,ke=0,Ge=this.u;ke<Ge.length;ke++){var it=Ge[ke];je+=46+it.f.length+Di(it.extra)+(it.o?it.o.length:0)}for(var I=new f(je+22),B=0,M=this.u;B<M.length;B++){var it=M[B];oo(I,W,it,it.f,it.u,-it.c-2,te,it.o),W+=46+it.f.length+Di(it.extra)+(it.o?it.o.length:0),te+=it.b}Xi(I,W,this.u.length,je,te),this.ondata(null,I,!0),this.d=2},R.prototype.terminate=function(){for(var W=0,te=this.u;W<te.length;W++){var je=te[W];je.t()}this.d=2},R})();function Wi(R,W,te){te||(te=W,W={}),typeof te!="function"&&Ie(7);var je={};To(R,"",je,W);var ke=Object.keys(je),Ge=ke.length,it=0,I=0,B=Ge,M=new Array(Ge),z=[],Y=function(){for(var De=0;De<z.length;++De)z[De]()},re=function(De,Ve){Q(function(){te(De,Ve)})};Q(function(){re=te});var Ne=function(){var De=new f(I+22),Ve=it,et=I-it;I=0;for(var st=0;st<B;++st){var Oe=M[st];try{var vt=Oe.c.length;oo(De,I,Oe,Oe.f,Oe.u,vt);var mt=30+Oe.f.length+Di(Oe.extra),yt=I+mt;De.set(Oe.c,yt),oo(De,it,Oe,Oe.f,Oe.u,vt,I,Oe.m),it+=16+mt+(Oe.m?Oe.m.length:0),I=yt+vt}catch(nt){return re(nt,null)}}Xi(De,it,M.length,et,Ve),re(null,De)};Ge||Ne();for(var ge=function(De){var Ve=ke[De],et=je[Ve],st=et[0],Oe=et[1],vt=Lt(),mt=st.length;vt.p(st);var yt=cs(Ve),nt=yt.length,kt=Oe.comment,Kt=kt&&cs(kt),Et=Kt&&Kt.length,tt=Di(Oe.extra),Qt=Oe.level==0?0:8,lr=function(qt,_t){if(qt)Y(),re(qt,null);else{var or=_t.length;M[De]=_r(Oe,{size:mt,crc:vt.d(),c:_t,f:yt,m:Kt,u:nt!=Ve.length||Kt&&kt.length!=Et,compression:Qt}),it+=30+nt+tt+or,I+=76+2*(nt+tt)+(Et||0)+or,--Ge||Ne()}};if(nt>65535&&lr(Ie(11,0,1),null),!Qt)lr(null,st);else if(mt<16e4)try{lr(null,ls(st,Oe))}catch(qt){lr(qt,null)}else z.push(ei(st,Oe,lr))},xe=0;xe<B;++xe)ge(xe);return Y}function ys(R,W){W||(W={});var te={},je=[];To(R,"",te,W);var ke=0,Ge=0;for(var it in te){var I=te[it],B=I[0],M=I[1],z=M.level==0?0:8,Y=cs(it),re=Y.length,Ne=M.comment,ge=Ne&&cs(Ne),xe=ge&&ge.length,De=Di(M.extra);re>65535&&Ie(11);var Ve=z?ls(B,M):B,et=Ve.length,st=Lt();st.p(B),je.push(_r(M,{size:B.length,crc:st.d(),c:Ve,f:Y,m:ge,u:re!=it.length||ge&&Ne.length!=xe,o:ke,compression:z})),ke+=30+re+De+et,Ge+=76+2*(re+De)+(xe||0)+et}for(var Oe=new f(Ge+22),vt=ke,mt=Ge-ke,yt=0;yt<je.length;++yt){var Y=je[yt];oo(Oe,Y.o,Y,Y.f,Y.u,Y.c.length);var nt=30+Y.f.length+Di(Y.extra);Oe.set(Y.c,Y.o+nt),oo(Oe,ke,Y,Y.f,Y.u,Y.c.length,Y.o,Y.m),ke+=16+nt+(Y.m?Y.m.length:0)}return Xi(Oe,ke,je.length,mt,vt),Oe}var Xs=(function(){function R(){}return R.prototype.push=function(W,te){this.ondata(null,W,te)},R.compression=0,R})(),Ps=(function(){function R(){var W=this;this.i=new Cn(function(te,je){W.ondata(null,te,je)})}return R.prototype.push=function(W,te){try{this.i.push(W,te)}catch(je){this.ondata(je,null,te)}},R.compression=8,R})(),Po=(function(){function R(W,te){var je=this;te<32e4?this.i=new Cn(function(ke,Ge){je.ondata(null,ke,Ge)}):(this.i=new Bs(function(ke,Ge,it){je.ondata(ke,Ge,it)}),this.terminate=this.i.terminate)}return R.prototype.push=function(W,te){this.i.terminate&&(W=ve(W,0)),this.i.push(W,te)},R.compression=8,R})(),Ut=(function(){function R(W){this.onfile=W,this.k=[],this.o={0:Xs},this.p=Le}return R.prototype.push=function(W,te){var je=this;if(this.onfile||Ie(5),this.p||Ie(4),this.c>0){var ke=Math.min(this.c,W.length),Ge=W.subarray(0,ke);if(this.c-=ke,this.d?this.d.push(Ge,!this.c):this.k[0].push(Ge),W=W.subarray(ke),W.length)return this.push(W,te)}else{var it=0,I=0,B=void 0,M=void 0;this.p.length?W.length?(M=new f(this.p.length+W.length),M.set(this.p),M.set(W,this.p.length)):M=this.p:M=W;for(var z=M.length,Y=this.c,re=Y&&this.d,Ne=function(){var Ve,et=$n(M,I);if(et==67324752){it=1,B=I,ge.d=null,ge.c=0;var st=Wr(M,I+6),Oe=Wr(M,I+8),vt=st&2048,mt=st&8,yt=Wr(M,I+26),nt=Wr(M,I+28);if(z>I+30+yt+nt){var kt=[];ge.k.unshift(kt),it=2;var Kt=$n(M,I+18),Et=$n(M,I+22),tt=qn(M.subarray(I+30,I+=30+yt),!vt);Kt==4294967295?(Ve=mt?[-2]:Oo(M,I),Kt=Ve[0],Et=Ve[1]):mt&&(Kt=-1),I+=nt,ge.c=Kt;var Qt,lr={name:tt,compression:Oe,start:function(){if(lr.ondata||Ie(5),!Kt)lr.ondata(null,Le,!0);else{var qt=je.o[Oe];qt||lr.ondata(Ie(14,"unknown compression type "+Oe,1),null,!1),Qt=Kt<0?new qt(tt):new qt(tt,Kt,Et),Qt.ondata=function(dt,It,Tt){lr.ondata(dt,It,Tt)};for(var _t=0,or=kt;_t<or.length;_t++){var at=or[_t];Qt.push(at,!1)}je.k[0]==kt&&je.c?je.d=Qt:Qt.push(Le,!0)}},terminate:function(){Qt&&Qt.terminate&&Qt.terminate()}};Kt>=0&&(lr.size=Kt,lr.originalSize=Et),ge.onfile(lr)}return"break"}else if(Y){if(et==134695760)return B=I+=12+(Y==-2&&8),it=3,ge.c=0,"break";if(et==33639248)return B=I-=4,it=3,ge.c=0,"break"}},ge=this;I<z-4;++I){var xe=Ne();if(xe==="break")break}if(this.p=Le,Y<0){var De=it?M.subarray(0,B-12-(Y==-2&&8)-($n(M,B-16)==134695760&&4)):M.subarray(0,I);re?re.push(De,!!it):this.k[+(it==2)].push(De)}if(it&2)return this.push(M.subarray(I),te);this.p=M.subarray(I)}te&&(this.c&&Ie(13),this.p=null)},R.prototype.register=function(W){this.o[W.compression]=W},R})(),Q=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(R){R()};function oe(R,W,te){te||(te=W,W={}),typeof te!="function"&&Ie(7);var je=[],ke=function(){for(var De=0;De<je.length;++De)je[De]()},Ge={},it=function(De,Ve){Q(function(){te(De,Ve)})};Q(function(){it=te});for(var I=R.length-22;$n(R,I)!=101010256;--I)if(!I||R.length-I>65558)return it(Ie(13,0,1),null),ke;var B=Wr(R,I+8);if(B){var M=B,z=$n(R,I+16),Y=z==4294967295||M==65535;if(Y){var re=$n(R,I-12);Y=$n(R,re)==101075792,Y&&(M=B=$n(R,re+32),z=$n(R,re+48))}for(var Ne=W&&W.filter,ge=function(De){var Ve=xs(R,z,Y),et=Ve[0],st=Ve[1],Oe=Ve[2],vt=Ve[3],mt=Ve[4],yt=Ve[5],nt=vs(R,yt);z=mt;var kt=function(Et,tt){Et?(ke(),it(Et,null)):(tt&&(Ge[vt]=tt),--B||it(null,Ge))};if(!Ne||Ne({name:vt,size:st,originalSize:Oe,compression:et}))if(!et)kt(null,ve(R,nt,nt+st));else if(et==8){var Kt=R.subarray(nt,nt+st);if(Oe<524288||st>.8*Oe)try{kt(null,vi(Kt,{out:new f(Oe)}))}catch(Et){kt(Et,null)}else je.push(ji(Kt,{size:Oe},kt))}else kt(Ie(14,"unknown compression type "+et,1),null);else kt(null,null)},xe=0;xe<M;++xe)ge(xe)}else it(null,{});return ke}function he(R,W){for(var te={},je=R.length-22;$n(R,je)!=101010256;--je)(!je||R.length-je>65558)&&Ie(13);var ke=Wr(R,je+8);if(!ke)return{};var Ge=$n(R,je+16),it=Ge==4294967295||ke==65535;if(it){var I=$n(R,je-12);it=$n(R,I)==101075792,it&&(ke=$n(R,I+32),Ge=$n(R,I+48))}for(var B=W&&W.filter,M=0;M<ke;++M){var z=xs(R,Ge,it),Y=z[0],re=z[1],Ne=z[2],ge=z[3],xe=z[4],De=z[5],Ve=vs(R,De);Ge=xe,(!B||B({name:ge,size:re,originalSize:Ne,compression:Y}))&&(Y?Y==8?te[ge]=vi(R.subarray(Ve,Ve+re),{out:new f(Ne)}):Ie(14,"unknown compression type "+Y):te[ge]=ve(R,Ve,Ve+re))}return te}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(l,u,o){o.r(u),o.d(u,{IOBuffer:function(){return g}});var h=o("./node_modules/iobuffer/lib-esm/text.js");const d=1024*8,f=(()=>{const m=new Uint8Array(4),x=new Uint32Array(m.buffer);return!((x[0]=1)&m[0])})(),A={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{constructor(x=d,y={}){Gi(this,"buffer");Gi(this,"byteLength");Gi(this,"byteOffset");Gi(this,"length");Gi(this,"offset");Gi(this,"lastWrittenByte");Gi(this,"littleEndian");Gi(this,"_data");Gi(this,"_mark");Gi(this,"_marks");let b=!1;typeof x=="number"?x=new ArrayBuffer(x):(b=!0,this.lastWrittenByte=x.byteLength);const w=y.offset?y.offset>>>0:0,N=x.byteLength-w;let S=w;(ArrayBuffer.isView(x)||x instanceof g)&&(x.byteLength!==x.buffer.byteLength&&(S=x.byteOffset+w),x=x.buffer),b?this.lastWrittenByte=N:this.lastWrittenByte=0,this.buffer=x,this.length=N,this.byteLength=N,this.byteOffset=S,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,S,N),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const b=(this.offset+x)*2,w=new Uint8Array(b);w.set(new Uint8Array(this.buffer)),this.buffer=w.buffer,this.length=b,this.byteLength=b,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const b=A[y].BYTES_PER_ELEMENT*x,w=this.byteOffset+this.offset,N=this.buffer.slice(w,w+b);if(this.littleEndian===f&&y!=="uint8"&&y!=="int8"){const j=new Uint8Array(this.buffer.slice(w,w+b));j.reverse();const _=new A[y](j.buffer);return this.offset+=b,_.reverse(),_}const S=new A[y](N);return this.offset+=b,S}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let b=0;b<x;b++)y+=this.readChar();return y}readUtf8(x=1){return(0,h.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,h.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,h.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(l,u,o){o.r(u),o.d(u,{decode:function(){return h},encode:function(){return f}});function h(A,g="utf8"){return new TextDecoder(g).decode(A)}const d=new TextEncoder;function f(A){return d.encode(A)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(l,u,o){o.r(u),o.d(u,{AcroForm:function(){return ls},AcroFormAppearance:function(){return Ur},AcroFormButton:function(){return cn},AcroFormCheckBox:function(){return Dn},AcroFormChoiceField:function(){return $n},AcroFormComboBox:function(){return Dr},AcroFormEditBox:function(){return jn},AcroFormListBox:function(){return Lr},AcroFormPasswordField:function(){return Un},AcroFormPushButton:function(){return bt},AcroFormRadioButton:function(){return Sr},AcroFormTextField:function(){return Xr},GState:function(){return Pe},ShadingPattern:function(){return ce},TilingPattern:function(){return X},default:function(){return de},jsPDF:function(){return de}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=o("./node_modules/fflate/esm/browser.js"),f=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),A=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var g=(function(){return typeof window<"u"?window:typeof of<"u"?of:typeof self<"u"?self:this})();function m(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var x={log:m,warn:function(I){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):m.call(null,arguments))},error:function(I){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):m(I))}};function y(I,B,M){var z=new XMLHttpRequest;z.open("GET",I),z.responseType="blob",z.onload=function(){N(z.response,B,M)},z.onerror=function(){x.error("could not download file")},z.send()}function b(I){var B=new XMLHttpRequest;B.open("HEAD",I,!1);try{B.send()}catch{}return B.status>=200&&B.status<=299}function w(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(B)}}var N=g.saveAs||((typeof window>"u"?"undefined":(0,h.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(I,B,M){var z=g.URL||g.webkitURL,Y=document.createElement("a");B=B||I.name||"download",Y.download=B,Y.rel="noopener",typeof I=="string"?(Y.href=I,Y.origin!==location.origin?b(Y.href)?y(I,B,M):w(Y,Y.target="_blank"):w(Y)):(Y.href=z.createObjectURL(I),setTimeout(function(){z.revokeObjectURL(Y.href)},4e4),setTimeout(function(){w(Y)},0))}:"msSaveOrOpenBlob"in navigator?function(I,B,M){if(B=B||I.name||"download",typeof I=="string")if(b(I))y(I,B,M);else{var z=document.createElement("a");z.href=I,z.target="_blank",setTimeout(function(){w(z)})}else navigator.msSaveOrOpenBlob((function(Y,re){return re===void 0?re={autoBom:!1}:(0,h.default)(re)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),re={autoBom:!re}),re.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Y.type)?new Blob(["\uFEFF",Y],{type:Y.type}):Y})(I,M),B)}:function(I,B,M,z){if((z=z||open("","_blank"))&&(z.document.title=z.document.body.innerText="downloading..."),typeof I=="string")return y(I,B,M);var Y=I.type==="application/octet-stream",re=/constructor/i.test(g.HTMLElement)||g.safari,Ne=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ne||Y&&re)&&(typeof FileReader>"u"?"undefined":(0,h.default)(FileReader))==="object"){var ge=new FileReader;ge.onloadend=function(){var Ve=ge.result;Ve=Ne?Ve:Ve.replace(/^data:[^;]*;/,"data:attachment/file;"),z?z.location.href=Ve:location=Ve,z=null},ge.readAsDataURL(I)}else{var xe=g.URL||g.webkitURL,De=xe.createObjectURL(I);z?z.location=De:location.href=De,z=null,setTimeout(function(){xe.revokeObjectURL(De)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S(I){var B;I=I||"",this.ok=!1,I.charAt(0)=="#"&&(I=I.substr(1,6)),I={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[I=(I=I.replace(/ /g,"")).toLowerCase()]||I;for(var M=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ge){return[parseInt(ge[1]),parseInt(ge[2]),parseInt(ge[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ge){return[parseInt(ge[1],16),parseInt(ge[2],16),parseInt(ge[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ge){return[parseInt(ge[1]+ge[1],16),parseInt(ge[2]+ge[2],16),parseInt(ge[3]+ge[3],16)]}}],z=0;z<M.length;z++){var Y=M[z].re,re=M[z].process,Ne=Y.exec(I);Ne&&(B=re(Ne),this.r=B[0],this.g=B[1],this.b=B[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ge=this.r.toString(16),xe=this.g.toString(16),De=this.b.toString(16);return ge.length==1&&(ge="0"+ge),xe.length==1&&(xe="0"+xe),De.length==1&&(De="0"+De),"#"+ge+xe+De}}var j=g.atob.bind(g),_=g.btoa.bind(g);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function P(I,B){var M=I[0],z=I[1],Y=I[2],re=I[3];M=ee(M,z,Y,re,B[0],7,-680876936),re=ee(re,M,z,Y,B[1],12,-389564586),Y=ee(Y,re,M,z,B[2],17,606105819),z=ee(z,Y,re,M,B[3],22,-1044525330),M=ee(M,z,Y,re,B[4],7,-176418897),re=ee(re,M,z,Y,B[5],12,1200080426),Y=ee(Y,re,M,z,B[6],17,-1473231341),z=ee(z,Y,re,M,B[7],22,-45705983),M=ee(M,z,Y,re,B[8],7,1770035416),re=ee(re,M,z,Y,B[9],12,-1958414417),Y=ee(Y,re,M,z,B[10],17,-42063),z=ee(z,Y,re,M,B[11],22,-1990404162),M=ee(M,z,Y,re,B[12],7,1804603682),re=ee(re,M,z,Y,B[13],12,-40341101),Y=ee(Y,re,M,z,B[14],17,-1502002290),M=K(M,z=ee(z,Y,re,M,B[15],22,1236535329),Y,re,B[1],5,-165796510),re=K(re,M,z,Y,B[6],9,-1069501632),Y=K(Y,re,M,z,B[11],14,643717713),z=K(z,Y,re,M,B[0],20,-373897302),M=K(M,z,Y,re,B[5],5,-701558691),re=K(re,M,z,Y,B[10],9,38016083),Y=K(Y,re,M,z,B[15],14,-660478335),z=K(z,Y,re,M,B[4],20,-405537848),M=K(M,z,Y,re,B[9],5,568446438),re=K(re,M,z,Y,B[14],9,-1019803690),Y=K(Y,re,M,z,B[3],14,-187363961),z=K(z,Y,re,M,B[8],20,1163531501),M=K(M,z,Y,re,B[13],5,-1444681467),re=K(re,M,z,Y,B[2],9,-51403784),Y=K(Y,re,M,z,B[7],14,1735328473),M=ae(M,z=K(z,Y,re,M,B[12],20,-1926607734),Y,re,B[5],4,-378558),re=ae(re,M,z,Y,B[8],11,-2022574463),Y=ae(Y,re,M,z,B[11],16,1839030562),z=ae(z,Y,re,M,B[14],23,-35309556),M=ae(M,z,Y,re,B[1],4,-1530992060),re=ae(re,M,z,Y,B[4],11,1272893353),Y=ae(Y,re,M,z,B[7],16,-155497632),z=ae(z,Y,re,M,B[10],23,-1094730640),M=ae(M,z,Y,re,B[13],4,681279174),re=ae(re,M,z,Y,B[0],11,-358537222),Y=ae(Y,re,M,z,B[3],16,-722521979),z=ae(z,Y,re,M,B[6],23,76029189),M=ae(M,z,Y,re,B[9],4,-640364487),re=ae(re,M,z,Y,B[12],11,-421815835),Y=ae(Y,re,M,z,B[15],16,530742520),M=D(M,z=ae(z,Y,re,M,B[2],23,-995338651),Y,re,B[0],6,-198630844),re=D(re,M,z,Y,B[7],10,1126891415),Y=D(Y,re,M,z,B[14],15,-1416354905),z=D(z,Y,re,M,B[5],21,-57434055),M=D(M,z,Y,re,B[12],6,1700485571),re=D(re,M,z,Y,B[3],10,-1894986606),Y=D(Y,re,M,z,B[10],15,-1051523),z=D(z,Y,re,M,B[1],21,-2054922799),M=D(M,z,Y,re,B[8],6,1873313359),re=D(re,M,z,Y,B[15],10,-30611744),Y=D(Y,re,M,z,B[6],15,-1560198380),z=D(z,Y,re,M,B[13],21,1309151649),M=D(M,z,Y,re,B[4],6,-145523070),re=D(re,M,z,Y,B[11],10,-1120210379),Y=D(Y,re,M,z,B[2],15,718787259),z=D(z,Y,re,M,B[9],21,-343485551),I[0]=me(M,I[0]),I[1]=me(z,I[1]),I[2]=me(Y,I[2]),I[3]=me(re,I[3])}function Z(I,B,M,z,Y,re){return B=me(me(B,I),me(z,re)),me(B<<Y|B>>>32-Y,M)}function ee(I,B,M,z,Y,re,Ne){return Z(B&M|~B&z,I,B,Y,re,Ne)}function K(I,B,M,z,Y,re,Ne){return Z(B&z|M&~z,I,B,Y,re,Ne)}function ae(I,B,M,z,Y,re,Ne){return Z(B^M^z,I,B,Y,re,Ne)}function D(I,B,M,z,Y,re,Ne){return Z(M^(B|~z),I,B,Y,re,Ne)}function q(I){var B,M=I.length,z=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=I.length;B+=64)P(z,$(I.substring(B-64,B)));I=I.substring(B-64);var Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<I.length;B++)Y[B>>2]|=I.charCodeAt(B)<<(B%4<<3);if(Y[B>>2]|=128<<(B%4<<3),B>55)for(P(z,Y),B=0;B<16;B++)Y[B]=0;return Y[14]=8*M,P(z,Y),z}function $(I){var B,M=[];for(B=0;B<64;B+=4)M[B>>2]=I.charCodeAt(B)+(I.charCodeAt(B+1)<<8)+(I.charCodeAt(B+2)<<16)+(I.charCodeAt(B+3)<<24);return M}var L="0123456789abcdef".split("");function ye(I){for(var B="",M=0;M<4;M++)B+=L[I>>8*M+4&15]+L[I>>8*M&15];return B}function ne(I){return String.fromCharCode(255&I,(65280&I)>>8,(16711680&I)>>16,(4278190080&I)>>24)}function Be(I){return q(I).map(ne).join("")}var Te=(function(I){for(var B=0;B<I.length;B++)I[B]=ye(I[B]);return I.join("")})(q("hello"))!="5d41402abc4b2a76b9719d911017c592";function me(I,B){if(Te){var M=(65535&I)+(65535&B);return(I>>16)+(B>>16)+(M>>16)<<16|65535&M}return I+B&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ue(I,B){var M,z,Y,re;if(I!==M){for(var Ne=(Y=I,re=1+(256/I.length|0),new Array(re+1).join(Y)),ge=[],xe=0;xe<256;xe++)ge[xe]=xe;var De=0;for(xe=0;xe<256;xe++){var Ve=ge[xe];De=(De+Ve+Ne.charCodeAt(xe))%256,ge[xe]=ge[De],ge[De]=Ve}M=I,z=ge}else ge=z;var et=B.length,st=0,Oe=0,vt="";for(xe=0;xe<et;xe++)Oe=(Oe+(Ve=ge[st=(st+1)%256]))%256,ge[st]=ge[Oe],ge[Oe]=Ve,Ne=ge[(ge[st]+ge[Oe])%256],vt+=String.fromCharCode(B.charCodeAt(xe)^Ne);return vt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ve={print:4,modify:8,copy:16,"annot-forms":32};function le(I,B,M,z){this.v=1,this.r=2;var Y=192;I.forEach(function(ge){if(ve.perm!==void 0)throw new Error("Invalid permission: "+ge);Y+=ve[ge]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var re=(B+this.padding).substr(0,32),Ne=(M+this.padding).substr(0,32);this.O=this.processOwnerPassword(re,Ne),this.P=-(1+(255^Y)),this.encryptionKey=Be(re+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(z)).substr(0,5),this.U=ue(this.encryptionKey,this.padding)}function Ae(I){if(/[^\u0000-\u00ff]/.test(I))throw new Error("Invalid PDF Name Object: "+I+", Only accept ASCII characters.");for(var B="",M=I.length,z=0;z<M;z++){var Y=I.charCodeAt(z);B+=Y<33||Y===35||Y===37||Y===40||Y===41||Y===47||Y===60||Y===62||Y===91||Y===93||Y===123||Y===125||Y>126?"#"+("0"+Y.toString(16)).slice(-2):I[z]}return B}function Ie(I){if((0,h.default)(I)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var B={};this.subscribe=function(M,z,Y){if(Y=Y||!1,typeof M!="string"||typeof z!="function"||typeof Y!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");B.hasOwnProperty(M)||(B[M]={});var re=Math.random().toString(35);return B[M][re]=[z,!!Y],re},this.unsubscribe=function(M){for(var z in B)if(B[z][M])return delete B[z][M],Object.keys(B[z]).length===0&&delete B[z],!0;return!1},this.publish=function(M){if(B.hasOwnProperty(M)){var z=Array.prototype.slice.call(arguments,1),Y=[];for(var re in B[M]){var Ne=B[M][re];try{Ne[0].apply(I,z)}catch(ge){g.console&&x.error("jsPDF PubSub Error",ge.message,ge)}Ne[1]&&Y.push(re)}Y.length&&Y.forEach(this.unsubscribe)}},this.getTopics=function(){return B}}function Pe(I){if(!(this instanceof Pe))return new Pe(I);var B="opacity,stroke-opacity".split(",");for(var M in I)I.hasOwnProperty(M)&&B.indexOf(M)>=0&&(this[M]=I[M]);this.id="",this.objectNumber=-1}function Ce(I,B){this.gState=I,this.matrix=B,this.id="",this.objectNumber=-1}function ce(I,B,M,z,Y){if(!(this instanceof ce))return new ce(I,B,M,z,Y);this.type=I==="axial"?2:3,this.coords=B,this.colors=M,Ce.call(this,z,Y)}function X(I,B,M,z,Y){if(!(this instanceof X))return new X(I,B,M,z,Y);this.boundingBox=I,this.xStep=B,this.yStep=M,this.stream="",this.cloneIndex=0,Ce.call(this,z,Y)}function de(I){var B,M=typeof arguments[0]=="string"?arguments[0]:"p",z=arguments[1],Y=arguments[2],re=arguments[3],Ne=[],ge=1,xe=16,De="S",Ve=null;(0,h.default)(I=I||{})==="object"&&(M=I.orientation,z=I.unit||z,Y=I.format||Y,re=I.compress||I.compressPdf||re,(Ve=I.encryption||null)!==null&&(Ve.userPassword=Ve.userPassword||"",Ve.ownerPassword=Ve.ownerPassword||"",Ve.userPermissions=Ve.userPermissions||[]),ge=typeof I.userUnit=="number"?Math.abs(I.userUnit):1,I.precision!==void 0&&(B=I.precision),I.floatPrecision!==void 0&&(xe=I.floatPrecision),De=I.defaultPathOperation||"S"),Ne=I.filters||(re===!0?["FlateEncode"]:Ne),z=z||"mm",M=(""+(M||"P")).toLowerCase();var et=I.putOnlyUsedFonts||!1,st={},Oe={internal:{},__private__:{}};Oe.__private__.PubSub=Ie;var vt="1.3",mt=Oe.__private__.getPdfVersion=function(){return vt};Oe.__private__.setPdfVersion=function(fe){vt=fe};var yt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Oe.__private__.getPageFormats=function(){return yt};var nt=Oe.__private__.getPageFormat=function(fe){return yt[fe]};Y=Y||"a4";var kt="compat",Kt="advanced",Et=kt;function tt(){this.saveGraphicsState(),ut(new fa(ua,0,0,-ua,0,$c()*ua).toString()+" cm"),this.setFontSize(this.getFontSize()/ua),De="n",Et=Kt}function Qt(){this.restoreGraphicsState(),De="S",Et=kt}var lr=Oe.__private__.combineFontStyleAndFontWeight=function(fe,Ue){if(fe=="bold"&&Ue=="normal"||fe=="bold"&&Ue==400||fe=="normal"&&Ue=="italic"||fe=="bold"&&Ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ue&&(fe=Ue==400||Ue==="normal"?fe==="italic"?"italic":"normal":Ue!=700&&Ue!=="bold"||fe!=="normal"?(Ue==700?"bold":Ue)+""+fe:"bold"),fe};Oe.advancedAPI=function(fe){var Ue=Et===kt;return Ue&&tt.call(this),typeof fe!="function"||(fe(this),Ue&&Qt.call(this)),this},Oe.compatAPI=function(fe){var Ue=Et===Kt;return Ue&&Qt.call(this),typeof fe!="function"||(fe(this),Ue&&tt.call(this)),this},Oe.isAdvancedAPI=function(){return Et===Kt};var qt,_t=function(fe){if(Et!==Kt)throw new Error(fe+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},or=Oe.roundToPrecision=Oe.__private__.roundToPrecision=function(fe,Ue){var gt=B||Ue;if(isNaN(fe)||isNaN(gt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return fe.toFixed(gt).replace(/0+$/,"")};qt=Oe.hpf=Oe.__private__.hpf=typeof xe=="number"?function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.hpf");return or(fe,xe)}:xe==="smart"?function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.hpf");return or(fe,fe>-1&&fe<1?16:5)}:function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.hpf");return or(fe,16)};var at=Oe.f2=Oe.__private__.f2=function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.f2");return or(fe,2)},dt=Oe.__private__.f3=function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.f3");return or(fe,3)},It=Oe.scale=Oe.__private__.scale=function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.scale");return Et===kt?fe*ua:Et===Kt?fe:void 0},Tt=function(fe){return It((function(Ue){return Et===kt?$c()-Ue:Et===Kt?Ue:void 0})(fe))};Oe.__private__.setPrecision=Oe.setPrecision=function(fe){typeof parseInt(fe,10)=="number"&&(B=parseInt(fe,10))};var cr,Ar="00000000000000000000000000000000",xr=Oe.__private__.getFileId=function(){return Ar},Jt=Oe.__private__.setFileId=function(fe){return Ar=fe!==void 0&&/^[a-fA-F0-9]{32}$/.test(fe)?fe.toUpperCase():Ar.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ve!==null&&(Ts=new le(Ve.userPermissions,Ve.userPassword,Ve.ownerPassword,Ar)),Ar};Oe.setFileId=function(fe){return Jt(fe),this},Oe.getFileId=function(){return xr()};var gr=Oe.__private__.convertDateToPDFDate=function(fe){var Ue=fe.getTimezoneOffset(),gt=Ue<0?"+":"-",Ot=Math.floor(Math.abs(Ue/60)),Gt=Math.abs(Ue%60),yr=[gt,Nt(Ot),"'",Nt(Gt),"'"].join("");return["D:",fe.getFullYear(),Nt(fe.getMonth()+1),Nt(fe.getDate()),Nt(fe.getHours()),Nt(fe.getMinutes()),Nt(fe.getSeconds()),yr].join("")},Zr=Oe.__private__.convertPDFDateToDate=function(fe){var Ue=parseInt(fe.substr(2,4),10),gt=parseInt(fe.substr(6,2),10)-1,Ot=parseInt(fe.substr(8,2),10),Gt=parseInt(fe.substr(10,2),10),yr=parseInt(fe.substr(12,2),10),Fr=parseInt(fe.substr(14,2),10);return new Date(Ue,gt,Ot,Gt,yr,Fr,0)},Hr=Oe.__private__.setCreationDate=function(fe){var Ue;if(fe===void 0&&(fe=new Date),fe instanceof Date)Ue=gr(fe);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(fe))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ue=fe}return cr=Ue},Ye=Oe.__private__.getCreationDate=function(fe){var Ue=cr;return fe==="jsDate"&&(Ue=Zr(cr)),Ue};Oe.setCreationDate=function(fe){return Hr(fe),this},Oe.getCreationDate=function(fe){return Ye(fe)};var xt,Nt=Oe.__private__.padd2=function(fe){return("0"+parseInt(fe)).slice(-2)},Wt=Oe.__private__.padd2Hex=function(fe){return("00"+(fe=fe.toString())).substr(fe.length)},zt=0,nr=[],mr=[],vr=0,Pr=[],Jr=[],Nn=!1,Bn=mr;Oe.__private__.setCustomOutputDestination=function(fe){Nn=!0,Bn=fe};var ca=function(fe){Nn||(Bn=fe)};Oe.__private__.resetCustomOutputDestination=function(){Nn=!1,Bn=mr};var ut=Oe.__private__.out=function(fe){return fe=fe.toString(),vr+=fe.length+1,Bn.push(fe),Bn},hn=Oe.__private__.write=function(fe){return ut(arguments.length===1?fe.toString():Array.prototype.join.call(arguments," "))},ga=Oe.__private__.getArrayBuffer=function(fe){for(var Ue=fe.length,gt=new ArrayBuffer(Ue),Ot=new Uint8Array(gt);Ue--;)Ot[Ue]=fe.charCodeAt(Ue);return gt},un=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Oe.__private__.getStandardFonts=function(){return un};var Qr=I.fontSize||16;Oe.__private__.setFontSize=Oe.setFontSize=function(fe){return Qr=Et===Kt?fe/ua:fe,this};var oa,Mn=Oe.__private__.getFontSize=Oe.getFontSize=function(){return Et===kt?Qr:Qr*ua},Jn=I.R2L||!1;Oe.__private__.setR2L=Oe.setR2L=function(fe){return Jn=fe,this},Oe.__private__.getR2L=Oe.getR2L=function(){return Jn};var Rn,Ai=Oe.__private__.setZoomMode=function(fe){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(fe))oa=fe;else if(isNaN(fe)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(fe)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+fe+'" is not recognized.');oa=fe}else oa=parseInt(fe,10)};Oe.__private__.getZoomMode=function(){return oa};var La,Fn=Oe.__private__.setPageMode=function(fe){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(fe)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+fe+'" is not recognized.');Rn=fe};Oe.__private__.getPageMode=function(){return Rn};var si=Oe.__private__.setLayoutMode=function(fe){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(fe)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+fe+'" is not recognized.');La=fe};Oe.__private__.getLayoutMode=function(){return La},Oe.__private__.setDisplayMode=Oe.setDisplayMode=function(fe,Ue,gt){return Ai(fe),si(Ue),Fn(gt),this};var la={title:"",subject:"",author:"",keywords:"",creator:""};Oe.__private__.getDocumentProperty=function(fe){if(Object.keys(la).indexOf(fe)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return la[fe]},Oe.__private__.getDocumentProperties=function(){return la},Oe.__private__.setDocumentProperties=Oe.setProperties=Oe.setDocumentProperties=function(fe){for(var Ue in la)la.hasOwnProperty(Ue)&&fe[Ue]&&(la[Ue]=fe[Ue]);return this},Oe.__private__.setDocumentProperty=function(fe,Ue){if(Object.keys(la).indexOf(fe)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return la[fe]=Ue};var On,ua,kn,wa,ci,Va={},za={},es=[],Kn={},Ei={},va={},zn={},Ii=null,ja=0,En=[],Xa=new Ie(Oe),tu=I.hotfixes||[],Ws={},yo={},Nc=[],fa=function fe(Ue,gt,Ot,Gt,yr,Fr){if(!(this instanceof fe))return new fe(Ue,gt,Ot,Gt,yr,Fr);isNaN(Ue)&&(Ue=1),isNaN(gt)&&(gt=0),isNaN(Ot)&&(Ot=0),isNaN(Gt)&&(Gt=1),isNaN(yr)&&(yr=0),isNaN(Fr)&&(Fr=0),this._matrix=[Ue,gt,Ot,Gt,yr,Fr]};Object.defineProperty(fa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(fe){this._matrix[0]=fe}}),Object.defineProperty(fa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(fe){this._matrix[1]=fe}}),Object.defineProperty(fa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(fe){this._matrix[2]=fe}}),Object.defineProperty(fa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(fe){this._matrix[3]=fe}}),Object.defineProperty(fa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(fe){this._matrix[4]=fe}}),Object.defineProperty(fa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(fe){this._matrix[5]=fe}}),Object.defineProperty(fa.prototype,"a",{get:function(){return this._matrix[0]},set:function(fe){this._matrix[0]=fe}}),Object.defineProperty(fa.prototype,"b",{get:function(){return this._matrix[1]},set:function(fe){this._matrix[1]=fe}}),Object.defineProperty(fa.prototype,"c",{get:function(){return this._matrix[2]},set:function(fe){this._matrix[2]=fe}}),Object.defineProperty(fa.prototype,"d",{get:function(){return this._matrix[3]},set:function(fe){this._matrix[3]=fe}}),Object.defineProperty(fa.prototype,"e",{get:function(){return this._matrix[4]},set:function(fe){this._matrix[4]=fe}}),Object.defineProperty(fa.prototype,"f",{get:function(){return this._matrix[5]},set:function(fe){this._matrix[5]=fe}}),Object.defineProperty(fa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),fa.prototype.join=function(fe){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(qt).join(fe)},fa.prototype.multiply=function(fe){var Ue=fe.sx*this.sx+fe.shy*this.shx,gt=fe.sx*this.shy+fe.shy*this.sy,Ot=fe.shx*this.sx+fe.sy*this.shx,Gt=fe.shx*this.shy+fe.sy*this.sy,yr=fe.tx*this.sx+fe.ty*this.shx+this.tx,Fr=fe.tx*this.shy+fe.ty*this.sy+this.ty;return new fa(Ue,gt,Ot,Gt,yr,Fr)},fa.prototype.decompose=function(){var fe=this.sx,Ue=this.shy,gt=this.shx,Ot=this.sy,Gt=this.tx,yr=this.ty,Fr=Math.sqrt(fe*fe+Ue*Ue),In=(fe/=Fr)*gt+(Ue/=Fr)*Ot;gt-=fe*In,Ot-=Ue*In;var Hn=Math.sqrt(gt*gt+Ot*Ot);return In/=Hn,fe*(Ot/=Hn)<Ue*(gt/=Hn)&&(fe=-fe,Ue=-Ue,In=-In,Fr=-Fr),{scale:new fa(Fr,0,0,Hn,0,0),translate:new fa(1,0,0,1,Gt,yr),rotate:new fa(fe,Ue,-Ue,fe,0,0),skew:new fa(1,0,In,1,0,0)}},fa.prototype.toString=function(fe){return this.join(" ")},fa.prototype.inversed=function(){var fe=this.sx,Ue=this.shy,gt=this.shx,Ot=this.sy,Gt=this.tx,yr=this.ty,Fr=1/(fe*Ot-Ue*gt),In=Ot*Fr,Hn=-Ue*Fr,Aa=-gt*Fr,aa=fe*Fr;return new fa(In,Hn,Aa,aa,-In*Gt-Aa*yr,-Hn*Gt-aa*yr)},fa.prototype.applyToPoint=function(fe){var Ue=fe.x*this.sx+fe.y*this.shx+this.tx,gt=fe.x*this.shy+fe.y*this.sy+this.ty;return new ui(Ue,gt)},fa.prototype.applyToRectangle=function(fe){var Ue=this.applyToPoint(fe),gt=this.applyToPoint(new ui(fe.x+fe.w,fe.y+fe.h));return new Ti(Ue.x,Ue.y,gt.x-Ue.x,gt.y-Ue.y)},fa.prototype.clone=function(){var fe=this.sx,Ue=this.shy,gt=this.shx,Ot=this.sy,Gt=this.tx,yr=this.ty;return new fa(fe,Ue,gt,Ot,Gt,yr)},Oe.Matrix=fa;var bs=Oe.matrixMult=function(fe,Ue){return Ue.multiply(fe)},bo=new fa(1,0,0,1,0,0);Oe.unitMatrix=Oe.identityMatrix=bo;var El=function(fe,Ue){if(!Ei[fe]){var gt=(Ue instanceof ce?"Sh":"P")+(Object.keys(Kn).length+1).toString(10);Ue.id=gt,Ei[fe]=gt,Kn[gt]=Ue,Xa.publish("addPattern",Ue)}};Oe.ShadingPattern=ce,Oe.TilingPattern=X,Oe.addShadingPattern=function(fe,Ue){return _t("addShadingPattern()"),El(fe,Ue),this},Oe.beginTilingPattern=function(fe){_t("beginTilingPattern()"),ws(fe.boundingBox[0],fe.boundingBox[1],fe.boundingBox[2]-fe.boundingBox[0],fe.boundingBox[3]-fe.boundingBox[1],fe.matrix)},Oe.endTilingPattern=function(fe,Ue){_t("endTilingPattern()"),Ue.stream=Jr[xt].join(`
`),El(fe,Ue),Xa.publish("endTilingPattern",Ue),Nc.pop().restore()};var Fs,Pi=Oe.__private__.newObject=function(){var fe=Is();return lo(fe,!0),fe},Is=Oe.__private__.newObjectDeferred=function(){return zt++,nr[zt]=function(){return vr},zt},lo=function(fe,Ue){return Ue=typeof Ue=="boolean"&&Ue,nr[fe]=vr,Ue&&ut(fe+" 0 obj"),fe},ru=Oe.__private__.newAdditionalObject=function(){var fe={objId:Is(),content:""};return Pr.push(fe),fe},Ys=Is(),rl=Is(),Sc=Oe.__private__.decodeColorString=function(fe){var Ue=fe.split(" ");if(Ue.length!==2||Ue[1]!=="g"&&Ue[1]!=="G")Ue.length!==5||Ue[4]!=="k"&&Ue[4]!=="K"||(Ue=[(1-Ue[0])*(1-Ue[3]),(1-Ue[1])*(1-Ue[3]),(1-Ue[2])*(1-Ue[3]),"r"]);else{var gt=parseFloat(Ue[0]);Ue=[gt,gt,gt,"r"]}for(var Ot="#",Gt=0;Gt<3;Gt++)Ot+=("0"+Math.floor(255*parseFloat(Ue[Gt])).toString(16)).slice(-2);return Ot},Jl=Oe.__private__.encodeColorString=function(fe){var Ue;typeof fe=="string"&&(fe={ch1:fe});var gt=fe.ch1,Ot=fe.ch2,Gt=fe.ch3,yr=fe.ch4,Fr=fe.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof gt=="string"&&gt.charAt(0)!=="#"){var In=new S(gt);if(In.ok)gt=In.toHex();else if(!/^\d*\.?\d*$/.test(gt))throw new Error('Invalid color "'+gt+'" passed to jsPDF.encodeColorString.')}if(typeof gt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(gt)&&(gt="#"+gt[1]+gt[1]+gt[2]+gt[2]+gt[3]+gt[3]),typeof gt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(gt)){var Hn=parseInt(gt.substr(1),16);gt=Hn>>16&255,Ot=Hn>>8&255,Gt=255&Hn}if(Ot===void 0||yr===void 0&&gt===Ot&&Ot===Gt)Ue=typeof gt=="string"?gt+" "+Fr[0]:fe.precision===2?at(gt/255)+" "+Fr[0]:dt(gt/255)+" "+Fr[0];else if(yr===void 0||(0,h.default)(yr)==="object"){if(yr&&!isNaN(yr.a)&&yr.a===0)return["1.","1.","1.",Fr[1]].join(" ");Ue=typeof gt=="string"?[gt,Ot,Gt,Fr[1]].join(" "):fe.precision===2?[at(gt/255),at(Ot/255),at(Gt/255),Fr[1]].join(" "):[dt(gt/255),dt(Ot/255),dt(Gt/255),Fr[1]].join(" ")}else Ue=typeof gt=="string"?[gt,Ot,Gt,yr,Fr[2]].join(" "):fe.precision===2?[at(gt),at(Ot),at(Gt),at(yr),Fr[2]].join(" "):[dt(gt),dt(Ot),dt(Gt),dt(yr),Fr[2]].join(" ");return Ue},Zs=Oe.__private__.getFilters=function(){return Ne},nl=Oe.__private__.putStream=function(fe){var Ue=(fe=fe||{}).data||"",gt=fe.filters||Zs(),Ot=fe.alreadyAppliedFilters||[],Gt=fe.addLength1||!1,yr=Ue.length,Fr=fe.objectId,In=function(us){return us};if(Ve!==null&&Fr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ve!==null&&(In=Ts.encryptor(Fr,0));var Hn={};gt===!0&&(gt=["FlateEncode"]);var Aa=fe.additionalKeyValues||[],aa=(Hn=de.API.processDataByFilters!==void 0?de.API.processDataByFilters(Ue,gt):{data:Ue,reverseChain:[]}).reverseChain+(Array.isArray(Ot)?Ot.join(" "):Ot.toString());if(Hn.data.length!==0&&(Aa.push({key:"Length",value:Hn.data.length}),Gt===!0&&Aa.push({key:"Length1",value:yr})),aa.length!=0)if(aa.split("/").length-1==1)Aa.push({key:"Filter",value:aa});else{Aa.push({key:"Filter",value:"["+aa+"]"});for(var Oa=0;Oa<Aa.length;Oa+=1)if(Aa[Oa].key==="DecodeParms"){for(var Fi=[],Mi=0;Mi<Hn.reverseChain.split("/").length-1;Mi+=1)Fi.push("null");Fi.push(Aa[Oa].value),Aa[Oa].value="["+Fi.join(" ")+"]"}}ut("<<");for(var hi=0;hi<Aa.length;hi++)ut("/"+Aa[hi].key+" "+Aa[hi].value);ut(">>"),Hn.data.length!==0&&(ut("stream"),ut(In(Hn.data)),ut("endstream"))},Il=Oe.__private__.putPage=function(fe){var Ue=fe.number,gt=fe.data,Ot=fe.objId,Gt=fe.contentsObjId;lo(Ot,!0),ut("<</Type /Page"),ut("/Parent "+fe.rootDictionaryObjId+" 0 R"),ut("/Resources "+fe.resourceDictionaryObjId+" 0 R"),ut("/MediaBox ["+parseFloat(qt(fe.mediaBox.bottomLeftX))+" "+parseFloat(qt(fe.mediaBox.bottomLeftY))+" "+qt(fe.mediaBox.topRightX)+" "+qt(fe.mediaBox.topRightY)+"]"),fe.cropBox!==null&&ut("/CropBox ["+qt(fe.cropBox.bottomLeftX)+" "+qt(fe.cropBox.bottomLeftY)+" "+qt(fe.cropBox.topRightX)+" "+qt(fe.cropBox.topRightY)+"]"),fe.bleedBox!==null&&ut("/BleedBox ["+qt(fe.bleedBox.bottomLeftX)+" "+qt(fe.bleedBox.bottomLeftY)+" "+qt(fe.bleedBox.topRightX)+" "+qt(fe.bleedBox.topRightY)+"]"),fe.trimBox!==null&&ut("/TrimBox ["+qt(fe.trimBox.bottomLeftX)+" "+qt(fe.trimBox.bottomLeftY)+" "+qt(fe.trimBox.topRightX)+" "+qt(fe.trimBox.topRightY)+"]"),fe.artBox!==null&&ut("/ArtBox ["+qt(fe.artBox.bottomLeftX)+" "+qt(fe.artBox.bottomLeftY)+" "+qt(fe.artBox.topRightX)+" "+qt(fe.artBox.topRightY)+"]"),typeof fe.userUnit=="number"&&fe.userUnit!==1&&ut("/UserUnit "+fe.userUnit),Xa.publish("putPage",{objId:Ot,pageContext:En[Ue],pageNumber:Ue,page:gt}),ut("/Contents "+Gt+" 0 R"),ut(">>"),ut("endobj");var yr=gt.join(`
`);return Et===Kt&&(yr+=`
Q`),lo(Gt,!0),nl({data:yr,filters:Zs(),objectId:Gt}),ut("endobj"),Ot},Vo=Oe.__private__.putPages=function(){var fe,Ue,gt=[];for(fe=1;fe<=ja;fe++)En[fe].objId=Is(),En[fe].contentsObjId=Is();for(fe=1;fe<=ja;fe++)gt.push(Il({number:fe,data:Jr[fe],objId:En[fe].objId,contentsObjId:En[fe].contentsObjId,mediaBox:En[fe].mediaBox,cropBox:En[fe].cropBox,bleedBox:En[fe].bleedBox,trimBox:En[fe].trimBox,artBox:En[fe].artBox,userUnit:En[fe].userUnit,rootDictionaryObjId:Ys,resourceDictionaryObjId:rl}));lo(Ys,!0),ut("<</Type /Pages");var Ot="/Kids [";for(Ue=0;Ue<ja;Ue++)Ot+=gt[Ue]+" 0 R ";ut(Ot+"]"),ut("/Count "+ja),ut(">>"),ut("endobj"),Xa.publish("postPutPages")},Fo=function(fe){Xa.publish("putFont",{font:fe,out:ut,newObject:Pi,putStream:nl}),fe.isAlreadyPutted!==!0&&(fe.objectNumber=Pi(),ut("<<"),ut("/Type /Font"),ut("/BaseFont /"+Ae(fe.postScriptName)),ut("/Subtype /Type1"),typeof fe.encoding=="string"&&ut("/Encoding /"+fe.encoding),ut("/FirstChar 32"),ut("/LastChar 255"),ut(">>"),ut("endobj"))},ec=function(fe){fe.objectNumber=Pi();var Ue=[];Ue.push({key:"Type",value:"/XObject"}),Ue.push({key:"Subtype",value:"/Form"}),Ue.push({key:"BBox",value:"["+[qt(fe.x),qt(fe.y),qt(fe.x+fe.width),qt(fe.y+fe.height)].join(" ")+"]"}),Ue.push({key:"Matrix",value:"["+fe.matrix.toString()+"]"});var gt=fe.pages[1].join(`
`);nl({data:gt,additionalKeyValues:Ue,objectId:fe.objectNumber}),ut("endobj")},Tl=function(fe,Ue){Ue||(Ue=21);var gt=Pi(),Ot=(function(Fr,In){var Hn,Aa=[],aa=1/(In-1);for(Hn=0;Hn<1;Hn+=aa)Aa.push(Hn);if(Aa.push(1),Fr[0].offset!=0){var Oa={offset:0,color:Fr[0].color};Fr.unshift(Oa)}if(Fr[Fr.length-1].offset!=1){var Fi={offset:1,color:Fr[Fr.length-1].color};Fr.push(Fi)}for(var Mi="",hi=0,us=0;us<Aa.length;us++){for(Hn=Aa[us];Hn>Fr[hi+1].offset;)hi++;var T=Fr[hi].offset,Me=(Hn-T)/(Fr[hi+1].offset-T),J=Fr[hi].color,Xe=Fr[hi+1].color;Mi+=Wt(Math.round((1-Me)*J[0]+Me*Xe[0]).toString(16))+Wt(Math.round((1-Me)*J[1]+Me*Xe[1]).toString(16))+Wt(Math.round((1-Me)*J[2]+Me*Xe[2]).toString(16))}return Mi.trim()})(fe.colors,Ue),Gt=[];Gt.push({key:"FunctionType",value:"0"}),Gt.push({key:"Domain",value:"[0.0 1.0]"}),Gt.push({key:"Size",value:"["+Ue+"]"}),Gt.push({key:"BitsPerSample",value:"8"}),Gt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nl({data:Ot,additionalKeyValues:Gt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:gt}),ut("endobj"),fe.objectNumber=Pi(),ut("<< /ShadingType "+fe.type),ut("/ColorSpace /DeviceRGB");var yr="/Coords ["+qt(parseFloat(fe.coords[0]))+" "+qt(parseFloat(fe.coords[1]))+" ";fe.type===2?yr+=qt(parseFloat(fe.coords[2]))+" "+qt(parseFloat(fe.coords[3])):yr+=qt(parseFloat(fe.coords[2]))+" "+qt(parseFloat(fe.coords[3]))+" "+qt(parseFloat(fe.coords[4]))+" "+qt(parseFloat(fe.coords[5])),ut(yr+="]"),fe.matrix&&ut("/Matrix ["+fe.matrix.toString()+"]"),ut("/Function "+gt+" 0 R"),ut("/Extend [true true]"),ut(">>"),ut("endobj")},Bc=function(fe,Ue){var gt=Is(),Ot=Pi();Ue.push({resourcesOid:gt,objectOid:Ot}),fe.objectNumber=Ot;var Gt=[];Gt.push({key:"Type",value:"/Pattern"}),Gt.push({key:"PatternType",value:"1"}),Gt.push({key:"PaintType",value:"1"}),Gt.push({key:"TilingType",value:"1"}),Gt.push({key:"BBox",value:"["+fe.boundingBox.map(qt).join(" ")+"]"}),Gt.push({key:"XStep",value:qt(fe.xStep)}),Gt.push({key:"YStep",value:qt(fe.yStep)}),Gt.push({key:"Resources",value:gt+" 0 R"}),fe.matrix&&Gt.push({key:"Matrix",value:"["+fe.matrix.toString()+"]"}),nl({data:fe.stream,additionalKeyValues:Gt,objectId:fe.objectNumber}),ut("endobj")},dd=function(fe){for(var Ue in fe.objectNumber=Pi(),ut("<<"),fe)switch(Ue){case"opacity":ut("/ca "+at(fe[Ue]));break;case"stroke-opacity":ut("/CA "+at(fe[Ue]))}ut(">>"),ut("endobj")},Hc=function(fe){lo(fe.resourcesOid,!0),ut("<<"),ut("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Ue in ut("/Font <<"),Va)Va.hasOwnProperty(Ue)&&(et===!1||et===!0&&st.hasOwnProperty(Ue))&&ut("/"+Ue+" "+Va[Ue].objectNumber+" 0 R");ut(">>")})(),(function(){if(Object.keys(Kn).length>0){for(var Ue in ut("/Shading <<"),Kn)Kn.hasOwnProperty(Ue)&&Kn[Ue]instanceof ce&&Kn[Ue].objectNumber>=0&&ut("/"+Ue+" "+Kn[Ue].objectNumber+" 0 R");Xa.publish("putShadingPatternDict"),ut(">>")}})(),(function(Ue){if(Object.keys(Kn).length>0){for(var gt in ut("/Pattern <<"),Kn)Kn.hasOwnProperty(gt)&&Kn[gt]instanceof Oe.TilingPattern&&Kn[gt].objectNumber>=0&&Kn[gt].objectNumber<Ue&&ut("/"+gt+" "+Kn[gt].objectNumber+" 0 R");Xa.publish("putTilingPatternDict"),ut(">>")}})(fe.objectOid),(function(){if(Object.keys(va).length>0){var Ue;for(Ue in ut("/ExtGState <<"),va)va.hasOwnProperty(Ue)&&va[Ue].objectNumber>=0&&ut("/"+Ue+" "+va[Ue].objectNumber+" 0 R");Xa.publish("putGStateDict"),ut(">>")}})(),(function(){for(var Ue in ut("/XObject <<"),Ws)Ws.hasOwnProperty(Ue)&&Ws[Ue].objectNumber>=0&&ut("/"+Ue+" "+Ws[Ue].objectNumber+" 0 R");Xa.publish("putXobjectDict"),ut(">>")})(),ut(">>"),ut("endobj")},hd=function(fe){za[fe.fontName]=za[fe.fontName]||{},za[fe.fontName][fe.fontStyle]=fe.id},nu=function(fe,Ue,gt,Ot,Gt){var yr={id:"F"+(Object.keys(Va).length+1).toString(10),postScriptName:fe,fontName:Ue,fontStyle:gt,encoding:Ot,isStandardFont:Gt||!1,metadata:{}};return Xa.publish("addFont",{font:yr,instance:this}),Va[yr.id]=yr,hd(yr),yr.id},zo=Oe.__private__.pdfEscape=Oe.pdfEscape=function(fe,Ue){return(function(gt,Ot){var Gt,yr,Fr,In,Hn,Aa,aa,Oa,Fi;if(Fr=(Ot=Ot||{}).sourceEncoding||"Unicode",Hn=Ot.outputEncoding,(Ot.autoencode||Hn)&&Va[On].metadata&&Va[On].metadata[Fr]&&Va[On].metadata[Fr].encoding&&(In=Va[On].metadata[Fr].encoding,!Hn&&Va[On].encoding&&(Hn=Va[On].encoding),!Hn&&In.codePages&&(Hn=In.codePages[0]),typeof Hn=="string"&&(Hn=In[Hn]),Hn)){for(aa=!1,Aa=[],Gt=0,yr=gt.length;Gt<yr;Gt++)(Oa=Hn[gt.charCodeAt(Gt)])?Aa.push(String.fromCharCode(Oa)):Aa.push(gt[Gt]),Aa[Gt].charCodeAt(0)>>8&&(aa=!0);gt=Aa.join("")}for(Gt=gt.length;aa===void 0&&Gt!==0;)gt.charCodeAt(Gt-1)>>8&&(aa=!0),Gt--;if(!aa)return gt;for(Aa=Ot.noBOM?[]:[254,255],Gt=0,yr=gt.length;Gt<yr;Gt++){if((Fi=(Oa=gt.charCodeAt(Gt))>>8)>>8)throw new Error("Character at position "+Gt+" of string '"+gt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Aa.push(Fi),Aa.push(Oa-(Fi<<8))}return String.fromCharCode.apply(void 0,Aa)})(fe,Ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=Oe.__private__.beginPage=function(fe){Jr[++ja]=[],En[ja]={objId:0,contentsObjId:0,userUnit:Number(ge),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(fe[0]),topRightY:Number(fe[1])}},_l(ja),ca(Jr[xt])},wu=function(fe,Ue){var gt,Ot,Gt;switch(M=Ue||M,typeof fe=="string"&&(gt=nt(fe.toLowerCase()),Array.isArray(gt)&&(Ot=gt[0],Gt=gt[1])),Array.isArray(fe)&&(Ot=fe[0]*ua,Gt=fe[1]*ua),isNaN(Ot)&&(Ot=Y[0],Gt=Y[1]),(Ot>14400||Gt>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ot=Math.min(14400,Ot),Gt=Math.min(14400,Gt)),Y=[Ot,Gt],M.substr(0,1)){case"l":Gt>Ot&&(Y=[Gt,Ot]);break;case"p":Ot>Gt&&(Y=[Gt,Ot])}au(Y),Ca($d),ut(ml),Tc!==0&&ut(Tc+" J"),ac!==0&&ut(ac+" j"),Xa.publish("addPage",{pageNumber:ja})},Uu=function(fe){fe>0&&fe<=ja&&(Jr.splice(fe,1),En.splice(fe,1),ja--,xt>ja&&(xt=ja),this.setPage(xt))},_l=function(fe){fe>0&&fe<=ja&&(xt=fe)},Hu=Oe.__private__.getNumberOfPages=Oe.getNumberOfPages=function(){return Jr.length-1},Qu=function(fe,Ue,gt){var Ot,Gt=void 0;return gt=gt||{},fe=fe!==void 0?fe:Va[On].fontName,Ue=Ue!==void 0?Ue:Va[On].fontStyle,Ot=fe.toLowerCase(),za[Ot]!==void 0&&za[Ot][Ue]!==void 0?Gt=za[Ot][Ue]:za[fe]!==void 0&&za[fe][Ue]!==void 0?Gt=za[fe][Ue]:gt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+fe+"', '"+Ue+"'. Refer to getFontList() for available fonts."),Gt||gt.noFallback||(Gt=za.times[Ue])==null&&(Gt=za.times.normal),Gt},tc=Oe.__private__.putInfo=function(){var fe=Pi(),Ue=function(Ot){return Ot};for(var gt in Ve!==null&&(Ue=Ts.encryptor(fe,0)),ut("<<"),ut("/Producer ("+zo(Ue("jsPDF "+de.version))+")"),la)la.hasOwnProperty(gt)&&la[gt]&&ut("/"+gt.substr(0,1).toUpperCase()+gt.substr(1)+" ("+zo(Ue(la[gt]))+")");ut("/CreationDate ("+zo(Ue(cr))+")"),ut(">>"),ut("endobj")},Wu=Oe.__private__.putCatalog=function(fe){var Ue=(fe=fe||{}).rootDictionaryObjId||Ys;switch(Pi(),ut("<<"),ut("/Type /Catalog"),ut("/Pages "+Ue+" 0 R"),oa||(oa="fullwidth"),oa){case"fullwidth":ut("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ut("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ut("/OpenAction [3 0 R /Fit]");break;case"original":ut("/OpenAction [3 0 R /XYZ null null 1]");break;default:var gt=""+oa;gt.substr(gt.length-1)==="%"&&(oa=parseInt(oa)/100),typeof oa=="number"&&ut("/OpenAction [3 0 R /XYZ null null "+at(oa)+"]")}switch(La||(La="continuous"),La){case"continuous":ut("/PageLayout /OneColumn");break;case"single":ut("/PageLayout /SinglePage");break;case"two":case"twoleft":ut("/PageLayout /TwoColumnLeft");break;case"tworight":ut("/PageLayout /TwoColumnRight")}Rn&&ut("/PageMode /"+Rn),Xa.publish("putCatalog"),ut(">>"),ut("endobj")},ju=Oe.__private__.putTrailer=function(){ut("trailer"),ut("<<"),ut("/Size "+(zt+1)),ut("/Root "+zt+" 0 R"),ut("/Info "+(zt-1)+" 0 R"),Ve!==null&&ut("/Encrypt "+Ts.oid+" 0 R"),ut("/ID [ <"+Ar+"> <"+Ar+"> ]"),ut(">>")},ya=Oe.__private__.putHeader=function(){ut("%PDF-"+vt),ut("%")},fd=Oe.__private__.putXRef=function(){var fe="0000000000";ut("xref"),ut("0 "+(zt+1)),ut("0000000000 65535 f ");for(var Ue=1;Ue<=zt;Ue++)typeof nr[Ue]=="function"?ut((fe+nr[Ue]()).slice(-10)+" 00000 n "):nr[Ue]!==void 0?ut((fe+nr[Ue]).slice(-10)+" 00000 n "):ut("0000000000 00000 n ")},rc=Oe.__private__.buildDocument=function(){var fe;zt=0,vr=0,mr=[],nr=[],Pr=[],Ys=Is(),rl=Is(),ca(mr),Xa.publish("buildDocument"),ya(),Vo(),(function(){Xa.publish("putAdditionalObjects");for(var gt=0;gt<Pr.length;gt++){var Ot=Pr[gt];lo(Ot.objId,!0),ut(Ot.content),ut("endobj")}Xa.publish("postPutAdditionalObjects")})(),fe=[],(function(){for(var gt in Va)Va.hasOwnProperty(gt)&&(et===!1||et===!0&&st.hasOwnProperty(gt))&&Fo(Va[gt])})(),(function(){var gt;for(gt in va)va.hasOwnProperty(gt)&&dd(va[gt])})(),(function(){for(var gt in Ws)Ws.hasOwnProperty(gt)&&ec(Ws[gt])})(),(function(gt){var Ot;for(Ot in Kn)Kn.hasOwnProperty(Ot)&&(Kn[Ot]instanceof ce?Tl(Kn[Ot]):Kn[Ot]instanceof X&&Bc(Kn[Ot],gt))})(fe),Xa.publish("putResources"),fe.forEach(Hc),Hc({resourcesOid:rl,objectOid:Number.MAX_SAFE_INTEGER}),Xa.publish("postPutResources"),Ve!==null&&(Ts.oid=Pi(),ut("<<"),ut("/Filter /Standard"),ut("/V "+Ts.v),ut("/R "+Ts.r),ut("/U <"+Ts.toHexString(Ts.U)+">"),ut("/O <"+Ts.toHexString(Ts.O)+">"),ut("/P "+Ts.P),ut(">>"),ut("endobj")),tc(),Wu();var Ue=vr;return fd(),ju(),ut("startxref"),ut(""+Ue),ut("%%EOF"),ca(Jr[xt]),mr.join(`
`)},xi=Oe.__private__.getBlob=function(fe){return new Blob([ga(fe)],{type:"application/pdf"})},Ad=Oe.output=Oe.__private__.output=(Fs=function(fe,Ue){switch(typeof(Ue=Ue||{})=="string"?Ue={filename:Ue}:Ue.filename=Ue.filename||"generated.pdf",fe){case void 0:return rc();case"save":Oe.save(Ue.filename);break;case"arraybuffer":return ga(rc());case"blob":return xi(rc());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(xi(rc()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var gt="",Ot=rc();try{gt=_(Ot)}catch{gt=_(unescape(encodeURIComponent(Ot)))}return"data:application/pdf;filename="+Ue.filename+";base64,"+gt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Gt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ue.pdfObjectUrl&&(Gt=Ue.pdfObjectUrl,yr="");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Gt+'"'+yr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ue)+");<\/script></body></html>",In=g.open();return In!==null&&In.document.write(Fr),In}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ue.filename+'" width="500px" height="400px" /></body></html>',Aa=g.open();if(Aa!==null){Aa.document.write(Hn);var aa=this;Aa.document.documentElement.querySelector("#pdfViewer").onload=function(){Aa.document.title=Ue.filename,Aa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(aa.output("bloburl"))}}return Aa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Oa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ue)+'"></iframe></body></html>',Fi=g.open();if(Fi!==null&&(Fi.document.write(Oa),Fi.document.title=Ue.filename),Fi||typeof safari>"u")return Fi;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Ue);default:return null}},Fs.foo=function(){try{return Fs.apply(this,arguments)}catch(gt){var fe=gt.stack||"";~fe.indexOf(" at ")&&(fe=fe.split(" at ")[1]);var Ue="Error in function "+fe.split(`
`)[0].split("<")[0]+": "+gt.message;if(!g.console)throw new Error(Ue);g.console.error(Ue,gt),g.alert&&alert(Ue)}},Fs.foo.bar=Fs,Fs.foo),pl=function(fe){return Array.isArray(tu)===!0&&tu.indexOf(fe)>-1};switch(z){case"pt":ua=1;break;case"mm":ua=2.834645669291339;break;case"cm":ua=28.346456692913385;break;case"in":ua=72;break;case"px":ua=pl("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":ua=12;break;case"ex":ua=6;break;default:if(typeof z!="number")throw new Error("Invalid unit: "+z);ua=z}var Ts=null;Hr(),Jt();var Ec=Oe.__private__.getPageInfo=Oe.getPageInfo=function(fe){if(isNaN(fe)||fe%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:En[fe].objId,pageNumber:fe,pageContext:En[fe]}},iu=Oe.__private__.getPageInfoByObjId=function(fe){if(isNaN(fe)||fe%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ue in En)if(En[Ue].objId===fe)break;return Ec(Ue)},Ol=Oe.__private__.getCurrentPageInfo=Oe.getCurrentPageInfo=function(){return{objId:En[xt].objId,pageNumber:xt,pageContext:En[xt]}};Oe.addPage=function(){return wu.apply(this,arguments),this},Oe.setPage=function(){return _l.apply(this,arguments),ca.call(this,Jr[xt]),this},Oe.insertPage=function(fe){return this.addPage(),this.movePage(xt,fe),this},Oe.movePage=function(fe,Ue){var gt,Ot;if(fe>Ue){gt=Jr[fe],Ot=En[fe];for(var Gt=fe;Gt>Ue;Gt--)Jr[Gt]=Jr[Gt-1],En[Gt]=En[Gt-1];Jr[Ue]=gt,En[Ue]=Ot,this.setPage(Ue)}else if(fe<Ue){gt=Jr[fe],Ot=En[fe];for(var yr=fe;yr<Ue;yr++)Jr[yr]=Jr[yr+1],En[yr]=En[yr+1];Jr[Ue]=gt,En[Ue]=Ot,this.setPage(Ue)}return this},Oe.deletePage=function(){return Uu.apply(this,arguments),this},Oe.__private__.text=Oe.text=function(fe,Ue,gt,Ot,Gt){var yr,Fr,In,Hn,Aa,aa,Oa,Fi,Mi,hi=(Ot=Ot||{}).scope||this;if(typeof fe=="number"&&typeof Ue=="number"&&(typeof gt=="string"||Array.isArray(gt))){var us=gt;gt=Ue,Ue=fe,fe=us}if(arguments[3]instanceof fa==0?(In=arguments[4],Hn=arguments[5],(0,h.default)(Oa=arguments[3])==="object"&&Oa!==null||(typeof In=="string"&&(Hn=In,In=null),typeof Oa=="string"&&(Hn=Oa,Oa=null),typeof Oa=="number"&&(In=Oa,Oa=null),Ot={flags:Oa,angle:In,align:Hn})):(_t("The transform parameter of text() with a Matrix value"),Mi=Gt),isNaN(Ue)||isNaN(gt)||fe==null)throw new Error("Invalid arguments passed to jsPDF.text");if(fe.length===0)return hi;var T,Me="",J=typeof Ot.lineHeightFactor=="number"?Ot.lineHeightFactor:Iu,Xe=hi.internal.scaleFactor;function ht(di){return di=di.split("	").join(Array(Ot.TabLen||9).join(" ")),zo(di,Oa)}function ot(di){for(var Li,ds=di.concat(),uo=[],cu=ds.length;cu--;)typeof(Li=ds.shift())=="string"?uo.push(Li):Array.isArray(di)&&(Li.length===1||Li[1]===void 0&&Li[2]===void 0)?uo.push(Li[0]):uo.push([Li[0],Li[1],Li[2]]);return uo}function er(di,Li){var ds;if(typeof di=="string")ds=Li(di)[0];else if(Array.isArray(di)){for(var uo,cu,rs=di.concat(),uu=[],yd=rs.length;yd--;)typeof(uo=rs.shift())=="string"?uu.push(Li(uo)[0]):Array.isArray(uo)&&typeof uo[0]=="string"&&(cu=Li(uo[0],uo[1],uo[2]),uu.push([cu[0],cu[1],cu[2]]));ds=uu}return ds}var $t=!1,Sn=!0;if(typeof fe=="string")$t=!0;else if(Array.isArray(fe)){var Pt=fe.concat();Fr=[];for(var ir,xa=Pt.length;xa--;)(typeof(ir=Pt.shift())!="string"||Array.isArray(ir)&&typeof ir[0]!="string")&&(Sn=!1);$t=Sn}if($t===!1)throw new Error('Type of text must be string or Array. "'+fe+'" is not recognized.');typeof fe=="string"&&(fe=fe.match(/[\r?\n]/)?fe.split(/\r\n|\r|\n/g):[fe]);var fn=Qr/hi.internal.scaleFactor,Mr=fn*(J-1);switch(Ot.baseline){case"bottom":gt-=Mr;break;case"top":gt+=fn-Mr;break;case"hanging":gt+=fn-2*Mr;break;case"middle":gt+=fn/2-Mr}if((aa=Ot.maxWidth||0)>0&&(typeof fe=="string"?fe=hi.splitTextToSize(fe,aa):Object.prototype.toString.call(fe)==="[object Array]"&&(fe=fe.reduce(function(di,Li){return di.concat(hi.splitTextToSize(Li,aa))},[]))),yr={text:fe,x:Ue,y:gt,options:Ot,mutex:{pdfEscape:zo,activeFontKey:On,fonts:Va,activeFontSize:Qr}},Xa.publish("preProcessText",yr),fe=yr.text,In=(Ot=yr.options).angle,Mi instanceof fa==0&&In&&typeof In=="number"){In*=Math.PI/180,Ot.rotationDirection===0&&(In=-In),Et===Kt&&(In=-In);var br=Math.cos(In),Ri=Math.sin(In);Mi=new fa(br,Ri,-Ri,br,0,0)}else In&&In instanceof fa&&(Mi=In);Et!==Kt||Mi||(Mi=bo),(Aa=Ot.charSpace||gl)!==void 0&&(Me+=qt(It(Aa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fi=Ot.horizontalScale)!==void 0&&(Me+=qt(100*Fi)+` Tz
`),Ot.lang;var ba=-1,ia=Ot.renderingMode!==void 0?Ot.renderingMode:Ot.stroke,Na=hi.internal.getCurrentPageInfo().pageContext;switch(ia){case 0:case!1:case"fill":ba=0;break;case 1:case!0:case"stroke":ba=1;break;case 2:case"fillThenStroke":ba=2;break;case 3:case"invisible":ba=3;break;case 4:case"fillAndAddForClipping":ba=4;break;case 5:case"strokeAndAddPathForClipping":ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ba=6;break;case 7:case"addToPathForClipping":ba=7}var Ya=Na.usedRenderingMode!==void 0?Na.usedRenderingMode:-1;ba!==-1?Me+=ba+` Tr
`:Ya!==-1&&(Me+=`0 Tr
`),ba!==-1&&(Na.usedRenderingMode=ba),Hn=Ot.align||"left";var an,Ea=Qr*J,ts=hi.internal.pageSize.getWidth(),ea=Va[On];Aa=Ot.charSpace||gl,aa=Ot.maxWidth||0,Oa=Object.assign({autoencode:!0,noBOM:!0},Ot.flags);var oi=[],ka=function(di){return hi.getStringUnitWidth(di,{font:ea,charSpace:Aa,fontSize:Qr,doKerning:!1})*Qr/Xe};if(Object.prototype.toString.call(fe)==="[object Array]"){var Qn;Fr=ot(fe),Hn!=="left"&&(an=Fr.map(ka));var da,jo=0;if(Hn==="right"){Ue-=an[0],fe=[],xa=Fr.length;for(var sc=0;sc<xa;sc++)sc===0?(da=wo(Ue),Qn=Pl(gt)):(da=It(jo-an[sc]),Qn=-Ea),fe.push([Fr[sc],da,Qn]),jo=an[sc]}else if(Hn==="center"){Ue-=an[0]/2,fe=[],xa=Fr.length;for(var Mo=0;Mo<xa;Mo++)Mo===0?(da=wo(Ue),Qn=Pl(gt)):(da=It((jo-an[Mo])/2),Qn=-Ea),fe.push([Fr[Mo],da,Qn]),jo=an[Mo]}else if(Hn==="left"){fe=[],xa=Fr.length;for(var co=0;co<xa;co++)fe.push(Fr[co])}else if(Hn==="justify"&&ea.encoding==="Identity-H"){fe=[],xa=Fr.length,aa=aa!==0?aa:ts;for(var oc=0,$s=0;$s<xa;$s++)if(Qn=$s===0?Pl(gt):-Ea,da=$s===0?wo(Ue):oc,$s<xa-1){var Uh=It((aa-an[$s])/(Fr[$s].split(" ").length-1)),qo=Fr[$s].split(" ");fe.push([qo[0]+" ",da,Qn]),oc=0;for(var al=1;al<qo.length;al++){var Gd=(ka(qo[al-1]+" "+qo[al])-ka(qo[al]))*Xe+Uh;al==qo.length-1?fe.push([qo[al],Gd,0]):fe.push([qo[al]+" ",Gd,0]),oc-=Gd}}else fe.push([Fr[$s],da,Qn]);fe.push(["",oc,0])}else{if(Hn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(fe=[],xa=Fr.length,aa=aa!==0?aa:ts,$s=0;$s<xa;$s++){Qn=$s===0?Pl(gt):-Ea,da=$s===0?wo(Ue):0;var Ah=Fr[$s].split(" ").length-1,Oc=Ah>0?(aa-an[$s])/Ah:0;$s<xa-1?oi.push(qt(It(Oc))):oi.push(0),fe.push([Fr[$s],da,Qn])}}}(typeof Ot.R2L=="boolean"?Ot.R2L:Jn)===!0&&(fe=er(fe,function(di,Li,ds){return[di.split("").reverse().join(""),Li,ds]})),yr={text:fe,x:Ue,y:gt,options:Ot,mutex:{pdfEscape:zo,activeFontKey:On,fonts:Va,activeFontSize:Qr}},Xa.publish("postProcessText",yr),fe=yr.text,T=yr.mutex.isHex||!1;var Vc=Va[On].encoding;Vc!=="WinAnsiEncoding"&&Vc!=="StandardEncoding"||(fe=er(fe,function(di,Li,ds){return[ht(di),Li,ds]})),Fr=ot(fe),fe=[];for(var zc,zu,lu,xd=Array.isArray(Fr[0])?1:0,kc="",vl=function(di,Li,ds){var uo="";return ds instanceof fa?(ds=typeof Ot.angle=="number"?bs(ds,new fa(1,0,0,1,di,Li)):bs(new fa(1,0,0,1,di,Li),ds),Et===Kt&&(ds=bs(new fa(1,0,0,-1,0,0),ds)),uo=ds.join(" ")+` Tm
`):uo=qt(di)+" "+qt(Li)+` Td
`,uo},Ro=0;Ro<Fr.length;Ro++){switch(kc="",xd){case 1:lu=(T?"<":"(")+Fr[Ro][0]+(T?">":")"),zc=parseFloat(Fr[Ro][1]),zu=parseFloat(Fr[Ro][2]);break;case 0:lu=(T?"<":"(")+Fr[Ro]+(T?">":")"),zc=wo(Ue),zu=Pl(gt)}oi!==void 0&&oi[Ro]!==void 0&&(kc=oi[Ro]+` Tw
`),Ro===0?fe.push(kc+vl(zc,zu,Mi)+lu):xd===0?fe.push(kc+lu):xd===1&&fe.push(kc+vl(zc,zu,Mi)+lu)}fe=xd===0?fe.join(` Tj
T* `):fe.join(` Tj
`),fe+=` Tj
`;var lc=`BT
/`;return lc+=On+" "+Qr+` Tf
`,lc+=qt(Qr*J)+` TL
`,lc+=Go+`
`,lc+=Me,lc+=fe,ut(lc+="ET"),st[On]=!0,hi};var $u=Oe.__private__.clip=Oe.clip=function(fe){return ut(fe==="evenodd"?"W*":"W"),this};Oe.clipEvenOdd=function(){return $u("evenodd")},Oe.__private__.discardPath=Oe.discardPath=function(){return ut("n"),this};var Ko=Oe.__private__.isValidStyle=function(fe){var Ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(fe)!==-1&&(Ue=!0),Ue};Oe.__private__.setDefaultPathOperation=Oe.setDefaultPathOperation=function(fe){return Ko(fe)&&(De=fe),this};var pd=Oe.__private__.getStyle=Oe.getStyle=function(fe){var Ue=De;switch(fe){case"D":case"S":Ue="S";break;case"F":Ue="f";break;case"FD":case"DF":Ue="B";break;case"f":case"f*":case"B":case"B*":Ue=fe}return Ue},Cu=Oe.close=function(){return ut("h"),this};Oe.stroke=function(){return ut("S"),this},Oe.fill=function(fe){return md("f",fe),this},Oe.fillEvenOdd=function(fe){return md("f*",fe),this},Oe.fillStroke=function(fe){return md("B",fe),this},Oe.fillStrokeEvenOdd=function(fe){return md("B*",fe),this};var md=function(fe,Ue){(0,h.default)(Ue)==="object"?Su(Ue,fe):ut(fe)},su=function(fe){fe===null||Et===Kt&&fe===void 0||(fe=pd(fe),ut(fe))};function Nu(fe,Ue,gt,Ot,Gt){var yr=new X(Ue||this.boundingBox,gt||this.xStep,Ot||this.yStep,this.gState,Gt||this.matrix);yr.stream=this.stream;var Fr=fe+"$$"+this.cloneIndex+++"$$";return El(Fr,yr),yr}var Su=function(fe,Ue){var gt=Ei[fe.key],Ot=Kn[gt];if(Ot instanceof ce)ut("q"),ut(Bu(Ue)),Ot.gState&&Oe.setGState(Ot.gState),ut(fe.matrix.toString()+" cm"),ut("/"+gt+" sh"),ut("Q");else if(Ot instanceof X){var Gt=new fa(1,0,0,-1,0,$c());fe.matrix&&(Gt=Gt.multiply(fe.matrix||bo),gt=Nu.call(Ot,fe.key,fe.boundingBox,fe.xStep,fe.yStep,Gt).id),ut("q"),ut("/Pattern cs"),ut("/"+gt+" scn"),Ot.gState&&Oe.setGState(Ot.gState),ut(Ue),ut("Q")}},Bu=function(fe){switch(fe){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Eu=Oe.moveTo=function(fe,Ue){return ut(qt(It(fe))+" "+qt(Tt(Ue))+" m"),this},gd=Oe.lineTo=function(fe,Ue){return ut(qt(It(fe))+" "+qt(Tt(Ue))+" l"),this},kl=Oe.curveTo=function(fe,Ue,gt,Ot,Gt,yr){return ut([qt(It(fe)),qt(Tt(Ue)),qt(It(gt)),qt(Tt(Ot)),qt(It(Gt)),qt(Tt(yr)),"c"].join(" ")),this};Oe.__private__.line=Oe.line=function(fe,Ue,gt,Ot,Gt){if(isNaN(fe)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||!Ko(Gt))throw new Error("Invalid arguments passed to jsPDF.line");return Et===kt?this.lines([[gt-fe,Ot-Ue]],fe,Ue,[1,1],Gt||"S"):this.lines([[gt-fe,Ot-Ue]],fe,Ue,[1,1]).stroke()},Oe.__private__.lines=Oe.lines=function(fe,Ue,gt,Ot,Gt,yr){var Fr,In,Hn,Aa,aa,Oa,Fi,Mi,hi,us,T,Me;if(typeof fe=="number"&&(Me=gt,gt=Ue,Ue=fe,fe=Me),Ot=Ot||[1,1],yr=yr||!1,isNaN(Ue)||isNaN(gt)||!Array.isArray(fe)||!Array.isArray(Ot)||!Ko(Gt)||typeof yr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Eu(Ue,gt),Fr=Ot[0],In=Ot[1],Aa=fe.length,us=Ue,T=gt,Hn=0;Hn<Aa;Hn++)(aa=fe[Hn]).length===2?(us=aa[0]*Fr+us,T=aa[1]*In+T,gd(us,T)):(Oa=aa[0]*Fr+us,Fi=aa[1]*In+T,Mi=aa[2]*Fr+us,hi=aa[3]*In+T,us=aa[4]*Fr+us,T=aa[5]*In+T,kl(Oa,Fi,Mi,hi,us,T));return yr&&Cu(),su(Gt),this},Oe.path=function(fe){for(var Ue=0;Ue<fe.length;Ue++){var gt=fe[Ue],Ot=gt.c;switch(gt.op){case"m":Eu(Ot[0],Ot[1]);break;case"l":gd(Ot[0],Ot[1]);break;case"c":kl.apply(this,Ot);break;case"h":Cu()}}return this},Oe.__private__.rect=Oe.rect=function(fe,Ue,gt,Ot,Gt){if(isNaN(fe)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||!Ko(Gt))throw new Error("Invalid arguments passed to jsPDF.rect");return Et===kt&&(Ot=-Ot),ut([qt(It(fe)),qt(Tt(Ue)),qt(It(gt)),qt(It(Ot)),"re"].join(" ")),su(Gt),this},Oe.__private__.triangle=Oe.triangle=function(fe,Ue,gt,Ot,Gt,yr,Fr){if(isNaN(fe)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||isNaN(Gt)||isNaN(yr)||!Ko(Fr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[gt-fe,Ot-Ue],[Gt-gt,yr-Ot],[fe-Gt,Ue-yr]],fe,Ue,[1,1],Fr,!0),this},Oe.__private__.roundedRect=Oe.roundedRect=function(fe,Ue,gt,Ot,Gt,yr,Fr){if(isNaN(fe)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||isNaN(Gt)||isNaN(yr)||!Ko(Fr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var In=4/3*(Math.SQRT2-1);return Gt=Math.min(Gt,.5*gt),yr=Math.min(yr,.5*Ot),this.lines([[gt-2*Gt,0],[Gt*In,0,Gt,yr-yr*In,Gt,yr],[0,Ot-2*yr],[0,yr*In,-Gt*In,yr,-Gt,yr],[2*Gt-gt,0],[-Gt*In,0,-Gt,-yr*In,-Gt,-yr],[0,2*yr-Ot],[0,-yr*In,Gt*In,-yr,Gt,-yr]],fe+Gt,Ue,[1,1],Fr,!0),this},Oe.__private__.ellipse=Oe.ellipse=function(fe,Ue,gt,Ot,Gt){if(isNaN(fe)||isNaN(Ue)||isNaN(gt)||isNaN(Ot)||!Ko(Gt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yr=4/3*(Math.SQRT2-1)*gt,Fr=4/3*(Math.SQRT2-1)*Ot;return Eu(fe+gt,Ue),kl(fe+gt,Ue-Fr,fe+yr,Ue-Ot,fe,Ue-Ot),kl(fe-yr,Ue-Ot,fe-gt,Ue-Fr,fe-gt,Ue),kl(fe-gt,Ue+Fr,fe-yr,Ue+Ot,fe,Ue+Ot),kl(fe+yr,Ue+Ot,fe+gt,Ue+Fr,fe+gt,Ue),su(Gt),this},Oe.__private__.circle=Oe.circle=function(fe,Ue,gt,Ot){if(isNaN(fe)||isNaN(Ue)||isNaN(gt)||!Ko(Ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(fe,Ue,gt,gt,Ot)},Oe.setFont=function(fe,Ue,gt){return gt&&(Ue=lr(Ue,gt)),On=Qu(fe,Ue,{disableWarning:!1}),this};var Rh=Oe.__private__.getFont=Oe.getFont=function(){return Va[Qu.apply(Oe,arguments)]};Oe.__private__.getFontList=Oe.getFontList=function(){var fe,Ue,gt={};for(fe in za)if(za.hasOwnProperty(fe))for(Ue in gt[fe]=[],za[fe])za[fe].hasOwnProperty(Ue)&&gt[fe].push(Ue);return gt},Oe.addFont=function(fe,Ue,gt,Ot,Gt){var yr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yr.indexOf(arguments[3])!==-1?Gt=arguments[3]:arguments[3]&&yr.indexOf(arguments[3])==-1&&(gt=lr(gt,Ot)),nu.call(this,fe,Ue,gt,Gt=Gt||"Identity-H")};var Iu,$d=I.lineWidth||.200025,Lh=Oe.__private__.getLineWidth=Oe.getLineWidth=function(){return $d},Ca=Oe.__private__.setLineWidth=Oe.setLineWidth=function(fe){return $d=fe,ut(qt(It(fe))+" w"),this};Oe.__private__.setLineDash=de.API.setLineDash=de.API.setLineDashPattern=function(fe,Ue){if(fe=fe||[],Ue=Ue||0,isNaN(Ue)||!Array.isArray(fe))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return fe=fe.map(function(gt){return qt(It(gt))}).join(" "),Ue=qt(It(Ue)),ut("["+fe+"] "+Ue+" d"),this};var Qc=Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return Qr*Iu};Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return Qr*Iu};var fh=Oe.__private__.setLineHeightFactor=Oe.setLineHeightFactor=function(fe){return typeof(fe=fe||1.15)=="number"&&(Iu=fe),this},Ic=Oe.__private__.getLineHeightFactor=Oe.getLineHeightFactor=function(){return Iu};fh(I.lineHeight);var wo=Oe.__private__.getHorizontalCoordinate=function(fe){return It(fe)},Pl=Oe.__private__.getVerticalCoordinate=function(fe){return Et===Kt?fe:En[xt].mediaBox.topRightY-En[xt].mediaBox.bottomLeftY-It(fe)},nc=Oe.__private__.getHorizontalCoordinateString=Oe.getHorizontalCoordinateString=function(fe){return qt(wo(fe))},Vd=Oe.__private__.getVerticalCoordinateString=Oe.getVerticalCoordinateString=function(fe){return qt(Pl(fe))},ml=I.strokeColor||"0 G";Oe.__private__.getStrokeColor=Oe.getDrawColor=function(){return Sc(ml)},Oe.__private__.setStrokeColor=Oe.setDrawColor=function(fe,Ue,gt,Ot){return ml=Jl({ch1:fe,ch2:Ue,ch3:gt,ch4:Ot,pdfColorType:"draw",precision:2}),ut(ml),this};var Vu=I.fillColor||"0 g";Oe.__private__.getFillColor=Oe.getFillColor=function(){return Sc(Vu)},Oe.__private__.setFillColor=Oe.setFillColor=function(fe,Ue,gt,Ot){return Vu=Jl({ch1:fe,ch2:Ue,ch3:gt,ch4:Ot,pdfColorType:"fill",precision:2}),ut(Vu),this};var Go=I.textColor||"0 g",Tu=Oe.__private__.getTextColor=Oe.getTextColor=function(){return Sc(Go)};Oe.__private__.setTextColor=Oe.setTextColor=function(fe,Ue,gt,Ot){return Go=Jl({ch1:fe,ch2:Ue,ch3:gt,ch4:Ot,pdfColorType:"text",precision:3}),this};var gl=I.charSpace,vd=Oe.__private__.getCharSpace=Oe.getCharSpace=function(){return parseFloat(gl||0)};Oe.__private__.setCharSpace=Oe.setCharSpace=function(fe){if(isNaN(fe))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gl=fe,this};var Tc=0;Oe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Oe.__private__.setLineCap=Oe.setLineCap=function(fe){var Ue=Oe.CapJoinStyles[fe];if(Ue===void 0)throw new Error("Line cap style of '"+fe+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tc=Ue,ut(Ue+" J"),this};var ac=0;Oe.__private__.setLineJoin=Oe.setLineJoin=function(fe){var Ue=Oe.CapJoinStyles[fe];if(Ue===void 0)throw new Error("Line join style of '"+fe+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ac=Ue,ut(Ue+" j"),this},Oe.__private__.setLineMiterLimit=Oe.__private__.setMiterLimit=Oe.setLineMiterLimit=Oe.setMiterLimit=function(fe){if(fe=fe||0,isNaN(fe))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ut(qt(It(fe))+" M"),this},Oe.GState=Pe,Oe.setGState=function(fe){(fe=typeof fe=="string"?va[zn[fe]]:Fl(null,fe)).equals(Ii)||(ut("/"+fe.id+" gs"),Ii=fe)};var Fl=function(fe,Ue){if(!fe||!zn[fe]){var gt=!1;for(var Ot in va)if(va.hasOwnProperty(Ot)&&va[Ot].equals(Ue)){gt=!0;break}if(gt)Ue=va[Ot];else{var Gt="GS"+(Object.keys(va).length+1).toString(10);va[Gt]=Ue,Ue.id=Gt}return fe&&(zn[fe]=Ue.id),Xa.publish("addGState",Ue),Ue}};Oe.addGState=function(fe,Ue){return Fl(fe,Ue),this},Oe.saveGraphicsState=function(){return ut("q"),es.push({key:On,size:Qr,color:Go}),this},Oe.restoreGraphicsState=function(){ut("Q");var fe=es.pop();return On=fe.key,Qr=fe.size,Go=fe.color,Ii=null,this},Oe.setCurrentTransformationMatrix=function(fe){return ut(fe.toString()+" cm"),this},Oe.comment=function(fe){return ut("#"+fe),this};var ui=function(fe,Ue){var gt=fe||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return gt},set:function(yr){isNaN(yr)||(gt=parseFloat(yr))}});var Ot=Ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ot},set:function(yr){isNaN(yr)||(Ot=parseFloat(yr))}});var Gt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Gt},set:function(yr){Gt=yr.toString()}}),this},Ti=function(fe,Ue,gt,Ot){ui.call(this,fe,Ue),this.type="rect";var Gt=gt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Gt},set:function(Fr){isNaN(Fr)||(Gt=parseFloat(Fr))}});var yr=Ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yr},set:function(Fr){isNaN(Fr)||(yr=parseFloat(Fr))}}),this},Dl=function(){this.page=ja,this.currentPage=xt,this.pages=Jr.slice(0),this.pagesContext=En.slice(0),this.x=kn,this.y=wa,this.matrix=ci,this.width=_c(xt),this.height=Do(xt),this.outputDestination=Bn,this.id="",this.objectNumber=-1};Dl.prototype.restore=function(){ja=this.page,xt=this.currentPage,En=this.pagesContext,Jr=this.pages,kn=this.x,wa=this.y,ci=this.matrix,ou(xt,this.width),ic(xt,this.height),Bn=this.outputDestination};var ws=function(fe,Ue,gt,Ot,Gt){Nc.push(new Dl),ja=xt=0,Jr=[],kn=fe,wa=Ue,ci=Gt,au([gt,Ot])};for(var Ds in Oe.beginFormObject=function(fe,Ue,gt,Ot,Gt){return ws(fe,Ue,gt,Ot,Gt),this},Oe.endFormObject=function(fe){return(function(Ue){if(yo[Ue])Nc.pop().restore();else{var gt=new Dl,Ot="Xo"+(Object.keys(Ws).length+1).toString(10);gt.id=Ot,yo[Ue]=Ot,Ws[Ot]=gt,Xa.publish("addFormObject",gt),Nc.pop().restore()}})(fe),this},Oe.doFormObject=function(fe,Ue){var gt=Ws[yo[fe]];return ut("q"),ut(Ue.toString()+" cm"),ut("/"+gt.id+" Do"),ut("Q"),this},Oe.getFormObject=function(fe){var Ue=Ws[yo[fe]];return{x:Ue.x,y:Ue.y,width:Ue.width,height:Ue.height,matrix:Ue.matrix}},Oe.save=function(fe,Ue){return fe=fe||"generated.pdf",(Ue=Ue||{}).returnPromise=Ue.returnPromise||!1,Ue.returnPromise===!1?(N(xi(rc()),fe),typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),this):new Promise(function(gt,Ot){try{var Gt=N(xi(rc()),fe);typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),gt(Gt)}catch(yr){Ot(yr.message)}})},de.API)de.API.hasOwnProperty(Ds)&&(Ds==="events"&&de.API.events.length?(function(fe,Ue){var gt,Ot,Gt;for(Gt=Ue.length-1;Gt!==-1;Gt--)gt=Ue[Gt][0],Ot=Ue[Gt][1],fe.subscribe.apply(fe,[gt].concat(typeof Ot=="function"?[Ot]:Ot))})(Xa,de.API.events):Oe[Ds]=de.API[Ds]);function _c(fe){return En[fe].mediaBox.topRightX-En[fe].mediaBox.bottomLeftX}function ou(fe,Ue){En[fe].mediaBox.topRightX=Ue+En[fe].mediaBox.bottomLeftX}function Do(fe){return En[fe].mediaBox.topRightY-En[fe].mediaBox.bottomLeftY}function ic(fe,Ue){En[fe].mediaBox.topRightY=Ue+En[fe].mediaBox.bottomLeftY}var Wc=Oe.getPageWidth=function(fe){return _c(fe=fe||xt)/ua},zd=Oe.setPageWidth=function(fe,Ue){ou(fe,Ue*ua)},$c=Oe.getPageHeight=function(fe){return Do(fe=fe||xt)/ua},Kd=Oe.setPageHeight=function(fe,Ue){ic(fe,Ue*ua)};return Oe.internal={pdfEscape:zo,getStyle:pd,getFont:Rh,getFontSize:Mn,getCharSpace:vd,getTextColor:Tu,getLineHeight:Qc,getLineHeightFactor:Ic,getLineWidth:Lh,write:hn,getHorizontalCoordinate:wo,getVerticalCoordinate:Pl,getCoordinateString:nc,getVerticalCoordinateString:Vd,collections:{},newObject:Pi,newAdditionalObject:ru,newObjectDeferred:Is,newObjectDeferredBegin:lo,getFilters:Zs,putStream:nl,events:Xa,scaleFactor:ua,pageSize:{getWidth:function(){return Wc(xt)},setWidth:function(fe){zd(xt,fe)},getHeight:function(){return $c(xt)},setHeight:function(fe){Kd(xt,fe)}},encryptionOptions:Ve,encryption:Ts,getEncryptor:function(fe){return Ve!==null?Ts.encryptor(fe,0):function(Ue){return Ue}},output:Ad,getNumberOfPages:Hu,get pages(){return Jr},out:ut,f2:at,f3:dt,getPageInfo:Ec,getPageInfoByObjId:iu,getCurrentPageInfo:Ol,getPDFVersion:mt,Point:ui,Rectangle:Ti,Matrix:fa,hasHotfix:pl},Object.defineProperty(Oe.internal.pageSize,"width",{get:function(){return Wc(xt)},set:function(fe){zd(xt,fe)},enumerable:!0,configurable:!0}),Object.defineProperty(Oe.internal.pageSize,"height",{get:function(){return $c(xt)},set:function(fe){Kd(xt,fe)},enumerable:!0,configurable:!0}),(function(fe){for(var Ue=0,gt=un.length;Ue<gt;Ue++){var Ot=nu.call(this,fe[Ue][0],fe[Ue][1],fe[Ue][2],un[Ue][3],!0);et===!1&&(st[Ot]=!0);var Gt=fe[Ue][0].split("-");hd({id:Ot,fontName:Gt[0],fontStyle:Gt[1]||""})}Xa.publish("addFonts",{fonts:Va,dictionary:za})}).call(Oe,un),On="F1",wu(Y,M),Xa.publish("initialized"),Oe}le.prototype.lsbFirstWord=function(I){return String.fromCharCode(255&I,I>>8&255,I>>16&255,I>>24&255)},le.prototype.toHexString=function(I){return I.split("").map(function(B){return("0"+(255&B.charCodeAt(0)).toString(16)).slice(-2)}).join("")},le.prototype.hexToBytes=function(I){for(var B=[],M=0;M<I.length;M+=2)B.push(String.fromCharCode(parseInt(I.substr(M,2),16)));return B.join("")},le.prototype.processOwnerPassword=function(I,B){return ue(Be(B).substr(0,5),I)},le.prototype.encryptor=function(I,B){var M=Be(this.encryptionKey+String.fromCharCode(255&I,I>>8&255,I>>16&255,255&B,B>>8&255)).substr(0,10);return function(z){return ue(M,z)}},Pe.prototype.equals=function(I){var B,M="id,objectNumber,equals";if(!I||(0,h.default)(I)!==(0,h.default)(this))return!1;var z=0;for(B in this)if(!(M.indexOf(B)>=0)){if(this.hasOwnProperty(B)&&!I.hasOwnProperty(B)||this[B]!==I[B])return!1;z++}for(B in I)I.hasOwnProperty(B)&&M.indexOf(B)<0&&z--;return z===0},de.API={events:[]},de.version="4.0.0";var se=de.API,We=1,Re=function(I){return I.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ee=function(I){return I.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ie=function(I){return I.toFixed(2)},Le=function(I){return I.toFixed(5)};se.__acroform__={};var Ze=function(I,B){I.prototype=Object.create(B.prototype),I.prototype.constructor=I},jt=function(I){return I*We},Lt=function(I){var B=new zr,M=Ur.internal.getHeight(I)||0,z=Ur.internal.getWidth(I)||0;return B.BBox=[0,0,Number(ie(z)),Number(ie(M))],B},Ct=se.__acroform__.setBit=function(I,B){if(I=I||0,B=B||0,isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return I|1<<B},Xt=se.__acroform__.clearBit=function(I,B){if(I=I||0,B=B||0,isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return I&~(1<<B)},_r=se.__acroform__.getBit=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return I&1<<B?1:0},Or=se.__acroform__.getBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _r(I,B-1)},He=se.__acroform__.setBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ct(I,B-1)},Zt=se.__acroform__.clearBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xt(I,B-1)},Bt=se.__acroform__.calculateCoordinates=function(I,B){var M=B.internal.getHorizontalCoordinate,z=B.internal.getVerticalCoordinate,Y=I[0],re=I[1],Ne=I[2],ge=I[3],xe={};return xe.lowerLeft_X=M(Y)||0,xe.lowerLeft_Y=z(re+ge)||0,xe.upperRight_X=M(Y+Ne)||0,xe.upperRight_Y=z(re)||0,[Number(ie(xe.lowerLeft_X)),Number(ie(xe.lowerLeft_Y)),Number(ie(xe.upperRight_X)),Number(ie(xe.upperRight_Y))]},$r=function(I){if(I.appearanceStreamContent)return I.appearanceStreamContent;if(I.V||I.DV){var B=[],M=I._V||I.DV,z=pr(I,M),Y=I.scope.internal.getFont(I.fontName,I.fontStyle).id;B.push("/Tx BMC"),B.push("q"),B.push("BT"),B.push(I.scope.__private__.encodeColorString(I.color)),B.push("/"+Y+" "+ie(z.fontSize)+" Tf"),B.push("1 0 0 1 0 0 Tm"),B.push(z.text),B.push("ET"),B.push("Q"),B.push("EMC");var re=Lt(I);return re.scope=I.scope,re.stream=B.join(`
`),re}},pr=function(I,B){var M=I.fontSize===0?I.maxFontSize:I.fontSize,z={text:"",fontSize:""},Y=(B=(B=B.substr(0,1)=="("?B.substr(1):B).substr(B.length-1)==")"?B.substr(0,B.length-1):B).split(" ");Y=I.multiline?Y.map(function(at){return at.split(`
`)}):Y.map(function(at){return[at]});var re=M,Ne=Ur.internal.getHeight(I)||0;Ne=Ne<0?-Ne:Ne;var ge=Ur.internal.getWidth(I)||0;ge=ge<0?-ge:ge;var xe=function(at,dt,It){if(at+1<Y.length){var Tt=dt+" "+Y[at+1][0];return on(Tt,I,It).width<=ge-4}return!1};re++;e:for(;re>0;){B="",re--;var De,Ve,et=on("3",I,re).height,st=I.multiline?Ne-re:(Ne-et)/2,Oe=st+=2,vt=0,mt=0,yt=0;if(re<=0){B=`(...) Tj
`,B+="% Width of Text: "+on(B,I,re=12).width+", FieldWidth:"+ge+`
`;break}for(var nt="",kt=0,Kt=0;Kt<Y.length;Kt++)if(Y.hasOwnProperty(Kt)){var Et=!1;if(Y[Kt].length!==1&&yt!==Y[Kt].length-1){if((et+2)*(kt+2)+2>Ne)continue e;nt+=Y[Kt][yt],Et=!0,mt=Kt,Kt--}else{nt=(nt+=Y[Kt][yt]+" ").substr(nt.length-1)==" "?nt.substr(0,nt.length-1):nt;var tt=parseInt(Kt),Qt=xe(tt,nt,re),lr=Kt>=Y.length-1;if(Qt&&!lr){nt+=" ",yt=0;continue}if(Qt||lr){if(lr)mt=tt;else if(I.multiline&&(et+2)*(kt+2)+2>Ne)continue e}else{if(!I.multiline||(et+2)*(kt+2)+2>Ne)continue e;mt=tt}}for(var qt="",_t=vt;_t<=mt;_t++){var or=Y[_t];if(I.multiline){if(_t===mt){qt+=or[yt]+" ",yt=(yt+1)%or.length;continue}if(_t===vt){qt+=or[or.length-1]+" ";continue}}qt+=or[0]+" "}switch(qt=qt.substr(qt.length-1)==" "?qt.substr(0,qt.length-1):qt,Ve=on(qt,I,re).width,I.textAlign){case"right":De=ge-Ve-2;break;case"center":De=(ge-Ve)/2;break;default:De=2}B+=ie(De)+" "+ie(Oe)+` Td
`,B+="("+Re(qt)+`) Tj
`,B+=-ie(De)+` 0 Td
`,Oe=-(re+2),Ve=0,vt=Et?mt:mt+1,kt++,nt=""}break}return z.text=B,z.fontSize=re,z},on=function(I,B,M){var z=B.scope.internal.getFont(B.fontName,B.fontStyle),Y=B.scope.getStringUnitWidth(I,{font:z,fontSize:parseFloat(M),charSpace:0})*parseFloat(M);return{height:B.scope.getStringUnitWidth("3",{font:z,fontSize:parseFloat(M),charSpace:0})*parseFloat(M)*1.5,width:Y}},Yr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qr=function(I,B){var M={type:"reference",object:I};B.internal.getPageInfo(I.page).pageContext.annotations.find(function(z){return z.type===M.type&&z.object===M.object})===void 0&&B.internal.getPageInfo(I.page).pageContext.annotations.push(M)},Ir=function(I,B){if(B.scope=I,I.internal!==void 0&&(I.internal.acroformPlugin===void 0||I.internal.acroformPlugin.isInitialized===!1)){if(Wr.FieldNum=0,I.internal.acroformPlugin=JSON.parse(JSON.stringify(Yr)),I.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");We=I.internal.scaleFactor,I.internal.acroformPlugin.acroFormDictionaryRoot=new vn,I.internal.acroformPlugin.acroFormDictionaryRoot.scope=I,I.internal.acroformPlugin.acroFormDictionaryRoot._eventID=I.internal.events.subscribe("postPutResources",function(){(function(M){M.internal.events.unsubscribe(M.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete M.internal.acroformPlugin.acroFormDictionaryRoot._eventID,M.internal.acroformPlugin.printedOut=!0})(I)}),I.internal.events.subscribe("buildDocument",function(){(function(M){M.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var z=M.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Y in z)if(z.hasOwnProperty(Y)){var re=z[Y];re.objId=void 0,re.hasAnnotation&&qr(re,M)}})(I)}),I.internal.events.subscribe("putCatalog",function(){(function(M){if(M.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");M.internal.write("/AcroForm "+M.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(I)}),I.internal.events.subscribe("postPutPages",function(M){(function(z,Y){var re=!z;for(var Ne in z||(Y.internal.newObjectDeferredBegin(Y.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Y.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),z=z||Y.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(z.hasOwnProperty(Ne)){var ge=z[Ne],xe=[],De=ge.Rect;if(ge.Rect&&(ge.Rect=Bt(ge.Rect,Y)),Y.internal.newObjectDeferredBegin(ge.objId,!0),ge.DA=Ur.createDefaultAppearanceStream(ge),(0,h.default)(ge)==="object"&&typeof ge.getKeyValueListForStream=="function"&&(xe=ge.getKeyValueListForStream()),ge.Rect=De,ge.hasAppearanceStream&&!ge.appearanceStreamContent){var Ve=$r(ge);xe.push({key:"AP",value:"<</N "+Ve+">>"}),Y.internal.acroformPlugin.xForms.push(Ve)}if(ge.appearanceStreamContent){var et="";for(var st in ge.appearanceStreamContent)if(ge.appearanceStreamContent.hasOwnProperty(st)){var Oe=ge.appearanceStreamContent[st];if(et+="/"+st+" ",et+="<<",Object.keys(Oe).length>=1||Array.isArray(Oe)){for(var Ne in Oe)if(Oe.hasOwnProperty(Ne)){var vt=Oe[Ne];typeof vt=="function"&&(vt=vt.call(Y,ge)),et+="/"+Ne+" "+vt+" ",Y.internal.acroformPlugin.xForms.indexOf(vt)>=0||Y.internal.acroformPlugin.xForms.push(vt)}}else typeof(vt=Oe)=="function"&&(vt=vt.call(Y,ge)),et+="/"+Ne+" "+vt,Y.internal.acroformPlugin.xForms.indexOf(vt)>=0||Y.internal.acroformPlugin.xForms.push(vt);et+=">>"}xe.push({key:"AP",value:`<<
`+et+">>"})}Y.internal.putStream({additionalKeyValues:xe,objectId:ge.objId}),Y.internal.out("endobj")}re&&(function(mt,yt){for(var nt in mt)if(mt.hasOwnProperty(nt)){var kt=nt,Kt=mt[nt];yt.internal.newObjectDeferredBegin(Kt.objId,!0),(0,h.default)(Kt)==="object"&&typeof Kt.putStream=="function"&&Kt.putStream(),delete mt[kt]}})(Y.internal.acroformPlugin.xForms,Y)})(M,I)}),I.internal.acroformPlugin.isInitialized=!0}},dr=se.__acroform__.arrayToPdfArray=function(I,B,M){var z=function(Ne){return Ne};if(Array.isArray(I)){for(var Y="[",re=0;re<I.length;re++)switch(re!==0&&(Y+=" "),(0,h.default)(I[re])){case"boolean":case"number":case"object":Y+=I[re].toString();break;case"string":I[re].substr(0,1)!=="/"?(B!==void 0&&M&&(z=M.internal.getEncryptor(B)),Y+="("+Re(z(I[re].toString()))+")"):Y+=I[re].toString()}return Y+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cr=function(I,B,M){var z=function(Y){return Y};return B!==void 0&&M&&(z=M.internal.getEncryptor(B)),(I=I||"").toString(),"("+Re(z(I))+")"},Vr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(I){this._objId=I}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vr.prototype.toString=function(){return this.objId+" 0 R"},Vr.prototype.putStream=function(){var I=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:I,objectId:this.objId}),this.scope.internal.out("endobj")},Vr.prototype.getKeyValueListForStream=function(){var I=[],B=Object.getOwnPropertyNames(this).filter(function(re){return re!="content"&&re!="appearanceStreamContent"&&re!="scope"&&re!="objId"&&re.substring(0,1)!="_"});for(var M in B)if(Object.getOwnPropertyDescriptor(this,B[M]).configurable===!1){var z=B[M],Y=this[z];Y&&(Array.isArray(Y)?I.push({key:z,value:dr(Y,this.objId,this.scope)}):Y instanceof Vr?(Y.scope=this.scope,I.push({key:z,value:Y.objId+" 0 R"})):typeof Y!="function"&&I.push({key:z,value:Y}))}return I};var zr=function(){Vr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var I,B=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return B},set:function(M){B=M}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(M){I=M.trim()},get:function(){return I||null}})};Ze(zr,Vr);var vn=function(){Vr.call(this);var I,B=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return B.length>0?B:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return B}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(I){var M=function(z){return z};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+Re(M(I))+")"}},set:function(M){I=M}})};Ze(vn,Vr);var Wr=function I(){Vr.call(this);var B=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return B},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute F supplied.');B=nt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Or(B,3)},set:function(nt){nt?this.F=He(B,3):this.F=Zt(B,3)}});var M=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return M},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute Ff supplied.');M=nt}});var z=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(z.length!==0)return z},set:function(nt){z=nt!==void 0?nt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[0])?0:z[0]},set:function(nt){z[0]=nt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[1])?0:z[1]},set:function(nt){z[1]=nt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[2])?0:z[2]},set:function(nt){z[2]=nt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[3])?0:z[3]},set:function(nt){z[3]=nt}});var Y="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Y},set:function(nt){switch(nt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Y=nt;break;default:throw new Error('Invalid value "'+nt+'" for attribute FT supplied.')}}});var re=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!re||re.length<1){if(this instanceof dn)return;re="FieldObject"+I.FieldNum++}var nt=function(kt){return kt};return this.scope&&(nt=this.scope.internal.getEncryptor(this.objId)),"("+Re(nt(re))+")"},set:function(nt){re=nt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return re},set:function(nt){re=nt}});var Ne="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ne},set:function(nt){Ne=nt}});var ge="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ge},set:function(nt){ge=nt}});var xe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(nt){xe=nt}});var De=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return De===void 0?50/We:De},set:function(nt){De=nt}});var Ve="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(nt){Ve=nt}});var et="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!et||this instanceof dn||this instanceof Xr))return Cr(et,this.objId,this.scope)},set:function(nt){nt=nt.toString(),et=nt}});var st=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(st)return this instanceof cn==0?Cr(st,this.objId,this.scope):st},set:function(nt){nt=nt.toString(),st=this instanceof cn==0?nt.substr(0,1)==="("?Ee(nt.substr(1,nt.length-2)):Ee(nt):nt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ee(st.substr(1,st.length-1)):st},set:function(nt){nt=nt.toString(),st=this instanceof cn==1?"/"+nt:nt}});var Oe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return Oe},set:function(nt){this.V=nt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof cn==0?Cr(Oe,this.objId,this.scope):Oe},set:function(nt){nt=nt.toString(),Oe=this instanceof cn==0?nt.substr(0,1)==="("?Ee(nt.substr(1,nt.length-2)):Ee(nt):nt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ee(Oe.substr(1,Oe.length-1)):Oe},set:function(nt){nt=nt.toString(),Oe=this instanceof cn==1?"/"+nt:nt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var vt,mt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return mt},set:function(nt){nt=!!nt,mt=nt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(vt)return vt},set:function(nt){vt=nt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,1)},set:function(nt){nt?this.Ff=He(this.Ff,1):this.Ff=Zt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,2)},set:function(nt){nt?this.Ff=He(this.Ff,2):this.Ff=Zt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,3)},set:function(nt){nt?this.Ff=He(this.Ff,3):this.Ff=Zt(this.Ff,3)}});var yt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(yt!==null)return yt},set:function(nt){if([0,1,2].indexOf(nt)===-1)throw new Error('Invalid value "'+nt+'" for attribute Q supplied.');yt=nt}}),Object.defineProperty(this,"textAlign",{get:function(){var nt;switch(yt){case 0:default:nt="left";break;case 1:nt="center";break;case 2:nt="right"}return nt},configurable:!0,enumerable:!0,set:function(nt){switch(nt){case"right":case 2:yt=2;break;case"center":case 1:yt=1;break;default:yt=0}}})};Ze(Wr,Vr);var $n=function(){Wr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var I=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return I},set:function(M){I=M}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return I},set:function(M){I=M}});var B=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dr(B,this.objId,this.scope)},set:function(M){var z,Y;Y=[],typeof(z=M)=="string"&&(Y=(function(re,Ne,ge){ge||(ge=1);for(var xe,De=[];xe=Ne.exec(re);)De.push(xe[ge]);return De})(z,/\((.*?)\)/g)),B=Y}}),this.getOptions=function(){return B},this.setOptions=function(M){B=M,this.sort&&B.sort()},this.addOption=function(M){M=(M=M||"").toString(),B.push(M),this.sort&&B.sort()},this.removeOption=function(M,z){for(z=z||!1,M=(M=M||"").toString();B.indexOf(M)!==-1&&(B.splice(B.indexOf(M),1),z!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,18)},set:function(M){M?this.Ff=He(this.Ff,18):this.Ff=Zt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,19)},set:function(M){this.combo===!0&&(M?this.Ff=He(this.Ff,19):this.Ff=Zt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,20)},set:function(M){M?(this.Ff=He(this.Ff,20),B.sort()):this.Ff=Zt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,22)},set:function(M){M?this.Ff=He(this.Ff,22):this.Ff=Zt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(M){M?this.Ff=He(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,27)},set:function(M){M?this.Ff=He(this.Ff,27):this.Ff=Zt(this.Ff,27)}}),this.hasAppearanceStream=!1};Ze($n,Wr);var Lr=function(){$n.call(this),this.fontName="helvetica",this.combo=!1};Ze(Lr,$n);var Dr=function(){Lr.call(this),this.combo=!0};Ze(Dr,Lr);var jn=function(){Dr.call(this),this.edit=!0};Ze(jn,Dr);var cn=function(){Wr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,15)},set:function(M){M?this.Ff=He(this.Ff,15):this.Ff=Zt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,16)},set:function(M){M?this.Ff=He(this.Ff,16):this.Ff=Zt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,17)},set:function(M){M?this.Ff=He(this.Ff,17):this.Ff=Zt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(M){M?this.Ff=He(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var I,B={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var M=function(re){return re};if(this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),Object.keys(B).length!==0){var z,Y=[];for(z in Y.push("<<"),B)Y.push("/"+z+" ("+Re(M(B[z]))+")");return Y.push(">>"),Y.join(`
`)}},set:function(M){(0,h.default)(M)==="object"&&(B=M)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return B.CA||""},set:function(M){typeof M=="string"&&(B.CA=M)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return I},set:function(M){I=M}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return I.substr(1,I.length-1)},set:function(M){I="/"+M}})};Ze(cn,Wr);var bt=function(){cn.call(this),this.pushButton=!0};Ze(bt,cn);var Sr=function(){cn.call(this),this.radio=!0,this.pushButton=!1;var I=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return I},set:function(B){I=B!==void 0?B:[]}})};Ze(Sr,cn);var dn=function(){var I,B;Wr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return I},set:function(Y){I=Y}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return B},set:function(Y){B=Y}});var M,z={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Y=function(ge){return ge};this.scope&&(Y=this.scope.internal.getEncryptor(this.objId));var re,Ne=[];for(re in Ne.push("<<"),z)Ne.push("/"+re+" ("+Re(Y(z[re]))+")");return Ne.push(">>"),Ne.join(`
`)},set:function(Y){(0,h.default)(Y)==="object"&&(z=Y)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return z.CA||""},set:function(Y){typeof Y=="string"&&(z.CA=Y)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return M},set:function(Y){M=Y}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return M.substr(1,M.length-1)},set:function(Y){M="/"+Y}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ur.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ze(dn,Wr),Sr.prototype.setAppearance=function(I){if(!("createAppearanceStream"in I)||!("getCA"in I))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var B in this.Kids)if(this.Kids.hasOwnProperty(B)){var M=this.Kids[B];M.appearanceStreamContent=I.createAppearanceStream(M.optionName),M.caption=I.getCA()}},Sr.prototype.createOption=function(I){var B=new dn;return B.Parent=this,B.optionName=I,this.Kids.push(B),ei.call(this.scope,B),B};var Dn=function(){cn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ur.CheckBox.createAppearanceStream()};Ze(Dn,cn);var Xr=function(){Wr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,13)},set:function(B){B?this.Ff=He(this.Ff,13):this.Ff=Zt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,21)},set:function(B){B?this.Ff=He(this.Ff,21):this.Ff=Zt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(B){B?this.Ff=He(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,24)},set:function(B){B?this.Ff=He(this.Ff,24):this.Ff=Zt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,25)},set:function(B){B?this.Ff=He(this.Ff,25):this.Ff=Zt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(B){B?this.Ff=He(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var I=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return I},set:function(B){I=B}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return I},set:function(B){Number.isInteger(B)&&(I=B)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ze(Xr,Wr);var Un=function(){Xr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,14)},set:function(I){I?this.Ff=He(this.Ff,14):this.Ff=Zt(this.Ff,14)}}),this.password=!0};Ze(Un,Xr);var Ur={CheckBox:{createAppearanceStream:function(){return{N:{On:Ur.CheckBox.YesNormal},D:{On:Ur.CheckBox.YesPushDown,Off:Ur.CheckBox.OffPushDown}}},YesPushDown:function(I){var B=Lt(I);B.scope=I.scope;var M=[],z=I.scope.internal.getFont(I.fontName,I.fontStyle).id,Y=I.scope.__private__.encodeColorString(I.color),re=pr(I,I.caption);return M.push("0.749023 g"),M.push("0 0 "+ie(Ur.internal.getWidth(I))+" "+ie(Ur.internal.getHeight(I))+" re"),M.push("f"),M.push("BMC"),M.push("q"),M.push("0 0 1 rg"),M.push("/"+z+" "+ie(re.fontSize)+" Tf "+Y),M.push("BT"),M.push(re.text),M.push("ET"),M.push("Q"),M.push("EMC"),B.stream=M.join(`
`),B},YesNormal:function(I){var B=Lt(I);B.scope=I.scope;var M=I.scope.internal.getFont(I.fontName,I.fontStyle).id,z=I.scope.__private__.encodeColorString(I.color),Y=[],re=Ur.internal.getHeight(I),Ne=Ur.internal.getWidth(I),ge=pr(I,I.caption);return Y.push("1 g"),Y.push("0 0 "+ie(Ne)+" "+ie(re)+" re"),Y.push("f"),Y.push("q"),Y.push("0 0 1 rg"),Y.push("0 0 "+ie(Ne-1)+" "+ie(re-1)+" re"),Y.push("W"),Y.push("n"),Y.push("0 g"),Y.push("BT"),Y.push("/"+M+" "+ie(ge.fontSize)+" Tf "+z),Y.push(ge.text),Y.push("ET"),Y.push("Q"),B.stream=Y.join(`
`),B},OffPushDown:function(I){var B=Lt(I);B.scope=I.scope;var M=[];return M.push("0.749023 g"),M.push("0 0 "+ie(Ur.internal.getWidth(I))+" "+ie(Ur.internal.getHeight(I))+" re"),M.push("f"),B.stream=M.join(`
`),B}},RadioButton:{Circle:{createAppearanceStream:function(I){var B={D:{Off:Ur.RadioButton.Circle.OffPushDown},N:{}};return B.N[I]=Ur.RadioButton.Circle.YesNormal,B.D[I]=Ur.RadioButton.Circle.YesPushDown,B},getCA:function(){return"l"},YesNormal:function(I){var B=Lt(I);B.scope=I.scope;var M=[],z=Ur.internal.getWidth(I)<=Ur.internal.getHeight(I)?Ur.internal.getWidth(I)/4:Ur.internal.getHeight(I)/4;z=Number((.9*z).toFixed(5));var Y=Ur.internal.Bezier_C,re=Number((z*Y).toFixed(5));return M.push("q"),M.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),M.push(z+" 0 m"),M.push(z+" "+re+" "+re+" "+z+" 0 "+z+" c"),M.push("-"+re+" "+z+" -"+z+" "+re+" -"+z+" 0 c"),M.push("-"+z+" -"+re+" -"+re+" -"+z+" 0 -"+z+" c"),M.push(re+" -"+z+" "+z+" -"+re+" "+z+" 0 c"),M.push("f"),M.push("Q"),B.stream=M.join(`
`),B},YesPushDown:function(I){var B=Lt(I);B.scope=I.scope;var M=[],z=Ur.internal.getWidth(I)<=Ur.internal.getHeight(I)?Ur.internal.getWidth(I)/4:Ur.internal.getHeight(I)/4;z=Number((.9*z).toFixed(5));var Y=Number((2*z).toFixed(5)),re=Number((Y*Ur.internal.Bezier_C).toFixed(5)),Ne=Number((z*Ur.internal.Bezier_C).toFixed(5));return M.push("0.749023 g"),M.push("q"),M.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),M.push(Y+" 0 m"),M.push(Y+" "+re+" "+re+" "+Y+" 0 "+Y+" c"),M.push("-"+re+" "+Y+" -"+Y+" "+re+" -"+Y+" 0 c"),M.push("-"+Y+" -"+re+" -"+re+" -"+Y+" 0 -"+Y+" c"),M.push(re+" -"+Y+" "+Y+" -"+re+" "+Y+" 0 c"),M.push("f"),M.push("Q"),M.push("0 g"),M.push("q"),M.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),M.push(z+" 0 m"),M.push(z+" "+Ne+" "+Ne+" "+z+" 0 "+z+" c"),M.push("-"+Ne+" "+z+" -"+z+" "+Ne+" -"+z+" 0 c"),M.push("-"+z+" -"+Ne+" -"+Ne+" -"+z+" 0 -"+z+" c"),M.push(Ne+" -"+z+" "+z+" -"+Ne+" "+z+" 0 c"),M.push("f"),M.push("Q"),B.stream=M.join(`
`),B},OffPushDown:function(I){var B=Lt(I);B.scope=I.scope;var M=[],z=Ur.internal.getWidth(I)<=Ur.internal.getHeight(I)?Ur.internal.getWidth(I)/4:Ur.internal.getHeight(I)/4;z=Number((.9*z).toFixed(5));var Y=Number((2*z).toFixed(5)),re=Number((Y*Ur.internal.Bezier_C).toFixed(5));return M.push("0.749023 g"),M.push("q"),M.push("1 0 0 1 "+Le(Ur.internal.getWidth(I)/2)+" "+Le(Ur.internal.getHeight(I)/2)+" cm"),M.push(Y+" 0 m"),M.push(Y+" "+re+" "+re+" "+Y+" 0 "+Y+" c"),M.push("-"+re+" "+Y+" -"+Y+" "+re+" -"+Y+" 0 c"),M.push("-"+Y+" -"+re+" -"+re+" -"+Y+" 0 -"+Y+" c"),M.push(re+" -"+Y+" "+Y+" -"+re+" "+Y+" 0 c"),M.push("f"),M.push("Q"),B.stream=M.join(`
`),B}},Cross:{createAppearanceStream:function(I){var B={D:{Off:Ur.RadioButton.Cross.OffPushDown},N:{}};return B.N[I]=Ur.RadioButton.Cross.YesNormal,B.D[I]=Ur.RadioButton.Cross.YesPushDown,B},getCA:function(){return"8"},YesNormal:function(I){var B=Lt(I);B.scope=I.scope;var M=[],z=Ur.internal.calculateCross(I);return M.push("q"),M.push("1 1 "+ie(Ur.internal.getWidth(I)-2)+" "+ie(Ur.internal.getHeight(I)-2)+" re"),M.push("W"),M.push("n"),M.push(ie(z.x1.x)+" "+ie(z.x1.y)+" m"),M.push(ie(z.x2.x)+" "+ie(z.x2.y)+" l"),M.push(ie(z.x4.x)+" "+ie(z.x4.y)+" m"),M.push(ie(z.x3.x)+" "+ie(z.x3.y)+" l"),M.push("s"),M.push("Q"),B.stream=M.join(`
`),B},YesPushDown:function(I){var B=Lt(I);B.scope=I.scope;var M=Ur.internal.calculateCross(I),z=[];return z.push("0.749023 g"),z.push("0 0 "+ie(Ur.internal.getWidth(I))+" "+ie(Ur.internal.getHeight(I))+" re"),z.push("f"),z.push("q"),z.push("1 1 "+ie(Ur.internal.getWidth(I)-2)+" "+ie(Ur.internal.getHeight(I)-2)+" re"),z.push("W"),z.push("n"),z.push(ie(M.x1.x)+" "+ie(M.x1.y)+" m"),z.push(ie(M.x2.x)+" "+ie(M.x2.y)+" l"),z.push(ie(M.x4.x)+" "+ie(M.x4.y)+" m"),z.push(ie(M.x3.x)+" "+ie(M.x3.y)+" l"),z.push("s"),z.push("Q"),B.stream=z.join(`
`),B},OffPushDown:function(I){var B=Lt(I);B.scope=I.scope;var M=[];return M.push("0.749023 g"),M.push("0 0 "+ie(Ur.internal.getWidth(I))+" "+ie(Ur.internal.getHeight(I))+" re"),M.push("f"),B.stream=M.join(`
`),B}}},createDefaultAppearanceStream:function(I){var B=I.scope.internal.getFont(I.fontName,I.fontStyle).id,M=I.scope.__private__.encodeColorString(I.color);return"/"+B+" "+I.fontSize+" Tf "+M}};Ur.internal={Bezier_C:.551915024494,calculateCross:function(I){var B=Ur.internal.getWidth(I),M=Ur.internal.getHeight(I),z=Math.min(B,M);return{x1:{x:(B-z)/2,y:(M-z)/2+z},x2:{x:(B-z)/2+z,y:(M-z)/2},x3:{x:(B-z)/2,y:(M-z)/2},x4:{x:(B-z)/2+z,y:(M-z)/2+z}}}},Ur.internal.getWidth=function(I){var B=0;return(0,h.default)(I)==="object"&&(B=jt(I.Rect[2])),B},Ur.internal.getHeight=function(I){var B=0;return(0,h.default)(I)==="object"&&(B=jt(I.Rect[3])),B};var ei=se.addField=function(I){if(Ir(this,I),!(I instanceof Wr))throw new Error("Invalid argument passed to jsPDF.addField.");var B;return(B=I).scope.internal.acroformPlugin.printedOut&&(B.scope.internal.acroformPlugin.printedOut=!1,B.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),B.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(B),I.page=I.scope.internal.getCurrentPageInfo().pageNumber,this};se.AcroFormChoiceField=$n,se.AcroFormListBox=Lr,se.AcroFormComboBox=Dr,se.AcroFormEditBox=jn,se.AcroFormButton=cn,se.AcroFormPushButton=bt,se.AcroFormRadioButton=Sr,se.AcroFormCheckBox=Dn,se.AcroFormTextField=Xr,se.AcroFormPasswordField=Un,se.AcroFormAppearance=Ur,se.AcroForm={ChoiceField:$n,ListBox:Lr,ComboBox:Dr,EditBox:jn,Button:cn,PushButton:bt,RadioButton:Sr,CheckBox:Dn,TextField:Xr,PasswordField:Un,Appearance:Ur},de.AcroForm={ChoiceField:$n,ListBox:Lr,ComboBox:Dr,EditBox:jn,Button:cn,PushButton:bt,RadioButton:Sr,CheckBox:Dn,TextField:Xr,PasswordField:Un,Appearance:Ur};var ls=de.AcroForm;function Cn(I){return I.reduce(function(B,M,z){return B[M]=z,B},{})}(function(I){var B="addImage_";I.__addimage__={};var M="UNKNOWN",z={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Y=I.__addimage__.getImageFileTypeByImageData=function(at,dt){var It,Tt,cr,Ar,xr,Jt=M;if((dt=dt||M)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Qt(at))for(xr in z)for(cr=z[xr],It=0;It<cr.length;It+=1){for(Ar=!0,Tt=0;Tt<cr[It].length;Tt+=1)if(cr[It][Tt]!==void 0&&cr[It][Tt]!==at[Tt]){Ar=!1;break}if(Ar===!0){Jt=xr;break}}else for(xr in z)for(cr=z[xr],It=0;It<cr.length;It+=1){for(Ar=!0,Tt=0;Tt<cr[It].length;Tt+=1)if(cr[It][Tt]!==void 0&&cr[It][Tt]!==at.charCodeAt(Tt)){Ar=!1;break}if(Ar===!0){Jt=xr;break}}return Jt===M&&dt!==M&&(Jt=dt),Jt},re=function at(dt){for(var It=this.internal.write,Tt=this.internal.putStream,cr=(0,this.internal.getFilters)();cr.indexOf("FlateEncode")!==-1;)cr.splice(cr.indexOf("FlateEncode"),1);dt.objectId=this.internal.newObject();var Ar=[];if(Ar.push({key:"Type",value:"/XObject"}),Ar.push({key:"Subtype",value:"/Image"}),Ar.push({key:"Width",value:dt.width}),Ar.push({key:"Height",value:dt.height}),dt.colorSpace===nt.INDEXED?Ar.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(dt.palette.length/3-1)+" "+("sMask"in dt&&dt.sMask!==void 0?dt.objectId+2:dt.objectId+1)+" 0 R]"}):(Ar.push({key:"ColorSpace",value:"/"+dt.colorSpace}),dt.colorSpace===nt.DEVICE_CMYK&&Ar.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ar.push({key:"BitsPerComponent",value:dt.bitsPerComponent}),"decodeParameters"in dt&&dt.decodeParameters!==void 0&&Ar.push({key:"DecodeParms",value:"<<"+dt.decodeParameters+">>"}),"transparency"in dt&&Array.isArray(dt.transparency)&&dt.transparency.length>0){for(var xr="",Jt=0,gr=dt.transparency.length;Jt<gr;Jt++)xr+=dt.transparency[Jt]+" "+dt.transparency[Jt]+" ";Ar.push({key:"Mask",value:"["+xr+"]"})}dt.sMask!==void 0&&Ar.push({key:"SMask",value:dt.objectId+1+" 0 R"});var Zr=dt.filter!==void 0?["/"+dt.filter]:void 0;if(Tt({data:dt.data,additionalKeyValues:Ar,alreadyAppliedFilters:Zr,objectId:dt.objectId}),It("endobj"),"sMask"in dt&&dt.sMask!==void 0){var Hr,Ye=(Hr=dt.sMaskBitsPerComponent)!==null&&Hr!==void 0?Hr:dt.bitsPerComponent,xt={width:dt.width,height:dt.height,colorSpace:"DeviceGray",bitsPerComponent:Ye,data:dt.sMask};"filter"in dt&&(xt.decodeParameters="/Predictor ".concat(dt.predictor," /Colors 1 /BitsPerComponent ").concat(Ye," /Columns ").concat(dt.width),xt.filter=dt.filter),at.call(this,xt)}if(dt.colorSpace===nt.INDEXED){var Nt=this.internal.newObject();Tt({data:qt(new Uint8Array(dt.palette)),objectId:Nt}),It("endobj")}},Ne=function(){var at=this.internal.collections[B+"images"];for(var dt in at)re.call(this,at[dt])},ge=function(){var at,dt=this.internal.collections[B+"images"],It=this.internal.write;for(var Tt in dt)It("/I"+(at=dt[Tt]).index,at.objectId,"0","R")},xe=function(){this.internal.collections[B+"images"]||(this.internal.collections[B+"images"]={},this.internal.events.subscribe("putResources",Ne),this.internal.events.subscribe("putXobjectDict",ge))},De=function(){var at=this.internal.collections[B+"images"];return xe.call(this),at},Ve=function(){return Object.keys(this.internal.collections[B+"images"]).length},et=function(at){return typeof I["process"+at.toUpperCase()]=="function"},st=function(at){return(0,h.default)(at)==="object"&&at.nodeType===1},Oe=function(at,dt){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var It=""+at.getAttribute("src");if(It.indexOf("data:image/")===0)return j(unescape(It).split("base64,").pop());var Tt=I.loadFile(It,!0);if(Tt!==void 0)return Tt}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var cr;switch(dt){case"PNG":cr="image/png";break;case"WEBP":cr="image/webp";break;default:cr="image/jpeg"}return j(at.toDataURL(cr,1).split("base64,").pop())}},vt=function(at){var dt=this.internal.collections[B+"images"];if(dt){for(var It in dt)if(at===dt[It].alias)return dt[It]}},mt=function(at,dt,It){return at||dt||(at=-96,dt=-96),at<0&&(at=-1*It.width*72/at/this.internal.scaleFactor),dt<0&&(dt=-1*It.height*72/dt/this.internal.scaleFactor),at===0&&(at=dt*It.width/It.height),dt===0&&(dt=at*It.height/It.width),[at,dt]},yt=function(at,dt,It,Tt,cr,Ar){var xr=mt.call(this,It,Tt,cr),Jt=this.internal.getCoordinateString,gr=this.internal.getVerticalCoordinateString,Zr=De.call(this);if(It=xr[0],Tt=xr[1],Zr[cr.index]=cr,Ar){Ar*=Math.PI/180;var Hr=Math.cos(Ar),Ye=Math.sin(Ar),xt=function(Wt){return Wt.toFixed(4)},Nt=[xt(Hr),xt(Ye),xt(-1*Ye),xt(Hr),0,0,"cm"]}this.internal.write("q"),Ar?(this.internal.write([1,"0","0",1,Jt(at),gr(dt+Tt),"cm"].join(" ")),this.internal.write(Nt.join(" ")),this.internal.write([Jt(It),"0","0",Jt(Tt),"0","0","cm"].join(" "))):this.internal.write([Jt(It),"0","0",Jt(Tt),Jt(at),gr(dt+Tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+cr.index+" Do"),this.internal.write("Q")},nt=I.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};I.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var kt=I.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Kt=I.__addimage__.sHashCode=function(at){var dt,It,Tt=0;if(typeof at=="string")for(It=at.length,dt=0;dt<It;dt++)Tt=(Tt<<5)-Tt+at.charCodeAt(dt),Tt|=0;else if(Qt(at))for(It=at.byteLength/2,dt=0;dt<It;dt++)Tt=(Tt<<5)-Tt+at[dt],Tt|=0;return Tt},Et=I.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var dt=!0;return at.length===0&&(dt=!1),at.length%4!=0&&(dt=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&(dt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&(dt=!1),dt},tt=I.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var dt=at.indexOf(",");return dt<0?null:at.substring(0,dt).trim().endsWith("base64")?at.substring(dt+1):null};I.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Qt=I.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},lr=I.__addimage__.binaryStringToUint8Array=function(at){for(var dt=at.length,It=new Uint8Array(dt),Tt=0;Tt<dt;Tt++)It[Tt]=at.charCodeAt(Tt);return It},qt=I.__addimage__.arrayBufferToBinaryString=function(at){for(var dt="",It=Qt(at)?at:new Uint8Array(at),Tt=0;Tt<It.length;Tt+=8192)dt+=String.fromCharCode.apply(null,It.subarray(Tt,Tt+8192));return dt};I.addImage=function(){var at,dt,It,Tt,cr,Ar,xr,Jt,gr;if(typeof arguments[1]=="number"?(dt=M,It=arguments[1],Tt=arguments[2],cr=arguments[3],Ar=arguments[4],xr=arguments[5],Jt=arguments[6],gr=arguments[7]):(dt=arguments[1],It=arguments[2],Tt=arguments[3],cr=arguments[4],Ar=arguments[5],xr=arguments[6],Jt=arguments[7],gr=arguments[8]),(0,h.default)(at=arguments[0])==="object"&&!st(at)&&"imageData"in at){var Zr=at;at=Zr.imageData,dt=Zr.format||dt||M,It=Zr.x||It||0,Tt=Zr.y||Tt||0,cr=Zr.w||Zr.width||cr,Ar=Zr.h||Zr.height||Ar,xr=Zr.alias||xr,Jt=Zr.compression||Jt,gr=Zr.rotation||Zr.angle||gr}var Hr=this.internal.getFilters();if(Jt===void 0&&Hr.indexOf("FlateEncode")!==-1&&(Jt="SLOW"),isNaN(It)||isNaN(Tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");xe.call(this);var Ye=_t.call(this,at,dt,xr,Jt);return yt.call(this,It,Tt,cr,Ar,Ye,gr),this};var _t=function(at,dt,It,Tt){var cr,Ar,xr;if(typeof at=="string"&&Y(at)===M){at=unescape(at);var Jt=or(at,!1);(Jt!==""||(Jt=I.loadFile(at,!0))!==void 0)&&(at=Jt)}if(st(at)&&(at=Oe(at,dt)),dt=Y(at,dt),!et(dt))throw new Error("addImage does not support files of type '"+dt+"', please ensure that a plugin for '"+dt+"' support is added.");if(((xr=It)==null||xr.length===0)&&(It=(function(gr){return typeof gr=="string"||Qt(gr)?Kt(gr):Qt(gr.data)?Kt(gr.data):null})(at)),(cr=vt.call(this,It))||(at instanceof Uint8Array||dt==="RGBA"||(Ar=at,at=lr(at)),cr=this["process"+dt.toUpperCase()](at,Ve.call(this),It,(function(gr){return gr&&typeof gr=="string"&&(gr=gr.toUpperCase()),gr in I.image_compression?gr:kt.NONE})(Tt),Ar)),!cr)throw new Error("An unknown error occurred whilst processing the image.");return cr},or=I.__addimage__.convertBase64ToBinaryString=function(at,dt){dt=typeof dt!="boolean"||dt;var It,Tt="";if(typeof at=="string"){var cr;It=(cr=tt(at))!==null&&cr!==void 0?cr:at;try{Tt=j(It)}catch(Ar){if(dt)throw Et(It)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ar.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tt};I.getImageProperties=function(at){var dt,It,Tt="";if(st(at)&&(at=Oe(at)),typeof at=="string"&&Y(at)===M&&((Tt=or(at,!1))===""&&(Tt=I.loadFile(at)||""),at=Tt),It=Y(at),!et(It))throw new Error("addImage does not support files of type '"+It+"', please ensure that a plugin for '"+It+"' support is added.");if(at instanceof Uint8Array||(at=lr(at)),!(dt=this["process"+It.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return dt.fileType=It,dt}})(de.API),(function(I){var B=function(M){if(M!==void 0&&M!="")return!0};de.API.events.push(["addPage",function(M){this.internal.getPageInfo(M.pageNumber).pageContext.annotations=[]}]),I.events.push(["putPage",function(M){for(var z,Y,re,Ne=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,xe=this.internal.getPageInfoByObjId(M.objId),De=M.pageContext.annotations,Ve=!1,et=0;et<De.length&&!Ve;et++)switch((z=De[et]).type){case"link":(B(z.options.url)||B(z.options.pageNumber))&&(Ve=!0);break;case"reference":case"text":case"freetext":Ve=!0}if(Ve!=0){this.internal.write("/Annots [");for(var st=0;st<De.length;st++){z=De[st];var Oe=this.internal.pdfEscape,vt=this.internal.getEncryptor(M.objId);switch(z.type){case"reference":this.internal.write(" "+z.object.objId+" 0 R ");break;case"text":var mt=this.internal.newAdditionalObject(),yt=this.internal.newAdditionalObject(),nt=this.internal.getEncryptor(mt.objId),kt=z.title||"Note";re="<</Type /Annot /Subtype /Text "+(Y="/Rect ["+Ne(z.bounds.x)+" "+ge(z.bounds.y+z.bounds.h)+" "+Ne(z.bounds.x+z.bounds.w)+" "+ge(z.bounds.y)+"] ")+"/Contents ("+Oe(nt(z.contents))+")",re+=" /Popup "+yt.objId+" 0 R",re+=" /P "+xe.objId+" 0 R",re+=" /T ("+Oe(nt(kt))+") >>",mt.content=re;var Kt=mt.objId+" 0 R";re="<</Type /Annot /Subtype /Popup "+(Y="/Rect ["+Ne(z.bounds.x+30)+" "+ge(z.bounds.y+z.bounds.h)+" "+Ne(z.bounds.x+z.bounds.w+30)+" "+ge(z.bounds.y)+"] ")+" /Parent "+Kt,z.open&&(re+=" /Open true"),re+=" >>",yt.content=re,this.internal.write(mt.objId,"0 R",yt.objId,"0 R");break;case"freetext":Y="/Rect ["+Ne(z.bounds.x)+" "+ge(z.bounds.y)+" "+Ne(z.bounds.x+z.bounds.w)+" "+ge(z.bounds.y+z.bounds.h)+"] ";var Et=z.color||"#000000";re="<</Type /Annot /Subtype /FreeText "+Y+"/Contents ("+Oe(vt(z.contents))+")",re+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Et+")",re+=" /Border [0 0 0]",re+=" >>",this.internal.write(re);break;case"link":if(z.options.name){var tt=this.annotations._nameMap[z.options.name];z.options.pageNumber=tt.page,z.options.top=tt.y}else z.options.top||(z.options.top=0);if(Y="/Rect ["+z.finalBounds.x+" "+z.finalBounds.y+" "+z.finalBounds.w+" "+z.finalBounds.h+"] ",re="",z.options.url)re="<</Type /Annot /Subtype /Link "+Y+"/Border [0 0 0] /A <</S /URI /URI ("+Oe(vt(z.options.url))+") >>";else if(z.options.pageNumber)switch(re="<</Type /Annot /Subtype /Link "+Y+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(z.options.pageNumber).objId+" 0 R",z.options.magFactor=z.options.magFactor||"XYZ",z.options.magFactor){case"Fit":re+=" /Fit]";break;case"FitH":re+=" /FitH "+z.options.top+"]";break;case"FitV":z.options.left=z.options.left||0,re+=" /FitV "+z.options.left+"]";break;default:var Qt=ge(z.options.top);z.options.left=z.options.left||0,z.options.zoom===void 0&&(z.options.zoom=0),re+=" /XYZ "+z.options.left+" "+Qt+" "+z.options.zoom+"]"}re!=""&&(re+=" >>",this.internal.write(re))}}this.internal.write("]")}}]),I.createAnnotation=function(M){var z=this.internal.getCurrentPageInfo();switch(M.type){case"link":this.link(M.bounds.x,M.bounds.y,M.bounds.w,M.bounds.h,M);break;case"text":case"freetext":z.pageContext.annotations.push(M)}},I.link=function(M,z,Y,re,Ne){var ge=this.internal.getCurrentPageInfo(),xe=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString;ge.pageContext.annotations.push({finalBounds:{x:xe(M),y:De(z),w:xe(M+Y),h:De(z+re)},options:Ne,type:"link"})},I.textWithLink=function(M,z,Y,re){var Ne,ge,xe=this.getTextWidth(M),De=this.internal.getLineHeight()/this.internal.scaleFactor;if(re.maxWidth!==void 0){ge=re.maxWidth;var Ve=this.splitTextToSize(M,ge).length;Ne=Math.ceil(De*Ve)}else ge=xe,Ne=De;return this.text(M,z,Y,re),Y+=.2*De,re.align==="center"&&(z-=xe/2),re.align==="right"&&(z-=xe),this.link(z,Y-De,ge,Ne,re),xe},I.getTextWidth=function(M){var z=this.internal.getFontSize();return this.getStringUnitWidth(M)*z/this.internal.scaleFactor}})(de.API),(function(I){var B={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},M={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},z={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Y=[1570,1571,1573,1575];I.__arabicParser__={};var re=I.__arabicParser__.isInArabicSubstitutionA=function(mt){return B[mt.charCodeAt(0)]!==void 0},Ne=I.__arabicParser__.isArabicLetter=function(mt){return typeof mt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(mt)},ge=I.__arabicParser__.isArabicEndLetter=function(mt){return Ne(mt)&&re(mt)&&B[mt.charCodeAt(0)].length<=2},xe=I.__arabicParser__.isArabicAlfLetter=function(mt){return Ne(mt)&&Y.indexOf(mt.charCodeAt(0))>=0};I.__arabicParser__.arabicLetterHasIsolatedForm=function(mt){return Ne(mt)&&re(mt)&&B[mt.charCodeAt(0)].length>=1};var De=I.__arabicParser__.arabicLetterHasFinalForm=function(mt){return Ne(mt)&&re(mt)&&B[mt.charCodeAt(0)].length>=2};I.__arabicParser__.arabicLetterHasInitialForm=function(mt){return Ne(mt)&&re(mt)&&B[mt.charCodeAt(0)].length>=3};var Ve=I.__arabicParser__.arabicLetterHasMedialForm=function(mt){return Ne(mt)&&re(mt)&&B[mt.charCodeAt(0)].length==4},et=I.__arabicParser__.resolveLigatures=function(mt){var yt=0,nt=M,kt="",Kt=0;for(yt=0;yt<mt.length;yt+=1)nt[mt.charCodeAt(yt)]!==void 0?(Kt++,typeof(nt=nt[mt.charCodeAt(yt)])=="number"&&(kt+=String.fromCharCode(nt),nt=M,Kt=0),yt===mt.length-1&&(nt=M,kt+=mt.charAt(yt-(Kt-1)),yt-=Kt-1,Kt=0)):(nt=M,kt+=mt.charAt(yt-Kt),yt-=Kt,Kt=0);return kt};I.__arabicParser__.isArabicDiacritic=function(mt){return mt!==void 0&&z[mt.charCodeAt(0)]!==void 0};var st=I.__arabicParser__.getCorrectForm=function(mt,yt,nt){return Ne(mt)?re(mt)===!1?-1:!De(mt)||!Ne(yt)&&!Ne(nt)||!Ne(nt)&&ge(yt)||ge(mt)&&!Ne(yt)||ge(mt)&&xe(yt)||ge(mt)&&ge(yt)?0:Ve(mt)&&Ne(yt)&&!ge(yt)&&Ne(nt)&&De(nt)?3:ge(mt)||!Ne(nt)?1:2:-1},Oe=function(mt){var yt=0,nt=0,kt=0,Kt="",Et="",tt="",Qt=(mt=mt||"").split("\\s+"),lr=[];for(yt=0;yt<Qt.length;yt+=1){for(lr.push(""),nt=0;nt<Qt[yt].length;nt+=1)Kt=Qt[yt][nt],Et=Qt[yt][nt-1],tt=Qt[yt][nt+1],Ne(Kt)?(kt=st(Kt,Et,tt),lr[yt]+=kt!==-1?String.fromCharCode(B[Kt.charCodeAt(0)][kt]):Kt):lr[yt]+=Kt;lr[yt]=et(lr[yt])}return lr.join(" ")},vt=I.__arabicParser__.processArabic=I.processArabic=function(){var mt,yt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,nt=[];if(Array.isArray(yt)){var kt=0;for(nt=[],kt=0;kt<yt.length;kt+=1)Array.isArray(yt[kt])?nt.push([Oe(yt[kt][0]),yt[kt][1],yt[kt][2]]):nt.push([Oe(yt[kt])]);mt=nt}else mt=Oe(yt);return typeof arguments[0]=="string"?mt:(arguments[0].text=mt,arguments[0])};I.events.push(["preProcessText",vt])})(de.API),de.API.autoPrint=function(I){var B;return(I=I||{}).variant=I.variant||"non-conform",I.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){B=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+B+" 0 R")})),this},(function(I){var B=function(){var M=void 0;Object.defineProperty(this,"pdf",{get:function(){return M},set:function(ge){M=ge}});var z=150;Object.defineProperty(this,"width",{get:function(){return z},set:function(ge){z=isNaN(ge)||Number.isInteger(ge)===!1||ge<0?150:ge,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=z+1)}});var Y=300;Object.defineProperty(this,"height",{get:function(){return Y},set:function(ge){Y=isNaN(ge)||Number.isInteger(ge)===!1||ge<0?300:ge,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Y+1)}});var re=[];Object.defineProperty(this,"childNodes",{get:function(){return re},set:function(ge){re=ge}});var Ne={};Object.defineProperty(this,"style",{get:function(){return Ne},set:function(ge){Ne=ge}}),Object.defineProperty(this,"parentNode",{})};B.prototype.getContext=function(M,z){var Y;if((M=M||"2d")!=="2d")return null;for(Y in z)this.pdf.context2d.hasOwnProperty(Y)&&(this.pdf.context2d[Y]=z[Y]);return this.pdf.context2d._canvas=this,this.pdf.context2d},B.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},I.events.push(["initialized",function(){this.canvas=new B,this.canvas.pdf=this}])})(de.API),(function(I){var B={left:0,top:0,bottom:0,right:0},M=!1,z=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},B),this.internal.__cell__.margins.width=this.getPageWidth(),Y.call(this))},Y=function(){this.internal.__cell__.lastCell=new re,this.internal.__cell__.pages=1},re=function(){var xe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(mt){xe=mt}});var De=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(mt){De=mt}});var Ve=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ve},set:function(mt){Ve=mt}});var et=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return et},set:function(mt){et=mt}});var st=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return st},set:function(mt){st=mt}});var Oe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Oe},set:function(mt){Oe=mt}});var vt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return vt},set:function(mt){vt=mt}}),this};re.prototype.clone=function(){return new re(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},re.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},I.setHeaderFunction=function(xe){return z.call(this),this.internal.__cell__.headerFunction=typeof xe=="function"?xe:void 0,this},I.getTextDimensions=function(xe,De){z.call(this);var Ve=(De=De||{}).fontSize||this.getFontSize(),et=De.font||this.getFont(),st=De.scaleFactor||this.internal.scaleFactor,Oe=0,vt=0,mt=0,yt=this;if(!Array.isArray(xe)&&typeof xe!="string"){if(typeof xe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");xe=String(xe)}var nt=De.maxWidth;nt>0?typeof xe=="string"?xe=this.splitTextToSize(xe,nt):Object.prototype.toString.call(xe)==="[object Array]"&&(xe=xe.reduce(function(Kt,Et){return Kt.concat(yt.splitTextToSize(Et,nt))},[])):xe=Array.isArray(xe)?xe:[xe];for(var kt=0;kt<xe.length;kt++)Oe<(mt=this.getStringUnitWidth(xe[kt],{font:et})*Ve)&&(Oe=mt);return Oe!==0&&(vt=xe.length),{w:Oe/=st,h:Math.max((vt*Ve*this.getLineHeightFactor()-Ve*(this.getLineHeightFactor()-1))/st,0)}},I.cellAddPage=function(){z.call(this),this.addPage();var xe=this.internal.__cell__.margins||B;return this.internal.__cell__.lastCell=new re(xe.left,xe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ne=I.cell=function(){var xe;xe=arguments[0]instanceof re?arguments[0]:new re(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),z.call(this);var De=this.internal.__cell__.lastCell,Ve=this.internal.__cell__.padding,et=this.internal.__cell__.margins||B,st=this.internal.__cell__.tableHeaderRow,Oe=this.internal.__cell__.printHeaders;return De.lineNumber!==void 0&&(De.lineNumber===xe.lineNumber?(xe.x=(De.x||0)+(De.width||0),xe.y=De.y||0):De.y+De.height+xe.height+et.bottom>this.getPageHeight()?(this.cellAddPage(),xe.y=et.top,Oe&&st&&(this.printHeaderRow(xe.lineNumber,!0),xe.y+=st[0].height)):xe.y=De.y+De.height||xe.y),xe.text[0]!==void 0&&(this.rect(xe.x,xe.y,xe.width,xe.height,M===!0?"FD":void 0),xe.align==="right"?this.text(xe.text,xe.x+xe.width-Ve,xe.y+Ve,{align:"right",baseline:"top"}):xe.align==="center"?this.text(xe.text,xe.x+xe.width/2,xe.y+Ve,{align:"center",baseline:"top",maxWidth:xe.width-Ve-Ve}):this.text(xe.text,xe.x+Ve,xe.y+Ve,{align:"left",baseline:"top",maxWidth:xe.width-Ve-Ve})),this.internal.__cell__.lastCell=xe,this};I.table=function(xe,De,Ve,et,st){if(z.call(this),!Ve)throw new Error("No data for PDF table.");var Oe,vt,mt,yt,nt=[],kt=[],Kt=[],Et={},tt={},Qt=[],lr=[],qt=(st=st||{}).autoSize||!1,_t=st.printHeaders!==!1,or=st.css&&st.css["font-size"]!==void 0?16*st.css["font-size"]:st.fontSize||12,at=st.margins||Object.assign({width:this.getPageWidth()},B),dt=typeof st.padding=="number"?st.padding:3,It=st.headerBackgroundColor||"#c8c8c8",Tt=st.headerTextColor||"#000";if(Y.call(this),this.internal.__cell__.printHeaders=_t,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=or,this.internal.__cell__.padding=dt,this.internal.__cell__.headerBackgroundColor=It,this.internal.__cell__.headerTextColor=Tt,this.setFontSize(or),et==null)kt=nt=Object.keys(Ve[0]),Kt=nt.map(function(){return"left"});else if(Array.isArray(et)&&(0,h.default)(et[0])==="object")for(nt=et.map(function(Zr){return Zr.name}),kt=et.map(function(Zr){return Zr.prompt||Zr.name||""}),Kt=et.map(function(Zr){return Zr.align||"left"}),Oe=0;Oe<et.length;Oe+=1)tt[et[Oe].name]=.7499990551181103*et[Oe].width;else Array.isArray(et)&&typeof et[0]=="string"&&(kt=nt=et,Kt=nt.map(function(){return"left"}));if(qt||Array.isArray(et)&&typeof et[0]=="string")for(Oe=0;Oe<nt.length;Oe+=1){for(Et[yt=nt[Oe]]=Ve.map(function(Zr){return Zr[yt]}),this.setFont(void 0,"bold"),Qt.push(this.getTextDimensions(kt[Oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),vt=Et[yt],this.setFont(void 0,"normal"),mt=0;mt<vt.length;mt+=1)Qt.push(this.getTextDimensions(vt[mt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[yt]=Math.max.apply(null,Qt)+dt+dt,Qt=[]}if(_t){var cr={};for(Oe=0;Oe<nt.length;Oe+=1)cr[nt[Oe]]={},cr[nt[Oe]].text=kt[Oe],cr[nt[Oe]].align=Kt[Oe];var Ar=ge.call(this,cr,tt);lr=nt.map(function(Zr){return new re(xe,De,tt[Zr],Ar,cr[Zr].text,void 0,cr[Zr].align)}),this.setTableHeaderRow(lr),this.printHeaderRow(1,!1)}var xr=et.reduce(function(Zr,Hr){return Zr[Hr.name]=Hr.align,Zr},{});for(Oe=0;Oe<Ve.length;Oe+=1){"rowStart"in st&&st.rowStart instanceof Function&&st.rowStart({row:Oe,data:Ve[Oe]},this);var Jt=ge.call(this,Ve[Oe],tt);for(mt=0;mt<nt.length;mt+=1){var gr=Ve[Oe][nt[mt]];"cellStart"in st&&st.cellStart instanceof Function&&st.cellStart({row:Oe,col:mt,data:gr},this),Ne.call(this,new re(xe,De,tt[nt[mt]],Jt,gr,Oe+2,xr[nt[mt]]))}}return this.internal.__cell__.table_x=xe,this.internal.__cell__.table_y=De,this};var ge=function(xe,De){var Ve=this.internal.__cell__.padding,et=this.internal.__cell__.table_font_size,st=this.internal.scaleFactor;return Object.keys(xe).map(function(Oe){var vt=xe[Oe];return this.splitTextToSize(vt.hasOwnProperty("text")?vt.text:vt,De[Oe]-Ve-Ve)},this).map(function(Oe){return this.getLineHeightFactor()*Oe.length*et/st+Ve+Ve},this).reduce(function(Oe,vt){return Math.max(Oe,vt)},0)};I.setTableHeaderRow=function(xe){z.call(this),this.internal.__cell__.tableHeaderRow=xe},I.printHeaderRow=function(xe,De){if(z.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ve;if(M=!0,typeof this.internal.__cell__.headerFunction=="function"){var et=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new re(et[0],et[1],et[2],et[3],void 0,-1)}this.setFont(void 0,"bold");for(var st=[],Oe=0;Oe<this.internal.__cell__.tableHeaderRow.length;Oe+=1){Ve=this.internal.__cell__.tableHeaderRow[Oe].clone(),De&&(Ve.y=this.internal.__cell__.margins.top||0,st.push(Ve)),Ve.lineNumber=xe;var vt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ne.call(this,Ve),this.setTextColor(vt)}st.length>0&&this.setTableHeaderRow(st),this.setFont(void 0,"normal"),M=!1}})(de.API);var Bs={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ji=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vi=Cn(ji),Ui=[100,200,300,400,500,600,700,800,900],Bi=Cn(Ui);function Es(I){var B=I.family.replace(/"|'/g,"").toLowerCase(),M=(function(re){return Bs[re=re||"normal"]?re:"normal"})(I.style),z=(function(re){return re?typeof re=="number"?re>=100&&re<=900&&re%100==0?re:400:/^\d00$/.test(re)?parseInt(re):re==="bold"?700:400:400})(I.weight),Y=(function(re){return typeof vi[re=re||"normal"]=="number"?re:"normal"})(I.stretch);return{family:B,style:M,weight:z,stretch:Y,src:I.src||[],ref:I.ref||{name:B,style:[Y,M,z].join(" ")}}}function ri(I,B,M,z){var Y;for(Y=M;Y>=0&&Y<B.length;Y+=z)if(I[B[Y]])return I[B[Y]];for(Y=M;Y>=0&&Y<B.length;Y-=z)if(I[B[Y]])return I[B[Y]]}var Gs={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Wa={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jc(I){return[I.stretch,I.style,I.weight,I.family].join(" ")}function gs(I){return I.trimLeft()}function Sl(I,B){for(var M=0;M<I.length;){if(I.charAt(M)===B)return[I.substring(0,M),I.substring(M+1)];M+=1}return null}function Cc(I){var B=I.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return B===null?null:[B[0],I.substring(B[0].length)]}var Bl,Hi,vo,ha,Zl,ni,Eo,qs,Io=["times"];function tl(I,B,M,z,Y){var re=4,Ne=Ci;switch(Y){case de.API.image_compression.FAST:re=1,Ne=Qs;break;case de.API.image_compression.MEDIUM:re=6,Ne=ai;break;case de.API.image_compression.SLOW:re=9,Ne=Al}I=(function(xe,De,Ve,et){for(var st,Oe=xe.length/De,vt=new Uint8Array(xe.length+Oe),mt=[To,Qs,Ci,ai,Al],yt=0;yt<Oe;yt+=1){var nt=yt*De,kt=xe.subarray(nt,nt+De);if(et)vt.set(et(kt,Ve,st),nt+yt);else{for(var Kt=mt.length,Et=[],tt=0;tt<Kt;tt+=1)Et[tt]=mt[tt](kt,Ve,st);var Qt=Uc(Et.concat());vt.set(Et[Qt],nt+yt)}st=kt}return vt})(I,B,Math.ceil(M*z/8),Ne);var ge=(0,d.zlibSync)(I,{level:re});return de.API.__addimage__.arrayBufferToBinaryString(ge)}function To(I){var B=Array.apply([],I);return B.unshift(0),B}function Qs(I,B){var M=I.length,z=[];z[0]=1;for(var Y=0;Y<M;Y+=1){var re=I[Y-B]||0;z[Y+1]=I[Y]-re+256&255}return z}function Ci(I,B,M){var z=I.length,Y=[];Y[0]=2;for(var re=0;re<z;re+=1){var Ne=M&&M[re]||0;Y[re+1]=I[re]-Ne+256&255}return Y}function ai(I,B,M){var z=I.length,Y=[];Y[0]=3;for(var re=0;re<z;re+=1){var Ne=I[re-B]||0,ge=M&&M[re]||0;Y[re+1]=I[re]+256-(Ne+ge>>>1)&255}return Y}function Al(I,B,M){var z=I.length,Y=[];Y[0]=4;for(var re=0;re<z;re+=1){var Ne=_o(I[re-B]||0,M&&M[re]||0,M&&M[re-B]||0);Y[re+1]=I[re]-Ne+256&255}return Y}function _o(I,B,M){if(I===B&&B===M)return I;var z=Math.abs(B-M),Y=Math.abs(I-M),re=Math.abs(I+B-M-M);return z<=Y&&z<=re?I:Y<=re?B:M}function Uc(I){var B=I.map(function(M){return M.reduce(function(z,Y){return z+Math.abs(Y)},0)});return B.indexOf(Math.min.apply(null,B))}function cs(I,B,M){var z=B*M,Y=Math.floor(z/8),re=16-(z-8*Y+M),Ne=(1<<M)-1;return Qi(I,Y)>>re&Ne}function qn(I,B,M,z){var Y=M*z,re=Math.floor(Y/8),Ne=16-(Y-8*re+z),ge=(1<<z)-1,xe=(B&ge)<<Ne;(function(De,Ve,et){if(Ve+1<De.byteLength)De.setUint16(Ve,et,!1);else{var st=et>>8&255;De.setUint8(Ve,st)}})(I,re,Qi(I,re)&~(ge<<Ne)&65535|xe)}function Qi(I,B){return B+1<I.byteLength?I.getUint16(B,!1):I.getUint8(B)<<8}function vs(I){var B=0;if(I[B++]!==71||I[B++]!==73||I[B++]!==70||I[B++]!==56||(I[B++]+1&253)!=56||I[B++]!==97)throw new Error("Invalid GIF 87a/89a header.");var M=I[B++]|I[B++]<<8,z=I[B++]|I[B++]<<8,Y=I[B++],re=Y>>7,Ne=1<<1+(7&Y);I[B++],I[B++];var ge=null,xe=null;re&&(ge=B,xe=Ne,B+=3*Ne);var De=!0,Ve=[],et=0,st=null,Oe=0,vt=null;for(this.width=M,this.height=z;De&&B<I.length;)switch(I[B++]){case 33:switch(I[B++]){case 255:if(I[B]!==11||I[B+1]==78&&I[B+2]==69&&I[B+3]==84&&I[B+4]==83&&I[B+5]==67&&I[B+6]==65&&I[B+7]==80&&I[B+8]==69&&I[B+9]==50&&I[B+10]==46&&I[B+11]==48&&I[B+12]==3&&I[B+13]==1&&I[B+16]==0)B+=14,vt=I[B++]|I[B++]<<8,B++;else for(B+=12;;){if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}break;case 249:if(I[B++]!==4||I[B+4]!==0)throw new Error("Invalid graphics extension block.");var mt=I[B++];et=I[B++]|I[B++]<<8,st=I[B++],1&mt||(st=null),Oe=mt>>2&7,B++;break;case 254:for(;;){if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}break;default:throw new Error("Unknown graphic control label: 0x"+I[B-1].toString(16))}break;case 44:var yt=I[B++]|I[B++]<<8,nt=I[B++]|I[B++]<<8,kt=I[B++]|I[B++]<<8,Kt=I[B++]|I[B++]<<8,Et=I[B++],tt=Et>>6&1,Qt=1<<1+(7&Et),lr=ge,qt=xe,_t=!1;Et>>7&&(_t=!0,lr=B,qt=Qt,B+=3*Qt);var or=B;for(B++;;){var at;if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}Ve.push({x:yt,y:nt,width:kt,height:Kt,has_local_palette:_t,palette_offset:lr,palette_size:qt,data_offset:or,data_length:B-or,transparent_index:st,interlaced:!!tt,delay:et,disposal:Oe});break;case 59:De=!1;break;default:throw new Error("Unknown gif block: 0x"+I[B-1].toString(16))}this.numFrames=function(){return Ve.length},this.loopCount=function(){return vt},this.frameInfo=function(dt){if(dt<0||dt>=Ve.length)throw new Error("Frame index out of range.");return Ve[dt]},this.decodeAndBlitFrameBGRA=function(dt,It){var Tt=this.frameInfo(dt),cr=Tt.width*Tt.height,Ar=new Uint8Array(cr);xs(I,Tt.data_offset,Ar,cr);var xr=Tt.palette_offset,Jt=Tt.transparent_index;Jt===null&&(Jt=256);var gr=Tt.width,Zr=M-gr,Hr=gr,Ye=4*(Tt.y*M+Tt.x),xt=4*((Tt.y+Tt.height)*M+Tt.x),Nt=Ye,Wt=4*Zr;Tt.interlaced===!0&&(Wt+=4*M*7);for(var zt=8,nr=0,mr=Ar.length;nr<mr;++nr){var vr=Ar[nr];if(Hr===0&&(Hr=gr,(Nt+=Wt)>=xt&&(Wt=4*Zr+4*M*(zt-1),Nt=Ye+(gr+Zr)*(zt<<1),zt>>=1)),vr===Jt)Nt+=4;else{var Pr=I[xr+3*vr],Jr=I[xr+3*vr+1],Nn=I[xr+3*vr+2];It[Nt++]=Nn,It[Nt++]=Jr,It[Nt++]=Pr,It[Nt++]=255}--Hr}},this.decodeAndBlitFrameRGBA=function(dt,It){var Tt=this.frameInfo(dt),cr=Tt.width*Tt.height,Ar=new Uint8Array(cr);xs(I,Tt.data_offset,Ar,cr);var xr=Tt.palette_offset,Jt=Tt.transparent_index;Jt===null&&(Jt=256);var gr=Tt.width,Zr=M-gr,Hr=gr,Ye=4*(Tt.y*M+Tt.x),xt=4*((Tt.y+Tt.height)*M+Tt.x),Nt=Ye,Wt=4*Zr;Tt.interlaced===!0&&(Wt+=4*M*7);for(var zt=8,nr=0,mr=Ar.length;nr<mr;++nr){var vr=Ar[nr];if(Hr===0&&(Hr=gr,(Nt+=Wt)>=xt&&(Wt=4*Zr+4*M*(zt-1),Nt=Ye+(gr+Zr)*(zt<<1),zt>>=1)),vr===Jt)Nt+=4;else{var Pr=I[xr+3*vr],Jr=I[xr+3*vr+1],Nn=I[xr+3*vr+2];It[Nt++]=Pr,It[Nt++]=Jr,It[Nt++]=Nn,It[Nt++]=255}--Hr}}}function xs(I,B,M,z){for(var Y=I[B++],re=1<<Y,Ne=re+1,ge=Ne+1,xe=Y+1,De=(1<<xe)-1,Ve=0,et=0,st=0,Oe=I[B++],vt=new Int32Array(4096),mt=null;;){for(;Ve<16&&Oe!==0;)et|=I[B++]<<Ve,Ve+=8,Oe===1?Oe=I[B++]:--Oe;if(Ve<xe)break;var yt=et&De;if(et>>=xe,Ve-=xe,yt!==re){if(yt===Ne)break;for(var nt=yt<ge?yt:mt,kt=0,Kt=nt;Kt>re;)Kt=vt[Kt]>>8,++kt;var Et=Kt;if(st+kt+(nt!==yt?1:0)>z)return void x.log("Warning, gif stream longer than expected.");M[st++]=Et;var tt=st+=kt;for(nt!==yt&&(M[st++]=Et),Kt=nt;kt--;)Kt=vt[Kt],M[--tt]=255&Kt,Kt>>=8;mt!==null&&ge<4096&&(vt[ge++]=mt<<8|Et,ge>=De+1&&xe<12&&(++xe,De=De<<1|1)),mt=yt}else ge=Ne+1,De=(1<<(xe=Y+1))-1,mt=null}return st!==z&&x.log("Warning, gif stream shorter than expected."),M}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function Oo(I){var B,M,z,Y,re,Ne=Math.floor,ge=new Array(64),xe=new Array(64),De=new Array(64),Ve=new Array(64),et=new Array(65535),st=new Array(65535),Oe=new Array(64),vt=new Array(64),mt=[],yt=0,nt=7,kt=new Array(64),Kt=new Array(64),Et=new Array(64),tt=new Array(256),Qt=new Array(2048),lr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],qt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_t=[0,1,2,3,4,5,6,7,8,9,10,11],or=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],dt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],It=[0,1,2,3,4,5,6,7,8,9,10,11],Tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],cr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ar(Ye,xt){for(var Nt=0,Wt=0,zt=new Array,nr=1;nr<=16;nr++){for(var mr=1;mr<=Ye[nr];mr++)zt[xt[Wt]]=[],zt[xt[Wt]][0]=Nt,zt[xt[Wt]][1]=nr,Wt++,Nt++;Nt*=2}return zt}function xr(Ye){for(var xt=Ye[0],Nt=Ye[1]-1;Nt>=0;)xt&1<<Nt&&(yt|=1<<nt),Nt--,--nt<0&&(yt==255?(Jt(255),Jt(0)):Jt(yt),nt=7,yt=0)}function Jt(Ye){mt.push(Ye)}function gr(Ye){Jt(Ye>>8&255),Jt(255&Ye)}function Zr(Ye,xt,Nt,Wt,zt){for(var nr,mr=zt[0],vr=zt[240],Pr=(function(Qr,oa){var Mn,Jn,Rn,Ai,La,Fn,si,la,On,ua,kn=0;for(On=0;On<8;++On){Mn=Qr[kn],Jn=Qr[kn+1],Rn=Qr[kn+2],Ai=Qr[kn+3],La=Qr[kn+4],Fn=Qr[kn+5],si=Qr[kn+6];var wa=Mn+(la=Qr[kn+7]),ci=Mn-la,Va=Jn+si,za=Jn-si,es=Rn+Fn,Kn=Rn-Fn,Ei=Ai+La,va=Ai-La,zn=wa+Ei,Ii=wa-Ei,ja=Va+es,En=Va-es;Qr[kn]=zn+ja,Qr[kn+4]=zn-ja;var Xa=.707106781*(En+Ii);Qr[kn+2]=Ii+Xa,Qr[kn+6]=Ii-Xa;var tu=.382683433*((zn=va+Kn)-(En=za+ci)),Ws=.5411961*zn+tu,yo=1.306562965*En+tu,Nc=.707106781*(ja=Kn+za),fa=ci+Nc,bs=ci-Nc;Qr[kn+5]=bs+Ws,Qr[kn+3]=bs-Ws,Qr[kn+1]=fa+yo,Qr[kn+7]=fa-yo,kn+=8}for(kn=0,On=0;On<8;++On){Mn=Qr[kn],Jn=Qr[kn+8],Rn=Qr[kn+16],Ai=Qr[kn+24],La=Qr[kn+32],Fn=Qr[kn+40],si=Qr[kn+48];var bo=Mn+(la=Qr[kn+56]),El=Mn-la,Fs=Jn+si,Pi=Jn-si,Is=Rn+Fn,lo=Rn-Fn,ru=Ai+La,Ys=Ai-La,rl=bo+ru,Sc=bo-ru,Jl=Fs+Is,Zs=Fs-Is;Qr[kn]=rl+Jl,Qr[kn+32]=rl-Jl;var nl=.707106781*(Zs+Sc);Qr[kn+16]=Sc+nl,Qr[kn+48]=Sc-nl;var Il=.382683433*((rl=Ys+lo)-(Zs=Pi+El)),Vo=.5411961*rl+Il,Fo=1.306562965*Zs+Il,ec=.707106781*(Jl=lo+Pi),Tl=El+ec,Bc=El-ec;Qr[kn+40]=Bc+Vo,Qr[kn+24]=Bc-Vo,Qr[kn+8]=Tl+Fo,Qr[kn+56]=Tl-Fo,kn++}for(On=0;On<64;++On)ua=Qr[On]*oa[On],Oe[On]=ua>0?ua+.5|0:ua-.5|0;return Oe})(Ye,xt),Jr=0;Jr<64;++Jr)vt[lr[Jr]]=Pr[Jr];var Nn=vt[0]-Nt;Nt=vt[0],Nn==0?xr(Wt[0]):(xr(Wt[st[nr=32767+Nn]]),xr(et[nr]));for(var Bn=63;Bn>0&&vt[Bn]==0;)Bn--;if(Bn==0)return xr(mr),Nt;for(var ca,ut=1;ut<=Bn;){for(var hn=ut;vt[ut]==0&&ut<=Bn;)++ut;var ga=ut-hn;if(ga>=16){ca=ga>>4;for(var un=1;un<=ca;++un)xr(vr);ga&=15}nr=32767+vt[ut],xr(zt[(ga<<4)+st[nr]]),xr(et[nr]),ut++}return Bn!=63&&xr(mr),Nt}function Hr(Ye){Ye=Math.min(Math.max(Ye,1),100),re!=Ye&&((function(xt){for(var Nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Wt=0;Wt<64;Wt++){var zt=Ne((Nt[Wt]*xt+50)/100);zt=Math.min(Math.max(zt,1),255),ge[lr[Wt]]=zt}for(var nr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mr=0;mr<64;mr++){var vr=Ne((nr[mr]*xt+50)/100);vr=Math.min(Math.max(vr,1),255),xe[lr[mr]]=vr}for(var Pr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Jr=0,Nn=0;Nn<8;Nn++)for(var Bn=0;Bn<8;Bn++)De[Jr]=1/(ge[lr[Jr]]*Pr[Nn]*Pr[Bn]*8),Ve[Jr]=1/(xe[lr[Jr]]*Pr[Nn]*Pr[Bn]*8),Jr++})(Ye<50?Math.floor(5e3/Ye):Math.floor(200-2*Ye)),re=Ye)}this.encode=function(Ye,xt){xt&&Hr(xt),mt=new Array,yt=0,nt=7,gr(65496),gr(65504),gr(16),Jt(74),Jt(70),Jt(73),Jt(70),Jt(0),Jt(1),Jt(1),Jt(0),gr(1),gr(1),Jt(0),Jt(0),(function(){gr(65499),gr(132),Jt(0);for(var Jn=0;Jn<64;Jn++)Jt(ge[Jn]);Jt(1);for(var Rn=0;Rn<64;Rn++)Jt(xe[Rn])})(),(function(Jn,Rn){gr(65472),gr(17),Jt(8),gr(Rn),gr(Jn),Jt(3),Jt(1),Jt(17),Jt(0),Jt(2),Jt(17),Jt(1),Jt(3),Jt(17),Jt(1)})(Ye.width,Ye.height),(function(){gr(65476),gr(418),Jt(0);for(var Jn=0;Jn<16;Jn++)Jt(qt[Jn+1]);for(var Rn=0;Rn<=11;Rn++)Jt(_t[Rn]);Jt(16);for(var Ai=0;Ai<16;Ai++)Jt(or[Ai+1]);for(var La=0;La<=161;La++)Jt(at[La]);Jt(1);for(var Fn=0;Fn<16;Fn++)Jt(dt[Fn+1]);for(var si=0;si<=11;si++)Jt(It[si]);Jt(17);for(var la=0;la<16;la++)Jt(Tt[la+1]);for(var On=0;On<=161;On++)Jt(cr[On])})(),gr(65498),gr(12),Jt(3),Jt(1),Jt(0),Jt(2),Jt(17),Jt(3),Jt(17),Jt(0),Jt(63),Jt(0);var Nt=0,Wt=0,zt=0;yt=0,nt=7,this.encode.displayName="_encode_";for(var nr,mr,vr,Pr,Jr,Nn,Bn,ca,ut,hn=Ye.data,ga=Ye.width,un=Ye.height,Qr=4*ga,oa=0;oa<un;){for(nr=0;nr<Qr;){for(Jr=Qr*oa+nr,Bn=-1,ca=0,ut=0;ut<64;ut++)Nn=Jr+(ca=ut>>3)*Qr+(Bn=4*(7&ut)),oa+ca>=un&&(Nn-=Qr*(oa+1+ca-un)),nr+Bn>=Qr&&(Nn-=nr+Bn-Qr+4),mr=hn[Nn++],vr=hn[Nn++],Pr=hn[Nn++],kt[ut]=(Qt[mr]+Qt[vr+256|0]+Qt[Pr+512|0]>>16)-128,Kt[ut]=(Qt[mr+768|0]+Qt[vr+1024|0]+Qt[Pr+1280|0]>>16)-128,Et[ut]=(Qt[mr+1280|0]+Qt[vr+1536|0]+Qt[Pr+1792|0]>>16)-128;Nt=Zr(kt,De,Nt,B,z),Wt=Zr(Kt,Ve,Wt,M,Y),zt=Zr(Et,Ve,zt,M,Y),nr+=32}oa+=8}if(nt>=0){var Mn=[];Mn[1]=nt+1,Mn[0]=(1<<nt+1)-1,xr(Mn)}return gr(65497),new Uint8Array(mt)},I=I||50,(function(){for(var Ye=String.fromCharCode,xt=0;xt<256;xt++)tt[xt]=Ye(xt)})(),B=Ar(qt,_t),M=Ar(dt,It),z=Ar(or,at),Y=Ar(Tt,cr),(function(){for(var Ye=1,xt=2,Nt=1;Nt<=15;Nt++){for(var Wt=Ye;Wt<xt;Wt++)st[32767+Wt]=Nt,et[32767+Wt]=[],et[32767+Wt][1]=Nt,et[32767+Wt][0]=Wt;for(var zt=-(xt-1);zt<=-Ye;zt++)st[32767+zt]=Nt,et[32767+zt]=[],et[32767+zt][1]=Nt,et[32767+zt][0]=xt-1+zt;Ye<<=1,xt<<=1}})(),(function(){for(var Ye=0;Ye<256;Ye++)Qt[Ye]=19595*Ye,Qt[Ye+256|0]=38470*Ye,Qt[Ye+512|0]=7471*Ye+32768,Qt[Ye+768|0]=-11059*Ye,Qt[Ye+1024|0]=-21709*Ye,Qt[Ye+1280|0]=32768*Ye+8421375,Qt[Ye+1536|0]=-27439*Ye,Qt[Ye+1792|0]=-5329*Ye})(),Hr(I)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Di(I,B){if(this.pos=0,this.buffer=I,this.datav=new DataView(I.buffer),this.is_with_alpha=!!B,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oo(I){function B(_t){if(!_t)throw Error("assert :P")}function M(_t,or,at){for(var dt=0;4>dt;dt++)if(_t[or+dt]!=at.charCodeAt(dt))return!0;return!1}function z(_t,or,at,dt,It){for(var Tt=0;Tt<It;Tt++)_t[or+Tt]=at[dt+Tt]}function Y(_t,or,at,dt){for(var It=0;It<dt;It++)_t[or+It]=at}function re(_t){return new Int32Array(_t)}function Ne(_t,or){for(var at=[],dt=0;dt<_t;dt++)at.push(new or);return at}function ge(_t,or){var at=[];return(function dt(It,Tt,cr){for(var Ar=cr[Tt],xr=0;xr<Ar&&(It.push(cr.length>Tt+1?[]:new or),!(cr.length<Tt+1));xr++)dt(It[xr],Tt+1,cr)})(at,0,_t),at}var xe=function(){var _t=this;function or(O,G){for(var be=1<<G-1>>>0;O&be;)be>>>=1;return be?(O&be-1)+be:O}function at(O,G,be,_e,Qe){B(!(_e%be));do O[G+(_e-=be)]=Qe;while(0<_e)}function dt(O,G,be,_e,Qe){if(B(2328>=Qe),512>=Qe)var Ke=re(512);else if((Ke=re(Qe))==null)return 0;return(function(qe,Je,rt,pt,Ft,rr){var ft,Mt,Yt=Je,wr=1<<rt,ar=re(16),Nr=re(16);for(B(Ft!=0),B(pt!=null),B(qe!=null),B(0<rt),Mt=0;Mt<Ft;++Mt){if(15<pt[Mt])return 0;++ar[pt[Mt]]}if(ar[0]==Ft)return 0;for(Nr[1]=0,ft=1;15>ft;++ft){if(ar[ft]>1<<ft)return 0;Nr[ft+1]=Nr[ft]+ar[ft]}for(Mt=0;Mt<Ft;++Mt)ft=pt[Mt],0<pt[Mt]&&(rr[Nr[ft]++]=Mt);if(Nr[15]==1)return(pt=new It).g=0,pt.value=rr[0],at(qe,Yt,1,wr,pt),wr;var Er,Rr=-1,Tr=wr-1,ta=0,Pn=1,$a=1,yn=1<<rt;for(Mt=0,ft=1,Ft=2;ft<=rt;++ft,Ft<<=1){if(Pn+=$a<<=1,0>($a-=ar[ft]))return 0;for(;0<ar[ft];--ar[ft])(pt=new It).g=ft,pt.value=rr[Mt++],at(qe,Yt+ta,Ft,yn,pt),ta=or(ta,ft)}for(ft=rt+1,Ft=2;15>=ft;++ft,Ft<<=1){if(Pn+=$a<<=1,0>($a-=ar[ft]))return 0;for(;0<ar[ft];--ar[ft]){if(pt=new It,(ta&Tr)!=Rr){for(Yt+=yn,Er=1<<(Rr=ft)-rt;15>Rr&&!(0>=(Er-=ar[Rr]));)++Rr,Er<<=1;wr+=yn=1<<(Er=Rr-rt),qe[Je+(Rr=ta&Tr)].g=Er+rt,qe[Je+Rr].value=Yt-Je-Rr}pt.g=ft-rt,pt.value=rr[Mt++],at(qe,Yt+(ta>>rt),Ft,yn,pt),ta=or(ta,ft)}}return Pn!=2*Nr[15]-1?0:wr})(O,G,be,_e,Qe,Ke)}function It(){this.value=this.g=0}function Tt(){this.value=this.g=0}function cr(){this.G=Ne(5,It),this.H=re(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ne(ka,Tt)}function Ar(O,G,be,_e){B(O!=null),B(G!=null),B(2147483648>_e),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=G,O.pa=be,O.Jd=G,O.Yc=be+_e,O.Zc=4<=_e?be+_e-4+1:be,mr(O)}function xr(O,G){for(var be=0;0<G--;)be|=Pr(O,128)<<G;return be}function Jt(O,G){var be=xr(O,G);return vr(O)?-be:be}function gr(O,G,be,_e){var Qe,Ke=0;for(B(O!=null),B(G!=null),B(4294967288>_e),O.Sb=_e,O.Ra=0,O.u=0,O.h=0,4<_e&&(_e=4),Qe=0;Qe<_e;++Qe)Ke+=G[be+Qe]<<8*Qe;O.Ra=Ke,O.bb=_e,O.oa=G,O.pa=be}function Zr(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<jo-8>>>0,++O.bb,O.u-=8;Wt(O)&&(O.h=1,O.u=0)}function Hr(O,G){if(B(0<=G),!O.h&&G<=da){var be=Nt(O)&Qn[G];return O.u+=G,Zr(O),be}return O.h=1,O.u=0}function Ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function xt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Nt(O){return O.Ra>>>(O.u&jo-1)>>>0}function Wt(O){return B(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>jo}function zt(O,G){O.u=G,O.h=Wt(O)}function nr(O){O.u>=sc&&(B(O.u>=sc),Zr(O))}function mr(O){B(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(B(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function vr(O){return xr(O,1)}function Pr(O,G){var be=O.Ca;0>O.b&&mr(O);var _e=O.b,Qe=be*G>>>8,Ke=(O.I>>>_e>Qe)+0;for(Ke?(be-=Qe,O.I-=Qe+1<<_e>>>0):be=Qe+1,_e=be,Qe=0;256<=_e;)Qe+=8,_e>>=8;return _e=7^Qe+Mo[_e],O.b-=_e,O.Ca=(be<<_e)-1,Ke}function Jr(O,G,be){O[G+0]=be>>24&255,O[G+1]=be>>16&255,O[G+2]=be>>8&255,O[G+3]=255&be}function Nn(O,G){return O[G+0]|O[G+1]<<8}function Bn(O,G){return Nn(O,G)|O[G+2]<<16}function ca(O,G){return Nn(O,G)|Nn(O,G+2)<<16}function ut(O,G){var be=1<<G;return B(O!=null),B(0<G),O.X=re(be),O.X==null?0:(O.Mb=32-G,O.Xa=G,1)}function hn(O,G){B(O!=null),B(G!=null),B(O.Xa==G.Xa),z(G.X,0,O.X,0,1<<G.Xa)}function ga(){this.X=[],this.Xa=this.Mb=0}function un(O,G,be,_e){B(be!=null),B(_e!=null);var Qe=be[0],Ke=_e[0];return Qe==0&&(Qe=(O*Ke+G/2)/G),Ke==0&&(Ke=(G*Qe+O/2)/O),0>=Qe||0>=Ke?0:(be[0]=Qe,_e[0]=Ke,1)}function Qr(O,G){return O+(1<<G)-1>>>G}function oa(O,G){return((4278255360&O)+(4278255360&G)>>>0&4278255360)+((16711935&O)+(16711935&G)>>>0&16711935)>>>0}function Mn(O,G){_t[G]=function(be,_e,Qe,Ke,qe,Je,rt){var pt;for(pt=0;pt<qe;++pt){var Ft=_t[O](Je[rt+pt-1],Qe,Ke+pt);Je[rt+pt]=oa(be[_e+pt],Ft)}}}function Jn(){this.ud=this.hd=this.jd=0}function Rn(O,G){return((4278124286&(O^G))>>>1)+(O&G)>>>0}function Ai(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function La(O,G){return Ai(O+(O-G+.5>>1))}function Fn(O,G,be){return Math.abs(G-be)-Math.abs(O-be)}function si(O,G,be,_e,Qe,Ke,qe){for(_e=Ke[qe-1],be=0;be<Qe;++be)Ke[qe+be]=_e=oa(O[G+be],_e)}function la(O,G,be,_e,Qe){var Ke;for(Ke=0;Ke<be;++Ke){var qe=O[G+Ke],Je=qe>>8&255,rt=16711935&(rt=(rt=16711935&qe)+((Je<<16)+Je));_e[Qe+Ke]=(4278255360&qe)+rt>>>0}}function On(O,G){G.jd=255&O,G.hd=O>>8&255,G.ud=O>>16&255}function ua(O,G,be,_e,Qe,Ke){var qe;for(qe=0;qe<_e;++qe){var Je=G[be+qe],rt=Je>>>8,pt=Je,Ft=255&(Ft=(Ft=Je>>>16)+((O.jd<<24>>24)*(rt<<24>>24)>>>5));pt=255&(pt=(pt+=(O.hd<<24>>24)*(rt<<24>>24)>>>5)+((O.ud<<24>>24)*(Ft<<24>>24)>>>5)),Qe[Ke+qe]=(4278255360&Je)+(Ft<<16)+pt}}function kn(O,G,be,_e,Qe){_t[G]=function(Ke,qe,Je,rt,pt,Ft,rr,ft,Mt){for(rt=rr;rt<ft;++rt)for(rr=0;rr<Mt;++rr)pt[Ft++]=Qe(Je[_e(Ke[qe++])])},_t[O]=function(Ke,qe,Je,rt,pt,Ft,rr){var ft=8>>Ke.b,Mt=Ke.Ea,Yt=Ke.K[0],wr=Ke.w;if(8>ft)for(Ke=(1<<Ke.b)-1,wr=(1<<ft)-1;qe<Je;++qe){var ar,Nr=0;for(ar=0;ar<Mt;++ar)ar&Ke||(Nr=_e(rt[pt++])),Ft[rr++]=Qe(Yt[Nr&wr]),Nr>>=ft}else _t["VP8LMapColor"+be](rt,pt,Yt,wr,Ft,rr,qe,Je,Mt)}}function wa(O,G,be,_e,Qe){for(be=G+be;G<be;){var Ke=O[G++];_e[Qe++]=Ke>>16&255,_e[Qe++]=Ke>>8&255,_e[Qe++]=255&Ke}}function ci(O,G,be,_e,Qe){for(be=G+be;G<be;){var Ke=O[G++];_e[Qe++]=Ke>>16&255,_e[Qe++]=Ke>>8&255,_e[Qe++]=255&Ke,_e[Qe++]=Ke>>24&255}}function Va(O,G,be,_e,Qe){for(be=G+be;G<be;){var Ke=(qe=O[G++])>>16&240|qe>>12&15,qe=240&qe|qe>>28&15;_e[Qe++]=Ke,_e[Qe++]=qe}}function za(O,G,be,_e,Qe){for(be=G+be;G<be;){var Ke=(qe=O[G++])>>16&248|qe>>13&7,qe=qe>>5&224|qe>>3&31;_e[Qe++]=Ke,_e[Qe++]=qe}}function es(O,G,be,_e,Qe){for(be=G+be;G<be;){var Ke=O[G++];_e[Qe++]=255&Ke,_e[Qe++]=Ke>>8&255,_e[Qe++]=Ke>>16&255}}function Kn(O,G,be,_e,Qe,Ke){if(Ke==0)for(be=G+be;G<be;)Jr(_e,((Ke=O[G++])[0]>>24|Ke[1]>>8&65280|Ke[2]<<8&16711680|Ke[3]<<24)>>>0),Qe+=32;else z(_e,Qe,O,G,be)}function Ei(O,G){_t[G][0]=_t[O+"0"],_t[G][1]=_t[O+"1"],_t[G][2]=_t[O+"2"],_t[G][3]=_t[O+"3"],_t[G][4]=_t[O+"4"],_t[G][5]=_t[O+"5"],_t[G][6]=_t[O+"6"],_t[G][7]=_t[O+"7"],_t[G][8]=_t[O+"8"],_t[G][9]=_t[O+"9"],_t[G][10]=_t[O+"10"],_t[G][11]=_t[O+"11"],_t[G][12]=_t[O+"12"],_t[G][13]=_t[O+"13"],_t[G][14]=_t[O+"0"],_t[G][15]=_t[O+"0"]}function va(O){return O==Sf||O==zh||O==_u||O==Bf}function zn(){this.eb=[],this.size=this.A=this.fb=0}function Ii(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ja(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zn,this.f.kb=new Ii,this.sd=null}function En(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xa(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tu(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function Ws(O,G){var be=O.T,_e=G.ba.f.RGBA,Qe=_e.eb,Ke=_e.fb+O.ka*_e.A,qe=uc[G.ba.S],Je=O.y,rt=O.O,pt=O.f,Ft=O.N,rr=O.ea,ft=O.W,Mt=G.cc,Yt=G.dc,wr=G.Mc,ar=G.Nc,Nr=O.ka,Er=O.ka+O.T,Rr=O.U,Tr=Rr+1>>1;for(Nr==0?qe(Je,rt,null,null,pt,Ft,rr,ft,pt,Ft,rr,ft,Qe,Ke,null,null,Rr):(qe(G.ec,G.fc,Je,rt,Mt,Yt,wr,ar,pt,Ft,rr,ft,Qe,Ke-_e.A,Qe,Ke,Rr),++be);Nr+2<Er;Nr+=2)Mt=pt,Yt=Ft,wr=rr,ar=ft,Ft+=O.Rc,ft+=O.Rc,Ke+=2*_e.A,qe(Je,(rt+=2*O.fa)-O.fa,Je,rt,Mt,Yt,wr,ar,pt,Ft,rr,ft,Qe,Ke-_e.A,Qe,Ke,Rr);return rt+=O.fa,O.j+Er<O.o?(z(G.ec,G.fc,Je,rt,Rr),z(G.cc,G.dc,pt,Ft,Tr),z(G.Mc,G.Nc,rr,ft,Tr),be--):1&Er||qe(Je,rt,null,null,pt,Ft,rr,ft,pt,Ft,rr,ft,Qe,Ke+_e.A,null,null,Rr),be}function yo(O,G,be){var _e=O.F,Qe=[O.J];if(_e!=null){var Ke=O.U,qe=G.ba.S,Je=qe==ho||qe==_u;G=G.ba.f.RGBA;var rt=[0],pt=O.ka;rt[0]=O.T,O.Kb&&(pt==0?--rt[0]:(--pt,Qe[0]-=O.width),O.j+O.ka+O.T==O.o&&(rt[0]=O.o-O.j-pt));var Ft=G.eb;pt=G.fb+pt*G.A,O=il(_e,Qe[0],O.width,Ke,rt,Ft,pt+(Je?0:3),G.A),B(be==rt),O&&va(qe)&&Js(Ft,pt,Je,Ke,rt,G.A)}return 0}function Nc(O){var G=O.ma,be=G.ba.S,_e=11>be,Qe=be==$h||be==mh||be==ho||be==wd||be==12||va(be);if(G.memory=null,G.Ib=null,G.Jb=null,G.Nd=null,!ts(G.Oa,O,Qe?11:12))return 0;if(Qe&&va(be)&&ot(),O.da)alert("todo:use_scaling");else{if(_e){if(G.Ib=tu,O.Kb){if(be=O.U+1>>1,G.memory=re(O.U+2*be),G.memory==null)return 0;G.ec=G.memory,G.fc=0,G.cc=G.ec,G.dc=G.fc+O.U,G.Mc=G.cc,G.Nc=G.dc+be,G.Ib=Ws,ot()}}else alert("todo:EmitYUV");Qe&&(G.Jb=yo,_e&&Xe())}if(_e&&!jA){for(O=0;256>O;++O)CA[O]=89858*(O-128)+Zd>>Nd,xl[O]=-22014*(O-128)+Zd,Ll[O]=-45773*(O-128),NA[O]=113618*(O-128)+Zd>>Nd;for(O=vh;O<kf;++O)G=76283*(O-16)+Zd>>Nd,Pf[O-vh]=tc(G,255),SA[O-vh]=tc(G+8>>4,15);jA=1}return 1}function fa(O){var G=O.ma,be=O.U,_e=O.T;return B(!(1&O.ka)),0>=be||0>=_e?0:(be=G.Ib(O,G),G.Jb!=null&&G.Jb(O,G,be),G.Dc+=be,1)}function bs(O){O.ma.memory=null}function bo(O,G,be,_e){return Hr(O,8)!=47?0:(G[0]=Hr(O,14)+1,be[0]=Hr(O,14)+1,_e[0]=Hr(O,1),Hr(O,3)!=0?0:!O.h)}function El(O,G){if(4>O)return O+1;var be=O-2>>1;return(2+(1&O)<<be)+Hr(G,be)+1}function Fs(O,G){return 120<G?G-120:1<=(be=((be=wp[G-1])>>4)*O+(8-(15&be)))?be:1;var be}function Pi(O,G,be){var _e=Nt(be),Qe=O[G+=255&_e].g-8;return 0<Qe&&(zt(be,be.u+8),_e=Nt(be),G+=O[G].value,G+=_e&(1<<Qe)-1),zt(be,be.u+O[G].g),O[G].value}function Is(O,G,be){return be.g+=O.g,be.value+=O.value<<G>>>0,B(8>=be.g),O.g}function lo(O,G,be){var _e=O.xc;return B((G=_e==0?0:O.vc[O.md*(be>>_e)+(G>>_e)])<O.Wb),O.Ya[G]}function ru(O,G,be,_e){var Qe=O.ab,Ke=O.c*G,qe=O.C;G=qe+G;var Je=be,rt=_e;for(_e=O.Ta,be=O.Ua;0<Qe--;){var pt=O.gc[Qe],Ft=qe,rr=G,ft=Je,Mt=rt,Yt=(rt=_e,Je=be,pt.Ea);switch(B(Ft<rr),B(rr<=pt.nc),pt.hc){case 2:$s(ft,Mt,(rr-Ft)*Yt,rt,Je);break;case 0:var wr=Ft,ar=rr,Nr=rt,Er=Je,Rr=(yn=pt).Ea;wr==0&&(co(ft,Mt,null,null,1,Nr,Er),si(ft,Mt+1,0,0,Rr-1,Nr,Er+1),Mt+=Rr,Er+=Rr,++wr);for(var Tr=1<<yn.b,ta=Tr-1,Pn=Qr(Rr,yn.b),$a=yn.K,yn=yn.w+(wr>>yn.b)*Pn;wr<ar;){var yi=$a,ln=yn,Ma=1;for(oc(ft,Mt,Nr,Er-Rr,1,Nr,Er);Ma<Rr;){var Wn=(Ma&~ta)+Tr;Wn>Rr&&(Wn=Rr),(0,Ah[yi[ln++]>>8&15])(ft,Mt+ +Ma,Nr,Er+Ma-Rr,Wn-Ma,Nr,Er+Ma),Ma=Wn}Mt+=Rr,Er+=Rr,++wr&ta||(yn+=Pn)}rr!=pt.nc&&z(rt,Je-Yt,rt,Je+(rr-Ft-1)*Yt,Yt);break;case 1:for(Yt=ft,ar=Mt,Rr=(ft=pt.Ea)-(Er=ft&~(Nr=(Mt=1<<pt.b)-1)),wr=Qr(ft,pt.b),Tr=pt.K,pt=pt.w+(Ft>>pt.b)*wr;Ft<rr;){for(ta=Tr,Pn=pt,$a=new Jn,yn=ar+Er,yi=ar+ft;ar<yn;)On(ta[Pn++],$a),Oc($a,Yt,ar,Mt,rt,Je),ar+=Mt,Je+=Mt;ar<yi&&(On(ta[Pn++],$a),Oc($a,Yt,ar,Rr,rt,Je),ar+=Rr,Je+=Rr),++Ft&Nr||(pt+=wr)}break;case 3:if(ft==rt&&Mt==Je&&0<pt.b){for(ar=rt,ft=Yt=Je+(rr-Ft)*Yt-(Er=(rr-Ft)*Qr(pt.Ea,pt.b)),Mt=rt,Nr=Je,wr=[],Er=(Rr=Er)-1;0<=Er;--Er)wr[Er]=Mt[Nr+Er];for(Er=Rr-1;0<=Er;--Er)ar[ft+Er]=wr[Er];Uh(pt,Ft,rr,rt,Yt,rt,Je)}else Uh(pt,Ft,rr,ft,Mt,rt,Je)}Je=_e,rt=be}rt!=be&&z(_e,be,Je,rt,Ke)}function Ys(O,G){var be=O.V,_e=O.Ba+O.c*O.C,Qe=G-O.C;if(B(G<=O.l.o),B(16>=Qe),0<Qe){var Ke=O.l,qe=O.Ta,Je=O.Ua,rt=Ke.width;if(ru(O,Qe,be,_e),Qe=Je=[Je],B((be=O.C)<(_e=G)),B(Ke.v<Ke.va),_e>Ke.o&&(_e=Ke.o),be<Ke.j){var pt=Ke.j-be;be=Ke.j,Qe[0]+=pt*rt}if(be>=_e?be=0:(Qe[0]+=4*Ke.v,Ke.ka=be-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=_e-be,be=1),be){if(Je=Je[0],11>(be=O.ca).S){var Ft=be.f.RGBA,rr=(_e=be.S,Qe=Ke.U,Ke=Ke.T,pt=Ft.eb,Ft.A),ft=Ke;for(Ft=Ft.fb+O.Ma*Ft.A;0<ft--;){var Mt=qe,Yt=Je,wr=Qe,ar=pt,Nr=Ft;switch(_e){case qd:Vc(Mt,Yt,wr,ar,Nr);break;case $h:zc(Mt,Yt,wr,ar,Nr);break;case Sf:zc(Mt,Yt,wr,ar,Nr),Js(ar,Nr,0,wr,1,0);break;case Vh:xd(Mt,Yt,wr,ar,Nr);break;case mh:Kn(Mt,Yt,wr,ar,Nr,1);break;case zh:Kn(Mt,Yt,wr,ar,Nr,1),Js(ar,Nr,0,wr,1,0);break;case ho:Kn(Mt,Yt,wr,ar,Nr,0);break;case _u:Kn(Mt,Yt,wr,ar,Nr,0),Js(ar,Nr,1,wr,1,0);break;case wd:zu(Mt,Yt,wr,ar,Nr);break;case Bf:zu(Mt,Yt,wr,ar,Nr),Wh(ar,Nr,wr,1,0);break;case pA:lu(Mt,Yt,wr,ar,Nr);break;default:B(0)}Je+=rt,Ft+=rr}O.Ma+=Ke}else alert("todo:EmitRescaledRowsYUVA");B(O.Ma<=be.height)}}O.C=G,B(O.C<=O.i)}function rl(O){var G;if(0<O.ua)return 0;for(G=0;G<O.Wb;++G){var be=O.Ya[G].G,_e=O.Ya[G].H;if(0<be[1][_e[1]+0].g||0<be[2][_e[2]+0].g||0<be[3][_e[3]+0].g)return 0}return 1}function Sc(O,G,be,_e,Qe,Ke){if(O.Z!=0){var qe=O.qd,Je=O.rd;for(B(Lo[O.Z]!=null);G<be;++G)Lo[O.Z](qe,Je,_e,Qe,_e,Qe,Ke),qe=_e,Je=Qe,Qe+=Ke;O.qd=qe,O.rd=Je}}function Jl(O,G){var be=O.l.ma,_e=be.Z==0||be.Z==1?O.l.j:O.C;if(_e=O.C<_e?_e:O.C,B(G<=O.l.o),G>_e){var Qe=O.l.width,Ke=be.ca,qe=be.tb+Qe*_e,Je=O.V,rt=O.Ba+O.c*_e,pt=O.gc;B(O.ab==1),B(pt[0].hc==3),al(pt[0],_e,G,Je,rt,Ke,qe),Sc(be,_e,G,Ke,qe,Qe)}O.C=O.Ma=G}function Zs(O,G,be,_e,Qe,Ke,qe){var Je=O.$/_e,rt=O.$%_e,pt=O.m,Ft=O.s,rr=be+O.$,ft=rr;Qe=be+_e*Qe;var Mt=be+_e*Ke,Yt=280+Ft.ua,wr=O.Pb?Je:16777216,ar=0<Ft.ua?Ft.Wa:null,Nr=Ft.wc,Er=rr<Mt?lo(Ft,rt,Je):null;B(O.C<Ke),B(Mt<=Qe);var Rr=!1;e:for(;;){for(;Rr||rr<Mt;){var Tr=0;if(Je>=wr){var ta=rr-be;B((wr=O).Pb),wr.wd=wr.m,wr.xd=ta,0<wr.s.ua&&hn(wr.s.Wa,wr.s.vb),wr=Je+vA}if(rt&Nr||(Er=lo(Ft,rt,Je)),B(Er!=null),Er.Qb&&(G[rr]=Er.qb,Rr=!0),!Rr)if(nr(pt),Er.jc){Tr=pt,ta=G;var Pn=rr,$a=Er.pd[Nt(Tr)&ka-1];B(Er.jc),256>$a.g?(zt(Tr,Tr.u+$a.g),ta[Pn]=$a.value,Tr=0):(zt(Tr,Tr.u+$a.g-256),B(256<=$a.value),Tr=$a.value),Tr==0&&(Rr=!0)}else Tr=Pi(Er.G[0],Er.H[0],pt);if(pt.h)break;if(Rr||256>Tr){if(!Rr)if(Er.nd)G[rr]=(Er.qb|Tr<<8)>>>0;else{if(nr(pt),Rr=Pi(Er.G[1],Er.H[1],pt),nr(pt),ta=Pi(Er.G[2],Er.H[2],pt),Pn=Pi(Er.G[3],Er.H[3],pt),pt.h)break;G[rr]=(Pn<<24|Rr<<16|Tr<<8|ta)>>>0}if(Rr=!1,++rr,++rt>=_e&&(rt=0,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(O,Je),ar!=null))for(;ft<rr;)Tr=G[ft++],ar.X[(506832829*Tr&4294967295)>>>ar.Mb]=Tr}else if(280>Tr){if(Tr=El(Tr-256,pt),ta=Pi(Er.G[4],Er.H[4],pt),nr(pt),ta=Fs(_e,ta=El(ta,pt)),pt.h)break;if(rr-be<ta||Qe-rr<Tr)break e;for(Pn=0;Pn<Tr;++Pn)G[rr+Pn]=G[rr+Pn-ta];for(rr+=Tr,rt+=Tr;rt>=_e;)rt-=_e,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(O,Je);if(B(rr<=Qe),rt&Nr&&(Er=lo(Ft,rt,Je)),ar!=null)for(;ft<rr;)Tr=G[ft++],ar.X[(506832829*Tr&4294967295)>>>ar.Mb]=Tr}else{if(!(Tr<Yt))break e;for(Rr=Tr-280,B(ar!=null);ft<rr;)Tr=G[ft++],ar.X[(506832829*Tr&4294967295)>>>ar.Mb]=Tr;Tr=rr,B(!(Rr>>>(ta=ar).Xa)),G[Tr]=ta.X[Rr],Rr=!0}Rr||B(pt.h==Wt(pt))}if(O.Pb&&pt.h&&rr<Qe)B(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&hn(O.s.vb,O.s.Wa);else{if(pt.h)break e;qe!=null&&qe(O,Je>Ke?Ke:Je),O.a=0,O.$=rr-be}return 1}return O.a=3,0}function nl(O){B(O!=null),O.vc=null,O.yc=null,O.Ya=null;var G=O.Wa;G!=null&&(G.X=null),O.vb=null,B(O!=null)}function Il(){var O=new Aa;return O==null?null:(O.a=0,O.xb=yA,Ei("Predictor","VP8LPredictors"),Ei("Predictor","VP8LPredictors_C"),Ei("PredictorAdd","VP8LPredictorsAdd"),Ei("PredictorAdd","VP8LPredictorsAdd_C"),$s=la,Oc=ua,Vc=wa,zc=ci,zu=Va,lu=za,xd=es,_t.VP8LMapColor32b=qo,_t.VP8LMapColor8b=Gd,O)}function Vo(O,G,be,_e,Qe){var Ke=1,qe=[O],Je=[G],rt=_e.m,pt=_e.s,Ft=null,rr=0;e:for(;;){if(be)for(;Ke&&Hr(rt,1);){var ft=qe,Mt=Je,Yt=_e,wr=1,ar=Yt.m,Nr=Yt.gc[Yt.ab],Er=Hr(ar,2);if(Yt.Oc&1<<Er)Ke=0;else{switch(Yt.Oc|=1<<Er,Nr.hc=Er,Nr.Ea=ft[0],Nr.nc=Mt[0],Nr.K=[null],++Yt.ab,B(4>=Yt.ab),Er){case 0:case 1:Nr.b=Hr(ar,3)+2,wr=Vo(Qr(Nr.Ea,Nr.b),Qr(Nr.nc,Nr.b),0,Yt,Nr.K),Nr.K=Nr.K[0];break;case 3:var Rr,Tr=Hr(ar,8)+1,ta=16<Tr?0:4<Tr?1:2<Tr?2:3;if(ft[0]=Qr(Nr.Ea,ta),Nr.b=ta,Rr=wr=Vo(Tr,1,0,Yt,Nr.K)){var Pn,$a=Tr,yn=Nr,yi=1<<(8>>yn.b),ln=re(yi);if(ln==null)Rr=0;else{var Ma=yn.K[0],Wn=yn.w;for(ln[0]=yn.K[0][0],Pn=1;Pn<1*$a;++Pn)ln[Pn]=oa(Ma[Wn+Pn],ln[Pn-1]);for(;Pn<4*yi;++Pn)ln[Pn]=0;yn.K[0]=null,yn.K[0]=ln,Rr=1}}wr=Rr;break;case 2:break;default:B(0)}Ke=wr}}if(qe=qe[0],Je=Je[0],Ke&&Hr(rt,1)&&!(Ke=1<=(rr=Hr(rt,4))&&11>=rr)){_e.a=3;break e}var An;if(An=Ke)t:{var fo,Pa,fi,hs=_e,No=qe,Xo=Je,Ms=rr,Yo=be,ll=hs.m,pi=hs.s,Ka=[null],mi=1,Vs=0,$i=jp[Ms];r:for(;;){if(Yo&&Hr(ll,1)){var fs=Hr(ll,3)+2,dc=Qr(No,fs),Vi=Qr(Xo,fs),yl=dc*Vi;if(!Vo(dc,Vi,0,hs,Ka))break r;for(Ka=Ka[0],pi.xc=fs,fo=0;fo<yl;++fo){var ns=Ka[fo]>>8&65535;Ka[fo]=ns,ns>=mi&&(mi=ns+1)}}if(ll.h)break r;for(Pa=0;5>Pa;++Pa){var rn=mA[Pa];!Pa&&0<Ms&&(rn+=1<<Ms),Vs<rn&&(Vs=rn)}var Uo=Ne(mi*$i,It),Ho=mi,Rs=Ne(Ho,cr);if(Rs==null)var bl=null;else B(65536>=Ho),bl=Rs;var Ua=re(Vs);if(bl==null||Ua==null||Uo==null){hs.a=1;break r}var Fa=Uo;for(fo=fi=0;fo<mi;++fo){var Xn=bl[fo],zi=Xn.G,_i=Xn.H,zs=0,Ls=1,eo=0;for(Pa=0;5>Pa;++Pa){rn=mA[Pa],zi[Pa]=Fa,_i[Pa]=fi,!Pa&&0<Ms&&(rn+=1<<Ms);a:{var to,Sd=rn,Ou=hs,qu=Ua,BA=Fa,yh=fi,cl=0,Gc=Ou.m,Jd=Hr(Gc,1);if(Y(qu,0,0,Sd),Jd){var Xu=Hr(Gc,1)+1,Zh=Hr(Gc,1),Mf=Hr(Gc,Zh==0?1:8);qu[Mf]=1,Xu==2&&(qu[Mf=Hr(Gc,8)]=1);var hu=1}else{var Jh=re(19),qc=Hr(Gc,4)+4;if(19<qc){Ou.a=3;var Zo=0;break a}for(to=0;to<qc;++to)Jh[bp[to]]=Hr(Gc,3);var Bd=void 0,ku=void 0,ef=Ou,Rf=Jh,So=Sd,hc=qu,wl=0,Ao=ef.m,Ed=8,Lf=Ne(128,It);n:for(;dt(Lf,0,7,Rf,19);){if(Hr(Ao,1)){var EA=2+2*Hr(Ao,3);if((Bd=2+Hr(Ao,EA))>So)break n}else Bd=So;for(ku=0;ku<So&&Bd--;){nr(Ao);var IA=Lf[0+(127&Nt(Ao))];zt(Ao,Ao.u+IA.g);var Pc=IA.value;if(16>Pc)hc[ku++]=Pc,Pc!=0&&(Ed=Pc);else{var TA=Pc==16,Uf=Pc-16,eh=If[Uf],Hf=Hr(Ao,Ef[Uf])+eh;if(ku+Hf>So)break n;for(var th=TA?Ed:0;0<Hf--;)hc[ku++]=th}}wl=1;break n}wl||(ef.a=3),hu=wl}(hu=hu&&!Gc.h)&&(cl=dt(BA,yh,8,qu,Sd)),hu&&cl!=0?Zo=cl:(Ou.a=3,Zo=0)}if(Zo==0)break r;if(Ls&&gA[Pa]==1&&(Ls=Fa[fi].g==0),zs+=Fa[fi].g,fi+=Zo,3>=Pa){var bh,Qf=Ua[0];for(bh=1;bh<rn;++bh)Ua[bh]>Qf&&(Qf=Ua[bh]);eo+=Qf}}if(Xn.nd=Ls,Xn.Qb=0,Ls&&(Xn.qb=(zi[3][_i[3]+0].value<<24|zi[1][_i[1]+0].value<<16|zi[2][_i[2]+0].value)>>>0,zs==0&&256>zi[0][_i[0]+0].value&&(Xn.Qb=1,Xn.qb+=zi[0][_i[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>eo,Xn.jc){var wh,Xc=Xn;for(wh=0;wh<ka;++wh){var Id=wh,Td=Xc.pd[Id],tf=Xc.G[0][Xc.H[0]+Id];256<=tf.value?(Td.g=tf.g+256,Td.value=tf.value):(Td.g=0,Td.value=0,Id>>=Is(tf,8,Td),Id>>=Is(Xc.G[1][Xc.H[1]+Id],16,Td),Id>>=Is(Xc.G[2][Xc.H[2]+Id],0,Td),Is(Xc.G[3][Xc.H[3]+Id],24,Td))}}}pi.vc=Ka,pi.Wb=mi,pi.Ya=bl,pi.yc=Uo,An=1;break t}An=0}if(!(Ke=An)){_e.a=3;break e}if(0<rr){if(pt.ua=1<<rr,!ut(pt.Wa,rr)){_e.a=1,Ke=0;break e}}else pt.ua=0;var Wf=_e,_d=qe,Wm=Je,F=Wf.s,E=F.xc;if(Wf.c=_d,Wf.i=Wm,F.md=Qr(_d,E),F.wc=E==0?-1:(1<<E)-1,be){_e.xb=Cp;break e}if((Ft=re(qe*Je))==null){_e.a=1,Ke=0;break e}Ke=(Ke=Zs(_e,Ft,0,qe,Je,Je,null))&&!rt.h;break e}return Ke?(Qe!=null?Qe[0]=Ft:(B(Ft==null),B(be)),_e.$=0,be||nl(pt)):nl(pt),Ke}function Fo(O,G){var be=O.c*O.i,_e=be+G+16*G;return B(O.c<=G),O.V=re(_e),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+be+G,1)}function ec(O,G){var be=O.C,_e=G-be,Qe=O.V,Ke=O.Ba+O.c*be;for(B(G<=O.l.o);0<_e;){var qe=16<_e?16:_e,Je=O.l.ma,rt=O.l.width,pt=rt*qe,Ft=Je.ca,rr=Je.tb+rt*be,ft=O.Ta,Mt=O.Ua;ru(O,qe,Qe,Ke),bd(ft,Mt,Ft,rr,pt),Sc(Je,be,be+qe,Ft,rr,rt),_e-=qe,Qe+=qe*O.c,be+=qe}B(be==G),O.C=O.Ma=G}function Tl(){this.ub=this.yd=this.td=this.Rb=0}function Bc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dd(){this.Fb=this.Bb=this.Cb=0,this.Zb=re(4),this.Lb=re(4)}function Hc(){this.Yb=(function(){var O=[];return(function G(be,_e,Qe){for(var Ke=Qe[_e],qe=0;qe<Ke&&(be.push(Qe.length>_e+1?[]:0),!(Qe.length<_e+1));qe++)G(be[qe],_e+1,Qe)})(O,0,[3,11]),O})()}function hd(){this.jb=re(3),this.Wc=ge([4,8],Hc),this.Xc=ge([4,17],Hc)}function nu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new re(4),this.od=new re(4)}function zo(){this.ld=this.La=this.dd=this.tc=0}function au(){this.Na=this.la=0}function wu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uu(){this.ad=re(384),this.Za=0,this.Ob=re(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _l(){this.uc=this.M=this.Nb=0,this.wa=Array(new zo),this.Y=0,this.ya=Array(new Uu),this.aa=0,this.l=new Wu}function Hu(){this.y=re(16),this.f=re(8),this.ea=re(8)}function Qu(){this.cb=this.a=0,this.sc="",this.m=new Ye,this.Od=new Tl,this.Kc=new Bc,this.ed=new nu,this.Qa=new dd,this.Ic=this.$c=this.Aa=0,this.D=new _l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ne(8,Ye),this.ia=0,this.pb=Ne(4,wu),this.Pa=new hd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hu),this.Hd=0,this.rb=Array(new au),this.sb=0,this.wa=Array(new zo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uu),this.L=this.aa=0,this.gd=ge([4,2],zo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tc(O,G){return 0>O?0:O>G?G:O}function Wu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ju(){var O=new Qu;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,Xd||(Xd=xi)),O}function ya(O,G,be){return O.a==0&&(O.a=G,O.sc=be,O.cb=0),0}function fd(O,G,be){return 3<=be&&O[G+0]==157&&O[G+1]==1&&O[G+2]==42}function rc(O,G){if(O==null)return 0;if(O.a=0,O.sc="OK",G==null)return ya(O,2,"null VP8Io passed to VP8GetHeaders()");var be=G.data,_e=G.w,Qe=G.ha;if(4>Qe)return ya(O,7,"Truncated header.");var Ke=be[_e+0]|be[_e+1]<<8|be[_e+2]<<16,qe=O.Od;if(qe.Rb=!(1&Ke),qe.td=Ke>>1&7,qe.yd=Ke>>4&1,qe.ub=Ke>>5,3<qe.td)return ya(O,3,"Incorrect keyframe parameters.");if(!qe.yd)return ya(O,4,"Frame not displayable.");_e+=3,Qe-=3;var Je=O.Kc;if(qe.Rb){if(7>Qe)return ya(O,7,"cannot parse picture header");if(!fd(be,_e,Qe))return ya(O,3,"Bad code word");Je.c=16383&(be[_e+4]<<8|be[_e+3]),Je.Td=be[_e+4]>>6,Je.i=16383&(be[_e+6]<<8|be[_e+5]),Je.Ud=be[_e+6]>>6,_e+=7,Qe-=7,O.za=Je.c+15>>4,O.Ub=Je.i+15>>4,G.width=Je.c,G.height=Je.i,G.Da=0,G.j=0,G.v=0,G.va=G.width,G.o=G.height,G.da=0,G.ib=G.width,G.hb=G.height,G.U=G.width,G.T=G.height,Y((Ke=O.Pa).jb,0,255,Ke.jb.length),B((Ke=O.Qa)!=null),Ke.Cb=0,Ke.Bb=0,Ke.Fb=1,Y(Ke.Zb,0,0,Ke.Zb.length),Y(Ke.Lb,0,0,Ke.Lb)}if(qe.ub>Qe)return ya(O,7,"bad partition length");Ar(Ke=O.m,be,_e,qe.ub),_e+=qe.ub,Qe-=qe.ub,qe.Rb&&(Je.Ld=vr(Ke),Je.Kd=vr(Ke)),Je=O.Qa;var rt,pt=O.Pa;if(B(Ke!=null),B(Je!=null),Je.Cb=vr(Ke),Je.Cb){if(Je.Bb=vr(Ke),vr(Ke)){for(Je.Fb=vr(Ke),rt=0;4>rt;++rt)Je.Zb[rt]=vr(Ke)?Jt(Ke,7):0;for(rt=0;4>rt;++rt)Je.Lb[rt]=vr(Ke)?Jt(Ke,6):0}if(Je.Bb)for(rt=0;3>rt;++rt)pt.jb[rt]=vr(Ke)?xr(Ke,8):255}else Je.Bb=0;if(Ke.Ka)return ya(O,3,"cannot parse segment header");if((Je=O.ed).zd=vr(Ke),Je.Tb=xr(Ke,6),Je.wb=xr(Ke,3),Je.Pc=vr(Ke),Je.Pc&&vr(Ke)){for(pt=0;4>pt;++pt)vr(Ke)&&(Je.vd[pt]=Jt(Ke,6));for(pt=0;4>pt;++pt)vr(Ke)&&(Je.od[pt]=Jt(Ke,6))}if(O.L=Je.Tb==0?0:Je.zd?1:2,Ke.Ka)return ya(O,3,"cannot parse filter header");var Ft=Qe;if(Qe=rt=_e,_e=rt+Ft,Je=Ft,O.Xb=(1<<xr(O.m,2))-1,Ft<3*(pt=O.Xb))be=7;else{for(rt+=3*pt,Je-=3*pt,Ft=0;Ft<pt;++Ft){var rr=be[Qe+0]|be[Qe+1]<<8|be[Qe+2]<<16;rr>Je&&(rr=Je),Ar(O.Jc[+Ft],be,rt,rr),rt+=rr,Je-=rr,Qe+=3}Ar(O.Jc[+pt],be,rt,Je),be=rt<_e?0:5}if(be!=0)return ya(O,be,"cannot parse partitions");for(be=xr(rt=O.m,7),Qe=vr(rt)?Jt(rt,4):0,_e=vr(rt)?Jt(rt,4):0,Je=vr(rt)?Jt(rt,4):0,pt=vr(rt)?Jt(rt,4):0,rt=vr(rt)?Jt(rt,4):0,Ft=O.Qa,rr=0;4>rr;++rr){if(Ft.Cb){var ft=Ft.Zb[rr];Ft.Fb||(ft+=be)}else{if(0<rr){O.pb[rr]=O.pb[0];continue}ft=be}var Mt=O.pb[rr];Mt.Sc[0]=gh[tc(ft+Qe,127)],Mt.Sc[1]=Kh[tc(ft+0,127)],Mt.Eb[0]=2*gh[tc(ft+_e,127)],Mt.Eb[1]=101581*Kh[tc(ft+Je,127)]>>16,8>Mt.Eb[1]&&(Mt.Eb[1]=8),Mt.Qc[0]=gh[tc(ft+pt,117)],Mt.Qc[1]=Kh[tc(ft+rt,127)],Mt.lc=ft+rt}if(!qe.Rb)return ya(O,4,"Not a key frame.");for(vr(Ke),qe=O.Pa,be=0;4>be;++be){for(Qe=0;8>Qe;++Qe)for(_e=0;3>_e;++_e)for(Je=0;11>Je;++Je)pt=Pr(Ke,Gh[be][Qe][_e][Je])?xr(Ke,8):Hm[be][Qe][_e][Je],qe.Wc[be][Qe].Yb[_e][Je]=pt;for(Qe=0;17>Qe;++Qe)qe.Xc[be][Qe]=qe.Wc[be][qh[Qe]]}return O.kc=vr(Ke),O.kc&&(O.Bd=xr(Ke,8)),O.cb=1}function xi(O,G,be,_e,Qe,Ke,qe){var Je=G[Qe].Yb[be];for(be=0;16>Qe;++Qe){if(!Pr(O,Je[be+0]))return Qe;for(;!Pr(O,Je[be+1]);)if(Je=G[++Qe].Yb[0],be=0,Qe==16)return 16;var rt=G[Qe+1].Yb;if(Pr(O,Je[be+2])){var pt=O,Ft=0;if(Pr(pt,(ft=Je)[(rr=be)+3]))if(Pr(pt,ft[rr+6])){for(Je=0,rr=2*(Ft=Pr(pt,ft[rr+8]))+(ft=Pr(pt,ft[rr+9+Ft])),Ft=0,ft=Tf[rr];ft[Je];++Je)Ft+=Ft+Pr(pt,ft[Je]);Ft+=3+(8<<rr)}else Pr(pt,ft[rr+7])?(Ft=7+2*Pr(pt,165),Ft+=Pr(pt,145)):Ft=5+Pr(pt,159);else Ft=Pr(pt,ft[rr+4])?3+Pr(pt,ft[rr+5]):2;Je=rt[2]}else Ft=1,Je=rt[1];rt=qe+Um[Qe],0>(pt=O).b&&mr(pt);var rr,ft=pt.b,Mt=(rr=pt.Ca>>1)-(pt.I>>ft)>>31;--pt.b,pt.Ca+=Mt,pt.Ca|=1,pt.I-=(rr+1&Mt)<<ft,Ke[rt]=((Ft^Mt)-Mt)*_e[(0<Qe)+0]}return 16}function Ad(O){var G=O.rb[O.sb-1];G.la=0,G.Na=0,Y(O.zc,0,0,O.zc.length),O.ja=0}function pl(O,G,be,_e,Qe){Qe=O[G+be+32*_e]+(Qe>>3),O[G+be+32*_e]=-256&Qe?0>Qe?0:255:Qe}function Ts(O,G,be,_e,Qe,Ke){pl(O,G,0,be,_e+Qe),pl(O,G,1,be,_e+Ke),pl(O,G,2,be,_e-Ke),pl(O,G,3,be,_e-Qe)}function Ec(O){return(20091*O>>16)+O}function iu(O,G,be,_e){var Qe,Ke=0,qe=re(16);for(Qe=0;4>Qe;++Qe){var Je=O[G+0]+O[G+8],rt=O[G+0]-O[G+8],pt=(35468*O[G+4]>>16)-Ec(O[G+12]),Ft=Ec(O[G+4])+(35468*O[G+12]>>16);qe[Ke+0]=Je+Ft,qe[Ke+1]=rt+pt,qe[Ke+2]=rt-pt,qe[Ke+3]=Je-Ft,Ke+=4,G++}for(Qe=Ke=0;4>Qe;++Qe)Je=(O=qe[Ke+0]+4)+qe[Ke+8],rt=O-qe[Ke+8],pt=(35468*qe[Ke+4]>>16)-Ec(qe[Ke+12]),pl(be,_e,0,0,Je+(Ft=Ec(qe[Ke+4])+(35468*qe[Ke+12]>>16))),pl(be,_e,1,0,rt+pt),pl(be,_e,2,0,rt-pt),pl(be,_e,3,0,Je-Ft),Ke++,_e+=32}function Ol(O,G,be,_e){var Qe=O[G+0]+4,Ke=35468*O[G+4]>>16,qe=Ec(O[G+4]),Je=35468*O[G+1]>>16;Ts(be,_e,0,Qe+qe,O=Ec(O[G+1]),Je),Ts(be,_e,1,Qe+Ke,O,Je),Ts(be,_e,2,Qe-Ke,O,Je),Ts(be,_e,3,Qe-qe,O,Je)}function $u(O,G,be,_e,Qe){iu(O,G,be,_e),Qe&&iu(O,G+16,be,_e+4)}function Ko(O,G,be,_e){vl(O,G+0,be,_e,1),vl(O,G+32,be,_e+128,1)}function pd(O,G,be,_e){var Qe;for(O=O[G+0]+4,Qe=0;4>Qe;++Qe)for(G=0;4>G;++G)pl(be,_e,G,Qe,O)}function Cu(O,G,be,_e){O[G+0]&&di(O,G+0,be,_e),O[G+16]&&di(O,G+16,be,_e+4),O[G+32]&&di(O,G+32,be,_e+128),O[G+48]&&di(O,G+48,be,_e+128+4)}function md(O,G,be,_e){var Qe,Ke=re(16);for(Qe=0;4>Qe;++Qe){var qe=O[G+0+Qe]+O[G+12+Qe],Je=O[G+4+Qe]+O[G+8+Qe],rt=O[G+4+Qe]-O[G+8+Qe],pt=O[G+0+Qe]-O[G+12+Qe];Ke[0+Qe]=qe+Je,Ke[8+Qe]=qe-Je,Ke[4+Qe]=pt+rt,Ke[12+Qe]=pt-rt}for(Qe=0;4>Qe;++Qe)qe=(O=Ke[0+4*Qe]+3)+Ke[3+4*Qe],Je=Ke[1+4*Qe]+Ke[2+4*Qe],rt=Ke[1+4*Qe]-Ke[2+4*Qe],pt=O-Ke[3+4*Qe],be[_e+0]=qe+Je>>3,be[_e+16]=pt+rt>>3,be[_e+32]=qe-Je>>3,be[_e+48]=pt-rt>>3,_e+=64}function su(O,G,be){var _e,Qe=G-32,Ke=ol,qe=255-O[Qe-1];for(_e=0;_e<be;++_e){var Je,rt=Ke,pt=qe+O[G-1];for(Je=0;Je<be;++Je)O[G+Je]=rt[pt+O[Qe+Je]];G+=32}}function Nu(O,G){su(O,G,4)}function Su(O,G){su(O,G,8)}function Bu(O,G){su(O,G,16)}function Eu(O,G){var be;for(be=0;16>be;++be)z(O,G+32*be,O,G-32,16)}function gd(O,G){var be;for(be=16;0<be;--be)Y(O,G,O[G-1],16),G+=32}function kl(O,G,be){var _e;for(_e=0;16>_e;++_e)Y(G,be+32*_e,O,16)}function Rh(O,G){var be,_e=16;for(be=0;16>be;++be)_e+=O[G-1+32*be]+O[G+be-32];kl(_e>>5,O,G)}function Iu(O,G){var be,_e=8;for(be=0;16>be;++be)_e+=O[G-1+32*be];kl(_e>>4,O,G)}function $d(O,G){var be,_e=8;for(be=0;16>be;++be)_e+=O[G+be-32];kl(_e>>4,O,G)}function Lh(O,G){kl(128,O,G)}function Ca(O,G,be){return O+2*G+be+2>>2}function Qc(O,G){var be,_e=G-32;for(_e=new Uint8Array([Ca(O[_e-1],O[_e+0],O[_e+1]),Ca(O[_e+0],O[_e+1],O[_e+2]),Ca(O[_e+1],O[_e+2],O[_e+3]),Ca(O[_e+2],O[_e+3],O[_e+4])]),be=0;4>be;++be)z(O,G+32*be,_e,0,_e.length)}function fh(O,G){var be=O[G-1],_e=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1+96];Jr(O,G+0,16843009*Ca(O[G-1-32],be,_e)),Jr(O,G+32,16843009*Ca(be,_e,Qe)),Jr(O,G+64,16843009*Ca(_e,Qe,Ke)),Jr(O,G+96,16843009*Ca(Qe,Ke,Ke))}function Ic(O,G){var be,_e=4;for(be=0;4>be;++be)_e+=O[G+be-32]+O[G-1+32*be];for(_e>>=3,be=0;4>be;++be)Y(O,G+32*be,_e,4)}function wo(O,G){var be=O[G-1+0],_e=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1-32],qe=O[G+0-32],Je=O[G+1-32],rt=O[G+2-32],pt=O[G+3-32];O[G+0+96]=Ca(_e,Qe,O[G-1+96]),O[G+1+96]=O[G+0+64]=Ca(be,_e,Qe),O[G+2+96]=O[G+1+64]=O[G+0+32]=Ca(Ke,be,_e),O[G+3+96]=O[G+2+64]=O[G+1+32]=O[G+0+0]=Ca(qe,Ke,be),O[G+3+64]=O[G+2+32]=O[G+1+0]=Ca(Je,qe,Ke),O[G+3+32]=O[G+2+0]=Ca(rt,Je,qe),O[G+3+0]=Ca(pt,rt,Je)}function Pl(O,G){var be=O[G+1-32],_e=O[G+2-32],Qe=O[G+3-32],Ke=O[G+4-32],qe=O[G+5-32],Je=O[G+6-32],rt=O[G+7-32];O[G+0+0]=Ca(O[G+0-32],be,_e),O[G+1+0]=O[G+0+32]=Ca(be,_e,Qe),O[G+2+0]=O[G+1+32]=O[G+0+64]=Ca(_e,Qe,Ke),O[G+3+0]=O[G+2+32]=O[G+1+64]=O[G+0+96]=Ca(Qe,Ke,qe),O[G+3+32]=O[G+2+64]=O[G+1+96]=Ca(Ke,qe,Je),O[G+3+64]=O[G+2+96]=Ca(qe,Je,rt),O[G+3+96]=Ca(Je,rt,rt)}function nc(O,G){var be=O[G-1+0],_e=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1-32],qe=O[G+0-32],Je=O[G+1-32],rt=O[G+2-32],pt=O[G+3-32];O[G+0+0]=O[G+1+64]=Ke+qe+1>>1,O[G+1+0]=O[G+2+64]=qe+Je+1>>1,O[G+2+0]=O[G+3+64]=Je+rt+1>>1,O[G+3+0]=rt+pt+1>>1,O[G+0+96]=Ca(Qe,_e,be),O[G+0+64]=Ca(_e,be,Ke),O[G+0+32]=O[G+1+96]=Ca(be,Ke,qe),O[G+1+32]=O[G+2+96]=Ca(Ke,qe,Je),O[G+2+32]=O[G+3+96]=Ca(qe,Je,rt),O[G+3+32]=Ca(Je,rt,pt)}function Vd(O,G){var be=O[G+0-32],_e=O[G+1-32],Qe=O[G+2-32],Ke=O[G+3-32],qe=O[G+4-32],Je=O[G+5-32],rt=O[G+6-32],pt=O[G+7-32];O[G+0+0]=be+_e+1>>1,O[G+1+0]=O[G+0+64]=_e+Qe+1>>1,O[G+2+0]=O[G+1+64]=Qe+Ke+1>>1,O[G+3+0]=O[G+2+64]=Ke+qe+1>>1,O[G+0+32]=Ca(be,_e,Qe),O[G+1+32]=O[G+0+96]=Ca(_e,Qe,Ke),O[G+2+32]=O[G+1+96]=Ca(Qe,Ke,qe),O[G+3+32]=O[G+2+96]=Ca(Ke,qe,Je),O[G+3+64]=Ca(qe,Je,rt),O[G+3+96]=Ca(Je,rt,pt)}function ml(O,G){var be=O[G-1+0],_e=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1+96];O[G+0+0]=be+_e+1>>1,O[G+2+0]=O[G+0+32]=_e+Qe+1>>1,O[G+2+32]=O[G+0+64]=Qe+Ke+1>>1,O[G+1+0]=Ca(be,_e,Qe),O[G+3+0]=O[G+1+32]=Ca(_e,Qe,Ke),O[G+3+32]=O[G+1+64]=Ca(Qe,Ke,Ke),O[G+3+64]=O[G+2+64]=O[G+0+96]=O[G+1+96]=O[G+2+96]=O[G+3+96]=Ke}function Vu(O,G){var be=O[G-1+0],_e=O[G-1+32],Qe=O[G-1+64],Ke=O[G-1+96],qe=O[G-1-32],Je=O[G+0-32],rt=O[G+1-32],pt=O[G+2-32];O[G+0+0]=O[G+2+32]=be+qe+1>>1,O[G+0+32]=O[G+2+64]=_e+be+1>>1,O[G+0+64]=O[G+2+96]=Qe+_e+1>>1,O[G+0+96]=Ke+Qe+1>>1,O[G+3+0]=Ca(Je,rt,pt),O[G+2+0]=Ca(qe,Je,rt),O[G+1+0]=O[G+3+32]=Ca(be,qe,Je),O[G+1+32]=O[G+3+64]=Ca(_e,be,qe),O[G+1+64]=O[G+3+96]=Ca(Qe,_e,be),O[G+1+96]=Ca(Ke,Qe,_e)}function Go(O,G){var be;for(be=0;8>be;++be)z(O,G+32*be,O,G-32,8)}function Tu(O,G){var be;for(be=0;8>be;++be)Y(O,G,O[G-1],8),G+=32}function gl(O,G,be){var _e;for(_e=0;8>_e;++_e)Y(G,be+32*_e,O,8)}function vd(O,G){var be,_e=8;for(be=0;8>be;++be)_e+=O[G+be-32]+O[G-1+32*be];gl(_e>>4,O,G)}function Tc(O,G){var be,_e=4;for(be=0;8>be;++be)_e+=O[G+be-32];gl(_e>>3,O,G)}function ac(O,G){var be,_e=4;for(be=0;8>be;++be)_e+=O[G-1+32*be];gl(_e>>3,O,G)}function Fl(O,G){gl(128,O,G)}function ui(O,G,be){var _e=O[G-be],Qe=O[G+0],Ke=3*(Qe-_e)+Kc[1020+O[G-2*be]-O[G+be]],qe=Ml[112+(Ke+4>>3)];O[G-be]=ol[255+_e+Ml[112+(Ke+3>>3)]],O[G+0]=ol[255+Qe-qe]}function Ti(O,G,be,_e){var Qe=O[G+0],Ke=O[G+be];return cc[255+O[G-2*be]-O[G-be]]>_e||cc[255+Ke-Qe]>_e}function Dl(O,G,be,_e){return 4*cc[255+O[G-be]-O[G+0]]+cc[255+O[G-2*be]-O[G+be]]<=_e}function ws(O,G,be,_e,Qe){var Ke=O[G-3*be],qe=O[G-2*be],Je=O[G-be],rt=O[G+0],pt=O[G+be],Ft=O[G+2*be],rr=O[G+3*be];return 4*cc[255+Je-rt]+cc[255+qe-pt]>_e?0:cc[255+O[G-4*be]-Ke]<=Qe&&cc[255+Ke-qe]<=Qe&&cc[255+qe-Je]<=Qe&&cc[255+rr-Ft]<=Qe&&cc[255+Ft-pt]<=Qe&&cc[255+pt-rt]<=Qe}function Ds(O,G,be,_e){var Qe=2*_e+1;for(_e=0;16>_e;++_e)Dl(O,G+_e,be,Qe)&&ui(O,G+_e,be)}function _c(O,G,be,_e){var Qe=2*_e+1;for(_e=0;16>_e;++_e)Dl(O,G+_e*be,1,Qe)&&ui(O,G+_e*be,1)}function ou(O,G,be,_e){var Qe;for(Qe=3;0<Qe;--Qe)Ds(O,G+=4*be,be,_e)}function Do(O,G,be,_e){var Qe;for(Qe=3;0<Qe;--Qe)_c(O,G+=4,be,_e)}function ic(O,G,be,_e,Qe,Ke,qe,Je){for(Ke=2*Ke+1;0<Qe--;){if(ws(O,G,be,Ke,qe))if(Ti(O,G,be,Je))ui(O,G,be);else{var rt=O,pt=G,Ft=be,rr=rt[pt-2*Ft],ft=rt[pt-Ft],Mt=rt[pt+0],Yt=rt[pt+Ft],wr=rt[pt+2*Ft],ar=27*(Er=Kc[1020+3*(Mt-ft)+Kc[1020+rr-Yt]])+63>>7,Nr=18*Er+63>>7,Er=9*Er+63>>7;rt[pt-3*Ft]=ol[255+rt[pt-3*Ft]+Er],rt[pt-2*Ft]=ol[255+rr+Nr],rt[pt-Ft]=ol[255+ft+ar],rt[pt+0]=ol[255+Mt-ar],rt[pt+Ft]=ol[255+Yt-Nr],rt[pt+2*Ft]=ol[255+wr-Er]}G+=_e}}function Wc(O,G,be,_e,Qe,Ke,qe,Je){for(Ke=2*Ke+1;0<Qe--;){if(ws(O,G,be,Ke,qe))if(Ti(O,G,be,Je))ui(O,G,be);else{var rt=O,pt=G,Ft=be,rr=rt[pt-Ft],ft=rt[pt+0],Mt=rt[pt+Ft],Yt=Ml[112+(4+(wr=3*(ft-rr))>>3)],wr=Ml[112+(wr+3>>3)],ar=Yt+1>>1;rt[pt-2*Ft]=ol[255+rt[pt-2*Ft]+ar],rt[pt-Ft]=ol[255+rr+wr],rt[pt+0]=ol[255+ft-Yt],rt[pt+Ft]=ol[255+Mt-ar]}G+=_e}}function zd(O,G,be,_e,Qe,Ke){ic(O,G,be,1,16,_e,Qe,Ke)}function $c(O,G,be,_e,Qe,Ke){ic(O,G,1,be,16,_e,Qe,Ke)}function Kd(O,G,be,_e,Qe,Ke){var qe;for(qe=3;0<qe;--qe)Wc(O,G+=4*be,be,1,16,_e,Qe,Ke)}function fe(O,G,be,_e,Qe,Ke){var qe;for(qe=3;0<qe;--qe)Wc(O,G+=4,1,be,16,_e,Qe,Ke)}function Ue(O,G,be,_e,Qe,Ke,qe,Je){ic(O,G,Qe,1,8,Ke,qe,Je),ic(be,_e,Qe,1,8,Ke,qe,Je)}function gt(O,G,be,_e,Qe,Ke,qe,Je){ic(O,G,1,Qe,8,Ke,qe,Je),ic(be,_e,1,Qe,8,Ke,qe,Je)}function Ot(O,G,be,_e,Qe,Ke,qe,Je){Wc(O,G+4*Qe,Qe,1,8,Ke,qe,Je),Wc(be,_e+4*Qe,Qe,1,8,Ke,qe,Je)}function Gt(O,G,be,_e,Qe,Ke,qe,Je){Wc(O,G+4,1,Qe,8,Ke,qe,Je),Wc(be,_e+4,1,Qe,8,Ke,qe,Je)}function yr(){this.ba=new ja,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xa,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function In(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hn(){this.ua=0,this.Wa=new ga,this.vb=new ga,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new cr,this.yc=new It}function Aa(){this.xb=this.a=0,this.l=new Wu,this.ca=new ja,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new xt,this.Pb=0,this.wd=new xt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hn,this.ab=0,this.gc=Ne(4,In),this.Oc=0}function aa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Oa(O,G,be,_e,Qe,Ke,qe){for(O=O==null?0:O[G+0],G=0;G<qe;++G)Qe[Ke+G]=O+be[_e+G]&255,O=Qe[Ke+G]}function Fi(O,G,be,_e,Qe,Ke,qe){var Je;if(O==null)Oa(null,null,be,_e,Qe,Ke,qe);else for(Je=0;Je<qe;++Je)Qe[Ke+Je]=O[G+Je]+be[_e+Je]&255}function Mi(O,G,be,_e,Qe,Ke,qe){if(O==null)Oa(null,null,be,_e,Qe,Ke,qe);else{var Je,rt=O[G+0],pt=rt,Ft=rt;for(Je=0;Je<qe;++Je)pt=Ft+(rt=O[G+Je])-pt,Ft=be[_e+Je]+(-256&pt?0>pt?0:255:pt)&255,pt=rt,Qe[Ke+Je]=Ft}}function hi(O,G,be,_e){var Qe=G.width,Ke=G.o;if(B(O!=null&&G!=null),0>be||0>=_e||be+_e>Ke)return null;if(!O.Cc){if(O.ga==null){var qe;if(O.ga=new aa,(qe=O.ga==null)||(qe=G.width*G.o,B(O.Gb.length==0),O.Gb=re(qe),O.Uc=0,O.Gb==null?qe=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,qe=1),qe=!qe),!qe){qe=O.ga;var Je=O.Fa,rt=O.P,pt=O.qc,Ft=O.mb,rr=O.nb,ft=rt+1,Mt=pt-1,Yt=qe.l;if(B(Je!=null&&Ft!=null&&G!=null),Lo[0]=null,Lo[1]=Oa,Lo[2]=Fi,Lo[3]=Mi,qe.ca=Ft,qe.tb=rr,qe.c=G.width,qe.i=G.height,B(0<qe.c&&0<qe.i),1>=pt)G=0;else if(qe.$a=3&Je[rt+0],qe.Z=Je[rt+0]>>2&3,qe.Lc=Je[rt+0]>>4&3,rt=Je[rt+0]>>6&3,0>qe.$a||1<qe.$a||4<=qe.Z||1<qe.Lc||rt)G=0;else if(Yt.put=fa,Yt.ac=Nc,Yt.bc=bs,Yt.ma=qe,Yt.width=G.width,Yt.height=G.height,Yt.Da=G.Da,Yt.v=G.v,Yt.va=G.va,Yt.j=G.j,Yt.o=G.o,qe.$a)e:{B(qe.$a==1),G=Il();t:for(;;){if(G==null){G=0;break e}if(B(qe!=null),qe.mc=G,G.c=qe.c,G.i=qe.i,G.l=qe.l,G.l.ma=qe,G.l.width=qe.c,G.l.height=qe.i,G.a=0,gr(G.m,Je,ft,Mt),!Vo(qe.c,qe.i,1,G,null)||(G.ab==1&&G.gc[0].hc==3&&rl(G.s)?(qe.ic=1,Je=G.c*G.i,G.Ta=null,G.Ua=0,G.V=re(Je),G.Ba=0,G.V==null?(G.a=1,G=0):G=1):(qe.ic=0,G=Fo(G,qe.c)),!G))break t;G=1;break e}qe.mc=null,G=0}else G=Mt>=qe.c*qe.i;qe=!G}if(qe)return null;O.ga.Lc!=1?O.Ga=0:_e=Ke-be}B(O.ga!=null),B(be+_e<=Ke);e:{if(G=(Je=O.ga).c,Ke=Je.l.o,Je.$a==0){if(ft=O.rc,Mt=O.Vc,Yt=O.Fa,rt=O.P+1+be*G,pt=O.mb,Ft=O.nb+be*G,B(rt<=O.P+O.qc),Je.Z!=0)for(B(Lo[Je.Z]!=null),qe=0;qe<_e;++qe)Lo[Je.Z](ft,Mt,Yt,rt,pt,Ft,G),ft=pt,Mt=Ft,Ft+=G,rt+=G;else for(qe=0;qe<_e;++qe)z(pt,Ft,Yt,rt,G),ft=pt,Mt=Ft,Ft+=G,rt+=G;O.rc=ft,O.Vc=Mt}else{if(B(Je.mc!=null),G=be+_e,B((qe=Je.mc)!=null),B(G<=qe.i),qe.C>=G)G=1;else if(Je.ic||Xe(),Je.ic){Je=qe.V,ft=qe.Ba,Mt=qe.c;var wr=qe.i,ar=(Yt=1,rt=qe.$/Mt,pt=qe.$%Mt,Ft=qe.m,rr=qe.s,qe.$),Nr=Mt*wr,Er=Mt*G,Rr=rr.wc,Tr=ar<Er?lo(rr,pt,rt):null;B(ar<=Nr),B(G<=wr),B(rl(rr));t:for(;;){for(;!Ft.h&&ar<Er;){if(pt&Rr||(Tr=lo(rr,pt,rt)),B(Tr!=null),nr(Ft),256>(wr=Pi(Tr.G[0],Tr.H[0],Ft)))Je[ft+ar]=wr,++ar,++pt>=Mt&&(pt=0,++rt<=G&&!(rt%16)&&Jl(qe,rt));else{if(!(280>wr)){Yt=0;break t}wr=El(wr-256,Ft);var ta,Pn=Pi(Tr.G[4],Tr.H[4],Ft);if(nr(Ft),!(ar>=(Pn=Fs(Mt,Pn=El(Pn,Ft)))&&Nr-ar>=wr)){Yt=0;break t}for(ta=0;ta<wr;++ta)Je[ft+ar+ta]=Je[ft+ar+ta-Pn];for(ar+=wr,pt+=wr;pt>=Mt;)pt-=Mt,++rt<=G&&!(rt%16)&&Jl(qe,rt);ar<Er&&pt&Rr&&(Tr=lo(rr,pt,rt))}B(Ft.h==Wt(Ft))}Jl(qe,rt>G?G:rt);break t}!Yt||Ft.h&&ar<Nr?(Yt=0,qe.a=Ft.h?5:3):qe.$=ar,G=Yt}else G=Zs(qe,qe.V,qe.Ba,qe.c,qe.i,G,ec);if(!G){_e=0;break e}}be+_e>=Ke&&(O.Cc=1),_e=1}if(!_e)return null;if(O.Cc&&((_e=O.ga)!=null&&(_e.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+be*Qe}function us(O,G,be,_e,Qe,Ke){for(;0<Qe--;){var qe,Je=O,rt=G+(be?1:0),pt=O,Ft=G+(be?0:3);for(qe=0;qe<_e;++qe){var rr=pt[Ft+4*qe];rr!=255&&(rr*=32897,Je[rt+4*qe+0]=Je[rt+4*qe+0]*rr>>23,Je[rt+4*qe+1]=Je[rt+4*qe+1]*rr>>23,Je[rt+4*qe+2]=Je[rt+4*qe+2]*rr>>23)}G+=Ke}}function T(O,G,be,_e,Qe){for(;0<_e--;){var Ke;for(Ke=0;Ke<be;++Ke){var qe=O[G+2*Ke+0],Je=15&(pt=O[G+2*Ke+1]),rt=4369*Je,pt=(240&pt|pt>>4)*rt>>16;O[G+2*Ke+0]=(240&qe|qe>>4)*rt>>16&240|(15&qe|qe<<4)*rt>>16>>4&15,O[G+2*Ke+1]=240&pt|Je}G+=Qe}}function Me(O,G,be,_e,Qe,Ke,qe,Je){var rt,pt,Ft=255;for(pt=0;pt<Qe;++pt){for(rt=0;rt<_e;++rt){var rr=O[G+rt];Ke[qe+4*rt]=rr,Ft&=rr}G+=be,qe+=Je}return Ft!=255}function J(O,G,be,_e,Qe){var Ke;for(Ke=0;Ke<Qe;++Ke)be[_e+Ke]=O[G+Ke]>>8}function Xe(){Js=us,Wh=T,il=Me,bd=J}function ht(O,G,be){_t[O]=function(_e,Qe,Ke,qe,Je,rt,pt,Ft,rr,ft,Mt,Yt,wr,ar,Nr,Er,Rr){var Tr,ta=Rr-1>>1,Pn=Je[rt+0]|pt[Ft+0]<<16,$a=rr[ft+0]|Mt[Yt+0]<<16;B(_e!=null);var yn=3*Pn+$a+131074>>2;for(G(_e[Qe+0],255&yn,yn>>16,wr,ar),Ke!=null&&(yn=3*$a+Pn+131074>>2,G(Ke[qe+0],255&yn,yn>>16,Nr,Er)),Tr=1;Tr<=ta;++Tr){var yi=Je[rt+Tr]|pt[Ft+Tr]<<16,ln=rr[ft+Tr]|Mt[Yt+Tr]<<16,Ma=Pn+yi+$a+ln+524296,Wn=Ma+2*(yi+$a)>>3;yn=Wn+Pn>>1,Pn=(Ma=Ma+2*(Pn+ln)>>3)+yi>>1,G(_e[Qe+2*Tr-1],255&yn,yn>>16,wr,ar+(2*Tr-1)*be),G(_e[Qe+2*Tr-0],255&Pn,Pn>>16,wr,ar+(2*Tr-0)*be),Ke!=null&&(yn=Ma+$a>>1,Pn=Wn+ln>>1,G(Ke[qe+2*Tr-1],255&yn,yn>>16,Nr,Er+(2*Tr-1)*be),G(Ke[qe+2*Tr+0],255&Pn,Pn>>16,Nr,Er+(2*Tr+0)*be)),Pn=yi,$a=ln}1&Rr||(yn=3*Pn+$a+131074>>2,G(_e[Qe+Rr-1],255&yn,yn>>16,wr,ar+(Rr-1)*be),Ke!=null&&(yn=3*$a+Pn+131074>>2,G(Ke[qe+Rr-1],255&yn,yn>>16,Nr,Er+(Rr-1)*be)))}}function ot(){uc[qd]=Yd,uc[$h]=_f,uc[Vh]=bA,uc[mh]=wA,uc[ho]=Of,uc[wd]=jd,uc[pA]=Cd,uc[Sf]=_f,uc[zh]=wA,uc[_u]=Of,uc[Bf]=jd}function er(O){return O&-16384?0>O?0:255:O>>Np}function $t(O,G){return er((19077*O>>8)+(26149*G>>8)-14234)}function Sn(O,G,be){return er((19077*O>>8)-(6419*G>>8)-(13320*be>>8)+8708)}function Pt(O,G){return er((19077*O>>8)+(33050*G>>8)-17685)}function ir(O,G,be,_e,Qe){_e[Qe+0]=$t(O,be),_e[Qe+1]=Sn(O,G,be),_e[Qe+2]=Pt(O,G)}function xa(O,G,be,_e,Qe){_e[Qe+0]=Pt(O,G),_e[Qe+1]=Sn(O,G,be),_e[Qe+2]=$t(O,be)}function fn(O,G,be,_e,Qe){var Ke=Sn(O,G,be);G=Ke<<3&224|Pt(O,G)>>3,_e[Qe+0]=248&$t(O,be)|Ke>>5,_e[Qe+1]=G}function Mr(O,G,be,_e,Qe){var Ke=240&Pt(O,G)|15;_e[Qe+0]=240&$t(O,be)|Sn(O,G,be)>>4,_e[Qe+1]=Ke}function br(O,G,be,_e,Qe){_e[Qe+0]=255,ir(O,G,be,_e,Qe+1)}function Ri(O,G,be,_e,Qe){xa(O,G,be,_e,Qe),_e[Qe+3]=255}function ba(O,G,be,_e,Qe){ir(O,G,be,_e,Qe),_e[Qe+3]=255}function ia(O,G,be){_t[O]=function(_e,Qe,Ke,qe,Je,rt,pt,Ft,rr){for(var ft=Ft+(-2&rr)*be;Ft!=ft;)G(_e[Qe+0],Ke[qe+0],Je[rt+0],pt,Ft),G(_e[Qe+1],Ke[qe+0],Je[rt+0],pt,Ft+be),Qe+=2,++qe,++rt,Ft+=2*be;1&rr&&G(_e[Qe+0],Ke[qe+0],Je[rt+0],pt,Ft)}}function Na(O,G,be){return be==0?O==0?G==0?6:5:G==0?4:0:be}function Ya(O,G,be,_e,Qe){switch(O>>>30){case 3:vl(G,be,_e,Qe,0);break;case 2:Ro(G,be,_e,Qe);break;case 1:di(G,be,_e,Qe)}}function an(O,G){var be,_e,Qe=G.M,Ke=G.Nb,qe=O.oc,Je=O.pc+40,rt=O.oc,pt=O.pc+584,Ft=O.oc,rr=O.pc+600;for(be=0;16>be;++be)qe[Je+32*be-1]=129;for(be=0;8>be;++be)rt[pt+32*be-1]=129,Ft[rr+32*be-1]=129;for(0<Qe?qe[Je-1-32]=rt[pt-1-32]=Ft[rr-1-32]=129:(Y(qe,Je-32-1,127,21),Y(rt,pt-32-1,127,9),Y(Ft,rr-32-1,127,9)),_e=0;_e<O.za;++_e){var ft=G.ya[G.aa+_e];if(0<_e){for(be=-1;16>be;++be)z(qe,Je+32*be-4,qe,Je+32*be+12,4);for(be=-1;8>be;++be)z(rt,pt+32*be-4,rt,pt+32*be+4,4),z(Ft,rr+32*be-4,Ft,rr+32*be+4,4)}var Mt=O.Gd,Yt=O.Hd+_e,wr=ft.ad,ar=ft.Hc;if(0<Qe&&(z(qe,Je-32,Mt[Yt].y,0,16),z(rt,pt-32,Mt[Yt].f,0,8),z(Ft,rr-32,Mt[Yt].ea,0,8)),ft.Za){var Nr=qe,Er=Je-32+16;for(0<Qe&&(_e>=O.za-1?Y(Nr,Er,Mt[Yt].y[15],4):z(Nr,Er,Mt[Yt+1].y,0,4)),be=0;4>be;be++)Nr[Er+128+be]=Nr[Er+256+be]=Nr[Er+384+be]=Nr[Er+0+be];for(be=0;16>be;++be,ar<<=2)Nr=qe,Er=Je+Ff[be],Rl[ft.Ob[be]](Nr,Er),Ya(ar,wr,16*+be,Nr,Er)}else if(Nr=Na(_e,Qe,ft.Ob[0]),Gu[Nr](qe,Je),ar!=0)for(be=0;16>be;++be,ar<<=2)Ya(ar,wr,16*+be,qe,Je+Ff[be]);for(be=ft.Gc,Nr=Na(_e,Qe,ft.Dd),du[Nr](rt,pt),du[Nr](Ft,rr),ar=wr,Nr=rt,Er=pt,255&(ft=0|be)&&(170&ft?lc(ar,256,Nr,Er):Li(ar,256,Nr,Er)),ft=Ft,ar=rr,255&(be>>=8)&&(170&be?lc(wr,320,ft,ar):Li(wr,320,ft,ar)),Qe<O.Ub-1&&(z(Mt[Yt].y,0,qe,Je+480,16),z(Mt[Yt].f,0,rt,pt+224,8),z(Mt[Yt].ea,0,Ft,rr+224,8)),be=8*Ke*O.B,Mt=O.sa,Yt=O.ta+16*_e+16*Ke*O.R,wr=O.qa,ft=O.ra+8*_e+be,ar=O.Ha,Nr=O.Ia+8*_e+be,be=0;16>be;++be)z(Mt,Yt+be*O.R,qe,Je+32*be,16);for(be=0;8>be;++be)z(wr,ft+be*O.B,rt,pt+32*be,8),z(ar,Nr+be*O.B,Ft,rr+32*be,8)}}function Ea(O,G,be,_e,Qe,Ke,qe,Je,rt){var pt=[0],Ft=[0],rr=0,ft=rt!=null?rt.kd:0,Mt=rt??new Fr;if(O==null||12>be)return 7;Mt.data=O,Mt.w=G,Mt.ha=be,G=[G],be=[be],Mt.gb=[Mt.gb];e:{var Yt=G,wr=be,ar=Mt.gb;if(B(O!=null),B(wr!=null),B(ar!=null),ar[0]=0,12<=wr[0]&&!M(O,Yt[0],"RIFF")){if(M(O,Yt[0]+8,"WEBP")){ar=3;break e}var Nr=ca(O,Yt[0]+4);if(12>Nr||4294967286<Nr){ar=3;break e}if(ft&&Nr>wr[0]-8){ar=7;break e}ar[0]=Nr,Yt[0]+=12,wr[0]-=12}ar=0}if(ar!=0)return ar;for(Nr=0<Mt.gb[0],be=be[0];;){e:{var Er=O;wr=G,ar=be;var Rr=pt,Tr=Ft,ta=Yt=[0];if((yn=rr=[rr])[0]=0,8>ar[0])ar=7;else{if(!M(Er,wr[0],"VP8X")){if(ca(Er,wr[0]+4)!=10){ar=3;break e}if(18>ar[0]){ar=7;break e}var Pn=ca(Er,wr[0]+8),$a=1+Bn(Er,wr[0]+12);if(2147483648<=$a*(Er=1+Bn(Er,wr[0]+15))){ar=3;break e}ta!=null&&(ta[0]=Pn),Rr!=null&&(Rr[0]=$a),Tr!=null&&(Tr[0]=Er),wr[0]+=18,ar[0]-=18,yn[0]=1}ar=0}}if(rr=rr[0],Yt=Yt[0],ar!=0)return ar;if(wr=!!(2&Yt),!Nr&&rr)return 3;if(Ke!=null&&(Ke[0]=!!(16&Yt)),qe!=null&&(qe[0]=wr),Je!=null&&(Je[0]=0),qe=pt[0],Yt=Ft[0],rr&&wr&&rt==null){ar=0;break}if(4>be){ar=7;break}if(Nr&&rr||!Nr&&!rr&&!M(O,G[0],"ALPH")){be=[be],Mt.na=[Mt.na],Mt.P=[Mt.P],Mt.Sa=[Mt.Sa];e:{Pn=O,ar=G,Nr=be;var yn=Mt.gb;Rr=Mt.na,Tr=Mt.P,ta=Mt.Sa,$a=22,B(Pn!=null),B(Nr!=null),Er=ar[0];var yi=Nr[0];for(B(Rr!=null),B(ta!=null),Rr[0]=null,Tr[0]=null,ta[0]=0;;){if(ar[0]=Er,Nr[0]=yi,8>yi){ar=7;break e}var ln=ca(Pn,Er+4);if(4294967286<ln){ar=3;break e}var Ma=8+ln+1&-2;if($a+=Ma,0<yn&&$a>yn){ar=3;break e}if(!M(Pn,Er,"VP8 ")||!M(Pn,Er,"VP8L")){ar=0;break e}if(yi[0]<Ma){ar=7;break e}M(Pn,Er,"ALPH")||(Rr[0]=Pn,Tr[0]=Er+8,ta[0]=ln),Er+=Ma,yi-=Ma}}if(be=be[0],Mt.na=Mt.na[0],Mt.P=Mt.P[0],Mt.Sa=Mt.Sa[0],ar!=0)break}be=[be],Mt.Ja=[Mt.Ja],Mt.xa=[Mt.xa];e:if(yn=O,ar=G,Nr=be,Rr=Mt.gb[0],Tr=Mt.Ja,ta=Mt.xa,Pn=ar[0],Er=!M(yn,Pn,"VP8 "),$a=!M(yn,Pn,"VP8L"),B(yn!=null),B(Nr!=null),B(Tr!=null),B(ta!=null),8>Nr[0])ar=7;else{if(Er||$a){if(yn=ca(yn,Pn+4),12<=Rr&&yn>Rr-12){ar=3;break e}if(ft&&yn>Nr[0]-8){ar=7;break e}Tr[0]=yn,ar[0]+=8,Nr[0]-=8,ta[0]=$a}else ta[0]=5<=Nr[0]&&yn[Pn+0]==47&&!(yn[Pn+4]>>5),Tr[0]=Nr[0];ar=0}if(be=be[0],Mt.Ja=Mt.Ja[0],Mt.xa=Mt.xa[0],G=G[0],ar!=0)break;if(4294967286<Mt.Ja)return 3;if(Je==null||wr||(Je[0]=Mt.xa?2:1),qe=[qe],Yt=[Yt],Mt.xa){if(5>be){ar=7;break}Je=qe,ft=Yt,wr=Ke,O==null||5>be?O=0:5<=be&&O[G+0]==47&&!(O[G+4]>>5)?(Nr=[0],yn=[0],Rr=[0],gr(Tr=new xt,O,G,be),bo(Tr,Nr,yn,Rr)?(Je!=null&&(Je[0]=Nr[0]),ft!=null&&(ft[0]=yn[0]),wr!=null&&(wr[0]=Rr[0]),O=1):O=0):O=0}else{if(10>be){ar=7;break}Je=Yt,O==null||10>be||!fd(O,G+3,be-3)?O=0:(ft=O[G+0]|O[G+1]<<8|O[G+2]<<16,wr=16383&(O[G+7]<<8|O[G+6]),O=16383&(O[G+9]<<8|O[G+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=Mt.Ja||!wr||!O?O=0:(qe&&(qe[0]=wr),Je&&(Je[0]=O),O=1))}if(!O||(qe=qe[0],Yt=Yt[0],rr&&(pt[0]!=qe||Ft[0]!=Yt)))return 3;rt!=null&&(rt[0]=Mt,rt.offset=G-rt.w,B(4294967286>G-rt.w),B(rt.offset==rt.ha-be));break}return ar==0||ar==7&&rr&&rt==null?(Ke!=null&&(Ke[0]|=Mt.na!=null&&0<Mt.na.length),_e!=null&&(_e[0]=qe),Qe!=null&&(Qe[0]=Yt),0):ar}function ts(O,G,be){var _e=G.width,Qe=G.height,Ke=0,qe=0,Je=_e,rt=Qe;if(G.Da=O!=null&&0<O.Da,G.Da&&(Je=O.cd,rt=O.bd,Ke=O.v,qe=O.j,11>be||(Ke&=-2,qe&=-2),0>Ke||0>qe||0>=Je||0>=rt||Ke+Je>_e||qe+rt>Qe))return 0;if(G.v=Ke,G.j=qe,G.va=Ke+Je,G.o=qe+rt,G.U=Je,G.T=rt,G.da=O!=null&&0<O.da,G.da){if(!un(Je,rt,be=[O.ib],Ke=[O.hb]))return 0;G.ib=be[0],G.hb=Ke[0]}return G.ob=O!=null&&O.ob,G.Kb=O==null||!O.Sd,G.da&&(G.ob=G.ib<3*_e/4&&G.hb<3*Qe/4,G.Kb=0),1}function ea(O){if(O==null)return 2;if(11>O.S){var G=O.f.RGBA;G.fb+=(O.height-1)*G.A,G.A=-G.A}else G=O.f.kb,O=O.height,G.O+=(O-1)*G.fa,G.fa=-G.fa,G.N+=(O-1>>1)*G.Ab,G.Ab=-G.Ab,G.W+=(O-1>>1)*G.Db,G.Db=-G.Db,G.F!=null&&(G.J+=(O-1)*G.lb,G.lb=-G.lb);return 0}function oi(O,G,be,_e){if(_e==null||0>=O||0>=G)return 2;if(be!=null){if(be.Da){var Qe=be.cd,Ke=be.bd,qe=-2&be.v,Je=-2&be.j;if(0>qe||0>Je||0>=Qe||0>=Ke||qe+Qe>O||Je+Ke>G)return 2;O=Qe,G=Ke}if(be.da){if(!un(O,G,Qe=[be.ib],Ke=[be.hb]))return 2;O=Qe[0],G=Ke[0]}}_e.width=O,_e.height=G;e:{var rt=_e.width,pt=_e.height;if(O=_e.S,0>=rt||0>=pt||!(O>=qd&&13>O))O=2;else{if(0>=_e.Rd&&_e.sd==null){qe=Ke=Qe=G=0;var Ft=(Je=rt*Df[O])*pt;if(11>O||(Ke=(pt+1)/2*(G=(rt+1)/2),O==12&&(qe=(Qe=rt)*pt)),(pt=re(Ft+2*Ke+qe))==null){O=1;break e}_e.sd=pt,11>O?((rt=_e.f.RGBA).eb=pt,rt.fb=0,rt.A=Je,rt.size=Ft):((rt=_e.f.kb).y=pt,rt.O=0,rt.fa=Je,rt.Fd=Ft,rt.f=pt,rt.N=0+Ft,rt.Ab=G,rt.Cd=Ke,rt.ea=pt,rt.W=0+Ft+Ke,rt.Db=G,rt.Ed=Ke,O==12&&(rt.F=pt,rt.J=0+Ft+2*Ke),rt.Tc=qe,rt.lb=Qe)}if(G=1,Qe=_e.S,Ke=_e.width,qe=_e.height,Qe>=qd&&13>Qe)if(11>Qe)O=_e.f.RGBA,G&=(Je=Math.abs(O.A))*(qe-1)+Ke<=O.size,G&=Je>=Ke*Df[Qe],G&=O.eb!=null;else{O=_e.f.kb,Je=(Ke+1)/2,Ft=(qe+1)/2,rt=Math.abs(O.fa),pt=Math.abs(O.Ab);var rr=Math.abs(O.Db),ft=Math.abs(O.lb),Mt=ft*(qe-1)+Ke;G&=rt*(qe-1)+Ke<=O.Fd,G&=pt*(Ft-1)+Je<=O.Cd,G=(G&=rr*(Ft-1)+Je<=O.Ed)&rt>=Ke&pt>=Je&rr>=Je,G&=O.y!=null,G&=O.f!=null,G&=O.ea!=null,Qe==12&&(G&=ft>=Ke,G&=Mt<=O.Tc,G&=O.F!=null)}else G=0;O=G?0:2}}return O!=0||be!=null&&be.fd&&(O=ea(_e)),O}var ka=64,Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,jo=32,sc=8,Mo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mn("Predictor0","PredictorAdd0"),_t.Predictor0=function(){return 4278190080},_t.Predictor1=function(O){return O},_t.Predictor2=function(O,G,be){return G[be+0]},_t.Predictor3=function(O,G,be){return G[be+1]},_t.Predictor4=function(O,G,be){return G[be-1]},_t.Predictor5=function(O,G,be){return Rn(Rn(O,G[be+1]),G[be+0])},_t.Predictor6=function(O,G,be){return Rn(O,G[be-1])},_t.Predictor7=function(O,G,be){return Rn(O,G[be+0])},_t.Predictor8=function(O,G,be){return Rn(G[be-1],G[be+0])},_t.Predictor9=function(O,G,be){return Rn(G[be+0],G[be+1])},_t.Predictor10=function(O,G,be){return Rn(Rn(O,G[be-1]),Rn(G[be+0],G[be+1]))},_t.Predictor11=function(O,G,be){var _e=G[be+0];return 0>=Fn(_e>>24&255,O>>24&255,(G=G[be-1])>>24&255)+Fn(_e>>16&255,O>>16&255,G>>16&255)+Fn(_e>>8&255,O>>8&255,G>>8&255)+Fn(255&_e,255&O,255&G)?_e:O},_t.Predictor12=function(O,G,be){var _e=G[be+0];return(Ai((O>>24&255)+(_e>>24&255)-((G=G[be-1])>>24&255))<<24|Ai((O>>16&255)+(_e>>16&255)-(G>>16&255))<<16|Ai((O>>8&255)+(_e>>8&255)-(G>>8&255))<<8|Ai((255&O)+(255&_e)-(255&G)))>>>0},_t.Predictor13=function(O,G,be){var _e=G[be-1];return(La((O=Rn(O,G[be+0]))>>24&255,_e>>24&255)<<24|La(O>>16&255,_e>>16&255)<<16|La(O>>8&255,_e>>8&255)<<8|La(255&O,255&_e))>>>0};var co=_t.PredictorAdd0;_t.PredictorAdd1=si,Mn("Predictor2","PredictorAdd2"),Mn("Predictor3","PredictorAdd3"),Mn("Predictor4","PredictorAdd4"),Mn("Predictor5","PredictorAdd5"),Mn("Predictor6","PredictorAdd6"),Mn("Predictor7","PredictorAdd7"),Mn("Predictor8","PredictorAdd8"),Mn("Predictor9","PredictorAdd9"),Mn("Predictor10","PredictorAdd10"),Mn("Predictor11","PredictorAdd11"),Mn("Predictor12","PredictorAdd12"),Mn("Predictor13","PredictorAdd13");var oc=_t.PredictorAdd2;kn("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),kn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var $s,Uh=_t.ColorIndexInverseTransform,qo=_t.MapARGB,al=_t.VP8LColorIndexInverseTransformAlpha,Gd=_t.MapAlpha,Ah=_t.VP8LPredictorsAdd=[];Ah.length=16,(_t.VP8LPredictors=[]).length=16,(_t.VP8LPredictorsAdd_C=[]).length=16,(_t.VP8LPredictors_C=[]).length=16;var Oc,Vc,zc,zu,lu,xd,kc,vl,Ro,lc,di,Li,ds,uo,cu,rs,uu,yd,Hh,ph,Qh,Ku,js,Co,Js,Wh,il,bd,yp=re(511),sl=re(2041),jf=re(225),Cf=re(767),Nf=0,Kc=sl,Ml=jf,ol=Cf,cc=yp,qd=0,$h=1,Vh=2,mh=3,ho=4,wd=5,pA=6,Sf=7,zh=8,_u=9,Bf=10,Ef=[2,3,7],If=[3,3,11],mA=[280,256,256,256,40],gA=[0,1,1,1,0],bp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vA=8,gh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xd=null,Tf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Um=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gu=[],Rl=[],du=[],Cp=1,yA=2,Lo=[],uc=[];ht("UpsampleRgbLinePair",ir,3),ht("UpsampleBgrLinePair",xa,3),ht("UpsampleRgbaLinePair",ba,4),ht("UpsampleBgraLinePair",Ri,4),ht("UpsampleArgbLinePair",br,4),ht("UpsampleRgba4444LinePair",Mr,2),ht("UpsampleRgb565LinePair",fn,2);var Yd=_t.UpsampleRgbLinePair,bA=_t.UpsampleBgrLinePair,_f=_t.UpsampleRgbaLinePair,wA=_t.UpsampleBgraLinePair,Of=_t.UpsampleArgbLinePair,jd=_t.UpsampleRgba4444LinePair,Cd=_t.UpsampleRgb565LinePair,Nd=16,Zd=1<<Nd-1,vh=-227,kf=482,Np=6,jA=0,CA=re(256),NA=re(256),Ll=re(256),xl=re(256),Pf=re(kf-vh),SA=re(kf-vh);ia("YuvToRgbRow",ir,3),ia("YuvToBgrRow",xa,3),ia("YuvToRgbaRow",ba,4),ia("YuvToBgraRow",Ri,4),ia("YuvToArgbRow",br,4),ia("YuvToRgba4444Row",Mr,2),ia("YuvToRgb565Row",fn,2);var Ff=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xh=[0,2,8],Yh=[8,7,6,4,4,2,2,2,1,1,1,1],xh=1;this.WebPDecodeRGBA=function(O,G,be,_e,Qe){var Ke=$h,qe=new yr,Je=new ja;qe.ba=Je,Je.S=Ke,Je.width=[Je.width],Je.height=[Je.height];var rt=Je.width,pt=Je.height,Ft=new En;if(Ft==null||O==null)var rr=2;else B(Ft!=null),rr=Ea(O,G,be,Ft.width,Ft.height,Ft.Pd,Ft.Qd,Ft.format,null);if(rr!=0?rt=0:(rt!=null&&(rt[0]=Ft.width[0]),pt!=null&&(pt[0]=Ft.height[0]),rt=1),rt){Je.width=Je.width[0],Je.height=Je.height[0],_e!=null&&(_e[0]=Je.width),Qe!=null&&(Qe[0]=Je.height);e:{if(_e=new Wu,(Qe=new Fr).data=O,Qe.w=G,Qe.ha=be,Qe.kd=1,G=[0],B(Qe!=null),((O=Ea(Qe.data,Qe.w,Qe.ha,null,null,null,G,null,Qe))==0||O==7)&&G[0]&&(O=4),(G=O)==0){if(B(qe!=null),_e.data=Qe.data,_e.w=Qe.w+Qe.offset,_e.ha=Qe.ha-Qe.offset,_e.put=fa,_e.ac=Nc,_e.bc=bs,_e.ma=qe,Qe.xa){if((O=Il())==null){qe=1;break e}if((function(ft,Mt){var Yt=[0],wr=[0],ar=[0];t:for(;;){if(ft==null)return 0;if(Mt==null)return ft.a=2,0;if(ft.l=Mt,ft.a=0,gr(ft.m,Mt.data,Mt.w,Mt.ha),!bo(ft.m,Yt,wr,ar)){ft.a=3;break t}if(ft.xb=yA,Mt.width=Yt[0],Mt.height=wr[0],!Vo(Yt[0],wr[0],1,ft,null))break t;return 1}return B(ft.a!=0),0})(O,_e)){if(_e=(G=oi(_e.width,_e.height,qe.Oa,qe.ba))==0){t:{_e=O;r:for(;;){if(_e==null){_e=0;break t}if(B(_e.s.yc!=null),B(_e.s.Ya!=null),B(0<_e.s.Wb),B((be=_e.l)!=null),B((Qe=be.ma)!=null),_e.xb!=0){if(_e.ca=Qe.ba,_e.tb=Qe.tb,B(_e.ca!=null),!ts(Qe.Oa,be,mh)){_e.a=2;break r}if(!Fo(_e,be.width)||be.da)break r;if((be.da||va(_e.ca.S))&&Xe(),11>_e.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_e.ca.f.kb.F!=null&&Xe()),_e.Pb&&0<_e.s.ua&&_e.s.vb.X==null&&!ut(_e.s.vb,_e.s.Wa.Xa)){_e.a=1;break r}_e.xb=0}if(!Zs(_e,_e.V,_e.Ba,_e.c,_e.i,be.o,Ys))break r;Qe.Dc=_e.Ma,_e=1;break t}B(_e.a!=0),_e=0}_e=!_e}_e&&(G=O.a)}else G=O.a}else{if((O=new ju)==null){qe=1;break e}if(O.Fa=Qe.na,O.P=Qe.P,O.qc=Qe.Sa,rc(O,_e)){if((G=oi(_e.width,_e.height,qe.Oa,qe.ba))==0){if(O.Aa=0,be=qe.Oa,B((Qe=O)!=null),be!=null){if(0<(rt=0>(rt=be.Md)?0:100<rt?255:255*rt/100)){for(pt=Ft=0;4>pt;++pt)12>(rr=Qe.pb[pt]).lc&&(rr.ia=rt*Yh[0>rr.lc?0:rr.lc]>>3),Ft|=rr.ia;Ft&&(alert("todo:VP8InitRandom"),Qe.ia=1)}Qe.Ga=be.Id,100<Qe.Ga?Qe.Ga=100:0>Qe.Ga&&(Qe.Ga=0)}(function(ft,Mt){if(ft==null)return 0;if(Mt==null)return ya(ft,2,"NULL VP8Io parameter in VP8Decode().");if(!ft.cb&&!rc(ft,Mt))return 0;if(B(ft.cb),Mt.ac==null||Mt.ac(Mt)){Mt.ob&&(ft.L=0);var Yt=Xh[ft.L];if(ft.L==2?(ft.yb=0,ft.zb=0):(ft.yb=Mt.v-Yt>>4,ft.zb=Mt.j-Yt>>4,0>ft.yb&&(ft.yb=0),0>ft.zb&&(ft.zb=0)),ft.Va=Mt.o+15+Yt>>4,ft.Hb=Mt.va+15+Yt>>4,ft.Hb>ft.za&&(ft.Hb=ft.za),ft.Va>ft.Ub&&(ft.Va=ft.Ub),0<ft.L){var wr=ft.ed;for(Yt=0;4>Yt;++Yt){var ar;if(ft.Qa.Cb){var Nr=ft.Qa.Lb[Yt];ft.Qa.Fb||(Nr+=wr.Tb)}else Nr=wr.Tb;for(ar=0;1>=ar;++ar){var Er=ft.gd[Yt][ar],Rr=Nr;if(wr.Pc&&(Rr+=wr.vd[0],ar&&(Rr+=wr.od[0])),0<(Rr=0>Rr?0:63<Rr?63:Rr)){var Tr=Rr;0<wr.wb&&(Tr=4<wr.wb?Tr>>2:Tr>>1)>9-wr.wb&&(Tr=9-wr.wb),1>Tr&&(Tr=1),Er.dd=Tr,Er.tc=2*Rr+Tr,Er.ld=40<=Rr?2:15<=Rr?1:0}else Er.tc=0;Er.La=ar}}}Yt=0}else ya(ft,6,"Frame setup failed"),Yt=ft.a;if(Yt=Yt==0){if(Yt){ft.$c=0,0<ft.Aa||(ft.Ic=xh);t:{Yt=ft.Ic,wr=4*(Tr=ft.za);var ta=32*Tr,Pn=Tr+1,$a=0<ft.L?Tr*(0<ft.Aa?2:1):0,yn=(ft.Aa==2?2:1)*Tr;if((Er=wr+832+(ar=3*(16*Yt+Xh[ft.L])/2*ta)+(Nr=ft.Fa!=null&&0<ft.Fa.length?ft.Kc.c*ft.Kc.i:0))!=Er)Yt=0;else{if(Er>ft.Vb){if(ft.Vb=0,ft.Ec=re(Er),ft.Fc=0,ft.Ec==null){Yt=ya(ft,1,"no memory during frame initialization.");break t}ft.Vb=Er}Er=ft.Ec,Rr=ft.Fc,ft.Ac=Er,ft.Bc=Rr,Rr+=wr,ft.Gd=Ne(ta,Hu),ft.Hd=0,ft.rb=Ne(Pn+1,au),ft.sb=1,ft.wa=$a?Ne($a,zo):null,ft.Y=0,ft.D.Nb=0,ft.D.wa=ft.wa,ft.D.Y=ft.Y,0<ft.Aa&&(ft.D.Y+=Tr),B(!0),ft.oc=Er,ft.pc=Rr,Rr+=832,ft.ya=Ne(yn,Uu),ft.aa=0,ft.D.ya=ft.ya,ft.D.aa=ft.aa,ft.Aa==2&&(ft.D.aa+=Tr),ft.R=16*Tr,ft.B=8*Tr,Tr=(ta=Xh[ft.L])*ft.R,ta=ta/2*ft.B,ft.sa=Er,ft.ta=Rr+Tr,ft.qa=ft.sa,ft.ra=ft.ta+16*Yt*ft.R+ta,ft.Ha=ft.qa,ft.Ia=ft.ra+8*Yt*ft.B+ta,ft.$c=0,Rr+=ar,ft.mb=Nr?Er:null,ft.nb=Nr?Rr:null,B(Rr+Nr<=ft.Fc+ft.Vb),Ad(ft),Y(ft.Ac,ft.Bc,0,wr),Yt=1}}if(Yt){if(Mt.ka=0,Mt.y=ft.sa,Mt.O=ft.ta,Mt.f=ft.qa,Mt.N=ft.ra,Mt.ea=ft.Ha,Mt.Vd=ft.Ia,Mt.fa=ft.R,Mt.Rc=ft.B,Mt.F=null,Mt.J=0,!Nf){for(Yt=-255;255>=Yt;++Yt)yp[255+Yt]=0>Yt?-Yt:Yt;for(Yt=-1020;1020>=Yt;++Yt)sl[1020+Yt]=-128>Yt?-128:127<Yt?127:Yt;for(Yt=-112;112>=Yt;++Yt)jf[112+Yt]=-16>Yt?-16:15<Yt?15:Yt;for(Yt=-255;510>=Yt;++Yt)Cf[255+Yt]=0>Yt?0:255<Yt?255:Yt;Nf=1}kc=md,vl=$u,lc=Ko,di=pd,Li=Cu,Ro=Ol,ds=zd,uo=$c,cu=Ue,rs=gt,uu=Kd,yd=fe,Hh=Ot,ph=Gt,Qh=Ds,Ku=_c,js=ou,Co=Do,Rl[0]=Ic,Rl[1]=Nu,Rl[2]=Qc,Rl[3]=fh,Rl[4]=wo,Rl[5]=nc,Rl[6]=Pl,Rl[7]=Vd,Rl[8]=Vu,Rl[9]=ml,Gu[0]=Rh,Gu[1]=Bu,Gu[2]=Eu,Gu[3]=gd,Gu[4]=Iu,Gu[5]=$d,Gu[6]=Lh,du[0]=vd,du[1]=Su,du[2]=Go,du[3]=Tu,du[4]=ac,du[5]=Tc,du[6]=Fl,Yt=1}else Yt=0}Yt&&(Yt=(function(yi,ln){for(yi.M=0;yi.M<yi.Va;++yi.M){var Ma,Wn=yi.Jc[yi.M&yi.Xb],An=yi.m,fo=yi;for(Ma=0;Ma<fo.za;++Ma){var Pa=An,fi=fo,hs=fi.Ac,No=fi.Bc+4*Ma,Xo=fi.zc,Ms=fi.ya[fi.aa+Ma];if(fi.Qa.Bb?Ms.$b=Pr(Pa,fi.Pa.jb[0])?2+Pr(Pa,fi.Pa.jb[2]):Pr(Pa,fi.Pa.jb[1]):Ms.$b=0,fi.kc&&(Ms.Ad=Pr(Pa,fi.Bd)),Ms.Za=!Pr(Pa,145)+0,Ms.Za){var Yo=Ms.Ob,ll=0;for(fi=0;4>fi;++fi){var pi,Ka=Xo[0+fi];for(pi=0;4>pi;++pi){Ka=Qm[hs[No+pi]][Ka];for(var mi=xA[Pr(Pa,Ka[0])];0<mi;)mi=xA[2*mi+Pr(Pa,Ka[mi])];Ka=-mi,hs[No+pi]=Ka}z(Yo,ll,hs,No,4),ll+=4,Xo[0+fi]=Ka}}else Ka=Pr(Pa,156)?Pr(Pa,128)?1:3:Pr(Pa,163)?2:0,Ms.Ob[0]=Ka,Y(hs,No,Ka,4),Y(Xo,0,Ka,4);Ms.Dd=Pr(Pa,142)?Pr(Pa,114)?Pr(Pa,183)?1:3:2:0}if(fo.m.Ka)return ya(yi,7,"Premature end-of-partition0 encountered.");for(;yi.ja<yi.za;++yi.ja){if(fo=Wn,Pa=(An=yi).rb[An.sb-1],hs=An.rb[An.sb+An.ja],Ma=An.ya[An.aa+An.ja],No=An.kc?Ma.Ad:0)Pa.la=hs.la=0,Ma.Za||(Pa.Na=hs.Na=0),Ma.Hc=0,Ma.Gc=0,Ma.ia=0;else{var Vs,$i;if(Pa=hs,hs=fo,No=An.Pa.Xc,Xo=An.ya[An.aa+An.ja],Ms=An.pb[Xo.$b],fi=Xo.ad,Yo=0,ll=An.rb[An.sb-1],Ka=pi=0,Y(fi,Yo,0,384),Xo.Za)var fs=0,dc=No[3];else{mi=re(16);var Vi=Pa.Na+ll.Na;if(Vi=Xd(hs,No[1],Vi,Ms.Eb,0,mi,0),Pa.Na=ll.Na=(0<Vi)+0,1<Vi)kc(mi,0,fi,Yo);else{var yl=mi[0]+3>>3;for(mi=0;256>mi;mi+=16)fi[Yo+mi]=yl}fs=1,dc=No[0]}var ns=15&Pa.la,rn=15&ll.la;for(mi=0;4>mi;++mi){var Uo=1&rn;for(yl=$i=0;4>yl;++yl)ns=ns>>1|(Uo=(Vi=Xd(hs,dc,Vi=Uo+(1&ns),Ms.Sc,fs,fi,Yo))>fs)<<7,$i=$i<<2|(3<Vi?3:1<Vi?2:fi[Yo+0]!=0),Yo+=16;ns>>=4,rn=rn>>1|Uo<<7,pi=(pi<<8|$i)>>>0}for(dc=ns,fs=rn>>4,Vs=0;4>Vs;Vs+=2){for($i=0,ns=Pa.la>>4+Vs,rn=ll.la>>4+Vs,mi=0;2>mi;++mi){for(Uo=1&rn,yl=0;2>yl;++yl)Vi=Uo+(1&ns),ns=ns>>1|(Uo=0<(Vi=Xd(hs,No[2],Vi,Ms.Qc,0,fi,Yo)))<<3,$i=$i<<2|(3<Vi?3:1<Vi?2:fi[Yo+0]!=0),Yo+=16;ns>>=2,rn=rn>>1|Uo<<5}Ka|=$i<<4*Vs,dc|=ns<<4<<Vs,fs|=(240&rn)<<Vs}Pa.la=dc,ll.la=fs,Xo.Hc=pi,Xo.Gc=Ka,Xo.ia=43690&Ka?0:Ms.ia,No=!(pi|Ka)}if(0<An.L&&(An.wa[An.Y+An.ja]=An.gd[Ma.$b][Ma.Za],An.wa[An.Y+An.ja].La|=!No),fo.Ka)return ya(yi,7,"Premature end-of-file encountered.")}if(Ad(yi),An=ln,fo=1,Ma=(Wn=yi).D,Pa=0<Wn.L&&Wn.M>=Wn.zb&&Wn.M<=Wn.Va,Wn.Aa==0)t:{if(Ma.M=Wn.M,Ma.uc=Pa,an(Wn,Ma),fo=1,Ma=($i=Wn.D).Nb,Pa=(Ka=Xh[Wn.L])*Wn.R,hs=Ka/2*Wn.B,mi=16*Ma*Wn.R,yl=8*Ma*Wn.B,No=Wn.sa,Xo=Wn.ta-Pa+mi,Ms=Wn.qa,fi=Wn.ra-hs+yl,Yo=Wn.Ha,ll=Wn.Ia-hs+yl,rn=(ns=$i.M)==0,pi=ns>=Wn.Va-1,Wn.Aa==2&&an(Wn,$i),$i.uc)for(Uo=(Vi=Wn).D.M,B(Vi.D.uc),$i=Vi.yb;$i<Vi.Hb;++$i){fs=$i,dc=Uo;var Ho=(Rs=(eo=Vi).D).Nb;Vs=eo.R;var Rs=Rs.wa[Rs.Y+fs],bl=eo.sa,Ua=eo.ta+16*Ho*Vs+16*fs,Fa=Rs.dd,Xn=Rs.tc;if(Xn!=0)if(B(3<=Xn),eo.L==1)0<fs&&Ku(bl,Ua,Vs,Xn+4),Rs.La&&Co(bl,Ua,Vs,Xn),0<dc&&Qh(bl,Ua,Vs,Xn+4),Rs.La&&js(bl,Ua,Vs,Xn);else{var zi=eo.B,_i=eo.qa,zs=eo.ra+8*Ho*zi+8*fs,Ls=eo.Ha,eo=eo.Ia+8*Ho*zi+8*fs;Ho=Rs.ld,0<fs&&(uo(bl,Ua,Vs,Xn+4,Fa,Ho),rs(_i,zs,Ls,eo,zi,Xn+4,Fa,Ho)),Rs.La&&(yd(bl,Ua,Vs,Xn,Fa,Ho),ph(_i,zs,Ls,eo,zi,Xn,Fa,Ho)),0<dc&&(ds(bl,Ua,Vs,Xn+4,Fa,Ho),cu(_i,zs,Ls,eo,zi,Xn+4,Fa,Ho)),Rs.La&&(uu(bl,Ua,Vs,Xn,Fa,Ho),Hh(_i,zs,Ls,eo,zi,Xn,Fa,Ho))}}if(Wn.ia&&alert("todo:DitherRow"),An.put!=null){if($i=16*ns,ns=16*(ns+1),rn?(An.y=Wn.sa,An.O=Wn.ta+mi,An.f=Wn.qa,An.N=Wn.ra+yl,An.ea=Wn.Ha,An.W=Wn.Ia+yl):($i-=Ka,An.y=No,An.O=Xo,An.f=Ms,An.N=fi,An.ea=Yo,An.W=ll),pi||(ns-=Ka),ns>An.o&&(ns=An.o),An.F=null,An.J=null,Wn.Fa!=null&&0<Wn.Fa.length&&$i<ns&&(An.J=hi(Wn,An,$i,ns-$i),An.F=Wn.mb,An.F==null&&An.F.length==0)){fo=ya(Wn,3,"Could not decode alpha data.");break t}$i<An.j&&(Ka=An.j-$i,$i=An.j,B(!(1&Ka)),An.O+=Wn.R*Ka,An.N+=Wn.B*(Ka>>1),An.W+=Wn.B*(Ka>>1),An.F!=null&&(An.J+=An.width*Ka)),$i<ns&&(An.O+=An.v,An.N+=An.v>>1,An.W+=An.v>>1,An.F!=null&&(An.J+=An.v),An.ka=$i-An.j,An.U=An.va-An.v,An.T=ns-$i,fo=An.put(An))}Ma+1!=Wn.Ic||pi||(z(Wn.sa,Wn.ta-Pa,No,Xo+16*Wn.R,Pa),z(Wn.qa,Wn.ra-hs,Ms,fi+8*Wn.B,hs),z(Wn.Ha,Wn.Ia-hs,Yo,ll+8*Wn.B,hs))}if(!fo)return ya(yi,6,"Output aborted.")}return 1})(ft,Mt)),Mt.bc!=null&&Mt.bc(Mt),Yt&=1}return Yt?(ft.cb=0,Yt):0})(O,_e)||(G=O.a)}}else G=O.a}G==0&&qe.Oa!=null&&qe.Oa.fd&&(G=ea(qe.ba))}qe=G}Ke=qe!=0?null:11>Ke?Je.f.RGBA.eb:Je.f.kb.y}else Ke=null;return Ke};var Df=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function De(_t,or){for(var at="",dt=0;dt<4;dt++)at+=String.fromCharCode(_t[or++]);return at}function Ve(_t,or){return _t[or+0]|_t[or+1]<<8}function et(_t,or){return(_t[or+0]|_t[or+1]<<8|_t[or+2]<<16)>>>0}function st(_t,or){return(_t[or+0]|_t[or+1]<<8|_t[or+2]<<16|_t[or+3]<<24)>>>0}new xe;var Oe=[0],vt=[0],mt=[],yt=new xe,nt=I,kt=(function(_t,or){var at={},dt=0,It=!1,Tt=0,cr=0;if(at.frames=[],!(function(Ye,xt){for(var Nt=0;Nt<4;Nt++)if(Ye[xt+Nt]!="RIFF".charCodeAt(Nt))return!0;return!1})(_t,or)){for(st(_t,or+=4),or+=8;or<_t.length;){var Ar=De(_t,or),xr=st(_t,or+=4);or+=4;var Jt=xr+(1&xr);switch(Ar){case"VP8 ":case"VP8L":at.frames[dt]===void 0&&(at.frames[dt]={}),(Hr=at.frames[dt]).src_off=It?cr:or-8,Hr.src_size=Tt+xr+8,dt++,It&&(It=!1,Tt=0,cr=0);break;case"VP8X":(Hr=at.header={}).feature_flags=_t[or];var gr=or+4;Hr.canvas_width=1+et(_t,gr),gr+=3,Hr.canvas_height=1+et(_t,gr),gr+=3;break;case"ALPH":It=!0,Tt=Jt+8,cr=or-8;break;case"ANIM":(Hr=at.header).bgcolor=st(_t,or),gr=or+4,Hr.loop_count=Ve(_t,gr),gr+=2;break;case"ANMF":var Zr,Hr;(Hr=at.frames[dt]={}).offset_x=2*et(_t,or),or+=3,Hr.offset_y=2*et(_t,or),or+=3,Hr.width=1+et(_t,or),or+=3,Hr.height=1+et(_t,or),or+=3,Hr.duration=et(_t,or),or+=3,Zr=_t[or++],Hr.dispose=1&Zr,Hr.blend=Zr>>1&1}Ar!="ANMF"&&(or+=Jt)}return at}})(nt,0);kt.response=nt,kt.rgbaoutput=!0,kt.dataurl=!1;var Kt=kt.header?kt.header:null,Et=kt.frames?kt.frames:null;if(Kt){Kt.loop_counter=Kt.loop_count,Oe=[Kt.canvas_height],vt=[Kt.canvas_width];for(var tt=0;tt<Et.length&&Et[tt].blend!=0;tt++);}var Qt=Et[0],lr=yt.WebPDecodeRGBA(nt,Qt.src_off,Qt.src_size,vt,Oe);Qt.rgba=lr,Qt.imgwidth=vt[0],Qt.imgheight=Oe[0];for(var qt=0;qt<vt[0]*Oe[0]*4;qt++)mt[qt]=lr[qt];return this.width=vt,this.height=Oe,this.data=mt,this}(function(I){var B,M,z,Y,re,Ne,ge,xe,De,Ve=function(Ye){return Ye=Ye||{},this.isStrokeTransparent=Ye.isStrokeTransparent||!1,this.strokeOpacity=Ye.strokeOpacity||1,this.strokeStyle=Ye.strokeStyle||"#000000",this.fillStyle=Ye.fillStyle||"#000000",this.isFillTransparent=Ye.isFillTransparent||!1,this.fillOpacity=Ye.fillOpacity||1,this.font=Ye.font||"10px sans-serif",this.textBaseline=Ye.textBaseline||"alphabetic",this.textAlign=Ye.textAlign||"left",this.lineWidth=Ye.lineWidth||1,this.lineJoin=Ye.lineJoin||"miter",this.lineCap=Ye.lineCap||"butt",this.path=Ye.path||[],this.transform=Ye.transform!==void 0?Ye.transform.clone():new xe,this.globalCompositeOperation=Ye.globalCompositeOperation||"normal",this.globalAlpha=Ye.globalAlpha||1,this.clip_path=Ye.clip_path||[],this.currentPoint=Ye.currentPoint||new Ne,this.miterLimit=Ye.miterLimit||10,this.lastPoint=Ye.lastPoint||new Ne,this.lineDashOffset=Ye.lineDashOffset||0,this.lineDash=Ye.lineDash||[],this.margin=Ye.margin||[0,0,0,0],this.prevPageLastElemOffset=Ye.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ye.ignoreClearRect!="boolean"||Ye.ignoreClearRect,this};I.events.push(["initialized",function(){this.context2d=new et(this),B=this.internal.f2,M=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Y=this.internal.getHorizontalCoordinate,re=this.internal.getVerticalCoordinate,Ne=this.internal.Point,ge=this.internal.Rectangle,xe=this.internal.Matrix,De=new Ve}]);var et=function(Ye){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var xt=Ye;Object.defineProperty(this,"pdf",{get:function(){return xt}});var Nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Nt},set:function(ut){Nt=!!ut}});var Wt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Wt},set:function(ut){Wt=!!ut}});var zt=0;Object.defineProperty(this,"posX",{get:function(){return zt},set:function(ut){isNaN(ut)||(zt=ut)}});var nr=0;Object.defineProperty(this,"posY",{get:function(){return nr},set:function(ut){isNaN(ut)||(nr=ut)}}),Object.defineProperty(this,"margin",{get:function(){return De.margin},set:function(ut){var hn;typeof ut=="number"?hn=[ut,ut,ut,ut]:((hn=new Array(4))[0]=ut[0],hn[1]=ut.length>=2?ut[1]:hn[0],hn[2]=ut.length>=3?ut[2]:hn[0],hn[3]=ut.length>=4?ut[3]:hn[1]),De.margin=hn}});var mr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mr},set:function(ut){mr=ut}});var vr=0;Object.defineProperty(this,"lastBreak",{get:function(){return vr},set:function(ut){vr=ut}});var Pr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pr},set:function(ut){Pr=ut}}),Object.defineProperty(this,"ctx",{get:function(){return De},set:function(ut){ut instanceof Ve&&(De=ut)}}),Object.defineProperty(this,"path",{get:function(){return De.path},set:function(ut){De.path=ut}});var Jr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Jr},set:function(ut){Jr=ut}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ut){var hn;hn=st(ut),this.ctx.fillStyle=hn.style,this.ctx.isFillTransparent=hn.a===0,this.ctx.fillOpacity=hn.a,this.pdf.setFillColor(hn.r,hn.g,hn.b,{a:hn.a}),this.pdf.setTextColor(hn.r,hn.g,hn.b,{a:hn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ut){var hn=st(ut);this.ctx.strokeStyle=hn.style,this.ctx.isStrokeTransparent=hn.a===0,this.ctx.strokeOpacity=hn.a,hn.a===0?this.pdf.setDrawColor(255,255,255):(hn.a,this.pdf.setDrawColor(hn.r,hn.g,hn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ut){["butt","round","square"].indexOf(ut)!==-1&&(this.ctx.lineCap=ut,this.pdf.setLineCap(ut))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ut){isNaN(ut)||(this.ctx.lineWidth=ut,this.pdf.setLineWidth(ut))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ut){["bevel","round","miter"].indexOf(ut)!==-1&&(this.ctx.lineJoin=ut,this.pdf.setLineJoin(ut))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ut){isNaN(ut)||(this.ctx.miterLimit=ut,this.pdf.setMiterLimit(ut))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ut){this.ctx.textBaseline=ut}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ut){["right","end","center","left","start"].indexOf(ut)!==-1&&(this.ctx.textAlign=ut)}});var Nn=null,Bn=null,ca=null;Object.defineProperty(this,"fontFaces",{get:function(){return ca},set:function(ut){Nn=null,Bn=null,ca=ut}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ut){var hn;if(this.ctx.font=ut,(hn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ut))!==null){var ga=hn[1];hn[2];var un=hn[3],Qr=hn[4];hn[5];var oa=hn[6],Mn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qr)[2];Qr=Math.floor(Mn==="px"?parseFloat(Qr)*this.pdf.internal.scaleFactor:Mn==="em"?parseFloat(Qr)*this.pdf.getFontSize():parseFloat(Qr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qr);var Jn=(function(kn){var wa,ci,Va=[],za=kn.trim();if(za==="")return Io;if(za in Wa)return[Wa[za]];for(;za!=="";){switch(ci=null,wa=(za=gs(za)).charAt(0)){case'"':case"'":ci=Sl(za.substring(1),wa);break;default:ci=Cc(za)}if(ci===null||(Va.push(ci[0]),(za=gs(ci[1]))!==""&&za.charAt(0)!==","))return Io;za=za.replace(/^,/,"")}return Va})(oa);if(this.fontFaces){var Rn=(function(kn,wa){var ci=kn.getFontList(),Va=JSON.stringify(ci);if(Nn===null||Bn!==Va){var za=(function(es){var Kn=[];return Object.keys(es).forEach(function(Ei){es[Ei].forEach(function(va){var zn=null;switch(va){case"bold":zn={family:Ei,weight:"bold"};break;case"italic":zn={family:Ei,style:"italic"};break;case"bolditalic":zn={family:Ei,weight:"bold",style:"italic"};break;case"":case"normal":zn={family:Ei}}zn!==null&&(zn.ref={name:Ei,style:va},Kn.push(zn))})}),Kn})(ci);Nn=(function(es){for(var Kn={},Ei=0;Ei<es.length;++Ei){var va=Es(es[Ei]),zn=va.family,Ii=va.stretch,ja=va.style,En=va.weight;Kn[zn]=Kn[zn]||{},Kn[zn][Ii]=Kn[zn][Ii]||{},Kn[zn][Ii][ja]=Kn[zn][Ii][ja]||{},Kn[zn][Ii][ja][En]=va}return Kn})(za.concat(wa)),Bn=Va}return Nn})(this.pdf,this.fontFaces),Ai=Jn.map(function(kn){return{family:kn,stretch:"normal",weight:un,style:ga}}),La=(function(kn,wa,ci){for(var Va=(ci=ci||{}).defaultFontFamily||"times",za=Object.assign({},Gs,ci.genericFontFamilies||{}),es=null,Kn=null,Ei=0;Ei<wa.length;++Ei)if(za[(es=Es(wa[Ei])).family]&&(es.family=za[es.family]),kn.hasOwnProperty(es.family)){Kn=kn[es.family];break}if(!(Kn=Kn||kn[Va]))throw new Error("Could not find a font-family for the rule '"+jc(es)+"' and default family '"+Va+"'.");if(Kn=(function(va,zn){if(zn[va])return zn[va];var Ii=vi[va],ja=Ii<=vi.normal?-1:1,En=ri(zn,ji,Ii,ja);if(!En)throw new Error("Could not find a matching font-stretch value for "+va);return En})(es.stretch,Kn),Kn=(function(va,zn){if(zn[va])return zn[va];for(var Ii=Bs[va],ja=0;ja<Ii.length;++ja)if(zn[Ii[ja]])return zn[Ii[ja]];throw new Error("Could not find a matching font-style for "+va)})(es.style,Kn),!(Kn=(function(va,zn){if(zn[va])return zn[va];if(va===400&&zn[500])return zn[500];if(va===500&&zn[400])return zn[400];var Ii=Bi[va],ja=ri(zn,Ui,Ii,va<400?-1:1);if(!ja)throw new Error("Could not find a matching font-weight for value "+va);return ja})(es.weight,Kn)))throw new Error("Failed to resolve a font for the rule '"+jc(es)+"'.");return Kn})(Rn,Ai);this.pdf.setFont(La.ref.name,La.ref.style)}else{var Fn="";(un==="bold"||parseInt(un,10)>=700||ga==="bold")&&(Fn="bold"),ga==="italic"&&(Fn+="italic"),Fn.length===0&&(Fn="normal");for(var si="",la={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},On=0;On<Jn.length;On++){if(this.pdf.internal.getFont(Jn[On],Fn,{noFallback:!0,disableWarning:!0})!==void 0){si=Jn[On];break}if(Fn==="bolditalic"&&this.pdf.internal.getFont(Jn[On],"bold",{noFallback:!0,disableWarning:!0})!==void 0)si=Jn[On],Fn="bold";else if(this.pdf.internal.getFont(Jn[On],"normal",{noFallback:!0,disableWarning:!0})!==void 0){si=Jn[On],Fn="normal";break}}if(si===""){for(var ua=0;ua<Jn.length;ua++)if(la[Jn[ua]]){si=la[Jn[ua]];break}}si=si===""?"Times":si,this.pdf.setFont(si,Fn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ut){this.ctx.globalCompositeOperation=ut}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ut){this.ctx.globalAlpha=ut}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ut){this.ctx.lineDashOffset=ut,Hr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ut){this.ctx.lineDash=ut,Hr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ut){this.ctx.ignoreClearRect=!!ut}})};et.prototype.setLineDash=function(Ye){this.lineDash=Ye},et.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},et.prototype.fill=function(){Et.call(this,"fill",!1)},et.prototype.stroke=function(){Et.call(this,"stroke",!1)},et.prototype.beginPath=function(){this.path=[{type:"begin"}]},et.prototype.moveTo=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Nt=this.ctx.transform.applyToPoint(new Ne(Ye,xt));this.path.push({type:"mt",x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new Ne(Ye,xt)},et.prototype.closePath=function(){var Ye=new Ne(0,0),xt=0;for(xt=this.path.length-1;xt!==-1;xt--)if(this.path[xt].type==="begin"&&(0,h.default)(this.path[xt+1])==="object"&&typeof this.path[xt+1].x=="number"){Ye=new Ne(this.path[xt+1].x,this.path[xt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ne(Ye.x,Ye.y)},et.prototype.lineTo=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Nt=this.ctx.transform.applyToPoint(new Ne(Ye,xt));this.path.push({type:"lt",x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new Ne(Nt.x,Nt.y)},et.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Et.call(this,null,!0)},et.prototype.quadraticCurveTo=function(Ye,xt,Nt,Wt){if(isNaN(Nt)||isNaN(Wt)||isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var zt=this.ctx.transform.applyToPoint(new Ne(Nt,Wt)),nr=this.ctx.transform.applyToPoint(new Ne(Ye,xt));this.path.push({type:"qct",x1:nr.x,y1:nr.y,x:zt.x,y:zt.y}),this.ctx.lastPoint=new Ne(zt.x,zt.y)},et.prototype.bezierCurveTo=function(Ye,xt,Nt,Wt,zt,nr){if(isNaN(zt)||isNaN(nr)||isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mr=this.ctx.transform.applyToPoint(new Ne(zt,nr)),vr=this.ctx.transform.applyToPoint(new Ne(Ye,xt)),Pr=this.ctx.transform.applyToPoint(new Ne(Nt,Wt));this.path.push({type:"bct",x1:vr.x,y1:vr.y,x2:Pr.x,y2:Pr.y,x:mr.x,y:mr.y}),this.ctx.lastPoint=new Ne(mr.x,mr.y)},et.prototype.arc=function(Ye,xt,Nt,Wt,zt,nr){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt)||isNaN(zt))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nr=!!nr,!this.ctx.transform.isIdentity){var mr=this.ctx.transform.applyToPoint(new Ne(Ye,xt));Ye=mr.x,xt=mr.y;var vr=this.ctx.transform.applyToPoint(new Ne(0,Nt)),Pr=this.ctx.transform.applyToPoint(new Ne(0,0));Nt=Math.sqrt(Math.pow(vr.x-Pr.x,2)+Math.pow(vr.y-Pr.y,2))}Math.abs(zt-Wt)>=2*Math.PI&&(Wt=0,zt=2*Math.PI),this.path.push({type:"arc",x:Ye,y:xt,radius:Nt,startAngle:Wt,endAngle:zt,counterclockwise:nr})},et.prototype.arcTo=function(Ye,xt,Nt,Wt,zt){throw new Error("arcTo not implemented.")},et.prototype.rect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ye,xt),this.lineTo(Ye+Nt,xt),this.lineTo(Ye+Nt,xt+Wt),this.lineTo(Ye,xt+Wt),this.lineTo(Ye,xt),this.lineTo(Ye+Nt,xt),this.lineTo(Ye,xt)},et.prototype.fillRect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Oe.call(this)){var zt={};this.lineCap!=="butt"&&(zt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(zt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ye,xt,Nt,Wt),this.fill(),zt.hasOwnProperty("lineCap")&&(this.lineCap=zt.lineCap),zt.hasOwnProperty("lineJoin")&&(this.lineJoin=zt.lineJoin)}},et.prototype.strokeRect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");vt.call(this)||(this.beginPath(),this.rect(Ye,xt,Nt,Wt),this.stroke())},et.prototype.clearRect=function(Ye,xt,Nt,Wt){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ye,xt,Nt,Wt))},et.prototype.save=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Nt=0;Nt<this.pdf.internal.getNumberOfPages();Nt++)this.pdf.setPage(Nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(xt),Ye){this.ctx.fontSize=this.pdf.internal.getFontSize();var Wt=new Ve(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Wt}},et.prototype.restore=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Nt=0;Nt<this.pdf.internal.getNumberOfPages();Nt++)this.pdf.setPage(Nt+1),this.pdf.internal.out("Q");this.pdf.setPage(xt),Ye&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},et.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var st=function(Ye){var xt,Nt,Wt,zt;if(Ye.isCanvasGradient===!0&&(Ye=Ye.getColor()),!Ye)return{r:0,g:0,b:0,a:0,style:Ye};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ye))xt=0,Nt=0,Wt=0,zt=0;else{var nr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ye);if(nr!==null)xt=parseInt(nr[1]),Nt=parseInt(nr[2]),Wt=parseInt(nr[3]),zt=1;else if((nr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ye))!==null)xt=parseInt(nr[1]),Nt=parseInt(nr[2]),Wt=parseInt(nr[3]),zt=parseFloat(nr[4]);else{if(zt=1,typeof Ye=="string"&&Ye.charAt(0)!=="#"){var mr=new S(Ye);Ye=mr.ok?mr.toHex():"#000000"}Ye.length===4?(xt=Ye.substring(1,2),xt+=xt,Nt=Ye.substring(2,3),Nt+=Nt,Wt=Ye.substring(3,4),Wt+=Wt):(xt=Ye.substring(1,3),Nt=Ye.substring(3,5),Wt=Ye.substring(5,7)),xt=parseInt(xt,16),Nt=parseInt(Nt,16),Wt=parseInt(Wt,16)}}return{r:xt,g:Nt,b:Wt,a:zt,style:Ye}},Oe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},vt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};et.prototype.fillText=function(Ye,xt,Nt,Wt){if(isNaN(xt)||isNaN(Nt)||typeof Ye!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Wt=isNaN(Wt)?void 0:Wt,!Oe.call(this)){var zt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;dt.call(this,{text:Ye,x:xt,y:Nt,scale:nr,angle:zt,align:this.textAlign,maxWidth:Wt})}},et.prototype.strokeText=function(Ye,xt,Nt,Wt){if(isNaN(xt)||isNaN(Nt)||typeof Ye!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!vt.call(this)){Wt=isNaN(Wt)?void 0:Wt;var zt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;dt.call(this,{text:Ye,x:xt,y:Nt,scale:nr,renderingMode:"stroke",angle:zt,align:this.textAlign,maxWidth:Wt})}},et.prototype.measureText=function(Ye){if(typeof Ye!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var xt=this.pdf,Nt=this.pdf.internal.scaleFactor,Wt=xt.internal.getFontSize(),zt=xt.getStringUnitWidth(Ye)*Wt/xt.internal.scaleFactor;return new function(nr){var mr=(nr=nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return mr}}),this}({width:zt*=Math.round(96*Nt/72*1e4)/1e4})},et.prototype.scale=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Nt=new xe(Ye,0,0,xt,0,0);this.ctx.transform=this.ctx.transform.multiply(Nt)},et.prototype.rotate=function(Ye){if(isNaN(Ye))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var xt=new xe(Math.cos(Ye),Math.sin(Ye),-Math.sin(Ye),Math.cos(Ye),0,0);this.ctx.transform=this.ctx.transform.multiply(xt)},et.prototype.translate=function(Ye,xt){if(isNaN(Ye)||isNaN(xt))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Nt=new xe(1,0,0,1,Ye,xt);this.ctx.transform=this.ctx.transform.multiply(Nt)},et.prototype.transform=function(Ye,xt,Nt,Wt,zt,nr){if(isNaN(Ye)||isNaN(xt)||isNaN(Nt)||isNaN(Wt)||isNaN(zt)||isNaN(nr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mr=new xe(Ye,xt,Nt,Wt,zt,nr);this.ctx.transform=this.ctx.transform.multiply(mr)},et.prototype.setTransform=function(Ye,xt,Nt,Wt,zt,nr){Ye=isNaN(Ye)?1:Ye,xt=isNaN(xt)?0:xt,Nt=isNaN(Nt)?0:Nt,Wt=isNaN(Wt)?1:Wt,zt=isNaN(zt)?0:zt,nr=isNaN(nr)?0:nr,this.ctx.transform=new xe(Ye,xt,Nt,Wt,zt,nr)};var mt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};et.prototype.drawImage=function(Ye,xt,Nt,Wt,zt,nr,mr,vr,Pr){var Jr=this.pdf.getImageProperties(Ye),Nn=1,Bn=1,ca=1,ut=1;Wt!==void 0&&vr!==void 0&&(ca=vr/Wt,ut=Pr/zt,Nn=Jr.width/Wt*vr/Wt,Bn=Jr.height/zt*Pr/zt),nr===void 0&&(nr=xt,mr=Nt,xt=0,Nt=0),Wt!==void 0&&vr===void 0&&(vr=Wt,Pr=zt),Wt===void 0&&vr===void 0&&(vr=Jr.width,Pr=Jr.height);var hn=this.ctx.transform.decompose(),ga=Jt(hn.rotate.shx),un=new xe,Qr=(un=(un=(un=un.multiply(hn.translate)).multiply(hn.skew)).multiply(hn.scale)).applyToRectangle(new ge(nr-xt*ca,mr-Nt*ut,Wt*Nn,zt*Bn));if(this.autoPaging){for(var oa,Mn=yt.call(this,Qr),Jn=[],Rn=0;Rn<Mn.length;Rn+=1)Jn.indexOf(Mn[Rn])===-1&&Jn.push(Mn[Rn]);Kt(Jn);for(var Ai=Jn[0],La=Jn[Jn.length-1],Fn=Ai;Fn<La+1;Fn++){this.pdf.setPage(Fn);var si=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],la=Fn===1?this.posY+this.margin[0]:this.margin[0],On=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ua=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kn=Fn===1?0:On+(Fn-2)*ua;if(this.ctx.clip_path.length!==0){var wa=this.path;oa=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(oa,this.posX+this.margin[3],-kn+la+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=wa}var ci=JSON.parse(JSON.stringify(Qr));ci=kt([ci],this.posX+this.margin[3],-kn+la+this.ctx.prevPageLastElemOffset)[0];var Va=(Fn>Ai||Fn<La)&&mt.call(this);Va&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],si,ua,null).clip().discardPath()),this.pdf.addImage(Ye,"JPEG",ci.x,ci.y,ci.w,ci.h,null,null,ga),Va&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ye,"JPEG",Qr.x,Qr.y,Qr.w,Qr.h,null,null,ga)};var yt=function(Ye,xt,Nt){var Wt=[];xt=xt||this.pdf.internal.pageSize.width,Nt=Nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var zt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ye.type){default:case"mt":case"lt":Wt.push(Math.floor((Ye.y+zt)/Nt)+1);break;case"arc":Wt.push(Math.floor((Ye.y+zt-Ye.radius)/Nt)+1),Wt.push(Math.floor((Ye.y+zt+Ye.radius)/Nt)+1);break;case"qct":var nr=gr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x,Ye.y);Wt.push(Math.floor((nr.y+zt)/Nt)+1),Wt.push(Math.floor((nr.y+nr.h+zt)/Nt)+1);break;case"bct":var mr=Zr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y);Wt.push(Math.floor((mr.y+zt)/Nt)+1),Wt.push(Math.floor((mr.y+mr.h+zt)/Nt)+1);break;case"rect":Wt.push(Math.floor((Ye.y+zt)/Nt)+1),Wt.push(Math.floor((Ye.y+Ye.h+zt)/Nt)+1)}for(var vr=0;vr<Wt.length;vr+=1)for(;this.pdf.internal.getNumberOfPages()<Wt[vr];)nt.call(this);return Wt},nt=function(){var Ye=this.fillStyle,xt=this.strokeStyle,Nt=this.font,Wt=this.lineCap,zt=this.lineWidth,nr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ye,this.strokeStyle=xt,this.font=Nt,this.lineCap=Wt,this.lineWidth=zt,this.lineJoin=nr},kt=function(Ye,xt,Nt){for(var Wt=0;Wt<Ye.length;Wt++)switch(Ye[Wt].type){case"bct":Ye[Wt].x2+=xt,Ye[Wt].y2+=Nt;case"qct":Ye[Wt].x1+=xt,Ye[Wt].y1+=Nt;default:Ye[Wt].x+=xt,Ye[Wt].y+=Nt}return Ye},Kt=function(Ye){return Ye.sort(function(xt,Nt){return xt-Nt})},Et=function(Ye,xt){var Nt=this.fillStyle,Wt=this.strokeStyle,zt=this.lineCap,nr=this.lineWidth,mr=Math.abs(nr*this.ctx.transform.scaleX),vr=this.lineJoin;if(this.autoPaging){for(var Pr,Jr,Nn=JSON.parse(JSON.stringify(this.path)),Bn=JSON.parse(JSON.stringify(this.path)),ca=[],ut=0;ut<Bn.length;ut++)if(Bn[ut].x!==void 0)for(var hn=yt.call(this,Bn[ut]),ga=0;ga<hn.length;ga+=1)ca.indexOf(hn[ga])===-1&&ca.push(hn[ga]);for(var un=0;un<ca.length;un++)for(;this.pdf.internal.getNumberOfPages()<ca[un];)nt.call(this);Kt(ca);for(var Qr=ca[0],oa=ca[ca.length-1],Mn=Qr;Mn<oa+1;Mn++){this.pdf.setPage(Mn),this.fillStyle=Nt,this.strokeStyle=Wt,this.lineCap=zt,this.lineWidth=mr,this.lineJoin=vr;var Jn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rn=Mn===1?this.posY+this.margin[0]:this.margin[0],Ai=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],La=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fn=Mn===1?0:Ai+(Mn-2)*La;if(this.ctx.clip_path.length!==0){var si=this.path;Pr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(Pr,this.posX+this.margin[3],-Fn+Rn+this.ctx.prevPageLastElemOffset),tt.call(this,Ye,!0),this.path=si}if(Jr=JSON.parse(JSON.stringify(Nn)),this.path=kt(Jr,this.posX+this.margin[3],-Fn+Rn+this.ctx.prevPageLastElemOffset),xt===!1||Mn===0){var la=(Mn>Qr||Mn<oa)&&mt.call(this);la&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jn,La,null).clip().discardPath()),tt.call(this,Ye,xt),la&&this.pdf.restoreGraphicsState()}this.lineWidth=nr}this.path=Nn}else this.lineWidth=mr,tt.call(this,Ye,xt),this.lineWidth=nr},tt=function(Ye,xt){if((Ye!=="stroke"||xt||!vt.call(this))&&(Ye==="stroke"||xt||!Oe.call(this))){for(var Nt,Wt,zt=[],nr=this.path,mr=0;mr<nr.length;mr++){var vr=nr[mr];switch(vr.type){case"begin":zt.push({begin:!0});break;case"close":zt.push({close:!0});break;case"mt":zt.push({start:vr,deltas:[],abs:[]});break;case"lt":var Pr=zt.length;if(nr[mr-1]&&!isNaN(nr[mr-1].x)&&(Nt=[vr.x-nr[mr-1].x,vr.y-nr[mr-1].y],Pr>0)){for(;Pr>=0;Pr--)if(zt[Pr-1].close!==!0&&zt[Pr-1].begin!==!0){zt[Pr-1].deltas.push(Nt),zt[Pr-1].abs.push(vr);break}}break;case"bct":Nt=[vr.x1-nr[mr-1].x,vr.y1-nr[mr-1].y,vr.x2-nr[mr-1].x,vr.y2-nr[mr-1].y,vr.x-nr[mr-1].x,vr.y-nr[mr-1].y],zt[zt.length-1].deltas.push(Nt);break;case"qct":var Jr=nr[mr-1].x+2/3*(vr.x1-nr[mr-1].x),Nn=nr[mr-1].y+2/3*(vr.y1-nr[mr-1].y),Bn=vr.x+2/3*(vr.x1-vr.x),ca=vr.y+2/3*(vr.y1-vr.y),ut=vr.x,hn=vr.y;Nt=[Jr-nr[mr-1].x,Nn-nr[mr-1].y,Bn-nr[mr-1].x,ca-nr[mr-1].y,ut-nr[mr-1].x,hn-nr[mr-1].y],zt[zt.length-1].deltas.push(Nt);break;case"arc":zt.push({deltas:[],abs:[],arc:!0}),Array.isArray(zt[zt.length-1].abs)&&zt[zt.length-1].abs.push(vr)}}Wt=xt?null:Ye==="stroke"?"stroke":"fill";for(var ga=!1,un=0;un<zt.length;un++)if(zt[un].arc)for(var Qr=zt[un].abs,oa=0;oa<Qr.length;oa++){var Mn=Qr[oa];Mn.type==="arc"?qt.call(this,Mn.x,Mn.y,Mn.radius,Mn.startAngle,Mn.endAngle,Mn.counterclockwise,void 0,xt,!ga):It.call(this,Mn.x,Mn.y),ga=!0}else if(zt[un].close===!0)this.pdf.internal.out("h"),ga=!1;else if(zt[un].begin!==!0){var Jn=zt[un].start.x,Rn=zt[un].start.y;Tt.call(this,zt[un].deltas,Jn,Rn),ga=!0}Wt&&_t.call(this,Wt),xt&&or.call(this)}},Qt=function(Ye){var xt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Nt=xt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ye-Nt;case"top":return Ye+xt-Nt;case"hanging":return Ye+xt-2*Nt;case"middle":return Ye+xt/2-Nt;default:return Ye}},lr=function(Ye){return Ye+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};et.prototype.createLinearGradient=function(){var Ye=function(){};return Ye.colorStops=[],Ye.addColorStop=function(xt,Nt){this.colorStops.push([xt,Nt])},Ye.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ye.isCanvasGradient=!0,Ye},et.prototype.createPattern=function(){return this.createLinearGradient()},et.prototype.createRadialGradient=function(){return this.createLinearGradient()};var qt=function(Ye,xt,Nt,Wt,zt,nr,mr,vr,Pr){for(var Jr=Ar.call(this,Nt,Wt,zt,nr),Nn=0;Nn<Jr.length;Nn++){var Bn=Jr[Nn];Nn===0&&(Pr?at.call(this,Bn.x1+Ye,Bn.y1+xt):It.call(this,Bn.x1+Ye,Bn.y1+xt)),cr.call(this,Ye,xt,Bn.x2,Bn.y2,Bn.x3,Bn.y3,Bn.x4,Bn.y4)}vr?or.call(this):_t.call(this,mr)},_t=function(Ye){switch(Ye){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},or=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(Ye,xt){this.pdf.internal.out(M(Ye)+" "+z(xt)+" m")},dt=function(Ye){var xt;switch(Ye.align){case"right":case"end":xt="right";break;case"center":xt="center";break;default:xt="left"}var Nt,Wt,zt,nr=this.pdf.getTextDimensions(Ye.text),mr=Qt.call(this,Ye.y),vr=lr.call(this,mr)-nr.h,Pr=this.ctx.transform.applyToPoint(new Ne(Ye.x,mr));if(this.autoPaging){var Jr=this.ctx.transform.decompose(),Nn=new xe;Nn=(Nn=(Nn=Nn.multiply(Jr.translate)).multiply(Jr.skew)).multiply(Jr.scale);for(var Bn=this.ctx.transform.applyToRectangle(new ge(Ye.x,mr,nr.w,nr.h)),ca=Nn.applyToRectangle(new ge(Ye.x,vr,nr.w,nr.h)),ut=yt.call(this,ca),hn=[],ga=0;ga<ut.length;ga+=1)hn.indexOf(ut[ga])===-1&&hn.push(ut[ga]);Kt(hn);for(var un=hn[0],Qr=hn[hn.length-1],oa=un;oa<Qr+1;oa++){this.pdf.setPage(oa);var Mn=oa===1?this.posY+this.margin[0]:this.margin[0],Jn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rn=this.pdf.internal.pageSize.height-this.margin[2],Ai=Rn-this.margin[0],La=this.pdf.internal.pageSize.width-this.margin[1],Fn=La-this.margin[3],si=oa===1?0:Jn+(oa-2)*Ai;if(this.ctx.clip_path.length!==0){var la=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(Nt,this.posX+this.margin[3],-1*si+Mn),tt.call(this,"fill",!0),this.path=la}var On=kt([JSON.parse(JSON.stringify(ca))],this.posX+this.margin[3],-si+Mn+this.ctx.prevPageLastElemOffset)[0];Ye.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Ye.scale),zt=this.lineWidth,this.lineWidth=zt*Ye.scale);var ua=this.autoPaging!=="text";if(ua||On.y+On.h<=Rn){if(ua||On.y>=Mn&&On.x<=La){var kn=ua?Ye.text:this.pdf.splitTextToSize(Ye.text,Ye.maxWidth||La-On.x)[0],wa=kt([JSON.parse(JSON.stringify(Bn))],this.posX+this.margin[3],-si+Mn+this.ctx.prevPageLastElemOffset)[0],ci=ua&&(oa>un||oa<Qr)&&mt.call(this);ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fn,Ai,null).clip().discardPath()),this.pdf.text(kn,wa.x,wa.y,{angle:Ye.angle,align:xt,renderingMode:Ye.renderingMode}),ci&&this.pdf.restoreGraphicsState()}}else On.y<Rn&&(this.ctx.prevPageLastElemOffset+=Rn-On.y);Ye.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=zt)}}else Ye.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Ye.scale),zt=this.lineWidth,this.lineWidth=zt*Ye.scale),this.pdf.text(Ye.text,Pr.x+this.posX,Pr.y+this.posY,{angle:Ye.angle,align:xt,renderingMode:Ye.renderingMode,maxWidth:Ye.maxWidth}),Ye.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=zt)},It=function(Ye,xt,Nt,Wt){Nt=Nt||0,Wt=Wt||0,this.pdf.internal.out(M(Ye+Nt)+" "+z(xt+Wt)+" l")},Tt=function(Ye,xt,Nt){return this.pdf.lines(Ye,xt,Nt,null,null)},cr=function(Ye,xt,Nt,Wt,zt,nr,mr,vr){this.pdf.internal.out([B(Y(Nt+Ye)),B(re(Wt+xt)),B(Y(zt+Ye)),B(re(nr+xt)),B(Y(mr+Ye)),B(re(vr+xt)),"c"].join(" "))},Ar=function(Ye,xt,Nt,Wt){for(var zt=2*Math.PI,nr=Math.PI/2;xt>Nt;)xt-=zt;var mr=Math.abs(Nt-xt);mr<zt&&Wt&&(mr=zt-mr);for(var vr=[],Pr=Wt?-1:1,Jr=xt;mr>1e-5;){var Nn=Jr+Pr*Math.min(mr,nr);vr.push(xr.call(this,Ye,Jr,Nn)),mr-=Math.abs(Nn-Jr),Jr=Nn}return vr},xr=function(Ye,xt,Nt){var Wt=(Nt-xt)/2,zt=Ye*Math.cos(Wt),nr=Ye*Math.sin(Wt),mr=zt,vr=-nr,Pr=mr*mr+vr*vr,Jr=Pr+mr*zt+vr*nr,Nn=4/3*(Math.sqrt(2*Pr*Jr)-Jr)/(mr*nr-vr*zt),Bn=mr-Nn*vr,ca=vr+Nn*mr,ut=Bn,hn=-ca,ga=Wt+xt,un=Math.cos(ga),Qr=Math.sin(ga);return{x1:Ye*Math.cos(xt),y1:Ye*Math.sin(xt),x2:Bn*un-ca*Qr,y2:Bn*Qr+ca*un,x3:ut*un-hn*Qr,y3:ut*Qr+hn*un,x4:Ye*Math.cos(Nt),y4:Ye*Math.sin(Nt)}},Jt=function(Ye){return 180*Ye/Math.PI},gr=function(Ye,xt,Nt,Wt,zt,nr){var mr=Ye+.5*(Nt-Ye),vr=xt+.5*(Wt-xt),Pr=zt+.5*(Nt-zt),Jr=nr+.5*(Wt-nr),Nn=Math.min(Ye,zt,mr,Pr),Bn=Math.max(Ye,zt,mr,Pr),ca=Math.min(xt,nr,vr,Jr),ut=Math.max(xt,nr,vr,Jr);return new ge(Nn,ca,Bn-Nn,ut-ca)},Zr=function(Ye,xt,Nt,Wt,zt,nr,mr,vr){var Pr,Jr,Nn,Bn,ca,ut,hn,ga,un,Qr,oa,Mn,Jn,Rn,Ai=Nt-Ye,La=Wt-xt,Fn=zt-Nt,si=nr-Wt,la=mr-zt,On=vr-nr;for(Jr=0;Jr<41;Jr++)un=(hn=(Nn=Ye+(Pr=Jr/40)*Ai)+Pr*((ca=Nt+Pr*Fn)-Nn))+Pr*(ca+Pr*(zt+Pr*la-ca)-hn),Qr=(ga=(Bn=xt+Pr*La)+Pr*((ut=Wt+Pr*si)-Bn))+Pr*(ut+Pr*(nr+Pr*On-ut)-ga),Jr==0?(oa=un,Mn=Qr,Jn=un,Rn=Qr):(oa=Math.min(oa,un),Mn=Math.min(Mn,Qr),Jn=Math.max(Jn,un),Rn=Math.max(Rn,Qr));return new ge(Math.round(oa),Math.round(Mn),Math.round(Jn-oa),Math.round(Rn-Mn))},Hr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ye,xt,Nt=(Ye=this.ctx.lineDash,xt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ye,lineDashOffset:xt}));this.prevLineDash!==Nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Nt)}}})(de.API),(function(I){var B=function(Ne){var ge,xe,De,Ve,et,st,Oe,vt,mt,yt;for(xe=[],De=0,Ve=(Ne+=ge="\0\0\0\0".slice(Ne.length%4||4)).length;Ve>De;De+=4)(et=(Ne.charCodeAt(De)<<24)+(Ne.charCodeAt(De+1)<<16)+(Ne.charCodeAt(De+2)<<8)+Ne.charCodeAt(De+3))!==0?(st=(et=((et=((et=((et=(et-(yt=et%85))/85)-(mt=et%85))/85)-(vt=et%85))/85)-(Oe=et%85))/85)%85,xe.push(st+33,Oe+33,vt+33,mt+33,yt+33)):xe.push(122);return(function(nt,kt){for(var Kt=kt;Kt>0;Kt--)nt.pop()})(xe,ge.length),String.fromCharCode.apply(String,xe)+"~>"},M=function(Ne){var ge,xe,De,Ve,et,st=String,Oe="length",vt=255,mt="charCodeAt",yt="slice",nt="replace";for(Ne[yt](-2),Ne=Ne[yt](0,-2)[nt](/\s/g,"")[nt]("z","!!!!!"),De=[],Ve=0,et=(Ne+=ge="uuuuu"[yt](Ne[Oe]%5||5))[Oe];et>Ve;Ve+=5)xe=52200625*(Ne[mt](Ve)-33)+614125*(Ne[mt](Ve+1)-33)+7225*(Ne[mt](Ve+2)-33)+85*(Ne[mt](Ve+3)-33)+(Ne[mt](Ve+4)-33),De.push(vt&xe>>24,vt&xe>>16,vt&xe>>8,vt&xe);return(function(kt,Kt){for(var Et=Kt;Et>0;Et--)kt.pop()})(De,ge[Oe]),st.fromCharCode.apply(st,De)},z=function(Ne){return Ne.split("").map(function(ge){return("0"+ge.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Y=function(Ne){var ge=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ne=Ne.replace(/\s/g,"")).indexOf(">")!==-1&&(Ne=Ne.substr(0,Ne.indexOf(">"))),Ne.length%2&&(Ne+="0"),ge.test(Ne)===!1)return"";for(var xe="",De=0;De<Ne.length;De+=2)xe+=String.fromCharCode("0x"+(Ne[De]+Ne[De+1]));return xe},re=function(Ne){for(var ge=new Uint8Array(Ne.length),xe=Ne.length;xe--;)ge[xe]=Ne.charCodeAt(xe);return(ge=(0,d.zlibSync)(ge)).reduce(function(De,Ve){return De+String.fromCharCode(Ve)},"")};I.processDataByFilters=function(Ne,ge){var xe=0,De=Ne||"",Ve=[];for(typeof(ge=ge||[])=="string"&&(ge=[ge]),xe=0;xe<ge.length;xe+=1)switch(ge[xe]){case"ASCII85Decode":case"/ASCII85Decode":De=M(De),Ve.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":De=B(De),Ve.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":De=Y(De),Ve.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":De=z(De),Ve.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":De=re(De),Ve.push("/FlateDecode");break;default:throw new Error('The filter: "'+ge[xe]+'" is not implemented')}return{data:De,reverseChain:Ve.reverse().join(" ")}}})(de.API),(function(I){I.loadFile=function(B,M,z){return(function(Y,re,Ne){re=re!==!1,Ne=typeof Ne=="function"?Ne:function(){};var ge=void 0;try{ge=(function(xe,De,Ve){var et=new XMLHttpRequest,st=0,Oe=function(vt){var mt=vt.length,yt=[],nt=String.fromCharCode;for(st=0;st<mt;st+=1)yt.push(nt(255&vt.charCodeAt(st)));return yt.join("")};if(et.open("GET",xe,!De),et.overrideMimeType("text/plain; charset=x-user-defined"),De===!1&&(et.onload=function(){et.status===200?Ve(Oe(this.responseText)):Ve(void 0)}),et.send(null),De&&et.status===200)return Oe(et.responseText)})(Y,re,Ne)}catch{}return ge})(B,M,z)},I.allowFsRead=void 0,I.loadImageFile=I.loadFile})(de.API),(function(I){function B(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(ge){return Promise.reject(new Error("Could not load html2canvas: "+ge))}).then(function(ge){return ge.default?ge.default:ge})}function M(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(ge){return Promise.reject(new Error("Could not load dompurify: "+ge))}).then(function(ge){return ge.default?ge.default:ge})}var z=function(ge){var xe=(0,h.default)(ge);return xe==="undefined"?"undefined":xe==="string"||ge instanceof String?"string":xe==="number"||ge instanceof Number?"number":xe==="function"||ge instanceof Function?"function":ge&&ge.constructor===Array?"array":ge&&ge.nodeType===1?"element":xe==="object"?"object":"unknown"},Y=function(ge,xe){var De=document.createElement(ge);for(var Ve in xe.className&&(De.className=xe.className),xe.innerHTML&&xe.dompurify&&(De.innerHTML=xe.dompurify.sanitize(xe.innerHTML)),xe.style)De.style[Ve]=xe.style[Ve];return De},re=function ge(xe,De){for(var Ve=xe.nodeType===3?document.createTextNode(xe.nodeValue):xe.cloneNode(!1),et=xe.firstChild;et;et=et.nextSibling)De!==!0&&et.nodeType===1&&et.nodeName==="SCRIPT"||Ve.appendChild(ge(et,De));return xe.nodeType===1&&(xe.nodeName==="CANVAS"?(Ve.width=xe.width,Ve.height=xe.height,Ve.getContext("2d").drawImage(xe,0,0)):xe.nodeName!=="TEXTAREA"&&xe.nodeName!=="SELECT"||(Ve.value=xe.value),Ve.addEventListener("load",function(){Ve.scrollTop=xe.scrollTop,Ve.scrollLeft=xe.scrollLeft},!0)),Ve},Ne=function ge(xe){var De=Object.assign(ge.convert(Promise.resolve()),JSON.parse(JSON.stringify(ge.template))),Ve=ge.convert(Promise.resolve(),De);return(Ve=Ve.setProgress(1,ge,1,[ge])).set(xe)};(Ne.prototype=Object.create(Promise.prototype)).constructor=Ne,Ne.convert=function(ge,xe){return ge.__proto__=xe||Ne.prototype,ge},Ne.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ne.prototype.from=function(ge,xe){return this.then(function(){switch(xe=xe||(function(De){switch(z(De)){case"string":return"string";case"element":return De.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(ge),xe){case"string":return this.then(M).then(function(De){return this.set({src:Y("div",{innerHTML:ge,dompurify:De})})});case"element":return this.set({src:ge});case"canvas":return this.set({canvas:ge});case"img":return this.set({img:ge});default:return this.error("Unknown source type.")}})},Ne.prototype.to=function(ge){switch(ge){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ne.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ge={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},xe=re(this.prop.src,this.opt.html2canvas.javascriptEnabled);xe.tagName==="BODY"&&(ge.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Y("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Y("div",{className:"html2pdf__container",style:ge}),this.prop.container.appendChild(xe),this.prop.container.firstChild.appendChild(Y("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ne.prototype.toCanvas=function(){var ge=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ge).then(B).then(function(xe){var De=Object.assign({},this.opt.html2canvas);return delete De.onrendered,xe(this.prop.container,De)}).then(function(xe){(this.opt.html2canvas.onrendered||function(){})(xe),this.prop.canvas=xe,document.body.removeChild(this.prop.overlay)})},Ne.prototype.toContext2d=function(){var ge=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ge).then(B).then(function(xe){var De=this.opt.jsPDF,Ve=this.opt.fontFaces,et=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,st=Object.assign({async:!0,allowTaint:!0,scale:et,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete st.onrendered,De.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,De.context2d.posX=this.opt.x,De.context2d.posY=this.opt.y,De.context2d.margin=this.opt.margin,De.context2d.fontFaces=Ve,Ve)for(var Oe=0;Oe<Ve.length;++Oe){var vt=Ve[Oe],mt=vt.src.find(function(yt){return yt.format==="truetype"});mt&&De.addFont(mt.url,vt.ref.name,vt.ref.style)}return st.windowHeight=st.windowHeight||0,st.windowHeight=st.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):st.windowHeight,De.context2d.save(!0),xe(this.prop.container,st)}).then(function(xe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(xe),this.prop.canvas=xe,document.body.removeChild(this.prop.overlay)})},Ne.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ge=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ge})},Ne.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ne.prototype.output=function(ge,xe,De){return(De=De||"pdf").toLowerCase()==="img"||De.toLowerCase()==="image"?this.outputImg(ge,xe):this.outputPdf(ge,xe)},Ne.prototype.outputPdf=function(ge,xe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ge,xe)})},Ne.prototype.outputImg=function(ge){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ge){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ge+'" is not supported.'}})},Ne.prototype.save=function(ge){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ge?{filename:ge}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ne.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ne.prototype.set=function(ge){if(z(ge)!=="object")return this;var xe=Object.keys(ge||{}).map(function(De){if(De in Ne.template.prop)return function(){this.prop[De]=ge[De]};switch(De){case"margin":return this.setMargin.bind(this,ge.margin);case"jsPDF":return function(){return this.opt.jsPDF=ge.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ge.pageSize);default:return function(){this.opt[De]=ge[De]}}},this);return this.then(function(){return this.thenList(xe)})},Ne.prototype.get=function(ge,xe){return this.then(function(){var De=ge in Ne.template.prop?this.prop[ge]:this.opt[ge];return xe?xe(De):De})},Ne.prototype.setMargin=function(ge){return this.then(function(){switch(z(ge)){case"number":ge=[ge,ge,ge,ge];case"array":if(ge.length===2&&(ge=[ge[0],ge[1],ge[0],ge[1]]),ge.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ge}).then(this.setPageSize)},Ne.prototype.setPageSize=function(ge){function xe(De,Ve){return Math.floor(De*Ve/72*96)}return this.then(function(){(ge=ge||de.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ge.inner={width:ge.width-this.opt.margin[1]-this.opt.margin[3],height:ge.height-this.opt.margin[0]-this.opt.margin[2]},ge.inner.px={width:xe(ge.inner.width,ge.k),height:xe(ge.inner.height,ge.k)},ge.inner.ratio=ge.inner.height/ge.inner.width),this.prop.pageSize=ge})},Ne.prototype.setProgress=function(ge,xe,De,Ve){return ge!=null&&(this.progress.val=ge),xe!=null&&(this.progress.state=xe),De!=null&&(this.progress.n=De),Ve!=null&&(this.progress.stack=Ve),this.progress.ratio=this.progress.val/this.progress.state,this},Ne.prototype.updateProgress=function(ge,xe,De,Ve){return this.setProgress(ge?this.progress.val+ge:null,xe||null,De?this.progress.n+De:null,Ve?this.progress.stack.concat(Ve):null)},Ne.prototype.then=function(ge,xe){var De=this;return this.thenCore(ge,xe,function(Ve,et){return De.updateProgress(null,null,1,[Ve]),Promise.prototype.then.call(this,function(st){return De.updateProgress(null,Ve),st}).then(Ve,et).then(function(st){return De.updateProgress(1),st})})},Ne.prototype.thenCore=function(ge,xe,De){De=De||Promise.prototype.then;var Ve=this;ge&&(ge=ge.bind(Ve)),xe&&(xe=xe.bind(Ve));var et=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Ve:Ne.convert(Object.assign({},Ve),Promise.prototype),st=De.call(et,ge,xe);return Ne.convert(st,Ve.__proto__)},Ne.prototype.thenExternal=function(ge,xe){return Promise.prototype.then.call(this,ge,xe)},Ne.prototype.thenList=function(ge){var xe=this;return ge.forEach(function(De){xe=xe.thenCore(De)}),xe},Ne.prototype.catch=function(ge){ge&&(ge=ge.bind(this));var xe=Promise.prototype.catch.call(this,ge);return Ne.convert(xe,this)},Ne.prototype.catchExternal=function(ge){return Promise.prototype.catch.call(this,ge)},Ne.prototype.error=function(ge){return this.then(function(){throw new Error(ge)})},Ne.prototype.using=Ne.prototype.set,Ne.prototype.saveAs=Ne.prototype.save,Ne.prototype.export=Ne.prototype.output,Ne.prototype.run=Ne.prototype.then,de.getPageSize=function(ge,xe,De){if((0,h.default)(ge)==="object"){var Ve=ge;ge=Ve.orientation,xe=Ve.unit||xe,De=Ve.format||De}xe=xe||"mm",De=De||"a4",ge=(""+(ge||"P")).toLowerCase();var et,st=(""+De).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(xe){case"pt":et=1;break;case"mm":et=2.834645669291339;break;case"cm":et=28.346456692913385;break;case"in":et=72;break;case"px":et=.75;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:throw"Invalid unit: "+xe}var vt,mt=0,yt=0;if(Oe.hasOwnProperty(st))mt=Oe[st][1]/et,yt=Oe[st][0]/et;else try{mt=De[1],yt=De[0]}catch{throw new Error("Invalid format: "+De)}if(ge==="p"||ge==="portrait")ge="p",yt>mt&&(vt=yt,yt=mt,mt=vt);else{if(ge!=="l"&&ge!=="landscape")throw"Invalid orientation: "+ge;ge="l",mt>yt&&(vt=yt,yt=mt,mt=vt)}return{width:yt,height:mt,unit:xe,k:et,orientation:ge}},I.html=function(ge,xe){(xe=xe||{}).callback=xe.callback||function(){},xe.html2canvas=xe.html2canvas||{},xe.html2canvas.canvas=xe.html2canvas.canvas||this.canvas,xe.jsPDF=xe.jsPDF||this,xe.fontFaces=xe.fontFaces?xe.fontFaces.map(Es):null;var De=new Ne(xe);return xe.worker?De:De.from(ge).doCallback()}})(de.API),de.API.addJS=function(I){return vo=I,this.internal.events.subscribe("postPutResources",function(){Bl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Hi=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bl!==void 0&&Hi!==void 0&&this.internal.out("/Names <</JavaScript "+Bl+" 0 R>>")}),this},(function(I){var B;I.events.push(["postPutResources",function(){var M=this,z=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Y=M.outline.render().split(/\r\n/),re=0;re<Y.length;re++){var Ne=Y[re],ge=z.exec(Ne);if(ge!=null){var xe=ge[1];M.internal.newObjectDeferredBegin(xe,!1)}M.internal.write(Ne)}if(this.outline.createNamedDestinations){var De=this.internal.pages.length,Ve=[];for(re=0;re<De;re++){var et=M.internal.newObject();Ve.push(et);var st=M.internal.getPageInfo(re+1);M.internal.write("<< /D["+st.objId+" 0 R /XYZ null null null]>> endobj")}var Oe=M.internal.newObject();for(M.internal.write("<< /Names [ "),re=0;re<Ve.length;re++)M.internal.write("(page_"+(re+1)+")"+Ve[re]+" 0 R");M.internal.write(" ] >>","endobj"),B=M.internal.newObject(),M.internal.write("<< /Dests "+Oe+" 0 R"),M.internal.write(">>","endobj")}}]),I.events.push(["putCatalog",function(){var M=this;M.outline.root.children.length>0&&(M.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&M.internal.write("/Names "+B+" 0 R"))}]),I.events.push(["initialized",function(){var M=this;M.outline={createNamedDestinations:!1,root:{children:[]}},M.outline.add=function(z,Y,re){var Ne={title:Y,options:re,children:[]};return z==null&&(z=this.root),z.children.push(Ne),Ne},M.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=M,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},M.outline.genIds_r=function(z){z.id=M.internal.newObjectDeferred();for(var Y=0;Y<z.children.length;Y++)this.genIds_r(z.children[Y])},M.outline.renderRoot=function(z){this.objStart(z),this.line("/Type /Outlines"),z.children.length>0&&(this.line("/First "+this.makeRef(z.children[0])),this.line("/Last "+this.makeRef(z.children[z.children.length-1]))),this.line("/Count "+this.count_r({count:0},z)),this.objEnd()},M.outline.renderItems=function(z){for(var Y=this.ctx.pdf.internal.getVerticalCoordinateString,re=0;re<z.children.length;re++){var Ne=z.children[re];this.objStart(Ne),this.line("/Title "+this.makeString(Ne.title)),this.line("/Parent "+this.makeRef(z)),re>0&&this.line("/Prev "+this.makeRef(z.children[re-1])),re<z.children.length-1&&this.line("/Next "+this.makeRef(z.children[re+1])),Ne.children.length>0&&(this.line("/First "+this.makeRef(Ne.children[0])),this.line("/Last "+this.makeRef(Ne.children[Ne.children.length-1])));var ge=this.count=this.count_r({count:0},Ne);if(ge>0&&this.line("/Count "+ge),Ne.options&&Ne.options.pageNumber){var xe=M.internal.getPageInfo(Ne.options.pageNumber);this.line("/Dest ["+xe.objId+" 0 R /XYZ 0 "+Y(0)+" 0]")}this.objEnd()}for(var De=0;De<z.children.length;De++)this.renderItems(z.children[De])},M.outline.line=function(z){this.ctx.val+=z+`\r
`},M.outline.makeRef=function(z){return z.id+" 0 R"},M.outline.makeString=function(z){return"("+M.internal.pdfEscape(z)+")"},M.outline.objStart=function(z){this.ctx.val+=`\r
`+z.id+` 0 obj\r
<<\r
`},M.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},M.outline.count_r=function(z,Y){for(var re=0;re<Y.children.length;re++)z.count++,this.count_r(z,Y.children[re]);return z.count}}])})(de.API),(function(I){var B=[192,193,194,195,196,197,198,199];I.processJPEG=function(M,z,Y,re,Ne,ge){var xe,De=this.decode.DCT_DECODE,Ve=null;if(typeof M=="string"||this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M)){switch(M=Ne||M,M=this.__addimage__.isArrayBuffer(M)?new Uint8Array(M):M,xe=(function(et){for(var st,Oe=256*et.charCodeAt(4)+et.charCodeAt(5),vt=et.length,mt={width:0,height:0,numcomponents:1},yt=4;yt<vt;yt+=2){if(yt+=Oe,B.indexOf(et.charCodeAt(yt+1))!==-1){st=256*et.charCodeAt(yt+5)+et.charCodeAt(yt+6),mt={width:256*et.charCodeAt(yt+7)+et.charCodeAt(yt+8),height:st,numcomponents:et.charCodeAt(yt+9)};break}Oe=256*et.charCodeAt(yt+2)+et.charCodeAt(yt+3)}return mt})(M=this.__addimage__.isArrayBufferView(M)?this.__addimage__.arrayBufferToBinaryString(M):M),xe.numcomponents){case 1:ge=this.color_spaces.DEVICE_GRAY;break;case 4:ge=this.color_spaces.DEVICE_CMYK;break;case 3:ge=this.color_spaces.DEVICE_RGB}Ve={data:M,width:xe.width,height:xe.height,colorSpace:ge,bitsPerComponent:8,filter:De,index:z,alias:Y}}return Ve}})(de.API),de.API.processPNG=function(I,B,M,z){if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){var Y,re=(0,A.decode)(I,{checkCrc:!0}),Ne=re.width,ge=re.height,xe=re.channels,De=re.palette,Ve=re.depth;Y=De&&xe===1?(function(qt){for(var _t=qt.width,or=qt.height,at=qt.data,dt=qt.palette,It=qt.depth,Tt=!1,cr=[],Ar=[],xr=void 0,Jt=!1,gr=0,Zr=0;Zr<dt.length;Zr++){var Hr=(0,f.default)(dt[Zr],4),Ye=Hr[0],xt=Hr[1],Nt=Hr[2],Wt=Hr[3];cr.push(Ye,xt,Nt),Wt!=null&&(Wt===0?(gr++,Ar.length<1&&Ar.push(Zr)):Wt<255&&(Jt=!0))}if(Jt||gr>1){Tt=!0,Ar=void 0;var zt=_t*or;xr=new Uint8Array(zt);for(var nr=new DataView(at.buffer),mr=0;mr<zt;mr++){var vr=cs(nr,mr,It),Pr=(0,f.default)(dt[vr],4)[3];xr[mr]=Pr}}else gr===0&&(Ar=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Tt?8:void 0,colorBytes:at,alphaBytes:xr,needSMask:Tt,palette:cr,mask:Ar}})(re):xe===2||xe===4?(function(qt){for(var _t=qt.data,or=qt.width,at=qt.height,dt=qt.channels,It=qt.depth,Tt=dt===2?"DeviceGray":"DeviceRGB",cr=dt-1,Ar=or*at,xr=cr,Jt=Ar*xr,gr=1*Ar,Zr=Math.ceil(Jt*It/8),Hr=Math.ceil(gr*It/8),Ye=new Uint8Array(Zr),xt=new Uint8Array(Hr),Nt=new DataView(_t.buffer),Wt=new DataView(Ye.buffer),zt=new DataView(xt.buffer),nr=!1,mr=0;mr<Ar;mr++){for(var vr=mr*dt,Pr=0;Pr<xr;Pr++)qn(Wt,cs(Nt,vr+Pr,It),mr*xr+Pr,It);var Jr=cs(Nt,vr+xr,It);Jr<(1<<It)-1&&(nr=!0),qn(zt,Jr,1*mr,It)}return{colorSpace:Tt,colorsPerPixel:cr,sMaskBitsPerComponent:nr?It:void 0,colorBytes:Ye,alphaBytes:xt,needSMask:nr}})(re):(function(qt){var _t=qt.data,or=qt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:or,colorsPerPixel:or==="DeviceGray"?1:3,colorBytes:_t instanceof Uint16Array?(function(at){for(var dt=at.length,It=new Uint8Array(2*dt),Tt=new DataView(It.buffer,It.byteOffset,It.byteLength),cr=0;cr<dt;cr++)Tt.setUint16(2*cr,at[cr],!1);return It})(_t):_t,needSMask:!1}})(re);var et,st,Oe,vt=Y,mt=vt.colorSpace,yt=vt.colorsPerPixel,nt=vt.sMaskBitsPerComponent,kt=vt.colorBytes,Kt=vt.alphaBytes,Et=vt.needSMask,tt=vt.palette,Qt=vt.mask,lr=null;return z!==de.API.image_compression.NONE&&typeof d.zlibSync=="function"?(lr=(function(qt){var _t;switch(qt){case de.API.image_compression.FAST:_t=11;break;case de.API.image_compression.MEDIUM:_t=13;break;case de.API.image_compression.SLOW:_t=14;break;default:_t=12}return _t})(z),et=this.decode.FLATE_DECODE,st="/Predictor ".concat(lr," /Colors ").concat(yt," /BitsPerComponent ").concat(Ve," /Columns ").concat(Ne),I=tl(kt,Math.ceil(Ne*yt*Ve/8),yt,Ve,z),Et&&(Oe=tl(Kt,Math.ceil(Ne*nt/8),1,nt,z))):(et=void 0,st=void 0,I=kt,Et&&(Oe=Kt)),(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(Oe&&this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),{alias:M,data:I,index:B,filter:et,decodeParameters:st,transparency:Qt,palette:tt,sMask:Oe,predictor:lr,width:Ne,height:ge,bitsPerComponent:Ve,sMaskBitsPerComponent:nt,colorSpace:mt}}},(function(I){I.processGIF89A=function(B,M,z,Y){var re=new vs(B),Ne=re.width,ge=re.height,xe=[];re.decodeAndBlitFrameRGBA(0,xe);var De={data:xe,width:Ne,height:ge},Ve=new Oo(100).encode(De,100);return I.processJPEG.call(this,Ve,M,z,Y)},I.processGIF87A=I.processGIF89A})(de.API),Di.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var I=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(I);for(var B=0;B<I;B++){var M=this.datav.getUint8(this.pos++,!0),z=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),re=this.datav.getUint8(this.pos++,!0);this.palette[B]={red:Y,green:z,blue:M,quad:re}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Di.prototype.parseBGR=function(){this.pos=this.offset;try{var I="bit"+this.bitPP,B=this.width*this.height*4;this.data=new Uint8Array(B),this[I]()}catch(M){x.log("bit decode error:"+M)}},Di.prototype.bit1=function(){var I,B=Math.ceil(this.width/8),M=B%4;for(I=this.height-1;I>=0;I--){for(var z=this.bottom_up?I:this.height-1-I,Y=0;Y<B;Y++)for(var re=this.datav.getUint8(this.pos++,!0),Ne=z*this.width*4+8*Y*4,ge=0;ge<8&&8*Y+ge<this.width;ge++){var xe=this.palette[re>>7-ge&1];this.data[Ne+4*ge]=xe.blue,this.data[Ne+4*ge+1]=xe.green,this.data[Ne+4*ge+2]=xe.red,this.data[Ne+4*ge+3]=255}M!==0&&(this.pos+=4-M)}},Di.prototype.bit4=function(){for(var I=Math.ceil(this.width/2),B=I%4,M=this.height-1;M>=0;M--){for(var z=this.bottom_up?M:this.height-1-M,Y=0;Y<I;Y++){var re=this.datav.getUint8(this.pos++,!0),Ne=z*this.width*4+2*Y*4,ge=re>>4,xe=15&re,De=this.palette[ge];if(this.data[Ne]=De.blue,this.data[Ne+1]=De.green,this.data[Ne+2]=De.red,this.data[Ne+3]=255,2*Y+1>=this.width)break;De=this.palette[xe],this.data[Ne+4]=De.blue,this.data[Ne+4+1]=De.green,this.data[Ne+4+2]=De.red,this.data[Ne+4+3]=255}B!==0&&(this.pos+=4-B)}},Di.prototype.bit8=function(){for(var I=this.width%4,B=this.height-1;B>=0;B--){for(var M=this.bottom_up?B:this.height-1-B,z=0;z<this.width;z++){var Y=this.datav.getUint8(this.pos++,!0),re=M*this.width*4+4*z;if(Y<this.palette.length){var Ne=this.palette[Y];this.data[re]=Ne.red,this.data[re+1]=Ne.green,this.data[re+2]=Ne.blue,this.data[re+3]=255}else this.data[re]=255,this.data[re+1]=255,this.data[re+2]=255,this.data[re+3]=255}I!==0&&(this.pos+=4-I)}},Di.prototype.bit15=function(){for(var I=this.width%3,B=parseInt("11111",2),M=this.height-1;M>=0;M--){for(var z=this.bottom_up?M:this.height-1-M,Y=0;Y<this.width;Y++){var re=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ne=(re&B)/B*255|0,ge=(re>>5&B)/B*255|0,xe=(re>>10&B)/B*255|0,De=re>>15?255:0,Ve=z*this.width*4+4*Y;this.data[Ve]=xe,this.data[Ve+1]=ge,this.data[Ve+2]=Ne,this.data[Ve+3]=De}this.pos+=I}},Di.prototype.bit16=function(){for(var I=this.width%3,B=parseInt("11111",2),M=parseInt("111111",2),z=this.height-1;z>=0;z--){for(var Y=this.bottom_up?z:this.height-1-z,re=0;re<this.width;re++){var Ne=this.datav.getUint16(this.pos,!0);this.pos+=2;var ge=(Ne&B)/B*255|0,xe=(Ne>>5&M)/M*255|0,De=(Ne>>11)/B*255|0,Ve=Y*this.width*4+4*re;this.data[Ve]=De,this.data[Ve+1]=xe,this.data[Ve+2]=ge,this.data[Ve+3]=255}this.pos+=I}},Di.prototype.bit24=function(){for(var I=this.height-1;I>=0;I--){for(var B=this.bottom_up?I:this.height-1-I,M=0;M<this.width;M++){var z=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),re=this.datav.getUint8(this.pos++,!0),Ne=B*this.width*4+4*M;this.data[Ne]=re,this.data[Ne+1]=Y,this.data[Ne+2]=z,this.data[Ne+3]=255}this.pos+=this.width%4}},Di.prototype.bit32=function(){for(var I=this.height-1;I>=0;I--)for(var B=this.bottom_up?I:this.height-1-I,M=0;M<this.width;M++){var z=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),re=this.datav.getUint8(this.pos++,!0),Ne=this.datav.getUint8(this.pos++,!0),ge=B*this.width*4+4*M;this.data[ge]=re,this.data[ge+1]=Y,this.data[ge+2]=z,this.data[ge+3]=Ne}},Di.prototype.getData=function(){return this.data},(function(I){I.processBMP=function(B,M,z,Y){var re=new Di(B,!1),Ne=re.width,ge=re.height,xe={data:re.getData(),width:Ne,height:ge},De=new Oo(100).encode(xe,100);return I.processJPEG.call(this,De,M,z,Y)}})(de.API),oo.prototype.getData=function(){return this.data},(function(I){I.processWEBP=function(B,M,z,Y){var re=new oo(B),Ne=re.width,ge=re.height,xe={data:re.getData(),width:Ne,height:ge},De=new Oo(100).encode(xe,100);return I.processJPEG.call(this,De,M,z,Y)}})(de.API),de.API.processRGBA=function(I,B,M){for(var z=I.data,Y=z.length,re=new Uint8Array(Y/4*3),Ne=new Uint8Array(Y/4),ge=0,xe=0,De=0;De<Y;De+=4){var Ve=z[De],et=z[De+1],st=z[De+2],Oe=z[De+3];re[ge++]=Ve,re[ge++]=et,re[ge++]=st,Ne[xe++]=Oe}var vt=this.__addimage__.arrayBufferToBinaryString(re);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ne),data:vt,index:B,alias:M,colorSpace:"DeviceRGB",bitsPerComponent:8,width:I.width,height:I.height}},de.API.setLanguage=function(I){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[I]!==void 0&&(this.internal.languageSettings.languageCode=I,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ha=de.API,Zl=ha.getCharWidthsArray=function(I,B){var M,z,Y=(B=B||{}).font||this.internal.getFont(),re=B.fontSize||this.internal.getFontSize(),Ne=B.charSpace||this.internal.getCharSpace(),ge=B.widths?B.widths:Y.metadata.Unicode.widths,xe=ge.fof?ge.fof:1,De=B.kerning?B.kerning:Y.metadata.Unicode.kerning,Ve=De.fof?De.fof:1,et=B.doKerning!==!1,st=0,Oe=I.length,vt=0,mt=ge[0]||xe,yt=[];for(M=0;M<Oe;M++)z=I.charCodeAt(M),typeof Y.metadata.widthOfString=="function"?yt.push((Y.metadata.widthOfGlyph(Y.metadata.characterToGlyph(z))+Ne*(1e3/re)||0)/1e3):(st=et&&(0,h.default)(De[z])==="object"&&!isNaN(parseInt(De[z][vt],10))?De[z][vt]/Ve:0,yt.push((ge[z]||mt)/xe+st)),vt=z;return yt},ni=ha.getStringUnitWidth=function(I,B){var M=(B=B||{}).fontSize||this.internal.getFontSize(),z=B.font||this.internal.getFont(),Y=B.charSpace||this.internal.getCharSpace();return ha.processArabic&&(I=ha.processArabic(I)),typeof z.metadata.widthOfString=="function"?z.metadata.widthOfString(I,M,Y)/M:Zl.apply(this,arguments).reduce(function(re,Ne){return re+Ne},0)},Eo=function(I,B,M,z){for(var Y=[],re=0,Ne=I.length,ge=0;re!==Ne&&ge+B[re]<M;)ge+=B[re],re++;Y.push(I.slice(0,re));var xe=re;for(ge=0;re!==Ne;)ge+B[re]>z&&(Y.push(I.slice(xe,re)),ge=0,xe=re),ge+=B[re],re++;return xe!==re&&Y.push(I.slice(xe,re)),Y},qs=function(I,B,M){M||(M={});var z,Y,re,Ne,ge,xe,De,Ve=[],et=[Ve],st=M.textIndent||0,Oe=0,vt=0,mt=I.split(" "),yt=Zl.apply(this,[" ",M])[0];if(xe=M.lineIndent===-1?mt[0].length+2:M.lineIndent||0){var nt=Array(xe).join(" "),kt=[];mt.map(function(Et){(Et=Et.split(/\s*\n/)).length>1?kt=kt.concat(Et.map(function(tt,Qt){return(Qt&&tt.length?`
`:"")+tt})):kt.push(Et[0])}),mt=kt,xe=ni.apply(this,[nt,M])}for(re=0,Ne=mt.length;re<Ne;re++){var Kt=0;if(z=mt[re],xe&&z[0]==`
`&&(z=z.substr(1),Kt=1),st+Oe+(vt=(Y=Zl.apply(this,[z,M])).reduce(function(Et,tt){return Et+tt},0))>B||Kt){if(vt>B){for(ge=Eo.apply(this,[z,Y,B-(st+Oe),B]),Ve.push(ge.shift()),Ve=[ge.pop()];ge.length;)et.push([ge.shift()]);vt=Y.slice(z.length-(Ve[0]?Ve[0].length:0)).reduce(function(Et,tt){return Et+tt},0)}else Ve=[z];et.push(Ve),st=vt+xe,Oe=yt}else Ve.push(z),st+=Oe+vt,Oe=yt}return De=xe?function(Et,tt){return(tt?nt:"")+Et.join(" ")}:function(Et){return Et.join(" ")},et.map(De)},ha.splitTextToSize=function(I,B,M){var z,Y=(M=M||{}).fontSize||this.internal.getFontSize(),re=(function(Ve){if(Ve.widths&&Ve.kerning)return{widths:Ve.widths,kerning:Ve.kerning};var et=this.internal.getFont(Ve.fontName,Ve.fontStyle),st="Unicode";return et.metadata[st]?{widths:et.metadata[st].widths||{0:1},kerning:et.metadata[st].kerning||{}}:{font:et.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,M);z=Array.isArray(I)?I:String(I).split(/\r?\n/);var Ne=1*this.internal.scaleFactor*B/Y;re.textIndent=M.textIndent?1*M.textIndent*this.internal.scaleFactor/Y:0,re.lineIndent=M.lineIndent;var ge,xe,De=[];for(ge=0,xe=z.length;ge<xe;ge++)De=De.concat(qs.apply(this,[z[ge],Ne,re]));return De},(function(I){I.__fontmetrics__=I.__fontmetrics__||{};for(var B="0123456789abcdef",M="klmnopqrstuvwxyz",z={},Y={},re=0;re<16;re++)z[M[re]]=B[re],Y[B[re]]=M[re];var Ne=function(st){return"0x"+parseInt(st,10).toString(16)},ge=I.__fontmetrics__.compress=function(st){var Oe,vt,mt,yt,nt=["{"];for(var kt in st){if(Oe=st[kt],isNaN(parseInt(kt,10))?vt="'"+kt+"'":(kt=parseInt(kt,10),vt=(vt=Ne(kt).slice(2)).slice(0,-1)+Y[vt.slice(-1)]),typeof Oe=="number")Oe<0?(mt=Ne(Oe).slice(3),yt="-"):(mt=Ne(Oe).slice(2),yt=""),mt=yt+mt.slice(0,-1)+Y[mt.slice(-1)];else{if((0,h.default)(Oe)!=="object")throw new Error("Don't know what to do with value type "+(0,h.default)(Oe)+".");mt=ge(Oe)}nt.push(vt+mt)}return nt.push("}"),nt.join("")},xe=I.__fontmetrics__.uncompress=function(st){if(typeof st!="string")throw new Error("Invalid argument passed to uncompress.");for(var Oe,vt,mt,yt,nt={},kt=1,Kt=nt,Et=[],tt="",Qt="",lr=st.length-1,qt=1;qt<lr;qt+=1)(yt=st[qt])=="'"?Oe?(mt=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(yt):yt=="{"?(Et.push([Kt,mt]),Kt={},mt=void 0):yt=="}"?((vt=Et.pop())[0][vt[1]]=Kt,mt=void 0,Kt=vt[0]):yt=="-"?kt=-1:mt===void 0?z.hasOwnProperty(yt)?(tt+=z[yt],mt=parseInt(tt,16)*kt,kt=1,tt=""):tt+=yt:z.hasOwnProperty(yt)?(Qt+=z[yt],Kt[mt]=parseInt(Qt,16)*kt,kt=1,mt=void 0,Qt=""):Qt+=yt;return nt},De={codePages:["WinAnsiEncoding"],WinAnsiEncoding:xe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ve={Unicode:{Courier:De,"Courier-Bold":De,"Courier-BoldOblique":De,"Courier-Oblique":De,Helvetica:De,"Helvetica-Bold":De,"Helvetica-BoldOblique":De,"Helvetica-Oblique":De,"Times-Roman":De,"Times-Bold":De,"Times-BoldItalic":De,"Times-Italic":De}},et={Unicode:{"Courier-Oblique":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":xe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":xe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:xe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:xe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":xe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":xe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};I.events.push(["addFont",function(st){var Oe=st.font,vt=et.Unicode[Oe.postScriptName];vt&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=vt.widths,Oe.metadata.Unicode.kerning=vt.kerning);var mt=Ve.Unicode[Oe.postScriptName];mt&&(Oe.metadata.Unicode.encoding=mt,Oe.encoding=mt.codePages[0])}])})(de.API),(function(I){var B=function(M){for(var z=M.length,Y=new Uint8Array(z),re=0;re<z;re++)Y[re]=M.charCodeAt(re);return Y};I.API.events.push(["addFont",function(M){var z=void 0,Y=M.font,re=M.instance;if(!Y.isStandardFont){if(re===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Y.postScriptName+"').");if(typeof(z=re.existsFileInVFS(Y.postScriptName)===!1?re.loadFile(Y.postScriptName):re.getFileFromVFS(Y.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Y.postScriptName+"').");(function(Ne,ge){ge=/^\x00\x01\x00\x00/.test(ge)?B(ge):B(j(ge)),Ne.metadata=I.API.TTFFont.open(ge),Ne.metadata.Unicode=Ne.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ne.metadata.glyIdsUsed=[0]})(Y,z)}}])})(de),de.API.addSvgAsImage=function(I,B,M,z,Y,re,Ne,ge){if(isNaN(B)||isNaN(M))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(z)||isNaN(Y))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var xe=document.createElement("canvas");xe.width=z,xe.height=Y;var De=xe.getContext("2d");De.fillStyle="#fff",De.fillRect(0,0,xe.width,xe.height);var Ve={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},et=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(st){return Promise.reject(new Error("Could not load canvg: "+st))}).then(function(st){return st.default?st.default:st}).then(function(st){return st.fromString(De,I,Ve)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(st){return st.render(Ve)}).then(function(){et.addImage(xe.toDataURL("image/jpeg",1),B,M,z,Y,Ne,ge)})},de.API.putTotalPages=function(I){var B,M=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(B=new RegExp(I,"g"),M=this.internal.getNumberOfPages()):(B=new RegExp(this.pdfEscape16(I,this.internal.getFont()),"g"),M=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var z=1;z<=this.internal.getNumberOfPages();z++)for(var Y=0;Y<this.internal.pages[z].length;Y++)this.internal.pages[z][Y]=this.internal.pages[z][Y].replace(B,M);return this},de.API.viewerPreferences=function(I,B){var M;I=I||{},B=B||!1;var z,Y,re,Ne={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ge=Object.keys(Ne),xe=[],De=0,Ve=0,et=0;function st(vt,mt){var yt,nt=!1;for(yt=0;yt<vt.length;yt+=1)vt[yt]===mt&&(nt=!0);return nt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ne)),this.internal.viewerpreferences.isSubscribed=!1),M=this.internal.viewerpreferences.configuration,I==="reset"||B===!0){var Oe=ge.length;for(et=0;et<Oe;et+=1)M[ge[et]].value=M[ge[et]].defaultValue,M[ge[et]].explicitSet=!1}if((0,h.default)(I)==="object"){for(Y in I)if(re=I[Y],st(ge,Y)&&re!==void 0){if(M[Y].type==="boolean"&&typeof re=="boolean")M[Y].value=re;else if(M[Y].type==="name"&&st(M[Y].valueSet,re))M[Y].value=re;else if(M[Y].type==="integer"&&Number.isInteger(re))M[Y].value=re;else if(M[Y].type==="array"){for(De=0;De<re.length;De+=1)if(z=!0,re[De].length===1&&typeof re[De][0]=="number")xe.push(String(re[De]-1));else if(re[De].length>1){for(Ve=0;Ve<re[De].length;Ve+=1)typeof re[De][Ve]!="number"&&(z=!1);z===!0&&xe.push([re[De][0]-1,re[De][1]-1].join(" "))}M[Y].value="["+xe.join(" ")+"]"}else M[Y].value=M[Y].defaultValue;M[Y].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var vt,mt=[];for(vt in M)M[vt].explicitSet===!0&&(M[vt].type==="name"?mt.push("/"+vt+" /"+M[vt].value):mt.push("/"+vt+" "+M[vt].value));mt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+mt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=M,this},(function(I){var B=function(){var z='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Y=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),re=unescape(encodeURIComponent(z)),Ne=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ge=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),xe=unescape(encodeURIComponent("</x:xmpmeta>")),De=re.length+Ne.length+ge.length+Y.length+xe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+De+" >>"),this.internal.write("stream"),this.internal.write(Y+re+Ne+ge+xe),this.internal.write("endstream"),this.internal.write("endobj")},M=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};I.addMetadata=function(z,Y){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:z,namespaceuri:Y||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",M),this.internal.events.subscribe("postPutResources",B)),this}})(de.API),(function(I){var B=I.API,M=B.pdfEscape16=function(re,Ne){for(var ge,xe=Ne.metadata.Unicode.widths,De=["","0","00","000","0000"],Ve=[""],et=0,st=re.length;et<st;++et){if(ge=Ne.metadata.characterToGlyph(re.charCodeAt(et)),Ne.metadata.glyIdsUsed.push(ge),Ne.metadata.toUnicode[ge]=re.charCodeAt(et),xe.indexOf(ge)==-1&&(xe.push(ge),xe.push([parseInt(Ne.metadata.widthOfGlyph(ge),10)])),ge=="0")return Ve.join("");ge=ge.toString(16),Ve.push(De[4-ge.length],ge)}return Ve.join("")},z=function(re){var Ne,ge,xe,De,Ve,et,st;for(Ve=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,xe=[],et=0,st=(ge=Object.keys(re).sort(function(Oe,vt){return Oe-vt})).length;et<st;et++)Ne=ge[et],xe.length>=100&&(Ve+=`
`+xe.length+` beginbfchar
`+xe.join(`
`)+`
endbfchar`,xe=[]),re[Ne]!==void 0&&re[Ne]!==null&&typeof re[Ne].toString=="function"&&(De=("0000"+re[Ne].toString(16)).slice(-4),Ne=("0000"+(+Ne).toString(16)).slice(-4),xe.push("<"+Ne+"><"+De+">"));return xe.length&&(Ve+=`
`+xe.length+` beginbfchar
`+xe.join(`
`)+`
endbfchar
`),Ve+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};B.events.push(["putFont",function(re){(function(Ne){var ge=Ne.font,xe=Ne.out,De=Ne.newObject,Ve=Ne.putStream;if(ge.metadata instanceof I.API.TTFFont&&ge.encoding==="Identity-H"){for(var et=ge.metadata.Unicode.widths,st=ge.metadata.subset.encode(ge.metadata.glyIdsUsed,1),Oe="",vt=0;vt<st.length;vt++)Oe+=String.fromCharCode(st[vt]);var mt=De();Ve({data:Oe,addLength1:!0,objectId:mt}),xe("endobj");var yt=De();Ve({data:z(ge.metadata.toUnicode),addLength1:!0,objectId:yt}),xe("endobj");var nt=De();xe("<<"),xe("/Type /FontDescriptor"),xe("/FontName /"+Ae(ge.fontName)),xe("/FontFile2 "+mt+" 0 R"),xe("/FontBBox "+I.API.PDFObject.convert(ge.metadata.bbox)),xe("/Flags "+ge.metadata.flags),xe("/StemV "+ge.metadata.stemV),xe("/ItalicAngle "+ge.metadata.italicAngle),xe("/Ascent "+ge.metadata.ascender),xe("/Descent "+ge.metadata.decender),xe("/CapHeight "+ge.metadata.capHeight),xe(">>"),xe("endobj");var kt=De();xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+Ae(ge.fontName)),xe("/FontDescriptor "+nt+" 0 R"),xe("/W "+I.API.PDFObject.convert(et)),xe("/CIDToGIDMap /Identity"),xe("/DW 1000"),xe("/Subtype /CIDFontType2"),xe("/CIDSystemInfo"),xe("<<"),xe("/Supplement 0"),xe("/Registry (Adobe)"),xe("/Ordering ("+ge.encoding+")"),xe(">>"),xe(">>"),xe("endobj"),ge.objectNumber=De(),xe("<<"),xe("/Type /Font"),xe("/Subtype /Type0"),xe("/ToUnicode "+yt+" 0 R"),xe("/BaseFont /"+Ae(ge.fontName)),xe("/Encoding /"+ge.encoding),xe("/DescendantFonts ["+kt+" 0 R]"),xe(">>"),xe("endobj"),ge.isAlreadyPutted=!0}})(re)}]),B.events.push(["putFont",function(re){(function(Ne){var ge=Ne.font,xe=Ne.out,De=Ne.newObject,Ve=Ne.putStream;if(ge.metadata instanceof I.API.TTFFont&&ge.encoding==="WinAnsiEncoding"){for(var et=ge.metadata.rawData,st="",Oe=0;Oe<et.length;Oe++)st+=String.fromCharCode(et[Oe]);var vt=De();Ve({data:st,addLength1:!0,objectId:vt}),xe("endobj");var mt=De();Ve({data:z(ge.metadata.toUnicode),addLength1:!0,objectId:mt}),xe("endobj");var yt=De();xe("<<"),xe("/Descent "+ge.metadata.decender),xe("/CapHeight "+ge.metadata.capHeight),xe("/StemV "+ge.metadata.stemV),xe("/Type /FontDescriptor"),xe("/FontFile2 "+vt+" 0 R"),xe("/Flags 96"),xe("/FontBBox "+I.API.PDFObject.convert(ge.metadata.bbox)),xe("/FontName /"+Ae(ge.fontName)),xe("/ItalicAngle "+ge.metadata.italicAngle),xe("/Ascent "+ge.metadata.ascender),xe(">>"),xe("endobj"),ge.objectNumber=De();for(var nt=0;nt<ge.metadata.hmtx.widths.length;nt++)ge.metadata.hmtx.widths[nt]=parseInt(ge.metadata.hmtx.widths[nt]*(1e3/ge.metadata.head.unitsPerEm));xe("<</Subtype/TrueType/Type/Font/ToUnicode "+mt+" 0 R/BaseFont/"+Ae(ge.fontName)+"/FontDescriptor "+yt+" 0 R/Encoding/"+ge.encoding+" /FirstChar 29 /LastChar 255 /Widths "+I.API.PDFObject.convert(ge.metadata.hmtx.widths)+">>"),xe("endobj"),ge.isAlreadyPutted=!0}})(re)}]);var Y=function(re){var Ne,ge=re.text||"",xe=re.x,De=re.y,Ve=re.options||{},et=re.mutex||{},st=et.pdfEscape,Oe=et.activeFontKey,vt=et.fonts,mt=Oe,yt="",nt=0,kt="",Kt=vt[mt].encoding;if(vt[mt].encoding!=="Identity-H")return{text:ge,x:xe,y:De,options:Ve,mutex:et};for(kt=ge,mt=Oe,Array.isArray(ge)&&(kt=ge[0]),nt=0;nt<kt.length;nt+=1)vt[mt].metadata.hasOwnProperty("cmap")&&(Ne=vt[mt].metadata.cmap.unicode.codeMap[kt[nt].charCodeAt(0)]),Ne||kt[nt].charCodeAt(0)<256&&vt[mt].metadata.hasOwnProperty("Unicode")?yt+=kt[nt]:yt+="";var Et="";return parseInt(mt.slice(1))<14||Kt==="WinAnsiEncoding"?Et=st(yt,mt).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):Kt==="Identity-H"&&(Et=M(yt,vt[mt])),et.isHex=!0,{text:Et,x:xe,y:De,options:Ve,mutex:et}};B.events.push(["postProcessText",function(re){var Ne=re.text||"",ge=[],xe={text:Ne,x:re.x,y:re.y,options:re.options,mutex:re.mutex};if(Array.isArray(Ne)){var De=0;for(De=0;De<Ne.length;De+=1)Array.isArray(Ne[De])&&Ne[De].length===3?ge.push([Y(Object.assign({},xe,{text:Ne[De][0]})).text,Ne[De][1],Ne[De][2]]):ge.push(Y(Object.assign({},xe,{text:Ne[De]})).text);re.text=ge}else re.text=Y(Object.assign({},xe,{text:Ne})).text}])})(de),(function(I){var B=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};I.existsFileInVFS=function(M){return B.call(this),this.internal.vFS[M]!==void 0},I.addFileToVFS=function(M,z){return B.call(this),this.internal.vFS[M]=z,this},I.getFileFromVFS=function(M){return B.call(this),this.internal.vFS[M]!==void 0?this.internal.vFS[M]:null}})(de.API),(function(I){I.__bidiEngine__=I.prototype.__bidiEngine__=function(z){var Y,re,Ne,ge,xe,De,Ve,et=B,st=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Oe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],vt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},mt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},yt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),kt=!1,Kt=0;this.__bidiEngine__={};var Et=function(at){var dt=at.charCodeAt(),It=dt>>8,Tt=mt[It];return Tt!==void 0?et[256*Tt+(255&dt)]:It===252||It===253?"AL":nt.test(It)?"L":It===8?"R":"N"},tt=function(at){for(var dt,It=0;It<at.length;It++){if((dt=Et(at.charAt(It)))==="L")return!1;if(dt==="R")return!0}return!1},Qt=function(at,dt,It,Tt){var cr,Ar,xr,Jt,gr=dt[Tt];switch(gr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":kt=!1;break;case"N":case"AN":break;case"EN":kt&&(gr="AN");break;case"AL":kt=!0,gr="R";break;case"WS":case"BN":gr="N";break;case"CS":Tt<1||Tt+1>=dt.length||(cr=It[Tt-1])!=="EN"&&cr!=="AN"||(Ar=dt[Tt+1])!=="EN"&&Ar!=="AN"?gr="N":kt&&(Ar="AN"),gr=Ar===cr?Ar:"N";break;case"ES":gr=(cr=Tt>0?It[Tt-1]:"B")==="EN"&&Tt+1<dt.length&&dt[Tt+1]==="EN"?"EN":"N";break;case"ET":if(Tt>0&&It[Tt-1]==="EN"){gr="EN";break}if(kt){gr="N";break}for(xr=Tt+1,Jt=dt.length;xr<Jt&&dt[xr]==="ET";)xr++;gr=xr<Jt&&dt[xr]==="EN"?"EN":"N";break;case"NSM":if(Ne&&!ge){for(Jt=dt.length,xr=Tt+1;xr<Jt&&dt[xr]==="NSM";)xr++;if(xr<Jt){var Zr=at[Tt],Hr=Zr>=1425&&Zr<=2303||Zr===64286;if(cr=dt[xr],Hr&&(cr==="R"||cr==="AL")){gr="R";break}}}gr=Tt<1||(cr=dt[Tt-1])==="B"?"N":It[Tt-1];break;case"B":kt=!1,Y=!0,gr=Kt;break;case"S":re=!0,gr="N"}return gr},lr=function(at,dt,It){var Tt=at.split("");return It&&qt(Tt,It,{hiLevel:Kt}),Tt.reverse(),dt&&dt.reverse(),Tt.join("")},qt=function(at,dt,It){var Tt,cr,Ar,xr,Jt,gr=-1,Zr=at.length,Hr=0,Ye=[],xt=Kt?Oe:st,Nt=[];for(kt=!1,Y=!1,re=!1,cr=0;cr<Zr;cr++)Nt[cr]=Et(at[cr]);for(Ar=0;Ar<Zr;Ar++){if(Jt=Hr,Ye[Ar]=Qt(at,Nt,Ye,Ar),Tt=240&(Hr=xt[Jt][vt[Ye[Ar]]]),Hr&=15,dt[Ar]=xr=xt[Hr][5],Tt>0)if(Tt===16){for(cr=gr;cr<Ar;cr++)dt[cr]=1;gr=-1}else gr=-1;if(xt[Hr][6])gr===-1&&(gr=Ar);else if(gr>-1){for(cr=gr;cr<Ar;cr++)dt[cr]=xr;gr=-1}Nt[Ar]==="B"&&(dt[Ar]=0),It.hiLevel|=xr}re&&(function(Wt,zt,nr){for(var mr=0;mr<nr;mr++)if(Wt[mr]==="S"){zt[mr]=Kt;for(var vr=mr-1;vr>=0&&Wt[vr]==="WS";vr--)zt[vr]=Kt}})(Nt,dt,Zr)},_t=function(at,dt,It,Tt,cr){if(!(cr.hiLevel<at)){if(at===1&&Kt===1&&!Y)return dt.reverse(),void(It&&It.reverse());for(var Ar,xr,Jt,gr,Zr=dt.length,Hr=0;Hr<Zr;){if(Tt[Hr]>=at){for(Jt=Hr+1;Jt<Zr&&Tt[Jt]>=at;)Jt++;for(gr=Hr,xr=Jt-1;gr<xr;gr++,xr--)Ar=dt[gr],dt[gr]=dt[xr],dt[xr]=Ar,It&&(Ar=It[gr],It[gr]=It[xr],It[xr]=Ar);Hr=Jt}Hr++}}},or=function(at,dt,It){var Tt=at.split(""),cr={hiLevel:Kt};return It||(It=[]),qt(Tt,It,cr),(function(Ar,xr,Jt){if(Jt.hiLevel!==0&&Ve)for(var gr,Zr=0;Zr<Ar.length;Zr++)xr[Zr]===1&&(gr=yt.indexOf(Ar[Zr]))>=0&&(Ar[Zr]=yt[gr+1])})(Tt,It,cr),_t(2,Tt,dt,It,cr),_t(1,Tt,dt,It,cr),Tt.join("")};return this.__bidiEngine__.doBidiReorder=function(at,dt,It){if((function(cr,Ar){if(Ar)for(var xr=0;xr<cr.length;xr++)Ar[xr]=xr;ge===void 0&&(ge=tt(cr)),De===void 0&&(De=tt(cr))})(at,dt),Ne||!xe||De)if(Ne&&xe&&ge^De)Kt=ge?1:0,at=lr(at,dt,It);else if(!Ne&&xe&&De)Kt=ge?1:0,at=or(at,dt,It),at=lr(at,dt);else if(!Ne||ge||xe||De){if(Ne&&!xe&&ge^De)at=lr(at,dt),ge?(Kt=0,at=or(at,dt,It)):(Kt=1,at=or(at,dt,It),at=lr(at,dt));else if(Ne&&ge&&!xe&&De)Kt=1,at=or(at,dt,It),at=lr(at,dt);else if(!Ne&&!xe&&ge^De){var Tt=Ve;ge?(Kt=1,at=or(at,dt,It),Kt=0,Ve=!1,at=or(at,dt,It),Ve=Tt):(Kt=0,at=or(at,dt,It),at=lr(at,dt),Kt=1,Ve=!1,at=or(at,dt,It),Ve=Tt,at=lr(at,dt))}}else Kt=0,at=or(at,dt,It);else Kt=ge?1:0,at=or(at,dt,It);return at},this.__bidiEngine__.setOptions=function(at){at&&(Ne=at.isInputVisual,xe=at.isOutputVisual,ge=at.isInputRtl,De=at.isOutputRtl,Ve=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(z),this.__bidiEngine__};var B=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],M=new I.__bidiEngine__({isInputVisual:!0});I.API.events.push(["postProcessText",function(z){var Y=z.text;z.x,z.y;var re=z.options||{};z.mutex,re.lang;var Ne=[];if(re.isInputVisual=typeof re.isInputVisual!="boolean"||re.isInputVisual,M.setOptions(re),Object.prototype.toString.call(Y)==="[object Array]"){var ge=0;for(Ne=[],ge=0;ge<Y.length;ge+=1)Object.prototype.toString.call(Y[ge])==="[object Array]"?Ne.push([M.doBidiReorder(Y[ge][0]),Y[ge][1],Y[ge][2]]):Ne.push([M.doBidiReorder(Y[ge])]);z.text=Ne}else z.text=M.doBidiReorder(Y);M.setOptions({isInputVisual:!0})}])})(de),de.API.TTFFont=(function(){function I(B){var M;if(this.rawData=B,M=this.contents=new ki(B),this.contents.pos=4,M.readString(4)==="ttcf")throw new Error("TTCF not supported.");M.pos=0,this.parse(),this.subset=new it(this),this.registerTTF()}return I.open=function(B){return new I(B)},I.prototype.parse=function(){return this.directory=new xo(this.contents),this.head=new Wi(this),this.name=new oe(this),this.cmap=new Xs(this),this.toUnicode={},this.hhea=new Ps(this),this.maxp=new he(this),this.hmtx=new R(this),this.post=new Ut(this),this.os2=new Po(this),this.loca=new Ge(this),this.glyf=new te(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},I.prototype.registerTTF=function(){var B,M,z,Y,re;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ne,ge,xe,De;for(De=[],Ne=0,ge=(xe=this.bbox).length;Ne<ge;Ne++)B=xe[Ne],De.push(Math.round(B*this.scaleFactor));return De}).call(this),this.stemV=0,this.post.exists?(z=255&(Y=this.post.italic_angle),32768&(M=Y>>16)&&(M=-(1+(65535^M))),this.italicAngle=+(M+"."+z)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(re=this.familyClass)===1||re===2||re===3||re===4||re===5||re===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},I.prototype.characterToGlyph=function(B){var M;return((M=this.cmap.unicode)!=null?M.codeMap[B]:void 0)||0},I.prototype.widthOfGlyph=function(B){var M;return M=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(B).advance*M},I.prototype.widthOfString=function(B,M,z){var Y,re,Ne,ge;for(Ne=0,re=0,ge=(B=""+B).length;0<=ge?re<ge:re>ge;re=0<=ge?++re:--re)Y=B.charCodeAt(re),Ne+=this.widthOfGlyph(this.characterToGlyph(Y))+z*(1e3/M)||0;return Ne*(M/1e3)},I.prototype.lineHeight=function(B,M){var z;return M==null&&(M=!1),z=M?this.lineGap:0,(this.ascender+z-this.decender)/1e3*B},I})();var Xi,ki=(function(){function I(B){this.data=B??[],this.pos=0,this.length=this.data.length}return I.prototype.readByte=function(){return this.data[this.pos++]},I.prototype.writeByte=function(B){return this.data[this.pos++]=B},I.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},I.prototype.writeUInt32=function(B){return this.writeByte(B>>>24&255),this.writeByte(B>>16&255),this.writeByte(B>>8&255),this.writeByte(255&B)},I.prototype.readInt32=function(){var B;return(B=this.readUInt32())>=2147483648?B-4294967296:B},I.prototype.writeInt32=function(B){return B<0&&(B+=4294967296),this.writeUInt32(B)},I.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},I.prototype.writeUInt16=function(B){return this.writeByte(B>>8&255),this.writeByte(255&B)},I.prototype.readInt16=function(){var B;return(B=this.readUInt16())>=32768?B-65536:B},I.prototype.writeInt16=function(B){return B<0&&(B+=65536),this.writeUInt16(B)},I.prototype.readString=function(B){var M,z;for(z=[],M=0;0<=B?M<B:M>B;M=0<=B?++M:--M)z[M]=String.fromCharCode(this.readByte());return z.join("")},I.prototype.writeString=function(B){var M,z,Y;for(Y=[],M=0,z=B.length;0<=z?M<z:M>z;M=0<=z?++M:--M)Y.push(this.writeByte(B.charCodeAt(M)));return Y},I.prototype.readShort=function(){return this.readInt16()},I.prototype.writeShort=function(B){return this.writeInt16(B)},I.prototype.readLongLong=function(){var B,M,z,Y,re,Ne,ge,xe;return B=this.readByte(),M=this.readByte(),z=this.readByte(),Y=this.readByte(),re=this.readByte(),Ne=this.readByte(),ge=this.readByte(),xe=this.readByte(),128&B?-1*(72057594037927940*(255^B)+281474976710656*(255^M)+1099511627776*(255^z)+4294967296*(255^Y)+16777216*(255^re)+65536*(255^Ne)+256*(255^ge)+(255^xe)+1):72057594037927940*B+281474976710656*M+1099511627776*z+4294967296*Y+16777216*re+65536*Ne+256*ge+xe},I.prototype.writeLongLong=function(B){var M,z;return M=Math.floor(B/4294967296),z=4294967295&B,this.writeByte(M>>24&255),this.writeByte(M>>16&255),this.writeByte(M>>8&255),this.writeByte(255&M),this.writeByte(z>>24&255),this.writeByte(z>>16&255),this.writeByte(z>>8&255),this.writeByte(255&z)},I.prototype.readInt=function(){return this.readInt32()},I.prototype.writeInt=function(B){return this.writeInt32(B)},I.prototype.read=function(B){var M,z;for(M=[],z=0;0<=B?z<B:z>B;z=0<=B?++z:--z)M.push(this.readByte());return M},I.prototype.write=function(B){var M,z,Y,re;for(re=[],z=0,Y=B.length;z<Y;z++)M=B[z],re.push(this.writeByte(M));return re},I})(),xo=(function(){var I;function B(M){var z,Y,re;for(this.scalarType=M.readInt(),this.tableCount=M.readShort(),this.searchRange=M.readShort(),this.entrySelector=M.readShort(),this.rangeShift=M.readShort(),this.tables={},Y=0,re=this.tableCount;0<=re?Y<re:Y>re;Y=0<=re?++Y:--Y)z={tag:M.readString(4),checksum:M.readInt(),offset:M.readInt(),length:M.readInt()},this.tables[z.tag]=z}return B.prototype.encode=function(M){var z,Y,re,Ne,ge,xe,De,Ve,et,st,Oe,vt,mt;for(mt in Oe=Object.keys(M).length,xe=Math.log(2),et=16*Math.floor(Math.log(Oe)/xe),Ne=Math.floor(et/xe),Ve=16*Oe-et,(Y=new ki).writeInt(this.scalarType),Y.writeShort(Oe),Y.writeShort(et),Y.writeShort(Ne),Y.writeShort(Ve),re=16*Oe,De=Y.pos+re,ge=null,vt=[],M)for(st=M[mt],Y.writeString(mt),Y.writeInt(I(st)),Y.writeInt(De),Y.writeInt(st.length),vt=vt.concat(st),mt==="head"&&(ge=De),De+=st.length;De%4;)vt.push(0),De++;return Y.write(vt),z=2981146554-I(Y.data),Y.pos=ge+8,Y.writeUInt32(z),Y.data},I=function(M){var z,Y,re,Ne;for(M=W.call(M);M.length%4;)M.push(0);for(re=new ki(M),Y=0,z=0,Ne=M.length;z<Ne;z=z+=4)Y+=re.readUInt32();return 4294967295&Y},B})(),ko={}.hasOwnProperty,ma=function(I,B){for(var M in B)ko.call(B,M)&&(I[M]=B[M]);function z(){this.constructor=I}return z.prototype=B.prototype,I.prototype=new z,I.__super__=B.prototype,I};Xi=(function(){function I(B){var M;this.file=B,M=this.file.directory.tables[this.tag],this.exists=!!M,M&&(this.offset=M.offset,this.length=M.length,this.parse(this.file.contents))}return I.prototype.parse=function(){},I.prototype.encode=function(){},I.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},I})();var Wi=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="head",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.revision=B.readInt(),this.checkSumAdjustment=B.readInt(),this.magicNumber=B.readInt(),this.flags=B.readShort(),this.unitsPerEm=B.readShort(),this.created=B.readLongLong(),this.modified=B.readLongLong(),this.xMin=B.readShort(),this.yMin=B.readShort(),this.xMax=B.readShort(),this.yMax=B.readShort(),this.macStyle=B.readShort(),this.lowestRecPPEM=B.readShort(),this.fontDirectionHint=B.readShort(),this.indexToLocFormat=B.readShort(),this.glyphDataFormat=B.readShort()},I.prototype.encode=function(B){var M;return(M=new ki).writeInt(this.version),M.writeInt(this.revision),M.writeInt(this.checkSumAdjustment),M.writeInt(this.magicNumber),M.writeShort(this.flags),M.writeShort(this.unitsPerEm),M.writeLongLong(this.created),M.writeLongLong(this.modified),M.writeShort(this.xMin),M.writeShort(this.yMin),M.writeShort(this.xMax),M.writeShort(this.yMax),M.writeShort(this.macStyle),M.writeShort(this.lowestRecPPEM),M.writeShort(this.fontDirectionHint),M.writeShort(B),M.writeShort(this.glyphDataFormat),M.data},I})(),ys=(function(){function I(B,M){var z,Y,re,Ne,ge,xe,De,Ve,et,st,Oe,vt,mt,yt,nt,kt,Kt;switch(this.platformID=B.readUInt16(),this.encodingID=B.readShort(),this.offset=M+B.readInt(),et=B.pos,B.pos=this.offset,this.format=B.readUInt16(),this.length=B.readUInt16(),this.language=B.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(xe=0;xe<256;++xe)this.codeMap[xe]=B.readByte();break;case 4:for(Oe=B.readUInt16(),st=Oe/2,B.pos+=6,re=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),B.pos+=2,mt=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),De=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),Ve=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=st?Et<st:Et>st;xe=0<=st?++Et:--Et)tt.push(B.readUInt16());return tt})(),Y=(this.length-B.pos+this.offset)/2,ge=(function(){var Et,tt;for(tt=[],xe=Et=0;0<=Y?Et<Y:Et>Y;xe=0<=Y?++Et:--Et)tt.push(B.readUInt16());return tt})(),xe=nt=0,Kt=re.length;nt<Kt;xe=++nt)for(yt=re[xe],z=kt=vt=mt[xe];vt<=yt?kt<=yt:kt>=yt;z=vt<=yt?++kt:--kt)Ve[xe]===0?Ne=z+De[xe]:(Ne=ge[Ve[xe]/2+(z-vt)-(st-xe)]||0)!==0&&(Ne+=De[xe]),this.codeMap[z]=65535&Ne}B.pos=et}return I.encode=function(B,M){var z,Y,re,Ne,ge,xe,De,Ve,et,st,Oe,vt,mt,yt,nt,kt,Kt,Et,tt,Qt,lr,qt,_t,or,at,dt,It,Tt,cr,Ar,xr,Jt,gr,Zr,Hr,Ye,xt,Nt,Wt,zt,nr,mr,vr,Pr,Jr,Nn;switch(Tt=new ki,Ne=Object.keys(B).sort(function(Bn,ca){return Bn-ca}),M){case"macroman":for(mt=0,yt=(function(){var Bn=[];for(vt=0;vt<256;++vt)Bn.push(0);return Bn})(),kt={0:0},re={},cr=0,gr=Ne.length;cr<gr;cr++)kt[vr=B[Y=Ne[cr]]]==null&&(kt[vr]=++mt),re[Y]={old:B[Y],new:kt[B[Y]]},yt[Y]=kt[B[Y]];return Tt.writeUInt16(1),Tt.writeUInt16(0),Tt.writeUInt32(12),Tt.writeUInt16(0),Tt.writeUInt16(262),Tt.writeUInt16(0),Tt.write(yt),{charMap:re,subtable:Tt.data,maxGlyphID:mt+1};case"unicode":for(dt=[],et=[],Kt=0,kt={},z={},nt=De=null,Ar=0,Zr=Ne.length;Ar<Zr;Ar++)kt[tt=B[Y=Ne[Ar]]]==null&&(kt[tt]=++Kt),z[Y]={old:tt,new:kt[tt]},ge=kt[tt]-Y,nt!=null&&ge===De||(nt&&et.push(nt),dt.push(Y),De=ge),nt=Y;for(nt&&et.push(nt),et.push(65535),dt.push(65535),or=2*(_t=dt.length),qt=2*Math.pow(Math.log(_t)/Math.LN2,2),st=Math.log(qt/2)/Math.LN2,lr=2*_t-qt,xe=[],Qt=[],Oe=[],vt=xr=0,Hr=dt.length;xr<Hr;vt=++xr){if(at=dt[vt],Ve=et[vt],at===65535){xe.push(0),Qt.push(0);break}if(at-(It=z[at].new)>=32768)for(xe.push(0),Qt.push(2*(Oe.length+_t-vt)),Y=Jt=at;at<=Ve?Jt<=Ve:Jt>=Ve;Y=at<=Ve?++Jt:--Jt)Oe.push(z[Y].new);else xe.push(It-at),Qt.push(0)}for(Tt.writeUInt16(3),Tt.writeUInt16(1),Tt.writeUInt32(12),Tt.writeUInt16(4),Tt.writeUInt16(16+8*_t+2*Oe.length),Tt.writeUInt16(0),Tt.writeUInt16(or),Tt.writeUInt16(qt),Tt.writeUInt16(st),Tt.writeUInt16(lr),nr=0,Ye=et.length;nr<Ye;nr++)Y=et[nr],Tt.writeUInt16(Y);for(Tt.writeUInt16(0),mr=0,xt=dt.length;mr<xt;mr++)Y=dt[mr],Tt.writeUInt16(Y);for(Pr=0,Nt=xe.length;Pr<Nt;Pr++)ge=xe[Pr],Tt.writeUInt16(ge);for(Jr=0,Wt=Qt.length;Jr<Wt;Jr++)Et=Qt[Jr],Tt.writeUInt16(Et);for(Nn=0,zt=Oe.length;Nn<zt;Nn++)mt=Oe[Nn],Tt.writeUInt16(mt);return{charMap:z,subtable:Tt.data,maxGlyphID:Kt+1}}},I})(),Xs=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="cmap",I.prototype.parse=function(B){var M,z,Y;for(B.pos=this.offset,this.version=B.readUInt16(),Y=B.readUInt16(),this.tables=[],this.unicode=null,z=0;0<=Y?z<Y:z>Y;z=0<=Y?++z:--z)M=new ys(B,this.offset),this.tables.push(M),M.isUnicode&&this.unicode==null&&(this.unicode=M);return!0},I.encode=function(B,M){var z,Y;return M==null&&(M="macroman"),z=ys.encode(B,M),(Y=new ki).writeUInt16(0),Y.writeUInt16(1),z.table=Y.data.concat(z.subtable),z},I})(),Ps=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="hhea",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.ascender=B.readShort(),this.decender=B.readShort(),this.lineGap=B.readShort(),this.advanceWidthMax=B.readShort(),this.minLeftSideBearing=B.readShort(),this.minRightSideBearing=B.readShort(),this.xMaxExtent=B.readShort(),this.caretSlopeRise=B.readShort(),this.caretSlopeRun=B.readShort(),this.caretOffset=B.readShort(),B.pos+=8,this.metricDataFormat=B.readShort(),this.numberOfMetrics=B.readUInt16()},I})(),Po=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="OS/2",I.prototype.parse=function(B){if(B.pos=this.offset,this.version=B.readUInt16(),this.averageCharWidth=B.readShort(),this.weightClass=B.readUInt16(),this.widthClass=B.readUInt16(),this.type=B.readShort(),this.ySubscriptXSize=B.readShort(),this.ySubscriptYSize=B.readShort(),this.ySubscriptXOffset=B.readShort(),this.ySubscriptYOffset=B.readShort(),this.ySuperscriptXSize=B.readShort(),this.ySuperscriptYSize=B.readShort(),this.ySuperscriptXOffset=B.readShort(),this.ySuperscriptYOffset=B.readShort(),this.yStrikeoutSize=B.readShort(),this.yStrikeoutPosition=B.readShort(),this.familyClass=B.readShort(),this.panose=(function(){var M,z;for(z=[],M=0;M<10;++M)z.push(B.readByte());return z})(),this.charRange=(function(){var M,z;for(z=[],M=0;M<4;++M)z.push(B.readInt());return z})(),this.vendorID=B.readString(4),this.selection=B.readShort(),this.firstCharIndex=B.readShort(),this.lastCharIndex=B.readShort(),this.version>0&&(this.ascent=B.readShort(),this.descent=B.readShort(),this.lineGap=B.readShort(),this.winAscent=B.readShort(),this.winDescent=B.readShort(),this.codePageRange=(function(){var M,z;for(z=[],M=0;M<2;M=++M)z.push(B.readInt());return z})(),this.version>1))return this.xHeight=B.readShort(),this.capHeight=B.readShort(),this.defaultChar=B.readShort(),this.breakChar=B.readShort(),this.maxContext=B.readShort()},I})(),Ut=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="post",I.prototype.parse=function(B){var M,z,Y;switch(B.pos=this.offset,this.format=B.readInt(),this.italicAngle=B.readInt(),this.underlinePosition=B.readShort(),this.underlineThickness=B.readShort(),this.isFixedPitch=B.readInt(),this.minMemType42=B.readInt(),this.maxMemType42=B.readInt(),this.minMemType1=B.readInt(),this.maxMemType1=B.readInt(),this.format){case 65536:case 196608:break;case 131072:var re;for(z=B.readUInt16(),this.glyphNameIndex=[],re=0;0<=z?re<z:re>z;re=0<=z?++re:--re)this.glyphNameIndex.push(B.readUInt16());for(this.names=[],Y=[];B.pos<this.offset+this.length;)M=B.readByte(),Y.push(this.names.push(B.readString(M)));return Y;case 151552:return z=B.readUInt16(),this.offsets=B.read(z);case 262144:return this.map=(function(){var Ne,ge,xe;for(xe=[],re=Ne=0,ge=this.file.maxp.numGlyphs;0<=ge?Ne<ge:Ne>ge;re=0<=ge?++Ne:--Ne)xe.push(B.readUInt32());return xe}).call(this)}},I})(),Q=function(I,B){this.raw=I,this.length=I.length,this.platformID=B.platformID,this.encodingID=B.encodingID,this.languageID=B.languageID},oe=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="name",I.prototype.parse=function(B){var M,z,Y,re,Ne,ge,xe,De,Ve,et,st;for(B.pos=this.offset,B.readShort(),M=B.readShort(),ge=B.readShort(),z=[],re=0;0<=M?re<M:re>M;re=0<=M?++re:--re)z.push({platformID:B.readShort(),encodingID:B.readShort(),languageID:B.readShort(),nameID:B.readShort(),length:B.readShort(),offset:this.offset+ge+B.readShort()});for(xe={},re=Ve=0,et=z.length;Ve<et;re=++Ve)Y=z[re],B.pos=Y.offset,De=B.readString(Y.length),Ne=new Q(De,Y),xe[st=Y.nameID]==null&&(xe[st]=[]),xe[Y.nameID].push(Ne);this.strings=xe,this.copyright=xe[0],this.fontFamily=xe[1],this.fontSubfamily=xe[2],this.uniqueSubfamily=xe[3],this.fontName=xe[4],this.version=xe[5];try{this.postscriptName=xe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=xe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=xe[7],this.manufacturer=xe[8],this.designer=xe[9],this.description=xe[10],this.vendorUrl=xe[11],this.designerUrl=xe[12],this.license=xe[13],this.licenseUrl=xe[14],this.preferredFamily=xe[15],this.preferredSubfamily=xe[17],this.compatibleFull=xe[18],this.sampleText=xe[19]},I})(),he=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="maxp",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.numGlyphs=B.readUInt16(),this.maxPoints=B.readUInt16(),this.maxContours=B.readUInt16(),this.maxCompositePoints=B.readUInt16(),this.maxComponentContours=B.readUInt16(),this.maxZones=B.readUInt16(),this.maxTwilightPoints=B.readUInt16(),this.maxStorage=B.readUInt16(),this.maxFunctionDefs=B.readUInt16(),this.maxInstructionDefs=B.readUInt16(),this.maxStackElements=B.readUInt16(),this.maxSizeOfInstructions=B.readUInt16(),this.maxComponentElements=B.readUInt16(),this.maxComponentDepth=B.readUInt16()},I})(),R=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="hmtx",I.prototype.parse=function(B){var M,z,Y,re,Ne,ge,xe;for(B.pos=this.offset,this.metrics=[],M=0,ge=this.file.hhea.numberOfMetrics;0<=ge?M<ge:M>ge;M=0<=ge?++M:--M)this.metrics.push({advance:B.readUInt16(),lsb:B.readInt16()});for(Y=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var De,Ve;for(Ve=[],M=De=0;0<=Y?De<Y:De>Y;M=0<=Y?++De:--De)Ve.push(B.readInt16());return Ve})(),this.widths=(function(){var De,Ve,et,st;for(st=[],De=0,Ve=(et=this.metrics).length;De<Ve;De++)re=et[De],st.push(re.advance);return st}).call(this),z=this.widths[this.widths.length-1],xe=[],M=Ne=0;0<=Y?Ne<Y:Ne>Y;M=0<=Y?++Ne:--Ne)xe.push(this.widths.push(z));return xe},I.prototype.forGlyph=function(B){return B in this.metrics?this.metrics[B]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[B-this.metrics.length]}},I})(),W=[].slice,te=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="glyf",I.prototype.parse=function(){return this.cache={}},I.prototype.glyphFor=function(B){var M,z,Y,re,Ne,ge,xe,De,Ve,et;return B in this.cache?this.cache[B]:(re=this.file.loca,M=this.file.contents,z=re.indexOf(B),(Y=re.lengthOf(B))===0?this.cache[B]=null:(M.pos=this.offset+z,Ne=(ge=new ki(M.read(Y))).readShort(),De=ge.readShort(),et=ge.readShort(),xe=ge.readShort(),Ve=ge.readShort(),this.cache[B]=Ne===-1?new ke(ge,De,et,xe,Ve):new je(ge,Ne,De,et,xe,Ve),this.cache[B]))},I.prototype.encode=function(B,M,z){var Y,re,Ne,ge,xe;for(Ne=[],re=[],ge=0,xe=M.length;ge<xe;ge++)Y=B[M[ge]],re.push(Ne.length),Y&&(Ne=Ne.concat(Y.encode(z)));return re.push(Ne.length),{table:Ne,offsets:re}},I})(),je=(function(){function I(B,M,z,Y,re,Ne){this.raw=B,this.numberOfContours=M,this.xMin=z,this.yMin=Y,this.xMax=re,this.yMax=Ne,this.compound=!1}return I.prototype.encode=function(){return this.raw.data},I})(),ke=(function(){function I(B,M,z,Y,re){var Ne,ge;for(this.raw=B,this.xMin=M,this.yMin=z,this.xMax=Y,this.yMax=re,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ne=this.raw;ge=Ne.readShort(),this.glyphOffsets.push(Ne.pos),this.glyphIDs.push(Ne.readUInt16()),32&ge;)Ne.pos+=1&ge?4:2,128&ge?Ne.pos+=8:64&ge?Ne.pos+=4:8&ge&&(Ne.pos+=2)}return I.prototype.encode=function(){var B,M,z;for(M=new ki(W.call(this.raw.data)),B=0,z=this.glyphIDs.length;B<z;++B)M.pos=this.glyphOffsets[B];return M.data},I})(),Ge=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ma(I,Xi),I.prototype.tag="loca",I.prototype.parse=function(B){var M,z;return B.pos=this.offset,M=this.file.head.indexToLocFormat,this.offsets=M===0?(function(){var Y,re;for(re=[],z=0,Y=this.length;z<Y;z+=2)re.push(2*B.readUInt16());return re}).call(this):(function(){var Y,re;for(re=[],z=0,Y=this.length;z<Y;z+=4)re.push(B.readUInt32());return re}).call(this)},I.prototype.indexOf=function(B){return this.offsets[B]},I.prototype.lengthOf=function(B){return this.offsets[B+1]-this.offsets[B]},I.prototype.encode=function(B,M){for(var z=new Uint32Array(this.offsets.length),Y=0,re=0,Ne=0;Ne<z.length;++Ne)if(z[Ne]=Y,re<M.length&&M[re]==Ne){++re,z[Ne]=Y;var ge=this.offsets[Ne],xe=this.offsets[Ne+1]-ge;xe>0&&(Y+=xe)}for(var De=new Array(4*z.length),Ve=0;Ve<z.length;++Ve)De[4*Ve+3]=255&z[Ve],De[4*Ve+2]=(65280&z[Ve])>>8,De[4*Ve+1]=(16711680&z[Ve])>>16,De[4*Ve]=(4278190080&z[Ve])>>24;return De},I})(),it=(function(){function I(B){this.font=B,this.subset={},this.unicodes={},this.next=33}return I.prototype.generateCmap=function(){var B,M,z,Y,re;for(M in Y=this.font.cmap.tables[0].codeMap,B={},re=this.subset)z=re[M],B[M]=Y[z];return B},I.prototype.glyphsFor=function(B){var M,z,Y,re,Ne,ge,xe;for(Y={},Ne=0,ge=B.length;Ne<ge;Ne++)Y[re=B[Ne]]=this.font.glyf.glyphFor(re);for(re in M=[],Y)(z=Y[re])!=null&&z.compound&&M.push.apply(M,z.glyphIDs);if(M.length>0)for(re in xe=this.glyphsFor(M))z=xe[re],Y[re]=z;return Y},I.prototype.encode=function(B,M){var z,Y,re,Ne,ge,xe,De,Ve,et,st,Oe,vt,mt,yt,nt;for(Y in z=Xs.encode(this.generateCmap(),"unicode"),Ne=this.glyphsFor(B),Oe={0:0},nt=z.charMap)Oe[(xe=nt[Y]).old]=xe.new;for(vt in st=z.maxGlyphID,Ne)vt in Oe||(Oe[vt]=st++);return Ve=(function(kt){var Kt,Et;for(Kt in Et={},kt)Et[kt[Kt]]=Kt;return Et})(Oe),et=Object.keys(Ve).sort(function(kt,Kt){return kt-Kt}),mt=(function(){var kt,Kt,Et;for(Et=[],kt=0,Kt=et.length;kt<Kt;kt++)ge=et[kt],Et.push(Ve[ge]);return Et})(),re=this.font.glyf.encode(Ne,mt,Oe),De=this.font.loca.encode(re.offsets,mt),yt={cmap:this.font.cmap.raw(),glyf:re.table,loca:De,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(M)},this.font.os2.exists&&(yt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(yt)},I})();de.API.PDFObject=(function(){var I;function B(){}return I=function(M,z){return(Array(z+1).join("0")+M).slice(-z)},B.convert=function(M){var z,Y,re,Ne;if(Array.isArray(M))return"["+(function(){var ge,xe,De;for(De=[],ge=0,xe=M.length;ge<xe;ge++)z=M[ge],De.push(B.convert(z));return De})().join(" ")+"]";if(typeof M=="string")return"/"+M;if(M!=null&&M.isString)return"("+M+")";if(M instanceof Date)return"(D:"+I(M.getUTCFullYear(),4)+I(M.getUTCMonth(),2)+I(M.getUTCDate(),2)+I(M.getUTCHours(),2)+I(M.getUTCMinutes(),2)+I(M.getUTCSeconds(),2)+"Z)";if({}.toString.call(M)==="[object Object]"){for(Y in re=["<<"],M)Ne=M[Y],re.push("/"+Y+" "+B.convert(Ne));return re.push(">>"),re.join(`
`)}return""+M},B})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(l,u,o){o.r(u),o.d(u,{Deflate:function(){return Fr},Inflate:function(){return aa},constants:function(){return hi},default:function(){return us},deflate:function(){return In},deflateRaw:function(){return Hn},gzip:function(){return Aa},inflate:function(){return Oa},inflateRaw:function(){return Fi},ungzip:function(){return Mi}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const h=4,d=0,f=1,A=2;function g(T){let Me=T.length;for(;--Me>=0;)T[Me]=0}const m=0,x=1,y=2,b=3,w=258,N=29,S=256,j=S+1+N,_=30,P=19,Z=2*j+1,ee=15,K=16,ae=7,D=256,q=16,$=17,L=18,ye=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ne=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Be=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Te=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),me=512,ue=new Array((j+2)*2);g(ue);const ve=new Array(_*2);g(ve);const le=new Array(me);g(le);const Ae=new Array(w-b+1);g(Ae);const Ie=new Array(N);g(Ie);const Pe=new Array(_);g(Pe);function Ce(T,Me,J,Xe,ht){this.static_tree=T,this.extra_bits=Me,this.extra_base=J,this.elems=Xe,this.max_length=ht,this.has_stree=T&&T.length}let ce,X,de;function se(T,Me){this.dyn_tree=T,this.max_code=0,this.stat_desc=Me}const We=T=>T<256?le[T]:le[256+(T>>>7)],Re=(T,Me)=>{T.pending_buf[T.pending++]=Me&255,T.pending_buf[T.pending++]=Me>>>8&255},Ee=(T,Me,J)=>{T.bi_valid>K-J?(T.bi_buf|=Me<<T.bi_valid&65535,Re(T,T.bi_buf),T.bi_buf=Me>>K-T.bi_valid,T.bi_valid+=J-K):(T.bi_buf|=Me<<T.bi_valid&65535,T.bi_valid+=J)},ie=(T,Me,J)=>{Ee(T,J[Me*2],J[Me*2+1])},Le=(T,Me)=>{let J=0;do J|=T&1,T>>>=1,J<<=1;while(--Me>0);return J>>>1},Ze=T=>{T.bi_valid===16?(Re(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)},jt=(T,Me)=>{const J=Me.dyn_tree,Xe=Me.max_code,ht=Me.stat_desc.static_tree,ot=Me.stat_desc.has_stree,er=Me.stat_desc.extra_bits,$t=Me.stat_desc.extra_base,Sn=Me.stat_desc.max_length;let Pt,ir,xa,fn,Mr,br,Ri=0;for(fn=0;fn<=ee;fn++)T.bl_count[fn]=0;for(J[T.heap[T.heap_max]*2+1]=0,Pt=T.heap_max+1;Pt<Z;Pt++)ir=T.heap[Pt],fn=J[J[ir*2+1]*2+1]+1,fn>Sn&&(fn=Sn,Ri++),J[ir*2+1]=fn,!(ir>Xe)&&(T.bl_count[fn]++,Mr=0,ir>=$t&&(Mr=er[ir-$t]),br=J[ir*2],T.opt_len+=br*(fn+Mr),ot&&(T.static_len+=br*(ht[ir*2+1]+Mr)));if(Ri!==0){do{for(fn=Sn-1;T.bl_count[fn]===0;)fn--;T.bl_count[fn]--,T.bl_count[fn+1]+=2,T.bl_count[Sn]--,Ri-=2}while(Ri>0);for(fn=Sn;fn!==0;fn--)for(ir=T.bl_count[fn];ir!==0;)xa=T.heap[--Pt],!(xa>Xe)&&(J[xa*2+1]!==fn&&(T.opt_len+=(fn-J[xa*2+1])*J[xa*2],J[xa*2+1]=fn),ir--)}},Lt=(T,Me,J)=>{const Xe=new Array(ee+1);let ht=0,ot,er;for(ot=1;ot<=ee;ot++)ht=ht+J[ot-1]<<1,Xe[ot]=ht;for(er=0;er<=Me;er++){let $t=T[er*2+1];$t!==0&&(T[er*2]=Le(Xe[$t]++,$t))}},Ct=()=>{let T,Me,J,Xe,ht;const ot=new Array(ee+1);for(J=0,Xe=0;Xe<N-1;Xe++)for(Ie[Xe]=J,T=0;T<1<<ye[Xe];T++)Ae[J++]=Xe;for(Ae[J-1]=Xe,ht=0,Xe=0;Xe<16;Xe++)for(Pe[Xe]=ht,T=0;T<1<<ne[Xe];T++)le[ht++]=Xe;for(ht>>=7;Xe<_;Xe++)for(Pe[Xe]=ht<<7,T=0;T<1<<ne[Xe]-7;T++)le[256+ht++]=Xe;for(Me=0;Me<=ee;Me++)ot[Me]=0;for(T=0;T<=143;)ue[T*2+1]=8,T++,ot[8]++;for(;T<=255;)ue[T*2+1]=9,T++,ot[9]++;for(;T<=279;)ue[T*2+1]=7,T++,ot[7]++;for(;T<=287;)ue[T*2+1]=8,T++,ot[8]++;for(Lt(ue,j+1,ot),T=0;T<_;T++)ve[T*2+1]=5,ve[T*2]=Le(T,5);ce=new Ce(ue,ye,S+1,j,ee),X=new Ce(ve,ne,0,_,ee),de=new Ce(new Array(0),Be,0,P,ae)},Xt=T=>{let Me;for(Me=0;Me<j;Me++)T.dyn_ltree[Me*2]=0;for(Me=0;Me<_;Me++)T.dyn_dtree[Me*2]=0;for(Me=0;Me<P;Me++)T.bl_tree[Me*2]=0;T.dyn_ltree[D*2]=1,T.opt_len=T.static_len=0,T.sym_next=T.matches=0},_r=T=>{T.bi_valid>8?Re(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0},Or=(T,Me,J,Xe)=>{const ht=Me*2,ot=J*2;return T[ht]<T[ot]||T[ht]===T[ot]&&Xe[Me]<=Xe[J]},He=(T,Me,J)=>{const Xe=T.heap[J];let ht=J<<1;for(;ht<=T.heap_len&&(ht<T.heap_len&&Or(Me,T.heap[ht+1],T.heap[ht],T.depth)&&ht++,!Or(Me,Xe,T.heap[ht],T.depth));)T.heap[J]=T.heap[ht],J=ht,ht<<=1;T.heap[J]=Xe},Zt=(T,Me,J)=>{let Xe,ht,ot=0,er,$t;if(T.sym_next!==0)do Xe=T.pending_buf[T.sym_buf+ot++]&255,Xe+=(T.pending_buf[T.sym_buf+ot++]&255)<<8,ht=T.pending_buf[T.sym_buf+ot++],Xe===0?ie(T,ht,Me):(er=Ae[ht],ie(T,er+S+1,Me),$t=ye[er],$t!==0&&(ht-=Ie[er],Ee(T,ht,$t)),Xe--,er=We(Xe),ie(T,er,J),$t=ne[er],$t!==0&&(Xe-=Pe[er],Ee(T,Xe,$t)));while(ot<T.sym_next);ie(T,D,Me)},Bt=(T,Me)=>{const J=Me.dyn_tree,Xe=Me.stat_desc.static_tree,ht=Me.stat_desc.has_stree,ot=Me.stat_desc.elems;let er,$t,Sn=-1,Pt;for(T.heap_len=0,T.heap_max=Z,er=0;er<ot;er++)J[er*2]!==0?(T.heap[++T.heap_len]=Sn=er,T.depth[er]=0):J[er*2+1]=0;for(;T.heap_len<2;)Pt=T.heap[++T.heap_len]=Sn<2?++Sn:0,J[Pt*2]=1,T.depth[Pt]=0,T.opt_len--,ht&&(T.static_len-=Xe[Pt*2+1]);for(Me.max_code=Sn,er=T.heap_len>>1;er>=1;er--)He(T,J,er);Pt=ot;do er=T.heap[1],T.heap[1]=T.heap[T.heap_len--],He(T,J,1),$t=T.heap[1],T.heap[--T.heap_max]=er,T.heap[--T.heap_max]=$t,J[Pt*2]=J[er*2]+J[$t*2],T.depth[Pt]=(T.depth[er]>=T.depth[$t]?T.depth[er]:T.depth[$t])+1,J[er*2+1]=J[$t*2+1]=Pt,T.heap[1]=Pt++,He(T,J,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],jt(T,Me),Lt(J,Sn,T.bl_count)},$r=(T,Me,J)=>{let Xe,ht=-1,ot,er=Me[1],$t=0,Sn=7,Pt=4;for(er===0&&(Sn=138,Pt=3),Me[(J+1)*2+1]=65535,Xe=0;Xe<=J;Xe++)ot=er,er=Me[(Xe+1)*2+1],!(++$t<Sn&&ot===er)&&($t<Pt?T.bl_tree[ot*2]+=$t:ot!==0?(ot!==ht&&T.bl_tree[ot*2]++,T.bl_tree[q*2]++):$t<=10?T.bl_tree[$*2]++:T.bl_tree[L*2]++,$t=0,ht=ot,er===0?(Sn=138,Pt=3):ot===er?(Sn=6,Pt=3):(Sn=7,Pt=4))},pr=(T,Me,J)=>{let Xe,ht=-1,ot,er=Me[1],$t=0,Sn=7,Pt=4;for(er===0&&(Sn=138,Pt=3),Xe=0;Xe<=J;Xe++)if(ot=er,er=Me[(Xe+1)*2+1],!(++$t<Sn&&ot===er)){if($t<Pt)do ie(T,ot,T.bl_tree);while(--$t!==0);else ot!==0?(ot!==ht&&(ie(T,ot,T.bl_tree),$t--),ie(T,q,T.bl_tree),Ee(T,$t-3,2)):$t<=10?(ie(T,$,T.bl_tree),Ee(T,$t-3,3)):(ie(T,L,T.bl_tree),Ee(T,$t-11,7));$t=0,ht=ot,er===0?(Sn=138,Pt=3):ot===er?(Sn=6,Pt=3):(Sn=7,Pt=4)}},on=T=>{let Me;for($r(T,T.dyn_ltree,T.l_desc.max_code),$r(T,T.dyn_dtree,T.d_desc.max_code),Bt(T,T.bl_desc),Me=P-1;Me>=3&&T.bl_tree[Te[Me]*2+1]===0;Me--);return T.opt_len+=3*(Me+1)+5+5+4,Me},Yr=(T,Me,J,Xe)=>{let ht;for(Ee(T,Me-257,5),Ee(T,J-1,5),Ee(T,Xe-4,4),ht=0;ht<Xe;ht++)Ee(T,T.bl_tree[Te[ht]*2+1],3);pr(T,T.dyn_ltree,Me-1),pr(T,T.dyn_dtree,J-1)},qr=T=>{let Me=4093624447,J;for(J=0;J<=31;J++,Me>>>=1)if(Me&1&&T.dyn_ltree[J*2]!==0)return d;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return f;for(J=32;J<S;J++)if(T.dyn_ltree[J*2]!==0)return f;return d};let Ir=!1;const dr=T=>{Ir||(Ct(),Ir=!0),T.l_desc=new se(T.dyn_ltree,ce),T.d_desc=new se(T.dyn_dtree,X),T.bl_desc=new se(T.bl_tree,de),T.bi_buf=0,T.bi_valid=0,Xt(T)},Cr=(T,Me,J,Xe)=>{Ee(T,(m<<1)+(Xe?1:0),3),_r(T),Re(T,J),Re(T,~J),J&&T.pending_buf.set(T.window.subarray(Me,Me+J),T.pending),T.pending+=J},Vr=T=>{Ee(T,x<<1,3),ie(T,D,ue),Ze(T)},zr=(T,Me,J,Xe)=>{let ht,ot,er=0;T.level>0?(T.strm.data_type===A&&(T.strm.data_type=qr(T)),Bt(T,T.l_desc),Bt(T,T.d_desc),er=on(T),ht=T.opt_len+3+7>>>3,ot=T.static_len+3+7>>>3,ot<=ht&&(ht=ot)):ht=ot=J+5,J+4<=ht&&Me!==-1?Cr(T,Me,J,Xe):T.strategy===h||ot===ht?(Ee(T,(x<<1)+(Xe?1:0),3),Zt(T,ue,ve)):(Ee(T,(y<<1)+(Xe?1:0),3),Yr(T,T.l_desc.max_code+1,T.d_desc.max_code+1,er+1),Zt(T,T.dyn_ltree,T.dyn_dtree)),Xt(T),Xe&&_r(T)},vn=(T,Me,J)=>(T.pending_buf[T.sym_buf+T.sym_next++]=Me,T.pending_buf[T.sym_buf+T.sym_next++]=Me>>8,T.pending_buf[T.sym_buf+T.sym_next++]=J,Me===0?T.dyn_ltree[J*2]++:(T.matches++,Me--,T.dyn_ltree[(Ae[J]+S+1)*2]++,T.dyn_dtree[We(Me)*2]++),T.sym_next===T.sym_end);var Wr=dr,$n=Cr,Lr=zr,Dr=vn,jn=Vr,cn={_tr_init:Wr,_tr_stored_block:$n,_tr_flush_block:Lr,_tr_tally:Dr,_tr_align:jn},Sr=(T,Me,J,Xe)=>{let ht=T&65535|0,ot=T>>>16&65535|0,er=0;for(;J!==0;){er=J>2e3?2e3:J,J-=er;do ht=ht+Me[Xe++]|0,ot=ot+ht|0;while(--er);ht%=65521,ot%=65521}return ht|ot<<16|0};const dn=()=>{let T,Me=[];for(var J=0;J<256;J++){T=J;for(var Xe=0;Xe<8;Xe++)T=T&1?3988292384^T>>>1:T>>>1;Me[J]=T}return Me},Dn=new Uint32Array(dn());var Un=(T,Me,J,Xe)=>{const ht=Dn,ot=Xe+J;T^=-1;for(let er=Xe;er<ot;er++)T=T>>>8^ht[(T^Me[er])&255];return T^-1},Ur={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ei={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ls,_tr_stored_block:Cn,_tr_flush_block:Bs,_tr_tally:ji,_tr_align:vi}=cn,{Z_NO_FLUSH:Ui,Z_PARTIAL_FLUSH:Bi,Z_FULL_FLUSH:Es,Z_FINISH:ri,Z_BLOCK:Gs,Z_OK:Wa,Z_STREAM_END:jc,Z_STREAM_ERROR:gs,Z_DATA_ERROR:Sl,Z_BUF_ERROR:Cc,Z_DEFAULT_COMPRESSION:Bl,Z_FILTERED:Hi,Z_HUFFMAN_ONLY:vo,Z_RLE:ha,Z_FIXED:Zl,Z_DEFAULT_STRATEGY:ni,Z_UNKNOWN:Eo,Z_DEFLATED:qs}=ei,Io=9,tl=15,To=8,ai=256+1+29,Al=30,_o=19,Uc=2*ai+1,cs=15,qn=3,Qi=258,vs=Qi+qn+1,xs=32,Oo=42,Di=57,oo=69,Xi=73,ki=91,xo=103,ko=113,ma=666,Wi=1,ys=2,Xs=3,Ps=4,Po=3,Ut=(T,Me)=>(T.msg=Ur[Me],Me),Q=T=>T*2-(T>4?9:0),oe=T=>{let Me=T.length;for(;--Me>=0;)T[Me]=0},he=T=>{let Me,J,Xe,ht=T.w_size;Me=T.hash_size,Xe=Me;do J=T.head[--Xe],T.head[Xe]=J>=ht?J-ht:0;while(--Me);Me=ht,Xe=Me;do J=T.prev[--Xe],T.prev[Xe]=J>=ht?J-ht:0;while(--Me)};let W=(T,Me,J)=>(Me<<T.hash_shift^J)&T.hash_mask;const te=T=>{const Me=T.state;let J=Me.pending;J>T.avail_out&&(J=T.avail_out),J!==0&&(T.output.set(Me.pending_buf.subarray(Me.pending_out,Me.pending_out+J),T.next_out),T.next_out+=J,Me.pending_out+=J,T.total_out+=J,T.avail_out-=J,Me.pending-=J,Me.pending===0&&(Me.pending_out=0))},je=(T,Me)=>{Bs(T,T.block_start>=0?T.block_start:-1,T.strstart-T.block_start,Me),T.block_start=T.strstart,te(T.strm)},ke=(T,Me)=>{T.pending_buf[T.pending++]=Me},Ge=(T,Me)=>{T.pending_buf[T.pending++]=Me>>>8&255,T.pending_buf[T.pending++]=Me&255},it=(T,Me,J,Xe)=>{let ht=T.avail_in;return ht>Xe&&(ht=Xe),ht===0?0:(T.avail_in-=ht,Me.set(T.input.subarray(T.next_in,T.next_in+ht),J),T.state.wrap===1?T.adler=Sr(T.adler,Me,ht,J):T.state.wrap===2&&(T.adler=Un(T.adler,Me,ht,J)),T.next_in+=ht,T.total_in+=ht,ht)},I=(T,Me)=>{let J=T.max_chain_length,Xe=T.strstart,ht,ot,er=T.prev_length,$t=T.nice_match;const Sn=T.strstart>T.w_size-vs?T.strstart-(T.w_size-vs):0,Pt=T.window,ir=T.w_mask,xa=T.prev,fn=T.strstart+Qi;let Mr=Pt[Xe+er-1],br=Pt[Xe+er];T.prev_length>=T.good_match&&(J>>=2),$t>T.lookahead&&($t=T.lookahead);do if(ht=Me,!(Pt[ht+er]!==br||Pt[ht+er-1]!==Mr||Pt[ht]!==Pt[Xe]||Pt[++ht]!==Pt[Xe+1])){Xe+=2,ht++;do;while(Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Xe<fn);if(ot=Qi-(fn-Xe),Xe=fn-Qi,ot>er){if(T.match_start=Me,er=ot,ot>=$t)break;Mr=Pt[Xe+er-1],br=Pt[Xe+er]}}while((Me=xa[Me&ir])>Sn&&--J!==0);return er<=T.lookahead?er:T.lookahead},B=T=>{const Me=T.w_size;let J,Xe,ht;do{if(Xe=T.window_size-T.lookahead-T.strstart,T.strstart>=Me+(Me-vs)&&(T.window.set(T.window.subarray(Me,Me+Me-Xe),0),T.match_start-=Me,T.strstart-=Me,T.block_start-=Me,T.insert>T.strstart&&(T.insert=T.strstart),he(T),Xe+=Me),T.strm.avail_in===0)break;if(J=it(T.strm,T.window,T.strstart+T.lookahead,Xe),T.lookahead+=J,T.lookahead+T.insert>=qn)for(ht=T.strstart-T.insert,T.ins_h=T.window[ht],T.ins_h=W(T,T.ins_h,T.window[ht+1]);T.insert&&(T.ins_h=W(T,T.ins_h,T.window[ht+qn-1]),T.prev[ht&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=ht,ht++,T.insert--,!(T.lookahead+T.insert<qn)););}while(T.lookahead<vs&&T.strm.avail_in!==0)},M=(T,Me)=>{let J=T.pending_buf_size-5>T.w_size?T.w_size:T.pending_buf_size-5,Xe,ht,ot,er=0,$t=T.strm.avail_in;do{if(Xe=65535,ot=T.bi_valid+42>>3,T.strm.avail_out<ot||(ot=T.strm.avail_out-ot,ht=T.strstart-T.block_start,Xe>ht+T.strm.avail_in&&(Xe=ht+T.strm.avail_in),Xe>ot&&(Xe=ot),Xe<J&&(Xe===0&&Me!==ri||Me===Ui||Xe!==ht+T.strm.avail_in)))break;er=Me===ri&&Xe===ht+T.strm.avail_in?1:0,Cn(T,0,0,er),T.pending_buf[T.pending-4]=Xe,T.pending_buf[T.pending-3]=Xe>>8,T.pending_buf[T.pending-2]=~Xe,T.pending_buf[T.pending-1]=~Xe>>8,te(T.strm),ht&&(ht>Xe&&(ht=Xe),T.strm.output.set(T.window.subarray(T.block_start,T.block_start+ht),T.strm.next_out),T.strm.next_out+=ht,T.strm.avail_out-=ht,T.strm.total_out+=ht,T.block_start+=ht,Xe-=ht),Xe&&(it(T.strm,T.strm.output,T.strm.next_out,Xe),T.strm.next_out+=Xe,T.strm.avail_out-=Xe,T.strm.total_out+=Xe)}while(er===0);return $t-=T.strm.avail_in,$t&&($t>=T.w_size?(T.matches=2,T.window.set(T.strm.input.subarray(T.strm.next_in-T.w_size,T.strm.next_in),0),T.strstart=T.w_size,T.insert=T.strstart):(T.window_size-T.strstart<=$t&&(T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,T.insert>T.strstart&&(T.insert=T.strstart)),T.window.set(T.strm.input.subarray(T.strm.next_in-$t,T.strm.next_in),T.strstart),T.strstart+=$t,T.insert+=$t>T.w_size-T.insert?T.w_size-T.insert:$t),T.block_start=T.strstart),T.high_water<T.strstart&&(T.high_water=T.strstart),er?Ps:Me!==Ui&&Me!==ri&&T.strm.avail_in===0&&T.strstart===T.block_start?ys:(ot=T.window_size-T.strstart,T.strm.avail_in>ot&&T.block_start>=T.w_size&&(T.block_start-=T.w_size,T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,ot+=T.w_size,T.insert>T.strstart&&(T.insert=T.strstart)),ot>T.strm.avail_in&&(ot=T.strm.avail_in),ot&&(it(T.strm,T.window,T.strstart,ot),T.strstart+=ot,T.insert+=ot>T.w_size-T.insert?T.w_size-T.insert:ot),T.high_water<T.strstart&&(T.high_water=T.strstart),ot=T.bi_valid+42>>3,ot=T.pending_buf_size-ot>65535?65535:T.pending_buf_size-ot,J=ot>T.w_size?T.w_size:ot,ht=T.strstart-T.block_start,(ht>=J||(ht||Me===ri)&&Me!==Ui&&T.strm.avail_in===0&&ht<=ot)&&(Xe=ht>ot?ot:ht,er=Me===ri&&T.strm.avail_in===0&&Xe===ht?1:0,Cn(T,T.block_start,Xe,er),T.block_start+=Xe,te(T.strm)),er?Xs:Wi)},z=(T,Me)=>{let J,Xe;for(;;){if(T.lookahead<vs){if(B(T),T.lookahead<vs&&Me===Ui)return Wi;if(T.lookahead===0)break}if(J=0,T.lookahead>=qn&&(T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),J!==0&&T.strstart-J<=T.w_size-vs&&(T.match_length=I(T,J)),T.match_length>=qn)if(Xe=ji(T,T.strstart-T.match_start,T.match_length-qn),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=qn){T.match_length--;do T.strstart++,T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart;while(--T.match_length!==0);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=W(T,T.ins_h,T.window[T.strstart+1]);else Xe=ji(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(Xe&&(je(T,!1),T.strm.avail_out===0))return Wi}return T.insert=T.strstart<qn-1?T.strstart:qn-1,Me===ri?(je(T,!0),T.strm.avail_out===0?Xs:Ps):T.sym_next&&(je(T,!1),T.strm.avail_out===0)?Wi:ys},Y=(T,Me)=>{let J,Xe,ht;for(;;){if(T.lookahead<vs){if(B(T),T.lookahead<vs&&Me===Ui)return Wi;if(T.lookahead===0)break}if(J=0,T.lookahead>=qn&&(T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=qn-1,J!==0&&T.prev_length<T.max_lazy_match&&T.strstart-J<=T.w_size-vs&&(T.match_length=I(T,J),T.match_length<=5&&(T.strategy===Hi||T.match_length===qn&&T.strstart-T.match_start>4096)&&(T.match_length=qn-1)),T.prev_length>=qn&&T.match_length<=T.prev_length){ht=T.strstart+T.lookahead-qn,Xe=ji(T,T.strstart-1-T.prev_match,T.prev_length-qn),T.lookahead-=T.prev_length-1,T.prev_length-=2;do++T.strstart<=ht&&(T.ins_h=W(T,T.ins_h,T.window[T.strstart+qn-1]),J=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart);while(--T.prev_length!==0);if(T.match_available=0,T.match_length=qn-1,T.strstart++,Xe&&(je(T,!1),T.strm.avail_out===0))return Wi}else if(T.match_available){if(Xe=ji(T,0,T.window[T.strstart-1]),Xe&&je(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return Wi}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(Xe=ji(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<qn-1?T.strstart:qn-1,Me===ri?(je(T,!0),T.strm.avail_out===0?Xs:Ps):T.sym_next&&(je(T,!1),T.strm.avail_out===0)?Wi:ys},re=(T,Me)=>{let J,Xe,ht,ot;const er=T.window;for(;;){if(T.lookahead<=Qi){if(B(T),T.lookahead<=Qi&&Me===Ui)return Wi;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=qn&&T.strstart>0&&(ht=T.strstart-1,Xe=er[ht],Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht])){ot=T.strstart+Qi;do;while(Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&ht<ot);T.match_length=Qi-(ot-ht),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=qn?(J=ji(T,1,T.match_length-qn),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(J=ji(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),J&&(je(T,!1),T.strm.avail_out===0))return Wi}return T.insert=0,Me===ri?(je(T,!0),T.strm.avail_out===0?Xs:Ps):T.sym_next&&(je(T,!1),T.strm.avail_out===0)?Wi:ys},Ne=(T,Me)=>{let J;for(;;){if(T.lookahead===0&&(B(T),T.lookahead===0)){if(Me===Ui)return Wi;break}if(T.match_length=0,J=ji(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,J&&(je(T,!1),T.strm.avail_out===0))return Wi}return T.insert=0,Me===ri?(je(T,!0),T.strm.avail_out===0?Xs:Ps):T.sym_next&&(je(T,!1),T.strm.avail_out===0)?Wi:ys};function ge(T,Me,J,Xe,ht){this.good_length=T,this.max_lazy=Me,this.nice_length=J,this.max_chain=Xe,this.func=ht}const xe=[new ge(0,0,0,0,M),new ge(4,4,8,4,z),new ge(4,5,16,8,z),new ge(4,6,32,32,z),new ge(4,4,16,16,Y),new ge(8,16,32,32,Y),new ge(8,16,128,128,Y),new ge(8,32,128,256,Y),new ge(32,128,258,1024,Y),new ge(32,258,258,4096,Y)],De=T=>{T.window_size=2*T.w_size,oe(T.head),T.max_lazy_match=xe[T.level].max_lazy,T.good_match=xe[T.level].good_length,T.nice_match=xe[T.level].nice_length,T.max_chain_length=xe[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=qn-1,T.match_available=0,T.ins_h=0};function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Uc*2),this.dyn_dtree=new Uint16Array((2*Al+1)*2),this.bl_tree=new Uint16Array((2*_o+1)*2),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cs+1),this.heap=new Uint16Array(2*ai+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ai+1),oe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const et=T=>{if(!T)return 1;const Me=T.state;return!Me||Me.strm!==T||Me.status!==Oo&&Me.status!==Di&&Me.status!==oo&&Me.status!==Xi&&Me.status!==ki&&Me.status!==xo&&Me.status!==ko&&Me.status!==ma?1:0},st=T=>{if(et(T))return Ut(T,gs);T.total_in=T.total_out=0,T.data_type=Eo;const Me=T.state;return Me.pending=0,Me.pending_out=0,Me.wrap<0&&(Me.wrap=-Me.wrap),Me.status=Me.wrap===2?Di:Me.wrap?Oo:ko,T.adler=Me.wrap===2?0:1,Me.last_flush=-2,ls(Me),Wa},Oe=T=>{const Me=st(T);return Me===Wa&&De(T.state),Me},vt=(T,Me)=>et(T)||T.state.wrap!==2?gs:(T.state.gzhead=Me,Wa),mt=(T,Me,J,Xe,ht,ot)=>{if(!T)return gs;let er=1;if(Me===Bl&&(Me=6),Xe<0?(er=0,Xe=-Xe):Xe>15&&(er=2,Xe-=16),ht<1||ht>Io||J!==qs||Xe<8||Xe>15||Me<0||Me>9||ot<0||ot>Zl||Xe===8&&er!==1)return Ut(T,gs);Xe===8&&(Xe=9);const $t=new Ve;return T.state=$t,$t.strm=T,$t.status=Oo,$t.wrap=er,$t.gzhead=null,$t.w_bits=Xe,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=ht+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+qn-1)/qn),$t.window=new Uint8Array($t.w_size*2),$t.head=new Uint16Array($t.hash_size),$t.prev=new Uint16Array($t.w_size),$t.lit_bufsize=1<<ht+6,$t.pending_buf_size=$t.lit_bufsize*4,$t.pending_buf=new Uint8Array($t.pending_buf_size),$t.sym_buf=$t.lit_bufsize,$t.sym_end=($t.lit_bufsize-1)*3,$t.level=Me,$t.strategy=ot,$t.method=J,Oe(T)},yt=(T,Me)=>mt(T,Me,qs,tl,To,ni),nt=(T,Me)=>{if(et(T)||Me>Gs||Me<0)return T?Ut(T,gs):gs;const J=T.state;if(!T.output||T.avail_in!==0&&!T.input||J.status===ma&&Me!==ri)return Ut(T,T.avail_out===0?Cc:gs);const Xe=J.last_flush;if(J.last_flush=Me,J.pending!==0){if(te(T),T.avail_out===0)return J.last_flush=-1,Wa}else if(T.avail_in===0&&Q(Me)<=Q(Xe)&&Me!==ri)return Ut(T,Cc);if(J.status===ma&&T.avail_in!==0)return Ut(T,Cc);if(J.status===Oo&&J.wrap===0&&(J.status=ko),J.status===Oo){let ht=qs+(J.w_bits-8<<4)<<8,ot=-1;if(J.strategy>=vo||J.level<2?ot=0:J.level<6?ot=1:J.level===6?ot=2:ot=3,ht|=ot<<6,J.strstart!==0&&(ht|=xs),ht+=31-ht%31,Ge(J,ht),J.strstart!==0&&(Ge(J,T.adler>>>16),Ge(J,T.adler&65535)),T.adler=1,J.status=ko,te(T),J.pending!==0)return J.last_flush=-1,Wa}if(J.status===Di){if(T.adler=0,ke(J,31),ke(J,139),ke(J,8),J.gzhead)ke(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),ke(J,J.gzhead.time&255),ke(J,J.gzhead.time>>8&255),ke(J,J.gzhead.time>>16&255),ke(J,J.gzhead.time>>24&255),ke(J,J.level===9?2:J.strategy>=vo||J.level<2?4:0),ke(J,J.gzhead.os&255),J.gzhead.extra&&J.gzhead.extra.length&&(ke(J,J.gzhead.extra.length&255),ke(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(T.adler=Un(T.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=oo;else if(ke(J,0),ke(J,0),ke(J,0),ke(J,0),ke(J,0),ke(J,J.level===9?2:J.strategy>=vo||J.level<2?4:0),ke(J,Po),J.status=ko,te(T),J.pending!==0)return J.last_flush=-1,Wa}if(J.status===oo){if(J.gzhead.extra){let ht=J.pending,ot=(J.gzhead.extra.length&65535)-J.gzindex;for(;J.pending+ot>J.pending_buf_size;){let $t=J.pending_buf_size-J.pending;if(J.pending_buf.set(J.gzhead.extra.subarray(J.gzindex,J.gzindex+$t),J.pending),J.pending=J.pending_buf_size,J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),J.gzindex+=$t,te(T),J.pending!==0)return J.last_flush=-1,Wa;ht=0,ot-=$t}let er=new Uint8Array(J.gzhead.extra);J.pending_buf.set(er.subarray(J.gzindex,J.gzindex+ot),J.pending),J.pending+=ot,J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),J.gzindex=0}J.status=Xi}if(J.status===Xi){if(J.gzhead.name){let ht=J.pending,ot;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),te(T),J.pending!==0)return J.last_flush=-1,Wa;ht=0}J.gzindex<J.gzhead.name.length?ot=J.gzhead.name.charCodeAt(J.gzindex++)&255:ot=0,ke(J,ot)}while(ot!==0);J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),J.gzindex=0}J.status=ki}if(J.status===ki){if(J.gzhead.comment){let ht=J.pending,ot;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht)),te(T),J.pending!==0)return J.last_flush=-1,Wa;ht=0}J.gzindex<J.gzhead.comment.length?ot=J.gzhead.comment.charCodeAt(J.gzindex++)&255:ot=0,ke(J,ot)}while(ot!==0);J.gzhead.hcrc&&J.pending>ht&&(T.adler=Un(T.adler,J.pending_buf,J.pending-ht,ht))}J.status=xo}if(J.status===xo){if(J.gzhead.hcrc){if(J.pending+2>J.pending_buf_size&&(te(T),J.pending!==0))return J.last_flush=-1,Wa;ke(J,T.adler&255),ke(J,T.adler>>8&255),T.adler=0}if(J.status=ko,te(T),J.pending!==0)return J.last_flush=-1,Wa}if(T.avail_in!==0||J.lookahead!==0||Me!==Ui&&J.status!==ma){let ht=J.level===0?M(J,Me):J.strategy===vo?Ne(J,Me):J.strategy===ha?re(J,Me):xe[J.level].func(J,Me);if((ht===Xs||ht===Ps)&&(J.status=ma),ht===Wi||ht===Xs)return T.avail_out===0&&(J.last_flush=-1),Wa;if(ht===ys&&(Me===Bi?vi(J):Me!==Gs&&(Cn(J,0,0,!1),Me===Es&&(oe(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),te(T),T.avail_out===0))return J.last_flush=-1,Wa}return Me!==ri?Wa:J.wrap<=0?jc:(J.wrap===2?(ke(J,T.adler&255),ke(J,T.adler>>8&255),ke(J,T.adler>>16&255),ke(J,T.adler>>24&255),ke(J,T.total_in&255),ke(J,T.total_in>>8&255),ke(J,T.total_in>>16&255),ke(J,T.total_in>>24&255)):(Ge(J,T.adler>>>16),Ge(J,T.adler&65535)),te(T),J.wrap>0&&(J.wrap=-J.wrap),J.pending!==0?Wa:jc)},kt=T=>{if(et(T))return gs;const Me=T.state.status;return T.state=null,Me===ko?Ut(T,Sl):Wa},Kt=(T,Me)=>{let J=Me.length;if(et(T))return gs;const Xe=T.state,ht=Xe.wrap;if(ht===2||ht===1&&Xe.status!==Oo||Xe.lookahead)return gs;if(ht===1&&(T.adler=Sr(T.adler,Me,J,0)),Xe.wrap=0,J>=Xe.w_size){ht===0&&(oe(Xe.head),Xe.strstart=0,Xe.block_start=0,Xe.insert=0);let Sn=new Uint8Array(Xe.w_size);Sn.set(Me.subarray(J-Xe.w_size,J),0),Me=Sn,J=Xe.w_size}const ot=T.avail_in,er=T.next_in,$t=T.input;for(T.avail_in=J,T.next_in=0,T.input=Me,B(Xe);Xe.lookahead>=qn;){let Sn=Xe.strstart,Pt=Xe.lookahead-(qn-1);do Xe.ins_h=W(Xe,Xe.ins_h,Xe.window[Sn+qn-1]),Xe.prev[Sn&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Sn,Sn++;while(--Pt);Xe.strstart=Sn,Xe.lookahead=qn-1,B(Xe)}return Xe.strstart+=Xe.lookahead,Xe.block_start=Xe.strstart,Xe.insert=Xe.lookahead,Xe.lookahead=0,Xe.match_length=Xe.prev_length=qn-1,Xe.match_available=0,T.next_in=er,T.input=$t,T.avail_in=ot,Xe.wrap=ht,Wa};var Et=yt,tt=mt,Qt=Oe,lr=st,qt=vt,_t=nt,or=kt,at=Kt,dt="pako deflate (from Nodeca project)",It={deflateInit:Et,deflateInit2:tt,deflateReset:Qt,deflateResetKeep:lr,deflateSetHeader:qt,deflate:_t,deflateEnd:or,deflateSetDictionary:at,deflateInfo:dt};const Tt=(T,Me)=>Object.prototype.hasOwnProperty.call(T,Me);var cr=function(T){const Me=Array.prototype.slice.call(arguments,1);for(;Me.length;){const J=Me.shift();if(J){if(typeof J!="object")throw new TypeError(J+"must be non-object");for(const Xe in J)Tt(J,Xe)&&(T[Xe]=J[Xe])}}return T},Ar=T=>{let Me=0;for(let Xe=0,ht=T.length;Xe<ht;Xe++)Me+=T[Xe].length;const J=new Uint8Array(Me);for(let Xe=0,ht=0,ot=T.length;Xe<ot;Xe++){let er=T[Xe];J.set(er,ht),ht+=er.length}return J},xr={assign:cr,flattenChunks:Ar};let Jt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jt=!1}const gr=new Uint8Array(256);for(let T=0;T<256;T++)gr[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;gr[254]=gr[254]=1;var Zr=T=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(T);let Me,J,Xe,ht,ot,er=T.length,$t=0;for(ht=0;ht<er;ht++)J=T.charCodeAt(ht),(J&64512)===55296&&ht+1<er&&(Xe=T.charCodeAt(ht+1),(Xe&64512)===56320&&(J=65536+(J-55296<<10)+(Xe-56320),ht++)),$t+=J<128?1:J<2048?2:J<65536?3:4;for(Me=new Uint8Array($t),ot=0,ht=0;ot<$t;ht++)J=T.charCodeAt(ht),(J&64512)===55296&&ht+1<er&&(Xe=T.charCodeAt(ht+1),(Xe&64512)===56320&&(J=65536+(J-55296<<10)+(Xe-56320),ht++)),J<128?Me[ot++]=J:J<2048?(Me[ot++]=192|J>>>6,Me[ot++]=128|J&63):J<65536?(Me[ot++]=224|J>>>12,Me[ot++]=128|J>>>6&63,Me[ot++]=128|J&63):(Me[ot++]=240|J>>>18,Me[ot++]=128|J>>>12&63,Me[ot++]=128|J>>>6&63,Me[ot++]=128|J&63);return Me};const Hr=(T,Me)=>{if(Me<65534&&T.subarray&&Jt)return String.fromCharCode.apply(null,T.length===Me?T:T.subarray(0,Me));let J="";for(let Xe=0;Xe<Me;Xe++)J+=String.fromCharCode(T[Xe]);return J};var Ye=(T,Me)=>{const J=Me||T.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(T.subarray(0,Me));let Xe,ht;const ot=new Array(J*2);for(ht=0,Xe=0;Xe<J;){let er=T[Xe++];if(er<128){ot[ht++]=er;continue}let $t=gr[er];if($t>4){ot[ht++]=65533,Xe+=$t-1;continue}for(er&=$t===2?31:$t===3?15:7;$t>1&&Xe<J;)er=er<<6|T[Xe++]&63,$t--;if($t>1){ot[ht++]=65533;continue}er<65536?ot[ht++]=er:(er-=65536,ot[ht++]=55296|er>>10&1023,ot[ht++]=56320|er&1023)}return Hr(ot,ht)},xt=(T,Me)=>{Me=Me||T.length,Me>T.length&&(Me=T.length);let J=Me-1;for(;J>=0&&(T[J]&192)===128;)J--;return J<0||J===0?Me:J+gr[T[J]]>Me?J:Me},Nt={string2buf:Zr,buf2string:Ye,utf8border:xt};function Wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zt=Wt;const nr=Object.prototype.toString,{Z_NO_FLUSH:mr,Z_SYNC_FLUSH:vr,Z_FULL_FLUSH:Pr,Z_FINISH:Jr,Z_OK:Nn,Z_STREAM_END:Bn,Z_DEFAULT_COMPRESSION:ca,Z_DEFAULT_STRATEGY:ut,Z_DEFLATED:hn}=ei;function ga(T){this.options=xr.assign({level:ca,method:hn,chunkSize:16384,windowBits:15,memLevel:8,strategy:ut},T||{});let Me=this.options;Me.raw&&Me.windowBits>0?Me.windowBits=-Me.windowBits:Me.gzip&&Me.windowBits>0&&Me.windowBits<16&&(Me.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zt,this.strm.avail_out=0;let J=It.deflateInit2(this.strm,Me.level,Me.method,Me.windowBits,Me.memLevel,Me.strategy);if(J!==Nn)throw new Error(Ur[J]);if(Me.header&&It.deflateSetHeader(this.strm,Me.header),Me.dictionary){let Xe;if(typeof Me.dictionary=="string"?Xe=Nt.string2buf(Me.dictionary):nr.call(Me.dictionary)==="[object ArrayBuffer]"?Xe=new Uint8Array(Me.dictionary):Xe=Me.dictionary,J=It.deflateSetDictionary(this.strm,Xe),J!==Nn)throw new Error(Ur[J]);this._dict_set=!0}}ga.prototype.push=function(T,Me){const J=this.strm,Xe=this.options.chunkSize;let ht,ot;if(this.ended)return!1;for(Me===~~Me?ot=Me:ot=Me===!0?Jr:mr,typeof T=="string"?J.input=Nt.string2buf(T):nr.call(T)==="[object ArrayBuffer]"?J.input=new Uint8Array(T):J.input=T,J.next_in=0,J.avail_in=J.input.length;;){if(J.avail_out===0&&(J.output=new Uint8Array(Xe),J.next_out=0,J.avail_out=Xe),(ot===vr||ot===Pr)&&J.avail_out<=6){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(ht=It.deflate(J,ot),ht===Bn)return J.next_out>0&&this.onData(J.output.subarray(0,J.next_out)),ht=It.deflateEnd(this.strm),this.onEnd(ht),this.ended=!0,ht===Nn;if(J.avail_out===0){this.onData(J.output);continue}if(ot>0&&J.next_out>0){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(J.avail_in===0)break}return!0},ga.prototype.onData=function(T){this.chunks.push(T)},ga.prototype.onEnd=function(T){T===Nn&&(this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function un(T,Me){const J=new ga(Me);if(J.push(T,!0),J.err)throw J.msg||Ur[J.err];return J.result}function Qr(T,Me){return Me=Me||{},Me.raw=!0,un(T,Me)}function oa(T,Me){return Me=Me||{},Me.gzip=!0,un(T,Me)}var Mn=ga,Jn=un,Rn=Qr,Ai=oa,La={Deflate:Mn,deflate:Jn,deflateRaw:Rn,gzip:Ai};const Fn=16209,si=16191;var la=function(Me,J){let Xe,ht,ot,er,$t,Sn,Pt,ir,xa,fn,Mr,br,Ri,ba,ia,Na,Ya,an,Ea,ts,ea,oi,ka,Qn;const da=Me.state;Xe=Me.next_in,ka=Me.input,ht=Xe+(Me.avail_in-5),ot=Me.next_out,Qn=Me.output,er=ot-(J-Me.avail_out),$t=ot+(Me.avail_out-257),Sn=da.dmax,Pt=da.wsize,ir=da.whave,xa=da.wnext,fn=da.window,Mr=da.hold,br=da.bits,Ri=da.lencode,ba=da.distcode,ia=(1<<da.lenbits)-1,Na=(1<<da.distbits)-1;e:do{br<15&&(Mr+=ka[Xe++]<<br,br+=8,Mr+=ka[Xe++]<<br,br+=8),Ya=Ri[Mr&ia];t:for(;;){if(an=Ya>>>24,Mr>>>=an,br-=an,an=Ya>>>16&255,an===0)Qn[ot++]=Ya&65535;else if(an&16){Ea=Ya&65535,an&=15,an&&(br<an&&(Mr+=ka[Xe++]<<br,br+=8),Ea+=Mr&(1<<an)-1,Mr>>>=an,br-=an),br<15&&(Mr+=ka[Xe++]<<br,br+=8,Mr+=ka[Xe++]<<br,br+=8),Ya=ba[Mr&Na];r:for(;;){if(an=Ya>>>24,Mr>>>=an,br-=an,an=Ya>>>16&255,an&16){if(ts=Ya&65535,an&=15,br<an&&(Mr+=ka[Xe++]<<br,br+=8,br<an&&(Mr+=ka[Xe++]<<br,br+=8)),ts+=Mr&(1<<an)-1,ts>Sn){Me.msg="invalid distance too far back",da.mode=Fn;break e}if(Mr>>>=an,br-=an,an=ot-er,ts>an){if(an=ts-an,an>ir&&da.sane){Me.msg="invalid distance too far back",da.mode=Fn;break e}if(ea=0,oi=fn,xa===0){if(ea+=Pt-an,an<Ea){Ea-=an;do Qn[ot++]=fn[ea++];while(--an);ea=ot-ts,oi=Qn}}else if(xa<an){if(ea+=Pt+xa-an,an-=xa,an<Ea){Ea-=an;do Qn[ot++]=fn[ea++];while(--an);if(ea=0,xa<Ea){an=xa,Ea-=an;do Qn[ot++]=fn[ea++];while(--an);ea=ot-ts,oi=Qn}}}else if(ea+=xa-an,an<Ea){Ea-=an;do Qn[ot++]=fn[ea++];while(--an);ea=ot-ts,oi=Qn}for(;Ea>2;)Qn[ot++]=oi[ea++],Qn[ot++]=oi[ea++],Qn[ot++]=oi[ea++],Ea-=3;Ea&&(Qn[ot++]=oi[ea++],Ea>1&&(Qn[ot++]=oi[ea++]))}else{ea=ot-ts;do Qn[ot++]=Qn[ea++],Qn[ot++]=Qn[ea++],Qn[ot++]=Qn[ea++],Ea-=3;while(Ea>2);Ea&&(Qn[ot++]=Qn[ea++],Ea>1&&(Qn[ot++]=Qn[ea++]))}}else if((an&64)===0){Ya=ba[(Ya&65535)+(Mr&(1<<an)-1)];continue r}else{Me.msg="invalid distance code",da.mode=Fn;break e}break}}else if((an&64)===0){Ya=Ri[(Ya&65535)+(Mr&(1<<an)-1)];continue t}else if(an&32){da.mode=si;break e}else{Me.msg="invalid literal/length code",da.mode=Fn;break e}break}}while(Xe<ht&&ot<$t);Ea=br>>3,Xe-=Ea,br-=Ea<<3,Mr&=(1<<br)-1,Me.next_in=Xe,Me.next_out=ot,Me.avail_in=Xe<ht?5+(ht-Xe):5-(Xe-ht),Me.avail_out=ot<$t?257+($t-ot):257-(ot-$t),da.hold=Mr,da.bits=br};const On=15,ua=852,kn=592,wa=0,ci=1,Va=2,za=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),es=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ei=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var zn=(T,Me,J,Xe,ht,ot,er,$t)=>{const Sn=$t.bits;let Pt=0,ir=0,xa=0,fn=0,Mr=0,br=0,Ri=0,ba=0,ia=0,Na=0,Ya,an,Ea,ts,ea,oi=null,ka;const Qn=new Uint16Array(On+1),da=new Uint16Array(On+1);let jo=null,sc,Mo,co;for(Pt=0;Pt<=On;Pt++)Qn[Pt]=0;for(ir=0;ir<Xe;ir++)Qn[Me[J+ir]]++;for(Mr=Sn,fn=On;fn>=1&&Qn[fn]===0;fn--);if(Mr>fn&&(Mr=fn),fn===0)return ht[ot++]=1<<24|64<<16|0,ht[ot++]=1<<24|64<<16|0,$t.bits=1,0;for(xa=1;xa<fn&&Qn[xa]===0;xa++);for(Mr<xa&&(Mr=xa),ba=1,Pt=1;Pt<=On;Pt++)if(ba<<=1,ba-=Qn[Pt],ba<0)return-1;if(ba>0&&(T===wa||fn!==1))return-1;for(da[1]=0,Pt=1;Pt<On;Pt++)da[Pt+1]=da[Pt]+Qn[Pt];for(ir=0;ir<Xe;ir++)Me[J+ir]!==0&&(er[da[Me[J+ir]]++]=ir);if(T===wa?(oi=jo=er,ka=20):T===ci?(oi=za,jo=es,ka=257):(oi=Kn,jo=Ei,ka=0),Na=0,ir=0,Pt=xa,ea=ot,br=Mr,Ri=0,Ea=-1,ia=1<<Mr,ts=ia-1,T===ci&&ia>ua||T===Va&&ia>kn)return 1;for(;;){sc=Pt-Ri,er[ir]+1<ka?(Mo=0,co=er[ir]):er[ir]>=ka?(Mo=jo[er[ir]-ka],co=oi[er[ir]-ka]):(Mo=96,co=0),Ya=1<<Pt-Ri,an=1<<br,xa=an;do an-=Ya,ht[ea+(Na>>Ri)+an]=sc<<24|Mo<<16|co|0;while(an!==0);for(Ya=1<<Pt-1;Na&Ya;)Ya>>=1;if(Ya!==0?(Na&=Ya-1,Na+=Ya):Na=0,ir++,--Qn[Pt]===0){if(Pt===fn)break;Pt=Me[J+er[ir]]}if(Pt>Mr&&(Na&ts)!==Ea){for(Ri===0&&(Ri=Mr),ea+=xa,br=Pt-Ri,ba=1<<br;br+Ri<fn&&(ba-=Qn[br+Ri],!(ba<=0));)br++,ba<<=1;if(ia+=1<<br,T===ci&&ia>ua||T===Va&&ia>kn)return 1;Ea=Na&ts,ht[Ea]=Mr<<24|br<<16|ea-ot|0}}return Na!==0&&(ht[ea+Na]=Pt-Ri<<24|64<<16|0),$t.bits=Mr,0};const Ii=0,ja=1,En=2,{Z_FINISH:Xa,Z_BLOCK:tu,Z_TREES:Ws,Z_OK:yo,Z_STREAM_END:Nc,Z_NEED_DICT:fa,Z_STREAM_ERROR:bs,Z_DATA_ERROR:bo,Z_MEM_ERROR:El,Z_BUF_ERROR:Fs,Z_DEFLATED:Pi}=ei,Is=16180,lo=16181,ru=16182,Ys=16183,rl=16184,Sc=16185,Jl=16186,Zs=16187,nl=16188,Il=16189,Vo=16190,Fo=16191,ec=16192,Tl=16193,Bc=16194,dd=16195,Hc=16196,hd=16197,nu=16198,zo=16199,au=16200,wu=16201,Uu=16202,_l=16203,Hu=16204,Qu=16205,tc=16206,Wu=16207,ju=16208,ya=16209,fd=16210,rc=16211,xi=852,Ad=592,Ts=15,Ec=T=>(T>>>24&255)+(T>>>8&65280)+((T&65280)<<8)+((T&255)<<24);function iu(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ol=T=>{if(!T)return 1;const Me=T.state;return!Me||Me.strm!==T||Me.mode<Is||Me.mode>rc?1:0},$u=T=>{if(Ol(T))return bs;const Me=T.state;return T.total_in=T.total_out=Me.total=0,T.msg="",Me.wrap&&(T.adler=Me.wrap&1),Me.mode=Is,Me.last=0,Me.havedict=0,Me.flags=-1,Me.dmax=32768,Me.head=null,Me.hold=0,Me.bits=0,Me.lencode=Me.lendyn=new Int32Array(xi),Me.distcode=Me.distdyn=new Int32Array(Ad),Me.sane=1,Me.back=-1,yo},Ko=T=>{if(Ol(T))return bs;const Me=T.state;return Me.wsize=0,Me.whave=0,Me.wnext=0,$u(T)},pd=(T,Me)=>{let J;if(Ol(T))return bs;const Xe=T.state;return Me<0?(J=0,Me=-Me):(J=(Me>>4)+5,Me<48&&(Me&=15)),Me&&(Me<8||Me>15)?bs:(Xe.window!==null&&Xe.wbits!==Me&&(Xe.window=null),Xe.wrap=J,Xe.wbits=Me,Ko(T))},Cu=(T,Me)=>{if(!T)return bs;const J=new iu;T.state=J,J.strm=T,J.window=null,J.mode=Is;const Xe=pd(T,Me);return Xe!==yo&&(T.state=null),Xe},md=T=>Cu(T,Ts);let su=!0,Nu,Su;const Bu=T=>{if(su){Nu=new Int32Array(512),Su=new Int32Array(32);let Me=0;for(;Me<144;)T.lens[Me++]=8;for(;Me<256;)T.lens[Me++]=9;for(;Me<280;)T.lens[Me++]=7;for(;Me<288;)T.lens[Me++]=8;for(zn(ja,T.lens,0,288,Nu,0,T.work,{bits:9}),Me=0;Me<32;)T.lens[Me++]=5;zn(En,T.lens,0,32,Su,0,T.work,{bits:5}),su=!1}T.lencode=Nu,T.lenbits=9,T.distcode=Su,T.distbits=5},Eu=(T,Me,J,Xe)=>{let ht;const ot=T.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new Uint8Array(ot.wsize)),Xe>=ot.wsize?(ot.window.set(Me.subarray(J-ot.wsize,J),0),ot.wnext=0,ot.whave=ot.wsize):(ht=ot.wsize-ot.wnext,ht>Xe&&(ht=Xe),ot.window.set(Me.subarray(J-Xe,J-Xe+ht),ot.wnext),Xe-=ht,Xe?(ot.window.set(Me.subarray(J-Xe,J),0),ot.wnext=Xe,ot.whave=ot.wsize):(ot.wnext+=ht,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=ht))),0},gd=(T,Me)=>{let J,Xe,ht,ot,er,$t,Sn,Pt,ir,xa,fn,Mr,br,Ri,ba=0,ia,Na,Ya,an,Ea,ts,ea,oi;const ka=new Uint8Array(4);let Qn,da;const jo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ol(T)||!T.output||!T.input&&T.avail_in!==0)return bs;J=T.state,J.mode===Fo&&(J.mode=ec),er=T.next_out,ht=T.output,Sn=T.avail_out,ot=T.next_in,Xe=T.input,$t=T.avail_in,Pt=J.hold,ir=J.bits,xa=$t,fn=Sn,oi=yo;e:for(;;)switch(J.mode){case Is:if(J.wrap===0){J.mode=ec;break}for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.wrap&2&&Pt===35615){J.wbits===0&&(J.wbits=15),J.check=0,ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0),Pt=0,ir=0,J.mode=lo;break}if(J.head&&(J.head.done=!1),!(J.wrap&1)||(((Pt&255)<<8)+(Pt>>8))%31){T.msg="incorrect header check",J.mode=ya;break}if((Pt&15)!==Pi){T.msg="unknown compression method",J.mode=ya;break}if(Pt>>>=4,ir-=4,ea=(Pt&15)+8,J.wbits===0&&(J.wbits=ea),ea>15||ea>J.wbits){T.msg="invalid window size",J.mode=ya;break}J.dmax=1<<J.wbits,J.flags=0,T.adler=J.check=1,J.mode=Pt&512?Il:Fo,Pt=0,ir=0;break;case lo:for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.flags=Pt,(J.flags&255)!==Pi){T.msg="unknown compression method",J.mode=ya;break}if(J.flags&57344){T.msg="unknown header flags set",J.mode=ya;break}J.head&&(J.head.text=Pt>>8&1),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0)),Pt=0,ir=0,J.mode=ru;case ru:for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.head&&(J.head.time=Pt),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,ka[2]=Pt>>>16&255,ka[3]=Pt>>>24&255,J.check=Un(J.check,ka,4,0)),Pt=0,ir=0,J.mode=Ys;case Ys:for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.head&&(J.head.xflags=Pt&255,J.head.os=Pt>>8),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0)),Pt=0,ir=0,J.mode=rl;case rl:if(J.flags&1024){for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.length=Pt,J.head&&(J.head.extra_len=Pt),J.flags&512&&J.wrap&4&&(ka[0]=Pt&255,ka[1]=Pt>>>8&255,J.check=Un(J.check,ka,2,0)),Pt=0,ir=0}else J.head&&(J.head.extra=null);J.mode=Sc;case Sc:if(J.flags&1024&&(Mr=J.length,Mr>$t&&(Mr=$t),Mr&&(J.head&&(ea=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Uint8Array(J.head.extra_len)),J.head.extra.set(Xe.subarray(ot,ot+Mr),ea)),J.flags&512&&J.wrap&4&&(J.check=Un(J.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,J.length-=Mr),J.length))break e;J.length=0,J.mode=Jl;case Jl:if(J.flags&2048){if($t===0)break e;Mr=0;do ea=Xe[ot+Mr++],J.head&&ea&&J.length<65536&&(J.head.name+=String.fromCharCode(ea));while(ea&&Mr<$t);if(J.flags&512&&J.wrap&4&&(J.check=Un(J.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,ea)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=Zs;case Zs:if(J.flags&4096){if($t===0)break e;Mr=0;do ea=Xe[ot+Mr++],J.head&&ea&&J.length<65536&&(J.head.comment+=String.fromCharCode(ea));while(ea&&Mr<$t);if(J.flags&512&&J.wrap&4&&(J.check=Un(J.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,ea)break e}else J.head&&(J.head.comment=null);J.mode=nl;case nl:if(J.flags&512){for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.wrap&4&&Pt!==(J.check&65535)){T.msg="header crc mismatch",J.mode=ya;break}Pt=0,ir=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),T.adler=J.check=0,J.mode=Fo;break;case Il:for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}T.adler=J.check=Ec(Pt),Pt=0,ir=0,J.mode=Vo;case Vo:if(J.havedict===0)return T.next_out=er,T.avail_out=Sn,T.next_in=ot,T.avail_in=$t,J.hold=Pt,J.bits=ir,fa;T.adler=J.check=1,J.mode=Fo;case Fo:if(Me===tu||Me===Ws)break e;case ec:if(J.last){Pt>>>=ir&7,ir-=ir&7,J.mode=tc;break}for(;ir<3;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}switch(J.last=Pt&1,Pt>>>=1,ir-=1,Pt&3){case 0:J.mode=Tl;break;case 1:if(Bu(J),J.mode=zo,Me===Ws){Pt>>>=2,ir-=2;break e}break;case 2:J.mode=Hc;break;case 3:T.msg="invalid block type",J.mode=ya}Pt>>>=2,ir-=2;break;case Tl:for(Pt>>>=ir&7,ir-=ir&7;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if((Pt&65535)!==(Pt>>>16^65535)){T.msg="invalid stored block lengths",J.mode=ya;break}if(J.length=Pt&65535,Pt=0,ir=0,J.mode=Bc,Me===Ws)break e;case Bc:J.mode=dd;case dd:if(Mr=J.length,Mr){if(Mr>$t&&(Mr=$t),Mr>Sn&&(Mr=Sn),Mr===0)break e;ht.set(Xe.subarray(ot,ot+Mr),er),$t-=Mr,ot+=Mr,Sn-=Mr,er+=Mr,J.length-=Mr;break}J.mode=Fo;break;case Hc:for(;ir<14;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.nlen=(Pt&31)+257,Pt>>>=5,ir-=5,J.ndist=(Pt&31)+1,Pt>>>=5,ir-=5,J.ncode=(Pt&15)+4,Pt>>>=4,ir-=4,J.nlen>286||J.ndist>30){T.msg="too many length or distance symbols",J.mode=ya;break}J.have=0,J.mode=hd;case hd:for(;J.have<J.ncode;){for(;ir<3;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.lens[jo[J.have++]]=Pt&7,Pt>>>=3,ir-=3}for(;J.have<19;)J.lens[jo[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,Qn={bits:J.lenbits},oi=zn(Ii,J.lens,0,19,J.lencode,0,J.work,Qn),J.lenbits=Qn.bits,oi){T.msg="invalid code lengths set",J.mode=ya;break}J.have=0,J.mode=nu;case nu:for(;J.have<J.nlen+J.ndist;){for(;ba=J.lencode[Pt&(1<<J.lenbits)-1],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Ya<16)Pt>>>=ia,ir-=ia,J.lens[J.have++]=Ya;else{if(Ya===16){for(da=ia+2;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Pt>>>=ia,ir-=ia,J.have===0){T.msg="invalid bit length repeat",J.mode=ya;break}ea=J.lens[J.have-1],Mr=3+(Pt&3),Pt>>>=2,ir-=2}else if(Ya===17){for(da=ia+3;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=ia,ir-=ia,ea=0,Mr=3+(Pt&7),Pt>>>=3,ir-=3}else{for(da=ia+7;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=ia,ir-=ia,ea=0,Mr=11+(Pt&127),Pt>>>=7,ir-=7}if(J.have+Mr>J.nlen+J.ndist){T.msg="invalid bit length repeat",J.mode=ya;break}for(;Mr--;)J.lens[J.have++]=ea}}if(J.mode===ya)break;if(J.lens[256]===0){T.msg="invalid code -- missing end-of-block",J.mode=ya;break}if(J.lenbits=9,Qn={bits:J.lenbits},oi=zn(ja,J.lens,0,J.nlen,J.lencode,0,J.work,Qn),J.lenbits=Qn.bits,oi){T.msg="invalid literal/lengths set",J.mode=ya;break}if(J.distbits=6,J.distcode=J.distdyn,Qn={bits:J.distbits},oi=zn(En,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,Qn),J.distbits=Qn.bits,oi){T.msg="invalid distances set",J.mode=ya;break}if(J.mode=zo,Me===Ws)break e;case zo:J.mode=au;case au:if($t>=6&&Sn>=258){T.next_out=er,T.avail_out=Sn,T.next_in=ot,T.avail_in=$t,J.hold=Pt,J.bits=ir,la(T,fn),er=T.next_out,ht=T.output,Sn=T.avail_out,ot=T.next_in,Xe=T.input,$t=T.avail_in,Pt=J.hold,ir=J.bits,J.mode===Fo&&(J.back=-1);break}for(J.back=0;ba=J.lencode[Pt&(1<<J.lenbits)-1],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Na&&(Na&240)===0){for(an=ia,Ea=Na,ts=Ya;ba=J.lencode[ts+((Pt&(1<<an+Ea)-1)>>an)],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(an+ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=an,ir-=an,J.back+=an}if(Pt>>>=ia,ir-=ia,J.back+=ia,J.length=Ya,Na===0){J.mode=Qu;break}if(Na&32){J.back=-1,J.mode=Fo;break}if(Na&64){T.msg="invalid literal/length code",J.mode=ya;break}J.extra=Na&15,J.mode=wu;case wu:if(J.extra){for(da=J.extra;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.length+=Pt&(1<<J.extra)-1,Pt>>>=J.extra,ir-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=Uu;case Uu:for(;ba=J.distcode[Pt&(1<<J.distbits)-1],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if((Na&240)===0){for(an=ia,Ea=Na,ts=Ya;ba=J.distcode[ts+((Pt&(1<<an+Ea)-1)>>an)],ia=ba>>>24,Na=ba>>>16&255,Ya=ba&65535,!(an+ia<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=an,ir-=an,J.back+=an}if(Pt>>>=ia,ir-=ia,J.back+=ia,Na&64){T.msg="invalid distance code",J.mode=ya;break}J.offset=Ya,J.extra=Na&15,J.mode=_l;case _l:if(J.extra){for(da=J.extra;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}J.offset+=Pt&(1<<J.extra)-1,Pt>>>=J.extra,ir-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){T.msg="invalid distance too far back",J.mode=ya;break}J.mode=Hu;case Hu:if(Sn===0)break e;if(Mr=fn-Sn,J.offset>Mr){if(Mr=J.offset-Mr,Mr>J.whave&&J.sane){T.msg="invalid distance too far back",J.mode=ya;break}Mr>J.wnext?(Mr-=J.wnext,br=J.wsize-Mr):br=J.wnext-Mr,Mr>J.length&&(Mr=J.length),Ri=J.window}else Ri=ht,br=er-J.offset,Mr=J.length;Mr>Sn&&(Mr=Sn),Sn-=Mr,J.length-=Mr;do ht[er++]=Ri[br++];while(--Mr);J.length===0&&(J.mode=au);break;case Qu:if(Sn===0)break e;ht[er++]=J.length,Sn--,J.mode=au;break;case tc:if(J.wrap){for(;ir<32;){if($t===0)break e;$t--,Pt|=Xe[ot++]<<ir,ir+=8}if(fn-=Sn,T.total_out+=fn,J.total+=fn,J.wrap&4&&fn&&(T.adler=J.check=J.flags?Un(J.check,ht,fn,er-fn):Sr(J.check,ht,fn,er-fn)),fn=Sn,J.wrap&4&&(J.flags?Pt:Ec(Pt))!==J.check){T.msg="incorrect data check",J.mode=ya;break}Pt=0,ir=0}J.mode=Wu;case Wu:if(J.wrap&&J.flags){for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(J.wrap&4&&Pt!==(J.total&4294967295)){T.msg="incorrect length check",J.mode=ya;break}Pt=0,ir=0}J.mode=ju;case ju:oi=Nc;break e;case ya:oi=bo;break e;case fd:return El;case rc:default:return bs}return T.next_out=er,T.avail_out=Sn,T.next_in=ot,T.avail_in=$t,J.hold=Pt,J.bits=ir,(J.wsize||fn!==T.avail_out&&J.mode<ya&&(J.mode<tc||Me!==Xa))&&Eu(T,T.output,T.next_out,fn-T.avail_out),xa-=T.avail_in,fn-=T.avail_out,T.total_in+=xa,T.total_out+=fn,J.total+=fn,J.wrap&4&&fn&&(T.adler=J.check=J.flags?Un(J.check,ht,fn,T.next_out-fn):Sr(J.check,ht,fn,T.next_out-fn)),T.data_type=J.bits+(J.last?64:0)+(J.mode===Fo?128:0)+(J.mode===zo||J.mode===Bc?256:0),(xa===0&&fn===0||Me===Xa)&&oi===yo&&(oi=Fs),oi},kl=T=>{if(Ol(T))return bs;let Me=T.state;return Me.window&&(Me.window=null),T.state=null,yo},Rh=(T,Me)=>{if(Ol(T))return bs;const J=T.state;return(J.wrap&2)===0?bs:(J.head=Me,Me.done=!1,yo)},Iu=(T,Me)=>{const J=Me.length;let Xe,ht,ot;return Ol(T)||(Xe=T.state,Xe.wrap!==0&&Xe.mode!==Vo)?bs:Xe.mode===Vo&&(ht=1,ht=Sr(ht,Me,J,0),ht!==Xe.check)?bo:(ot=Eu(T,Me,J,J),ot?(Xe.mode=fd,El):(Xe.havedict=1,yo))};var $d=Ko,Lh=pd,Ca=$u,Qc=md,fh=Cu,Ic=gd,wo=kl,Pl=Rh,nc=Iu,Vd="pako inflate (from Nodeca project)",ml={inflateReset:$d,inflateReset2:Lh,inflateResetKeep:Ca,inflateInit:Qc,inflateInit2:fh,inflate:Ic,inflateEnd:wo,inflateGetHeader:Pl,inflateSetDictionary:nc,inflateInfo:Vd};function Vu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Go=Vu;const Tu=Object.prototype.toString,{Z_NO_FLUSH:gl,Z_FINISH:vd,Z_OK:Tc,Z_STREAM_END:ac,Z_NEED_DICT:Fl,Z_STREAM_ERROR:ui,Z_DATA_ERROR:Ti,Z_MEM_ERROR:Dl}=ei;function ws(T){this.options=xr.assign({chunkSize:65536,windowBits:15,to:""},T||{});const Me=this.options;Me.raw&&Me.windowBits>=0&&Me.windowBits<16&&(Me.windowBits=-Me.windowBits,Me.windowBits===0&&(Me.windowBits=-15)),Me.windowBits>=0&&Me.windowBits<16&&!(T&&T.windowBits)&&(Me.windowBits+=32),Me.windowBits>15&&Me.windowBits<48&&(Me.windowBits&15)===0&&(Me.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zt,this.strm.avail_out=0;let J=ml.inflateInit2(this.strm,Me.windowBits);if(J!==Tc)throw new Error(Ur[J]);if(this.header=new Go,ml.inflateGetHeader(this.strm,this.header),Me.dictionary&&(typeof Me.dictionary=="string"?Me.dictionary=Nt.string2buf(Me.dictionary):Tu.call(Me.dictionary)==="[object ArrayBuffer]"&&(Me.dictionary=new Uint8Array(Me.dictionary)),Me.raw&&(J=ml.inflateSetDictionary(this.strm,Me.dictionary),J!==Tc)))throw new Error(Ur[J])}ws.prototype.push=function(T,Me){const J=this.strm,Xe=this.options.chunkSize,ht=this.options.dictionary;let ot,er,$t;if(this.ended)return!1;for(Me===~~Me?er=Me:er=Me===!0?vd:gl,Tu.call(T)==="[object ArrayBuffer]"?J.input=new Uint8Array(T):J.input=T,J.next_in=0,J.avail_in=J.input.length;;){for(J.avail_out===0&&(J.output=new Uint8Array(Xe),J.next_out=0,J.avail_out=Xe),ot=ml.inflate(J,er),ot===Fl&&ht&&(ot=ml.inflateSetDictionary(J,ht),ot===Tc?ot=ml.inflate(J,er):ot===Ti&&(ot=Fl));J.avail_in>0&&ot===ac&&J.state.wrap>0&&T[J.next_in]!==0;)ml.inflateReset(J),ot=ml.inflate(J,er);switch(ot){case ui:case Ti:case Fl:case Dl:return this.onEnd(ot),this.ended=!0,!1}if($t=J.avail_out,J.next_out&&(J.avail_out===0||ot===ac))if(this.options.to==="string"){let Sn=Nt.utf8border(J.output,J.next_out),Pt=J.next_out-Sn,ir=Nt.buf2string(J.output,Sn);J.next_out=Pt,J.avail_out=Xe-Pt,Pt&&J.output.set(J.output.subarray(Sn,Sn+Pt),0),this.onData(ir)}else this.onData(J.output.length===J.next_out?J.output:J.output.subarray(0,J.next_out));if(!(ot===Tc&&$t===0)){if(ot===ac)return ot=ml.inflateEnd(this.strm),this.onEnd(ot),this.ended=!0,!0;if(J.avail_in===0)break}}return!0},ws.prototype.onData=function(T){this.chunks.push(T)},ws.prototype.onEnd=function(T){T===Tc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function Ds(T,Me){const J=new ws(Me);if(J.push(T),J.err)throw J.msg||Ur[J.err];return J.result}function _c(T,Me){return Me=Me||{},Me.raw=!0,Ds(T,Me)}var ou=ws,Do=Ds,ic=_c,Wc=Ds,zd={Inflate:ou,inflate:Do,inflateRaw:ic,ungzip:Wc};const{Deflate:$c,deflate:Kd,deflateRaw:fe,gzip:Ue}=La,{Inflate:gt,inflate:Ot,inflateRaw:Gt,ungzip:yr}=zd;var Fr=$c,In=Kd,Hn=fe,Aa=Ue,aa=gt,Oa=Ot,Fi=Gt,Mi=yr,hi=ei,us={Deflate:Fr,deflate:In,deflateRaw:Hn,gzip:Aa,Inflate:aa,inflate:Oa,inflateRaw:Fi,ungzip:Mi,constants:hi}}),"./node_modules/performance-now/lib/performance-now.js":(function(l){(function(){var u,o,h,d,f,A;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(u()-f)/1e6},o=process.hrtime,u=function(){var g;return g=o(),g[0]*1e9+g[1]},d=u(),A=process.uptime()*1e9,f=d-A):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(l,u,o){for(var h=o("./node_modules/performance-now/lib/performance-now.js"),d=typeof window>"u"?of:window,f=["moz","webkit"],A="AnimationFrame",g=d["request"+A],m=d["cancel"+A]||d["cancelRequest"+A],x=0;!g&&x<f.length;x++)g=d[f[x]+"Request"+A],m=d[f[x]+"Cancel"+A]||d[f[x]+"CancelRequest"+A];if(!g||!m){var y=0,b=0,w=[],N=1e3/60;g=function(S){if(w.length===0){var j=h(),_=Math.max(0,N-(j-y));y=_+j,setTimeout(function(){var P=w.slice(0);w.length=0;for(var Z=0;Z<P.length;Z++)if(!P[Z].cancelled)try{P[Z].callback(y)}catch(ee){setTimeout(function(){throw ee},0)}},Math.round(_))}return w.push({handle:++b,callback:S,cancelled:!1}),b},m=function(S){for(var j=0;j<w.length;j++)w[j].handle===S&&(w[j].cancelled=!0)}}l.exports=function(S){return g.call(d,S)},l.exports.cancel=function(){m.apply(d,arguments)},l.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}}),"./node_modules/rgbcolor/index.js":(function(l){l.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=o[u]||u;for(var h=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],d=0;d<h.length;d++){var f=h[d].re,A=h[d].process,g=f.exec(u);if(g){var m=A(g);this.r=m[0],this.g=m[1],this.b=m[2],m.length>3&&(this.alpha=m[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+x+y+b},this.getHelpXML=function(){for(var x=new Array,y=0;y<h.length;y++)for(var b=h[y].example,w=0;w<b.length;w++)x[x.length]=b[w];for(var N in o)x[x.length]=N;var S=document.createElement("ul");S.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var j=document.createElement("li"),_=new RGBColor(x[y]),P=document.createElement("div");P.style.cssText="margin: 3px; border: 1px solid black; background:"+_.toHex()+"; color:"+_.toHex(),P.appendChild(document.createTextNode("test"));var Z=document.createTextNode(" "+x[y]+" -> "+_.toRGB()+" -> "+_.toHex());j.appendChild(P),j.appendChild(Z),S.appendChild(j)}catch{}return S}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(l,u,o){o.r(u),o.d(u,{BlurStack:function(){return N},canvasRGB:function(){return b},canvasRGBA:function(){return x},image:function(){return g},imageDataRGB:function(){return w},imageDataRGBA:function(){return y}});function h(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(j){return typeof j}:h=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},h(S)}function d(S,j){if(!(S instanceof j))throw new TypeError("Cannot call a class as a function")}var f=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],A=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(S,j,_,P,Z,ee){if(typeof S=="string"&&(S=document.getElementById(S)),!(!S||Object.prototype.toString.call(S).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in S))){var K=Z?"offset":"natural",ae=S[K+"Width"],D=S[K+"Height"];if(Object.prototype.toString.call(S).slice(8,-1)==="ImageBitmap"&&(ae=S.width,D=S.height),typeof j=="string"&&(j=document.getElementById(j)),!(!j||!("getContext"in j))){ee||(j.style.width=ae+"px",j.style.height=D+"px"),j.width=ae,j.height=D;var q=j.getContext("2d");q.clearRect(0,0,ae,D),q.drawImage(S,0,0,S.naturalWidth,S.naturalHeight,0,0,ae,D),!(isNaN(_)||_<1)&&(P?x(j,0,0,ae,D,_):b(j,0,0,ae,D,_))}}}function m(S,j,_,P,Z){if(typeof S=="string"&&(S=document.getElementById(S)),!S||h(S)!=="object"||!("getContext"in S))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ee=S.getContext("2d");try{return ee.getImageData(j,_,P,Z)}catch(K){throw new Error("unable to access image data: "+K)}}function x(S,j,_,P,Z,ee){if(!(isNaN(ee)||ee<1)){ee|=0;var K=m(S,j,_,P,Z);K=y(K,j,_,P,Z,ee),S.getContext("2d").putImageData(K,j,_)}}function y(S,j,_,P,Z,ee){for(var K=S.data,ae=2*ee+1,D=P-1,q=Z-1,$=ee+1,L=$*($+1)/2,ye=new N,ne=ye,Be,Te=1;Te<ae;Te++)ne=ne.next=new N,Te===$&&(Be=ne);ne.next=ye;for(var me=null,ue=null,ve=0,le=0,Ae=f[ee],Ie=A[ee],Pe=0;Pe<Z;Pe++){ne=ye;for(var Ce=K[le],ce=K[le+1],X=K[le+2],de=K[le+3],se=0;se<$;se++)ne.r=Ce,ne.g=ce,ne.b=X,ne.a=de,ne=ne.next;for(var We=0,Re=0,Ee=0,ie=0,Le=$*Ce,Ze=$*ce,jt=$*X,Lt=$*de,Ct=L*Ce,Xt=L*ce,_r=L*X,Or=L*de,He=1;He<$;He++){var Zt=le+((D<He?D:He)<<2),Bt=K[Zt],$r=K[Zt+1],pr=K[Zt+2],on=K[Zt+3],Yr=$-He;Ct+=(ne.r=Bt)*Yr,Xt+=(ne.g=$r)*Yr,_r+=(ne.b=pr)*Yr,Or+=(ne.a=on)*Yr,We+=Bt,Re+=$r,Ee+=pr,ie+=on,ne=ne.next}me=ye,ue=Be;for(var qr=0;qr<P;qr++){var Ir=Or*Ae>>>Ie;if(K[le+3]=Ir,Ir!==0){var dr=255/Ir;K[le]=(Ct*Ae>>>Ie)*dr,K[le+1]=(Xt*Ae>>>Ie)*dr,K[le+2]=(_r*Ae>>>Ie)*dr}else K[le]=K[le+1]=K[le+2]=0;Ct-=Le,Xt-=Ze,_r-=jt,Or-=Lt,Le-=me.r,Ze-=me.g,jt-=me.b,Lt-=me.a;var Cr=qr+ee+1;Cr=ve+(Cr<D?Cr:D)<<2,We+=me.r=K[Cr],Re+=me.g=K[Cr+1],Ee+=me.b=K[Cr+2],ie+=me.a=K[Cr+3],Ct+=We,Xt+=Re,_r+=Ee,Or+=ie,me=me.next;var Vr=ue,zr=Vr.r,vn=Vr.g,Wr=Vr.b,$n=Vr.a;Le+=zr,Ze+=vn,jt+=Wr,Lt+=$n,We-=zr,Re-=vn,Ee-=Wr,ie-=$n,ue=ue.next,le+=4}ve+=P}for(var Lr=0;Lr<P;Lr++){le=Lr<<2;var Dr=K[le],jn=K[le+1],cn=K[le+2],bt=K[le+3],Sr=$*Dr,dn=$*jn,Dn=$*cn,Xr=$*bt,Un=L*Dr,Ur=L*jn,ei=L*cn,ls=L*bt;ne=ye;for(var Cn=0;Cn<$;Cn++)ne.r=Dr,ne.g=jn,ne.b=cn,ne.a=bt,ne=ne.next;for(var Bs=P,ji=0,vi=0,Ui=0,Bi=0,Es=1;Es<=ee;Es++){le=Bs+Lr<<2;var ri=$-Es;Un+=(ne.r=Dr=K[le])*ri,Ur+=(ne.g=jn=K[le+1])*ri,ei+=(ne.b=cn=K[le+2])*ri,ls+=(ne.a=bt=K[le+3])*ri,Bi+=Dr,ji+=jn,vi+=cn,Ui+=bt,ne=ne.next,Es<q&&(Bs+=P)}le=Lr,me=ye,ue=Be;for(var Gs=0;Gs<Z;Gs++){var Wa=le<<2;K[Wa+3]=bt=ls*Ae>>>Ie,bt>0?(bt=255/bt,K[Wa]=(Un*Ae>>>Ie)*bt,K[Wa+1]=(Ur*Ae>>>Ie)*bt,K[Wa+2]=(ei*Ae>>>Ie)*bt):K[Wa]=K[Wa+1]=K[Wa+2]=0,Un-=Sr,Ur-=dn,ei-=Dn,ls-=Xr,Sr-=me.r,dn-=me.g,Dn-=me.b,Xr-=me.a,Wa=Lr+((Wa=Gs+$)<q?Wa:q)*P<<2,Un+=Bi+=me.r=K[Wa],Ur+=ji+=me.g=K[Wa+1],ei+=vi+=me.b=K[Wa+2],ls+=Ui+=me.a=K[Wa+3],me=me.next,Sr+=Dr=ue.r,dn+=jn=ue.g,Dn+=cn=ue.b,Xr+=bt=ue.a,Bi-=Dr,ji-=jn,vi-=cn,Ui-=bt,ue=ue.next,le+=P}}return S}function b(S,j,_,P,Z,ee){if(!(isNaN(ee)||ee<1)){ee|=0;var K=m(S,j,_,P,Z);K=w(K,j,_,P,Z,ee),S.getContext("2d").putImageData(K,j,_)}}function w(S,j,_,P,Z,ee){for(var K=S.data,ae=2*ee+1,D=P-1,q=Z-1,$=ee+1,L=$*($+1)/2,ye=new N,ne=ye,Be,Te=1;Te<ae;Te++)ne=ne.next=new N,Te===$&&(Be=ne);ne.next=ye;for(var me=null,ue=null,ve=f[ee],le=A[ee],Ae,Ie,Pe=0,Ce=0,ce=0;ce<Z;ce++){var X=K[Ce],de=K[Ce+1],se=K[Ce+2],We=$*X,Re=$*de,Ee=$*se,ie=L*X,Le=L*de,Ze=L*se;ne=ye;for(var jt=0;jt<$;jt++)ne.r=X,ne.g=de,ne.b=se,ne=ne.next;for(var Lt=0,Ct=0,Xt=0,_r=1;_r<$;_r++)Ae=Ce+((D<_r?D:_r)<<2),ie+=(ne.r=X=K[Ae])*(Ie=$-_r),Le+=(ne.g=de=K[Ae+1])*Ie,Ze+=(ne.b=se=K[Ae+2])*Ie,Lt+=X,Ct+=de,Xt+=se,ne=ne.next;me=ye,ue=Be;for(var Or=0;Or<P;Or++)K[Ce]=ie*ve>>>le,K[Ce+1]=Le*ve>>>le,K[Ce+2]=Ze*ve>>>le,ie-=We,Le-=Re,Ze-=Ee,We-=me.r,Re-=me.g,Ee-=me.b,Ae=Pe+((Ae=Or+ee+1)<D?Ae:D)<<2,Lt+=me.r=K[Ae],Ct+=me.g=K[Ae+1],Xt+=me.b=K[Ae+2],ie+=Lt,Le+=Ct,Ze+=Xt,me=me.next,We+=X=ue.r,Re+=de=ue.g,Ee+=se=ue.b,Lt-=X,Ct-=de,Xt-=se,ue=ue.next,Ce+=4;Pe+=P}for(var He=0;He<P;He++){Ce=He<<2;var Zt=K[Ce],Bt=K[Ce+1],$r=K[Ce+2],pr=$*Zt,on=$*Bt,Yr=$*$r,qr=L*Zt,Ir=L*Bt,dr=L*$r;ne=ye;for(var Cr=0;Cr<$;Cr++)ne.r=Zt,ne.g=Bt,ne.b=$r,ne=ne.next;for(var Vr=0,zr=0,vn=0,Wr=1,$n=P;Wr<=ee;Wr++)Ce=$n+He<<2,qr+=(ne.r=Zt=K[Ce])*(Ie=$-Wr),Ir+=(ne.g=Bt=K[Ce+1])*Ie,dr+=(ne.b=$r=K[Ce+2])*Ie,Vr+=Zt,zr+=Bt,vn+=$r,ne=ne.next,Wr<q&&($n+=P);Ce=He,me=ye,ue=Be;for(var Lr=0;Lr<Z;Lr++)Ae=Ce<<2,K[Ae]=qr*ve>>>le,K[Ae+1]=Ir*ve>>>le,K[Ae+2]=dr*ve>>>le,qr-=pr,Ir-=on,dr-=Yr,pr-=me.r,on-=me.g,Yr-=me.b,Ae=He+((Ae=Lr+$)<q?Ae:q)*P<<2,qr+=Vr+=me.r=K[Ae],Ir+=zr+=me.g=K[Ae+1],dr+=vn+=me.b=K[Ae+2],me=me.next,pr+=Zt=ue.r,on+=Bt=ue.g,Yr+=$r=ue.b,Vr-=Zt,zr-=Bt,vn-=$r,ue=ue.next,Ce+=P}return S}var N=function S(){d(this,S),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(l,u,o){o.r(u),o.d(u,{COMMAND_ARG_COUNTS:function(){return q},SVGPathData:function(){return D},SVGPathDataParser:function(){return ae},SVGPathDataTransformer:function(){return b},encodeSVGPath:function(){return f}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var h=function($,L){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,ne){ye.__proto__=ne}||function(ye,ne){for(var Be in ne)Object.prototype.hasOwnProperty.call(ne,Be)&&(ye[Be]=ne[Be])})($,L)};function d($,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function ye(){this.constructor=$}h($,L),$.prototype=L===null?Object.create(L):(ye.prototype=L.prototype,new ye)}function f($){var L="";Array.isArray($)||($=[$]);for(var ye=0;ye<$.length;ye++){var ne=$[ye];if(ne.type===D.CLOSE_PATH)L+="z";else if(ne.type===D.HORIZ_LINE_TO)L+=(ne.relative?"h":"H")+ne.x;else if(ne.type===D.VERT_LINE_TO)L+=(ne.relative?"v":"V")+ne.y;else if(ne.type===D.MOVE_TO)L+=(ne.relative?"m":"M")+ne.x+" "+ne.y;else if(ne.type===D.LINE_TO)L+=(ne.relative?"l":"L")+ne.x+" "+ne.y;else if(ne.type===D.CURVE_TO)L+=(ne.relative?"c":"C")+ne.x1+" "+ne.y1+" "+ne.x2+" "+ne.y2+" "+ne.x+" "+ne.y;else if(ne.type===D.SMOOTH_CURVE_TO)L+=(ne.relative?"s":"S")+ne.x2+" "+ne.y2+" "+ne.x+" "+ne.y;else if(ne.type===D.QUAD_TO)L+=(ne.relative?"q":"Q")+ne.x1+" "+ne.y1+" "+ne.x+" "+ne.y;else if(ne.type===D.SMOOTH_QUAD_TO)L+=(ne.relative?"t":"T")+ne.x+" "+ne.y;else{if(ne.type!==D.ARC)throw new Error('Unexpected command type "'+ne.type+'" at index '+ye+".");L+=(ne.relative?"a":"A")+ne.rX+" "+ne.rY+" "+ne.xRot+" "+ +ne.lArcFlag+" "+ +ne.sweepFlag+" "+ne.x+" "+ne.y}}return L}function A($,L){var ye=$[0],ne=$[1];return[ye*Math.cos(L)-ne*Math.sin(L),ye*Math.sin(L)+ne*Math.cos(L)]}function g(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];for(var ye=0;ye<$.length;ye++)if(typeof $[ye]!="number")throw new Error("assertNumbers arguments["+ye+"] is not a number. "+typeof $[ye]+" == typeof "+$[ye]);return!0}var m=Math.PI;function x($,L,ye){$.lArcFlag=$.lArcFlag===0?0:1,$.sweepFlag=$.sweepFlag===0?0:1;var ne=$.rX,Be=$.rY,Te=$.x,me=$.y;ne=Math.abs($.rX),Be=Math.abs($.rY);var ue=A([(L-Te)/2,(ye-me)/2],-$.xRot/180*m),ve=ue[0],le=ue[1],Ae=Math.pow(ve,2)/Math.pow(ne,2)+Math.pow(le,2)/Math.pow(Be,2);1<Ae&&(ne*=Math.sqrt(Ae),Be*=Math.sqrt(Ae)),$.rX=ne,$.rY=Be;var Ie=Math.pow(ne,2)*Math.pow(le,2)+Math.pow(Be,2)*Math.pow(ve,2),Pe=($.lArcFlag!==$.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(ne,2)*Math.pow(Be,2)-Ie)/Ie)),Ce=ne*le/Be*Pe,ce=-Be*ve/ne*Pe,X=A([Ce,ce],$.xRot/180*m);$.cX=X[0]+(L+Te)/2,$.cY=X[1]+(ye+me)/2,$.phi1=Math.atan2((le-ce)/Be,(ve-Ce)/ne),$.phi2=Math.atan2((-le-ce)/Be,(-ve-Ce)/ne),$.sweepFlag===0&&$.phi2>$.phi1&&($.phi2-=2*m),$.sweepFlag===1&&$.phi2<$.phi1&&($.phi2+=2*m),$.phi1*=180/m,$.phi2*=180/m}function y($,L,ye){g($,L,ye);var ne=$*$+L*L-ye*ye;if(0>ne)return[];if(ne===0)return[[$*ye/($*$+L*L),L*ye/($*$+L*L)]];var Be=Math.sqrt(ne);return[[($*ye+L*Be)/($*$+L*L),(L*ye-$*Be)/($*$+L*L)],[($*ye-L*Be)/($*$+L*L),(L*ye+$*Be)/($*$+L*L)]]}var b,w=Math.PI/180;function N($,L,ye){return(1-ye)*$+ye*L}function S($,L,ye,ne){return $+Math.cos(ne/180*m)*L+Math.sin(ne/180*m)*ye}function j($,L,ye,ne){var Be=1e-6,Te=L-$,me=ye-L,ue=3*Te+3*(ne-ye)-6*me,ve=6*(me-Te),le=3*Te;return Math.abs(ue)<Be?[-le/ve]:(function(Ae,Ie,Pe){var Ce=Ae*Ae/4-Ie;if(Ce<-Pe)return[];if(Ce<=Pe)return[-Ae/2];var ce=Math.sqrt(Ce);return[-Ae/2-ce,-Ae/2+ce]})(ve/ue,le/ue,Be)}function _($,L,ye,ne,Be){var Te=1-Be;return $*(Te*Te*Te)+L*(3*Te*Te*Be)+ye*(3*Te*Be*Be)+ne*(Be*Be*Be)}(function($){function L(){return Be((function(ue,ve,le){return ue.relative&&(ue.x1!==void 0&&(ue.x1+=ve),ue.y1!==void 0&&(ue.y1+=le),ue.x2!==void 0&&(ue.x2+=ve),ue.y2!==void 0&&(ue.y2+=le),ue.x!==void 0&&(ue.x+=ve),ue.y!==void 0&&(ue.y+=le),ue.relative=!1),ue}))}function ye(){var ue=NaN,ve=NaN,le=NaN,Ae=NaN;return Be((function(Ie,Pe,Ce){return Ie.type&D.SMOOTH_CURVE_TO&&(Ie.type=D.CURVE_TO,ue=isNaN(ue)?Pe:ue,ve=isNaN(ve)?Ce:ve,Ie.x1=Ie.relative?Pe-ue:2*Pe-ue,Ie.y1=Ie.relative?Ce-ve:2*Ce-ve),Ie.type&D.CURVE_TO?(ue=Ie.relative?Pe+Ie.x2:Ie.x2,ve=Ie.relative?Ce+Ie.y2:Ie.y2):(ue=NaN,ve=NaN),Ie.type&D.SMOOTH_QUAD_TO&&(Ie.type=D.QUAD_TO,le=isNaN(le)?Pe:le,Ae=isNaN(Ae)?Ce:Ae,Ie.x1=Ie.relative?Pe-le:2*Pe-le,Ie.y1=Ie.relative?Ce-Ae:2*Ce-Ae),Ie.type&D.QUAD_TO?(le=Ie.relative?Pe+Ie.x1:Ie.x1,Ae=Ie.relative?Ce+Ie.y1:Ie.y1):(le=NaN,Ae=NaN),Ie}))}function ne(){var ue=NaN,ve=NaN;return Be((function(le,Ae,Ie){if(le.type&D.SMOOTH_QUAD_TO&&(le.type=D.QUAD_TO,ue=isNaN(ue)?Ae:ue,ve=isNaN(ve)?Ie:ve,le.x1=le.relative?Ae-ue:2*Ae-ue,le.y1=le.relative?Ie-ve:2*Ie-ve),le.type&D.QUAD_TO){ue=le.relative?Ae+le.x1:le.x1,ve=le.relative?Ie+le.y1:le.y1;var Pe=le.x1,Ce=le.y1;le.type=D.CURVE_TO,le.x1=((le.relative?0:Ae)+2*Pe)/3,le.y1=((le.relative?0:Ie)+2*Ce)/3,le.x2=(le.x+2*Pe)/3,le.y2=(le.y+2*Ce)/3}else ue=NaN,ve=NaN;return le}))}function Be(ue){var ve=0,le=0,Ae=NaN,Ie=NaN;return function(Pe){if(isNaN(Ae)&&!(Pe.type&D.MOVE_TO))throw new Error("path must start with moveto");var Ce=ue(Pe,ve,le,Ae,Ie);return Pe.type&D.CLOSE_PATH&&(ve=Ae,le=Ie),Pe.x!==void 0&&(ve=Pe.relative?ve+Pe.x:Pe.x),Pe.y!==void 0&&(le=Pe.relative?le+Pe.y:Pe.y),Pe.type&D.MOVE_TO&&(Ae=ve,Ie=le),Ce}}function Te(ue,ve,le,Ae,Ie,Pe){return g(ue,ve,le,Ae,Ie,Pe),Be((function(Ce,ce,X,de){var se=Ce.x1,We=Ce.x2,Re=Ce.relative&&!isNaN(de),Ee=Ce.x!==void 0?Ce.x:Re?0:ce,ie=Ce.y!==void 0?Ce.y:Re?0:X;function Le(Ir){return Ir*Ir}Ce.type&D.HORIZ_LINE_TO&&ve!==0&&(Ce.type=D.LINE_TO,Ce.y=Ce.relative?0:X),Ce.type&D.VERT_LINE_TO&&le!==0&&(Ce.type=D.LINE_TO,Ce.x=Ce.relative?0:ce),Ce.x!==void 0&&(Ce.x=Ce.x*ue+ie*le+(Re?0:Ie)),Ce.y!==void 0&&(Ce.y=Ee*ve+Ce.y*Ae+(Re?0:Pe)),Ce.x1!==void 0&&(Ce.x1=Ce.x1*ue+Ce.y1*le+(Re?0:Ie)),Ce.y1!==void 0&&(Ce.y1=se*ve+Ce.y1*Ae+(Re?0:Pe)),Ce.x2!==void 0&&(Ce.x2=Ce.x2*ue+Ce.y2*le+(Re?0:Ie)),Ce.y2!==void 0&&(Ce.y2=We*ve+Ce.y2*Ae+(Re?0:Pe));var Ze=ue*Ae-ve*le;if(Ce.xRot!==void 0&&(ue!==1||ve!==0||le!==0||Ae!==1))if(Ze===0)delete Ce.rX,delete Ce.rY,delete Ce.xRot,delete Ce.lArcFlag,delete Ce.sweepFlag,Ce.type=D.LINE_TO;else{var jt=Ce.xRot*Math.PI/180,Lt=Math.sin(jt),Ct=Math.cos(jt),Xt=1/Le(Ce.rX),_r=1/Le(Ce.rY),Or=Le(Ct)*Xt+Le(Lt)*_r,He=2*Lt*Ct*(Xt-_r),Zt=Le(Lt)*Xt+Le(Ct)*_r,Bt=Or*Ae*Ae-He*ve*Ae+Zt*ve*ve,$r=He*(ue*Ae+ve*le)-2*(Or*le*Ae+Zt*ue*ve),pr=Or*le*le-He*ue*le+Zt*ue*ue,on=(Math.atan2($r,Bt-pr)+Math.PI)%Math.PI/2,Yr=Math.sin(on),qr=Math.cos(on);Ce.rX=Math.abs(Ze)/Math.sqrt(Bt*Le(qr)+$r*Yr*qr+pr*Le(Yr)),Ce.rY=Math.abs(Ze)/Math.sqrt(Bt*Le(Yr)-$r*Yr*qr+pr*Le(qr)),Ce.xRot=180*on/Math.PI}return Ce.sweepFlag!==void 0&&0>Ze&&(Ce.sweepFlag=+!Ce.sweepFlag),Ce}))}function me(){return function(ue){var ve={};for(var le in ue)ve[le]=ue[le];return ve}}$.ROUND=function(ue){function ve(le){return Math.round(le*ue)/ue}return ue===void 0&&(ue=1e13),g(ue),function(le){return le.x1!==void 0&&(le.x1=ve(le.x1)),le.y1!==void 0&&(le.y1=ve(le.y1)),le.x2!==void 0&&(le.x2=ve(le.x2)),le.y2!==void 0&&(le.y2=ve(le.y2)),le.x!==void 0&&(le.x=ve(le.x)),le.y!==void 0&&(le.y=ve(le.y)),le.rX!==void 0&&(le.rX=ve(le.rX)),le.rY!==void 0&&(le.rY=ve(le.rY)),le}},$.TO_ABS=L,$.TO_REL=function(){return Be((function(ue,ve,le){return ue.relative||(ue.x1!==void 0&&(ue.x1-=ve),ue.y1!==void 0&&(ue.y1-=le),ue.x2!==void 0&&(ue.x2-=ve),ue.y2!==void 0&&(ue.y2-=le),ue.x!==void 0&&(ue.x-=ve),ue.y!==void 0&&(ue.y-=le),ue.relative=!0),ue}))},$.NORMALIZE_HVZ=function(ue,ve,le){return ue===void 0&&(ue=!0),ve===void 0&&(ve=!0),le===void 0&&(le=!0),Be((function(Ae,Ie,Pe,Ce,ce){if(isNaN(Ce)&&!(Ae.type&D.MOVE_TO))throw new Error("path must start with moveto");return ve&&Ae.type&D.HORIZ_LINE_TO&&(Ae.type=D.LINE_TO,Ae.y=Ae.relative?0:Pe),le&&Ae.type&D.VERT_LINE_TO&&(Ae.type=D.LINE_TO,Ae.x=Ae.relative?0:Ie),ue&&Ae.type&D.CLOSE_PATH&&(Ae.type=D.LINE_TO,Ae.x=Ae.relative?Ce-Ie:Ce,Ae.y=Ae.relative?ce-Pe:ce),Ae.type&D.ARC&&(Ae.rX===0||Ae.rY===0)&&(Ae.type=D.LINE_TO,delete Ae.rX,delete Ae.rY,delete Ae.xRot,delete Ae.lArcFlag,delete Ae.sweepFlag),Ae}))},$.NORMALIZE_ST=ye,$.QT_TO_C=ne,$.INFO=Be,$.SANITIZE=function(ue){ue===void 0&&(ue=0),g(ue);var ve=NaN,le=NaN,Ae=NaN,Ie=NaN;return Be((function(Pe,Ce,ce,X,de){var se=Math.abs,We=!1,Re=0,Ee=0;if(Pe.type&D.SMOOTH_CURVE_TO&&(Re=isNaN(ve)?0:Ce-ve,Ee=isNaN(le)?0:ce-le),Pe.type&(D.CURVE_TO|D.SMOOTH_CURVE_TO)?(ve=Pe.relative?Ce+Pe.x2:Pe.x2,le=Pe.relative?ce+Pe.y2:Pe.y2):(ve=NaN,le=NaN),Pe.type&D.SMOOTH_QUAD_TO?(Ae=isNaN(Ae)?Ce:2*Ce-Ae,Ie=isNaN(Ie)?ce:2*ce-Ie):Pe.type&D.QUAD_TO?(Ae=Pe.relative?Ce+Pe.x1:Pe.x1,Ie=Pe.relative?ce+Pe.y1:Pe.y2):(Ae=NaN,Ie=NaN),Pe.type&D.LINE_COMMANDS||Pe.type&D.ARC&&(Pe.rX===0||Pe.rY===0||!Pe.lArcFlag)||Pe.type&D.CURVE_TO||Pe.type&D.SMOOTH_CURVE_TO||Pe.type&D.QUAD_TO||Pe.type&D.SMOOTH_QUAD_TO){var ie=Pe.x===void 0?0:Pe.relative?Pe.x:Pe.x-Ce,Le=Pe.y===void 0?0:Pe.relative?Pe.y:Pe.y-ce;Re=isNaN(Ae)?Pe.x1===void 0?Re:Pe.relative?Pe.x:Pe.x1-Ce:Ae-Ce,Ee=isNaN(Ie)?Pe.y1===void 0?Ee:Pe.relative?Pe.y:Pe.y1-ce:Ie-ce;var Ze=Pe.x2===void 0?0:Pe.relative?Pe.x:Pe.x2-Ce,jt=Pe.y2===void 0?0:Pe.relative?Pe.y:Pe.y2-ce;se(ie)<=ue&&se(Le)<=ue&&se(Re)<=ue&&se(Ee)<=ue&&se(Ze)<=ue&&se(jt)<=ue&&(We=!0)}return Pe.type&D.CLOSE_PATH&&se(Ce-X)<=ue&&se(ce-de)<=ue&&(We=!0),We?[]:Pe}))},$.MATRIX=Te,$.ROTATE=function(ue,ve,le){ve===void 0&&(ve=0),le===void 0&&(le=0),g(ue,ve,le);var Ae=Math.sin(ue),Ie=Math.cos(ue);return Te(Ie,Ae,-Ae,Ie,ve-ve*Ie+le*Ae,le-ve*Ae-le*Ie)},$.TRANSLATE=function(ue,ve){return ve===void 0&&(ve=0),g(ue,ve),Te(1,0,0,1,ue,ve)},$.SCALE=function(ue,ve){return ve===void 0&&(ve=ue),g(ue,ve),Te(ue,0,0,ve,0,0)},$.SKEW_X=function(ue){return g(ue),Te(1,0,Math.atan(ue),1,0,0)},$.SKEW_Y=function(ue){return g(ue),Te(1,Math.atan(ue),0,1,0,0)},$.X_AXIS_SYMMETRY=function(ue){return ue===void 0&&(ue=0),g(ue),Te(-1,0,0,1,ue,0)},$.Y_AXIS_SYMMETRY=function(ue){return ue===void 0&&(ue=0),g(ue),Te(1,0,0,-1,0,ue)},$.A_TO_C=function(){return Be((function(ue,ve,le){return D.ARC===ue.type?(function(Ae,Ie,Pe){var Ce,ce,X,de;Ae.cX||x(Ae,Ie,Pe);for(var se=Math.min(Ae.phi1,Ae.phi2),We=Math.max(Ae.phi1,Ae.phi2)-se,Re=Math.ceil(We/90),Ee=new Array(Re),ie=Ie,Le=Pe,Ze=0;Ze<Re;Ze++){var jt=N(Ae.phi1,Ae.phi2,Ze/Re),Lt=N(Ae.phi1,Ae.phi2,(Ze+1)/Re),Ct=Lt-jt,Xt=4/3*Math.tan(Ct*w/4),_r=[Math.cos(jt*w)-Xt*Math.sin(jt*w),Math.sin(jt*w)+Xt*Math.cos(jt*w)],Or=_r[0],He=_r[1],Zt=[Math.cos(Lt*w),Math.sin(Lt*w)],Bt=Zt[0],$r=Zt[1],pr=[Bt+Xt*Math.sin(Lt*w),$r-Xt*Math.cos(Lt*w)],on=pr[0],Yr=pr[1];Ee[Ze]={relative:Ae.relative,type:D.CURVE_TO};var qr=function(Ir,dr){var Cr=A([Ir*Ae.rX,dr*Ae.rY],Ae.xRot),Vr=Cr[0],zr=Cr[1];return[Ae.cX+Vr,Ae.cY+zr]};Ce=qr(Or,He),Ee[Ze].x1=Ce[0],Ee[Ze].y1=Ce[1],ce=qr(on,Yr),Ee[Ze].x2=ce[0],Ee[Ze].y2=ce[1],X=qr(Bt,$r),Ee[Ze].x=X[0],Ee[Ze].y=X[1],Ae.relative&&(Ee[Ze].x1-=ie,Ee[Ze].y1-=Le,Ee[Ze].x2-=ie,Ee[Ze].y2-=Le,Ee[Ze].x-=ie,Ee[Ze].y-=Le),ie=(de=[Ee[Ze].x,Ee[Ze].y])[0],Le=de[1]}return Ee})(ue,ue.relative?0:ve,ue.relative?0:le):ue}))},$.ANNOTATE_ARCS=function(){return Be((function(ue,ve,le){return ue.relative&&(ve=0,le=0),D.ARC===ue.type&&x(ue,ve,le),ue}))},$.CLONE=me,$.CALCULATE_BOUNDS=function(){var ue=function(Pe){var Ce={};for(var ce in Pe)Ce[ce]=Pe[ce];return Ce},ve=L(),le=ne(),Ae=ye(),Ie=Be((function(Pe,Ce,ce){var X=Ae(le(ve(ue(Pe))));function de(Yr){Yr>Ie.maxX&&(Ie.maxX=Yr),Yr<Ie.minX&&(Ie.minX=Yr)}function se(Yr){Yr>Ie.maxY&&(Ie.maxY=Yr),Yr<Ie.minY&&(Ie.minY=Yr)}if(X.type&D.DRAWING_COMMANDS&&(de(Ce),se(ce)),X.type&D.HORIZ_LINE_TO&&de(X.x),X.type&D.VERT_LINE_TO&&se(X.y),X.type&D.LINE_TO&&(de(X.x),se(X.y)),X.type&D.CURVE_TO){de(X.x),se(X.y);for(var We=0,Re=j(Ce,X.x1,X.x2,X.x);We<Re.length;We++)0<(on=Re[We])&&1>on&&de(_(Ce,X.x1,X.x2,X.x,on));for(var Ee=0,ie=j(ce,X.y1,X.y2,X.y);Ee<ie.length;Ee++)0<(on=ie[Ee])&&1>on&&se(_(ce,X.y1,X.y2,X.y,on))}if(X.type&D.ARC){de(X.x),se(X.y),x(X,Ce,ce);for(var Le=X.xRot/180*Math.PI,Ze=Math.cos(Le)*X.rX,jt=Math.sin(Le)*X.rX,Lt=-Math.sin(Le)*X.rY,Ct=Math.cos(Le)*X.rY,Xt=X.phi1<X.phi2?[X.phi1,X.phi2]:-180>X.phi2?[X.phi2+360,X.phi1+360]:[X.phi2,X.phi1],_r=Xt[0],Or=Xt[1],He=function(Yr){var qr=Yr[0],Ir=Yr[1],dr=180*Math.atan2(Ir,qr)/Math.PI;return dr<_r?dr+360:dr},Zt=0,Bt=y(Lt,-Ze,0).map(He);Zt<Bt.length;Zt++)(on=Bt[Zt])>_r&&on<Or&&de(S(X.cX,Ze,Lt,on));for(var $r=0,pr=y(Ct,-jt,0).map(He);$r<pr.length;$r++){var on;(on=pr[$r])>_r&&on<Or&&se(S(X.cY,jt,Ct,on))}}return Pe}));return Ie.minX=1/0,Ie.maxX=-1/0,Ie.minY=1/0,Ie.maxY=-1/0,Ie}})(b||(b={}));var P,Z=(function(){function $(){}return $.prototype.round=function(L){return this.transform(b.ROUND(L))},$.prototype.toAbs=function(){return this.transform(b.TO_ABS())},$.prototype.toRel=function(){return this.transform(b.TO_REL())},$.prototype.normalizeHVZ=function(L,ye,ne){return this.transform(b.NORMALIZE_HVZ(L,ye,ne))},$.prototype.normalizeST=function(){return this.transform(b.NORMALIZE_ST())},$.prototype.qtToC=function(){return this.transform(b.QT_TO_C())},$.prototype.aToC=function(){return this.transform(b.A_TO_C())},$.prototype.sanitize=function(L){return this.transform(b.SANITIZE(L))},$.prototype.translate=function(L,ye){return this.transform(b.TRANSLATE(L,ye))},$.prototype.scale=function(L,ye){return this.transform(b.SCALE(L,ye))},$.prototype.rotate=function(L,ye,ne){return this.transform(b.ROTATE(L,ye,ne))},$.prototype.matrix=function(L,ye,ne,Be,Te,me){return this.transform(b.MATRIX(L,ye,ne,Be,Te,me))},$.prototype.skewX=function(L){return this.transform(b.SKEW_X(L))},$.prototype.skewY=function(L){return this.transform(b.SKEW_Y(L))},$.prototype.xSymmetry=function(L){return this.transform(b.X_AXIS_SYMMETRY(L))},$.prototype.ySymmetry=function(L){return this.transform(b.Y_AXIS_SYMMETRY(L))},$.prototype.annotateArcs=function(){return this.transform(b.ANNOTATE_ARCS())},$})(),ee=function($){return $===" "||$==="	"||$==="\r"||$===`
`},K=function($){return 48<=$.charCodeAt(0)&&$.charCodeAt(0)<=57},ae=(function($){function L(){var ye=$.call(this)||this;return ye.curNumber="",ye.curCommandType=-1,ye.curCommandRelative=!1,ye.canParseCommandOrComma=!0,ye.curNumberHasExp=!1,ye.curNumberHasExpDigits=!1,ye.curNumberHasDecimal=!1,ye.curArgs=[],ye}return d(L,$),L.prototype.finish=function(ye){if(ye===void 0&&(ye=[]),this.parse(" ",ye),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return ye},L.prototype.parse=function(ye,ne){var Be=this;ne===void 0&&(ne=[]);for(var Te=function(Ie){ne.push(Ie),Be.curArgs.length=0,Be.canParseCommandOrComma=!0},me=0;me<ye.length;me++){var ue=ye[me],ve=!(this.curCommandType!==D.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),le=K(ue)&&(this.curNumber==="0"&&ue==="0"||ve);if(!K(ue)||le)if(ue!=="e"&&ue!=="E")if(ue!=="-"&&ue!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(ue!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ve){if(this.curNumber&&this.curCommandType!==-1){var Ae=Number(this.curNumber);if(isNaN(Ae))throw new SyntaxError("Invalid number ending at "+me);if(this.curCommandType===D.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>Ae)throw new SyntaxError('Expected positive number, got "'+Ae+'" at index "'+me+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+me+'"')}this.curArgs.push(Ae),this.curArgs.length===q[this.curCommandType]&&(D.HORIZ_LINE_TO===this.curCommandType?Te({type:D.HORIZ_LINE_TO,relative:this.curCommandRelative,x:Ae}):D.VERT_LINE_TO===this.curCommandType?Te({type:D.VERT_LINE_TO,relative:this.curCommandRelative,y:Ae}):this.curCommandType===D.MOVE_TO||this.curCommandType===D.LINE_TO||this.curCommandType===D.SMOOTH_QUAD_TO?(Te({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),D.MOVE_TO===this.curCommandType&&(this.curCommandType=D.LINE_TO)):this.curCommandType===D.CURVE_TO?Te({type:D.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===D.SMOOTH_CURVE_TO?Te({type:D.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===D.QUAD_TO?Te({type:D.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===D.ARC&&Te({type:D.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ee(ue))if(ue===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(ue!=="+"&&ue!=="-"&&ue!==".")if(le)this.curNumber=ue,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+me+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+ue+'" at index '+me+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,ue!=="z"&&ue!=="Z")if(ue==="h"||ue==="H")this.curCommandType=D.HORIZ_LINE_TO,this.curCommandRelative=ue==="h";else if(ue==="v"||ue==="V")this.curCommandType=D.VERT_LINE_TO,this.curCommandRelative=ue==="v";else if(ue==="m"||ue==="M")this.curCommandType=D.MOVE_TO,this.curCommandRelative=ue==="m";else if(ue==="l"||ue==="L")this.curCommandType=D.LINE_TO,this.curCommandRelative=ue==="l";else if(ue==="c"||ue==="C")this.curCommandType=D.CURVE_TO,this.curCommandRelative=ue==="c";else if(ue==="s"||ue==="S")this.curCommandType=D.SMOOTH_CURVE_TO,this.curCommandRelative=ue==="s";else if(ue==="q"||ue==="Q")this.curCommandType=D.QUAD_TO,this.curCommandRelative=ue==="q";else if(ue==="t"||ue==="T")this.curCommandType=D.SMOOTH_QUAD_TO,this.curCommandRelative=ue==="t";else{if(ue!=="a"&&ue!=="A")throw new SyntaxError('Unexpected character "'+ue+'" at index '+me+".");this.curCommandType=D.ARC,this.curCommandRelative=ue==="a"}else ne.push({type:D.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=ue,this.curNumberHasDecimal=ue==="."}else this.curNumber+=ue,this.curNumberHasDecimal=!0;else this.curNumber+=ue;else this.curNumber+=ue,this.curNumberHasExp=!0;else this.curNumber+=ue,this.curNumberHasExpDigits=this.curNumberHasExp}return ne},L.prototype.transform=function(ye){return Object.create(this,{parse:{value:function(ne,Be){Be===void 0&&(Be=[]);for(var Te=0,me=Object.getPrototypeOf(this).parse.call(this,ne);Te<me.length;Te++){var ue=me[Te],ve=ye(ue);Array.isArray(ve)?Be.push.apply(Be,ve):Be.push(ve)}return Be}}})},L})(Z),D=(function($){function L(ye){var ne=$.call(this)||this;return ne.commands=typeof ye=="string"?L.parse(ye):ye,ne}return d(L,$),L.prototype.encode=function(){return L.encode(this.commands)},L.prototype.getBounds=function(){var ye=b.CALCULATE_BOUNDS();return this.transform(ye),ye},L.prototype.transform=function(ye){for(var ne=[],Be=0,Te=this.commands;Be<Te.length;Be++){var me=ye(Te[Be]);Array.isArray(me)?ne.push.apply(ne,me):ne.push(me)}return this.commands=ne,this},L.encode=function(ye){return f(ye)},L.parse=function(ye){var ne=new ae,Be=[];return ne.parse(ye,Be),ne.finish(Be),Be},L.CLOSE_PATH=1,L.MOVE_TO=2,L.HORIZ_LINE_TO=4,L.VERT_LINE_TO=8,L.LINE_TO=16,L.CURVE_TO=32,L.SMOOTH_CURVE_TO=64,L.QUAD_TO=128,L.SMOOTH_QUAD_TO=256,L.ARC=512,L.LINE_COMMANDS=L.LINE_TO|L.HORIZ_LINE_TO|L.VERT_LINE_TO,L.DRAWING_COMMANDS=L.HORIZ_LINE_TO|L.VERT_LINE_TO|L.LINE_TO|L.CURVE_TO|L.SMOOTH_CURVE_TO|L.QUAD_TO|L.SMOOTH_QUAD_TO|L.ARC,L})(Z),q=((P={})[D.MOVE_TO]=2,P[D.LINE_TO]=2,P[D.HORIZ_LINE_TO]=1,P[D.VERT_LINE_TO]=1,P[D.CLOSE_PATH]=0,P[D.QUAD_TO]=4,P[D.SMOOTH_QUAD_TO]=2,P[D.CURVE_TO]=6,P[D.SMOOTH_CURVE_TO]=4,P[D.ARC]=7,P)}),"./src/plugin/hyperlinks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=o("./src/worker.js"),d=o("./src/utils.js"),f=[],A={toContainer:h.default.prototype.toContainer,toPdf:h.default.prototype.toPdf};h.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),b=(0,d.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);f=[],Array.prototype.forEach.call(y,function(w){for(var N=w.getClientRects(),S=0;S<N.length;S++){var j=(0,d.unitConvert)(N[S],this.prop.pageSize.k);j.left-=b.left,j.top-=b.top;var _=Math.floor(j.top/this.prop.pageSize.inner.height)+1,P=this.opt.margin[0]+j.top%this.prop.pageSize.inner.height,Z=this.opt.margin[1]+j.left;f.push({page:_,top:P,left:Z,clientRect:j,link:w})}},this)}})},h.default.prototype.toPdf=function(){return A.toPdf.call(this).then(function(){if(this.opt.enableLinks){f.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/jspdf/dist/jspdf.es.min.js");function d(f){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},d(f)}h.jsPDF.getPageSize=function(f,A,g){if(d(f)==="object"){var m=f;f=m.orientation,A=m.unit||A,g=m.format||g}A=A||"mm",g=g||"a4",f=(""+(f||"P")).toLowerCase();var x=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+A}if(y.hasOwnProperty(x))var w=y[x][1]/b,N=y[x][0]/b;else try{var w=g[1],N=g[0]}catch{throw new Error("Invalid format: "+g)}if(f==="p"||f==="portrait"){if(f="p",N>w){var S=N;N=w,w=S}}else if(f==="l"||f==="landscape"){if(f="l",w>N){var S=N;N=w,w=S}}else throw"Invalid orientation: "+f;var j={width:N,height:w,unit:A,k:b};return j},u.default=h.jsPDF}),"./src/plugin/pagebreaks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=o("./src/worker.js"),d=o("./src/utils.js"),f={toContainer:h.default.prototype.toContainer};h.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},h.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){var m=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),b={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},w={},N=this;["before","after","avoid"].forEach(function(_){var P=b.avoidAll&&_==="avoid";w[_]=P?[]:[].concat(N.opt.pagebreak[_]||[]),w[_].length>0&&(w[_]=Array.prototype.slice.call(m.querySelectorAll(w[_].join(", "))))});var S=m.querySelectorAll(".html2pdf__page-break");S=Array.prototype.slice.call(S);var j=m.querySelectorAll("*");Array.prototype.forEach.call(j,function(P){var Z={before:!1,after:b.legacy&&S.indexOf(P)!==-1,avoid:b.avoidAll};if(b.css){var ee=window.getComputedStyle(P),K=["always","page","left","right"],ae=["avoid","avoid-page"];Z={before:Z.before||K.indexOf(ee.breakBefore||ee.pageBreakBefore)!==-1,after:Z.after||K.indexOf(ee.breakAfter||ee.pageBreakAfter)!==-1,avoid:Z.avoid||ae.indexOf(ee.breakInside||ee.pageBreakInside)!==-1}}Object.keys(Z).forEach(function(ne){Z[ne]=Z[ne]||w[ne].indexOf(P)!==-1});var D=P.getBoundingClientRect();if(Z.avoid&&!Z.before){var q=Math.floor(D.top/x),$=Math.floor(D.bottom/x),L=Math.abs(D.bottom-D.top)/x;$!==q&&L<=1&&(Z.before=!0)}if(Z.before){var ye=(0,d.createElement)("div",{style:{display:"block",height:x-D.top%x+"px"}});P.parentNode.insertBefore(ye,P)}if(Z.after){var ye=(0,d.createElement)("div",{style:{display:"block",height:x-D.bottom%x+"px"}});P.parentNode.insertBefore(ye,P.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(l,u,o){o.r(u),o.d(u,{deepCloneBasic:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function h(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=d(m))||x){y&&(m=y);var b=0,w=function(){};return{s:w,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function(P){throw P},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,S=!0,j=!1;return{s:function(){y=y.call(m)},n:function(){var P=y.next();return S=P.done,P},e:function(P){j=!0,N=P},f:function(){try{S||y.return==null||y.return()}finally{if(j)throw N}}}}function d(m,x){if(m){if(typeof m=="string")return f(m,x);var y={}.toString.call(m).slice(8,-1);return y==="Object"&&m.constructor&&(y=m.constructor.name),y==="Map"||y==="Set"?Array.from(m):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?f(m,x):void 0}}function f(m,x){(x==null||x>m.length)&&(x=m.length);for(var y=0,b=Array(x);y<x;y++)b[y]=m[y];return b}function A(m,x){try{var y=m.currentSrc||m.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function g(m){if(!m)throw new Error("Invalid node");var x=new Set,y=null;if(m.nodeType===Node.TEXT_NODE||m.nodeType!==Node.ELEMENT_NODE)return m.cloneNode(!0);if(m.tagName==="IFRAME"){var b=document.createElement("div");return b.style.cssText="width:".concat(m.offsetWidth,"px;height:").concat(m.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),b}if(m.tagName==="CANVAS"){var w=m.toDataURL(),N=document.createElement("img");return N.src=w,N.width=m.width,N.height=m.height,N}var S;try{S=m.cloneNode(!1),m.tagName==="IMG"&&A(m,S)}catch(se){throw console.error("[Snapdom] Failed to clone node:",m,se),se}if(m instanceof HTMLTextAreaElement){S.textContent=m.value,S.value=m.value;var j=m.getBoundingClientRect();return S.style.boxSizing="border-box",S.style.width="".concat(j.width,"px"),S.style.height="".concat(j.height,"px"),S}if(m instanceof HTMLInputElement&&(m.hasAttribute("value")&&(S.value=m.value,S.setAttribute("value",m.value)),m.checked!==void 0&&(S.checked=m.checked,m.checked&&S.setAttribute("checked",""),m.indeterminate&&(S.indeterminate=m.indeterminate))),m instanceof HTMLSelectElement&&(y=m.value),m.shadowRoot){var _=Array.from(m.shadowRoot.querySelectorAll("slot")).length>0;if(!_){var P=document.createDocumentFragment(),Z=h(m.shadowRoot.childNodes),ee;try{for(Z.s();!(ee=Z.n()).done;){var K=ee.value;if(!(K.nodeType===Node.ELEMENT_NODE&&K.tagName==="STYLE")){var ae=g(K);ae&&P.appendChild(ae)}}}catch(se){Z.e(se)}finally{Z.f()}S.appendChild(P)}}if(m.tagName==="SLOT"){var D,q=((D=m.assignedNodes)===null||D===void 0?void 0:D.call(m,{flatten:!0}))||[],$=q.length>0?q:Array.from(m.childNodes),L=document.createDocumentFragment(),ye=h($),ne;try{for(ye.s();!(ne=ye.n()).done;){var Be=ne.value,Te=g(Be);Te&&L.appendChild(Te)}}catch(se){ye.e(se)}finally{ye.f()}return L}var me=h(m.childNodes),ue;try{for(me.s();!(ue=me.n()).done;){var ve=ue.value;if(!x.has(ve)){var le=g(ve);le&&S.appendChild(le)}}}catch(se){me.e(se)}finally{me.f()}if(y!==null&&S instanceof HTMLSelectElement){S.value=y;var Ae=h(S.options),Ie;try{for(Ae.s();!(Ie=Ae.n()).done;){var Pe=Ie.value;Pe.value===y?Pe.setAttribute("selected",""):Pe.removeAttribute("selected")}}catch(se){Ae.e(se)}finally{Ae.f()}}var Ce=m.scrollLeft,ce=m.scrollTop,X=Ce||ce;if(X&&S instanceof HTMLElement){S.style.overflow="hidden",S.style.scrollbarWidth="none",S.style.msOverflowStyle="none";var de=document.createElement("div");for(de.style.transform="translate(".concat(-Ce,"px, ").concat(-ce,"px)"),de.style.willChange="transform",de.style.display="inline-block",de.style.width="100%";S.firstChild;)de.appendChild(S.firstChild);S.appendChild(de)}return S}}),"./src/utils.js":(function(l,u,o){o.r(u),o.d(u,{createElement:function(){return A},objType:function(){return f},toPx:function(){return m},unitConvert:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/dompurify/dist/purify.es.mjs");function d(x){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},d(x)}var f=function(y){var b=d(y);return b==="undefined"?"undefined":b==="string"||y instanceof String?"string":b==="number"||y instanceof Number?"number":b==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":b==="object"?"object":"unknown"},A=function(y,b){var w=document.createElement(y);b.className&&(w.className=b.className),b.innerHTML&&(w.innerHTML=h.default.sanitize(b.innerHTML));for(var N in b.style)w.style[N]=b.style[N];return w},g=function(y,b){if(f(y)==="number")return y*72/96/b;var w={};for(var N in y)w[N]=y[N]*72/96/b;return w},m=function(y,b){return Math.floor(y*b/72*96)}}),"./src/worker.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var h=o("./node_modules/jspdf/dist/jspdf.es.min.js"),d=o("html2canvas"),f=o.n(d),A=o("./src/snapdom/clone.js"),g=o("./src/utils.js"),m=function x(y){var b=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),w=x.convert(Promise.resolve(),b);return w=w.setProgress(1,x,1,[x]),w=w.set(y),w};m.prototype=Object.create(Promise.prototype),m.prototype.constructor=m,m.convert=function(y,b){return y.__proto__=b||m.prototype,y},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},m.prototype.from=function(y,b){function w(N){switch((0,g.objType)(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase&&N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||w(y),b){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},m.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},N={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};w.opacity=0;var S=(0,A.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:w}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:N}),this.prop.container.appendChild(S),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(j){return setTimeout(j,10)})})},m.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var w=Object.assign({},this.opt.html2canvas);return delete w.onrendered,f()(this.prop.container,w)}).then(function(w){var N=this.opt.html2canvas.onrendered||function(){};N(w),this.prop.canvas=w,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var w=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=w})},m.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w=this.prop.canvas,N=this.opt,S=w.height,j=Math.floor(w.width*this.prop.pageSize.inner.ratio),_=Math.ceil(S/j),P=this.prop.pageSize.inner.height,Z=document.createElement("canvas"),ee=Z.getContext("2d");Z.width=w.width,Z.height=j,this.prop.pdf=this.prop.pdf||new h.jsPDF(N.jsPDF);for(var K=0;K<_;K++){K===_-1&&S%j!==0&&(Z.height=S%j,P=Z.height*this.prop.pageSize.inner.width/Z.width);var ae=Z.width,D=Z.height;ee.fillStyle="white",ee.fillRect(0,0,ae,D),ee.drawImage(w,0,K*j,ae,D,0,0,ae,D),K&&this.prop.pdf.addPage();var q=Z.toDataURL("image/"+N.image.type,N.image.quality);this.prop.pdf.addImage(q,N.image.type,N.margin[1],N.margin[0],this.prop.pageSize.inner.width,P)}})},m.prototype.output=function(y,b,w){return w=w||"pdf",w.toLowerCase()==="img"||w.toLowerCase()==="image"?this.outputImg(y,b):this.outputPdf(y,b)},m.prototype.outputPdf=function(y,b){var w=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(w).then(function(){return this.prop.pdf.output(y,b)})},m.prototype.outputImg=function(y,b){var w=[function(){return this.prop.img||this.toImg()}];return this.thenList(w).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},m.prototype.save=function(y){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.set=function(y){if((0,g.objType)(y)!=="object")return this;var b=Object.keys(y||{}).map(function(w){switch(w){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return w in m.template.prop?function(){this.prop[w]=y[w]}:function(){this.opt[w]=y[w]}}},this);return this.then(function(){return this.thenList(b)})},m.prototype.get=function(y,b){return this.then(function(){var N=y in m.template.prop?this.prop[y]:this.opt[y];return b?b(N):N})},m.prototype.setMargin=function(y){return this.then(function(){switch((0,g.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},m.prototype.setPageSize=function(y){return this.then(function(){y=y||h.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,g.toPx)(y.inner.width,y.k),height:(0,g.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},m.prototype.setProgress=function(y,b,w,N){return y!=null&&(this.progress.val=y),b!=null&&(this.progress.state=b),w!=null&&(this.progress.n=w),N!=null&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(y,b,w,N){return this.setProgress(y?this.progress.val+y:null,b||null,w?this.progress.n+w:null,N?this.progress.stack.concat(N):null)},m.prototype.then=function(y,b){var w=this;return this.thenCore(y,b,function(S,j){return w.updateProgress(null,null,1,[S]),Promise.prototype.then.call(this,function(P){return w.updateProgress(null,S),P}).then(S,j).then(function(P){return w.updateProgress(1),P})})},m.prototype.thenCore=function(y,b,w){w=w||Promise.prototype.then;var N=this;y&&(y=y.bind(N)),b&&(b=b.bind(N));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",j=S?N:m.convert(Object.assign({},N),Promise.prototype),_=w.call(j,y,b);return m.convert(_,N.__proto__)},m.prototype.thenExternal=function(y,b){return Promise.prototype.then.call(this,y,b)},m.prototype.thenList=function(y){var b=this;return y.forEach(function(N){b=b.thenCore(N)}),b},m.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return m.convert(y,this)},m.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},m.prototype.error=function(y){return this.then(function(){throw new Error(y)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,u.default=m}),html2canvas:(function(l){l.exports=n})},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;if(a[l]===void 0){var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var h=i[l]={exports:{}};return a[l].call(h.exports,h,h.exports,s),h.exports}(function(){s.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(u,{a:u}),u}})(),(function(){var l=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},u;s.t=function(o,h){if(h&1&&(o=this(o)),h&8||typeof o=="object"&&o&&(h&4&&o.__esModule||h&16&&typeof o.then=="function"))return o;var d=Object.create(null);s.r(d);var f={};u=u||[null,l({}),l([]),l(l)];for(var A=h&2&&o;(typeof A=="object"||typeof A=="function")&&!~u.indexOf(A);A=l(A))Object.getOwnPropertyNames(A).forEach(function(g){f[g]=function(){return o[g]}});return f.default=function(){return o},s.d(d,f),d}})(),(function(){s.d=function(l,u){for(var o in u)s.o(u,o)&&!s.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:u[o]})}})(),(function(){s.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)}})(),(function(){s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/s.r(c);var l=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function o(h,d){var f=new o.Worker(d);return h?f.from(h).save():f};u.Worker=l.default,c.default=u})(),c=c.default,c})()})})(zj)),zj.exports}var Ene=Bne();const Ine=Ji(Ene),Tne=()=>{const{logout:r}=pa(),e=_n(),[n]=K4(),a=n.get("contractId"),[i,s]=k.useState(""),[c,l]=k.useState("All"),[u,o]=k.useState(!1),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(null),[x,y]=k.useState([]),[b,w]=k.useState([]),[N,S]=k.useState(!1),[j,_]=k.useState(null),[P,Z]=k.useState(!1),[ee,K]=k.useState(!1),ae=()=>{K(!ee)},D=k.useCallback(async()=>{try{const le=await sA.getAllContracts();w(le.map(Ae=>({id:Ae.id,contractID:Ae.contractID,contractNum:Ae.contractNum})))}catch(le){console.error("Failed to load contracts:",le)}},[]),q=k.useCallback(async()=>{try{S(!0),_(null);const Ae=(await X0.getAllAgreements(a||void 0)).map(Ie=>{const Pe=b.find(Ce=>Ce.id===Ie.contractId);return{id:Ie.id,agreementID:Ie.agreementID,contractID:Ie.contractId,contractNum:(Pe==null?void 0:Pe.contractNum)||"",agreementNum:Ie.agreementNum,agreementDate:Ie.agreementDate,status:Ie.status}});y(Ae)}catch(le){console.error("Failed to load agreements:",le),_(le.message||"Failed to load agreements")}finally{S(!1)}},[a,b]);k.useEffect(()=>{D()},[D]),k.useEffect(()=>{b.length>0&&q()},[b.length,q]);const{filteredAgreements:$}=wne({agreements:x,searchQuery:i,statusFilter:c}),L=()=>{m(null),d(!0)},ye=(le,Ae)=>{Ae.stopPropagation(),m(le),d(!0)},ne=async le=>{try{if(Z(!0),_(null),g)await X0.updateAgreement(g.id,{agreementNum:le.agreementNum,agreementDate:le.agreementDate,status:le.status});else{if(!le.contractID){alert("Please select a contract");return}await X0.createAgreement({contractId:le.contractID,agreementDate:le.agreementDate,status:le.status})}d(!1),m(null),await q()}catch(Ae){console.error("Failed to save agreement:",Ae),_(Ae.message||"Failed to save agreement"),alert(Ae.message||"Failed to save agreement")}finally{Z(!1)}},Be=le=>{A(le),o(!0)},Te=({status:le})=>{const Ae=`agreement-status-badge agreement-status-badge--${le.toLowerCase()}`;return t.jsx("span",{className:Ae,role:"status","aria-label":`Status: ${le}`,children:le})},me=({agreement:le})=>t.jsxs("div",{className:"agreement-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:Ae=>ye(le,Ae),title:"Edit Agreement","aria-label":`Edit agreement ${le.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Be(le),title:"View Agreement","aria-label":`View agreement ${le.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),ue=[{key:"agreementNum",label:"Agreement Number",minWidth:180,render:le=>t.jsx("span",{className:"agreement-num-cell",children:le.agreementNum})},{key:"agreementID",label:"Agreement ID",minWidth:120},{key:"contractNum",label:"Contract Reference",minWidth:180,render:le=>le.contractNum?`${le.contractID} - ${le.contractNum}`:le.contractID},{key:"agreementDate",label:"Agreement Date",minWidth:140},{key:"status",label:"Status",minWidth:120,render:le=>t.jsx(Te,{status:le.status})},{key:"actions",label:"Actions",minWidth:120,render:le=>t.jsx(me,{agreement:le})}],ve=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${ee?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!ee&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:ae,"aria-label":ee?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:ee?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ve.map(le=>t.jsx("li",{children:t.jsxs(en,{to:le.path,className:`nav-link ${le.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:le.icon}),!ee&&t.jsx("span",{className:"nav-label",children:le.label})]})},le.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!ee&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!ee&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Management"})})}),t.jsxs("div",{className:"agreement-page",children:[t.jsx("div",{className:"agreement-header",children:t.jsx("h1",{className:"agreement-title",children:"Agreement Management"})}),j&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:j}),t.jsxs("div",{className:"agreement-actions",children:[t.jsxs("div",{className:"agreement-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"agreement-search-input",placeholder:"Search by agreement number...",value:i,onChange:le=>s(le.target.value),"aria-label":"Search agreements by agreement number"})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:le=>l(le.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]}),t.jsxs("button",{className:"add-agreement-btn",onClick:L,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]}),N&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading agreements..."}),t.jsx("div",{className:"agreement-table-container",children:t.jsx(ix,{data:$,columns:ue,getId:le=>le.id,emptyMessage:"No agreement records found"})}),t.jsxs("div",{className:"agreement-pagination-info",children:["Showing ",$.length," of ",x.length," Items"]})]})]}),h&&t.jsx(_ne,{agreement:g,contracts:b,contractIdParam:a,saving:P,onClose:()=>{d(!1),m(null)},onSave:ne}),u&&f&&t.jsx(One,{agreement:f,contractNum:f.contractNum,onClose:()=>{o(!1),A(null)}})]})},_ne=({agreement:r,contracts:e,contractIdParam:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),u=o=>{if(o.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement":"Add Agreement"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"agreement-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract *"}),t.jsxs("select",{value:c.contractID||"",onChange:o=>l({...c,contractID:o.target.value}),required:!0,disabled:a||!!n||!!r,children:[t.jsx("option",{value:"",children:"Select Contract"}),e.map(o=>t.jsxs("option",{value:o.id,children:[o.contractID," - ",o.contractNum]},o.id))]})]}),r&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Number"}),t.jsx("input",{type:"text",value:c.agreementNum||"",onChange:o=>l({...c,agreementNum:o.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Date *"}),t.jsx("input",{type:"date",value:c.agreementDate||"",onChange:o=>l({...c,agreementDate:o.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:o=>l({...c,status:o.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Agreement"]})]})]})]})})},One=({agreement:r,contractNum:e,onClose:n})=>{const[a,i]=k.useState(!1),[s,c]=k.useState([]),[l,u]=k.useState(!1),[o,h]=k.useState(!1),[d,f]=k.useState(null),[A,g]=k.useState(null),[m,x]=k.useState(!1),y=k.useRef(null);k.useEffect(()=>{const _=async()=>{try{u(!0);const Z=(await qf.getAllClauses(r.id)).map(ee=>({id:ee.id,pointNum:ee.pointNum,pointTitle:ee.pointTitle,pointText:ee.pointText,sequenceNo:ee.sequenceNo,status:ee.status})).sort((ee,K)=>ee.sequenceNo-K.sequenceNo);c(Z)}catch(P){console.error("Failed to load clauses:",P),c([])}finally{u(!1)}};r.id&&_()},[r.id]),k.useEffect(()=>{(async()=>{if(r.contractID)try{x(!0);const P=await sA.getContractById(r.contractID),[Z,ee]=await Promise.all([Qa.getCompanyById(P.companyId),ks.getHcfById(P.hcfId)]);f(Z),g(ee)}catch(P){console.error("Failed to load party data:",P)}finally{x(!1)}})()},[r.contractID]);const b=()=>{window.print()},w=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{h(!0);const _=y.current,P={margin:[10,10,10,10],filename:`${r.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await Ine().set(P).from(_).save()}catch(_){console.error("Failed to generate PDF:",_),alert("Failed to generate PDF. Please try again.")}finally{h(!1)}},N=_=>{const P=_.pointTitle.toLowerCase().includes("whereas"),Z=_.pointNum.toLowerCase().startsWith("w"),ee=_.pointNum.toLowerCase().startsWith("whereas");return P||Z||ee},S=_=>!!(_.pointNum&&_.pointNum.trim()!==""&&/^\d+$/.test(_.pointNum.trim())),j=_=>!N(_)&&!S(_);return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:_=>_.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",r.agreementNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"agreement-preview-controls",children:[t.jsxs("label",{className:"stamp-paper-toggle",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:_=>i(_.target.checked)}),t.jsx("span",{children:"Print on Stamp Paper"})]}),t.jsxs("div",{className:"preview-actions",children:[t.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),t.jsxs("button",{type:"button",className:"btn btn--primary",onClick:w,disabled:o,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),o?"Generating...":"Download PDF"]})]})]}),t.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:l?t.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):t.jsxs(t.Fragment,{children:[a&&t.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[t.jsx("div",{className:"stamp-paper-blank-space"}),t.jsxs("div",{className:"agreement-party-intro",children:[t.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),t.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("div",{className:"party-details",children:[t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"BETWEEN"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),t.jsx("p",{className:"party-description",children:d?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:d.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"AND"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),t.jsx("p",{className:"party-description",children:A?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:A.hcfName}),", a healthcare facility located at ",A.serviceAddress||"[Address]",", represented by",A.agrSignAuthName?` ${A.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),t.jsxs("div",{className:"agreement-page",children:[t.jsxs("div",{className:"agreement-header-section",children:[t.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),t.jsxs("div",{className:"agreement-meta",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Agreement No.:"})," ",r.agreementNum]}),e&&t.jsxs("p",{children:[t.jsx("strong",{children:"Contract Reference:"})," ",e]})]})]}),s.length>0&&N(s[0])&&t.jsx("div",{className:"agreement-section agreement-intro-section",children:t.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",d?t.jsx("strong",{children:d.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',A?t.jsx("strong",{children:A.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'"):']})}),(s.length===0||!N(s[0]))&&t.jsxs("div",{className:"agreement-section agreement-intro-section",children:[t.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",d?t.jsx("strong",{children:d.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',A?t.jsx("strong",{children:A.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'").']}),s.length>0&&t.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),s.length>0&&(()=>{let _=0;return t.jsx("div",{className:"agreement-section agreement-clauses-section",children:s.map((P,Z)=>{const ee=N(P),K=S(P),ae=j(P);ee&&_++;const D=Z>0?s[Z-1]:null,q=D&&N(D)&&!ee;return t.jsxs("div",{children:[q&&t.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:t.jsxs("p",{className:"now-therefore-text",children:[t.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),ee?t.jsx("div",{className:"whereas-item",children:t.jsxs("p",{className:"whereas-text",children:[t.jsxs("strong",{children:["WHEREAS ",_===1?"":String.fromCharCode(64+_)+") "]}),P.pointText]})}):K?t.jsx("div",{className:"clause-item clause-item--numbered",children:t.jsxs("p",{className:"clause-text",children:[t.jsxs("strong",{children:[P.pointNum,"."]})," ",P.pointText]})}):ae?t.jsx("div",{className:"clause-item clause-item--normal",children:t.jsx("p",{className:"clause-text",children:P.pointText})}):t.jsx("div",{className:"clause-item",children:t.jsx("p",{className:"clause-text",children:P.pointText})})]},P.id)})})})(),t.jsxs("div",{className:"agreement-section agreement-signature-section",children:[t.jsxs("div",{className:"signature-block",children:[t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",d?d.companyName:"[Company Name]"]})]})]}),t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:A&&A.agrSignAuthName||"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:A&&A.agrSignAuthDesignation||"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",A?A.hcfName:"[HCF Name]"]})]})]})]}),t.jsxs("div",{className:"signature-date-place",children:[t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Date:"})," _______________________"]}),t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Place:"})," _______________________"]})]}),t.jsxs("div",{className:"witness-section",children:[t.jsx("p",{className:"witness-title",children:t.jsx("strong",{children:"WITNESSES:"})}),t.jsxs("div",{className:"witness-block",children:[t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]}),t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},kne=({clauses:r,agreementFilter:e,statusFilter:n})=>({filteredClauses:k.useMemo(()=>r.filter(i=>{const s=e==="All"||i.agreementID===e,c=n==="All"||i.status===n;return s&&c}).sort((i,s)=>i.agreementID!==s.agreementID?i.agreementID.localeCompare(s.agreementID):i.sequenceNo-s.sequenceNo),[r,e,n])}),Pne=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState("All"),[i,s]=k.useState("All"),[c,l]=k.useState(!1),[u,o]=k.useState(null),[h,d]=k.useState(!1),[f,A]=k.useState(null),[g,m]=k.useState(!1),[x,y]=k.useState(!1),b=()=>{y(!x)},[w,N]=k.useState([]),[S,j]=k.useState([]),_=k.useCallback(async()=>{try{d(!0),A(null);const me=await X0.getAllAgreements();N(me.map(ue=>({id:ue.id,agreementID:ue.agreementID,agreementNum:ue.agreementNum,status:ue.status})))}catch(me){console.error("Failed to load agreements:",me),A(me.message||"Failed to load agreements")}finally{d(!1)}},[]),P=k.useCallback(async me=>{var ue;try{d(!0),A(null);const ve=n!=="All"?(ue=me.find(Pe=>Pe.agreementID===n))==null?void 0:ue.id:void 0,le=i!=="All"?i:void 0,Ie=(await qf.getAllClauses(ve,le)).map(Pe=>{const Ce=me.find(ce=>ce.id===Pe.agreementId);return{id:Pe.id,agreementClauseID:Pe.agreementClauseID,agreementID:(Ce==null?void 0:Ce.agreementID)||Pe.agreementId,pointNum:Pe.pointNum,pointTitle:Pe.pointTitle,pointText:Pe.pointText,sequenceNo:Pe.sequenceNo,status:Pe.status}});Ie.sort((Pe,Ce)=>Pe.agreementID!==Ce.agreementID?Pe.agreementID.localeCompare(Ce.agreementID):Pe.sequenceNo-Ce.sequenceNo),j(Ie)}catch(ve){console.error("Failed to load clauses:",ve),A(ve.message||"Failed to load clauses")}finally{d(!1)}},[n,i]);k.useEffect(()=>{_()},[_]),k.useEffect(()=>{w.length>0&&P(w)},[w.length,n,i,P]);const{filteredClauses:Z}=kne({clauses:S,agreementFilter:n,statusFilter:i}),ee=me=>{const ue=w.find(ve=>ve.agreementID===me);return ue||console.warn(`Agreement not found for agreementID: ${me}. Available agreements:`,w.map(ve=>ve.agreementID)),(ue==null?void 0:ue.status)||null},K=me=>ee(me.agreementID)==="Draft",ae=me=>{if(!K(me)){alert("Clauses can only be edited when the agreement status is Draft.");return}o(me),l(!0)},D=async me=>{if(!K(me)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ve=[...S.filter(Ae=>Ae.agreementID===me.agreementID)].sort((Ae,Ie)=>Ae.sequenceNo-Ie.sequenceNo),le=ve.findIndex(Ae=>Ae.id===me.id);if(le>0){const Ae=ve[le-1];try{d(!0),A(null),await qf.reorderClause(me.id,Ae.sequenceNo),await qf.reorderClause(Ae.id,me.sequenceNo),await P(w)}catch(Ie){console.error("Failed to reorder clause:",Ie),A(Ie.message||"Failed to reorder clause"),alert(Ie.message||"Failed to reorder clause")}finally{d(!1)}}},q=async me=>{if(!K(me)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ve=[...S.filter(Ae=>Ae.agreementID===me.agreementID)].sort((Ae,Ie)=>Ae.sequenceNo-Ie.sequenceNo),le=ve.findIndex(Ae=>Ae.id===me.id);if(le<ve.length-1){const Ae=ve[le+1];try{d(!0),A(null),await qf.reorderClause(me.id,Ae.sequenceNo),await qf.reorderClause(Ae.id,me.sequenceNo),await P(w)}catch(Ie){console.error("Failed to reorder clause:",Ie),A(Ie.message||"Failed to reorder clause"),alert(Ie.message||"Failed to reorder clause")}finally{d(!1)}}},$=async me=>{try{if(m(!0),A(null),me.pointNum&&me.agreementID&&S.find(ve=>ve.agreementID===me.agreementID&&ve.pointNum===me.pointNum&&ve.id!==(u==null?void 0:u.id)))throw new Error(`Point number ${me.pointNum} already exists for this agreement.`);if(u)await qf.updateClause(u.id,{pointNum:me.pointNum,pointTitle:me.pointTitle,pointText:me.pointText,sequenceNo:me.sequenceNo});else{const ue=S.filter(le=>le.agreementID===me.agreementID).reduce((le,Ae)=>Math.max(le,Ae.sequenceNo),0),ve=w.find(le=>le.agreementID===me.agreementID);if(!ve)throw new Error("Agreement not found");await qf.createClause({agreementId:ve.id,pointNum:me.pointNum,pointTitle:me.pointTitle,pointText:me.pointText,sequenceNo:ue+1})}l(!1),o(null),await P(w)}catch(ue){console.error("Failed to save clause:",ue),A(ue.message||"Failed to save clause"),alert(ue.message||"Failed to save clause")}finally{m(!1)}},L=({text:me,maxLength:ue=50})=>{const ve=me.length>ue?`${me.substring(0,ue)}...`:me,le=me.length>ue;return t.jsx("span",{className:"point-text-cell",title:le?me:void 0,style:{cursor:le?"help":"default"},children:ve})},ye=({status:me})=>{const ue=`clause-status-badge clause-status-badge--${me.toLowerCase()}`;return t.jsx("span",{className:ue,role:"status","aria-label":`Status: ${me}`,children:me})},ne=({clause:me})=>{const ue=ee(me.agreementID),ve=ue==="Draft",Ae=[...S.filter(se=>se.agreementID===me.agreementID)].sort((se,We)=>se.sequenceNo-We.sequenceNo),Ie=Ae.findIndex(se=>se.id===me.id),Pe=ve&&Ie>0,Ce=ve&&Ie<Ae.length-1,ce=ve?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${ue||"Unknown"}`,X=Pe?"Move Up":ve?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${ue||"Unknown"}`,de=Ce?"Move Down":ve?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${ue||"Unknown"}`;return t.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ae(me),title:ce,"aria-label":`Edit clause ${me.pointTitle}`,disabled:!ve,type:"button",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--up",onClick:()=>D(me),disabled:!Pe,title:X,"aria-label":`Move clause ${me.pointTitle} up`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"action-btn action-btn--down",onClick:()=>q(me),disabled:!Ce,title:de,"aria-label":`Move clause ${me.pointTitle} down`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},Be=[{key:"agreementID",label:"Agreement ID",minWidth:150,render:me=>{const ue=w.find(ve=>ve.agreementID===me.agreementID);return ue?`${me.agreementID} - ${ue.agreementNum}`:me.agreementID}},{key:"sequenceNo",label:"Sequence",minWidth:100,render:me=>t.jsx("span",{className:"sequence-cell",children:me.sequenceNo})},{key:"pointNum",label:"Point Number",minWidth:120},{key:"pointTitle",label:"Point Title",minWidth:150},{key:"pointText",label:"Point Text",minWidth:300,allowWrap:!0,render:me=>t.jsx(L,{text:me.pointText,maxLength:80})},{key:"status",label:"Status",minWidth:100,render:me=>t.jsx(ye,{status:me.status})},{key:"actions",label:"Actions",minWidth:150,render:me=>t.jsx(ne,{clause:me})}],Te=[{path:"/dashboard",label:"Dashboard",icon:"",active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:e.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:e.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:e.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:e.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(me=>t.jsx("li",{children:t.jsxs(en,{to:me.path,className:`nav-link ${me.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:me.icon}),!x&&t.jsx("span",{className:"nav-label",children:me.label})]})},me.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Clause Management"})})}),t.jsxs("div",{className:"agreement-clause-page",children:[t.jsx("div",{className:"agreement-clause-header",children:t.jsx("h1",{className:"agreement-clause-title",children:"Agreement Clause Management"})}),f&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:f}),t.jsxs("div",{className:"agreement-clause-filters",children:[t.jsxs("select",{className:"filter-select",value:n,onChange:me=>a(me.target.value),"aria-label":"Filter by agreement",children:[t.jsx("option",{value:"All",children:"All Agreements"}),w.map(me=>t.jsxs("option",{value:me.agreementID,children:[me.agreementID," - ",me.agreementNum]},me.id))]}),t.jsxs("select",{className:"filter-select",value:i,onChange:me=>s(me.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]}),t.jsxs("button",{className:"add-clause-btn",onClick:()=>l(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]}),h&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading clauses..."}),!h&&t.jsx("div",{className:"clause-table-container",children:t.jsx(ix,{data:Z,columns:Be,getId:me=>me.id,emptyMessage:"No clause records found"})}),t.jsx("div",{className:"clause-pagination-info",children:h?"Loading...":`Showing ${Z.length} of ${S.length} Items`})]})]}),c&&t.jsx(Fne,{clause:u,agreements:w,clauses:S,saving:g,onClose:()=>{l(!1),o(null)},onSave:$})]})},Fne=({clause:r,agreements:e,clauses:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=k.useState(r||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[u,o]=k.useState(null),h=(g,m)=>!g||!m?!0:n.find(y=>y.agreementID===m&&y.pointNum===g&&y.id!==(r==null?void 0:r.id))?(o(`Point number ${g} already exists for this agreement.`),!1):(o(null),!0),d=g=>{l({...c,pointNum:g}),c.agreementID&&h(g,c.agreementID)},f=g=>{l({...c,agreementID:g,pointNum:""}),o(null)},A=g=>{if(g.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}h(c.pointNum,c.agreementID)&&s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement Clause":"Add Agreement Clause"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"clause-form",onSubmit:A,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Clause Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID *"}),t.jsxs("select",{value:c.agreementID||"",onChange:g=>f(g.target.value),required:!0,disabled:!!r||a,children:[t.jsx("option",{value:"",children:"Select Agreement"}),e.map(g=>t.jsxs("option",{value:g.agreementID,children:[g.agreementID," - ",g.agreementNum]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Point Number *"}),t.jsx("input",{type:"text",value:c.pointNum||"",onChange:g=>d(g.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),u&&t.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:u}),t.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Title"}),t.jsx("input",{type:"text",value:c.pointTitle||"",onChange:g=>l({...c,pointTitle:g.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Text *"}),t.jsx("textarea",{value:c.pointText||"",onChange:g=>l({...c,pointText:g.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!u,children:[a?"Saving...":r?"Update":"Add"," Clause"]})]})]})]})})},Dne=()=>{const{createUser:r,loading:e,user:n}=pa(),[a,i]=k.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[s,c]=k.useState(null),[l,u]=k.useState(null),o=async d=>{d.preventDefault(),c(null),u(null);try{const f=await r({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${f.name} created successfully!`),i({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(f){u(f.message||"Unable to create user")}},h=(d,f)=>{i(A=>({...A,[d]:f}))};return t.jsx("div",{className:"user-management-page",children:t.jsxs("div",{className:"user-management-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Management"}),t.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),t.jsxs("form",{className:"user-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),t.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:d=>h("userName",d.target.value),required:!0,maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),t.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:d=>h("mobileNumber",d.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),t.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:d=>h("empCode",d.target.value),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),t.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:d=>h("userRoleID",d.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Role"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"manager",children:"Manager"}),t.jsx("option",{value:"staff",children:"Staff"}),t.jsx("option",{value:"viewer",children:"Viewer"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),t.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:d=>h("employmentType",d.target.value),children:[t.jsx("option",{value:"",children:"Select Type"}),t.jsx("option",{value:"Full-time",children:"Full-time"}),t.jsx("option",{value:"Part-time",children:"Part-time"}),t.jsx("option",{value:"Contract",children:"Contract"}),t.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Access Control"}),t.jsxs("div",{className:"form-grid",children:[t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:d=>h("webLogin",d.target.checked)}),t.jsx("span",{children:"Web Login Access"})]})}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:d=>h("mobileApp",d.target.checked)}),t.jsx("span",{children:"Mobile App Access"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Identity Documents"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),t.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:d=>h("dlNum",d.target.value),maxLength:20})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),t.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:d=>h("aadhaar",d.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),t.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:d=>h("pan",d.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Employment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),t.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:d=>h("uan",d.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),t.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:d=>h("pfNum",d.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),t.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:d=>h("esiNum",d.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),t.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:d=>h("grossSalary",d.target.value),required:!0,min:"0",step:"0.01"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),t.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:d=>h("contractorName",d.target.value),maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),t.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:d=>h("companyName",d.target.value),maxLength:50})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),t.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:d=>h("address",d.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),t.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:d=>h("area",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),t.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:d=>h("city",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),t.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:d=>h("district",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),t.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:d=>h("pincode",d.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),t.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:d=>h("emergencyContact",d.target.value),maxLength:25})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Status"}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.status,onChange:d=>h("status",d.target.checked)}),t.jsx("span",{children:"Active Status"})]})})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Creating User...":"Create User"}),t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},wc=({children:r,navItems:e=[]})=>{const{user:n,logout:a}=pa(),i=_n();ti();const[s,c]=k.useState(!1),[l,u]=k.useState(!1),[o,h]=k.useState(!1);k.useEffect(()=>{const m=()=>{h(window.innerWidth<=768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const d=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:i.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:i.pathname==="/transaction"||i.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:i.pathname==="/finance"||i.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:i.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:i.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:i.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:i.pathname.startsWith("/report")}],f=e.length>0?e:d,A=()=>{c(!s)},g=()=>{u(!l)};return t.jsxs("div",{className:"app-layout",children:[o&&t.jsx("button",{className:"mobile-menu-toggle",onClick:g,"aria-label":"Toggle menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),o&&l&&t.jsx("div",{className:"mobile-overlay",onClick:g}),t.jsxs("aside",{className:`app-layout__sidebar ${s?"collapsed":""} ${o&&l?"open":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),!o&&t.jsx("button",{className:"sidebar-toggle",onClick:A,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:f.map(m=>t.jsx("li",{children:t.jsxs(en,{to:m.path,className:`nav-link ${m.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:m.icon}),!s&&t.jsx("span",{className:"nav-label",children:m.label})]})},m.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(en,{to:"/profile",className:"sidebar-profile-link",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:a,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsx("main",{className:"app-layout__content",children:r})]})},Mne=({id:r,title:e,description:n,icon:a,path:i,parameters:s,indicators:c=[]})=>{const l=()=>{if(s.length===0)return"No parameters";const u=3,o=s.slice(0,u),h=s.length-u;let d=o.join("  ");return h>0&&(d+=` +${h} more`),d};return t.jsxs(en,{to:i,className:"report-card-modern","aria-label":`View ${e} report`,children:[t.jsxs("div",{className:"report-card-modern-header",children:[t.jsx("div",{className:"report-card-modern-icon",children:a}),t.jsxs("div",{className:"report-card-modern-title-section",children:[t.jsx("h3",{className:"report-card-modern-title",children:e}),c.length>0&&t.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&t.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&t.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&t.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&t.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),t.jsxs("div",{className:"report-card-modern-body",children:[t.jsx("p",{className:"report-card-modern-description",children:n}),t.jsxs("div",{className:"report-card-modern-parameters",children:[t.jsx("span",{className:"parameters-label",children:"Params:"}),t.jsx("span",{className:"parameters-value",children:l()})]})]})]})},Rne=()=>{var j;const r=_n(),[e,n]=k.useState(""),[a,i]=k.useState("All"),[s,c]=k.useState(!1),[l,u]=k.useState(!1),[o,h]=k.useState({reportType:"",ownership:"",favorites:!1}),[d,f]=k.useState(new Set),A=k.useRef(null),g=k.useRef(null),m=[{id:"All",label:"All Reports",icon:""},{id:"BillingFinance",label:"Billing & Finance",icon:"",children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:""},{id:"BillingFinance-Payments",label:"Payments",icon:""},{id:"BillingFinance-Revenue",label:"Revenue",icon:""},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:""}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:"",children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:""},{id:"ContractAgreement-Agreements",label:"Agreements",icon:""},{id:"ContractAgreement-Renewals",label:"Renewals",icon:""}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:"",children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:""},{id:"OperationsLogistics-Routes",label:"Routes",icon:""},{id:"OperationsLogistics-Collection",label:"Collection",icon:""},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:""}]},{id:"MasterData",label:"Master Data",icon:"",children:[{id:"MasterData-Company",label:"Company",icon:""},{id:"MasterData-HCF",label:"HCF",icon:""},{id:"MasterData-User",label:"User",icon:""},{id:"MasterData-Fleet",label:"Fleet",icon:""}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:"",children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:""},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:""}]}],y=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(_=>{const P=_.title.toLowerCase().includes(e.toLowerCase())||_.description.toLowerCase().includes(e.toLowerCase())||_.parameters.some(K=>K.toLowerCase().includes(e.toLowerCase())),Z=a==="All"||_.category===a||a.startsWith(_.category+"-"),ee=(!o.reportType||_.reportType===o.reportType)&&(!o.ownership||_.ownership===o.ownership)&&(!o.favorites||d.has(_.id)||_.isFavorite);return P&&Z&&ee});k.useEffect(()=>{const _=P=>{A.current&&!A.current.contains(P.target)&&c(!1),g.current&&!g.current.contains(P.target)&&(P.target.closest(".filters-toggle-btn")||u(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const b=()=>{if(a==="All")return"All Reports";const _=(Z,ee)=>{for(const K of Z){if(K.id===ee)return K;if(K.children){const ae=_(K.children,ee);if(ae)return ae}}return null},P=_(m,a);return(P==null?void 0:P.label)||"All Reports"},w=_=>{i(_),c(!1)},N=()=>{let _=0;return o.reportType&&_++,o.ownership&&_++,o.favorites&&_++,_},S=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:S,children:t.jsxs("div",{className:"reports-page",children:[t.jsx("div",{className:"reports-header",children:t.jsx("div",{className:"reports-header-content",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports"})})})}),l&&t.jsxs("div",{className:"filters-drawer-compact",ref:g,children:[t.jsxs("div",{className:"filters-drawer-header-compact",children:[t.jsx("h3",{children:"Filters"}),t.jsx("button",{className:"filters-drawer-close",onClick:()=>u(!1),"aria-label":"Close filters",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"filters-drawer-content-compact",children:[t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Report Type"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.reportType?"":"active"}`,onClick:()=>h({...o,reportType:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Transactional"?"active":""}`,onClick:()=>h({...o,reportType:"Transactional"}),children:"Transactional"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Master"?"active":""}`,onClick:()=>h({...o,reportType:"Master"}),children:"Master"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Analytics"?"active":""}`,onClick:()=>h({...o,reportType:"Analytics"}),children:"Analytics"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Ownership"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.ownership?"":"active"}`,onClick:()=>h({...o,ownership:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="My Reports"?"active":""}`,onClick:()=>h({...o,ownership:"My Reports"}),children:"My Reports"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="Shared"?"active":""}`,onClick:()=>h({...o,ownership:"Shared"}),children:"Shared"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="System"?"active":""}`,onClick:()=>h({...o,ownership:"System"}),children:"System"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Favorites"}),t.jsxs("div",{className:"filter-toggle-wrapper",children:[t.jsx("button",{className:`filter-toggle-btn ${o.favorites?"active":""}`,onClick:()=>h({...o,favorites:!o.favorites}),"aria-pressed":o.favorites,children:t.jsx("span",{className:"filter-toggle-slider"})}),t.jsx("span",{className:"filter-toggle-label",children:o.favorites?"Show favorites only":"Show all reports"})]})]}),N()>0&&t.jsx("div",{className:"filters-drawer-actions-compact",children:t.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>h({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),t.jsxs("div",{className:"reports-content-wrapper",children:[t.jsx("div",{className:"reports-title-section",children:t.jsx("h1",{className:"reports-title",children:"Reports"})}),t.jsxs("div",{className:"reports-search-section",children:[t.jsxs("div",{className:"reports-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:e,onChange:_=>n(_.target.value),"aria-label":"Search reports"})]}),t.jsxs("div",{className:"category-popover-wrapper",ref:A,children:[t.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!s),"aria-expanded":s,children:[t.jsx("span",{className:"category-icon",children:((j=m.find(_=>_.id===a))==null?void 0:j.icon)||""}),t.jsx("span",{className:"category-label",children:b()}),t.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&t.jsx("div",{className:"category-popover",children:m.map(_=>t.jsxs("div",{className:"category-group",children:[t.jsxs("button",{className:`category-item ${a===_.id?"active":""}`,onClick:()=>!_.children&&w(_.id),children:[t.jsx("span",{className:"category-item-icon",children:_.icon}),t.jsx("span",{className:"category-item-label",children:_.label}),_.children&&t.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),_.children&&t.jsx("div",{className:"category-children",children:_.children.map(P=>t.jsxs("button",{className:`category-item category-child ${a===P.id?"active":""}`,onClick:()=>w(P.id),children:[t.jsx("span",{className:"category-item-icon",children:P.icon}),t.jsx("span",{className:"category-item-label",children:P.label})]},P.id))})]},_.id))})]}),t.jsxs("button",{className:"filters-toggle-btn",onClick:()=>u(!l),"aria-expanded":l,children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("span",{children:"Filters"}),N()>0&&t.jsx("span",{className:"filter-count-badge",children:N()})]}),t.jsxs("span",{className:"results-count-inline",children:[y.length," report",y.length!==1?"s":""]})]}),t.jsx("div",{className:"reports-grid-container",children:t.jsxs("div",{className:"reports-grid",children:[y.map(_=>t.jsx(Mne,{id:_.id,title:_.title,description:_.description,icon:_.icon,path:_.path,parameters:_.parameters,indicators:_.indicators},_.id)),y.length===0&&t.jsxs("div",{className:"reports-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("h3",{children:"No reports found"}),t.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},Lne=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),c=()=>{s(!i)},l=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],o=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(h=>h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:l.map(h=>t.jsx("li",{children:t.jsxs(en,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Billing & Finance Reports"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),t.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:h=>a(h.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(h=>t.jsxs(en,{to:h.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:h.icon}),t.jsx("h3",{className:"master-card-title",children:h.title}),t.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Une=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),c=()=>{s(!i)},l=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname.startsWith("/report")}],o=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(h=>h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:l.map(h=>t.jsx("li",{children:t.jsxs(en,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Operations & Logistics"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),t.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:h=>a(h.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(h=>t.jsxs(en,{to:h.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:h.icon}),t.jsx("h3",{className:"master-card-title",children:h.title}),t.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Hne=()=>{const{logout:r}=pa(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(!1),c=()=>{s(!i)},l=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e.pathname==="/transaction"||e.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e.pathname==="/finance"||e.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.pathname==="/commercial-agreements"||e.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e.pathname==="/compliance-training"||e.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],o=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(h=>h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:l.map(h=>t.jsx("li",{children:t.jsxs(en,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / HCF & Compliance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:h=>a(h.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(h=>t.jsxs(en,{to:h.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:h.icon}),t.jsx("h3",{className:"master-card-title",children:h.title}),t.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Qne=()=>{const[r,e]=k.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=k.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),i=k.useCallback((f,A)=>{e(g=>({...g,[f]:A}))},[]),s=k.useCallback((f,A)=>{a(g=>({...g,[f]:A}))},[]),c=k.useCallback(()=>{e(f=>({...f,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),l=k.useCallback(()=>{const f={page:1,pageSize:r.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};e(f),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[r.pageSize]),u=k.useCallback((f,A)=>{e(g=>({...g,page:f,...A!==void 0&&{pageSize:A}}))},[]),o=k.useCallback(f=>{e(A=>({...A,searchText:f,page:1}))},[]),h=k.useCallback(()=>{var f;return!!(r.invoiceFromDate||r.invoiceToDate||r.companyId||r.hcfId||r.status&&r.status!=="All"||r.billingType&&r.billingType!=="All"||(f=r.searchText)!=null&&f.trim())},[r]),d=k.useCallback(()=>{var A;const f={page:r.page||1,pageSize:r.pageSize||25,sortBy:r.sortBy||"invoiceDate",sortOrder:r.sortOrder||"DESC"};return r.invoiceFromDate&&(f.invoiceFromDate=r.invoiceFromDate),r.invoiceToDate&&(f.invoiceToDate=r.invoiceToDate),r.companyId&&(f.companyId=r.companyId),r.hcfId&&(f.hcfId=r.hcfId),r.status&&r.status!=="All"&&(f.status=r.status),r.billingType&&r.billingType!=="All"&&(f.billingType=r.billingType),(A=r.searchText)!=null&&A.trim()&&(f.searchText=r.searchText.trim()),f},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:h,buildApiFilters:d}},Kj=()=>{const r=_n(),e=ti(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:h}=Qne(),[d,f]=k.useState(!1),A=n.searchText||"",[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState([]),[N,S]=k.useState([]),[j,_]=k.useState(!1),[P,Z]=k.useState(!1),[ee,K]=k.useState(null),ae=n.page||1,D=n.pageSize||25,q=k.useRef(null),$=k.useRef(null),[L,ye]=k.useState(null),[ne,Be]=k.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});k.useEffect(()=>{(async()=>{try{const[Le,Ze]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);m(Le),y(Ze)}catch(Le){console.error("Error loading master data:",Le)}})()},[]);const Te=n.companyId?x.filter(ie=>ie.companyId===n.companyId):x,me=()=>{if(!o())return"No filters applied. Select a date range or search to view invoices.";const ie=[];if(n.invoiceFromDate&&n.invoiceToDate){const Le=new Date(n.invoiceFromDate),Ze=new Date(n.invoiceToDate),jt=new Date,Lt=jt.getMonth(),Ct=jt.getFullYear();if(Le.getMonth()===Lt&&Le.getFullYear()===Ct&&Ze.getMonth()===Lt&&Ze.getFullYear()===Ct)ie.push("Current Month");else{const Xt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric"}),_r=Ze.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ie.push(`${Xt} - ${_r}`)}}else if(n.invoiceFromDate||n.invoiceToDate){if(n.invoiceFromDate){const Le=new Date(n.invoiceFromDate);ie.push(`From ${Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.invoiceToDate){const Le=new Date(n.invoiceToDate);ie.push(`To ${Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Le=g.find(Ze=>Ze.id===n.companyId);ie.push(Le?Le.companyName:"Selected Company")}else ie.push("All Companies");if(n.hcfId){const Le=Te.find(Ze=>Ze.id===n.hcfId);ie.push(Le?Le.hcfName:"Selected HCF")}else ie.push("All HCFs");return n.status&&n.status!=="All"?ie.push(n.status):ie.push("All Status"),`Showing invoices for: ${ie.join("  ")}`},ue=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],ve=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],le=ie=>{S(ie),Ae(ie)};k.useEffect(()=>{var ie;!P&&!j&&!((ie=n.searchText)!=null&&ie.trim())&&!o()&&Pe()},[]),k.useEffect(()=>{var Le;if(j||!P&&!((Le=n.searchText)!=null&&Le.trim())&&!o())return;const ie=setTimeout(()=>{j||Pe()},500);return()=>clearTimeout(ie)},[n.searchText,n.invoiceFromDate,n.invoiceToDate,n.companyId,n.hcfId,n.status,n.billingType,n.page,n.pageSize]);const Ae=ie=>{const Le=ie.length,Ze=ie.reduce((Ct,Xt)=>Ct+(Xt.invoiceValue||0),0),jt=ie.reduce((Ct,Xt)=>Ct+(Xt.totalPaidAmount||0),0),Lt=ie.reduce((Ct,Xt)=>Ct+(Xt.balanceAmount||0),0);Be({totalInvoices:Le,totalAmount:Ze,paidAmount:jt,balanceAmount:Lt})},Ie=async()=>{var Le,Ze;s(),f(!1);const ie={page:1,pageSize:n.pageSize||25,sortBy:n.sortBy||"invoiceDate",sortOrder:n.sortOrder||"DESC"};a.invoiceFromDate&&(ie.invoiceFromDate=a.invoiceFromDate),a.invoiceToDate&&(ie.invoiceToDate=a.invoiceToDate),a.companyId&&(ie.companyId=a.companyId),a.hcfId&&(ie.hcfId=a.hcfId),a.status&&a.status!=="All"&&(ie.status=a.status),a.billingType&&a.billingType!=="All"&&(ie.billingType=a.billingType),(Le=n.searchText)!=null&&Le.trim()&&(ie.searchText=n.searchText.trim()),_(!0),K(null);try{const jt=await q0(ie);if(!jt||!jt.data||!Array.isArray(jt.data))throw console.error("Invalid response structure:",jt),new Error("Invalid response format from server");if(!jt.meta)throw console.error("Missing meta in response:",jt),new Error("Missing pagination metadata in response");let Lt=(jt.data||[]).map(Or=>({id:Or.invoiceId,invoiceNumber:Or.invoiceNumber,invoiceDate:Or.invoiceDate,dueDate:Or.dueDate,companyId:Or.companyId,companyName:Or.companyName,hcfId:Or.hcfId,hcfName:Or.hcfName,hcfCode:Or.hcfCode,billingType:Or.billingType,invoiceValue:Or.invoiceValue,totalPaidAmount:Or.totalPaidAmount,balanceAmount:Or.balanceAmount,status:Or.status}));w(Lt),le(Lt),Z(!0);const Ct=Lt.reduce((Or,He)=>Or+(He.invoiceValue||0),0),Xt=Lt.reduce((Or,He)=>Or+(He.totalPaidAmount||0),0),_r=Lt.reduce((Or,He)=>Or+(He.balanceAmount||0),0);Be({totalInvoices:((Ze=jt.meta)==null?void 0:Ze.totalRecords)||0,totalAmount:Ct,paidAmount:Xt,balanceAmount:_r})}catch(jt){console.error("Error applying filters:",jt),K(jt.message||"Failed to apply filters")}finally{_(!1)}},Pe=async()=>{var ie,Le,Ze,jt,Lt;_(!0),K(null);try{const Ct=h(),Xt=await q0(Ct);if(Ct.searchText&&Xt.data.length===0&&((ie=Xt==null?void 0:Xt.meta)==null?void 0:ie.state)==="HAS_RESULTS"&&((Le=Xt==null?void 0:Xt.meta)==null?void 0:Le.totalRecords)===0)try{const pr={...Ct};delete pr.searchText,pr.page=1,pr.pageSize=100;let on=[],Yr=1;const qr=5;for(;Yr<=qr;){pr.page=Yr;const Ir=await q0(pr);if(Ir!=null&&Ir.data&&Ir.data.length>0){if(on=on.concat(Ir.data),Ir.data.length<pr.pageSize)break;Yr++}else break}if(on.length>0){const Ir=Ct.searchText.toLowerCase().trim(),dr=on.filter(Cr=>{const Vr=(Cr.invoiceNumber||"").toLowerCase(),zr=(Cr.companyName||"").toLowerCase(),vn=(Cr.hcfCode||"").toLowerCase(),Wr=(Cr.status||"").toLowerCase();return Vr.includes(Ir)||zr.includes(Ir)||vn.includes(Ir)||Wr.includes(Ir)||Cr.invoiceValue&&Cr.invoiceValue.toString().includes(Ir)});dr.length>0&&(Xt.data=dr,Xt.meta&&(Xt.meta.totalRecords=dr.length,Xt.meta.dataCount=dr.length,Xt.meta.state=dr.length>0?"HAS_RESULTS":"NO_RESULTS",Xt.meta.totalPages=Math.ceil(dr.length/(Ct.pageSize||25))))}}catch(pr){console.error("Client-side fallback failed:",pr)}if(!Xt||!Xt.data||!Array.isArray(Xt.data))throw console.error("Invalid response structure:",Xt),new Error("Invalid response format from server");if(!Xt.meta)throw console.error("Missing meta in response:",Xt),new Error("Missing pagination metadata in response");const Or=(Xt.data||[]).map(pr=>({invoiceId:pr.invoiceId,companyId:pr.companyId,hcfId:pr.hcfId,invoiceNumber:pr.invoiceNumber,invoiceDate:pr.invoiceDate,dueDate:pr.dueDate,billingType:pr.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:pr.invoiceValue,totalPaidAmount:pr.totalPaidAmount,balanceAmount:pr.balanceAmount,status:pr.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:pr.companyName,companyCode:pr.companyCode,hcfName:pr.hcfName,hcfCode:pr.hcfCode}))||[];w(()=>Or),S(()=>Or),Z(()=>!0),Xt.meta&&!A.trim()?l(Xt.meta.page):Xt.meta&&A.trim()&&l(ae===1?1:Xt.meta.page);const He=Xt.data||[],Zt=He.reduce((pr,on)=>pr+(on.invoiceValue||0),0),Bt=He.reduce((pr,on)=>pr+(on.totalPaidAmount||0),0),$r=He.reduce((pr,on)=>pr+(on.balanceAmount||0),0);Be({totalInvoices:((Ze=Xt.meta)==null?void 0:Ze.totalRecords)||0,totalAmount:Zt,paidAmount:Bt,balanceAmount:$r}),f(!1),setTimeout(()=>{var pr;(pr=q.current)==null||pr.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(Ct){console.error("Error generating report:",Ct),K(Ct.message||"Failed to generate report"),((jt=Ct.message)!=null&&jt.includes("Invalid response")||(Lt=Ct.message)!=null&&Lt.includes("Missing"))&&(w([]),S([]),Z(!1)),console.error("Report error:",Ct)}finally{_(!1)}},Ce=async()=>{c(),f(!1),await Pe()},ce=ie=>ie==null?"0.00":`${ie.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,X=ie=>ie?new Date(ie).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",de=ie=>{switch(ie){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},se=P&&ne.totalInvoices>0?Math.ceil(ne.totalInvoices/D):0;(ae-1)*D+((N==null?void 0:N.length)||0);const Re=N||[],Ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:Ee,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Invoice Generation & Printing"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Invoice Generation & Printing Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:me()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${j?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status, or Amount",value:A,onChange:ie=>u(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&!j&&(ie.preventDefault(),Pe())},disabled:j}),A&&!j&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{u(""),(P||o())&&await Pe()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:$,className:`btn btn-filters-toggle ${d?"active":""} ${j?"loading":""}`,onClick:()=>{if(!j){if(d||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("status",n.status||"All"),i("billingType",n.billingType||"All"),i("invoiceFromDate",n.invoiceFromDate||""),i("invoiceToDate",n.invoiceToDate||"")),$.current){const ie=$.current.getBoundingClientRect();ye({top:ie.bottom+8,left:ie.left})}f(!d)}},disabled:j,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length})]})]}),d&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{f(!1),ye(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ie=>ie.stopPropagation(),style:L?{position:"fixed",top:`${L.top}px`,left:`${L.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("invoiceFromDate",""),i("invoiceToDate",""),i("status","All"),i("billingType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>f(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceFromDate||"",onChange:ie=>i("invoiceFromDate",ie.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceToDate||"",onChange:ie=>i("invoiceToDate",ie.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:ie=>{i("companyId",ie.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(ie=>t.jsxs("option",{value:ie.id,children:[ie.companyCode," - ",ie.companyName]},ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:ie=>i("hcfId",ie.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(ie=>ie.companyId===a.companyId):x).map(ie=>t.jsxs("option",{value:ie.id,children:[ie.hcfCode," - ",ie.hcfName]},ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:ie=>i("status",ie.target.value),children:ue.map(ie=>t.jsx("option",{value:ie.value,children:ie.label},ie.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:a.billingType||"All",onChange:ie=>i("billingType",ie.target.value),children:ve.map(ie=>t.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ie(),f(!1)},disabled:j,children:j?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Balance"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:j?Array.from({length:5}).map((ie,Le)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Le}`)):P?Re.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:A.trim()?`No invoices match "${A.trim()}". Try adjusting your search or filters.`:o()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(o()||A.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ce,children:"Clear Filters"})})]})})}):Re.map((ie,Le)=>t.jsxs("tr",{className:Le%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ie.invoiceNumber}),t.jsx("td",{children:ie.companyName||"N/A"}),t.jsx("td",{children:ie.hcfCode||"N/A"}),t.jsx("td",{children:X(ie.invoiceDate)}),t.jsx("td",{children:ie.billingType}),t.jsx("td",{className:"text-right",children:ce(ie.invoiceValue)}),t.jsx("td",{className:"text-right",children:ce(ie.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:ce(ie.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:de(ie.status),children:ie.status})})]},ie.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:P&&N.length>0?`Showing ${D} of ${ne.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:D,disabled:!P||N.length===0,onChange:async ie=>{l(1,Number(ie.target.value)),P&&await Pe()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ie=Math.max(1,ae-1);l(ie),P&&await Pe()},disabled:ae===1||!P||N.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ie=[];let Ze=Math.max(1,ae-Math.floor(2.5)),jt=Math.min(se,Ze+5-1);jt-Ze<4&&(Ze=Math.max(1,jt-5+1)),Ze>1&&(ie.push(1),Ze>2&&ie.push("..."));for(let Lt=Ze;Lt<=jt;Lt++)ie.push(Lt);return jt<se&&(jt<se-1&&ie.push("..."),ie.push(se)),ie.map((Lt,Ct)=>{if(Lt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ct}`);const Xt=Lt;return t.jsx("button",{className:`pagination-page-btn ${ae===Xt?"active":""}`,onClick:async()=>{l(Xt),P&&await Pe()},disabled:!P||N.length===0,children:Xt},Xt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ie=Math.min(se,ae+1);l(ie),P&&await Pe()},disabled:ae===se||se===0||!P||N.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Wne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalContracts:0});k.useEffect(()=>{(async()=>{try{const[X,de]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(X),f(de)}catch(X){console.error("Error loading master data:",X)}})()},[]);const $=n.companyId?d.filter(ce=>ce.companyId===n.companyId):d,L=()=>{var ce;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(ce=n.searchText)!=null&&ce.trim())},ye=()=>{if(!L())return"No filters applied. Select a date range or search to view contracts.";const ce=[];if(n.fromDate&&n.toDate){const X=new Date(n.fromDate),de=new Date(n.toDate),se=X.toLocaleDateString("en-US",{month:"short",day:"numeric"}),We=de.toLocaleDateString("en-US",{month:"short",day:"numeric"});ce.push(`Date: ${se}${We}`)}if(n.companyId){const X=o.find(de=>de.id===n.companyId);X&&ce.push(`Company: ${X.companyName}`)}if(n.hcfId){const X=$.find(de=>de.id===n.hcfId);X&&ce.push(`HCF: ${X.hcfCode}`)}return n.status&&n.status!=="All"&&ce.push(`Status: ${n.status}`),ce.join("  ")},ne=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],Be=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],Te=async()=>{var ce;b(!0),j(null);try{const X={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let de=await sA.getAllContracts(X.companyId,X.status);if(n.hcfId&&(de=de.filter(Ee=>Ee.hcfId===n.hcfId)),n.fromDate){const Ee=new Date(n.fromDate);de=de.filter(ie=>new Date(ie.startDate)>=Ee)}if(n.toDate){const Ee=new Date(n.toDate);Ee.setHours(23,59,59,999),de=de.filter(ie=>new Date(ie.startDate)<=Ee)}if(n.billingType&&n.billingType!=="All"&&(de=de.filter(Ee=>Ee.billingType===n.billingType)),(ce=n.searchText)!=null&&ce.trim()){const Ee=n.searchText.toLowerCase().trim();de=de.filter(ie=>{const Le=(ie.contractNum||"").toLowerCase(),Ze=o.find(Xt=>Xt.id===ie.companyId),jt=((Ze==null?void 0:Ze.companyName)||"").toLowerCase(),Lt=d.find(Xt=>Xt.id===ie.hcfId),Ct=((Lt==null?void 0:Lt.hcfCode)||"").toLowerCase();return Le.includes(Ee)||jt.includes(Ee)||Ct.includes(Ee)})}de.sort((Ee,ie)=>{const Le=Ee[n.sortBy]||"",Ze=ie[n.sortBy]||"";return n.sortOrder==="ASC"?Le>Ze?1:-1:Le<Ze?1:-1});const se=(_-1)*P,We=se+P,Re=de.slice(se,We);g(de),x(Re),N(!0),q({totalContracts:de.length})}catch(X){console.error("Error loading contracts:",X),j(X.message||"Failed to load contract data"),g([]),x([])}finally{b(!1)}},me=async()=>{a(ce=>({...ce,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",billingType:i.billingType||"All",page:1})),l(!1),await Te()},ue=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ce=setTimeout(()=>{Te()},500);return()=>clearTimeout(ce)}},[n,o]);const ve=ce=>ce?new Date(ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=ce=>{switch(ce){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ae=w&&D.totalContracts>0?Math.ceil(D.totalContracts/P):0,Ie=(_-1)*P,Pe=Math.min(Ie+m.length,D.totalContracts),Ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:Ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:ce=>a(X=>({...X,searchText:ce.target.value,page:1})),onKeyDown:ce=>{ce.key==="Enter"&&!y&&(ce.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ce=>({...ce,searchText:"",page:1})),(w||L())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),ee.current){const ce=ee.current.getBoundingClientRect();ae({top:ce.bottom+8,left:ce.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ce=>ce.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:ce=>s(X=>({...X,fromDate:ce.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:ce=>s(X=>({...X,toDate:ce.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ce=>{s(X=>({...X,companyId:ce.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ce=>t.jsxs("option",{value:ce.id,children:[ce.companyCode," - ",ce.companyName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ce=>s(X=>({...X,hcfId:ce.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(ce=>ce.companyId===i.companyId):d).map(ce=>t.jsxs("option",{value:ce.id,children:[ce.hcfCode," - ",ce.hcfName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ce=>s(X=>({...X,status:ce.target.value})),children:ne.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:i.billingType||"All",onChange:ce=>s(X=>({...X,billingType:ce.target.value})),children:Be.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await me(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ce,X)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${X}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:L()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ue,children:"Clear Filters"})})]})})}):m.map((ce,X)=>{var de,se;return t.jsxs("tr",{className:X%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ce.contractNum}),t.jsx("td",{children:((de=o.find(We=>We.id===ce.companyId))==null?void 0:de.companyName)||"N/A"}),t.jsx("td",{children:((se=d.find(We=>We.id===ce.hcfId))==null?void 0:se.hcfCode)||"N/A"}),t.jsx("td",{children:ve(ce.startDate)}),t.jsx("td",{children:ve(ce.endDate)}),t.jsx("td",{children:ce.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:le(ce.status),children:ce.status})})]},ce.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ie+1}-${Pe} of ${D.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async ce=>{a(X=>({...X,page:1,pageSize:Number(ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.max(1,_-1);a(X=>({...X,page:ce}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ce=[];let de=Math.max(1,_-Math.floor(2.5)),se=Math.min(Ae,de+5-1);se-de<4&&(de=Math.max(1,se-5+1)),de>1&&(ce.push(1),de>2&&ce.push("..."));for(let We=de;We<=se;We++)ce.push(We);return se<Ae&&(se<Ae-1&&ce.push("..."),ce.push(Ae)),ce.map((We,Re)=>{if(We==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Re}`);const Ee=We;return t.jsx("button",{className:`pagination-page-btn ${_===Ee?"active":""}`,onClick:async()=>{a(ie=>({...ie,page:Ee}))},disabled:!w||m.length===0,children:Ee},Ee)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.min(Ae,_+1);a(X=>({...X,page:ce}))},disabled:_===Ae||Ae===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},$ne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[i,s]=k.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=n.page||1,j=n.pageSize||25,_=k.useRef(null),P=k.useRef(null),[Z,ee]=k.useState(null),[K,ae]=k.useState({totalHcfs:0});k.useEffect(()=>{(async()=>{try{const Ie=await Qa.getAllCompanies();h(Ie)}catch(Ie){console.error("Error loading master data:",Ie)}})()},[]);const D=()=>{var Ae;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(Ae=n.searchText)!=null&&Ae.trim())},q=()=>{if(!D())return"No filters applied. View all healthcare facilities.";const Ae=[];if(n.companyId){const Ie=o.find(Pe=>Pe.id===n.companyId);Ie&&Ae.push(`Company: ${Ie.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&Ae.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&Ae.push(`Status: ${n.status}`),n.stateCode&&Ae.push(`State: ${n.stateCode}`),n.district&&Ae.push(`District: ${n.district}`),n.category&&Ae.push(`Category: ${n.category}`),Ae.join("  ")},$=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],L=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],ye=async()=>{var Ae;x(!0),N(null);try{let Ie=await ks.getAllHcfs();if(n.companyId&&(Ie=Ie.filter(X=>X.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(Ie=Ie.filter(X=>X.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(Ie=Ie.filter(X=>X.status===n.status)),n.stateCode&&(Ie=Ie.filter(X=>X.stateCode===n.stateCode)),n.district){const X=n.district.toLowerCase().trim();Ie=Ie.filter(de=>de.district&&de.district.toLowerCase().includes(X))}if(n.category){const X=n.category.toLowerCase().trim();Ie=Ie.filter(de=>de.category&&de.category.toLowerCase().includes(X))}if((Ae=n.searchText)!=null&&Ae.trim()){const X=n.searchText.toLowerCase().trim();Ie=Ie.filter(de=>{const se=(de.hcfCode||"").toLowerCase(),We=(de.hcfName||"").toLowerCase(),Re=(de.hcfShortName||"").toLowerCase(),Ee=o.find(jt=>jt.id===de.companyId),ie=((Ee==null?void 0:Ee.companyName)||"").toLowerCase(),Le=(de.district||"").toLowerCase(),Ze=(de.category||"").toLowerCase();return se.includes(X)||We.includes(X)||Re.includes(X)||ie.includes(X)||Le.includes(X)||Ze.includes(X)||de.pincode&&de.pincode.includes(X)||de.gstin&&de.gstin.toLowerCase().includes(X)})}Ie.sort((X,de)=>{const se=X[n.sortBy]||"",We=de[n.sortBy]||"";return n.sortOrder==="ASC"?se>We?1:-1:se<We?1:-1});const Pe=(S-1)*j,Ce=Pe+j,ce=Ie.slice(Pe,Ce);f(Ie),g(ce),b(!0),ae({totalHcfs:Ie.length})}catch(Ie){console.error("Error loading HCFs:",Ie),N(Ie.message||"Failed to load HCF data"),f([]),g([])}finally{x(!1)}},ne=async()=>{a(Ae=>({...Ae,companyId:i.companyId||"",hcfType:i.hcfType||"All",status:i.status||"All",stateCode:i.stateCode||"",district:i.district||"",category:i.category||"",page:1})),l(!1),await ye()},Be=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),l(!1),await ye()};k.useEffect(()=>{if(o.length>0||!n.companyId){const Ae=setTimeout(()=>{ye()},500);return()=>clearTimeout(Ae)}},[n,o]);const Te=Ae=>{switch(Ae){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},me=y&&K.totalHcfs>0?Math.ceil(K.totalHcfs/j):0,ue=(S-1)*j,ve=Math.min(ue+A.length,K.totalHcfs),le=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:le,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!D()&&t.jsx("div",{className:"page-context-subtitle",children:q()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:u,onChange:Ae=>a(Ie=>({...Ie,searchText:Ae.target.value,page:1})),onKeyDown:Ae=>{Ae.key==="Enter"&&!m&&(Ae.preventDefault(),ye())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ae=>({...Ae,searchText:"",page:1})),(y||D())&&await ye()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:P,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),P.current){const Ae=P.current.getBoundingClientRect();ee({top:Ae.bottom+8,left:Ae.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ae=>Ae.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ae=>s(Ie=>({...Ie,companyId:Ae.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ae=>t.jsxs("option",{value:Ae.id,children:[Ae.companyCode," - ",Ae.companyName]},Ae.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),t.jsx("select",{className:"filter-modal-select",value:i.hcfType||"All",onChange:Ae=>s(Ie=>({...Ie,hcfType:Ae.target.value})),children:$.map(Ae=>t.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ae=>s(Ie=>({...Ie,status:Ae.target.value})),children:L.map(Ae=>t.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"State Code"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.stateCode||"",onChange:Ae=>s(Ie=>({...Ie,stateCode:Ae.target.value})),placeholder:"Enter state code"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"District"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.district||"",onChange:Ae=>s(Ie=>({...Ie,district:Ae.target.value})),placeholder:"Enter district name"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Category"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.category||"",onChange:Ae=>s(Ie=>({...Ie,category:Ae.target.value})),placeholder:"Enter category"})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ne(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Type"}),t.jsx("th",{children:"District"}),t.jsx("th",{children:"State"}),t.jsx("th",{children:"Category"}),t.jsx("th",{children:"Pincode"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ae,Ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ie}`)):y?A.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No HCFs match "${u.trim()}". Try adjusting your search or filters.`:D()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(D()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Be,children:"Clear Filters"})})]})})}):A.map((Ae,Ie)=>{var Pe;return t.jsxs("tr",{className:Ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ae.hcfCode}),t.jsx("td",{children:Ae.hcfName}),t.jsx("td",{children:((Pe=o.find(Ce=>Ce.id===Ae.companyId))==null?void 0:Pe.companyName)||"N/A"}),t.jsx("td",{children:Ae.hcfTypeCode||"N/A"}),t.jsx("td",{children:Ae.district||"N/A"}),t.jsx("td",{children:Ae.stateCode||"N/A"}),t.jsx("td",{children:Ae.category||"N/A"}),t.jsx("td",{children:Ae.pincode||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Te(Ae.status),children:Ae.status})})]},Ae.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${ue+1}-${ve} of ${K.totalHcfs} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||A.length===0,onChange:async Ae=>{a(Ie=>({...Ie,page:1,pageSize:Number(Ae.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.max(1,S-1);a(Ie=>({...Ie,page:Ae}))},disabled:S===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ae=[];let Pe=Math.max(1,S-Math.floor(2.5)),Ce=Math.min(me,Pe+5-1);Ce-Pe<4&&(Pe=Math.max(1,Ce-5+1)),Pe>1&&(Ae.push(1),Pe>2&&Ae.push("..."));for(let ce=Pe;ce<=Ce;ce++)Ae.push(ce);return Ce<me&&(Ce<me-1&&Ae.push("..."),Ae.push(me)),Ae.map((ce,X)=>{if(ce==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${X}`);const de=ce;return t.jsx("button",{className:`pagination-page-btn ${S===de?"active":""}`,onClick:async()=>{a(se=>({...se,page:de}))},disabled:!y||A.length===0,children:de},de)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.min(me,S+1);a(Ie=>({...Ie,page:Ae}))},disabled:S===me||me===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Vne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[i,s]=k.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalCertificates:0});k.useEffect(()=>{(async()=>{try{const[ce,X]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(ce),f(X)}catch(ce){console.error("Error loading master data:",ce)}})()},[]);const $=n.companyId?d.filter(Ce=>Ce.companyId===n.companyId):d,L=()=>{var Ce;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(Ce=n.searchText)!=null&&Ce.trim())},ye=()=>{if(!L())return"No filters applied. Select a date range or search to view training certificates.";const Ce=[];if(n.trainingFromDate&&n.trainingToDate){const ce=new Date(n.trainingFromDate),X=new Date(n.trainingToDate),de=ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),se=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ce.push(`Date: ${de}${se}`)}if(n.companyId){const ce=o.find(X=>X.id===n.companyId);ce&&Ce.push(`Company: ${ce.companyName}`)}if(n.hcfId){const ce=$.find(X=>X.id===n.hcfId);ce&&Ce.push(`HCF: ${ce.hcfCode}`)}return n.status&&n.status!=="All"&&Ce.push(`Status: ${n.status}`),Ce.join("  ")},ne=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Be=async()=>{var Ce;b(!0),j(null);try{const ce={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let X=await sv.getAllCertificates(ce.companyId,!1,ce);if((Ce=n.searchText)!=null&&Ce.trim()){const Re=n.searchText.toLowerCase().trim();X=X.filter(Ee=>{const ie=(Ee.certificateNo||"").toLowerCase(),Le=(Ee.staffName||"").toLowerCase(),Ze=(Ee.staffCode||"").toLowerCase(),jt=o.find(_r=>_r.id===Ee.companyId),Lt=((jt==null?void 0:jt.companyName)||"").toLowerCase(),Ct=d.find(_r=>_r.id===Ee.hcfId),Xt=((Ct==null?void 0:Ct.hcfCode)||"").toLowerCase();return ie.includes(Re)||Le.includes(Re)||Ze.includes(Re)||Lt.includes(Re)||Xt.includes(Re)})}X.sort((Re,Ee)=>{const ie=Re[n.sortBy]||"",Le=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?ie>Le?1:-1:ie<Le?1:-1});const de=(_-1)*P,se=de+P,We=X.slice(de,se);g(X),x(We),N(!0),q({totalCertificates:X.length})}catch(ce){console.error("Error loading training certificates:",ce),j(ce.message||"Failed to load training certificate data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(Ce=>({...Ce,trainingFromDate:i.trainingFromDate||"",trainingToDate:i.trainingToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",page:1})),l(!1),await Be()},me=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),l(!1),await Be()};k.useEffect(()=>{if(o.length>0||!n.companyId){const Ce=setTimeout(()=>{Be()},500);return()=>clearTimeout(Ce)}},[n,o]);const ue=Ce=>Ce?new Date(Ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ve=Ce=>{switch(Ce){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},le=w&&D.totalCertificates>0?Math.ceil(D.totalCertificates/P):0,Ae=(_-1)*P,Ie=Math.min(Ae+m.length,D.totalCertificates),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:u,onChange:Ce=>a(ce=>({...ce,searchText:Ce.target.value,page:1})),onKeyDown:Ce=>{Ce.key==="Enter"&&!y&&(Ce.preventDefault(),Be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ce=>({...Ce,searchText:"",page:1})),(w||L())&&await Be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),ee.current){const Ce=ee.current.getBoundingClientRect();ae({top:Ce.bottom+8,left:Ce.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ce=>Ce.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Training Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingFromDate||"",onChange:Ce=>s(ce=>({...ce,trainingFromDate:Ce.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingToDate||"",onChange:Ce=>s(ce=>({...ce,trainingToDate:Ce.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ce=>{s(ce=>({...ce,companyId:Ce.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.companyCode," - ",Ce.companyName]},Ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:Ce=>s(ce=>({...ce,hcfId:Ce.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(Ce=>Ce.companyId===i.companyId):d).map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.hcfCode," - ",Ce.hcfName]},Ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ce=>s(ce=>({...ce,status:Ce.target.value})),children:ne.map(Ce=>t.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Trained By"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Ce,ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ce}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No certificates match "${u.trim()}". Try adjusting your search or filters.`:L()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:me,children:"Clear Filters"})})]})})}):m.map((Ce,ce)=>{var X,de;return t.jsxs("tr",{className:ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ce.certificateNo}),t.jsx("td",{children:Ce.staffName}),t.jsx("td",{children:Ce.staffCode}),t.jsx("td",{children:((X=o.find(se=>se.id===Ce.companyId))==null?void 0:X.companyName)||"N/A"}),t.jsx("td",{children:((de=d.find(se=>se.id===Ce.hcfId))==null?void 0:de.hcfCode)||"N/A"}),t.jsx("td",{children:ue(Ce.trainingDate)}),t.jsx("td",{children:Ce.trainedBy}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ve(Ce.status),children:Ce.status})})]},Ce.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ae+1}-${Ie} of ${D.totalCertificates} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async Ce=>{a(ce=>({...ce,page:1,pageSize:Number(Ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ce=Math.max(1,_-1);a(ce=>({...ce,page:Ce}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ce=[];let X=Math.max(1,_-Math.floor(2.5)),de=Math.min(le,X+5-1);de-X<4&&(X=Math.max(1,de-5+1)),X>1&&(Ce.push(1),X>2&&Ce.push("..."));for(let se=X;se<=de;se++)Ce.push(se);return de<le&&(de<le-1&&Ce.push("..."),Ce.push(le)),Ce.map((se,We)=>{if(se==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const Re=se;return t.jsx("button",{className:`pagination-page-btn ${_===Re?"active":""}`,onClick:async()=>{a(Ee=>({...Ee,page:Re}))},disabled:!w||m.length===0,children:Re},Re)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ce=Math.min(le,_+1);a(ce=>({...ce,page:Ce}))},disabled:_===le||le===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},i_=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[i,s]=k.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=n.page||1,j=n.pageSize||25,_=k.useRef(null),P=k.useRef(null),[Z,ee]=k.useState(null),[K,ae]=k.useState({totalPayments:0,totalAmount:0});k.useEffect(()=>{(async()=>{try{const Ce=await Qa.getAllCompanies();h(Ce)}catch(Ce){console.error("Error loading master data:",Ce)}})()},[]);const D=()=>{var Pe;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(Pe=n.searchText)!=null&&Pe.trim())},q=()=>{if(!D())return"No filters applied. Select a date range or search to view payments.";const Pe=[];if(n.paymentFromDate&&n.paymentToDate){const Ce=new Date(n.paymentFromDate),ce=new Date(n.paymentToDate),X=Ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),de=ce.toLocaleDateString("en-US",{month:"short",day:"numeric"});Pe.push(`Date: ${X}${de}`)}if(n.companyId){const Ce=o.find(ce=>ce.id===n.companyId);Ce&&Pe.push(`Company: ${Ce.companyName}`)}return n.status&&n.status!=="All"&&Pe.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&Pe.push(`Mode: ${n.paymentMode}`),Pe.join("  ")},$=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],L=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],ye=async()=>{var Pe;x(!0),N(null);try{const Ce={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let X=(await Ote(Ce)).data||[];if((Pe=n.searchText)!=null&&Pe.trim()){const Re=n.searchText.toLowerCase().trim();X=X.filter(Ee=>{const ie=(Ee.receiptNumber||"").toLowerCase(),Le=(Ee.referenceNumber||"").toLowerCase(),Ze=o.find(Lt=>Lt.id===Ee.companyId),jt=((Ze==null?void 0:Ze.companyName)||"").toLowerCase();return ie.includes(Re)||Le.includes(Re)||jt.includes(Re)||Ee.paymentAmount.toString().includes(Re)})}n.paymentMode&&n.paymentMode!=="All"&&(X=X.filter(Re=>Re.paymentMode===n.paymentMode)),X.sort((Re,Ee)=>{const ie=Re[n.sortBy]||"",Le=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?ie>Le?1:-1:ie<Le?1:-1});const de=(S-1)*j,se=de+j,We=X.slice(de,se);f(X),g(We),b(!0),ae({totalPayments:X.length,totalAmount:X.reduce((Re,Ee)=>Re+(Ee.paymentAmount||0),0)})}catch(Ce){console.error("Error loading payments:",Ce),N(Ce.message||"Failed to load payment data"),f([]),g([])}finally{x(!1)}},ne=async()=>{a(Pe=>({...Pe,paymentFromDate:i.paymentFromDate||"",paymentToDate:i.paymentToDate||"",companyId:i.companyId||"",status:i.status||"All",paymentMode:i.paymentMode||"All",page:1})),l(!1),await ye()},Be=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),l(!1),await ye()};k.useEffect(()=>{if(o.length>0||!n.companyId){const Pe=setTimeout(()=>{ye()},500);return()=>clearTimeout(Pe)}},[n,o]);const Te=Pe=>Pe==null?"0.00":`${Pe.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,me=Pe=>Pe?new Date(Pe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ue=Pe=>{switch(Pe){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ve=y&&K.totalPayments>0?Math.ceil(K.totalPayments/j):0,le=(S-1)*j,Ae=Math.min(le+A.length,K.totalPayments),Ie=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:Ie,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Payment Report"}),!D()&&t.jsx("div",{className:"page-context-subtitle",children:q()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:u,onChange:Pe=>a(Ce=>({...Ce,searchText:Pe.target.value,page:1})),onKeyDown:Pe=>{Pe.key==="Enter"&&!m&&(Pe.preventDefault(),ye())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Pe=>({...Pe,searchText:"",page:1})),(y||D())&&await ye()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:P,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),P.current){const Pe=P.current.getBoundingClientRect();ee({top:Pe.bottom+8,left:Pe.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Pe=>Pe.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentFromDate||"",onChange:Pe=>s(Ce=>({...Ce,paymentFromDate:Pe.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentToDate||"",onChange:Pe=>s(Ce=>({...Ce,paymentToDate:Pe.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Pe=>s(Ce=>({...Ce,companyId:Pe.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Pe=>t.jsxs("option",{value:Pe.id,children:[Pe.companyCode," - ",Pe.companyName]},Pe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Pe=>s(Ce=>({...Ce,status:Pe.target.value})),children:$.map(Pe=>t.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),t.jsx("select",{className:"filter-modal-select",value:i.paymentMode||"All",onChange:Pe=>s(Ce=>({...Ce,paymentMode:Pe.target.value})),children:L.map(Pe=>t.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ne(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Receipt No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{className:"text-right",children:"Payment Amount"}),t.jsx("th",{children:"Reference Number"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Pe,Ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ce}`)):y?A.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No payments match "${u.trim()}". Try adjusting your search or filters.`:D()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(D()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Be,children:"Clear Filters"})})]})})}):A.map((Pe,Ce)=>{var ce;return t.jsxs("tr",{className:Ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Pe.receiptNumber||"N/A"}),t.jsx("td",{children:((ce=o.find(X=>X.id===Pe.companyId))==null?void 0:ce.companyName)||"N/A"}),t.jsx("td",{children:me(Pe.paymentDate)}),t.jsx("td",{children:Pe.paymentMode}),t.jsx("td",{className:"text-right",children:Te(Pe.paymentAmount)}),t.jsx("td",{children:Pe.referenceNumber||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ue(Pe.status),children:Pe.status})})]},Pe.paymentId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${le+1}-${Ae} of ${K.totalPayments} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||A.length===0,onChange:async Pe=>{a(Ce=>({...Ce,page:1,pageSize:Number(Pe.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Pe=Math.max(1,S-1);a(Ce=>({...Ce,page:Pe}))},disabled:S===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Pe=[];let ce=Math.max(1,S-Math.floor(2.5)),X=Math.min(ve,ce+5-1);X-ce<4&&(ce=Math.max(1,X-5+1)),ce>1&&(Pe.push(1),ce>2&&Pe.push("..."));for(let de=ce;de<=X;de++)Pe.push(de);return X<ve&&(X<ve-1&&Pe.push("..."),Pe.push(ve)),Pe.map((de,se)=>{if(de==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${se}`);const We=de;return t.jsx("button",{className:`pagination-page-btn ${S===We?"active":""}`,onClick:async()=>{a(Re=>({...Re,page:We}))},disabled:!y||A.length===0,children:We},We)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Pe=Math.min(ve,S+1);a(Ce=>({...Ce,page:Pe}))},disabled:S===ve||ve===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},zne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=n.page||1,j=n.pageSize||25,_=k.useRef(null),P=k.useRef(null),[Z,ee]=k.useState(null),[K,ae]=k.useState({totalAgreements:0});k.useEffect(()=>{(async()=>{try{const Ie=await sA.getAllContracts();h(Ie)}catch(Ie){console.error("Error loading master data:",Ie)}})()},[]);const D=()=>{var Ae;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(Ae=n.searchText)!=null&&Ae.trim())},q=()=>{if(!D())return"No filters applied. Select a date range or search to view agreements.";const Ae=[];if(n.fromDate&&n.toDate){const Ie=new Date(n.fromDate),Pe=new Date(n.toDate),Ce=Ie.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ce=Pe.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ae.push(`Date: ${Ce}${ce}`)}if(n.contractId){const Ie=o.find(Pe=>Pe.id===n.contractId);Ie&&Ae.push(`Contract: ${Ie.contractNum}`)}return n.status&&n.status!=="All"&&Ae.push(`Status: ${n.status}`),Ae.join("  ")},$=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],L=async()=>{var Ae;x(!0),N(null);try{const Ie={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let Pe=await X0.getAllAgreements(Ie.contractId,Ie.status);if(n.fromDate){const de=new Date(n.fromDate);Pe=Pe.filter(se=>new Date(se.agreementDate)>=de)}if(n.toDate){const de=new Date(n.toDate);de.setHours(23,59,59,999),Pe=Pe.filter(se=>new Date(se.agreementDate)<=de)}if((Ae=n.searchText)!=null&&Ae.trim()){const de=n.searchText.toLowerCase().trim();Pe=Pe.filter(se=>{const We=(se.agreementNum||"").toLowerCase(),Re=(se.contractNum||"").toLowerCase();return We.includes(de)||Re.includes(de)})}Pe.sort((de,se)=>{const We=de[n.sortBy]||"",Re=se[n.sortBy]||"";return n.sortOrder==="ASC"?We>Re?1:-1:We<Re?1:-1});const Ce=(S-1)*j,ce=Ce+j,X=Pe.slice(Ce,ce);f(Pe),g(X),b(!0),ae({totalAgreements:Pe.length})}catch(Ie){console.error("Error loading agreements:",Ie),N(Ie.message||"Failed to load agreement data"),f([]),g([])}finally{x(!1)}},ye=async()=>{a(Ae=>({...Ae,fromDate:i.fromDate||"",toDate:i.toDate||"",contractId:i.contractId||"",status:i.status||"All",page:1})),l(!1),await L()},ne=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",contractId:"",status:"All"}),l(!1),await L()};k.useEffect(()=>{if(o.length>0||!n.contractId){const Ae=setTimeout(()=>{L()},500);return()=>clearTimeout(Ae)}},[n,o]);const Be=Ae=>Ae?new Date(Ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Te=Ae=>{switch(Ae){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},me=y&&K.totalAgreements>0?Math.ceil(K.totalAgreements/j):0,ue=(S-1)*j,ve=Math.min(ue+A.length,K.totalAgreements),le=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:le,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Agreement Report"}),!D()&&t.jsx("div",{className:"page-context-subtitle",children:q()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:u,onChange:Ae=>a(Ie=>({...Ie,searchText:Ae.target.value,page:1})),onKeyDown:Ae=>{Ae.key==="Enter"&&!m&&(Ae.preventDefault(),L())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ae=>({...Ae,searchText:"",page:1})),(y||D())&&await L()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:P,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),P.current){const Ae=P.current.getBoundingClientRect();ee({top:Ae.bottom+8,left:Ae.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ae=>Ae.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:Ae=>s(Ie=>({...Ie,fromDate:Ae.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:Ae=>s(Ie=>({...Ie,toDate:Ae.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract"}),t.jsxs("select",{className:"filter-modal-select",value:i.contractId||"",onChange:Ae=>s(Ie=>({...Ie,contractId:Ae.target.value})),children:[t.jsx("option",{value:"",children:"Select Contract"}),o.map(Ae=>t.jsx("option",{value:Ae.id,children:Ae.contractNum},Ae.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ae=>s(Ie=>({...Ie,status:Ae.target.value})),children:$.map(Ae=>t.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ye(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Agreement No"}),t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Agreement Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ae,Ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ie}`)):y?A.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No agreements match "${u.trim()}". Try adjusting your search or filters.`:D()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(D()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ne,children:"Clear Filters"})})]})})}):A.map((Ae,Ie)=>t.jsxs("tr",{className:Ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ae.agreementNum}),t.jsx("td",{children:Ae.contractNum||"N/A"}),t.jsx("td",{children:Be(Ae.agreementDate)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Te(Ae.status),children:Ae.status})})]},Ae.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${ue+1}-${ve} of ${K.totalAgreements} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||A.length===0,onChange:async Ae=>{a(Ie=>({...Ie,page:1,pageSize:Number(Ae.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.max(1,S-1);a(Ie=>({...Ie,page:Ae}))},disabled:S===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ae=[];let Pe=Math.max(1,S-Math.floor(2.5)),Ce=Math.min(me,Pe+5-1);Ce-Pe<4&&(Pe=Math.max(1,Ce-5+1)),Pe>1&&(Ae.push(1),Pe>2&&Ae.push("..."));for(let ce=Pe;ce<=Ce;ce++)Ae.push(ce);return Ce<me&&(Ce<me-1&&Ae.push("..."),Ae.push(me)),Ae.map((ce,X)=>{if(ce==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${X}`);const de=ce;return t.jsx("button",{className:`pagination-page-btn ${S===de?"active":""}`,onClick:async()=>{a(se=>({...se,page:de}))},disabled:!y||A.length===0,children:de},de)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.min(me,S+1);a(Ie=>({...Ie,page:Ae}))},disabled:S===me||me===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Kne=()=>{const[r,e]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),i=k.useCallback((f,A)=>{e(g=>({...g,[f]:A}))},[]),s=k.useCallback((f,A)=>{a(g=>({...g,[f]:A}))},[]),c=k.useCallback(()=>{e(f=>({...f,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),l=k.useCallback(()=>{const f={page:1,pageSize:r.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};e(f),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[r.pageSize]),u=k.useCallback((f,A)=>{e(g=>({...g,page:f,...A!==void 0&&{pageSize:A}}))},[]),o=k.useCallback(f=>{e(A=>({...A,searchText:f,page:1}))},[]),h=k.useCallback(()=>{var f;return!!(r.createdFromDate||r.createdToDate||r.companyId||r.hcfId||r.barcodeType&&r.barcodeType!=="All"||r.colorBlock&&r.colorBlock!=="All"||(f=r.searchText)!=null&&f.trim())},[r]),d=k.useCallback(()=>{var A;const f={page:r.page,pageSize:r.pageSize,sortBy:r.sortBy,sortOrder:r.sortOrder};return r.createdFromDate&&(f.createdFromDate=r.createdFromDate),r.createdToDate&&(f.createdToDate=r.createdToDate),r.companyId&&(f.companyId=r.companyId),r.hcfId&&(f.hcfId=r.hcfId),r.barcodeType&&r.barcodeType!=="All"&&(f.barcodeType=r.barcodeType),r.colorBlock&&r.colorBlock!=="All"&&(f.colorBlock=r.colorBlock),(A=r.searchText)!=null&&A.trim()&&(f.searchText=r.searchText.trim()),f},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:h,buildApiFilters:d}},s_=()=>{const r=_n(),e=ti(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:h}=Kne(),[d,f]=k.useState(!1),A=n.searchText||"",[g,m]=k.useState([]),[x,y]=k.useState([]),[b,w]=k.useState([]),[N,S]=k.useState([]),[j,_]=k.useState(!1),[P,Z]=k.useState(!1),[ee,K]=k.useState(null),ae=n.page||1,D=n.pageSize||25,q=k.useRef(null),$=k.useRef(null),[L,ye]=k.useState(null),[ne,Be]=k.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});k.useEffect(()=>{(async()=>{try{const[We,Re]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);m(We),y(Re)}catch(We){console.error("Error loading master data:",We),K(We.message||"Failed to load master data. Please refresh the page."),m([]),y([])}})()},[]);const Te=n.companyId?x.filter(se=>se.companyId===n.companyId):x,me=()=>{if(!o())return"No filters applied. Select a date range or search to view barcode usage.";const se=[];if(n.createdFromDate&&n.createdToDate){const We=new Date(n.createdFromDate),Re=new Date(n.createdToDate),Ee=We.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ie=Re.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});se.push(`${Ee} - ${ie}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const We=new Date(n.createdFromDate);se.push(`From ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const We=new Date(n.createdToDate);se.push(`To ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const We=g.find(Re=>Re.id===n.companyId);se.push(We?We.companyName:"Selected Company")}else se.push("All Companies");if(n.hcfId){const We=Te.find(Re=>Re.id===n.hcfId);se.push(We?`HCF: ${We.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&se.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&se.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${se.join("  ")}`},ue=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],ve=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],le=async()=>{var se;_(!0),K(null);try{const We=h();let Re=[];if(We.companyId)Re=await iA.getAllBarcodeLabels(We.companyId);else if(g.length>0)for(const jt of g)try{const Lt=await iA.getAllBarcodeLabels(jt.id);Re.push(...Lt)}catch(Lt){console.warn(`Failed to load barcodes for company ${jt.companyName}:`,Lt)}else try{Re=await iA.getAllBarcodeLabels()}catch(jt){console.warn("Failed to load barcodes without company filter:",jt)}let Ee=Re;if(n.createdFromDate){const jt=new Date(n.createdFromDate);Ee=Ee.filter(Lt=>new Date(Lt.createdOn)>=jt)}if(n.createdToDate){const jt=new Date(n.createdToDate);jt.setHours(23,59,59,999),Ee=Ee.filter(Lt=>new Date(Lt.createdOn)<=jt)}if(n.companyId&&(Ee=Ee.filter(jt=>jt.companyId===n.companyId)),n.hcfId&&(Ee=Ee.filter(jt=>jt.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(Ee=Ee.filter(jt=>jt.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(Ee=Ee.filter(jt=>jt.colorBlock===n.colorBlock)),(se=n.searchText)!=null&&se.trim()){const jt=n.searchText.toLowerCase().trim();Ee=Ee.filter(Lt=>{const Ct=(Lt.barcodeValue||"").toLowerCase(),Xt=(Lt.hcfCode||"").toLowerCase(),_r=g.find(He=>He.id===Lt.companyId),Or=((_r==null?void 0:_r.companyName)||"").toLowerCase();return Ct.includes(jt)||Xt.includes(jt)||Or.includes(jt)||Lt.sequenceNumber.toString().includes(jt)})}Ee.sort((jt,Lt)=>{const Ct=jt[n.sortBy]||"",Xt=Lt[n.sortBy]||"";return n.sortOrder==="ASC"?Ct>Xt?1:-1:Ct<Xt?1:-1});const ie=(ae-1)*D,Le=ie+D,Ze=Ee.slice(ie,Le);w(Ee),S(Ze),Z(!0),Be({totalBarcodes:Ee.length,barcodeCount:Ee.filter(jt=>jt.barcodeType==="Barcode").length,qrCodeCount:Ee.filter(jt=>jt.barcodeType==="QR Code").length})}catch(We){console.error("Error loading barcodes:",We),K(We.message||"Failed to load barcode usage data"),w([]),S([])}finally{_(!1)}},Ae=async()=>{s(),f(!1),await le()},Ie=async()=>{c(),f(!1),await le()};k.useEffect(()=>{var se;if(g.length>0||o()||(se=n.searchText)!=null&&se.trim()){const We=setTimeout(()=>{le()},500);return()=>clearTimeout(We)}},[n,g]);const Pe=se=>se?new Date(se).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ce=P&&ne.totalBarcodes>0?Math.ceil(ne.totalBarcodes/D):0,ce=(ae-1)*D,X=Math.min(ce+N.length,ne.totalBarcodes),de=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:de,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:me()}),ee&&g.length===0&&t.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[t.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${j?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:A,onChange:se=>u(se.target.value),onKeyDown:se=>{se.key==="Enter"&&!j&&(se.preventDefault(),le())},disabled:j}),A&&!j&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{u(""),le()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:$,className:`btn btn-filters-toggle ${d?"active":""} ${j?"loading":""}`,onClick:()=>{if(!j){if(d||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("barcodeType",n.barcodeType||"All"),i("colorBlock",n.colorBlock||"All"),i("createdFromDate",n.createdFromDate||""),i("createdToDate",n.createdToDate||"")),$.current){const se=$.current.getBoundingClientRect();ye({top:se.bottom+8,left:se.left})}f(!d)}},disabled:j,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),d&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{f(!1),ye(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:se=>se.stopPropagation(),style:L?{position:"fixed",top:`${L.top}px`,left:`${L.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("createdFromDate",""),i("createdToDate",""),i("barcodeType","All"),i("colorBlock","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>f(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:se=>i("createdFromDate",se.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:se=>i("createdToDate",se.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:se=>{i("companyId",se.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(se=>t.jsxs("option",{value:se.id,children:[se.companyCode," - ",se.companyName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:se=>i("hcfId",se.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(se=>se.companyId===a.companyId):x).map(se=>t.jsxs("option",{value:se.id,children:[se.hcfCode," - ",se.hcfName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),t.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:se=>i("barcodeType",se.target.value),children:ue.map(se=>t.jsx("option",{value:se.value,children:se.label},se.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Color Block"}),t.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:se=>i("colorBlock",se.target.value),children:ve.map(se=>t.jsx("option",{value:se.value,children:se.label},se.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ae,disabled:j,children:j?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Barcode Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Sequence Number"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:j?Array.from({length:5}).map((se,We)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${We}`)):P?N.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:A.trim()?`No barcodes match "${A.trim()}". Try adjusting your search or filters.`:o()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(o()||A.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):N.map((se,We)=>{const Re=g.find(Ee=>Ee.id===se.companyId);return t.jsxs("tr",{className:We%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:se.barcodeValue}),t.jsx("td",{children:se.hcfCode||"N/A"}),t.jsx("td",{children:(Re==null?void 0:Re.companyName)||"N/A"}),t.jsx("td",{children:se.barcodeType}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${se.colorBlock.toLowerCase()}`,children:se.colorBlock})}),t.jsx("td",{children:se.sequenceNumber}),t.jsx("td",{children:Pe(se.createdOn)})]},se.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:P&&N.length>0?`Showing ${X} of ${ne.totalBarcodes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:D,disabled:!P||N.length===0,onChange:async se=>{l(1,Number(se.target.value)),await le()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.max(1,ae-1);l(se),await le()},disabled:ae===1||!P||N.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const se=[];let Re=Math.max(1,ae-Math.floor(2.5)),Ee=Math.min(Ce,Re+5-1);Ee-Re<4&&(Re=Math.max(1,Ee-5+1)),Re>1&&(se.push(1),Re>2&&se.push("..."));for(let ie=Re;ie<=Ee;ie++)se.push(ie);return Ee<Ce&&(Ee<Ce-1&&se.push("..."),se.push(Ce)),se.map((ie,Le)=>{if(ie==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const Ze=ie;return t.jsx("button",{className:`pagination-page-btn ${ae===Ze?"active":""}`,onClick:async()=>{l(Ze),await le()},disabled:!P||N.length===0,children:Ze},Ze)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.min(Ce,ae+1);l(se),await le()},disabled:ae===Ce||Ce===0||!P||N.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Gne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});k.useEffect(()=>{(async()=>{try{const[Ee,ie]=await Promise.all([Qa.getAllCompanies(),Vp.getAllRoles()]);h(Ee),f(ie)}catch(Ee){console.error("Error loading master data:",Ee)}})()},[]);const $=n.companyId?d.filter(Re=>Re.companyId===n.companyId):d,L=()=>{var Re;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.roleId||n.status&&n.status!=="All"||n.employmentType&&n.employmentType!=="All"||(Re=n.searchText)!=null&&Re.trim())},ye=()=>{if(!L())return"No filters applied. Select a date range or search to view users.";const Re=[];if(n.createdFromDate&&n.createdToDate){const Ee=new Date(n.createdFromDate),ie=new Date(n.createdToDate),Le=Ee.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ze=ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Re.push(`${Le} - ${Ze}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Ee=new Date(n.createdFromDate);Re.push(`From ${Ee.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Ee=new Date(n.createdToDate);Re.push(`To ${Ee.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Ee=o.find(ie=>ie.id===n.companyId);Re.push(Ee?Ee.companyName:"Selected Company")}else Re.push("All Companies");if(n.roleId){const Ee=$.find(ie=>ie.roleId===n.roleId);Re.push(Ee?Ee.roleName:"Selected Role")}else Re.push("All Roles");return n.status&&n.status!=="All"?Re.push(n.status):Re.push("All Status"),`Showing users for: ${Re.join("  ")}`},ne=(Re,Ee)=>{s(ie=>({...ie,[Re]:Ee}))},Be=()=>{a(Re=>({...Re,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",roleId:i.roleId||"",status:i.status||"All",employmentType:i.employmentType||"All",page:1}))},Te=()=>{const Re={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Re),s({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},me=(Re,Ee)=>{a(ie=>({...ie,page:Re,...Ee!==void 0&&{pageSize:Ee}}))},ue=Re=>{a(Ee=>({...Ee,searchText:Re,page:1}))},ve=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],le=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],Ae=async()=>{var Re;b(!0),j(null);try{let Ee=[];if(n.companyId)Ee=await Vl.getUsersByCompany(n.companyId);else{const Lt=o.length>0?o:await Qa.getAllCompanies();for(const Ct of Lt)try{const Xt=await Vl.getUsersByCompany(Ct.id);Ee.push(...Xt)}catch(Xt){console.warn(`Failed to load users for company ${Ct.companyName}:`,Xt)}}let ie=Ee;if(n.createdFromDate){const Lt=new Date(n.createdFromDate);ie=ie.filter(Ct=>new Date(Ct.createdOn)>=Lt)}if(n.createdToDate){const Lt=new Date(n.createdToDate);Lt.setHours(23,59,59,999),ie=ie.filter(Ct=>new Date(Ct.createdOn)<=Lt)}if(n.roleId&&(ie=ie.filter(Lt=>Lt.userRoleId===n.roleId)),n.status&&n.status!=="All"&&(ie=ie.filter(Lt=>Lt.status===n.status)),n.employmentType&&n.employmentType!=="All"&&(ie=ie.filter(Lt=>Lt.employmentType===n.employmentType)),(Re=n.searchText)!=null&&Re.trim()){const Lt=n.searchText.toLowerCase().trim();ie=ie.filter(Ct=>{const Xt=(Ct.userName||"").toLowerCase(),_r=(Ct.employeeCode||"").toLowerCase(),Or=(Ct.emailAddress||"").toLowerCase(),He=(Ct.mobileNumber||"").toLowerCase();return Xt.includes(Lt)||_r.includes(Lt)||Or.includes(Lt)||He.includes(Lt)})}ie.sort((Lt,Ct)=>{const Xt=Lt[n.sortBy]||"",_r=Ct[n.sortBy]||"";return n.sortOrder==="ASC"?Xt>_r?1:-1:Xt<_r?1:-1});const Le=(_-1)*P,Ze=Le+P,jt=ie.slice(Le,Ze);g(ie),x(jt),N(!0),q({totalUsers:ie.length,activeUsers:ie.filter(Lt=>Lt.status==="Active").length,inactiveUsers:ie.filter(Lt=>Lt.status==="Inactive").length})}catch(Ee){console.error("Error loading users:",Ee),j(Ee.message||"Failed to load users"),g([]),x([])}finally{b(!1)}};k.useEffect(()=>{if(o.length>0){const Re=setTimeout(()=>{Ae()},500);return()=>clearTimeout(Re)}},[n,o]);const Ie=async()=>{Be(),l(!1),await Ae()},Pe=async()=>{Te(),l(!1),await Ae()},Ce=Re=>Re?new Date(Re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=Re=>{switch(Re){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},X=w&&D.totalUsers>0?Math.ceil(D.totalUsers/P):0,de=(_-1)*P,se=Math.min(de+m.length,D.totalUsers),We=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:We,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"User Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:u,onChange:Re=>ue(Re.target.value),onKeyDown:Re=>{Re.key==="Enter"&&!y&&(Re.preventDefault(),Ae())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{ue(""),Ae()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||(ne("companyId",n.companyId||""),ne("roleId",n.roleId||""),ne("status",n.status||"All"),ne("employmentType",n.employmentType||"All"),ne("createdFromDate",n.createdFromDate||""),ne("createdToDate",n.createdToDate||"")),ee.current){const Re=ee.current.getBoundingClientRect();ae({top:Re.bottom+8,left:Re.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Re=>Re.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{ne("companyId",""),ne("roleId",""),ne("createdFromDate",""),ne("createdToDate",""),ne("status","All"),ne("employmentType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Re=>ne("createdFromDate",Re.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Re=>ne("createdToDate",Re.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Re=>{ne("companyId",Re.target.value),ne("roleId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Re=>t.jsxs("option",{value:Re.id,children:[Re.companyCode," - ",Re.companyName]},Re.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Role"}),t.jsxs("select",{className:"filter-modal-select",value:i.roleId||"",onChange:Re=>ne("roleId",Re.target.value),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select Role"}),(i.companyId?d.filter(Re=>Re.companyId===i.companyId):d).map(Re=>t.jsx("option",{value:Re.roleId,children:Re.roleName},Re.roleId))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Re=>ne("status",Re.target.value),children:ve.map(Re=>t.jsx("option",{value:Re.value,children:Re.label},Re.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),t.jsx("select",{className:"filter-modal-select",value:i.employmentType||"All",onChange:Re=>ne("employmentType",Re.target.value),children:le.map(Re=>t.jsx("option",{value:Re.value,children:Re.label},Re.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ie,disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Employee Code"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Mobile"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Role"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Re,Ee)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Ee}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No users match "${u.trim()}". Try adjusting your search or filters.`:L()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Pe,children:"Clear Filters"})})]})})}):m.map((Re,Ee)=>{const ie=d.find(Ze=>Ze.roleId===Re.userRoleId),Le=o.find(Ze=>Ze.id===Re.companyId);return t.jsxs("tr",{className:Ee%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Re.userName}),t.jsx("td",{children:Re.employeeCode||"N/A"}),t.jsx("td",{children:Re.emailAddress||"N/A"}),t.jsx("td",{children:Re.mobileNumber}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:(ie==null?void 0:ie.roleName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(Re.status),children:Re.status})}),t.jsx("td",{children:Re.employmentType||"N/A"}),t.jsx("td",{children:Ce(Re.createdOn)})]},Re.userId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${se} of ${D.totalUsers} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async Re=>{me(1,Number(Re.target.value)),await Ae()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Re=Math.max(1,_-1);me(Re),await Ae()},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Re=[];let ie=Math.max(1,_-Math.floor(2.5)),Le=Math.min(X,ie+5-1);Le-ie<4&&(ie=Math.max(1,Le-5+1)),ie>1&&(Re.push(1),ie>2&&Re.push("..."));for(let Ze=ie;Ze<=Le;Ze++)Re.push(Ze);return Le<X&&(Le<X-1&&Re.push("..."),Re.push(X)),Re.map((Ze,jt)=>{if(Ze==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${jt}`);const Lt=Ze;return t.jsx("button",{className:`pagination-page-btn ${_===Lt?"active":""}`,onClick:async()=>{me(Lt),await Ae()},disabled:!w||m.length===0,children:Lt},Lt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Re=Math.min(X,_+1);me(Re),await Ae()},disabled:_===X||X===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},qne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=n.page||1,j=n.pageSize||25,_=k.useRef(null),P=k.useRef(null),[Z,ee]=k.useState(null),[K,ae]=k.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});k.useEffect(()=>{(async()=>{try{const ie=await Qa.getAllCompanies();h(ie)}catch(ie){console.error("Error loading master data:",ie)}})()},[]);const D=()=>{var Ee;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(Ee=n.searchText)!=null&&Ee.trim())},q=()=>{if(!D())return"No filters applied. Select a date range or search to view fleet vehicles.";const Ee=[];if(n.createdFromDate&&n.createdToDate){const ie=new Date(n.createdFromDate),Le=new Date(n.createdToDate),Ze=ie.toLocaleDateString("en-US",{month:"short",day:"numeric"}),jt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ee.push(`${Ze} - ${jt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ie=new Date(n.createdFromDate);Ee.push(`From ${ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ie=new Date(n.createdToDate);Ee.push(`To ${ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ie=o.find(Le=>Le.id===n.companyId);Ee.push(ie?ie.companyName:"Selected Company")}else Ee.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&Ee.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?Ee.push(n.status):Ee.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&Ee.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${Ee.join("  ")}`},$=(Ee,ie)=>{s(Le=>({...Le,[Ee]:ie}))},L=()=>{a(Ee=>({...Ee,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},ye=()=>{const Ee={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ee),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},ne=(Ee,ie)=>{a(Le=>({...Le,page:Ee,...ie!==void 0&&{pageSize:ie}}))},Be=Ee=>{a(ie=>({...ie,searchText:Ee,page:1}))},Te=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],me=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],ue=()=>{const Ee=new Set;return d.forEach(ie=>{ie.vehMake&&Ee.add(ie.vehMake)}),Array.from(Ee).sort()},ve=Ee=>{const ie=new Date;ie.setHours(0,0,0,0);const Le=[Ee.nextFCDate?new Date(Ee.nextFCDate):null,Ee.pucDateValidUpto?new Date(Ee.pucDateValidUpto):null,Ee.insuranceValidUpto?new Date(Ee.insuranceValidUpto):null].filter(Boolean);if(Le.length===0)return"Compliant";if(Le.filter(Ct=>Ct<ie).length>0)return"Expired";const jt=new Date(ie);return jt.setDate(jt.getDate()+30),Le.filter(Ct=>Ct<=jt&&Ct>=ie).length>0?"Expiring Soon":"Compliant"},le=async()=>{var Ee;x(!0),N(null);try{let ie=[];if(n.companyId)ie=await Eh.getAllFleets(n.companyId);else{const Ct=o.length>0?o:await Qa.getAllCompanies();for(const Xt of Ct)try{const _r=await Eh.getAllFleets(Xt.id);ie.push(..._r)}catch(_r){console.warn(`Failed to load fleets for company ${Xt.companyName}:`,_r)}}let Le=ie;if(n.createdFromDate){const Ct=new Date(n.createdFromDate);Le=Le.filter(Xt=>new Date(Xt.createdOn)>=Ct)}if(n.createdToDate){const Ct=new Date(n.createdToDate);Ct.setHours(23,59,59,999),Le=Le.filter(Xt=>new Date(Xt.createdOn)<=Ct)}if(n.companyId&&(Le=Le.filter(Ct=>Ct.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Le=Le.filter(Ct=>Ct.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Le=Le.filter(Ct=>Ct.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Le=Le.filter(Ct=>ve(Ct)===n.complianceStatus)),(Ee=n.searchText)!=null&&Ee.trim()){const Ct=n.searchText.toLowerCase().trim();Le=Le.filter(Xt=>{const _r=(Xt.vehicleNum||"").toLowerCase(),Or=(Xt.vehMake||"").toLowerCase(),He=(Xt.vehModel||"").toLowerCase(),Zt=(Xt.ownerName||"").toLowerCase(),Bt=(Xt.ownerContact||"").toLowerCase(),$r=(Xt.capacity||"").toLowerCase();return _r.includes(Ct)||Or.includes(Ct)||He.includes(Ct)||Zt.includes(Ct)||Bt.includes(Ct)||$r.includes(Ct)})}Le.sort((Ct,Xt)=>{const _r=Ct[n.sortBy]||"",Or=Xt[n.sortBy]||"";return n.sortOrder==="ASC"?_r>Or?1:-1:_r<Or?1:-1});const Ze=(S-1)*j,jt=Ze+j,Lt=Le.slice(Ze,jt);f(Le),g(Lt),b(!0),ae({totalFleets:Le.length,activeFleets:Le.filter(Ct=>Ct.status==="Active").length,inactiveFleets:Le.filter(Ct=>Ct.status==="Inactive").length})}catch(ie){console.error("Error loading fleets:",ie),N(ie.message||"Failed to load fleet vehicles"),f([]),g([])}finally{x(!1)}};k.useEffect(()=>{if(o.length>0){const Ee=setTimeout(()=>{le()},500);return()=>clearTimeout(Ee)}},[n,o]);const Ae=async()=>{L(),l(!1),await le()},Ie=async()=>{ye(),l(!1),await le()},Pe=Ee=>Ee?new Date(Ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ce=Ee=>{switch(Ee){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},ce=Ee=>{switch(Ee){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},X=y&&K.totalFleets>0?Math.ceil(K.totalFleets/j):0,de=(S-1)*j,se=Math.min(de+A.length,K.totalFleets),We=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Re=ue();return t.jsx(wc,{navItems:We,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!D()&&t.jsx("div",{className:"page-context-subtitle",children:q()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:Ee=>Be(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&!m&&(Ee.preventDefault(),le())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Be(""),le()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:P,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),P.current){const Ee=P.current.getBoundingClientRect();ee({top:Ee.bottom+8,left:Ee.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ee=>Ee.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ee=>$("createdFromDate",Ee.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ee=>$("createdToDate",Ee.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ee=>$("companyId",Ee.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.companyCode," - ",Ee.companyName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:Ee=>$("vehMake",Ee.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Re.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ee=>$("status",Ee.target.value),children:Te.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:Ee=>$("complianceStatus",Ee.target.value),children:me.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ae,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ee,ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ie}`)):y?A.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:D()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(D()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):A.map((Ee,ie)=>{const Le=o.find(jt=>jt.id===Ee.companyId),Ze=ve(Ee);return t.jsxs("tr",{className:ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ee.vehicleNum}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:Ee.vehMake||"N/A"}),t.jsx("td",{children:Ee.vehModel||"N/A"}),t.jsx("td",{children:Ee.capacity||"N/A"}),t.jsx("td",{children:Ee.ownerName||"N/A"}),t.jsx("td",{children:Ee.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ce(Ee.status),children:Ee.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(Ze),children:Ze})}),t.jsx("td",{children:Pe(Ee.createdOn)})]},Ee.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${se} of ${K.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||A.length===0,onChange:async Ee=>{ne(1,Number(Ee.target.value)),await le()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.max(1,S-1);ne(Ee),await le()},disabled:S===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ee=[];let Le=Math.max(1,S-Math.floor(2.5)),Ze=Math.min(X,Le+5-1);Ze-Le<4&&(Le=Math.max(1,Ze-5+1)),Le>1&&(Ee.push(1),Le>2&&Ee.push("..."));for(let jt=Le;jt<=Ze;jt++)Ee.push(jt);return Ze<X&&(Ze<X-1&&Ee.push("..."),Ee.push(X)),Ee.map((jt,Lt)=>{if(jt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Lt}`);const Ct=jt;return t.jsx("button",{className:`pagination-page-btn ${S===Ct?"active":""}`,onClick:async()=>{ne(Ct),await le()},disabled:!y||A.length===0,children:Ct},Ct)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.min(X,S+1);ne(Ee),await le()},disabled:S===X||X===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},o_=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});k.useEffect(()=>{(async()=>{try{const[ce,X]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(ce),f(X)}catch(ce){console.error("Error loading master data:",ce)}})()},[]);const $=n.companyId?d.filter(Ce=>Ce.companyId===n.companyId):d,L=()=>{var Ce;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(Ce=n.searchText)!=null&&Ce.trim())},ye=()=>{if(!L())return"No filters applied. Select a date range or search to view revenue analysis.";const Ce=[];if(n.fromDate&&n.toDate){const ce=new Date(n.fromDate),X=new Date(n.toDate),de=ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),se=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ce.push(`Date: ${de}${se}`)}if(n.companyId){const ce=o.find(X=>X.id===n.companyId);ce&&Ce.push(`Company: ${ce.companyName}`)}if(n.hcfId){const ce=$.find(X=>X.id===n.hcfId);ce&&Ce.push(`HCF: ${ce.hcfCode}`)}return n.groupBy&&Ce.push(`Group By: ${n.groupBy}`),Ce.join("  ")},ne=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],Be=async()=>{var Ce;b(!0),j(null);try{const ce={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let de=((await q0(ce)).data||[]).map(Ee=>({invoiceId:Ee.invoiceId,companyId:Ee.companyId,hcfId:Ee.hcfId,invoiceNumber:Ee.invoiceNumber,invoiceDate:Ee.invoiceDate,dueDate:Ee.dueDate,billingType:Ee.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Ee.invoiceValue,totalPaidAmount:Ee.totalPaidAmount,balanceAmount:Ee.balanceAmount,status:Ee.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Ee.companyName,companyCode:Ee.companyCode,hcfName:Ee.hcfName,hcfCode:Ee.hcfCode}));if((Ce=n.searchText)!=null&&Ce.trim()){const Ee=n.searchText.toLowerCase().trim();de=de.filter(ie=>{const Le=(ie.invoiceNumber||"").toLowerCase(),Ze=(ie.companyName||"").toLowerCase(),jt=(ie.hcfCode||"").toLowerCase();return Le.includes(Ee)||Ze.includes(Ee)||jt.includes(Ee)||ie.invoiceValue.toString().includes(Ee)})}de.sort((Ee,ie)=>{const Le=Ee[n.sortBy]||"",Ze=ie[n.sortBy]||"";return n.sortOrder==="ASC"?Le>Ze?1:-1:Le<Ze?1:-1});const se=(_-1)*P,We=se+P,Re=de.slice(se,We);g(de),x(Re),N(!0),q({totalRevenue:de.reduce((Ee,ie)=>Ee+(ie.invoiceValue||0),0),totalInvoices:de.length,paidAmount:de.reduce((Ee,ie)=>Ee+(ie.totalPaidAmount||0),0)})}catch(ce){console.error("Error loading revenue data:",ce),j(ce.message||"Failed to load revenue analysis data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(Ce=>({...Ce,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",groupBy:i.groupBy||"Company",page:1})),l(!1),await Be()},me=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),l(!1),await Be()};k.useEffect(()=>{if(o.length>0||!n.companyId){const Ce=setTimeout(()=>{Be()},500);return()=>clearTimeout(Ce)}},[n,o]);const ue=Ce=>Ce==null?"0.00":`${Ce.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ve=Ce=>Ce?new Date(Ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=w&&D.totalInvoices>0?Math.ceil(D.totalInvoices/P):0,Ae=(_-1)*P,Ie=Math.min(Ae+m.length,D.totalInvoices),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:Ce=>a(ce=>({...ce,searchText:Ce.target.value,page:1})),onKeyDown:Ce=>{Ce.key==="Enter"&&!y&&(Ce.preventDefault(),Be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ce=>({...Ce,searchText:"",page:1})),(w||L())&&await Be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),ee.current){const Ce=ee.current.getBoundingClientRect();ae({top:Ce.bottom+8,left:Ce.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ce=>Ce.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Date Range"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:Ce=>s(ce=>({...ce,fromDate:Ce.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:Ce=>s(ce=>({...ce,toDate:Ce.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ce=>{s(ce=>({...ce,companyId:Ce.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.companyCode," - ",Ce.companyName]},Ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:Ce=>s(ce=>({...ce,hcfId:Ce.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(Ce=>Ce.companyId===i.companyId):d).map(Ce=>t.jsxs("option",{value:Ce.id,children:[Ce.hcfCode," - ",Ce.hcfName]},Ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Group By"}),t.jsx("select",{className:"filter-modal-select",value:i.groupBy||"Company",onChange:Ce=>s(ce=>({...ce,groupBy:Ce.target.value})),children:ne.map(Ce=>t.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Revenue"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Ce,ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ce}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No data match "${u.trim()}". Try adjusting your search or filters.`:L()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:me,children:"Clear Filters"})})]})})}):m.map((Ce,ce)=>t.jsxs("tr",{className:ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ce.invoiceNumber}),t.jsx("td",{children:Ce.companyName||"N/A"}),t.jsx("td",{children:Ce.hcfCode||"N/A"}),t.jsx("td",{children:ve(Ce.invoiceDate)}),t.jsx("td",{className:"text-right",children:ue(Ce.invoiceValue)}),t.jsx("td",{className:"text-right",children:ue(Ce.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:ue(Ce.invoiceValue)})]},Ce.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ae+1}-${Ie} of ${D.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async Ce=>{a(ce=>({...ce,page:1,pageSize:Number(Ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ce=Math.max(1,_-1);a(ce=>({...ce,page:Ce}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ce=[];let X=Math.max(1,_-Math.floor(2.5)),de=Math.min(le,X+5-1);de-X<4&&(X=Math.max(1,de-5+1)),X>1&&(Ce.push(1),X>2&&Ce.push("..."));for(let se=X;se<=de;se++)Ce.push(se);return de<le&&(de<le-1&&Ce.push("..."),Ce.push(le)),Ce.map((se,We)=>{if(se==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const Re=se;return t.jsx("button",{className:`pagination-page-btn ${_===Re?"active":""}`,onClick:async()=>{a(Ee=>({...Ee,page:Re}))},disabled:!w||m.length===0,children:Re},Re)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ce=Math.min(le,_+1);a(ce=>({...ce,page:Ce}))},disabled:_===le||le===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},l_=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=k.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalOutstanding:0,totalInvoices:0});k.useEffect(()=>{(async()=>{try{const[de,se]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(de),f(se)}catch(de){console.error("Error loading master data:",de)}})()},[]);const $=n.companyId?d.filter(X=>X.companyId===n.companyId):d,L=()=>{var X;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(X=n.searchText)!=null&&X.trim())},ye=()=>{if(!L())return"No filters applied. Select a date range or search to view outstanding payments.";const X=[];if(n.fromDate&&n.toDate){const de=new Date(n.fromDate),se=new Date(n.toDate),We=de.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Re=se.toLocaleDateString("en-US",{month:"short",day:"numeric"});X.push(`Date: ${We}${Re}`)}if(n.companyId){const de=o.find(se=>se.id===n.companyId);de&&X.push(`Company: ${de.companyName}`)}if(n.hcfId){const de=$.find(se=>se.id===n.hcfId);de&&X.push(`HCF: ${de.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&X.push(`Aging: ${n.agingPeriod}`),X.join("  ")},ne=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],Be=X=>{const de=new Date(X),We=Math.abs(new Date().getTime()-de.getTime());return Math.ceil(We/(1e3*60*60*24))},Te=async()=>{var X;b(!0),j(null);try{const de={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let We=((await q0(de)).data||[]).map(Le=>({invoiceId:Le.invoiceId,companyId:Le.companyId,hcfId:Le.hcfId,invoiceNumber:Le.invoiceNumber,invoiceDate:Le.invoiceDate,dueDate:Le.dueDate,billingType:Le.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Le.invoiceValue,totalPaidAmount:Le.totalPaidAmount,balanceAmount:Le.balanceAmount,status:Le.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Le.companyName,companyCode:Le.companyCode,hcfName:Le.hcfName,hcfCode:Le.hcfCode}));if(We=We.filter(Le=>(Le.balanceAmount||0)>0),(X=n.searchText)!=null&&X.trim()){const Le=n.searchText.toLowerCase().trim();We=We.filter(Ze=>{const jt=(Ze.invoiceNumber||"").toLowerCase(),Lt=(Ze.companyName||"").toLowerCase(),Ct=(Ze.hcfCode||"").toLowerCase();return jt.includes(Le)||Lt.includes(Le)||Ct.includes(Le)||Ze.balanceAmount.toString().includes(Le)})}n.agingPeriod&&n.agingPeriod!=="All"&&(We=We.filter(Le=>{const Ze=Be(Le.invoiceDate);switch(n.agingPeriod){case"0-30":return Ze>=0&&Ze<=30;case"31-60":return Ze>=31&&Ze<=60;case"61-90":return Ze>=61&&Ze<=90;case"90+":return Ze>90;default:return!0}})),We.sort((Le,Ze)=>{const jt=Le[n.sortBy]||"",Lt=Ze[n.sortBy]||"";return n.sortOrder==="ASC"?jt>Lt?1:-1:jt<Lt?1:-1});const Re=(_-1)*P,Ee=Re+P,ie=We.slice(Re,Ee);g(We),x(ie),N(!0),q({totalOutstanding:We.reduce((Le,Ze)=>Le+(Ze.balanceAmount||0),0),totalInvoices:We.length})}catch(de){console.error("Error loading outstanding data:",de),j(de.message||"Failed to load outstanding payment data"),g([]),x([])}finally{b(!1)}},me=async()=>{a(X=>({...X,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",agingPeriod:i.agingPeriod||"All",page:1})),l(!1),await Te()},ue=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const X=setTimeout(()=>{Te()},500);return()=>clearTimeout(X)}},[n,o]);const ve=X=>X==null?"0.00":`${X.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,le=X=>X?new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ae=X=>{switch(X){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ie=w&&D.totalInvoices>0?Math.ceil(D.totalInvoices/P):0,Pe=(_-1)*P,Ce=Math.min(Pe+m.length,D.totalInvoices),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:X=>a(de=>({...de,searchText:X.target.value,page:1})),onKeyDown:X=>{X.key==="Enter"&&!y&&(X.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(X=>({...X,searchText:"",page:1})),(w||L())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),ee.current){const X=ee.current.getBoundingClientRect();ae({top:X.bottom+8,left:X.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:X=>X.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:X=>s(de=>({...de,fromDate:X.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:X=>s(de=>({...de,toDate:X.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:X=>{s(de=>({...de,companyId:X.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(X=>t.jsxs("option",{value:X.id,children:[X.companyCode," - ",X.companyName]},X.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:X=>s(de=>({...de,hcfId:X.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(X=>X.companyId===i.companyId):d).map(X=>t.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),t.jsx("select",{className:"filter-modal-select",value:i.agingPeriod||"All",onChange:X=>s(de=>({...de,agingPeriod:X.target.value})),children:ne.map(X=>t.jsx("option",{value:X.value,children:X.label},X.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await me(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Outstanding"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((X,de)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${de}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No outstanding payments match "${u.trim()}". Try adjusting your search or filters.`:L()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ue,children:"Clear Filters"})})]})})}):m.map((X,de)=>t.jsxs("tr",{className:de%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:X.invoiceNumber}),t.jsx("td",{children:X.companyName||"N/A"}),t.jsx("td",{children:X.hcfCode||"N/A"}),t.jsx("td",{children:le(X.invoiceDate)}),t.jsx("td",{children:le(X.dueDate)}),t.jsx("td",{className:"text-right",children:ve(X.invoiceValue)}),t.jsx("td",{className:"text-right",children:ve(X.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:ve(X.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ae(X.status),children:X.status})})]},X.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Pe+1}-${Ce} of ${D.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async X=>{a(de=>({...de,page:1,pageSize:Number(X.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.max(1,_-1);a(de=>({...de,page:X}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const X=[];let se=Math.max(1,_-Math.floor(2.5)),We=Math.min(Ie,se+5-1);We-se<4&&(se=Math.max(1,We-5+1)),se>1&&(X.push(1),se>2&&X.push("..."));for(let Re=se;Re<=We;Re++)X.push(Re);return We<Ie&&(We<Ie-1&&X.push("..."),X.push(Ie)),X.map((Re,Ee)=>{if(Re==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ee}`);const ie=Re;return t.jsx("button",{className:`pagination-page-btn ${_===ie?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:ie}))},disabled:!w||m.length===0,children:ie},ie)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.min(Ie,_+1);a(de=>({...de,page:X}))},disabled:_===Ie||Ie===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Xne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[i,s]=k.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalContracts:0,expiringSoon:0});k.useEffect(()=>{(async()=>{try{const[de,se]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(de),f(se)}catch(de){console.error("Error loading master data:",de)}})()},[]);const $=n.companyId?d.filter(X=>X.companyId===n.companyId):d,L=()=>{var X;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(X=n.searchText)!=null&&X.trim())},ye=()=>{if(!L())return"No filters applied. View contracts that are due for renewal.";const X=[];if(n.companyId){const de=o.find(se=>se.id===n.companyId);de&&X.push(`Company: ${de.companyName}`)}if(n.hcfId){const de=$.find(se=>se.id===n.hcfId);de&&X.push(`HCF: ${de.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&X.push(`Expiring: ${n.daysToExpiry}`),X.join("  ")},ne=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],Be=X=>{const de=new Date(X),se=new Date,We=de.getTime()-se.getTime();return Math.ceil(We/(1e3*60*60*24))},Te=async()=>{var X;b(!0),j(null);try{const de={companyId:n.companyId||void 0,status:"Active"};let se=await sA.getAllContracts(de.companyId,de.status);if(n.hcfId&&(se=se.filter(Le=>Le.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(se=se.filter(Le=>{const Ze=Be(Le.endDate);switch(n.daysToExpiry){case"0-30":return Ze>=0&&Ze<=30;case"31-60":return Ze>=31&&Ze<=60;case"61-90":return Ze>=61&&Ze<=90;case"90+":return Ze>90;default:return!0}})),(X=n.searchText)!=null&&X.trim()){const Le=n.searchText.toLowerCase().trim();se=se.filter(Ze=>{const jt=(Ze.contractNum||"").toLowerCase(),Lt=o.find(Or=>Or.id===Ze.companyId),Ct=((Lt==null?void 0:Lt.companyName)||"").toLowerCase(),Xt=d.find(Or=>Or.id===Ze.hcfId),_r=((Xt==null?void 0:Xt.hcfCode)||"").toLowerCase();return jt.includes(Le)||Ct.includes(Le)||_r.includes(Le)})}se.sort((Le,Ze)=>{const jt=Le[n.sortBy]||"",Lt=Ze[n.sortBy]||"";return n.sortOrder==="ASC"?jt>Lt?1:-1:jt<Lt?1:-1});const We=(_-1)*P,Re=We+P,Ee=se.slice(We,Re);g(se),x(Ee),N(!0);const ie=se.filter(Le=>{const Ze=Be(Le.endDate);return Ze>=0&&Ze<=90}).length;q({totalContracts:se.length,expiringSoon:ie})}catch(de){console.error("Error loading contracts:",de),j(de.message||"Failed to load contract renewal data"),g([]),x([])}finally{b(!1)}},me=async()=>{a(X=>({...X,companyId:i.companyId||"",hcfId:i.hcfId||"",daysToExpiry:i.daysToExpiry||"All",page:1})),l(!1),await Te()},ue=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),s({companyId:"",hcfId:"",daysToExpiry:"All"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const X=setTimeout(()=>{Te()},500);return()=>clearTimeout(X)}},[n,o]);const ve=X=>X?new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=X=>{switch(X){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ae=X=>X<0?"status-badge status-badge--cancelled":X<=30?"status-badge status-badge--due":X<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",Ie=w&&D.totalContracts>0?Math.ceil(D.totalContracts/P):0,Pe=(_-1)*P,Ce=Math.min(Pe+m.length,D.totalContracts),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:X=>a(de=>({...de,searchText:X.target.value,page:1})),onKeyDown:X=>{X.key==="Enter"&&!y&&(X.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(X=>({...X,searchText:"",page:1})),(w||L())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),ee.current){const X=ee.current.getBoundingClientRect();ae({top:X.bottom+8,left:X.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:X=>X.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:X=>{s(de=>({...de,companyId:X.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(X=>t.jsxs("option",{value:X.id,children:[X.companyCode," - ",X.companyName]},X.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:X=>s(de=>({...de,hcfId:X.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(X=>X.companyId===i.companyId):d).map(X=>t.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),t.jsx("select",{className:"filter-modal-select",value:i.daysToExpiry||"All",onChange:X=>s(de=>({...de,daysToExpiry:X.target.value})),children:ne.map(X=>t.jsx("option",{value:X.value,children:X.label},X.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await me(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Days to Expiry"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((X,de)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${de}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:L()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ue,children:"Clear Filters"})})]})})}):m.map((X,de)=>{var We,Re;const se=Be(X.endDate);return t.jsxs("tr",{className:de%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:X.contractNum}),t.jsx("td",{children:((We=o.find(Ee=>Ee.id===X.companyId))==null?void 0:We.companyName)||"N/A"}),t.jsx("td",{children:((Re=d.find(Ee=>Ee.id===X.hcfId))==null?void 0:Re.hcfCode)||"N/A"}),t.jsx("td",{children:ve(X.startDate)}),t.jsx("td",{children:ve(X.endDate)}),t.jsx("td",{children:t.jsx("span",{className:Ae(se),children:se<0?"Expired":`${se} days`})}),t.jsx("td",{children:X.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:le(X.status),children:X.status})})]},X.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Pe+1}-${Ce} of ${D.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async X=>{a(de=>({...de,page:1,pageSize:Number(X.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.max(1,_-1);a(de=>({...de,page:X}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const X=[];let se=Math.max(1,_-Math.floor(2.5)),We=Math.min(Ie,se+5-1);We-se<4&&(se=Math.max(1,We-5+1)),se>1&&(X.push(1),se>2&&X.push("..."));for(let Re=se;Re<=We;Re++)X.push(Re);return We<Ie&&(We<Ie-1&&X.push("..."),X.push(Ie)),X.map((Re,Ee)=>{if(Re==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ee}`);const ie=Re;return t.jsx("button",{className:`pagination-page-btn ${_===ie?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:ie}))},disabled:!w||m.length===0,children:ie},ie)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.min(Ie,_+1);a(de=>({...de,page:X}))},disabled:_===Ie||Ie===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Yne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[i,s]=k.useState({companyId:"",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=n.page||1,j=n.pageSize||25,_=k.useRef(null),P=k.useRef(null),[Z,ee]=k.useState(null),[K,ae]=k.useState({totalRoutes:0});k.useEffect(()=>{(async()=>{try{const Ae=await Qa.getAllCompanies();h(Ae)}catch(Ae){console.error("Error loading master data:",Ae)}})()},[]);const D=()=>{var le;return!!(n.companyId||n.status&&n.status!=="All"||(le=n.searchText)!=null&&le.trim())},q=()=>{if(!D())return"No filters applied. View all routes.";const le=[];if(n.companyId){const Ae=o.find(Ie=>Ie.id===n.companyId);Ae&&le.push(`Company: ${Ae.companyName}`)}return n.status&&n.status!=="All"&&le.push(`Status: ${n.status}`),le.join("  ")},$=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],L=async()=>{var le;x(!0),N(null);try{let Ae=await rA.getAllRoutes(!0);if(n.companyId&&(Ae=Ae.filter(ce=>ce.companyId===n.companyId)),n.status&&n.status!=="All"&&(Ae=Ae.filter(ce=>ce.status===n.status)),(le=n.searchText)!=null&&le.trim()){const ce=n.searchText.toLowerCase().trim();Ae=Ae.filter(X=>{const de=(X.routeCode||"").toLowerCase(),se=(X.routeName||"").toLowerCase(),We=o.find(Ee=>Ee.id===X.companyId),Re=((We==null?void 0:We.companyName)||"").toLowerCase();return de.includes(ce)||se.includes(ce)||Re.includes(ce)})}Ae.sort((ce,X)=>{const de=ce[n.sortBy]||"",se=X[n.sortBy]||"";return n.sortOrder==="ASC"?de>se?1:-1:de<se?1:-1});const Ie=(S-1)*j,Pe=Ie+j,Ce=Ae.slice(Ie,Pe);f(Ae),g(Ce),b(!0),ae({totalRoutes:Ae.length})}catch(Ae){console.error("Error loading routes:",Ae),N(Ae.message||"Failed to load route data"),f([]),g([])}finally{x(!1)}},ye=async()=>{a(le=>({...le,companyId:i.companyId||"",status:i.status||"All",page:1})),l(!1),await L()},ne=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),s({companyId:"",status:"All"}),l(!1),await L()};k.useEffect(()=>{if(o.length>0||!n.companyId){const le=setTimeout(()=>{L()},500);return()=>clearTimeout(le)}},[n,o]);const Be=le=>{switch(le){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Te=y&&K.totalRoutes>0?Math.ceil(K.totalRoutes/j):0,me=(S-1)*j,ue=Math.min(me+A.length,K.totalRoutes),ve=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:ve,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Route Report"}),!D()&&t.jsx("div",{className:"page-context-subtitle",children:q()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:u,onChange:le=>a(Ae=>({...Ae,searchText:le.target.value,page:1})),onKeyDown:le=>{le.key==="Enter"&&!m&&(le.preventDefault(),L())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(le=>({...le,searchText:"",page:1})),(y||D())&&await L()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:P,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",status:n.status||"All"}),P.current){const le=P.current.getBoundingClientRect();ee({top:le.bottom+8,left:le.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:le=>le.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:le=>s(Ae=>({...Ae,companyId:le.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(le=>t.jsxs("option",{value:le.id,children:[le.companyCode," - ",le.companyName]},le.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:le=>s(Ae=>({...Ae,status:le.target.value})),children:$.map(le=>t.jsx("option",{value:le.value,children:le.label},le.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ye(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"Route Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((le,Ae)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ae}`)):y?A.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No routes match "${u.trim()}". Try adjusting your search or filters.`:D()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(D()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ne,children:"Clear Filters"})})]})})}):A.map((le,Ae)=>{var Ie;return t.jsxs("tr",{className:Ae%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:le.routeCode}),t.jsx("td",{children:le.routeName}),t.jsx("td",{children:((Ie=o.find(Pe=>Pe.id===le.companyId))==null?void 0:Ie.companyName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Be(le.status),children:le.status})})]},le.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${me+1}-${ue} of ${K.totalRoutes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||A.length===0,onChange:async le=>{a(Ae=>({...Ae,page:1,pageSize:Number(le.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const le=Math.max(1,S-1);a(Ae=>({...Ae,page:le}))},disabled:S===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const le=[];let Ie=Math.max(1,S-Math.floor(2.5)),Pe=Math.min(Te,Ie+5-1);Pe-Ie<4&&(Ie=Math.max(1,Pe-5+1)),Ie>1&&(le.push(1),Ie>2&&le.push("..."));for(let Ce=Ie;Ce<=Pe;Ce++)le.push(Ce);return Pe<Te&&(Pe<Te-1&&le.push("..."),le.push(Te)),le.map((Ce,ce)=>{if(Ce==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ce}`);const X=Ce;return t.jsx("button",{className:`pagination-page-btn ${S===X?"active":""}`,onClick:async()=>{a(de=>({...de,page:X}))},disabled:!y||A.length===0,children:X},X)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const le=Math.min(Te,S+1);a(Ae=>({...Ae,page:le}))},disabled:S===Te||Te===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Zne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[i,s]=k.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalCollections:0,totalWeight:0});k.useEffect(()=>{(async()=>{try{const[se,We]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(se),f(We)}catch(se){console.error("Error loading master data:",se)}})()},[]);const $=n.companyId?d.filter(de=>de.companyId===n.companyId):d,L=()=>{var de;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(de=n.searchText)!=null&&de.trim())},ye=()=>{if(!L())return"No filters applied. Select a date range or search to view waste collection data.";const de=[];if(n.collectionFromDate&&n.collectionToDate){const se=new Date(n.collectionFromDate),We=new Date(n.collectionToDate),Re=se.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ee=We.toLocaleDateString("en-US",{month:"short",day:"numeric"});de.push(`Date: ${Re}${Ee}`)}if(n.companyId){const se=o.find(We=>We.id===n.companyId);se&&de.push(`Company: ${se.companyName}`)}if(n.hcfId){const se=$.find(We=>We.id===n.hcfId);se&&de.push(`HCF: ${se.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&de.push(`Color: ${n.wasteColor}`),de.join("  ")},ne=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],Be=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],Te=async()=>{var de;b(!0),j(null);try{let se=[];if(n.companyId)try{se=await df.getAllCollections(),se=se.filter(ie=>ie.companyId===n.companyId)}catch(ie){console.warn("Error loading collections:",ie),se=[]}else try{se=await df.getAllCollections()}catch(ie){console.warn("Error loading collections:",ie),se=[]}if(n.collectionFromDate){const ie=new Date(n.collectionFromDate);se=se.filter(Le=>new Date(Le.collectionDate)>=ie)}if(n.collectionToDate){const ie=new Date(n.collectionToDate);ie.setHours(23,59,59,999),se=se.filter(Le=>new Date(Le.collectionDate)<=ie)}if(n.hcfId&&(se=se.filter(ie=>ie.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(se=se.filter(ie=>ie.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(se=se.filter(ie=>ie.status===n.status)),(de=n.searchText)!=null&&de.trim()){const ie=n.searchText.toLowerCase().trim();se=se.filter(Le=>{const Ze=(Le.barcode||"").toLowerCase(),jt=o.find(_r=>_r.id===Le.companyId),Lt=((jt==null?void 0:jt.companyName)||"").toLowerCase(),Ct=d.find(_r=>_r.id===Le.hcfId),Xt=((Ct==null?void 0:Ct.hcfCode)||"").toLowerCase();return Ze.includes(ie)||Lt.includes(ie)||Xt.includes(ie)||Le.weightKg&&Le.weightKg.toString().includes(ie)})}se.sort((ie,Le)=>{const Ze=ie[n.sortBy]||"",jt=Le[n.sortBy]||"";return n.sortOrder==="ASC"?Ze>jt?1:-1:Ze<jt?1:-1});const We=(_-1)*P,Re=We+P,Ee=se.slice(We,Re);g(se),x(Ee),N(!0),q({totalCollections:se.length,totalWeight:se.reduce((ie,Le)=>ie+(Le.weightKg||0),0)})}catch(se){console.error("Error loading waste collections:",se),j(se.message||"Failed to load waste collection data"),g([]),x([])}finally{b(!1)}},me=async()=>{a(de=>({...de,collectionFromDate:i.collectionFromDate||"",collectionToDate:i.collectionToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",wasteColor:i.wasteColor||"All",status:i.status||"All",page:1})),l(!1),await Te()},ue=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const de=setTimeout(()=>{Te()},500);return()=>clearTimeout(de)}},[n,o]);const ve=de=>de?new Date(de).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=de=>de==null?"N/A":`${de.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,Ae=de=>{switch(de){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},Ie=de=>{switch(de){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},Pe=w&&D.totalCollections>0?Math.ceil(D.totalCollections/P):0,Ce=(_-1)*P,ce=Math.min(Ce+m.length,D.totalCollections),X=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:X,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:u,onChange:de=>a(se=>({...se,searchText:de.target.value,page:1})),onKeyDown:de=>{de.key==="Enter"&&!y&&(de.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(de=>({...de,searchText:"",page:1})),(w||L())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),ee.current){const de=ee.current.getBoundingClientRect();ae({top:de.bottom+8,left:de.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:de=>de.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionFromDate||"",onChange:de=>s(se=>({...se,collectionFromDate:de.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionToDate||"",onChange:de=>s(se=>({...se,collectionToDate:de.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:de=>{s(se=>({...se,companyId:de.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(de=>t.jsxs("option",{value:de.id,children:[de.companyCode," - ",de.companyName]},de.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:de=>s(se=>({...se,hcfId:de.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(de=>de.companyId===i.companyId):d).map(de=>t.jsxs("option",{value:de.id,children:[de.hcfCode," - ",de.hcfName]},de.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),t.jsx("select",{className:"filter-modal-select",value:i.wasteColor||"All",onChange:de=>s(se=>({...se,wasteColor:de.target.value})),children:ne.map(de=>t.jsx("option",{value:de.value,children:de.label},de.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:de=>s(se=>({...se,status:de.target.value})),children:Be.map(de=>t.jsx("option",{value:de.value,children:de.label},de.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await me(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Collection Date"}),t.jsx("th",{children:"Waste Color"}),t.jsx("th",{className:"text-right",children:"Weight (kg)"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((de,se)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${se}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No collections match "${u.trim()}". Try adjusting your search or filters.`:L()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ue,children:"Clear Filters"})})]})})}):m.map((de,se)=>{var We,Re;return t.jsxs("tr",{className:se%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:de.barcode}),t.jsx("td",{children:((We=o.find(Ee=>Ee.id===de.companyId))==null?void 0:We.companyName)||"N/A"}),t.jsx("td",{children:((Re=d.find(Ee=>Ee.id===de.hcfId))==null?void 0:Re.hcfCode)||"N/A"}),t.jsx("td",{children:ve(de.collectionDate)}),t.jsx("td",{children:t.jsx("span",{className:Ie(de.wasteColor),children:de.wasteColor})}),t.jsx("td",{className:"text-right",children:le(de.weightKg)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ae(de.status),children:de.status})})]},de.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ce+1}-${ce} of ${D.totalCollections} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async de=>{a(se=>({...se,page:1,pageSize:Number(de.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.max(1,_-1);a(se=>({...se,page:de}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const de=[];let We=Math.max(1,_-Math.floor(2.5)),Re=Math.min(Pe,We+5-1);Re-We<4&&(We=Math.max(1,Re-5+1)),We>1&&(de.push(1),We>2&&de.push("..."));for(let Ee=We;Ee<=Re;Ee++)de.push(Ee);return Re<Pe&&(Re<Pe-1&&de.push("..."),de.push(Pe)),de.map((Ee,ie)=>{if(Ee==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ie}`);const Le=Ee;return t.jsx("button",{className:`pagination-page-btn ${_===Le?"active":""}`,onClick:async()=>{a(Ze=>({...Ze,page:Le}))},disabled:!w||m.length===0,children:Le},Le)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.min(Pe,_+1);a(se=>({...se,page:de}))},disabled:_===Pe||Pe===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Jne=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[i,s]=k.useState({status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState(!1),[m,x]=k.useState(!1),[y,b]=k.useState(null),w=n.page||1,N=n.pageSize||25,S=k.useRef(null),j=k.useRef(null),[_,P]=k.useState(null),[Z,ee]=k.useState({totalCompanies:0}),K=()=>{var ve;return!!(n.status&&n.status!=="All"||(ve=n.searchText)!=null&&ve.trim())},ae=()=>{if(!K())return"No filters applied. View all companies.";const ve=[];return n.status&&n.status!=="All"&&ve.push(`Status: ${n.status}`),ve.join("  ")},D=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],q=async()=>{var ve;g(!0),b(null);try{let le=await Qa.getAllCompanies();if(n.status&&n.status!=="All"&&(le=le.filter(Ce=>Ce.status===n.status)),(ve=n.searchText)!=null&&ve.trim()){const Ce=n.searchText.toLowerCase().trim();le=le.filter(ce=>{const X=(ce.companyCode||"").toLowerCase(),de=(ce.companyName||"").toLowerCase();return X.includes(Ce)||de.includes(Ce)})}le.sort((Ce,ce)=>{const X=Ce[n.sortBy]||"",de=ce[n.sortBy]||"";return n.sortOrder==="ASC"?X>de?1:-1:X<de?1:-1});const Ae=(w-1)*N,Ie=Ae+N,Pe=le.slice(Ae,Ie);h(le),f(Pe),x(!0),ee({totalCompanies:le.length})}catch(le){console.error("Error loading companies:",le),b(le.message||"Failed to load company data"),h([]),f([])}finally{g(!1)}},$=async()=>{a(ve=>({...ve,status:i.status||"All",page:1})),l(!1),await q()},L=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),s({status:"All"}),l(!1),await q()};k.useEffect(()=>{const ve=setTimeout(()=>{q()},500);return()=>clearTimeout(ve)},[n]);const ye=ve=>ve?new Date(ve).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ne=ve=>{switch(ve){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Be=m&&Z.totalCompanies>0?Math.ceil(Z.totalCompanies/N):0,Te=(w-1)*N,me=Math.min(Te+d.length,Z.totalCompanies),ue=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:ue,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Company Master Report"}),!K()&&t.jsx("div",{className:"page-context-subtitle",children:ae()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${A?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:u,onChange:ve=>a(le=>({...le,searchText:ve.target.value,page:1})),onKeyDown:ve=>{ve.key==="Enter"&&!A&&(ve.preventDefault(),q())},disabled:A}),u&&!A&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ve=>({...ve,searchText:"",page:1})),(m||K())&&await q()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:j,className:`btn btn-filters-toggle ${c?"active":""} ${A?"loading":""}`,onClick:()=>{if(!A){if(c||s({status:n.status||"All"}),j.current){const ve=j.current.getBoundingClientRect();P({top:ve.bottom+8,left:ve.left})}l(!c)}},disabled:A,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),P(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ve=>ve.stopPropagation(),style:_?{position:"fixed",top:`${_.top}px`,left:`${_.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsx("div",{className:"filter-modal-grid",children:t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ve=>s(le=>({...le,status:ve.target.value})),children:D.map(ve=>t.jsx("option",{value:ve.value,children:ve.label},ve.value))})]})})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await $(),l(!1)},disabled:A,children:A?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),t.jsxs("div",{className:"results-section",ref:S,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Code"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Created Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:A?Array.from({length:5}).map((ve,le)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${le}`)):m?d.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No companies match "${u.trim()}". Try adjusting your search or filters.`:K()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(K()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:L,children:"Clear Filters"})})]})})}):d.map((ve,le)=>t.jsxs("tr",{className:le%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ve.companyCode}),t.jsx("td",{children:ve.companyName}),t.jsx("td",{children:ye(ve.createdOn)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ne(ve.status),children:ve.status})})]},ve.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:m&&d.length>0?`Showing ${Te+1}-${me} of ${Z.totalCompanies} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:N,disabled:!m||d.length===0,onChange:async ve=>{a(le=>({...le,page:1,pageSize:Number(ve.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ve=Math.max(1,w-1);a(le=>({...le,page:ve}))},disabled:w===1||!m||d.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ve=[];let Ae=Math.max(1,w-Math.floor(2.5)),Ie=Math.min(Be,Ae+5-1);Ie-Ae<4&&(Ae=Math.max(1,Ie-5+1)),Ae>1&&(ve.push(1),Ae>2&&ve.push("..."));for(let Pe=Ae;Pe<=Ie;Pe++)ve.push(Pe);return Ie<Be&&(Ie<Be-1&&ve.push("..."),ve.push(Be)),ve.map((Pe,Ce)=>{if(Pe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ce}`);const ce=Pe;return t.jsx("button",{className:`pagination-page-btn ${w===ce?"active":""}`,onClick:async()=>{a(X=>({...X,page:ce}))},disabled:!m||d.length===0,children:ce},ce)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ve=Math.min(Be,w+1);a(le=>({...le,page:ve}))},disabled:w===Be||Be===0||!m||d.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},eae=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[i,s]=k.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState([]),[y,b]=k.useState(!1),[w,N]=k.useState(!1),[S,j]=k.useState(null),_=n.page||1,P=n.pageSize||25,Z=k.useRef(null),ee=k.useRef(null),[K,ae]=k.useState(null),[D,q]=k.useState({totalItems:0,compliant:0,nonCompliant:0});k.useEffect(()=>{(async()=>{try{const[X,de]=await Promise.all([Qa.getAllCompanies(),ks.getAllHcfs()]);h(X),f(de)}catch(X){console.error("Error loading master data:",X)}})()},[]);const $=n.companyId?d.filter(ce=>ce.companyId===n.companyId):d,L=()=>{var ce;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(ce=n.searchText)!=null&&ce.trim())},ye=()=>{if(!L())return"No filters applied. View all compliance statuses.";const ce=[];if(n.companyId){const X=o.find(de=>de.id===n.companyId);X&&ce.push(`Company: ${X.companyName}`)}if(n.hcfId){const X=$.find(de=>de.id===n.hcfId);X&&ce.push(`HCF: ${X.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&ce.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&ce.push(`Status: ${n.status}`),ce.join("  ")},ne=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],Be=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Te=async()=>{var ce;b(!0),j(null);try{let X=[];if(n.companyId&&(X=X.filter(Re=>Re.companyId===n.companyId)),n.hcfId&&(X=X.filter(Re=>Re.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(X=X.filter(Re=>Re.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(X=X.filter(Re=>Re.status===n.status)),(ce=n.searchText)!=null&&ce.trim()){const Re=n.searchText.toLowerCase().trim();X=X.filter(Ee=>{const ie=o.find(Lt=>Lt.id===Ee.companyId),Le=((ie==null?void 0:ie.companyName)||"").toLowerCase(),Ze=d.find(Lt=>Lt.id===Ee.hcfId),jt=((Ze==null?void 0:Ze.hcfCode)||"").toLowerCase();return Ee.complianceType.toLowerCase().includes(Re)||Le.includes(Re)||jt.includes(Re)||Ee.notes&&Ee.notes.toLowerCase().includes(Re)})}X.sort((Re,Ee)=>{const ie=Re[n.sortBy]||"",Le=Ee[n.sortBy]||"";return n.sortOrder==="ASC"?ie>Le?1:-1:ie<Le?1:-1});const de=(_-1)*P,se=de+P,We=X.slice(de,se);g(X),x(We),N(!0),q({totalItems:X.length,compliant:X.filter(Re=>Re.status==="Compliant").length,nonCompliant:X.filter(Re=>Re.status==="Non-Compliant"||Re.status==="Expired").length})}catch(X){console.error("Error loading compliance data:",X),j(X.message||"Failed to load compliance status data"),g([]),x([])}finally{b(!1)}},me=async()=>{a(ce=>({...ce,companyId:i.companyId||"",hcfId:i.hcfId||"",complianceType:i.complianceType||"All",status:i.status||"All",page:1})),l(!1),await Te()},ue=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),s({companyId:"",hcfId:"",complianceType:"All",status:"All"}),l(!1),await Te()};k.useEffect(()=>{if(o.length>0||!n.companyId){const ce=setTimeout(()=>{Te()},500);return()=>clearTimeout(ce)}},[n,o]);const ve=ce=>ce?new Date(ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=ce=>{switch(ce){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ae=w&&D.totalItems>0?Math.ceil(D.totalItems/P):0,Ie=(_-1)*P,Pe=Math.min(Ie+m.length,D.totalItems),Ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(wc,{navItems:Ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!L()&&t.jsx("div",{className:"page-context-subtitle",children:ye()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:u,onChange:ce=>a(X=>({...X,searchText:ce.target.value,page:1})),onKeyDown:ce=>{ce.key==="Enter"&&!y&&(ce.preventDefault(),Te())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ce=>({...ce,searchText:"",page:1})),(w||L())&&await Te()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:ee,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),ee.current){const ce=ee.current.getBoundingClientRect();ae({top:ce.bottom+8,left:ce.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ce=>ce.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ce=>{s(X=>({...X,companyId:ce.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ce=>t.jsxs("option",{value:ce.id,children:[ce.companyCode," - ",ce.companyName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:ce=>s(X=>({...X,hcfId:ce.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(ce=>ce.companyId===i.companyId):d).map(ce=>t.jsxs("option",{value:ce.id,children:[ce.hcfCode," - ",ce.hcfName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceType||"All",onChange:ce=>s(X=>({...X,complianceType:ce.target.value})),children:ne.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ce=>s(X=>({...X,status:ce.target.value})),children:Be.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await me(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:Z,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Compliance Type"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Expiry Date"}),t.jsx("th",{children:"Last Checked"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((ce,X)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${X}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No compliance items match "${u.trim()}". Try adjusting your search or filters.`:L()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),(L()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:ue,children:"Clear Filters"})})]})})}):m.map((ce,X)=>{var de,se;return t.jsxs("tr",{className:X%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{children:ce.complianceType}),t.jsx("td",{children:((de=o.find(We=>We.id===ce.companyId))==null?void 0:de.companyName)||"N/A"}),t.jsx("td",{children:((se=d.find(We=>We.id===ce.hcfId))==null?void 0:se.hcfCode)||"N/A"}),t.jsx("td",{children:ve(ce.expiryDate)}),t.jsx("td",{children:ve(ce.lastChecked)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:le(ce.status),children:ce.status})})]},ce.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ie+1}-${Pe} of ${D.totalItems} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:P,disabled:!w||m.length===0,onChange:async ce=>{a(X=>({...X,page:1,pageSize:Number(ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.max(1,_-1);a(X=>({...X,page:ce}))},disabled:_===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ce=[];let de=Math.max(1,_-Math.floor(2.5)),se=Math.min(Ae,de+5-1);se-de<4&&(de=Math.max(1,se-5+1)),de>1&&(ce.push(1),de>2&&ce.push("..."));for(let We=de;We<=se;We++)ce.push(We);return se<Ae&&(se<Ae-1&&ce.push("..."),ce.push(Ae)),ce.map((We,Re)=>{if(We==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Re}`);const Ee=We;return t.jsx("button",{className:`pagination-page-btn ${_===Ee?"active":""}`,onClick:async()=>{a(ie=>({...ie,page:Ee}))},disabled:!w||m.length===0,children:Ee},Ee)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.min(Ae,_+1);a(X=>({...X,page:ce}))},disabled:_===Ae||Ae===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},tae=()=>{const r=_n(),e=ti(),[n,a]=k.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=k.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=k.useState(!1),u=n.searchText||"",[o,h]=k.useState([]),[d,f]=k.useState([]),[A,g]=k.useState([]),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[w,N]=k.useState(null),S=n.page||1,j=n.pageSize||25,_=k.useRef(null),P=k.useRef(null),[Z,ee]=k.useState(null),[K,ae]=k.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});k.useEffect(()=>{(async()=>{try{const ie=await Qa.getAllCompanies();h(ie)}catch(ie){console.error("Error loading master data:",ie)}})()},[]);const D=()=>{var Ee;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(Ee=n.searchText)!=null&&Ee.trim())},q=()=>{if(!D())return"No filters applied. Select a date range or search to view fleet vehicles.";const Ee=[];if(n.createdFromDate&&n.createdToDate){const ie=new Date(n.createdFromDate),Le=new Date(n.createdToDate),Ze=ie.toLocaleDateString("en-US",{month:"short",day:"numeric"}),jt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ee.push(`${Ze} - ${jt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ie=new Date(n.createdFromDate);Ee.push(`From ${ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ie=new Date(n.createdToDate);Ee.push(`To ${ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ie=o.find(Le=>Le.id===n.companyId);Ee.push(ie?ie.companyName:"Selected Company")}else Ee.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&Ee.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?Ee.push(n.status):Ee.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&Ee.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${Ee.join("  ")}`},$=(Ee,ie)=>{s(Le=>({...Le,[Ee]:ie}))},L=()=>{a(Ee=>({...Ee,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},ye=()=>{const Ee={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ee),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},ne=(Ee,ie)=>{a(Le=>({...Le,page:Ee,...ie!==void 0&&{pageSize:ie}}))},Be=Ee=>{a(ie=>({...ie,searchText:Ee,page:1}))},Te=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],me=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],ue=()=>{const Ee=new Set;return d.forEach(ie=>{ie.vehMake&&Ee.add(ie.vehMake)}),Array.from(Ee).sort()},ve=Ee=>{const ie=new Date;ie.setHours(0,0,0,0);const Le=[Ee.nextFCDate?new Date(Ee.nextFCDate):null,Ee.pucDateValidUpto?new Date(Ee.pucDateValidUpto):null,Ee.insuranceValidUpto?new Date(Ee.insuranceValidUpto):null].filter(Boolean);if(Le.length===0)return"Compliant";if(Le.filter(Ct=>Ct<ie).length>0)return"Expired";const jt=new Date(ie);return jt.setDate(jt.getDate()+30),Le.filter(Ct=>Ct<=jt&&Ct>=ie).length>0?"Expiring Soon":"Compliant"},le=async()=>{var Ee;x(!0),N(null);try{let ie=[];if(n.companyId)ie=await Eh.getAllFleets(n.companyId);else{const Ct=o.length>0?o:await Qa.getAllCompanies();for(const Xt of Ct)try{const _r=await Eh.getAllFleets(Xt.id);ie.push(..._r)}catch(_r){console.warn(`Failed to load fleets for company ${Xt.companyName}:`,_r)}}let Le=ie;if(n.createdFromDate){const Ct=new Date(n.createdFromDate);Le=Le.filter(Xt=>new Date(Xt.createdOn)>=Ct)}if(n.createdToDate){const Ct=new Date(n.createdToDate);Ct.setHours(23,59,59,999),Le=Le.filter(Xt=>new Date(Xt.createdOn)<=Ct)}if(n.companyId&&(Le=Le.filter(Ct=>Ct.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Le=Le.filter(Ct=>Ct.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Le=Le.filter(Ct=>Ct.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Le=Le.filter(Ct=>ve(Ct)===n.complianceStatus)),(Ee=n.searchText)!=null&&Ee.trim()){const Ct=n.searchText.toLowerCase().trim();Le=Le.filter(Xt=>{const _r=(Xt.vehicleNum||"").toLowerCase(),Or=(Xt.vehMake||"").toLowerCase(),He=(Xt.vehModel||"").toLowerCase(),Zt=(Xt.ownerName||"").toLowerCase(),Bt=(Xt.ownerContact||"").toLowerCase(),$r=(Xt.capacity||"").toLowerCase();return _r.includes(Ct)||Or.includes(Ct)||He.includes(Ct)||Zt.includes(Ct)||Bt.includes(Ct)||$r.includes(Ct)})}Le.sort((Ct,Xt)=>{const _r=Ct[n.sortBy]||"",Or=Xt[n.sortBy]||"";return n.sortOrder==="ASC"?_r>Or?1:-1:_r<Or?1:-1});const Ze=(S-1)*j,jt=Ze+j,Lt=Le.slice(Ze,jt);f(Le),g(Lt),b(!0),ae({totalFleets:Le.length,activeFleets:Le.filter(Ct=>Ct.status==="Active").length,inactiveFleets:Le.filter(Ct=>Ct.status==="Inactive").length})}catch(ie){console.error("Error loading fleets:",ie),N(ie.message||"Failed to load fleet vehicles"),f([]),g([])}finally{x(!1)}};k.useEffect(()=>{if(o.length>0){const Ee=setTimeout(()=>{le()},500);return()=>clearTimeout(Ee)}},[n,o]);const Ae=async()=>{L(),l(!1),await le()},Ie=async()=>{ye(),l(!1),await le()},Pe=Ee=>Ee?new Date(Ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ce=Ee=>{switch(Ee){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},ce=Ee=>{switch(Ee){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},X=y&&K.totalFleets>0?Math.ceil(K.totalFleets/j):0,de=(S-1)*j,se=Math.min(de+A.length,K.totalFleets),We=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Re=ue();return t.jsx(wc,{navItems:We,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!D()&&t.jsx("div",{className:"page-context-subtitle",children:q()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:Ee=>Be(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&!m&&(Ee.preventDefault(),le())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Be(""),le()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:P,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),P.current){const Ee=P.current.getBoundingClientRect();ee({top:Ee.bottom+8,left:Ee.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Lc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ee(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ee=>Ee.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ee=>$("createdFromDate",Ee.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ee=>$("createdToDate",Ee.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ee=>$("companyId",Ee.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.companyCode," - ",Ee.companyName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:Ee=>$("vehMake",Ee.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Re.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ee=>$("status",Ee.target.value),children:Te.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:Ee=>$("complianceStatus",Ee.target.value),children:me.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ae,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:_,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ee,ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ie}`)):y?A.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:D()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(D()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):A.map((Ee,ie)=>{const Le=o.find(jt=>jt.id===Ee.companyId),Ze=ve(Ee);return t.jsxs("tr",{className:ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ee.vehicleNum}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:Ee.vehMake||"N/A"}),t.jsx("td",{children:Ee.vehModel||"N/A"}),t.jsx("td",{children:Ee.capacity||"N/A"}),t.jsx("td",{children:Ee.ownerName||"N/A"}),t.jsx("td",{children:Ee.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ce(Ee.status),children:Ee.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(Ze),children:Ze})}),t.jsx("td",{children:Pe(Ee.createdOn)})]},Ee.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${se} of ${K.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:j,disabled:!y||A.length===0,onChange:async Ee=>{ne(1,Number(Ee.target.value)),await le()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.max(1,S-1);ne(Ee),await le()},disabled:S===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ee=[];let Le=Math.max(1,S-Math.floor(2.5)),Ze=Math.min(X,Le+5-1);Ze-Le<4&&(Le=Math.max(1,Ze-5+1)),Le>1&&(Ee.push(1),Le>2&&Ee.push("..."));for(let jt=Le;jt<=Ze;jt++)Ee.push(jt);return Ze<X&&(Ze<X-1&&Ee.push("..."),Ee.push(X)),Ee.map((jt,Lt)=>{if(jt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Lt}`);const Ct=jt;return t.jsx("button",{className:`pagination-page-btn ${S===Ct?"active":""}`,onClick:async()=>{ne(Ct),await le()},disabled:!y||A.length===0,children:Ct},Ct)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.min(X,S+1);ne(Ee),await le()},disabled:S===X||X===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},rae=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=pa(),i=ti(),s=_n(),[c,l]=k.useState(""),[u,o]=k.useState(""),[h,d]=k.useState(!1),[f,A]=k.useState(!1),[g,m]=k.useState(null),[x,y]=k.useState(!1),[b,w]=k.useState(""),[N,S]=k.useState(["","","","","",""]),[j,_]=k.useState(0);k.useEffect(()=>{if(j>0){const q=setTimeout(()=>_(j-1),1e3);return()=>clearTimeout(q)}},[j]);const P=q=>{if(!q||q.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,L=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(q.trim())||L.test(q.trim())},Z=async q=>{var $,L;if(q.preventDefault(),m(null),!P(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const ye=await r(c.trim(),u);if(ye.requiresOTP&&ye.email)w(ye.email),y(!0),_(60);else{const ne=(L=($=s.state)==null?void 0:$.from)==null?void 0:L.pathname;i(ne||"/mobile/home",{replace:!0})}}catch(ye){m(ye.message||"Invalid credentials. Please check your username and password.")}},ee=(q,$)=>{if($.length>1)return;const L=[...N];if(L[q]=$,S(L),$&&q<5){const ye=document.getElementById(`otp-input-mobile-${q+1}`);ye==null||ye.focus()}},K=(q,$)=>{if($.key==="Backspace"&&!N[q]&&q>0){const L=document.getElementById(`otp-input-mobile-${q-1}`);L==null||L.focus()}},ae=async q=>{var L,ye,ne;q.preventDefault(),m(null);const $=N.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,$);const Be=(ye=(L=s.state)==null?void 0:L.from)==null?void 0:ye.pathname;i(Be||"/mobile/home",{replace:!0})}catch(Be){m(Be.message||"Invalid OTP"),S(["","","","","",""]),(ne=document.getElementById("otp-input-mobile-0"))==null||ne.focus()}},D=async()=>{if(!(j>0)){m(null);try{await r(c,u),_(60),S(["","","","","",""])}catch(q){m(q.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!u?t.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):t.jsxs("div",{className:"mobile-login-container",children:[t.jsxs("header",{className:"login-header",children:[t.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-card",children:[t.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form",onSubmit:ae,children:[t.jsx("div",{className:"otp-instruction-mobile",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row-mobile",children:N.map((q,$)=>t.jsx("input",{id:`otp-input-mobile-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:q,onChange:L=>ee($,L.target.value),onKeyDown:L=>K($,L),autoFocus:$===0,disabled:n},$))}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||N.some(q=>!q),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-mobile",children:t.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",j>0?t.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",j,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:D,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:Z,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:q=>{l(q.target.value),m(null)},autoComplete:"username",disabled:n})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{type:f?"text":"password",className:"form-input",placeholder:"Password",value:u,onChange:q=>{o(q.target.value),m(null)},autoComplete:"current-password",disabled:n}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>A(!f),"aria-label":f?"Hide password":"Show password",disabled:n,children:f?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),t.jsxs("div",{className:"form-options",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",className:"checkbox-input",checked:h,onChange:q=>d(q.target.checked),disabled:n}),t.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),t.jsx(en,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},nae=({title:r,subtitle:e,action:n,children:a})=>t.jsxs("section",{className:"form-card",children:[t.jsxs("div",{className:"form-card__header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:r}),e&&t.jsx("p",{children:e})]}),n&&t.jsx("div",{className:"form-card__action",children:n})]}),t.jsx("div",{className:"form-card__body",children:a})]}),Gj=({label:r,type:e="text",error:n,hint:a,...i})=>{const[s,c]=k.useState(!1),l=e==="password",u=l&&s?"text":e;return t.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[t.jsx("span",{children:r}),t.jsxs("div",{className:"input-field__control",children:[t.jsx("input",{type:u,...i}),l&&t.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(o=>!o),"aria-label":s?"Hide password":"Show password",children:s?"Hide":"Show"})]}),n?t.jsx("small",{className:"input-field__error",children:n}):a&&t.jsx("small",{children:a})]})},aae=({loading:r,children:e,...n})=>t.jsx("button",{className:"primary-btn",disabled:r||n.disabled,...n,children:r?"Working...":e}),iae=({role:r})=>t.jsx("span",{className:"role-pill",children:r}),c_={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},sae=()=>{const{createUser:r,loading:e,user:n}=pa(),[a,i]=k.useState({name:"",email:"",password:"",role:"staff"}),[s,c]=k.useState(null),[l,u]=k.useState(null),o=async h=>{h.preventDefault(),c(null),u(null);try{const d=await r(a);c(`Created ${d.name} (${d.roles.join(", ")})`),i({...a,name:"",email:"",password:""})}catch(d){u(d.message||"Unable to create user")}};return t.jsx(nae,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?t.jsx(iae,{role:n.roles[0]}):null,children:t.jsxs("form",{className:"form-grid mobile",onSubmit:o,children:[t.jsx(Gj,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:h=>i(d=>({...d,name:h.target.value}))}),t.jsx(Gj,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:h=>i(d=>({...d,email:h.target.value}))}),t.jsx(Gj,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:h=>i(d=>({...d,password:h.target.value})),hint:"Min 8 characters"}),t.jsxs("label",{className:"input-field",children:[t.jsx("span",{children:"Role"}),t.jsx("div",{className:"role-options",children:Object.keys(c_).map(h=>t.jsxs("button",{type:"button",className:`role-chip ${a.role===h?"role-chip--active":""}`,onClick:()=>i(d=>({...d,role:h})),children:[t.jsx("strong",{children:h}),t.jsx("small",{children:c_[h]})]},h))})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsx(aae,{type:"submit",loading:e,children:"Save User"}),t.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},oae=()=>{const{user:r,logout:e}=pa(),n=_n();ti();const[a,i]=k.useState(!1),[s,c]=k.useState(!1),l=()=>{c(!s)},[u,o]=k.useState(null),[h,d]=k.useState(null),[f,A]=k.useState("basic"),[g,m]=k.useState(null),[x,y]=k.useState(!1),[b,w]=k.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[N,S]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,_]=k.useState({current:!1,new:!1,confirm:!1}),[P,Z]=k.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});k.useEffect(()=>{r!=null&&r.id&&ee()},[r]);const ee=async()=>{if(r){i(!0),o(null);try{const ve=r.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.id);let le=null;if(ve)try{le=await Vl.getUserById(r.id)}catch(Ae){console.log("User ID lookup failed, trying search by username:",Ae)}if(!le&&r.name)try{le=await Vl.getUserByUsername(r.name)}catch(Ae){console.log("User lookup by username failed:",Ae)}if(le)m(le),w({emailAddress:le.emailAddress||"",emergencyContact:le.emergencyContact||"",addressLine:le.addressLine||"",area:le.area||"",city:le.city||"",district:le.district||"",pincode:le.pincode||""});else{const Ae={userName:r.name,emailAddress:r.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:r.roles.join(", ")||null};m(Ae),o("Showing basic information from your session. Some details may be incomplete.")}}catch(ve){console.error("Error loading user profile:",ve),o("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},K=async()=>{if(g!=null&&g.userId){i(!0),d(null),o(null);try{await Vl.updateCompleteUser(g.userId,{emailAddress:b.emailAddress||void 0,emergencyContact:b.emergencyContact||void 0,addressLine:b.addressLine||void 0,area:b.area||void 0,city:b.city||void 0,district:b.district||void 0,pincode:b.pincode||void 0}),d("Contact information updated successfully!"),y(!1),await ee()}catch(ve){o(ve.message||"Failed to update contact information")}finally{i(!1)}}},ae=()=>{g&&w({emailAddress:g.emailAddress||"",emergencyContact:g.emergencyContact||"",addressLine:g.addressLine||"",area:g.area||"",city:g.city||"",district:g.district||"",pincode:g.pincode||""}),y(!1)},D=ve=>{Z({length:ve.length>=8,uppercase:/[A-Z]/.test(ve),lowercase:/[a-z]/.test(ve),number:/[0-9]/.test(ve),special:/[!@#$%^&*(),.?":{}|<>]/.test(ve),match:ve===N.confirmPassword&&ve.length>0})},q=(ve,le)=>{const Ae={...N,[ve]:le};S(Ae),ve==="newPassword"?(D(le),N.confirmPassword&&Z(Ie=>({...Ie,match:le===N.confirmPassword&&le.length>0}))):Z(Ie=>({...Ie,match:le===N.newPassword&&le.length>0}))},$=()=>{const le=[P.length,P.uppercase,P.lowercase,P.number,P.special].filter(Boolean).length;return le===0?{level:0,label:"",color:""}:le<=2?{level:1,label:"Weak",color:"#ef4444"}:le<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},L=async ve=>{if(ve.preventDefault(),o(null),d(null),!P.length){o("Password must be at least 8 characters long");return}if(!P.uppercase){o("Password must contain at least one uppercase letter");return}if(!P.lowercase){o("Password must contain at least one lowercase letter");return}if(!P.number){o("Password must contain at least one number");return}if(!P.special){o("Password must contain at least one special character");return}if(!P.match){o("New password and confirm password do not match");return}i(!0);try{if(!(r!=null&&r.id))throw new Error("User ID not found");await h2(r.id,{currentPassword:N.currentPassword,newPassword:N.newPassword}),d("Password changed successfully!"),S({currentPassword:"",newPassword:"",confirmPassword:""}),Z({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),_({current:!1,new:!1,confirm:!1})}catch(le){o(le.message||"Failed to change password")}finally{i(!1)}},ye=ve=>{const le=ve.toLowerCase();return le==="active"?"status-badge--active":le==="inactive"?"status-badge--inactive":le==="draft"?"status-badge--draft":"status-badge--active"},ne=ve=>{const le=ve.trim().split(" ");return le.length>=2?(le[0][0]+le[le.length-1][0]).toUpperCase():ve.charAt(0).toUpperCase()},Be=(g==null?void 0:g.userName)||(r==null?void 0:r.name)||"User",Te=(g==null?void 0:g.userRoleId)||(r==null?void 0:r.roles.join(", "))||"User",me=(g==null?void 0:g.status)||"Active",ue=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ue.map(ve=>t.jsx("li",{children:t.jsxs(en,{to:ve.path,className:`nav-link ${ve.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ve.icon}),!s&&t.jsx("span",{className:"nav-label",children:ve.label})]})},ve.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(en,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsx("span",{className:"nav-icon",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"nav-label",children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Profile"})})}),t.jsx("div",{className:"dashboard-content",children:t.jsxs("div",{className:"profile-page",children:[t.jsxs("div",{className:"profile-header-card",children:[t.jsx("div",{className:"profile-header-avatar",children:t.jsx("div",{className:"profile-avatar-large",children:ne(Be)})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-header-name",children:Be}),t.jsxs("div",{className:"profile-header-meta",children:[t.jsx("span",{className:"profile-header-role",children:Te}),t.jsx("span",{className:"profile-header-separator",children:""}),t.jsx("span",{className:`profile-header-status ${ye(me)}`,children:me})]}),(g==null?void 0:g.mobileNumber)&&g.mobileNumber!=="-"&&t.jsxs("div",{className:"profile-header-contact",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),g.mobileNumber]})]})]}),u&&t.jsxs("div",{className:"profile-info-banner",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),t.jsx("span",{children:u})]}),h&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),h]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${f==="basic"?"active":""}`,onClick:()=>A("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${f==="contact"?"active":""}`,onClick:()=>A("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${f==="security"?"active":""}`,onClick:()=>A("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!g?t.jsxs("div",{className:"profile-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading profile data..."})]}):t.jsxs(t.Fragment,{children:[f==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),t.jsxs("div",{className:"profile-cards-grid",children:[t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{className:"profile-card-title",children:"User Name"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.userName)||(r==null?void 0:r.name)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]}),t.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.employeeCode)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.mobileNumber)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),t.jsx("span",{className:"profile-card-title",children:"Status"})]}),t.jsx("div",{className:"profile-card-value",children:t.jsx("span",{className:`status-badge ${ye(me)}`,children:me})})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),t.jsx("span",{className:"profile-card-title",children:"Role"})]}),t.jsx("div",{className:"profile-card-value",children:Te})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),t.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),t.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.employmentType)||"-"})]})]})]}),f==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:x?"Edit your contact details":"Update your contact details"})]}),t.jsxs("div",{className:"profile-contact-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),x?t.jsx("input",{type:"email",id:"emailAddress",value:b.emailAddress,onChange:ve=>w({...b,emailAddress:ve.target.value}),placeholder:"Enter email address",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.emailAddress)||"Not provided"}),t.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),x?t.jsx("input",{type:"text",id:"emergencyContact",value:b.emergencyContact,onChange:ve=>w({...b,emergencyContact:ve.target.value}),placeholder:"Enter emergency contact number",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.emergencyContact)||"-"})]})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),x?t.jsx("input",{type:"text",id:"addressLine",value:b.addressLine,onChange:ve=>w({...b,addressLine:ve.target.value}),placeholder:"Enter address line",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.addressLine)||"-"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",children:"Area"}),x?t.jsx("input",{type:"text",id:"area",value:b.area,onChange:ve=>w({...b,area:ve.target.value}),placeholder:"Enter area",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.area)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",children:"City"}),x?t.jsx("input",{type:"text",id:"city",value:b.city,onChange:ve=>w({...b,city:ve.target.value}),placeholder:"Enter city",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.city)||"-"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",children:"District"}),x?t.jsx("input",{type:"text",id:"district",value:b.district,onChange:ve=>w({...b,district:ve.target.value}),placeholder:"Enter district",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.district)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",children:"Pincode"}),x?t.jsx("input",{type:"text",id:"pincode",value:b.pincode,onChange:ve=>w({...b,pincode:ve.target.value}),placeholder:"Enter pincode",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.pincode)||"-"})]})]}),t.jsx("div",{className:"form-actions",children:x?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:ae,disabled:a,children:"Cancel"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:K,disabled:a,children:a?"Saving...":"Save Changes"})]}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>y(!0),children:"Edit Contact Info"})})]})]}),f==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),t.jsxs("div",{className:"security-card security-card--password",children:[t.jsx("div",{className:"security-card-header",children:t.jsxs("div",{className:"security-card-title-group",children:[t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"security-card-title",children:"Change Password"}),t.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),t.jsxs("form",{onSubmit:L,className:"password-form",children:[t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:j.current?"text":"password",id:"currentPassword",value:N.currentPassword,onChange:ve=>S({...N,currentPassword:ve.target.value}),required:!0,placeholder:"Enter your current password",disabled:a,className:N.currentPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_({...j,current:!j.current}),tabIndex:-1,"aria-label":j.current?"Hide password":"Show password",children:j.current?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"newPassword",children:["New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:j.new?"text":"password",id:"newPassword",value:N.newPassword,onChange:ve=>q("newPassword",ve.target.value),required:!0,placeholder:"Enter new password",disabled:a,className:N.newPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_({...j,new:!j.new}),tabIndex:-1,"aria-label":j.new?"Hide password":"Show password",children:j.new?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.newPassword&&t.jsxs("div",{className:"password-strength",children:[t.jsx("div",{className:"password-strength-bar",children:t.jsx("div",{className:"password-strength-fill",style:{width:`${$().level/3*100}%`,backgroundColor:$().color}})}),t.jsx("span",{className:"password-strength-label",style:{color:$().color},children:$().label||"Enter password"})]}),t.jsxs("div",{className:"password-requirements",children:[t.jsxs("div",{className:`requirement-item ${P.length?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:P.length?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"At least 8 characters"})]}),t.jsxs("div",{className:`requirement-item ${P.uppercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:P.uppercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One uppercase letter"})]}),t.jsxs("div",{className:`requirement-item ${P.lowercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:P.lowercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One lowercase letter"})]}),t.jsxs("div",{className:`requirement-item ${P.number?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:P.number?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One number"})]}),t.jsxs("div",{className:`requirement-item ${P.special?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:P.special?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One special character"})]})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:j.confirm?"text":"password",id:"confirmPassword",value:N.confirmPassword,onChange:ve=>q("confirmPassword",ve.target.value),required:!0,placeholder:"Re-enter new password",disabled:a,className:`${N.confirmPassword?"has-value":""} ${N.confirmPassword&&P.match?"password-match":N.confirmPassword&&!P.match?"password-mismatch":""}`}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_({...j,confirm:!j.confirm}),tabIndex:-1,"aria-label":j.confirm?"Hide password":"Show password",children:j.confirm?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.confirmPassword&&t.jsxs("div",{className:`password-match-indicator ${P.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:P.match?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),t.jsx("span",{children:P.match?"Passwords match":"Passwords do not match"})]})]}),t.jsx("div",{className:"form-actions form-actions--password",children:t.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:a||!P.match||!P.length||!P.uppercase||!P.lowercase||!P.number||!P.special,children:a?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},lae=()=>{const r=ti(),e=_n(),{user:n,logout:a}=pa(),[i,s]=k.useState(!1),[c,l]=k.useState(null),[u,o]=k.useState(!1);k.useEffect(()=>{(async()=>{if(n!=null&&n.token){const N=await rO(n.token);l(N)}})()},[n]);const h=[{id:"home",label:"Home",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"1"}),t.jsx("circle",{cx:"12",cy:"5",r:"1"}),t.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],d=w=>{if(w.scanButton||w.id==="more"||w.id==="home")return!0;if(w.permission&&c){if(w.permission.includes("ROUTE_ASSIGNMENT")||w.permission.includes("WASTE_COLLECTION"))return Zf(c,"transaction");if(w.permission.includes("HCF"))return Zf(c,"master","hcf")}return!0},f=w=>{if(w.id==="more"){s(!i);return}w.path&&w.path!=="#"&&(r(w.path),s(!1))},A=()=>{r("/mobile/scan"),s(!1)},g=()=>{a(),r("/mobile/login"),s(!1)},m=h.filter(d),x=m.find(w=>w.id==="home"),y=m.find(w=>w.scanButton),b=m.find(w=>w.id==="more");return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:"mobile-more-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"mobile-more-menu",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"mobile-more-header",children:[t.jsx("h3",{children:"More Options"}),t.jsx("button",{className:"mobile-more-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"mobile-more-content",children:[t.jsxs("button",{className:"mobile-more-item",onClick:()=>{r("/mobile/profile"),s(!1)},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:g,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&t.jsxs("button",{className:`mobile-nav-item ${e.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>f(x),"aria-label":"Home",children:[t.jsx("span",{className:"mobile-nav-icon",children:x.icon}),t.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&t.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:A,"aria-label":"Scan Barcode",children:[t.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),t.jsx("span",{className:"mobile-nav-label",children:y.label})]}),b&&t.jsxs("button",{className:`mobile-nav-item ${i?"mobile-nav-item--active":""}`,onClick:()=>f(b),"aria-label":"More",children:[t.jsx("span",{className:"mobile-nav-icon",children:b.icon}),t.jsx("span",{className:"mobile-nav-label",children:b.label})]})]})]})},Mh=({children:r,title:e,showBackButton:n=!1,onBack:a})=>t.jsxs("div",{className:"mobile-layout",children:[(e||n)&&t.jsxs("header",{className:"mobile-header",children:[n&&t.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e&&t.jsx("h1",{className:"mobile-header-title",children:e}),t.jsx("div",{style:{width:n?"40px":"auto"}})]}),t.jsx("main",{className:"mobile-page-content",children:r}),t.jsx(lae,{})]}),cae=({isOpen:r,onClose:e})=>{const n=ti(),a=_n(),{user:i,permissions:s,logout:c}=pa(),[l,u]=k.useState(null),[o,h]=k.useState(new Set);k.useEffect(()=>{(async()=>{if(i!=null&&i.token){const b=await rO(i.token);u(b)}})()},[i]);const d=()=>{if(i!=null&&i.name){const y=i.name.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():i.name.substring(0,2).toUpperCase()}return"MW"},f=[{title:"Operations",items:[{id:"dashboard",label:"Home",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME.VIEW"},{id:"waste-collection",label:"Waste Entry",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION.CREATE"},{id:"waste-collections",label:"Waste Collections",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M8 6h13"}),t.jsx("path",{d:"M8 12h13"}),t.jsx("path",{d:"M8 18h13"}),t.jsx("path",{d:"M3 6h.01"}),t.jsx("path",{d:"M3 12h.01"}),t.jsx("path",{d:"M3 18h.01"})]}),path:"/mobile/waste-collections",permission:"WASTE_COLLECTION.VIEW"},{id:"route-assignment",label:"Route Assignment",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT.VIEW"},{id:"assigned-hcfs",label:"Assigned HCF List",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),path:"/mobile/assigned-hcfs",permission:"ROUTE_HCF.VIEW"},{id:"scan",label:"Scan Barcode",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"hcf-master",label:"HCF Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF.VIEW"},{id:"analytics",label:"Analytics",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),t.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/mobile/analytics",permission:"REPORT.VIEW"}]},{title:"Admin",items:[{id:"users",label:"User Management",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],A=y=>{if(y.permission&&s&&s.length>0)return y2(s,y.permission);if(y.permission&&l){if(y.permission.includes("ROUTE_ASSIGNMENT")||y.permission.includes("WASTE_COLLECTION"))return Zf(l,"transaction");if(y.permission.includes("HCF"))return Zf(l,"master","hcf");if(y.permission.includes("USER"))return Zf(l,"master");if(y.permission.includes("REPORT"))return Zf(l,"report")}return!0},g=y=>{if(y.children&&y.children.length>0){const b=new Set(o);b.has(y.id)?b.delete(y.id):b.add(y.id),h(b)}else y.path&&(n(y.path),e())},m=()=>{c(),n("/mobile/login"),e()},x=y=>a.pathname===y||a.pathname.startsWith(y+"/");return k.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[r]),t.jsxs(t.Fragment,{children:[r&&t.jsx("div",{className:"mobile-drawer-overlay",onClick:e}),t.jsxs("div",{className:`mobile-drawer ${r?"mobile-drawer--open":""}`,children:[t.jsxs("div",{className:"mobile-drawer-header",children:[t.jsxs("div",{className:"mobile-drawer-profile",children:[t.jsx("div",{className:"mobile-drawer-avatar",children:d()}),t.jsxs("div",{className:"mobile-drawer-profile-info",children:[t.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-drawer-close",onClick:e,"aria-label":"Close menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"mobile-drawer-content",children:f.map(y=>{const b=y.items.filter(A);return b.length===0?null:t.jsxs("div",{className:"mobile-drawer-group",children:[t.jsx("div",{className:"mobile-drawer-group-title",children:y.title}),b.map(w=>{const N=w.children&&w.children.length>0,S=o.has(w.id),j=x(w.path);return t.jsxs("div",{children:[t.jsxs("button",{className:`mobile-drawer-item ${j?"mobile-drawer-item--active":""}`,onClick:()=>g(w),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:w.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:w.label}),N&&t.jsx("svg",{className:`mobile-drawer-item-chevron ${S?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),N&&S&&t.jsx("div",{className:"mobile-drawer-submenu",children:w.children.map(_=>t.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${x(_.path)?"mobile-drawer-item--active":""}`,onClick:()=>g(_),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:_.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:_.label})]},_.id))})]},w.id)})]},y.title)})}),t.jsx("div",{className:"mobile-drawer-footer",children:t.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:m,children:[t.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},uae=()=>{const{user:r}=pa(),[e,n]=k.useState(!1),a=()=>{if(r!=null&&r.name){const i=r.name.split(" ");return i.length>=2?`${i[0][0]}${i[1][0]}`.toUpperCase():r.name.substring(0,2).toUpperCase()}return"MW"};return t.jsxs(Mh,{children:[t.jsx(cae,{isOpen:e,onClose:()=>n(!1)}),t.jsx("div",{className:"mobile-home-template",children:t.jsxs("div",{className:"mobile-home-profile",children:[t.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[t.jsx("div",{className:"mobile-home-avatar",children:a()}),t.jsxs("div",{className:"mobile-home-profile-info",children:[t.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})};function dae(r,e){var n=Object.setPrototypeOf;n?n(r,e):r.__proto__=e}function hae(r,e){e===void 0&&(e=r.constructor);var n=Error.captureStackTrace;n&&n(r,e)}var fae=(function(){var r=function(n,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])},r(n,a)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Aae=(function(r){fae(e,r);function e(n,a){var i=this.constructor,s=r.call(this,n,a)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),dae(s,i.prototype),hae(s),s}return e})(Error),pae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lu=(function(r){pae(e,r);function e(n){n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.message=n,a}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(Aae),mae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hl=(function(r){mae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Lu),gae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ba=(function(r){gae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Lu),WF=(function(){function r(e){if(this.binarizer=e,e===null)throw new Ba("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,n,a,i){var s=this.binarizer.getLuminanceSource().crop(e,n,a,i);return new r(this.binarizer.createBinarizer(s))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),vae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Cl=(function(r){vae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Lu),xae=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),io=(function(){function r(){}return r.arraycopy=function(e,n,a,i,s){for(;s--;)a[i++]=e[n++]},r.currentTimeMillis=function(){return Date.now()},r})(),yae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),rS=(function(r){yae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Lu),bae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),u_=(function(r){bae(e,r);function e(n,a){n===void 0&&(n=void 0),a===void 0&&(a=void 0);var i=r.call(this,a)||this;return i.index=n,i.message=a,i}return e.kind="ArrayIndexOutOfBoundsException",e})(rS),wae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gl=(function(){function r(){}return r.fill=function(e,n){for(var a=0,i=e.length;a<i;a++)e[a]=n},r.fillWithin=function(e,n,a,i){r.rangeCheck(e.length,n,a);for(var s=n;s<a;s++)e[s]=i},r.rangeCheck=function(e,n,a){if(n>a)throw new Ba("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new u_(n);if(a>e)throw new u_(a)},r.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},r.create=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:n}).fill(a)})},r.createInt32Array=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:n}).fill(a)})},r.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var a=0,i=e.length;a<i;a++)if(e[a]!==n[a])return!1;return!0},r.hashCode=function(e){var n,a;if(e===null)return 0;var i=1;try{for(var s=wae(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=31*i+l}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.fillUint8Array=function(e,n){for(var a=0;a!==e.length;a++)e[a]=n},r.copyOf=function(e,n){return e.slice(0,n)},r.copyOfUint8Array=function(e,n){if(e.length<=n){var a=new Uint8Array(n);return a.set(e),a}return e.slice(0,n)},r.copyOfRange=function(e,n,a){var i=a-n,s=new Int32Array(i);return io.arraycopy(e,n,s,0,i),s},r.binarySearch=function(e,n,a){a===void 0&&(a=r.numberComparator);for(var i=0,s=e.length-1;i<=s;){var c=s+i>>1,l=a(n,e[c]);if(l>0)i=c+1;else if(l<0)s=c-1;else return c}return-i-1},r.numberComparator=function(e,n){return e-n},r})(),Si=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var a=31;return n=e<<16,n!==0&&(a-=16,e=n),n=e<<8,n!==0&&(a-=8,e=n),n=e<<4,n!==0&&(a-=4,e=n),n=e<<2,n!==0&&(a-=2,e=n),a-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,n){return Math.trunc(e/n)},r.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),yc=(function(){function r(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=r.makeArray(e):this.bits=n)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=r.makeArray(e);io.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=a[i]}var l=i*32+Si.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=~a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=~a[i]}var l=i*32+Si.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},r.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Ba;if(n!==e){n--;for(var a=Math.floor(e/32),i=Math.floor(n/32),s=this.bits,c=a;c<=i;c++){var l=c>a?0:e&31,u=c<i?31:n&31,o=(2<<u)-(1<<l);s[c]|=o}}},r.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,a=0;a<e;a++)n[a]=0},r.prototype.isRange=function(e,n,a){if(n<e||e<0||n>this.size)throw new Ba;if(n===e)return!0;n--;for(var i=Math.floor(e/32),s=Math.floor(n/32),c=this.bits,l=i;l<=s;l++){var u=l>i?0:e&31,o=l<s?31:n&31,h=(2<<o)-(1<<u)&4294967295;if((c[l]&h)!==(a?h:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Ba("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var a=n;a>0;a--)this.appendBit((e>>a-1&1)===1)},r.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var a=0;a<n;a++)this.appendBit(e.get(a))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Ba("Sizes don't match");for(var n=this.bits,a=0,i=n.length;a<i;a++)n[a]^=e.bits[a]},r.prototype.toBytes=function(e,n,a,i){for(var s=0;s<i;s++){for(var c=0,l=0;l<8;l++)this.get(e)&&(c|=1<<7-l),e++;n[a+s]=c}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,i=this.bits,s=0;s<a;s++){var c=i[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[n-s]=c}if(this.size!==a*32){for(var l=a*32-this.size,u=e[0]>>>l,s=1;s<a;s++){var o=e[s];u|=o<<32-l,e[s-1]=u,u=o>>>l}e[a-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.size===n.size&&Gl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){return 31*this.size+Gl.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",n=0,a=this.size;n<a;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],n=0,a=this.size;n<a;n++)e.push(this.get(n));return e},r})(),_4;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(_4||(_4={}));const so=_4;var jae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),mn=(function(r){jae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Lu),Cae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_s;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(_s||(_s={}));var zl=(function(){function r(e,n,a){for(var i,s,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];this.valueIdentifier=e,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(a,this);for(var u=this.values,o=0,h=u.length;o!==h;o++){var d=u[o];r.VALUES_TO_ECI.set(d,this)}try{for(var f=Cae(c),A=f.next();!A.done;A=f.next()){var g=A.value;r.NAME_TO_ECI.set(g,this)}}catch(m){i={error:m}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new mn("incorect value");var n=r.VALUES_TO_ECI.get(e);if(n===void 0)throw new mn("incorect value");return n},r.getCharacterSetECIByName=function(e){var n=r.NAME_TO_ECI.get(e);if(n===void 0)throw new mn("incorect value");return n},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.getName()===n.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(_s.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(_s.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(_s.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(_s.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(_s.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(_s.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(_s.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(_s.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(_s.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(_s.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(_s.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(_s.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(_s.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(_s.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(_s.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(_s.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(_s.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(_s.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(_s.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(_s.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(_s.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(_s.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(_s.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(_s.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(_s.Big5,28,"Big5"),r.GB18030=new r(_s.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(_s.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),Nae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),lv=(function(r){Nae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Lu),Hd=(function(){function r(){}return r.decode=function(e,n){var a=this.encodingName(n);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,n){var a=this.encodingName(n);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof zl?e:zl.getCharacterSetECIByName(e)},r.decodeFallback=function(e,n){var a=this.encodingCharacterSet(n);if(r.isDecodeFallbackSupported(a)){for(var i="",s=0,c=e.length;s<c;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(a.equals(zl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new lv("Encoding "+this.encodingName(n)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(zl.UTF8)||e.equals(zl.ISO8859_1)||e.equals(zl.ASCII)},r.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),a=n.split(""),i=[],s=0;s<a.length;s++)i.push(a[s].charCodeAt(0));return new Uint8Array(i)},r})(),qi=(function(){function r(){}return r.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var a=n?n.getName():this.ISO88591;return Hd.decode(new Uint8Array([e]),a)},r.guessEncoding=function(e,n){if(n!=null&&n.get(so.CHARACTER_SET)!==void 0)return n.get(so.CHARACTER_SET).toString();for(var a=e.length,i=!0,s=!0,c=!0,l=0,u=0,o=0,h=0,d=0,f=0,A=0,g=0,m=0,x=0,y=0,b=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<a&&(i||s||c);w++){var N=e[w]&255;c&&(l>0?(N&128)===0?c=!1:l--:(N&128)!==0&&((N&64)===0?c=!1:(l++,(N&32)===0?u++:(l++,(N&16)===0?o++:(l++,(N&8)===0?h++:c=!1))))),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&y++),s&&(d>0?N<64||N===127||N>252?s=!1:d--:N===128||N===160||N>239?s=!1:N>160&&N<224?(f++,g=0,A++,A>m&&(m=A)):N>127?(d++,A=0,g++,g>x&&(x=g)):(A=0,g=0))}return c&&l>0&&(c=!1),s&&d>0&&(s=!1),c&&(b||u+o+h>0)?r.UTF8:s&&(r.ASSUME_SHIFT_JIS||m>=3||x>=3)?r.SHIFT_JIS:i&&s?m===2&&f===2||y*10>=a?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:s?r.SHIFT_JIS:c?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=-1;function s(l,u,o,h,d,f){if(l==="%%")return"%";if(n[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var A=d?parseInt(d.substr(1)):void 0,g;switch(f){case"s":g=n[i];break;case"c":g=n[i][0];break;case"f":g=parseFloat(n[i]).toFixed(l);break;case"p":g=parseFloat(n[i]).toPrecision(l);break;case"e":g=parseFloat(n[i]).toExponential(l);break;case"x":g=parseInt(n[i]).toString(A||16);break;case"d":g=parseFloat(parseInt(n[i],A||10).toPrecision(l)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(A);for(var m=parseInt(o),x=o&&o[0]+""=="0"?"0":" ";g.length<m;)g=u!==void 0?g+x:x+g;return g}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,s)},r.getBytes=function(e,n){return Hd.encode(e,n)},r.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=zl.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=zl.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=zl.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),wi=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=qi.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,n,a){for(var i=n;n<n+a;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},r.prototype.substring=function(e,n){return this.value.substring(e,n)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},r})(),Ph=(function(){function r(e,n,a,i){if(this.width=e,this.height=n,this.rowSize=a,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Ba("Both dimensions must be greater than 0");a==null&&(a=Math.floor((e+31)/32)),this.rowSize=a,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var n=e.length,a=e[0].length,i=new r(a,n),s=0;s<n;s++)for(var c=e[s],l=0;l<a;l++)c[l]&&i.set(l,s);return i},r.parseFromString=function(e,n,a){if(e===null)throw new Ba("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,c=0,l=-1,u=0,o=0;o<e.length;)if(e.charAt(o)===`
`||e.charAt(o)==="\r"){if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ba("row lengths do not match");c=s,u++}o++}else if(e.substring(o,o+n.length)===n)o+=n.length,i[s]=!0,s++;else if(e.substring(o,o+a.length)===a)o+=a.length,i[s]=!1,s++;else throw new Ba("illegal character encountered: "+e.substring(o));if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ba("row lengths do not match");u++}for(var h=new r(l,u),d=0;d<s;d++)i[d]&&h.set(Math.floor(d%l),Math.floor(d/l));return h},r.prototype.get=function(e,n){var a=n*this.rowSize+Math.floor(e/32);return(this.bits[a]>>>(e&31)&1)!==0},r.prototype.set=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ba("input matrix dimensions do not match");for(var n=new yc(Math.floor(this.width/32)+1),a=this.rowSize,i=this.bits,s=0,c=this.height;s<c;s++)for(var l=s*a,u=e.getRow(s,n).getBitArray(),o=0;o<a;o++)i[l+o]^=u[o]},r.prototype.clear=function(){for(var e=this.bits,n=e.length,a=0;a<n;a++)e[a]=0},r.prototype.setRegion=function(e,n,a,i){if(n<0||e<0)throw new Ba("Left and top must be nonnegative");if(i<1||a<1)throw new Ba("Height and width must be at least 1");var s=e+a,c=n+i;if(c>this.height||s>this.width)throw new Ba("The region must fit inside the matrix");for(var l=this.rowSize,u=this.bits,o=n;o<c;o++)for(var h=o*l,d=e;d<s;d++)u[h+Math.floor(d/32)]|=1<<(d&31)&4294967295},r.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new yc(this.width):n.clear();for(var a=this.rowSize,i=this.bits,s=e*a,c=0;c<a;c++)n.setBulk(c*32,i[s+c]);return n},r.prototype.setRow=function(e,n){io.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),a=new yc(e),i=new yc(e),s=0,c=Math.floor((n+1)/2);s<c;s++)a=this.getRow(s,a),i=this.getRow(n-1-s,i),a.reverse(),i.reverse(),this.setRow(s,i),this.setRow(n-1-s,a)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,a=this.rowSize,i=this.bits,s=e,c=n,l=-1,u=-1,o=0;o<n;o++)for(var h=0;h<a;h++){var d=i[o*a+h];if(d!==0){if(o<c&&(c=o),o>u&&(u=o),h*32<s){for(var f=0;(d<<31-f&4294967295)===0;)f++;h*32+f<s&&(s=h*32+f)}if(h*32+31>l){for(var f=31;!(d>>>f);)f--;h*32+f>l&&(l=h*32+f)}}}return l<s||u<c?null:Int32Array.from([s,c,l-s+1,u-c+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,a=0;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;for(var i=a/e,s=a%e*32,c=n[a],l=0;(c<<31-l&4294967295)===0;)l++;return s+=l,Int32Array.from([s,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,a=n.length-1;a>=0&&n[a]===0;)a--;if(a<0)return null;for(var i=Math.floor(a/e),s=Math.floor(a%e)*32,c=n[a],l=31;!(c>>>l);)l--;return s+=l,Int32Array.from([s,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Gl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Gl.hashCode(this.bits),e},r.prototype.toString=function(e,n,a){return e===void 0&&(e="X "),n===void 0&&(n="  "),a===void 0&&(a=`
`),this.buildToString(e,n,a)},r.prototype.buildToString=function(e,n,a){for(var i=new wi,s=0,c=this.height;s<c;s++){for(var l=0,u=this.width;l<u;l++)i.append(this.get(l,s)?e:n);i.append(a)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),Sae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Br=(function(r){Sae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Lu),Bae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Eae=(function(r){Bae(e,r);function e(n){var a=r.call(this,n)||this;return a.luminances=e.EMPTY,a.buckets=new Int32Array(e.LUMINANCE_BUCKETS),a}return e.prototype.getBlackRow=function(n,a){var i=this.getLuminanceSource(),s=i.getWidth();a==null||a.getSize()<s?a=new yc(s):a.clear(),this.initArrays(s);for(var c=i.getRow(n,this.luminances),l=this.buckets,u=0;u<s;u++)l[(c[u]&255)>>e.LUMINANCE_SHIFT]++;var o=e.estimateBlackPoint(l);if(s<3)for(var u=0;u<s;u++)(c[u]&255)<o&&a.set(u);else for(var h=c[0]&255,d=c[1]&255,u=1;u<s-1;u++){var f=c[u+1]&255;(d*4-h-f)/2<o&&a.set(u),h=d,d=f}return a},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight(),s=new Ph(a,i);this.initArrays(a);for(var c=this.buckets,l=1;l<5;l++)for(var u=Math.floor(i*l/5),o=n.getRow(u,this.luminances),h=Math.floor(a*4/5),d=Math.floor(a/5);d<h;d++){var f=o[d]&255;c[f>>e.LUMINANCE_SHIFT]++}for(var A=e.estimateBlackPoint(c),g=n.getMatrix(),l=0;l<i;l++)for(var m=l*a,d=0;d<a;d++){var f=g[m+d]&255;f<A&&s.set(d,l)}return s},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var a=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)a[i]=0},e.estimateBlackPoint=function(n){for(var a=n.length,i=0,s=0,c=0,l=0;l<a;l++)n[l]>c&&(s=l,c=n[l]),n[l]>i&&(i=n[l]);for(var u=0,o=0,l=0;l<a;l++){var h=l-s,d=n[l]*h*h;d>o&&(u=l,o=d)}if(s>u){var f=s;s=u,u=f}if(u-s<=a/16)throw new Br;for(var A=u-1,g=-1,l=u-1;l>s;l--){var m=l-s,d=m*m*(u-l)*(i-n[l]);d>g&&(A=l,g=d)}return A<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(xae),Iae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$F=(function(r){Iae(e,r);function e(n){var a=r.call(this,n)||this;return a.matrix=null,a}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight();if(a>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=n.getMatrix(),c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var u=e.calculateBlackPoints(s,c,l,a,i),o=new Ph(a,i);e.calculateThresholdForBlock(s,c,l,a,i,u,o),this.matrix=o}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,a,i,s,c,l,u){for(var o=c-e.BLOCK_SIZE,h=s-e.BLOCK_SIZE,d=0;d<i;d++){var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var A=e.cap(d,2,i-3),g=0;g<a;g++){var m=g<<e.BLOCK_SIZE_POWER;m>h&&(m=h);for(var x=e.cap(g,2,a-3),y=0,b=-2;b<=2;b++){var w=l[A+b];y+=w[x-2]+w[x-1]+w[x]+w[x+1]+w[x+2]}var N=y/25;e.thresholdBlock(n,m,f,N,s,u)}}},e.cap=function(n,a,i){return n<a?a:n>i?i:n},e.thresholdBlock=function(n,a,i,s,c,l){for(var u=0,o=i*c+a;u<e.BLOCK_SIZE;u++,o+=c)for(var h=0;h<e.BLOCK_SIZE;h++)(n[o+h]&255)<=s&&l.set(a+h,i+u)},e.calculateBlackPoints=function(n,a,i,s,c){for(var l=c-e.BLOCK_SIZE,u=s-e.BLOCK_SIZE,o=new Array(i),h=0;h<i;h++){o[h]=new Int32Array(a);var d=h<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var f=0;f<a;f++){var A=f<<e.BLOCK_SIZE_POWER;A>u&&(A=u);for(var g=0,m=255,x=0,y=0,b=d*s+A;y<e.BLOCK_SIZE;y++,b+=s){for(var w=0;w<e.BLOCK_SIZE;w++){var N=n[b+w]&255;g+=N,N<m&&(m=N),N>x&&(x=N)}if(x-m>e.MIN_DYNAMIC_RANGE)for(y++,b+=s;y<e.BLOCK_SIZE;y++,b+=s)for(var w=0;w<e.BLOCK_SIZE;w++)g+=n[b+w]&255}var S=g>>e.BLOCK_SIZE_POWER*2;if(x-m<=e.MIN_DYNAMIC_RANGE&&(S=m/2,h>0&&f>0)){var j=(o[h-1][f]+2*o[h][f-1]+o[h-1][f-1])/4;m<j&&(S=j)}o[h][f]=S}}return o},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(Eae),Xg=(function(){function r(e,n){this.width=e,this.height=n}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,n,a,i){throw new lv("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new lv("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new lv("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new wi,a=0;a<this.height;a++){for(var i=this.getRow(a,e),s=0;s<this.width;s++){var c=i[s]&255,l=void 0;c<64?l="#":c<128?l="+":c<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},r})(),Tae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),cx=(function(r){Tae(e,r);function e(n){var a=r.call(this,n.getWidth(),n.getHeight())||this;return a.delegate=n,a}return e.prototype.getRow=function(n,a){for(var i=this.delegate.getRow(n,a),s=this.getWidth(),c=0;c<s;c++)i[c]=255-(i[c]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a),s=0;s<a;s++)i[s]=255-(n[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,a,i,s){return new e(this.delegate.crop(n,a,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Xg),_ae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Oae=(function(r){_ae(e,r);function e(n,a){a===void 0&&(a=!1);var i=r.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,a),i}return e.makeBufferFromCanvasImageData=function(n,a){a===void 0&&(a=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,a)},e.toGrayscaleBuffer=function(n,a,i,s){s===void 0&&(s=!1);var c=new Uint8ClampedArray(a*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,u=0,o=n.length;l<o;l+=4,u++){var h=void 0,d=n[l+3];if(d===0)h=255;else{var f=n[l],A=n[l+1],g=n[l+2];h=306*f+601*A+117*g+512>>10}c[u]=h}else for(var l=0,u=0,m=n.length;l<m;l+=4,u++){var h=void 0,d=n[l+3];if(d===0)h=255;else{var f=n[l],A=n[l+1],g=n[l+2];h=306*f+601*A+117*g+512>>10}c[u]=255-h}return c},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement(),i=a.getContext("2d"),s=n*e.DEGREE_TO_RADIANS,c=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*c+Math.abs(Math.sin(s))*l),o=Math.ceil(Math.abs(Math.sin(s))*c+Math.abs(Math.cos(s))*l);return a.width=u,a.height=o,i.translate(u/2,o/2),i.rotate(s),i.drawImage(this.canvas,c/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.prototype.invert=function(){return new cx(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Xg),kae=(function(){function r(e,n,a){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=a||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),mu=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(h){try{o(a.next(h))}catch(d){c(d)}}function u(h){try{o(a.throw(h))}catch(d){c(d)}}function o(h){h.done?s(h.value):i(h.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},gu=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(h){return u([o,h])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(h){o=[6,h],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Pae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rm=(function(){function r(e,n,a){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return mu(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,h,d,f;return gu(this,function(A){switch(A.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=A.sent(),n=[];try{for(a=Pae(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device "+(n.length+1),o=s.groupId,h={deviceId:l,label:u,kind:c,groupId:o},n.push(h))}catch(g){d={error:g}}finally{try{i&&!i.done&&(f=a.return)&&f.call(a)}finally{if(d)throw d.error}}return[2,n]}})})},r.prototype.getVideoInputDevices=function(){return mu(this,void 0,void 0,function(){var e;return gu(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(a){return new kae(a.deviceId,a.label)})]}})})},r.prototype.findDeviceById=function(e){return mu(this,void 0,void 0,function(){var n;return gu(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,n){return mu(this,void 0,void 0,function(){return gu(this,function(a){switch(a.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return mu(this,void 0,void 0,function(){var a,i;return gu(this,function(s){switch(s.label){case 0:return this.reset(),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return mu(this,void 0,void 0,function(){var a;return gu(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return mu(this,void 0,void 0,function(){var a,i;return gu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return a=s.sent(),[4,this.decodeOnce(a)];case 2:return i=s.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,a){return mu(this,void 0,void 0,function(){return gu(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,a)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return mu(this,void 0,void 0,function(){var i,s;return gu(this,function(c){switch(c.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return mu(this,void 0,void 0,function(){var i;return gu(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,n,a)];case 2:return[2,s.sent()]}})})},r.prototype.decodeFromStream=function(e,n,a){return mu(this,void 0,void 0,function(){var i;return gu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,a)];case 2:return[2,s.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,n){return mu(this,void 0,void 0,function(){var a;return gu(this,function(i){switch(i.label){case 0:return a=this.prepareVideoElement(n),this.addVideoSource(a,e),this.videoElement=a,this.stream=e,[4,this.playVideoOnLoadAsync(a)];case 1:return i.sent(),[2,a]}})})},r.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(a,i){return n.playVideoOnLoad(e,function(){return a()})})},r.prototype.playVideoOnLoad=function(e,n){var a=this;this.videoEndedListener=function(){return a.stopStreams()},this.videoCanPlayListener=function(){return a.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return mu(this,void 0,void 0,function(){return gu(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new hl("element with id '"+e+"' not found");if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new hl("element with id '"+e+"' must be an "+n+" element");return a},r.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new hl("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new hl("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,n,a){if(e===void 0&&n===void 0)throw new hl("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(e,a)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new hl("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a},r.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},r.prototype.decodeFromVideoElementContinuously=function(e,n){var a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,n)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new hl("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new hl("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var a=this._decodeOnLoadImage(n);return n.src=e,a},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new hl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=e,a},r.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new hl("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(a,n);return a.src=e,i},r.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(a,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(a,i)},e.addEventListener("load",n.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return mu(this,void 0,void 0,function(){return gu(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,n){return mu(this,void 0,void 0,function(){return gu(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return a.sent(),this.decodeContinuously(e,n),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},r.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.prototype.decodeOnce=function(e,n,a){var i=this;n===void 0&&(n=!0),a===void 0&&(a=!0),this._stopAsyncDecode=!1;var s=function(c,l){if(i._stopAsyncDecode){l(new Br("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);c(u)}catch(f){var o=n&&f instanceof Br,h=f instanceof Cl||f instanceof mn,d=h&&a;if(o||d)return setTimeout(s,i._timeBetweenDecodingAttempts,c,l);l(f)}};return new Promise(function(c,l){return s(c,l)})},r.prototype.decodeContinuously=function(e,n){var a=this;this._stopContinuousDecode=!1;var i=function(){if(a._stopContinuousDecode){a._stopContinuousDecode=void 0;return}try{var s=a.decode(e);n(s,null),setTimeout(i,a.timeBetweenScansMillis)}catch(u){n(null,u);var c=u instanceof Cl||u instanceof mn,l=u instanceof Br;(c||l)&&setTimeout(i,a._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var a=this.getCaptureCanvas(e),i=new Oae(a,n),s=new $F(i);return new WF(s)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),a=void 0;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}this.captureCanvasContext=a}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.drawImageOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),a,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=a+"px",n.style.height=i+"px",n.width=a,n.height=i,n},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),eu=(function(){function r(e,n,a,i,s,c){a===void 0&&(a=n==null?0:8*n.length),c===void 0&&(c=io.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=a,this.resultPoints=i,this.format=s,this.timestamp=c,this.text=e,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=i,this.format=s,this.resultMetadata=null,c==null?this.timestamp=io.currentTimeMillis():this.timestamp=c}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var a=new Array(n.length+e.length);io.arraycopy(n,0,a,0,n.length),io.arraycopy(e,0,a,n.length,e.length),this.resultPoints=a}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),O4;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(O4||(O4={}));const Sa=O4;var k4;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(k4||(k4={}));const Rc=k4;var ux=(function(){function r(e,n,a,i,s,c){s===void 0&&(s=-1),c===void 0&&(c=-1),this.rawBytes=e,this.text=n,this.byteSegments=a,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),L0=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ba;return this.logTable[e]},r.addOrSubtract=function(e,n){return e^n},r})(),oA=(function(){function r(e,n){if(n.length===0)throw new Ba;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-i),io.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,a;if(e===1){a=0;for(var i=0,s=n.length;i!==s;i++){var c=n[i];a=L0.addOrSubtract(a,c)}return a}a=n[0];for(var l=n.length,u=this.field,i=1;i<l;i++)a=L0.addOrSubtract(u.multiply(e,a),n[i]);return a},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ba("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;io.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=L0.addOrSubtract(n[l-c],a[l]);return new r(this.field,s)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ba("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=this.field,u=0;u<a;u++)for(var o=n[u],h=0;h<s;h++)c[u+h]=L0.addOrSubtract(c[u+h],l.multiply(o,i[h]));return new r(l,c)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,a=this.field,i=new Int32Array(n),s=this.coefficients,c=0;c<n;c++)i[c]=a.multiply(s[c],e);return new r(a,i)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ba;if(n===0)return this.field.getZero();for(var a=this.coefficients,i=a.length,s=new Int32Array(i+e),c=this.field,l=0;l<i;l++)s[l]=c.multiply(a[l],n);return new r(c,s)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ba("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ba("Divide by 0");for(var n=this.field,a=n.getZero(),i=this,s=e.getCoefficient(e.getDegree()),c=n.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),u=n.multiply(i.getCoefficient(i.getDegree()),c),o=e.multiplyByMonomial(l,u),h=n.buildMonomial(l,u);a=a.addOrSubtract(h),i=i.addOrSubtract(o)}return[a,i]},r.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);if(a!==0){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),n===0||a!==1){var i=this.field.log(a);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},r})(),Fae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),VF=(function(r){Fae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Lu),Dae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Du=(function(r){Dae(e,r);function e(n,a,i){var s=r.call(this)||this;s.primitive=n,s.size=a,s.generatorBase=i;for(var c=new Int32Array(a),l=1,u=0;u<a;u++)c[u]=l,l*=2,l>=a&&(l^=n,l&=a-1);s.expTable=c;for(var o=new Int32Array(a),u=0;u<a-1;u++)o[c[u]]=u;return s.logTable=o,s.zero=new oA(s,Int32Array.from([0])),s.one=new oA(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ba;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new oA(this,i)},e.prototype.inverse=function(n){if(n===0)throw new VF;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Si.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(L0),Mae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),J1=(function(r){Mae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Lu),Rae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Yg=(function(r){Rae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Lu),dx=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,n){for(var a=this.field,i=new oA(a,e),s=new Int32Array(n),c=!0,l=0;l<n;l++){var u=i.evaluateAt(a.exp(l+a.getGeneratorBase()));s[s.length-1-l]=u,u!==0&&(c=!1)}if(!c)for(var o=new oA(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(n,1),o,n),d=h[0],f=h[1],A=this.findErrorLocations(d),g=this.findErrorMagnitudes(f,A),l=0;l<A.length;l++){var m=e.length-1-a.log(A[l]);if(m<0)throw new J1("Bad error location");e[m]=Du.addOrSubtract(e[m],g[l])}},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=this.field,c=e,l=n,u=s.getZero(),o=s.getOne();l.getDegree()>=(a/2|0);){var h=c,d=u;if(c=l,u=o,c.isZero())throw new J1("r_{i-1} was zero");l=h;for(var f=s.getZero(),A=c.getCoefficient(c.getDegree()),g=s.inverse(A);l.getDegree()>=c.getDegree()&&!l.isZero();){var m=l.getDegree()-c.getDegree(),x=s.multiply(l.getCoefficient(l.getDegree()),g);f=f.addOrSubtract(s.buildMonomial(m,x)),l=l.addOrSubtract(c.multiplyByMonomial(m,x))}if(o=f.multiply(u).addOrSubtract(d),l.getDegree()>=c.getDegree())throw new Yg("Division algorithm failed to reduce polynomial?")}var y=o.getCoefficient(0);if(y===0)throw new J1("sigmaTilde(0) was zero");var b=s.inverse(y),w=o.multiplyScalar(b),N=l.multiplyScalar(b);return[w,N]},r.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var a=new Int32Array(n),i=0,s=this.field,c=1;c<s.getSize()&&i<n;c++)e.evaluateAt(c)===0&&(a[i]=s.inverse(c),i++);if(i!==n)throw new J1("Error locator degree does not match number of roots");return a},r.prototype.findErrorMagnitudes=function(e,n){for(var a=n.length,i=new Int32Array(a),s=this.field,c=0;c<a;c++){for(var l=s.inverse(n[c]),u=1,o=0;o<a;o++)if(c!==o){var h=s.multiply(n[o],l),d=(h&1)===0?h|1:h&-2;u=s.multiply(u,d)}i[c]=s.multiply(e.evaluateAt(l),s.inverse(u)),s.getGeneratorBase()!==0&&(i[c]=s.multiply(i[c],l))}return i},r})(),Fc;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Fc||(Fc={}));var d_=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),a=this.extractBits(n),i=this.correctBits(a),s=r.convertBoolArrayToByteArray(i),c=r.getEncodedData(i),l=new ux(s,c,null,null);return l.setNumBits(i.length),l},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var n=e.length,a=Fc.UPPER,i=Fc.UPPER,s="",c=0;c<n;)if(i===Fc.BINARY){if(n-c<5)break;var l=r.readCode(e,c,5);if(c+=5,l===0){if(n-c<11)break;l=r.readCode(e,c,11)+31,c+=11}for(var u=0;u<l;u++){if(n-c<8){c=n;break}var o=r.readCode(e,c,8);s+=qi.castAsNonUtf8Char(o),c+=8}i=a}else{var h=i===Fc.DIGIT?4:5;if(n-c<h)break;var o=r.readCode(e,c,h);c+=h;var d=r.getCharacter(i,o);d.startsWith("CTRL_")?(a=i,i=r.getTable(d.charAt(5)),d.charAt(6)==="L"&&(a=i)):(s+=d,i=a)}return s},r.getTable=function(e){switch(e){case"L":return Fc.LOWER;case"P":return Fc.PUNCT;case"M":return Fc.MIXED;case"D":return Fc.DIGIT;case"B":return Fc.BINARY;case"U":default:return Fc.UPPER}},r.getCharacter=function(e,n){switch(e){case Fc.UPPER:return r.UPPER_TABLE[n];case Fc.LOWER:return r.LOWER_TABLE[n];case Fc.MIXED:return r.MIXED_TABLE[n];case Fc.PUNCT:return r.PUNCT_TABLE[n];case Fc.DIGIT:return r.DIGIT_TABLE[n];default:throw new Yg("Bad table")}},r.prototype.correctBits=function(e){var n,a;this.ddata.getNbLayers()<=2?(a=6,n=Du.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Du.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Du.AZTEC_DATA_10):(a=12,n=Du.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/a;if(s<i)throw new mn;for(var c=e.length%a,l=new Int32Array(s),u=0;u<s;u++,c+=a)l[u]=r.readCode(e,c,a);try{var o=new dx(n);o.decode(l,s-i)}catch(x){throw new mn(x)}for(var h=(1<<a)-1,d=0,u=0;u<i;u++){var f=l[u];if(f===0||f===h)throw new mn;(f===1||f===h-1)&&d++}for(var A=new Array(i*a-d),g=0,u=0;u<i;u++){var f=l[u];if(f===1||f===h-1)A.fill(f>1,g,g+a-1),g+=a-1;else for(var m=a-1;m>=0;--m)A[g++]=(f&1<<m)!==0}return A},r.prototype.extractBits=function(e){var n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),i=(n?11:14)+a*4,s=new Int32Array(i),c=new Array(this.totalBitsInLayer(a,n));if(n)for(var l=0;l<s.length;l++)s[l]=l;else for(var u=i+1+2*Si.truncDivision(Si.truncDivision(i,2)-1,15),o=i/2,h=Si.truncDivision(u,2),l=0;l<o;l++){var d=l+Si.truncDivision(l,15);s[o-l-1]=h-d-1,s[o+l]=h+d+1}for(var l=0,f=0;l<a;l++){for(var A=(a-l)*4+(n?9:12),g=l*2,m=i-1-g,x=0;x<A;x++)for(var y=x*2,b=0;b<2;b++)c[f+y+b]=e.get(s[g+b],s[g+x]),c[f+2*A+y+b]=e.get(s[g+x],s[m-b]),c[f+4*A+y+b]=e.get(s[m-b],s[m-x]),c[f+6*A+y+b]=e.get(s[m-x],s[g+b]);f+=A*8}return c},r.readCode=function(e,n,a){for(var i=0,s=n;s<n+a;s++)i<<=1,e[s]&&(i|=1);return i},r.readByte=function(e,n){var a=e.length-n;return a>=8?r.readCode(e,n,8):r.readCode(e,n,a)<<8-a},r.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),a=0;a<n.length;a++)n[a]=r.readByte(e,8*a);return n},r.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),is=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,n,a,i){var s=e-a,c=n-i;return Math.sqrt(s*s+c*c)},r.sum=function(e){for(var n=0,a=0,i=e.length;a!==i;a++){var s=e[a];n+=s}return n},r})(),P4=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),na=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var n=e;return this.x===n.x&&this.y===n.y}return!1},r.prototype.hashCode=function(){return 31*P4.floatToIntBits(this.x)+P4.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,c,l;if(a>=n&&a>=i?(c=e[0],s=e[1],l=e[2]):i>=a&&i>=n?(c=e[1],s=e[0],l=e[2]):(c=e[2],s=e[0],l=e[1]),this.crossProductZ(s,c,l)<0){var u=s;s=l,l=u}e[0]=s,e[1]=c,e[2]=l},r.distance=function(e,n){return is.distance(e.x,e.y,n.x,n.y)},r.crossProductZ=function(e,n,a){var i=n.x,s=n.y;return(a.x-i)*(e.y-s)-(a.y-s)*(e.x-i)},r})(),nS=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Lae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Uae=(function(r){Lae(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=c,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(nS),F4=(function(){function r(e,n,a,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=r.INIT_SIZE),a==null&&(a=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=n/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Br}return r.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,a=this.upInit,i=this.downInit,s=!1,c=!0,l=!1,u=!1,o=!1,h=!1,d=!1,f=this.width,A=this.height;c;){c=!1;for(var g=!0;(g||!u)&&n<f;)g=this.containsBlackPoint(a,i,n,!1),g?(n++,c=!0,u=!0):u||n++;if(n>=f){s=!0;break}for(var m=!0;(m||!o)&&i<A;)m=this.containsBlackPoint(e,n,i,!0),m?(i++,c=!0,o=!0):o||i++;if(i>=A){s=!0;break}for(var x=!0;(x||!h)&&e>=0;)x=this.containsBlackPoint(a,i,e,!1),x?(e--,c=!0,h=!0):h||e--;if(e<0){s=!0;break}for(var y=!0;(y||!d)&&a>=0;)y=this.containsBlackPoint(e,n,a,!0),y?(a--,c=!0,d=!0):d||a--;if(a<0){s=!0;break}c&&(l=!0)}if(!s&&l){for(var b=n-e,w=null,N=1;w===null&&N<b;N++)w=this.getBlackPointOnSegment(e,i-N,e+N,i);if(w==null)throw new Br;for(var S=null,N=1;S===null&&N<b;N++)S=this.getBlackPointOnSegment(e,a+N,e+N,a);if(S==null)throw new Br;for(var j=null,N=1;j===null&&N<b;N++)j=this.getBlackPointOnSegment(n,a+N,n-N,a);if(j==null)throw new Br;for(var _=null,N=1;_===null&&N<b;N++)_=this.getBlackPointOnSegment(n,i-N,n-N,i);if(_==null)throw new Br;return this.centerEdges(_,w,j,S)}else throw new Br},r.prototype.getBlackPointOnSegment=function(e,n,a,i){for(var s=is.round(is.distance(e,n,a,i)),c=(a-e)/s,l=(i-n)/s,u=this.image,o=0;o<s;o++){var h=is.round(e+o*c),d=is.round(n+o*l);if(u.get(h,d))return new na(h,d)}return null},r.prototype.centerEdges=function(e,n,a,i){var s=e.getX(),c=e.getY(),l=n.getX(),u=n.getY(),o=a.getX(),h=a.getY(),d=i.getX(),f=i.getY(),A=r.CORR;return s<this.width/2?[new na(d-A,f+A),new na(l+A,u+A),new na(o-A,h-A),new na(s+A,c-A)]:[new na(d+A,f+A),new na(l+A,u-A),new na(o-A,h+A),new na(s-A,c-A)]},r.prototype.containsBlackPoint=function(e,n,a,i){var s=this.image;if(i){for(var c=e;c<=n;c++)if(s.get(c,a))return!0}else for(var l=e;l<=n;l++)if(s.get(a,l))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),h_=(function(){function r(){}return r.checkAndNudgePoints=function(e,n){for(var a=e.getWidth(),i=e.getHeight(),s=!0,c=0;c<n.length&&s;c+=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Br;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}s=!0;for(var c=n.length-2;c>=0&&s;c-=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Br;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}},r})(),zF=(function(){function r(e,n,a,i,s,c,l,u,o){this.a11=e,this.a21=n,this.a31=a,this.a12=i,this.a22=s,this.a32=c,this.a13=l,this.a23=u,this.a33=o}return r.quadrilateralToQuadrilateral=function(e,n,a,i,s,c,l,u,o,h,d,f,A,g,m,x){var y=r.quadrilateralToSquare(e,n,a,i,s,c,l,u),b=r.squareToQuadrilateral(o,h,d,f,A,g,m,x);return b.times(y)},r.prototype.transformPoints=function(e){for(var n=e.length,a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,h=this.a32,d=this.a33,f=0;f<n;f+=2){var A=e[f],g=e[f+1],m=s*A+u*g+d;e[f]=(a*A+c*g+o)/m,e[f+1]=(i*A+l*g+h)/m}},r.prototype.transformPointsWithValues=function(e,n){for(var a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,h=this.a32,d=this.a33,f=e.length,A=0;A<f;A++){var g=e[A],m=n[A],x=s*g+u*m+d;e[A]=(a*g+c*m+o)/x,n[A]=(i*g+l*m+h)/x}},r.squareToQuadrilateral=function(e,n,a,i,s,c,l,u){var o=e-a+s-l,h=n-i+c-u;if(o===0&&h===0)return new r(a-e,s-a,e,i-n,c-i,n,0,0,1);var d=a-s,f=l-s,A=i-c,g=u-c,m=d*g-f*A,x=(o*g-f*h)/m,y=(d*h-o*A)/m;return new r(a-e+x*a,l-e+y*l,e,i-n+x*i,u-n+y*u,n,x,y,1)},r.quadrilateralToSquare=function(e,n,a,i,s,c,l,u){return r.squareToQuadrilateral(e,n,a,i,s,c,l,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),Hae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Qae=(function(r){Hae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,a,i,s,c,l,u,o,h,d,f,A,g,m,x,y,b,w,N){var S=zF.quadrilateralToQuadrilateral(s,c,l,u,o,h,d,f,A,g,m,x,y,b,w,N);return this.sampleGridWithTransform(n,a,i,S)},e.prototype.sampleGridWithTransform=function(n,a,i,s){if(a<=0||i<=0)throw new Br;for(var c=new Ph(a,i),l=new Float32Array(2*a),u=0;u<i;u++){for(var o=l.length,h=u+.5,d=0;d<o;d+=2)l[d]=d/2+.5,l[d+1]=h;s.transformPoints(l),h_.checkAndNudgePoints(n,l);try{for(var d=0;d<o;d+=2)n.get(Math.floor(l[d]),Math.floor(l[d+1]))&&c.set(d/2,u)}catch{throw new Br}}return c},e})(h_),aS=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new Qae,r})(),Fu=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.toResultPoint=function(){return new na(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),Wae=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(e){var i=a[0];a[0]=a[2],a[2]=i}this.extractParameters(a);var s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new Uae(s,c,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Br;var n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(a,n);for(var i=0,s=0;s<4;s++){var c=a[(this.shift+s)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&992)+(c>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},r.prototype.getRotation=function(e,n){var a=0;e.forEach(function(s,c,l){var u=(s>>n-2<<1)+(s&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(var i=0;i<4;i++)if(Si.bitCount(a^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Br},r.prototype.getCorrectedParameterData=function(e,n){var a,i;n?(a=7,i=2):(a=10,i=4);for(var s=a-i,c=new Int32Array(a),l=a-1;l>=0;--l)c[l]=e&15,e>>=4;try{var u=new dx(Du.AZTEC_PARAM);u.decode(c,s)}catch{throw new Br}for(var o=0,l=0;l<i;l++)o=(o<<4)+c[l];return o},r.prototype.getBullsEyeCorners=function(e){var n=e,a=e,i=e,s=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,c,1,-1),u=this.getFirstDifferent(a,c,1,1),o=this.getFirstDifferent(i,c,-1,1),h=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(l,u,o,h))break}n=l,a=u,i=o,s=h,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Br;this.compact=this.nbCenterLayers===5;var f=new na(n.getX()+.5,n.getY()-.5),A=new na(a.getX()+.5,a.getY()+.5),g=new na(i.getX()-.5,i.getY()+.5),m=new na(s.getX()-.5,s.getY()-.5);return this.expandSquare([f,A,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,n,a,i;try{var s=new F4(this.image).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{var c=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Fu(c+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Fu(c+7,l+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Fu(c-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Fu(c-7,l-7),!1,-1,-1).toResultPoint()}var u=is.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=is.round((e.getY()+i.getY()+n.getY()+a.getY())/4);try{var s=new F4(this.image,15,u,o).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Fu(u+7,o-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Fu(u+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Fu(u-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Fu(u-7,o-7),!1,-1,-1).toResultPoint()}return u=is.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=is.round((e.getY()+i.getY()+n.getY()+a.getY())/4),new Fu(u,o)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,n,a,i,s){var c=aS.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,o=l/2+this.nbCenterLayers;return c.sampleGrid(e,l,l,u,u,o,u,o,o,u,o,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),s.getX(),s.getY())},r.prototype.sampleLine=function(e,n,a){for(var i=0,s=this.distanceResultPoint(e,n),c=s/a,l=e.getX(),u=e.getY(),o=c*(n.getX()-e.getX())/s,h=c*(n.getY()-e.getY())/s,d=0;d<a;d++)this.image.get(is.round(l+d*o),is.round(u+d*h))&&(i|=1<<a-d-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,n,a,i){var s=3;e=new Fu(e.getX()-s,e.getY()+s),n=new Fu(n.getX()-s,n.getY()-s),a=new Fu(a.getX()+s,a.getY()-s),i=new Fu(i.getX()+s,i.getY()+s);var c=this.getColor(i,e);if(c===0)return!1;var l=this.getColor(e,n);return l!==c||(l=this.getColor(n,a),l!==c)?!1:(l=this.getColor(a,i),l===c)},r.prototype.getColor=function(e,n){for(var a=this.distancePoint(e,n),i=(n.getX()-e.getX())/a,s=(n.getY()-e.getY())/a,c=0,l=e.getX(),u=e.getY(),o=this.image.get(e.getX(),e.getY()),h=Math.ceil(a),d=0;d<h;d++)l+=i,u+=s,this.image.get(is.round(l),is.round(u))!==o&&c++;var f=c/a;return f>.1&&f<.9?0:f<=.1===o?1:-1},r.prototype.getFirstDifferent=function(e,n,a,i){for(var s=e.getX()+a,c=e.getY()+i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a,c+=i;for(s-=a,c-=i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a;for(s-=a;this.isValid(s,c)&&this.image.get(s,c)===n;)c+=i;return c-=i,new Fu(s,c)},r.prototype.expandSquare=function(e,n,a){var i=a/(2*n),s=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,o=new na(l+i*s,u+i*c),h=new na(l-i*s,u-i*c);s=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var d=new na(l+i*s,u+i*c),f=new na(l-i*s,u-i*c),A=[o,d,h,f];return A},r.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},r.prototype.isValidPoint=function(e){var n=is.round(e.getX()),a=is.round(e.getY());return this.isValid(n,a)},r.prototype.distancePoint=function(e,n){return is.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.distanceResultPoint=function(e,n){return is.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Si.truncDivision(this.nbLayers-4,8)+1)+15},r})(),f2=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=null,i=new Wae(e.getBlackMatrix()),s=null,c=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new d_().decode(l)}catch(d){a=d}if(c==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new d_().decode(l)}catch(d){throw a??d}var u=new eu(c.getText(),c.getRawBytes(),c.getNumBits(),s,Sa.AZTEC,io.currentTimeMillis()),o=c.getByteSegments();o!=null&&u.putMetadata(Rc.BYTE_SEGMENTS,o);var h=c.getECLevel();return h!=null&&u.putMetadata(Rc.ERROR_CORRECTION_LEVEL,h),u},r.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var a=e.get(so.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach(function(i,s,c){a.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r})(),$ae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){$ae(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new f2,n)||this}return e})(Rm);var Xl=(function(){function r(){}return r.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var a=n&&n.get(so.TRY_HARDER)===!0;if(a&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,n),c=s.getResultMetadata(),l=270;c!==null&&c.get(Rc.ORIENTATION)===!0&&(l=l+c.get(Rc.ORIENTATION)%360),s.putMetadata(Rc.ORIENTATION,l);var u=s.getResultPoints();if(u!==null)for(var o=i.getHeight(),h=0;h<u.length;h++)u[h]=new na(o-u[h].getY()-1,u[h].getX());return s}else throw new Br}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,n){var a=e.getWidth(),i=e.getHeight(),s=new yc(a),c=n&&n.get(so.TRY_HARDER)===!0,l=Math.max(1,i>>(c?8:5)),u;c?u=i:u=15;for(var o=Math.trunc(i/2),h=0;h<u;h++){var d=Math.trunc((h+1)/2),f=(h&1)===0,A=o+l*(f?d:-d);if(A<0||A>=i)break;try{s=e.getBlackRow(A,s)}catch{continue}for(var g=function(b){if(b===1&&(s.reverse(),n&&n.get(so.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;n.forEach(function(j,_){return w.set(_,j)}),w.delete(so.NEED_RESULT_POINT_CALLBACK),n=w}try{var N=m.decodeRow(A,s,n);if(b===1){N.putMetadata(Rc.ORIENTATION,180);var S=N.getResultPoints();S!==null&&(S[0]=new na(a-S[0].getX()-1,S[0].getY()),S[1]=new na(a-S[1].getX()-1,S[1].getY()))}return{value:N}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new Br},r.recordPattern=function(e,n,a){for(var i=a.length,s=0;s<i;s++)a[s]=0;var c=e.getSize();if(n>=c)throw new Br;for(var l=!e.get(n),u=0,o=n;o<c;){if(e.get(o)!==l)a[u]++;else{if(++u===i)break;a[u]=1,l=!l}o++}if(!(u===i||u===i-1&&o===c))throw new Br},r.recordPatternInReverse=function(e,n,a){for(var i=a.length,s=e.get(n);n>0&&i>=0;)e.get(--n)!==s&&(i--,s=!s);if(i>=0)throw new Br;r.recordPattern(e,n+1,a)},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return Number.POSITIVE_INFINITY;var u=s/c;a*=u;for(var o=0,h=0;h<i;h++){var d=e[h],f=n[h]*u,A=d>f?d-f:f-d;if(A>a)return Number.POSITIVE_INFINITY;o+=A}return o/s},r})(),Vae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),f_=(function(r){Vae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var a=n.getSize(),i=n.getNextSet(0),s=0,c=Int32Array.from([0,0,0,0,0,0]),l=i,u=!1,o=6,h=i;h<a;h++)if(n.get(h)!==u)c[s]++;else{if(s===o-1){for(var d=e.MAX_AVG_VARIANCE,f=-1,A=e.CODE_START_A;A<=e.CODE_START_C;A++){var g=Xl.patternMatchVariance(c,e.CODE_PATTERNS[A],e.MAX_INDIVIDUAL_VARIANCE);g<d&&(d=g,f=A)}if(f>=0&&n.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,f]);l+=c[0]+c[1],c=c.slice(2,c.length),c[s-1]=0,c[s]=0,s--}else s++;c[s]=1,u=!u}throw new Br},e.decodeCode=function(n,a,i){Xl.recordPattern(n,i,a);for(var s=e.MAX_AVG_VARIANCE,c=-1,l=0;l<e.CODE_PATTERNS.length;l++){var u=e.CODE_PATTERNS[l],o=this.patternMatchVariance(a,u,e.MAX_INDIVIDUAL_VARIANCE);o<s&&(s=o,c=l)}if(c>=0)return c;throw new Br},e.prototype.decodeRow=function(n,a,i){var s=i&&i.get(so.ASSUME_GS1)===!0,c=e.findStartPattern(a),l=c[2],u=0,o=new Uint8Array(20);o[u++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new mn}for(var d=!1,f=!1,A="",g=c[0],m=c[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,b=0,w=l,N=0,S=!0,j=!1,_=!1;!d;){var P=f;switch(f=!1,y=b,b=e.decodeCode(a,x,m),o[u++]=b,b!==e.CODE_STOP&&(S=!0),b!==e.CODE_STOP&&(N++,w+=N*b),g=m,m+=x.reduce(function(ye,ne){return ye+ne},0),b){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new mn}switch(h){case e.CODE_CODE_A:if(b<64)_===j?A+=String.fromCharCode(32+b):A+=String.fromCharCode(32+b+128),_=!1;else if(b<96)_===j?A+=String.fromCharCode(b-64):A+=String.fromCharCode(b+64),_=!1;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!j&&_?(j=!0,_=!1):j&&_?(j=!1,_=!1):_=!0;break;case e.CODE_SHIFT:f=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_B:if(b<96)_===j?A+=String.fromCharCode(32+b):A+=String.fromCharCode(32+b+128),_=!1;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!j&&_?(j=!0,_=!1):j&&_?(j=!1,_=!1):_=!0;break;case e.CODE_SHIFT:f=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_C:if(b<100)b<10&&(A+="0"),A+=b;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:d=!0;break}break}P&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var Z=m-g;if(m=a.getNextUnset(m),!a.isRange(m,Math.min(a.getSize(),m+(m-g)/2),!1))throw new Br;if(w-=N*y,w%103!==y)throw new Cl;var ee=A.length;if(ee===0)throw new Br;ee>0&&S&&(h===e.CODE_CODE_C?A=A.substring(0,ee-2):A=A.substring(0,ee-1));for(var K=(c[1]+c[0])/2,ae=g+Z/2,D=o.length,q=new Uint8Array(D),$=0;$<D;$++)q[$]=o[$];var L=[new na(K,n),new na(ae,n)];return new eu(A,q,0,L,Sa.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Xl),zae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A_=(function(r){zae(e,r);function e(n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var i=r.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=a,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.counters;o.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(a,o),d=a.getNextSet(h[1]),f=a.getSize(),A,g;do{e.recordPattern(a,d,o);var m=e.toNarrowWidePattern(o);if(m<0)throw new Br;A=e.patternToChar(m),this.decodeRowResult+=A,g=d;try{for(var x=(s=void 0,qj(o)),y=x.next();!y.done;y=x.next()){var b=y.value;d+=b}}catch(D){s={error:D}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}d=a.getNextSet(d)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=qj(o),S=N.next();!S.done;S=N.next()){var b=S.value;w+=b}}catch(D){l={error:D}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}var j=d-g-w;if(d!==f&&j*2<w)throw new Br;if(this.usingCheckDigit){for(var _=this.decodeRowResult.length-1,P=0,Z=0;Z<_;Z++)P+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(_)!==e.ALPHABET_STRING.charAt(P%43))throw new Cl;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new Br;var ee;this.extendedMode?ee=e.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;var K=(h[1]+h[0])/2,ae=g+w/2;return new eu(ee,null,0,[new na(K,n),new na(ae,n)],Sa.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,a){for(var i=n.getSize(),s=n.getNextSet(0),c=0,l=s,u=!1,o=a.length,h=s;h<i;h++)if(n.get(h)!==u)a[c]++;else{if(c===o-1){if(this.toNarrowWidePattern(a)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new Br},e.toNarrowWidePattern=function(n){var a,i,s=n.length,c=0,l;do{var u=2147483647;try{for(var o=(a=void 0,qj(n)),h=o.next();!h.done;h=o.next()){var d=h.value;d<u&&d>c&&(u=d)}}catch(m){a={error:m}}finally{try{h&&!h.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}c=u,l=0;for(var f=0,A=0,g=0;g<s;g++){var d=n[g];d>c&&(A|=1<<s-1-g,l++,f+=d)}if(l===3){for(var g=0;g<s&&l>0;g++){var d=n[g];if(d>c&&(l--,d*2>=f))return-1}return A}}while(l>3);return-1},e.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);if(n===e.ASTERISK_ENCODING)return"*";throw new Br},e.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c==="+"||c==="$"||c==="%"||c==="/"){var l=n.charAt(s+1),u="\0";switch(c){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new mn;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new mn;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new mn;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new mn;break}i+=u,s++}else i+=c}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Xl),Kae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Xj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p_=(function(r){Kae(e,r);function e(){var n=r.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.findAsteriskPattern(a),h=a.getNextSet(o[1]),d=a.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var A,g;do{e.recordPattern(a,h,f);var m=this.toPattern(f);if(m<0)throw new Br;A=this.patternToChar(m),this.decodeRowResult+=A,g=h;try{for(var x=(s=void 0,Xj(f)),y=x.next();!y.done;y=x.next()){var b=y.value;h+=b}}catch(Z){s={error:Z}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}h=a.getNextSet(h)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=Xj(f),S=N.next();!S.done;S=N.next()){var b=S.value;w+=b}}catch(Z){l={error:Z}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}if(h===d||!a.get(h))throw new Br;if(this.decodeRowResult.length<2)throw new Br;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var j=this.decodeExtended(this.decodeRowResult),_=(o[1]+o[0])/2,P=g+w/2;return new eu(j,null,0,[new na(_,n),new na(P,n)],Sa.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var a=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var s=this.counters,c=i,l=!1,u=s.length,o=0,h=i;h<a;h++)if(n.get(h)!==l)s[o]++;else{if(o===u-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([c,h]);c+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new Br},e.prototype.toPattern=function(n){var a,i,s=0;try{for(var c=Xj(n),l=c.next();!l.done;l=c.next()){var u=l.value;s+=u}}catch(g){a={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}for(var o=0,h=n.length,d=0;d<h;d++){var f=Math.round(n[d]*9/s);if(f<1||f>4)return-1;if((d&1)===0)for(var A=0;A<f;A++)o=o<<1|1;else o<<=f}return o},e.prototype.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);throw new Br},e.prototype.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c>="a"&&c<="d"){if(s>=a-1)throw new mn;var l=n.charAt(s+1),u="\0";switch(c){case"d":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new mn;break;case"a":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new mn;break;case"b":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l>="X"&&l<="Z")u="";else throw new mn;break;case"c":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new mn;break}i+=u,s++}else i+=c}return i},e.prototype.checkChecksums=function(n){var a=n.length;this.checkOneChecksum(n,a-2,20),this.checkOneChecksum(n,a-1,15)},e.prototype.checkOneChecksum=function(n,a,i){for(var s=1,c=0,l=a-1;l>=0;l--)c+=s*e.ALPHABET_STRING.indexOf(n.charAt(l)),++s>i&&(s=1);if(n.charAt(a)!==e.ALPHABET_STRING[c%47])throw new Cl},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Xl),Gae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m_=(function(r){Gae(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,a,i){var s,c,l=this.decodeStart(a),u=this.decodeEnd(a),o=new wi;e.decodeMiddle(a,l[1],u[0],o);var h=o.toString(),d=null;i!=null&&(d=i.get(so.ALLOWED_LENGTHS)),d==null&&(d=e.DEFAULT_ALLOWED_LENGTHS);var f=h.length,A=!1,g=0;try{for(var m=qae(d),x=m.next();!x.done;x=m.next()){var y=x.value;if(f===y){A=!0;break}y>g&&(g=y)}}catch(N){s={error:N}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}if(!A&&f>g&&(A=!0),!A)throw new mn;var b=[new na(l[1],n),new na(u[0],n)],w=new eu(h,null,0,b,Sa.ITF,new Date().getTime());return w},e.decodeMiddle=function(n,a,i,s){var c=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(c.fill(0),l.fill(0),u.fill(0);a<i;){Xl.recordPattern(n,a,c);for(var o=0;o<5;o++){var h=2*o;l[o]=c[h],u[o]=c[h+1]}var d=e.decodeDigit(l);s.append(d.toString()),d=this.decodeDigit(u),s.append(d.toString()),c.forEach(function(f){a+=f})}},e.prototype.decodeStart=function(n){var a=e.skipWhiteSpace(n),i=e.findGuardPattern(n,a,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,a){var i=this.narrowLineWidth*10;i=i<a?i:a;for(var s=a-1;i>0&&s>=0&&!n.get(s);s--)i--;if(i!==0)throw new Br},e.skipWhiteSpace=function(n){var a=n.getSize(),i=n.getNextSet(0);if(i===a)throw new Br;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var a=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[0])}catch(c){c instanceof Br&&(i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var s=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-s,i}finally{n.reverse()}},e.findGuardPattern=function(n,a,i){var s=i.length,c=new Int32Array(s),l=n.getSize(),u=!1,o=0,h=a;c.fill(0);for(var d=a;d<l;d++)if(n.get(d)!==u)c[o]++;else{if(o===s-1){if(Xl.patternMatchVariance(c,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,d];h+=c[0]+c[1],io.arraycopy(c,2,c,0,o-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,u=!u}throw new Br},e.decodeDigit=function(n){for(var a=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,c=0;c<s;c++){var l=e.PATTERNS[c],u=Xl.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,i=c):u===a&&(i=-1)}if(i>=0)return i%10;throw new Br},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Xl),Xae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bm=(function(r){Xae(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var a=!1,i,s=0,c=Int32Array.from([0,0,0]);!a;){c=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,s,!1,this.START_END_PATTERN,c);var l=i[0];s=i[1];var u=l-(s-l);u>=0&&(a=n.isRange(u,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,a,i,s){return this.findGuardPattern(n,a,i,s,new Int32Array(s.length))},e.findGuardPattern=function(n,a,i,s,c){var l=n.getSize();a=i?n.getNextUnset(a):n.getNextSet(a);for(var u=0,o=a,h=s.length,d=i,f=a;f<l;f++)if(n.get(f)!==d)c[u]++;else{if(u===h-1){if(Xl.patternMatchVariance(c,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([o,f]);o+=c[0]+c[1];for(var A=c.slice(2,c.length),g=0;g<u-1;g++)c[g]=A[g];c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,d=!d}throw new Br},e.decodeDigit=function(n,a,i,s){this.recordPattern(n,i,a);for(var c=this.MAX_AVG_VARIANCE,l=-1,u=s.length,o=0;o<u;o++){var h=s[o],d=Xl.patternMatchVariance(a,h,e.MAX_INDIVIDUAL_VARIANCE);d<c&&(c=d,l=o)}if(l>=0)return l;throw new Br},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Xl),Yae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zae=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new na((a[0]+a[1])/2,e),new na(s,e)],o=new eu(c,null,0,u,Sa.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,h=0;h<5&&u<l;h++){var d=Bm.decodeDigit(e,c,u,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var f=(i=void 0,Yae(c)),A=f.next();!A.done;A=f.next()){var g=A.value;u+=g}}catch(x){i={error:x}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}d>=10&&(o|=1<<4-h),h!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==5)throw new Br;var m=this.determineCheckDigit(o);if(r.extensionChecksum(a.toString())!==m)throw new Br;return u},r.extensionChecksum=function(e){for(var n=e.length,a=0,i=n-2;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;a*=3;for(var i=n-1;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;return a*=3,a%10},r.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Br},r.parseExtensionString=function(e){if(e.length!==5)return null;var n=r.parseExtension5String(e);return n==null?null:new Map([[Rc.SUGGESTED_PRICE,n]])},r.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var a=parseInt(e.substring(1)),i=(a/100).toString(),s=a%100,c=s<10?"0"+s:s.toString();return n+i+"."+c},r})(),Jae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eie=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new na((a[0]+a[1])/2,e),new na(s,e)],o=new eu(c,null,0,u,Sa.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,h=0;h<2&&u<l;h++){var d=Bm.decodeDigit(e,c,u,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var f=(i=void 0,Jae(c)),A=f.next();!A.done;A=f.next()){var g=A.value;u+=g}}catch(m){i={error:m}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}d>=10&&(o|=1<<1-h),h!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==2)throw new Br;if(parseInt(a.toString())%4!==o)throw new Br;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Rc.ISSUE_NUMBER,parseInt(e)]])},r})(),tie=(function(){function r(){}return r.decodeRow=function(e,n,a){var i=Bm.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new Zae;return s.decodeRow(e,n,i)}catch{var c=new eie;return c.decodeRow(e,n,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),rie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$l=(function(r){rie(e,r);function e(){var n=r.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var a=10;a<20;a++){for(var i=e.L_PATTERNS[a-10],s=new Int32Array(i.length),c=0;c<i.length;c++)s[c]=i[i.length-c-1];e.L_AND_G_PATTERNS[a]=s}return n}return e.prototype.decodeRow=function(n,a,i){var s=e.findStartGuardPattern(a),c=i==null?null:i.get(so.NEED_RESULT_POINT_CALLBACK);if(c!=null){var l=new na((s[0]+s[1])/2,n);c.foundPossibleResultPoint(l)}var u=this.decodeMiddle(a,s,this.decodeRowStringBuffer),o=u.rowOffset,h=u.resultString;if(c!=null){var d=new na(o,n);c.foundPossibleResultPoint(d)}var f=e.decodeEnd(a,o);if(c!=null){var A=new na((f[0]+f[1])/2,n);c.foundPossibleResultPoint(A)}var g=f[1],m=g+(g-f[0]);if(m>=a.getSize()||!a.isRange(g,m,!1))throw new Br;var x=h.toString();if(x.length<8)throw new mn;if(!e.checkChecksum(x))throw new Cl;var y=(s[1]+s[0])/2,b=(f[1]+f[0])/2,w=this.getBarcodeFormat(),N=[new na(y,n),new na(b,n)],S=new eu(x,null,0,N,w,new Date().getTime()),j=0;try{var _=tie.decodeRow(n,a,f[1]);S.putMetadata(Rc.UPC_EAN_EXTENSION,_.getText()),S.putAllMetadata(_.getResultMetadata()),S.addResultPoints(_.getResultPoints()),j=_.getText().length}catch{}var P=i==null?null:i.get(so.ALLOWED_EAN_EXTENSIONS);if(P!=null){var Z=!1;for(var ee in P)if(j.toString()===ee){Z=!0;break}if(!Z)throw new Br}return w===Sa.EAN_13||Sa.UPC_A,S},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Bm),nie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),g_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D4=(function(r){nie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var h=n.getSize(),d=a[1],f=0,A=0;A<6&&d<h;A++){var g=$l.decodeDigit(n,o,d,$l.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(s=void 0,g_(o)),x=m.next();!x.done;x=m.next()){var y=x.value;d+=y}}catch(S){s={error:S}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}g>=10&&(f|=1<<5-A)}i=e.determineFirstDigit(i,f);var b=$l.findGuardPattern(n,d,!0,$l.MIDDLE_PATTERN,new Int32Array($l.MIDDLE_PATTERN.length).fill(0));d=b[1];for(var A=0;A<6&&d<h;A++){var g=$l.decodeDigit(n,o,d,$l.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var w=(l=void 0,g_(o)),N=w.next();!N.done;N=w.next()){var y=N.value;d+=y}}catch(_){l={error:_}}finally{try{N&&!N.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return Sa.EAN_13},e.determineFirstDigit=function(n,a){for(var i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new Br},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})($l),aie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),v_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x_=(function(r){aie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var h=n.getSize(),d=a[1],f=0;f<4&&d<h;f++){var A=$l.decodeDigit(n,o,d,$l.L_PATTERNS);i+=String.fromCharCode(48+A);try{for(var g=(s=void 0,v_(o)),m=g.next();!m.done;m=g.next()){var x=m.value;d+=x}}catch(N){s={error:N}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}}var y=$l.findGuardPattern(n,d,!0,$l.MIDDLE_PATTERN,new Int32Array($l.MIDDLE_PATTERN.length).fill(0));d=y[1];for(var f=0;f<4&&d<h;f++){var A=$l.decodeDigit(n,o,d,$l.L_PATTERNS);i+=String.fromCharCode(48+A);try{for(var b=(l=void 0,v_(o)),w=b.next();!w.done;w=b.next()){var x=w.value;d+=x}}catch(j){l={error:j}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return Sa.EAN_8},e})($l),iie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),y_=(function(r){iie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ean13Reader=new D4,n}return e.prototype.getBarcodeFormat=function(){return Sa.UPC_A},e.prototype.decode=function(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,i))},e.prototype.decodeMiddle=function(n,a,i){return this.ean13Reader.decodeMiddle(n,a,i)},e.prototype.maybeReturnResult=function(n){var a=n.getText();if(a.charAt(0)==="0"){var i=new eu(a.substring(1),null,null,n.getResultPoints(),Sa.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new Br},e.prototype.reset=function(){this.ean13Reader.reset()},e})($l),sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),oie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b_=(function(r){sie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l=this.decodeMiddleCounters.map(function(x){return x});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),o=a[1],h=0,d=0;d<6&&o<u;d++){var f=e.decodeDigit(n,l,o,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+f%10);try{for(var A=(s=void 0,oie(l)),g=A.next();!g.done;g=A.next()){var m=g.value;o+=m}}catch(x){s={error:x}}finally{try{g&&!g.done&&(c=A.return)&&c.call(A)}finally{if(s)throw s.error}}f>=10&&(h|=1<<5-d)}return e.determineNumSysAndCheckDigit(new wi(i),h),o},e.prototype.decodeEnd=function(n,a){return e.findGuardPatternWithoutCounters(n,a,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return $l.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,a){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){n.insert(0,"0"+i),n.append("0"+s);return}throw Br.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Sa.UPC_E},e.convertUPCEtoUPCA=function(n){var a=n.slice(1,7).split("").map(function(c){return c.charCodeAt(0)}),i=new wi;i.append(n.charAt(0));var s=a[5];switch(s){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(s),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(s);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})($l),lie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),w_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yj=(function(r){lie(e,r);function e(n){var a=r.call(this)||this,i=n==null?null:n.get(so.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Sa.EAN_13)>-1&&s.push(new D4),i.indexOf(Sa.UPC_A)>-1&&s.push(new y_),i.indexOf(Sa.EAN_8)>-1&&s.push(new x_),i.indexOf(Sa.UPC_E)>-1&&s.push(new b_)),s.length===0&&(s.push(new D4),s.push(new y_),s.push(new x_),s.push(new b_)),a.readers=s,a}return e.prototype.decodeRow=function(n,a,i){var s,c;try{for(var l=w_(this.readers),u=l.next();!u.done;u=l.next()){var o=u.value;try{var h=o.decodeRow(n,a,i),d=h.getBarcodeFormat()===Sa.EAN_13&&h.getText().charAt(0)==="0",f=i==null?null:i.get(so.POSSIBLE_FORMATS),A=f==null||f.includes(Sa.UPC_A);if(d&&A){var g=h.getRawBytes(),m=new eu(h.getText().substring(1),g,g?g.length:null,h.getResultPoints(),Sa.UPC_A);return m.putAllMetadata(h.getResultMetadata()),m}return h}catch{}}}catch(x){s={error:x}}finally{try{u&&!u.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}throw new Br},e.prototype.reset=function(){var n,a;try{for(var i=w_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;c.reset()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e})(Xl),cie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),uie=(function(r){cie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,a,i){var s=this.getValidRowData(a);if(!s)throw new Br;var c=this.codaBarDecodeRow(s.row);if(!c)throw new Br;return new eu(c,null,0,[new na(s.left,n),new na(s.right,n)],Sa.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var a=n.toArray(),i=a.indexOf(!0);if(i===-1)return null;var s=a.lastIndexOf(!0);if(s<=i)return null;a=a.slice(i,s+1);for(var c=[],l=a[0],u=1,o=1;o<a.length;o++)a[o]===l?u++:(l=a[o],c.push(u),u=1);return c.push(u),c.length<23&&(c.length+1)%8!==0?null:{row:c,left:i,right:s}},e.prototype.codaBarDecodeRow=function(n){for(var a=[],i=Math.ceil(n.reduce(function(u,o){return(u+o)/2},0));n.length>0;){var s=n.splice(0,8).splice(0,7),c=s.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[c]===void 0)return null;a.push(this.CODA_BAR_CHAR_SET[c])}var l=a.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var a=/^[A-D].{1,}[A-D]$/;return a.test(n)},e})(Xl),die=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$A=(function(r){die(e,r);function e(){var n=r.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,a){for(var i=0;i<a.length;i++)if(Xl.patternMatchVariance(n,a[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Br},e.count=function(n){return is.sum(new Int32Array(n))},e.increment=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]>s&&(s=a[c],i=c);n[i]++},e.decrement=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]<s&&(s=a[c],i=c);n[i]--},e.isFinderPattern=function(n){var a,i,s=n[0]+n[1],c=s+n[2]+n[3],l=s/c;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;try{for(var h=hie(n),d=h.next();!d.done;d=h.next()){var f=d.value;f>o&&(o=f),f<u&&(u=f)}}catch(A){a={error:A}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return o<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Xl),A2=(function(){function r(e,n){this.value=e,this.checksumPortion=n}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),KF=(function(){function r(e,n,a,i,s){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new na(a,s)),this.resultPoints.push(new na(i,s))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.hashCode=function(){return this.value},r})(),fie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kp=(function(){function r(){}return r.getRSSvalue=function(e,n,a){var i,s,c=0;try{for(var l=fie(e),u=l.next();!u.done;u=l.next()){var o=u.value;c+=o}}catch(b){i={error:b}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var h=0,d=0,f=e.length,A=0;A<f-1;A++){var g=void 0;for(g=1,d|=1<<A;g<e[A];g++,d&=~(1<<A)){var m=r.combins(c-g-1,f-A-2);if(a&&d===0&&c-g-(f-A-1)>=f-A-1&&(m-=r.combins(c-g-(f-A),f-A-2)),f-A-1>1){for(var x=0,y=c-g-(f-A-2);y>n;y--)x+=r.combins(c-g-y-1,f-A-3);m-=x*(f-1-A)}else c-g>n&&m--;h+=m}c-=g}return h},r.combins=function(e,n){var a,i;e-n>n?(i=n,a=e-n):(i=e-n,a=n);for(var s=1,c=1,l=e;l>a;l--)s*=l,c<=i&&(s/=c,c++);for(;c<=i;)s/=c,c++;return s},r})(),Aie=(function(){function r(){}return r.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var a=12*n,i=new yc(a),s=0,c=e[0],l=c.getRightChar().getValue(),u=11;u>=0;--u)(l&1<<u)!==0&&i.set(s),s++;for(var u=1;u<e.length;++u){for(var o=e[u],h=o.getLeftChar().getValue(),d=11;d>=0;--d)(h&1<<d)!==0&&i.set(s),s++;if(o.getRightChar()!==null)for(var f=o.getRightChar().getValue(),d=11;d>=0;--d)(f&1<<d)!==0&&i.set(s),s++}return i},r})(),UA=(function(){function r(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),iS=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ih=(function(r){pie(e,r);function e(n,a){var i=r.call(this,n)||this;return i.value=a,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(iS),mie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),HA=(function(r){mie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=a,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(iS),gie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lp=(function(r){gie(e,r);function e(n,a,i){var s=r.call(this,n)||this;if(a<0||a>10||i<0||i>10)throw new mn;return s.firstDigit=a,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(iS),ev=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vie=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var n,a,i,s,c,l,u,o;if(!e)return null;if(e.length<2)throw new Br;var h=e.substring(0,2);try{for(var d=ev(r.TWO_DIGIT_DATA_LENGTH),f=d.next();!f.done;f=d.next()){var A=f.value;if(A[0]===h)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,A[2],e):r.processFixedAI(2,A[1],e)}}catch(j){n={error:j}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}if(e.length<3)throw new Br;var g=e.substring(0,3);try{for(var m=ev(r.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var A=x.value;if(A[0]===g)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,A[2],e):r.processFixedAI(3,A[1],e)}}catch(j){i={error:j}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var y=ev(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var A=b.value;if(A[0]===g)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,A[2],e):r.processFixedAI(4,A[1],e)}}catch(j){c={error:j}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}if(e.length<4)throw new Br;var w=e.substring(0,4);try{for(var N=ev(r.FOUR_DIGIT_DATA_LENGTH),S=N.next();!S.done;S=N.next()){var A=S.value;if(A[0]===w)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,A[2],e):r.processFixedAI(4,A[1],e)}}catch(j){u={error:j}}finally{try{S&&!S.done&&(o=N.return)&&o.call(N)}finally{if(u)throw u.error}}throw new Br},r.processFixedAI=function(e,n,a){if(a.length<e)throw new Br;var i=a.substring(0,e);if(a.length<e+n)throw new Br;var s=a.substring(e,e+n),c=a.substring(e+n),l="("+i+")"+s,u=r.parseFieldsInGeneralPurpose(c);return u==null?l:l+u},r.processVariableAI=function(e,n,a){var i=a.substring(0,e),s;a.length<e+n?s=a.length:s=e+n;var c=a.substring(e,s),l=a.substring(s),u="("+i+")"+c,o=r.parseFieldsInGeneralPurpose(l);return o==null?u:u+o},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),cv=(function(){function r(e){this.buffer=new wi,this.information=e}return r.prototype.decodeAllCodes=function(e,n){var a=n,i=null;do{var s=this.decodeGeneralPurposeField(a,i),c=vie.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&e.append(c),s.isRemaining()?i=""+s.getRemainingValue():i=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Lp(this.information.getSize(),Lp.FNC1,Lp.FNC1):new Lp(this.information.getSize(),n-1,Lp.FNC1)}var a=this.extractNumericValueFromBitArray(e,7),i=(a-8)/11,s=(a-8)%11;return new Lp(e+7,i,s)},r.prototype.extractNumericValueFromBitArray=function(e,n){return r.extractNumericValueFromBitArray(this.information,e,n)},r.extractNumericValueFromBitArray=function(e,n,a){for(var i=0,s=0;s<a;++s)e.get(n+s)&&(i|=1<<a-s-1);return i},r.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var a=this.parseBlocks();return a!=null&&a.isRemaining()?new HA(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new HA(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,n;do{var a=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=a!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new HA(this.current.getPosition(),this.buffer.toString()):n=new HA(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new UA(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new HA(this.current.getPosition(),this.buffer.toString());return new UA(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new UA(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new HA(this.current.getPosition(),this.buffer.toString());return new UA(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new UA(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new HA(this.current.getPosition(),this.buffer.toString());return new UA(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new UA(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ih(e+5,ih.FNC1);if(n>=5&&n<15)return new ih(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new ih(e+7,""+(a+1));if(a>=90&&a<116)return new ih(e+7,""+(a+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new mn}return new ih(e+8,s)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63},r.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ih(e+5,ih.FNC1);if(n>=5&&n<15)return new ih(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new ih(e+6,""+(a+33));var i;switch(a){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Yg("Decoding invalid alphanumeric value: "+a)}return new ih(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},r})(),GF=(function(){function r(e){this.information=e,this.generalDecoder=new cv(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),xie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ch=(function(r){xie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,a){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,a,i){for(var s=0;s<4;++s){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,a){for(var i=0,s=0;s<13;s++){var c=n.charAt(s+a).charCodeAt(0)-48;i+=(s&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(GF),yie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),bie=(function(r){yie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new wi;n.append("(01)");var a=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(ch),wie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),jie=(function(r){wie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new wi;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(GF),Cie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),uv=(function(r){Cie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,a,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(n,s);for(var c=this.checkWeight(s),l=1e5,u=0;u<5;++u)c/l===0&&n.append("0"),l/=10;n.append(c)},e})(ch),Nie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qF=(function(r){Nie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+uv.GTIN_SIZE+e.WEIGHT_SIZE)throw new Br;var n=new wi;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+uv.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(uv),Sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bie=(function(r){Sie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(qF),Eie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Iie=(function(r){Eie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(qF),Tie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_ie=(function(r){Tie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ch.GTIN_SIZE)throw new Br;var n=new wi;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ch.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ch.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(ch),Oie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kie=(function(r){Oie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ch.GTIN_SIZE)throw new Br;var n=new wi;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ch.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ch.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ch.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(ch),Pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Kf=(function(r){Pie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.dateCode=i,s.firstAIdigits=a,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Br;var n=new wi;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var s=i%32;i/=32;var c=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),c/10===0&&n.append("0"),n.append(c),s/10===0&&n.append("0"),n.append(s)}},e.prototype.addWeightCode=function(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(uv);function Fie(r){try{if(r.get(1))return new bie(r);if(!r.get(2))return new jie(r);var e=cv.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new Bie(r);case 5:return new Iie(r)}var n=cv.extractNumericValueFromBitArray(r,1,5);switch(n){case 12:return new _ie(r);case 13:return new kie(r)}var a=cv.extractNumericValueFromBitArray(r,1,7);switch(a){case 56:return new Kf(r,"310","11");case 57:return new Kf(r,"320","11");case 58:return new Kf(r,"310","13");case 59:return new Kf(r,"320","13");case 60:return new Kf(r,"310","15");case 61:return new Kf(r,"320","15");case 62:return new Kf(r,"310","17");case 63:return new Kf(r,"320","17")}}catch(i){throw console.log(i),new Yg("unknown decoder: "+r)}}var j_=(function(){function r(e,n,a,i){this.leftchar=e,this.rightchar=n,this.finderpattern=a,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,n){return e instanceof r?r.equalsOrNull(e.leftchar,n.leftchar)&&r.equalsOrNull(e.rightchar,n.rightchar)&&r.equalsOrNull(e.finderpattern,n.finderpattern):!1},r.equalsOrNull=function(e,n){return e===null?n===null:r.equals(e,n)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),Die=(function(){function r(e,n,a){this.pairs=e,this.rowNumber=n,this.wasReversed=a}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,n){return e instanceof r?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},r.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var a;return e.forEach(function(i,s){n.forEach(function(c){i.getLeftChar().getValue()===c.getLeftChar().getValue()&&i.getRightChar().getValue()===c.getRightChar().getValue()&&i.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}},r})(),Mie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Gf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rie=(function(r){Mie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,a,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,a))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,a))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,a){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(l){if(l instanceof Br){if(!this.pairs.length)throw new Br;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){var c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Br},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var a=null;try{a=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),a},e.prototype.checkRows=function(n,a){for(var i,s,c=a;c<this.rows.length;c++){var l=this.rows[c];this.pairs.length=0;try{for(var u=(i=void 0,Gf(n)),o=u.next();!o.done;o=u.next()){var h=o.value;this.pairs.push(h.getPairs())}}catch(f){i={error:f}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(n);d.push(l);try{return this.checkRows(d,c+1)}catch(f){console.log(f)}}}throw new Br},e.isValidSequence=function(n){var a,i;try{for(var s=Gf(e.FINDER_PATTERN_SEQUENCES),c=s.next();!c.done;c=s.next()){var l=c.value;if(!(n.length>l.length)){for(var u=!0,o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!==l[o]){u=!1;break}if(u)return!0}}}catch(h){a={error:h}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return!1},e.prototype.storeRow=function(n,a){for(var i=0,s=!1,c=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){c=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}c||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Die(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,a){var i,s,c,l,u,o;try{for(var h=Gf(a),d=h.next();!d.done;d=h.next()){var f=d.value;if(f.getPairs().length!==n.length){var A=!0;try{for(var g=(c=void 0,Gf(f.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,Gf(n)),w=b.next();!w.done;w=b.next()){var N=w.value;if(j_.equals(x,N)){y=!0;break}}}catch(S){u={error:S}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}y||(A=!1)}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}}}}catch(S){i={error:S}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,a){var i,s,c,l,u,o;try{for(var h=Gf(a),d=h.next();!d.done;d=h.next()){var f=d.value,A=!0;try{for(var g=(c=void 0,Gf(n)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,Gf(f.getPairs())),w=b.next();!w.done;w=b.next()){var N=w.value;if(x.equals(N)){y=!0;break}}}catch(S){u={error:S}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}if(!y){A=!1;break}}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}if(A)return!0}}catch(S){i={error:S}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var a=Aie.buildBitArray(n),i=Fie(a),s=i.parseInformation(),c=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),u=[c[0],c[1],l[0],l[1]];return new eu(s,null,null,u,Sa.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),a=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),c=2,l=1;l<this.pairs.size();++l){var u=this.pairs.get(l);s+=u.getLeftChar().getChecksumPortion(),c++;var o=u.getRightChar();o!=null&&(s+=o.getChecksumPortion(),c++)}s%=211;var h=211*(c-4)+s;return h===a.getValue()},e.getNextSecondBar=function(n,a){var i;return n.get(a)?(i=n.getNextUnset(a),i=n.getNextSet(i)):(i=n.getNextSet(a),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,a,i){var s=a.length%2===0;this.startFromEven&&(s=!s);var c,l=!0,u=-1;do this.findNextPair(n,a,u),c=this.parseFoundFinderPattern(n,i,s),c===null?u=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var o=this.decodeDataCharacter(n,c,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Br;var h;try{h=this.decodeDataCharacter(n,c,s,!1)}catch(d){h=null,console.log(d)}return new j_(o,h,c,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,a,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var c=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(a))l=0;else{var u=a[a.length-1];l=u.getFinderPattern().getStartEnd()[1]}var o=a.length%2!==0;this.startFromEven&&(o=!o);for(var h=!1;l<c&&(h=!n.get(l),!!h);)l++;for(var d=0,f=l,A=l;A<c;A++)if(n.get(A)!==h)s[d]++;else{if(d===3){if(o&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=f,this.startEnd[1]=A;return}o&&e.reverseCounters(s),f+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,h=!h}throw new Br},e.reverseCounters=function(n){for(var a=n.length,i=0;i<a/2;++i){var s=n[i];n[i]=n[a-i-1],n[a-i-1]=s}},e.prototype.parseFoundFinderPattern=function(n,a,i){var s,c,l;if(i){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,s=this.startEnd[0]-u,c=u,l=this.startEnd[1]}else c=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var o=this.getDecodeFinderCounters();io.arraycopy(o,0,o,1,o.length-1),o[0]=s;var h;try{h=this.parseFinderValue(o,e.FINDER_PATTERNS)}catch{return null}return new KF(h,[c,l],c,l,a)},e.prototype.decodeDataCharacter=function(n,a,i,s){for(var c=this.getDataCharacterCounters(),l=0;l<c.length;l++)c[l]=0;if(s)e.recordPatternInReverse(n,a.getStartEnd()[0],c);else{e.recordPattern(n,a.getStartEnd()[1],c);for(var u=0,o=c.length-1;u<o;u++,o--){var h=c[u];c[u]=c[o],c[o]=h}}var d=17,f=is.sum(new Int32Array(c))/d,A=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-A)/A>.3)throw new Br;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),u=0;u<c.length;u++){var b=1*c[u]/f,w=b+.5;if(w<1){if(b<.3)throw new Br;w=1}else if(w>8){if(b>8.7)throw new Br;w=8}var N=u/2;(u&1)===0?(g[N]=w,x[N]=b-w):(m[N]=w,y[N]=b-w)}this.adjustOddEvenCounts(d);for(var S=4*a.getValue()+(i?0:2)+(s?0:1)-1,j=0,_=0,u=g.length-1;u>=0;u--){if(e.isNotA1left(a,i,s)){var P=e.WEIGHTS[S][2*u];_+=g[u]*P}j+=g[u]}for(var Z=0,u=m.length-1;u>=0;u--)if(e.isNotA1left(a,i,s)){var P=e.WEIGHTS[S][2*u+1];Z+=m[u]*P}var ee=_+Z;if((j&1)!==0||j>13||j<4)throw new Br;var K=(13-j)/2,ae=e.SYMBOL_WIDEST[K],D=9-ae,q=Kp.getRSSvalue(g,ae,!0),$=Kp.getRSSvalue(m,D,!1),L=e.EVEN_TOTAL_SUBSET[K],ye=e.GSUM[K],ne=q*L+$+ye;return new A2(ne,ee)},e.isNotA1left=function(n,a,i){return!(n.getValue()===0&&a&&i)},e.prototype.adjustOddEvenCounts=function(n){var a=is.sum(new Int32Array(this.getOddCounts())),i=is.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1;a>13?c=!0:a<4&&(s=!0);var l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);var o=a+i-n,h=(a&1)===1,d=(i&1)===0;if(o===1)if(h){if(d)throw new Br;c=!0}else{if(!d)throw new Br;u=!0}else if(o===-1)if(h){if(d)throw new Br;s=!0}else{if(!d)throw new Br;l=!0}else if(o===0){if(h){if(!d)throw new Br;a<i?(s=!0,u=!0):(c=!0,l=!0)}else if(d)throw new Br}else throw new Br;if(s){if(c)throw new Br;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Br;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})($A),Lie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Uie=(function(r){Lie(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(A2),Hie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C_=(function(r){Hie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.decodePair(a,!1,n,i);e.addOrTally(this.possibleLeftPairs,o),a.reverse();var h=this.decodePair(a,!0,n,i);e.addOrTally(this.possibleRightPairs,h),a.reverse();try{for(var d=Zj(this.possibleLeftPairs),f=d.next();!f.done;f=d.next()){var A=f.value;if(A.getCount()>1)try{for(var g=(l=void 0,Zj(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&e.checkChecksum(A,x))return e.constructResult(A,x)}}catch(y){l={error:y}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}}}catch(y){s={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}throw new Br},e.addOrTally=function(n,a){var i,s;if(a!=null){var c=!1;try{for(var l=Zj(n),u=l.next();!u.done;u=l.next()){var o=u.value;if(o.getValue()===a.getValue()){o.incrementCount(),c=!0;break}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}c||n.push(a)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,a){for(var i=4537077*n.getValue()+a.getValue(),s=new String(i).toString(),c=new wi,l=13-s.length;l>0;l--)c.append("0");c.append(s);for(var u=0,l=0;l<13;l++){var o=c.charAt(l).charCodeAt(0)-48;u+=(l&1)===0?3*o:o}u=10-u%10,u===10&&(u=0),c.append(u.toString());var h=n.getFinderPattern().getResultPoints(),d=a.getFinderPattern().getResultPoints();return new eu(c.toString(),null,0,[h[0],h[1],d[0],d[1]],Sa.RSS_14,new Date().getTime())},e.checkChecksum=function(n,a){var i=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(n,a,i,s){try{var c=this.findFinderPattern(n,a),l=this.parseFoundFinderPattern(n,i,a,c),u=s==null?null:s.get(so.NEED_RESULT_POINT_CALLBACK);if(u!=null){var o=(c[0]+c[1])/2;a&&(o=n.getSize()-1-o),u.foundPossibleResultPoint(new na(o,i))}var h=this.decodeDataCharacter(n,l,!0),d=this.decodeDataCharacter(n,l,!1);return new Uie(1597*h.getValue()+d.getValue(),h.getChecksumPortion()+4*d.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,a,i){for(var s=this.getDataCharacterCounters(),c=0;c<s.length;c++)s[c]=0;if(i)Xl.recordPatternInReverse(n,a.getStartEnd()[0],s);else{Xl.recordPattern(n,a.getStartEnd()[1]+1,s);for(var l=0,u=s.length-1;l<u;l++,u--){var o=s[l];s[l]=s[u],s[u]=o}}for(var h=i?16:15,d=is.sum(new Int32Array(s))/h,f=this.getOddCounts(),A=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var x=s[l]/d,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var b=Math.floor(l/2);(l&1)===0?(f[b]=y,g[b]=x-y):(A[b]=y,m[b]=x-y)}this.adjustOddEvenCounts(i,h);for(var w=0,N=0,l=f.length-1;l>=0;l--)N*=9,N+=f[l],w+=f[l];for(var S=0,j=0,l=A.length-1;l>=0;l--)S*=9,S+=A[l],j+=A[l];var _=N+3*S;if(i){if((w&1)!==0||w>12||w<4)throw new Br;var P=(12-w)/2,Z=e.OUTSIDE_ODD_WIDEST[P],ee=9-Z,K=Kp.getRSSvalue(f,Z,!1),ae=Kp.getRSSvalue(A,ee,!0),D=e.OUTSIDE_EVEN_TOTAL_SUBSET[P],q=e.OUTSIDE_GSUM[P];return new A2(K*D+ae+q,_)}else{if((j&1)!==0||j>10||j<4)throw new Br;var P=(10-j)/2,Z=e.INSIDE_ODD_WIDEST[P],ee=9-Z,K=Kp.getRSSvalue(f,Z,!0),ae=Kp.getRSSvalue(A,ee,!1),$=e.INSIDE_ODD_TOTAL_SUBSET[P],q=e.INSIDE_GSUM[P];return new A2(ae*$+K+q,_)}},e.prototype.findFinderPattern=function(n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=n.getSize(),c=!1,l=0;l<s&&(c=!n.get(l),a!==c);)l++;for(var u=0,o=l,h=l;h<s;h++)if(n.get(h)!==c)i[u]++;else{if(u===3){if($A.isFinderPattern(i))return[o,h];o+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,c=!c}throw new Br},e.prototype.parseFoundFinderPattern=function(n,a,i,s){for(var c=n.get(s[0]),l=s[0]-1;l>=0&&c!==n.get(l);)l--;l++;var u=s[0]-l,o=this.getDecodeFinderCounters(),h=new Int32Array(o.length);io.arraycopy(o,0,h,1,o.length-1),h[0]=u;var d=this.parseFinderValue(h,e.FINDER_PATTERNS),f=l,A=s[1];return i&&(f=n.getSize()-1-f,A=n.getSize()-1-A),new KF(d,[l,s[1]],f,A,a)},e.prototype.adjustOddEvenCounts=function(n,a){var i=is.sum(new Int32Array(this.getOddCounts())),s=is.sum(new Int32Array(this.getEvenCounts())),c=!1,l=!1,u=!1,o=!1;n?(i>12?l=!0:i<4&&(c=!0),s>12?o=!0:s<4&&(u=!0)):(i>11?l=!0:i<5&&(c=!0),s>10?o=!0:s<4&&(u=!0));var h=i+s-a,d=(i&1)===(n?1:0),f=(s&1)===1;if(h===1)if(d){if(f)throw new Br;l=!0}else{if(!f)throw new Br;o=!0}else if(h===-1)if(d){if(f)throw new Br;c=!0}else{if(!f)throw new Br;u=!0}else if(h===0){if(d){if(!f)throw new Br;i<s?(c=!0,o=!0):(l=!0,u=!0)}else if(f)throw new Br}else throw new Br;if(c){if(l)throw new Br;$A.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&$A.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(o)throw new Br;$A.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&$A.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})($A),Qie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Gp=(function(r){Qie(e,r);function e(n){var a=r.call(this)||this;a.readers=[];var i=n?n.get(so.POSSIBLE_FORMATS):null,s=n&&n.get(so.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,c=n&&n.get(so.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Sa.EAN_13)||i.includes(Sa.UPC_A)||i.includes(Sa.EAN_8)||i.includes(Sa.UPC_E))&&a.readers.push(new Yj(n)),i.includes(Sa.CODE_39)&&a.readers.push(new A_(s,c)),i.includes(Sa.CODE_93)&&a.readers.push(new p_),i.includes(Sa.CODE_128)&&a.readers.push(new f_),i.includes(Sa.ITF)&&a.readers.push(new m_),i.includes(Sa.CODABAR)&&a.readers.push(new uie),i.includes(Sa.RSS_14)&&a.readers.push(new C_),i.includes(Sa.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),a.readers.push(new Rie))),a.readers.length===0&&(a.readers.push(new Yj(n)),a.readers.push(new A_),a.readers.push(new p_),a.readers.push(new Yj(n)),a.readers.push(new f_),a.readers.push(new m_),a.readers.push(new C_)),a}return e.prototype.decodeRow=function(n,a,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,a,i)}catch{}throw new Br},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Xl),Wie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Wie(e,r);function e(n,a){return n===void 0&&(n=500),r.call(this,new Gp(a),n,a)||this}return e})(Rm);var N_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ss=(function(){function r(e,n,a){this.ecCodewords=e,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),ps=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),$ie=(function(){function r(e,n,a,i,s,c){var l,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=c;var o=0,h=c.getECCodewords(),d=c.getECBlocks();try{for(var f=N_(d),A=f.next();!A.done;A=f.next()){var g=A.value;o+=g.getCount()*(g.getDataCodewords()+h)}}catch(m){l={error:m}}finally{try{A&&!A.done&&(u=f.return)&&u.call(f)}finally{if(l)throw l.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,n){var a,i;if((e&1)!==0||(n&1)!==0)throw new mn;try{for(var s=N_(r.VERSIONS),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}throw new mn},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Ss(5,new ps(1,3))),new r(2,12,12,10,10,new Ss(7,new ps(1,5))),new r(3,14,14,12,12,new Ss(10,new ps(1,8))),new r(4,16,16,14,14,new Ss(12,new ps(1,12))),new r(5,18,18,16,16,new Ss(14,new ps(1,18))),new r(6,20,20,18,18,new Ss(18,new ps(1,22))),new r(7,22,22,20,20,new Ss(20,new ps(1,30))),new r(8,24,24,22,22,new Ss(24,new ps(1,36))),new r(9,26,26,24,24,new Ss(28,new ps(1,44))),new r(10,32,32,14,14,new Ss(36,new ps(1,62))),new r(11,36,36,16,16,new Ss(42,new ps(1,86))),new r(12,40,40,18,18,new Ss(48,new ps(1,114))),new r(13,44,44,20,20,new Ss(56,new ps(1,144))),new r(14,48,48,22,22,new Ss(68,new ps(1,174))),new r(15,52,52,24,24,new Ss(42,new ps(2,102))),new r(16,64,64,14,14,new Ss(56,new ps(2,140))),new r(17,72,72,16,16,new Ss(36,new ps(4,92))),new r(18,80,80,18,18,new Ss(48,new ps(4,114))),new r(19,88,88,20,20,new Ss(56,new ps(4,144))),new r(20,96,96,22,22,new Ss(68,new ps(4,174))),new r(21,104,104,24,24,new Ss(56,new ps(6,136))),new r(22,120,120,18,18,new Ss(68,new ps(6,175))),new r(23,132,132,20,20,new Ss(62,new ps(8,163))),new r(24,144,144,22,22,new Ss(62,new ps(8,156),new ps(2,155))),new r(25,8,18,6,16,new Ss(7,new ps(1,5))),new r(26,8,32,6,14,new Ss(11,new ps(1,10))),new r(27,12,26,10,24,new Ss(14,new ps(1,16))),new r(28,12,36,10,16,new Ss(18,new ps(1,22))),new r(29,16,36,14,16,new Ss(24,new ps(1,32))),new r(30,16,48,14,22,new Ss(28,new ps(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),Vie=(function(){function r(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new mn;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ph(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var n=e.getHeight(),a=e.getWidth();return $ie.getVersionForDimensions(n,a)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,a=4,i=0,s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth(),l=!1,u=!1,o=!1,h=!1;do if(a===s&&i===0&&!l)e[n++]=this.readCorner1(s,c)&255,a-=2,i+=2,l=!0;else if(a===s-2&&i===0&&(c&3)!==0&&!u)e[n++]=this.readCorner2(s,c)&255,a-=2,i+=2,u=!0;else if(a===s+4&&i===2&&(c&7)===0&&!o)e[n++]=this.readCorner3(s,c)&255,a-=2,i+=2,o=!0;else if(a===s-2&&i===0&&(c&7)===4&&!h)e[n++]=this.readCorner4(s,c)&255,a-=2,i+=2,h=!0;else{do a<s&&i>=0&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a-=2,i+=2;while(a>=0&&i<c);a+=1,i+=3;do a>=0&&i<c&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a+=2,i-=2;while(a<s&&i>=0);a+=3,i+=1}while(a<s||i<c);if(n!==this.version.getTotalCodewords())throw new mn;return e},r.prototype.readModule=function(e,n,a,i){return e<0&&(e+=a,n+=4-(a+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},r.prototype.readUtah=function(e,n,a,i){var s=0;return this.readModule(e-2,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-2,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n,a,i)&&(s|=1),s<<=1,this.readModule(e,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e,n,a,i)&&(s|=1),s},r.prototype.readCorner1=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,1,e,n)&&(a|=1),a<<=1,this.readModule(e-1,2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.readCorner2=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-4,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner3=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-3,e,n)&&(a|=1),a<<=1,this.readModule(1,n-2,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner4=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Ba("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=n/i|0,l=a/s|0,u=c*i,o=l*s,h=new Ph(o,u),d=0;d<c;++d)for(var f=d*i,A=0;A<l;++A)for(var g=A*s,m=0;m<i;++m)for(var x=d*(i+2)+1+m,y=f+m,b=0;b<s;++b){var w=A*(s+2)+1+b;if(e.get(w,x)){var N=g+b;h.set(N,y)}}return h},r})(),S_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zie=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n){var a,i,s,c,l=n.getECBlocks(),u=0,o=l.getECBlocks();try{for(var h=S_(o),d=h.next();!d.done;d=h.next()){var f=d.value;u+=f.getCount()}}catch(q){a={error:q}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}var A=new Array(u),g=0;try{for(var m=S_(o),x=m.next();!x.done;x=m.next())for(var f=x.value,y=0;y<f.getCount();y++){var b=f.getDataCodewords(),w=l.getECCodewords()+b;A[g++]=new r(b,new Uint8Array(w))}}catch(q){s={error:q}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}for(var N=A[0].codewords.length,S=N-l.getECCodewords(),j=S-1,_=0,y=0;y<j;y++)for(var P=0;P<g;P++)A[P].codewords[y]=e[_++];for(var Z=n.getVersionNumber()===24,ee=Z?8:g,P=0;P<ee;P++)A[P].codewords[S-1]=e[_++];for(var K=A[0].codewords.length,y=S;y<K;y++)for(var P=0;P<g;P++){var ae=Z?(P+8)%g:P,D=Z&&ae>7?y-1:y;A[ae].codewords[D]=e[_++]}if(_!==e.length)throw new Ba;return A},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),XF=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ba(""+e);var n=0,a=this.bitOffset,i=this.byteOffset,s=this.bytes;if(a>0){var c=8-a,l=e<c?e:c,u=c-l,o=255>>8-l<<u;n=(s[i]&o)>>u,e-=l,a+=l,a===8&&(a=0,i++)}if(e>0){for(;e>=8;)n=n<<8|s[i]&255,i++,e-=8;if(e>0){var u=8-e,o=255>>u<<u;n=n<<e|(s[i]&o)>>u,a+=e}}return this.bitOffset=a,this.byteOffset=i,n},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),Ql;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ql||(Ql={}));var Kie=(function(){function r(){}return r.decode=function(e){var n=new XF(e),a=new wi,i=new wi,s=new Array,c=Ql.ASCII_ENCODE;do if(c===Ql.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,i);else{switch(c){case Ql.C40_ENCODE:this.decodeC40Segment(n,a);break;case Ql.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case Ql.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case Ql.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case Ql.BASE256_ENCODE:this.decodeBase256Segment(n,a,s);break;default:throw new mn}c=Ql.ASCII_ENCODE}while(c!==Ql.PAD_ENCODE&&n.available()>0);return i.length()>0&&a.append(i.toString()),new ux(e,a.toString(),s.length===0?null:s,null)},r.decodeAsciiSegment=function(e,n,a){var i=!1;do{var s=e.readBits(8);if(s===0)throw new mn;if(s<=128)return i&&(s+=128),n.append(String.fromCharCode(s-1)),Ql.ASCII_ENCODE;if(s===129)return Ql.PAD_ENCODE;if(s<=229){var c=s-130;c<10&&n.append("0"),n.append(""+c)}else switch(s){case 230:return Ql.C40_ENCODE;case 231:return Ql.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return Ql.ANSIX12_ENCODE;case 239:return Ql.TEXT_ENCODE;case 240:return Ql.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new mn;break}}while(e.available()>0);return Ql.ASCII_ENCODE},r.decodeC40Segment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var o=this.C40_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new mn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var o=this.C40_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new mn}s=0;break;case 3:a?(n.append(String.fromCharCode(u+224)),a=!1):n.append(String.fromCharCode(u+96)),s=0;break;default:throw new mn}}}while(e.available()>0)},r.decodeTextSegment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var o=this.TEXT_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new mn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var o=this.TEXT_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new mn}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var o=this.TEXT_SHIFT3_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o),s=0}else throw new mn;break;default:throw new mn}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,n){var a=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),a);for(var s=0;s<3;s++){var c=a[s];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new mn;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,n,a){var i=(e<<8)+n-1,s=Math.floor(i/1600);a[0]=s,i-=s*1600,s=Math.floor(i/40),a[1]=s,a[2]=i-s*40},r.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var a=0;a<4;a++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,n,a){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),c;if(s===0?c=e.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),c<0)throw new mn;for(var l=new Uint8Array(c),u=0;u<c;u++){if(e.available()<8)throw new mn;l[u]=this.unrandomize255State(e.readBits(8),i++)}a.push(l);try{n.append(Hd.decode(l,qi.ISO88591))}catch(o){throw new Yg("Platform does not support required encoding: "+o.message)}},r.unrandomize255State=function(e,n){var a=149*n%255+1,i=e-a;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),Gie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qie=(function(){function r(){this.rsDecoder=new dx(Du.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var n,a,i=new Vie(e),s=i.getVersion(),c=i.readCodewords(),l=zie.getDataBlocks(c,s),u=0;try{for(var o=Gie(l),h=o.next();!h.done;h=o.next()){var d=h.value;u+=d.getNumDataCodewords()}}catch(w){n={error:w}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var f=new Uint8Array(u),A=l.length,g=0;g<A;g++){var m=l[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var b=0;b<y;b++)f[b*A+g]=x[b]}return Kie.decode(f)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new Cl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),Xie=(function(){function r(e){this.image=e,this.rectangleDetector=new F4(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Br;n=this.shiftToModuleCenter(n);var a=n[0],i=n[1],s=n[2],c=n[3],l=this.transitionsBetween(a,c)+1,u=this.transitionsBetween(s,c)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));var o=r.sampleGrid(this.image,a,i,s,c,l,u);return new nS(o,[a,i,s,c])},r.shiftPoint=function(e,n,a){var i=(n.getX()-e.getX())/(a+1),s=(n.getY()-e.getY())/(a+1);return new na(e.getX()+i,e.getY()+s)},r.moveAway=function(e,n,a){var i=e.getX(),s=e.getY();return i<n?i-=1:i+=1,s<a?s-=1:s+=1,new na(i,s)},r.prototype.detectSolid1=function(e){var n=e[0],a=e[1],i=e[3],s=e[2],c=this.transitionsBetween(n,a),l=this.transitionsBetween(a,i),u=this.transitionsBetween(i,s),o=this.transitionsBetween(s,n),h=c,d=[s,n,a,i];return h>l&&(h=l,d[0]=n,d[1]=a,d[2]=i,d[3]=s),h>u&&(h=u,d[0]=a,d[1]=i,d[2]=s,d[3]=n),h>o&&(d[0]=i,d[1]=s,d[2]=n,d[3]=a),d},r.prototype.detectSolid2=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=r.shiftPoint(a,i,(c+1)*4),u=r.shiftPoint(i,a,(c+1)*4),o=this.transitionsBetween(l,n),h=this.transitionsBetween(u,s);return o<h?(e[0]=n,e[1]=a,e[2]=i,e[3]=s):(e[0]=a,e[1]=i,e[2]=s,e[3]=n),e},r.prototype.correctTopRight=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=this.transitionsBetween(a,s),u=r.shiftPoint(n,a,(l+1)*4),o=r.shiftPoint(i,a,(c+1)*4);c=this.transitionsBetween(u,s),l=this.transitionsBetween(o,s);var h=new na(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1)),d=new na(s.getX()+(n.getX()-a.getX())/(l+1),s.getY()+(n.getY()-a.getY())/(l+1));if(!this.isValid(h))return this.isValid(d)?d:null;if(!this.isValid(d))return h;var f=this.transitionsBetween(u,h)+this.transitionsBetween(o,h),A=this.transitionsBetween(u,d)+this.transitionsBetween(o,d);return f>A?h:d},r.prototype.shiftToModuleCenter=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(i,s)+1,u=r.shiftPoint(n,a,l*4),o=r.shiftPoint(i,a,c*4);c=this.transitionsBetween(u,s)+1,l=this.transitionsBetween(o,s)+1,(c&1)===1&&(c+=1),(l&1)===1&&(l+=1);var h=(n.getX()+a.getX()+i.getX()+s.getX())/4,d=(n.getY()+a.getY()+i.getY()+s.getY())/4;n=r.moveAway(n,h,d),a=r.moveAway(a,h,d),i=r.moveAway(i,h,d),s=r.moveAway(s,h,d);var f,A;return u=r.shiftPoint(n,a,l*4),u=r.shiftPoint(u,s,c*4),f=r.shiftPoint(a,n,l*4),f=r.shiftPoint(f,i,c*4),o=r.shiftPoint(i,s,l*4),o=r.shiftPoint(o,a,c*4),A=r.shiftPoint(s,i,l*4),A=r.shiftPoint(A,n,c*4),[u,f,o,A]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,n,a,i,s,c,l){var u=aS.getInstance();return u.sampleGrid(e,c,l,.5,.5,c-.5,.5,c-.5,l-.5,.5,l-.5,n.getX(),n.getY(),s.getX(),s.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.transitionsBetween=function(e,n){var a=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(n.getX()),c=Math.trunc(n.getY()),l=Math.abs(c-i)>Math.abs(s-a);if(l){var u=a;a=i,i=u,u=s,s=c,c=u}for(var o=Math.abs(s-a),h=Math.abs(c-i),d=-o/2,f=i<c?1:-1,A=a<s?1:-1,g=0,m=this.image.get(l?i:a,l?a:i),x=a,y=i;x!==s;x+=A){var b=this.image.get(l?y:x,l?x:y);if(b!==m&&(g++,m=b),d+=h,d>0){if(y===c)break;y+=f,d-=o}}return g},r})(),p2=(function(){function r(){this.decoder=new qie}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a,i;if(n!=null&&n.has(so.PURE_BARCODE)){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decode(s),i=r.NO_POINTS}else{var c=new Xie(e.getBlackMatrix()).detect();a=this.decoder.decode(c.getBits()),i=c.getPoints()}var l=a.getRawBytes(),u=new eu(a.getText(),l,8*l.length,i,Sa.DATA_MATRIX,io.currentTimeMillis()),o=a.getByteSegments();o!=null&&u.putMetadata(Rc.BYTE_SEGMENTS,o);var h=a.getECLevel();return h!=null&&u.putMetadata(Rc.ERROR_CORRECTION_LEVEL,h),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n==null||a==null)throw new Br;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0],o=(u-l+1)/i,h=(c-s+1)/i;if(o<=0||h<=0)throw new Br;var d=i/2;s+=d,l+=d;for(var f=new Ph(o,h),A=0;A<h;A++)for(var g=s+A*i,m=0;m<o;m++)e.get(l+m*i,g)&&f.set(m,A);return f},r.moduleSize=function(e,n){for(var a=n.getWidth(),i=e[0],s=e[1];i<a&&n.get(i,s);)i++;if(i===a)throw new Br;var c=i-e[0];if(c===0)throw new Br;return c},r.NO_POINTS=[],r})(),Yie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Yie(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new p2,n)||this}return e})(Rm);var qp;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(qp||(qp={}));var Zie=(function(){function r(e,n,a){this.value=e,this.stringValue=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new hl(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Ba;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(qp.L,"L",1),r.M=new r(qp.M,"M",0),r.Q=new r(qp.Q,"Q",3),r.H=new r(qp.H,"H",2),r})(),Jie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YF=(function(){function r(e){this.errorCorrectionLevel=Zie.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,n){return Si.bitCount(e^n)},r.decodeFormatInformation=function(e,n){var a=r.doDecodeFormatInformation(e,n);return a!==null?a:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,n^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,n){var a,i,s=Number.MAX_SAFE_INTEGER,c=0;try{for(var l=Jie(r.FORMAT_INFO_DECODE_LOOKUP),u=l.next();!u.done;u=l.next()){var o=u.value,h=o[0];if(h===e||h===n)return new r(o[1]);var d=r.numBitsDiffering(e,h);d<s&&(c=o[1],s=d),e!==n&&(d=r.numBitsDiffering(n,h),d<s&&(c=o[1],s=d))}}catch(f){a={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return s<=3?new r(c):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),ese=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ur=(function(){function r(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,n,a=0,i=this.ecBlocks;try{for(var s=ese(i),c=s.next();!c.done;c=s.next()){var l=c.value;a+=l.getCount()}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),At=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),tse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rp=(function(){function r(e,n){for(var a,i,s=[],c=2;c<arguments.length;c++)s[c-2]=arguments[c];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=s;var l=0,u=s[0].getECCodewordsPerBlock(),o=s[0].getECBlocks();try{for(var h=tse(o),d=h.next();!d.done;d=h.next()){var f=d.value;l+=f.getCount()*(f.getDataCodewords()+u)}}catch(A){a={error:A}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new mn;try{return this.getVersionForNumber((e-17)/4)}catch{throw new mn}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new Ba;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,a=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var s=r.VERSION_DECODE_INFO[i];if(s===e)return r.getVersionForNumber(i+7);var c=YF.numBitsDiffering(e,s);c<n&&(a=i+7,n=c)}return n<=3?r.getVersionForNumber(a):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new Ph(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var a=this.alignmentPatternCenters.length,i=0;i<a;i++)for(var s=this.alignmentPatternCenters[i]-2,c=0;c<a;c++)i===0&&(c===0||c===a-1)||i===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,s,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new ur(7,new At(1,19)),new ur(10,new At(1,16)),new ur(13,new At(1,13)),new ur(17,new At(1,9))),new r(2,Int32Array.from([6,18]),new ur(10,new At(1,34)),new ur(16,new At(1,28)),new ur(22,new At(1,22)),new ur(28,new At(1,16))),new r(3,Int32Array.from([6,22]),new ur(15,new At(1,55)),new ur(26,new At(1,44)),new ur(18,new At(2,17)),new ur(22,new At(2,13))),new r(4,Int32Array.from([6,26]),new ur(20,new At(1,80)),new ur(18,new At(2,32)),new ur(26,new At(2,24)),new ur(16,new At(4,9))),new r(5,Int32Array.from([6,30]),new ur(26,new At(1,108)),new ur(24,new At(2,43)),new ur(18,new At(2,15),new At(2,16)),new ur(22,new At(2,11),new At(2,12))),new r(6,Int32Array.from([6,34]),new ur(18,new At(2,68)),new ur(16,new At(4,27)),new ur(24,new At(4,19)),new ur(28,new At(4,15))),new r(7,Int32Array.from([6,22,38]),new ur(20,new At(2,78)),new ur(18,new At(4,31)),new ur(18,new At(2,14),new At(4,15)),new ur(26,new At(4,13),new At(1,14))),new r(8,Int32Array.from([6,24,42]),new ur(24,new At(2,97)),new ur(22,new At(2,38),new At(2,39)),new ur(22,new At(4,18),new At(2,19)),new ur(26,new At(4,14),new At(2,15))),new r(9,Int32Array.from([6,26,46]),new ur(30,new At(2,116)),new ur(22,new At(3,36),new At(2,37)),new ur(20,new At(4,16),new At(4,17)),new ur(24,new At(4,12),new At(4,13))),new r(10,Int32Array.from([6,28,50]),new ur(18,new At(2,68),new At(2,69)),new ur(26,new At(4,43),new At(1,44)),new ur(24,new At(6,19),new At(2,20)),new ur(28,new At(6,15),new At(2,16))),new r(11,Int32Array.from([6,30,54]),new ur(20,new At(4,81)),new ur(30,new At(1,50),new At(4,51)),new ur(28,new At(4,22),new At(4,23)),new ur(24,new At(3,12),new At(8,13))),new r(12,Int32Array.from([6,32,58]),new ur(24,new At(2,92),new At(2,93)),new ur(22,new At(6,36),new At(2,37)),new ur(26,new At(4,20),new At(6,21)),new ur(28,new At(7,14),new At(4,15))),new r(13,Int32Array.from([6,34,62]),new ur(26,new At(4,107)),new ur(22,new At(8,37),new At(1,38)),new ur(24,new At(8,20),new At(4,21)),new ur(22,new At(12,11),new At(4,12))),new r(14,Int32Array.from([6,26,46,66]),new ur(30,new At(3,115),new At(1,116)),new ur(24,new At(4,40),new At(5,41)),new ur(20,new At(11,16),new At(5,17)),new ur(24,new At(11,12),new At(5,13))),new r(15,Int32Array.from([6,26,48,70]),new ur(22,new At(5,87),new At(1,88)),new ur(24,new At(5,41),new At(5,42)),new ur(30,new At(5,24),new At(7,25)),new ur(24,new At(11,12),new At(7,13))),new r(16,Int32Array.from([6,26,50,74]),new ur(24,new At(5,98),new At(1,99)),new ur(28,new At(7,45),new At(3,46)),new ur(24,new At(15,19),new At(2,20)),new ur(30,new At(3,15),new At(13,16))),new r(17,Int32Array.from([6,30,54,78]),new ur(28,new At(1,107),new At(5,108)),new ur(28,new At(10,46),new At(1,47)),new ur(28,new At(1,22),new At(15,23)),new ur(28,new At(2,14),new At(17,15))),new r(18,Int32Array.from([6,30,56,82]),new ur(30,new At(5,120),new At(1,121)),new ur(26,new At(9,43),new At(4,44)),new ur(28,new At(17,22),new At(1,23)),new ur(28,new At(2,14),new At(19,15))),new r(19,Int32Array.from([6,30,58,86]),new ur(28,new At(3,113),new At(4,114)),new ur(26,new At(3,44),new At(11,45)),new ur(26,new At(17,21),new At(4,22)),new ur(26,new At(9,13),new At(16,14))),new r(20,Int32Array.from([6,34,62,90]),new ur(28,new At(3,107),new At(5,108)),new ur(26,new At(3,41),new At(13,42)),new ur(30,new At(15,24),new At(5,25)),new ur(28,new At(15,15),new At(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new ur(28,new At(4,116),new At(4,117)),new ur(26,new At(17,42)),new ur(28,new At(17,22),new At(6,23)),new ur(30,new At(19,16),new At(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new ur(28,new At(2,111),new At(7,112)),new ur(28,new At(17,46)),new ur(30,new At(7,24),new At(16,25)),new ur(24,new At(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new ur(30,new At(4,121),new At(5,122)),new ur(28,new At(4,47),new At(14,48)),new ur(30,new At(11,24),new At(14,25)),new ur(30,new At(16,15),new At(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new ur(30,new At(6,117),new At(4,118)),new ur(28,new At(6,45),new At(14,46)),new ur(30,new At(11,24),new At(16,25)),new ur(30,new At(30,16),new At(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new ur(26,new At(8,106),new At(4,107)),new ur(28,new At(8,47),new At(13,48)),new ur(30,new At(7,24),new At(22,25)),new ur(30,new At(22,15),new At(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new ur(28,new At(10,114),new At(2,115)),new ur(28,new At(19,46),new At(4,47)),new ur(28,new At(28,22),new At(6,23)),new ur(30,new At(33,16),new At(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new ur(30,new At(8,122),new At(4,123)),new ur(28,new At(22,45),new At(3,46)),new ur(30,new At(8,23),new At(26,24)),new ur(30,new At(12,15),new At(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new ur(30,new At(3,117),new At(10,118)),new ur(28,new At(3,45),new At(23,46)),new ur(30,new At(4,24),new At(31,25)),new ur(30,new At(11,15),new At(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new ur(30,new At(7,116),new At(7,117)),new ur(28,new At(21,45),new At(7,46)),new ur(30,new At(1,23),new At(37,24)),new ur(30,new At(19,15),new At(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new ur(30,new At(5,115),new At(10,116)),new ur(28,new At(19,47),new At(10,48)),new ur(30,new At(15,24),new At(25,25)),new ur(30,new At(23,15),new At(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new ur(30,new At(13,115),new At(3,116)),new ur(28,new At(2,46),new At(29,47)),new ur(30,new At(42,24),new At(1,25)),new ur(30,new At(23,15),new At(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new ur(30,new At(17,115)),new ur(28,new At(10,46),new At(23,47)),new ur(30,new At(10,24),new At(35,25)),new ur(30,new At(19,15),new At(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new ur(30,new At(17,115),new At(1,116)),new ur(28,new At(14,46),new At(21,47)),new ur(30,new At(29,24),new At(19,25)),new ur(30,new At(11,15),new At(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new ur(30,new At(13,115),new At(6,116)),new ur(28,new At(14,46),new At(23,47)),new ur(30,new At(44,24),new At(7,25)),new ur(30,new At(59,16),new At(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new ur(30,new At(12,121),new At(7,122)),new ur(28,new At(12,47),new At(26,48)),new ur(30,new At(39,24),new At(14,25)),new ur(30,new At(22,15),new At(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new ur(30,new At(6,121),new At(14,122)),new ur(28,new At(6,47),new At(34,48)),new ur(30,new At(46,24),new At(10,25)),new ur(30,new At(2,15),new At(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new ur(30,new At(17,122),new At(4,123)),new ur(28,new At(29,46),new At(14,47)),new ur(30,new At(49,24),new At(10,25)),new ur(30,new At(24,15),new At(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new ur(30,new At(4,122),new At(18,123)),new ur(28,new At(13,46),new At(32,47)),new ur(30,new At(48,24),new At(14,25)),new ur(30,new At(42,15),new At(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new ur(30,new At(20,117),new At(4,118)),new ur(28,new At(40,47),new At(7,48)),new ur(30,new At(43,24),new At(22,25)),new ur(30,new At(10,15),new At(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new ur(30,new At(19,118),new At(6,119)),new ur(28,new At(18,47),new At(31,48)),new ur(30,new At(34,24),new At(34,25)),new ur(30,new At(20,15),new At(61,16)))],r})(),mc;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(mc||(mc={}));var B_=(function(){function r(e,n){this.value=e,this.isMasked=n}return r.prototype.unmaskBitMatrix=function(e,n){for(var a=0;a<n;a++)for(var i=0;i<n;i++)this.isMasked(a,i)&&e.flip(i,a)},r.values=new Map([[mc.DATA_MASK_000,new r(mc.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[mc.DATA_MASK_001,new r(mc.DATA_MASK_001,function(e,n){return(e&1)===0})],[mc.DATA_MASK_010,new r(mc.DATA_MASK_010,function(e,n){return n%3===0})],[mc.DATA_MASK_011,new r(mc.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[mc.DATA_MASK_100,new r(mc.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[mc.DATA_MASK_101,new r(mc.DATA_MASK_101,function(e,n){return e*n%6===0})],[mc.DATA_MASK_110,new r(mc.DATA_MASK_110,function(e,n){return e*n%6<3})],[mc.DATA_MASK_111,new r(mc.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),r})(),rse=(function(){function r(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new mn;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var a=5;a>=0;a--)e=this.copyBit(8,a,e);for(var i=this.bitMatrix.getHeight(),s=0,c=i-7,a=i-1;a>=c;a--)s=this.copyBit(8,a,s);for(var n=i-8;n<i;n++)s=this.copyBit(n,8,s);if(this.parsedFormatInfo=YF.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new mn},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return rp.getVersionForNumber(n);for(var a=0,i=e-11,s=5;s>=0;s--)for(var c=e-9;c>=i;c--)a=this.copyBit(c,s,a);var l=rp.decodeVersionInformation(a);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;a=0;for(var c=5;c>=0;c--)for(var s=e-9;s>=i;s--)a=this.copyBit(c,s,a);if(l=rp.decodeVersionInformation(a),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new mn},r.prototype.copyBit=function(e,n,a){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?a<<1|1:a<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),a=B_.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,i);for(var s=n.buildFunctionPattern(),c=!0,l=new Uint8Array(n.getTotalCodewords()),u=0,o=0,h=0,d=i-1;d>0;d-=2){d===6&&d--;for(var f=0;f<i;f++)for(var A=c?i-1-f:f,g=0;g<2;g++)s.get(d-g,A)||(h++,o<<=1,this.bitMatrix.get(d-g,A)&&(o|=1),h===8&&(l[u++]=o,h=0,o=0));c=!c}if(u!==n.getTotalCodewords())throw new mn;return l},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=B_.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,a=e.getWidth();n<a;n++)for(var i=n+1,s=e.getHeight();i<s;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},r})(),E_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nse=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n,a){var i,s,c,l;if(e.length!==n.getTotalCodewords())throw new Ba;var u=n.getECBlocksForLevel(a),o=0,h=u.getECBlocks();try{for(var d=E_(h),f=d.next();!f.done;f=d.next()){var A=f.value;o+=A.getCount()}}catch(D){i={error:D}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var g=new Array(o),m=0;try{for(var x=E_(h),y=x.next();!y.done;y=x.next())for(var A=y.value,b=0;b<A.getCount();b++){var w=A.getDataCodewords(),N=u.getECCodewordsPerBlock()+w;g[m++]=new r(w,new Uint8Array(N))}}catch(D){c={error:D}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}for(var S=g[0].codewords.length,j=g.length-1;j>=0;){var _=g[j].codewords.length;if(_===S)break;j--}j++;for(var P=S-u.getECCodewordsPerBlock(),Z=0,b=0;b<P;b++)for(var ee=0;ee<m;ee++)g[ee].codewords[b]=e[Z++];for(var ee=j;ee<m;ee++)g[ee].codewords[P]=e[Z++];for(var K=g[0].codewords.length,b=P;b<K;b++)for(var ee=0;ee<m;ee++){var ae=ee<j?b:b+1;g[ee].codewords[ae]=e[Z++]}return g},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Md;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Md||(Md={}));var mo=(function(){function r(e,n,a,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var n=r.FOR_BITS.get(e);if(n===void 0)throw new Ba;return n},r.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Md.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Md.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Md.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Md.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Md.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Md.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Md.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Md.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Md.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Md.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),ase=(function(){function r(){}return r.decode=function(e,n,a,i){var s=new XF(e),c=new wi,l=new Array,u=-1,o=-1;try{var h=null,d=!1,f=void 0;do{if(s.available()<4)f=mo.TERMINATOR;else{var A=s.readBits(4);f=mo.forBits(A)}switch(f){case mo.TERMINATOR:break;case mo.FNC1_FIRST_POSITION:case mo.FNC1_SECOND_POSITION:d=!0;break;case mo.STRUCTURED_APPEND:if(s.available()<16)throw new mn;u=s.readBits(8),o=s.readBits(8);break;case mo.ECI:var g=r.parseECIValue(s);if(h=zl.getCharacterSetECIByValue(g),h===null)throw new mn;break;case mo.HANZI:var m=s.readBits(4),x=s.readBits(f.getCharacterCountBits(n));m===r.GB2312_SUBSET&&r.decodeHanziSegment(s,c,x);break;default:var y=s.readBits(f.getCharacterCountBits(n));switch(f){case mo.NUMERIC:r.decodeNumericSegment(s,c,y);break;case mo.ALPHANUMERIC:r.decodeAlphanumericSegment(s,c,y,d);break;case mo.BYTE:r.decodeByteSegment(s,c,y,h,l,i);break;case mo.KANJI:r.decodeKanjiSegment(s,c,y);break;default:throw new mn}break}}while(f!==mo.TERMINATOR)}catch{throw new mn}return new ux(e,c.toString(),l.length===0?null:l,a===null?null:a.toString(),u,o)},r.decodeHanziSegment=function(e,n,a){if(a*13>e.available())throw new mn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/96<<8&4294967295|c%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,a--}try{n.append(Hd.decode(i,qi.GB2312))}catch(u){throw new mn(u)}},r.decodeKanjiSegment=function(e,n,a){if(a*13>e.available())throw new mn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/192<<8&4294967295|c%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,a--}try{n.append(Hd.decode(i,qi.SHIFT_JIS))}catch(u){throw new mn(u)}},r.decodeByteSegment=function(e,n,a,i,s,c){if(8*a>e.available())throw new mn;for(var l=new Uint8Array(a),u=0;u<a;u++)l[u]=e.readBits(8);var o;i===null?o=qi.guessEncoding(l,c):o=i.getName();try{n.append(Hd.decode(l,o))}catch(h){throw new mn(h)}s.push(l)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new mn;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,n,a,i){for(var s=n.length();a>1;){if(e.available()<11)throw new mn;var c=e.readBits(11);n.append(r.toAlphaNumericChar(Math.floor(c/45))),n.append(r.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(e.available()<6)throw new mn;n.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},r.decodeNumericSegment=function(e,n,a){for(;a>=3;){if(e.available()<10)throw new mn;var i=e.readBits(10);if(i>=1e3)throw new mn;n.append(r.toAlphaNumericChar(Math.floor(i/100))),n.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(r.toAlphaNumericChar(i%10)),a-=3}if(a===2){if(e.available()<7)throw new mn;var s=e.readBits(7);if(s>=100)throw new mn;n.append(r.toAlphaNumericChar(Math.floor(s/10))),n.append(r.toAlphaNumericChar(s%10))}else if(a===1){if(e.available()<4)throw new mn;var c=e.readBits(4);if(c>=10)throw new mn;n.append(r.toAlphaNumericChar(c))}},r.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var a=e.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new mn},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),ZF=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},r})(),I_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ise=(function(){function r(){this.rsDecoder=new dx(Du.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(Ph.parseFromBooleanArray(e),n)},r.prototype.decodeBitMatrix=function(e,n){var a=new rse(e),i=null;try{return this.decodeBitMatrixParser(a,n)}catch(c){i=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();var s=this.decodeBitMatrixParser(a,n);return s.setOther(new ZF(!0)),s}catch(c){throw i!==null?i:c}},r.prototype.decodeBitMatrixParser=function(e,n){var a,i,s,c,l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),h=nse.getDataBlocks(o,l,u),d=0;try{for(var f=I_(h),A=f.next();!A.done;A=f.next()){var g=A.value;d+=g.getNumDataCodewords()}}catch(j){a={error:j}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var m=new Uint8Array(d),x=0;try{for(var y=I_(h),b=y.next();!b.done;b=y.next()){var g=b.value,w=g.getCodewords(),N=g.getNumDataCodewords();this.correctErrors(w,N);for(var S=0;S<N;S++)m[x++]=w[S]}}catch(j){s={error:j}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}return ase.decode(m,l,u,n)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new Cl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),sse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ose=(function(r){sse(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=(this.getX()+a)/2,c=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,c,l)},e})(na),lse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cse=(function(){function r(e,n,a,i,s,c,l){this.image=e,this.startX=n,this.startY=a,this.width=i,this.height=s,this.moduleSize=c,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,n=this.height,a=this.width,i=e+a,s=this.startY+n/2,c=new Int32Array(3),l=this.image,u=0;u<n;u++){var o=s+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));c[0]=0,c[1]=0,c[2]=0;for(var h=e;h<i&&!l.get(h,o);)h++;for(var d=0;h<i;){if(l.get(h,o))if(d===1)c[1]++;else if(d===2){if(this.foundPatternCross(c)){var f=this.handlePossibleCenter(c,o,h);if(f!==null)return f}c[0]=c[2],c[1]=1,c[2]=0,d=1}else c[++d]++;else d===1&&d++,c[d]++;h++}if(this.foundPatternCross(c)){var f=this.handlePossibleCenter(c,o,i);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Br},r.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,a=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=a)return!1;return!0},r.prototype.crossCheckVertical=function(e,n,a,i){var s=this.image,c=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var u=e;u>=0&&s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&!s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u)&&l[1]<=a;)l[1]++,u++;if(u===c||l[1]>a)return NaN;for(;u<c&&!s.get(n,u)&&l[2]<=a;)l[2]++,u++;if(l[2]>a)return NaN;var o=l[0]+l[1]+l[2];return 5*Math.abs(o-i)>=2*i?NaN:this.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a){var i,s,c=e[0]+e[1]+e[2],l=r.centerFromEnd(e,a),u=this.crossCheckVertical(n,l,2*e[1],c);if(!isNaN(u)){var o=(e[0]+e[1]+e[2])/3;try{for(var h=lse(this.possibleCenters),d=h.next();!d.done;d=h.next()){var f=d.value;if(f.aboutEquals(o,u,l))return f.combineEstimate(u,l,o)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var A=new ose(l,u,o);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null},r})(),use=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),dse=(function(r){use(e,r);function e(n,a,i,s){var c=r.call(this,n,a)||this;return c.estimatedModuleSize=i,c.count=s,s===void 0&&(c.count=1),c}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=this.count+1,c=(this.count*this.getX()+a)/s,l=(this.count*this.getY()+n)/s,u=(this.count*this.estimatedModuleSize+i)/s;return new e(c,l,u,s)},e})(na),hse=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),B0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fse=(function(){function r(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var n=e!=null&&e.get(so.TRY_HARDER)!==void 0,a=e!=null&&e.get(so.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),c=i.getWidth(),l=Math.floor(3*s/(4*r.MAX_MODULES));(l<r.MIN_SKIP||n)&&(l=r.MIN_SKIP);for(var u=!1,o=new Int32Array(5),h=l-1;h<s&&!u;h+=l){o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0;for(var d=0,f=0;f<c;f++)if(i.get(f,h))(d&1)===1&&d++,o[d]++;else if((d&1)===0)if(d===4)if(r.foundPatternCross(o)){var A=this.handlePossibleCenter(o,h,f,a);if(A===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>o[2]&&(h+=g-o[2]-l,f=c-1)}else{o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,d=3;continue}d=0,o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,d=3;else o[++d]++;else o[d]++;if(r.foundPatternCross(o)){var A=this.handlePossibleCenter(o,h,c,a);A===!0&&(l=o[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return na.orderBestPatterns(m),new hse(m)},r.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var n=0,a=0;a<5;a++){var i=e[a];if(i===0)return!1;n+=i}if(n<7)return!1;var s=n/7,c=s/2;return Math.abs(s-e[0])<c&&Math.abs(s-e[1])<c&&Math.abs(3*s-e[2])<3*c&&Math.abs(s-e[3])<c&&Math.abs(s-e[4])<c},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,n,a,i){for(var s=this.getCrossCheckStateCount(),c=0,l=this.image;e>=c&&n>=c&&l.get(n-c,e-c);)s[2]++,c++;if(e<c||n<c)return!1;for(;e>=c&&n>=c&&!l.get(n-c,e-c)&&s[1]<=a;)s[1]++,c++;if(e<c||n<c||s[1]>a)return!1;for(;e>=c&&n>=c&&l.get(n-c,e-c)&&s[0]<=a;)s[0]++,c++;if(s[0]>a)return!1;var u=l.getHeight(),o=l.getWidth();for(c=1;e+c<u&&n+c<o&&l.get(n+c,e+c);)s[2]++,c++;if(e+c>=u||n+c>=o)return!1;for(;e+c<u&&n+c<o&&!l.get(n+c,e+c)&&s[3]<a;)s[3]++,c++;if(e+c>=u||n+c>=o||s[3]>=a)return!1;for(;e+c<u&&n+c<o&&l.get(n+c,e+c)&&s[4]<a;)s[4]++,c++;if(s[4]>=a)return!1;var h=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(h-i)<2*i&&r.foundPatternCross(s)},r.prototype.crossCheckVertical=function(e,n,a,i){for(var s=this.image,c=s.getHeight(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(n,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(n,u)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(n,u)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=2*i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.crossCheckHorizontal=function(e,n,a,i){for(var s=this.image,c=s.getWidth(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(u,n);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,n)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(u,n)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(u,n);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(u,n)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(u,n)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],c=r.centerFromEnd(e,a),l=this.crossCheckVertical(n,Math.floor(c),e[2],s);if(!isNaN(l)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(l),e[2],s),!isNaN(c)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(c),e[2],s)))){for(var u=s/7,o=!1,h=this.possibleCenters,d=0,f=h.length;d<f;d++){var A=h[d];if(A.aboutEquals(u,l,c)){h[d]=A.combineEstimate(l,c,u),o=!0;break}}if(!o){var g=new dse(c,l,u);h.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},r.prototype.findRowSkip=function(){var e,n,a=this.possibleCenters.length;if(a<=1)return 0;var i=null;try{for(var s=B0(this.possibleCenters),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.getCount()>=r.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,n,a,i,s=0,c=0,l=this.possibleCenters.length;try{for(var u=B0(this.possibleCenters),o=u.next();!o.done;o=u.next()){var h=o.value;h.getCount()>=r.CENTER_QUORUM&&(s++,c+=h.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{o&&!o.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(s<3)return!1;var d=c/l,f=0;try{for(var A=B0(this.possibleCenters),g=A.next();!g.done;g=A.next()){var h=g.value;f+=Math.abs(h.getEstimatedModuleSize()-d)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(i=A.return)&&i.call(A)}finally{if(a)throw a.error}}return f<=.05*c},r.prototype.selectBestPatterns=function(){var e,n,a,i,s=this.possibleCenters.length;if(s<3)throw new Br;var c=this.possibleCenters,l;if(s>3){var u=0,o=0;try{for(var h=B0(this.possibleCenters),d=h.next();!d.done;d=h.next()){var f=d.value,A=f.getEstimatedModuleSize();u+=A,o+=A*A}}catch(S){e={error:S}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}l=u/s;var g=Math.sqrt(o/s-l*l);c.sort(function(S,j){var _=Math.abs(j.getEstimatedModuleSize()-l),P=Math.abs(S.getEstimatedModuleSize()-l);return _<P?-1:_>P?1:0});for(var m=Math.max(.2*l,g),x=0;x<c.length&&c.length>3;x++){var y=c[x];Math.abs(y.getEstimatedModuleSize()-l)>m&&(c.splice(x,1),x--)}}if(c.length>3){var u=0;try{for(var b=B0(c),w=b.next();!w.done;w=b.next()){var N=w.value;u+=N.getEstimatedModuleSize()}}catch(j){a={error:j}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}l=u/c.length,c.sort(function(j,_){if(_.getCount()===j.getCount()){var P=Math.abs(_.getEstimatedModuleSize()-l),Z=Math.abs(j.getEstimatedModuleSize()-l);return P<Z?1:P>Z?-1:0}else return _.getCount()-j.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),Ase=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(so.NEED_RESULT_POINT_CALLBACK);var n=new fse(this.image,this.resultPointCallback),a=n.find(e);return this.processFinderPatternInfo(a)},r.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),a=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(n,a,i);if(s<1)throw new Br("No pattern found in proccess finder.");var c=r.computeDimension(n,a,i,s),l=rp.getProvisionalVersionForDimension(c),u=l.getDimensionForVersion()-7,o=null;if(l.getAlignmentPatternCenters().length>0)for(var h=a.getX()-n.getX()+i.getX(),d=a.getY()-n.getY()+i.getY(),f=1-3/u,A=Math.floor(n.getX()+f*(h-n.getX())),g=Math.floor(n.getY()+f*(d-n.getY())),m=4;m<=16;m<<=1)try{o=this.findAlignmentInRegion(s,A,g,m);break}catch(w){if(!(w instanceof Br))throw w}var x=r.createTransform(n,a,i,o,c),y=r.sampleGrid(this.image,x,c),b;return o===null?b=[i,n,a]:b=[i,n,a,o],new nS(y,b)},r.createTransform=function(e,n,a,i,s){var c=s-3.5,l,u,o,h;return i!==null?(l=i.getX(),u=i.getY(),o=c-3,h=o):(l=n.getX()-e.getX()+a.getX(),u=n.getY()-e.getY()+a.getY(),o=c,h=c),zF.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,o,h,3.5,c,e.getX(),e.getY(),n.getX(),n.getY(),l,u,a.getX(),a.getY())},r.sampleGrid=function(e,n,a){var i=aS.getInstance();return i.sampleGridWithTransform(e,a,a,n)},r.computeDimension=function(e,n,a,i){var s=is.round(na.distance(e,n)/i),c=is.round(na.distance(e,a)/i),l=Math.floor((s+c)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Br("Dimensions could be not found.")}return l},r.prototype.calculateModuleSize=function(e,n,a){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,a))/2},r.prototype.calculateModuleSizeOneWay=function(e,n){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?i/7:isNaN(i)?a/7:(a+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,a,i){var s=this.sizeOfBlackWhiteBlackRun(e,n,a,i),c=1,l=e-(a-e);l<0?(c=e/(e-l),l=0):l>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var u=Math.floor(n-(i-n)*c);return c=1,u<0?(c=n/(n-u),u=0):u>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*c),s+=this.sizeOfBlackWhiteBlackRun(e,n,l,u),s-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,n,a,i){var s=Math.abs(i-n)>Math.abs(a-e);if(s){var c=e;e=n,n=c,c=a,a=i,i=c}for(var l=Math.abs(a-e),u=Math.abs(i-n),o=-l/2,h=e<a?1:-1,d=n<i?1:-1,f=0,A=a+h,g=e,m=n;g!==A;g+=h){var x=s?m:g,y=s?g:m;if(f===1===this.image.get(x,y)){if(f===2)return is.distance(g,m,e,n);f++}if(o+=u,o>0){if(m===i)break;m+=d,o-=l}}return f===2?is.distance(a+h,i,e,n):NaN},r.prototype.findAlignmentInRegion=function(e,n,a,i){var s=Math.floor(i*e),c=Math.max(0,n-s),l=Math.min(this.image.getWidth()-1,n+s);if(l-c<e*3)throw new Br("Alignment top exceeds estimated module size.");var u=Math.max(0,a-s),o=Math.min(this.image.getHeight()-1,a+s);if(o-u<e*3)throw new Br("Alignment bottom exceeds estimated module size.");var h=new cse(this.image,c,u,l-c,o-u,e,this.resultPointCallback);return h.find()},r})(),m2=(function(){function r(){this.decoder=new ise}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,n){var a,i;if(n!=null&&n.get(so.PURE_BARCODE)!==void 0){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(s,n),i=r.NO_POINTS}else{var c=new Ase(e.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(c.getBits(),n),i=c.getPoints()}a.getOther()instanceof ZF&&a.getOther().applyMirroredCorrection(i);var l=new eu(a.getText(),a.getRawBytes(),void 0,i,Sa.QR_CODE,void 0),u=a.getByteSegments();u!==null&&l.putMetadata(Rc.BYTE_SEGMENTS,u);var o=a.getECLevel();return o!==null&&l.putMetadata(Rc.ERROR_CORRECTION_LEVEL,o),a.hasStructuredAppend()&&(l.putMetadata(Rc.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(Rc.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n===null||a===null)throw new Br;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0];if(l>=u||s>=c)throw new Br;if(c-s!==u-l&&(u=l+(c-s),u>=e.getWidth()))throw new Br;var o=Math.round((u-l+1)/i),h=Math.round((c-s+1)/i);if(o<=0||h<=0)throw new Br;if(h!==o)throw new Br;var d=Math.floor(i/2);s+=d,l+=d;var f=l+Math.floor((o-1)*i)-u;if(f>0){if(f>d)throw new Br;l-=f}var A=s+Math.floor((h-1)*i)-c;if(A>0){if(A>d)throw new Br;s-=A}for(var g=new Ph(o,h),m=0;m<h;m++)for(var x=s+Math.floor(m*i),y=0;y<o;y++)e.get(l+Math.floor(y*i),x)&&g.set(y,m);return g},r.moduleSize=function(e,n){for(var a=n.getHeight(),i=n.getWidth(),s=e[0],c=e[1],l=!0,u=0;s<i&&c<a;){if(l!==n.get(s,c)){if(++u===5)break;l=!l}s++,c++}if(s===i||c===a)throw new Br;return(s-e[0])/7},r.NO_POINTS=new Array,r})(),pse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yi=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return is.sum(e)},r.toIntArray=function(e){var n,a;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var c=pse(e),l=c.next();!l.done;l=c.next()){var u=l.value;i[s++]=u}}catch(o){n={error:o}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i},r.getCodeword=function(e){var n=Gl.binarySearch(r.SYMBOL_TABLE,e&262143);return n<0?-1:(r.CODEWORD_TABLE[n]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),mse=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),gse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vse=(function(){function r(){}return r.detectMultiple=function(e,n,a){var i=e.getBlackMatrix(),s=r.detect(a,i);return s.length||(i=i.clone(),i.rotate180(),s=r.detect(a,i)),new mse(i,s)},r.detect=function(e,n){for(var a,i,s=new Array,c=0,l=0,u=!1;c<n.getHeight();){var o=r.findVertices(n,c,l);if(o[0]==null&&o[3]==null){if(!u)break;u=!1,l=0;try{for(var h=(a=void 0,gse(s)),d=h.next();!d.done;d=h.next()){var f=d.value;f[1]!=null&&(c=Math.trunc(Math.max(c,f[1].getY()))),f[3]!=null&&(c=Math.max(c,Math.trunc(f[3].getY())))}}catch(A){a={error:A}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}c+=r.ROW_STEP;continue}if(u=!0,s.push(o),!e)break;o[2]!=null?(l=Math.trunc(o[2].getX()),c=Math.trunc(o[2].getY())):(l=Math.trunc(o[4].getX()),c=Math.trunc(o[4].getY()))}return s},r.findVertices=function(e,n,a){var i=e.getHeight(),s=e.getWidth(),c=new Array(8);return r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.START_PATTERN),r.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),c},r.copyToResult=function(e,n,a){for(var i=0;i<a.length;i++)e[a[i]]=n[i]},r.findRowsWithPattern=function(e,n,a,i,s,c){for(var l=new Array(4),u=!1,o=new Int32Array(c.length);i<n;i+=r.ROW_STEP){var h=r.findGuardPattern(e,s,i,a,!1,c,o);if(h!=null){for(;i>0;){var d=r.findGuardPattern(e,s,--i,a,!1,c,o);if(d!=null)h=d;else{i++;break}}l[0]=new na(h[0],i),l[1]=new na(h[1],i),u=!0;break}}var f=i+1;if(u){for(var A=0,d=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);f<n;f++){var h=r.findGuardPattern(e,d[0],f,a,!1,c,o);if(h!=null&&Math.abs(d[0]-h[0])<r.MAX_PATTERN_DRIFT&&Math.abs(d[1]-h[1])<r.MAX_PATTERN_DRIFT)d=h,A=0;else{if(A>r.SKIPPED_ROW_COUNT_MAX)break;A++}}f-=A+1,l[2]=new na(d[0],f),l[3]=new na(d[1],f)}return f-i<r.BARCODE_MIN_HEIGHT&&Gl.fill(l,null),l},r.findGuardPattern=function(e,n,a,i,s,c,l){Gl.fillWithin(l,0,l.length,0);for(var u=n,o=0;e.get(u,a)&&u>0&&o++<r.MAX_PIXEL_DRIFT;)u--;for(var h=u,d=0,f=c.length,A=s;h<i;h++){var g=e.get(h,a);if(g!==A)l[d]++;else{if(d===f-1){if(r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,h]);u+=l[0]+l[1],io.arraycopy(l,2,l,0,d-1),l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,A=!A}}return d===f-1&&r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,h-1]):null},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return 1/0;var u=s/c;a*=u;for(var o=0,h=0;h<i;h++){var d=e[h],f=n[h]*u,A=d>f?d-f:f-d;if(A>a)return 1/0;o+=A}return o/s},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),xse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YA=(function(){function r(e,n){if(n.length===0)throw new Ba;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-i),io.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var n,a;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=xse(this.coefficients),c=s.next();!c.done;c=s.next()){var l=c.value;i=this.field.add(i,l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i}for(var u=this.coefficients[0],o=this.coefficients.length,h=1;h<o;h++)u=this.field.add(this.field.multiply(e,u),this.coefficients[h]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ba("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;io.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=this.field.add(n[l-c],a[l]);return new r(this.field,s)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ba("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ba("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=0;l<a;l++)for(var u=n[l],o=0;o<s;o++)c[l+o]=this.field.add(c[l+o],this.field.multiply(u,i[o]));return new r(this.field,c)},r.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),a=0;a<e;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new r(this.field,n)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,a=new Int32Array(n),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,a)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ba;if(n===0)return new r(this.field,new Int32Array([0]));for(var a=this.coefficients.length,i=new Int32Array(a+e),s=0;s<a;s++)i[s]=this.field.multiply(this.coefficients[s],n);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new wi,n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);a!==0&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(n===0||a!==1)&&e.append(a),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},r})(),yse=(function(){function r(){}return r.prototype.add=function(e,n){return(e+n)%this.modulus},r.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ba;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new VF;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),bse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),wse=(function(r){bse(e,r);function e(n,a){var i=r.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var s=1,c=0;c<n;c++)i.expTable[c]=s,s=s*a%n;for(var c=0;c<n-1;c++)i.logTable[i.expTable[c]]=c;return i.zero=new YA(i,new Int32Array([0])),i.one=new YA(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ba;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new YA(this,i)},e.PDF417_GF=new e(Yi.NUMBER_OF_CODEWORDS,3),e})(yse),jse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cse=(function(){function r(){this.field=wse.PDF417_GF}return r.prototype.decode=function(e,n,a){for(var i,s,c=new YA(this.field,e),l=new Int32Array(n),u=!1,o=n;o>0;o--){var h=c.evaluateAt(this.field.exp(o));l[n-o]=h,h!==0&&(u=!0)}if(!u)return 0;var d=this.field.getOne();if(a!=null)try{for(var f=jse(a),A=f.next();!A.done;A=f.next()){var g=A.value,m=this.field.exp(e.length-1-g),x=new YA(this.field,new Int32Array([this.field.subtract(0,m),1]));d=d.multiply(x)}}catch(P){i={error:P}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}for(var y=new YA(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),w=b[0],N=b[1],S=this.findErrorLocations(w),j=this.findErrorMagnitudes(N,w,S),o=0;o<S.length;o++){var _=e.length-1-this.field.log(S[o]);if(_<0)throw Cl.getChecksumInstance();e[_]=this.field.subtract(e[_],j[o])}return S.length},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=e,c=n,l=this.field.getZero(),u=this.field.getOne();c.getDegree()>=Math.round(a/2);){var o=s,h=l;if(s=c,l=u,s.isZero())throw Cl.getChecksumInstance();c=o;for(var d=this.field.getZero(),f=s.getCoefficient(s.getDegree()),A=this.field.inverse(f);c.getDegree()>=s.getDegree()&&!c.isZero();){var g=c.getDegree()-s.getDegree(),m=this.field.multiply(c.getCoefficient(c.getDegree()),A);d=d.add(this.field.buildMonomial(g,m)),c=c.subtract(s.multiplyByMonomial(g,m))}u=d.multiply(l).subtract(h).negative()}var x=u.getCoefficient(0);if(x===0)throw Cl.getChecksumInstance();var y=this.field.inverse(x),b=u.multiply(y),w=c.multiply(y);return[b,w]},r.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),a=new Int32Array(n),i=0,s=1;s<this.field.getSize()&&i<n;s++)e.evaluateAt(s)===0&&(a[i]=this.field.inverse(s),i++);if(i!==n)throw Cl.getChecksumInstance();return a},r.prototype.findErrorMagnitudes=function(e,n,a){for(var i=n.getDegree(),s=new Int32Array(i),c=1;c<=i;c++)s[i-c]=this.field.multiply(c,n.getCoefficient(c));for(var l=new YA(this.field,s),u=a.length,o=new Int32Array(u),c=0;c<u;c++){var h=this.field.inverse(a[c]),d=this.field.subtract(0,e.evaluateAt(h)),f=this.field.inverse(l.evaluateAt(h));o[c]=this.field.multiply(d,f)}return o},r})(),M4=(function(){function r(e,n,a,i,s){e instanceof r?this.constructor_2(e):this.constructor_1(e,n,a,i,s)}return r.prototype.constructor_1=function(e,n,a,i,s){var c=n==null||a==null,l=i==null||s==null;if(c&&l)throw new Br;c?(n=new na(0,i.getY()),a=new na(0,s.getY())):l&&(i=new na(e.getWidth()-1,n.getY()),s=new na(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=n,this.bottomLeft=a,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,n){return e==null?n:n==null?e:new r(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},r.prototype.addMissingRows=function(e,n,a){var i=this.topLeft,s=this.bottomLeft,c=this.topRight,l=this.bottomRight;if(e>0){var u=a?this.topLeft:this.topRight,o=Math.trunc(u.getY()-e);o<0&&(o=0);var h=new na(u.getX(),o);a?i=h:c=h}if(n>0){var d=a?this.bottomLeft:this.bottomRight,f=Math.trunc(d.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var A=new na(d.getX(),f);a?s=A:l=A}return new r(this.image,i,s,c,l)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),Nse=(function(){function r(e,n,a,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),sS=(function(){function r(){this.buffer=""}return r.form=function(e,n){var a=-1;function i(c,l,u,o,h,d){if(c==="%%")return"%";if(n[++a]!==void 0){c=o?parseInt(o.substr(1)):void 0;var f=h?parseInt(h.substr(1)):void 0,A;switch(d){case"s":A=n[a];break;case"c":A=n[a][0];break;case"f":A=parseFloat(n[a]).toFixed(c);break;case"p":A=parseFloat(n[a]).toPrecision(c);break;case"e":A=parseFloat(n[a]).toExponential(c);break;case"x":A=parseInt(n[a]).toString(f||16);break;case"d":A=parseFloat(parseInt(n[a],f||10).toPrecision(c)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(f);for(var g=parseInt(u),m=u&&u[0]+""=="0"?"0":" ";A.length<g;)A=l!==void 0?A+m:m+A;return A}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},r.prototype.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.buffer+=r.form(e,n)},r.prototype.toString=function(){return this.buffer},r})(),Sse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JF=(function(){function r(e){this.boundingBox=new M4(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var a=1;a<r.MAX_NEARBY_DISTANCE;a++){var i=this.imageRowToCodewordIndex(e)-a;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+a,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,n,a=new sS,i=0;try{for(var s=Sse(this.codewords),c=s.next();!c.done;c=s.next()){var l=c.value;if(l==null){a.format("%3d:    |   %n",i++);continue}a.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),Bse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ese=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return s},U0=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},r.prototype.getValue=function(){var e,n,a=-1,i=new Array,s=function(d,f){var A={getKey:function(){return d},getValue:function(){return f}};A.getValue()>a?(a=A.getValue(),i=[],i.push(A.getKey())):A.getValue()===a&&i.push(A.getKey())};try{for(var c=Bse(this.values.entries()),l=c.next();!l.done;l=c.next()){var u=Ese(l.value,2),o=u[0],h=u[1];s(o,h)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return Yi.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),Ise=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Jj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T_=(function(r){Ise(e,r);function e(n,a){var i=r.call(this,n)||this;return i._isLeft=a,i}return e.prototype.setRowNumbers=function(){var n,a;try{for(var i=Jj(this.getCodewords()),s=i.next();!s.done;s=i.next()){var c=s.value;c!=null&&c.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=-1,h=1,d=0,f=l;f<u;f++)if(a[f]!=null){var A=a[f],g=A.getRowNumber()-o;if(g===0)d++;else if(g===1)h=Math.max(h,d),d=1,o=A.getRowNumber();else if(g<0||A.getRowNumber()>=n.getRowCount()||g>f)a[f]=null;else{var m=void 0;h>2?m=(h-2)*g:m=g;for(var x=m>=f,y=1;y<=m&&!x;y++)x=a[f-y]!=null;x?a[f]=null:(o=A.getRowNumber(),d=1)}}},e.prototype.getRowHeights=function(){var n,a,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var c=Jj(this.getCodewords()),l=c.next();!l.done;l=c.next()){var u=l.value;if(u!=null){var o=u.getRowNumber();if(o>=s.length)continue;s[o]++}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),o=-1,h=c;h<l;h++)if(u[h]!=null){var d=u[h];d.setRowNumberAsRowIndicatorColumn();var f=d.getRowNumber()-o;f===0||(f===1?o=d.getRowNumber():d.getRowNumber()>=n.getRowCount()?u[h]=null:o=d.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,a,i=this.getCodewords(),s=new U0,c=new U0,l=new U0,u=new U0;try{for(var o=Jj(i),h=o.next();!h.done;h=o.next()){var d=h.value;if(d!=null){d.setRowNumberAsRowIndicatorColumn();var f=d.getValue()%30,A=d.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:c.setValue(f*3+1);break;case 1:u.setValue(f/3),l.setValue(f%3);break;case 2:s.setValue(f+1);break}}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}if(s.getValue().length===0||c.getValue().length===0||l.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||c.getValue()[0]+l.getValue()[0]<Yi.MIN_ROWS_IN_BARCODE||c.getValue()[0]+l.getValue()[0]>Yi.MAX_ROWS_IN_BARCODE)return null;var g=new Nse(s.getValue()[0],c.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(n,a){for(var i=0;i<n.length;i++){var s=n[i];if(n[i]!=null){var c=s.getValue()%30,l=s.getRowNumber();if(l>a.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(n[i]=null);break;case 2:c+1!==a.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(JF),Tse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_se=(function(){function r(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Yi.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var a=this.detectionResultColumns[n].getCodewords(),i=0;i<a.length;i++)a[i]!=null&&(a[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,a));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<e.length;a++)if(e[a]!=null&&n[a]!=null&&e[a].getRowNumber()===n[a].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[a];s!=null&&(s.setRowNumber(e[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[a]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),n=0):++n),n},r.prototype.adjustRowNumbers=function(e,n,a){var i,s;if(this.detectionResultColumns[e-1]!=null){var c=a[n],l=this.detectionResultColumns[e-1].getCodewords(),u=l;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var o=new Array(14);o[2]=l[n],o[3]=u[n],n>0&&(o[0]=a[n-1],o[4]=l[n-1],o[5]=u[n-1]),n>1&&(o[8]=a[n-2],o[10]=l[n-2],o[11]=u[n-2]),n<a.length-1&&(o[1]=a[n+1],o[6]=l[n+1],o[7]=u[n+1]),n<a.length-2&&(o[9]=a[n+2],o[12]=l[n+2],o[13]=u[n+2]);try{for(var h=Tse(o),d=h.next();!d.done;d=h.next()){var f=d.value;if(r.adjustRowNumber(c,f))return}}catch(A){i={error:A}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new sS,a=0;a<e.getCodewords().length;a++){n.format("CW %3d:",a);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[a];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()},r})(),Ose=(function(){function r(e,n,a,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),kse=(function(){function r(){}return r.initialize=function(){for(var e=0;e<Yi.SYMBOL_TABLE.length;e++)for(var n=Yi.SYMBOL_TABLE[e],a=n&1,i=0;i<Yi.BARS_IN_MODULE;i++){for(var s=0;(n&1)===a;)s+=1,n>>=1;a=n&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Yi.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Yi.BARS_IN_MODULE-i-1]=Math.fround(s/Yi.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var n=r.getDecodedCodewordValue(r.sampleBitCounts(e));return n!==-1?n:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var n=is.sum(e),a=new Int32Array(Yi.BARS_IN_MODULE),i=0,s=0,c=0;c<Yi.MODULES_IN_CODEWORD;c++){var l=n/(2*Yi.MODULES_IN_CODEWORD)+c*n/Yi.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),a[i]++}return a},r.getDecodedCodewordValue=function(e){var n=r.getBitValue(e);return Yi.getCodeword(n)===-1?-1:n},r.getBitValue=function(e){for(var n=0,a=0;a<e.length;a++)for(var i=0;i<e[a];i++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)},r.getClosestDecodedValue=function(e){var n=is.sum(e),a=new Array(Yi.BARS_IN_MODULE);if(n>1)for(var i=0;i<a.length;i++)a[i]=Math.fround(e[i]/n);var s=P4.MAX_VALUE,c=-1;this.bSymbolTableReady||r.initialize();for(var l=0;l<r.RATIOS_TABLE.length;l++){for(var u=0,o=r.RATIOS_TABLE[l],h=0;h<Yi.BARS_IN_MODULE;h++){var d=Math.fround(o[h]-a[h]);if(u+=Math.fround(d*d),u>=s)break}u<s&&(s=u,c=Yi.SYMBOL_TABLE[l])}return c},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Yi.SYMBOL_TABLE.length).map(function(e){return new Array(Yi.BARS_IN_MODULE)}),r})(),Pse=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),__=(function(){function r(){}return r.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r})(),Fse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Dse=(function(r){Fse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Lu),Mse=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,n,a){if(e==null)throw new Dse;if(n<0||n>e.length||a<0||n+a>e.length||n+a<0)throw new rS;if(a===0)return;for(var i=0;i<a;i++)this.write(e[n+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),Rse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lse=(function(r){Rse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Lu),Use=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Hse=(function(r){Use(e,r);function e(n){n===void 0&&(n=32);var a=r.call(this)||this;if(a.count=0,n<0)throw new Ba("Negative initial size: "+n);return a.buf=new Uint8Array(n),a}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var a=this.buf.length,i=a<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new Lse;i=Si.MAX_VALUE}this.buf=Gl.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,a,i){if(a<0||a>n.length||i<0||a+i-n.length>0)throw new rS;this.ensureCapacity(this.count+i),io.arraycopy(n,a,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Gl.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(Mse),Us;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Us||(Us={}));function eD(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var tv;function Yf(r){if(typeof tv>"u"&&(tv=eD()),tv===null)throw new Error("BigInt is not supported!");return tv(r)}function Qse(){var r=[];r[0]=Yf(1);var e=Yf(900);r[1]=e;for(var n=2;n<16;n++)r[n]=r[n-1]*e;return r}var Wse=(function(){function r(){}return r.decode=function(e,n){var a=new wi(""),i=zl.ISO8859_1;a.enableDecoding(i);for(var s=1,c=e[s++],l=new Pse;s<e[0];){switch(c){case r.TEXT_COMPACTION_MODE_LATCH:s=r.textCompaction(e,s,a);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:s=r.byteCompaction(c,e,i,s,a);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[s++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:s=r.numericCompaction(e,s,a);break;case r.ECI_CHARSET:zl.getCharacterSetECIByValue(e[s++]);break;case r.ECI_GENERAL_PURPOSE:s+=2;break;case r.ECI_USER_DEFINED:s++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=r.decodeMacroBlock(e,s,l);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new mn;default:s--,s=r.textCompaction(e,s,a);break}if(s<e.length)c=e[s++];else throw mn.getFormatInstance()}if(a.length()===0)throw mn.getFormatInstance();var u=new ux(null,a.toString(),null,n);return u.setOther(l),u},r.decodeMacroBlock=function(e,n,a){if(n+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw mn.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<r.NUMBER_OF_SEQUENCE_CODEWORDS;s++,n++)i[s]=e[n];a.setSegmentIndex(Si.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var c=new wi;n=r.textCompaction(e,n,c),a.setFileId(c.toString());var l=-1;for(e[n]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new wi;n=r.textCompaction(e,n+1,u),a.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var o=new wi;n=r.textCompaction(e,n+1,o),a.setSender(o.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new wi;n=r.textCompaction(e,n+1,h),a.setAddressee(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new wi;n=r.numericCompaction(e,n+1,d),a.setSegmentCount(Si.parseInt(d.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new wi;n=r.numericCompaction(e,n+1,f),a.setTimestamp(__.parseLong(f.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var A=new wi;n=r.numericCompaction(e,n+1,A),a.setChecksum(Si.parseInt(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new wi;n=r.numericCompaction(e,n+1,g),a.setFileSize(__.parseLong(g.toString()));break;default:throw mn.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw mn.getFormatInstance()}if(l!==-1){var m=n-l;a.isLastSegment()&&m--,a.setOptionalData(Gl.copyOfRange(e,l,l+m))}return n},r.textCompaction=function(e,n,a){for(var i=new Int32Array((e[0]-n)*2),s=new Int32Array((e[0]-n)*2),c=0,l=!1;n<e[0]&&!l;){var u=e[n++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[c]=u/30,i[c+1]=u%30,c+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[c++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[c]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],s[c]=u,c++;break}}return r.decodeTextCompaction(i,s,c,a),n},r.decodeTextCompaction=function(e,n,a,i){for(var s=Us.ALPHA,c=Us.ALPHA,l=0;l<a;){var u=e[l],o="";switch(s){case Us.ALPHA:if(u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.LL:s=Us.LOWER;break;case r.ML:s=Us.MIXED;break;case r.PS:c=s,s=Us.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Us.ALPHA;break}break;case Us.LOWER:if(u<26)o=String.fromCharCode(97+u);else switch(u){case 26:o=" ";break;case r.AS:c=s,s=Us.ALPHA_SHIFT;break;case r.ML:s=Us.MIXED;break;case r.PS:c=s,s=Us.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Us.ALPHA;break}break;case Us.MIXED:if(u<r.PL)o=r.MIXED_CHARS[u];else switch(u){case r.PL:s=Us.PUNCT;break;case 26:o=" ";break;case r.LL:s=Us.LOWER;break;case r.AL:s=Us.ALPHA;break;case r.PS:c=s,s=Us.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Us.ALPHA;break}break;case Us.PUNCT:if(u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Us.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Us.ALPHA;break}break;case Us.ALPHA_SHIFT:if(s=c,u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:s=Us.ALPHA;break}break;case Us.PUNCT_SHIFT:if(s=c,u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Us.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Us.ALPHA;break}break}o!==""&&i.append(o),l++}},r.byteCompaction=function(e,n,a,i,s){var c=new Hse,l=0,u=0,o=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),d=n[i++];i<n[0]&&!o;)switch(h[l++]=d,u=900*u+d,d=n[i++],d){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break;default:if(l%5===0&&l>0){for(var f=0;f<6;++f)c.write(Number(Yf(u)>>Yf(8*(5-f))));u=0,l=0}break}i===n[0]&&d<r.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=d);for(var A=0;A<l;A++)c.write(h[A]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!o;){var g=n[i++];if(g<r.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+g;else switch(g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break}if(l%5===0&&l>0){for(var f=0;f<6;++f)c.write(Number(Yf(u)>>Yf(8*(5-f))));u=0,l=0}}break}return s.append(Hd.decode(c.toByteArray(),a)),i},r.numericCompaction=function(e,n,a){for(var i=0,s=!1,c=new Int32Array(r.MAX_NUMERIC_CODEWORDS);n<e[0]&&!s;){var l=e[n++];if(n===e[0]&&(s=!0),l<r.TEXT_COMPACTION_MODE_LATCH)c[i]=l,i++;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||l===r.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(a.append(r.decodeBase900toBase10(c,i)),i=0)}return n},r.decodeBase900toBase10=function(e,n){for(var a=Yf(0),i=0;i<n;i++)a+=r.EXP900[n-i-1]*Yf(e[i]);var s=a.toString();if(s.charAt(0)!=="1")throw new mn;return s.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=eD()?Qse():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),E0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$se=(function(){function r(){}return r.decode=function(e,n,a,i,s,c,l){for(var u=new M4(e,n,a,i,s),o=null,h=null,d,f=!0;;f=!1){if(n!=null&&(o=r.getRowIndicatorColumn(e,u,n,!0,c,l)),i!=null&&(h=r.getRowIndicatorColumn(e,u,i,!1,c,l)),d=r.merge(o,h),d==null)throw Br.getNotFoundInstance();var A=d.getBoundingBox();if(f&&A!=null&&(A.getMinY()<u.getMinY()||A.getMaxY()>u.getMaxY()))u=A;else break}d.setBoundingBox(u);var g=d.getBarcodeColumnCount()+1;d.setDetectionResultColumn(0,o),d.setDetectionResultColumn(g,h);for(var m=o!=null,x=1;x<=g;x++){var y=m?x:g-x;if(d.getDetectionResultColumn(y)===void 0){var b=void 0;y===0||y===g?b=new T_(u,y===0):b=new JF(u),d.setDetectionResultColumn(y,b);for(var w=-1,N=w,S=u.getMinY();S<=u.getMaxY();S++){if(w=r.getStartColumn(d,y,S,m),w<0||w>u.getMaxX()){if(N===-1)continue;w=N}var j=r.detectCodeword(e,u.getMinX(),u.getMaxX(),m,w,S,c,l);j!=null&&(b.setCodeword(S,j),N=w,c=Math.min(c,j.getWidth()),l=Math.max(l,j.getWidth()))}}}return r.createDecoderResult(d)},r.merge=function(e,n){if(e==null&&n==null)return null;var a=r.getBarcodeMetadata(e,n);if(a==null)return null;var i=M4.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(n));return new _se(a,i)},r.adjustBoundingBox=function(e){var n,a;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=r.getMax(i),c=0;try{for(var l=E0(i),u=l.next();!u.done;u=l.next()){var o=u.value;if(c+=s-o,o>0)break}}catch(A){n={error:A}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var h=e.getCodewords(),d=0;c>0&&h[d]==null;d++)c--;for(var f=0,d=i.length-1;d>=0&&(f+=s-i[d],!(i[d]>0));d--);for(var d=h.length-1;f>0&&h[d]==null;d--)f--;return e.getBoundingBox().addMissingRows(c,f,e.isLeft())},r.getMax=function(e){var n,a,i=-1;try{for(var s=E0(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=Math.max(i,l)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.getBarcodeMetadata=function(e,n){var a;if(e==null||(a=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==i.getColumnCount()&&a.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&a.getRowCount()!==i.getRowCount()?null:a},r.getRowIndicatorColumn=function(e,n,a,i,s,c){for(var l=new T_(n,i),u=0;u<2;u++)for(var o=u===0?1:-1,h=Math.trunc(Math.trunc(a.getX())),d=Math.trunc(Math.trunc(a.getY()));d<=n.getMaxY()&&d>=n.getMinY();d+=o){var f=r.detectCodeword(e,0,e.getWidth(),i,h,d,s,c);f!=null&&(l.setCodeword(d,f),i?h=f.getStartX():h=f.getEndX())}return l},r.adjustCodewordCount=function(e,n){var a=n[0][1],i=a.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Yi.MAX_CODEWORDS_IN_BARCODE)throw Br.getNotFoundInstance();a.setValue(s)}else i[0]!==s&&a.setValue(s)},r.createDecoderResult=function(e){var n=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,n);for(var a=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],c=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var u=0;u<e.getBarcodeColumnCount();u++){var o=n[l][u+1].getValue(),h=l*e.getBarcodeColumnCount()+u;o.length===0?a.push(h):o.length===1?i[h]=o[0]:(c.push(h),s.push(o))}for(var d=new Array(s.length),f=0;f<d.length;f++)d[f]=s[f];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Yi.toIntArray(a),Yi.toIntArray(c),d)},r.createDecoderResultFromAmbiguousValues=function(e,n,a,i,s){for(var c=new Int32Array(i.length),l=100;l-- >0;){for(var u=0;u<c.length;u++)n[i[u]]=s[u][c[u]];try{return r.decodeCodewords(n,e,a)}catch(h){var o=h instanceof Cl;if(!o)throw h}if(c.length===0)throw Cl.getChecksumInstance();for(var u=0;u<c.length;u++)if(c[u]<s[u].length-1){c[u]++;break}else if(c[u]=0,u===c.length-1)throw Cl.getChecksumInstance()}throw Cl.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var n,a,i,s,c=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<c.length;l++)for(var u=0;u<c[l].length;u++)c[l][u]=new U0;var o=0;try{for(var h=E0(e.getDetectionResultColumns()),d=h.next();!d.done;d=h.next()){var f=d.value;if(f!=null)try{for(var A=(i=void 0,E0(f.getCodewords())),g=A.next();!g.done;g=A.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][o].setValue(m.getValue())}}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}o++}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}return c},r.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,n,a,i){var s,c,l=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodeword(a)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(a),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodewordNearby(a)),u!=null)return i?u.getEndX():u.getStartX();for(var o=0;r.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var h=(s=void 0,E0(e.getDetectionResultColumn(n).getCodewords())),d=h.next();!d.done;d=h.next()){var f=d.value;if(f!=null)return(i?f.getEndX():f.getStartX())+l*o*(f.getEndX()-f.getStartX())}}catch(A){s={error:A}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}o++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,n,a,i,s,c,l,u){s=r.adjustCodewordStartColumn(e,n,a,i,s,c);var o=r.getModuleBitCount(e,n,a,i,s,c);if(o==null)return null;var h,d=is.sum(o);if(i)h=s+d;else{for(var f=0;f<o.length/2;f++){var A=o[f];o[f]=o[o.length-1-f],o[o.length-1-f]=A}h=s,s=h-d}if(!r.checkCodewordSkew(d,l,u))return null;var g=kse.getDecodedValue(o),m=Yi.getCodeword(g);return m===-1?null:new Ose(s,h,r.getCodewordBucketNumber(g),m)},r.getModuleBitCount=function(e,n,a,i,s,c){for(var l=s,u=new Int32Array(8),o=0,h=i?1:-1,d=i;(i?l<a:l>=n)&&o<u.length;)e.get(l,c)===d?(u[o]++,l+=h):(o++,d=!d);return o===u.length||l===(i?a:n)&&o===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,n,a,i,s,c){for(var l=s,u=i?-1:1,o=0;o<2;o++){for(;(i?l>=n:l<a)&&i===e.get(l,c);){if(Math.abs(s-l)>r.CODEWORD_SKEW_SIZE)return s;l+=u}u=-u,i=!i}return l},r.checkCodewordSkew=function(e,n,a){return n-r.CODEWORD_SKEW_SIZE<=e&&e<=a+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,n,a){if(e.length===0)throw mn.getFormatInstance();var i=1<<n+1,s=r.correctErrors(e,a,i);r.verifyCodewordCount(e,i);var c=Wse.decode(e,""+n);return c.setErrorsCorrected(s),c.setErasures(a.length),c},r.correctErrors=function(e,n,a){if(n!=null&&n.length>a/2+r.MAX_ERRORS||a<0||a>r.MAX_EC_CODEWORDS)throw Cl.getChecksumInstance();return r.errorCorrection.decode(e,a,n)},r.verifyCodewordCount=function(e,n){if(e.length<4)throw mn.getFormatInstance();var a=e[0];if(a>e.length)throw mn.getFormatInstance();if(a===0)if(n<e.length)e[0]=e.length-n;else throw mn.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),a=0,i=n.length-1;!((e&1)!==a&&(a=e&1,i--,i<0));)n[i]++,e>>=1;return n},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var n=new sS,a=0;a<e.length;a++){n.format("Row %2d: ",a);for(var i=0;i<e[a].length;i++){var s=e[a][i];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Cse,r})(),Vse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g2=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=r.decode(e,n,!1);if(a==null||a.length===0||a[0]==null)throw Br.getNotFoundInstance();return a[0]},r.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return r.decode(e,n,!0)}catch(a){throw a instanceof mn||a instanceof Cl?Br.getNotFoundInstance():a}},r.decode=function(e,n,a){var i,s,c=new Array,l=vse.detectMultiple(e,n,a);try{for(var u=Vse(l.getPoints()),o=u.next();!o.done;o=u.next()){var h=o.value,d=$se.decode(l.getBits(),h[4],h[5],h[6],h[7],r.getMinCodewordWidth(h),r.getMaxCodewordWidth(h)),f=new eu(d.getText(),d.getRawBytes(),void 0,h,Sa.PDF_417);f.putMetadata(Rc.ERROR_CORRECTION_LEVEL,d.getECLevel());var A=d.getOther();A!=null&&f.putMetadata(Rc.PDF417_EXTRA_METADATA,A),c.push(f)}}catch(g){i={error:g}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return c.map(function(g){return g})},r.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMinWidth=function(e,n){return e==null||n==null?Si.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Yi.MODULES_IN_CODEWORD/Yi.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),zse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),O_=(function(r){zse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(Lu),k_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tD=(function(){function r(){}return r.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(so.TRY_HARDER)!==void 0,a=e==null?null:e.get(so.POSSIBLE_FORMATS),i=new Array;if(a!=null){var s=a.some(function(c){return c===Sa.UPC_A||c===Sa.UPC_E||c===Sa.EAN_13||c===Sa.EAN_8||c===Sa.CODABAR||c===Sa.CODE_39||c===Sa.CODE_93||c===Sa.CODE_128||c===Sa.ITF||c===Sa.RSS_14||c===Sa.RSS_EXPANDED});s&&!n&&i.push(new Gp(e)),a.includes(Sa.QR_CODE)&&i.push(new m2),a.includes(Sa.DATA_MATRIX)&&i.push(new p2),a.includes(Sa.AZTEC)&&i.push(new f2),a.includes(Sa.PDF_417)&&i.push(new g2),s&&n&&i.push(new Gp(e))}i.length===0&&(n||i.push(new Gp(e)),i.push(new m2),i.push(new p2),i.push(new f2),i.push(new g2),n&&i.push(new Gp(e))),this.readers=i},r.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var a=k_(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var n,a;if(this.readers===null)throw new O_("No readers where selected, nothing can be read.");try{for(var i=k_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;try{return c.decode(e,this.hints)}catch(l){if(l instanceof O_)continue}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new Br("No MultiFormat Readers were able to detect the code.")},r})(),Kse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Kse(e,r);function e(n,a){n===void 0&&(n=null),a===void 0&&(a=500);var i=this,s=new tD;return s.setHints(n),i=r.call(this,s,a)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Rm);var Gse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Gse(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new g2,n)||this}return e})(Rm);var qse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){qse(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new m2,n)||this}return e})(Rm);var R4;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(R4||(R4={}));const rv=R4;var rD=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new oA(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var a=n[n.length-1],i=this.field,s=n.length;s<=e;s++){var c=a.multiply(new oA(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));n.push(c),a=c}return n[e]},r.prototype.encode=function(e,n){if(n===0)throw new Ba("No error correction bytes");var a=e.length-n;if(a<=0)throw new Ba("No data bytes provided");var i=this.buildGenerator(n),s=new Int32Array(a);io.arraycopy(e,0,s,0,a);var c=new oA(this.field,s);c=c.multiplyByMonomial(n,1);for(var l=c.divide(i)[1],u=l.getCoefficients(),o=n-u.length,h=0;h<o;h++)e[a+h]=0;io.arraycopy(u,0,e,a+o,u.length)},r})(),H0=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s-1;c++)for(var l=a[c],u=0;u<i-1;u++){var o=l[u];o===l[u+1]&&o===a[c+1][u]&&o===a[c+1][u+1]&&n++}return r.N2*n},r.applyMaskPenaltyRule3=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=0;l<i;l++){var u=a[c];l+6<i&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(r.isWhiteHorizontal(u,l-4,l)||r.isWhiteHorizontal(u,l+7,l+11))&&n++,c+6<s&&a[c][l]===1&&a[c+1][l]===0&&a[c+2][l]===1&&a[c+3][l]===1&&a[c+4][l]===1&&a[c+5][l]===0&&a[c+6][l]===1&&(r.isWhiteVertical(a,l,c-4,c)||r.isWhiteVertical(a,l,c+7,c+11))&&n++}return n*r.N3},r.isWhiteHorizontal=function(e,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,n,a,i){a=Math.max(a,0),i=Math.min(i,e.length);for(var s=a;s<i;s++)if(e[s][n]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=a[c],u=0;u<i;u++)l[u]===1&&n++;var o=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(n*2-o)*10/o);return h*r.N4},r.getDataMaskBit=function(e,n,a){var i,s;switch(e){case 0:i=a+n&1;break;case 1:i=a&1;break;case 2:i=n%3;break;case 3:i=(a+n)%3;break;case 4:i=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:s=a*n,i=(s&1)+s%3;break;case 6:s=a*n,i=(s&1)+s%3&1;break;case 7:s=a*n,i=s%3+(a+n&1)&1;break;default:throw new Ba("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,n){for(var a=0,i=n?e.getHeight():e.getWidth(),s=n?e.getWidth():e.getHeight(),c=e.getArray(),l=0;l<i;l++){for(var u=0,o=-1,h=0;h<s;h++){var d=n?c[l][h]:c[h][l];d===o?u++:(u>=5&&(a+=r.N1+(u-5)),u=1,o=d)}u>=5&&(a+=r.N1+(u-5))}return a},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),Xse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yse=(function(){function r(e,n){this.width=e,this.height=n;for(var a=new Array(n),i=0;i!==n;i++)a[i]=new Uint8Array(e);this.bytes=a}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,n){return this.bytes[n][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,n,a){this.bytes[n][e]=a},r.prototype.setBoolean=function(e,n,a){this.bytes[n][e]=a?1:0},r.prototype.clear=function(e){var n,a;try{for(var i=Xse(this.bytes),s=i.next();!s.done;s=i.next()){var c=s.value;Gl.fill(c,e)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var a=0,i=this.height;a<i;++a)for(var s=this.bytes[a],c=n.bytes[a],l=0,u=this.width;l<u;++l)if(s[l]!==c[l])return!1;return!0},r.prototype.toString=function(){for(var e=new wi,n=0,a=this.height;n<a;++n){for(var i=this.bytes[n],s=0,c=this.width;s<c;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),L4=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new wi;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),Zse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),po=(function(r){Zse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(Lu),P_=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,n,a,i,s){r.clearMatrix(s),r.embedBasicPatterns(a,s),r.embedTypeInfo(n,i,s),r.maybeEmbedVersionInfo(a,s),r.embedDataBits(e,i,s)},r.embedBasicPatterns=function(e,n){r.embedPositionDetectionPatternsAndSeparators(n),r.embedDarkDotAtLeftBottomCorner(n),r.maybeEmbedPositionAdjustmentPatterns(e,n),r.embedTimingPatterns(n)},r.embedTypeInfo=function(e,n,a){var i=new yc;r.makeTypeInfoBits(e,n,i);for(var s=0,c=i.getSize();s<c;++s){var l=i.get(i.getSize()-1-s),u=r.TYPE_INFO_COORDINATES[s],o=u[0],h=u[1];if(a.setBoolean(o,h,l),s<8){var d=a.getWidth()-s-1,f=8;a.setBoolean(d,f,l)}else{var d=8,f=a.getHeight()-7+(s-8);a.setBoolean(d,f,l)}}},r.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var a=new yc;r.makeVersionInfoBits(e,a);for(var i=17,s=0;s<6;++s)for(var c=0;c<3;++c){var l=a.get(i);i--,n.setBoolean(s,n.getHeight()-11+c,l),n.setBoolean(n.getHeight()-11+c,s,l)}}},r.embedDataBits=function(e,n,a){for(var i=0,s=-1,c=a.getWidth()-1,l=a.getHeight()-1;c>0;){for(c===6&&(c-=1);l>=0&&l<a.getHeight();){for(var u=0;u<2;++u){var o=c-u;if(r.isEmpty(a.get(o,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,n!==255&&H0.getDataMaskBit(n,o,l)&&(h=!h),a.setBoolean(o,l,h)}}l+=s}s=-s,l+=s,c-=2}if(i!==e.getSize())throw new po("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Si.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,n){if(n===0)throw new Ba("0 polynomial");var a=r.findMSBSet(n);for(e<<=a-1;r.findMSBSet(e)>=a;)e^=n<<r.findMSBSet(e)-a;return e},r.makeTypeInfoBits=function(e,n,a){if(!L4.isValidMaskPattern(n))throw new po("Invalid mask pattern");var i=e.getBits()<<3|n;a.appendBits(i,5);var s=r.calculateBCHCode(i,r.TYPE_INFO_POLY);a.appendBits(s,10);var c=new yc;if(c.appendBits(r.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new po("should not happen but we got: "+a.getSize())},r.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var a=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new po("should not happen but we got: "+n.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var a=(n+1)%2;r.isEmpty(e.get(n,6))&&e.setNumber(n,6,a),r.isEmpty(e.get(6,n))&&e.setNumber(6,n,a)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new po;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,n,a){for(var i=0;i<8;++i){if(!r.isEmpty(a.get(e+i,n)))throw new po;a.setNumber(e+i,n,0)}},r.embedVerticalSeparationPattern=function(e,n,a){for(var i=0;i<7;++i){if(!r.isEmpty(a.get(e,n+i)))throw new po;a.setNumber(e,n+i,0)}},r.embedPositionAdjustmentPattern=function(e,n,a){for(var i=0;i<5;++i)for(var s=r.POSITION_ADJUSTMENT_PATTERN[i],c=0;c<5;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPattern=function(e,n,a){for(var i=0;i<7;++i)for(var s=r.POSITION_DETECTION_PATTERN[i],c=0;c<7;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPatternsAndSeparators=function(e){var n=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-n,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-n,e);var a=8;r.embedHorizontalSeparationPattern(0,a-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-a,a-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-a,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var a=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a],s=0,c=i.length;s!==c;s++){var l=i[s];if(l>=0)for(var u=0;u!==c;u++){var o=i[u];o>=0&&r.isEmpty(n.get(o,l))&&r.embedPositionAdjustmentPattern(o-2,l-2,n)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),Jse=(function(){function r(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),F_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return H0.applyMaskPenaltyRule1(e)+H0.applyMaskPenaltyRule2(e)+H0.applyMaskPenaltyRule3(e)+H0.applyMaskPenaltyRule4(e)},r.encode=function(e,n,a){a===void 0&&(a=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,s=a!==null&&a.get(rv.CHARACTER_SET)!==void 0;s&&(i=a.get(rv.CHARACTER_SET).toString());var c=this.chooseMode(e,i),l=new yc;if(c===mo.BYTE&&(s||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=zl.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,l)}this.appendModeInfo(c,l);var o=new yc;this.appendBytes(e,c,o,i);var h;if(a!==null&&a.get(rv.QR_VERSION)!==void 0){var d=Number.parseInt(a.get(rv.QR_VERSION).toString(),10);h=rp.getVersionForNumber(d);var f=this.calculateBitsNeeded(c,l,o,h);if(!this.willFit(f,h,n))throw new po("Data too big for requested version")}else h=this.recommendVersion(n,c,l,o);var A=new yc;A.appendBitArray(l);var g=c===mo.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(g,h,c,A),A.appendBitArray(o);var m=h.getECBlocksForLevel(n),x=h.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,A);var y=this.interleaveWithECBytes(A,h.getTotalCodewords(),x,m.getNumBlocks()),b=new L4;b.setECLevel(n),b.setMode(c),b.setVersion(h);var w=h.getDimensionForVersion(),N=new Yse(w,w),S=this.chooseMaskPattern(y,n,h,N);return b.setMaskPattern(S),P_.buildMatrix(y,n,h,S,N),b.setMatrix(N),b},r.recommendVersion=function(e,n,a,i){var s=this.calculateBitsNeeded(n,a,i,rp.getVersionForNumber(1)),c=this.chooseVersion(s,e),l=this.calculateBitsNeeded(n,a,i,c);return this.chooseVersion(l,e)},r.calculateBitsNeeded=function(e,n,a,i){return n.getSize()+e.getCharacterCountBits(i)+a.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,n){if(n===void 0&&(n=null),zl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return mo.KANJI;for(var a=!1,i=!1,s=0,c=e.length;s<c;++s){var l=e.charAt(s);if(r.isDigit(l))a=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return mo.BYTE}return i?mo.ALPHANUMERIC:a?mo.NUMERIC:mo.BYTE},r.isOnlyDoubleByteKanji=function(e){var n;try{n=Hd.encode(e,zl.SJIS)}catch{return!1}var a=n.length;if(a%2!==0)return!1;for(var i=0;i<a;i+=2){var s=n[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},r.chooseMaskPattern=function(e,n,a,i){for(var s=Number.MAX_SAFE_INTEGER,c=-1,l=0;l<L4.NUM_MASK_PATTERNS;l++){P_.buildMatrix(e,n,a,l,i);var u=this.calculateMaskPenalty(i);u<s&&(s=u,c=l)}return c},r.chooseVersion=function(e,n){for(var a=1;a<=40;a++){var i=rp.getVersionForNumber(a);if(r.willFit(e,i,n))return i}throw new po("Data too big")},r.willFit=function(e,n,a){var i=n.getTotalCodewords(),s=n.getECBlocksForLevel(a),c=s.getTotalECCodewords(),l=i-c,u=(e+7)/8;return l>=u},r.terminateBits=function(e,n){var a=e*8;if(n.getSize()>a)throw new po("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(var i=0;i<4&&n.getSize()<a;++i)n.appendBit(!1);var s=n.getSize()&7;if(s>0)for(var i=s;i<8;i++)n.appendBit(!1);for(var c=e-n.getSizeInBytes(),i=0;i<c;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==a)throw new po("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,n,a,i,s,c){if(i>=a)throw new po("Block ID too large");var l=e%a,u=a-l,o=Math.floor(e/a),h=o+1,d=Math.floor(n/a),f=d+1,A=o-d,g=h-f;if(A!==g)throw new po("EC bytes mismatch");if(a!==u+l)throw new po("RS blocks mismatch");if(e!==(d+A)*u+(f+g)*l)throw new po("Total bytes mismatch");i<u?(s[0]=d,c[0]=A):(s[0]=f,c[0]=g)},r.interleaveWithECBytes=function(e,n,a,i){var s,c,l,u;if(e.getSizeInBytes()!==a)throw new po("Number of bits and data bytes does not match");for(var o=0,h=0,d=0,f=new Array,A=0;A<i;++A){var g=new Int32Array(1),m=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(n,a,i,A,g,m);var x=g[0],y=new Uint8Array(x);e.toBytes(8*o,y,0,x);var b=r.generateECBytes(y,m[0]);f.push(new Jse(y,b)),h=Math.max(h,x),d=Math.max(d,b.length),o+=g[0]}if(a!==o)throw new po("Data bytes does not match offset");for(var w=new yc,A=0;A<h;++A)try{for(var N=(s=void 0,F_(f)),S=N.next();!S.done;S=N.next()){var j=S.value,y=j.getDataBytes();A<y.length&&w.appendBits(y[A],8)}}catch(ee){s={error:ee}}finally{try{S&&!S.done&&(c=N.return)&&c.call(N)}finally{if(s)throw s.error}}for(var A=0;A<d;++A)try{for(var _=(l=void 0,F_(f)),P=_.next();!P.done;P=_.next()){var j=P.value,b=j.getErrorCorrectionBytes();A<b.length&&w.appendBits(b[A],8)}}catch(ee){l={error:ee}}finally{try{P&&!P.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(n!==w.getSizeInBytes())throw new po("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},r.generateECBytes=function(e,n){for(var a=e.length,i=new Int32Array(a+n),s=0;s<a;s++)i[s]=e[s]&255;new rD(Du.QR_CODE_FIELD_256).encode(i,n);for(var c=new Uint8Array(n),s=0;s<n;s++)c[s]=i[a+s];return c},r.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,n,a,i){var s=a.getCharacterCountBits(n);if(e>=1<<s)throw new po(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},r.appendBytes=function(e,n,a,i){switch(n){case mo.NUMERIC:r.appendNumericBytes(e,a);break;case mo.ALPHANUMERIC:r.appendAlphanumericBytes(e,a);break;case mo.BYTE:r.append8BitBytes(e,a,i);break;case mo.KANJI:r.appendKanjiBytes(e,a);break;default:throw new po("Invalid mode: "+n)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var n=r.getDigit(e);return n>=0&&n<=9},r.appendNumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getDigit(e.charAt(i));if(i+2<a){var c=r.getDigit(e.charAt(i+1)),l=r.getDigit(e.charAt(i+2));n.appendBits(s*100+c*10+l,10),i+=3}else if(i+1<a){var c=r.getDigit(e.charAt(i+1));n.appendBits(s*10+c,7),i+=2}else n.appendBits(s,4),i++}},r.appendAlphanumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new po;if(i+1<a){var c=r.getAlphanumericCode(e.charCodeAt(i+1));if(c===-1)throw new po;n.appendBits(s*45+c,11),i+=2}else n.appendBits(s,6),i++}},r.append8BitBytes=function(e,n,a){var i;try{i=Hd.encode(e,a)}catch(u){throw new po(u)}for(var s=0,c=i.length;s!==c;s++){var l=i[s];n.appendBits(l,8)}},r.appendKanjiBytes=function(e,n){var a;try{a=Hd.encode(e,zl.SJIS)}catch(d){throw new po(d)}for(var i=a.length,s=0;s<i;s+=2){var c=a[s]&255,l=a[s+1]&255,u=c<<8&4294967295|l,o=-1;if(u>=33088&&u<=40956?o=u-33088:u>=57408&&u<=60351&&(o=u-49472),o===-1)throw new po("Invalid byte sequence");var h=(o>>8)*192+(o&255);n.appendBits(h,13)}},r.appendECI=function(e,n){n.appendBits(mo.ECI.getBits(),4),n.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=zl.UTF8.getName(),r})();var eoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){eoe(e,r);function e(n,a,i,s,c,l,u,o){var h=r.call(this,l,u)||this;if(h.yuvData=n,h.dataWidth=a,h.dataHeight=i,h.left=s,h.top=c,s+l>a||c+u>i)throw new Ba("Crop rectangle does not fit within image data.");return o&&h.reverseHorizontal(l,u),h}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return io.arraycopy(this.yuvData,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return io.arraycopy(this.yuvData,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;io.arraycopy(this.yuvData,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,i,s,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*a),s=this.yuvData,c=this.top*this.dataWidth+this.left,l=0;l<a;l++){for(var u=l*n,o=0;o<n;o++){var h=s[c+o*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+o]=4278190080|h*65793}c+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,a){for(var i=this.yuvData,s=0,c=this.top*this.dataWidth+this.left;s<a;s++,c+=this.dataWidth)for(var l=c+n/2,u=c,o=c+n-1;u<l;u++,o--){var h=i[u];i[u]=i[o],i[o]=h}},e.prototype.invert=function(){return new cx(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Xg);var toe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){toe(e,r);function e(n,a,i,s,c,l,u){var o=r.call(this,a,i)||this;if(o.dataWidth=s,o.dataHeight=c,o.left=l,o.top=u,n.BYTES_PER_ELEMENT===4){for(var h=a*i,d=new Uint8ClampedArray(h),f=0;f<h;f++){var A=n[f],g=A>>16&255,m=A>>7&510,x=A&255;d[f]=(g+m+x)/4&255}o.luminances=d}else o.luminances=n;if(s===void 0&&(o.dataWidth=a),c===void 0&&(o.dataHeight=i),l===void 0&&(o.left=0),u===void 0&&(o.top=0),o.left+a>o.dataWidth||o.top+i>o.dataHeight)throw new Ba("Crop rectangle does not fit within image data.");return o}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return io.arraycopy(this.luminances,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return io.arraycopy(this.luminances,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;io.arraycopy(this.luminances,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+n,this.top+a)},e.prototype.invert=function(){return new cx(this)},e})(Xg);var roe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),noe=(function(r){roe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(zl),aoe=(function(){function r(){}return r.ISO_8859_1=zl.ISO8859_1,r})(),U4,ioe=301,soe=function(r,e){for(var n=1,a=0;a<255;a++)e[a]=n,r[n]=a,n*=2,n>=256&&(n^=ioe);return{LOG:r,ALOG:e}};U4=soe([],[]),U4.LOG;U4.ALOG;var D_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(D_||(D_={}));var M_=129,nD=230,ooe=231,loe=235,coe=236,uoe=237,doe=238,hoe=239,foe=240,eC=254,Aoe=254,R_="[)>05",L_="[)>06",U_="",Os=0,Dc=1,vu=2,Wl=3,gc=4,Yc=5,poe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Os},r.prototype.encode=function(e){var n=uh.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var a=e.getCurrentChar(),i=uh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Yc:e.writeCodeword(ooe),e.signalEncoderChange(Yc);return;case Dc:e.writeCodeword(nD),e.signalEncoderChange(Dc);return;case Wl:e.writeCodeword(doe),e.signalEncoderChange(Wl);break;case vu:e.writeCodeword(hoe),e.signalEncoderChange(vu);break;case gc:e.writeCodeword(foe),e.signalEncoderChange(gc);break;default:throw new Error("Illegal mode: "+i)}else uh.isExtendedASCII(a)?(e.writeCodeword(loe),e.writeCodeword(a-128+1),e.pos++):(e.writeCodeword(a+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,n){if(uh.isDigit(e)&&uh.isDigit(n)){var a=(e-48)*10+(n-48);return a+130}throw new Error("not digits: "+e+n)},r})(),moe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Yc},r.prototype.encode=function(e){var n=new wi;for(n.append(0);e.hasMoreCharacters();){var a=e.getCurrentChar();n.append(a),e.pos++;var i=uh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Os);break}}var s=n.length()-1,c=1,l=e.getCodewordCount()+s+c;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||u)if(s<=249)n.setCharAt(0,qi.getCharAt(s));else if(s<=1555)n.setCharAt(0,qi.getCharAt(Math.floor(s/250)+249)),n.insert(1,qi.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var o=0,a=n.length();o<a;o++)e.writeCodeword(this.randomize255State(n.charAt(o).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,n){var a=149*n%255+1,i=e+a;return i<=255?i:i-256},r})(),oS=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Dc},r.prototype.encodeMaximal=function(e){for(var n=new wi,a=0,i=e.pos,s=0;e.hasMoreCharacters();){var c=e.getCurrentChar();e.pos++,a=this.encodeChar(c,n),n.length()%3===0&&(i=e.pos,s=n.length())}if(s!==n.length()){var l=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(u);var o=e.getSymbolInfo().getDataCapacity()-u,h=Math.floor(n.length()%3);(h===2&&o!==2||h===1&&(a>3||o!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(nD),this.handleEOD(e,n)},r.prototype.encode=function(e){for(var n=new wi;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++;var i=this.encodeChar(a,n),s=Math.floor(n.length()/3)*2,c=e.getCodewordCount()+s;e.updateSymbolInfo(c);var l=e.getSymbolInfo().getDataCapacity()-c;if(!e.hasMoreCharacters()){var u=new wi;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,u,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,u,i);break}var o=n.length();if(o%3===0){var h=uh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Os);break}}}this.handleEOD(e,n)},r.prototype.backtrackOneCharacter=function(e,n,a,i){var s=n.length(),c=n.toString().substring(0,s-i);n.setLengthToZero(),n.append(c),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,a),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(3);n.setLengthToZero(),n.append(a)},r.prototype.handleEOD=function(e,n){var a=Math.floor(n.length()/3*2),i=n.length()%3,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(eC)}else if(c===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(eC),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(c>0||e.hasMoreCharacters())&&e.writeCodeword(eC)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Os)},r.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var a=2;return a+=this.encodeChar(e-128,n),a},r.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,a=n/256,i=n%256,s=new wi;return s.append(a),s.append(i),s.toString()},r})(),goe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return gc},r.prototype.encode=function(e){for(var n=new wi;e.hasMoreCharacters();){var a=e.getCurrentChar();this.encodeChar(a,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var s=n.toString().substring(4);n.setLengthToZero(),n.append(s);var c=uh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(Os);break}}}n.append(qi.getCharAt(31)),this.handleEOD(e,n)},r.prototype.handleEOD=function(e,n){try{var a=n.length();if(a===0)return;if(a===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(a>4)throw new Error("Count must not exceed 4");var c=a-1,l=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),o=u&&c<=2;if(c<=2){e.updateSymbolInfo(e.getCodewordCount()+c);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(o=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}o?(e.resetSymbolInfo(),e.pos-=c):e.writeCodewords(l)}finally{e.signalEncoderChange(Os)}},r.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(qi.getCharAt(e-64)):uh.illegalCharacter(qi.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var a=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,s=n>=3?e.charAt(2).charCodeAt(0):0,c=n>=4?e.charAt(3).charCodeAt(0):0,l=(a<<18)+(i<<12)+(s<<6)+c,u=l>>16&255,o=l>>8&255,h=l&255,d=new wi;return d.append(u),n>=2&&d.append(o),n>=3&&d.append(h),d.toString()},r})(),voe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ms=(function(){function r(e,n,a,i,s,c,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=a,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=c,this.rsBlockData=l,this.rsBlockError=u}return r.lookup=function(e,n,a,i,s){var c,l;n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var u=xoe(boe),o=u.next();!o.done;o=u.next()){var h=o.value;if(!(n===1&&h.rectangular)&&!(n===2&&!h.rectangular)&&!(a!=null&&(h.getSymbolWidth()<a.getWidth()||h.getSymbolHeight()<a.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(d){c={error:d}}finally{try{o&&!o.done&&(l=u.return)&&l.call(u)}finally{if(c)throw c.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),yoe=(function(r){voe(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(ms),boe=[new ms(!1,3,5,8,8,1),new ms(!1,5,7,10,10,1),new ms(!0,5,7,16,6,1),new ms(!1,8,10,12,12,1),new ms(!0,10,11,14,6,2),new ms(!1,12,12,14,14,1),new ms(!0,16,14,24,10,1),new ms(!1,18,14,16,16,1),new ms(!1,22,18,18,18,1),new ms(!0,22,18,16,10,2),new ms(!1,30,20,20,20,1),new ms(!0,32,24,16,14,2),new ms(!1,36,24,22,22,1),new ms(!1,44,28,24,24,1),new ms(!0,49,28,22,14,2),new ms(!1,62,36,14,14,4),new ms(!1,86,42,16,16,4),new ms(!1,114,48,18,18,4),new ms(!1,144,56,20,20,4),new ms(!1,174,68,22,22,4),new ms(!1,204,84,24,24,4,102,42),new ms(!1,280,112,14,14,16,140,56),new ms(!1,368,144,16,16,16,92,36),new ms(!1,456,192,18,18,16,114,48),new ms(!1,576,224,20,20,16,144,56),new ms(!1,696,272,22,22,16,174,68),new ms(!1,816,336,24,24,16,136,56),new ms(!1,1050,408,18,18,36,175,68),new ms(!1,1304,496,20,20,36,163,62),new yoe],woe=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),a=new wi,i=0,s=n.length;i<s;i++){var c=String.fromCharCode(n[i]&255);if(c==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");a.append(c)}this.msg=a.toString(),this.shape=0,this.codewords=new wi,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ms.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),joe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Coe=(function(r){joe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Wl},e.prototype.encode=function(n){for(var a=new wi;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,a);var s=a.length();if(s%3===0){this.writeNextTriplet(n,a);var c=uh.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){n.signalEncoderChange(Os);break}}}this.handleEOD(n,a)},e.prototype.encodeChar=function(n,a){switch(n){case 13:a.append(0);break;case 42:a.append(1);break;case 62:a.append(2);break;case 32:a.append(3);break;default:n>=48&&n<=57?a.append(n-48+4):n>=65&&n<=90?a.append(n-65+14):uh.illegalCharacter(qi.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,a){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),s=a.length();n.pos-=s,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(Aoe),n.getNewEncoding()<0&&n.signalEncoderChange(Os)},e})(oS),Noe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Soe=(function(r){Noe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return vu},e.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=97&&n<=122)return a.append(n-97+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n>=91&&n<=95)return a.append(1),a.append(n-91+22),2;if(n===96)return a.append(2),a.append(0),2;if(n<=90)return a.append(2),a.append(n-65+1),2;if(n<=127)return a.append(2),a.append(n-123+27),2;a.append("1");var i=2;return i+=this.encodeChar(n-128,a),i},e})(oS),uh=(function(){function r(){}return r.randomize253State=function(e){var n=149*e%253+1,a=M_+n;return a<=254?a:a-254},r.encodeHighLevel=function(e,n,a,i,s){n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!1);var c=new oS,l=[new poe,c,new Soe,new Coe,new goe,new moe],u=new woe(e);u.setSymbolShape(n),u.setSizeConstraints(a,i),e.startsWith(R_)&&e.endsWith(U_)?(u.writeCodeword(coe),u.setSkipAtEnd(2),u.pos+=R_.length):e.startsWith(L_)&&e.endsWith(U_)&&(u.writeCodeword(uoe),u.setSkipAtEnd(2),u.pos+=L_.length);var o=Os;for(s&&(c.encodeMaximal(u),o=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)l[o].encode(u),u.getNewEncoding()>=0&&(o=u.getNewEncoding(),u.resetEncoderSignal());var h=u.getCodewordCount();u.updateSymbolInfo();var d=u.getSymbolInfo().getDataCapacity();h<d&&o!==Os&&o!==Yc&&o!==gc&&u.writeCodeword("");var f=u.getCodewords();for(f.length()<d&&f.append(M_);f.length()<d;)f.append(this.randomize253State(f.length()+1));return u.getCodewords().toString()},r.lookAheadTest=function(e,n,a){var i=this.lookAheadTestIntern(e,n,a);if(a===Wl&&i===Wl){for(var s=Math.min(n+3,e.length),c=n;c<s;c++)if(!this.isNativeX12(e.charCodeAt(c)))return Os}else if(a===gc&&i===gc){for(var s=Math.min(n+4,e.length),c=n;c<s;c++)if(!this.isNativeEDIFACT(e.charCodeAt(c)))return Os}return i},r.lookAheadTestIntern=function(e,n,a){if(n>=e.length)return a;var i;a===Os?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[a]=0);for(var s=0,c=new Uint8Array(6),l=[];;){if(n+s===e.length){Gl.fill(c,0),Gl.fill(l,0);var u=this.findMinimums(i,l,Si.MAX_VALUE,c),o=this.getMinimumCount(c);if(l[Os]===u)return Os;if(o===1){if(c[Yc]>0)return Yc;if(c[gc]>0)return gc;if(c[vu]>0)return vu;if(c[Wl]>0)return Wl}return Dc}var h=e.charCodeAt(n+s);if(s++,this.isDigit(h)?i[Os]+=.5:this.isExtendedASCII(h)?(i[Os]=Math.ceil(i[Os]),i[Os]+=2):(i[Os]=Math.ceil(i[Os]),i[Os]++),this.isNativeC40(h)?i[Dc]+=2/3:this.isExtendedASCII(h)?i[Dc]+=8/3:i[Dc]+=4/3,this.isNativeText(h)?i[vu]+=2/3:this.isExtendedASCII(h)?i[vu]+=8/3:i[vu]+=4/3,this.isNativeX12(h)?i[Wl]+=2/3:this.isExtendedASCII(h)?i[Wl]+=13/3:i[Wl]+=10/3,this.isNativeEDIFACT(h)?i[gc]+=3/4:this.isExtendedASCII(h)?i[gc]+=17/4:i[gc]+=13/4,this.isSpecialB256(h)?i[Yc]+=4:i[Yc]++,s>=4){if(Gl.fill(c,0),Gl.fill(l,0),this.findMinimums(i,l,Si.MAX_VALUE,c),l[Os]<this.min(l[Yc],l[Dc],l[vu],l[Wl],l[gc]))return Os;if(l[Yc]<l[Os]||l[Yc]+1<this.min(l[Dc],l[vu],l[Wl],l[gc]))return Yc;if(l[gc]+1<this.min(l[Yc],l[Dc],l[vu],l[Wl],l[Os]))return gc;if(l[vu]+1<this.min(l[Yc],l[Dc],l[gc],l[Wl],l[Os]))return vu;if(l[Wl]+1<this.min(l[Yc],l[Dc],l[gc],l[vu],l[Os]))return Wl;if(l[Dc]+1<this.min(l[Os],l[Yc],l[gc],l[vu])){if(l[Dc]<l[Wl])return Dc;if(l[Dc]===l[Wl]){for(var d=n+s+1;d<e.length;){var f=e.charCodeAt(d);if(this.isX12TermSep(f))return Wl;if(!this.isNativeX12(f))break;d++}return Dc}}}}},r.min=function(e,n,a,i,s){var c=Math.min(e,Math.min(n,Math.min(a,i)));return s===void 0?c:Math.min(c,s)},r.findMinimums=function(e,n,a,i){for(var s=0;s<6;s++){var c=n[s]=Math.ceil(e[s]);a>c&&(a=c,Gl.fill(i,0)),a===c&&(i[s]=i[s]+1)}return a},r.getMinimumCount=function(e){for(var n=0,a=0;a<6;a++)n+=e[a];return n||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var a=e.length,i=n;i<a&&this.isDigit(e.charCodeAt(i));)i++;return i-n},r.illegalCharacter=function(e){var n=Si.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},r})(),tC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H_=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Hd.encode(e,this.charset)!=null}catch{return!1}},r})(),Boe=(function(){function r(e,n,a){var i,s,c,l,u,o;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(Z){return new H_(noe.forName(Z))}),this.encoders=[];var h=[];h.push(new H_(aoe.ISO_8859_1));for(var d=n!=null&&n.name.startsWith("UTF"),f=0;f<e.length;f++){var A=!1;try{for(var g=(i=void 0,tC(h)),m=g.next();!m.done;m=g.next()){var x=m.value,y=e.charAt(f),b=y.charCodeAt(0);if(b===a||x.canEncode(y)){A=!0;break}}}catch(Z){i={error:Z}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!A)try{for(var w=(c=void 0,tC(this.ENCODERS)),N=w.next();!N.done;N=w.next()){var x=N.value;if(x.canEncode(e.charAt(f))){h.push(x),A=!0;break}}}catch(Z){c={error:Z}}finally{try{N&&!N.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}A||(d=!0)}if(h.length===1&&!d)this.encoders=[h[0]];else{this.encoders=[];var S=0;try{for(var j=tC(h),_=j.next();!_.done;_=j.next()){var x=_.value;this.encoders[S++]=x}}catch(Z){u={error:Z}}finally{try{_&&!_.done&&(o=j.return)&&o.call(j)}finally{if(u)throw u.error}}}var P=-1;if(n!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&n.name===this.encoders[f].name){P=f;break}}this.priorityEncoderIndex=P}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Hd.encode(qi.getCharAt(e),this.encoders[n].name)},r})(),Eoe=3,Ioe=(function(){function r(e,n,a){this.fnc1=a;var i=new Boe(e,n,a);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var c=e.charAt(s).charCodeAt(0);this.bytes[s]=c===a?1e3:c}else this.bytes=this.encodeMinimally(e,i,a)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var a=0;a<n;a++)if(this.isECI(e+a))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var a=new wi,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");a.append(this.charAt(i))}return a.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,n,a){(e[n][a.encoderIndex]==null||e[n][a.encoderIndex].cachedTotalSize>a.cachedTotalSize)&&(e[n][a.encoderIndex]=a)},r.prototype.addEdges=function(e,n,a,i,s,c){var l=e.charAt(i).charCodeAt(0),u=0,o=n.length();n.getPriorityEncoderIndex()>=0&&(l===c||n.canEncode(l,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),o=u+1);for(var h=u;h<o;h++)(l===c||n.canEncode(l,h))&&this.addEdge(a,i+1,new Q_(l,n,h,s,c))},r.prototype.encodeMinimally=function(e,n,a){var i=e.length,s=new Q_[i+1][n.length()];this.addEdges(e,n,s,0,null,a);for(var c=1;c<=i;c++){for(var l=0;l<n.length();l++)s[c][l]!=null&&c<i&&this.addEdges(e,n,s,c,s[c][l],a);for(var l=0;l<n.length();l++)s[c-1][l]=null}for(var u=-1,o=Si.MAX_VALUE,l=0;l<n.length();l++)if(s[i][l]!=null){var h=s[i][l];h.cachedTotalSize<o&&(o=h.cachedTotalSize,u=l)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var d=[],f=s[i][u];f!=null;){if(f.isFNC1())d.unshift(1e3);else for(var A=n.encode(f.c,f.encoderIndex),c=A.length-1;c>=0;c--)d.unshift(A[c]&255);var g=f.previous===null?0:f.previous.encoderIndex;g!==f.encoderIndex&&d.unshift(256+n.getECIValue(f.encoderIndex)),f=f.previous}for(var m=[],c=0;c<m.length;c++)m[c]=d[c];return m},r})(),Q_=(function(){function r(e,n,a,i,s){this.c=e,this.encoderSet=n,this.encoderIndex=a,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var c=this.isFNC1()?1:n.encode(e,a).length,l=i===null?0:i.encoderIndex;l!==a&&(c+=Eoe),i!=null&&(c+=i.cachedTotalSize),this.cachedTotalSize=c}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),Toe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();var W_;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(W_||(W_={}));(function(r){Toe(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a,i)||this;return l.shape=s,l.macroId=c,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Ioe);var _oe=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),$_=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,n){return e.sort(n)[0]},r})(),Ooe=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),koe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),lS=(function(r){koe(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.value=a,s.bitCount=i,s}return e.prototype.appendTo=function(n,a){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,a){return new e(this,n,a)},e.prototype.addBinaryShift=function(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,a)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Si.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(Ooe),Poe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Foe=(function(r){Poe(e,r);function e(n,a,i){var s=r.call(this,n,0,0)||this;return s.binaryShiftStart=a,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(n,a){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,a){return new e(this,n,a)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(lS);function Doe(r,e,n){return new Foe(r,e,n)}function I0(r,e,n){return new lS(r,e,n)}var Moe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],lA=0,v2=1,Ud=2,aD=3,Ih=4,Roe=new lS(null,0,0),rC=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Loe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Uoe(r){var e,n;try{for(var a=Loe(r),i=a.next();!i.done;i=a.next()){var s=i.value;Gl.fill(s,-1)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r[lA][Ih]=0,r[v2][Ih]=0,r[v2][lA]=28,r[aD][Ih]=0,r[Ud][Ih]=0,r[Ud][lA]=15,r}var iD=Uoe(Gl.createInt32Array(6,6)),Hoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qoe=(function(){function r(e,n,a,i){this.token=e,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,n){var a=this.bitCount,i=this.token;if(e!==this.mode){var s=rC[this.mode][e];i=I0(i,s&65535,s>>16),a+=s>>16}var c=e===Ud?4:5;return i=I0(i,n,c),new r(i,e,0,a+c)},r.prototype.shiftAndAppend=function(e,n){var a=this.token,i=this.mode===Ud?4:5;return a=I0(a,iD[this.mode][e],i),a=I0(a,n,5),new r(a,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var n=this.token,a=this.mode,i=this.bitCount;if(this.mode===Ih||this.mode===Ud){var s=rC[a][lA];n=I0(n,s&65535,s>>16),i+=s>>16,a=lA}var c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new r(n,a,this.binaryShiftByteCount+1,i+c);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=Doe(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(n,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(rC[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},r.prototype.toBitArray=function(e){for(var n,a,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var c=new yc;try{for(var l=Hoe(i),u=l.next();!u.done;u=l.next()){var o=u.value;o.appendTo(c,e)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r.prototype.toString=function(){return qi.format("%s bits=%d bytes=%d",Moe[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Roe,lA,0,0),r})();function Woe(r){var e=qi.getCharCode(" "),n=qi.getCharCode("."),a=qi.getCharCode(",");r[lA][e]=1;for(var i=qi.getCharCode("Z"),s=qi.getCharCode("A"),c=s;c<=i;c++)r[lA][c]=c-s+2;r[v2][e]=1;for(var l=qi.getCharCode("z"),u=qi.getCharCode("a"),c=u;c<=l;c++)r[v2][c]=c-u+2;r[Ud][e]=1;for(var o=qi.getCharCode("9"),h=qi.getCharCode("0"),c=h;c<=o;c++)r[Ud][c]=c-h+2;r[Ud][a]=12,r[Ud][n]=13;for(var d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<d.length;f++)r[aD][qi.getCharCode(d[f])]=f;for(var A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<A.length;f++)qi.getCharCode(A[f])>0&&(r[Ih][qi.getCharCode(A[f])]=f);return r}var nC=Woe(Gl.createInt32Array(5,256)),nv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$oe=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=qi.getCharCode(" "),n=qi.getCharCode(`
`),a=$_.singletonList(Qoe.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,c=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case qi.getCharCode("\r"):s=c===n?2:0;break;case qi.getCharCode("."):s=c===e?3:0;break;case qi.getCharCode(","):s=c===e?4:0;break;case qi.getCharCode(":"):s=c===e?5:0;break;default:s=0}s>0?(a=r.updateStateListForPair(a,i,s),i++):a=this.updateStateListForChar(a,i)}var l=$_.min(a,function(u,o){return u.getBitCount()-o.getBitCount()});return l.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,n){var a,i,s=[];try{for(var c=nv(e),l=c.next();!l.done;l=c.next()){var u=l.value;this.updateStateForChar(u,n,s)}}catch(o){a={error:o}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return r.simplifyStates(s)},r.prototype.updateStateForChar=function(e,n,a){for(var i=this.text[n]&255,s=nC[e.getMode()][i]>0,c=null,l=0;l<=Ih;l++){var u=nC[l][i];if(u>0){if(c==null&&(c=e.endBinaryShift(n)),!s||l===e.getMode()||l===Ud){var o=c.latchAndAppend(l,u);a.push(o)}if(!s&&iD[e.getMode()][l]>=0){var h=c.shiftAndAppend(l,u);a.push(h)}}}if(e.getBinaryShiftByteCount()>0||nC[e.getMode()][i]===0){var d=e.addBinaryShiftChar(n);a.push(d)}},r.updateStateListForPair=function(e,n,a){var i,s,c=[];try{for(var l=nv(e),u=l.next();!u.done;u=l.next()){var o=u.value;this.updateStateForPair(o,n,a,c)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(c)},r.updateStateForPair=function(e,n,a,i){var s=e.endBinaryShift(n);if(i.push(s.latchAndAppend(Ih,a)),e.getMode()!==Ih&&i.push(s.shiftAndAppend(Ih,a)),a===3||a===4){var c=s.latchAndAppend(Ud,16-a).latchAndAppend(Ud,1);i.push(c)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},r.simplifyStates=function(e){var n,a,i,s,c=[];try{for(var l=nv(e),u=l.next();!u.done;u=l.next()){var o=u.value,h=!0,d=function(x){if(x.isBetterThanOrEqualTo(o))return h=!1,"break";o.isBetterThanOrEqualTo(x)&&(c=c.filter(function(y){return y!==x}))};try{for(var f=(i=void 0,nv(c)),A=f.next();!A.done;A=f.next()){var g=A.value,m=d(g);if(m==="break")break}}catch(x){i={error:x}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}h&&c.push(o)}}catch(x){n={error:x}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r})(),Voe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,n,a){var i=new $oe(e).encode(),s=Si.truncDivision(i.getSize()*n,100)+11,c=i.getSize()+s,l,u,o,h,d;if(a!==r.DEFAULT_AZTEC_LAYERS){if(l=a<0,u=Math.abs(a),u>(l?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ba(qi.format("Illegal value %s for layers",a));o=r.totalBitsInLayer(u,l),h=r.WORD_SIZE[u];var f=o-o%h;if(d=r.stuffBits(i,h),d.getSize()+s>f)throw new Ba("Data to large for user specified layer");if(l&&d.getSize()>h*64)throw new Ba("Data to large for user specified layer")}else{h=0,d=null;for(var A=0;;A++){if(A>r.MAX_NB_BITS)throw new Ba("Data too large for an Aztec code");if(l=A<=3,u=l?A+1:A,o=r.totalBitsInLayer(u,l),!(c>o)){(d==null||h!==r.WORD_SIZE[u])&&(h=r.WORD_SIZE[u],d=r.stuffBits(i,h));var f=o-o%h;if(!(l&&d.getSize()>h*64)&&d.getSize()+s<=f)break}}}var g=r.generateCheckWords(d,o,h),m=d.getSize()/h,x=r.generateModeMessage(l,u,m),y=(l?11:14)+u*4,b=new Int32Array(y),w;if(l){w=y;for(var A=0;A<b.length;A++)b[A]=A}else{w=y+1+2*Si.truncDivision(Si.truncDivision(y,2)-1,15);for(var N=Si.truncDivision(y,2),S=Si.truncDivision(w,2),A=0;A<N;A++){var j=A+Si.truncDivision(A,15);b[N-A-1]=S-j-1,b[N+A]=S+j+1}}for(var _=new Ph(w),A=0,P=0;A<u;A++){for(var Z=(u-A)*4+(l?9:12),ee=0;ee<Z;ee++)for(var K=ee*2,ae=0;ae<2;ae++)g.get(P+K+ae)&&_.set(b[A*2+ae],b[A*2+ee]),g.get(P+Z*2+K+ae)&&_.set(b[A*2+ee],b[y-1-A*2-ae]),g.get(P+Z*4+K+ae)&&_.set(b[y-1-A*2-ae],b[y-1-A*2-ee]),g.get(P+Z*6+K+ae)&&_.set(b[y-1-A*2-ee],b[A*2+ae]);P+=Z*8}if(r.drawModeMessage(_,l,w,x),l)r.drawBullsEye(_,Si.truncDivision(w,2),5);else{r.drawBullsEye(_,Si.truncDivision(w,2),7);for(var A=0,ee=0;A<Si.truncDivision(y,2)-1;A+=15,ee+=16)for(var ae=Si.truncDivision(w,2)&1;ae<w;ae+=2)_.set(Si.truncDivision(w,2)-ee,ae),_.set(Si.truncDivision(w,2)+ee,ae),_.set(ae,Si.truncDivision(w,2)-ee),_.set(ae,Si.truncDivision(w,2)+ee)}var D=new _oe;return D.setCompact(l),D.setSize(w),D.setLayers(u),D.setCodeWords(m),D.setMatrix(_),D},r.drawBullsEye=function(e,n,a){for(var i=0;i<a;i+=2)for(var s=n-i;s<=n+i;s++)e.set(s,n-i),e.set(s,n+i),e.set(n-i,s),e.set(n+i,s);e.set(n-a,n-a),e.set(n-a+1,n-a),e.set(n-a,n-a+1),e.set(n+a,n-a),e.set(n+a,n-a+1),e.set(n+a,n+a-1)},r.generateModeMessage=function(e,n,a){var i=new yc;return e?(i.appendBits(n-1,2),i.appendBits(a-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(a-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,n,a,i){var s=Si.truncDivision(a,2);if(n)for(var c=0;c<7;c++){var l=s-3+c;i.get(c)&&e.set(l,s-5),i.get(c+7)&&e.set(s+5,l),i.get(20-c)&&e.set(l,s+5),i.get(27-c)&&e.set(s-5,l)}else for(var c=0;c<10;c++){var l=s-5+c+Si.truncDivision(c,5);i.get(c)&&e.set(l,s-7),i.get(c+10)&&e.set(s+7,l),i.get(29-c)&&e.set(l,s+7),i.get(39-c)&&e.set(s-7,l)}},r.generateCheckWords=function(e,n,a){var i,s,c=e.getSize()/a,l=new rD(r.getGF(a)),u=Si.truncDivision(n,a),o=r.bitsToWords(e,a,u);l.encode(o,u-c);var h=n%a,d=new yc;d.appendBits(0,h);try{for(var f=Voe(Array.from(o)),A=f.next();!A.done;A=f.next()){var g=A.value;d.appendBits(g,a)}}catch(m){i={error:m}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return d},r.bitsToWords=function(e,n,a){var i=new Int32Array(a),s,c;for(s=0,c=e.getSize()/n;s<c;s++){for(var l=0,u=0;u<n;u++)l|=e.get(s*n+u)?1<<n-u-1:0;i[s]=l}return i},r.getGF=function(e){switch(e){case 4:return Du.AZTEC_PARAM;case 6:return Du.AZTEC_DATA_6;case 8:return Du.AZTEC_DATA_8;case 10:return Du.AZTEC_DATA_10;case 12:return Du.AZTEC_DATA_12;default:throw new Ba("Unsupported word size "+e)}},r.stuffBits=function(e,n){for(var a=new yc,i=e.getSize(),s=(1<<n)-2,c=0;c<i;c+=n){for(var l=0,u=0;u<n;u++)(c+u>=i||e.get(c+u))&&(l|=1<<n-1-u);(l&s)===s?(a.appendBits(l&s,n),c--):(l&s)===0?(a.appendBits(l|1,n),c--):a.appendBits(l,n)}return a},r.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var zoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Koe=(function(r){zoe(e,r);function e(n){var a=r.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(n),a}return e.makeBufferFromCanvasImageData=function(n){var a;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}if(!a)throw new Error("Couldn't get canvas context.");var i=a.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,a,i){for(var s=new Uint8ClampedArray(a*i),c=0,l=0,u=n.length;c<u;c+=4,l++){var o=void 0,h=n[c+3];if(h===0)o=255;else{var d=n[c],f=n[c+1],A=n[c+2];o=306*d+601*f+117*A+512>>10}s[l]=o}return s},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ba("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new cx(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement();if(!a)throw new Error("Could not create a Canvas element.");var i=n*e.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*c),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*c);a.width=l,a.height=u;var o=a.getContext("2d");if(!o)throw new Error("Could not create a Canvas Context element.");return o.translate(l/2,u/2),o.rotate(i),o.drawImage(this.canvas,s/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Xg);function sD(){return typeof navigator<"u"}function Goe(){return sD()&&!!navigator.mediaDevices}function qoe(){return!!(Goe()&&navigator.mediaDevices.enumerateDevices)}var Xp=function(){return Xp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Xp.apply(this,arguments)},Wo=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(h){try{o(a.next(h))}catch(d){c(d)}}function u(h){try{o(a.throw(h))}catch(d){c(d)}}function o(h){h.done?s(h.value):i(h.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},$o=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(h){return u([o,h])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(h){o=[6,h],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},aC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xoe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Lm=(function(){function r(e,n,a){n===void 0&&(n=new Map),a===void 0&&(a={}),this.reader=e,this.hints=n,this.options=Xp(Xp({},Xoe),a)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(so.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,n){return Wo(this,void 0,void 0,function(){return $o(this,function(a){switch(a.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return a.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var n,a,i=e.getVideoTracks();try{for(var s=aC(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(r.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new hl("element with id '".concat(e,"' not found"));if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new hl("element with id '".concat(e,"' must be an ").concat(n," element"));return a},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var n=r.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var n=new Koe(e),a=new $F(n);return new WF(a)},r.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new hl("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),a=r.getMediaElementDimensions(e),i=a.width,s=a.height;return n.style.width=i+"px",n.style.height=s+"px",n.width=i,n.height=s,n},r.tryPlayVideo=function(e){return Wo(this,void 0,void 0,function(){var n;return $o(this,function(a){switch(a.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.play()];case 2:return a.sent(),[2,!0];case 3:return n=a.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var n=r.createCaptureCanvas(e),a=n.getContext("2d");if(!a)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(a,e),n},r.createBinaryBitmapFromMediaElem=function(e){var n=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(n)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return Wo(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,h,d,f;return $o(this,function(A){switch(A.label){case 0:if(!sD())throw new Error("Can't enumerate devices, navigator is not present.");if(!qoe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=A.sent(),n=[];try{for(a=aC(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device ".concat(n.length+1),o=s.groupId,h={deviceId:l,label:u,kind:c,groupId:o},n.push(h))}catch(g){d={error:g}}finally{try{i&&!i.done&&(f=a.return)&&f.call(a)}finally{if(d)throw d.error}}return[2,n]}})})},r.findDeviceById=function(e){return Wo(this,void 0,void 0,function(){var n;return $o(this,function(a){switch(a.label){case 0:return[4,r.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,n){return Wo(this,void 0,void 0,function(){var a;return $o(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return a=i.sent(),a?[2,!0]:[2,new Promise(function(s,c){var l=setTimeout(function(){r.isVideoPlaying(e)||(c(!1),e.removeEventListener("canplay",u))},n),u=function(){r.tryPlayVideo(e).then(function(o){clearTimeout(l),e.removeEventListener("canplay",u),s(o)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,n,a){return a===void 0&&(a=5e3),Wo(this,void 0,void 0,function(){var i;return $o(this,function(s){switch(s.label){case 0:return i=r.prepareVideoElement(n),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,a)];case 1:return s.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(n,a){var i=1e4,s=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",c),a())},i),c=function(){clearTimeout(s),e.removeEventListener("load",c),n()};e.addEventListener("load",c)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new hl("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},r.prototype.decode=function(e){var n=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var n=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},r.prototype.decodeFromImageElement=function(e){return Wo(this,void 0,void 0,function(){var n;return $o(this,function(a){switch(a.label){case 0:if(!e)throw new hl("An image element must be provided.");return n=r.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return Wo(this,void 0,void 0,function(){var n;return $o(this,function(a){switch(a.label){case 0:if(!e)throw new hl("An URL must be provided.");n=r.prepareImageElement(),n.src=e,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,a.sent()];case 3:return r.destroyImageElement(n),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return Wo(this,void 0,void 0,function(){var i,s;return $o(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),[4,this.getUserMedia(e)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,a)];case 3:return[2,c.sent()];case 4:throw s=c.sent(),r.disposeMediaStream(i),s;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,n,a){return Wo(this,void 0,void 0,function(){var i,s,c,l,u,o,h,d,f,A=this;return $o(this,function(g){switch(g.label){case 0:return r.checkCallbackFnOrThrow(a),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,n,i)];case 1:return s=g.sent(),c=function(){r.disposeMediaStream(e),r.cleanVideoSource(s)},l=this.scan(s,a,c),u=e.getVideoTracks(),o=Xp(Xp({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(m,x){return Wo(this,void 0,void 0,function(){var y,b,w,N,S,j,_;return $o(this,function(P){switch(P.label){case 0:y=x?u.filter(x):u,P.label=1;case 1:P.trys.push([1,6,7,8]),b=aC(y),w=b.next(),P.label=2;case 2:return w.done?[3,5]:(N=w.value,[4,N.applyConstraints(m)]);case 3:P.sent(),P.label=4;case 4:return w=b.next(),[3,2];case 5:return[3,8];case 6:return S=P.sent(),j={error:S},[3,8];case 7:try{w&&!w.done&&(_=b.return)&&_.call(b)}finally{if(j)throw j.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return u.find(m).getConstraints()},streamVideoSettingsGet:function(m){return u.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return u.find(m).getCapabilities()}}),h=r.mediaStreamIsTorchCompatible(e),h&&(d=u==null?void 0:u.find(function(m){return r.mediaStreamIsTorchCompatibleTrack(m)}),f=function(m){return Wo(A,void 0,void 0,function(){return $o(this,function(x){switch(x.label){case 0:return[4,r.mediaStreamSetTorch(d,m)];case 1:return x.sent(),[2]}})})},o.switchTorch=f,o.stop=function(){return Wo(A,void 0,void 0,function(){return $o(this,function(m){switch(m.label){case 0:return l.stop(),[4,f(!1)];case 1:return m.sent(),[2]}})})}),[2,o]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return Wo(this,void 0,void 0,function(){var i,s;return $o(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,n){return Wo(this,void 0,void 0,function(){var a,i;return $o(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new hl("A video element must be provided.");return a=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,i)];case 1:return s.sent(),[2,this.scan(a,n)]}})})},r.prototype.decodeFromVideoUrl=function(e,n){return Wo(this,void 0,void 0,function(){var a,i,s,c;return $o(this,function(l){switch(l.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new hl("An URL must be provided.");return a=r.prepareVideoElement(),a.src=e,i=function(){r.cleanVideoSource(a)},s=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,s)];case 1:return l.sent(),c=this.scan(a,n,i),[2,c]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return Wo(this,void 0,void 0,function(){var a;return $o(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return Wo(this,void 0,void 0,function(){var a,i,s;return $o(this,function(c){switch(c.label){case 0:return a=!!n,[4,r.attachStreamToVideo(e,n)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=c.sent(),[2,s];case 4:return a||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return Wo(this,void 0,void 0,function(){var a,i;return $o(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return Wo(this,void 0,void 0,function(){var n,a;return $o(this,function(i){switch(i.label){case 0:if(!e)throw new hl("A video element must be provided.");return n=r.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return Wo(this,void 0,void 0,function(){var n,a;return $o(this,function(i){switch(i.label){case 0:if(!e)throw new hl("An URL must be provided.");n=r.prepareVideoElement(),n.src=e,a=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,a];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(n),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,n,a,i){var s=this;return n===void 0&&(n=!0),a===void 0&&(a=!0),i===void 0&&(i=!0),new Promise(function(c,l){s.scan(e,function(u,o,h){if(u){c(u),h.stop();return}if(o){if(o instanceof Br&&n||o instanceof Cl&&a||o instanceof mn&&i)return;h.stop(),l(o)}})})},r.prototype.scan=function(e,n,a){var i=this;r.checkCallbackFnOrThrow(n);var s=r.createCaptureCanvas(e),c;try{c=s.getContext("2d",{willReadFrequently:!0})}catch{c=s.getContext("2d")}if(!c)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){c=void 0,s=void 0},u=!1,o,h=function(){u=!0,clearTimeout(o),l(),a&&a()},d={stop:h},f=function(){if(!u)try{r.drawImageOnCanvas(c,e);var A=i.decodeFromCanvas(s);n(A,void 0,d),o=setTimeout(f,i.options.delayBetweenScanSuccess)}catch(y){n(void 0,y,d);var g=y instanceof Cl,m=y instanceof mn,x=y instanceof Br;if(g||m||x){o=setTimeout(f,i.options.delayBetweenScanAttempts);return}l(),a&&a(y)}};return f(),d},r.prototype._decodeOnLoadImage=function(e){return Wo(this,void 0,void 0,function(){var n;return $o(this,function(a){switch(a.label){case 0:return n=r.isImageLoaded(e),n?[3,2]:[4,r._waitImageLoad(e)];case 1:a.sent(),a.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return Wo(this,void 0,void 0,function(){var n;return $o(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),r.streamTracker.push(n),[2,n]}})})},r.streamTracker=[],r})(),Yoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Yoe(e,r);function e(n,a){return r.call(this,new f2,n,a)||this}return e})(Lm);var Zoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Zoe(e,r);function e(n,a){return r.call(this,new Gp(n),n,a)||this}return e})(Lm);var Joe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Joe(e,r);function e(n,a){return r.call(this,new p2,n,a)||this}return e})(Lm);var ele=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),tle=(function(r){ele(e,r);function e(n,a){var i=this,s=new tD;return s.setHints(n),i=r.call(this,s,n,a)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(so.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(Lm),rle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){rle(e,r);function e(n,a){return r.call(this,new g2,n,a)||this}return e})(Lm);var nle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){nle(e,r);function e(n,a){return r.call(this,new m2,n,a)||this}return e})(Lm);const ale=()=>{const r=ti(),[e,n]=k.useState(""),[a,i]=k.useState(null),[s,c]=k.useState(!1),[l,u]=k.useState(null),o=k.useRef(null),h=k.useRef(null),d=k.useRef(null),[f,A]=k.useState(!1);k.useEffect(()=>{o.current&&o.current.focus()},[]);const g=k.useCallback(()=>{var w;try{(w=d.current)==null||w.reset()}catch{}finally{d.current=null,A(!1)}},[]);k.useEffect(()=>()=>{g()},[g]);const m=async w=>{if(!w||w.length<5){u("Please enter a valid barcode (at least 5 characters)");return}c(!0),u(null),i(null);try{const N=await df.lookupBarcode(w);i(N),n("")}catch(N){const S=(N==null?void 0:N.message)||"Barcode not found";u(S),i(null)}finally{c(!1)}},x=k.useCallback(async()=>{if(u(null),i(null),!h.current){u("Camera preview not available");return}g();const w=new tle;d.current=w,A(!0);try{await w.decodeFromConstraints({video:{facingMode:{ideal:"environment"}}},h.current,(N,S)=>{var j;if(N){const _=(j=N.getText())==null?void 0:j.trim();_&&(g(),m(_))}})}catch(N){g();const S=(N==null?void 0:N.name)==="NotAllowedError"?"Camera permission denied. Please allow camera access and try again.":(N==null?void 0:N.name)==="NotFoundError"?"No camera found on this device.":(N==null?void 0:N.message)||"Failed to start camera scanner";u(S)}},[g]),y=w=>{w.preventDefault(),e.trim()&&m(e.trim())},b=()=>{a&&r("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return t.jsx(Mh,{title:"Scan Barcode",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-scan",children:[t.jsxs("div",{className:"mobile-scan-camera-section",children:[t.jsx("div",{className:"mobile-scan-camera-actions",children:f?t.jsx("button",{type:"button",className:"mobile-scan-camera-btn stop",onClick:g,children:"Stop Camera"}):t.jsx("button",{type:"button",className:"mobile-scan-camera-btn",onClick:x,disabled:s,children:"Start Camera Scan"})}),f&&t.jsxs("div",{className:"mobile-scan-camera-preview",children:[t.jsx("video",{ref:h,className:"mobile-scan-video",muted:!0,playsInline:!0}),t.jsx("div",{className:"mobile-scan-overlay","aria-hidden":"true"}),t.jsx("div",{className:"mobile-scan-hint",children:"Align barcode/QR inside the frame"})]})]}),t.jsxs("div",{className:"mobile-scan-input-section",children:[t.jsx("form",{onSubmit:y,className:"mobile-scan-form",children:t.jsxs("div",{className:"mobile-scan-input-wrapper",children:[t.jsx("input",{ref:o,type:"text",value:e,onChange:w=>n(w.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),t.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:s||!e.trim(),children:s?"...":""})]})}),l&&t.jsxs("div",{className:"mobile-scan-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:l})]})]}),a&&t.jsxs("div",{className:"mobile-scan-result",children:[t.jsxs("div",{className:"mobile-scan-result-header",children:[t.jsx("h3",{children:"Barcode Found"}),t.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),t.jsxs("div",{className:"mobile-scan-result-details",children:[t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),t.jsx("button",{className:"mobile-scan-proceed-btn",onClick:b,children:"Proceed to Waste Entry"})]}),!a&&!l&&t.jsxs("div",{className:"mobile-scan-instructions",children:[t.jsx("h4",{children:"How to scan:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Enter the barcode manually in the input field above"}),t.jsx("li",{children:"Or tap Start Camera Scan to scan using your device camera"}),t.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},ile=()=>{const r=ti(),e=_n(),[n,a]=k.useState(""),[i,s]=k.useState(""),[c,l]=k.useState(""),[u,o]=k.useState(!1),[h,d]=k.useState(null),[f,A]=k.useState(!1);k.useEffect(()=>{if(e.state){const{barcode:m}=e.state;m&&a(m)}},[e.state]);const g=async m=>{if(m.preventDefault(),d(null),A(!1),!n||n.length<5){d("Please enter a valid barcode");return}if(!i||parseFloat(i)<=0){d("Please enter a valid weight");return}o(!0);try{await df.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(i),notes:c.trim()||void 0}),A(!0),a(""),s(""),l(""),setTimeout(()=>{r("/mobile/home")},2e3)}catch(x){d((x==null?void 0:x.message)||"Failed to save waste entry")}finally{o(!1)}};return t.jsx(Mh,{title:"Waste Entry",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-waste-entry",children:[f&&t.jsxs("div",{className:"mobile-waste-entry-success",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})}),t.jsx("span",{children:"Waste entry saved successfully!"})]}),h&&t.jsxs("div",{className:"mobile-waste-entry-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:h})]}),t.jsxs("form",{onSubmit:g,className:"mobile-waste-entry-form",children:[t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),t.jsx("input",{id:"barcode",type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Enter barcode",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),t.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:i,onChange:m=>s(m.target.value),placeholder:"0.00",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),t.jsx("textarea",{id:"notes",value:c,onChange:m=>l(m.target.value),placeholder:"Add any additional notes...",rows:4,disabled:u})]}),t.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:u||f,children:u?"Saving...":f?"Saved!":"Save Entry"})]})]})})},sle=()=>{const r=ti();return t.jsx(Mh,{title:"Route Assignment",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-assign-hospital",children:t.jsxs("div",{className:"mobile-assign-hospital-info",children:[t.jsx("p",{children:"Route assignment functionality will be available here."}),t.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>r("/transaction/route-assignment"),children:"Open Full View"})]})})})},oD=({label:r="Company",placeholder:e="Select Company",value:n,options:a,onChange:i})=>{const[s,c]=k.useState(!1),[l,u]=k.useState(""),o=k.useMemo(()=>a.find(d=>d.id===n),[a,n]),h=k.useMemo(()=>{const d=l.trim().toLowerCase();return d?a.filter(f=>f.name.toLowerCase().includes(d)):a},[a,l]);return t.jsxs("div",{className:"company-picker",children:[r&&t.jsx("div",{className:"company-picker-label",children:r}),t.jsxs("button",{type:"button",className:"company-picker-button",onClick:()=>c(!0),children:[t.jsx("span",{className:"company-picker-button-text",children:o?o.name:e}),t.jsx("span",{className:"company-picker-chevron","aria-hidden":"true",children:""})]}),s&&t.jsx("div",{className:"company-picker-overlay",onClick:()=>c(!1),children:t.jsxs("div",{className:"company-picker-sheet",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"company-picker-sheet-header",children:[t.jsx("div",{className:"company-picker-sheet-title",children:e}),t.jsx("button",{type:"button",className:"company-picker-close",onClick:()=>c(!1),"aria-label":"Close",children:""})]}),t.jsx("div",{className:"company-picker-search",children:t.jsx("input",{value:l,onChange:d=>u(d.target.value),placeholder:"Search company..."})}),t.jsx("div",{className:"company-picker-list",children:h.length===0?t.jsx("div",{className:"company-picker-empty",children:"No companies found."}):h.map(d=>t.jsx("button",{type:"button",className:`company-picker-item ${d.id===n?"active":""}`,onClick:()=>{i(d.id),c(!1)},children:d.name},d.id))})]})})]})},ole=()=>{const r=ti(),[e,n]=k.useState([]),[a,i]=k.useState(""),[s,c]=k.useState([]),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,f]=k.useState("");k.useEffect(()=>{(async()=>{try{const m=await Qa.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){h((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),k.useEffect(()=>{(async()=>{if(!a){c([]);return}u(!0),h(null);try{const m=await ks.getAllHcfs(a,!0);c(Array.isArray(m)?m:[])}catch(m){h((m==null?void 0:m.message)||"Failed to load HCF list")}finally{u(!1)}})()},[a]);const A=k.useMemo(()=>{const g=d.trim().toLowerCase();return g?s.filter(m=>(m.hcfCode||"").toLowerCase().includes(g)||(m.hcfName||"").toLowerCase().includes(g)||(m.district||"").toLowerCase().includes(g)||(m.pincode||"").toLowerCase().includes(g)):s},[s,d]);return t.jsx(Mh,{title:"HCF Master",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-hcf-master",children:[t.jsxs("div",{className:"mobile-hcf-toolbar",children:[t.jsx(oD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-hcf-search",value:d,onChange:g=>f(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-hcf-empty",children:o}),t.jsx("div",{className:"mobile-hcf-table",children:l?t.jsx("div",{className:"mobile-hcf-empty",children:"Loading..."}):A.length===0?t.jsx("div",{className:"mobile-hcf-empty",children:"No HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"})]})}),t.jsx("tbody",{children:A.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.district||g.areaId||"-"}),t.jsx("td",{children:g.pincode||"-"})]},g.id))})]})})]})})},lD="mw-mobile-settings",lle=()=>{try{const r=localStorage.getItem(lD);if(!r)return{darkMode:!1,notifications:!0};const e=JSON.parse(r);return{darkMode:!!e.darkMode,notifications:e.notifications!==!1}}catch{return{darkMode:!1,notifications:!0}}},cle=r=>{try{localStorage.setItem(lD,JSON.stringify(r))}catch{}},ule=()=>{const r=ti(),{user:e,logout:n}=pa(),[a,i]=k.useState(()=>lle()),s=k.useMemo(()=>e?e.name||e.email||"User":"Guest",[e]);k.useEffect(()=>{a.darkMode?document.body.classList.add("mw-dark"):document.body.classList.remove("mw-dark"),cle(a)},[a]);const c=u=>{i(o=>({...o,[u]:!o[u]}))},l=()=>{try{localStorage.removeItem("mw-auth-user")}catch{}n(),r("/mobile/login",{replace:!0})};return t.jsx(Mh,{title:"Settings",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-settings",children:[t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Account"}),t.jsx("div",{className:"mobile-settings-row",children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Signed in as"}),t.jsx("div",{className:"mobile-settings-value",children:s})]})})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Preferences"}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("darkMode"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Dark mode"}),t.jsx("div",{className:"mobile-settings-sub",children:"Applies a dark theme on this device"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.darkMode?"on":""}`,"aria-hidden":"true"})]}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("notifications"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Notifications"}),t.jsx("div",{className:"mobile-settings-sub",children:"Enable in-app reminders (placeholder)"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.notifications?"on":""}`,"aria-hidden":"true"})]})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Security"}),t.jsx("button",{className:"mobile-settings-row danger",onClick:l,children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Logout"}),t.jsx("div",{className:"mobile-settings-sub",children:"Sign out from this device"})]})})]}),t.jsx("div",{className:"mobile-settings-footer",children:t.jsx("div",{className:"mobile-settings-footer-text",children:"Medi Waste Management (Mobile)"})})]})})},iC=r=>!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r),dle=()=>{const r=ti(),{user:e,logout:n}=pa(),[a,i]=k.useState(!1),[s,c]=k.useState(null),[l,u]=k.useState(null),[o,h]=k.useState(null),[d,f]=k.useState(!1),[A,g]=k.useState({emailAddress:"",emergencyContact:"",addressLine:"",city:"",district:"",pincode:""}),[m,x]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=k.useMemo(()=>e?(e.roles||[]).join(", "):"",[e]);k.useEffect(()=>{(async()=>{if(e!=null&&e.id){i(!0),c(null);try{if(iC(e.id)){const j=await Vl.getUserById(e.id);h(j),g({emailAddress:j.emailAddress||"",emergencyContact:j.emergencyContact||"",addressLine:j.addressLine||"",city:j.city||"",district:j.district||"",pincode:j.pincode||""})}else c("Showing basic profile from session.")}catch(j){c((j==null?void 0:j.message)||"Failed to load profile.")}finally{i(!1)}}})()},[e==null?void 0:e.id]);const b=async()=>{if(!(e!=null&&e.id)||!iC(e.id)){c("Cannot update profile: user id missing.");return}i(!0),c(null),u(null);try{if(await Vl.updateCompleteUser(e.id,{companyId:(o==null?void 0:o.companyId)||"",userName:(o==null?void 0:o.userName)||e.name||"",mobileNumber:(o==null?void 0:o.mobileNumber)||"-",userRoleId:(o==null?void 0:o.userRoleId)||void 0,emailAddress:A.emailAddress||void 0,emergencyContact:A.emergencyContact||void 0,addressLine:A.addressLine||void 0,city:A.city||void 0,district:A.district||void 0,pincode:A.pincode||void 0}),u("Profile updated successfully."),f(!1),iC(e.id)){const S=await Vl.getUserById(e.id);h(S)}}catch(S){c((S==null?void 0:S.message)||"Failed to update profile.")}finally{i(!1)}},w=async()=>{if(c(null),u(null),!(e!=null&&e.id)){c("Unable to identify user for password change.");return}if(!m.currentPassword||!m.newPassword){c("Please fill current password and new password.");return}if(m.newPassword!==m.confirmPassword){c("New password and confirm password do not match.");return}i(!0);try{await h2(e.id,{currentPassword:m.currentPassword,newPassword:m.newPassword}),u("Password changed successfully."),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch(S){c((S==null?void 0:S.message)||"Failed to change password.")}finally{i(!1)}},N=()=>{n(),r("/mobile/login",{replace:!0})};return t.jsx(Mh,{title:"Profile",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-profile",children:[(s||l)&&t.jsx("div",{className:`mobile-profile-banner ${l?"success":"info"}`,children:l||s}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Account"}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Name"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.name)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Email"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.email)||(o==null?void 0:o.emailAddress)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Role"}),t.jsx("div",{className:"value",children:y||(o==null?void 0:o.userRoleId)||"-"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsxs("div",{className:"mobile-profile-section-title",children:["Contact Info",t.jsx("button",{className:"mobile-profile-link",onClick:()=>{u(null),c(null),f(S=>!S)},disabled:a,type:"button",children:d?"Cancel":"Edit"})]}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Email",t.jsx("input",{value:d?A.emailAddress:(o==null?void 0:o.emailAddress)||(e==null?void 0:e.email)||"",onChange:S=>g(j=>({...j,emailAddress:S.target.value})),disabled:!d||a,placeholder:"Email address"})]}),t.jsxs("label",{children:["Emergency Contact",t.jsx("input",{value:A.emergencyContact,onChange:S=>g(j=>({...j,emergencyContact:S.target.value})),disabled:!d||a,placeholder:"Emergency contact"})]}),t.jsxs("label",{children:["Address",t.jsx("input",{value:A.addressLine,onChange:S=>g(j=>({...j,addressLine:S.target.value})),disabled:!d||a,placeholder:"Address line"})]}),t.jsxs("div",{className:"two-col",children:[t.jsxs("label",{children:["City",t.jsx("input",{value:A.city,onChange:S=>g(j=>({...j,city:S.target.value})),disabled:!d||a,placeholder:"City"})]}),t.jsxs("label",{children:["Pincode",t.jsx("input",{value:A.pincode,onChange:S=>g(j=>({...j,pincode:S.target.value})),disabled:!d||a,placeholder:"Pincode"})]})]}),t.jsxs("label",{children:["District",t.jsx("input",{value:A.district,onChange:S=>g(j=>({...j,district:S.target.value})),disabled:!d||a,placeholder:"District"})]}),d&&t.jsx("button",{className:"mobile-profile-btn",onClick:b,disabled:a,type:"button",children:a?"Saving...":"Save"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Security"}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Current Password",t.jsx("input",{type:"password",value:m.currentPassword,onChange:S=>x(j=>({...j,currentPassword:S.target.value})),disabled:a})]}),t.jsxs("label",{children:["New Password",t.jsx("input",{type:"password",value:m.newPassword,onChange:S=>x(j=>({...j,newPassword:S.target.value})),disabled:a})]}),t.jsxs("label",{children:["Confirm Password",t.jsx("input",{type:"password",value:m.confirmPassword,onChange:S=>x(j=>({...j,confirmPassword:S.target.value})),disabled:a})]}),t.jsx("button",{className:"mobile-profile-btn",onClick:w,disabled:a,type:"button",children:a?"Updating...":"Change Password"})]})]}),t.jsx("button",{className:"mobile-profile-btn danger",onClick:N,type:"button",children:"Logout"})]})})},hle=r=>{if(!r)return"-";const e=new Date(r);return Number.isNaN(e.getTime())?r:e.toLocaleString()},fle=()=>{const r=ti(),[e,n]=k.useState([]),[a,i]=k.useState(!1),[s,c]=k.useState(null),[l,u]=k.useState(""),o=k.useMemo(()=>{const d=l.trim().toLowerCase();return d?e.filter(f=>(f.barcode||"").toLowerCase().includes(d)||(f.status||"").toLowerCase().includes(d)||(f.wasteColor||"").toLowerCase().includes(d)):e},[e,l]),h=async()=>{i(!0),c(null);try{const d=await df.getAllWasteCollections();n(Array.isArray(d)?d:[])}catch(d){c((d==null?void 0:d.message)||"Failed to load waste collections")}finally{i(!1)}};return k.useEffect(()=>{h()},[]),t.jsx(Mh,{title:"Waste Collections",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-wc",children:[t.jsxs("div",{className:"mobile-wc-toolbar",children:[t.jsx("input",{className:"mobile-wc-search",placeholder:"Search by barcode / status / color",value:l,onChange:d=>u(d.target.value)}),t.jsx("button",{className:"mobile-wc-refresh",onClick:h,disabled:a,type:"button",children:a?"...":""})]}),s&&t.jsx("div",{className:"mobile-wc-banner error",children:s}),t.jsxs("div",{className:"mobile-wc-actions",children:[t.jsx("button",{className:"mobile-wc-primary",type:"button",onClick:()=>r("/mobile/scan"),children:"New Collection (Scan)"}),t.jsx("button",{className:"mobile-wc-secondary",type:"button",onClick:()=>r("/mobile/waste-entry"),children:"Manual Waste Entry"})]}),t.jsx("div",{className:"mobile-wc-list",children:a&&e.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"Loading..."}):o.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"No waste collections found."}):o.map(d=>t.jsxs("div",{className:"mobile-wc-item",children:[t.jsxs("div",{className:"mobile-wc-item-top",children:[t.jsx("div",{className:"mobile-wc-barcode",children:d.barcode}),t.jsx("div",{className:`mobile-wc-badge ${String(d.status||"").toLowerCase().replace(/\s+/g,"-")}`,children:d.status})]}),t.jsxs("div",{className:"mobile-wc-meta",children:[t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Color"}),t.jsx("span",{className:"v",children:d.wasteColor})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Weight"}),t.jsx("span",{className:"v",children:d.weightKg??"-"})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Created"}),t.jsx("span",{className:"v",children:hle(d.createdOn)})]})]})]},d.id))})]})})},Ale=()=>{const r=ti(),[e,n]=k.useState([]),[a,i]=k.useState(""),[s,c]=k.useState(""),[l,u]=k.useState(!1),[o,h]=k.useState(null),[d,f]=k.useState([]);k.useEffect(()=>{(async()=>{try{const m=await Qa.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){h((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),k.useEffect(()=>{(async()=>{if(!a){f([]);return}u(!0),h(null);try{const[m,x]=await Promise.all([R0.getAllRouteHcfMappings(void 0,void 0,a,!0),ks.getAllHcfs(a,!0)]),y=new Map;(m||[]).forEach(N=>{const S=y.get(N.hcfId)||new Set;S.add(N.routeId),y.set(N.hcfId,S)});const b=new Set(Array.from(y.keys())),w=(x||[]).filter(N=>b.has(N.id)).map(N=>{var S;return{hcfId:N.id,hcfCode:N.hcfCode,hcfName:N.hcfName,area:N.district||N.areaId||"-",pincode:N.pincode||"-",routesCount:((S=y.get(N.id))==null?void 0:S.size)||0}});f(w)}catch(m){h((m==null?void 0:m.message)||"Failed to load assigned HCF list")}finally{u(!1)}})()},[a]);const A=k.useMemo(()=>{const g=s.trim().toLowerCase();return g?d.filter(m=>m.hcfCode.toLowerCase().includes(g)||m.hcfName.toLowerCase().includes(g)||m.area.toLowerCase().includes(g)||m.pincode.toLowerCase().includes(g)):d},[d,s]);return t.jsx(Mh,{title:"Assigned HCF List",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-ahcf",children:[t.jsxs("div",{className:"mobile-ahcf-toolbar",children:[t.jsx(oD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-ahcf-search",value:s,onChange:g=>c(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-ahcf-banner",children:o}),t.jsx("div",{className:"mobile-ahcf-table",children:l?t.jsx("div",{className:"mobile-ahcf-empty",children:"Loading..."}):A.length===0?t.jsx("div",{className:"mobile-ahcf-empty",children:"No assigned HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"}),t.jsx("th",{children:"Routes"})]})}),t.jsx("tbody",{children:A.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.area}),t.jsx("td",{children:g.pincode}),t.jsx("td",{children:g.routesCount})]},g.hcfId))})]})})]})})},ple=()=>{const r=ti();return t.jsx(Mh,{title:"Analytics",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-analytics",children:t.jsxs("div",{className:"mobile-analytics-card",children:[t.jsx("div",{className:"mobile-analytics-title",children:"Analytics"}),t.jsx("div",{className:"mobile-analytics-sub",children:"Mobile analytics screen. Use the buttons below to open full reports."}),t.jsx("button",{className:"mobile-analytics-btn",type:"button",onClick:()=>r("/report"),children:"Open Reports (Full)"}),t.jsx("button",{className:"mobile-analytics-btn secondary",type:"button",onClick:()=>r("/dashboard"),children:"Open Dashboard (Full)"})]})})})},mle=()=>{const{user:r}=aO();return t.jsx(FM,{user:r,children:t.jsxs(pM,{children:[t.jsx(pn,{path:"/",element:t.jsx(Yp,{to:"/login",replace:!0})}),t.jsx(pn,{path:"/login",element:t.jsx(DM,{})}),t.jsx(pn,{path:"/verify-otp",element:t.jsx(MM,{})}),t.jsx(pn,{path:"/welcome",element:t.jsx(Yp,{to:"/dashboard",replace:!0})}),t.jsx(pn,{path:"/mobile/login",element:t.jsx(rae,{})}),t.jsx(pn,{path:"/mobile/home",element:t.jsx(wn,{children:t.jsx(uae,{})})}),t.jsx(pn,{path:"/mobile/scan",element:t.jsx(wn,{children:t.jsx(ale,{})})}),t.jsx(pn,{path:"/mobile/waste-entry",element:t.jsx(wn,{children:t.jsx(ile,{})})}),t.jsx(pn,{path:"/mobile/waste-collections",element:t.jsx(wn,{children:t.jsx(fle,{})})}),t.jsx(pn,{path:"/mobile/assign-hospital",element:t.jsx(wn,{children:t.jsx(sle,{})})}),t.jsx(pn,{path:"/mobile/assigned-hcfs",element:t.jsx(wn,{children:t.jsx(Ale,{})})}),t.jsx(pn,{path:"/mobile/analytics",element:t.jsx(wn,{children:t.jsx(ple,{})})}),t.jsx(pn,{path:"/mobile/hcf-master",element:t.jsx(wn,{children:t.jsx(ole,{})})}),t.jsx(pn,{path:"/mobile/profile",element:t.jsx(wn,{children:t.jsx(dle,{})})}),t.jsx(pn,{path:"/mobile/settings",element:t.jsx(wn,{children:t.jsx(ule,{})})}),t.jsx(pn,{path:"/dashboard",element:t.jsx(wn,{children:t.jsx(MJ,{})})}),t.jsx(pn,{path:"/admin/dashboard-configuration",element:t.jsx(wn,{children:t.jsx(QJ,{})})}),t.jsx(pn,{path:"/admin/permission-configuration",element:t.jsx(wn,{children:t.jsx(VJ,{})})}),t.jsx(pn,{path:"/profile",element:t.jsx(wn,{children:t.jsx(oae,{})})}),t.jsx(pn,{path:"/transaction",element:t.jsx(wn,{children:t.jsx(zJ,{})})}),t.jsx(pn,{path:"/transaction/barcode-generation",element:t.jsx(wn,{children:t.jsx(cne,{})})}),t.jsx(pn,{path:"/transaction/route-assignment",element:t.jsx(wn,{children:t.jsx(lte,{})})}),t.jsx(pn,{path:"/transaction/waste-collection",element:t.jsx(wn,{children:t.jsx(dte,{})})}),t.jsx(pn,{path:"/transaction/waste-transaction-data",element:t.jsx(wn,{children:t.jsx(mte,{})})}),t.jsx(pn,{path:"/transaction/vehicle-wise-waste-collection",element:t.jsx(wn,{children:t.jsx(xte,{})})}),t.jsx(pn,{path:"/transaction/waste-processing",element:t.jsx(wn,{children:t.jsx(wte,{})})}),t.jsx(pn,{path:"/finance",element:t.jsx(wn,{children:t.jsx(KJ,{})})}),t.jsx(pn,{path:"/commercial-agreements",element:t.jsx(wn,{children:t.jsx(GJ,{})})}),t.jsx(pn,{path:"/commercial-agreements/contract-master",element:t.jsx(wn,{children:t.jsx(yne,{})})}),t.jsx(pn,{path:"/commercial-agreements/agreement",element:t.jsx(wn,{children:t.jsx(Tne,{})})}),t.jsx(pn,{path:"/commercial-agreements/agreement-clause",element:t.jsx(wn,{children:t.jsx(Pne,{})})}),t.jsx(pn,{path:"/compliance-training",element:t.jsx(wn,{children:t.jsx(qJ,{})})}),t.jsx(pn,{path:"/compliance-training/training-certificate-management",element:t.jsx(wn,{children:t.jsx(Ane,{})})}),t.jsx(pn,{path:"/master",element:t.jsx(wn,{children:t.jsx(XJ,{})})}),t.jsx(pn,{path:"/master/company",element:t.jsx(wn,{children:t.jsx(eee,{})})}),t.jsx(pn,{path:"/master/state",element:t.jsx(wn,{children:t.jsx(aee,{})})}),t.jsx(pn,{path:"/master/area",element:t.jsx(wn,{children:t.jsx(lee,{})})}),t.jsx(pn,{path:"/master/category",element:t.jsx(wn,{children:t.jsx(hee,{})})}),t.jsx(pn,{path:"/master/pcb-zone",element:t.jsx(wn,{children:t.jsx(mee,{})})}),t.jsx(pn,{path:"/master/route",element:t.jsx(wn,{children:t.jsx(wee,{})})}),t.jsx(pn,{path:"/master/color-code",element:t.jsx(wn,{children:t.jsx(See,{})})}),t.jsx(pn,{path:"/master/user-management",element:t.jsx(wn,{children:t.jsx(Fee,{})})}),t.jsx(pn,{path:"/master/roles-permissions",element:t.jsx(wn,{children:t.jsx(Lee,{})})}),t.jsx(pn,{path:"/master/hcf-master",element:t.jsx(wn,{children:t.jsx(Wee,{})})}),t.jsx(pn,{path:"/master/hcf-amendments",element:t.jsx(wn,{children:t.jsx(Kee,{})})}),t.jsx(pn,{path:"/master/hcf-type",element:t.jsx(wn,{children:t.jsx(qee,{})})}),t.jsx(pn,{path:"/master/fleet-management",element:t.jsx(wn,{children:t.jsx(Jee,{})})}),t.jsx(pn,{path:"/master/route-hcf-mapping",element:t.jsx(wn,{children:t.jsx(rte,{})})}),t.jsx(pn,{path:"/master/frequency",element:t.jsx(wn,{children:t.jsx(ate,{})})}),t.jsx(pn,{path:"/finance/invoice-management",element:t.jsx(wn,{children:t.jsx(Fte,{})})}),t.jsx(pn,{path:"/finance/payment",element:t.jsx(wn,{children:t.jsx($te,{})})}),t.jsx(pn,{path:"/finance/payment-success",element:t.jsx(wn,{children:t.jsx(Vte,{})})}),t.jsx(pn,{path:"/finance/receipt-management",element:t.jsx(wn,{children:t.jsx(zte,{})})}),t.jsx(pn,{path:"/finance/financial-balance-summary",element:t.jsx(wn,{children:t.jsx(Jte,{})})}),t.jsx(pn,{path:"/report",element:t.jsx(wn,{children:t.jsx(Rne,{})})}),t.jsx(pn,{path:"/report/invoice",element:t.jsx(wn,{children:t.jsx(Kj,{})})}),t.jsx(pn,{path:"/report/contract",element:t.jsx(wn,{children:t.jsx(Wne,{})})}),t.jsx(pn,{path:"/report/hcf",element:t.jsx(wn,{children:t.jsx($ne,{})})}),t.jsx(pn,{path:"/report/training-certificate",element:t.jsx(wn,{children:t.jsx(Vne,{})})}),t.jsx(pn,{path:"/report/payment",element:t.jsx(wn,{children:t.jsx(i_,{})})}),t.jsx(pn,{path:"/report/agreement",element:t.jsx(wn,{children:t.jsx(zne,{})})}),t.jsx(pn,{path:"/report/barcode",element:t.jsx(wn,{children:t.jsx(s_,{})})}),t.jsx(pn,{path:"/report/barcode-usage",element:t.jsx(wn,{children:t.jsx(s_,{})})}),t.jsx(pn,{path:"/report/user",element:t.jsx(wn,{children:t.jsx(Gne,{})})}),t.jsx(pn,{path:"/report/fleet",element:t.jsx(wn,{children:t.jsx(qne,{})})}),t.jsx(pn,{path:"/report/revenue",element:t.jsx(wn,{children:t.jsx(o_,{})})}),t.jsx(pn,{path:"/report/outstanding",element:t.jsx(wn,{children:t.jsx(l_,{})})}),t.jsx(pn,{path:"/report/contract-renewal",element:t.jsx(wn,{children:t.jsx(Xne,{})})}),t.jsx(pn,{path:"/report/route",element:t.jsx(wn,{children:t.jsx(Yne,{})})}),t.jsx(pn,{path:"/report/collection",element:t.jsx(wn,{children:t.jsx(Zne,{})})}),t.jsx(pn,{path:"/report/company",element:t.jsx(wn,{children:t.jsx(Jne,{})})}),t.jsx(pn,{path:"/report/compliance",element:t.jsx(wn,{children:t.jsx(eae,{})})}),t.jsx(pn,{path:"/report/fleet-master",element:t.jsx(wn,{children:t.jsx(tae,{})})}),t.jsx(pn,{path:"/report/billing-finance",element:t.jsx(wn,{children:t.jsx(Lne,{})})}),t.jsx(pn,{path:"/report/billing-finance/invoice-generation",element:t.jsx(wn,{children:t.jsx(Kj,{})})}),t.jsx(pn,{path:"/report/billing-finance/unbilled-services",element:t.jsx(wn,{children:t.jsx(Kj,{})})}),t.jsx(pn,{path:"/report/billing-finance/outstanding-payments",element:t.jsx(wn,{children:t.jsx(l_,{})})}),t.jsx(pn,{path:"/report/billing-finance/pending-payments",element:t.jsx(wn,{children:t.jsx(i_,{})})}),t.jsx(pn,{path:"/report/billing-finance/cost-revenue-analysis",element:t.jsx(wn,{children:t.jsx(o_,{})})}),t.jsx(pn,{path:"/report/operations-logistics",element:t.jsx(wn,{children:t.jsx(Une,{})})}),t.jsx(pn,{path:"/report/hcf-compliance",element:t.jsx(wn,{children:t.jsx(Hne,{})})}),t.jsx(pn,{path:"/users/new",element:t.jsx(BS,{children:t.jsx(wn,{roles:["admin"],children:t.jsx(Dne,{})})})}),t.jsx(pn,{path:"/mobile/users/new",element:t.jsx(BS,{children:t.jsx(wn,{roles:["admin","manager"],children:t.jsx(sae,{})})})})]})})},gle=()=>t.jsx(kM,{children:t.jsx(mle,{})});class vle extends k.Component{constructor(){super(...arguments);Gi(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[t.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),t.jsx("p",{children:"Please check the browser console for details."}),t.jsxs("details",{style:{marginTop:"10px"},children:[t.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),t.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const cD=document.getElementById("root");if(!cD)throw new Error("Root element #root not found. Make sure index.html mounts it.");jD.createRoot(cD).render(t.jsx(St.StrictMode,{children:t.jsx(vle,{children:t.jsx(jM,{children:t.jsx(gle,{})})})}));
