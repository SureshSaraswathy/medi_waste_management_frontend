var VO=Object.defineProperty;var KO=(t,r,n)=>r in t?VO(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;var Us=(t,r,n)=>KO(t,typeof r!="symbol"?r+"":r,n);function GO(t,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var aA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x1={exports:{}},yp={},y1={exports:{}},gs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function qO(){if(WC)return gs;WC=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),i=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.iterator;function f(he){return he===null||typeof he!="object"?null:(he=u&&he[u]||he["@@iterator"],typeof he=="function"?he:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function x(he,le,ve){this.props=he,this.context=le,this.refs=g,this.updater=ve||m}x.prototype.isReactComponent={},x.prototype.setState=function(he,le){if(typeof he!="object"&&typeof he!="function"&&he!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,he,le,"setState")},x.prototype.forceUpdate=function(he){this.updater.enqueueForceUpdate(this,he,"forceUpdate")};function y(){}y.prototype=x.prototype;function j(he,le,ve){this.props=he,this.context=le,this.refs=g,this.updater=ve||m}var N=j.prototype=new y;N.constructor=j,v(N,x.prototype),N.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,C={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function _(he,le,ve){var se,re={},Ie=null,Te=null;if(le!=null)for(se in le.ref!==void 0&&(Te=le.ref),le.key!==void 0&&(Ie=""+le.key),le)I.call(le,se)&&!D.hasOwnProperty(se)&&(re[se]=le[se]);var xe=arguments.length-2;if(xe===1)re.children=ve;else if(1<xe){for(var pe=Array(xe),X=0;X<xe;X++)pe[X]=arguments[X+2];re.children=pe}if(he&&he.defaultProps)for(se in xe=he.defaultProps,xe)re[se]===void 0&&(re[se]=xe[se]);return{$$typeof:t,type:he,key:Ie,ref:Te,props:re,_owner:C.current}}function Z(he,le){return{$$typeof:t,type:he.type,key:le,ref:he.ref,props:he.props,_owner:he._owner}}function ae(he){return typeof he=="object"&&he!==null&&he.$$typeof===t}function V(he){var le={"=":"=0",":":"=2"};return"$"+he.replace(/[=:]/g,function(ve){return le[ve]})}var ie=/\/+/g;function U(he,le){return typeof he=="object"&&he!==null&&he.key!=null?V(""+he.key):le.toString(36)}function G(he,le,ve,se,re){var Ie=typeof he;(Ie==="undefined"||Ie==="boolean")&&(he=null);var Te=!1;if(he===null)Te=!0;else switch(Ie){case"string":case"number":Te=!0;break;case"object":switch(he.$$typeof){case t:case r:Te=!0}}if(Te)return Te=he,re=re(Te),he=se===""?"."+U(Te,0):se,T(re)?(ve="",he!=null&&(ve=he.replace(ie,"$&/")+"/"),G(re,le,ve,"",function(X){return X})):re!=null&&(ae(re)&&(re=Z(re,ve+(!re.key||Te&&Te.key===re.key?"":(""+re.key).replace(ie,"$&/")+"/")+he)),le.push(re)),1;if(Te=0,se=se===""?".":se+":",T(he))for(var xe=0;xe<he.length;xe++){Ie=he[xe];var pe=se+U(Ie,xe);Te+=G(Ie,le,ve,pe,re)}else if(pe=f(he),typeof pe=="function")for(he=pe.call(he),xe=0;!(Ie=he.next()).done;)Ie=Ie.value,pe=se+U(Ie,xe++),Te+=G(Ie,le,ve,pe,re);else if(Ie==="object")throw le=String(he),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Te}function K(he,le,ve){if(he==null)return he;var se=[],re=0;return G(he,se,"","",function(Ie){return le.call(ve,Ie,re++)}),se}function W(he){if(he._status===-1){var le=he._result;le=le(),le.then(function(ve){(he._status===0||he._status===-1)&&(he._status=1,he._result=ve)},function(ve){(he._status===0||he._status===-1)&&(he._status=2,he._result=ve)}),he._status===-1&&(he._status=0,he._result=le)}if(he._status===1)return he._result.default;throw he._result}var Ne={current:null},ge={transition:null},Ee={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ge,ReactCurrentOwner:C};function Fe(){throw Error("act(...) is not supported in production builds of React.")}return gs.Children={map:K,forEach:function(he,le,ve){K(he,function(){le.apply(this,arguments)},ve)},count:function(he){var le=0;return K(he,function(){le++}),le},toArray:function(he){return K(he,function(le){return le})||[]},only:function(he){if(!ae(he))throw Error("React.Children.only expected to receive a single React element child.");return he}},gs.Component=x,gs.Fragment=n,gs.Profiler=s,gs.PureComponent=j,gs.StrictMode=a,gs.Suspense=h,gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,gs.act=Fe,gs.cloneElement=function(he,le,ve){if(he==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+he+".");var se=v({},he.props),re=he.key,Ie=he.ref,Te=he._owner;if(le!=null){if(le.ref!==void 0&&(Ie=le.ref,Te=C.current),le.key!==void 0&&(re=""+le.key),he.type&&he.type.defaultProps)var xe=he.type.defaultProps;for(pe in le)I.call(le,pe)&&!D.hasOwnProperty(pe)&&(se[pe]=le[pe]===void 0&&xe!==void 0?xe[pe]:le[pe])}var pe=arguments.length-2;if(pe===1)se.children=ve;else if(1<pe){xe=Array(pe);for(var X=0;X<pe;X++)xe[X]=arguments[X+2];se.children=xe}return{$$typeof:t,type:he.type,key:re,ref:Ie,props:se,_owner:Te}},gs.createContext=function(he){return he={$$typeof:c,_currentValue:he,_currentValue2:he,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},he.Provider={$$typeof:o,_context:he},he.Consumer=he},gs.createElement=_,gs.createFactory=function(he){var le=_.bind(null,he);return le.type=he,le},gs.createRef=function(){return{current:null}},gs.forwardRef=function(he){return{$$typeof:l,render:he}},gs.isValidElement=ae,gs.lazy=function(he){return{$$typeof:d,_payload:{_status:-1,_result:he},_init:W}},gs.memo=function(he,le){return{$$typeof:i,type:he,compare:le===void 0?null:le}},gs.startTransition=function(he){var le=ge.transition;ge.transition={};try{he()}finally{ge.transition=le}},gs.unstable_act=Fe,gs.useCallback=function(he,le){return Ne.current.useCallback(he,le)},gs.useContext=function(he){return Ne.current.useContext(he)},gs.useDebugValue=function(){},gs.useDeferredValue=function(he){return Ne.current.useDeferredValue(he)},gs.useEffect=function(he,le){return Ne.current.useEffect(he,le)},gs.useId=function(){return Ne.current.useId()},gs.useImperativeHandle=function(he,le,ve){return Ne.current.useImperativeHandle(he,le,ve)},gs.useInsertionEffect=function(he,le){return Ne.current.useInsertionEffect(he,le)},gs.useLayoutEffect=function(he,le){return Ne.current.useLayoutEffect(he,le)},gs.useMemo=function(he,le){return Ne.current.useMemo(he,le)},gs.useReducer=function(he,le,ve){return Ne.current.useReducer(he,le,ve)},gs.useRef=function(he){return Ne.current.useRef(he)},gs.useState=function(he){return Ne.current.useState(he)},gs.useSyncExternalStore=function(he,le,ve){return Ne.current.useSyncExternalStore(he,le,ve)},gs.useTransition=function(){return Ne.current.useTransition()},gs.version="18.3.1",gs}var $C;function Ew(){return $C||($C=1,y1.exports=qO()),y1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function XO(){if(zC)return yp;zC=1;var t=Ew(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(l,h,i){var d,u={},f=null,m=null;i!==void 0&&(f=""+i),h.key!==void 0&&(f=""+h.key),h.ref!==void 0&&(m=h.ref);for(d in h)a.call(h,d)&&!o.hasOwnProperty(d)&&(u[d]=h[d]);if(l&&l.defaultProps)for(d in h=l.defaultProps,h)u[d]===void 0&&(u[d]=h[d]);return{$$typeof:r,type:l,key:f,ref:m,props:u,_owner:s.current}}return yp.Fragment=n,yp.jsx=c,yp.jsxs=c,yp}var VC;function YO(){return VC||(VC=1,x1.exports=XO()),x1.exports}var e=YO(),M=Ew();const wt=Qs(M),JO=GO({__proto__:null,default:wt},[M]);var jg={},b1={exports:{}},$c={},j1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC;function ZO(){return KC||(KC=1,(function(t){function r(ge,Ee){var Fe=ge.length;ge.push(Ee);e:for(;0<Fe;){var he=Fe-1>>>1,le=ge[he];if(0<s(le,Ee))ge[he]=Ee,ge[Fe]=le,Fe=he;else break e}}function n(ge){return ge.length===0?null:ge[0]}function a(ge){if(ge.length===0)return null;var Ee=ge[0],Fe=ge.pop();if(Fe!==Ee){ge[0]=Fe;e:for(var he=0,le=ge.length,ve=le>>>1;he<ve;){var se=2*(he+1)-1,re=ge[se],Ie=se+1,Te=ge[Ie];if(0>s(re,Fe))Ie<le&&0>s(Te,re)?(ge[he]=Te,ge[Ie]=Fe,he=Ie):(ge[he]=re,ge[se]=Fe,he=se);else if(Ie<le&&0>s(Te,Fe))ge[he]=Te,ge[Ie]=Fe,he=Ie;else break e}}return Ee}function s(ge,Ee){var Fe=ge.sortIndex-Ee.sortIndex;return Fe!==0?Fe:ge.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var h=[],i=[],d=1,u=null,f=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ge){for(var Ee=n(i);Ee!==null;){if(Ee.callback===null)a(i);else if(Ee.startTime<=ge)a(i),Ee.sortIndex=Ee.expirationTime,r(h,Ee);else break;Ee=n(i)}}function T(ge){if(g=!1,N(ge),!v)if(n(h)!==null)v=!0,W(I);else{var Ee=n(i);Ee!==null&&Ne(T,Ee.startTime-ge)}}function I(ge,Ee){v=!1,g&&(g=!1,y(_),_=-1),m=!0;var Fe=f;try{for(N(Ee),u=n(h);u!==null&&(!(u.expirationTime>Ee)||ge&&!V());){var he=u.callback;if(typeof he=="function"){u.callback=null,f=u.priorityLevel;var le=he(u.expirationTime<=Ee);Ee=t.unstable_now(),typeof le=="function"?u.callback=le:u===n(h)&&a(h),N(Ee)}else a(h);u=n(h)}if(u!==null)var ve=!0;else{var se=n(i);se!==null&&Ne(T,se.startTime-Ee),ve=!1}return ve}finally{u=null,f=Fe,m=!1}}var C=!1,D=null,_=-1,Z=5,ae=-1;function V(){return!(t.unstable_now()-ae<Z)}function ie(){if(D!==null){var ge=t.unstable_now();ae=ge;var Ee=!0;try{Ee=D(!0,ge)}finally{Ee?U():(C=!1,D=null)}}else C=!1}var U;if(typeof j=="function")U=function(){j(ie)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=ie,U=function(){K.postMessage(null)}}else U=function(){x(ie,0)};function W(ge){D=ge,C||(C=!0,U())}function Ne(ge,Ee){_=x(function(){ge(t.unstable_now())},Ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,W(I))},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ge){switch(f){case 1:case 2:case 3:var Ee=3;break;default:Ee=f}var Fe=f;f=Ee;try{return ge()}finally{f=Fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ge,Ee){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var Fe=f;f=ge;try{return Ee()}finally{f=Fe}},t.unstable_scheduleCallback=function(ge,Ee,Fe){var he=t.unstable_now();switch(typeof Fe=="object"&&Fe!==null?(Fe=Fe.delay,Fe=typeof Fe=="number"&&0<Fe?he+Fe:he):Fe=he,ge){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Fe+le,ge={id:d++,callback:Ee,priorityLevel:ge,startTime:Fe,expirationTime:le,sortIndex:-1},Fe>he?(ge.sortIndex=Fe,r(i,ge),n(h)===null&&ge===n(i)&&(g?(y(_),_=-1):g=!0,Ne(T,Fe-he))):(ge.sortIndex=le,r(h,ge),v||m||(v=!0,W(I))),ge},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ge){var Ee=f;return function(){var Fe=f;f=Ee;try{return ge.apply(this,arguments)}finally{f=Fe}}}})(w1)),w1}var GC;function e6(){return GC||(GC=1,j1.exports=ZO()),j1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function t6(){if(qC)return $c;qC=1;var t=Ew(),r=e6();function n(A){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+A,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+A+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function o(A,p){c(A,p),c(A+"Capture",p)}function c(A,p){for(s[A]=p,A=0;A<p.length;A++)a.add(p[A])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},u={};function f(A){return h.call(u,A)?!0:h.call(d,A)?!1:i.test(A)?u[A]=!0:(d[A]=!0,!1)}function m(A,p,b,$){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return $?!1:b!==null?!b.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function v(A,p,b,$){if(p===null||typeof p>"u"||m(A,p,b,$))return!0;if($)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function g(A,p,b,$,Ae,Se,$e){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=$,this.attributeNamespace=Ae,this.mustUseProperty=b,this.propertyName=A,this.type=p,this.sanitizeURL=Se,this.removeEmptyString=$e}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){x[A]=new g(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var p=A[0];x[p]=new g(p,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){x[A]=new g(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){x[A]=new g(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){x[A]=new g(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){x[A]=new g(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){x[A]=new g(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){x[A]=new g(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){x[A]=new g(A,5,!1,A.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function j(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var p=A.replace(y,j);x[p]=new g(p,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var p=A.replace(y,j);x[p]=new g(p,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var p=A.replace(y,j);x[p]=new g(p,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){x[A]=new g(A,1,!1,A.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){x[A]=new g(A,1,!1,A.toLowerCase(),null,!0,!0)});function N(A,p,b,$){var Ae=x.hasOwnProperty(p)?x[p]:null;(Ae!==null?Ae.type!==0:$||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(v(p,b,Ae,$)&&(b=null),$||Ae===null?f(p)&&(b===null?A.removeAttribute(p):A.setAttribute(p,""+b)):Ae.mustUseProperty?A[Ae.propertyName]=b===null?Ae.type===3?!1:"":b:(p=Ae.attributeName,$=Ae.attributeNamespace,b===null?A.removeAttribute(p):(Ae=Ae.type,b=Ae===3||Ae===4&&b===!0?"":""+b,$?A.setAttributeNS($,p,b):A.setAttribute(p,b))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),V=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Ee(A){return A===null||typeof A!="object"?null:(A=ge&&A[ge]||A["@@iterator"],typeof A=="function"?A:null)}var Fe=Object.assign,he;function le(A){if(he===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);he=p&&p[1]||""}return`
`+he+A}var ve=!1;function se(A,p){if(!A||ve)return"";ve=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ur){var $=ur}Reflect.construct(A,[],p)}else{try{p.call()}catch(ur){$=ur}A.call(p.prototype)}else{try{throw Error()}catch(ur){$=ur}A()}}catch(ur){if(ur&&$&&typeof ur.stack=="string"){for(var Ae=ur.stack.split(`
`),Se=$.stack.split(`
`),$e=Ae.length-1,bt=Se.length-1;1<=$e&&0<=bt&&Ae[$e]!==Se[bt];)bt--;for(;1<=$e&&0<=bt;$e--,bt--)if(Ae[$e]!==Se[bt]){if($e!==1||bt!==1)do if($e--,bt--,0>bt||Ae[$e]!==Se[bt]){var Dt=`
`+Ae[$e].replace(" at new "," at ");return A.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",A.displayName)),Dt}while(1<=$e&&0<=bt);break}}}finally{ve=!1,Error.prepareStackTrace=b}return(A=A?A.displayName||A.name:"")?le(A):""}function re(A){switch(A.tag){case 5:return le(A.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return A=se(A.type,!1),A;case 11:return A=se(A.type.render,!1),A;case 1:return A=se(A.type,!0),A;default:return""}}function Ie(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case D:return"Fragment";case C:return"Portal";case Z:return"Profiler";case _:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case V:return(A.displayName||"Context")+".Consumer";case ae:return(A._context.displayName||"Context")+".Provider";case ie:var p=A.render;return A=A.displayName,A||(A=p.displayName||p.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case K:return p=A.displayName||null,p!==null?p:Ie(A.type)||"Memo";case W:p=A._payload,A=A._init;try{return Ie(A(p))}catch{}}return null}function Te(A){var p=A.type;switch(A.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=p.render,A=A.displayName||A.name||"",p.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(p);case 8:return p===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function xe(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function pe(A){var p=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function X(A){var p=pe(A)?"checked":"value",b=Object.getOwnPropertyDescriptor(A.constructor.prototype,p),$=""+A[p];if(!A.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var Ae=b.get,Se=b.set;return Object.defineProperty(A,p,{configurable:!0,get:function(){return Ae.call(this)},set:function($e){$=""+$e,Se.call(this,$e)}}),Object.defineProperty(A,p,{enumerable:b.enumerable}),{getValue:function(){return $},setValue:function($e){$=""+$e},stopTracking:function(){A._valueTracker=null,delete A[p]}}}}function fe(A){A._valueTracker||(A._valueTracker=X(A))}function oe(A){if(!A)return!1;var p=A._valueTracker;if(!p)return!0;var b=p.getValue(),$="";return A&&($=pe(A)?A.checked?"true":"false":A.value),A=$,A!==b?(p.setValue(A),!0):!1}function We(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function Ue(A,p){var b=p.checked;return Fe({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??A._wrapperState.initialChecked})}function ue(A,p){var b=p.defaultValue==null?"":p.defaultValue,$=p.checked!=null?p.checked:p.defaultChecked;b=xe(p.value!=null?p.value:b),A._wrapperState={initialChecked:$,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function be(A,p){p=p.checked,p!=null&&N(A,"checked",p,!1)}function Le(A,p){be(A,p);var b=xe(p.value),$=p.type;if(b!=null)$==="number"?(b===0&&A.value===""||A.value!=b)&&(A.value=""+b):A.value!==""+b&&(A.value=""+b);else if($==="submit"||$==="reset"){A.removeAttribute("value");return}p.hasOwnProperty("value")?Tt(A,p.type,b):p.hasOwnProperty("defaultValue")&&Tt(A,p.type,xe(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(A.defaultChecked=!!p.defaultChecked)}function ot(A,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var $=p.type;if(!($!=="submit"&&$!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+A._wrapperState.initialValue,b||p===A.value||(A.value=p),A.defaultValue=p}b=A.name,b!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,b!==""&&(A.name=b)}function Tt(A,p,b){(p!=="number"||We(A.ownerDocument)!==A)&&(b==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+b&&(A.defaultValue=""+b))}var Mt=Array.isArray;function Nt(A,p,b,$){if(A=A.options,p){p={};for(var Ae=0;Ae<b.length;Ae++)p["$"+b[Ae]]=!0;for(b=0;b<A.length;b++)Ae=p.hasOwnProperty("$"+A[b].value),A[b].selected!==Ae&&(A[b].selected=Ae),Ae&&$&&(A[b].defaultSelected=!0)}else{for(b=""+xe(b),p=null,Ae=0;Ae<A.length;Ae++){if(A[Ae].value===b){A[Ae].selected=!0,$&&(A[Ae].defaultSelected=!0);return}p!==null||A[Ae].disabled||(p=A[Ae])}p!==null&&(p.selected=!0)}}function qt(A,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return Fe({},p,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function Ir(A,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(n(92));if(Mt(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),b=p}A._wrapperState={initialValue:xe(b)}}function fr(A,p){var b=xe(p.value),$=xe(p.defaultValue);b!=null&&(b=""+b,b!==A.value&&(A.value=b),p.defaultValue==null&&A.defaultValue!==b&&(A.defaultValue=b)),$!=null&&(A.defaultValue=""+$)}function He(A){var p=A.textContent;p===A._wrapperState.initialValue&&p!==""&&p!==null&&(A.value=p)}function Yt(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(A,p){return A==null||A==="http://www.w3.org/1999/xhtml"?Yt(p):A==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var Qr,hr=(function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,$,Ae){MSApp.execUnsafeLocalFunction(function(){return A(p,b,$,Ae)})}:A})(function(A,p){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=p;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Qr.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;p.firstChild;)A.appendChild(p.firstChild)}});function nn(A,p){if(p){var b=A.firstChild;if(b&&b===A.lastChild&&b.nodeType===3){b.nodeValue=p;return}}A.textContent=p}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(A){Vr.forEach(function(p){p=p+A.charAt(0).toUpperCase()+A.substring(1),Gr[p]=Gr[A]})});function Sr(A,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||Gr.hasOwnProperty(A)&&Gr[A]?(""+p).trim():p+"px"}function cr(A,p){A=A.style;for(var b in p)if(p.hasOwnProperty(b)){var $=b.indexOf("--")===0,Ae=Sr(b,p[b],$);b==="float"&&(b="cssFloat"),$?A.setProperty(b,Ae):A[b]=Ae}}var wr=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hr(A,p){if(p){if(wr[A]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,A));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Wr(A,p){if(A.indexOf("-")===-1)return typeof p.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=null;function Rr(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Rn=null,Dr=null,Pr=null;function gn(A){if(A=Rc(A)){if(typeof Rn!="function")throw Error(n(280));var p=A.stateNode;p&&(p=Nd(p),Rn(A.stateNode,A.type,p))}}function sn(A){Dr?Pr?Pr.push(A):Pr=[A]:Dr=A}function yt(){if(Dr){var A=Dr,p=Pr;if(Pr=Dr=null,gn(A),p)for(A=0;A<p.length;A++)gn(p[A])}}function Nr(A,p){return A(p)}function ln(){}var Fn=!1;function Kr(A,p,b){if(Fn)return A(p,b);Fn=!0;try{return Nr(A,p,b)}finally{Fn=!1,(Dr!==null||Pr!==null)&&(ln(),yt())}}function Dn(A,p){var b=A.stateNode;if(b===null)return null;var $=Nd(b);if($===null)return null;b=$[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(A=A.type,$=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!$;break e;default:A=!1}if(A)return null;if(b&&typeof b!="function")throw Error(n(231,p,typeof b));return b}var _r=!1;if(l)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{_r=!1}function qs(A,p,b,$,Ae,Se,$e,bt,Dt){var ur=Array.prototype.slice.call(arguments,3);try{p.apply(b,ur)}catch(zr){this.onError(zr)}}var vn=!1,ui=null,ps=!1,us=null,Ts={onError:function(A){vn=!0,ui=A}};function vs(A,p,b,$,Ae,Se,$e,bt,Dt){vn=!1,ui=null,qs.apply(Ts,arguments)}function Ai(A,p,b,$,Ae,Se,$e,bt,Dt){if(vs.apply(this,arguments),vn){if(vn){var ur=ui;vn=!1,ui=null}else throw Error(n(198));ps||(ps=!0,us=ur)}}function Ga(A){var p=A,b=A;if(A.alternate)for(;p.return;)p=p.return;else{A=p;do p=A,(p.flags&4098)!==0&&(b=p.return),A=p.return;while(A)}return p.tag===3?b:null}function Ii(A){if(A.tag===13){var p=A.memoizedState;if(p===null&&(A=A.alternate,A!==null&&(p=A.memoizedState)),p!==null)return p.dehydrated}return null}function Ma(A){if(Ga(A)!==A)throw Error(n(188))}function Rl(A){var p=A.alternate;if(!p){if(p=Ga(A),p===null)throw Error(n(188));return p!==A?null:A}for(var b=A,$=p;;){var Ae=b.return;if(Ae===null)break;var Se=Ae.alternate;if(Se===null){if($=Ae.return,$!==null){b=$;continue}break}if(Ae.child===Se.child){for(Se=Ae.child;Se;){if(Se===b)return Ma(Ae),A;if(Se===$)return Ma(Ae),p;Se=Se.sibling}throw Error(n(188))}if(b.return!==$.return)b=Ae,$=Se;else{for(var $e=!1,bt=Ae.child;bt;){if(bt===b){$e=!0,b=Ae,$=Se;break}if(bt===$){$e=!0,$=Ae,b=Se;break}bt=bt.sibling}if(!$e){for(bt=Se.child;bt;){if(bt===b){$e=!0,b=Se,$=Ae;break}if(bt===$){$e=!0,$=Se,b=Ae;break}bt=bt.sibling}if(!$e)throw Error(n(189))}}if(b.alternate!==$)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?A:p}function ri(A){return A=Rl(A),A!==null?Zo(A):null}function Zo(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var p=Zo(A);if(p!==null)return p;A=A.sibling}return null}var Ql=r.unstable_scheduleCallback,el=r.unstable_cancelCallback,Fs=r.unstable_shouldYield,Gi=r.unstable_requestPaint,oa=r.unstable_now,vl=r.unstable_getCurrentPriorityLevel,qa=r.unstable_ImmediatePriority,ao=r.unstable_UserBlockingPriority,ki=r.unstable_NormalPriority,so=r.unstable_LowPriority,ko=r.unstable_IdlePriority,io=null,ji=null;function ms(A){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(io,A,void 0,(A.current.flags&128)===128)}catch{}}var Xa=Math.clz32?Math.clz32:ec,Ho=Math.log,oo=Math.LN2;function ec(A){return A>>>=0,A===0?32:31-(Ho(A)/oo|0)|0}var Xs=64,zn=4194304;function Ps(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function ni(A,p){var b=A.pendingLanes;if(b===0)return 0;var $=0,Ae=A.suspendedLanes,Se=A.pingedLanes,$e=b&268435455;if($e!==0){var bt=$e&~Ae;bt!==0?$=Ps(bt):(Se&=$e,Se!==0&&($=Ps(Se)))}else $e=b&~Ae,$e!==0?$=Ps($e):Se!==0&&($=Ps(Se));if($===0)return 0;if(p!==0&&p!==$&&(p&Ae)===0&&(Ae=$&-$,Se=p&-p,Ae>=Se||Ae===16&&(Se&4194240)!==0))return p;if(($&4)!==0&&($|=b&16),p=A.entangledLanes,p!==0)for(A=A.entanglements,p&=$;0<p;)b=31-Xa(p),Ae=1<<b,$|=A[b],p&=~Ae;return $}function ai(A,p){switch(A){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(A,p){for(var b=A.suspendedLanes,$=A.pingedLanes,Ae=A.expirationTimes,Se=A.pendingLanes;0<Se;){var $e=31-Xa(Se),bt=1<<$e,Dt=Ae[$e];Dt===-1?((bt&b)===0||(bt&$)!==0)&&(Ae[$e]=ai(bt,p)):Dt<=p&&(A.expiredLanes|=bt),Se&=~bt}}function Ss(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function Ri(){var A=Xs;return Xs<<=1,(Xs&4194240)===0&&(Xs=64),A}function Rs(A){for(var p=[],b=0;31>b;b++)p.push(A);return p}function Cs(A,p,b){A.pendingLanes|=p,p!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,p=31-Xa(p),A[p]=b}function qi(A,p){var b=A.pendingLanes&~p;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=p,A.mutableReadLanes&=p,A.entangledLanes&=p,p=A.entanglements;var $=A.eventTimes;for(A=A.expirationTimes;0<b;){var Ae=31-Xa(b),Se=1<<Ae;p[Ae]=0,$[Ae]=-1,A[Ae]=-1,b&=~Se}}function co(A,p){var b=A.entangledLanes|=p;for(A=A.entanglements;b;){var $=31-Xa(b),Ae=1<<$;Ae&p|A[$]&p&&(A[$]|=p),b&=~Ae}}var da=0;function Os(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var si,Ti,pi,uo,Ut,Q=!1,ne=[],ce=null,O=null,H=null,ee=new Map,Ce=new Map,Oe=[],Ge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function at(A,p){switch(A){case"focusin":case"focusout":ce=null;break;case"dragenter":case"dragleave":O=null;break;case"mouseover":case"mouseout":H=null;break;case"pointerover":case"pointerout":ee.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ce.delete(p.pointerId)}}function S(A,p,b,$,Ae,Se){return A===null||A.nativeEvent!==Se?(A={blockedOn:p,domEventName:b,eventSystemFlags:$,nativeEvent:Se,targetContainers:[Ae]},p!==null&&(p=Rc(p),p!==null&&Ti(p)),A):(A.eventSystemFlags|=$,p=A.targetContainers,Ae!==null&&p.indexOf(Ae)===-1&&p.push(Ae),A)}function w(A,p,b,$,Ae){switch(p){case"focusin":return ce=S(ce,A,p,b,$,Ae),!0;case"dragenter":return O=S(O,A,p,b,$,Ae),!0;case"mouseover":return H=S(H,A,p,b,$,Ae),!0;case"pointerover":var Se=Ae.pointerId;return ee.set(Se,S(ee.get(Se)||null,A,p,b,$,Ae)),!0;case"gotpointercapture":return Se=Ae.pointerId,Ce.set(Se,S(Ce.get(Se)||null,A,p,b,$,Ae)),!0}return!1}function P(A){var p=wo(A.target);if(p!==null){var b=Ga(p);if(b!==null){if(p=b.tag,p===13){if(p=Ii(b),p!==null){A.blockedOn=p,Ut(A.priority,function(){pi(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){A.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}A.blockedOn=null}function z(A){if(A.blockedOn!==null)return!1;for(var p=A.targetContainers;0<p.length;){var b=gt(A.domEventName,A.eventSystemFlags,p[0],A.nativeEvent);if(b===null){b=A.nativeEvent;var $=new b.constructor(b.type,b);hn=$,b.target.dispatchEvent($),hn=null}else return p=Rc(b),p!==null&&Ti(p),A.blockedOn=b,!1;p.shift()}return!0}function Y(A,p,b){z(A)&&b.delete(p)}function te(){Q=!1,ce!==null&&z(ce)&&(ce=null),O!==null&&z(O)&&(O=null),H!==null&&z(H)&&(H=null),ee.forEach(Y),Ce.forEach(Y)}function Be(A,p){A.blockedOn===p&&(A.blockedOn=null,Q||(Q=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,te)))}function me(A){function p(Ae){return Be(Ae,A)}if(0<ne.length){Be(ne[0],A);for(var b=1;b<ne.length;b++){var $=ne[b];$.blockedOn===A&&($.blockedOn=null)}}for(ce!==null&&Be(ce,A),O!==null&&Be(O,A),H!==null&&Be(H,A),ee.forEach(p),Ce.forEach(p),b=0;b<Oe.length;b++)$=Oe[b],$.blockedOn===A&&($.blockedOn=null);for(;0<Oe.length&&(b=Oe[0],b.blockedOn===null);)P(b),b.blockedOn===null&&Oe.shift()}var ye=T.ReactCurrentBatchConfig,De=!0;function ze(A,p,b,$){var Ae=da,Se=ye.transition;ye.transition=null;try{da=1,st(A,p,b,$)}finally{da=Ae,ye.transition=Se}}function Ze(A,p,b,$){var Ae=da,Se=ye.transition;ye.transition=null;try{da=4,st(A,p,b,$)}finally{da=Ae,ye.transition=Se}}function st(A,p,b,$){if(De){var Ae=gt(A,p,b,$);if(Ae===null)vc(A,p,$,Pe,b),at(A,$);else if(w(Ae,A,p,b,$))$.stopPropagation();else if(at(A,$),p&4&&-1<Ge.indexOf(A)){for(;Ae!==null;){var Se=Rc(Ae);if(Se!==null&&si(Se),Se=gt(A,p,b,$),Se===null&&vc(A,p,$,Pe,b),Se===Ae)break;Ae=Se}Ae!==null&&$.stopPropagation()}else vc(A,p,$,null,b)}}var Pe=null;function gt(A,p,b,$){if(Pe=null,A=Rr($),A=wo(A),A!==null)if(p=Ga(A),p===null)A=null;else if(b=p.tag,b===13){if(A=Ii(p),A!==null)return A;A=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;A=null}else p!==A&&(A=null);return Pe=A,null}function pt(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vl()){case qa:return 1;case ao:return 4;case ki:case so:return 16;case ko:return 536870912;default:return 16}default:return 16}}var xt=null,rt=null,Ft=null;function Vt(){if(Ft)return Ft;var A,p=rt,b=p.length,$,Ae="value"in xt?xt.value:xt.textContent,Se=Ae.length;for(A=0;A<b&&p[A]===Ae[A];A++);var $e=b-A;for($=1;$<=$e&&p[b-$]===Ae[Se-$];$++);return Ft=Ae.slice(A,1<$?1-$:void 0)}function Bt(A){var p=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&p===13&&(A=13)):A=p,A===10&&(A=13),32<=A||A===13?A:0}function et(){return!0}function Qt(){return!1}function or(A){function p(b,$,Ae,Se,$e){this._reactName=b,this._targetInst=Ae,this.type=$,this.nativeEvent=Se,this.target=$e,this.currentTarget=null;for(var bt in A)A.hasOwnProperty(bt)&&(b=A[bt],this[bt]=b?b(Se):Se[bt]);return this.isDefaultPrevented=(Se.defaultPrevented!=null?Se.defaultPrevented:Se.returnValue===!1)?et:Qt,this.isPropagationStopped=Qt,this}return Fe(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=et)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=et)},persist:function(){},isPersistent:et}),p}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},It=or(Gt),ir=Fe({},Gt,{view:0,detail:0}),nt=or(ir),ut,St,Et,lr=Fe({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Et&&(Et&&A.type==="mousemove"?(ut=A.screenX-Et.screenX,St=A.screenY-Et.screenY):St=ut=0,Et=A),ut)},movementY:function(A){return"movementY"in A?A.movementY:St}}),Ar=or(lr),vr=Fe({},lr,{dataTransfer:0}),Jt=or(vr),mr=Fe({},ir,{relatedTarget:0}),qr=or(mr),Lr=Fe({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ye=or(Lr),vt=Fe({},Gt,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),jt=or(vt),Ht=Fe({},Gt,{data:0}),zt=or(Ht),rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(A){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(A):(A=gr[A])?!!p[A]:!1}function Xr(){return Tr}var xn=Fe({},ir,{key:function(A){if(A.key){var p=rr[A.key]||A.key;if(p!=="Unidentified")return p}return A.type==="keypress"?(A=Bt(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?pr[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(A){return A.type==="keypress"?Bt(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Bt(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),jn=or(xn),aa=Fe({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dt=or(aa),cn=Fe({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),ua=or(cn),on=Fe({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ur=or(on),ra=Fe({},lr,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=or(ra),qn=[9,13,27,32],On=l&&"CompositionEvent"in window,is=null;l&&"documentMode"in document&&(is=document.documentMode);var Fa=l&&"TextEvent"in window&&!is,kn=l&&(!On||is&&8<is&&11>=is),Ja=" ",na=!1;function Bn(A,p){switch(A){case"keyup":return qn.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Sn=!1;function ma(A,p){switch(A){case"compositionend":return sa(p);case"keypress":return p.which!==32?null:(na=!0,Ja);case"textInput":return A=p.data,A===Ja&&na?null:A;default:return null}}function ts(A,p){if(Sn)return A==="compositionend"||!On&&Bn(A,p)?(A=Vt(),Ft=rt=xt=null,Sn=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return kn&&p.locale!=="ko"?null:p.data;default:return null}}var _a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p==="input"?!!_a[A.type]:p==="textarea"}function Hs(A,p,b,$){sn($),p=Yc(p,"onChange"),0<p.length&&(b=new It("onChange","change",null,b,$),A.push({event:b,listeners:p}))}var Wn=null,xs=null;function Aa(A){jl(A,0)}function Hn(A){var p=zo(A);if(oe(p))return A}function ys(A,p){if(A==="change")return p}var ga=!1;if(l){var wn;if(l){var Wa="oninput"in document;if(!Wa){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),Wa=typeof fc.oninput=="function"}wn=Wa}else wn=!1;ga=wn&&(!document.documentMode||9<document.documentMode)}function wi(){Wn&&(Wn.detachEvent("onpropertychange",Xi),xs=Wn=null)}function Xi(A){if(A.propertyName==="value"&&Hn(xs)){var p=[];Hs(p,xs,A,Rr(A)),Kr(Aa,p)}}function Hl(A,p,b){A==="focusin"?(wi(),Wn=p,xs=b,Wn.attachEvent("onpropertychange",Xi)):A==="focusout"&&wi()}function la(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Hn(xs)}function ii(A,p){if(A==="click")return Hn(p)}function Yi(A,p){if(A==="input"||A==="change")return Hn(p)}function tl(A,p){return A===p&&(A!==0||1/A===1/p)||A!==A&&p!==p}var mi=typeof Object.is=="function"?Object.is:tl;function Ns(A,p){if(mi(A,p))return!0;if(typeof A!="object"||A===null||typeof p!="object"||p===null)return!1;var b=Object.keys(A),$=Object.keys(p);if(b.length!==$.length)return!1;for($=0;$<b.length;$++){var Ae=b[$];if(!h.call(p,Ae)||!mi(A[Ae],p[Ae]))return!1}return!0}function hi(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Qi(A,p){var b=hi(A);A=0;for(var $;b;){if(b.nodeType===3){if($=A+b.textContent.length,A<=p&&$>=p)return{node:b,offset:p-A};A=$}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=hi(b)}}function pc(A,p){return A&&p?A===p?!0:A&&A.nodeType===3?!1:p&&p.nodeType===3?pc(A,p.parentNode):"contains"in A?A.contains(p):A.compareDocumentPosition?!!(A.compareDocumentPosition(p)&16):!1:!1}function Fi(){for(var A=window,p=We();p instanceof A.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)A=p.contentWindow;else break;p=We(A.document)}return p}function To(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p&&(p==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||p==="textarea"||A.contentEditable==="true")}function Wl(A){var p=Fi(),b=A.focusedElem,$=A.selectionRange;if(p!==b&&b&&b.ownerDocument&&pc(b.ownerDocument.documentElement,b)){if($!==null&&To(b)){if(p=$.start,A=$.end,A===void 0&&(A=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(A,b.value.length);else if(A=(p=b.ownerDocument||document)&&p.defaultView||window,A.getSelection){A=A.getSelection();var Ae=b.textContent.length,Se=Math.min($.start,Ae);$=$.end===void 0?Se:Math.min($.end,Ae),!A.extend&&Se>$&&(Ae=$,$=Se,Se=Ae),Ae=Qi(b,Se);var $e=Qi(b,$);Ae&&$e&&(A.rangeCount!==1||A.anchorNode!==Ae.node||A.anchorOffset!==Ae.offset||A.focusNode!==$e.node||A.focusOffset!==$e.offset)&&(p=p.createRange(),p.setStart(Ae.node,Ae.offset),A.removeAllRanges(),Se>$?(A.addRange(p),A.extend($e.node,$e.offset)):(p.setEnd($e.node,$e.offset),A.addRange(p)))}}for(p=[],A=b;A=A.parentNode;)A.nodeType===1&&p.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)A=p[b],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var xl=l&&"documentMode"in document&&11>=document.documentMode,Pi=null,Fo=null,rl=null,yo=!1;function Ao(A,p,b){var $=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;yo||Pi==null||Pi!==We($)||($=Pi,"selectionStart"in $&&To($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),rl&&Ns(rl,$)||(rl=$,$=Yc(Fo,"onSelect"),0<$.length&&(p=new It("onSelect","select",null,p,b),A.push({event:p,listeners:$}),p.target=Pi)))}function yl(A,p){var b={};return b[A.toLowerCase()]=p.toLowerCase(),b["Webkit"+A]="webkit"+p,b["Moz"+A]="moz"+p,b}var nl={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},$l={},vd={};l&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function tc(A){if($l[A])return $l[A];if(!nl[A])return A;var p=nl[A],b;for(b in p)if(p.hasOwnProperty(b)&&b in vd)return $l[A]=p[b];return A}var xd=tc("animationend"),mc=tc("animationiteration"),bo=tc("animationstart"),gc=tc("transitionend"),Fc=new Map,Kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function al(A,p){Fc.set(A,p),o(p,[A])}for(var Gc=0;Gc<Kc.length;Gc++){var qc=Kc[Gc],bl=qc.toLowerCase(),Xc=qc[0].toUpperCase()+qc.slice(1);al(bl,"on"+Xc)}al(xd,"onAnimationEnd"),al(mc,"onAnimationIteration"),al(bo,"onAnimationStart"),al("dblclick","onDoubleClick"),al("focusin","onFocus"),al("focusout","onBlur"),al(gc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pc));function yd(A,p,b){var $=A.type||"unknown-event";A.currentTarget=b,Ai($,p,void 0,A),A.currentTarget=null}function jl(A,p){p=(p&4)!==0;for(var b=0;b<A.length;b++){var $=A[b],Ae=$.event;$=$.listeners;e:{var Se=void 0;if(p)for(var $e=$.length-1;0<=$e;$e--){var bt=$[$e],Dt=bt.instance,ur=bt.currentTarget;if(bt=bt.listener,Dt!==Se&&Ae.isPropagationStopped())break e;yd(Ae,bt,ur),Se=Dt}else for($e=0;$e<$.length;$e++){if(bt=$[$e],Dt=bt.instance,ur=bt.currentTarget,bt=bt.listener,Dt!==Se&&Ae.isPropagationStopped())break e;yd(Ae,bt,ur),Se=Dt}}}if(ps)throw A=us,ps=!1,us=null,A}function As(A,p){var b=p[qd];b===void 0&&(b=p[qd]=new Set);var $=A+"__bubble";b.has($)||(zl(p,A,2,!1),b.add($))}function bd(A,p,b){var $=0;p&&($|=4),zl(b,A,$,p)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function fi(A){if(!A[Wo]){A[Wo]=!0,a.forEach(function(b){b!=="selectionchange"&&(fa.has(b)||bd(b,!1,A),bd(b,!0,A))});var p=A.nodeType===9?A:A.ownerDocument;p===null||p[Wo]||(p[Wo]=!0,bd("selectionchange",!1,p))}}function zl(A,p,b,$){switch(pt(p)){case 1:var Ae=ze;break;case 4:Ae=Ze;break;default:Ae=st}b=Ae.bind(null,p,b,A),Ae=void 0,!_r||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(Ae=!0),$?Ae!==void 0?A.addEventListener(p,b,{capture:!0,passive:Ae}):A.addEventListener(p,b,!0):Ae!==void 0?A.addEventListener(p,b,{passive:Ae}):A.addEventListener(p,b,!1)}function vc(A,p,b,$,Ae){var Se=$;if((p&1)===0&&(p&2)===0&&$!==null)e:for(;;){if($===null)return;var $e=$.tag;if($e===3||$e===4){var bt=$.stateNode.containerInfo;if(bt===Ae||bt.nodeType===8&&bt.parentNode===Ae)break;if($e===4)for($e=$.return;$e!==null;){var Dt=$e.tag;if((Dt===3||Dt===4)&&(Dt=$e.stateNode.containerInfo,Dt===Ae||Dt.nodeType===8&&Dt.parentNode===Ae))return;$e=$e.return}for(;bt!==null;){if($e=wo(bt),$e===null)return;if(Dt=$e.tag,Dt===5||Dt===6){$=Se=$e;continue e}bt=bt.parentNode}}$=$.return}Kr(function(){var ur=Se,zr=Rr(b),Yr=[];e:{var $r=Fc.get(A);if($r!==void 0){var Mn=It,Gn=A;switch(A){case"keypress":if(Bt(b)===0)break e;case"keydown":case"keyup":Mn=jn;break;case"focusin":Gn="focus",Mn=qr;break;case"focusout":Gn="blur",Mn=qr;break;case"beforeblur":case"afterblur":Mn=qr;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mn=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mn=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mn=ua;break;case xd:case mc:case bo:Mn=Ye;break;case gc:Mn=Ur;break;case"scroll":Mn=nt;break;case"wheel":Mn=Pn;break;case"copy":case"cut":case"paste":Mn=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mn=dt}var Jn=(p&4)!==0,Ro=!Jn&&A==="scroll",sr=Jn?$r!==null?$r+"Capture":null:$r;Jn=[];for(var $t=ur,dr;$t!==null;){dr=$t;var rn=dr.stateNode;if(dr.tag===5&&rn!==null&&(dr=rn,sr!==null&&(rn=Dn($t,sr),rn!=null&&Jn.push(sl($t,rn,dr)))),Ro)break;$t=$t.return}0<Jn.length&&($r=new Mn($r,Gn,null,b,zr),Yr.push({event:$r,listeners:Jn}))}}if((p&7)===0){e:{if($r=A==="mouseover"||A==="pointerover",Mn=A==="mouseout"||A==="pointerout",$r&&b!==hn&&(Gn=b.relatedTarget||b.fromElement)&&(wo(Gn)||Gn[wl]))break e;if((Mn||$r)&&($r=zr.window===zr?zr:($r=zr.ownerDocument)?$r.defaultView||$r.parentWindow:window,Mn?(Gn=b.relatedTarget||b.toElement,Mn=ur,Gn=Gn?wo(Gn):null,Gn!==null&&(Ro=Ga(Gn),Gn!==Ro||Gn.tag!==5&&Gn.tag!==6)&&(Gn=null)):(Mn=null,Gn=ur),Mn!==Gn)){if(Jn=Ar,rn="onMouseLeave",sr="onMouseEnter",$t="mouse",(A==="pointerout"||A==="pointerover")&&(Jn=dt,rn="onPointerLeave",sr="onPointerEnter",$t="pointer"),Ro=Mn==null?$r:zo(Mn),dr=Gn==null?$r:zo(Gn),$r=new Jn(rn,$t+"leave",Mn,b,zr),$r.target=Ro,$r.relatedTarget=dr,rn=null,wo(zr)===ur&&(Jn=new Jn(sr,$t+"enter",Gn,b,zr),Jn.target=dr,Jn.relatedTarget=Ro,rn=Jn),Ro=rn,Mn&&Gn)t:{for(Jn=Mn,sr=Gn,$t=0,dr=Jn;dr;dr=jo(dr))$t++;for(dr=0,rn=sr;rn;rn=jo(rn))dr++;for(;0<$t-dr;)Jn=jo(Jn),$t--;for(;0<dr-$t;)sr=jo(sr),dr--;for(;$t--;){if(Jn===sr||sr!==null&&Jn===sr.alternate)break t;Jn=jo(Jn),sr=jo(sr)}Jn=null}else Jn=null;Mn!==null&&jd(Yr,$r,Mn,Jn,!1),Gn!==null&&Ro!==null&&jd(Yr,Ro,Gn,Jn,!0)}}e:{if($r=ur?zo(ur):window,Mn=$r.nodeName&&$r.nodeName.toLowerCase(),Mn==="select"||Mn==="input"&&$r.type==="file")var ta=ys;else if(La($r))if(ga)ta=Yi;else{ta=la;var ja=Hl}else(Mn=$r.nodeName)&&Mn.toLowerCase()==="input"&&($r.type==="checkbox"||$r.type==="radio")&&(ta=ii);if(ta&&(ta=ta(A,ur))){Hs(Yr,ta,b,zr);break e}ja&&ja(A,$r,ur),A==="focusout"&&(ja=$r._wrapperState)&&ja.controlled&&$r.type==="number"&&Tt($r,"number",$r.value)}switch(ja=ur?zo(ur):window,A){case"focusin":(La(ja)||ja.contentEditable==="true")&&(Pi=ja,Fo=ur,rl=null);break;case"focusout":rl=Fo=Pi=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,Ao(Yr,b,zr);break;case"selectionchange":if(xl)break;case"keydown":case"keyup":Ao(Yr,b,zr)}var wa;if(On)e:{switch(A){case"compositionstart":var Ra="onCompositionStart";break e;case"compositionend":Ra="onCompositionEnd";break e;case"compositionupdate":Ra="onCompositionUpdate";break e}Ra=void 0}else Sn?Bn(A,b)&&(Ra="onCompositionEnd"):A==="keydown"&&b.keyCode===229&&(Ra="onCompositionStart");Ra&&(kn&&b.locale!=="ko"&&(Sn||Ra!=="onCompositionStart"?Ra==="onCompositionEnd"&&Sn&&(wa=Vt()):(xt=zr,rt="value"in xt?xt.value:xt.textContent,Sn=!0)),ja=Yc(ur,Ra),0<ja.length&&(Ra=new zt(Ra,A,null,b,zr),Yr.push({event:Ra,listeners:ja}),wa?Ra.data=wa:(wa=sa(b),wa!==null&&(Ra.data=wa)))),(wa=Fa?ma(A,b):ts(A,b))&&(ur=Yc(ur,"onBeforeInput"),0<ur.length&&(zr=new zt("onBeforeInput","beforeinput",null,b,zr),Yr.push({event:zr,listeners:ur}),zr.data=wa))}jl(Yr,p)})}function sl(A,p,b){return{instance:A,listener:p,currentTarget:b}}function Yc(A,p){for(var b=p+"Capture",$=[];A!==null;){var Ae=A,Se=Ae.stateNode;Ae.tag===5&&Se!==null&&(Ae=Se,Se=Dn(A,b),Se!=null&&$.unshift(sl(A,Se,Ae)),Se=Dn(A,p),Se!=null&&$.push(sl(A,Se,Ae))),A=A.return}return $}function jo(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function jd(A,p,b,$,Ae){for(var Se=p._reactName,$e=[];b!==null&&b!==$;){var bt=b,Dt=bt.alternate,ur=bt.stateNode;if(Dt!==null&&Dt===$)break;bt.tag===5&&ur!==null&&(bt=ur,Ae?(Dt=Dn(b,Se),Dt!=null&&$e.unshift(sl(b,Dt,bt))):Ae||(Dt=Dn(b,Se),Dt!=null&&$e.push(sl(b,Dt,bt)))),b=b.return}$e.length!==0&&A.push({event:p,listeners:$e})}var Oc=/\r\n?/g,wd=/\u0000|\uFFFD/g;function xc(A){return(typeof A=="string"?A:""+A).replace(Oc,`
`).replace(wd,"")}function Mc(A,p,b){if(p=xc(p),xc(A)!==p&&b)throw Error(n(425))}function Dc(){}var _c=null,Lc=null;function Cd(A,p){return A==="textarea"||A==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Du=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,Gd=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(A){return Uc.resolve(null).then(A).catch(_u)}:il;function _u(A){setTimeout(function(){throw A})}function va(A,p){var b=p,$=0;do{var Ae=b.nextSibling;if(A.removeChild(b),Ae&&Ae.nodeType===8)if(b=Ae.data,b==="/$"){if($===0){A.removeChild(Ae),me(p);return}$--}else b!=="$"&&b!=="$?"&&b!=="$!"||$++;b=Ae}while(b);me(p)}function rc(A){for(;A!=null;A=A.nextSibling){var p=A.nodeType;if(p===1||p===3)break;if(p===8){if(p=A.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return A}function fu(A){A=A.previousSibling;for(var p=0;A;){if(A.nodeType===8){var b=A.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return A;p--}else b==="/$"&&p++}A=A.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),Ji="__reactFiber$"+Vl,ol="__reactProps$"+Vl,wl="__reactContainer$"+Vl,qd="__reactEvents$"+Vl,$o="__reactListeners$"+Vl,Jc="__reactHandles$"+Vl;function wo(A){var p=A[Ji];if(p)return p;for(var b=A.parentNode;b;){if(p=b[wl]||b[Ji]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(A=fu(A);A!==null;){if(b=A[Ji])return b;A=fu(A)}return p}A=b,b=A.parentNode}return null}function Rc(A){return A=A[Ji]||A[wl],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function zo(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(n(33))}function Nd(A){return A[ol]||null}var Kl=[],Cl=-1;function ll(A){return{current:A}}function rs(A){0>Cl||(A.current=Kl[Cl],Kl[Cl]=null,Cl--)}function bs(A,p){Cl++,Kl[Cl]=A.current,A.current=p}var cl={},oi=ll(cl),gi=ll(!1),Gl=cl;function yc(A,p){var b=A.type.contextTypes;if(!b)return cl;var $=A.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===p)return $.__reactInternalMemoizedMaskedChildContext;var Ae={},Se;for(Se in b)Ae[Se]=p[Se];return $&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=p,A.__reactInternalMemoizedMaskedChildContext=Ae),Ae}function ho(A){return A=A.childContextTypes,A!=null}function Nl(){rs(gi),rs(oi)}function nc(A,p,b){if(oi.current!==cl)throw Error(n(168));bs(oi,p),bs(gi,b)}function Xd(A,p,b){var $=A.stateNode;if(p=p.childContextTypes,typeof $.getChildContext!="function")return b;$=$.getChildContext();for(var Ae in $)if(!(Ae in p))throw Error(n(108,Te(A)||"Unknown",Ae));return Fe({},b,$)}function ac(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||cl,Gl=oi.current,bs(oi,A),bs(gi,gi.current),!0}function Yd(A,p,b){var $=A.stateNode;if(!$)throw Error(n(169));b?(A=Xd(A,p,Gl),$.__reactInternalMemoizedMergedChildContext=A,rs(gi),rs(oi),bs(oi,A)):rs(gi),bs(gi,b)}var de=null,Re=!1,mt=!1;function kt(A){de===null?de=[A]:de.push(A)}function Kt(A){Re=!0,kt(A)}function xr(){if(!mt&&de!==null){mt=!0;var A=0,p=da;try{var b=de;for(da=1;A<b.length;A++){var $=b[A];do $=$(!0);while($!==null)}de=null,Re=!1}catch(Ae){throw de!==null&&(de=de.slice(A+1)),Ql(qa,xr),Ae}finally{da=p,mt=!1}}return null}var Fr=[],Cn=0,_n=null,ca=0,Zn=[],Na=0,Bs=null,Es=1,as="";function Ys(A,p){Fr[Cn++]=ca,Fr[Cn++]=_n,_n=A,ca=p}function E(A,p,b){Zn[Na++]=Es,Zn[Na++]=as,Zn[Na++]=Bs,Bs=A;var $=Es;A=as;var Ae=32-Xa($)-1;$&=~(1<<Ae),b+=1;var Se=32-Xa(p)+Ae;if(30<Se){var $e=Ae-Ae%5;Se=($&(1<<$e)-1).toString(32),$>>=$e,Ae-=$e,Es=1<<32-Xa(p)+Ae|b<<Ae|$,as=Se+A}else Es=1<<Se|b<<Ae|$,as=A}function _e(A){A.return!==null&&(Ys(A,1),E(A,1,0))}function J(A){for(;A===_n;)_n=Fr[--Cn],Fr[Cn]=null,ca=Fr[--Cn],Fr[Cn]=null;for(;A===Bs;)Bs=Zn[--Na],Zn[Na]=null,as=Zn[--Na],Zn[Na]=null,Es=Zn[--Na],Zn[Na]=null}var Xe=null,At=null,it=!1,Zt=null;function Wt(A,p){var b=Rt(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=A,p=A.deletions,p===null?(A.deletions=[b],A.flags|=16):p.push(b)}function yn(A,p){switch(A.tag){case 5:var b=A.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(A.stateNode=p,Xe=A,At=rc(p.firstChild),!0):!1;case 6:return p=A.pendingProps===""||p.nodeType!==3?null:p,p!==null?(A.stateNode=p,Xe=A,At=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=Bs!==null?{id:Es,overflow:as}:null,A.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Rt(18,null,null,0),b.stateNode=p,b.return=A,A.child=b,Xe=A,At=null,!0):!1;default:return!1}}function Pt(A){return(A.mode&1)!==0&&(A.flags&128)===0}function ar(A){if(it){var p=At;if(p){var b=p;if(!yn(A,p)){if(Pt(A))throw Error(n(418));p=rc(b.nextSibling);var $=Xe;p&&yn(A,p)?Wt($,b):(A.flags=A.flags&-4097|2,it=!1,Xe=A)}}else{if(Pt(A))throw Error(n(418));A.flags=A.flags&-4097|2,it=!1,Xe=A}}}function ha(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;Xe=A}function dn(A){if(A!==Xe)return!1;if(!it)return ha(A),it=!0,!1;var p;if((p=A.tag!==3)&&!(p=A.tag!==5)&&(p=A.type,p=p!=="head"&&p!=="body"&&!Cd(A.type,A.memoizedProps)),p&&(p=At)){if(Pt(A))throw Or(),Error(n(418));for(;p;)Wt(A,p),p=rc(p.nextSibling)}if(ha(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));e:{for(A=A.nextSibling,p=0;A;){if(A.nodeType===8){var b=A.data;if(b==="/$"){if(p===0){At=rc(A.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}A=A.nextSibling}At=null}}else At=Xe?rc(A.stateNode.nextSibling):null;return!0}function Or(){for(var A=At;A;)A=rc(A.nextSibling)}function yr(){At=Xe=null,it=!1}function Is(A){Zt===null?Zt=[A]:Zt.push(A)}var pa=T.ReactCurrentBatchConfig;function ea(A,p,b){if(A=b.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var $=b.stateNode}if(!$)throw Error(n(147,A));var Ae=$,Se=""+A;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===Se?p.ref:(p=function($e){var bt=Ae.refs;$e===null?delete bt[Se]:bt[Se]=$e},p._stringRef=Se,p)}if(typeof A!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,A))}return A}function xa(A,p){throw A=Object.prototype.toString.call(p),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":A))}function $a(A){var p=A._init;return p(A._payload)}function tn(A){function p(sr,$t){if(A){var dr=sr.deletions;dr===null?(sr.deletions=[$t],sr.flags|=16):dr.push($t)}}function b(sr,$t){if(!A)return null;for(;$t!==null;)p(sr,$t),$t=$t.sibling;return null}function $(sr,$t){for(sr=new Map;$t!==null;)$t.key!==null?sr.set($t.key,$t):sr.set($t.index,$t),$t=$t.sibling;return sr}function Ae(sr,$t){return sr=mn(sr,$t),sr.index=0,sr.sibling=null,sr}function Se(sr,$t,dr){return sr.index=dr,A?(dr=sr.alternate,dr!==null?(dr=dr.index,dr<$t?(sr.flags|=2,$t):dr):(sr.flags|=2,$t)):(sr.flags|=1048576,$t)}function $e(sr){return A&&sr.alternate===null&&(sr.flags|=2),sr}function bt(sr,$t,dr,rn){return $t===null||$t.tag!==6?($t=Kn(dr,sr.mode,rn),$t.return=sr,$t):($t=Ae($t,dr),$t.return=sr,$t)}function Dt(sr,$t,dr,rn){var ta=dr.type;return ta===D?zr(sr,$t,dr.props.children,rn,dr.key):$t!==null&&($t.elementType===ta||typeof ta=="object"&&ta!==null&&ta.$$typeof===W&&$a(ta)===$t.type)?(rn=Ae($t,dr.props),rn.ref=ea(sr,$t,dr),rn.return=sr,rn):(rn=en(dr.type,dr.key,dr.props,null,sr.mode,rn),rn.ref=ea(sr,$t,dr),rn.return=sr,rn)}function ur(sr,$t,dr,rn){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==dr.containerInfo||$t.stateNode.implementation!==dr.implementation?($t=Qn(dr,sr.mode,rn),$t.return=sr,$t):($t=Ae($t,dr.children||[]),$t.return=sr,$t)}function zr(sr,$t,dr,rn,ta){return $t===null||$t.tag!==7?($t=fn(dr,sr.mode,rn,ta),$t.return=sr,$t):($t=Ae($t,dr),$t.return=sr,$t)}function Yr(sr,$t,dr){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Kn(""+$t,sr.mode,dr),$t.return=sr,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case I:return dr=en($t.type,$t.key,$t.props,null,sr.mode,dr),dr.ref=ea(sr,null,$t),dr.return=sr,dr;case C:return $t=Qn($t,sr.mode,dr),$t.return=sr,$t;case W:var rn=$t._init;return Yr(sr,rn($t._payload),dr)}if(Mt($t)||Ee($t))return $t=fn($t,sr.mode,dr,null),$t.return=sr,$t;xa(sr,$t)}return null}function $r(sr,$t,dr,rn){var ta=$t!==null?$t.key:null;if(typeof dr=="string"&&dr!==""||typeof dr=="number")return ta!==null?null:bt(sr,$t,""+dr,rn);if(typeof dr=="object"&&dr!==null){switch(dr.$$typeof){case I:return dr.key===ta?Dt(sr,$t,dr,rn):null;case C:return dr.key===ta?ur(sr,$t,dr,rn):null;case W:return ta=dr._init,$r(sr,$t,ta(dr._payload),rn)}if(Mt(dr)||Ee(dr))return ta!==null?null:zr(sr,$t,dr,rn,null);xa(sr,dr)}return null}function Mn(sr,$t,dr,rn,ta){if(typeof rn=="string"&&rn!==""||typeof rn=="number")return sr=sr.get(dr)||null,bt($t,sr,""+rn,ta);if(typeof rn=="object"&&rn!==null){switch(rn.$$typeof){case I:return sr=sr.get(rn.key===null?dr:rn.key)||null,Dt($t,sr,rn,ta);case C:return sr=sr.get(rn.key===null?dr:rn.key)||null,ur($t,sr,rn,ta);case W:var ja=rn._init;return Mn(sr,$t,dr,ja(rn._payload),ta)}if(Mt(rn)||Ee(rn))return sr=sr.get(dr)||null,zr($t,sr,rn,ta,null);xa($t,rn)}return null}function Gn(sr,$t,dr,rn){for(var ta=null,ja=null,wa=$t,Ra=$t=0,Ml=null;wa!==null&&Ra<dr.length;Ra++){wa.index>Ra?(Ml=wa,wa=null):Ml=wa.sibling;var Vs=$r(sr,wa,dr[Ra],rn);if(Vs===null){wa===null&&(wa=Ml);break}A&&wa&&Vs.alternate===null&&p(sr,wa),$t=Se(Vs,$t,Ra),ja===null?ta=Vs:ja.sibling=Vs,ja=Vs,wa=Ml}if(Ra===dr.length)return b(sr,wa),it&&Ys(sr,Ra),ta;if(wa===null){for(;Ra<dr.length;Ra++)wa=Yr(sr,dr[Ra],rn),wa!==null&&($t=Se(wa,$t,Ra),ja===null?ta=wa:ja.sibling=wa,ja=wa);return it&&Ys(sr,Ra),ta}for(wa=$(sr,wa);Ra<dr.length;Ra++)Ml=Mn(wa,sr,Ra,dr[Ra],rn),Ml!==null&&(A&&Ml.alternate!==null&&wa.delete(Ml.key===null?Ra:Ml.key),$t=Se(Ml,$t,Ra),ja===null?ta=Ml:ja.sibling=Ml,ja=Ml);return A&&wa.forEach(function(UA){return p(sr,UA)}),it&&Ys(sr,Ra),ta}function Jn(sr,$t,dr,rn){var ta=Ee(dr);if(typeof ta!="function")throw Error(n(150));if(dr=ta.call(dr),dr==null)throw Error(n(151));for(var ja=ta=null,wa=$t,Ra=$t=0,Ml=null,Vs=dr.next();wa!==null&&!Vs.done;Ra++,Vs=dr.next()){wa.index>Ra?(Ml=wa,wa=null):Ml=wa.sibling;var UA=$r(sr,wa,Vs.value,rn);if(UA===null){wa===null&&(wa=Ml);break}A&&wa&&UA.alternate===null&&p(sr,wa),$t=Se(UA,$t,Ra),ja===null?ta=UA:ja.sibling=UA,ja=UA,wa=Ml}if(Vs.done)return b(sr,wa),it&&Ys(sr,Ra),ta;if(wa===null){for(;!Vs.done;Ra++,Vs=dr.next())Vs=Yr(sr,Vs.value,rn),Vs!==null&&($t=Se(Vs,$t,Ra),ja===null?ta=Vs:ja.sibling=Vs,ja=Vs);return it&&Ys(sr,Ra),ta}for(wa=$(sr,wa);!Vs.done;Ra++,Vs=dr.next())Vs=Mn(wa,sr,Ra,Vs.value,rn),Vs!==null&&(A&&Vs.alternate!==null&&wa.delete(Vs.key===null?Ra:Vs.key),$t=Se(Vs,$t,Ra),ja===null?ta=Vs:ja.sibling=Vs,ja=Vs);return A&&wa.forEach(function(zO){return p(sr,zO)}),it&&Ys(sr,Ra),ta}function Ro(sr,$t,dr,rn){if(typeof dr=="object"&&dr!==null&&dr.type===D&&dr.key===null&&(dr=dr.props.children),typeof dr=="object"&&dr!==null){switch(dr.$$typeof){case I:e:{for(var ta=dr.key,ja=$t;ja!==null;){if(ja.key===ta){if(ta=dr.type,ta===D){if(ja.tag===7){b(sr,ja.sibling),$t=Ae(ja,dr.props.children),$t.return=sr,sr=$t;break e}}else if(ja.elementType===ta||typeof ta=="object"&&ta!==null&&ta.$$typeof===W&&$a(ta)===ja.type){b(sr,ja.sibling),$t=Ae(ja,dr.props),$t.ref=ea(sr,ja,dr),$t.return=sr,sr=$t;break e}b(sr,ja);break}else p(sr,ja);ja=ja.sibling}dr.type===D?($t=fn(dr.props.children,sr.mode,rn,dr.key),$t.return=sr,sr=$t):(rn=en(dr.type,dr.key,dr.props,null,sr.mode,rn),rn.ref=ea(sr,$t,dr),rn.return=sr,sr=rn)}return $e(sr);case C:e:{for(ja=dr.key;$t!==null;){if($t.key===ja)if($t.tag===4&&$t.stateNode.containerInfo===dr.containerInfo&&$t.stateNode.implementation===dr.implementation){b(sr,$t.sibling),$t=Ae($t,dr.children||[]),$t.return=sr,sr=$t;break e}else{b(sr,$t);break}else p(sr,$t);$t=$t.sibling}$t=Qn(dr,sr.mode,rn),$t.return=sr,sr=$t}return $e(sr);case W:return ja=dr._init,Ro(sr,$t,ja(dr._payload),rn)}if(Mt(dr))return Gn(sr,$t,dr,rn);if(Ee(dr))return Jn(sr,$t,dr,rn);xa(sr,dr)}return typeof dr=="string"&&dr!==""||typeof dr=="number"?(dr=""+dr,$t!==null&&$t.tag===6?(b(sr,$t.sibling),$t=Ae($t,dr),$t.return=sr,sr=$t):(b(sr,$t),$t=Kn(dr,sr.mode,rn),$t.return=sr,sr=$t),$e(sr)):b(sr,$t)}return Ro}var ba=tn(!0),Ws=tn(!1),Xn=ll(null),Za=null,Ba=null,Ln=null;function ia(){Ln=Ba=Za=null}function Zi(A){var p=Xn.current;rs(Xn),A._currentValue=p}function Bl(A,p,b){for(;A!==null;){var $=A.alternate;if((A.childLanes&p)!==p?(A.childLanes|=p,$!==null&&($.childLanes|=p)):$!==null&&($.childLanes&p)!==p&&($.childLanes|=p),A===b)break;A=A.return}}function fo(A,p){Za=A,Ln=Ba=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&p)!==0&&(Al=!0),A.firstContext=null)}function Hi(A){var p=A._currentValue;if(Ln!==A)if(A={context:A,memoizedValue:p,next:null},Ba===null){if(Za===null)throw Error(n(308));Ba=A,Za.dependencies={lanes:0,firstContext:A}}else Ba=Ba.next=A;return p}var Sl=null;function Ci(A){Sl===null?Sl=[A]:Sl.push(A)}function Lu(A,p,b,$){var Ae=p.interleaved;return Ae===null?(b.next=b,Ci(p)):(b.next=Ae.next,Ae.next=b),p.interleaved=b,Co(A,$)}function Co(A,p){A.lanes|=p;var b=A.alternate;for(b!==null&&(b.lanes|=p),b=A,A=A.return;A!==null;)A.childLanes|=p,b=A.alternate,b!==null&&(b.childLanes|=p),b=A,A=A.return;return b.tag===3?b.stateNode:null}var Po=!1;function Jd(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pu(A,p){A=A.updateQueue,p.updateQueue===A&&(p.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function ql(A,p){return{eventTime:A,lane:p,tag:0,payload:null,callback:null,next:null}}function sc(A,p,b){var $=A.updateQueue;if($===null)return null;if($=$.shared,(Vn&2)!==0){var Ae=$.pending;return Ae===null?p.next=p:(p.next=Ae.next,Ae.next=p),$.pending=p,Co(A,b)}return Ae=$.interleaved,Ae===null?(p.next=p,Ci($)):(p.next=Ae.next,Ae.next=p),$.interleaved=p,Co(A,b)}function ic(A,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var $=p.lanes;$&=A.pendingLanes,b|=$,p.lanes=b,co(A,b)}}function Zc(A,p){var b=A.updateQueue,$=A.alternate;if($!==null&&($=$.updateQueue,b===$)){var Ae=null,Se=null;if(b=b.firstBaseUpdate,b!==null){do{var $e={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};Se===null?Ae=Se=$e:Se=Se.next=$e,b=b.next}while(b!==null);Se===null?Ae=Se=p:Se=Se.next=p}else Ae=Se=p;b={baseState:$.baseState,firstBaseUpdate:Ae,lastBaseUpdate:Se,shared:$.shared,effects:$.effects},A.updateQueue=b;return}A=b.lastBaseUpdate,A===null?b.firstBaseUpdate=p:A.next=p,b.lastBaseUpdate=p}function bc(A,p,b,$){var Ae=A.updateQueue;Po=!1;var Se=Ae.firstBaseUpdate,$e=Ae.lastBaseUpdate,bt=Ae.shared.pending;if(bt!==null){Ae.shared.pending=null;var Dt=bt,ur=Dt.next;Dt.next=null,$e===null?Se=ur:$e.next=ur,$e=Dt;var zr=A.alternate;zr!==null&&(zr=zr.updateQueue,bt=zr.lastBaseUpdate,bt!==$e&&(bt===null?zr.firstBaseUpdate=ur:bt.next=ur,zr.lastBaseUpdate=Dt))}if(Se!==null){var Yr=Ae.baseState;$e=0,zr=ur=Dt=null,bt=Se;do{var $r=bt.lane,Mn=bt.eventTime;if(($&$r)===$r){zr!==null&&(zr=zr.next={eventTime:Mn,lane:0,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null});e:{var Gn=A,Jn=bt;switch($r=p,Mn=b,Jn.tag){case 1:if(Gn=Jn.payload,typeof Gn=="function"){Yr=Gn.call(Mn,Yr,$r);break e}Yr=Gn;break e;case 3:Gn.flags=Gn.flags&-65537|128;case 0:if(Gn=Jn.payload,$r=typeof Gn=="function"?Gn.call(Mn,Yr,$r):Gn,$r==null)break e;Yr=Fe({},Yr,$r);break e;case 2:Po=!0}}bt.callback!==null&&bt.lane!==0&&(A.flags|=64,$r=Ae.effects,$r===null?Ae.effects=[bt]:$r.push(bt))}else Mn={eventTime:Mn,lane:$r,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null},zr===null?(ur=zr=Mn,Dt=Yr):zr=zr.next=Mn,$e|=$r;if(bt=bt.next,bt===null){if(bt=Ae.shared.pending,bt===null)break;$r=bt,bt=$r.next,$r.next=null,Ae.lastBaseUpdate=$r,Ae.shared.pending=null}}while(!0);if(zr===null&&(Dt=Yr),Ae.baseState=Dt,Ae.firstBaseUpdate=ur,Ae.lastBaseUpdate=zr,p=Ae.shared.interleaved,p!==null){Ae=p;do $e|=Ae.lane,Ae=Ae.next;while(Ae!==p)}else Se===null&&(Ae.shared.lanes=0);Hc|=$e,A.lanes=$e,A.memoizedState=Yr}}function Bd(A,p,b){if(A=p.effects,p.effects=null,A!==null)for(p=0;p<A.length;p++){var $=A[p],Ae=$.callback;if(Ae!==null){if($.callback=null,$=b,typeof Ae!="function")throw Error(n(191,Ae));Ae.call($)}}}var Xl={},Vo=ll(Xl),po=ll(Xl),El=ll(Xl);function ns(A){if(A===Xl)throw Error(n(174));return A}function ks(A,p){switch(bs(El,p),bs(po,A),bs(Vo,Xl),A=p.nodeType,A){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Ct(null,"");break;default:A=A===8?p.parentNode:p,p=A.namespaceURI||null,A=A.tagName,p=Ct(p,A)}rs(Vo),bs(Vo,p)}function Js(){rs(Vo),rs(po),rs(El)}function Wi(A){ns(El.current);var p=ns(Vo.current),b=Ct(p,A.type);p!==b&&(bs(po,A),bs(Vo,b))}function jc(A){po.current===A&&(rs(Vo),rs(po))}var $s=ll(0);function wc(A){for(var p=A;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Sd=[];function Uu(){for(var A=0;A<Sd.length;A++)Sd[A]._workInProgressVersionPrimary=null;Sd.length=0}var mu=T.ReactCurrentDispatcher,Ru=T.ReactCurrentBatchConfig,ed=0,li=null,eo=null,Oi=null,Qu=!1,Oo=!1,Ed=0,of=0;function Mo(){throw Error(n(321))}function vA(A,p){if(p===null)return!1;for(var b=0;b<p.length&&b<A.length;b++)if(!mi(A[b],p[b]))return!1;return!0}function xA(A,p,b,$,Ae,Se){if(ed=Se,li=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,mu.current=A===null||A.memoizedState===null?Cc:uf,A=b($,Ae),Oo){Se=0;do{if(Oo=!1,Ed=0,25<=Se)throw Error(n(301));Se+=1,Oi=eo=null,p.updateQueue=null,mu.current=uh,A=b($,Ae)}while(Oo)}if(mu.current=ul,p=eo!==null&&eo.next!==null,ed=0,Oi=eo=li=null,Qu=!1,p)throw Error(n(300));return A}function yA(){var A=Ed!==0;return Ed=0,A}function oc(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?li.memoizedState=Oi=A:Oi=Oi.next=A,Oi}function dl(){if(eo===null){var A=li.alternate;A=A!==null?A.memoizedState:null}else A=eo.next;var p=Oi===null?li.memoizedState:Oi.next;if(p!==null)Oi=p,eo=A;else{if(A===null)throw Error(n(310));eo=A,A={memoizedState:eo.memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},Oi===null?li.memoizedState=Oi=A:Oi=Oi.next=A}return Oi}function Do(A,p){return typeof p=="function"?p(A):p}function Il(A){var p=dl(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=A;var $=eo,Ae=$.baseQueue,Se=b.pending;if(Se!==null){if(Ae!==null){var $e=Ae.next;Ae.next=Se.next,Se.next=$e}$.baseQueue=Ae=Se,b.pending=null}if(Ae!==null){Se=Ae.next,$=$.baseState;var bt=$e=null,Dt=null,ur=Se;do{var zr=ur.lane;if((ed&zr)===zr)Dt!==null&&(Dt=Dt.next={lane:0,action:ur.action,hasEagerState:ur.hasEagerState,eagerState:ur.eagerState,next:null}),$=ur.hasEagerState?ur.eagerState:A($,ur.action);else{var Yr={lane:zr,action:ur.action,hasEagerState:ur.hasEagerState,eagerState:ur.eagerState,next:null};Dt===null?(bt=Dt=Yr,$e=$):Dt=Dt.next=Yr,li.lanes|=zr,Hc|=zr}ur=ur.next}while(ur!==null&&ur!==Se);Dt===null?$e=$:Dt.next=bt,mi($,p.memoizedState)||(Al=!0),p.memoizedState=$,p.baseState=$e,p.baseQueue=Dt,b.lastRenderedState=$}if(A=b.interleaved,A!==null){Ae=A;do Se=Ae.lane,li.lanes|=Se,Hc|=Se,Ae=Ae.next;while(Ae!==A)}else Ae===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function Zd(A){var p=dl(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=A;var $=b.dispatch,Ae=b.pending,Se=p.memoizedState;if(Ae!==null){b.pending=null;var $e=Ae=Ae.next;do Se=A(Se,$e.action),$e=$e.next;while($e!==Ae);mi(Se,p.memoizedState)||(Al=!0),p.memoizedState=Se,p.baseQueue===null&&(p.baseState=Se),b.lastRenderedState=Se}return[Se,$]}function Hu(){}function Wu(A,p){var b=li,$=dl(),Ae=p(),Se=!mi($.memoizedState,Ae);if(Se&&($.memoizedState=Ae,Al=!0),$=$.queue,lh(Id.bind(null,b,$,A),[A]),$.getSnapshot!==p||Se||Oi!==null&&Oi.memoizedState.tag&1){if(b.flags|=2048,Qc(9,$i.bind(null,b,$,Ae,p),void 0,null),_s===null)throw Error(n(349));(ed&30)!==0||gu(b,p,Ae)}return Ae}function gu(A,p,b){A.flags|=16384,A={getSnapshot:p,value:b},p=li.updateQueue,p===null?(p={lastEffect:null,stores:null},li.updateQueue=p,p.stores=[A]):(b=p.stores,b===null?p.stores=[A]:b.push(A))}function $i(A,p,b,$){p.value=b,p.getSnapshot=$,ih(p)&&bA(A)}function Id(A,p,b){return b(function(){ih(p)&&bA(A)})}function ih(A){var p=A.getSnapshot;A=A.value;try{var b=p();return!mi(A,b)}catch{return!0}}function bA(A){var p=Co(A,1);p!==null&&Xo(p,A,1,-1)}function $u(A){var p=oc();return typeof A=="function"&&(A=A()),p.memoizedState=p.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:A},p.queue=A,A=A.dispatch=vp.bind(null,li,A),[p.memoizedState,A]}function Qc(A,p,b,$){return A={tag:A,create:p,destroy:b,deps:$,next:null},p=li.updateQueue,p===null?(p={lastEffect:null,stores:null},li.updateQueue=p,p.lastEffect=A.next=A):(b=p.lastEffect,b===null?p.lastEffect=A.next=A:($=b.next,b.next=A,A.next=$,p.lastEffect=A)),A}function jA(){return dl().memoizedState}function wA(A,p,b,$){var Ae=oc();li.flags|=A,Ae.memoizedState=Qc(1|p,b,void 0,$===void 0?null:$)}function CA(A,p,b,$){var Ae=dl();$=$===void 0?null:$;var Se=void 0;if(eo!==null){var $e=eo.memoizedState;if(Se=$e.destroy,$!==null&&vA($,$e.deps)){Ae.memoizedState=Qc(p,b,Se,$);return}}li.flags|=A,Ae.memoizedState=Qc(1|p,b,Se,$)}function oh(A,p){return wA(8390656,8,A,p)}function lh(A,p){return CA(2048,8,A,p)}function lf(A,p){return CA(4,2,A,p)}function cf(A,p){return CA(4,4,A,p)}function df(A,p){if(typeof p=="function")return A=A(),p(A),function(){p(null)};if(p!=null)return A=A(),p.current=A,function(){p.current=null}}function ch(A,p,b){return b=b!=null?b.concat([A]):null,CA(4,4,df.bind(null,p,A),b)}function vu(){}function zu(A,p){var b=dl();p=p===void 0?null:p;var $=b.memoizedState;return $!==null&&p!==null&&vA(p,$[1])?$[0]:(b.memoizedState=[A,p],A)}function eu(A,p){var b=dl();p=p===void 0?null:p;var $=b.memoizedState;return $!==null&&p!==null&&vA(p,$[1])?$[0]:(A=A(),b.memoizedState=[A,p],A)}function NA(A,p,b){return(ed&21)===0?(A.baseState&&(A.baseState=!1,Al=!0),A.memoizedState=b):(mi(b,p)||(b=Ri(),li.lanes|=b,Hc|=b,A.baseState=!0),p)}function mp(A,p){var b=da;da=b!==0&&4>b?b:4,A(!0);var $=Ru.transition;Ru.transition={};try{A(!1),p()}finally{da=b,Ru.transition=$}}function dh(){return dl().memoizedState}function gp(A,p,b){var $=Fl(A);if(b={lane:$,action:b,hasEagerState:!1,eagerState:null,next:null},Vu(A))Ku(p,b);else if(b=Lu(A,p,b,$),b!==null){var Ae=ro();Xo(b,A,$,Ae),td(b,p,$)}}function vp(A,p,b){var $=Fl(A),Ae={lane:$,action:b,hasEagerState:!1,eagerState:null,next:null};if(Vu(A))Ku(p,Ae);else{var Se=A.alternate;if(A.lanes===0&&(Se===null||Se.lanes===0)&&(Se=p.lastRenderedReducer,Se!==null))try{var $e=p.lastRenderedState,bt=Se($e,b);if(Ae.hasEagerState=!0,Ae.eagerState=bt,mi(bt,$e)){var Dt=p.interleaved;Dt===null?(Ae.next=Ae,Ci(p)):(Ae.next=Dt.next,Dt.next=Ae),p.interleaved=Ae;return}}catch{}finally{}b=Lu(A,p,Ae,$),b!==null&&(Ae=ro(),Xo(b,A,$,Ae),td(b,p,$))}}function Vu(A){var p=A.alternate;return A===li||p!==null&&p===li}function Ku(A,p){Oo=Qu=!0;var b=A.pending;b===null?p.next=p:(p.next=b.next,b.next=p),A.pending=p}function td(A,p,b){if((b&4194240)!==0){var $=p.lanes;$&=A.pendingLanes,b|=$,p.lanes=b,co(A,b)}}var ul={readContext:Hi,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useInsertionEffect:Mo,useLayoutEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useDeferredValue:Mo,useTransition:Mo,useMutableSource:Mo,useSyncExternalStore:Mo,useId:Mo,unstable_isNewReconciler:!1},Cc={readContext:Hi,useCallback:function(A,p){return oc().memoizedState=[A,p===void 0?null:p],A},useContext:Hi,useEffect:oh,useImperativeHandle:function(A,p,b){return b=b!=null?b.concat([A]):null,wA(4194308,4,df.bind(null,p,A),b)},useLayoutEffect:function(A,p){return wA(4194308,4,A,p)},useInsertionEffect:function(A,p){return wA(4,2,A,p)},useMemo:function(A,p){var b=oc();return p=p===void 0?null:p,A=A(),b.memoizedState=[A,p],A},useReducer:function(A,p,b){var $=oc();return p=b!==void 0?b(p):p,$.memoizedState=$.baseState=p,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:p},$.queue=A,A=A.dispatch=gp.bind(null,li,A),[$.memoizedState,A]},useRef:function(A){var p=oc();return A={current:A},p.memoizedState=A},useState:$u,useDebugValue:vu,useDeferredValue:function(A){return oc().memoizedState=A},useTransition:function(){var A=$u(!1),p=A[0];return A=mp.bind(null,A[1]),oc().memoizedState=A,[p,A]},useMutableSource:function(){},useSyncExternalStore:function(A,p,b){var $=li,Ae=oc();if(it){if(b===void 0)throw Error(n(407));b=b()}else{if(b=p(),_s===null)throw Error(n(349));(ed&30)!==0||gu($,p,b)}Ae.memoizedState=b;var Se={value:b,getSnapshot:p};return Ae.queue=Se,oh(Id.bind(null,$,Se,A),[A]),$.flags|=2048,Qc(9,$i.bind(null,$,Se,b,p),void 0,null),b},useId:function(){var A=oc(),p=_s.identifierPrefix;if(it){var b=as,$=Es;b=($&~(1<<32-Xa($)-1)).toString(32)+b,p=":"+p+"R"+b,b=Ed++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=of++,p=":"+p+"r"+b.toString(32)+":";return A.memoizedState=p},unstable_isNewReconciler:!1},uf={readContext:Hi,useCallback:zu,useContext:Hi,useEffect:lh,useImperativeHandle:ch,useInsertionEffect:lf,useLayoutEffect:cf,useMemo:eu,useReducer:Il,useRef:jA,useState:function(){return Il(Do)},useDebugValue:vu,useDeferredValue:function(A){var p=dl();return NA(p,eo.memoizedState,A)},useTransition:function(){var A=Il(Do)[0],p=dl().memoizedState;return[A,p]},useMutableSource:Hu,useSyncExternalStore:Wu,useId:dh,unstable_isNewReconciler:!1},uh={readContext:Hi,useCallback:zu,useContext:Hi,useEffect:lh,useImperativeHandle:ch,useInsertionEffect:lf,useLayoutEffect:cf,useMemo:eu,useReducer:Zd,useRef:jA,useState:function(){return Zd(Do)},useDebugValue:vu,useDeferredValue:function(A){var p=dl();return eo===null?p.memoizedState=A:NA(p,eo.memoizedState,A)},useTransition:function(){var A=Zd(Do)[0],p=dl().memoizedState;return[A,p]},useMutableSource:Hu,useSyncExternalStore:Wu,useId:dh,unstable_isNewReconciler:!1};function mo(A,p){if(A&&A.defaultProps){p=Fe({},p),A=A.defaultProps;for(var b in A)p[b]===void 0&&(p[b]=A[b]);return p}return p}function kl(A,p,b,$){p=A.memoizedState,b=b($,p),b=b==null?p:Fe({},p,b),A.memoizedState=b,A.lanes===0&&(A.updateQueue.baseState=b)}var tu={isMounted:function(A){return(A=A._reactInternals)?Ga(A)===A:!1},enqueueSetState:function(A,p,b){A=A._reactInternals;var $=ro(),Ae=Fl(A),Se=ql($,Ae);Se.payload=p,b!=null&&(Se.callback=b),p=sc(A,Se,Ae),p!==null&&(Xo(p,A,Ae,$),ic(p,A,Ae))},enqueueReplaceState:function(A,p,b){A=A._reactInternals;var $=ro(),Ae=Fl(A),Se=ql($,Ae);Se.tag=1,Se.payload=p,b!=null&&(Se.callback=b),p=sc(A,Se,Ae),p!==null&&(Xo(p,A,Ae,$),ic(p,A,Ae))},enqueueForceUpdate:function(A,p){A=A._reactInternals;var b=ro(),$=Fl(A),Ae=ql(b,$);Ae.tag=2,p!=null&&(Ae.callback=p),p=sc(A,Ae,$),p!==null&&(Xo(p,A,$,b),ic(p,A,$))}};function Ah(A,p,b,$,Ae,Se,$e){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate($,Se,$e):p.prototype&&p.prototype.isPureReactComponent?!Ns(b,$)||!Ns(Ae,Se):!0}function BA(A,p,b){var $=!1,Ae=cl,Se=p.contextType;return typeof Se=="object"&&Se!==null?Se=Hi(Se):(Ae=ho(p)?Gl:oi.current,$=p.contextTypes,Se=($=$!=null)?yc(A,Ae):cl),p=new p(b,Se),A.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=tu,A.stateNode=p,p._reactInternals=A,$&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=Ae,A.__reactInternalMemoizedMaskedChildContext=Se),p}function hh(A,p,b,$){A=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,$),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,$),p.state!==A&&tu.enqueueReplaceState(p,p.state,null)}function SA(A,p,b,$){var Ae=A.stateNode;Ae.props=b,Ae.state=A.memoizedState,Ae.refs={},Jd(A);var Se=p.contextType;typeof Se=="object"&&Se!==null?Ae.context=Hi(Se):(Se=ho(p)?Gl:oi.current,Ae.context=yc(A,Se)),Ae.state=A.memoizedState,Se=p.getDerivedStateFromProps,typeof Se=="function"&&(kl(A,p,Se,b),Ae.state=A.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof Ae.getSnapshotBeforeUpdate=="function"||typeof Ae.UNSAFE_componentWillMount!="function"&&typeof Ae.componentWillMount!="function"||(p=Ae.state,typeof Ae.componentWillMount=="function"&&Ae.componentWillMount(),typeof Ae.UNSAFE_componentWillMount=="function"&&Ae.UNSAFE_componentWillMount(),p!==Ae.state&&tu.enqueueReplaceState(Ae,Ae.state,null),bc(A,b,Ae,$),Ae.state=A.memoizedState),typeof Ae.componentDidMount=="function"&&(A.flags|=4194308)}function kd(A,p){try{var b="",$=p;do b+=re($),$=$.return;while($);var Ae=b}catch(Se){Ae=`
Error generating stack: `+Se.message+`
`+Se.stack}return{value:A,source:p,stack:Ae,digest:null}}function Td(A,p,b){return{value:A,source:null,stack:b??null,digest:p??null}}function Fd(A,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var ru=typeof WeakMap=="function"?WeakMap:Map;function xu(A,p,b){b=ql(-1,b),b.tag=3,b.payload={element:null};var $=p.value;return b.callback=function(){Xu||(Xu=!0,FA=$),Fd(A,p)},b}function EA(A,p,b){b=ql(-1,b),b.tag=3;var $=A.type.getDerivedStateFromError;if(typeof $=="function"){var Ae=p.value;b.payload=function(){return $(Ae)},b.callback=function(){Fd(A,p)}}var Se=A.stateNode;return Se!==null&&typeof Se.componentDidCatch=="function"&&(b.callback=function(){Fd(A,p),typeof $!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var $e=p.stack;this.componentDidCatch(p.value,{componentStack:$e!==null?$e:""})}),b}function Af(A,p,b){var $=A.pingCache;if($===null){$=A.pingCache=new ru;var Ae=new Set;$.set(p,Ae)}else Ae=$.get(p),Ae===void 0&&(Ae=new Set,$.set(p,Ae));Ae.has(b)||(Ae.add(b),A=R.bind(null,A,p,b),p.then(A,A))}function fh(A){do{var p;if((p=A.tag===13)&&(p=A.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return A;A=A.return}while(A!==null);return null}function ph(A,p,b,$,Ae){return(A.mode&1)===0?(A===p?A.flags|=65536:(A.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=ql(-1,1),p.tag=2,sc(b,p,1))),b.lanes|=1),A):(A.flags|=65536,A.lanes=Ae,A)}var mh=T.ReactCurrentOwner,Al=!1;function Ko(A,p,b,$){p.child=A===null?Ws(p,null,b,$):ba(p,A.child,b,$)}function IA(A,p,b,$,Ae){b=b.render;var Se=p.ref;return fo(p,Ae),$=xA(A,p,b,$,Se,Ae),b=yA(),A!==null&&!Al?(p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~Ae,_t(A,p,Ae)):(it&&b&&_e(p),p.flags|=1,Ko(A,p,$,Ae),p.child)}function gh(A,p,b,$,Ae){if(A===null){var Se=b.type;return typeof Se=="function"&&!er(Se)&&Se.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=Se,kA(A,p,Se,$,Ae)):(A=en(b.type,null,$,p,p.mode,Ae),A.ref=p.ref,A.return=p,p.child=A)}if(Se=A.child,(A.lanes&Ae)===0){var $e=Se.memoizedProps;if(b=b.compare,b=b!==null?b:Ns,b($e,$)&&A.ref===p.ref)return _t(A,p,Ae)}return p.flags|=1,A=mn(Se,$),A.ref=p.ref,A.return=p,p.child=A}function kA(A,p,b,$,Ae){if(A!==null){var Se=A.memoizedProps;if(Ns(Se,$)&&A.ref===p.ref)if(Al=!1,p.pendingProps=$=Se,(A.lanes&Ae)!==0)(A.flags&131072)!==0&&(Al=!0);else return p.lanes=A.lanes,_t(A,p,Ae)}return yu(A,p,b,$,Ae)}function Gu(A,p,b){var $=p.pendingProps,Ae=$.children,Se=A!==null?A.memoizedState:null;if($.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},bs(Mi,yi),yi|=b;else{if((b&1073741824)===0)return A=Se!==null?Se.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:A,cachePool:null,transitions:null},p.updateQueue=null,bs(Mi,yi),yi|=A,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=Se!==null?Se.baseLanes:b,bs(Mi,yi),yi|=$}else Se!==null?($=Se.baseLanes|b,p.memoizedState=null):$=b,bs(Mi,yi),yi|=$;return Ko(A,p,Ae,b),p.child}function qu(A,p){var b=p.ref;(A===null&&b!==null||A!==null&&A.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function yu(A,p,b,$,Ae){var Se=ho(b)?Gl:oi.current;return Se=yc(p,Se),fo(p,Ae),b=xA(A,p,b,$,Se,Ae),$=yA(),A!==null&&!Al?(p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~Ae,_t(A,p,Ae)):(it&&$&&_e(p),p.flags|=1,Ko(A,p,b,Ae),p.child)}function TA(A,p,b,$,Ae){if(ho(b)){var Se=!0;ac(p)}else Se=!1;if(fo(p,Ae),p.stateNode===null)ht(A,p),BA(p,b,$),SA(p,b,$,Ae),$=!0;else if(A===null){var $e=p.stateNode,bt=p.memoizedProps;$e.props=bt;var Dt=$e.context,ur=b.contextType;typeof ur=="object"&&ur!==null?ur=Hi(ur):(ur=ho(b)?Gl:oi.current,ur=yc(p,ur));var zr=b.getDerivedStateFromProps,Yr=typeof zr=="function"||typeof $e.getSnapshotBeforeUpdate=="function";Yr||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(bt!==$||Dt!==ur)&&hh(p,$e,$,ur),Po=!1;var $r=p.memoizedState;$e.state=$r,bc(p,$,$e,Ae),Dt=p.memoizedState,bt!==$||$r!==Dt||gi.current||Po?(typeof zr=="function"&&(kl(p,b,zr,$),Dt=p.memoizedState),(bt=Po||Ah(p,b,bt,$,$r,Dt,ur))?(Yr||typeof $e.UNSAFE_componentWillMount!="function"&&typeof $e.componentWillMount!="function"||(typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount()),typeof $e.componentDidMount=="function"&&(p.flags|=4194308)):(typeof $e.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=$,p.memoizedState=Dt),$e.props=$,$e.state=Dt,$e.context=ur,$=bt):(typeof $e.componentDidMount=="function"&&(p.flags|=4194308),$=!1)}else{$e=p.stateNode,pu(A,p),bt=p.memoizedProps,ur=p.type===p.elementType?bt:mo(p.type,bt),$e.props=ur,Yr=p.pendingProps,$r=$e.context,Dt=b.contextType,typeof Dt=="object"&&Dt!==null?Dt=Hi(Dt):(Dt=ho(b)?Gl:oi.current,Dt=yc(p,Dt));var Mn=b.getDerivedStateFromProps;(zr=typeof Mn=="function"||typeof $e.getSnapshotBeforeUpdate=="function")||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(bt!==Yr||$r!==Dt)&&hh(p,$e,$,Dt),Po=!1,$r=p.memoizedState,$e.state=$r,bc(p,$,$e,Ae);var Gn=p.memoizedState;bt!==Yr||$r!==Gn||gi.current||Po?(typeof Mn=="function"&&(kl(p,b,Mn,$),Gn=p.memoizedState),(ur=Po||Ah(p,b,ur,$,$r,Gn,Dt)||!1)?(zr||typeof $e.UNSAFE_componentWillUpdate!="function"&&typeof $e.componentWillUpdate!="function"||(typeof $e.componentWillUpdate=="function"&&$e.componentWillUpdate($,Gn,Dt),typeof $e.UNSAFE_componentWillUpdate=="function"&&$e.UNSAFE_componentWillUpdate($,Gn,Dt)),typeof $e.componentDidUpdate=="function"&&(p.flags|=4),typeof $e.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof $e.componentDidUpdate!="function"||bt===A.memoizedProps&&$r===A.memoizedState||(p.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||bt===A.memoizedProps&&$r===A.memoizedState||(p.flags|=1024),p.memoizedProps=$,p.memoizedState=Gn),$e.props=$,$e.state=Gn,$e.context=Dt,$=ur):(typeof $e.componentDidUpdate!="function"||bt===A.memoizedProps&&$r===A.memoizedState||(p.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||bt===A.memoizedProps&&$r===A.memoizedState||(p.flags|=1024),$=!1)}return k(A,p,b,$,Se,Ae)}function k(A,p,b,$,Ae,Se){qu(A,p);var $e=(p.flags&128)!==0;if(!$&&!$e)return Ae&&Yd(p,b,!1),_t(A,p,Se);$=p.stateNode,mh.current=p;var bt=$e&&typeof b.getDerivedStateFromError!="function"?null:$.render();return p.flags|=1,A!==null&&$e?(p.child=ba(p,A.child,null,Se),p.child=ba(p,null,bt,Se)):Ko(A,p,bt,Se),p.memoizedState=$.state,Ae&&Yd(p,b,!0),p.child}function q(A){var p=A.stateNode;p.pendingContext?nc(A,p.pendingContext,p.pendingContext!==p.context):p.context&&nc(A,p.context,!1),ks(A,p.containerInfo)}function je(A,p,b,$,Ae){return yr(),Is(Ae),p.flags|=256,Ko(A,p,b,$),p.child}var ke={dehydrated:null,treeContext:null,retryLane:0};function Qe(A){return{baseLanes:A,cachePool:null,transitions:null}}function Ke(A,p,b){var $=p.pendingProps,Ae=$s.current,Se=!1,$e=(p.flags&128)!==0,bt;if((bt=$e)||(bt=A!==null&&A.memoizedState===null?!1:(Ae&2)!==0),bt?(Se=!0,p.flags&=-129):(A===null||A.memoizedState!==null)&&(Ae|=1),bs($s,Ae&1),A===null)return ar(p),A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((p.mode&1)===0?p.lanes=1:A.data==="$!"?p.lanes=8:p.lanes=1073741824,null):($e=$.children,A=$.fallback,Se?($=p.mode,Se=p.child,$e={mode:"hidden",children:$e},($&1)===0&&Se!==null?(Se.childLanes=0,Se.pendingProps=$e):Se=za($e,$,0,null),A=fn(A,$,b,null),Se.return=p,A.return=p,Se.sibling=A,p.child=Se,p.child.memoizedState=Qe(b),p.memoizedState=ke,A):qe(p,$e));if(Ae=A.memoizedState,Ae!==null&&(bt=Ae.dehydrated,bt!==null))return tt(A,p,$e,$,bt,Ae,b);if(Se){Se=$.fallback,$e=p.mode,Ae=A.child,bt=Ae.sibling;var Dt={mode:"hidden",children:$.children};return($e&1)===0&&p.child!==Ae?($=p.child,$.childLanes=0,$.pendingProps=Dt,p.deletions=null):($=mn(Ae,Dt),$.subtreeFlags=Ae.subtreeFlags&14680064),bt!==null?Se=mn(bt,Se):(Se=fn(Se,$e,b,null),Se.flags|=2),Se.return=p,$.return=p,$.sibling=Se,p.child=$,$=Se,Se=p.child,$e=A.child.memoizedState,$e=$e===null?Qe(b):{baseLanes:$e.baseLanes|b,cachePool:null,transitions:$e.transitions},Se.memoizedState=$e,Se.childLanes=A.childLanes&~b,p.memoizedState=ke,$}return Se=A.child,A=Se.sibling,$=mn(Se,{mode:"visible",children:$.children}),(p.mode&1)===0&&($.lanes=b),$.return=p,$.sibling=null,A!==null&&(b=p.deletions,b===null?(p.deletions=[A],p.flags|=16):b.push(A)),p.child=$,p.memoizedState=null,$}function qe(A,p){return p=za({mode:"visible",children:p},A.mode,0,null),p.return=A,A.child=p}function Je(A,p,b,$){return $!==null&&Is($),ba(p,A.child,null,b),A=qe(p,p.pendingProps.children),A.flags|=2,p.memoizedState=null,A}function tt(A,p,b,$,Ae,Se,$e){if(b)return p.flags&256?(p.flags&=-257,$=Td(Error(n(422))),Je(A,p,$e,$)):p.memoizedState!==null?(p.child=A.child,p.flags|=128,null):(Se=$.fallback,Ae=p.mode,$=za({mode:"visible",children:$.children},Ae,0,null),Se=fn(Se,Ae,$e,null),Se.flags|=2,$.return=p,Se.return=p,$.sibling=Se,p.child=$,(p.mode&1)!==0&&ba(p,A.child,null,$e),p.child.memoizedState=Qe($e),p.memoizedState=ke,Se);if((p.mode&1)===0)return Je(A,p,$e,null);if(Ae.data==="$!"){if($=Ae.nextSibling&&Ae.nextSibling.dataset,$)var bt=$.dgst;return $=bt,Se=Error(n(419)),$=Td(Se,$,void 0),Je(A,p,$e,$)}if(bt=($e&A.childLanes)!==0,Al||bt){if($=_s,$!==null){switch($e&-$e){case 4:Ae=2;break;case 16:Ae=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ae=32;break;case 536870912:Ae=268435456;break;default:Ae=0}Ae=(Ae&($.suspendedLanes|$e))!==0?0:Ae,Ae!==0&&Ae!==Se.retryLane&&(Se.retryLane=Ae,Co(A,Ae),Xo($,A,Ae,-1))}return wu(),$=Td(Error(n(421))),Je(A,p,$e,$)}return Ae.data==="$?"?(p.flags|=128,p.child=A.child,p=Me.bind(null,A),Ae._reactRetry=p,null):(A=Se.treeContext,At=rc(Ae.nextSibling),Xe=p,it=!0,Zt=null,A!==null&&(Zn[Na++]=Es,Zn[Na++]=as,Zn[Na++]=Bs,Es=A.id,as=A.overflow,Bs=p),p=qe(p,$.children),p.flags|=4096,p)}function ft(A,p,b){A.lanes|=p;var $=A.alternate;$!==null&&($.lanes|=p),Bl(A.return,p,b)}function Ot(A,p,b,$,Ae){var Se=A.memoizedState;Se===null?A.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:$,tail:b,tailMode:Ae}:(Se.isBackwards=p,Se.rendering=null,Se.renderingStartTime=0,Se.last=$,Se.tail=b,Se.tailMode=Ae)}function tr(A,p,b){var $=p.pendingProps,Ae=$.revealOrder,Se=$.tail;if(Ko(A,p,$.children,b),$=$s.current,($&2)!==0)$=$&1|2,p.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=p.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&ft(A,b,p);else if(A.tag===19)ft(A,b,p);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break e;for(;A.sibling===null;){if(A.return===null||A.return===p)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}$&=1}if(bs($s,$),(p.mode&1)===0)p.memoizedState=null;else switch(Ae){case"forwards":for(b=p.child,Ae=null;b!==null;)A=b.alternate,A!==null&&wc(A)===null&&(Ae=b),b=b.sibling;b=Ae,b===null?(Ae=p.child,p.child=null):(Ae=b.sibling,b.sibling=null),Ot(p,!1,Ae,b,Se);break;case"backwards":for(b=null,Ae=p.child,p.child=null;Ae!==null;){if(A=Ae.alternate,A!==null&&wc(A)===null){p.child=Ae;break}A=Ae.sibling,Ae.sibling=b,b=Ae,Ae=A}Ot(p,!0,b,null,Se);break;case"together":Ot(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ht(A,p){(p.mode&1)===0&&A!==null&&(A.alternate=null,p.alternate=null,p.flags|=2)}function _t(A,p,b){if(A!==null&&(p.dependencies=A.dependencies),Hc|=p.lanes,(b&p.childLanes)===0)return null;if(A!==null&&p.child!==A.child)throw Error(n(153));if(p.child!==null){for(A=p.child,b=mn(A,A.pendingProps),p.child=b,b.return=p;A.sibling!==null;)A=A.sibling,b=b.sibling=mn(A,A.pendingProps),b.return=p;b.sibling=null}return p.child}function Xt(A,p,b){switch(p.tag){case 3:q(p),yr();break;case 5:Wi(p);break;case 1:ho(p.type)&&ac(p);break;case 4:ks(p,p.stateNode.containerInfo);break;case 10:var $=p.type._context,Ae=p.memoizedProps.value;bs(Xn,$._currentValue),$._currentValue=Ae;break;case 13:if($=p.memoizedState,$!==null)return $.dehydrated!==null?(bs($s,$s.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?Ke(A,p,b):(bs($s,$s.current&1),A=_t(A,p,b),A!==null?A.sibling:null);bs($s,$s.current&1);break;case 19:if($=(b&p.childLanes)!==0,(A.flags&128)!==0){if($)return tr(A,p,b);p.flags|=128}if(Ae=p.memoizedState,Ae!==null&&(Ae.rendering=null,Ae.tail=null,Ae.lastEffect=null),bs($s,$s.current),$)break;return null;case 22:case 23:return p.lanes=0,Gu(A,p,b)}return _t(A,p,b)}var br,nr,Cr,Br;br=function(A,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)A.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},nr=function(){},Cr=function(A,p,b,$){var Ae=A.memoizedProps;if(Ae!==$){A=p.stateNode,ns(Vo.current);var Se=null;switch(b){case"input":Ae=Ue(A,Ae),$=Ue(A,$),Se=[];break;case"select":Ae=Fe({},Ae,{value:void 0}),$=Fe({},$,{value:void 0}),Se=[];break;case"textarea":Ae=qt(A,Ae),$=qt(A,$),Se=[];break;default:typeof Ae.onClick!="function"&&typeof $.onClick=="function"&&(A.onclick=Dc)}Hr(b,$);var $e;b=null;for(ur in Ae)if(!$.hasOwnProperty(ur)&&Ae.hasOwnProperty(ur)&&Ae[ur]!=null)if(ur==="style"){var bt=Ae[ur];for($e in bt)bt.hasOwnProperty($e)&&(b||(b={}),b[$e]="")}else ur!=="dangerouslySetInnerHTML"&&ur!=="children"&&ur!=="suppressContentEditableWarning"&&ur!=="suppressHydrationWarning"&&ur!=="autoFocus"&&(s.hasOwnProperty(ur)?Se||(Se=[]):(Se=Se||[]).push(ur,null));for(ur in $){var Dt=$[ur];if(bt=Ae!=null?Ae[ur]:void 0,$.hasOwnProperty(ur)&&Dt!==bt&&(Dt!=null||bt!=null))if(ur==="style")if(bt){for($e in bt)!bt.hasOwnProperty($e)||Dt&&Dt.hasOwnProperty($e)||(b||(b={}),b[$e]="");for($e in Dt)Dt.hasOwnProperty($e)&&bt[$e]!==Dt[$e]&&(b||(b={}),b[$e]=Dt[$e])}else b||(Se||(Se=[]),Se.push(ur,b)),b=Dt;else ur==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,bt=bt?bt.__html:void 0,Dt!=null&&bt!==Dt&&(Se=Se||[]).push(ur,Dt)):ur==="children"?typeof Dt!="string"&&typeof Dt!="number"||(Se=Se||[]).push(ur,""+Dt):ur!=="suppressContentEditableWarning"&&ur!=="suppressHydrationWarning"&&(s.hasOwnProperty(ur)?(Dt!=null&&ur==="onScroll"&&As("scroll",A),Se||bt===Dt||(Se=[])):(Se=Se||[]).push(ur,Dt))}b&&(Se=Se||[]).push("style",b);var ur=Se;(p.updateQueue=ur)&&(p.flags|=4)}},Br=function(A,p,b,$){b!==$&&(p.flags|=4)};function Mr(A,p){if(!it)switch(A.tailMode){case"hidden":p=A.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?A.tail=null:b.sibling=null;break;case"collapsed":b=A.tail;for(var $=null;b!==null;)b.alternate!==null&&($=b),b=b.sibling;$===null?p||A.tail===null?A.tail=null:A.tail.sibling=null:$.sibling=null}}function Er(A){var p=A.alternate!==null&&A.alternate.child===A.child,b=0,$=0;if(p)for(var Ae=A.child;Ae!==null;)b|=Ae.lanes|Ae.childLanes,$|=Ae.subtreeFlags&14680064,$|=Ae.flags&14680064,Ae.return=A,Ae=Ae.sibling;else for(Ae=A.child;Ae!==null;)b|=Ae.lanes|Ae.childLanes,$|=Ae.subtreeFlags,$|=Ae.flags,Ae.return=A,Ae=Ae.sibling;return A.subtreeFlags|=$,A.childLanes=b,p}function Yn(A,p,b){var $=p.pendingProps;switch(J(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(p),null;case 1:return ho(p.type)&&Nl(),Er(p),null;case 3:return $=p.stateNode,Js(),rs(gi),rs(oi),Uu(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(A===null||A.child===null)&&(dn(p)?p.flags|=4:A===null||A.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Zt!==null&&(xh(Zt),Zt=null))),nr(A,p),Er(p),null;case 5:jc(p);var Ae=ns(El.current);if(b=p.type,A!==null&&p.stateNode!=null)Cr(A,p,b,$,Ae),A.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!$){if(p.stateNode===null)throw Error(n(166));return Er(p),null}if(A=ns(Vo.current),dn(p)){$=p.stateNode,b=p.type;var Se=p.memoizedProps;switch($[Ji]=p,$[ol]=Se,A=(p.mode&1)!==0,b){case"dialog":As("cancel",$),As("close",$);break;case"iframe":case"object":case"embed":As("load",$);break;case"video":case"audio":for(Ae=0;Ae<Pc.length;Ae++)As(Pc[Ae],$);break;case"source":As("error",$);break;case"img":case"image":case"link":As("error",$),As("load",$);break;case"details":As("toggle",$);break;case"input":ue($,Se),As("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!Se.multiple},As("invalid",$);break;case"textarea":Ir($,Se),As("invalid",$)}Hr(b,Se),Ae=null;for(var $e in Se)if(Se.hasOwnProperty($e)){var bt=Se[$e];$e==="children"?typeof bt=="string"?$.textContent!==bt&&(Se.suppressHydrationWarning!==!0&&Mc($.textContent,bt,A),Ae=["children",bt]):typeof bt=="number"&&$.textContent!==""+bt&&(Se.suppressHydrationWarning!==!0&&Mc($.textContent,bt,A),Ae=["children",""+bt]):s.hasOwnProperty($e)&&bt!=null&&$e==="onScroll"&&As("scroll",$)}switch(b){case"input":fe($),ot($,Se,!0);break;case"textarea":fe($),He($);break;case"select":case"option":break;default:typeof Se.onClick=="function"&&($.onclick=Dc)}$=Ae,p.updateQueue=$,$!==null&&(p.flags|=4)}else{$e=Ae.nodeType===9?Ae:Ae.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=Yt(b)),A==="http://www.w3.org/1999/xhtml"?b==="script"?(A=$e.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof $.is=="string"?A=$e.createElement(b,{is:$.is}):(A=$e.createElement(b),b==="select"&&($e=A,$.multiple?$e.multiple=!0:$.size&&($e.size=$.size))):A=$e.createElementNS(A,b),A[Ji]=p,A[ol]=$,br(A,p,!1,!1),p.stateNode=A;e:{switch($e=Wr(b,$),b){case"dialog":As("cancel",A),As("close",A),Ae=$;break;case"iframe":case"object":case"embed":As("load",A),Ae=$;break;case"video":case"audio":for(Ae=0;Ae<Pc.length;Ae++)As(Pc[Ae],A);Ae=$;break;case"source":As("error",A),Ae=$;break;case"img":case"image":case"link":As("error",A),As("load",A),Ae=$;break;case"details":As("toggle",A),Ae=$;break;case"input":ue(A,$),Ae=Ue(A,$),As("invalid",A);break;case"option":Ae=$;break;case"select":A._wrapperState={wasMultiple:!!$.multiple},Ae=Fe({},$,{value:void 0}),As("invalid",A);break;case"textarea":Ir(A,$),Ae=qt(A,$),As("invalid",A);break;default:Ae=$}Hr(b,Ae),bt=Ae;for(Se in bt)if(bt.hasOwnProperty(Se)){var Dt=bt[Se];Se==="style"?cr(A,Dt):Se==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,Dt!=null&&hr(A,Dt)):Se==="children"?typeof Dt=="string"?(b!=="textarea"||Dt!=="")&&nn(A,Dt):typeof Dt=="number"&&nn(A,""+Dt):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(s.hasOwnProperty(Se)?Dt!=null&&Se==="onScroll"&&As("scroll",A):Dt!=null&&N(A,Se,Dt,$e))}switch(b){case"input":fe(A),ot(A,$,!1);break;case"textarea":fe(A),He(A);break;case"option":$.value!=null&&A.setAttribute("value",""+xe($.value));break;case"select":A.multiple=!!$.multiple,Se=$.value,Se!=null?Nt(A,!!$.multiple,Se,!1):$.defaultValue!=null&&Nt(A,!!$.multiple,$.defaultValue,!0);break;default:typeof Ae.onClick=="function"&&(A.onclick=Dc)}switch(b){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Er(p),null;case 6:if(A&&p.stateNode!=null)Br(A,p,A.memoizedProps,$);else{if(typeof $!="string"&&p.stateNode===null)throw Error(n(166));if(b=ns(El.current),ns(Vo.current),dn(p)){if($=p.stateNode,b=p.memoizedProps,$[Ji]=p,(Se=$.nodeValue!==b)&&(A=Xe,A!==null))switch(A.tag){case 3:Mc($.nodeValue,b,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&Mc($.nodeValue,b,(A.mode&1)!==0)}Se&&(p.flags|=4)}else $=(b.nodeType===9?b:b.ownerDocument).createTextNode($),$[Ji]=p,p.stateNode=$}return Er(p),null;case 13:if(rs($s),$=p.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(it&&At!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Or(),yr(),p.flags|=98560,Se=!1;else if(Se=dn(p),$!==null&&$.dehydrated!==null){if(A===null){if(!Se)throw Error(n(318));if(Se=p.memoizedState,Se=Se!==null?Se.dehydrated:null,!Se)throw Error(n(317));Se[Ji]=p}else yr(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Er(p),Se=!1}else Zt!==null&&(xh(Zt),Zt=null),Se=!0;if(!Se)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):($=$!==null,$!==(A!==null&&A.memoizedState!==null)&&$&&(p.child.flags|=8192,(p.mode&1)!==0&&(A===null||($s.current&1)!==0?Di===0&&(Di=3):wu())),p.updateQueue!==null&&(p.flags|=4),Er(p),null);case 4:return Js(),nr(A,p),A===null&&fi(p.stateNode.containerInfo),Er(p),null;case 10:return Zi(p.type._context),Er(p),null;case 17:return ho(p.type)&&Nl(),Er(p),null;case 19:if(rs($s),Se=p.memoizedState,Se===null)return Er(p),null;if($=(p.flags&128)!==0,$e=Se.rendering,$e===null)if($)Mr(Se,!1);else{if(Di!==0||A!==null&&(A.flags&128)!==0)for(A=p.child;A!==null;){if($e=wc(A),$e!==null){for(p.flags|=128,Mr(Se,!1),$=$e.updateQueue,$!==null&&(p.updateQueue=$,p.flags|=4),p.subtreeFlags=0,$=b,b=p.child;b!==null;)Se=b,A=$,Se.flags&=14680066,$e=Se.alternate,$e===null?(Se.childLanes=0,Se.lanes=A,Se.child=null,Se.subtreeFlags=0,Se.memoizedProps=null,Se.memoizedState=null,Se.updateQueue=null,Se.dependencies=null,Se.stateNode=null):(Se.childLanes=$e.childLanes,Se.lanes=$e.lanes,Se.child=$e.child,Se.subtreeFlags=0,Se.deletions=null,Se.memoizedProps=$e.memoizedProps,Se.memoizedState=$e.memoizedState,Se.updateQueue=$e.updateQueue,Se.type=$e.type,A=$e.dependencies,Se.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),b=b.sibling;return bs($s,$s.current&1|2),p.child}A=A.sibling}Se.tail!==null&&oa()>nu&&(p.flags|=128,$=!0,Mr(Se,!1),p.lanes=4194304)}else{if(!$)if(A=wc($e),A!==null){if(p.flags|=128,$=!0,b=A.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),Mr(Se,!0),Se.tail===null&&Se.tailMode==="hidden"&&!$e.alternate&&!it)return Er(p),null}else 2*oa()-Se.renderingStartTime>nu&&b!==1073741824&&(p.flags|=128,$=!0,Mr(Se,!1),p.lanes=4194304);Se.isBackwards?($e.sibling=p.child,p.child=$e):(b=Se.last,b!==null?b.sibling=$e:p.child=$e,Se.last=$e)}return Se.tail!==null?(p=Se.tail,Se.rendering=p,Se.tail=p.sibling,Se.renderingStartTime=oa(),p.sibling=null,b=$s.current,bs($s,$?b&1|2:b&1),p):(Er(p),null);case 22:case 23:return DA(),$=p.memoizedState!==null,A!==null&&A.memoizedState!==null!==$&&(p.flags|=8192),$&&(p.mode&1)!==0?(yi&1073741824)!==0&&(Er(p),p.subtreeFlags&6&&(p.flags|=8192)):Er(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function En(A,p){switch(J(p),p.tag){case 1:return ho(p.type)&&Nl(),A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 3:return Js(),rs(gi),rs(oi),Uu(),A=p.flags,(A&65536)!==0&&(A&128)===0?(p.flags=A&-65537|128,p):null;case 5:return jc(p),null;case 13:if(rs($s),A=p.memoizedState,A!==null&&A.dehydrated!==null){if(p.alternate===null)throw Error(n(340));yr()}return A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 19:return rs($s),null;case 4:return Js(),null;case 10:return Zi(p.type._context),null;case 22:case 23:return DA(),null;case 24:return null;default:return null}}var Da=!1,pn=!1,hs=typeof WeakSet=="function"?WeakSet:Set,an=null;function ka(A,p){var b=A.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch($){L(A,p,$)}else b.current=null}function Un(A,p,b){try{b()}catch($){L(A,p,$)}}var un=!1;function zi(A,p){if(_c=De,A=Fi(),To(A)){if("selectionStart"in A)var b={start:A.selectionStart,end:A.selectionEnd};else e:{b=(b=A.ownerDocument)&&b.defaultView||window;var $=b.getSelection&&b.getSelection();if($&&$.rangeCount!==0){b=$.anchorNode;var Ae=$.anchorOffset,Se=$.focusNode;$=$.focusOffset;try{b.nodeType,Se.nodeType}catch{b=null;break e}var $e=0,bt=-1,Dt=-1,ur=0,zr=0,Yr=A,$r=null;t:for(;;){for(var Mn;Yr!==b||Ae!==0&&Yr.nodeType!==3||(bt=$e+Ae),Yr!==Se||$!==0&&Yr.nodeType!==3||(Dt=$e+$),Yr.nodeType===3&&($e+=Yr.nodeValue.length),(Mn=Yr.firstChild)!==null;)$r=Yr,Yr=Mn;for(;;){if(Yr===A)break t;if($r===b&&++ur===Ae&&(bt=$e),$r===Se&&++zr===$&&(Dt=$e),(Mn=Yr.nextSibling)!==null)break;Yr=$r,$r=Yr.parentNode}Yr=Mn}b=bt===-1||Dt===-1?null:{start:bt,end:Dt}}else b=null}b=b||{start:0,end:0}}else b=null;for(Lc={focusedElem:A,selectionRange:b},De=!1,an=p;an!==null;)if(p=an,A=p.child,(p.subtreeFlags&1028)!==0&&A!==null)A.return=p,an=A;else for(;an!==null;){p=an;try{var Gn=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Gn!==null){var Jn=Gn.memoizedProps,Ro=Gn.memoizedState,sr=p.stateNode,$t=sr.getSnapshotBeforeUpdate(p.elementType===p.type?Jn:mo(p.type,Jn),Ro);sr.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var dr=p.stateNode.containerInfo;dr.nodeType===1?dr.textContent="":dr.nodeType===9&&dr.documentElement&&dr.removeChild(dr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rn){L(p,p.return,rn)}if(A=p.sibling,A!==null){A.return=p.return,an=A;break}an=p.return}return Gn=un,un=!1,Gn}function Sa(A,p,b){var $=p.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var Ae=$=$.next;do{if((Ae.tag&A)===A){var Se=Ae.destroy;Ae.destroy=void 0,Se!==void 0&&Un(p,b,Se)}Ae=Ae.next}while(Ae!==$)}}function ss(A,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&A)===A){var $=b.create;b.destroy=$()}b=b.next}while(b!==p)}}function Zs(A){var p=A.ref;if(p!==null){var b=A.stateNode;switch(A.tag){case 5:A=b;break;default:A=b}typeof p=="function"?p(A):p.current=A}}function to(A){var p=A.alternate;p!==null&&(A.alternate=null,to(p)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(p=A.stateNode,p!==null&&(delete p[Ji],delete p[ol],delete p[qd],delete p[$o],delete p[Jc])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function No(A){return A.tag===5||A.tag===3||A.tag===4}function vi(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||No(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function Bo(A,p,b){var $=A.tag;if($===5||$===6)A=A.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(A,p):b.insertBefore(A,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(A,b)):(p=b,p.appendChild(A)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=Dc));else if($!==4&&(A=A.child,A!==null))for(Bo(A,p,b),A=A.sibling;A!==null;)Bo(A,p,b),A=A.sibling}function _o(A,p,b){var $=A.tag;if($===5||$===6)A=A.stateNode,p?b.insertBefore(A,p):b.appendChild(A);else if($!==4&&(A=A.child,A!==null))for(_o(A,p,b),A=A.sibling;A!==null;)_o(A,p,b),A=A.sibling}var os=null,Ua=!1;function ls(A,p,b){for(b=b.child;b!==null;)Ni(A,p,b),b=b.sibling}function Ni(A,p,b){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(io,b)}catch{}switch(b.tag){case 5:pn||ka(b,p);case 6:var $=os,Ae=Ua;os=null,ls(A,p,b),os=$,Ua=Ae,os!==null&&(Ua?(A=os,b=b.stateNode,A.nodeType===8?A.parentNode.removeChild(b):A.removeChild(b)):os.removeChild(b.stateNode));break;case 18:os!==null&&(Ua?(A=os,b=b.stateNode,A.nodeType===8?va(A.parentNode,b):A.nodeType===1&&va(A,b),me(A)):va(os,b.stateNode));break;case 4:$=os,Ae=Ua,os=b.stateNode.containerInfo,Ua=!0,ls(A,p,b),os=$,Ua=Ae;break;case 0:case 11:case 14:case 15:if(!pn&&($=b.updateQueue,$!==null&&($=$.lastEffect,$!==null))){Ae=$=$.next;do{var Se=Ae,$e=Se.destroy;Se=Se.tag,$e!==void 0&&((Se&2)!==0||(Se&4)!==0)&&Un(b,p,$e),Ae=Ae.next}while(Ae!==$)}ls(A,p,b);break;case 1:if(!pn&&(ka(b,p),$=b.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=b.memoizedProps,$.state=b.memoizedState,$.componentWillUnmount()}catch(bt){L(b,p,bt)}ls(A,p,b);break;case 21:ls(A,p,b);break;case 22:b.mode&1?(pn=($=pn)||b.memoizedState!==null,ls(A,p,b),pn=$):ls(A,p,b);break;default:ls(A,p,b)}}function Ms(A){var p=A.updateQueue;if(p!==null){A.updateQueue=null;var b=A.stateNode;b===null&&(b=A.stateNode=new hs),p.forEach(function($){var Ae=Ve.bind(null,A,$);b.has($)||(b.add($),$.then(Ae,Ae))})}}function ei(A,p){var b=p.deletions;if(b!==null)for(var $=0;$<b.length;$++){var Ae=b[$];try{var Se=A,$e=p,bt=$e;e:for(;bt!==null;){switch(bt.tag){case 5:os=bt.stateNode,Ua=!1;break e;case 3:os=bt.stateNode.containerInfo,Ua=!0;break e;case 4:os=bt.stateNode.containerInfo,Ua=!0;break e}bt=bt.return}if(os===null)throw Error(n(160));Ni(Se,$e,Ae),os=null,Ua=!1;var Dt=Ae.alternate;Dt!==null&&(Dt.return=null),Ae.return=null}catch(ur){L(Ae,p,ur)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)Tl(p,A),p=p.sibling}function Tl(A,p){var b=A.alternate,$=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(ei(p,A),Ds(A),$&4){try{Sa(3,A,A.return),ss(3,A)}catch(Jn){L(A,A.return,Jn)}try{Sa(5,A,A.return)}catch(Jn){L(A,A.return,Jn)}}break;case 1:ei(p,A),Ds(A),$&512&&b!==null&&ka(b,b.return);break;case 5:if(ei(p,A),Ds(A),$&512&&b!==null&&ka(b,b.return),A.flags&32){var Ae=A.stateNode;try{nn(Ae,"")}catch(Jn){L(A,A.return,Jn)}}if($&4&&(Ae=A.stateNode,Ae!=null)){var Se=A.memoizedProps,$e=b!==null?b.memoizedProps:Se,bt=A.type,Dt=A.updateQueue;if(A.updateQueue=null,Dt!==null)try{bt==="input"&&Se.type==="radio"&&Se.name!=null&&be(Ae,Se),Wr(bt,$e);var ur=Wr(bt,Se);for($e=0;$e<Dt.length;$e+=2){var zr=Dt[$e],Yr=Dt[$e+1];zr==="style"?cr(Ae,Yr):zr==="dangerouslySetInnerHTML"?hr(Ae,Yr):zr==="children"?nn(Ae,Yr):N(Ae,zr,Yr,ur)}switch(bt){case"input":Le(Ae,Se);break;case"textarea":fr(Ae,Se);break;case"select":var $r=Ae._wrapperState.wasMultiple;Ae._wrapperState.wasMultiple=!!Se.multiple;var Mn=Se.value;Mn!=null?Nt(Ae,!!Se.multiple,Mn,!1):$r!==!!Se.multiple&&(Se.defaultValue!=null?Nt(Ae,!!Se.multiple,Se.defaultValue,!0):Nt(Ae,!!Se.multiple,Se.multiple?[]:"",!1))}Ae[ol]=Se}catch(Jn){L(A,A.return,Jn)}}break;case 6:if(ei(p,A),Ds(A),$&4){if(A.stateNode===null)throw Error(n(162));Ae=A.stateNode,Se=A.memoizedProps;try{Ae.nodeValue=Se}catch(Jn){L(A,A.return,Jn)}}break;case 3:if(ei(p,A),Ds(A),$&4&&b!==null&&b.memoizedState.isDehydrated)try{me(p.containerInfo)}catch(Jn){L(A,A.return,Jn)}break;case 4:ei(p,A),Ds(A);break;case 13:ei(p,A),Ds(A),Ae=A.child,Ae.flags&8192&&(Se=Ae.memoizedState!==null,Ae.stateNode.isHidden=Se,!Se||Ae.alternate!==null&&Ae.alternate.memoizedState!==null||(lc=oa())),$&4&&Ms(A);break;case 22:if(zr=b!==null&&b.memoizedState!==null,A.mode&1?(pn=(ur=pn)||zr,ei(p,A),pn=ur):ei(p,A),Ds(A),$&8192){if(ur=A.memoizedState!==null,(A.stateNode.isHidden=ur)&&!zr&&(A.mode&1)!==0)for(an=A,zr=A.child;zr!==null;){for(Yr=an=zr;an!==null;){switch($r=an,Mn=$r.child,$r.tag){case 0:case 11:case 14:case 15:Sa(4,$r,$r.return);break;case 1:ka($r,$r.return);var Gn=$r.stateNode;if(typeof Gn.componentWillUnmount=="function"){$=$r,b=$r.return;try{p=$,Gn.props=p.memoizedProps,Gn.state=p.memoizedState,Gn.componentWillUnmount()}catch(Jn){L($,b,Jn)}}break;case 5:ka($r,$r.return);break;case 22:if($r.memoizedState!==null){go(Yr);continue}}Mn!==null?(Mn.return=$r,an=Mn):go(Yr)}zr=zr.sibling}e:for(zr=null,Yr=A;;){if(Yr.tag===5){if(zr===null){zr=Yr;try{Ae=Yr.stateNode,ur?(Se=Ae.style,typeof Se.setProperty=="function"?Se.setProperty("display","none","important"):Se.display="none"):(bt=Yr.stateNode,Dt=Yr.memoizedProps.style,$e=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null,bt.style.display=Sr("display",$e))}catch(Jn){L(A,A.return,Jn)}}}else if(Yr.tag===6){if(zr===null)try{Yr.stateNode.nodeValue=ur?"":Yr.memoizedProps}catch(Jn){L(A,A.return,Jn)}}else if((Yr.tag!==22&&Yr.tag!==23||Yr.memoizedState===null||Yr===A)&&Yr.child!==null){Yr.child.return=Yr,Yr=Yr.child;continue}if(Yr===A)break e;for(;Yr.sibling===null;){if(Yr.return===null||Yr.return===A)break e;zr===Yr&&(zr=null),Yr=Yr.return}zr===Yr&&(zr=null),Yr.sibling.return=Yr.return,Yr=Yr.sibling}}break;case 19:ei(p,A),Ds(A),$&4&&Ms(A);break;case 21:break;default:ei(p,A),Ds(A)}}function Ds(A){var p=A.flags;if(p&2){try{e:{for(var b=A.return;b!==null;){if(No(b)){var $=b;break e}b=b.return}throw Error(n(160))}switch($.tag){case 5:var Ae=$.stateNode;$.flags&32&&(nn(Ae,""),$.flags&=-33);var Se=vi(A);_o(A,Se,Ae);break;case 3:case 4:var $e=$.stateNode.containerInfo,bt=vi(A);Bo(A,bt,$e);break;default:throw Error(n(161))}}catch(Dt){L(A,A.return,Dt)}A.flags&=-3}p&4096&&(A.flags&=-4097)}function Go(A,p,b){an=A,zs(A)}function zs(A,p,b){for(var $=(A.mode&1)!==0;an!==null;){var Ae=an,Se=Ae.child;if(Ae.tag===22&&$){var $e=Ae.memoizedState!==null||Da;if(!$e){var bt=Ae.alternate,Dt=bt!==null&&bt.memoizedState!==null||pn;bt=Da;var ur=pn;if(Da=$e,(pn=Dt)&&!ur)for(an=Ae;an!==null;)$e=an,Dt=$e.child,$e.tag===22&&$e.memoizedState!==null?vo(Ae):Dt!==null?(Dt.return=$e,an=Dt):vo(Ae);for(;Se!==null;)an=Se,zs(Se),Se=Se.sibling;an=Ae,Da=bt,pn=ur}Jr(A)}else(Ae.subtreeFlags&8772)!==0&&Se!==null?(Se.return=Ae,an=Se):Jr(A)}}function Jr(A){for(;an!==null;){var p=an;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:pn||ss(5,p);break;case 1:var $=p.stateNode;if(p.flags&4&&!pn)if(b===null)$.componentDidMount();else{var Ae=p.elementType===p.type?b.memoizedProps:mo(p.type,b.memoizedProps);$.componentDidUpdate(Ae,b.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var Se=p.updateQueue;Se!==null&&Bd(p,Se,$);break;case 3:var $e=p.updateQueue;if($e!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}Bd(p,$e,b)}break;case 5:var bt=p.stateNode;if(b===null&&p.flags&4){b=bt;var Dt=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Dt.autoFocus&&b.focus();break;case"img":Dt.src&&(b.src=Dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ur=p.alternate;if(ur!==null){var zr=ur.memoizedState;if(zr!==null){var Yr=zr.dehydrated;Yr!==null&&me(Yr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pn||p.flags&512&&Zs(p)}catch($r){L(p,p.return,$r)}}if(p===A){an=null;break}if(b=p.sibling,b!==null){b.return=p.return,an=b;break}an=p.return}}function go(A){for(;an!==null;){var p=an;if(p===A){an=null;break}var b=p.sibling;if(b!==null){b.return=p.return,an=b;break}an=p.return}}function vo(A){for(;an!==null;){var p=an;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{ss(4,p)}catch(Dt){L(p,b,Dt)}break;case 1:var $=p.stateNode;if(typeof $.componentDidMount=="function"){var Ae=p.return;try{$.componentDidMount()}catch(Dt){L(p,Ae,Dt)}}var Se=p.return;try{Zs(p)}catch(Dt){L(p,Se,Dt)}break;case 5:var $e=p.return;try{Zs(p)}catch(Dt){L(p,$e,Dt)}}}catch(Dt){L(p,p.return,Dt)}if(p===A){an=null;break}var bt=p.sibling;if(bt!==null){bt.return=p.return,an=bt;break}an=p.return}}var xi=Math.ceil,qo=T.ReactCurrentDispatcher,Pa=T.ReactCurrentOwner,Ea=T.ReactCurrentBatchConfig,Vn=0,_s=null,js=null,Bi=0,yi=0,Mi=ll(0),Di=0,Pd=null,Hc=0,rd=0,vh=0,bu=null,Lo=null,lc=0,nu=1/0,nd=null,Xu=!1,FA=null,Nc=null,Yu=!1,cc=null,So=0,Od=0,Wc=null,Ju=-1,PA=0;function ro(){return(Vn&6)!==0?oa():Ju!==-1?Ju:Ju=oa()}function Fl(A){return(A.mode&1)===0?1:(Vn&2)!==0&&Bi!==0?Bi&-Bi:pa.transition!==null?(PA===0&&(PA=Ri()),PA):(A=da,A!==0||(A=window.event,A=A===void 0?16:pt(A.type)),A)}function Xo(A,p,b,$){if(50<Od)throw Od=0,Wc=null,Error(n(185));Cs(A,b,$),((Vn&2)===0||A!==_s)&&(A===_s&&((Vn&2)===0&&(rd|=b),Di===4&&Yl(A,Bi)),Vi(A,$),b===1&&Vn===0&&(p.mode&1)===0&&(nu=oa()+500,Re&&xr()))}function Vi(A,p){var b=A.callbackNode;lo(A,p);var $=ni(A,A===_s?Bi:0);if($===0)b!==null&&el(b),A.callbackNode=null,A.callbackPriority=0;else if(p=$&-$,A.callbackPriority!==p){if(b!=null&&el(b),p===1)A.tag===0?Kt(bh.bind(null,A)):kt(bh.bind(null,A)),Gd(function(){(Vn&6)===0&&xr()}),b=null;else{switch(Os($)){case 1:b=qa;break;case 4:b=ao;break;case 16:b=ki;break;case 536870912:b=ko;break;default:b=ki}b=lt(b,Md.bind(null,A))}A.callbackPriority=p,A.callbackNode=b}}function Md(A,p){if(Ju=-1,PA=0,(Vn&6)!==0)throw Error(n(327));var b=A.callbackNode;if(F()&&A.callbackNode!==b)return null;var $=ni(A,A===_s?Bi:0);if($===0)return null;if(($&30)!==0||($&A.expiredLanes)!==0||p)p=dc(A,$);else{p=$;var Ae=Vn;Vn|=2;var Se=_A();(_s!==A||Bi!==p)&&(nd=null,nu=oa()+500,su(A,p));do try{_d();break}catch(bt){ju(A,bt)}while(!0);ia(),qo.current=Se,Vn=Ae,js!==null?p=0:(_s=null,Bi=0,p=Di)}if(p!==0){if(p===2&&(Ae=Ss(A),Ae!==0&&($=Ae,p=OA(A,Ae))),p===1)throw b=Pd,su(A,0),Yl(A,$),Vi(A,oa()),b;if(p===6)Yl(A,$);else{if(Ae=A.current.alternate,($&30)===0&&!yh(Ae)&&(p=dc(A,$),p===2&&(Se=Ss(A),Se!==0&&($=Se,p=OA(A,Se))),p===1))throw b=Pd,su(A,0),Yl(A,$),Vi(A,oa()),b;switch(A.finishedWork=Ae,A.finishedLanes=$,p){case 0:case 1:throw Error(n(345));case 2:Ld(A,Lo,nd);break;case 3:if(Yl(A,$),($&130023424)===$&&(p=lc+500-oa(),10<p)){if(ni(A,0)!==0)break;if(Ae=A.suspendedLanes,(Ae&$)!==$){ro(),A.pingedLanes|=A.suspendedLanes&Ae;break}A.timeoutHandle=il(Ld.bind(null,A,Lo,nd),p);break}Ld(A,Lo,nd);break;case 4:if(Yl(A,$),($&4194240)===$)break;for(p=A.eventTimes,Ae=-1;0<$;){var $e=31-Xa($);Se=1<<$e,$e=p[$e],$e>Ae&&(Ae=$e),$&=~Se}if($=Ae,$=oa()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*xi($/1960))-$,10<$){A.timeoutHandle=il(Ld.bind(null,A,Lo,nd),$);break}Ld(A,Lo,nd);break;case 5:Ld(A,Lo,nd);break;default:throw Error(n(329))}}}return Vi(A,oa()),A.callbackNode===b?Md.bind(null,A):null}function OA(A,p){var b=bu;return A.current.memoizedState.isDehydrated&&(su(A,p).flags|=256),A=dc(A,p),A!==2&&(p=Lo,Lo=b,p!==null&&xh(p)),A}function xh(A){Lo===null?Lo=A:Lo.push.apply(Lo,A)}function yh(A){for(var p=A;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var $=0;$<b.length;$++){var Ae=b[$],Se=Ae.getSnapshot;Ae=Ae.value;try{if(!mi(Se(),Ae))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Yl(A,p){for(p&=~vh,p&=~rd,A.suspendedLanes|=p,A.pingedLanes&=~p,A=A.expirationTimes;0<p;){var b=31-Xa(p),$=1<<b;A[b]=-1,p&=~$}}function bh(A){if((Vn&6)!==0)throw Error(n(327));F();var p=ni(A,0);if((p&1)===0)return Vi(A,oa()),null;var b=dc(A,p);if(A.tag!==0&&b===2){var $=Ss(A);$!==0&&(p=$,b=OA(A,$))}if(b===1)throw b=Pd,su(A,0),Yl(A,p),Vi(A,oa()),b;if(b===6)throw Error(n(345));return A.finishedWork=A.current.alternate,A.finishedLanes=p,Ld(A,Lo,nd),Vi(A,oa()),null}function MA(A,p){var b=Vn;Vn|=1;try{return A(p)}finally{Vn=b,Vn===0&&(nu=oa()+500,Re&&xr())}}function au(A){cc!==null&&cc.tag===0&&(Vn&6)===0&&F();var p=Vn;Vn|=1;var b=Ea.transition,$=da;try{if(Ea.transition=null,da=1,A)return A()}finally{da=$,Ea.transition=b,Vn=p,(Vn&6)===0&&xr()}}function DA(){yi=Mi.current,rs(Mi)}function su(A,p){A.finishedWork=null,A.finishedLanes=0;var b=A.timeoutHandle;if(b!==-1&&(A.timeoutHandle=-1,Du(b)),js!==null)for(b=js.return;b!==null;){var $=b;switch(J($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&Nl();break;case 3:Js(),rs(gi),rs(oi),Uu();break;case 5:jc($);break;case 4:Js();break;case 13:rs($s);break;case 19:rs($s);break;case 10:Zi($.type._context);break;case 22:case 23:DA()}b=b.return}if(_s=A,js=A=mn(A.current,null),Bi=yi=p,Di=0,Pd=null,vh=rd=Hc=0,Lo=bu=null,Sl!==null){for(p=0;p<Sl.length;p++)if(b=Sl[p],$=b.interleaved,$!==null){b.interleaved=null;var Ae=$.next,Se=b.pending;if(Se!==null){var $e=Se.next;Se.next=Ae,$.next=$e}b.pending=$}Sl=null}return A}function ju(A,p){do{var b=js;try{if(ia(),mu.current=ul,Qu){for(var $=li.memoizedState;$!==null;){var Ae=$.queue;Ae!==null&&(Ae.pending=null),$=$.next}Qu=!1}if(ed=0,Oi=eo=li=null,Oo=!1,Ed=0,Pa.current=null,b===null||b.return===null){Di=1,Pd=p,js=null;break}e:{var Se=A,$e=b.return,bt=b,Dt=p;if(p=Bi,bt.flags|=32768,Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var ur=Dt,zr=bt,Yr=zr.tag;if((zr.mode&1)===0&&(Yr===0||Yr===11||Yr===15)){var $r=zr.alternate;$r?(zr.updateQueue=$r.updateQueue,zr.memoizedState=$r.memoizedState,zr.lanes=$r.lanes):(zr.updateQueue=null,zr.memoizedState=null)}var Mn=fh($e);if(Mn!==null){Mn.flags&=-257,ph(Mn,$e,bt,Se,p),Mn.mode&1&&Af(Se,ur,p),p=Mn,Dt=ur;var Gn=p.updateQueue;if(Gn===null){var Jn=new Set;Jn.add(Dt),p.updateQueue=Jn}else Gn.add(Dt);break e}else{if((p&1)===0){Af(Se,ur,p),wu();break e}Dt=Error(n(426))}}else if(it&&bt.mode&1){var Ro=fh($e);if(Ro!==null){(Ro.flags&65536)===0&&(Ro.flags|=256),ph(Ro,$e,bt,Se,p),Is(kd(Dt,bt));break e}}Se=Dt=kd(Dt,bt),Di!==4&&(Di=2),bu===null?bu=[Se]:bu.push(Se),Se=$e;do{switch(Se.tag){case 3:Se.flags|=65536,p&=-p,Se.lanes|=p;var sr=xu(Se,Dt,p);Zc(Se,sr);break e;case 1:bt=Dt;var $t=Se.type,dr=Se.stateNode;if((Se.flags&128)===0&&(typeof $t.getDerivedStateFromError=="function"||dr!==null&&typeof dr.componentDidCatch=="function"&&(Nc===null||!Nc.has(dr)))){Se.flags|=65536,p&=-p,Se.lanes|=p;var rn=EA(Se,bt,p);Zc(Se,rn);break e}}Se=Se.return}while(Se!==null)}LA(b)}catch(ta){p=ta,js===b&&b!==null&&(js=b=b.return);continue}break}while(!0)}function _A(){var A=qo.current;return qo.current=ul,A===null?ul:A}function wu(){(Di===0||Di===3||Di===2)&&(Di=4),_s===null||(Hc&268435455)===0&&(rd&268435455)===0||Yl(_s,Bi)}function dc(A,p){var b=Vn;Vn|=2;var $=_A();(_s!==A||Bi!==p)&&(nd=null,su(A,p));do try{Dd();break}catch(Ae){ju(A,Ae)}while(!0);if(ia(),Vn=b,qo.current=$,js!==null)throw Error(n(261));return _s=null,Bi=0,Di}function Dd(){for(;js!==null;)Zu(js)}function _d(){for(;js!==null&&!Fs();)Zu(js)}function Zu(A){var p=ct(A.alternate,A,yi);A.memoizedProps=A.pendingProps,p===null?LA(A):js=p,Pa.current=null}function LA(A){var p=A;do{var b=p.alternate;if(A=p.return,(p.flags&32768)===0){if(b=Yn(b,p,yi),b!==null){js=b;return}}else{if(b=En(b,p),b!==null){b.flags&=32767,js=b;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{Di=6,js=null;return}}if(p=p.sibling,p!==null){js=p;return}js=p=A}while(p!==null);Di===0&&(Di=5)}function Ld(A,p,b){var $=da,Ae=Ea.transition;try{Ea.transition=null,da=1,xp(A,p,b,$)}finally{Ea.transition=Ae,da=$}return null}function xp(A,p,b,$){do F();while(cc!==null);if((Vn&6)!==0)throw Error(n(327));b=A.finishedWork;var Ae=A.finishedLanes;if(b===null)return null;if(A.finishedWork=null,A.finishedLanes=0,b===A.current)throw Error(n(177));A.callbackNode=null,A.callbackPriority=0;var Se=b.lanes|b.childLanes;if(qi(A,Se),A===_s&&(js=_s=null,Bi=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Yu||(Yu=!0,lt(ki,function(){return F(),null})),Se=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||Se){Se=Ea.transition,Ea.transition=null;var $e=da;da=1;var bt=Vn;Vn|=4,Pa.current=null,zi(A,b),Tl(b,A),Wl(Lc),De=!!_c,Lc=_c=null,A.current=b,Go(b),Gi(),Vn=bt,da=$e,Ea.transition=Se}else A.current=b;if(Yu&&(Yu=!1,cc=A,So=Ae),Se=A.pendingLanes,Se===0&&(Nc=null),ms(b.stateNode),Vi(A,oa()),p!==null)for($=A.onRecoverableError,b=0;b<p.length;b++)Ae=p[b],$(Ae.value,{componentStack:Ae.stack,digest:Ae.digest});if(Xu)throw Xu=!1,A=FA,FA=null,A;return(So&1)!==0&&A.tag!==0&&F(),Se=A.pendingLanes,(Se&1)!==0?A===Wc?Od++:(Od=0,Wc=A):Od=0,xr(),null}function F(){if(cc!==null){var A=Os(So),p=Ea.transition,b=da;try{if(Ea.transition=null,da=16>A?16:A,cc===null)var $=!1;else{if(A=cc,cc=null,So=0,(Vn&6)!==0)throw Error(n(331));var Ae=Vn;for(Vn|=4,an=A.current;an!==null;){var Se=an,$e=Se.child;if((an.flags&16)!==0){var bt=Se.deletions;if(bt!==null){for(var Dt=0;Dt<bt.length;Dt++){var ur=bt[Dt];for(an=ur;an!==null;){var zr=an;switch(zr.tag){case 0:case 11:case 15:Sa(8,zr,Se)}var Yr=zr.child;if(Yr!==null)Yr.return=zr,an=Yr;else for(;an!==null;){zr=an;var $r=zr.sibling,Mn=zr.return;if(to(zr),zr===ur){an=null;break}if($r!==null){$r.return=Mn,an=$r;break}an=Mn}}}var Gn=Se.alternate;if(Gn!==null){var Jn=Gn.child;if(Jn!==null){Gn.child=null;do{var Ro=Jn.sibling;Jn.sibling=null,Jn=Ro}while(Jn!==null)}}an=Se}}if((Se.subtreeFlags&2064)!==0&&$e!==null)$e.return=Se,an=$e;else e:for(;an!==null;){if(Se=an,(Se.flags&2048)!==0)switch(Se.tag){case 0:case 11:case 15:Sa(9,Se,Se.return)}var sr=Se.sibling;if(sr!==null){sr.return=Se.return,an=sr;break e}an=Se.return}}var $t=A.current;for(an=$t;an!==null;){$e=an;var dr=$e.child;if(($e.subtreeFlags&2064)!==0&&dr!==null)dr.return=$e,an=dr;else e:for($e=$t;an!==null;){if(bt=an,(bt.flags&2048)!==0)try{switch(bt.tag){case 0:case 11:case 15:ss(9,bt)}}catch(ta){L(bt,bt.return,ta)}if(bt===$e){an=null;break e}var rn=bt.sibling;if(rn!==null){rn.return=bt.return,an=rn;break e}an=bt.return}}if(Vn=Ae,xr(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(io,A)}catch{}$=!0}return $}finally{da=b,Ea.transition=p}}return!1}function B(A,p,b){p=kd(b,p),p=xu(A,p,1),A=sc(A,p,1),p=ro(),A!==null&&(Cs(A,1,p),Vi(A,p))}function L(A,p,b){if(A.tag===3)B(A,A,b);else for(;p!==null;){if(p.tag===3){B(p,A,b);break}else if(p.tag===1){var $=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Nc===null||!Nc.has($))){A=kd(b,A),A=EA(p,A,1),p=sc(p,A,1),A=ro(),p!==null&&(Cs(p,1,A),Vi(p,A));break}}p=p.return}}function R(A,p,b){var $=A.pingCache;$!==null&&$.delete(p),p=ro(),A.pingedLanes|=A.suspendedLanes&b,_s===A&&(Bi&b)===b&&(Di===4||Di===3&&(Bi&130023424)===Bi&&500>oa()-lc?su(A,0):vh|=b),Vi(A,p)}function we(A,p){p===0&&((A.mode&1)===0?p=1:(p=zn,zn<<=1,(zn&130023424)===0&&(zn=4194304)));var b=ro();A=Co(A,p),A!==null&&(Cs(A,p,b),Vi(A,b))}function Me(A){var p=A.memoizedState,b=0;p!==null&&(b=p.retryLane),we(A,b)}function Ve(A,p){var b=0;switch(A.tag){case 13:var $=A.stateNode,Ae=A.memoizedState;Ae!==null&&(b=Ae.retryLane);break;case 19:$=A.stateNode;break;default:throw Error(n(314))}$!==null&&$.delete(p),we(A,b)}var ct;ct=function(A,p,b){if(A!==null)if(A.memoizedProps!==p.pendingProps||gi.current)Al=!0;else{if((A.lanes&b)===0&&(p.flags&128)===0)return Al=!1,Xt(A,p,b);Al=(A.flags&131072)!==0}else Al=!1,it&&(p.flags&1048576)!==0&&E(p,ca,p.index);switch(p.lanes=0,p.tag){case 2:var $=p.type;ht(A,p),A=p.pendingProps;var Ae=yc(p,oi.current);fo(p,b),Ae=xA(null,p,$,A,Ae,b);var Se=yA();return p.flags|=1,typeof Ae=="object"&&Ae!==null&&typeof Ae.render=="function"&&Ae.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,ho($)?(Se=!0,ac(p)):Se=!1,p.memoizedState=Ae.state!==null&&Ae.state!==void 0?Ae.state:null,Jd(p),Ae.updater=tu,p.stateNode=Ae,Ae._reactInternals=p,SA(p,$,A,b),p=k(null,p,$,!0,Se,b)):(p.tag=0,it&&Se&&_e(p),Ko(null,p,Ae,b),p=p.child),p;case 16:$=p.elementType;e:{switch(ht(A,p),A=p.pendingProps,Ae=$._init,$=Ae($._payload),p.type=$,Ae=p.tag=jr($),A=mo($,A),Ae){case 0:p=yu(null,p,$,A,b);break e;case 1:p=TA(null,p,$,A,b);break e;case 11:p=IA(null,p,$,A,b);break e;case 14:p=gh(null,p,$,mo($.type,A),b);break e}throw Error(n(306,$,""))}return p;case 0:return $=p.type,Ae=p.pendingProps,Ae=p.elementType===$?Ae:mo($,Ae),yu(A,p,$,Ae,b);case 1:return $=p.type,Ae=p.pendingProps,Ae=p.elementType===$?Ae:mo($,Ae),TA(A,p,$,Ae,b);case 3:e:{if(q(p),A===null)throw Error(n(387));$=p.pendingProps,Se=p.memoizedState,Ae=Se.element,pu(A,p),bc(p,$,null,b);var $e=p.memoizedState;if($=$e.element,Se.isDehydrated)if(Se={element:$,isDehydrated:!1,cache:$e.cache,pendingSuspenseBoundaries:$e.pendingSuspenseBoundaries,transitions:$e.transitions},p.updateQueue.baseState=Se,p.memoizedState=Se,p.flags&256){Ae=kd(Error(n(423)),p),p=je(A,p,$,b,Ae);break e}else if($!==Ae){Ae=kd(Error(n(424)),p),p=je(A,p,$,b,Ae);break e}else for(At=rc(p.stateNode.containerInfo.firstChild),Xe=p,it=!0,Zt=null,b=Ws(p,null,$,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(yr(),$===Ae){p=_t(A,p,b);break e}Ko(A,p,$,b)}p=p.child}return p;case 5:return Wi(p),A===null&&ar(p),$=p.type,Ae=p.pendingProps,Se=A!==null?A.memoizedProps:null,$e=Ae.children,Cd($,Ae)?$e=null:Se!==null&&Cd($,Se)&&(p.flags|=32),qu(A,p),Ko(A,p,$e,b),p.child;case 6:return A===null&&ar(p),null;case 13:return Ke(A,p,b);case 4:return ks(p,p.stateNode.containerInfo),$=p.pendingProps,A===null?p.child=ba(p,null,$,b):Ko(A,p,$,b),p.child;case 11:return $=p.type,Ae=p.pendingProps,Ae=p.elementType===$?Ae:mo($,Ae),IA(A,p,$,Ae,b);case 7:return Ko(A,p,p.pendingProps,b),p.child;case 8:return Ko(A,p,p.pendingProps.children,b),p.child;case 12:return Ko(A,p,p.pendingProps.children,b),p.child;case 10:e:{if($=p.type._context,Ae=p.pendingProps,Se=p.memoizedProps,$e=Ae.value,bs(Xn,$._currentValue),$._currentValue=$e,Se!==null)if(mi(Se.value,$e)){if(Se.children===Ae.children&&!gi.current){p=_t(A,p,b);break e}}else for(Se=p.child,Se!==null&&(Se.return=p);Se!==null;){var bt=Se.dependencies;if(bt!==null){$e=Se.child;for(var Dt=bt.firstContext;Dt!==null;){if(Dt.context===$){if(Se.tag===1){Dt=ql(-1,b&-b),Dt.tag=2;var ur=Se.updateQueue;if(ur!==null){ur=ur.shared;var zr=ur.pending;zr===null?Dt.next=Dt:(Dt.next=zr.next,zr.next=Dt),ur.pending=Dt}}Se.lanes|=b,Dt=Se.alternate,Dt!==null&&(Dt.lanes|=b),Bl(Se.return,b,p),bt.lanes|=b;break}Dt=Dt.next}}else if(Se.tag===10)$e=Se.type===p.type?null:Se.child;else if(Se.tag===18){if($e=Se.return,$e===null)throw Error(n(341));$e.lanes|=b,bt=$e.alternate,bt!==null&&(bt.lanes|=b),Bl($e,b,p),$e=Se.sibling}else $e=Se.child;if($e!==null)$e.return=Se;else for($e=Se;$e!==null;){if($e===p){$e=null;break}if(Se=$e.sibling,Se!==null){Se.return=$e.return,$e=Se;break}$e=$e.return}Se=$e}Ko(A,p,Ae.children,b),p=p.child}return p;case 9:return Ae=p.type,$=p.pendingProps.children,fo(p,b),Ae=Hi(Ae),$=$(Ae),p.flags|=1,Ko(A,p,$,b),p.child;case 14:return $=p.type,Ae=mo($,p.pendingProps),Ae=mo($.type,Ae),gh(A,p,$,Ae,b);case 15:return kA(A,p,p.type,p.pendingProps,b);case 17:return $=p.type,Ae=p.pendingProps,Ae=p.elementType===$?Ae:mo($,Ae),ht(A,p),p.tag=1,ho($)?(A=!0,ac(p)):A=!1,fo(p,b),BA(p,$,Ae),SA(p,$,Ae,b),k(null,p,$,!0,A,b);case 19:return tr(A,p,b);case 22:return Gu(A,p,b)}throw Error(n(156,p.tag))};function lt(A,p){return Ql(A,p)}function Lt(A,p,b,$){this.tag=A,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(A,p,b,$){return new Lt(A,p,b,$)}function er(A){return A=A.prototype,!(!A||!A.isReactComponent)}function jr(A){if(typeof A=="function")return er(A)?1:0;if(A!=null){if(A=A.$$typeof,A===ie)return 11;if(A===K)return 14}return 2}function mn(A,p){var b=A.alternate;return b===null?(b=Rt(A.tag,p,A.key,A.mode),b.elementType=A.elementType,b.type=A.type,b.stateNode=A.stateNode,b.alternate=A,A.alternate=b):(b.pendingProps=p,b.type=A.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=A.flags&14680064,b.childLanes=A.childLanes,b.lanes=A.lanes,b.child=A.child,b.memoizedProps=A.memoizedProps,b.memoizedState=A.memoizedState,b.updateQueue=A.updateQueue,p=A.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=A.sibling,b.index=A.index,b.ref=A.ref,b}function en(A,p,b,$,Ae,Se){var $e=2;if($=A,typeof A=="function")er(A)&&($e=1);else if(typeof A=="string")$e=5;else e:switch(A){case D:return fn(b.children,Ae,Se,p);case _:$e=8,Ae|=8;break;case Z:return A=Rt(12,b,p,Ae|2),A.elementType=Z,A.lanes=Se,A;case U:return A=Rt(13,b,p,Ae),A.elementType=U,A.lanes=Se,A;case G:return A=Rt(19,b,p,Ae),A.elementType=G,A.lanes=Se,A;case Ne:return za(b,Ae,Se,p);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case ae:$e=10;break e;case V:$e=9;break e;case ie:$e=11;break e;case K:$e=14;break e;case W:$e=16,$=null;break e}throw Error(n(130,A==null?A:typeof A,""))}return p=Rt($e,b,p,Ae),p.elementType=A,p.type=$,p.lanes=Se,p}function fn(A,p,b,$){return A=Rt(7,A,$,p),A.lanes=b,A}function za(A,p,b,$){return A=Rt(22,A,$,p),A.elementType=Ne,A.lanes=b,A.stateNode={isHidden:!1},A}function Kn(A,p,b){return A=Rt(6,A,null,p),A.lanes=b,A}function Qn(A,p,b){return p=Rt(4,A.children!==null?A.children:[],A.key,p),p.lanes=b,p.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},p}function Ls(A,p,b,$,Ae){this.tag=p,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=$,this.onRecoverableError=Ae,this.mutableSourceEagerHydrationData=null}function Ya(A,p,b,$,Ae,Se,$e,bt,Dt){return A=new Ls(A,p,b,bt,Dt),p===1?(p=1,Se===!0&&(p|=8)):p=0,Se=Rt(3,null,null,p),A.current=Se,Se.stateNode=A,Se.memoizedState={element:$,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jd(Se),A}function Oa(A,p,b){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:$==null?null:""+$,children:A,containerInfo:p,implementation:b}}function Nn(A){if(!A)return cl;A=A._reactInternals;e:{if(Ga(A)!==A||A.tag!==1)throw Error(n(170));var p=A;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(ho(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(A.tag===1){var b=A.type;if(ho(b))return Xd(A,b,p)}return p}function ws(A,p,b,$,Ae,Se,$e,bt,Dt){return A=Ya(b,$,!0,A,Ae,Se,$e,bt,Dt),A.context=Nn(null),b=A.current,$=ro(),Ae=Fl(b),Se=ql($,Ae),Se.callback=p??null,sc(b,Se,Ae),A.current.lanes=Ae,Cs(A,Ae,$),Vi(A,$),A}function fs(A,p,b,$){var Ae=p.current,Se=ro(),$e=Fl(Ae);return b=Nn(b),p.context===null?p.context=b:p.pendingContext=b,p=ql(Se,$e),p.payload={element:A},$=$===void 0?null:$,$!==null&&(p.callback=$),A=sc(Ae,p,$e),A!==null&&(Xo(A,Ae,$e,Se),ic(A,Ae,$e)),$e}function Ia(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function xo(A,p){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var b=A.retryLane;A.retryLane=b!==0&&b<p?b:p}}function Pl(A,p){xo(A,p),(A=A.alternate)&&xo(A,p)}function Bc(){return null}var ti=typeof reportError=="function"?reportError:function(A){console.error(A)};function Uo(A){this._internalRoot=A}ad.prototype.render=Uo.prototype.render=function(A){var p=this._internalRoot;if(p===null)throw Error(n(409));fs(A,p,null,null)},ad.prototype.unmount=Uo.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var p=A.containerInfo;au(function(){fs(null,A,null,null)}),p[wl]=null}};function ad(A){this._internalRoot=A}ad.prototype.unstable_scheduleHydration=function(A){if(A){var p=uo();A={blockedOn:null,target:A,priority:p};for(var b=0;b<Oe.length&&p!==0&&p<Oe[b].priority;b++);Oe.splice(b,0,A),b===0&&P(A)}};function Ol(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function hl(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function Ud(A,p,b,$,Ae){if(Ae){if(typeof $=="function"){var Se=$;$=function(){var ur=Ia($e);Se.call(ur)}}var $e=ws(p,$,A,0,null,!1,!1,"",Cu);return A._reactRootContainer=$e,A[wl]=$e.current,fi(A.nodeType===8?A.parentNode:A),au(),$e}for(;Ae=A.lastChild;)A.removeChild(Ae);if(typeof $=="function"){var bt=$;$=function(){var ur=Ia(Dt);bt.call(ur)}}var Dt=Ya(A,0,!1,null,null,!1,!1,"",Cu);return A._reactRootContainer=Dt,A[wl]=Dt.current,fi(A.nodeType===8?A.parentNode:A),au(function(){fs(p,Dt,b,$)}),Dt}function sd(A,p,b,$,Ae){var Se=b._reactRootContainer;if(Se){var $e=Se;if(typeof Ae=="function"){var bt=Ae;Ae=function(){var Dt=Ia($e);bt.call(Dt)}}fs(p,$e,A,Ae)}else $e=Ud(b,p,A,Ae,$);return Ia($e)}si=function(A){switch(A.tag){case 3:var p=A.stateNode;if(p.current.memoizedState.isDehydrated){var b=Ps(p.pendingLanes);b!==0&&(co(p,b|1),Vi(p,oa()),(Vn&6)===0&&(nu=oa()+500,xr()))}break;case 13:au(function(){var $=Co(A,1);if($!==null){var Ae=ro();Xo($,A,1,Ae)}}),Pl(A,1)}},Ti=function(A){if(A.tag===13){var p=Co(A,134217728);if(p!==null){var b=ro();Xo(p,A,134217728,b)}Pl(A,134217728)}},pi=function(A){if(A.tag===13){var p=Fl(A),b=Co(A,p);if(b!==null){var $=ro();Xo(b,A,p,$)}Pl(A,p)}},uo=function(){return da},Ut=function(A,p){var b=da;try{return da=A,p()}finally{da=b}},Rn=function(A,p,b){switch(p){case"input":if(Le(A,b),p=b.name,b.type==="radio"&&p!=null){for(b=A;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var $=b[p];if($!==A&&$.form===A.form){var Ae=Nd($);if(!Ae)throw Error(n(90));oe($),Le($,Ae)}}}break;case"textarea":fr(A,b);break;case"select":p=b.value,p!=null&&Nt(A,!!b.multiple,p,!1)}},Nr=MA,ln=au;var eA={usingClientEntryPoint:!1,Events:[Rc,zo,Nd,sn,yt,MA]},id={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=ri(A),A===null?null:A.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||Bc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{io=Rd.inject(iu),ji=Rd}catch{}}return $c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA,$c.createPortal=function(A,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ol(p))throw Error(n(200));return Oa(A,p,null,b)},$c.createRoot=function(A,p){if(!Ol(A))throw Error(n(299));var b=!1,$="",Ae=ti;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&($=p.identifierPrefix),p.onRecoverableError!==void 0&&(Ae=p.onRecoverableError)),p=Ya(A,1,!1,null,null,b,!1,$,Ae),A[wl]=p.current,fi(A.nodeType===8?A.parentNode:A),new Uo(p)},$c.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var p=A._reactInternals;if(p===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=ri(p),A=A===null?null:A.stateNode,A},$c.flushSync=function(A){return au(A)},$c.hydrate=function(A,p,b){if(!hl(p))throw Error(n(200));return sd(null,A,p,!0,b)},$c.hydrateRoot=function(A,p,b){if(!Ol(A))throw Error(n(405));var $=b!=null&&b.hydratedSources||null,Ae=!1,Se="",$e=ti;if(b!=null&&(b.unstable_strictMode===!0&&(Ae=!0),b.identifierPrefix!==void 0&&(Se=b.identifierPrefix),b.onRecoverableError!==void 0&&($e=b.onRecoverableError)),p=ws(p,null,A,1,b??null,Ae,!1,Se,$e),A[wl]=p.current,fi(A),$)for(A=0;A<$.length;A++)b=$[A],Ae=b._getVersion,Ae=Ae(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,Ae]:p.mutableSourceEagerHydrationData.push(b,Ae);return new ad(p)},$c.render=function(A,p,b){if(!hl(p))throw Error(n(200));return sd(null,A,p,!1,b)},$c.unmountComponentAtNode=function(A){if(!hl(A))throw Error(n(40));return A._reactRootContainer?(au(function(){sd(null,null,A,!1,function(){A._reactRootContainer=null,A[wl]=null})}),!0):!1},$c.unstable_batchedUpdates=MA,$c.unstable_renderSubtreeIntoContainer=function(A,p,b,$){if(!hl(b))throw Error(n(200));if(A==null||A._reactInternals===void 0)throw Error(n(38));return sd(A,p,b,!1,$)},$c.version="18.3.1-next-f1338f8080-20240426",$c}var XC;function zT(){if(XC)return b1.exports;XC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),b1.exports=t6(),b1.exports}var YC;function r6(){if(YC)return jg;YC=1;var t=zT();return jg.createRoot=t.createRoot,jg.hydrateRoot=t.hydrateRoot,jg}var n6=r6();const a6=Qs(n6);var Zl=zT();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},jm.apply(this,arguments)}var VA;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(VA||(VA={}));const JC="popstate";function s6(t){t===void 0&&(t={});function r(a,s){let{pathname:o,search:c,hash:l}=a.location;return ej("",{pathname:o,search:c,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Ev(s)}return o6(r,n,null,t)}function Qo(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Iw(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function i6(){return Math.random().toString(36).substr(2,8)}function ZC(t,r){return{usr:t.state,key:t.key,idx:r}}function ej(t,r,n,a){return n===void 0&&(n=null),jm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?ip(r):r,{state:n,key:r&&r.key||a||i6()})}function Ev(t){let{pathname:r="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function ip(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(r.search=t.substr(a),t=t.substr(0,a)),t&&(r.pathname=t)}return r}function o6(t,r,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,l=VA.Pop,h=null,i=d();i==null&&(i=0,c.replaceState(jm({},c.state,{idx:i}),""));function d(){return(c.state||{idx:null}).idx}function u(){l=VA.Pop;let x=d(),y=x==null?null:x-i;i=x,h&&h({action:l,location:g.location,delta:y})}function f(x,y){l=VA.Push;let j=ej(g.location,x,y);i=d()+1;let N=ZC(j,i),T=g.createHref(j);try{c.pushState(N,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}o&&h&&h({action:l,location:g.location,delta:1})}function m(x,y){l=VA.Replace;let j=ej(g.location,x,y);i=d();let N=ZC(j,i),T=g.createHref(j);c.replaceState(N,"",T),o&&h&&h({action:l,location:g.location,delta:0})}function v(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof x=="string"?x:Ev(x);return j=j.replace(/ $/,"%20"),Qo(y,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,y)}let g={get action(){return l},get location(){return t(s,c)},listen(x){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(JC,u),h=x,()=>{s.removeEventListener(JC,u),h=null}},createHref(x){return r(s,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return c.go(x)}};return g}var eN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eN||(eN={}));function l6(t,r,n){return n===void 0&&(n="/"),c6(t,r,n)}function c6(t,r,n,a){let s=typeof r=="string"?ip(r):r,o=kw(s.pathname||"/",n);if(o==null)return null;let c=VT(t);d6(c);let l=null;for(let h=0;l==null&&h<c.length;++h){let i=j6(o);l=x6(c[h],i)}return l}function VT(t,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(o,c,l)=>{let h={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Qo(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let i=XA([a,h.relativePath]),d=n.concat(h);o.children&&o.children.length>0&&(Qo(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+i+'".')),VT(o.children,r,d,i)),!(o.path==null&&!o.index)&&r.push({path:i,score:g6(i,o.index),routesMeta:d})};return t.forEach((o,c)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,c);else for(let h of KT(o.path))s(o,c,h)}),r}function KT(t){let r=t.split("/");if(r.length===0)return[];let[n,...a]=r,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=KT(a.join("/")),l=[];return l.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&l.push(...c),l.map(h=>t.startsWith("/")&&h===""?"/":h)}function d6(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:v6(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const u6=/^:[\w-]+$/,A6=3,h6=2,f6=1,p6=10,m6=-2,tN=t=>t==="*";function g6(t,r){let n=t.split("/"),a=n.length;return n.some(tN)&&(a+=m6),r&&(a+=h6),n.filter(s=>!tN(s)).reduce((s,o)=>s+(u6.test(o)?A6:o===""?f6:p6),a)}function v6(t,r){return t.length===r.length&&t.slice(0,-1).every((a,s)=>a===r[s])?t[t.length-1]-r[r.length-1]:0}function x6(t,r,n){let{routesMeta:a}=t,s={},o="/",c=[];for(let l=0;l<a.length;++l){let h=a[l],i=l===a.length-1,d=o==="/"?r:r.slice(o.length)||"/",u=y6({path:h.relativePath,caseSensitive:h.caseSensitive,end:i},d),f=h.route;if(!u)return null;Object.assign(s,u.params),c.push({params:s,pathname:XA([o,u.pathname]),pathnameBase:S6(XA([o,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(o=XA([o,u.pathnameBase]))}return c}function y6(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=b6(t.path,t.caseSensitive,t.end),s=r.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((i,d,u)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[u]||"";c=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[u];return m&&!v?i[f]=void 0:i[f]=(v||"").replace(/%2F/g,"/"),i},{}),pathname:o,pathnameBase:c,pattern:t}}function b6(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Iw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,h)=>(a.push({paramName:l,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function j6(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Iw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function kw(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}const w6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C6=t=>w6.test(t);function N6(t,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:s=""}=typeof t=="string"?ip(t):t,o;if(n)if(C6(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Iw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?o=rN(n.substring(1),"/"):o=rN(n,r)}else o=r;return{pathname:o,search:E6(a),hash:I6(s)}}function rN(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function C1(t,r,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B6(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Tw(t,r){let n=B6(t);return r?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Fw(t,r,n,a){a===void 0&&(a=!1);let s;typeof t=="string"?s=ip(t):(s=jm({},t),Qo(!s.pathname||!s.pathname.includes("?"),C1("?","pathname","search",s)),Qo(!s.pathname||!s.pathname.includes("#"),C1("#","pathname","hash",s)),Qo(!s.search||!s.search.includes("#"),C1("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,l;if(c==null)l=n;else{let u=r.length-1;if(!a&&c.startsWith("..")){let f=c.split("/");for(;f[0]==="..";)f.shift(),u-=1;s.pathname=f.join("/")}l=u>=0?r[u]:"/"}let h=N6(s,l),i=c&&c!=="/"&&c.endsWith("/"),d=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(i||d)&&(h.pathname+="/"),h}const XA=t=>t.join("/").replace(/\/\/+/g,"/"),S6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GT=["post","put","patch","delete"];new Set(GT);const T6=["get",...GT];new Set(T6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wm.apply(this,arguments)}const Pw=M.createContext(null),F6=M.createContext(null),eh=M.createContext(null),I0=M.createContext(null),th=M.createContext({outlet:null,matches:[],isDataRoute:!1}),qT=M.createContext(null);function P6(t,r){let{relative:n}=r===void 0?{}:r;op()||Qo(!1);let{basename:a,navigator:s}=M.useContext(eh),{hash:o,pathname:c,search:l}=YT(t,{relative:n}),h=c;return a!=="/"&&(h=c==="/"?a:XA([a,c])),s.createHref({pathname:h,search:l,hash:o})}function op(){return M.useContext(I0)!=null}function In(){return op()||Qo(!1),M.useContext(I0).location}function XT(t){M.useContext(eh).static||M.useLayoutEffect(t)}function ds(){let{isDataRoute:t}=M.useContext(th);return t?V6():O6()}function O6(){op()||Qo(!1);let t=M.useContext(Pw),{basename:r,future:n,navigator:a}=M.useContext(eh),{matches:s}=M.useContext(th),{pathname:o}=In(),c=JSON.stringify(Tw(s,n.v7_relativeSplatPath)),l=M.useRef(!1);return XT(()=>{l.current=!0}),M.useCallback(function(i,d){if(d===void 0&&(d={}),!l.current)return;if(typeof i=="number"){a.go(i);return}let u=Fw(i,JSON.parse(c),o,d.relative==="path");t==null&&r!=="/"&&(u.pathname=u.pathname==="/"?r:XA([r,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[r,a,c,o,t])}function YT(t,r){let{relative:n}=r===void 0?{}:r,{future:a}=M.useContext(eh),{matches:s}=M.useContext(th),{pathname:o}=In(),c=JSON.stringify(Tw(s,a.v7_relativeSplatPath));return M.useMemo(()=>Fw(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function M6(t,r){return D6(t,r)}function D6(t,r,n,a){op()||Qo(!1);let{navigator:s}=M.useContext(eh),{matches:o}=M.useContext(th),c=o[o.length-1],l=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let i=In(),d;if(r){var u;let x=typeof r=="string"?ip(r):r;h==="/"||(u=x.pathname)!=null&&u.startsWith(h)||Qo(!1),d=x}else d=i;let f=d.pathname||"/",m=f;if(h!=="/"){let x=h.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=l6(t,{pathname:m}),g=Q6(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:XA([h,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?h:XA([h,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,a);return r&&g?M.createElement(I0.Provider,{value:{location:wm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:VA.Pop}},g):g}function _6(){let t=z6(),r=k6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},r),n?M.createElement("pre",{style:s},n):null,null)}const L6=M.createElement(_6,null);class U6 extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?M.createElement(th.Provider,{value:this.props.routeContext},M.createElement(qT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R6(t){let{routeContext:r,match:n,children:a}=t,s=M.useContext(Pw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(th.Provider,{value:r},a)}function Q6(t,r,n,a){var s;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=a)!=null&&o.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=c.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);d>=0||Qo(!1),c=c.slice(0,Math.min(c.length,d+1))}let h=!1,i=-1;if(n&&a&&a.v7_partialHydration)for(let d=0;d<c.length;d++){let u=c[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=d),u.route.id){let{loaderData:f,errors:m}=n,v=u.route.loader&&f[u.route.id]===void 0&&(!m||m[u.route.id]===void 0);if(u.route.lazy||v){h=!0,i>=0?c=c.slice(0,i+1):c=[c[0]];break}}}return c.reduceRight((d,u,f)=>{let m,v=!1,g=null,x=null;n&&(m=l&&u.route.id?l[u.route.id]:void 0,g=u.route.errorElement||L6,h&&(i<0&&f===0?(K6("route-fallback"),v=!0,x=null):i===f&&(v=!0,x=u.route.hydrateFallbackElement||null)));let y=r.concat(c.slice(0,f+1)),j=()=>{let N;return m?N=g:v?N=x:u.route.Component?N=M.createElement(u.route.Component,null):u.route.element?N=u.route.element:N=d,M.createElement(R6,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:N})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?M.createElement(U6,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):j()},null)}var JT=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(JT||{}),ZT=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(ZT||{});function H6(t){let r=M.useContext(Pw);return r||Qo(!1),r}function W6(t){let r=M.useContext(F6);return r||Qo(!1),r}function $6(t){let r=M.useContext(th);return r||Qo(!1),r}function e3(t){let r=$6(),n=r.matches[r.matches.length-1];return n.route.id||Qo(!1),n.route.id}function z6(){var t;let r=M.useContext(qT),n=W6(),a=e3();return r!==void 0?r:(t=n.errors)==null?void 0:t[a]}function V6(){let{router:t}=H6(JT.UseNavigateStable),r=e3(ZT.UseNavigateStable),n=M.useRef(!1);return XT(()=>{n.current=!0}),M.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wm({fromRouteId:r},o)))},[t,r])}const nN={};function K6(t,r,n){nN[t]||(nN[t]=!0)}function G6(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tj(t){let{to:r,replace:n,state:a,relative:s}=t;op()||Qo(!1);let{future:o,static:c}=M.useContext(eh),{matches:l}=M.useContext(th),{pathname:h}=In(),i=ds(),d=Fw(r,Tw(l,o.v7_relativeSplatPath),h,s==="path"),u=JSON.stringify(d);return M.useEffect(()=>i(JSON.parse(u),{replace:n,state:a,relative:s}),[i,u,s,n,a]),null}function bn(t){Qo(!1)}function q6(t){let{basename:r="/",children:n=null,location:a,navigationType:s=VA.Pop,navigator:o,static:c=!1,future:l}=t;op()&&Qo(!1);let h=r.replace(/^\/*/,"/"),i=M.useMemo(()=>({basename:h,navigator:o,static:c,future:wm({v7_relativeSplatPath:!1},l)}),[h,l,o,c]);typeof a=="string"&&(a=ip(a));let{pathname:d="/",search:u="",hash:f="",state:m=null,key:v="default"}=a,g=M.useMemo(()=>{let x=kw(d,h);return x==null?null:{location:{pathname:x,search:u,hash:f,state:m,key:v},navigationType:s}},[h,d,u,f,m,v,s]);return g==null?null:M.createElement(eh.Provider,{value:i},M.createElement(I0.Provider,{children:n,value:g}))}function X6(t){let{children:r,location:n}=t;return M6(rj(r),n)}new Promise(()=>{});function rj(t,r){r===void 0&&(r=[]);let n=[];return M.Children.forEach(t,(a,s)=>{if(!M.isValidElement(a))return;let o=[...r,s];if(a.type===M.Fragment){n.push.apply(n,rj(a.props.children,o));return}a.type!==bn&&Qo(!1),!a.props.index||!a.props.children||Qo(!1);let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=rj(a.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nj(){return nj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},nj.apply(this,arguments)}function Y6(t,r){if(t==null)return{};var n={},a=Object.keys(t),s,o;for(o=0;o<a.length;o++)s=a[o],!(r.indexOf(s)>=0)&&(n[s]=t[s]);return n}function J6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z6(t,r){return t.button===0&&(!r||r==="_self")&&!J6(t)}function aj(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let a=t[n];return r.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function e8(t,r){let n=aj(t);return r&&r.forEach((a,s)=>{n.has(s)||r.getAll(s).forEach(o=>{n.append(s,o)})}),n}const t8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r8="6";try{window.__reactRouterVersion=r8}catch{}const n8="startTransition",aN=JO[n8];function a8(t){let{basename:r,children:n,future:a,window:s}=t,o=M.useRef();o.current==null&&(o.current=s6({window:s,v5Compat:!0}));let c=o.current,[l,h]=M.useState({action:c.action,location:c.location}),{v7_startTransition:i}=a||{},d=M.useCallback(u=>{i&&aN?aN(()=>h(u)):h(u)},[h,i]);return M.useLayoutEffect(()=>c.listen(d),[c,d]),M.useEffect(()=>G6(a),[a]),M.createElement(q6,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:c,future:a})}const s8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=M.forwardRef(function(r,n){let{onClick:a,relative:s,reloadDocument:o,replace:c,state:l,target:h,to:i,preventScrollReset:d,viewTransition:u}=r,f=Y6(r,t8),{basename:m}=M.useContext(eh),v,g=!1;if(typeof i=="string"&&i8.test(i)&&(v=i,s8))try{let N=new URL(window.location.href),T=i.startsWith("//")?new URL(N.protocol+i):new URL(i),I=kw(T.pathname,m);T.origin===N.origin&&I!=null?i=I+T.search+T.hash:g=!0}catch{}let x=P6(i,{relative:s}),y=o8(i,{replace:c,state:l,target:h,preventScrollReset:d,relative:s,viewTransition:u});function j(N){a&&a(N),N.defaultPrevented||y(N)}return M.createElement("a",nj({},f,{href:v||x,onClick:g||o?a:j,ref:n,target:h}))});var sN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sN||(sN={}));var iN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iN||(iN={}));function o8(t,r){let{target:n,replace:a,state:s,preventScrollReset:o,relative:c,viewTransition:l}=r===void 0?{}:r,h=ds(),i=In(),d=YT(t,{relative:c});return M.useCallback(u=>{if(Z6(u,n)){u.preventDefault();let f=a!==void 0?a:Ev(i)===Ev(d);h(t,{replace:f,state:s,preventScrollReset:o,relative:c,viewTransition:l})}},[i,h,d,a,s,n,t,o,c,l])}function Ow(t){let r=M.useRef(aj(t)),n=M.useRef(!1),a=In(),s=M.useMemo(()=>e8(a.search,n.current?null:r.current),[a.search]),o=ds(),c=M.useCallback((l,h)=>{const i=aj(typeof l=="function"?l(s):l);n.current=!0,o("?"+i,h)},[o,s]);return[s,c]}const l8="http://localhost:3000/api/v1",k0=t=>new Promise(r=>setTimeout(r,t));async function Mw(t,r={}){const n=`${l8}${t}`,a=await fetch(n,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!a.ok){const o=await a.json().catch(()=>({})),c=o.message||o.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const sj=[{id:"u-superadmin",name:"SuperAdmin",email:"superadmin@medi-waste.io",roles:["superadmin"],token:"demo-token-superadmin"},{id:"u-admin",name:"Alex Admin",email:"admin@medi-waste.io",roles:["admin"],token:"demo-token-admin"},{id:"u-manager",name:"Morgan Manager",email:"manager@medi-waste.io",roles:["manager"],token:"demo-token-manager"}],nm=new Map,c8=()=>Math.floor(1e5+Math.random()*9e5).toString(),oN="123456",t3=async t=>{const r=t.toLowerCase();if(r==="superadmin@medi-waste.io"||r==="superadmin")return console.log(`[SUPER ADMIN] Static OTP: ${oN}`),oN;await k0(500);const a=c8(),s=Date.now()+300*1e3;return nm.set(r,{otp:a,expiresAt:s}),console.log(`[MOCK] OTP sent to ${t}: ${a}`),a},d8=async(t,r)=>{const n=t.toLowerCase();if(n==="superadmin"||n==="superadmin@medi-waste.io")try{return!!(await Mw("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:t,otp:r})})).userId}catch(c){return console.error("OTP verification error:",c),!1}await k0(300);const s=n==="superadmin"?"superadmin@medi-waste.io":n,o=nm.get(s);return o?Date.now()>o.expiresAt?(nm.delete(s),console.log(`[DEBUG] OTP expired for email: ${s}`),!1):o.otp!==r?(console.log(`[DEBUG] OTP mismatch. Expected: ${o.otp}, Got: ${r}`),!1):(nm.delete(s),!0):(console.log(`[DEBUG] No OTP found for email: ${s}`),console.log("[DEBUG] OTP Store keys:",Array.from(nm.keys())),!1)},u8=async(t,r)=>{var n;try{const a=await Mw("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:t.trim(),password:r})}),s=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),o=s==="superadmin@medi-waste.io"||s==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:o?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await t3(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},A8=async(t,r)=>{const n=t.toLowerCase();if(n==="superadmin"||n==="superadmin@medi-waste.io")try{const c=await Mw("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:t,otp:r})});return{id:c.userId,name:c.userName,email:c.email||c.userName,roles:["superadmin"],token:c.token||`token-${c.userId}`}}catch(c){throw console.error("OTP login error:",c),new Error("Invalid or expired OTP")}if(await k0(300),!await d8(t,r))throw new Error("Invalid or expired OTP");let o;if(t.toLowerCase()==="superadmin"||t.toLowerCase()==="superadmin@medi-waste.io"?o=sj.find(c=>c.id==="u-superadmin"):o=sj.find(c=>c.email===t.toLowerCase()),!o)throw new Error("User not found");return o},h8=async(t,r)=>{if(await k0(500),!r)throw new Error("Unauthorized");if(t.password.length<8)throw new Error("Password must be at least 8 characters");const n={id:`u-${Date.now()}`,name:t.name,email:t.email.toLowerCase(),roles:[t.role],token:`issued-${Date.now()}`};return sj.push(n),n},r3=M.createContext(void 0),hf="mw-auth-user",f8=({children:t})=>{const[r,n]=M.useState(null),[a,s]=M.useState(!0);M.useEffect(()=>{(()=>{try{const v=localStorage.getItem(hf);if(v){const g=JSON.parse(v);g&&g.id&&g.token&&g.token.trim()!==""?g.token.split(".").length===3?n(g):(console.warn("Invalid token format in storage"),localStorage.removeItem(hf),n(null)):(console.warn("Invalid user data in storage"),localStorage.removeItem(hf),n(null))}else n(null)}catch(v){console.error("Error loading user from storage:",v),localStorage.removeItem(hf),n(null)}finally{s(!1)}})()},[]);const o=M.useCallback(m=>{if(n(m),m)try{localStorage.setItem(hf,JSON.stringify(m))}catch(v){console.error("Error saving user to storage:",v)}else try{localStorage.removeItem(hf)}catch(v){console.error("Error removing user from storage:",v)}},[]),c=M.useCallback(async(m,v)=>{s(!0);try{const g=await u8(m,v);if(g.requiresOTP)return{requiresOTP:!0,email:g.email};if(g.user)return o(g.user),{requiresOTP:!1};throw new Error("Login failed")}finally{s(!1)}},[]),l=M.useCallback(async m=>{s(!0);try{await t3(m)}finally{s(!1)}},[]),h=M.useCallback(async(m,v)=>{s(!0);try{const g=await A8(m,v);o(g)}finally{s(!1)}},[o]),i=M.useCallback(()=>{o(null)},[o]),d=M.useCallback(async m=>{if(!r)throw new Error("Unauthorized");s(!0);try{return await h8(m,r.token)}finally{s(!1)}},[r]),u=M.useCallback(m=>{const v=Array.isArray(m)?m:[m];return!!(r!=null&&r.roles.some(g=>v.includes(g)))},[r]),f=M.useMemo(()=>({user:r,loading:a,login:c,sendOTP:l,verifyOTP:h,logout:i,createUser:d,hasRole:u}),[r,a,c,l,h,i,d,u]);return e.jsx(r3.Provider,{value:f,children:t})},n3=()=>{const t=M.useContext(r3);if(!t)throw new Error("useAuthContext must be used within AuthProvider");return t},ya=()=>n3(),lN=({children:t})=>{const{user:r,logout:n}=ya(),{pathname:a}=In();return e.jsxs("div",{className:"app-shell",children:[e.jsxs("header",{className:"app-shell__header",children:[e.jsxs(Zr,{to:"/",className:"brand",children:["MediWaste",e.jsx("span",{className:"brand__tag",children:"Control"})]}),e.jsx("nav",{className:"app-shell__nav",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"nav__user",children:[r.name,e.jsx("small",{children:r.roles.join(", ")})]}),e.jsx(Zr,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),e.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Zr,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),e.jsx(Zr,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),e.jsx("main",{className:"app-shell__body",children:t})]})},Tn=({roles:t,children:r})=>{const{user:n,loading:a}=ya(),s=In();if(a)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),e.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return e.jsx(tj,{to:"/login",replace:!0,state:{from:s}});const o=Array.isArray(n.roles)?n.roles:[];return t&&t.length>0&&!o.some(c=>t.includes(c))?e.jsx(tj,{to:"/login",replace:!0}):e.jsx(e.Fragment,{children:r})},p8=M.createContext(void 0),m8=({children:t,user:r})=>{var d,u;const[n,a]=M.useState({enabled:!1,previewRole:null,originalRole:((d=r==null?void 0:r.roles)==null?void 0:d[0])||"viewer"}),s=M.useCallback(f=>{a(f)},[]),o=M.useCallback((f,m)=>{a({enabled:!0,previewRole:f,originalRole:m})},[]),c=M.useCallback(()=>{a(f=>({enabled:!1,previewRole:null,originalRole:f.originalRole}))},[]),l=n.enabled,h=n.enabled&&n.previewRole?n.previewRole:((u=r==null?void 0:r.roles)==null?void 0:u[0])||"viewer",i={previewMode:n,setPreviewMode:s,startPreview:o,exitPreview:c,isPreviewMode:l,currentRole:h,user:r};return e.jsx(p8.Provider,{value:i,children:t})},g8=()=>{const{login:t,verifyOTP:r,loading:n,user:a}=ya(),s=ds(),o=In(),[c,l]=M.useState(""),[h,i]=M.useState(""),[d,u]=M.useState(!1),[f,m]=M.useState(!1),[v,g]=M.useState(null),[x,y]=M.useState(!1),[j,N]=M.useState(""),[T,I]=M.useState(["","","","","",""]),[C,D]=M.useState(0);if(M.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),M.useEffect(()=>{var G,K;if(a&&!n){const W=(K=(G=o.state)==null?void 0:G.from)==null?void 0:K.pathname;s(W||"/dashboard",{replace:!0})}},[a,n,s,o]),M.useEffect(()=>{if(C>0){const G=setTimeout(()=>D(C-1),1e3);return()=>clearTimeout(G)}},[C]),n)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),e.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const _=G=>{if(!G||G.trim().length===0)return!1;const K=/^[a-zA-Z0-9_-]+$/,W=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return K.test(G.trim())||W.test(G.trim())},Z=async G=>{var K,W;if(G.preventDefault(),g(null),!_(c)){g("Please enter a valid username or email address");return}if(!h||h.trim().length===0){g("Please enter your password");return}try{const Ne=await t(c.trim(),h);if(Ne.requiresOTP&&Ne.email)N(Ne.email),y(!0),D(60);else{const ge=(W=(K=o.state)==null?void 0:K.from)==null?void 0:W.pathname;s(ge||"/dashboard",{replace:!0})}}catch(Ne){g(Ne.message||"Invalid credentials. Please check your username and password.")}},ae=(G,K)=>{if(K.length>1)return;const W=[...T];if(W[G]=K,I(W),K&&G<5){const Ne=document.getElementById(`otp-input-${G+1}`);Ne==null||Ne.focus()}},V=(G,K)=>{if(K.key==="Backspace"&&!T[G]&&G>0){const W=document.getElementById(`otp-input-${G-1}`);W==null||W.focus()}},ie=async G=>{var W,Ne,ge;G.preventDefault(),g(null);const K=T.join("");if(K.length!==6){g("Please enter a valid 6-digit OTP");return}try{await r(j,K);const Ee=(Ne=(W=o.state)==null?void 0:W.from)==null?void 0:Ne.pathname;s(Ee||"/dashboard",{replace:!0})}catch(Ee){g(Ee.message||"Invalid OTP"),I(["","","","","",""]),(ge=document.getElementById("otp-input-0"))==null||ge.focus()}},U=async()=>{if(!(C>0)){g(null);try{await t(c,h),D(60),I(["","","","","",""])}catch(G){g(G.message||"Failed to resend OTP")}}};return e.jsx("div",{className:"login-page-template",children:e.jsxs("div",{className:"login-template-wrapper",children:[e.jsxs("div",{className:"login-left-panel",children:[e.jsxs("div",{className:"left-panel-header",children:[e.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),e.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),e.jsx("div",{className:"left-panel-image-container",children:e.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:G=>{const K=G.target;K.style.display="none";const W=K.parentElement;if(W&&!W.querySelector(".image-placeholder")){const Ne=document.createElement("div");Ne.className="image-placeholder",Ne.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;"> Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,W.appendChild(Ne)}}})})]}),e.jsx("div",{className:"login-right-panel",children:e.jsxs("div",{className:"login-form-wrapper",children:[e.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?e.jsxs("form",{className:"login-form otp-form-inline",onSubmit:ie,children:[e.jsx("div",{className:"otp-instruction",children:j.toLowerCase()==="superadmin@medi-waste.io"||j.toLowerCase()==="superadmin"?e.jsxs("p",{children:["Use static OTP: ",e.jsx("strong",{children:"123456"})]}):e.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),e.jsx("div",{className:"otp-inputs-row",children:T.map((G,K)=>e.jsx("input",{id:`otp-input-${K}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:G,onChange:W=>ae(K,W.target.value),onKeyDown:W=>V(K,W),autoFocus:K===0,disabled:n},K))}),v&&e.jsx("div",{className:"error-message",children:v}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||T.some(G=>!G),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend-inline",children:e.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",C>0?e.jsxs("span",{className:"otp-timer",children:["Resend in ",C,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-link",onClick:U,children:"Resend OTP"})]})})]}):e.jsxs("form",{className:"login-form",onSubmit:Z,children:[e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper-icon",children:[e.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:G=>{l(G.target.value),g(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper-icon",children:[e.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("input",{id:"password",type:f?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:h,onChange:G=>{i(G.target.value),g(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),e.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>m(!f),disabled:x,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),e.jsxs("div",{className:"form-options-row",children:[e.jsxs("label",{className:"remember-me-label",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:G=>u(G.target.checked),disabled:x}),e.jsx("span",{children:"Remember Me"})]}),e.jsx(Zr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),v&&e.jsx("div",{className:"error-message",children:v}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},v8=()=>{const{sendOTP:t,verifyOTP:r,loading:n}=ya(),a=ds(),s=In(),[o,c]=M.useState(["","","","","",""]),[l,h]=M.useState(null),[i,d]=M.useState(0),[u,f]=M.useState("");M.useEffect(()=>{var j;const y=(j=s.state)==null?void 0:j.email;y?(f(y),d(60)):a("/login",{replace:!0})},[s,a]),M.useEffect(()=>{if(i>0){const y=setTimeout(()=>d(i-1),1e3);return()=>clearTimeout(y)}},[i]);const m=(y,j)=>{if(j.length>1)return;const N=[...o];if(N[y]=j,c(N),j&&y<5){const T=document.getElementById(`otp-${y+1}`);T==null||T.focus()}},v=(y,j)=>{if(j.key==="Backspace"&&!o[y]&&y>0){const N=document.getElementById(`otp-${y-1}`);N==null||N.focus()}},g=async()=>{if(!(i>0)){h(null);try{await t(u),d(60),c(["","","","","",""])}catch(y){h(y.message||"Failed to resend OTP")}}},x=async y=>{var N,T,I;y.preventDefault(),h(null);const j=o.join("");if(j.length!==6){h("Please enter a valid 6-digit OTP");return}try{await r(u,j);const C=(T=(N=s.state)==null?void 0:N.from)==null?void 0:T.pathname;a(C||"/dashboard",{replace:!0})}catch(C){h(C.message||"Invalid OTP"),c(["","","","","",""]),(I=document.getElementById("otp-0"))==null||I.focus()}};return e.jsx("div",{className:"otp-verification-page",children:e.jsxs("div",{className:"otp-verification-container",children:[e.jsxs("div",{className:"otp-header",children:[e.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),e.jsx("p",{className:"otp-subtitle",children:u.toLowerCase()==="superadmin@medi-waste.io"||u.toLowerCase()==="superadmin"?e.jsxs(e.Fragment,{children:["Use static OTP: ",e.jsx("strong",{children:"123456"})]}):e.jsx(e.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),e.jsxs("form",{className:"otp-form",onSubmit:x,children:[e.jsx("div",{className:"otp-inputs-container",children:o.map((y,j)=>e.jsx("input",{id:`otp-${j}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:N=>m(j,N.target.value),onKeyDown:N=>v(j,N),autoFocus:j===0,disabled:n},j))}),l&&e.jsx("div",{className:"otp-error",children:l}),e.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||o.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend",children:e.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",i>0?e.jsxs("span",{className:"otp-timer",children:["Resend in ",i,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-button",onClick:g,children:"Resend OTP"})]})})]})]})})},x8="http://localhost:3000/api/v1",y8=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},ff=async(t,r={})=>{const n=y8(),a=`${x8}${t}`,s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers};try{console.log("[dashboardService] Making request:",{url:a,method:r.method||"GET"});const o=await fetch(a,{...r,headers:s});if(!o.ok){let l=`HTTP ${o.status}: ${o.statusText}`;try{const h=await o.text();if(h){const i=JSON.parse(h);Array.isArray(i.message)?l=i.message.join(", "):typeof i.message=="string"&&(l=i.message)}}catch{}throw new Error(l)}return o.status===204?{}:await o.json()}catch(o){throw o instanceof TypeError&&o.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:o.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:o instanceof Error?o.message:String(o)}),o}},Oh={getDashboardConfig:async t=>{try{const n=(await ff(`/dashboard/config/${t}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const s=Array.isArray(n.menuItems)?n.menuItems:[],o=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return console.log("[dashboardService] Normalized dashboard config:",{role:n.role||t,widgetsCount:a.length,menuItemsCount:s.length,widgets:a}),{role:n.role||t,widgets:a,menuItems:s,permissions:o}}catch(r){return console.error("[dashboardService] Failed to fetch dashboard config:",r),cN(t)}},getUserOverrides:async t=>{try{return(await ff(`/dashboard/user-overrides/${t}`)).data}catch(r){return console.error("[dashboardService] Failed to fetch user overrides:",r),null}},computePermissions:(t,r)=>{const n={...t.permissions},a=[...t.menuItems],s=[...t.widgets];r&&(Object.entries(r.permissions).forEach(([h,i])=>{n[h]=i}),r.menuOverrides&&a.forEach(h=>{r.menuOverrides[h.id]!==void 0&&(h.visible=r.menuOverrides[h.id])}),r.widgetOverrides&&s.forEach(h=>{if(r.widgetOverrides[h.id]!==void 0){const i=s.indexOf(h);!r.widgetOverrides[h.id]&&i!==-1&&s.splice(i,1)}}));const o=h=>h.filter(i=>!(!i.visible||i.permission&&!n[i.permission])).map(i=>{if(i.children&&i.children.length>0){const d=o(i.children);return{...i,children:d.length>0?d:void 0}}return i}),c=o(a),l=s.filter(h=>{var i;return!((i=h.permissions)!=null&&i.view&&!n[h.permissions.view])});return{permissions:n,menuItems:c,widgets:l}},getAvailableRoles:async()=>{try{return(await ff("/dashboard/roles")).data}catch(t){return console.error("[dashboardService] Failed to fetch roles:",t),[]}},getCatalog:async()=>{try{return(await ff("/dashboard/catalog")).data}catch(t){return console.error("[dashboardService] Failed to fetch catalog:",t),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async t=>{var r,n;try{console.log("[dashboardService] Sending save request:",{role:t.role,widgetsCount:Array.isArray(t.widgets)?t.widgets.length:0,widgets:t.widgets,fullConfig:t});const a=JSON.stringify(t);console.log("[dashboardService] Request body (stringified):",a);const s=await ff("/dashboard/config",{method:"POST",body:a});return console.log("[dashboardService] Save response received:",{success:s.success,data:s.data,widgetsCount:Array.isArray((r=s.data)==null?void 0:r.widgets)?s.data.widgets.length:0,widgets:(n=s.data)==null?void 0:n.widgets}),s.data}catch(a){throw console.error("[dashboardService] Failed to save dashboard config:",a),console.error("[dashboardService] Error details:",{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack,config:t}),a}},getDashboardConfigByTarget:async t=>{try{return(await ff(`/dashboard/config?target=${encodeURIComponent(t)}`)).data}catch(r){return console.error("[dashboardService] Failed to fetch dashboard config:",r),cN(t)}}};function cN(t){return t==="superadmin"?{role:t,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:t,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const wg="http://localhost:3000/api/v1",b8=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},T0=async(t,r={})=>{const n=b8();let a;t.startsWith("http")?a=t:t.startsWith("/api/v1")?a=`${wg.endsWith("/api/v1")?wg.replace("/api/v1",""):wg.split("/api/v1")[0]||"http://localhost:3000"}${t}`:a=`${wg}${t}`;const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers};try{const o=await fetch(a,{...r,headers:s});if(!o.ok){let l=`HTTP ${o.status}: ${o.statusText}`;try{const h=await o.text();if(h){const i=JSON.parse(h);Array.isArray(i.message)?l=i.message.join(", "):typeof i.message=="string"&&(l=i.message)}}catch{}throw new Error(l)}return o.status===204?{}:await o.json()}catch(o){throw console.error("[widgetDataService] Request failed:",o),o}},j8=async t=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",t);const r=await T0(t);console.log("[widgetDataService] Raw API response:",r);let n;r&&typeof r=="object"?r.success!==void 0&&r.data?n=r.data:r.value!==void 0||r.label!==void 0?n=r:r.data&&(r.data.value!==void 0||r.data.label!==void 0)?n=r.data:n=r:(console.warn("[widgetDataService] Unexpected response format:",r),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,s=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,o={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:s};return console.log("[widgetDataService] Final mapped KPI result:",o),o}catch(r){return console.error("[widgetDataService] Failed to fetch KPI data:",r),console.error("[widgetDataService] Endpoint:",t),console.error("[widgetDataService] Error details:",{message:r==null?void 0:r.message,stack:r==null?void 0:r.stack}),{value:0,unit:"",label:""}}},w8=async t=>{try{const n=(await T0(t)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,s)=>({label:a,value:n.data[s]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(r){throw console.error("[widgetDataService] Failed to fetch chart data:",r),r}},C8=async t=>{try{const n=(await T0(t)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const s={};return n.columns.forEach(o=>{s[o]=a[o]||""}),s})}:{columns:[],data:[]}}catch(r){throw console.error("[widgetDataService] Failed to fetch table data:",r),r}},N8=async t=>{try{const n=(await T0(t)).data;return Array.isArray(n)?t.includes("task")||t.includes("approval")?{tasks:n,items:n}:t.includes("alert")?{alerts:n}:t.includes("activity")||t.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(r){throw console.error("[widgetDataService] Failed to fetch task data:",r),r}},B8=async t=>{var r;if(!((r=t.dataSource)!=null&&r.endpoint))return null;try{switch(t.type){case"metric":return await j8(t.dataSource.endpoint);case"chart":return await w8(t.dataSource.endpoint);case"table":return await C8(t.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await N8(t.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${t.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${t.type}:`,n),n}},S8="http://localhost:3000/api/v1",a3=t=>{var n,a;if(!t)return!1;if(t.roles&&Array.isArray(t.roles)&&t.roles.includes("superadmin"))return!0;const r=(a=(n=t.email)==null?void 0:n.toLowerCase())==null?void 0:a.trim();return r==="superadmin@medi-waste.io"||r==="superadmin"},s3=async t=>{try{const r=await fetch(`${S8}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("Failed to fetch menu config");return(await r.json()).data}catch(r){return console.error("Error fetching menu config:",r),null}},$A=(t,r,n)=>{if(!t)return!1;const a=t[r];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const s=a.submenus[n];return s?s.visible:!1}return a.visible},E8=({title:t,value:r,unit:n,label:a,trend:s,loading:o=!1})=>o?e.jsx("div",{className:"widget-panel widget-panel--metric",children:e.jsxs("div",{className:"widget-panel__skeleton",children:[e.jsx("div",{className:"skeleton-line skeleton-line--title"}),e.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):e.jsxs("div",{className:"widget-panel widget-panel--metric",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsxs("div",{className:"widget-panel__body",children:[e.jsxs("div",{className:"metric-value",children:[typeof r=="number"?r.toLocaleString():r,n&&e.jsx("span",{className:"metric-unit",children:n})]}),a&&e.jsx("div",{className:"metric-label",children:a}),s&&e.jsxs("div",{className:`metric-trend metric-trend--${s.isPositive?"positive":"negative"}`,children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.isPositive?e.jsx("polyline",{points:"18 15 12 9 6 15"}):e.jsx("polyline",{points:"6 9 12 15 18 9"})}),e.jsxs("span",{children:[Math.abs(s.value),"%"]}),s.period&&e.jsx("span",{className:"metric-trend-period",children:s.period})]})]})]});function i3(t){var r,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=i3(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function cs(){for(var t,r,n=0,a="",s=arguments.length;n<s;n++)(t=arguments[n])&&(r=i3(t))&&(a&&(a+=" "),a+=r);return a}var N1,dN;function Vc(){if(dN)return N1;dN=1;var t=Array.isArray;return N1=t,N1}var B1,uN;function o3(){if(uN)return B1;uN=1;var t=typeof aA=="object"&&aA&&aA.Object===Object&&aA;return B1=t,B1}var S1,AN;function Ou(){if(AN)return S1;AN=1;var t=o3(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=t||r||Function("return this")();return S1=n,S1}var E1,hN;function sg(){if(hN)return E1;hN=1;var t=Ou(),r=t.Symbol;return E1=r,E1}var I1,fN;function I8(){if(fN)return I1;fN=1;var t=sg(),r=Object.prototype,n=r.hasOwnProperty,a=r.toString,s=t?t.toStringTag:void 0;function o(c){var l=n.call(c,s),h=c[s];try{c[s]=void 0;var i=!0}catch{}var d=a.call(c);return i&&(l?c[s]=h:delete c[s]),d}return I1=o,I1}var k1,pN;function k8(){if(pN)return k1;pN=1;var t=Object.prototype,r=t.toString;function n(a){return r.call(a)}return k1=n,k1}var T1,mN;function fA(){if(mN)return T1;mN=1;var t=sg(),r=I8(),n=k8(),a="[object Null]",s="[object Undefined]",o=t?t.toStringTag:void 0;function c(l){return l==null?l===void 0?s:a:o&&o in Object(l)?r(l):n(l)}return T1=c,T1}var F1,gN;function pA(){if(gN)return F1;gN=1;function t(r){return r!=null&&typeof r=="object"}return F1=t,F1}var P1,vN;function lp(){if(vN)return P1;vN=1;var t=fA(),r=pA(),n="[object Symbol]";function a(s){return typeof s=="symbol"||r(s)&&t(s)==n}return P1=a,P1}var O1,xN;function Dw(){if(xN)return O1;xN=1;var t=Vc(),r=lp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,c){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||r(o)?!0:a.test(o)||!n.test(o)||c!=null&&o in Object(c)}return O1=s,O1}var M1,yN;function rh(){if(yN)return M1;yN=1;function t(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return M1=t,M1}var D1,bN;function _w(){if(bN)return D1;bN=1;var t=fA(),r=rh(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function c(l){if(!r(l))return!1;var h=t(l);return h==a||h==s||h==n||h==o}return D1=c,D1}var _1,jN;function T8(){if(jN)return _1;jN=1;var t=Ou(),r=t["__core-js_shared__"];return _1=r,_1}var L1,wN;function F8(){if(wN)return L1;wN=1;var t=T8(),r=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!r&&r in a}return L1=n,L1}var U1,CN;function l3(){if(CN)return U1;CN=1;var t=Function.prototype,r=t.toString;function n(a){if(a!=null){try{return r.call(a)}catch{}try{return a+""}catch{}}return""}return U1=n,U1}var R1,NN;function P8(){if(NN)return R1;NN=1;var t=_w(),r=F8(),n=rh(),a=l3(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,h=c.toString,i=l.hasOwnProperty,d=RegExp("^"+h.call(i).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(f){if(!n(f)||r(f))return!1;var m=t(f)?d:o;return m.test(a(f))}return R1=u,R1}var Q1,BN;function O8(){if(BN)return Q1;BN=1;function t(r,n){return r==null?void 0:r[n]}return Q1=t,Q1}var H1,SN;function Gh(){if(SN)return H1;SN=1;var t=P8(),r=O8();function n(a,s){var o=r(a,s);return t(o)?o:void 0}return H1=n,H1}var W1,EN;function F0(){if(EN)return W1;EN=1;var t=Gh(),r=t(Object,"create");return W1=r,W1}var $1,IN;function M8(){if(IN)return $1;IN=1;var t=F0();function r(){this.__data__=t?t(null):{},this.size=0}return $1=r,$1}var z1,kN;function D8(){if(kN)return z1;kN=1;function t(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return z1=t,z1}var V1,TN;function _8(){if(TN)return V1;TN=1;var t=F0(),r="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(o){var c=this.__data__;if(t){var l=c[o];return l===r?void 0:l}return a.call(c,o)?c[o]:void 0}return V1=s,V1}var K1,FN;function L8(){if(FN)return K1;FN=1;var t=F0(),r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;return t?o[s]!==void 0:n.call(o,s)}return K1=a,K1}var G1,PN;function U8(){if(PN)return G1;PN=1;var t=F0(),r="__lodash_hash_undefined__";function n(a,s){var o=this.__data__;return this.size+=this.has(a)?0:1,o[a]=t&&s===void 0?r:s,this}return G1=n,G1}var q1,ON;function R8(){if(ON)return q1;ON=1;var t=M8(),r=D8(),n=_8(),a=L8(),s=U8();function o(c){var l=-1,h=c==null?0:c.length;for(this.clear();++l<h;){var i=c[l];this.set(i[0],i[1])}}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,q1=o,q1}var X1,MN;function Q8(){if(MN)return X1;MN=1;function t(){this.__data__=[],this.size=0}return X1=t,X1}var Y1,DN;function Lw(){if(DN)return Y1;DN=1;function t(r,n){return r===n||r!==r&&n!==n}return Y1=t,Y1}var J1,_N;function P0(){if(_N)return J1;_N=1;var t=Lw();function r(n,a){for(var s=n.length;s--;)if(t(n[s][0],a))return s;return-1}return J1=r,J1}var Z1,LN;function H8(){if(LN)return Z1;LN=1;var t=P0(),r=Array.prototype,n=r.splice;function a(s){var o=this.__data__,c=t(o,s);if(c<0)return!1;var l=o.length-1;return c==l?o.pop():n.call(o,c,1),--this.size,!0}return Z1=a,Z1}var ex,UN;function W8(){if(UN)return ex;UN=1;var t=P0();function r(n){var a=this.__data__,s=t(a,n);return s<0?void 0:a[s][1]}return ex=r,ex}var tx,RN;function $8(){if(RN)return tx;RN=1;var t=P0();function r(n){return t(this.__data__,n)>-1}return tx=r,tx}var rx,QN;function z8(){if(QN)return rx;QN=1;var t=P0();function r(n,a){var s=this.__data__,o=t(s,n);return o<0?(++this.size,s.push([n,a])):s[o][1]=a,this}return rx=r,rx}var nx,HN;function O0(){if(HN)return nx;HN=1;var t=Q8(),r=H8(),n=W8(),a=$8(),s=z8();function o(c){var l=-1,h=c==null?0:c.length;for(this.clear();++l<h;){var i=c[l];this.set(i[0],i[1])}}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,nx=o,nx}var ax,WN;function Uw(){if(WN)return ax;WN=1;var t=Gh(),r=Ou(),n=t(r,"Map");return ax=n,ax}var sx,$N;function V8(){if($N)return sx;$N=1;var t=R8(),r=O0(),n=Uw();function a(){this.size=0,this.__data__={hash:new t,map:new(n||r),string:new t}}return sx=a,sx}var ix,zN;function K8(){if(zN)return ix;zN=1;function t(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return ix=t,ix}var ox,VN;function M0(){if(VN)return ox;VN=1;var t=K8();function r(n,a){var s=n.__data__;return t(a)?s[typeof a=="string"?"string":"hash"]:s.map}return ox=r,ox}var lx,KN;function G8(){if(KN)return lx;KN=1;var t=M0();function r(n){var a=t(this,n).delete(n);return this.size-=a?1:0,a}return lx=r,lx}var cx,GN;function q8(){if(GN)return cx;GN=1;var t=M0();function r(n){return t(this,n).get(n)}return cx=r,cx}var dx,qN;function X8(){if(qN)return dx;qN=1;var t=M0();function r(n){return t(this,n).has(n)}return dx=r,dx}var ux,XN;function Y8(){if(XN)return ux;XN=1;var t=M0();function r(n,a){var s=t(this,n),o=s.size;return s.set(n,a),this.size+=s.size==o?0:1,this}return ux=r,ux}var Ax,YN;function Rw(){if(YN)return Ax;YN=1;var t=V8(),r=G8(),n=q8(),a=X8(),s=Y8();function o(c){var l=-1,h=c==null?0:c.length;for(this.clear();++l<h;){var i=c[l];this.set(i[0],i[1])}}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,Ax=o,Ax}var hx,JN;function c3(){if(JN)return hx;JN=1;var t=Rw(),r="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(r);var o=function(){var c=arguments,l=s?s.apply(this,c):c[0],h=o.cache;if(h.has(l))return h.get(l);var i=a.apply(this,c);return o.cache=h.set(l,i)||h,i};return o.cache=new(n.Cache||t),o}return n.Cache=t,hx=n,hx}var fx,ZN;function J8(){if(ZN)return fx;ZN=1;var t=c3(),r=500;function n(a){var s=t(a,function(c){return o.size===r&&o.clear(),c}),o=s.cache;return s}return fx=n,fx}var px,e4;function Z8(){if(e4)return px;e4=1;var t=J8(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=t(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(r,function(c,l,h,i){o.push(h?i.replace(n,"$1"):l||c)}),o});return px=a,px}var mx,t4;function Qw(){if(t4)return mx;t4=1;function t(r,n){for(var a=-1,s=r==null?0:r.length,o=Array(s);++a<s;)o[a]=n(r[a],a,r);return o}return mx=t,mx}var gx,r4;function eM(){if(r4)return gx;r4=1;var t=sg(),r=Qw(),n=Vc(),a=lp(),s=t?t.prototype:void 0,o=s?s.toString:void 0;function c(l){if(typeof l=="string")return l;if(n(l))return r(l,c)+"";if(a(l))return o?o.call(l):"";var h=l+"";return h=="0"&&1/l==-1/0?"-0":h}return gx=c,gx}var vx,n4;function d3(){if(n4)return vx;n4=1;var t=eM();function r(n){return n==null?"":t(n)}return vx=r,vx}var xx,a4;function u3(){if(a4)return xx;a4=1;var t=Vc(),r=Dw(),n=Z8(),a=d3();function s(o,c){return t(o)?o:r(o,c)?[o]:n(a(o))}return xx=s,xx}var yx,s4;function D0(){if(s4)return yx;s4=1;var t=lp();function r(n){if(typeof n=="string"||t(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return yx=r,yx}var bx,i4;function Hw(){if(i4)return bx;i4=1;var t=u3(),r=D0();function n(a,s){s=t(s,a);for(var o=0,c=s.length;a!=null&&o<c;)a=a[r(s[o++])];return o&&o==c?a:void 0}return bx=n,bx}var jx,o4;function A3(){if(o4)return jx;o4=1;var t=Hw();function r(n,a,s){var o=n==null?void 0:t(n,a);return o===void 0?s:o}return jx=r,jx}var tM=A3();const pd=Qs(tM);var wx,l4;function rM(){if(l4)return wx;l4=1;function t(r){return r==null}return wx=t,wx}var nM=rM();const es=Qs(nM);var Cx,c4;function aM(){if(c4)return Cx;c4=1;var t=fA(),r=Vc(),n=pA(),a="[object String]";function s(o){return typeof o=="string"||!r(o)&&n(o)&&t(o)==a}return Cx=s,Cx}var sM=aM();const ig=Qs(sM);var iM=_w();const Qa=Qs(iM);var oM=rh();const cp=Qs(oM);var Nx={exports:{}},ci={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4;function lM(){if(d4)return ci;d4=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function g(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case t:switch(x=x.type,x){case n:case s:case a:case i:case d:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case h:case f:case u:case o:return x;default:return y}}case r:return y}}}return ci.ContextConsumer=c,ci.ContextProvider=o,ci.Element=t,ci.ForwardRef=h,ci.Fragment=n,ci.Lazy=f,ci.Memo=u,ci.Portal=r,ci.Profiler=s,ci.StrictMode=a,ci.Suspense=i,ci.SuspenseList=d,ci.isAsyncMode=function(){return!1},ci.isConcurrentMode=function(){return!1},ci.isContextConsumer=function(x){return g(x)===c},ci.isContextProvider=function(x){return g(x)===o},ci.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},ci.isForwardRef=function(x){return g(x)===h},ci.isFragment=function(x){return g(x)===n},ci.isLazy=function(x){return g(x)===f},ci.isMemo=function(x){return g(x)===u},ci.isPortal=function(x){return g(x)===r},ci.isProfiler=function(x){return g(x)===s},ci.isStrictMode=function(x){return g(x)===a},ci.isSuspense=function(x){return g(x)===i},ci.isSuspenseList=function(x){return g(x)===d},ci.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===s||x===a||x===i||x===d||x===m||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===u||x.$$typeof===o||x.$$typeof===c||x.$$typeof===h||x.$$typeof===v||x.getModuleId!==void 0)},ci.typeOf=g,ci}var u4;function cM(){return u4||(u4=1,Nx.exports=lM()),Nx.exports}var dM=cM(),Bx,A4;function h3(){if(A4)return Bx;A4=1;var t=fA(),r=pA(),n="[object Number]";function a(s){return typeof s=="number"||r(s)&&t(s)==n}return Bx=a,Bx}var Sx,h4;function uM(){if(h4)return Sx;h4=1;var t=h3();function r(n){return t(n)&&n!=+n}return Sx=r,Sx}var AM=uM();const og=Qs(AM);var hM=h3();const fM=Qs(hM);var Ic=function(r){return r===0?0:r>0?1:-1},Mh=function(r){return ig(r)&&r.indexOf("%")===r.length-1},An=function(r){return fM(r)&&!og(r)},ml=function(r){return An(r)||ig(r)},pM=0,dp=function(r){var n=++pM;return"".concat(r||"").concat(n)},kc=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!An(r)&&!ig(r))return a;var o;if(Mh(r)){var c=r.indexOf("%");o=n*parseFloat(r.slice(0,c))/100}else o=+r;return og(o)&&(o=a),s&&o>n&&(o=n),o},zA=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},mM=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,a={},s=0;s<n;s++)if(!a[r[s]])a[r[s]]=!0;else return!0;return!1},hd=function(r,n){return An(r)&&An(n)?function(a){return r+a*(n-r)}:function(){return n}};function Iv(t,r,n){return!t||!t.length?null:t.find(function(a){return a&&(typeof r=="function"?r(a):pd(a,r))===n})}function Tf(t,r){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(r,n)||t[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(t,a))return!1;return!0}function ij(t){"@babel/helpers - typeof";return ij=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ij(t)}var gM=["viewBox","children"],vM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],f4=["points","pathLength"],Ex={svg:gM,polygon:f4,polyline:f4},Ww=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kv=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(M.isValidElement(r)&&(a=r.props),!cp(a))return null;var s={};return Object.keys(a).forEach(function(o){Ww.includes(o)&&(s[o]=n||function(c){return a[o](a,c)})}),s},xM=function(r,n,a){return function(s){return r(n,a,s),null}},Wh=function(r,n,a){if(!cp(r)||ij(r)!=="object")return null;var s=null;return Object.keys(r).forEach(function(o){var c=r[o];Ww.includes(o)&&typeof c=="function"&&(s||(s={}),s[o]=xM(c,n,a))}),s},yM=["children"],bM=["children"];function p4(t,r){if(t==null)return{};var n=jM(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function jM(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function oj(t){"@babel/helpers - typeof";return oj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oj(t)}var m4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lA=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},g4=null,Ix=null,$w=function t(r){if(r===g4&&Array.isArray(Ix))return Ix;var n=[];return M.Children.forEach(r,function(a){es(a)||(dM.isFragment(a)?n=n.concat(t(a.props.children)):n.push(a))}),Ix=n,g4=r,n};function md(t,r){var n=[],a=[];return Array.isArray(r)?a=r.map(function(s){return lA(s)}):a=[lA(r)],$w(t).forEach(function(s){var o=pd(s,"type.displayName")||pd(s,"type.name");a.indexOf(o)!==-1&&n.push(s)}),n}function ud(t,r){var n=md(t,r);return n&&n[0]}var v4=function(r){if(!r||!r.props)return!1;var n=r.props,a=n.width,s=n.height;return!(!An(a)||a<=0||!An(s)||s<=0)},wM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CM=function(r){return r&&r.type&&ig(r.type)&&wM.indexOf(r.type)>=0},NM=function(r){return r&&oj(r)==="object"&&"clipDot"in r},BM=function(r,n,a,s){var o,c=(o=Ex==null?void 0:Ex[s])!==null&&o!==void 0?o:[];return!Qa(r)&&(s&&c.includes(n)||vM.includes(n))||a&&Ww.includes(n)},Ca=function(r,n,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(M.isValidElement(r)&&(s=r.props),!cp(s))return null;var o={};return Object.keys(s).forEach(function(c){var l;BM((l=s)===null||l===void 0?void 0:l[c],c,n,a)&&(o[c]=s[c])}),o},lj=function t(r,n){if(r===n)return!0;var a=M.Children.count(r);if(a!==M.Children.count(n))return!1;if(a===0)return!0;if(a===1)return x4(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var o=r[s],c=n[s];if(Array.isArray(o)||Array.isArray(c)){if(!t(o,c))return!1}else if(!x4(o,c))return!1}return!0},x4=function(r,n){if(es(r)&&es(n))return!0;if(!es(r)&&!es(n)){var a=r.props||{},s=a.children,o=p4(a,yM),c=n.props||{},l=c.children,h=p4(c,bM);return s&&l?Tf(o,h)&&lj(s,l):!s&&!l?Tf(o,h):!1}return!1},y4=function(r,n){var a=[],s={};return $w(r).forEach(function(o,c){if(CM(o))a.push(o);else if(o){var l=lA(o.type),h=n[l]||{},i=h.handler,d=h.once;if(i&&(!d||!s[l])){var u=i(o,l,c);a.push(u),s[l]=!0}}}),a},SM=function(r){var n=r&&r.type;return n&&m4[n]?m4[n]:null},EM=function(r,n){return $w(n).indexOf(r)},IM=["children","width","height","viewBox","className","style","title","desc"];function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},cj.apply(this,arguments)}function kM(t,r){if(t==null)return{};var n=TM(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function TM(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function dj(t){var r=t.children,n=t.width,a=t.height,s=t.viewBox,o=t.className,c=t.style,l=t.title,h=t.desc,i=kM(t,IM),d=s||{width:n,height:a,x:0,y:0},u=cs("recharts-surface",o);return wt.createElement("svg",cj({},Ca(i,!0,"svg"),{className:u,width:n,height:a,style:c,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),wt.createElement("title",null,l),wt.createElement("desc",null,h),r)}var FM=["children","className"];function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},uj.apply(this,arguments)}function PM(t,r){if(t==null)return{};var n=OM(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function OM(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}var Ks=wt.forwardRef(function(t,r){var n=t.children,a=t.className,s=PM(t,FM),o=cs("recharts-layer",a);return wt.createElement("g",uj({className:o},Ca(s,!0),{ref:r}),n)}),Au=function(r,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o]},kx,b4;function MM(){if(b4)return kx;b4=1;function t(r,n,a){var s=-1,o=r.length;n<0&&(n=-n>o?0:o+n),a=a>o?o:a,a<0&&(a+=o),o=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(o);++s<o;)c[s]=r[s+n];return c}return kx=t,kx}var Tx,j4;function DM(){if(j4)return Tx;j4=1;var t=MM();function r(n,a,s){var o=n.length;return s=s===void 0?o:s,!a&&s>=o?n:t(n,a,s)}return Tx=r,Tx}var Fx,w4;function f3(){if(w4)return Fx;w4=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=r+n+a,o="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+t+s+o+"]");function h(i){return l.test(i)}return Fx=h,Fx}var Px,C4;function _M(){if(C4)return Px;C4=1;function t(r){return r.split("")}return Px=t,Px}var Ox,N4;function LM(){if(N4)return Ox;N4=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=r+n+a,o="\\ufe0e\\ufe0f",c="["+t+"]",l="["+s+"]",h="\\ud83c[\\udffb-\\udfff]",i="(?:"+l+"|"+h+")",d="[^"+t+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=i+"?",g="["+o+"]?",x="(?:"+m+"(?:"+[d,u,f].join("|")+")"+g+v+")*",y=g+v+x,j="(?:"+[d+l+"?",l,u,f,c].join("|")+")",N=RegExp(h+"(?="+h+")|"+j+y,"g");function T(I){return I.match(N)||[]}return Ox=T,Ox}var Mx,B4;function UM(){if(B4)return Mx;B4=1;var t=_M(),r=f3(),n=LM();function a(s){return r(s)?n(s):t(s)}return Mx=a,Mx}var Dx,S4;function RM(){if(S4)return Dx;S4=1;var t=DM(),r=f3(),n=UM(),a=d3();function s(o){return function(c){c=a(c);var l=r(c)?n(c):void 0,h=l?l[0]:c.charAt(0),i=l?t(l,1).join(""):c.slice(1);return h[o]()+i}}return Dx=s,Dx}var _x,E4;function QM(){if(E4)return _x;E4=1;var t=RM(),r=t("toUpperCase");return _x=r,_x}var HM=QM();const _0=Qs(HM);function Li(t){return function(){return t}}const p3=Math.cos,Tv=Math.sin,hu=Math.sqrt,Fv=Math.PI,L0=2*Fv,Aj=Math.PI,hj=2*Aj,Th=1e-6,WM=hj-Th;function m3(t){this._+=t[0];for(let r=1,n=t.length;r<n;++r)this._+=arguments[r]+t[r]}function $M(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return m3;const n=10**r;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class zM{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?m3:$M(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,s){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(r,n,a,s,o,c){this._append`C${+r},${+n},${+a},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(r,n,a,s,o){if(r=+r,n=+n,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,l=this._y1,h=a-r,i=s-n,d=c-r,u=l-n,f=d*d+u*u;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(f>Th)if(!(Math.abs(u*h-i*d)>Th)||!o)this._append`L${this._x1=r},${this._y1=n}`;else{let m=a-c,v=s-l,g=h*h+i*i,x=m*m+v*v,y=Math.sqrt(g),j=Math.sqrt(f),N=o*Math.tan((Aj-Math.acos((g+f-x)/(2*y*j)))/2),T=N/j,I=N/y;Math.abs(T-1)>Th&&this._append`L${r+T*d},${n+T*u}`,this._append`A${o},${o},0,0,${+(u*m>d*v)},${this._x1=r+I*h},${this._y1=n+I*i}`}}arc(r,n,a,s,o,c){if(r=+r,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),h=a*Math.sin(s),i=r+l,d=n+h,u=1^c,f=c?s-o:o-s;this._x1===null?this._append`M${i},${d}`:(Math.abs(this._x1-i)>Th||Math.abs(this._y1-d)>Th)&&this._append`L${i},${d}`,a&&(f<0&&(f=f%hj+hj),f>WM?this._append`A${a},${a},0,1,${u},${r-l},${n-h}A${a},${a},0,1,${u},${this._x1=i},${this._y1=d}`:f>Th&&this._append`A${a},${a},0,${+(f>=Aj)},${u},${this._x1=r+a*Math.cos(o)},${this._y1=n+a*Math.sin(o)}`)}rect(r,n,a,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function zw(t){let r=3;return t.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return t},()=>new zM(r)}function Vw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g3(t){this._context=t}g3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function U0(t){return new g3(t)}function v3(t){return t[0]}function x3(t){return t[1]}function y3(t,r){var n=Li(!0),a=null,s=U0,o=null,c=zw(l);t=typeof t=="function"?t:t===void 0?v3:Li(t),r=typeof r=="function"?r:r===void 0?x3:Li(r);function l(h){var i,d=(h=Vw(h)).length,u,f=!1,m;for(a==null&&(o=s(m=c())),i=0;i<=d;++i)!(i<d&&n(u=h[i],i,h))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,i,h),+r(u,i,h));if(m)return o=null,m+""||null}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:Li(+h),l):t},l.y=function(h){return arguments.length?(r=typeof h=="function"?h:Li(+h),l):r},l.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Li(!!h),l):n},l.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),l):s},l.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),l):a},l}function Cg(t,r,n){var a=null,s=Li(!0),o=null,c=U0,l=null,h=zw(i);t=typeof t=="function"?t:t===void 0?v3:Li(+t),r=typeof r=="function"?r:Li(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?x3:Li(+n);function i(u){var f,m,v,g=(u=Vw(u)).length,x,y=!1,j,N=new Array(g),T=new Array(g);for(o==null&&(l=c(j=h())),f=0;f<=g;++f){if(!(f<g&&s(x=u[f],f,u))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=m;--v)l.point(N[v],T[v]);l.lineEnd(),l.areaEnd()}y&&(N[f]=+t(x,f,u),T[f]=+r(x,f,u),l.point(a?+a(x,f,u):N[f],n?+n(x,f,u):T[f]))}if(j)return l=null,j+""||null}function d(){return y3().defined(s).curve(c).context(o)}return i.x=function(u){return arguments.length?(t=typeof u=="function"?u:Li(+u),a=null,i):t},i.x0=function(u){return arguments.length?(t=typeof u=="function"?u:Li(+u),i):t},i.x1=function(u){return arguments.length?(a=u==null?null:typeof u=="function"?u:Li(+u),i):a},i.y=function(u){return arguments.length?(r=typeof u=="function"?u:Li(+u),n=null,i):r},i.y0=function(u){return arguments.length?(r=typeof u=="function"?u:Li(+u),i):r},i.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Li(+u),i):n},i.lineX0=i.lineY0=function(){return d().x(t).y(r)},i.lineY1=function(){return d().x(t).y(n)},i.lineX1=function(){return d().x(a).y(r)},i.defined=function(u){return arguments.length?(s=typeof u=="function"?u:Li(!!u),i):s},i.curve=function(u){return arguments.length?(c=u,o!=null&&(l=c(o)),i):c},i.context=function(u){return arguments.length?(u==null?o=l=null:l=c(o=u),i):o},i}class b3{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function VM(t){return new b3(t,!0)}function KM(t){return new b3(t,!1)}const Kw={draw(t,r){const n=hu(r/Fv);t.moveTo(n,0),t.arc(0,0,n,0,L0)}},GM={draw(t,r){const n=hu(r/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j3=hu(1/3),qM=j3*2,XM={draw(t,r){const n=hu(r/qM),a=n*j3;t.moveTo(0,-n),t.lineTo(a,0),t.lineTo(0,n),t.lineTo(-a,0),t.closePath()}},YM={draw(t,r){const n=hu(r),a=-n/2;t.rect(a,a,n,n)}},JM=.8908130915292852,w3=Tv(Fv/10)/Tv(7*Fv/10),ZM=Tv(L0/10)*w3,eD=-p3(L0/10)*w3,tD={draw(t,r){const n=hu(r*JM),a=ZM*n,s=eD*n;t.moveTo(0,-n),t.lineTo(a,s);for(let o=1;o<5;++o){const c=L0*o/5,l=p3(c),h=Tv(c);t.lineTo(h*n,-l*n),t.lineTo(l*a-h*s,h*a+l*s)}t.closePath()}},Lx=hu(3),rD={draw(t,r){const n=-hu(r/(Lx*3));t.moveTo(0,n*2),t.lineTo(-Lx*n,-n),t.lineTo(Lx*n,-n),t.closePath()}},Qd=-.5,Hd=hu(3)/2,fj=1/hu(12),nD=(fj/2+1)*3,aD={draw(t,r){const n=hu(r/nD),a=n/2,s=n*fj,o=a,c=n*fj+n,l=-o,h=c;t.moveTo(a,s),t.lineTo(o,c),t.lineTo(l,h),t.lineTo(Qd*a-Hd*s,Hd*a+Qd*s),t.lineTo(Qd*o-Hd*c,Hd*o+Qd*c),t.lineTo(Qd*l-Hd*h,Hd*l+Qd*h),t.lineTo(Qd*a+Hd*s,Qd*s-Hd*a),t.lineTo(Qd*o+Hd*c,Qd*c-Hd*o),t.lineTo(Qd*l+Hd*h,Qd*h-Hd*l),t.closePath()}};function sD(t,r){let n=null,a=zw(s);t=typeof t=="function"?t:Li(t||Kw),r=typeof r=="function"?r:Li(r===void 0?64:+r);function s(){let o;if(n||(n=o=a()),t.apply(this,arguments).draw(n,+r.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(t=typeof o=="function"?o:Li(o),s):t},s.size=function(o){return arguments.length?(r=typeof o=="function"?o:Li(+o),s):r},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function Pv(){}function Ov(t,r,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+n)/6)}function C3(t){this._context=t}C3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ov(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function iD(t){return new C3(t)}function N3(t){this._context=t}N3.prototype={areaStart:Pv,areaEnd:Pv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:Ov(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function oD(t){return new N3(t)}function B3(t){this._context=t}B3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Ov(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function lD(t){return new B3(t)}function S3(t){this._context=t}S3.prototype={areaStart:Pv,areaEnd:Pv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function cD(t){return new S3(t)}function I4(t){return t<0?-1:1}function k4(t,r,n){var a=t._x1-t._x0,s=r-t._x1,o=(t._y1-t._y0)/(a||s<0&&-0),c=(n-t._y1)/(s||a<0&&-0),l=(o*s+c*a)/(a+s);return(I4(o)+I4(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(l))||0}function T4(t,r){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-r)/2:r}function Ux(t,r,n){var a=t._x0,s=t._y0,o=t._x1,c=t._y1,l=(o-a)/3;t._context.bezierCurveTo(a+l,s+l*r,o-l,c-l*n,o,c)}function Mv(t){this._context=t}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ux(this,this._t0,T4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var n=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,Ux(this,T4(this,n=k4(this,t,r)),n);break;default:Ux(this,this._t0,n=k4(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=n}}};function E3(t){this._context=new I3(t)}(E3.prototype=Object.create(Mv.prototype)).point=function(t,r){Mv.prototype.point.call(this,r,t)};function I3(t){this._context=t}I3.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,n,a,s,o){this._context.bezierCurveTo(r,t,a,n,o,s)}};function dD(t){return new Mv(t)}function uD(t){return new E3(t)}function k3(t){this._context=t}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),n===2)this._context.lineTo(t[1],r[1]);else for(var a=F4(t),s=F4(r),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],t[c],r[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function F4(t){var r,n=t.length-1,a,s=new Array(n),o=new Array(n),c=new Array(n);for(s[0]=0,o[0]=2,c[0]=t[0]+2*t[1],r=1;r<n-1;++r)s[r]=1,o[r]=4,c[r]=4*t[r]+2*t[r+1];for(s[n-1]=2,o[n-1]=7,c[n-1]=8*t[n-1]+t[n],r=1;r<n;++r)a=s[r]/o[r-1],o[r]-=a,c[r]-=a*c[r-1];for(s[n-1]=c[n-1]/o[n-1],r=n-2;r>=0;--r)s[r]=(c[r]-s[r+1])/o[r];for(o[n-1]=(t[n]+s[n-1])/2,r=0;r<n-1;++r)o[r]=2*t[r+1]-s[r+1];return[s,o]}function AD(t){return new k3(t)}function R0(t,r){this._context=t,this._t=r}R0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=t,this._y=r}};function hD(t){return new R0(t,.5)}function fD(t){return new R0(t,0)}function pD(t){return new R0(t,1)}function Of(t,r){if((c=t.length)>1)for(var n=1,a,s,o=t[r[0]],c,l=o.length;n<c;++n)for(s=o,o=t[r[n]],a=0;a<l;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function pj(t){for(var r=t.length,n=new Array(r);--r>=0;)n[r]=r;return n}function mD(t,r){return t[r]}function gD(t){const r=[];return r.key=t,r}function vD(){var t=Li([]),r=pj,n=Of,a=mD;function s(o){var c=Array.from(t.apply(this,arguments),gD),l,h=c.length,i=-1,d;for(const u of o)for(l=0,++i;l<h;++l)(c[l][i]=[0,+a(u,c[l].key,i,o)]).data=u;for(l=0,d=Vw(r(c));l<h;++l)c[d[l]].index=l;return n(c,d),c}return s.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Li(Array.from(o)),s):t},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:Li(+o),s):a},s.order=function(o){return arguments.length?(r=o==null?pj:typeof o=="function"?o:Li(Array.from(o)),s):r},s.offset=function(o){return arguments.length?(n=o??Of,s):n},s}function xD(t,r){if((a=t.length)>0){for(var n,a,s=0,o=t[0].length,c;s<o;++s){for(c=n=0;n<a;++n)c+=t[n][s][1]||0;if(c)for(n=0;n<a;++n)t[n][s][1]/=c}Of(t,r)}}function yD(t,r){if((s=t.length)>0){for(var n=0,a=t[r[0]],s,o=a.length;n<o;++n){for(var c=0,l=0;c<s;++c)l+=t[c][n][1]||0;a[n][1]+=a[n][0]=-l/2}Of(t,r)}}function bD(t,r){if(!(!((c=t.length)>0)||!((o=(s=t[r[0]]).length)>0))){for(var n=0,a=1,s,o,c;a<o;++a){for(var l=0,h=0,i=0;l<c;++l){for(var d=t[r[l]],u=d[a][1]||0,f=d[a-1][1]||0,m=(u-f)/2,v=0;v<l;++v){var g=t[r[v]],x=g[a][1]||0,y=g[a-1][1]||0;m+=x-y}h+=u,i+=m*u}s[a-1][1]+=s[a-1][0]=n,h&&(n-=i/h)}s[a-1][1]+=s[a-1][0]=n,Of(t,r)}}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cm(t)}var jD=["type","size","sizeType"];function mj(){return mj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},mj.apply(this,arguments)}function P4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function O4(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?P4(Object(n),!0).forEach(function(a){wD(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function wD(t,r,n){return r=CD(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function CD(t){var r=ND(t,"string");return Cm(r)=="symbol"?r:r+""}function ND(t,r){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function BD(t,r){if(t==null)return{};var n=SD(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function SD(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}var T3={symbolCircle:Kw,symbolCross:GM,symbolDiamond:XM,symbolSquare:YM,symbolStar:tD,symbolTriangle:rD,symbolWye:aD},ED=Math.PI/180,ID=function(r){var n="symbol".concat(_0(r));return T3[n]||Kw},kD=function(r,n,a){if(n==="area")return r;switch(a){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var s=18*ED;return 1.25*r*r*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},TD=function(r,n){T3["symbol".concat(_0(r))]=n},Gw=function(r){var n=r.type,a=n===void 0?"circle":n,s=r.size,o=s===void 0?64:s,c=r.sizeType,l=c===void 0?"area":c,h=BD(r,jD),i=O4(O4({},h),{},{type:a,size:o,sizeType:l}),d=function(){var x=ID(a),y=sD().type(x).size(kD(o,l,a));return y()},u=i.className,f=i.cx,m=i.cy,v=Ca(i,!0);return f===+f&&m===+m&&o===+o?wt.createElement("path",mj({},v,{className:cs("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};Gw.registerSymbol=TD;function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mf(t)}function gj(){return gj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},gj.apply(this,arguments)}function M4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function FD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?M4(Object(n),!0).forEach(function(a){Nm(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function PD(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function OD(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,P3(a.key),a)}}function MD(t,r,n){return r&&OD(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DD(t,r,n){return r=Dv(r),_D(t,F3()?Reflect.construct(r,n||[],Dv(t).constructor):r.apply(t,n))}function _D(t,r){if(r&&(Mf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LD(t)}function LD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F3=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(t)}function UD(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&vj(t,r)}function vj(t,r){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},vj(t,r)}function Nm(t,r,n){return r=P3(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function P3(t){var r=RD(t,"string");return Mf(r)=="symbol"?r:r+""}function RD(t,r){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Mf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wd=32,qw=(function(t){function r(){return PD(this,r),DD(this,r,arguments)}return UD(r,t),MD(r,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,o=Wd/2,c=Wd/6,l=Wd/3,h=a.inactive?s:a.color;if(a.type==="plainline")return wt.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:o,x2:Wd,y2:o,className:"recharts-legend-icon"});if(a.type==="line")return wt.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Wd,"M").concat(2*l,",").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(a.type==="rect")return wt.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(Wd/8,"h").concat(Wd,"v").concat(Wd*3/4,"h").concat(-Wd,"z"),className:"recharts-legend-icon"});if(wt.isValidElement(a.legendIcon)){var i=FD({},a);return delete i.legendIcon,wt.cloneElement(a.legendIcon,i)}return wt.createElement(Gw,{fill:h,cx:o,cy:o,size:Wd,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,o=s.payload,c=s.iconSize,l=s.layout,h=s.formatter,i=s.inactiveColor,d={x:0,y:0,width:Wd,height:Wd},u={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var g=m.formatter||h,x=cs(Nm(Nm({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Qa(m.value)?null:m.value;Au(!Qa(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=m.inactive?i:m.color;return wt.createElement("li",gj({className:x,style:u,key:"legend-item-".concat(v)},Wh(a.props,m,v)),wt.createElement(dj,{width:c,height:c,viewBox:d,style:f},a.renderIcon(m)),wt.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},g?g(y,m,v):y))})}},{key:"render",value:function(){var a=this.props,s=a.payload,o=a.layout,c=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?c:"left"};return wt.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(M.PureComponent);Nm(qw,"displayName","Legend");Nm(qw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rx,D4;function QD(){if(D4)return Rx;D4=1;var t=O0();function r(){this.__data__=new t,this.size=0}return Rx=r,Rx}var Qx,_4;function HD(){if(_4)return Qx;_4=1;function t(r){var n=this.__data__,a=n.delete(r);return this.size=n.size,a}return Qx=t,Qx}var Hx,L4;function WD(){if(L4)return Hx;L4=1;function t(r){return this.__data__.get(r)}return Hx=t,Hx}var Wx,U4;function $D(){if(U4)return Wx;U4=1;function t(r){return this.__data__.has(r)}return Wx=t,Wx}var $x,R4;function zD(){if(R4)return $x;R4=1;var t=O0(),r=Uw(),n=Rw(),a=200;function s(o,c){var l=this.__data__;if(l instanceof t){var h=l.__data__;if(!r||h.length<a-1)return h.push([o,c]),this.size=++l.size,this;l=this.__data__=new n(h)}return l.set(o,c),this.size=l.size,this}return $x=s,$x}var zx,Q4;function O3(){if(Q4)return zx;Q4=1;var t=O0(),r=QD(),n=HD(),a=WD(),s=$D(),o=zD();function c(l){var h=this.__data__=new t(l);this.size=h.size}return c.prototype.clear=r,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=o,zx=c,zx}var Vx,H4;function VD(){if(H4)return Vx;H4=1;var t="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,t),this}return Vx=r,Vx}var Kx,W4;function KD(){if(W4)return Kx;W4=1;function t(r){return this.__data__.has(r)}return Kx=t,Kx}var Gx,$4;function M3(){if($4)return Gx;$4=1;var t=Rw(),r=VD(),n=KD();function a(s){var o=-1,c=s==null?0:s.length;for(this.__data__=new t;++o<c;)this.add(s[o])}return a.prototype.add=a.prototype.push=r,a.prototype.has=n,Gx=a,Gx}var qx,z4;function D3(){if(z4)return qx;z4=1;function t(r,n){for(var a=-1,s=r==null?0:r.length;++a<s;)if(n(r[a],a,r))return!0;return!1}return qx=t,qx}var Xx,V4;function _3(){if(V4)return Xx;V4=1;function t(r,n){return r.has(n)}return Xx=t,Xx}var Yx,K4;function L3(){if(K4)return Yx;K4=1;var t=M3(),r=D3(),n=_3(),a=1,s=2;function o(c,l,h,i,d,u){var f=h&a,m=c.length,v=l.length;if(m!=v&&!(f&&v>m))return!1;var g=u.get(c),x=u.get(l);if(g&&x)return g==l&&x==c;var y=-1,j=!0,N=h&s?new t:void 0;for(u.set(c,l),u.set(l,c);++y<m;){var T=c[y],I=l[y];if(i)var C=f?i(I,T,y,l,c,u):i(T,I,y,c,l,u);if(C!==void 0){if(C)continue;j=!1;break}if(N){if(!r(l,function(D,_){if(!n(N,_)&&(T===D||d(T,D,h,i,u)))return N.push(_)})){j=!1;break}}else if(!(T===I||d(T,I,h,i,u))){j=!1;break}}return u.delete(c),u.delete(l),j}return Yx=o,Yx}var Jx,G4;function GD(){if(G4)return Jx;G4=1;var t=Ou(),r=t.Uint8Array;return Jx=r,Jx}var Zx,q4;function qD(){if(q4)return Zx;q4=1;function t(r){var n=-1,a=Array(r.size);return r.forEach(function(s,o){a[++n]=[o,s]}),a}return Zx=t,Zx}var ey,X4;function Xw(){if(X4)return ey;X4=1;function t(r){var n=-1,a=Array(r.size);return r.forEach(function(s){a[++n]=s}),a}return ey=t,ey}var ty,Y4;function XD(){if(Y4)return ty;Y4=1;var t=sg(),r=GD(),n=Lw(),a=L3(),s=qD(),o=Xw(),c=1,l=2,h="[object Boolean]",i="[object Date]",d="[object Error]",u="[object Map]",f="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",j="[object DataView]",N=t?t.prototype:void 0,T=N?N.valueOf:void 0;function I(C,D,_,Z,ae,V,ie){switch(_){case j:if(C.byteLength!=D.byteLength||C.byteOffset!=D.byteOffset)return!1;C=C.buffer,D=D.buffer;case y:return!(C.byteLength!=D.byteLength||!V(new r(C),new r(D)));case h:case i:case f:return n(+C,+D);case d:return C.name==D.name&&C.message==D.message;case m:case g:return C==D+"";case u:var U=s;case v:var G=Z&c;if(U||(U=o),C.size!=D.size&&!G)return!1;var K=ie.get(C);if(K)return K==D;Z|=l,ie.set(C,D);var W=a(U(C),U(D),Z,ae,V,ie);return ie.delete(C),W;case x:if(T)return T.call(C)==T.call(D)}return!1}return ty=I,ty}var ry,J4;function U3(){if(J4)return ry;J4=1;function t(r,n){for(var a=-1,s=n.length,o=r.length;++a<s;)r[o+a]=n[a];return r}return ry=t,ry}var ny,Z4;function YD(){if(Z4)return ny;Z4=1;var t=U3(),r=Vc();function n(a,s,o){var c=s(a);return r(a)?c:t(c,o(a))}return ny=n,ny}var ay,eB;function JD(){if(eB)return ay;eB=1;function t(r,n){for(var a=-1,s=r==null?0:r.length,o=0,c=[];++a<s;){var l=r[a];n(l,a,r)&&(c[o++]=l)}return c}return ay=t,ay}var sy,tB;function ZD(){if(tB)return sy;tB=1;function t(){return[]}return sy=t,sy}var iy,rB;function e_(){if(rB)return iy;rB=1;var t=JD(),r=ZD(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(c){return c==null?[]:(c=Object(c),t(s(c),function(l){return a.call(c,l)}))}:r;return iy=o,iy}var oy,nB;function t_(){if(nB)return oy;nB=1;function t(r,n){for(var a=-1,s=Array(r);++a<r;)s[a]=n(a);return s}return oy=t,oy}var ly,aB;function r_(){if(aB)return ly;aB=1;var t=fA(),r=pA(),n="[object Arguments]";function a(s){return r(s)&&t(s)==n}return ly=a,ly}var cy,sB;function Yw(){if(sB)return cy;sB=1;var t=r_(),r=pA(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(c){return r(c)&&a.call(c,"callee")&&!s.call(c,"callee")};return cy=o,cy}var am={exports:{}},dy,iB;function n_(){if(iB)return dy;iB=1;function t(){return!1}return dy=t,dy}am.exports;var oB;function R3(){return oB||(oB=1,(function(t,r){var n=Ou(),a=n_(),s=r&&!r.nodeType&&r,o=s&&!0&&t&&!t.nodeType&&t,c=o&&o.exports===s,l=c?n.Buffer:void 0,h=l?l.isBuffer:void 0,i=h||a;t.exports=i})(am,am.exports)),am.exports}var uy,lB;function Jw(){if(lB)return uy;lB=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(a,s){var o=typeof a;return s=s??t,!!s&&(o=="number"||o!="symbol"&&r.test(a))&&a>-1&&a%1==0&&a<s}return uy=n,uy}var Ay,cB;function Zw(){if(cB)return Ay;cB=1;var t=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Ay=r,Ay}var hy,dB;function a_(){if(dB)return hy;dB=1;var t=fA(),r=Zw(),n=pA(),a="[object Arguments]",s="[object Array]",o="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",i="[object Map]",d="[object Number]",u="[object Object]",f="[object RegExp]",m="[object Set]",v="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",j="[object Float32Array]",N="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",D="[object Uint8Array]",_="[object Uint8ClampedArray]",Z="[object Uint16Array]",ae="[object Uint32Array]",V={};V[j]=V[N]=V[T]=V[I]=V[C]=V[D]=V[_]=V[Z]=V[ae]=!0,V[a]=V[s]=V[x]=V[o]=V[y]=V[c]=V[l]=V[h]=V[i]=V[d]=V[u]=V[f]=V[m]=V[v]=V[g]=!1;function ie(U){return n(U)&&r(U.length)&&!!V[t(U)]}return hy=ie,hy}var fy,uB;function Q3(){if(uB)return fy;uB=1;function t(r){return function(n){return r(n)}}return fy=t,fy}var sm={exports:{}};sm.exports;var AB;function s_(){return AB||(AB=1,(function(t,r){var n=o3(),a=r&&!r.nodeType&&r,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,c=o&&n.process,l=(function(){try{var h=s&&s.require&&s.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}})();t.exports=l})(sm,sm.exports)),sm.exports}var py,hB;function H3(){if(hB)return py;hB=1;var t=a_(),r=Q3(),n=s_(),a=n&&n.isTypedArray,s=a?r(a):t;return py=s,py}var my,fB;function i_(){if(fB)return my;fB=1;var t=t_(),r=Yw(),n=Vc(),a=R3(),s=Jw(),o=H3(),c=Object.prototype,l=c.hasOwnProperty;function h(i,d){var u=n(i),f=!u&&r(i),m=!u&&!f&&a(i),v=!u&&!f&&!m&&o(i),g=u||f||m||v,x=g?t(i.length,String):[],y=x.length;for(var j in i)(d||l.call(i,j))&&!(g&&(j=="length"||m&&(j=="offset"||j=="parent")||v&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||s(j,y)))&&x.push(j);return x}return my=h,my}var gy,pB;function o_(){if(pB)return gy;pB=1;var t=Object.prototype;function r(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||t;return n===s}return gy=r,gy}var vy,mB;function W3(){if(mB)return vy;mB=1;function t(r,n){return function(a){return r(n(a))}}return vy=t,vy}var xy,gB;function l_(){if(gB)return xy;gB=1;var t=W3(),r=t(Object.keys,Object);return xy=r,xy}var yy,vB;function c_(){if(vB)return yy;vB=1;var t=o_(),r=l_(),n=Object.prototype,a=n.hasOwnProperty;function s(o){if(!t(o))return r(o);var c=[];for(var l in Object(o))a.call(o,l)&&l!="constructor"&&c.push(l);return c}return yy=s,yy}var by,xB;function lg(){if(xB)return by;xB=1;var t=_w(),r=Zw();function n(a){return a!=null&&r(a.length)&&!t(a)}return by=n,by}var jy,yB;function Q0(){if(yB)return jy;yB=1;var t=i_(),r=c_(),n=lg();function a(s){return n(s)?t(s):r(s)}return jy=a,jy}var wy,bB;function d_(){if(bB)return wy;bB=1;var t=YD(),r=e_(),n=Q0();function a(s){return t(s,n,r)}return wy=a,wy}var Cy,jB;function u_(){if(jB)return Cy;jB=1;var t=d_(),r=1,n=Object.prototype,a=n.hasOwnProperty;function s(o,c,l,h,i,d){var u=l&r,f=t(o),m=f.length,v=t(c),g=v.length;if(m!=g&&!u)return!1;for(var x=m;x--;){var y=f[x];if(!(u?y in c:a.call(c,y)))return!1}var j=d.get(o),N=d.get(c);if(j&&N)return j==c&&N==o;var T=!0;d.set(o,c),d.set(c,o);for(var I=u;++x<m;){y=f[x];var C=o[y],D=c[y];if(h)var _=u?h(D,C,y,c,o,d):h(C,D,y,o,c,d);if(!(_===void 0?C===D||i(C,D,l,h,d):_)){T=!1;break}I||(I=y=="constructor")}if(T&&!I){var Z=o.constructor,ae=c.constructor;Z!=ae&&"constructor"in o&&"constructor"in c&&!(typeof Z=="function"&&Z instanceof Z&&typeof ae=="function"&&ae instanceof ae)&&(T=!1)}return d.delete(o),d.delete(c),T}return Cy=s,Cy}var Ny,wB;function A_(){if(wB)return Ny;wB=1;var t=Gh(),r=Ou(),n=t(r,"DataView");return Ny=n,Ny}var By,CB;function h_(){if(CB)return By;CB=1;var t=Gh(),r=Ou(),n=t(r,"Promise");return By=n,By}var Sy,NB;function $3(){if(NB)return Sy;NB=1;var t=Gh(),r=Ou(),n=t(r,"Set");return Sy=n,Sy}var Ey,BB;function f_(){if(BB)return Ey;BB=1;var t=Gh(),r=Ou(),n=t(r,"WeakMap");return Ey=n,Ey}var Iy,SB;function p_(){if(SB)return Iy;SB=1;var t=A_(),r=Uw(),n=h_(),a=$3(),s=f_(),o=fA(),c=l3(),l="[object Map]",h="[object Object]",i="[object Promise]",d="[object Set]",u="[object WeakMap]",f="[object DataView]",m=c(t),v=c(r),g=c(n),x=c(a),y=c(s),j=o;return(t&&j(new t(new ArrayBuffer(1)))!=f||r&&j(new r)!=l||n&&j(n.resolve())!=i||a&&j(new a)!=d||s&&j(new s)!=u)&&(j=function(N){var T=o(N),I=T==h?N.constructor:void 0,C=I?c(I):"";if(C)switch(C){case m:return f;case v:return l;case g:return i;case x:return d;case y:return u}return T}),Iy=j,Iy}var ky,EB;function m_(){if(EB)return ky;EB=1;var t=O3(),r=L3(),n=XD(),a=u_(),s=p_(),o=Vc(),c=R3(),l=H3(),h=1,i="[object Arguments]",d="[object Array]",u="[object Object]",f=Object.prototype,m=f.hasOwnProperty;function v(g,x,y,j,N,T){var I=o(g),C=o(x),D=I?d:s(g),_=C?d:s(x);D=D==i?u:D,_=_==i?u:_;var Z=D==u,ae=_==u,V=D==_;if(V&&c(g)){if(!c(x))return!1;I=!0,Z=!1}if(V&&!Z)return T||(T=new t),I||l(g)?r(g,x,y,j,N,T):n(g,x,D,y,j,N,T);if(!(y&h)){var ie=Z&&m.call(g,"__wrapped__"),U=ae&&m.call(x,"__wrapped__");if(ie||U){var G=ie?g.value():g,K=U?x.value():x;return T||(T=new t),N(G,K,y,j,T)}}return V?(T||(T=new t),a(g,x,y,j,N,T)):!1}return ky=v,ky}var Ty,IB;function eC(){if(IB)return Ty;IB=1;var t=m_(),r=pA();function n(a,s,o,c,l){return a===s?!0:a==null||s==null||!r(a)&&!r(s)?a!==a&&s!==s:t(a,s,o,c,n,l)}return Ty=n,Ty}var Fy,kB;function g_(){if(kB)return Fy;kB=1;var t=O3(),r=eC(),n=1,a=2;function s(o,c,l,h){var i=l.length,d=i,u=!h;if(o==null)return!d;for(o=Object(o);i--;){var f=l[i];if(u&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++i<d;){f=l[i];var m=f[0],v=o[m],g=f[1];if(u&&f[2]){if(v===void 0&&!(m in o))return!1}else{var x=new t;if(h)var y=h(v,g,m,o,c,x);if(!(y===void 0?r(g,v,n|a,h,x):y))return!1}}return!0}return Fy=s,Fy}var Py,TB;function z3(){if(TB)return Py;TB=1;var t=rh();function r(n){return n===n&&!t(n)}return Py=r,Py}var Oy,FB;function v_(){if(FB)return Oy;FB=1;var t=z3(),r=Q0();function n(a){for(var s=r(a),o=s.length;o--;){var c=s[o],l=a[c];s[o]=[c,l,t(l)]}return s}return Oy=n,Oy}var My,PB;function V3(){if(PB)return My;PB=1;function t(r,n){return function(a){return a==null?!1:a[r]===n&&(n!==void 0||r in Object(a))}}return My=t,My}var Dy,OB;function x_(){if(OB)return Dy;OB=1;var t=g_(),r=v_(),n=V3();function a(s){var o=r(s);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(c){return c===s||t(c,s,o)}}return Dy=a,Dy}var _y,MB;function y_(){if(MB)return _y;MB=1;function t(r,n){return r!=null&&n in Object(r)}return _y=t,_y}var Ly,DB;function b_(){if(DB)return Ly;DB=1;var t=u3(),r=Yw(),n=Vc(),a=Jw(),s=Zw(),o=D0();function c(l,h,i){h=t(h,l);for(var d=-1,u=h.length,f=!1;++d<u;){var m=o(h[d]);if(!(f=l!=null&&i(l,m)))break;l=l[m]}return f||++d!=u?f:(u=l==null?0:l.length,!!u&&s(u)&&a(m,u)&&(n(l)||r(l)))}return Ly=c,Ly}var Uy,_B;function j_(){if(_B)return Uy;_B=1;var t=y_(),r=b_();function n(a,s){return a!=null&&r(a,s,t)}return Uy=n,Uy}var Ry,LB;function w_(){if(LB)return Ry;LB=1;var t=eC(),r=A3(),n=j_(),a=Dw(),s=z3(),o=V3(),c=D0(),l=1,h=2;function i(d,u){return a(d)&&s(u)?o(c(d),u):function(f){var m=r(f,d);return m===void 0&&m===u?n(f,d):t(u,m,l|h)}}return Ry=i,Ry}var Qy,UB;function up(){if(UB)return Qy;UB=1;function t(r){return r}return Qy=t,Qy}var Hy,RB;function C_(){if(RB)return Hy;RB=1;function t(r){return function(n){return n==null?void 0:n[r]}}return Hy=t,Hy}var Wy,QB;function N_(){if(QB)return Wy;QB=1;var t=Hw();function r(n){return function(a){return t(a,n)}}return Wy=r,Wy}var $y,HB;function B_(){if(HB)return $y;HB=1;var t=C_(),r=N_(),n=Dw(),a=D0();function s(o){return n(o)?t(a(o)):r(o)}return $y=s,$y}var zy,WB;function Mu(){if(WB)return zy;WB=1;var t=x_(),r=w_(),n=up(),a=Vc(),s=B_();function o(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?r(c[0],c[1]):t(c):s(c)}return zy=o,zy}var Vy,$B;function K3(){if($B)return Vy;$B=1;function t(r,n,a,s){for(var o=r.length,c=a+(s?1:-1);s?c--:++c<o;)if(n(r[c],c,r))return c;return-1}return Vy=t,Vy}var Ky,zB;function S_(){if(zB)return Ky;zB=1;function t(r){return r!==r}return Ky=t,Ky}var Gy,VB;function E_(){if(VB)return Gy;VB=1;function t(r,n,a){for(var s=a-1,o=r.length;++s<o;)if(r[s]===n)return s;return-1}return Gy=t,Gy}var qy,KB;function I_(){if(KB)return qy;KB=1;var t=K3(),r=S_(),n=E_();function a(s,o,c){return o===o?n(s,o,c):t(s,r,c)}return qy=a,qy}var Xy,GB;function k_(){if(GB)return Xy;GB=1;var t=I_();function r(n,a){var s=n==null?0:n.length;return!!s&&t(n,a,0)>-1}return Xy=r,Xy}var Yy,qB;function T_(){if(qB)return Yy;qB=1;function t(r,n,a){for(var s=-1,o=r==null?0:r.length;++s<o;)if(a(n,r[s]))return!0;return!1}return Yy=t,Yy}var Jy,XB;function F_(){if(XB)return Jy;XB=1;function t(){}return Jy=t,Jy}var Zy,YB;function P_(){if(YB)return Zy;YB=1;var t=$3(),r=F_(),n=Xw(),a=1/0,s=t&&1/n(new t([,-0]))[1]==a?function(o){return new t(o)}:r;return Zy=s,Zy}var e2,JB;function O_(){if(JB)return e2;JB=1;var t=M3(),r=k_(),n=T_(),a=_3(),s=P_(),o=Xw(),c=200;function l(h,i,d){var u=-1,f=r,m=h.length,v=!0,g=[],x=g;if(d)v=!1,f=n;else if(m>=c){var y=i?null:s(h);if(y)return o(y);v=!1,f=a,x=new t}else x=i?[]:g;e:for(;++u<m;){var j=h[u],N=i?i(j):j;if(j=d||j!==0?j:0,v&&N===N){for(var T=x.length;T--;)if(x[T]===N)continue e;i&&x.push(N),g.push(j)}else f(x,N,d)||(x!==g&&x.push(N),g.push(j))}return g}return e2=l,e2}var t2,ZB;function M_(){if(ZB)return t2;ZB=1;var t=Mu(),r=O_();function n(a,s){return a&&a.length?r(a,t(s,2)):[]}return t2=n,t2}var D_=M_();const eS=Qs(D_);function G3(t,r,n){return r===!0?eS(t,n):Qa(r)?eS(t,r):t}function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Df(t)}var __=["ref"];function tS(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function tA(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tS(Object(n),!0).forEach(function(a){H0(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function L_(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function rS(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,X3(a.key),a)}}function U_(t,r,n){return r&&rS(t.prototype,r),n&&rS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R_(t,r,n){return r=_v(r),Q_(t,q3()?Reflect.construct(r,n||[],_v(t).constructor):r.apply(t,n))}function Q_(t,r){if(r&&(Df(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H_(t)}function H_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(t)}function W_(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&xj(t,r)}function xj(t,r){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xj(t,r)}function H0(t,r,n){return r=X3(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function X3(t){var r=$_(t,"string");return Df(r)=="symbol"?r:r+""}function $_(t,r){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Df(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z_(t,r){if(t==null)return{};var n=V_(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function V_(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function K_(t){return t.value}function G_(t,r){if(wt.isValidElement(t))return wt.cloneElement(t,r);if(typeof t=="function")return wt.createElement(t,r);r.ref;var n=z_(r,__);return wt.createElement(qw,n)}var nS=1,Su=(function(t){function r(){var n;L_(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=R_(this,r,[].concat(s)),H0(n,"lastBoundingBox",{width:-1,height:-1}),n}return W_(r,t),U_(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>nS||Math.abs(s.height-this.lastBoundingBox.height)>nS)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,o=s.layout,c=s.align,l=s.verticalAlign,h=s.margin,i=s.chartWidth,d=s.chartHeight,u,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();u={left:((i||0)-m.width)/2}}else u=c==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=l==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return tA(tA({},u),f)}},{key:"render",value:function(){var a=this,s=this.props,o=s.content,c=s.width,l=s.height,h=s.wrapperStyle,i=s.payloadUniqBy,d=s.payload,u=tA(tA({position:"absolute",width:c||"auto",height:l||"auto"},this.getDefaultPosition(h)),h);return wt.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(m){a.wrapperNode=m}},G_(o,tA(tA({},this.props),{},{payload:G3(d,i,K_)})))}}],[{key:"getWithHeight",value:function(a,s){var o=tA(tA({},this.defaultProps),a.props),c=o.layout;return c==="vertical"&&An(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||s}:null}}])})(M.PureComponent);H0(Su,"displayName","Legend");H0(Su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var r2,aS;function q_(){if(aS)return r2;aS=1;var t=sg(),r=Yw(),n=Vc(),a=t?t.isConcatSpreadable:void 0;function s(o){return n(o)||r(o)||!!(a&&o&&o[a])}return r2=s,r2}var n2,sS;function Y3(){if(sS)return n2;sS=1;var t=U3(),r=q_();function n(a,s,o,c,l){var h=-1,i=a.length;for(o||(o=r),l||(l=[]);++h<i;){var d=a[h];s>0&&o(d)?s>1?n(d,s-1,o,c,l):t(l,d):c||(l[l.length]=d)}return l}return n2=n,n2}var a2,iS;function X_(){if(iS)return a2;iS=1;function t(r){return function(n,a,s){for(var o=-1,c=Object(n),l=s(n),h=l.length;h--;){var i=l[r?h:++o];if(a(c[i],i,c)===!1)break}return n}}return a2=t,a2}var s2,oS;function Y_(){if(oS)return s2;oS=1;var t=X_(),r=t();return s2=r,s2}var i2,lS;function J3(){if(lS)return i2;lS=1;var t=Y_(),r=Q0();function n(a,s){return a&&t(a,s,r)}return i2=n,i2}var o2,cS;function J_(){if(cS)return o2;cS=1;var t=lg();function r(n,a){return function(s,o){if(s==null)return s;if(!t(s))return n(s,o);for(var c=s.length,l=a?c:-1,h=Object(s);(a?l--:++l<c)&&o(h[l],l,h)!==!1;);return s}}return o2=r,o2}var l2,dS;function tC(){if(dS)return l2;dS=1;var t=J3(),r=J_(),n=r(t);return l2=n,l2}var c2,uS;function Z3(){if(uS)return c2;uS=1;var t=tC(),r=lg();function n(a,s){var o=-1,c=r(a)?Array(a.length):[];return t(a,function(l,h,i){c[++o]=s(l,h,i)}),c}return c2=n,c2}var d2,AS;function Z_(){if(AS)return d2;AS=1;function t(r,n){var a=r.length;for(r.sort(n);a--;)r[a]=r[a].value;return r}return d2=t,d2}var u2,hS;function eL(){if(hS)return u2;hS=1;var t=lp();function r(n,a){if(n!==a){var s=n!==void 0,o=n===null,c=n===n,l=t(n),h=a!==void 0,i=a===null,d=a===a,u=t(a);if(!i&&!u&&!l&&n>a||l&&h&&d&&!i&&!u||o&&h&&d||!s&&d||!c)return 1;if(!o&&!l&&!u&&n<a||u&&s&&c&&!o&&!l||i&&s&&c||!h&&c||!d)return-1}return 0}return u2=r,u2}var A2,fS;function tL(){if(fS)return A2;fS=1;var t=eL();function r(n,a,s){for(var o=-1,c=n.criteria,l=a.criteria,h=c.length,i=s.length;++o<h;){var d=t(c[o],l[o]);if(d){if(o>=i)return d;var u=s[o];return d*(u=="desc"?-1:1)}}return n.index-a.index}return A2=r,A2}var h2,pS;function rL(){if(pS)return h2;pS=1;var t=Qw(),r=Hw(),n=Mu(),a=Z3(),s=Z_(),o=Q3(),c=tL(),l=up(),h=Vc();function i(d,u,f){u.length?u=t(u,function(g){return h(g)?function(x){return r(x,g.length===1?g[0]:g)}:g}):u=[l];var m=-1;u=t(u,o(n));var v=a(d,function(g,x,y){var j=t(u,function(N){return N(g)});return{criteria:j,index:++m,value:g}});return s(v,function(g,x){return c(g,x,f)})}return h2=i,h2}var f2,mS;function nL(){if(mS)return f2;mS=1;function t(r,n,a){switch(a.length){case 0:return r.call(n);case 1:return r.call(n,a[0]);case 2:return r.call(n,a[0],a[1]);case 3:return r.call(n,a[0],a[1],a[2])}return r.apply(n,a)}return f2=t,f2}var p2,gS;function aL(){if(gS)return p2;gS=1;var t=nL(),r=Math.max;function n(a,s,o){return s=r(s===void 0?a.length-1:s,0),function(){for(var c=arguments,l=-1,h=r(c.length-s,0),i=Array(h);++l<h;)i[l]=c[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=c[l];return d[s]=o(i),t(a,this,d)}}return p2=n,p2}var m2,vS;function sL(){if(vS)return m2;vS=1;function t(r){return function(){return r}}return m2=t,m2}var g2,xS;function eF(){if(xS)return g2;xS=1;var t=Gh(),r=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return g2=r,g2}var v2,yS;function iL(){if(yS)return v2;yS=1;var t=sL(),r=eF(),n=up(),a=r?function(s,o){return r(s,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return v2=a,v2}var x2,bS;function oL(){if(bS)return x2;bS=1;var t=800,r=16,n=Date.now;function a(s){var o=0,c=0;return function(){var l=n(),h=r-(l-c);if(c=l,h>0){if(++o>=t)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return x2=a,x2}var y2,jS;function lL(){if(jS)return y2;jS=1;var t=iL(),r=oL(),n=r(t);return y2=n,y2}var b2,wS;function cL(){if(wS)return b2;wS=1;var t=up(),r=aL(),n=lL();function a(s,o){return n(r(s,o,t),s+"")}return b2=a,b2}var j2,CS;function W0(){if(CS)return j2;CS=1;var t=Lw(),r=lg(),n=Jw(),a=rh();function s(o,c,l){if(!a(l))return!1;var h=typeof c;return(h=="number"?r(l)&&n(c,l.length):h=="string"&&c in l)?t(l[c],o):!1}return j2=s,j2}var w2,NS;function dL(){if(NS)return w2;NS=1;var t=Y3(),r=rL(),n=cL(),a=W0(),s=n(function(o,c){if(o==null)return[];var l=c.length;return l>1&&a(o,c[0],c[1])?c=[]:l>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),r(o,t(c,1),[])});return w2=s,w2}var uL=dL();const rC=Qs(uL);function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bm(t)}function yj(){return yj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},yj.apply(this,arguments)}function AL(t,r){return mL(t)||pL(t,r)||fL(t,r)||hL()}function hL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(t,r){if(t){if(typeof t=="string")return BS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,r)}}function BS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function pL(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function mL(t){if(Array.isArray(t))return t}function SS(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function C2(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?SS(Object(n),!0).forEach(function(a){gL(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function gL(t,r,n){return r=vL(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function vL(t){var r=xL(t,"string");return Bm(r)=="symbol"?r:r+""}function xL(t,r){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function yL(t){return Array.isArray(t)&&ml(t[0])&&ml(t[1])?t.join(" ~ "):t}var bL=function(r){var n=r.separator,a=n===void 0?" : ":n,s=r.contentStyle,o=s===void 0?{}:s,c=r.itemStyle,l=c===void 0?{}:c,h=r.labelStyle,i=h===void 0?{}:h,d=r.payload,u=r.formatter,f=r.itemSorter,m=r.wrapperClassName,v=r.labelClassName,g=r.label,x=r.labelFormatter,y=r.accessibilityLayer,j=y===void 0?!1:y,N=function(){if(d&&d.length){var ie={padding:0,margin:0},U=(f?rC(d,f):d).map(function(G,K){if(G.type==="none")return null;var W=C2({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),Ne=G.formatter||u||yL,ge=G.value,Ee=G.name,Fe=ge,he=Ee;if(Ne&&Fe!=null&&he!=null){var le=Ne(ge,Ee,G,K,d);if(Array.isArray(le)){var ve=AL(le,2);Fe=ve[0],he=ve[1]}else Fe=le}return wt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:W},ml(he)?wt.createElement("span",{className:"recharts-tooltip-item-name"},he):null,ml(he)?wt.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,wt.createElement("span",{className:"recharts-tooltip-item-value"},Fe),wt.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return wt.createElement("ul",{className:"recharts-tooltip-item-list",style:ie},U)}return null},T=C2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=C2({margin:0},i),C=!es(g),D=C?g:"",_=cs("recharts-default-tooltip",m),Z=cs("recharts-tooltip-label",v);C&&x&&d!==void 0&&d!==null&&(D=x(g,d));var ae=j?{role:"status","aria-live":"assertive"}:{};return wt.createElement("div",yj({className:_,style:T},ae),wt.createElement("p",{className:Z,style:I},wt.isValidElement(D)?D:"".concat(D)),N())};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sm(t)}function Ng(t,r,n){return r=jL(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function jL(t){var r=wL(t,"string");return Sm(r)=="symbol"?r:r+""}function wL(t,r){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var bp="recharts-tooltip-wrapper",CL={visibility:"hidden"};function NL(t){var r=t.coordinate,n=t.translateX,a=t.translateY;return cs(bp,Ng(Ng(Ng(Ng({},"".concat(bp,"-right"),An(n)&&r&&An(r.x)&&n>=r.x),"".concat(bp,"-left"),An(n)&&r&&An(r.x)&&n<r.x),"".concat(bp,"-bottom"),An(a)&&r&&An(r.y)&&a>=r.y),"".concat(bp,"-top"),An(a)&&r&&An(r.y)&&a<r.y))}function ES(t){var r=t.allowEscapeViewBox,n=t.coordinate,a=t.key,s=t.offsetTopLeft,o=t.position,c=t.reverseDirection,l=t.tooltipDimension,h=t.viewBox,i=t.viewBoxDimension;if(o&&An(o[a]))return o[a];var d=n[a]-l-s,u=n[a]+s;if(r[a])return c[a]?d:u;if(c[a]){var f=d,m=h[a];return f<m?Math.max(u,h[a]):Math.max(d,h[a])}var v=u+l,g=h[a]+i;return v>g?Math.max(d,h[a]):Math.max(u,h[a])}function BL(t){var r=t.translateX,n=t.translateY,a=t.useTranslate3d;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function SL(t){var r=t.allowEscapeViewBox,n=t.coordinate,a=t.offsetTopLeft,s=t.position,o=t.reverseDirection,c=t.tooltipBox,l=t.useTranslate3d,h=t.viewBox,i,d,u;return c.height>0&&c.width>0&&n?(d=ES({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),u=ES({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),i=BL({translateX:d,translateY:u,useTranslate3d:l})):i=CL,{cssProperties:i,cssClasses:NL({translateX:d,translateY:u,coordinate:n})}}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_f(t)}function IS(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function kS(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?IS(Object(n),!0).forEach(function(a){jj(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function EL(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function IL(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,rF(a.key),a)}}function kL(t,r,n){return r&&IL(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TL(t,r,n){return r=Lv(r),FL(t,tF()?Reflect.construct(r,n||[],Lv(t).constructor):r.apply(t,n))}function FL(t,r){if(r&&(_f(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PL(t)}function PL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function OL(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&bj(t,r)}function bj(t,r){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},bj(t,r)}function jj(t,r,n){return r=rF(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function rF(t){var r=ML(t,"string");return _f(r)=="symbol"?r:r+""}function ML(t,r){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(_f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TS=1,DL=(function(t){function r(){var n;EL(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=TL(this,r,[].concat(s)),jj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jj(n,"handleKeyDown",function(c){if(c.key==="Escape"){var l,h,i,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(h=n.props.coordinate)===null||h===void 0?void 0:h.x)!==null&&l!==void 0?l:0,y:(i=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&i!==void 0?i:0}})}}),n}return OL(r,t),kL(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>TS||Math.abs(a.height-this.state.lastBoundingBox.height)>TS)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,o=s.active,c=s.allowEscapeViewBox,l=s.animationDuration,h=s.animationEasing,i=s.children,d=s.coordinate,u=s.hasPayload,f=s.isAnimationActive,m=s.offset,v=s.position,g=s.reverseDirection,x=s.useTranslate3d,y=s.viewBox,j=s.wrapperStyle,N=SL({allowEscapeViewBox:c,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),T=N.cssClasses,I=N.cssProperties,C=kS(kS({transition:f&&o?"transform ".concat(l,"ms ").concat(h):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&u?"visible":"hidden",position:"absolute",top:0,left:0},j);return wt.createElement("div",{tabIndex:-1,className:T,style:C,ref:function(_){a.wrapperNode=_}},i)}}])})(M.PureComponent),_L=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qh={isSsr:_L()};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lf(t)}function FS(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function PS(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?FS(Object(n),!0).forEach(function(a){nC(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function LL(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function UL(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,aF(a.key),a)}}function RL(t,r,n){return r&&UL(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QL(t,r,n){return r=Uv(r),HL(t,nF()?Reflect.construct(r,n||[],Uv(t).constructor):r.apply(t,n))}function HL(t,r){if(r&&(Lf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WL(t)}function WL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function $L(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&wj(t,r)}function wj(t,r){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},wj(t,r)}function nC(t,r,n){return r=aF(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function aF(t){var r=zL(t,"string");return Lf(r)=="symbol"?r:r+""}function zL(t,r){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Lf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VL(t){return t.dataKey}function KL(t,r){return wt.isValidElement(t)?wt.cloneElement(t,r):typeof t=="function"?wt.createElement(t,r):wt.createElement(bL,r)}var Ad=(function(t){function r(){return LL(this,r),QL(this,r,arguments)}return $L(r,t),RL(r,[{key:"render",value:function(){var a=this,s=this.props,o=s.active,c=s.allowEscapeViewBox,l=s.animationDuration,h=s.animationEasing,i=s.content,d=s.coordinate,u=s.filterNull,f=s.isAnimationActive,m=s.offset,v=s.payload,g=s.payloadUniqBy,x=s.position,y=s.reverseDirection,j=s.useTranslate3d,N=s.viewBox,T=s.wrapperStyle,I=v??[];u&&I.length&&(I=G3(v.filter(function(D){return D.value!=null&&(D.hide!==!0||a.props.includeHidden)}),g,VL));var C=I.length>0;return wt.createElement(DL,{allowEscapeViewBox:c,animationDuration:l,animationEasing:h,isAnimationActive:f,active:o,coordinate:d,hasPayload:C,offset:m,position:x,reverseDirection:y,useTranslate3d:j,viewBox:N,wrapperStyle:T},KL(i,PS(PS({},this.props),{},{payload:I})))}}])})(M.PureComponent);nC(Ad,"displayName","Tooltip");nC(Ad,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var N2,OS;function GL(){if(OS)return N2;OS=1;var t=Ou(),r=function(){return t.Date.now()};return N2=r,N2}var B2,MS;function qL(){if(MS)return B2;MS=1;var t=/\s/;function r(n){for(var a=n.length;a--&&t.test(n.charAt(a)););return a}return B2=r,B2}var S2,DS;function XL(){if(DS)return S2;DS=1;var t=qL(),r=/^\s+/;function n(a){return a&&a.slice(0,t(a)+1).replace(r,"")}return S2=n,S2}var E2,_S;function sF(){if(_S)return E2;_S=1;var t=XL(),r=rh(),n=lp(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function h(i){if(typeof i=="number")return i;if(n(i))return a;if(r(i)){var d=typeof i.valueOf=="function"?i.valueOf():i;i=r(d)?d+"":d}if(typeof i!="string")return i===0?i:+i;i=t(i);var u=o.test(i);return u||c.test(i)?l(i.slice(2),u?2:8):s.test(i)?a:+i}return E2=h,E2}var I2,LS;function YL(){if(LS)return I2;LS=1;var t=rh(),r=GL(),n=sF(),a="Expected a function",s=Math.max,o=Math.min;function c(l,h,i){var d,u,f,m,v,g,x=0,y=!1,j=!1,N=!0;if(typeof l!="function")throw new TypeError(a);h=n(h)||0,t(i)&&(y=!!i.leading,j="maxWait"in i,f=j?s(n(i.maxWait)||0,h):f,N="trailing"in i?!!i.trailing:N);function T(U){var G=d,K=u;return d=u=void 0,x=U,m=l.apply(K,G),m}function I(U){return x=U,v=setTimeout(_,h),y?T(U):m}function C(U){var G=U-g,K=U-x,W=h-G;return j?o(W,f-K):W}function D(U){var G=U-g,K=U-x;return g===void 0||G>=h||G<0||j&&K>=f}function _(){var U=r();if(D(U))return Z(U);v=setTimeout(_,C(U))}function Z(U){return v=void 0,N&&d?T(U):(d=u=void 0,m)}function ae(){v!==void 0&&clearTimeout(v),x=0,d=g=u=v=void 0}function V(){return v===void 0?m:Z(r())}function ie(){var U=r(),G=D(U);if(d=arguments,u=this,g=U,G){if(v===void 0)return I(g);if(j)return clearTimeout(v),v=setTimeout(_,h),T(g)}return v===void 0&&(v=setTimeout(_,h)),m}return ie.cancel=ae,ie.flush=V,ie}return I2=c,I2}var k2,US;function JL(){if(US)return k2;US=1;var t=YL(),r=rh(),n="Expected a function";function a(s,o,c){var l=!0,h=!0;if(typeof s!="function")throw new TypeError(n);return r(c)&&(l="leading"in c?!!c.leading:l,h="trailing"in c?!!c.trailing:h),t(s,o,{leading:l,maxWait:o,trailing:h})}return k2=a,k2}var ZL=JL();const iF=Qs(ZL);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Em(t)}function RS(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Bg(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?RS(Object(n),!0).forEach(function(a){eU(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function eU(t,r,n){return r=tU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function tU(t){var r=rU(t,"string");return Em(r)=="symbol"?r:r+""}function rU(t,r){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Em(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function nU(t,r){return oU(t)||iU(t,r)||sU(t,r)||aU()}function aU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(t,r){if(t){if(typeof t=="string")return QS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(t,r)}}function QS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function iU(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function oU(t){if(Array.isArray(t))return t}var lU=M.forwardRef(function(t,r){var n=t.aspect,a=t.initialDimension,s=a===void 0?{width:-1,height:-1}:a,o=t.width,c=o===void 0?"100%":o,l=t.height,h=l===void 0?"100%":l,i=t.minWidth,d=i===void 0?0:i,u=t.minHeight,f=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,x=t.id,y=t.className,j=t.onResize,N=t.style,T=N===void 0?{}:N,I=M.useRef(null),C=M.useRef();C.current=j,M.useImperativeHandle(r,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var D=M.useState({containerWidth:s.width,containerHeight:s.height}),_=nU(D,2),Z=_[0],ae=_[1],V=M.useCallback(function(U,G){ae(function(K){var W=Math.round(U),Ne=Math.round(G);return K.containerWidth===W&&K.containerHeight===Ne?K:{containerWidth:W,containerHeight:Ne}})},[]);M.useEffect(function(){var U=function(Ee){var Fe,he=Ee[0].contentRect,le=he.width,ve=he.height;V(le,ve),(Fe=C.current)===null||Fe===void 0||Fe.call(C,le,ve)};g>0&&(U=iF(U,g,{trailing:!0,leading:!1}));var G=new ResizeObserver(U),K=I.current.getBoundingClientRect(),W=K.width,Ne=K.height;return V(W,Ne),G.observe(I.current),function(){G.disconnect()}},[V,g]);var ie=M.useMemo(function(){var U=Z.containerWidth,G=Z.containerHeight;if(U<0||G<0)return null;Au(Mh(c)||Mh(h),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,h),Au(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Mh(c)?U:c,W=Mh(h)?G:h;n&&n>0&&(K?W=K/n:W&&(K=W*n),f&&W>f&&(W=f)),Au(K>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,W,c,h,d,u,n);var Ne=!Array.isArray(m)&&lA(m.type).endsWith("Chart");return wt.Children.map(m,function(ge){return wt.isValidElement(ge)?M.cloneElement(ge,Bg({width:K,height:W},Ne?{style:Bg({height:"100%",width:"100%",maxHeight:W,maxWidth:K},ge.props.style)}:{})):ge})},[n,m,h,f,u,d,Z,c]);return wt.createElement("div",{id:x?"".concat(x):void 0,className:cs("recharts-responsive-container",y),style:Bg(Bg({},T),{},{width:c,height:h,minWidth:d,minHeight:u,maxHeight:f}),ref:I},ie)}),$0=function(r){return null};$0.displayName="Cell";function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Im(t)}function HS(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Cj(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HS(Object(n),!0).forEach(function(a){cU(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function cU(t,r,n){return r=dU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function dU(t){var r=uU(t,"string");return Im(r)=="symbol"?r:r+""}function uU(t,r){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var pf={widthCache:{},cacheCount:0},AU=2e3,hU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WS="recharts_measurement_span";function fU(t){var r=Cj({},t);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var hm=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||qh.isSsr)return{width:0,height:0};var a=fU(n),s=JSON.stringify({text:r,copyStyle:a});if(pf.widthCache[s])return pf.widthCache[s];try{var o=document.getElementById(WS);o||(o=document.createElement("span"),o.setAttribute("id",WS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=Cj(Cj({},hU),a);Object.assign(o.style,c),o.textContent="".concat(r);var l=o.getBoundingClientRect(),h={width:l.width,height:l.height};return pf.widthCache[s]=h,++pf.cacheCount>AU&&(pf.cacheCount=0,pf.widthCache={}),h}catch{return{width:0,height:0}}},pU=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},km(t)}function Rv(t,r){return xU(t)||vU(t,r)||gU(t,r)||mU()}function mU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,r){if(t){if(typeof t=="string")return $S(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(t,r)}}function $S(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function vU(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function xU(t){if(Array.isArray(t))return t}function yU(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zS(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,jU(a.key),a)}}function bU(t,r,n){return r&&zS(t.prototype,r),n&&zS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jU(t){var r=wU(t,"string");return km(r)=="symbol"?r:r+""}function wU(t,r){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(km(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BU=Object.keys(oF),Nf="NaN";function SU(t,r){return t*oF[r]}var Sg=(function(){function t(r,n){yU(this,t),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!CU.test(n)&&(this.num=NaN,this.unit=""),BU.includes(n)&&(this.num=SU(r,n),this.unit="px")}return bU(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=NU.exec(n))!==null&&a!==void 0?a:[],o=Rv(s,3),c=o[1],l=o[2];return new t(parseFloat(c),l??"")}}])})();function lF(t){if(t.includes(Nf))return Nf;for(var r=t;r.includes("*")||r.includes("/");){var n,a=(n=VS.exec(r))!==null&&n!==void 0?n:[],s=Rv(a,4),o=s[1],c=s[2],l=s[3],h=Sg.parse(o??""),i=Sg.parse(l??""),d=c==="*"?h.multiply(i):h.divide(i);if(d.isNaN())return Nf;r=r.replace(VS,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var u,f=(u=KS.exec(r))!==null&&u!==void 0?u:[],m=Rv(f,4),v=m[1],g=m[2],x=m[3],y=Sg.parse(v??""),j=Sg.parse(x??""),N=g==="+"?y.add(j):y.subtract(j);if(N.isNaN())return Nf;r=r.replace(KS,N.toString())}return r}var GS=/\(([^()]*)\)/;function EU(t){for(var r=t;r.includes("(");){var n=GS.exec(r),a=Rv(n,2),s=a[1];r=r.replace(GS,lF(s))}return r}function IU(t){var r=t.replace(/\s+/g,"");return r=EU(r),r=lF(r),r}function kU(t){try{return IU(t)}catch{return Nf}}function T2(t){var r=kU(t.slice(5,-1));return r===Nf?"":r}var TU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],FU=["dx","dy","angle","className","breakAll"];function Nj(){return Nj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Nj.apply(this,arguments)}function qS(t,r){if(t==null)return{};var n=PU(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function PU(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function XS(t,r){return _U(t)||DU(t,r)||MU(t,r)||OU()}function OU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(t,r){if(t){if(typeof t=="string")return YS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(t,r)}}function YS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function DU(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function _U(t){if(Array.isArray(t))return t}var cF=/[ \f\n\r\t\v\u2028\u2029]+/,dF=function(r){var n=r.children,a=r.breakAll,s=r.style;try{var o=[];es(n)||(a?o=n.toString().split(""):o=n.toString().split(cF));var c=o.map(function(h){return{word:h,width:hm(h,s).width}}),l=a?0:hm("",s).width;return{wordsWithComputedWidth:c,spaceWidth:l}}catch{return null}},LU=function(r,n,a,s,o){var c=r.maxLines,l=r.children,h=r.style,i=r.breakAll,d=An(c),u=l,f=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(W,Ne){var ge=Ne.word,Ee=Ne.width,Fe=W[W.length-1];if(Fe&&(s==null||o||Fe.width+Ee+a<Number(s)))Fe.words.push(ge),Fe.width+=Ee+a;else{var he={words:[ge],width:Ee};W.push(he)}return W},[])},m=f(n),v=function(K){return K.reduce(function(W,Ne){return W.width>Ne.width?W:Ne})};if(!d)return m;for(var g="",x=function(K){var W=u.slice(0,K),Ne=dF({breakAll:i,style:h,children:W+g}).wordsWithComputedWidth,ge=f(Ne),Ee=ge.length>c||v(ge).width>Number(s);return[Ee,ge]},y=0,j=u.length-1,N=0,T;y<=j&&N<=u.length-1;){var I=Math.floor((y+j)/2),C=I-1,D=x(C),_=XS(D,2),Z=_[0],ae=_[1],V=x(I),ie=XS(V,1),U=ie[0];if(!Z&&!U&&(y=I+1),Z&&U&&(j=I-1),!Z&&U){T=ae;break}N++}return T||m},JS=function(r){var n=es(r)?[]:r.toString().split(cF);return[{words:n}]},UU=function(r){var n=r.width,a=r.scaleToFit,s=r.children,o=r.style,c=r.breakAll,l=r.maxLines;if((n||a)&&!qh.isSsr){var h,i,d=dF({breakAll:c,children:s,style:o});if(d){var u=d.wordsWithComputedWidth,f=d.spaceWidth;h=u,i=f}else return JS(s);return LU({breakAll:c,children:s,maxLines:l,style:o},h,i,n,a)}return JS(s)},ZS="#808080",$h=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,o=s===void 0?0:s,c=r.lineHeight,l=c===void 0?"1em":c,h=r.capHeight,i=h===void 0?"0.71em":h,d=r.scaleToFit,u=d===void 0?!1:d,f=r.textAnchor,m=f===void 0?"start":f,v=r.verticalAnchor,g=v===void 0?"end":v,x=r.fill,y=x===void 0?ZS:x,j=qS(r,TU),N=M.useMemo(function(){return UU({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:u,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,u,j.style,j.width]),T=j.dx,I=j.dy,C=j.angle,D=j.className,_=j.breakAll,Z=qS(j,FU);if(!ml(a)||!ml(o))return null;var ae=a+(An(T)?T:0),V=o+(An(I)?I:0),ie;switch(g){case"start":ie=T2("calc(".concat(i,")"));break;case"middle":ie=T2("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(i," / 2))"));break;default:ie=T2("calc(".concat(N.length-1," * -").concat(l,")"));break}var U=[];if(u){var G=N[0].width,K=j.width;U.push("scale(".concat((An(K)?K/G:1)/G,")"))}return C&&U.push("rotate(".concat(C,", ").concat(ae,", ").concat(V,")")),U.length&&(Z.transform=U.join(" ")),wt.createElement("text",Nj({},Ca(Z,!0),{x:ae,y:V,className:cs("recharts-text",D),textAnchor:m,fill:y.includes("url")?ZS:y}),N.map(function(W,Ne){var ge=W.words.join(_?"":" ");return wt.createElement("tspan",{x:ae,dy:Ne===0?ie:l,key:"".concat(ge,"-").concat(Ne)},ge)}))};function YA(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function RU(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function aC(t){let r,n,a;t.length!==2?(r=YA,n=(l,h)=>YA(t(l),h),a=(l,h)=>t(l)-h):(r=t===YA||t===RU?t:QU,n=t,a=t);function s(l,h,i=0,d=l.length){if(i<d){if(r(h,h)!==0)return d;do{const u=i+d>>>1;n(l[u],h)<0?i=u+1:d=u}while(i<d)}return i}function o(l,h,i=0,d=l.length){if(i<d){if(r(h,h)!==0)return d;do{const u=i+d>>>1;n(l[u],h)<=0?i=u+1:d=u}while(i<d)}return i}function c(l,h,i=0,d=l.length){const u=s(l,h,i,d-1);return u>i&&a(l[u-1],h)>-a(l[u],h)?u-1:u}return{left:s,center:c,right:o}}function QU(){return 0}function uF(t){return t===null?NaN:+t}function*HU(t,r){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const WU=aC(YA),cg=WU.right;aC(uF).center;class e5 extends Map{constructor(r,n=VU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,s]of r)this.set(a,s)}get(r){return super.get(t5(this,r))}has(r){return super.has(t5(this,r))}set(r,n){return super.set($U(this,r),n)}delete(r){return super.delete(zU(this,r))}}function t5({_intern:t,_key:r},n){const a=r(n);return t.has(a)?t.get(a):n}function $U({_intern:t,_key:r},n){const a=r(n);return t.has(a)?t.get(a):(t.set(a,n),n)}function zU({_intern:t,_key:r},n){const a=r(n);return t.has(a)&&(n=t.get(a),t.delete(a)),n}function VU(t){return t!==null&&typeof t=="object"?t.valueOf():t}function KU(t=YA){if(t===YA)return AF;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=t(r,n);return a||a===0?a:(t(n,n)===0)-(t(r,r)===0)}}function AF(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const GU=Math.sqrt(50),qU=Math.sqrt(10),XU=Math.sqrt(2);function Qv(t,r,n){const a=(r-t)/Math.max(0,n),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),c=o>=GU?10:o>=qU?5:o>=XU?2:1;let l,h,i;return s<0?(i=Math.pow(10,-s)/c,l=Math.round(t*i),h=Math.round(r*i),l/i<t&&++l,h/i>r&&--h,i=-i):(i=Math.pow(10,s)*c,l=Math.round(t/i),h=Math.round(r/i),l*i<t&&++l,h*i>r&&--h),h<l&&.5<=n&&n<2?Qv(t,r,n*2):[l,h,i]}function Bj(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const a=r<t,[s,o,c]=a?Qv(r,t,n):Qv(t,r,n);if(!(o>=s))return[];const l=o-s+1,h=new Array(l);if(a)if(c<0)for(let i=0;i<l;++i)h[i]=(o-i)/-c;else for(let i=0;i<l;++i)h[i]=(o-i)*c;else if(c<0)for(let i=0;i<l;++i)h[i]=(s+i)/-c;else for(let i=0;i<l;++i)h[i]=(s+i)*c;return h}function Sj(t,r,n){return r=+r,t=+t,n=+n,Qv(t,r,n)[2]}function Ej(t,r,n){r=+r,t=+t,n=+n;const a=r<t,s=a?Sj(r,t,n):Sj(t,r,n);return(a?-1:1)*(s<0?1/-s:s)}function r5(t,r){let n;for(const a of t)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function n5(t,r){let n;for(const a of t)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function hF(t,r,n=0,a=1/0,s){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(t.length-1,a)),!(n<=r&&r<=a))return t;for(s=s===void 0?AF:KU(s);a>n;){if(a-n>600){const h=a-n+1,i=r-n+1,d=Math.log(h),u=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*u*(h-u)/h)*(i-h/2<0?-1:1),m=Math.max(n,Math.floor(r-i*u/h+f)),v=Math.min(a,Math.floor(r+(h-i)*u/h+f));hF(t,r,m,v,s)}const o=t[r];let c=n,l=a;for(jp(t,n,r),s(t[a],o)>0&&jp(t,n,a);c<l;){for(jp(t,c,l),++c,--l;s(t[c],o)<0;)++c;for(;s(t[l],o)>0;)--l}s(t[n],o)===0?jp(t,n,l):(++l,jp(t,l,a)),l<=r&&(n=l+1),r<=l&&(a=l-1)}return t}function jp(t,r,n){const a=t[r];t[r]=t[n],t[n]=a}function YU(t,r,n){if(t=Float64Array.from(HU(t)),!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return n5(t);if(r>=1)return r5(t);var a,s=(a-1)*r,o=Math.floor(s),c=r5(hF(t,o).subarray(0,o+1)),l=n5(t.subarray(o+1));return c+(l-c)*(s-o)}}function JU(t,r,n=uF){if(!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(t[0],0,t);if(r>=1)return+n(t[a-1],a-1,t);var a,s=(a-1)*r,o=Math.floor(s),c=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return c+(l-c)*(s-o)}}function ZU(t,r,n){t=+t,r=+r,n=(s=arguments.length)<2?(r=t,t=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((r-t)/n))|0,o=new Array(s);++a<s;)o[a]=t+a*n;return o}function Kd(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function mA(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Ij=Symbol("implicit");function sC(){var t=new e5,r=[],n=[],a=Ij;function s(o){let c=t.get(o);if(c===void 0){if(a!==Ij)return a;t.set(o,c=r.push(o)-1)}return n[c%n.length]}return s.domain=function(o){if(!arguments.length)return r.slice();r=[],t=new e5;for(const c of o)t.has(c)||t.set(c,r.push(c)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return sC(r,n).unknown(a)},Kd.apply(s,arguments),s}function Tm(){var t=sC().unknown(void 0),r=t.domain,n=t.range,a=0,s=1,o,c,l=!1,h=0,i=0,d=.5;delete t.unknown;function u(){var f=r().length,m=s<a,v=m?s:a,g=m?a:s;o=(g-v)/Math.max(1,f-h+i*2),l&&(o=Math.floor(o)),v+=(g-v-o*(f-h))*d,c=o*(1-h),l&&(v=Math.round(v),c=Math.round(c));var x=ZU(f).map(function(y){return v+o*y});return n(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(r(f),u()):r()},t.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,u()):[a,s]},t.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,l=!0,u()},t.bandwidth=function(){return c},t.step=function(){return o},t.round=function(f){return arguments.length?(l=!!f,u()):l},t.padding=function(f){return arguments.length?(h=Math.min(1,i=+f),u()):h},t.paddingInner=function(f){return arguments.length?(h=Math.min(1,f),u()):h},t.paddingOuter=function(f){return arguments.length?(i=+f,u()):i},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),u()):d},t.copy=function(){return Tm(r(),[a,s]).round(l).paddingInner(h).paddingOuter(i).align(d)},Kd.apply(u(),arguments)}function fF(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fF(r())},t}function fm(){return fF(Tm.apply(null,arguments).paddingInner(1))}function iC(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function pF(t,r){var n=Object.create(t.prototype);for(var a in r)n[a]=r[a];return n}function dg(){}var Fm=.7,Hv=1/Fm,Ff="\\s*([+-]?\\d+)\\s*",Pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eR=/^#([0-9a-f]{3,8})$/,tR=new RegExp(`^rgb\\(${Ff},${Ff},${Ff}\\)$`),rR=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),nR=new RegExp(`^rgba\\(${Ff},${Ff},${Ff},${Pm}\\)$`),aR=new RegExp(`^rgba\\(${ku},${ku},${ku},${Pm}\\)$`),sR=new RegExp(`^hsl\\(${Pm},${ku},${ku}\\)$`),iR=new RegExp(`^hsla\\(${Pm},${ku},${ku},${Pm}\\)$`),a5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iC(dg,Om,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s5,formatHex:s5,formatHex8:oR,formatHsl:lR,formatRgb:i5,toString:i5});function s5(){return this.rgb().formatHex()}function oR(){return this.rgb().formatHex8()}function lR(){return mF(this).formatHsl()}function i5(){return this.rgb().formatRgb()}function Om(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=eR.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?o5(r):n===3?new zc(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Eg(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Eg(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=tR.exec(t))?new zc(r[1],r[2],r[3],1):(r=rR.exec(t))?new zc(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=nR.exec(t))?Eg(r[1],r[2],r[3],r[4]):(r=aR.exec(t))?Eg(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=sR.exec(t))?d5(r[1],r[2]/100,r[3]/100,1):(r=iR.exec(t))?d5(r[1],r[2]/100,r[3]/100,r[4]):a5.hasOwnProperty(t)?o5(a5[t]):t==="transparent"?new zc(NaN,NaN,NaN,0):null}function o5(t){return new zc(t>>16&255,t>>8&255,t&255,1)}function Eg(t,r,n,a){return a<=0&&(t=r=n=NaN),new zc(t,r,n,a)}function cR(t){return t instanceof dg||(t=Om(t)),t?(t=t.rgb(),new zc(t.r,t.g,t.b,t.opacity)):new zc}function kj(t,r,n,a){return arguments.length===1?cR(t):new zc(t,r,n,a??1)}function zc(t,r,n,a){this.r=+t,this.g=+r,this.b=+n,this.opacity=+a}iC(zc,kj,pF(dg,{brighter(t){return t=t==null?Hv:Math.pow(Hv,t),new zc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fm:Math.pow(Fm,t),new zc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zc(Uh(this.r),Uh(this.g),Uh(this.b),Wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l5,formatHex:l5,formatHex8:dR,formatRgb:c5,toString:c5}));function l5(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}`}function dR(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}${Dh((isNaN(this.opacity)?1:this.opacity)*255)}`}function c5(){const t=Wv(this.opacity);return`${t===1?"rgb(":"rgba("}${Uh(this.r)}, ${Uh(this.g)}, ${Uh(this.b)}${t===1?")":`, ${t})`}`}function Wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dh(t){return t=Uh(t),(t<16?"0":"")+t.toString(16)}function d5(t,r,n,a){return a<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new uu(t,r,n,a)}function mF(t){if(t instanceof uu)return new uu(t.h,t.s,t.l,t.opacity);if(t instanceof dg||(t=Om(t)),!t)return new uu;if(t instanceof uu)return t;t=t.rgb();var r=t.r/255,n=t.g/255,a=t.b/255,s=Math.min(r,n,a),o=Math.max(r,n,a),c=NaN,l=o-s,h=(o+s)/2;return l?(r===o?c=(n-a)/l+(n<a)*6:n===o?c=(a-r)/l+2:c=(r-n)/l+4,l/=h<.5?o+s:2-o-s,c*=60):l=h>0&&h<1?0:c,new uu(c,l,h,t.opacity)}function uR(t,r,n,a){return arguments.length===1?mF(t):new uu(t,r,n,a??1)}function uu(t,r,n,a){this.h=+t,this.s=+r,this.l=+n,this.opacity=+a}iC(uu,uR,pF(dg,{brighter(t){return t=t==null?Hv:Math.pow(Hv,t),new uu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fm:Math.pow(Fm,t),new uu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,s=2*n-a;return new zc(F2(t>=240?t-240:t+120,s,a),F2(t,s,a),F2(t<120?t+240:t-120,s,a),this.opacity)},clamp(){return new uu(u5(this.h),Ig(this.s),Ig(this.l),Wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wv(this.opacity);return`${t===1?"hsl(":"hsla("}${u5(this.h)}, ${Ig(this.s)*100}%, ${Ig(this.l)*100}%${t===1?")":`, ${t})`}`}}));function u5(t){return t=(t||0)%360,t<0?t+360:t}function Ig(t){return Math.max(0,Math.min(1,t||0))}function F2(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const oC=t=>()=>t;function AR(t,r){return function(n){return t+n*r}}function hR(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(a){return Math.pow(t+a*r,n)}}function fR(t){return(t=+t)==1?gF:function(r,n){return n-r?hR(r,n,t):oC(isNaN(r)?n:r)}}function gF(t,r){var n=r-t;return n?AR(t,n):oC(isNaN(t)?r:t)}const A5=(function t(r){var n=fR(r);function a(s,o){var c=n((s=kj(s)).r,(o=kj(o)).r),l=n(s.g,o.g),h=n(s.b,o.b),i=gF(s.opacity,o.opacity);return function(d){return s.r=c(d),s.g=l(d),s.b=h(d),s.opacity=i(d),s+""}}return a.gamma=t,a})(1);function pR(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,a=r.slice(),s;return function(o){for(s=0;s<n;++s)a[s]=t[s]*(1-o)+r[s]*o;return a}}function mR(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gR(t,r){var n=r?r.length:0,a=t?Math.min(n,t.length):0,s=new Array(a),o=new Array(n),c;for(c=0;c<a;++c)s[c]=Ap(t[c],r[c]);for(;c<n;++c)o[c]=r[c];return function(l){for(c=0;c<a;++c)o[c]=s[c](l);return o}}function vR(t,r){var n=new Date;return t=+t,r=+r,function(a){return n.setTime(t*(1-a)+r*a),n}}function $v(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function xR(t,r){var n={},a={},s;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in t?n[s]=Ap(t[s],r[s]):a[s]=r[s];return function(o){for(s in n)a[s]=n[s](o);return a}}var Tj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P2=new RegExp(Tj.source,"g");function yR(t){return function(){return t}}function bR(t){return function(r){return t(r)+""}}function jR(t,r){var n=Tj.lastIndex=P2.lastIndex=0,a,s,o,c=-1,l=[],h=[];for(t=t+"",r=r+"";(a=Tj.exec(t))&&(s=P2.exec(r));)(o=s.index)>n&&(o=r.slice(n,o),l[c]?l[c]+=o:l[++c]=o),(a=a[0])===(s=s[0])?l[c]?l[c]+=s:l[++c]=s:(l[++c]=null,h.push({i:c,x:$v(a,s)})),n=P2.lastIndex;return n<r.length&&(o=r.slice(n),l[c]?l[c]+=o:l[++c]=o),l.length<2?h[0]?bR(h[0].x):yR(r):(r=h.length,function(i){for(var d=0,u;d<r;++d)l[(u=h[d]).i]=u.x(i);return l.join("")})}function Ap(t,r){var n=typeof r,a;return r==null||n==="boolean"?oC(r):(n==="number"?$v:n==="string"?(a=Om(r))?(r=a,A5):jR:r instanceof Om?A5:r instanceof Date?vR:mR(r)?pR:Array.isArray(r)?gR:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?xR:$v)(t,r)}function lC(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}function wR(t,r){r===void 0&&(r=t,t=Ap);for(var n=0,a=r.length-1,s=r[0],o=new Array(a<0?0:a);n<a;)o[n]=t(s,s=r[++n]);return function(c){var l=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return o[l](c-l)}}function CR(t){return function(){return t}}function zv(t){return+t}var h5=[0,1];function Tc(t){return t}function Fj(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:CR(isNaN(r)?NaN:.5)}function NR(t,r){var n;return t>r&&(n=t,t=r,r=n),function(a){return Math.max(t,Math.min(r,a))}}function BR(t,r,n){var a=t[0],s=t[1],o=r[0],c=r[1];return s<a?(a=Fj(s,a),o=n(c,o)):(a=Fj(a,s),o=n(o,c)),function(l){return o(a(l))}}function SR(t,r,n){var a=Math.min(t.length,r.length)-1,s=new Array(a),o=new Array(a),c=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++c<a;)s[c]=Fj(t[c],t[c+1]),o[c]=n(r[c],r[c+1]);return function(l){var h=cg(t,l,1,a)-1;return o[h](s[h](l))}}function ug(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function z0(){var t=h5,r=h5,n=Ap,a,s,o,c=Tc,l,h,i;function d(){var f=Math.min(t.length,r.length);return c!==Tc&&(c=NR(t[0],t[f-1])),l=f>2?SR:BR,h=i=null,u}function u(f){return f==null||isNaN(f=+f)?o:(h||(h=l(t.map(a),r,n)))(a(c(f)))}return u.invert=function(f){return c(s((i||(i=l(r,t.map(a),$v)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,zv),d()):t.slice()},u.range=function(f){return arguments.length?(r=Array.from(f),d()):r.slice()},u.rangeRound=function(f){return r=Array.from(f),n=lC,d()},u.clamp=function(f){return arguments.length?(c=f?!0:Tc,d()):c!==Tc},u.interpolate=function(f){return arguments.length?(n=f,d()):n},u.unknown=function(f){return arguments.length?(o=f,u):o},function(f,m){return a=f,s=m,d()}}function cC(){return z0()(Tc,Tc)}function ER(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vv(t,r){if(!isFinite(t)||t===0)return null;var n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"),a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}function Uf(t){return t=Vv(Math.abs(t)),t?t[1]:NaN}function IR(t,r){return function(n,a){for(var s=n.length,o=[],c=0,l=t[0],h=0;s>0&&l>0&&(h+l+1>a&&(l=Math.max(1,a-h)),o.push(n.substring(s-=l,s+l)),!((h+=l+1)>a));)l=t[c=(c+1)%t.length];return o.reverse().join(r)}}function kR(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var TR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mm(t){if(!(r=TR.exec(t)))throw new Error("invalid format: "+t);var r;return new dC({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Mm.prototype=dC.prototype;function dC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FR(t){e:for(var r=t.length,n=1,a=-1,s;n<r;++n)switch(t[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+t[n])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(s+1):t}var Kv;function PR(t,r){var n=Vv(t,r);if(!n)return Kv=void 0,t.toPrecision(r);var a=n[0],s=n[1],o=s-(Kv=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Vv(t,Math.max(0,r+o-1))[0]}function f5(t,r){var n=Vv(t,r);if(!n)return t+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const p5={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ER,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>f5(t*100,r),r:f5,s:PR,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function m5(t){return t}var g5=Array.prototype.map,v5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OR(t){var r=t.grouping===void 0||t.thousands===void 0?m5:IR(g5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?m5:kR(g5.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function i(u,f){u=Mm(u);var m=u.fill,v=u.align,g=u.sign,x=u.symbol,y=u.zero,j=u.width,N=u.comma,T=u.precision,I=u.trim,C=u.type;C==="n"?(N=!0,C="g"):p5[C]||(T===void 0&&(T=12),I=!0,C="g"),(y||m==="0"&&v==="=")&&(y=!0,m="0",v="=");var D=(f&&f.prefix!==void 0?f.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),_=(x==="$"?a:/[%p]/.test(C)?c:"")+(f&&f.suffix!==void 0?f.suffix:""),Z=p5[C],ae=/[defgprs%]/.test(C);T=T===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function V(ie){var U=D,G=_,K,W,Ne;if(C==="c")G=Z(ie)+G,ie="";else{ie=+ie;var ge=ie<0||1/ie<0;if(ie=isNaN(ie)?h:Z(Math.abs(ie),T),I&&(ie=FR(ie)),ge&&+ie==0&&g!=="+"&&(ge=!1),U=(ge?g==="("?g:l:g==="-"||g==="("?"":g)+U,G=(C==="s"&&!isNaN(ie)&&Kv!==void 0?v5[8+Kv/3]:"")+G+(ge&&g==="("?")":""),ae){for(K=-1,W=ie.length;++K<W;)if(Ne=ie.charCodeAt(K),48>Ne||Ne>57){G=(Ne===46?s+ie.slice(K+1):ie.slice(K))+G,ie=ie.slice(0,K);break}}}N&&!y&&(ie=r(ie,1/0));var Ee=U.length+ie.length+G.length,Fe=Ee<j?new Array(j-Ee+1).join(m):"";switch(N&&y&&(ie=r(Fe+ie,Fe.length?j-G.length:1/0),Fe=""),v){case"<":ie=U+ie+G+Fe;break;case"=":ie=U+Fe+ie+G;break;case"^":ie=Fe.slice(0,Ee=Fe.length>>1)+U+ie+G+Fe.slice(Ee);break;default:ie=Fe+U+ie+G;break}return o(ie)}return V.toString=function(){return u+""},V}function d(u,f){var m=Math.max(-8,Math.min(8,Math.floor(Uf(f)/3)))*3,v=Math.pow(10,-m),g=i((u=Mm(u),u.type="f",u),{suffix:v5[8+m/3]});return function(x){return g(v*x)}}return{format:i,formatPrefix:d}}var kg,uC,vF;MR({thousands:",",grouping:[3],currency:["$",""]});function MR(t){return kg=OR(t),uC=kg.format,vF=kg.formatPrefix,kg}function DR(t){return Math.max(0,-Uf(Math.abs(t)))}function _R(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uf(r)/3)))*3-Uf(Math.abs(t)))}function LR(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Uf(r)-Uf(t))+1}function xF(t,r,n,a){var s=Ej(t,r,n),o;switch(a=Mm(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(r));return a.precision==null&&!isNaN(o=_R(s,c))&&(a.precision=o),vF(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=LR(s,Math.max(Math.abs(t),Math.abs(r))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=DR(s))&&(a.precision=o-(a.type==="%")*2);break}}return uC(a)}function nh(t){var r=t.domain;return t.ticks=function(n){var a=r();return Bj(a[0],a[a.length-1],n??10)},t.tickFormat=function(n,a){var s=r();return xF(s[0],s[s.length-1],n??10,a)},t.nice=function(n){n==null&&(n=10);var a=r(),s=0,o=a.length-1,c=a[s],l=a[o],h,i,d=10;for(l<c&&(i=c,c=l,l=i,i=s,s=o,o=i);d-- >0;){if(i=Sj(c,l,n),i===h)return a[s]=c,a[o]=l,r(a);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else if(i<0)c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i;else break;h=i}return t},t}function Gv(){var t=cC();return t.copy=function(){return ug(t,Gv())},Kd.apply(t,arguments),nh(t)}function yF(t){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(t=Array.from(a,zv),n):t.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return yF(t).unknown(r)},t=arguments.length?Array.from(t,zv):[0,1],nh(n)}function bF(t,r){t=t.slice();var n=0,a=t.length-1,s=t[n],o=t[a],c;return o<s&&(c=n,n=a,a=c,c=s,s=o,o=c),t[n]=r.floor(s),t[a]=r.ceil(o),t}function x5(t){return Math.log(t)}function y5(t){return Math.exp(t)}function UR(t){return-Math.log(-t)}function RR(t){return-Math.exp(-t)}function QR(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HR(t){return t===10?QR:t===Math.E?Math.exp:r=>Math.pow(t,r)}function WR(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function b5(t){return(r,n)=>-t(-r,n)}function AC(t){const r=t(x5,y5),n=r.domain;let a=10,s,o;function c(){return s=WR(a),o=HR(a),n()[0]<0?(s=b5(s),o=b5(o),t(UR,RR)):t(x5,y5),r}return r.base=function(l){return arguments.length?(a=+l,c()):a},r.domain=function(l){return arguments.length?(n(l),c()):n()},r.ticks=l=>{const h=n();let i=h[0],d=h[h.length-1];const u=d<i;u&&([i,d]=[d,i]);let f=s(i),m=s(d),v,g;const x=l==null?10:+l;let y=[];if(!(a%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),i>0){for(;f<=m;++f)for(v=1;v<a;++v)if(g=f<0?v/o(-f):v*o(f),!(g<i)){if(g>d)break;y.push(g)}}else for(;f<=m;++f)for(v=a-1;v>=1;--v)if(g=f>0?v/o(-f):v*o(f),!(g<i)){if(g>d)break;y.push(g)}y.length*2<x&&(y=Bj(i,d,x))}else y=Bj(f,m,Math.min(m-f,x)).map(o);return u?y.reverse():y},r.tickFormat=(l,h)=>{if(l==null&&(l=10),h==null&&(h=a===10?"s":","),typeof h!="function"&&(!(a%1)&&(h=Mm(h)).precision==null&&(h.trim=!0),h=uC(h)),l===1/0)return h;const i=Math.max(1,a*l/r.ticks().length);return d=>{let u=d/o(Math.round(s(d)));return u*a<a-.5&&(u*=a),u<=i?h(d):""}},r.nice=()=>n(bF(n(),{floor:l=>o(Math.floor(s(l))),ceil:l=>o(Math.ceil(s(l)))})),r}function jF(){const t=AC(z0()).domain([1,10]);return t.copy=()=>ug(t,jF()).base(t.base()),Kd.apply(t,arguments),t}function j5(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function w5(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function hC(t){var r=1,n=t(j5(r),w5(r));return n.constant=function(a){return arguments.length?t(j5(r=+a),w5(r)):r},nh(n)}function wF(){var t=hC(z0());return t.copy=function(){return ug(t,wF()).constant(t.constant())},Kd.apply(t,arguments)}function C5(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function $R(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zR(t){return t<0?-t*t:t*t}function fC(t){var r=t(Tc,Tc),n=1;function a(){return n===1?t(Tc,Tc):n===.5?t($R,zR):t(C5(n),C5(1/n))}return r.exponent=function(s){return arguments.length?(n=+s,a()):n},nh(r)}function pC(){var t=fC(z0());return t.copy=function(){return ug(t,pC()).exponent(t.exponent())},Kd.apply(t,arguments),t}function VR(){return pC.apply(null,arguments).exponent(.5)}function N5(t){return Math.sign(t)*t*t}function KR(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CF(){var t=cC(),r=[0,1],n=!1,a;function s(o){var c=KR(t(o));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(o){return t.invert(N5(o))},s.domain=function(o){return arguments.length?(t.domain(o),s):t.domain()},s.range=function(o){return arguments.length?(t.range((r=Array.from(o,zv)).map(N5)),s):r.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(t.clamp(o),s):t.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return CF(t.domain(),r).round(n).clamp(t.clamp()).unknown(a)},Kd.apply(s,arguments),nh(s)}function NF(){var t=[],r=[],n=[],a;function s(){var c=0,l=Math.max(1,r.length);for(n=new Array(l-1);++c<l;)n[c-1]=JU(t,c/l);return o}function o(c){return c==null||isNaN(c=+c)?a:r[cg(n,c)]}return o.invertExtent=function(c){var l=r.indexOf(c);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let l of c)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(YA),s()},o.range=function(c){return arguments.length?(r=Array.from(c),s()):r.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.quantiles=function(){return n.slice()},o.copy=function(){return NF().domain(t).range(r).unknown(a)},Kd.apply(o,arguments)}function BF(){var t=0,r=1,n=1,a=[.5],s=[0,1],o;function c(h){return h!=null&&h<=h?s[cg(a,h,0,n)]:o}function l(){var h=-1;for(a=new Array(n);++h<n;)a[h]=((h+1)*r-(h-n)*t)/(n+1);return c}return c.domain=function(h){return arguments.length?([t,r]=h,t=+t,r=+r,l()):[t,r]},c.range=function(h){return arguments.length?(n=(s=Array.from(h)).length-1,l()):s.slice()},c.invertExtent=function(h){var i=s.indexOf(h);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=n?[a[n-1],r]:[a[i-1],a[i]]},c.unknown=function(h){return arguments.length&&(o=h),c},c.thresholds=function(){return a.slice()},c.copy=function(){return BF().domain([t,r]).range(s).unknown(o)},Kd.apply(nh(c),arguments)}function SF(){var t=[.5],r=[0,1],n,a=1;function s(o){return o!=null&&o<=o?r[cg(t,o,0,a)]:n}return s.domain=function(o){return arguments.length?(t=Array.from(o),a=Math.min(t.length,r.length-1),s):t.slice()},s.range=function(o){return arguments.length?(r=Array.from(o),a=Math.min(t.length,r.length-1),s):r.slice()},s.invertExtent=function(o){var c=r.indexOf(o);return[t[c-1],t[c]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return SF().domain(t).range(r).unknown(n)},Kd.apply(s,arguments)}const O2=new Date,M2=new Date;function gl(t,r,n,a){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(t(o=new Date(+o)),o),s.ceil=o=>(t(o=new Date(o-1)),r(o,1),t(o),o),s.round=o=>{const c=s(o),l=s.ceil(o);return o-c<l-o?c:l},s.offset=(o,c)=>(r(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,l)=>{const h=[];if(o=s.ceil(o),l=l==null?1:Math.floor(l),!(o<c)||!(l>0))return h;let i;do h.push(i=new Date(+o)),r(o,l),t(o);while(i<o&&o<c);return h},s.filter=o=>gl(c=>{if(c>=c)for(;t(c),!o(c);)c.setTime(c-1)},(c,l)=>{if(c>=c)if(l<0)for(;++l<=0;)for(;r(c,-1),!o(c););else for(;--l>=0;)for(;r(c,1),!o(c););}),n&&(s.count=(o,c)=>(O2.setTime(+o),M2.setTime(+c),t(O2),t(M2),Math.floor(n(O2,M2))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?c=>a(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const qv=gl(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);qv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gl(r=>{r.setTime(Math.floor(r/t)*t)},(r,n)=>{r.setTime(+r+n*t)},(r,n)=>(n-r)/t):qv);qv.range;const sA=1e3,zd=sA*60,iA=zd*60,uA=iA*24,mC=uA*7,B5=uA*30,D2=uA*365,_h=gl(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*sA)},(t,r)=>(r-t)/sA,t=>t.getUTCSeconds());_h.range;const gC=gl(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sA)},(t,r)=>{t.setTime(+t+r*zd)},(t,r)=>(r-t)/zd,t=>t.getMinutes());gC.range;const vC=gl(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*zd)},(t,r)=>(r-t)/zd,t=>t.getUTCMinutes());vC.range;const xC=gl(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sA-t.getMinutes()*zd)},(t,r)=>{t.setTime(+t+r*iA)},(t,r)=>(r-t)/iA,t=>t.getHours());xC.range;const yC=gl(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*iA)},(t,r)=>(r-t)/iA,t=>t.getUTCHours());yC.range;const Ag=gl(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zd)/uA,t=>t.getDate()-1);Ag.range;const V0=gl(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/uA,t=>t.getUTCDate()-1);V0.range;const EF=gl(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/uA,t=>Math.floor(t/uA));EF.range;function Xh(t){return gl(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*zd)/mC)}const K0=Xh(0),Xv=Xh(1),GR=Xh(2),qR=Xh(3),Rf=Xh(4),XR=Xh(5),YR=Xh(6);K0.range;Xv.range;GR.range;qR.range;Rf.range;XR.range;YR.range;function Yh(t){return gl(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/mC)}const G0=Yh(0),Yv=Yh(1),JR=Yh(2),ZR=Yh(3),Qf=Yh(4),eQ=Yh(5),tQ=Yh(6);G0.range;Yv.range;JR.range;ZR.range;Qf.range;eQ.range;tQ.range;const bC=gl(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bC.range;const jC=gl(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jC.range;const AA=gl(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());AA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gl(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*t)});AA.range;const hA=gl(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gl(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*t)});hA.range;function IF(t,r,n,a,s,o){const c=[[_h,1,sA],[_h,5,5*sA],[_h,15,15*sA],[_h,30,30*sA],[o,1,zd],[o,5,5*zd],[o,15,15*zd],[o,30,30*zd],[s,1,iA],[s,3,3*iA],[s,6,6*iA],[s,12,12*iA],[a,1,uA],[a,2,2*uA],[n,1,mC],[r,1,B5],[r,3,3*B5],[t,1,D2]];function l(i,d,u){const f=d<i;f&&([i,d]=[d,i]);const m=u&&typeof u.range=="function"?u:h(i,d,u),v=m?m.range(i,+d+1):[];return f?v.reverse():v}function h(i,d,u){const f=Math.abs(d-i)/u,m=aC(([,,x])=>x).right(c,f);if(m===c.length)return t.every(Ej(i/D2,d/D2,u));if(m===0)return qv.every(Math.max(Ej(i,d,u),1));const[v,g]=c[f/c[m-1][2]<c[m][2]/f?m-1:m];return v.every(g)}return[l,h]}const[rQ,nQ]=IF(hA,jC,G0,EF,yC,vC),[aQ,sQ]=IF(AA,bC,K0,Ag,xC,gC);function _2(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function L2(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wp(t,r,n){return{y:t,m:r,d:n,H:0,M:0,S:0,L:0}}function iQ(t){var r=t.dateTime,n=t.date,a=t.time,s=t.periods,o=t.days,c=t.shortDays,l=t.months,h=t.shortMonths,i=Cp(s),d=Np(s),u=Cp(o),f=Np(o),m=Cp(c),v=Np(c),g=Cp(l),x=Np(l),y=Cp(h),j=Np(h),N={a:Ne,A:ge,b:Ee,B:Fe,c:null,d:F5,e:F5,f:IQ,g:UQ,G:QQ,H:BQ,I:SQ,j:EQ,L:kF,m:kQ,M:TQ,p:he,q:le,Q:M5,s:D5,S:FQ,u:PQ,U:OQ,V:MQ,w:DQ,W:_Q,x:null,X:null,y:LQ,Y:RQ,Z:HQ,"%":O5},T={a:ve,A:se,b:re,B:Ie,c:null,d:P5,e:P5,f:VQ,g:r7,G:a7,H:WQ,I:$Q,j:zQ,L:FF,m:KQ,M:GQ,p:Te,q:xe,Q:M5,s:D5,S:qQ,u:XQ,U:YQ,V:JQ,w:ZQ,W:e7,x:null,X:null,y:t7,Y:n7,Z:s7,"%":O5},I={a:ae,A:V,b:ie,B:U,c:G,d:k5,e:k5,f:jQ,g:I5,G:E5,H:T5,I:T5,j:vQ,L:bQ,m:gQ,M:xQ,p:Z,q:mQ,Q:CQ,s:NQ,S:yQ,u:uQ,U:AQ,V:hQ,w:dQ,W:fQ,x:K,X:W,y:I5,Y:E5,Z:pQ,"%":wQ};N.x=C(n,N),N.X=C(a,N),N.c=C(r,N),T.x=C(n,T),T.X=C(a,T),T.c=C(r,T);function C(pe,X){return function(fe){var oe=[],We=-1,Ue=0,ue=pe.length,be,Le,ot;for(fe instanceof Date||(fe=new Date(+fe));++We<ue;)pe.charCodeAt(We)===37&&(oe.push(pe.slice(Ue,We)),(Le=S5[be=pe.charAt(++We)])!=null?be=pe.charAt(++We):Le=be==="e"?" ":"0",(ot=X[be])&&(be=ot(fe,Le)),oe.push(be),Ue=We+1);return oe.push(pe.slice(Ue,We)),oe.join("")}}function D(pe,X){return function(fe){var oe=wp(1900,void 0,1),We=_(oe,pe,fe+="",0),Ue,ue;if(We!=fe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(X&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Ue=L2(wp(oe.y,0,1)),ue=Ue.getUTCDay(),Ue=ue>4||ue===0?Yv.ceil(Ue):Yv(Ue),Ue=V0.offset(Ue,(oe.V-1)*7),oe.y=Ue.getUTCFullYear(),oe.m=Ue.getUTCMonth(),oe.d=Ue.getUTCDate()+(oe.w+6)%7):(Ue=_2(wp(oe.y,0,1)),ue=Ue.getDay(),Ue=ue>4||ue===0?Xv.ceil(Ue):Xv(Ue),Ue=Ag.offset(Ue,(oe.V-1)*7),oe.y=Ue.getFullYear(),oe.m=Ue.getMonth(),oe.d=Ue.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),ue="Z"in oe?L2(wp(oe.y,0,1)).getUTCDay():_2(wp(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(ue+5)%7:oe.w+oe.U*7-(ue+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,L2(oe)):_2(oe)}}function _(pe,X,fe,oe){for(var We=0,Ue=X.length,ue=fe.length,be,Le;We<Ue;){if(oe>=ue)return-1;if(be=X.charCodeAt(We++),be===37){if(be=X.charAt(We++),Le=I[be in S5?X.charAt(We++):be],!Le||(oe=Le(pe,fe,oe))<0)return-1}else if(be!=fe.charCodeAt(oe++))return-1}return oe}function Z(pe,X,fe){var oe=i.exec(X.slice(fe));return oe?(pe.p=d.get(oe[0].toLowerCase()),fe+oe[0].length):-1}function ae(pe,X,fe){var oe=m.exec(X.slice(fe));return oe?(pe.w=v.get(oe[0].toLowerCase()),fe+oe[0].length):-1}function V(pe,X,fe){var oe=u.exec(X.slice(fe));return oe?(pe.w=f.get(oe[0].toLowerCase()),fe+oe[0].length):-1}function ie(pe,X,fe){var oe=y.exec(X.slice(fe));return oe?(pe.m=j.get(oe[0].toLowerCase()),fe+oe[0].length):-1}function U(pe,X,fe){var oe=g.exec(X.slice(fe));return oe?(pe.m=x.get(oe[0].toLowerCase()),fe+oe[0].length):-1}function G(pe,X,fe){return _(pe,r,X,fe)}function K(pe,X,fe){return _(pe,n,X,fe)}function W(pe,X,fe){return _(pe,a,X,fe)}function Ne(pe){return c[pe.getDay()]}function ge(pe){return o[pe.getDay()]}function Ee(pe){return h[pe.getMonth()]}function Fe(pe){return l[pe.getMonth()]}function he(pe){return s[+(pe.getHours()>=12)]}function le(pe){return 1+~~(pe.getMonth()/3)}function ve(pe){return c[pe.getUTCDay()]}function se(pe){return o[pe.getUTCDay()]}function re(pe){return h[pe.getUTCMonth()]}function Ie(pe){return l[pe.getUTCMonth()]}function Te(pe){return s[+(pe.getUTCHours()>=12)]}function xe(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var X=C(pe+="",N);return X.toString=function(){return pe},X},parse:function(pe){var X=D(pe+="",!1);return X.toString=function(){return pe},X},utcFormat:function(pe){var X=C(pe+="",T);return X.toString=function(){return pe},X},utcParse:function(pe){var X=D(pe+="",!0);return X.toString=function(){return pe},X}}}var S5={"-":"",_:" ",0:"0"},Ll=/^\s*\d+/,oQ=/^%/,lQ=/[\\^$*+?|[\]().{}]/g;function Gs(t,r,n){var a=t<0?"-":"",s=(a?-t:t)+"",o=s.length;return a+(o<n?new Array(n-o+1).join(r)+s:s)}function cQ(t){return t.replace(lQ,"\\$&")}function Cp(t){return new RegExp("^(?:"+t.map(cQ).join("|")+")","i")}function Np(t){return new Map(t.map((r,n)=>[r.toLowerCase(),n]))}function dQ(t,r,n){var a=Ll.exec(r.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function uQ(t,r,n){var a=Ll.exec(r.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function AQ(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function hQ(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function fQ(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function E5(t,r,n){var a=Ll.exec(r.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function I5(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function pQ(t,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function mQ(t,r,n){var a=Ll.exec(r.slice(n,n+1));return a?(t.q=a[0]*3-3,n+a[0].length):-1}function gQ(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function k5(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function vQ(t,r,n){var a=Ll.exec(r.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function T5(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function xQ(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function yQ(t,r,n){var a=Ll.exec(r.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function bQ(t,r,n){var a=Ll.exec(r.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function jQ(t,r,n){var a=Ll.exec(r.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function wQ(t,r,n){var a=oQ.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function CQ(t,r,n){var a=Ll.exec(r.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function NQ(t,r,n){var a=Ll.exec(r.slice(n));return a?(t.s=+a[0],n+a[0].length):-1}function F5(t,r){return Gs(t.getDate(),r,2)}function BQ(t,r){return Gs(t.getHours(),r,2)}function SQ(t,r){return Gs(t.getHours()%12||12,r,2)}function EQ(t,r){return Gs(1+Ag.count(AA(t),t),r,3)}function kF(t,r){return Gs(t.getMilliseconds(),r,3)}function IQ(t,r){return kF(t,r)+"000"}function kQ(t,r){return Gs(t.getMonth()+1,r,2)}function TQ(t,r){return Gs(t.getMinutes(),r,2)}function FQ(t,r){return Gs(t.getSeconds(),r,2)}function PQ(t){var r=t.getDay();return r===0?7:r}function OQ(t,r){return Gs(K0.count(AA(t)-1,t),r,2)}function TF(t){var r=t.getDay();return r>=4||r===0?Rf(t):Rf.ceil(t)}function MQ(t,r){return t=TF(t),Gs(Rf.count(AA(t),t)+(AA(t).getDay()===4),r,2)}function DQ(t){return t.getDay()}function _Q(t,r){return Gs(Xv.count(AA(t)-1,t),r,2)}function LQ(t,r){return Gs(t.getFullYear()%100,r,2)}function UQ(t,r){return t=TF(t),Gs(t.getFullYear()%100,r,2)}function RQ(t,r){return Gs(t.getFullYear()%1e4,r,4)}function QQ(t,r){var n=t.getDay();return t=n>=4||n===0?Rf(t):Rf.ceil(t),Gs(t.getFullYear()%1e4,r,4)}function HQ(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Gs(r/60|0,"0",2)+Gs(r%60,"0",2)}function P5(t,r){return Gs(t.getUTCDate(),r,2)}function WQ(t,r){return Gs(t.getUTCHours(),r,2)}function $Q(t,r){return Gs(t.getUTCHours()%12||12,r,2)}function zQ(t,r){return Gs(1+V0.count(hA(t),t),r,3)}function FF(t,r){return Gs(t.getUTCMilliseconds(),r,3)}function VQ(t,r){return FF(t,r)+"000"}function KQ(t,r){return Gs(t.getUTCMonth()+1,r,2)}function GQ(t,r){return Gs(t.getUTCMinutes(),r,2)}function qQ(t,r){return Gs(t.getUTCSeconds(),r,2)}function XQ(t){var r=t.getUTCDay();return r===0?7:r}function YQ(t,r){return Gs(G0.count(hA(t)-1,t),r,2)}function PF(t){var r=t.getUTCDay();return r>=4||r===0?Qf(t):Qf.ceil(t)}function JQ(t,r){return t=PF(t),Gs(Qf.count(hA(t),t)+(hA(t).getUTCDay()===4),r,2)}function ZQ(t){return t.getUTCDay()}function e7(t,r){return Gs(Yv.count(hA(t)-1,t),r,2)}function t7(t,r){return Gs(t.getUTCFullYear()%100,r,2)}function r7(t,r){return t=PF(t),Gs(t.getUTCFullYear()%100,r,2)}function n7(t,r){return Gs(t.getUTCFullYear()%1e4,r,4)}function a7(t,r){var n=t.getUTCDay();return t=n>=4||n===0?Qf(t):Qf.ceil(t),Gs(t.getUTCFullYear()%1e4,r,4)}function s7(){return"+0000"}function O5(){return"%"}function M5(t){return+t}function D5(t){return Math.floor(+t/1e3)}var mf,OF,MF;i7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function i7(t){return mf=iQ(t),OF=mf.format,mf.parse,MF=mf.utcFormat,mf.utcParse,mf}function o7(t){return new Date(t)}function l7(t){return t instanceof Date?+t:+new Date(+t)}function wC(t,r,n,a,s,o,c,l,h,i){var d=cC(),u=d.invert,f=d.domain,m=i(".%L"),v=i(":%S"),g=i("%I:%M"),x=i("%I %p"),y=i("%a %d"),j=i("%b %d"),N=i("%B"),T=i("%Y");function I(C){return(h(C)<C?m:l(C)<C?v:c(C)<C?g:o(C)<C?x:a(C)<C?s(C)<C?y:j:n(C)<C?N:T)(C)}return d.invert=function(C){return new Date(u(C))},d.domain=function(C){return arguments.length?f(Array.from(C,l7)):f().map(o7)},d.ticks=function(C){var D=f();return t(D[0],D[D.length-1],C??10)},d.tickFormat=function(C,D){return D==null?I:i(D)},d.nice=function(C){var D=f();return(!C||typeof C.range!="function")&&(C=r(D[0],D[D.length-1],C??10)),C?f(bF(D,C)):d},d.copy=function(){return ug(d,wC(t,r,n,a,s,o,c,l,h,i))},d}function c7(){return Kd.apply(wC(aQ,sQ,AA,bC,K0,Ag,xC,gC,_h,OF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d7(){return Kd.apply(wC(rQ,nQ,hA,jC,G0,V0,yC,vC,_h,MF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function q0(){var t=0,r=1,n,a,s,o,c=Tc,l=!1,h;function i(u){return u==null||isNaN(u=+u)?h:c(s===0?.5:(u=(o(u)-n)*s,l?Math.max(0,Math.min(1,u)):u))}i.domain=function(u){return arguments.length?([t,r]=u,n=o(t=+t),a=o(r=+r),s=n===a?0:1/(a-n),i):[t,r]},i.clamp=function(u){return arguments.length?(l=!!u,i):l},i.interpolator=function(u){return arguments.length?(c=u,i):c};function d(u){return function(f){var m,v;return arguments.length?([m,v]=f,c=u(m,v),i):[c(0),c(1)]}}return i.range=d(Ap),i.rangeRound=d(lC),i.unknown=function(u){return arguments.length?(h=u,i):h},function(u){return o=u,n=u(t),a=u(r),s=n===a?0:1/(a-n),i}}function ah(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DF(){var t=nh(q0()(Tc));return t.copy=function(){return ah(t,DF())},mA.apply(t,arguments)}function _F(){var t=AC(q0()).domain([1,10]);return t.copy=function(){return ah(t,_F()).base(t.base())},mA.apply(t,arguments)}function LF(){var t=hC(q0());return t.copy=function(){return ah(t,LF()).constant(t.constant())},mA.apply(t,arguments)}function CC(){var t=fC(q0());return t.copy=function(){return ah(t,CC()).exponent(t.exponent())},mA.apply(t,arguments)}function u7(){return CC.apply(null,arguments).exponent(.5)}function UF(){var t=[],r=Tc;function n(a){if(a!=null&&!isNaN(a=+a))return r((cg(t,a,1)-1)/(t.length-1))}return n.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(YA),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return t.map((a,s)=>r(s/(t.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,o)=>YU(t,o/a))},n.copy=function(){return UF(r).domain(t)},mA.apply(n,arguments)}function X0(){var t=0,r=.5,n=1,a=1,s,o,c,l,h,i=Tc,d,u=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-o)*(a*g<a*o?l:h),i(u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,r,n]=g,s=d(t=+t),o=d(r=+r),c=d(n=+n),l=s===o?0:.5/(o-s),h=o===c?0:.5/(c-o),a=o<s?-1:1,m):[t,r,n]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(i=g,m):i};function v(g){return function(x){var y,j,N;return arguments.length?([y,j,N]=x,i=wR(g,[y,j,N]),m):[i(0),i(.5),i(1)]}}return m.range=v(Ap),m.rangeRound=v(lC),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return d=g,s=g(t),o=g(r),c=g(n),l=s===o?0:.5/(o-s),h=o===c?0:.5/(c-o),a=o<s?-1:1,m}}function RF(){var t=nh(X0()(Tc));return t.copy=function(){return ah(t,RF())},mA.apply(t,arguments)}function QF(){var t=AC(X0()).domain([.1,1,10]);return t.copy=function(){return ah(t,QF()).base(t.base())},mA.apply(t,arguments)}function HF(){var t=hC(X0());return t.copy=function(){return ah(t,HF()).constant(t.constant())},mA.apply(t,arguments)}function NC(){var t=fC(X0());return t.copy=function(){return ah(t,NC()).exponent(t.exponent())},mA.apply(t,arguments)}function A7(){return NC.apply(null,arguments).exponent(.5)}const _5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tm,scaleDiverging:RF,scaleDivergingLog:QF,scaleDivergingPow:NC,scaleDivergingSqrt:A7,scaleDivergingSymlog:HF,scaleIdentity:yF,scaleImplicit:Ij,scaleLinear:Gv,scaleLog:jF,scaleOrdinal:sC,scalePoint:fm,scalePow:pC,scaleQuantile:NF,scaleQuantize:BF,scaleRadial:CF,scaleSequential:DF,scaleSequentialLog:_F,scaleSequentialPow:CC,scaleSequentialQuantile:UF,scaleSequentialSqrt:u7,scaleSequentialSymlog:LF,scaleSqrt:VR,scaleSymlog:wF,scaleThreshold:SF,scaleTime:c7,scaleUtc:d7,tickFormat:xF},Symbol.toStringTag,{value:"Module"}));var U2,L5;function Y0(){if(L5)return U2;L5=1;var t=lp();function r(n,a,s){for(var o=-1,c=n.length;++o<c;){var l=n[o],h=a(l);if(h!=null&&(i===void 0?h===h&&!t(h):s(h,i)))var i=h,d=l}return d}return U2=r,U2}var R2,U5;function WF(){if(U5)return R2;U5=1;function t(r,n){return r>n}return R2=t,R2}var Q2,R5;function h7(){if(R5)return Q2;R5=1;var t=Y0(),r=WF(),n=up();function a(s){return s&&s.length?t(s,n,r):void 0}return Q2=a,Q2}var f7=h7();const J0=Qs(f7);var H2,Q5;function $F(){if(Q5)return H2;Q5=1;function t(r,n){return r<n}return H2=t,H2}var W2,H5;function p7(){if(H5)return W2;H5=1;var t=Y0(),r=$F(),n=up();function a(s){return s&&s.length?t(s,n,r):void 0}return W2=a,W2}var m7=p7();const Z0=Qs(m7);var $2,W5;function g7(){if(W5)return $2;W5=1;var t=Qw(),r=Mu(),n=Z3(),a=Vc();function s(o,c){var l=a(o)?t:n;return l(o,r(c,3))}return $2=s,$2}var z2,$5;function v7(){if($5)return z2;$5=1;var t=Y3(),r=g7();function n(a,s){return t(r(a,s),1)}return z2=n,z2}var x7=v7();const y7=Qs(x7);var V2,z5;function b7(){if(z5)return V2;z5=1;var t=eC();function r(n,a){return t(n,a)}return V2=r,V2}var j7=b7();const hg=Qs(j7);var hp=1e9,w7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SC,no=!0,Vd="[DecimalError] ",Rh=Vd+"Invalid argument: ",BC=Vd+"Exponent out of range: ",fp=Math.floor,Fh=Math.pow,C7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fd,Dl=1e7,Ki=7,zF=9007199254740991,Jv=fp(zF/Ki),$n={};$n.absoluteValue=$n.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$n.comparedTo=$n.cmp=function(t){var r,n,a,s,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(a=o.d.length,s=t.d.length,r=0,n=a<s?a:s;r<n;++r)if(o.d[r]!==t.d[r])return o.d[r]>t.d[r]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};$n.decimalPlaces=$n.dp=function(){var t=this,r=t.d.length-1,n=(r-t.e)*Ki;if(r=t.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};$n.dividedBy=$n.div=function(t){return cA(this,new this.constructor(t))};$n.dividedToIntegerBy=$n.idiv=function(t){var r=this,n=r.constructor;return Si(cA(r,new n(t),0,1),n.precision)};$n.equals=$n.eq=function(t){return!this.cmp(t)};$n.exponent=function(){return Jo(this)};$n.greaterThan=$n.gt=function(t){return this.cmp(t)>0};$n.greaterThanOrEqualTo=$n.gte=function(t){return this.cmp(t)>=0};$n.isInteger=$n.isint=function(){return this.e>this.d.length-2};$n.isNegative=$n.isneg=function(){return this.s<0};$n.isPositive=$n.ispos=function(){return this.s>0};$n.isZero=function(){return this.s===0};$n.lessThan=$n.lt=function(t){return this.cmp(t)<0};$n.lessThanOrEqualTo=$n.lte=function(t){return this.cmp(t)<1};$n.logarithm=$n.log=function(t){var r,n=this,a=n.constructor,s=a.precision,o=s+5;if(t===void 0)t=new a(10);else if(t=new a(t),t.s<1||t.eq(fd))throw Error(Vd+"NaN");if(n.s<1)throw Error(Vd+(n.s?"NaN":"-Infinity"));return n.eq(fd)?new a(0):(no=!1,r=cA(Dm(n,o),Dm(t,o),o),no=!0,Si(r,s))};$n.minus=$n.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?GF(r,t):VF(r,(t.s=-t.s,t))};$n.modulo=$n.mod=function(t){var r,n=this,a=n.constructor,s=a.precision;if(t=new a(t),!t.s)throw Error(Vd+"NaN");return n.s?(no=!1,r=cA(n,t,0,1).times(t),no=!0,n.minus(r)):Si(new a(n),s)};$n.naturalExponential=$n.exp=function(){return KF(this)};$n.naturalLogarithm=$n.ln=function(){return Dm(this)};$n.negated=$n.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$n.plus=$n.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?VF(r,t):GF(r,(t.s=-t.s,t))};$n.precision=$n.sd=function(t){var r,n,a,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rh+t);if(r=Jo(s)+1,a=s.d.length-1,n=a*Ki+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return t&&r>n?r:n};$n.squareRoot=$n.sqrt=function(){var t,r,n,a,s,o,c,l=this,h=l.constructor;if(l.s<1){if(!l.s)return new h(0);throw Error(Vd+"NaN")}for(t=Jo(l),no=!1,s=Math.sqrt(+l),s==0||s==1/0?(r=Eu(l.d),(r.length+t)%2==0&&(r+="0"),s=Math.sqrt(r),t=fp((t+1)/2)-(t<0||t%2),s==1/0?r="5e"+t:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),a=new h(r)):a=new h(s.toString()),n=h.precision,s=c=n+3;;)if(o=a,a=o.plus(cA(l,o,c+2)).times(.5),Eu(o.d).slice(0,c)===(r=Eu(a.d)).slice(0,c)){if(r=r.slice(c-3,c+1),s==c&&r=="4999"){if(Si(o,n+1,0),o.times(o).eq(l)){a=o;break}}else if(r!="9999")break;c+=4}return no=!0,Si(a,n)};$n.times=$n.mul=function(t){var r,n,a,s,o,c,l,h,i,d=this,u=d.constructor,f=d.d,m=(t=new u(t)).d;if(!d.s||!t.s)return new u(0);for(t.s*=d.s,n=d.e+t.e,h=f.length,i=m.length,h<i&&(o=f,f=m,m=o,c=h,h=i,i=c),o=[],c=h+i,a=c;a--;)o.push(0);for(a=i;--a>=0;){for(r=0,s=h+a;s>a;)l=o[s]+m[a]*f[s-a-1]+r,o[s--]=l%Dl|0,r=l/Dl|0;o[s]=(o[s]+r)%Dl|0}for(;!o[--c];)o.pop();return r?++n:o.shift(),t.d=o,t.e=n,no?Si(t,u.precision):t};$n.toDecimalPlaces=$n.todp=function(t,r){var n=this,a=n.constructor;return n=new a(n),t===void 0?n:(Fu(t,0,hp),r===void 0?r=a.rounding:Fu(r,0,8),Si(n,t+Jo(n)+1,r))};$n.toExponential=function(t,r){var n,a=this,s=a.constructor;return t===void 0?n=zh(a,!0):(Fu(t,0,hp),r===void 0?r=s.rounding:Fu(r,0,8),a=Si(new s(a),t+1,r),n=zh(a,!0,t+1)),n};$n.toFixed=function(t,r){var n,a,s=this,o=s.constructor;return t===void 0?zh(s):(Fu(t,0,hp),r===void 0?r=o.rounding:Fu(r,0,8),a=Si(new o(s),t+Jo(s)+1,r),n=zh(a.abs(),!1,t+Jo(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};$n.toInteger=$n.toint=function(){var t=this,r=t.constructor;return Si(new r(t),Jo(t)+1,r.rounding)};$n.toNumber=function(){return+this};$n.toPower=$n.pow=function(t){var r,n,a,s,o,c,l=this,h=l.constructor,i=12,d=+(t=new h(t));if(!t.s)return new h(fd);if(l=new h(l),!l.s){if(t.s<1)throw Error(Vd+"Infinity");return l}if(l.eq(fd))return l;if(a=h.precision,t.eq(fd))return Si(l,a);if(r=t.e,n=t.d.length-1,c=r>=n,o=l.s,c){if((n=d<0?-d:d)<=zF){for(s=new h(fd),r=Math.ceil(a/Ki+4),no=!1;n%2&&(s=s.times(l),K5(s.d,r)),n=fp(n/2),n!==0;)l=l.times(l),K5(l.d,r);return no=!0,t.s<0?new h(fd).div(s):Si(s,a)}}else if(o<0)throw Error(Vd+"NaN");return o=o<0&&t.d[Math.max(r,n)]&1?-1:1,l.s=1,no=!1,s=t.times(Dm(l,a+i)),no=!0,s=KF(s),s.s=o,s};$n.toPrecision=function(t,r){var n,a,s=this,o=s.constructor;return t===void 0?(n=Jo(s),a=zh(s,n<=o.toExpNeg||n>=o.toExpPos)):(Fu(t,1,hp),r===void 0?r=o.rounding:Fu(r,0,8),s=Si(new o(s),t,r),n=Jo(s),a=zh(s,t<=n||n<=o.toExpNeg,t)),a};$n.toSignificantDigits=$n.tosd=function(t,r){var n=this,a=n.constructor;return t===void 0?(t=a.precision,r=a.rounding):(Fu(t,1,hp),r===void 0?r=a.rounding:Fu(r,0,8)),Si(new a(n),t,r)};$n.toString=$n.valueOf=$n.val=$n.toJSON=$n[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=Jo(t),n=t.constructor;return zh(t,r<=n.toExpNeg||r>=n.toExpPos)};function VF(t,r){var n,a,s,o,c,l,h,i,d=t.constructor,u=d.precision;if(!t.s||!r.s)return r.s||(r=new d(t)),no?Si(r,u):r;if(h=t.d,i=r.d,c=t.e,s=r.e,h=h.slice(),o=c-s,o){for(o<0?(a=h,o=-o,l=i.length):(a=i,s=c,l=h.length),c=Math.ceil(u/Ki),l=c>l?c+1:l+1,o>l&&(o=l,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(l=h.length,o=i.length,l-o<0&&(o=l,a=i,i=h,h=a),n=0;o;)n=(h[--o]=h[o]+i[o]+n)/Dl|0,h[o]%=Dl;for(n&&(h.unshift(n),++s),l=h.length;h[--l]==0;)h.pop();return r.d=h,r.e=s,no?Si(r,u):r}function Fu(t,r,n){if(t!==~~t||t<r||t>n)throw Error(Rh+t)}function Eu(t){var r,n,a,s=t.length-1,o="",c=t[0];if(s>0){for(o+=c,r=1;r<s;r++)a=t[r]+"",n=Ki-a.length,n&&(o+=WA(n)),o+=a;c=t[r],a=c+"",n=Ki-a.length,n&&(o+=WA(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var cA=(function(){function t(a,s){var o,c=0,l=a.length;for(a=a.slice();l--;)o=a[l]*s+c,a[l]=o%Dl|0,c=o/Dl|0;return c&&a.unshift(c),a}function r(a,s,o,c){var l,h;if(o!=c)h=o>c?1:-1;else for(l=h=0;l<o;l++)if(a[l]!=s[l]){h=a[l]>s[l]?1:-1;break}return h}function n(a,s,o){for(var c=0;o--;)a[o]-=c,c=a[o]<s[o]?1:0,a[o]=c*Dl+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,c){var l,h,i,d,u,f,m,v,g,x,y,j,N,T,I,C,D,_,Z=a.constructor,ae=a.s==s.s?1:-1,V=a.d,ie=s.d;if(!a.s)return new Z(a);if(!s.s)throw Error(Vd+"Division by zero");for(h=a.e-s.e,D=ie.length,I=V.length,m=new Z(ae),v=m.d=[],i=0;ie[i]==(V[i]||0);)++i;if(ie[i]>(V[i]||0)&&--h,o==null?j=o=Z.precision:c?j=o+(Jo(a)-Jo(s))+1:j=o,j<0)return new Z(0);if(j=j/Ki+2|0,i=0,D==1)for(d=0,ie=ie[0],j++;(i<I||d)&&j--;i++)N=d*Dl+(V[i]||0),v[i]=N/ie|0,d=N%ie|0;else{for(d=Dl/(ie[0]+1)|0,d>1&&(ie=t(ie,d),V=t(V,d),D=ie.length,I=V.length),T=D,g=V.slice(0,D),x=g.length;x<D;)g[x++]=0;_=ie.slice(),_.unshift(0),C=ie[0],ie[1]>=Dl/2&&++C;do d=0,l=r(ie,g,D,x),l<0?(y=g[0],D!=x&&(y=y*Dl+(g[1]||0)),d=y/C|0,d>1?(d>=Dl&&(d=Dl-1),u=t(ie,d),f=u.length,x=g.length,l=r(u,g,f,x),l==1&&(d--,n(u,D<f?_:ie,f))):(d==0&&(l=d=1),u=ie.slice()),f=u.length,f<x&&u.unshift(0),n(g,u,x),l==-1&&(x=g.length,l=r(ie,g,D,x),l<1&&(d++,n(g,D<x?_:ie,x))),x=g.length):l===0&&(d++,g=[0]),v[i++]=d,l&&g[0]?g[x++]=V[T]||0:(g=[V[T]],x=1);while((T++<I||g[0]!==void 0)&&j--)}return v[0]||v.shift(),m.e=h,Si(m,c?o+Jo(m)+1:o)}})();function KF(t,r){var n,a,s,o,c,l,h=0,i=0,d=t.constructor,u=d.precision;if(Jo(t)>16)throw Error(BC+Jo(t));if(!t.s)return new d(fd);for(no=!1,l=u,c=new d(.03125);t.abs().gte(.1);)t=t.times(c),i+=5;for(a=Math.log(Fh(2,i))/Math.LN10*2+5|0,l+=a,n=s=o=new d(fd),d.precision=l;;){if(s=Si(s.times(t),l),n=n.times(++h),c=o.plus(cA(s,n,l)),Eu(c.d).slice(0,l)===Eu(o.d).slice(0,l)){for(;i--;)o=Si(o.times(o),l);return d.precision=u,r==null?(no=!0,Si(o,u)):o}o=c}}function Jo(t){for(var r=t.e*Ki,n=t.d[0];n>=10;n/=10)r++;return r}function K2(t,r,n){if(r>t.LN10.sd())throw no=!0,n&&(t.precision=n),Error(Vd+"LN10 precision limit exceeded");return Si(new t(t.LN10),r)}function WA(t){for(var r="";t--;)r+="0";return r}function Dm(t,r){var n,a,s,o,c,l,h,i,d,u=1,f=10,m=t,v=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(Vd+(m.s?"NaN":"-Infinity"));if(m.eq(fd))return new g(0);if(r==null?(no=!1,i=x):i=r,m.eq(10))return r==null&&(no=!0),K2(g,i);if(i+=f,g.precision=i,n=Eu(v),a=n.charAt(0),o=Jo(m),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)m=m.times(t),n=Eu(m.d),a=n.charAt(0),u++;o=Jo(m),a>1?(m=new g("0."+n),o++):m=new g(a+"."+n.slice(1))}else return h=K2(g,i+2,x).times(o+""),m=Dm(new g(a+"."+n.slice(1)),i-f).plus(h),g.precision=x,r==null?(no=!0,Si(m,x)):m;for(l=c=m=cA(m.minus(fd),m.plus(fd),i),d=Si(m.times(m),i),s=3;;){if(c=Si(c.times(d),i),h=l.plus(cA(c,new g(s),i)),Eu(h.d).slice(0,i)===Eu(l.d).slice(0,i))return l=l.times(2),o!==0&&(l=l.plus(K2(g,i+2,x).times(o+""))),l=cA(l,new g(u),i),g.precision=x,r==null?(no=!0,Si(l,x)):l;l=h,s+=2}}function V5(t,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(a,s),r){if(s-=a,n=n-a-1,t.e=fp(n/Ki),t.d=[],a=(n+1)%Ki,n<0&&(a+=Ki),a<s){for(a&&t.d.push(+r.slice(0,a)),s-=Ki;a<s;)t.d.push(+r.slice(a,a+=Ki));r=r.slice(a),a=Ki-r.length}else a-=s;for(;a--;)r+="0";if(t.d.push(+r),no&&(t.e>Jv||t.e<-Jv))throw Error(BC+n)}else t.s=0,t.e=0,t.d=[0];return t}function Si(t,r,n){var a,s,o,c,l,h,i,d,u=t.d;for(c=1,o=u[0];o>=10;o/=10)c++;if(a=r-c,a<0)a+=Ki,s=r,i=u[d=0];else{if(d=Math.ceil((a+1)/Ki),o=u.length,d>=o)return t;for(i=o=u[d],c=1;o>=10;o/=10)c++;a%=Ki,s=a-Ki+c}if(n!==void 0&&(o=Fh(10,c-s-1),l=i/o%10|0,h=r<0||u[d+1]!==void 0||i%o,h=n<4?(l||h)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||h||n==6&&(a>0?s>0?i/Fh(10,c-s):0:u[d-1])%10&1||n==(t.s<0?8:7))),r<1||!u[0])return h?(o=Jo(t),u.length=1,r=r-o-1,u[0]=Fh(10,(Ki-r%Ki)%Ki),t.e=fp(-r/Ki)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(a==0?(u.length=d,o=1,d--):(u.length=d+1,o=Fh(10,Ki-a),u[d]=s>0?(i/Fh(10,c-s)%Fh(10,s)|0)*o:0),h)for(;;)if(d==0){(u[0]+=o)==Dl&&(u[0]=1,++t.e);break}else{if(u[d]+=o,u[d]!=Dl)break;u[d--]=0,o=1}for(a=u.length;u[--a]===0;)u.pop();if(no&&(t.e>Jv||t.e<-Jv))throw Error(BC+Jo(t));return t}function GF(t,r){var n,a,s,o,c,l,h,i,d,u,f=t.constructor,m=f.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new f(t),no?Si(r,m):r;if(h=t.d,u=r.d,a=r.e,i=t.e,h=h.slice(),c=i-a,c){for(d=c<0,d?(n=h,c=-c,l=u.length):(n=u,a=i,l=h.length),s=Math.max(Math.ceil(m/Ki),l)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=h.length,l=u.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(h[s]!=u[s]){d=h[s]<u[s];break}c=0}for(d&&(n=h,h=u,u=n,r.s=-r.s),l=h.length,s=u.length-l;s>0;--s)h[l++]=0;for(s=u.length;s>c;){if(h[--s]<u[s]){for(o=s;o&&h[--o]===0;)h[o]=Dl-1;--h[o],h[s]+=Dl}h[s]-=u[s]}for(;h[--l]===0;)h.pop();for(;h[0]===0;h.shift())--a;return h[0]?(r.d=h,r.e=a,no?Si(r,m):r):new f(0)}function zh(t,r,n){var a,s=Jo(t),o=Eu(t.d),c=o.length;return r?(n&&(a=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+WA(a):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+WA(-s-1)+o,n&&(a=n-c)>0&&(o+=WA(a))):s>=c?(o+=WA(s+1-c),n&&(a=n-s-1)>0&&(o=o+"."+WA(a))):((a=s+1)<c&&(o=o.slice(0,a)+"."+o.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(o+="."),o+=WA(a))),t.s<0?"-"+o:o}function K5(t,r){if(t.length>r)return t.length=r,!0}function qF(t){var r,n,a;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Rh+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return V5(c,o.toString())}else if(typeof o!="string")throw Error(Rh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,C7.test(o))V5(c,o);else throw Error(Rh+o)}if(s.prototype=$n,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=qF,s.config=s.set=N7,t===void 0&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}function N7(t){if(!t||typeof t!="object")throw Error(Vd+"Object expected");var r,n,a,s=["precision",1,hp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((a=t[n=s[r]])!==void 0)if(fp(a)===a&&a>=s[r+1]&&a<=s[r+2])this[n]=a;else throw Error(Rh+n+": "+a);if((a=t[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Rh+n+": "+a);return this}var SC=qF(w7);fd=new SC(1);const bi=SC;function B7(t){return k7(t)||I7(t)||E7(t)||S7()}function S7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(t,r){if(t){if(typeof t=="string")return Pj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pj(t,r)}}function I7(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function k7(t){if(Array.isArray(t))return Pj(t)}function Pj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}var T7=function(r){return r},XF={},YF=function(r){return r===XF},G5=function(r){return function n(){return arguments.length===0||arguments.length===1&&YF(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},F7=function t(r,n){return r===1?n:G5(function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var c=s.filter(function(l){return l!==XF}).length;return c>=r?n.apply(void 0,s):t(r-c,G5(function(){for(var l=arguments.length,h=new Array(l),i=0;i<l;i++)h[i]=arguments[i];var d=s.map(function(u){return YF(u)?h.shift():u});return n.apply(void 0,B7(d).concat(h))}))})},e1=function(r){return F7(r.length,r)},Oj=function(r,n){for(var a=[],s=r;s<n;++s)a[s-r]=s;return a},P7=e1(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(n){return r[n]}).map(t)}),O7=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return T7;var s=n.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce(function(l,h){return h(l)},o.apply(void 0,arguments))}},Mj=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},JF=function(r){var n=null,a=null;return function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return n&&o.every(function(l,h){return l===n[h]})||(n=o,a=r.apply(void 0,o)),a}};function M7(t){var r;return t===0?r=1:r=Math.floor(new bi(t).abs().log(10).toNumber())+1,r}function D7(t,r,n){for(var a=new bi(t),s=0,o=[];a.lt(r)&&s<1e5;)o.push(a.toNumber()),a=a.add(n),s++;return o}var _7=e1(function(t,r,n){var a=+t,s=+r;return a+n*(s-a)}),L7=e1(function(t,r,n){var a=r-+t;return a=a||1/0,(n-t)/a}),U7=e1(function(t,r,n){var a=r-+t;return a=a||1/0,Math.max(0,Math.min(1,(n-t)/a))});const t1={rangeStep:D7,getDigitCount:M7,interpolateNumber:_7,uninterpolateNumber:L7,uninterpolateTruncation:U7};function Dj(t){return H7(t)||Q7(t)||ZF(t)||R7()}function R7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function H7(t){if(Array.isArray(t))return _j(t)}function _m(t,r){return z7(t)||$7(t,r)||ZF(t,r)||W7()}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZF(t,r){if(t){if(typeof t=="string")return _j(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _j(t,r)}}function _j(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function $7(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],a=!0,s=!1,o=void 0;try{for(var c=t[Symbol.iterator](),l;!(a=(l=c.next()).done)&&(n.push(l.value),!(r&&n.length===r));a=!0);}catch(h){s=!0,o=h}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw o}}return n}}function z7(t){if(Array.isArray(t))return t}function eP(t){var r=_m(t,2),n=r[0],a=r[1],s=n,o=a;return n>a&&(s=a,o=n),[s,o]}function tP(t,r,n){if(t.lte(0))return new bi(0);var a=t1.getDigitCount(t.toNumber()),s=new bi(10).pow(a),o=t.div(s),c=a!==1?.05:.1,l=new bi(Math.ceil(o.div(c).toNumber())).add(n).mul(c),h=l.mul(s);return r?h:new bi(Math.ceil(h))}function V7(t,r,n){var a=1,s=new bi(t);if(!s.isint()&&n){var o=Math.abs(t);o<1?(a=new bi(10).pow(t1.getDigitCount(t)-1),s=new bi(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new bi(Math.floor(t)))}else t===0?s=new bi(Math.floor((r-1)/2)):n||(s=new bi(Math.floor(t)));var c=Math.floor((r-1)/2),l=O7(P7(function(h){return s.add(new bi(h-c).mul(a)).toNumber()}),Oj);return l(0,r)}function rP(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new bi(0),tickMin:new bi(0),tickMax:new bi(0)};var o=tP(new bi(r).sub(t).div(n-1),a,s),c;t<=0&&r>=0?c=new bi(0):(c=new bi(t).add(r).div(2),c=c.sub(new bi(c).mod(o)));var l=Math.ceil(c.sub(t).div(o).toNumber()),h=Math.ceil(new bi(r).sub(c).div(o).toNumber()),i=l+h+1;return i>n?rP(t,r,n,a,s+1):(i<n&&(h=r>0?h+(n-i):h,l=r>0?l:l+(n-i)),{step:o,tickMin:c.sub(new bi(l).mul(o)),tickMax:c.add(new bi(h).mul(o))})}function K7(t){var r=_m(t,2),n=r[0],a=r[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),l=eP([n,a]),h=_m(l,2),i=h[0],d=h[1];if(i===-1/0||d===1/0){var u=d===1/0?[i].concat(Dj(Oj(0,s-1).map(function(){return 1/0}))):[].concat(Dj(Oj(0,s-1).map(function(){return-1/0})),[d]);return n>a?Mj(u):u}if(i===d)return V7(i,s,o);var f=rP(i,d,c,o),m=f.step,v=f.tickMin,g=f.tickMax,x=t1.rangeStep(v,g.add(new bi(.1).mul(m)),m);return n>a?Mj(x):x}function G7(t,r){var n=_m(t,2),a=n[0],s=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=eP([a,s]),l=_m(c,2),h=l[0],i=l[1];if(h===-1/0||i===1/0)return[a,s];if(h===i)return[h];var d=Math.max(r,2),u=tP(new bi(i).sub(h).div(d-1),o,0),f=[].concat(Dj(t1.rangeStep(new bi(h),new bi(i).sub(new bi(.99).mul(u)),u)),[i]);return a>s?Mj(f):f}var q7=JF(K7),X7=JF(G7),Y7="Invariant failed";function Vh(t,r){throw new Error(Y7)}var J7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hf(t)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Zv.apply(this,arguments)}function Z7(t,r){return nH(t)||rH(t,r)||tH(t,r)||eH()}function eH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(t,r){if(t){if(typeof t=="string")return q5(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q5(t,r)}}function q5(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function rH(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function nH(t){if(Array.isArray(t))return t}function aH(t,r){if(t==null)return{};var n=sH(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function sH(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function iH(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function oH(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,sP(a.key),a)}}function lH(t,r,n){return r&&oH(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cH(t,r,n){return r=e0(r),dH(t,nP()?Reflect.construct(r,n||[],e0(t).constructor):r.apply(t,n))}function dH(t,r){if(r&&(Hf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uH(t)}function uH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function AH(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Lj(t,r)}function Lj(t,r){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Lj(t,r)}function aP(t,r,n){return r=sP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function sP(t){var r=hH(t,"string");return Hf(r)=="symbol"?r:r+""}function hH(t,r){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Hf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fg=(function(t){function r(){return iH(this,r),cH(this,r,arguments)}return AH(r,t),lH(r,[{key:"render",value:function(){var a=this.props,s=a.offset,o=a.layout,c=a.width,l=a.dataKey,h=a.data,i=a.dataPointFormatter,d=a.xAxis,u=a.yAxis,f=aH(a,J7),m=Ca(f,!1);this.props.direction==="x"&&d.type!=="number"&&Vh();var v=h.map(function(g){var x=i(g,l),y=x.x,j=x.y,N=x.value,T=x.errorVal;if(!T)return null;var I=[],C,D;if(Array.isArray(T)){var _=Z7(T,2);C=_[0],D=_[1]}else C=D=T;if(o==="vertical"){var Z=d.scale,ae=j+s,V=ae+c,ie=ae-c,U=Z(N-C),G=Z(N+D);I.push({x1:G,y1:V,x2:G,y2:ie}),I.push({x1:U,y1:ae,x2:G,y2:ae}),I.push({x1:U,y1:V,x2:U,y2:ie})}else if(o==="horizontal"){var K=u.scale,W=y+s,Ne=W-c,ge=W+c,Ee=K(N-C),Fe=K(N+D);I.push({x1:Ne,y1:Fe,x2:ge,y2:Fe}),I.push({x1:W,y1:Ee,x2:W,y2:Fe}),I.push({x1:Ne,y1:Ee,x2:ge,y2:Ee})}return wt.createElement(Ks,Zv({className:"recharts-errorBar",key:"bar-".concat(I.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},m),I.map(function(he){return wt.createElement("line",Zv({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return wt.createElement(Ks,{className:"recharts-errorBars"},v)}}])})(wt.Component);aP(fg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aP(fg,"displayName","ErrorBar");function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lm(t)}function X5(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function jh(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?X5(Object(n),!0).forEach(function(a){fH(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function fH(t,r,n){return r=pH(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function pH(t){var r=mH(t,"string");return Lm(r)=="symbol"?r:r+""}function mH(t,r){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var iP=function(r){var n=r.children,a=r.formattedGraphicalItems,s=r.legendWidth,o=r.legendContent,c=ud(n,Su);if(!c)return null;var l=Su.defaultProps,h=l!==void 0?jh(jh({},l),c.props):{},i;return c.props&&c.props.payload?i=c.props&&c.props.payload:o==="children"?i=(a||[]).reduce(function(d,u){var f=u.item,m=u.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:c.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):i=(a||[]).map(function(d){var u=d.item,f=u.type.defaultProps,m=f!==void 0?jh(jh({},f),u.props):{},v=m.dataKey,g=m.name,x=m.legendType,y=m.hide;return{inactive:y,dataKey:v,type:h.iconType||x||"square",color:EC(u),value:g||v,payload:m}}),jh(jh(jh({},h),Su.getWithHeight(c,s)),{},{payload:i,item:c})};function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Um(t)}function Y5(t){return yH(t)||xH(t)||vH(t)||gH()}function gH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(t,r){if(t){if(typeof t=="string")return Uj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uj(t,r)}}function xH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yH(t){if(Array.isArray(t))return Uj(t)}function Uj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function J5(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Io(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J5(Object(n),!0).forEach(function(a){Pf(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Pf(t,r,n){return r=bH(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function bH(t){var r=jH(t,"string");return Um(r)=="symbol"?r:r+""}function jH(t,r){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Um(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function pl(t,r,n){return es(t)||es(r)?n:ml(r)?pd(t,r,n):Qa(r)?r(t):n}function pm(t,r,n,a){var s=y7(t,function(l){return pl(l,r)});if(n==="number"){var o=s.filter(function(l){return An(l)||parseFloat(l)});return o.length?[Z0(o),J0(o)]:[1/0,-1/0]}var c=a?s.filter(function(l){return!es(l)}):s;return c.map(function(l){return ml(l)||l instanceof Date?l:""})}var wH=function(r){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var h=o.range,i=0;i<l;i++){var d=i>0?s[i-1].coordinate:s[l-1].coordinate,u=s[i].coordinate,f=i>=l-1?s[0].coordinate:s[i+1].coordinate,m=void 0;if(Ic(u-d)!==Ic(f-u)){var v=[];if(Ic(f-u)===Ic(h[1]-h[0])){m=f;var g=u+h[1]-h[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var x=f+h[1]-h[0];v[0]=Math.min(u,(x+u)/2),v[1]=Math.max(u,(x+u)/2)}var y=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(r>y[0]&&r<=y[1]||r>=v[0]&&r<=v[1]){c=s[i].index;break}}else{var j=Math.min(d,f),N=Math.max(d,f);if(r>(j+u)/2&&r<=(N+u)/2){c=s[i].index;break}}}else for(var T=0;T<l;T++)if(T===0&&r<=(a[T].coordinate+a[T+1].coordinate)/2||T>0&&T<l-1&&r>(a[T].coordinate+a[T-1].coordinate)/2&&r<=(a[T].coordinate+a[T+1].coordinate)/2||T===l-1&&r>(a[T].coordinate+a[T-1].coordinate)/2){c=a[T].index;break}return c},EC=function(r){var n,a=r,s=a.type.displayName,o=(n=r.type)!==null&&n!==void 0&&n.defaultProps?Io(Io({},r.type.defaultProps),r.props):r.props,c=o.stroke,l=o.fill,h;switch(s){case"Line":h=c;break;case"Area":case"Radar":h=c&&c!=="none"?c:l;break;default:h=l;break}return h},CH=function(r){var n=r.barSize,a=r.totalSize,s=r.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var c={},l=Object.keys(o),h=0,i=l.length;h<i;h++)for(var d=o[l[h]].stackGroups,u=Object.keys(d),f=0,m=u.length;f<m;f++){var v=d[u[f]],g=v.items,x=v.cateAxisId,y=g.filter(function(D){return lA(D.type).indexOf("Bar")>=0});if(y&&y.length){var j=y[0].type.defaultProps,N=j!==void 0?Io(Io({},j),y[0].props):y[0].props,T=N.barSize,I=N[x];c[I]||(c[I]=[]);var C=es(T)?n:T;c[I].push({item:y[0],stackList:y.slice(1),barSize:es(C)?void 0:kc(C,a,0)})}}return c},NH=function(r){var n=r.barGap,a=r.barCategoryGap,s=r.bandSize,o=r.sizeList,c=o===void 0?[]:o,l=r.maxBarSize,h=c.length;if(h<1)return null;var i=kc(n,s,0,!0),d,u=[];if(c[0].barSize===+c[0].barSize){var f=!1,m=s/h,v=c.reduce(function(T,I){return T+I.barSize||0},0);v+=(h-1)*i,v>=s&&(v-=(h-1)*i,i=0),v>=s&&m>0&&(f=!0,m*=.9,v=h*m);var g=(s-v)/2>>0,x={offset:g-i,size:0};d=c.reduce(function(T,I){var C={item:I.item,position:{offset:x.offset+x.size+i,size:f?m:I.barSize}},D=[].concat(Y5(T),[C]);return x=D[D.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(_){D.push({item:_,position:x})}),D},u)}else{var y=kc(a,s,0,!0);s-2*y-(h-1)*i<=0&&(i=0);var j=(s-2*y-(h-1)*i)/h;j>1&&(j>>=0);var N=l===+l?Math.min(j,l):j;d=c.reduce(function(T,I,C){var D=[].concat(Y5(T),[{item:I.item,position:{offset:y+(j+i)*C+(j-N)/2,size:N}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(_){D.push({item:_,position:D[D.length-1].position})}),D},u)}return d},BH=function(r,n,a,s){var o=a.children,c=a.width,l=a.margin,h=c-(l.left||0)-(l.right||0),i=iP({children:o,legendWidth:h});if(i){var d=s||{},u=d.width,f=d.height,m=i.align,v=i.verticalAlign,g=i.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&An(r[m]))return Io(Io({},r),{},Pf({},m,r[m]+(u||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&An(r[v]))return Io(Io({},r),{},Pf({},v,r[v]+(f||0)))}return r},SH=function(r,n,a){return es(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},oP=function(r,n,a,s,o){var c=n.props.children,l=md(c,fg).filter(function(i){return SH(s,o,i.props.direction)});if(l&&l.length){var h=l.map(function(i){return i.props.dataKey});return r.reduce(function(i,d){var u=pl(d,a);if(es(u))return i;var f=Array.isArray(u)?[Z0(u),J0(u)]:[u,u],m=h.reduce(function(v,g){var x=pl(d,g,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),j=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,v[0]),Math.max(j,v[1])]},[1/0,-1/0]);return[Math.min(m[0],i[0]),Math.max(m[1],i[1])]},[1/0,-1/0])}return null},EH=function(r,n,a,s,o){var c=n.map(function(l){return oP(r,l,a,o,s)}).filter(function(l){return!es(l)});return c&&c.length?c.reduce(function(l,h){return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]):null},lP=function(r,n,a,s,o){var c=n.map(function(h){var i=h.props.dataKey;return a==="number"&&i&&oP(r,h,i,s)||pm(r,i,a,o)});if(a==="number")return c.reduce(function(h,i){return[Math.min(h[0],i[0]),Math.max(h[1],i[1])]},[1/0,-1/0]);var l={};return c.reduce(function(h,i){for(var d=0,u=i.length;d<u;d++)l[i[d]]||(l[i[d]]=!0,h.push(i[d]));return h},[])},cP=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},dP=function(r,n,a,s){if(s)return r.map(function(h){return h.coordinate});var o,c,l=r.map(function(h){return h.coordinate===n&&(o=!0),h.coordinate===a&&(c=!0),h.coordinate});return o||l.push(n),c||l.push(a),l},oA=function(r,n,a){if(!r)return null;var s=r.scale,o=r.duplicateDomain,c=r.type,l=r.range,h=r.realScaleType==="scaleBand"?s.bandwidth()/2:2,i=(n||a)&&c==="category"&&s.bandwidth?s.bandwidth()/h:0;if(i=r.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ic(l[0]-l[1])*2*i:i,n&&(r.ticks||r.niceTicks)){var d=(r.ticks||r.niceTicks).map(function(u){var f=o?o.indexOf(u):u;return{coordinate:s(f)+i,value:u,offset:i}});return d.filter(function(u){return!og(u.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(u,f){return{coordinate:s(u)+i,value:u,index:f,offset:i}}):s.ticks&&!a?s.ticks(r.tickCount).map(function(u){return{coordinate:s(u)+i,value:u,offset:i}}):s.domain().map(function(u,f){return{coordinate:s(u)+i,value:o?o[u]:u,index:f,offset:i}})},G2=new WeakMap,Tg=function(r,n){if(typeof n!="function")return r;G2.has(r)||G2.set(r,new WeakMap);var a=G2.get(r);if(a.has(n))return a.get(n);var s=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},uP=function(r,n,a){var s=r.scale,o=r.type,c=r.layout,l=r.axisType;if(s==="auto")return c==="radial"&&l==="radiusAxis"?{scale:Tm(),realScaleType:"band"}:c==="radial"&&l==="angleAxis"?{scale:Gv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:fm(),realScaleType:"point"}:o==="category"?{scale:Tm(),realScaleType:"band"}:{scale:Gv(),realScaleType:"linear"};if(ig(s)){var h="scale".concat(_0(s));return{scale:(_5[h]||fm)(),realScaleType:_5[h]?h:"point"}}return Qa(s)?{scale:s}:{scale:fm(),realScaleType:"point"}},Z5=1e-4,AP=function(r){var n=r.domain();if(!(!n||n.length<=2)){var a=n.length,s=r.range(),o=Math.min(s[0],s[1])-Z5,c=Math.max(s[0],s[1])+Z5,l=r(n[0]),h=r(n[a-1]);(l<o||l>c||h<o||h>c)&&r.domain([n[0],n[a-1]])}},IH=function(r,n){if(!r)return null;for(var a=0,s=r.length;a<s;a++)if(r[a].item===n)return r[a].position;return null},kH=function(r,n){if(!n||n.length!==2||!An(n[0])||!An(n[1]))return r;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),o=[r[0],r[1]];return(!An(r[0])||r[0]<a)&&(o[0]=a),(!An(r[1])||r[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<a&&(o[1]=a),o},TH=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var o=0,c=0,l=0;l<n;++l){var h=og(r[l][a][1])?r[l][a][0]:r[l][a][1];h>=0?(r[l][a][0]=o,r[l][a][1]=o+h,o=r[l][a][1]):(r[l][a][0]=c,r[l][a][1]=c+h,c=r[l][a][1])}},FH=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var o=0,c=0;c<n;++c){var l=og(r[c][a][1])?r[c][a][0]:r[c][a][1];l>=0?(r[c][a][0]=o,r[c][a][1]=o+l,o=r[c][a][1]):(r[c][a][0]=0,r[c][a][1]=0)}},PH={sign:TH,expand:xD,none:Of,silhouette:yD,wiggle:bD,positive:FH},OH=function(r,n,a){var s=n.map(function(l){return l.props.dataKey}),o=PH[a],c=vD().keys(s).value(function(l,h){return+pl(l,h,0)}).order(pj).offset(o);return c(r)},MH=function(r,n,a,s,o,c){if(!r)return null;var l=c?n.reverse():n,h={},i=l.reduce(function(u,f){var m,v=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Io(Io({},f.type.defaultProps),f.props):f.props,g=v.stackId,x=v.hide;if(x)return u;var y=v[a],j=u[y]||{hasStack:!1,stackGroups:{}};if(ml(g)){var N=j.stackGroups[g]||{numericAxisId:a,cateAxisId:s,items:[]};N.items.push(f),j.hasStack=!0,j.stackGroups[g]=N}else j.stackGroups[dp("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[f]};return Io(Io({},u),{},Pf({},y,j))},h),d={};return Object.keys(i).reduce(function(u,f){var m=i[f];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,x){var y=m.stackGroups[x];return Io(Io({},g),{},Pf({},x,{numericAxisId:a,cateAxisId:s,items:y.items,stackedData:OH(r,y.items,o)}))},v)}return Io(Io({},u),{},Pf({},f,m))},d)},hP=function(r,n){var a=n.realScaleType,s=n.type,o=n.tickCount,c=n.originalDomain,l=n.allowDecimals,h=a||n.scale;if(h!=="auto"&&h!=="linear")return null;if(o&&s==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var i=r.domain();if(!i.length)return null;var d=q7(i,o,l);return r.domain([Z0(d),J0(d)]),{niceTicks:d}}if(o&&s==="number"){var u=r.domain(),f=X7(u,o,l);return{niceTicks:f}}return null};function eE(t){var r=t.axis,n=t.ticks,a=t.bandSize,s=t.entry,o=t.index,c=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!es(s[r.dataKey])){var l=Iv(n,"value",s[r.dataKey]);if(l)return l.coordinate+a/2}return n[o]?n[o].coordinate+a/2:null}var h=pl(s,es(c)?r.dataKey:c);return es(h)?null:r.scale(h)}var tE=function(r){var n=r.axis,a=r.ticks,s=r.offset,o=r.bandSize,c=r.entry,l=r.index;if(n.type==="category")return a[l]?a[l].coordinate+s:null;var h=pl(c,n.dataKey,n.domain[l]);return es(h)?null:n.scale(h)-o/2+s},DH=function(r){var n=r.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);return s<=0&&o>=0?0:o<0?o:s}return a[0]},_H=function(r,n){var a,s=(a=r.type)!==null&&a!==void 0&&a.defaultProps?Io(Io({},r.type.defaultProps),r.props):r.props,o=s.stackId;if(ml(o)){var c=n[o];if(c){var l=c.items.indexOf(r);return l>=0?c.stackedData[l]:null}}return null},LH=function(r){return r.reduce(function(n,a){return[Z0(a.concat([n[0]]).filter(An)),J0(a.concat([n[1]]).filter(An))]},[1/0,-1/0])},fP=function(r,n,a){return Object.keys(r).reduce(function(s,o){var c=r[o],l=c.stackedData,h=l.reduce(function(i,d){var u=LH(d.slice(n,a+1));return[Math.min(i[0],u[0]),Math.max(i[1],u[1])]},[1/0,-1/0]);return[Math.min(h[0],s[0]),Math.max(h[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},rE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rj=function(r,n,a){if(Qa(r))return r(n,a);if(!Array.isArray(r))return n;var s=[];if(An(r[0]))s[0]=a?r[0]:Math.min(r[0],n[0]);else if(rE.test(r[0])){var o=+rE.exec(r[0])[1];s[0]=n[0]-o}else Qa(r[0])?s[0]=r[0](n[0]):s[0]=n[0];if(An(r[1]))s[1]=a?r[1]:Math.max(r[1],n[1]);else if(nE.test(r[1])){var c=+nE.exec(r[1])[1];s[1]=n[1]+c}else Qa(r[1])?s[1]=r[1](n[1]):s[1]=n[1];return s},t0=function(r,n,a){if(r&&r.scale&&r.scale.bandwidth){var s=r.scale.bandwidth();if(!a||s>0)return s}if(r&&n&&n.length>=2){for(var o=rC(n,function(u){return u.coordinate}),c=1/0,l=1,h=o.length;l<h;l++){var i=o[l],d=o[l-1];c=Math.min((i.coordinate||0)-(d.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},aE=function(r,n,a){return!r||!r.length||hg(r,pd(a,"type.defaultProps.domain"))?n:r},pP=function(r,n){var a=r.type.defaultProps?Io(Io({},r.type.defaultProps),r.props):r.props,s=a.dataKey,o=a.name,c=a.unit,l=a.formatter,h=a.tooltipType,i=a.chartType,d=a.hide;return Io(Io({},Ca(r,!1)),{},{dataKey:s,unit:c,formatter:l,name:o||s,color:EC(r),value:pl(n,s),type:h,payload:n,chartType:i,hide:d})};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rm(t)}function sE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function nA(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sE(Object(n),!0).forEach(function(a){mP(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function mP(t,r,n){return r=UH(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function UH(t){var r=RH(t,"string");return Rm(r)=="symbol"?r:r+""}function RH(t,r){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function QH(t,r){return zH(t)||$H(t,r)||WH(t,r)||HH()}function HH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(t,r){if(t){if(typeof t=="string")return iE(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,r)}}function iE(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function $H(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function zH(t){if(Array.isArray(t))return t}var r0=Math.PI/180,VH=function(r){return r*180/Math.PI},Ui=function(r,n,a,s){return{x:r+Math.cos(-r0*s)*a,y:n+Math.sin(-r0*s)*a}},gP=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},KH=function(r,n,a,s,o){var c=r.width,l=r.height,h=r.startAngle,i=r.endAngle,d=kc(r.cx,c,c/2),u=kc(r.cy,l,l/2),f=gP(c,l,a),m=kc(r.innerRadius,f,0),v=kc(r.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(x,y){var j=n[y],N=j.domain,T=j.reversed,I;if(es(j.range))s==="angleAxis"?I=[h,i]:s==="radiusAxis"&&(I=[m,v]),T&&(I=[I[1],I[0]]);else{I=j.range;var C=I,D=QH(C,2);h=D[0],i=D[1]}var _=uP(j,o),Z=_.realScaleType,ae=_.scale;ae.domain(N).range(I),AP(ae);var V=hP(ae,nA(nA({},j),{},{realScaleType:Z})),ie=nA(nA(nA({},j),V),{},{range:I,radius:v,realScaleType:Z,scale:ae,cx:d,cy:u,innerRadius:m,outerRadius:v,startAngle:h,endAngle:i});return nA(nA({},x),{},mP({},y,ie))},{})},GH=function(r,n){var a=r.x,s=r.y,o=n.x,c=n.y;return Math.sqrt(Math.pow(a-o,2)+Math.pow(s-c,2))},qH=function(r,n){var a=r.x,s=r.y,o=n.cx,c=n.cy,l=GH({x:a,y:s},{x:o,y:c});if(l<=0)return{radius:l};var h=(a-o)/l,i=Math.acos(h);return s>c&&(i=2*Math.PI-i),{radius:l,angle:VH(i),angleInRadian:i}},XH=function(r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),c=Math.min(s,o);return{startAngle:n-c*360,endAngle:a-c*360}},YH=function(r,n){var a=n.startAngle,s=n.endAngle,o=Math.floor(a/360),c=Math.floor(s/360),l=Math.min(o,c);return r+l*360},oE=function(r,n){var a=r.x,s=r.y,o=qH({x:a,y:s},n),c=o.radius,l=o.angle,h=n.innerRadius,i=n.outerRadius;if(c<h||c>i)return!1;if(c===0)return!0;var d=XH(n),u=d.startAngle,f=d.endAngle,m=l,v;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;v=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=u}return v?nA(nA({},n),{},{radius:c,angle:YH(m,n)}):null},vP=function(r){return!M.isValidElement(r)&&!Qa(r)&&typeof r!="boolean"?r.className:""};function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qm(t)}var JH=["offset"];function ZH(t){return n9(t)||r9(t)||t9(t)||e9()}function e9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t9(t,r){if(t){if(typeof t=="string")return Qj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(t,r)}}function r9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n9(t){if(Array.isArray(t))return Qj(t)}function Qj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function a9(t,r){if(t==null)return{};var n=s9(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function s9(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function lE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function fl(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?lE(Object(n),!0).forEach(function(a){i9(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function i9(t,r,n){return r=o9(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function o9(t){var r=l9(t,"string");return Qm(r)=="symbol"?r:r+""}function l9(t,r){if(Qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Hm.apply(this,arguments)}var c9=function(r){var n=r.value,a=r.formatter,s=es(r.children)?n:r.children;return Qa(a)?a(s):s},d9=function(r,n){var a=Ic(n-r),s=Math.min(Math.abs(n-r),360);return a*s},u9=function(r,n,a){var s=r.position,o=r.viewBox,c=r.offset,l=r.className,h=o,i=h.cx,d=h.cy,u=h.innerRadius,f=h.outerRadius,m=h.startAngle,v=h.endAngle,g=h.clockWise,x=(u+f)/2,y=d9(m,v),j=y>=0?1:-1,N,T;s==="insideStart"?(N=m+j*c,T=g):s==="insideEnd"?(N=v-j*c,T=!g):s==="end"&&(N=v+j*c,T=g),T=y<=0?T:!T;var I=Ui(i,d,x,N),C=Ui(i,d,x,N+(T?1:-1)*359),D="M".concat(I.x,",").concat(I.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(C.x,",").concat(C.y),_=es(r.id)?dp("recharts-radial-line-"):r.id;return wt.createElement("text",Hm({},a,{dominantBaseline:"central",className:cs("recharts-radial-bar-label",l)}),wt.createElement("defs",null,wt.createElement("path",{id:_,d:D})),wt.createElement("textPath",{xlinkHref:"#".concat(_)},n))},A9=function(r){var n=r.viewBox,a=r.offset,s=r.position,o=n,c=o.cx,l=o.cy,h=o.innerRadius,i=o.outerRadius,d=o.startAngle,u=o.endAngle,f=(d+u)/2;if(s==="outside"){var m=Ui(c,l,i+a,f),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=c?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(h+i)/2,y=Ui(c,l,x,f),j=y.x,N=y.y;return{x:j,y:N,textAnchor:"middle",verticalAnchor:"middle"}},h9=function(r){var n=r.viewBox,a=r.parentViewBox,s=r.offset,o=r.position,c=n,l=c.x,h=c.y,i=c.width,d=c.height,u=d>=0?1:-1,f=u*s,m=u>0?"end":"start",v=u>0?"start":"end",g=i>=0?1:-1,x=g*s,y=g>0?"end":"start",j=g>0?"start":"end";if(o==="top"){var N={x:l+i/2,y:h-u*s,textAnchor:"middle",verticalAnchor:m};return fl(fl({},N),a?{height:Math.max(h-a.y,0),width:i}:{})}if(o==="bottom"){var T={x:l+i/2,y:h+d+f,textAnchor:"middle",verticalAnchor:v};return fl(fl({},T),a?{height:Math.max(a.y+a.height-(h+d),0),width:i}:{})}if(o==="left"){var I={x:l-x,y:h+d/2,textAnchor:y,verticalAnchor:"middle"};return fl(fl({},I),a?{width:Math.max(I.x-a.x,0),height:d}:{})}if(o==="right"){var C={x:l+i+x,y:h+d/2,textAnchor:j,verticalAnchor:"middle"};return fl(fl({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:d}:{})}var D=a?{width:i,height:d}:{};return o==="insideLeft"?fl({x:l+x,y:h+d/2,textAnchor:j,verticalAnchor:"middle"},D):o==="insideRight"?fl({x:l+i-x,y:h+d/2,textAnchor:y,verticalAnchor:"middle"},D):o==="insideTop"?fl({x:l+i/2,y:h+f,textAnchor:"middle",verticalAnchor:v},D):o==="insideBottom"?fl({x:l+i/2,y:h+d-f,textAnchor:"middle",verticalAnchor:m},D):o==="insideTopLeft"?fl({x:l+x,y:h+f,textAnchor:j,verticalAnchor:v},D):o==="insideTopRight"?fl({x:l+i-x,y:h+f,textAnchor:y,verticalAnchor:v},D):o==="insideBottomLeft"?fl({x:l+x,y:h+d-f,textAnchor:j,verticalAnchor:m},D):o==="insideBottomRight"?fl({x:l+i-x,y:h+d-f,textAnchor:y,verticalAnchor:m},D):cp(o)&&(An(o.x)||Mh(o.x))&&(An(o.y)||Mh(o.y))?fl({x:l+kc(o.x,i),y:h+kc(o.y,d),textAnchor:"end",verticalAnchor:"end"},D):fl({x:l+i/2,y:h+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},f9=function(r){return"cx"in r&&An(r.cx)};function _l(t){var r=t.offset,n=r===void 0?5:r,a=a9(t,JH),s=fl({offset:n},a),o=s.viewBox,c=s.position,l=s.value,h=s.children,i=s.content,d=s.className,u=d===void 0?"":d,f=s.textBreakAll;if(!o||es(l)&&es(h)&&!M.isValidElement(i)&&!Qa(i))return null;if(M.isValidElement(i))return M.cloneElement(i,s);var m;if(Qa(i)){if(m=M.createElement(i,s),M.isValidElement(m))return m}else m=c9(s);var v=f9(o),g=Ca(s,!0);if(v&&(c==="insideStart"||c==="insideEnd"||c==="end"))return u9(s,m,g);var x=v?A9(s):h9(s);return wt.createElement($h,Hm({className:cs("recharts-label",u)},g,x,{breakAll:f}),m)}_l.displayName="Label";var xP=function(r){var n=r.cx,a=r.cy,s=r.angle,o=r.startAngle,c=r.endAngle,l=r.r,h=r.radius,i=r.innerRadius,d=r.outerRadius,u=r.x,f=r.y,m=r.top,v=r.left,g=r.width,x=r.height,y=r.clockWise,j=r.labelViewBox;if(j)return j;if(An(g)&&An(x)){if(An(u)&&An(f))return{x:u,y:f,width:g,height:x};if(An(m)&&An(v))return{x:m,y:v,width:g,height:x}}return An(u)&&An(f)?{x:u,y:f,width:0,height:0}:An(n)&&An(a)?{cx:n,cy:a,startAngle:o||s||0,endAngle:c||s||0,innerRadius:i||0,outerRadius:d||h||l||0,clockWise:y}:r.viewBox?r.viewBox:{}},p9=function(r,n){return r?r===!0?wt.createElement(_l,{key:"label-implicit",viewBox:n}):ml(r)?wt.createElement(_l,{key:"label-implicit",viewBox:n,value:r}):M.isValidElement(r)?r.type===_l?M.cloneElement(r,{key:"label-implicit",viewBox:n}):wt.createElement(_l,{key:"label-implicit",content:r,viewBox:n}):Qa(r)?wt.createElement(_l,{key:"label-implicit",content:r,viewBox:n}):cp(r)?wt.createElement(_l,Hm({viewBox:n},r,{key:"label-implicit"})):null:null},m9=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var s=r.children,o=xP(r),c=md(s,_l).map(function(h,i){return M.cloneElement(h,{viewBox:n||o,key:"label-".concat(i)})});if(!a)return c;var l=p9(r.label,n||o);return[l].concat(ZH(c))};_l.parseViewBox=xP;_l.renderCallByParent=m9;var q2,cE;function g9(){if(cE)return q2;cE=1;function t(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return q2=t,q2}var v9=g9();const x9=Qs(v9);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wm(t)}var y9=["valueAccessor"],b9=["data","dataKey","clockWise","id","textBreakAll"];function j9(t){return B9(t)||N9(t)||C9(t)||w9()}function w9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9(t,r){if(t){if(typeof t=="string")return Hj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(t,r)}}function N9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B9(t){if(Array.isArray(t))return Hj(t)}function Hj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},n0.apply(this,arguments)}function dE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function uE(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dE(Object(n),!0).forEach(function(a){S9(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function S9(t,r,n){return r=E9(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function E9(t){var r=I9(t,"string");return Wm(r)=="symbol"?r:r+""}function I9(t,r){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Wm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function AE(t,r){if(t==null)return{};var n=k9(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function k9(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}var T9=function(r){return Array.isArray(r.value)?x9(r.value):r.value};function dA(t){var r=t.valueAccessor,n=r===void 0?T9:r,a=AE(t,y9),s=a.data,o=a.dataKey,c=a.clockWise,l=a.id,h=a.textBreakAll,i=AE(a,b9);return!s||!s.length?null:wt.createElement(Ks,{className:"recharts-label-list"},s.map(function(d,u){var f=es(o)?n(d,u):pl(d&&d.payload,o),m=es(l)?{}:{id:"".concat(l,"-").concat(u)};return wt.createElement(_l,n0({},Ca(d,!0),i,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:h,viewBox:_l.parseViewBox(es(c)?d:uE(uE({},d),{},{clockWise:c})),key:"label-".concat(u),index:u}))}))}dA.displayName="LabelList";function F9(t,r){return t?t===!0?wt.createElement(dA,{key:"labelList-implicit",data:r}):wt.isValidElement(t)||Qa(t)?wt.createElement(dA,{key:"labelList-implicit",data:r,content:t}):cp(t)?wt.createElement(dA,n0({data:r},t,{key:"labelList-implicit"})):null:null}function P9(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=md(a,dA).map(function(c,l){return M.cloneElement(c,{data:r,key:"labelList-".concat(l)})});if(!n)return s;var o=F9(t.label,r);return[o].concat(j9(s))}dA.renderCallByParent=P9;function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$m(t)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Wj.apply(this,arguments)}function hE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function fE(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hE(Object(n),!0).forEach(function(a){O9(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function O9(t,r,n){return r=M9(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function M9(t){var r=D9(t,"string");return $m(r)=="symbol"?r:r+""}function D9(t,r){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if($m(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var _9=function(r,n){var a=Ic(n-r),s=Math.min(Math.abs(n-r),359.999);return a*s},Fg=function(r){var n=r.cx,a=r.cy,s=r.radius,o=r.angle,c=r.sign,l=r.isExternal,h=r.cornerRadius,i=r.cornerIsExternal,d=h*(l?1:-1)+s,u=Math.asin(h/d)/r0,f=i?o:o+c*u,m=Ui(n,a,d,f),v=Ui(n,a,s,f),g=i?o-c*u:o,x=Ui(n,a,d*Math.cos(u*r0),g);return{center:m,circleTangency:v,lineTangency:x,theta:u}},yP=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.startAngle,l=r.endAngle,h=_9(c,l),i=c+h,d=Ui(n,a,o,c),u=Ui(n,a,o,i),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(h)>180),",").concat(+(c>i),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(s>0){var m=Ui(n,a,s,c),v=Ui(n,a,s,i);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(h)>180),",").concat(+(c<=i),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(a," Z");return f},L9=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,h=r.cornerIsExternal,i=r.startAngle,d=r.endAngle,u=Ic(d-i),f=Fg({cx:n,cy:a,radius:o,angle:i,sign:u,cornerRadius:c,cornerIsExternal:h}),m=f.circleTangency,v=f.lineTangency,g=f.theta,x=Fg({cx:n,cy:a,radius:o,angle:d,sign:-u,cornerRadius:c,cornerIsExternal:h}),y=x.circleTangency,j=x.lineTangency,N=x.theta,T=h?Math.abs(i-d):Math.abs(i-d)-g-N;if(T<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):yP({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:i,endAngle:d});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var C=Fg({cx:n,cy:a,radius:s,angle:i,sign:u,isExternal:!0,cornerRadius:c,cornerIsExternal:h}),D=C.circleTangency,_=C.lineTangency,Z=C.theta,ae=Fg({cx:n,cy:a,radius:s,angle:d,sign:-u,isExternal:!0,cornerRadius:c,cornerIsExternal:h}),V=ae.circleTangency,ie=ae.lineTangency,U=ae.theta,G=h?Math.abs(i-d):Math.abs(i-d)-Z-U;if(G<0&&c===0)return"".concat(I,"L").concat(n,",").concat(a,"Z");I+="L".concat(ie.x,",").concat(ie.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(u<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(G>180),",").concat(+(u>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else I+="L".concat(n,",").concat(a,"Z");return I},U9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bP=function(r){var n=fE(fE({},U9),r),a=n.cx,s=n.cy,o=n.innerRadius,c=n.outerRadius,l=n.cornerRadius,h=n.forceCornerRadius,i=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,f=n.className;if(c<o||d===u)return null;var m=cs("recharts-sector",f),v=c-o,g=kc(l,v,0,!0),x;return g>0&&Math.abs(d-u)<360?x=L9({cx:a,cy:s,innerRadius:o,outerRadius:c,cornerRadius:Math.min(g,v/2),forceCornerRadius:h,cornerIsExternal:i,startAngle:d,endAngle:u}):x=yP({cx:a,cy:s,innerRadius:o,outerRadius:c,startAngle:d,endAngle:u}),wt.createElement("path",Wj({},Ca(n,!0),{className:m,d:x,role:"img"}))};function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zm(t)}function $j(){return $j=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$j.apply(this,arguments)}function pE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function mE(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pE(Object(n),!0).forEach(function(a){R9(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function R9(t,r,n){return r=Q9(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Q9(t){var r=H9(t,"string");return zm(r)=="symbol"?r:r+""}function H9(t,r){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var gE={curveBasisClosed:oD,curveBasisOpen:lD,curveBasis:iD,curveBumpX:VM,curveBumpY:KM,curveLinearClosed:cD,curveLinear:U0,curveMonotoneX:dD,curveMonotoneY:uD,curveNatural:AD,curveStep:hD,curveStepAfter:pD,curveStepBefore:fD},Pg=function(r){return r.x===+r.x&&r.y===+r.y},Bp=function(r){return r.x},Sp=function(r){return r.y},W9=function(r,n){if(Qa(r))return r;var a="curve".concat(_0(r));return(a==="curveMonotone"||a==="curveBump")&&n?gE["".concat(a).concat(n==="vertical"?"Y":"X")]:gE[a]||U0},$9=function(r){var n=r.type,a=n===void 0?"linear":n,s=r.points,o=s===void 0?[]:s,c=r.baseLine,l=r.layout,h=r.connectNulls,i=h===void 0?!1:h,d=W9(a,l),u=i?o.filter(function(g){return Pg(g)}):o,f;if(Array.isArray(c)){var m=i?c.filter(function(g){return Pg(g)}):c,v=u.map(function(g,x){return mE(mE({},g),{},{base:m[x]})});return l==="vertical"?f=Cg().y(Sp).x1(Bp).x0(function(g){return g.base.x}):f=Cg().x(Bp).y1(Sp).y0(function(g){return g.base.y}),f.defined(Pg).curve(d),f(v)}return l==="vertical"&&An(c)?f=Cg().y(Sp).x1(Bp).x0(c):An(c)?f=Cg().x(Bp).y1(Sp).y0(c):f=y3().x(Bp).y(Sp),f.defined(Pg).curve(d),f(u)},a0=function(r){var n=r.className,a=r.points,s=r.path,o=r.pathRef;if((!a||!a.length)&&!s)return null;var c=a&&a.length?$9(r):s;return wt.createElement("path",$j({},Ca(r,!1),kv(r),{className:cs("recharts-curve",n),d:c,ref:o}))},X2={exports:{}},Y2,vE;function z9(){if(vE)return Y2;vE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y2=t,Y2}var J2,xE;function V9(){if(xE)return J2;xE=1;var t=z9();function r(){}function n(){}return n.resetWarningCache=r,J2=function(){function a(c,l,h,i,d,u){if(u!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function s(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:r};return o.PropTypes=o,o},J2}var yE;function K9(){return yE||(yE=1,X2.exports=V9()()),X2.exports}var G9=K9();const di=Qs(G9),{getOwnPropertyNames:q9,getOwnPropertySymbols:X9}=Object,{hasOwnProperty:Y9}=Object.prototype;function Z2(t,r){return function(a,s,o){return t(a,s,o)&&r(a,s,o)}}function Og(t){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return t(n,a,s);const{cache:o}=s,c=o.get(n),l=o.get(a);if(c&&l)return c===a&&l===n;o.set(n,a),o.set(a,n);const h=t(n,a,s);return o.delete(n),o.delete(a),h}}function J9(t){return t!=null?t[Symbol.toStringTag]:void 0}function bE(t){return q9(t).concat(X9(t))}const Z9=Object.hasOwn||((t,r)=>Y9.call(t,r));function Jh(t,r){return t===r||!t&&!r&&t!==t&&r!==r}const eW="__v",tW="__o",rW="_owner",{getOwnPropertyDescriptor:jE,keys:wE}=Object;function nW(t,r){return t.byteLength===r.byteLength&&s0(new Uint8Array(t),new Uint8Array(r))}function aW(t,r,n){let a=t.length;if(r.length!==a)return!1;for(;a-- >0;)if(!n.equals(t[a],r[a],a,a,t,r,n))return!1;return!0}function sW(t,r){return t.byteLength===r.byteLength&&s0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}function iW(t,r){return Jh(t.getTime(),r.getTime())}function oW(t,r){return t.name===r.name&&t.message===r.message&&t.cause===r.cause&&t.stack===r.stack}function lW(t,r){return t===r}function CE(t,r,n){const a=t.size;if(a!==r.size)return!1;if(!a)return!0;const s=new Array(a),o=t.entries();let c,l,h=0;for(;(c=o.next())&&!c.done;){const i=r.entries();let d=!1,u=0;for(;(l=i.next())&&!l.done;){if(s[u]){u++;continue}const f=c.value,m=l.value;if(n.equals(f[0],m[0],h,u,t,r,n)&&n.equals(f[1],m[1],f[0],m[0],t,r,n)){d=s[u]=!0;break}u++}if(!d)return!1;h++}return!0}const cW=Jh;function dW(t,r,n){const a=wE(t);let s=a.length;if(wE(r).length!==s)return!1;for(;s-- >0;)if(!jP(t,r,n,a[s]))return!1;return!0}function Ep(t,r,n){const a=bE(t);let s=a.length;if(bE(r).length!==s)return!1;let o,c,l;for(;s-- >0;)if(o=a[s],!jP(t,r,n,o)||(c=jE(t,o),l=jE(r,o),(c||l)&&(!c||!l||c.configurable!==l.configurable||c.enumerable!==l.enumerable||c.writable!==l.writable)))return!1;return!0}function uW(t,r){return Jh(t.valueOf(),r.valueOf())}function AW(t,r){return t.source===r.source&&t.flags===r.flags}function NE(t,r,n){const a=t.size;if(a!==r.size)return!1;if(!a)return!0;const s=new Array(a),o=t.values();let c,l;for(;(c=o.next())&&!c.done;){const h=r.values();let i=!1,d=0;for(;(l=h.next())&&!l.done;){if(!s[d]&&n.equals(c.value,l.value,c.value,l.value,t,r,n)){i=s[d]=!0;break}d++}if(!i)return!1}return!0}function s0(t,r){let n=t.byteLength;if(r.byteLength!==n||t.byteOffset!==r.byteOffset)return!1;for(;n-- >0;)if(t[n]!==r[n])return!1;return!0}function hW(t,r){return t.hostname===r.hostname&&t.pathname===r.pathname&&t.protocol===r.protocol&&t.port===r.port&&t.hash===r.hash&&t.username===r.username&&t.password===r.password}function jP(t,r,n,a){return(a===rW||a===tW||a===eW)&&(t.$$typeof||r.$$typeof)?!0:Z9(r,a)&&n.equals(t[a],r[a],a,a,t,r,n)}const fW="[object ArrayBuffer]",pW="[object Arguments]",mW="[object Boolean]",gW="[object DataView]",vW="[object Date]",xW="[object Error]",yW="[object Map]",bW="[object Number]",jW="[object Object]",wW="[object RegExp]",CW="[object Set]",NW="[object String]",BW={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},SW="[object URL]",EW=Object.prototype.toString;function IW({areArrayBuffersEqual:t,areArraysEqual:r,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:l,areObjectsEqual:h,arePrimitiveWrappersEqual:i,areRegExpsEqual:d,areSetsEqual:u,areTypedArraysEqual:f,areUrlsEqual:m,unknownTagComparators:v}){return function(x,y,j){if(x===y)return!0;if(x==null||y==null)return!1;const N=typeof x;if(N!==typeof y)return!1;if(N!=="object")return N==="number"?l(x,y,j):N==="function"?o(x,y,j):!1;const T=x.constructor;if(T!==y.constructor)return!1;if(T===Object)return h(x,y,j);if(Array.isArray(x))return r(x,y,j);if(T===Date)return a(x,y,j);if(T===RegExp)return d(x,y,j);if(T===Map)return c(x,y,j);if(T===Set)return u(x,y,j);const I=EW.call(x);if(I===vW)return a(x,y,j);if(I===wW)return d(x,y,j);if(I===yW)return c(x,y,j);if(I===CW)return u(x,y,j);if(I===jW)return typeof x.then!="function"&&typeof y.then!="function"&&h(x,y,j);if(I===SW)return m(x,y,j);if(I===xW)return s(x,y,j);if(I===pW)return h(x,y,j);if(BW[I])return f(x,y,j);if(I===fW)return t(x,y,j);if(I===gW)return n(x,y,j);if(I===mW||I===bW||I===NW)return i(x,y,j);if(v){let C=v[I];if(!C){const D=J9(x);D&&(C=v[D])}if(C)return C(x,y,j)}return!1}}function kW({circular:t,createCustomConfig:r,strict:n}){let a={areArrayBuffersEqual:nW,areArraysEqual:n?Ep:aW,areDataViewsEqual:sW,areDatesEqual:iW,areErrorsEqual:oW,areFunctionsEqual:lW,areMapsEqual:n?Z2(CE,Ep):CE,areNumbersEqual:cW,areObjectsEqual:n?Ep:dW,arePrimitiveWrappersEqual:uW,areRegExpsEqual:AW,areSetsEqual:n?Z2(NE,Ep):NE,areTypedArraysEqual:n?Z2(s0,Ep):s0,areUrlsEqual:hW,unknownTagComparators:void 0};if(r&&(a=Object.assign({},a,r(a))),t){const s=Og(a.areArraysEqual),o=Og(a.areMapsEqual),c=Og(a.areObjectsEqual),l=Og(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return a}function TW(t){return function(r,n,a,s,o,c,l){return t(r,n,l)}}function FW({circular:t,comparator:r,createState:n,equals:a,strict:s}){if(n)return function(l,h){const{cache:i=t?new WeakMap:void 0,meta:d}=n();return r(l,h,{cache:i,equals:a,meta:d,strict:s})};if(t)return function(l,h){return r(l,h,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const o={cache:void 0,equals:a,meta:void 0,strict:s};return function(l,h){return r(l,h,o)}}const PW=sh();sh({strict:!0});sh({circular:!0});sh({circular:!0,strict:!0});sh({createInternalComparator:()=>Jh});sh({strict:!0,createInternalComparator:()=>Jh});sh({circular:!0,createInternalComparator:()=>Jh});sh({circular:!0,createInternalComparator:()=>Jh,strict:!0});function sh(t={}){const{circular:r=!1,createInternalComparator:n,createState:a,strict:s=!1}=t,o=kW(t),c=IW(o),l=n?n(c):TW(c);return FW({circular:r,comparator:c,createState:a,equals:l,strict:s})}function OW(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BE(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(o){n<0&&(n=o),o-n>r?(t(o),n=-1):OW(s)};requestAnimationFrame(a)}function zj(t){"@babel/helpers - typeof";return zj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zj(t)}function MW(t){return UW(t)||LW(t)||_W(t)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(t,r){if(t){if(typeof t=="string")return SE(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,r)}}function SE(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function LW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UW(t){if(Array.isArray(t))return t}function RW(){var t={},r=function(){return null},n=!1,a=function s(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,l=MW(c),h=l[0],i=l.slice(1);if(typeof h=="number"){BE(s.bind(null,i),h);return}s(h),BE(s.bind(null,i));return}zj(o)==="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,a(o)},subscribe:function(o){return r=o,function(){r=function(){return null}}}}}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vm(t)}function EE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function IE(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?EE(Object(n),!0).forEach(function(a){wP(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function wP(t,r,n){return r=QW(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function QW(t){var r=HW(t,"string");return Vm(r)==="symbol"?r:String(r)}function HW(t,r){if(Vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Vm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var WW=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(a,s){return a.filter(function(o){return s.includes(o)})})},$W=function(r){return r},zW=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mm=function(r,n){return Object.keys(n).reduce(function(a,s){return IE(IE({},a),{},wP({},s,r(s,n[s])))},{})},kE=function(r,n,a){return r.map(function(s){return"".concat(zW(s)," ").concat(n,"ms ").concat(a)}).join(",")};function VW(t,r){return qW(t)||GW(t,r)||CP(t,r)||KW()}function KW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GW(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function qW(t){if(Array.isArray(t))return t}function XW(t){return ZW(t)||JW(t)||CP(t)||YW()}function YW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CP(t,r){if(t){if(typeof t=="string")return Vj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vj(t,r)}}function JW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZW(t){if(Array.isArray(t))return Vj(t)}function Vj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}var i0=1e-4,NP=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},BP=function(r,n){return r.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},TE=function(r,n){return function(a){var s=NP(r,n);return BP(s,a)}},e$=function(r,n){return function(a){var s=NP(r,n),o=[].concat(XW(s.map(function(c,l){return c*l}).slice(1)),[0]);return BP(o,a)}},FE=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0],o=n[1],c=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,o=0,c=1,l=1;break;case"ease":s=.25,o=.1,c=.25,l=1;break;case"ease-in":s=.42,o=0,c=1,l=1;break;case"ease-out":s=.42,o=0,c=.58,l=1;break;case"ease-in-out":s=0,o=0,c=.58,l=1;break;default:{var h=n[0].split("(");if(h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4){var i=h[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=VW(i,4);s=d[0],o=d[1],c=d[2],l=d[3]}}}var u=TE(s,c),f=TE(o,l),m=e$(s,c),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var j=y>1?1:y,N=j,T=0;T<8;++T){var I=u(N)-j,C=m(N);if(Math.abs(I-j)<i0||C<i0)return f(N);N=v(N-I/C)}return f(N)};return g.isStepper=!1,g},t$=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,a=n===void 0?100:n,s=r.damping,o=s===void 0?8:s,c=r.dt,l=c===void 0?17:c,h=function(d,u,f){var m=-(d-u)*a,v=f*o,g=f+(m-v)*l/1e3,x=f*l/1e3+d;return Math.abs(x-u)<i0&&Math.abs(g)<i0?[u,0]:[x,g]};return h.isStepper=!0,h.dt=l,h},r$=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FE(s);case"spring":return t$();default:if(s.split("(")[0]==="cubic-bezier")return FE(s)}return typeof s=="function"?s:null};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Km(t)}function PE(t){return s$(t)||a$(t)||SP(t)||n$()}function n$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s$(t){if(Array.isArray(t))return Gj(t)}function OE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Jl(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OE(Object(n),!0).forEach(function(a){Kj(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Kj(t,r,n){return r=i$(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function i$(t){var r=o$(t,"string");return Km(r)==="symbol"?r:String(r)}function o$(t,r){if(Km(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Km(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function l$(t,r){return u$(t)||d$(t,r)||SP(t,r)||c$()}function c$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(t,r){if(t){if(typeof t=="string")return Gj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gj(t,r)}}function Gj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function d$(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function u$(t){if(Array.isArray(t))return t}var o0=function(r,n,a){return r+(n-r)*a},qj=function(r){var n=r.from,a=r.to;return n!==a},A$=function t(r,n,a){var s=mm(function(o,c){if(qj(c)){var l=r(c.from,c.to,c.velocity),h=l$(l,2),i=h[0],d=h[1];return Jl(Jl({},c),{},{from:i,velocity:d})}return c},n);return a<1?mm(function(o,c){return qj(c)?Jl(Jl({},c),{},{velocity:o0(c.velocity,s[o].velocity,a),from:o0(c.from,s[o].from,a)}):c},n):t(r,s,a-1)};const h$=(function(t,r,n,a,s){var o=WW(t,r),c=o.reduce(function(x,y){return Jl(Jl({},x),{},Kj({},y,[t[y],r[y]]))},{}),l=o.reduce(function(x,y){return Jl(Jl({},x),{},Kj({},y,{from:t[y],velocity:0,to:r[y]}))},{}),h=-1,i,d,u=function(){return null},f=function(){return mm(function(y,j){return j.from},l)},m=function(){return!Object.values(l).filter(qj).length},v=function(y){i||(i=y);var j=y-i,N=j/n.dt;l=A$(n,l,N),s(Jl(Jl(Jl({},t),r),f())),i=y,m()||(h=requestAnimationFrame(u))},g=function(y){d||(d=y);var j=(y-d)/a,N=mm(function(I,C){return o0.apply(void 0,PE(C).concat([n(j)]))},c);if(s(Jl(Jl(Jl({},t),r),N)),j<1)h=requestAnimationFrame(u);else{var T=mm(function(I,C){return o0.apply(void 0,PE(C).concat([n(1)]))},c);s(Jl(Jl(Jl({},t),r),T))}};return u=n.isStepper?v:g,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(h)}}});function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wf(t)}var f$=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function p$(t,r){if(t==null)return{};var n=m$(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function m$(t,r){if(t==null)return{};var n={},a=Object.keys(t),s,o;for(o=0;o<a.length;o++)s=a[o],!(r.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eb(t){return y$(t)||x$(t)||v$(t)||g$()}function g$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(t,r){if(t){if(typeof t=="string")return Xj(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xj(t,r)}}function x$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y$(t){if(Array.isArray(t))return Xj(t)}function Xj(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function ME(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function ou(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ME(Object(n),!0).forEach(function(a){im(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function im(t,r,n){return r=EP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function b$(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function j$(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,EP(a.key),a)}}function w$(t,r,n){return r&&j$(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EP(t){var r=C$(t,"string");return Wf(r)==="symbol"?r:String(r)}function C$(t,r){if(Wf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Wf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function N$(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Yj(t,r)}function Yj(t,r){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Yj(t,r)}function B$(t){var r=S$();return function(){var a=l0(t),s;if(r){var o=l0(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return Jj(this,s)}}function Jj(t,r){if(r&&(Wf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zj(t)}function Zj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}var Pu=(function(t){N$(n,t);var r=B$(n);function n(a,s){var o;b$(this,n),o=r.call(this,a,s);var c=o.props,l=c.isActive,h=c.attributeName,i=c.from,d=c.to,u=c.steps,f=c.children,m=c.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Zj(o)),o.changeStyle=o.changeStyle.bind(Zj(o)),!l||m<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:d}),Jj(o);if(u&&u.length)o.state={style:u[0].style};else if(i){if(typeof f=="function")return o.state={style:i},Jj(o);o.state={style:h?im({},h,i):i}}else o.state={style:{}};return o}return w$(n,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,c=s.canBegin;this.mounted=!0,!(!o||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,c=o.isActive,l=o.canBegin,h=o.attributeName,i=o.shouldReAnimate,d=o.to,u=o.from,f=this.state.style;if(l){if(!c){var m={style:h?im({},h,d):d};this.state&&f&&(h&&f[h]!==d||!h&&f!==d)&&this.setState(m);return}if(!(PW(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||i?u:s.to;if(this.state&&f){var x={style:h?im({},h,g):g};(h&&f[h]!==g||!h&&f!==g)&&this.setState(x)}this.runAnimation(ou(ou({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,c=s.from,l=s.to,h=s.duration,i=s.easing,d=s.begin,u=s.onAnimationEnd,f=s.onAnimationStart,m=h$(c,l,r$(i),h,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([f,d,v,h,u])}},{key:"runStepAnimation",value:function(s){var o=this,c=s.steps,l=s.begin,h=s.onAnimationStart,i=c[0],d=i.style,u=i.duration,f=u===void 0?0:u,m=function(g,x,y){if(y===0)return g;var j=x.duration,N=x.easing,T=N===void 0?"ease":N,I=x.style,C=x.properties,D=x.onAnimationEnd,_=y>0?c[y-1]:x,Z=C||Object.keys(I);if(typeof T=="function"||T==="spring")return[].concat(eb(g),[o.runJSAnimation.bind(o,{from:_.style,to:I,duration:j,easing:T}),j]);var ae=kE(Z,j,T),V=ou(ou(ou({},_.style),I),{},{transition:ae});return[].concat(eb(g),[V,j,D]).filter($W)};return this.manager.start([h].concat(eb(c.reduce(m,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=RW());var o=s.begin,c=s.duration,l=s.attributeName,h=s.to,i=s.easing,d=s.onAnimationStart,u=s.onAnimationEnd,f=s.steps,m=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof i=="function"||typeof m=="function"||i==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var g=l?im({},l,h):h,x=kE(Object.keys(g),c,i);v.start([d,o,ou(ou({},g),{},{transition:x}),c,u])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var c=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var h=p$(s,f$),i=M.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||i===0||c<=0)return o;var u=function(m){var v=m.props,g=v.style,x=g===void 0?{}:g,y=v.className,j=M.cloneElement(m,ou(ou({},h),{},{style:ou(ou({},x),d),className:y}));return j};return i===1?u(M.Children.only(o)):wt.createElement("div",null,M.Children.map(o,function(f){return u(f)}))}}]),n})(M.PureComponent);Pu.displayName="Animate";Pu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pu.propTypes={from:di.oneOfType([di.object,di.string]),to:di.oneOfType([di.object,di.string]),attributeName:di.string,duration:di.number,begin:di.number,easing:di.oneOfType([di.string,di.func]),steps:di.arrayOf(di.shape({duration:di.number.isRequired,style:di.object.isRequired,easing:di.oneOfType([di.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),di.func]),properties:di.arrayOf("string"),onAnimationEnd:di.func})),children:di.oneOfType([di.node,di.func]),isActive:di.bool,canBegin:di.bool,onAnimationEnd:di.func,shouldReAnimate:di.bool,onAnimationStart:di.func,onAnimationReStart:di.func};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},c0.apply(this,arguments)}function E$(t,r){return F$(t)||T$(t,r)||k$(t,r)||I$()}function I$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k$(t,r){if(t){if(typeof t=="string")return DE(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,r)}}function DE(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function T$(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function F$(t){if(Array.isArray(t))return t}function _E(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function LE(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_E(Object(n),!0).forEach(function(a){P$(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function P$(t,r,n){return r=O$(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function O$(t){var r=M$(t,"string");return Gm(r)=="symbol"?r:r+""}function M$(t,r){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var UE=function(r,n,a,s,o){var c=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,h=a>=0?1:-1,i=s>=0&&a>=0||s<0&&a<0?1:0,d;if(c>0&&o instanceof Array){for(var u=[0,0,0,0],f=0,m=4;f<m;f++)u[f]=o[f]>c?c:o[f];d="M".concat(r,",").concat(n+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(i,",").concat(r+h*u[0],",").concat(n)),d+="L ".concat(r+a-h*u[1],",").concat(n),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(i,`,
        `).concat(r+a,",").concat(n+l*u[1])),d+="L ".concat(r+a,",").concat(n+s-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(i,`,
        `).concat(r+a-h*u[2],",").concat(n+s)),d+="L ".concat(r+h*u[3],",").concat(n+s),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(i,`,
        `).concat(r,",").concat(n+s-l*u[3])),d+="Z"}else if(c>0&&o===+o&&o>0){var v=Math.min(c,o);d="M ".concat(r,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(i,",").concat(r+h*v,",").concat(n,`
            L `).concat(r+a-h*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(i,",").concat(r+a,",").concat(n+l*v,`
            L `).concat(r+a,",").concat(n+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(i,",").concat(r+a-h*v,",").concat(n+s,`
            L `).concat(r+h*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(i,",").concat(r,",").concat(n+s-l*v," Z")}else d="M ".concat(r,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return d},D$=function(r,n){if(!r||!n)return!1;var a=r.x,s=r.y,o=n.x,c=n.y,l=n.width,h=n.height;if(Math.abs(l)>0&&Math.abs(h)>0){var i=Math.min(o,o+l),d=Math.max(o,o+l),u=Math.min(c,c+h),f=Math.max(c,c+h);return a>=i&&a<=d&&s>=u&&s<=f}return!1},_$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IC=function(r){var n=LE(LE({},_$),r),a=M.useRef(),s=M.useState(-1),o=E$(s,2),c=o[0],l=o[1];M.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var T=a.current.getTotalLength();T&&l(T)}catch{}},[]);var h=n.x,i=n.y,d=n.width,u=n.height,f=n.radius,m=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,j=n.isUpdateAnimationActive;if(h!==+h||i!==+i||d!==+d||u!==+u||d===0||u===0)return null;var N=cs("recharts-rectangle",m);return j?wt.createElement(Pu,{canBegin:c>0,from:{width:d,height:u,x:h,y:i},to:{width:d,height:u,x:h,y:i},duration:g,animationEasing:v,isActive:j},function(T){var I=T.width,C=T.height,D=T.x,_=T.y;return wt.createElement(Pu,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:y,easing:v},wt.createElement("path",c0({},Ca(n,!0),{className:N,d:UE(D,_,I,C,f),ref:a})))}):wt.createElement("path",c0({},Ca(n,!0),{className:N,d:UE(h,i,d,u,f)}))},L$=["points","className","baseLinePoints","connectNulls"];function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Bf.apply(this,arguments)}function U$(t,r){if(t==null)return{};var n=R$(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function R$(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function RE(t){return $$(t)||W$(t)||H$(t)||Q$()}function Q$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$(t,r){if(t){if(typeof t=="string")return ew(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,r)}}function W$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $$(t){if(Array.isArray(t))return ew(t)}function ew(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}var QE=function(r){return r&&r.x===+r.x&&r.y===+r.y},z$=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(a){QE(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),QE(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},gm=function(r,n){var a=z$(r);n&&(a=[a.reduce(function(o,c){return[].concat(RE(o),RE(c))},[])]);var s=a.map(function(o){return o.reduce(function(c,l,h){return"".concat(c).concat(h===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},V$=function(r,n,a){var s=gm(r,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(gm(n.reverse(),a).slice(1))},K$=function(r){var n=r.points,a=r.className,s=r.baseLinePoints,o=r.connectNulls,c=U$(r,L$);if(!n||!n.length)return null;var l=cs("recharts-polygon",a);if(s&&s.length){var h=c.stroke&&c.stroke!=="none",i=V$(n,s,o);return wt.createElement("g",{className:l},wt.createElement("path",Bf({},Ca(c,!0),{fill:i.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:i})),h?wt.createElement("path",Bf({},Ca(c,!0),{fill:"none",d:gm(n,o)})):null,h?wt.createElement("path",Bf({},Ca(c,!0),{fill:"none",d:gm(s,o)})):null)}var d=gm(n,o);return wt.createElement("path",Bf({},Ca(c,!0),{fill:d.slice(-1)==="Z"?c.fill:"none",className:l,d}))};function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tw.apply(this,arguments)}var r1=function(r){var n=r.cx,a=r.cy,s=r.r,o=r.className,c=cs("recharts-dot",o);return n===+n&&a===+a&&s===+s?wt.createElement("circle",tw({},Ca(r,!1),kv(r),{className:c,cx:n,cy:a,r:s})):null};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qm(t)}var G$=["x","y","top","left","width","height","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},rw.apply(this,arguments)}function HE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function q$(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HE(Object(n),!0).forEach(function(a){X$(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function X$(t,r,n){return r=Y$(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Y$(t){var r=J$(t,"string");return qm(r)=="symbol"?r:r+""}function J$(t,r){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Z$(t,r){if(t==null)return{};var n=ez(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function ez(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}var tz=function(r,n,a,s,o,c){return"M".concat(r,",").concat(o,"v").concat(s,"M").concat(c,",").concat(n,"h").concat(a)},rz=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,o=s===void 0?0:s,c=r.top,l=c===void 0?0:c,h=r.left,i=h===void 0?0:h,d=r.width,u=d===void 0?0:d,f=r.height,m=f===void 0?0:f,v=r.className,g=Z$(r,G$),x=q$({x:a,y:o,top:l,left:i,width:u,height:m},g);return!An(a)||!An(o)||!An(u)||!An(m)||!An(l)||!An(i)?null:wt.createElement("path",rw({},Ca(x,!0),{className:cs("recharts-cross",v),d:tz(a,o,u,m,l,i)}))},tb,WE;function nz(){if(WE)return tb;WE=1;var t=Y0(),r=WF(),n=Mu();function a(s,o){return s&&s.length?t(s,n(o,2),r):void 0}return tb=a,tb}var az=nz();const sz=Qs(az);var rb,$E;function iz(){if($E)return rb;$E=1;var t=Y0(),r=Mu(),n=$F();function a(s,o){return s&&s.length?t(s,r(o,2),n):void 0}return rb=a,rb}var oz=iz();const lz=Qs(oz);var cz=["cx","cy","angle","ticks","axisLine"],dz=["ticks","tick","angle","tickFormatter","stroke"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$f(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},vm.apply(this,arguments)}function zE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function wh(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?zE(Object(n),!0).forEach(function(a){n1(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function VE(t,r){if(t==null)return{};var n=uz(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function uz(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Az(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function KE(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,kP(a.key),a)}}function hz(t,r,n){return r&&KE(t.prototype,r),n&&KE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fz(t,r,n){return r=d0(r),pz(t,IP()?Reflect.construct(r,n||[],d0(t).constructor):r.apply(t,n))}function pz(t,r){if(r&&($f(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mz(t)}function mz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function gz(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&nw(t,r)}function nw(t,r){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nw(t,r)}function n1(t,r,n){return r=kP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function kP(t){var r=vz(t,"string");return $f(r)=="symbol"?r:r+""}function vz(t,r){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if($f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a1=(function(t){function r(){return Az(this,r),fz(this,r,arguments)}return gz(r,t),hz(r,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,o=this.props,c=o.angle,l=o.cx,h=o.cy;return Ui(l,h,s,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,o=a.cy,c=a.angle,l=a.ticks,h=sz(l,function(d){return d.coordinate||0}),i=lz(l,function(d){return d.coordinate||0});return{cx:s,cy:o,startAngle:c,endAngle:c,innerRadius:i.coordinate||0,outerRadius:h.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,o=a.cy,c=a.angle,l=a.ticks,h=a.axisLine,i=VE(a,cz),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),u=Ui(s,o,d[0],c),f=Ui(s,o,d[1],c),m=wh(wh(wh({},Ca(i,!1)),{},{fill:"none"},Ca(h,!1)),{},{x1:u.x,y1:u.y,x2:f.x,y2:f.y});return wt.createElement("line",vm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var a=this,s=this.props,o=s.ticks,c=s.tick,l=s.angle,h=s.tickFormatter,i=s.stroke,d=VE(s,dz),u=this.getTickTextAnchor(),f=Ca(d,!1),m=Ca(c,!1),v=o.map(function(g,x){var y=a.getTickValueCoord(g),j=wh(wh(wh(wh({textAnchor:u,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:i},m),{},{index:x},y),{},{payload:g});return wt.createElement(Ks,vm({className:cs("recharts-polar-radius-axis-tick",vP(c)),key:"tick-".concat(g.coordinate)},Wh(a.props,g,x)),r.renderTickItem(c,j,h?h(g.value,x):g.value))});return wt.createElement(Ks,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,o=a.axisLine,c=a.tick;return!s||!s.length?null:wt.createElement(Ks,{className:cs("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),c&&this.renderTicks(),_l.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,o){var c;return wt.isValidElement(a)?c=wt.cloneElement(a,s):Qa(a)?c=a(s):c=wt.createElement($h,vm({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),c}}])})(M.PureComponent);n1(a1,"displayName","PolarRadiusAxis");n1(a1,"axisType","radiusAxis");n1(a1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zf(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ph.apply(this,arguments)}function GE(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Ch(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GE(Object(n),!0).forEach(function(a){s1(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function xz(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function qE(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,FP(a.key),a)}}function yz(t,r,n){return r&&qE(t.prototype,r),n&&qE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bz(t,r,n){return r=u0(r),jz(t,TP()?Reflect.construct(r,n||[],u0(t).constructor):r.apply(t,n))}function jz(t,r){if(r&&(zf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wz(t)}function wz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TP=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function Cz(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&aw(t,r)}function aw(t,r){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},aw(t,r)}function s1(t,r,n){return r=FP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function FP(t){var r=Nz(t,"string");return zf(r)=="symbol"?r:r+""}function Nz(t,r){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(zf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bz=Math.PI/180,XE=1e-5,i1=(function(t){function r(){return xz(this,r),bz(this,r,arguments)}return Cz(r,t),yz(r,[{key:"getTickLineCoord",value:function(a){var s=this.props,o=s.cx,c=s.cy,l=s.radius,h=s.orientation,i=s.tickSize,d=i||8,u=Ui(o,c,l,a.coordinate),f=Ui(o,c,l+(h==="inner"?-1:1)*d,a.coordinate);return{x1:u.x,y1:u.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,o=Math.cos(-a.coordinate*Bz),c;return o>XE?c=s==="outer"?"start":"end":o<-XE?c=s==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,o=a.cy,c=a.radius,l=a.axisLine,h=a.axisLineType,i=Ch(Ch({},Ca(this.props,!1)),{},{fill:"none"},Ca(l,!1));if(h==="circle")return wt.createElement(r1,Ph({className:"recharts-polar-angle-axis-line"},i,{cx:s,cy:o,r:c}));var d=this.props.ticks,u=d.map(function(f){return Ui(s,o,c,f.coordinate)});return wt.createElement(K$,Ph({className:"recharts-polar-angle-axis-line"},i,{points:u}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,o=s.ticks,c=s.tick,l=s.tickLine,h=s.tickFormatter,i=s.stroke,d=Ca(this.props,!1),u=Ca(c,!1),f=Ch(Ch({},d),{},{fill:"none"},Ca(l,!1)),m=o.map(function(v,g){var x=a.getTickLineCoord(v),y=a.getTickTextAnchor(v),j=Ch(Ch(Ch({textAnchor:y},d),{},{stroke:"none",fill:i},u),{},{index:g,payload:v,x:x.x2,y:x.y2});return wt.createElement(Ks,Ph({className:cs("recharts-polar-angle-axis-tick",vP(c)),key:"tick-".concat(v.coordinate)},Wh(a.props,v,g)),l&&wt.createElement("line",Ph({className:"recharts-polar-angle-axis-tick-line"},f,x)),c&&r.renderTickItem(c,j,h?h(v.value,g):v.value))});return wt.createElement(Ks,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,s=a.ticks,o=a.radius,c=a.axisLine;return o<=0||!s||!s.length?null:wt.createElement(Ks,{className:cs("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,o){var c;return wt.isValidElement(a)?c=wt.cloneElement(a,s):Qa(a)?c=a(s):c=wt.createElement($h,Ph({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),c}}])})(M.PureComponent);s1(i1,"displayName","PolarAngleAxis");s1(i1,"axisType","angleAxis");s1(i1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nb,YE;function Sz(){if(YE)return nb;YE=1;var t=W3(),r=t(Object.getPrototypeOf,Object);return nb=r,nb}var ab,JE;function Ez(){if(JE)return ab;JE=1;var t=fA(),r=Sz(),n=pA(),a="[object Object]",s=Function.prototype,o=Object.prototype,c=s.toString,l=o.hasOwnProperty,h=c.call(Object);function i(d){if(!n(d)||t(d)!=a)return!1;var u=r(d);if(u===null)return!0;var f=l.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&c.call(f)==h}return ab=i,ab}var Iz=Ez();const kz=Qs(Iz);var sb,ZE;function Tz(){if(ZE)return sb;ZE=1;var t=fA(),r=pA(),n="[object Boolean]";function a(s){return s===!0||s===!1||r(s)&&t(s)==n}return sb=a,sb}var Fz=Tz();const Pz=Qs(Fz);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xm(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},A0.apply(this,arguments)}function Oz(t,r){return Lz(t)||_z(t,r)||Dz(t,r)||Mz()}function Mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(t,r){if(t){if(typeof t=="string")return eI(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(t,r)}}function eI(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function _z(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function Lz(t){if(Array.isArray(t))return t}function tI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function rI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tI(Object(n),!0).forEach(function(a){Uz(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Uz(t,r,n){return r=Rz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Rz(t){var r=Qz(t,"string");return Xm(r)=="symbol"?r:r+""}function Qz(t,r){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var nI=function(r,n,a,s,o){var c=a-s,l;return l="M ".concat(r,",").concat(n),l+="L ".concat(r+a,",").concat(n),l+="L ".concat(r+a-c/2,",").concat(n+o),l+="L ".concat(r+a-c/2-s,",").concat(n+o),l+="L ".concat(r,",").concat(n," Z"),l},Hz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wz=function(r){var n=rI(rI({},Hz),r),a=M.useRef(),s=M.useState(-1),o=Oz(s,2),c=o[0],l=o[1];M.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var h=n.x,i=n.y,d=n.upperWidth,u=n.lowerWidth,f=n.height,m=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(h!==+h||i!==+i||d!==+d||u!==+u||f!==+f||d===0&&u===0||f===0)return null;var j=cs("recharts-trapezoid",m);return y?wt.createElement(Pu,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:f,x:h,y:i},to:{upperWidth:d,lowerWidth:u,height:f,x:h,y:i},duration:g,animationEasing:v,isActive:y},function(N){var T=N.upperWidth,I=N.lowerWidth,C=N.height,D=N.x,_=N.y;return wt.createElement(Pu,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},wt.createElement("path",A0({},Ca(n,!0),{className:j,d:nI(D,_,T,I,C),ref:a})))}):wt.createElement("g",null,wt.createElement("path",A0({},Ca(n,!0),{className:j,d:nI(h,i,d,u,f)})))},$z=["option","shapeType","propTransformer","activeClassName","isActive"];function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(t)}function zz(t,r){if(t==null)return{};var n=Vz(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Vz(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function aI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function h0(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?aI(Object(n),!0).forEach(function(a){Kz(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Kz(t,r,n){return r=Gz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Gz(t){var r=qz(t,"string");return Ym(r)=="symbol"?r:r+""}function qz(t,r){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Xz(t,r){return h0(h0({},r),t)}function Yz(t,r){return t==="symbols"}function sI(t){var r=t.shapeType,n=t.elementProps;switch(r){case"rectangle":return wt.createElement(IC,n);case"trapezoid":return wt.createElement(Wz,n);case"sector":return wt.createElement(bP,n);case"symbols":if(Yz(r))return wt.createElement(Gw,n);break;default:return null}}function Jz(t){return M.isValidElement(t)?t.props:t}function PP(t){var r=t.option,n=t.shapeType,a=t.propTransformer,s=a===void 0?Xz:a,o=t.activeClassName,c=o===void 0?"recharts-active-shape":o,l=t.isActive,h=zz(t,$z),i;if(M.isValidElement(r))i=M.cloneElement(r,h0(h0({},h),Jz(r)));else if(Qa(r))i=r(h);else if(kz(r)&&!Pz(r)){var d=s(r,h);i=wt.createElement(sI,{shapeType:n,elementProps:d})}else{var u=h;i=wt.createElement(sI,{shapeType:n,elementProps:u})}return l?wt.createElement(Ks,{className:c},i):i}function o1(t,r){return r!=null&&"trapezoids"in t.props}function l1(t,r){return r!=null&&"sectors"in t.props}function Jm(t,r){return r!=null&&"points"in t.props}function Zz(t,r){var n,a,s=t.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===r.x,o=t.y===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.y)||t.y===r.y;return s&&o}function eV(t,r){var n=t.endAngle===r.endAngle,a=t.startAngle===r.startAngle;return n&&a}function tV(t,r){var n=t.x===r.x,a=t.y===r.y,s=t.z===r.z;return n&&a&&s}function rV(t,r){var n;return o1(t,r)?n=Zz:l1(t,r)?n=eV:Jm(t,r)&&(n=tV),n}function nV(t,r){var n;return o1(t,r)?n="trapezoids":l1(t,r)?n="sectors":Jm(t,r)&&(n="points"),n}function aV(t,r){if(o1(t,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(l1(t,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Jm(t,r)?r.payload:{}}function sV(t){var r=t.activeTooltipItem,n=t.graphicalItem,a=t.itemData,s=nV(n,r),o=aV(n,r),c=a.filter(function(h,i){var d=hg(o,h),u=n.props[s].filter(function(v){var g=rV(n,r);return g(v,r)}),f=n.props[s].indexOf(u[u.length-1]),m=i===f;return d&&m}),l=a.indexOf(c[c.length-1]);return l}var Cv;function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vf(t)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Sf.apply(this,arguments)}function iI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function _i(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?iI(Object(n),!0).forEach(function(a){$d(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function iV(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function oI(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,MP(a.key),a)}}function oV(t,r,n){return r&&oI(t.prototype,r),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lV(t,r,n){return r=f0(r),cV(t,OP()?Reflect.construct(r,n||[],f0(t).constructor):r.apply(t,n))}function cV(t,r){if(r&&(Vf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dV(t)}function dV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function uV(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&sw(t,r)}function sw(t,r){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sw(t,r)}function $d(t,r,n){return r=MP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function MP(t){var r=AV(t,"string");return Vf(r)=="symbol"?r:r+""}function AV(t,r){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Vf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gA=(function(t){function r(n){var a;return iV(this,r),a=lV(this,r,[n]),$d(a,"pieRef",null),$d(a,"sectorRefs",[]),$d(a,"id",dp("recharts-pie-")),$d(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Qa(s)&&s()}),$d(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Qa(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return uV(r,t),oV(r,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.label,l=o.labelLine,h=o.dataKey,i=o.valueKey,d=Ca(this.props,!1),u=Ca(c,!1),f=Ca(l,!1),m=c&&c.offsetRadius||20,v=a.map(function(g,x){var y=(g.startAngle+g.endAngle)/2,j=Ui(g.cx,g.cy,g.outerRadius+m,y),N=_i(_i(_i(_i({},d),g),{},{stroke:"none"},u),{},{index:x,textAnchor:r.getTextAnchor(j.x,g.cx)},j),T=_i(_i(_i(_i({},d),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[Ui(g.cx,g.cy,g.outerRadius,y),j]}),I=h;return es(h)&&es(i)?I="value":es(h)&&(I=i),wt.createElement(Ks,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&r.renderLabelLineItem(l,T,"line"),r.renderLabelItem(c,N,pl(g,I)))});return wt.createElement(Ks,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,o=this.props,c=o.activeShape,l=o.blendStroke,h=o.inactiveShape;return a.map(function(i,d){if((i==null?void 0:i.startAngle)===0&&(i==null?void 0:i.endAngle)===0&&a.length!==1)return null;var u=s.isActiveIndex(d),f=h&&s.hasActiveIndex()?h:null,m=u?c:f,v=_i(_i({},i),{},{stroke:l?i.fill:i.stroke,tabIndex:-1});return wt.createElement(Ks,Sf({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Wh(s.props,i,d),{key:"sector-".concat(i==null?void 0:i.startAngle,"-").concat(i==null?void 0:i.endAngle,"-").concat(i.midAngle,"-").concat(d)}),wt.createElement(PP,Sf({option:m,isActive:u,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,o=s.sectors,c=s.isAnimationActive,l=s.animationBegin,h=s.animationDuration,i=s.animationEasing,d=s.animationId,u=this.state,f=u.prevSectors,m=u.prevIsAnimationActive;return wt.createElement(Pu,{begin:l,duration:h,isActive:c,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],y=o&&o[0],j=y.startAngle;return o.forEach(function(N,T){var I=f&&f[T],C=T>0?pd(N,"paddingAngle",0):0;if(I){var D=hd(I.endAngle-I.startAngle,N.endAngle-N.startAngle),_=_i(_i({},N),{},{startAngle:j+C,endAngle:j+D(g)+C});x.push(_),j=_.endAngle}else{var Z=N.endAngle,ae=N.startAngle,V=hd(0,Z-ae),ie=V(g),U=_i(_i({},N),{},{startAngle:j+C,endAngle:j+ie+C});x.push(U),j=U.endAngle}}),wt.createElement(Ks,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var c=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,o=a.isAnimationActive,c=this.state.prevSectors;return o&&s&&s.length&&(!c||!hg(c,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,o=s.hide,c=s.sectors,l=s.className,h=s.label,i=s.cx,d=s.cy,u=s.innerRadius,f=s.outerRadius,m=s.isAnimationActive,v=this.state.isAnimationFinished;if(o||!c||!c.length||!An(i)||!An(d)||!An(u)||!An(f))return null;var g=cs("recharts-pie",l);return wt.createElement(Ks,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){a.pieRef=y}},this.renderSectors(),h&&this.renderLabels(c),_l.renderCallByParent(this.props,null,!1),(!m||v)&&dA.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,o){if(wt.isValidElement(a))return wt.cloneElement(a,s);if(Qa(a))return a(s);var c=cs("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return wt.createElement(a0,Sf({},s,{key:o,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,s,o){if(wt.isValidElement(a))return wt.cloneElement(a,s);var c=o;if(Qa(a)&&(c=a(s),wt.isValidElement(c)))return c;var l=cs("recharts-pie-label-text",typeof a!="boolean"&&!Qa(a)?a.className:"");return wt.createElement($h,Sf({},s,{alignmentBaseline:"middle",className:l}),c)}}])})(M.PureComponent);Cv=gA;$d(gA,"displayName","Pie");$d(gA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$d(gA,"parseDeltaAngle",function(t,r){var n=Ic(r-t),a=Math.min(Math.abs(r-t),360);return n*a});$d(gA,"getRealPieData",function(t){var r=t.data,n=t.children,a=Ca(t,!1),s=md(n,$0);return r&&r.length?r.map(function(o,c){return _i(_i(_i({payload:o},a),o),s&&s[c]&&s[c].props)}):s&&s.length?s.map(function(o){return _i(_i({},a),o.props)}):[]});$d(gA,"parseCoordinateOfPie",function(t,r){var n=r.top,a=r.left,s=r.width,o=r.height,c=gP(s,o),l=a+kc(t.cx,s,s/2),h=n+kc(t.cy,o,o/2),i=kc(t.innerRadius,c,0),d=kc(t.outerRadius,c,c*.8),u=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:h,innerRadius:i,outerRadius:d,maxRadius:u}});$d(gA,"getComposedData",function(t){var r=t.item,n=t.offset,a=r.type.defaultProps!==void 0?_i(_i({},r.type.defaultProps),r.props):r.props,s=Cv.getRealPieData(a);if(!s||!s.length)return null;var o=a.cornerRadius,c=a.startAngle,l=a.endAngle,h=a.paddingAngle,i=a.dataKey,d=a.nameKey,u=a.valueKey,f=a.tooltipType,m=Math.abs(a.minAngle),v=Cv.parseCoordinateOfPie(a,n),g=Cv.parseDeltaAngle(c,l),x=Math.abs(g),y=i;es(i)&&es(u)?(Au(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):es(i)&&(Au(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=u);var j=s.filter(function(_){return pl(_,y,0)!==0}).length,N=(x>=360?j:j-1)*h,T=x-j*m-N,I=s.reduce(function(_,Z){var ae=pl(Z,y,0);return _+(An(ae)?ae:0)},0),C;if(I>0){var D;C=s.map(function(_,Z){var ae=pl(_,y,0),V=pl(_,d,Z),ie=(An(ae)?ae:0)/I,U;Z?U=D.endAngle+Ic(g)*h*(ae!==0?1:0):U=c;var G=U+Ic(g)*((ae!==0?m:0)+ie*T),K=(U+G)/2,W=(v.innerRadius+v.outerRadius)/2,Ne=[{name:V,value:ae,payload:_,dataKey:y,type:f}],ge=Ui(v.cx,v.cy,W,K);return D=_i(_i(_i({percent:ie,cornerRadius:o,name:V,tooltipPayload:Ne,midAngle:K,middleRadius:W,tooltipPosition:ge},_),v),{},{value:pl(_,y),startAngle:U,endAngle:G,payload:_,paddingAngle:Ic(g)*h}),D})}return _i(_i({},v),{},{sectors:C,data:s})});var ib,lI;function hV(){if(lI)return ib;lI=1;var t=Math.ceil,r=Math.max;function n(a,s,o,c){for(var l=-1,h=r(t((s-a)/(o||1)),0),i=Array(h);h--;)i[c?h:++l]=a,a+=o;return i}return ib=n,ib}var ob,cI;function DP(){if(cI)return ob;cI=1;var t=sF(),r=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=t(s),s===r||s===-r){var o=s<0?-1:1;return o*n}return s===s?s:0}return ob=a,ob}var lb,dI;function fV(){if(dI)return lb;dI=1;var t=hV(),r=W0(),n=DP();function a(s){return function(o,c,l){return l&&typeof l!="number"&&r(o,c,l)&&(c=l=void 0),o=n(o),c===void 0?(c=o,o=0):c=n(c),l=l===void 0?o<c?1:-1:n(l),t(o,c,l,s)}}return lb=a,lb}var cb,uI;function pV(){if(uI)return cb;uI=1;var t=fV(),r=t();return cb=r,cb}var mV=pV();const p0=Qs(mV);function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(t)}function AI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function hI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?AI(Object(n),!0).forEach(function(a){_P(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _P(t,r,n){return r=gV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function gV(t){var r=vV(t,"string");return Zm(r)=="symbol"?r:r+""}function vV(t,r){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var xV=["Webkit","Moz","O","ms"],yV=function(r,n){var a=r.replace(/(\w)/,function(o){return o.toUpperCase()}),s=xV.reduce(function(o,c){return hI(hI({},o),{},_P({},c+a,n))},{});return s[r]=n,s};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kf(t)}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},m0.apply(this,arguments)}function fI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function db(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fI(Object(n),!0).forEach(function(a){dd(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function bV(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function pI(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,UP(a.key),a)}}function jV(t,r,n){return r&&pI(t.prototype,r),n&&pI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wV(t,r,n){return r=g0(r),CV(t,LP()?Reflect.construct(r,n||[],g0(t).constructor):r.apply(t,n))}function CV(t,r){if(r&&(Kf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NV(t)}function NV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(t)}function BV(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&iw(t,r)}function iw(t,r){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iw(t,r)}function dd(t,r,n){return r=UP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function UP(t){var r=SV(t,"string");return Kf(r)=="symbol"?r:r+""}function SV(t,r){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Kf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EV=function(r){var n=r.data,a=r.startIndex,s=r.endIndex,o=r.x,c=r.width,l=r.travellerWidth;if(!n||!n.length)return{};var h=n.length,i=fm().domain(p0(0,h)).range([o,o+c-l]),d=i.domain().map(function(u){return i(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:i(a),endX:i(s),scale:i,scaleValues:d}},mI=function(r){return r.changedTouches&&!!r.changedTouches.length},Gf=(function(t){function r(n){var a;return bV(this,r),a=wV(this,r,[n]),dd(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),dd(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),dd(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,o=s.endIndex,c=s.onDragEnd,l=s.startIndex;c==null||c({endIndex:o,startIndex:l})}),a.detachDragEndListener()}),dd(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),dd(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),dd(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),dd(a,"handleSlideDragStart",function(s){var o=mI(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return BV(r,t),jV(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,o=a.endX,c=this.state.scaleValues,l=this.props,h=l.gap,i=l.data,d=i.length-1,u=Math.min(s,o),f=Math.max(s,o),m=r.getIndexInRange(c,u),v=r.getIndexInRange(c,f);return{startIndex:m-m%h,endIndex:v===d?d:v-v%h}}},{key:"getTextOfTick",value:function(a){var s=this.props,o=s.data,c=s.tickFormatter,l=s.dataKey,h=pl(o[a],l,a);return Qa(c)?c(h,a):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,o=s.slideMoveStartX,c=s.startX,l=s.endX,h=this.props,i=h.x,d=h.width,u=h.travellerWidth,f=h.startIndex,m=h.endIndex,v=h.onChange,g=a.pageX-o;g>0?g=Math.min(g,i+d-u-l,i+d-u-c):g<0&&(g=Math.max(g,i-c,i-l));var x=this.getIndex({startX:c+g,endX:l+g});(x.startIndex!==f||x.endIndex!==m)&&v&&v(x),this.setState({startX:c+g,endX:l+g,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var o=mI(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,o=s.brushMoveStartX,c=s.movingTravellerId,l=s.endX,h=s.startX,i=this.state[c],d=this.props,u=d.x,f=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},j=a.pageX-o;j>0?j=Math.min(j,u+f-m-i):j<0&&(j=Math.max(j,u-i)),y[c]=i+j;var N=this.getIndex(y),T=N.startIndex,I=N.endIndex,C=function(){var _=x.length-1;return c==="startX"&&(l>h?T%g===0:I%g===0)||l<h&&I===_||c==="endX"&&(l>h?I%g===0:T%g===0)||l>h&&I===_};this.setState(dd(dd({},c,i+j),"brushMoveStartX",a.pageX),function(){v&&C()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var o=this,c=this.state,l=c.scaleValues,h=c.startX,i=c.endX,d=this.state[s],u=l.indexOf(d);if(u!==-1){var f=u+a;if(!(f===-1||f>=l.length)){var m=l[f];s==="startX"&&m>=i||s==="endX"&&m<=h||this.setState(dd({},s,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,o=a.y,c=a.width,l=a.height,h=a.fill,i=a.stroke;return wt.createElement("rect",{stroke:i,fill:h,x:s,y:o,width:c,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,o=a.y,c=a.width,l=a.height,h=a.data,i=a.children,d=a.padding,u=M.Children.only(i);return u?wt.cloneElement(u,{x:s,y:o,width:c,height:l,margin:d,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(a,s){var o,c,l=this,h=this.props,i=h.y,d=h.travellerWidth,u=h.height,f=h.traveller,m=h.ariaLabel,v=h.data,g=h.startIndex,x=h.endIndex,y=Math.max(a,this.props.x),j=db(db({},Ca(this.props,!1)),{},{x:y,y:i,width:d,height:u}),N=m||"Min value: ".concat((o=v[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((c=v[x])===null||c===void 0?void 0:c.name);return wt.createElement(Ks,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(f,j))}},{key:"renderSlide",value:function(a,s){var o=this.props,c=o.y,l=o.height,h=o.stroke,i=o.travellerWidth,d=Math.min(a,s)+i,u=Math.max(Math.abs(s-a)-i,0);return wt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:d,y:c,width:u,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,o=a.endIndex,c=a.y,l=a.height,h=a.travellerWidth,i=a.stroke,d=this.state,u=d.startX,f=d.endX,m=5,v={pointerEvents:"none",fill:i};return wt.createElement(Ks,{className:"recharts-brush-texts"},wt.createElement($h,m0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,f)-m,y:c+l/2},v),this.getTextOfTick(s)),wt.createElement($h,m0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,f)+h+m,y:c+l/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var a=this.props,s=a.data,o=a.className,c=a.children,l=a.x,h=a.y,i=a.width,d=a.height,u=a.alwaysShowText,f=this.state,m=f.startX,v=f.endX,g=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,j=f.isTravellerFocused;if(!s||!s.length||!An(l)||!An(h)||!An(i)||!An(d)||i<=0||d<=0)return null;var N=cs("recharts-brush",o),T=wt.Children.count(c)===1,I=yV("userSelect","none");return wt.createElement(Ks,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||y||j||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,o=a.y,c=a.width,l=a.height,h=a.stroke,i=Math.floor(o+l/2)-1;return wt.createElement(wt.Fragment,null,wt.createElement("rect",{x:s,y:o,width:c,height:l,fill:h,stroke:"none"}),wt.createElement("line",{x1:s+1,y1:i,x2:s+c-1,y2:i,fill:"none",stroke:"#fff"}),wt.createElement("line",{x1:s+1,y1:i+2,x2:s+c-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var o;return wt.isValidElement(a)?o=wt.cloneElement(a,s):Qa(a)?o=a(s):o=r.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(a,s){var o=a.data,c=a.width,l=a.x,h=a.travellerWidth,i=a.updateId,d=a.startIndex,u=a.endIndex;if(o!==s.prevData||i!==s.prevUpdateId)return db({prevData:o,prevTravellerWidth:h,prevUpdateId:i,prevX:l,prevWidth:c},o&&o.length?EV({data:o,width:c,x:l,travellerWidth:h,startIndex:d,endIndex:u}):{scale:null,scaleValues:null});if(s.scale&&(c!==s.prevWidth||l!==s.prevX||h!==s.prevTravellerWidth)){s.scale.range([l,l+c-h]);var f=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:o,prevTravellerWidth:h,prevUpdateId:i,prevX:l,prevWidth:c,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,s){for(var o=a.length,c=0,l=o-1;l-c>1;){var h=Math.floor((c+l)/2);a[h]>s?l=h:c=h}return s>=a[l]?l:c}}])})(M.PureComponent);dd(Gf,"displayName","Brush");dd(Gf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ub,gI;function IV(){if(gI)return ub;gI=1;var t=tC();function r(n,a){var s;return t(n,function(o,c,l){return s=a(o,c,l),!s}),!!s}return ub=r,ub}var Ab,vI;function kV(){if(vI)return Ab;vI=1;var t=D3(),r=Mu(),n=IV(),a=Vc(),s=W0();function o(c,l,h){var i=a(c)?t:n;return h&&s(c,l,h)&&(l=void 0),i(c,r(l,3))}return Ab=o,Ab}var TV=kV();const FV=Qs(TV);var Tu=function(r,n){var a=r.alwaysShow,s=r.ifOverflow;return a&&(s="extendDomain"),s===n},hb,xI;function PV(){if(xI)return hb;xI=1;var t=eF();function r(n,a,s){a=="__proto__"&&t?t(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return hb=r,hb}var fb,yI;function OV(){if(yI)return fb;yI=1;var t=PV(),r=J3(),n=Mu();function a(s,o){var c={};return o=n(o,3),r(s,function(l,h,i){t(c,h,o(l,h,i))}),c}return fb=a,fb}var MV=OV();const DV=Qs(MV);var pb,bI;function _V(){if(bI)return pb;bI=1;function t(r,n){for(var a=-1,s=r==null?0:r.length;++a<s;)if(!n(r[a],a,r))return!1;return!0}return pb=t,pb}var mb,jI;function LV(){if(jI)return mb;jI=1;var t=tC();function r(n,a){var s=!0;return t(n,function(o,c,l){return s=!!a(o,c,l),s}),s}return mb=r,mb}var gb,wI;function UV(){if(wI)return gb;wI=1;var t=_V(),r=LV(),n=Mu(),a=Vc(),s=W0();function o(c,l,h){var i=a(c)?t:r;return h&&s(c,l,h)&&(l=void 0),i(c,n(l,3))}return gb=o,gb}var RV=UV();const RP=Qs(RV);var QV=["x","y"];function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eg(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ow.apply(this,arguments)}function CI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Ip(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CI(Object(n),!0).forEach(function(a){HV(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function HV(t,r,n){return r=WV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function WV(t){var r=$V(t,"string");return eg(r)=="symbol"?r:r+""}function $V(t,r){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zV(t,r){if(t==null)return{};var n=VV(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function VV(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function KV(t,r){var n=t.x,a=t.y,s=zV(t,QV),o="".concat(n),c=parseInt(o,10),l="".concat(a),h=parseInt(l,10),i="".concat(r.height||s.height),d=parseInt(i,10),u="".concat(r.width||s.width),f=parseInt(u,10);return Ip(Ip(Ip(Ip(Ip({},r),s),c?{x:c}:{}),h?{y:h}:{}),{},{height:d,width:f,name:r.name,radius:r.radius})}function NI(t){return wt.createElement(PP,ow({shapeType:"rectangle",propTransformer:KV,activeClassName:"recharts-active-bar"},t))}var GV=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof r=="number")return r;var o=typeof a=="number";return o?r(a,s):(o||Vh(),n)}},qV=["value","background"],QP;function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qf(t)}function XV(t,r){if(t==null)return{};var n=YV(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function YV(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},v0.apply(this,arguments)}function BI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Yo(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?BI(Object(n),!0).forEach(function(a){KA(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function JV(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function SI(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,WP(a.key),a)}}function ZV(t,r,n){return r&&SI(t.prototype,r),n&&SI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t,r,n){return r=x0(r),tK(t,HP()?Reflect.construct(r,n||[],x0(t).constructor):r.apply(t,n))}function tK(t,r){if(r&&(qf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(t)}function nK(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&lw(t,r)}function lw(t,r){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lw(t,r)}function KA(t,r,n){return r=WP(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function WP(t){var r=aK(t,"string");return qf(r)=="symbol"?r:r+""}function aK(t,r){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(qf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zh=(function(t){function r(){var n;JV(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=eK(this,r,[].concat(s)),KA(n,"state",{isAnimationFinished:!1}),KA(n,"id",dp("recharts-bar-")),KA(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),KA(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return nK(r,t),ZV(r,[{key:"renderRectanglesStatically",value:function(a){var s=this,o=this.props,c=o.shape,l=o.dataKey,h=o.activeIndex,i=o.activeBar,d=Ca(this.props,!1);return a&&a.map(function(u,f){var m=f===h,v=m?i:c,g=Yo(Yo(Yo({},d),u),{},{isActive:m,option:v,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return wt.createElement(Ks,v0({className:"recharts-bar-rectangle"},Wh(s.props,u,f),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),wt.createElement(NI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,o=s.data,c=s.layout,l=s.isAnimationActive,h=s.animationBegin,i=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state.prevData;return wt.createElement(Pu,{begin:h,duration:i,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=o.map(function(x,y){var j=f&&f[y];if(j){var N=hd(j.x,x.x),T=hd(j.y,x.y),I=hd(j.width,x.width),C=hd(j.height,x.height);return Yo(Yo({},x),{},{x:N(v),y:T(v),width:I(v),height:C(v)})}if(c==="horizontal"){var D=hd(0,x.height),_=D(v);return Yo(Yo({},x),{},{y:x.y+x.height-_,height:_})}var Z=hd(0,x.width),ae=Z(v);return Yo(Yo({},x),{},{width:ae})});return wt.createElement(Ks,null,a.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,o=a.isAnimationActive,c=this.state.prevData;return o&&s&&s.length&&(!c||!hg(c,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,o=s.data,c=s.dataKey,l=s.activeIndex,h=Ca(this.props.background,!1);return o.map(function(i,d){i.value;var u=i.background,f=XV(i,qV);if(!u)return null;var m=Yo(Yo(Yo(Yo(Yo({},f),{},{fill:"#eee"},u),h),Wh(a.props,i,d)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:d,className:"recharts-bar-background-rectangle"});return wt.createElement(NI,v0({key:"background-bar-".concat(d),option:a.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.data,l=o.xAxis,h=o.yAxis,i=o.layout,d=o.children,u=md(d,fg);if(!u)return null;var f=i==="vertical"?c[0].height/2:c[0].width/2,m=function(x,y){var j=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:j,errorVal:pl(x,y)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return wt.createElement(Ks,v,u.map(function(g){return wt.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:c,xAxis:l,yAxis:h,layout:i,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,o=a.data,c=a.className,l=a.xAxis,h=a.yAxis,i=a.left,d=a.top,u=a.width,f=a.height,m=a.isAnimationActive,v=a.background,g=a.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=cs("recharts-bar",c),j=l&&l.allowDataOverflow,N=h&&h.allowDataOverflow,T=j||N,I=es(g)?this.id:g;return wt.createElement(Ks,{className:y},j||N?wt.createElement("defs",null,wt.createElement("clipPath",{id:"clipPath-".concat(I)},wt.createElement("rect",{x:j?i:i-u/2,y:N?d:d-f/2,width:j?u:u*2,height:N?f:f*2}))):null,wt.createElement(Ks,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(I,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,I),(!m||x)&&dA.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(M.PureComponent);QP=Zh;KA(Zh,"displayName","Bar");KA(Zh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});KA(Zh,"getComposedData",function(t){var r=t.props,n=t.item,a=t.barPosition,s=t.bandSize,o=t.xAxis,c=t.yAxis,l=t.xAxisTicks,h=t.yAxisTicks,i=t.stackedData,d=t.dataStartIndex,u=t.displayedData,f=t.offset,m=IH(a,n);if(!m)return null;var v=r.layout,g=n.type.defaultProps,x=g!==void 0?Yo(Yo({},g),n.props):n.props,y=x.dataKey,j=x.children,N=x.minPointSize,T=v==="horizontal"?c:o,I=i?T.scale.domain():null,C=DH({numericAxis:T}),D=md(j,$0),_=u.map(function(Z,ae){var V,ie,U,G,K,W;i?V=kH(i[d+ae],I):(V=pl(Z,y),Array.isArray(V)||(V=[C,V]));var Ne=GV(N,QP.defaultProps.minPointSize)(V[1],ae);if(v==="horizontal"){var ge,Ee=[c.scale(V[0]),c.scale(V[1])],Fe=Ee[0],he=Ee[1];ie=tE({axis:o,ticks:l,bandSize:s,offset:m.offset,entry:Z,index:ae}),U=(ge=he??Fe)!==null&&ge!==void 0?ge:void 0,G=m.size;var le=Fe-he;if(K=Number.isNaN(le)?0:le,W={x:ie,y:c.y,width:G,height:c.height},Math.abs(Ne)>0&&Math.abs(K)<Math.abs(Ne)){var ve=Ic(K||Ne)*(Math.abs(Ne)-Math.abs(K));U-=ve,K+=ve}}else{var se=[o.scale(V[0]),o.scale(V[1])],re=se[0],Ie=se[1];if(ie=re,U=tE({axis:c,ticks:h,bandSize:s,offset:m.offset,entry:Z,index:ae}),G=Ie-re,K=m.size,W={x:o.x,y:U,width:o.width,height:K},Math.abs(Ne)>0&&Math.abs(G)<Math.abs(Ne)){var Te=Ic(G||Ne)*(Math.abs(Ne)-Math.abs(G));G+=Te}}return Yo(Yo(Yo({},Z),{},{x:ie,y:U,width:G,height:K,value:i?V:V[1],payload:Z,background:W},D&&D[ae]&&D[ae].props),{},{tooltipPayload:[pP(n,Z)],tooltipPosition:{x:ie+G/2,y:U+K/2}})});return Yo({data:_,layout:v},f)});function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tg(t)}function sK(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function EI(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,$P(a.key),a)}}function iK(t,r,n){return r&&EI(t.prototype,r),n&&EI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function II(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function cu(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?II(Object(n),!0).forEach(function(a){c1(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function c1(t,r,n){return r=$P(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function $P(t){var r=oK(t,"string");return tg(r)=="symbol"?r:r+""}function oK(t,r){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var zP=function(r,n,a,s,o){var c=r.width,l=r.height,h=r.layout,i=r.children,d=Object.keys(n),u={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},f=!!ud(i,Zh);return d.reduce(function(m,v){var g=n[v],x=g.orientation,y=g.domain,j=g.padding,N=j===void 0?{}:j,T=g.mirror,I=g.reversed,C="".concat(x).concat(T?"Mirror":""),D,_,Z,ae,V;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var ie=y[1]-y[0],U=1/0,G=g.categoricalDomain.sort();if(G.forEach(function(se,re){re>0&&(U=Math.min((se||0)-(G[re-1]||0),U))}),Number.isFinite(U)){var K=U/ie,W=g.layout==="vertical"?a.height:a.width;if(g.padding==="gap"&&(D=K*W/2),g.padding==="no-gap"){var Ne=kc(r.barCategoryGap,K*W),ge=K*W/2;D=ge-Ne-(ge-Ne)/W*Ne}}}s==="xAxis"?_=[a.left+(N.left||0)+(D||0),a.left+a.width-(N.right||0)-(D||0)]:s==="yAxis"?_=h==="horizontal"?[a.top+a.height-(N.bottom||0),a.top+(N.top||0)]:[a.top+(N.top||0)+(D||0),a.top+a.height-(N.bottom||0)-(D||0)]:_=g.range,I&&(_=[_[1],_[0]]);var Ee=uP(g,o,f),Fe=Ee.scale,he=Ee.realScaleType;Fe.domain(y).range(_),AP(Fe);var le=hP(Fe,cu(cu({},g),{},{realScaleType:he}));s==="xAxis"?(V=x==="top"&&!T||x==="bottom"&&T,Z=a.left,ae=u[C]-V*g.height):s==="yAxis"&&(V=x==="left"&&!T||x==="right"&&T,Z=u[C]-V*g.width,ae=a.top);var ve=cu(cu(cu({},g),le),{},{realScaleType:he,x:Z,y:ae,scale:Fe,width:s==="xAxis"?a.width:g.width,height:s==="yAxis"?a.height:g.height});return ve.bandSize=t0(ve,le),!g.hide&&s==="xAxis"?u[C]+=(V?-1:1)*ve.height:g.hide||(u[C]+=(V?-1:1)*ve.width),cu(cu({},m),{},c1({},v,ve))},{})},VP=function(r,n){var a=r.x,s=r.y,o=n.x,c=n.y;return{x:Math.min(a,o),y:Math.min(s,c),width:Math.abs(o-a),height:Math.abs(c-s)}},lK=function(r){var n=r.x1,a=r.y1,s=r.x2,o=r.y2;return VP({x:n,y:a},{x:s,y:o})},KP=(function(){function t(r){sK(this,t),this.scale=r}return iK(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var h=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+h}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],o=a[a.length-1];return s<=o?n>=s&&n<=o:n>=o&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])})();c1(KP,"EPS",1e-4);var kC=function(r){var n=Object.keys(r).reduce(function(a,s){return cu(cu({},a),{},c1({},s,KP.create(r[s])))},{});return cu(cu({},n),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.bandAware,l=o.position;return DV(s,function(h,i){return n[i].apply(h,{bandAware:c,position:l})})},isInRange:function(s){return RP(s,function(o,c){return n[c].isInRange(o)})}})};function cK(t){return(t%180+180)%180}var dK=function(r){var n=r.width,a=r.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=cK(s),c=o*Math.PI/180,l=Math.atan(a/n),h=c>l&&c<Math.PI-l?a/Math.sin(c):n/Math.cos(c);return Math.abs(h)},vb,kI;function uK(){if(kI)return vb;kI=1;var t=Mu(),r=lg(),n=Q0();function a(s){return function(o,c,l){var h=Object(o);if(!r(o)){var i=t(c,3);o=n(o),c=function(u){return i(h[u],u,h)}}var d=s(o,c,l);return d>-1?h[i?o[d]:d]:void 0}}return vb=a,vb}var xb,TI;function AK(){if(TI)return xb;TI=1;var t=DP();function r(n){var a=t(n),s=a%1;return a===a?s?a-s:a:0}return xb=r,xb}var yb,FI;function hK(){if(FI)return yb;FI=1;var t=K3(),r=Mu(),n=AK(),a=Math.max;function s(o,c,l){var h=o==null?0:o.length;if(!h)return-1;var i=l==null?0:n(l);return i<0&&(i=a(h+i,0)),t(o,r(c,3),i)}return yb=s,yb}var bb,PI;function fK(){if(PI)return bb;PI=1;var t=uK(),r=hK(),n=t(r);return bb=n,bb}var pK=fK();const mK=Qs(pK);var gK=c3();const vK=Qs(gK);var xK=vK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),TC=M.createContext(void 0),FC=M.createContext(void 0),GP=M.createContext(void 0),qP=M.createContext({}),XP=M.createContext(void 0),YP=M.createContext(0),JP=M.createContext(0),OI=function(r){var n=r.state,a=n.xAxisMap,s=n.yAxisMap,o=n.offset,c=r.clipPathId,l=r.children,h=r.width,i=r.height,d=xK(o);return wt.createElement(TC.Provider,{value:a},wt.createElement(FC.Provider,{value:s},wt.createElement(qP.Provider,{value:o},wt.createElement(GP.Provider,{value:d},wt.createElement(XP.Provider,{value:c},wt.createElement(YP.Provider,{value:i},wt.createElement(JP.Provider,{value:h},l)))))))},yK=function(){return M.useContext(XP)},ZP=function(r){var n=M.useContext(TC);n==null&&Vh();var a=n[r];return a==null&&Vh(),a},bK=function(){var r=M.useContext(TC);return zA(r)},jK=function(){var r=M.useContext(FC),n=mK(r,function(a){return RP(a.domain,Number.isFinite)});return n||zA(r)},eO=function(r){var n=M.useContext(FC);n==null&&Vh();var a=n[r];return a==null&&Vh(),a},wK=function(){var r=M.useContext(GP);return r},CK=function(){return M.useContext(qP)},PC=function(){return M.useContext(JP)},OC=function(){return M.useContext(YP)};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xf(t)}function NK(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function BK(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,rO(a.key),a)}}function SK(t,r,n){return r&&BK(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EK(t,r,n){return r=y0(r),IK(t,tO()?Reflect.construct(r,n||[],y0(t).constructor):r.apply(t,n))}function IK(t,r){if(r&&(Xf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kK(t)}function kK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(t)}function TK(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&cw(t,r)}function cw(t,r){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cw(t,r)}function MI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function DI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?MI(Object(n),!0).forEach(function(a){MC(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function MC(t,r,n){return r=rO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function rO(t){var r=FK(t,"string");return Xf(r)=="symbol"?r:r+""}function FK(t,r){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Xf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PK(t,r){return _K(t)||DK(t,r)||MK(t,r)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,r){if(t){if(typeof t=="string")return _I(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _I(t,r)}}function _I(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function DK(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function _K(t){if(Array.isArray(t))return t}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},dw.apply(this,arguments)}var LK=function(r,n){var a;return wt.isValidElement(r)?a=wt.cloneElement(r,n):Qa(r)?a=r(n):a=wt.createElement("line",dw({},n,{className:"recharts-reference-line-line"})),a},UK=function(r,n,a,s,o,c,l,h,i){var d=o.x,u=o.y,f=o.width,m=o.height;if(a){var v=i.y,g=r.y.apply(v,{position:c});if(Tu(i,"discard")&&!r.y.isInRange(g))return null;var x=[{x:d+f,y:g},{x:d,y:g}];return h==="left"?x.reverse():x}if(n){var y=i.x,j=r.x.apply(y,{position:c});if(Tu(i,"discard")&&!r.x.isInRange(j))return null;var N=[{x:j,y:u+m},{x:j,y:u}];return l==="top"?N.reverse():N}if(s){var T=i.segment,I=T.map(function(C){return r.apply(C,{position:c})});return Tu(i,"discard")&&FV(I,function(C){return!r.isInRange(C)})?null:I}return null};function RK(t){var r=t.x,n=t.y,a=t.segment,s=t.xAxisId,o=t.yAxisId,c=t.shape,l=t.className,h=t.alwaysShow,i=yK(),d=ZP(s),u=eO(o),f=wK();if(!i||!f)return null;Au(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=kC({x:d.scale,y:u.scale}),v=ml(r),g=ml(n),x=a&&a.length===2,y=UK(m,v,g,x,f,t.position,d.orientation,u.orientation,t);if(!y)return null;var j=PK(y,2),N=j[0],T=N.x,I=N.y,C=j[1],D=C.x,_=C.y,Z=Tu(t,"hidden")?"url(#".concat(i,")"):void 0,ae=DI(DI({clipPath:Z},Ca(t,!0)),{},{x1:T,y1:I,x2:D,y2:_});return wt.createElement(Ks,{className:cs("recharts-reference-line",l)},LK(c,ae),_l.renderCallByParent(t,lK({x1:T,y1:I,x2:D,y2:_})))}var DC=(function(t){function r(){return NK(this,r),EK(this,r,arguments)}return TK(r,t),SK(r,[{key:"render",value:function(){return wt.createElement(RK,this.props)}}])})(wt.Component);MC(DC,"displayName","ReferenceLine");MC(DC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},uw.apply(this,arguments)}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yf(t)}function LI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function UI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?LI(Object(n),!0).forEach(function(a){d1(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function QK(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function HK(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,aO(a.key),a)}}function WK(t,r,n){return r&&HK(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $K(t,r,n){return r=b0(r),zK(t,nO()?Reflect.construct(r,n||[],b0(t).constructor):r.apply(t,n))}function zK(t,r){if(r&&(Yf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VK(t)}function VK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b0(t)}function KK(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Aw(t,r)}function Aw(t,r){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Aw(t,r)}function d1(t,r,n){return r=aO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function aO(t){var r=GK(t,"string");return Yf(r)=="symbol"?r:r+""}function GK(t,r){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Yf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qK=function(r){var n=r.x,a=r.y,s=r.xAxis,o=r.yAxis,c=kC({x:s.scale,y:o.scale}),l=c.apply({x:n,y:a},{bandAware:!0});return Tu(r,"discard")&&!c.isInRange(l)?null:l},u1=(function(t){function r(){return QK(this,r),$K(this,r,arguments)}return KK(r,t),WK(r,[{key:"render",value:function(){var a=this.props,s=a.x,o=a.y,c=a.r,l=a.alwaysShow,h=a.clipPathId,i=ml(s),d=ml(o);if(Au(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!i||!d)return null;var u=qK(this.props);if(!u)return null;var f=u.x,m=u.y,v=this.props,g=v.shape,x=v.className,y=Tu(this.props,"hidden")?"url(#".concat(h,")"):void 0,j=UI(UI({clipPath:y},Ca(this.props,!0)),{},{cx:f,cy:m});return wt.createElement(Ks,{className:cs("recharts-reference-dot",x)},r.renderDot(g,j),_l.renderCallByParent(this.props,{x:f-c,y:m-c,width:2*c,height:2*c}))}}])})(wt.Component);d1(u1,"displayName","ReferenceDot");d1(u1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});d1(u1,"renderDot",function(t,r){var n;return wt.isValidElement(t)?n=wt.cloneElement(t,r):Qa(t)?n=t(r):n=wt.createElement(r1,uw({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hw.apply(this,arguments)}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jf(t)}function RI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function QI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?RI(Object(n),!0).forEach(function(a){A1(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function XK(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function YK(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,iO(a.key),a)}}function JK(t,r,n){return r&&YK(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZK(t,r,n){return r=j0(r),eG(t,sO()?Reflect.construct(r,n||[],j0(t).constructor):r.apply(t,n))}function eG(t,r){if(r&&(Jf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tG(t)}function tG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function rG(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&fw(t,r)}function fw(t,r){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fw(t,r)}function A1(t,r,n){return r=iO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function iO(t){var r=nG(t,"string");return Jf(r)=="symbol"?r:r+""}function nG(t,r){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Jf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aG=function(r,n,a,s,o){var c=o.x1,l=o.x2,h=o.y1,i=o.y2,d=o.xAxis,u=o.yAxis;if(!d||!u)return null;var f=kC({x:d.scale,y:u.scale}),m={x:r?f.x.apply(c,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(h,{position:"start"}):f.y.rangeMin},v={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(i,{position:"end"}):f.y.rangeMax};return Tu(o,"discard")&&(!f.isInRange(m)||!f.isInRange(v))?null:VP(m,v)},h1=(function(t){function r(){return XK(this,r),ZK(this,r,arguments)}return rG(r,t),JK(r,[{key:"render",value:function(){var a=this.props,s=a.x1,o=a.x2,c=a.y1,l=a.y2,h=a.className,i=a.alwaysShow,d=a.clipPathId;Au(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ml(s),f=ml(o),m=ml(c),v=ml(l),g=this.props.shape;if(!u&&!f&&!m&&!v&&!g)return null;var x=aG(u,f,m,v,this.props);if(!x&&!g)return null;var y=Tu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return wt.createElement(Ks,{className:cs("recharts-reference-area",h)},r.renderRect(g,QI(QI({clipPath:y},Ca(this.props,!0)),x)),_l.renderCallByParent(this.props,x))}}])})(wt.Component);A1(h1,"displayName","ReferenceArea");A1(h1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});A1(h1,"renderRect",function(t,r){var n;return wt.isValidElement(t)?n=wt.cloneElement(t,r):Qa(t)?n=t(r):n=wt.createElement(IC,hw({},r,{className:"recharts-reference-area-rect"})),n});function oO(t,r,n){if(r<1)return[];if(r===1&&n===void 0)return t;for(var a=[],s=0;s<t.length;s+=r)a.push(t[s]);return a}function sG(t,r,n){var a={width:t.width+r.width,height:t.height+r.height};return dK(a,n)}function iG(t,r,n){var a=n==="width",s=t.x,o=t.y,c=t.width,l=t.height;return r===1?{start:a?s:o,end:a?s+c:o+l}:{start:a?s+c:o+l,end:a?s:o}}function w0(t,r,n,a,s){if(t*r<t*a||t*r>t*s)return!1;var o=n();return t*(r-t*o/2-a)>=0&&t*(r+t*o/2-s)<=0}function oG(t,r){return oO(t,r+1)}function lG(t,r,n,a,s){for(var o=(a||[]).slice(),c=r.start,l=r.end,h=0,i=1,d=c,u=function(){var v=a==null?void 0:a[h];if(v===void 0)return{v:oO(a,i)};var g=h,x,y=function(){return x===void 0&&(x=n(v,g)),x},j=v.coordinate,N=h===0||w0(t,j,y,d,l);N||(h=0,d=c,i+=1),N&&(d=j+t*(y()/2+s),h+=i)},f;i<=o.length;)if(f=u(),f)return f.v;return[]}function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rg(t)}function HI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function uc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HI(Object(n),!0).forEach(function(a){cG(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function cG(t,r,n){return r=dG(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function dG(t){var r=uG(t,"string");return rg(r)=="symbol"?r:r+""}function uG(t,r){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function AG(t,r,n,a,s){for(var o=(a||[]).slice(),c=o.length,l=r.start,h=r.end,i=function(f){var m=o[f],v,g=function(){return v===void 0&&(v=n(m,f)),v};if(f===c-1){var x=t*(m.coordinate+t*g()/2-h);o[f]=m=uc(uc({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else o[f]=m=uc(uc({},m),{},{tickCoord:m.coordinate});var y=w0(t,m.tickCoord,g,l,h);y&&(h=m.tickCoord-t*(g()/2+s),o[f]=uc(uc({},m),{},{isShow:!0}))},d=c-1;d>=0;d--)i(d);return o}function hG(t,r,n,a,s,o){var c=(a||[]).slice(),l=c.length,h=r.start,i=r.end;if(o){var d=a[l-1],u=n(d,l-1),f=t*(d.coordinate+t*u/2-i);c[l-1]=d=uc(uc({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var m=w0(t,d.tickCoord,function(){return u},h,i);m&&(i=d.tickCoord-t*(u/2+s),c[l-1]=uc(uc({},d),{},{isShow:!0}))}for(var v=o?l-1:l,g=function(j){var N=c[j],T,I=function(){return T===void 0&&(T=n(N,j)),T};if(j===0){var C=t*(N.coordinate-t*I()/2-h);c[j]=N=uc(uc({},N),{},{tickCoord:C<0?N.coordinate-C*t:N.coordinate})}else c[j]=N=uc(uc({},N),{},{tickCoord:N.coordinate});var D=w0(t,N.tickCoord,I,h,i);D&&(h=N.tickCoord+t*(I()/2+s),c[j]=uc(uc({},N),{},{isShow:!0}))},x=0;x<v;x++)g(x);return c}function _C(t,r,n){var a=t.tick,s=t.ticks,o=t.viewBox,c=t.minTickGap,l=t.orientation,h=t.interval,i=t.tickFormatter,d=t.unit,u=t.angle;if(!s||!s.length||!a)return[];if(An(h)||qh.isSsr)return oG(s,typeof h=="number"&&An(h)?h:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?hm(d,{fontSize:r,letterSpacing:n}):{width:0,height:0},g=function(N,T){var I=Qa(i)?i(N.value,T):N.value;return m==="width"?sG(hm(I,{fontSize:r,letterSpacing:n}),v,u):hm(I,{fontSize:r,letterSpacing:n})[m]},x=s.length>=2?Ic(s[1].coordinate-s[0].coordinate):1,y=iG(o,x,m);return h==="equidistantPreserveStart"?lG(x,y,g,s,c):(h==="preserveStart"||h==="preserveStartEnd"?f=hG(x,y,g,s,c,h==="preserveStartEnd"):f=AG(x,y,g,s,c),f.filter(function(j){return j.isShow}))}var fG=["viewBox"],pG=["viewBox"],mG=["ticks"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zf(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ef.apply(this,arguments)}function WI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Sc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?WI(Object(n),!0).forEach(function(a){LC(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function jb(t,r){if(t==null)return{};var n=gG(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function gG(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function vG(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function $I(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,cO(a.key),a)}}function xG(t,r,n){return r&&$I(t.prototype,r),n&&$I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yG(t,r,n){return r=C0(r),bG(t,lO()?Reflect.construct(r,n||[],C0(t).constructor):r.apply(t,n))}function bG(t,r){if(r&&(Zf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jG(t)}function jG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lO=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function wG(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&pw(t,r)}function pw(t,r){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},pw(t,r)}function LC(t,r,n){return r=cO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function cO(t){var r=CG(t,"string");return Zf(r)=="symbol"?r:r+""}function CG(t,r){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Zf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pp=(function(t){function r(n){var a;return vG(this,r),a=yG(this,r,[n]),a.state={fontSize:"",letterSpacing:""},a}return wG(r,t),xG(r,[{key:"shouldComponentUpdate",value:function(a,s){var o=a.viewBox,c=jb(a,fG),l=this.props,h=l.viewBox,i=jb(l,pG);return!Tf(o,h)||!Tf(c,i)||!Tf(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,o=s.x,c=s.y,l=s.width,h=s.height,i=s.orientation,d=s.tickSize,u=s.mirror,f=s.tickMargin,m,v,g,x,y,j,N=u?-1:1,T=a.tickSize||d,I=An(a.tickCoord)?a.tickCoord:a.coordinate;switch(i){case"top":m=v=a.coordinate,x=c+ +!u*h,g=x-N*T,j=g-N*f,y=I;break;case"left":g=x=a.coordinate,v=o+ +!u*l,m=v-N*T,y=m-N*f,j=I;break;case"right":g=x=a.coordinate,v=o+ +u*l,m=v+N*T,y=m+N*f,j=I;break;default:m=v=a.coordinate,x=c+ +u*h,g=x+N*T,j=g+N*f,y=I;break}return{line:{x1:m,y1:g,x2:v,y2:x},tick:{x:y,y:j}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,o=a.mirror,c;switch(s){case"left":c=o?"start":"end";break;case"right":c=o?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,o=a.mirror,c="end";switch(s){case"left":case"right":c="middle";break;case"top":c=o?"start":"end";break;default:c=o?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,o=a.y,c=a.width,l=a.height,h=a.orientation,i=a.mirror,d=a.axisLine,u=Sc(Sc(Sc({},Ca(this.props,!1)),Ca(d,!1)),{},{fill:"none"});if(h==="top"||h==="bottom"){var f=+(h==="top"&&!i||h==="bottom"&&i);u=Sc(Sc({},u),{},{x1:s,y1:o+f*l,x2:s+c,y2:o+f*l})}else{var m=+(h==="left"&&!i||h==="right"&&i);u=Sc(Sc({},u),{},{x1:s+m*c,y1:o,x2:s+m*c,y2:o+l})}return wt.createElement("line",Ef({},u,{className:cs("recharts-cartesian-axis-line",pd(d,"className"))}))}},{key:"renderTicks",value:function(a,s,o){var c=this,l=this.props,h=l.tickLine,i=l.stroke,d=l.tick,u=l.tickFormatter,f=l.unit,m=_C(Sc(Sc({},this.props),{},{ticks:a}),s,o),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Ca(this.props,!1),y=Ca(d,!1),j=Sc(Sc({},x),{},{fill:"none"},Ca(h,!1)),N=m.map(function(T,I){var C=c.getTickLineCoord(T),D=C.line,_=C.tick,Z=Sc(Sc(Sc(Sc({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:i},y),_),{},{index:I,payload:T,visibleTicksCount:m.length,tickFormatter:u});return wt.createElement(Ks,Ef({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Wh(c.props,T,I)),h&&wt.createElement("line",Ef({},j,D,{className:cs("recharts-cartesian-axis-tick-line",pd(h,"className"))})),d&&r.renderTickItem(d,Z,"".concat(Qa(u)?u(T.value,I):T.value).concat(f||"")))});return wt.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var a=this,s=this.props,o=s.axisLine,c=s.width,l=s.height,h=s.ticksGenerator,i=s.className,d=s.hide;if(d)return null;var u=this.props,f=u.ticks,m=jb(u,mG),v=f;return Qa(h)&&(v=f&&f.length>0?h(this.props):h(m)),c<=0||l<=0||!v||!v.length?null:wt.createElement(Ks,{className:cs("recharts-cartesian-axis",i),ref:function(x){a.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),_l.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,o){var c;return wt.isValidElement(a)?c=wt.cloneElement(a,s):Qa(a)?c=a(s):c=wt.createElement($h,Ef({},s,{className:"recharts-cartesian-axis-tick-value"}),o),c}}])})(M.Component);LC(pp,"displayName","CartesianAxis");LC(pp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NG=["x1","y1","x2","y2","key"],BG=["offset"];function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kh(t)}function zI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function hc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?zI(Object(n),!0).forEach(function(a){SG(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function SG(t,r,n){return r=EG(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function EG(t){var r=IG(t,"string");return Kh(r)=="symbol"?r:r+""}function IG(t,r){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(Kh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Lh.apply(this,arguments)}function VI(t,r){if(t==null)return{};var n=kG(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function kG(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}var TG=function(r){var n=r.fill;if(!n||n==="none")return null;var a=r.fillOpacity,s=r.x,o=r.y,c=r.width,l=r.height,h=r.ry;return wt.createElement("rect",{x:s,y:o,ry:h,width:c,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function dO(t,r){var n;if(wt.isValidElement(t))n=wt.cloneElement(t,r);else if(Qa(t))n=t(r);else{var a=r.x1,s=r.y1,o=r.x2,c=r.y2,l=r.key,h=VI(r,NG),i=Ca(h,!1);i.offset;var d=VI(i,BG);n=wt.createElement("line",Lh({},d,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:l}))}return n}function FG(t){var r=t.x,n=t.width,a=t.horizontal,s=a===void 0?!0:a,o=t.horizontalPoints;if(!s||!o||!o.length)return null;var c=o.map(function(l,h){var i=hc(hc({},t),{},{x1:r,y1:l,x2:r+n,y2:l,key:"line-".concat(h),index:h});return dO(s,i)});return wt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function PG(t){var r=t.y,n=t.height,a=t.vertical,s=a===void 0?!0:a,o=t.verticalPoints;if(!s||!o||!o.length)return null;var c=o.map(function(l,h){var i=hc(hc({},t),{},{x1:l,y1:r,x2:l,y2:r+n,key:"line-".concat(h),index:h});return dO(s,i)});return wt.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function OG(t){var r=t.horizontalFill,n=t.fillOpacity,a=t.x,s=t.y,o=t.width,c=t.height,l=t.horizontalPoints,h=t.horizontal,i=h===void 0?!0:h;if(!i||!r||!r.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==d[0]&&d.unshift(0);var u=d.map(function(f,m){var v=!d[m+1],g=v?s+c-f:d[m+1]-f;if(g<=0)return null;var x=m%r.length;return wt.createElement("rect",{key:"react-".concat(m),y:f,x:a,height:g,width:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return wt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function MG(t){var r=t.vertical,n=r===void 0?!0:r,a=t.verticalFill,s=t.fillOpacity,o=t.x,c=t.y,l=t.width,h=t.height,i=t.verticalPoints;if(!n||!a||!a.length)return null;var d=i.map(function(f){return Math.round(f+o-o)}).sort(function(f,m){return f-m});o!==d[0]&&d.unshift(0);var u=d.map(function(f,m){var v=!d[m+1],g=v?o+l-f:d[m+1]-f;if(g<=0)return null;var x=m%a.length;return wt.createElement("rect",{key:"react-".concat(m),x:f,y:c,width:g,height:h,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return wt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var DG=function(r,n){var a=r.xAxis,s=r.width,o=r.height,c=r.offset;return dP(_C(hc(hc(hc({},pp.defaultProps),a),{},{ticks:oA(a,!0),viewBox:{x:0,y:0,width:s,height:o}})),c.left,c.left+c.width,n)},_G=function(r,n){var a=r.yAxis,s=r.width,o=r.height,c=r.offset;return dP(_C(hc(hc(hc({},pp.defaultProps),a),{},{ticks:oA(a,!0),viewBox:{x:0,y:0,width:s,height:o}})),c.top,c.top+c.height,n)},gf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nv(t){var r,n,a,s,o,c,l=PC(),h=OC(),i=CK(),d=hc(hc({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:gf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:gf.fill,horizontal:(a=t.horizontal)!==null&&a!==void 0?a:gf.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:gf.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:gf.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:gf.verticalFill,x:An(t.x)?t.x:i.left,y:An(t.y)?t.y:i.top,width:An(t.width)?t.width:i.width,height:An(t.height)?t.height:i.height}),u=d.x,f=d.y,m=d.width,v=d.height,g=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,j=bK(),N=jK();if(!An(m)||m<=0||!An(v)||v<=0||!An(u)||u!==+u||!An(f)||f!==+f)return null;var T=d.verticalCoordinatesGenerator||DG,I=d.horizontalCoordinatesGenerator||_G,C=d.horizontalPoints,D=d.verticalPoints;if((!C||!C.length)&&Qa(I)){var _=x&&x.length,Z=I({yAxis:N?hc(hc({},N),{},{ticks:_?x:N.ticks}):void 0,width:l,height:h,offset:i},_?!0:g);Au(Array.isArray(Z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Kh(Z),"]")),Array.isArray(Z)&&(C=Z)}if((!D||!D.length)&&Qa(T)){var ae=y&&y.length,V=T({xAxis:j?hc(hc({},j),{},{ticks:ae?y:j.ticks}):void 0,width:l,height:h,offset:i},ae?!0:g);Au(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Kh(V),"]")),Array.isArray(V)&&(D=V)}return wt.createElement("g",{className:"recharts-cartesian-grid"},wt.createElement(TG,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),wt.createElement(FG,Lh({},d,{offset:i,horizontalPoints:C,xAxis:j,yAxis:N})),wt.createElement(PG,Lh({},d,{offset:i,verticalPoints:D,xAxis:j,yAxis:N})),wt.createElement(OG,Lh({},d,{horizontalPoints:C})),wt.createElement(MG,Lh({},d,{verticalPoints:D})))}Nv.displayName="CartesianGrid";var LG=["type","layout","connectNulls","ref"],UG=["key"];function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ep(t)}function KI(t,r){if(t==null)return{};var n=RG(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function RG(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},xm.apply(this,arguments)}function GI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function cd(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GI(Object(n),!0).forEach(function(a){du(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vf(t){return $G(t)||WG(t)||HG(t)||QG()}function QG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(t,r){if(t){if(typeof t=="string")return mw(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,r)}}function WG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $G(t){if(Array.isArray(t))return mw(t)}function mw(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function zG(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function qI(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,AO(a.key),a)}}function VG(t,r,n){return r&&qI(t.prototype,r),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KG(t,r,n){return r=N0(r),GG(t,uO()?Reflect.construct(r,n||[],N0(t).constructor):r.apply(t,n))}function GG(t,r){if(r&&(ep(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qG(t)}function qG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function XG(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&gw(t,r)}function gw(t,r){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gw(t,r)}function du(t,r,n){return r=AO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function AO(t){var r=YG(t,"string");return ep(r)=="symbol"?r:r+""}function YG(t,r){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(ep(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=(function(t){function r(){var n;zG(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=KG(this,r,[].concat(s)),du(n,"state",{isAnimationFinished:!0,totalLength:0}),du(n,"generateSimpleStrokeDasharray",function(c,l){return"".concat(l,"px ").concat(c-l,"px")}),du(n,"getStrokeDasharray",function(c,l,h){var i=h.reduce(function(y,j){return y+j});if(!i)return n.generateSimpleStrokeDasharray(l,c);for(var d=Math.floor(c/i),u=c%i,f=l-c,m=[],v=0,g=0;v<h.length;g+=h[v],++v)if(g+h[v]>u){m=[].concat(vf(h.slice(0,v)),[u-g]);break}var x=m.length%2===0?[0,f]:[f];return[].concat(vf(r.repeat(h,d)),vf(m),x).map(function(y){return"".concat(y,"px")}).join(", ")}),du(n,"id",dp("recharts-line-")),du(n,"pathRef",function(c){n.mainCurve=c}),du(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),du(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return XG(r,t),VG(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,l=o.xAxis,h=o.yAxis,i=o.layout,d=o.children,u=md(d,fg);if(!u)return null;var f=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:pl(g.payload,x)}},m={clipPath:a?"url(#clipPath-".concat(s,")"):null};return wt.createElement(Ks,m,u.map(function(v){return wt.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:c,xAxis:l,yAxis:h,layout:i,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,s,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var l=this.props,h=l.dot,i=l.points,d=l.dataKey,u=Ca(this.props,!1),f=Ca(h,!0),m=i.map(function(g,x){var y=cd(cd(cd({key:"dot-".concat(x),r:3},u),f),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:x,payload:g.payload});return r.renderDotItem(h,y)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return wt.createElement(Ks,xm({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(a,s,o,c){var l=this.props,h=l.type,i=l.layout,d=l.connectNulls;l.ref;var u=KI(l,LG),f=cd(cd(cd({},Ca(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:a},c),{},{type:h,layout:i,connectNulls:d});return wt.createElement(a0,xm({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var o=this,c=this.props,l=c.points,h=c.strokeDasharray,i=c.isAnimationActive,d=c.animationBegin,u=c.animationDuration,f=c.animationEasing,m=c.animationId,v=c.animateNewValues,g=c.width,x=c.height,y=this.state,j=y.prevPoints,N=y.totalLength;return wt.createElement(Pu,{begin:d,duration:u,isActive:i,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var I=T.t;if(j){var C=j.length/l.length,D=l.map(function(ie,U){var G=Math.floor(U*C);if(j[G]){var K=j[G],W=hd(K.x,ie.x),Ne=hd(K.y,ie.y);return cd(cd({},ie),{},{x:W(I),y:Ne(I)})}if(v){var ge=hd(g*2,ie.x),Ee=hd(x/2,ie.y);return cd(cd({},ie),{},{x:ge(I),y:Ee(I)})}return cd(cd({},ie),{},{x:ie.x,y:ie.y})});return o.renderCurveStatically(D,a,s)}var _=hd(0,N),Z=_(I),ae;if(h){var V="".concat(h).split(/[,\s]+/gim).map(function(ie){return parseFloat(ie)});ae=o.getStrokeDasharray(Z,N,V)}else ae=o.generateSimpleStrokeDasharray(N,Z);return o.renderCurveStatically(l,a,s,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(a,s){var o=this.props,c=o.points,l=o.isAnimationActive,h=this.state,i=h.prevPoints,d=h.totalLength;return l&&c&&c.length&&(!i&&d>0||!hg(i,c))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(c,a,s)}},{key:"render",value:function(){var a,s=this.props,o=s.hide,c=s.dot,l=s.points,h=s.className,i=s.xAxis,d=s.yAxis,u=s.top,f=s.left,m=s.width,v=s.height,g=s.isAnimationActive,x=s.id;if(o||!l||!l.length)return null;var y=this.state.isAnimationFinished,j=l.length===1,N=cs("recharts-line",h),T=i&&i.allowDataOverflow,I=d&&d.allowDataOverflow,C=T||I,D=es(x)?this.id:x,_=(a=Ca(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},Z=_.r,ae=Z===void 0?3:Z,V=_.strokeWidth,ie=V===void 0?2:V,U=NM(c)?c:{},G=U.clipDot,K=G===void 0?!0:G,W=ae*2+ie;return wt.createElement(Ks,{className:N},T||I?wt.createElement("defs",null,wt.createElement("clipPath",{id:"clipPath-".concat(D)},wt.createElement("rect",{x:T?f:f-m/2,y:I?u:u-v/2,width:T?m:m*2,height:I?v:v*2})),!K&&wt.createElement("clipPath",{id:"clipPath-dots-".concat(D)},wt.createElement("rect",{x:f-W/2,y:u-W/2,width:m+W,height:v+W}))):null,!j&&this.renderCurve(C,D),this.renderErrorBar(C,D),(j||c)&&this.renderDots(C,K,D),(!g||y)&&dA.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var o=a.length%2!==0?[].concat(vf(a),[0]):a,c=[],l=0;l<s;++l)c=[].concat(vf(c),vf(o));return c}},{key:"renderDotItem",value:function(a,s){var o;if(wt.isValidElement(a))o=wt.cloneElement(a,s);else if(Qa(a))o=a(s);else{var c=s.key,l=KI(s,UG),h=cs("recharts-line-dot",typeof a!="boolean"?a.className:"");o=wt.createElement(r1,xm({key:c},l,{className:h}))}return o}}])})(M.PureComponent);du(tp,"displayName","Line");du(tp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});du(tp,"getComposedData",function(t){var r=t.props,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,c=t.dataKey,l=t.bandSize,h=t.displayedData,i=t.offset,d=r.layout,u=h.map(function(f,m){var v=pl(f,c);return d==="horizontal"?{x:eE({axis:n,ticks:s,bandSize:l,entry:f,index:m}),y:es(v)?null:a.scale(v),value:v,payload:f}:{x:es(v)?null:n.scale(v),y:eE({axis:a,ticks:o,bandSize:l,entry:f,index:m}),value:v,payload:f}});return cd({points:u,layout:d},i)});function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rp(t)}function JG(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ZG(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,pO(a.key),a)}}function eq(t,r,n){return r&&ZG(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tq(t,r,n){return r=B0(r),rq(t,hO()?Reflect.construct(r,n||[],B0(t).constructor):r.apply(t,n))}function rq(t,r){if(r&&(rp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nq(t)}function nq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B0(t)}function aq(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&vw(t,r)}function vw(t,r){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},vw(t,r)}function fO(t,r,n){return r=pO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function pO(t){var r=sq(t,"string");return rp(r)=="symbol"?r:r+""}function sq(t,r){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(rp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},xw.apply(this,arguments)}function iq(t){var r=t.xAxisId,n=PC(),a=OC(),s=ZP(r);return s==null?null:wt.createElement(pp,xw({},s,{className:cs("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return oA(c,!0)}}))}var Qh=(function(t){function r(){return JG(this,r),tq(this,r,arguments)}return aq(r,t),eq(r,[{key:"render",value:function(){return wt.createElement(iq,this.props)}}])})(wt.Component);fO(Qh,"displayName","XAxis");fO(Qh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},np(t)}function oq(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function lq(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,vO(a.key),a)}}function cq(t,r,n){return r&&lq(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dq(t,r,n){return r=S0(r),uq(t,mO()?Reflect.construct(r,n||[],S0(t).constructor):r.apply(t,n))}function uq(t,r){if(r&&(np(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aq(t)}function Aq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function hq(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&yw(t,r)}function yw(t,r){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},yw(t,r)}function gO(t,r,n){return r=vO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function vO(t){var r=fq(t,"string");return np(r)=="symbol"?r:r+""}function fq(t,r){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(np(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},bw.apply(this,arguments)}var pq=function(r){var n=r.yAxisId,a=PC(),s=OC(),o=eO(n);return o==null?null:wt.createElement(pp,bw({},o,{className:cs("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return oA(l,!0)}}))},Hh=(function(t){function r(){return oq(this,r),dq(this,r,arguments)}return hq(r,t),cq(r,[{key:"render",value:function(){return wt.createElement(pq,this.props)}}])})(wt.Component);gO(Hh,"displayName","YAxis");gO(Hh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XI(t){return xq(t)||vq(t)||gq(t)||mq()}function mq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gq(t,r){if(t){if(typeof t=="string")return jw(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,r)}}function vq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xq(t){if(Array.isArray(t))return jw(t)}function jw(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}var ww=function(r,n,a,s,o){var c=md(r,DC),l=md(r,u1),h=[].concat(XI(c),XI(l)),i=md(r,h1),d="".concat(s,"Id"),u=s[0],f=n;if(h.length&&(f=h.reduce(function(g,x){if(x.props[d]===a&&Tu(x.props,"extendDomain")&&An(x.props[u])){var y=x.props[u];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},f)),i.length){var m="".concat(u,"1"),v="".concat(u,"2");f=i.reduce(function(g,x){if(x.props[d]===a&&Tu(x.props,"extendDomain")&&An(x.props[m])&&An(x.props[v])){var y=x.props[m],j=x.props[v];return[Math.min(g[0],y,j),Math.max(g[1],y,j)]}return g},f)}return o&&o.length&&(f=o.reduce(function(g,x){return An(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},f)),f},wb={exports:{}},YI;function yq(){return YI||(YI=1,(function(t){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(h,i,d){this.fn=h,this.context=i,this.once=d||!1}function o(h,i,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,u||h,f),v=n?n+i:i;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],m]:h._events[v].push(m):(h._events[v]=m,h._eventsCount++),h}function c(h,i){--h._eventsCount===0?h._events=new a:delete h._events[i]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var i=[],d,u;if(this._eventsCount===0)return i;for(u in d=this._events)r.call(d,u)&&i.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(d)):i},l.prototype.listeners=function(i){var d=n?n+i:i,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,m=u.length,v=new Array(m);f<m;f++)v[f]=u[f].fn;return v},l.prototype.listenerCount=function(i){var d=n?n+i:i,u=this._events[d];return u?u.fn?1:u.length:0},l.prototype.emit=function(i,d,u,f,m,v){var g=n?n+i:i;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,j,N;if(x.fn){switch(x.once&&this.removeListener(i,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,u),!0;case 4:return x.fn.call(x.context,d,u,f),!0;case 5:return x.fn.call(x.context,d,u,f,m),!0;case 6:return x.fn.call(x.context,d,u,f,m,v),!0}for(N=1,j=new Array(y-1);N<y;N++)j[N-1]=arguments[N];x.fn.apply(x.context,j)}else{var T=x.length,I;for(N=0;N<T;N++)switch(x[N].once&&this.removeListener(i,x[N].fn,void 0,!0),y){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,d);break;case 3:x[N].fn.call(x[N].context,d,u);break;case 4:x[N].fn.call(x[N].context,d,u,f);break;default:if(!j)for(I=1,j=new Array(y-1);I<y;I++)j[I-1]=arguments[I];x[N].fn.apply(x[N].context,j)}}return!0},l.prototype.on=function(i,d,u){return o(this,i,d,u,!1)},l.prototype.once=function(i,d,u){return o(this,i,d,u,!0)},l.prototype.removeListener=function(i,d,u,f){var m=n?n+i:i;if(!this._events[m])return this;if(!d)return c(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!f||v.once)&&(!u||v.context===u)&&c(this,m);else{for(var g=0,x=[],y=v.length;g<y;g++)(v[g].fn!==d||f&&!v[g].once||u&&v[g].context!==u)&&x.push(v[g]);x.length?this._events[m]=x.length===1?x[0]:x:c(this,m)}return this},l.prototype.removeAllListeners=function(i){var d;return i?(d=n?n+i:i,this._events[d]&&c(this,d)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(wb)),wb.exports}var bq=yq();const jq=Qs(bq);var Cb=new jq,Nb="recharts.syncMouseEvents";function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ng(t)}function wq(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Cq(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,xO(a.key),a)}}function Nq(t,r,n){return r&&Cq(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bb(t,r,n){return r=xO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function xO(t){var r=Bq(t,"string");return ng(r)=="symbol"?r:r+""}function Bq(t,r){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sq=(function(){function t(){wq(this,t),Bb(this,"activeIndex",0),Bb(this,"coordinateList",[]),Bb(this,"layout","horizontal")}return Nq(t,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,o=s===void 0?null:s,c=n.container,l=c===void 0?null:c,h=n.layout,i=h===void 0?null:h,d=n.offset,u=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(a=o??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=i??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,c=s.y,l=s.height,h=this.coordinateList[this.activeIndex].coordinate,i=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((a=window)===null||a===void 0?void 0:a.scrollY)||0,u=o+h+i,f=c+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:u,pageY:f})}}}])})();function Eq(t,r,n){if(n==="number"&&r===!0&&Array.isArray(t)){var a=t==null?void 0:t[0],s=t==null?void 0:t[1];if(a&&s&&An(a)&&An(s))return!0}return!1}function Iq(t,r,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:r.y-s,width:t==="horizontal"?a:n.width-1,height:t==="horizontal"?n.height-1:a}}function yO(t){var r=t.cx,n=t.cy,a=t.radius,s=t.startAngle,o=t.endAngle,c=Ui(r,n,a,s),l=Ui(r,n,a,o);return{points:[c,l],cx:r,cy:n,radius:a,startAngle:s,endAngle:o}}function kq(t,r,n){var a,s,o,c;if(t==="horizontal")a=r.x,o=a,s=n.top,c=n.top+n.height;else if(t==="vertical")s=r.y,c=s,a=n.left,o=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var l=r.cx,h=r.cy,i=r.innerRadius,d=r.outerRadius,u=r.angle,f=Ui(l,h,i,u),m=Ui(l,h,d,u);a=f.x,s=f.y,o=m.x,c=m.y}else return yO(r);return[{x:a,y:s},{x:o,y:c}]}function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ag(t)}function JI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Mg(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?JI(Object(n),!0).forEach(function(a){Tq(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Tq(t,r,n){return r=Fq(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Fq(t){var r=Pq(t,"string");return ag(r)=="symbol"?r:r+""}function Pq(t,r){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Oq(t){var r,n,a=t.element,s=t.tooltipEventType,o=t.isActive,c=t.activeCoordinate,l=t.activePayload,h=t.offset,i=t.activeTooltipIndex,d=t.tooltipAxisBandSize,u=t.layout,f=t.chartName,m=(r=a.props.cursor)!==null&&r!==void 0?r:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!m||!o||!c||f!=="ScatterChart"&&s!=="axis")return null;var v,g=a0;if(f==="ScatterChart")v=c,g=rz;else if(f==="BarChart")v=Iq(u,c,h,d),g=IC;else if(u==="radial"){var x=yO(c),y=x.cx,j=x.cy,N=x.radius,T=x.startAngle,I=x.endAngle;v={cx:y,cy:j,startAngle:T,endAngle:I,innerRadius:N,outerRadius:N},g=bP}else v={points:kq(u,c,h)},g=a0;var C=Mg(Mg(Mg(Mg({stroke:"#ccc",pointerEvents:"none"},h),v),Ca(m,!1)),{},{payload:l,payloadIndex:i,className:cs("recharts-tooltip-cursor",m.className)});return M.isValidElement(m)?M.cloneElement(m,C):M.createElement(g,C)}var Mq=["item"],Dq=["children","className","width","height","style","compact","title","desc"];function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ap(t)}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},If.apply(this,arguments)}function ZI(t,r){return Uq(t)||Lq(t,r)||jO(t,r)||_q()}function _q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lq(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,c,l=[],h=!0,i=!1;try{if(o=(n=n.call(t)).next,r!==0)for(;!(h=(a=o.call(n)).done)&&(l.push(a.value),l.length!==r);h=!0);}catch(d){i=!0,s=d}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(i)throw s}}return l}}function Uq(t){if(Array.isArray(t))return t}function ek(t,r){if(t==null)return{};var n=Rq(t,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Rq(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Qq(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Hq(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,wO(a.key),a)}}function Wq(t,r,n){return r&&Hq(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $q(t,r,n){return r=E0(r),zq(t,bO()?Reflect.construct(r,n||[],E0(t).constructor):r.apply(t,n))}function zq(t,r){if(r&&(ap(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vq(t)}function Vq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function Kq(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Cw(t,r)}function Cw(t,r){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Cw(t,r)}function sp(t){return Xq(t)||qq(t)||jO(t)||Gq()}function Gq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jO(t,r){if(t){if(typeof t=="string")return Nw(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,r)}}function qq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xq(t){if(Array.isArray(t))return Nw(t)}function Nw(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function tk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function kr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tk(Object(n),!0).forEach(function(a){Ta(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ta(t,r,n){return r=wO(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function wO(t){var r=Yq(t,"string");return ap(r)=="symbol"?r:r+""}function Yq(t,r){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(ap(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Jq={xAxis:["bottom","top"],yAxis:["left","right"]},Zq={width:"100%",height:"100%"},CO={x:0,y:0};function Dg(t){return t}var eX=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},tX=function(r,n,a,s){var o=n.find(function(d){return d&&d.index===a});if(o){if(r==="horizontal")return{x:o.coordinate,y:s.y};if(r==="vertical")return{x:s.x,y:o.coordinate};if(r==="centric"){var c=o.coordinate,l=s.radius;return kr(kr(kr({},s),Ui(s.cx,s.cy,l,c)),{},{angle:c,radius:l})}var h=o.coordinate,i=s.angle;return kr(kr(kr({},s),Ui(s.cx,s.cy,h,i)),{},{angle:i,radius:h})}return CO},f1=function(r,n){var a=n.graphicalItems,s=n.dataStartIndex,o=n.dataEndIndex,c=(a??[]).reduce(function(l,h){var i=h.props.data;return i&&i.length?[].concat(sp(l),sp(i)):l},[]);return c.length>0?c:r&&r.length&&An(s)&&An(o)?r.slice(s,o+1):[]};function NO(t){return t==="number"?[0,"auto"]:void 0}var Bw=function(r,n,a,s){var o=r.graphicalItems,c=r.tooltipAxis,l=f1(n,r);return a<0||!o||!o.length||a>=l.length?null:o.reduce(function(h,i){var d,u=(d=i.props.data)!==null&&d!==void 0?d:n;u&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=a&&(u=u.slice(r.dataStartIndex,r.dataEndIndex+1));var f;if(c.dataKey&&!c.allowDuplicatedCategory){var m=u===void 0?l:u;f=Iv(m,c.dataKey,s)}else f=u&&u[a]||l[a];return f?[].concat(sp(h),[pP(i,f)]):h},[])},rk=function(r,n,a,s){var o=s||{x:r.chartX,y:r.chartY},c=eX(o,a),l=r.orderedTooltipTicks,h=r.tooltipAxis,i=r.tooltipTicks,d=wH(c,l,i,h);if(d>=0&&i){var u=i[d]&&i[d].value,f=Bw(r,n,d,u),m=tX(a,l,d,o);return{activeTooltipIndex:d,activeLabel:u,activePayload:f,activeCoordinate:m}}return null},rX=function(r,n){var a=n.axes,s=n.graphicalItems,o=n.axisType,c=n.axisIdKey,l=n.stackGroups,h=n.dataStartIndex,i=n.dataEndIndex,d=r.layout,u=r.children,f=r.stackOffset,m=cP(d,o);return a.reduce(function(v,g){var x,y=g.type.defaultProps!==void 0?kr(kr({},g.type.defaultProps),g.props):g.props,j=y.type,N=y.dataKey,T=y.allowDataOverflow,I=y.allowDuplicatedCategory,C=y.scale,D=y.ticks,_=y.includeHidden,Z=y[c];if(v[Z])return v;var ae=f1(r.data,{graphicalItems:s.filter(function(le){var ve,se=c in le.props?le.props[c]:(ve=le.type.defaultProps)===null||ve===void 0?void 0:ve[c];return se===Z}),dataStartIndex:h,dataEndIndex:i}),V=ae.length,ie,U,G;Eq(y.domain,T,j)&&(ie=Rj(y.domain,null,T),m&&(j==="number"||C!=="auto")&&(G=pm(ae,N,"category")));var K=NO(j);if(!ie||ie.length===0){var W,Ne=(W=y.domain)!==null&&W!==void 0?W:K;if(N){if(ie=pm(ae,N,j),j==="category"&&m){var ge=mM(ie);I&&ge?(U=ie,ie=p0(0,V)):I||(ie=aE(Ne,ie,g).reduce(function(le,ve){return le.indexOf(ve)>=0?le:[].concat(sp(le),[ve])},[]))}else if(j==="category")I?ie=ie.filter(function(le){return le!==""&&!es(le)}):ie=aE(Ne,ie,g).reduce(function(le,ve){return le.indexOf(ve)>=0||ve===""||es(ve)?le:[].concat(sp(le),[ve])},[]);else if(j==="number"){var Ee=EH(ae,s.filter(function(le){var ve,se,re=c in le.props?le.props[c]:(ve=le.type.defaultProps)===null||ve===void 0?void 0:ve[c],Ie="hide"in le.props?le.props.hide:(se=le.type.defaultProps)===null||se===void 0?void 0:se.hide;return re===Z&&(_||!Ie)}),N,o,d);Ee&&(ie=Ee)}m&&(j==="number"||C!=="auto")&&(G=pm(ae,N,"category"))}else m?ie=p0(0,V):l&&l[Z]&&l[Z].hasStack&&j==="number"?ie=f==="expand"?[0,1]:fP(l[Z].stackGroups,h,i):ie=lP(ae,s.filter(function(le){var ve=c in le.props?le.props[c]:le.type.defaultProps[c],se="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return ve===Z&&(_||!se)}),j,d,!0);if(j==="number")ie=ww(u,ie,Z,o,D),Ne&&(ie=Rj(Ne,ie,T));else if(j==="category"&&Ne){var Fe=Ne,he=ie.every(function(le){return Fe.indexOf(le)>=0});he&&(ie=Fe)}}return kr(kr({},v),{},Ta({},Z,kr(kr({},y),{},{axisType:o,domain:ie,categoricalDomain:G,duplicateDomain:U,originalDomain:(x=y.domain)!==null&&x!==void 0?x:K,isCategorical:m,layout:d})))},{})},nX=function(r,n){var a=n.graphicalItems,s=n.Axis,o=n.axisType,c=n.axisIdKey,l=n.stackGroups,h=n.dataStartIndex,i=n.dataEndIndex,d=r.layout,u=r.children,f=f1(r.data,{graphicalItems:a,dataStartIndex:h,dataEndIndex:i}),m=f.length,v=cP(d,o),g=-1;return a.reduce(function(x,y){var j=y.type.defaultProps!==void 0?kr(kr({},y.type.defaultProps),y.props):y.props,N=j[c],T=NO("number");if(!x[N]){g++;var I;return v?I=p0(0,m):l&&l[N]&&l[N].hasStack?(I=fP(l[N].stackGroups,h,i),I=ww(u,I,N,o)):(I=Rj(T,lP(f,a.filter(function(C){var D,_,Z=c in C.props?C.props[c]:(D=C.type.defaultProps)===null||D===void 0?void 0:D[c],ae="hide"in C.props?C.props.hide:(_=C.type.defaultProps)===null||_===void 0?void 0:_.hide;return Z===N&&!ae}),"number",d),s.defaultProps.allowDataOverflow),I=ww(u,I,N,o)),kr(kr({},x),{},Ta({},N,kr(kr({axisType:o},s.defaultProps),{},{hide:!0,orientation:pd(Jq,"".concat(o,".").concat(g%2),null),domain:I,originalDomain:T,isCategorical:v,layout:d})))}return x},{})},aX=function(r,n){var a=n.axisType,s=a===void 0?"xAxis":a,o=n.AxisComp,c=n.graphicalItems,l=n.stackGroups,h=n.dataStartIndex,i=n.dataEndIndex,d=r.children,u="".concat(s,"Id"),f=md(d,o),m={};return f&&f.length?m=rX(r,{axes:f,graphicalItems:c,axisType:s,axisIdKey:u,stackGroups:l,dataStartIndex:h,dataEndIndex:i}):c&&c.length&&(m=nX(r,{Axis:o,graphicalItems:c,axisType:s,axisIdKey:u,stackGroups:l,dataStartIndex:h,dataEndIndex:i})),m},sX=function(r){var n=zA(r),a=oA(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:rC(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:t0(n,a)}},nk=function(r){var n=r.children,a=r.defaultShowTooltip,s=ud(n,Gf),o=0,c=0;return r.data&&r.data.length!==0&&(c=r.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(c=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},iX=function(r){return!r||!r.length?!1:r.some(function(n){var a=lA(n&&n.type);return a&&a.indexOf("Bar")>=0})},ak=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oX=function(r,n){var a=r.props,s=r.graphicalItems,o=r.xAxisMap,c=o===void 0?{}:o,l=r.yAxisMap,h=l===void 0?{}:l,i=a.width,d=a.height,u=a.children,f=a.margin||{},m=ud(u,Gf),v=ud(u,Su),g=Object.keys(h).reduce(function(I,C){var D=h[C],_=D.orientation;return!D.mirror&&!D.hide?kr(kr({},I),{},Ta({},_,I[_]+D.width)):I},{left:f.left||0,right:f.right||0}),x=Object.keys(c).reduce(function(I,C){var D=c[C],_=D.orientation;return!D.mirror&&!D.hide?kr(kr({},I),{},Ta({},_,pd(I,"".concat(_))+D.height)):I},{top:f.top||0,bottom:f.bottom||0}),y=kr(kr({},x),g),j=y.bottom;m&&(y.bottom+=m.props.height||Gf.defaultProps.height),v&&n&&(y=BH(y,s,a,n));var N=i-y.left-y.right,T=d-y.top-y.bottom;return kr(kr({brushBottom:j},y),{},{width:Math.max(N,0),height:Math.max(T,0)})},lX=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},UC=function(r){var n=r.chartName,a=r.GraphicalChild,s=r.defaultTooltipEventType,o=s===void 0?"axis":s,c=r.validateTooltipEventTypes,l=c===void 0?["axis"]:c,h=r.axisComponents,i=r.legendContent,d=r.formatAxisMap,u=r.defaultProps,f=function(y,j){var N=j.graphicalItems,T=j.stackGroups,I=j.offset,C=j.updateId,D=j.dataStartIndex,_=j.dataEndIndex,Z=y.barSize,ae=y.layout,V=y.barGap,ie=y.barCategoryGap,U=y.maxBarSize,G=ak(ae),K=G.numericAxisName,W=G.cateAxisName,Ne=iX(N),ge=[];return N.forEach(function(Ee,Fe){var he=f1(y.data,{graphicalItems:[Ee],dataStartIndex:D,dataEndIndex:_}),le=Ee.type.defaultProps!==void 0?kr(kr({},Ee.type.defaultProps),Ee.props):Ee.props,ve=le.dataKey,se=le.maxBarSize,re=le["".concat(K,"Id")],Ie=le["".concat(W,"Id")],Te={},xe=h.reduce(function(Nt,qt){var Ir=j["".concat(qt.axisType,"Map")],fr=le["".concat(qt.axisType,"Id")];Ir&&Ir[fr]||qt.axisType==="zAxis"||Vh();var He=Ir[fr];return kr(kr({},Nt),{},Ta(Ta({},qt.axisType,He),"".concat(qt.axisType,"Ticks"),oA(He)))},Te),pe=xe[W],X=xe["".concat(W,"Ticks")],fe=T&&T[re]&&T[re].hasStack&&_H(Ee,T[re].stackGroups),oe=lA(Ee.type).indexOf("Bar")>=0,We=t0(pe,X),Ue=[],ue=Ne&&CH({barSize:Z,stackGroups:T,totalSize:lX(xe,W)});if(oe){var be,Le,ot=es(se)?U:se,Tt=(be=(Le=t0(pe,X,!0))!==null&&Le!==void 0?Le:ot)!==null&&be!==void 0?be:0;Ue=NH({barGap:V,barCategoryGap:ie,bandSize:Tt!==We?Tt:We,sizeList:ue[Ie],maxBarSize:ot}),Tt!==We&&(Ue=Ue.map(function(Nt){return kr(kr({},Nt),{},{position:kr(kr({},Nt.position),{},{offset:Nt.position.offset-Tt/2})})}))}var Mt=Ee&&Ee.type&&Ee.type.getComposedData;Mt&&ge.push({props:kr(kr({},Mt(kr(kr({},xe),{},{displayedData:he,props:y,dataKey:ve,item:Ee,bandSize:We,barPosition:Ue,offset:I,stackedData:fe,layout:ae,dataStartIndex:D,dataEndIndex:_}))),{},Ta(Ta(Ta({key:Ee.key||"item-".concat(Fe)},K,xe[K]),W,xe[W]),"animationId",C)),childIndex:EM(Ee,y.children),item:Ee})}),ge},m=function(y,j){var N=y.props,T=y.dataStartIndex,I=y.dataEndIndex,C=y.updateId;if(!v4({props:N}))return null;var D=N.children,_=N.layout,Z=N.stackOffset,ae=N.data,V=N.reverseStackOrder,ie=ak(_),U=ie.numericAxisName,G=ie.cateAxisName,K=md(D,a),W=MH(ae,K,"".concat(U,"Id"),"".concat(G,"Id"),Z,V),Ne=h.reduce(function(le,ve){var se="".concat(ve.axisType,"Map");return kr(kr({},le),{},Ta({},se,aX(N,kr(kr({},ve),{},{graphicalItems:K,stackGroups:ve.axisType===U&&W,dataStartIndex:T,dataEndIndex:I}))))},{}),ge=oX(kr(kr({},Ne),{},{props:N,graphicalItems:K}),j==null?void 0:j.legendBBox);Object.keys(Ne).forEach(function(le){Ne[le]=d(N,Ne[le],ge,le.replace("Map",""),n)});var Ee=Ne["".concat(G,"Map")],Fe=sX(Ee),he=f(N,kr(kr({},Ne),{},{dataStartIndex:T,dataEndIndex:I,updateId:C,graphicalItems:K,stackGroups:W,offset:ge}));return kr(kr({formattedGraphicalItems:he,graphicalItems:K,offset:ge,stackGroups:W},Fe),Ne)},v=(function(x){function y(j){var N,T,I;return Qq(this,y),I=$q(this,y,[j]),Ta(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ta(I,"accessibilityManager",new Sq),Ta(I,"handleLegendBBoxUpdate",function(C){if(C){var D=I.state,_=D.dataStartIndex,Z=D.dataEndIndex,ae=D.updateId;I.setState(kr({legendBBox:C},m({props:I.props,dataStartIndex:_,dataEndIndex:Z,updateId:ae},kr(kr({},I.state),{},{legendBBox:C}))))}}),Ta(I,"handleReceiveSyncEvent",function(C,D,_){if(I.props.syncId===C){if(_===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(D)}}),Ta(I,"handleBrushChange",function(C){var D=C.startIndex,_=C.endIndex;if(D!==I.state.dataStartIndex||_!==I.state.dataEndIndex){var Z=I.state.updateId;I.setState(function(){return kr({dataStartIndex:D,dataEndIndex:_},m({props:I.props,dataStartIndex:D,dataEndIndex:_,updateId:Z},I.state))}),I.triggerSyncEvent({dataStartIndex:D,dataEndIndex:_})}}),Ta(I,"handleMouseEnter",function(C){var D=I.getMouseInfo(C);if(D){var _=kr(kr({},D),{},{isTooltipActive:!0});I.setState(_),I.triggerSyncEvent(_);var Z=I.props.onMouseEnter;Qa(Z)&&Z(_,C)}}),Ta(I,"triggeredAfterMouseMove",function(C){var D=I.getMouseInfo(C),_=D?kr(kr({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(_),I.triggerSyncEvent(_);var Z=I.props.onMouseMove;Qa(Z)&&Z(_,C)}),Ta(I,"handleItemMouseEnter",function(C){I.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ta(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),Ta(I,"handleMouseMove",function(C){C.persist(),I.throttleTriggeredAfterMouseMove(C)}),Ta(I,"handleMouseLeave",function(C){I.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};I.setState(D),I.triggerSyncEvent(D);var _=I.props.onMouseLeave;Qa(_)&&_(D,C)}),Ta(I,"handleOuterEvent",function(C){var D=SM(C),_=pd(I.props,"".concat(D));if(D&&Qa(_)){var Z,ae;/.*touch.*/i.test(D)?ae=I.getMouseInfo(C.changedTouches[0]):ae=I.getMouseInfo(C),_((Z=ae)!==null&&Z!==void 0?Z:{},C)}}),Ta(I,"handleClick",function(C){var D=I.getMouseInfo(C);if(D){var _=kr(kr({},D),{},{isTooltipActive:!0});I.setState(_),I.triggerSyncEvent(_);var Z=I.props.onClick;Qa(Z)&&Z(_,C)}}),Ta(I,"handleMouseDown",function(C){var D=I.props.onMouseDown;if(Qa(D)){var _=I.getMouseInfo(C);D(_,C)}}),Ta(I,"handleMouseUp",function(C){var D=I.props.onMouseUp;if(Qa(D)){var _=I.getMouseInfo(C);D(_,C)}}),Ta(I,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ta(I,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&I.handleMouseDown(C.changedTouches[0])}),Ta(I,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&I.handleMouseUp(C.changedTouches[0])}),Ta(I,"handleDoubleClick",function(C){var D=I.props.onDoubleClick;if(Qa(D)){var _=I.getMouseInfo(C);D(_,C)}}),Ta(I,"handleContextMenu",function(C){var D=I.props.onContextMenu;if(Qa(D)){var _=I.getMouseInfo(C);D(_,C)}}),Ta(I,"triggerSyncEvent",function(C){I.props.syncId!==void 0&&Cb.emit(Nb,I.props.syncId,C,I.eventEmitterSymbol)}),Ta(I,"applySyncEvent",function(C){var D=I.props,_=D.layout,Z=D.syncMethod,ae=I.state.updateId,V=C.dataStartIndex,ie=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)I.setState(kr({dataStartIndex:V,dataEndIndex:ie},m({props:I.props,dataStartIndex:V,dataEndIndex:ie,updateId:ae},I.state)));else if(C.activeTooltipIndex!==void 0){var U=C.chartX,G=C.chartY,K=C.activeTooltipIndex,W=I.state,Ne=W.offset,ge=W.tooltipTicks;if(!Ne)return;if(typeof Z=="function")K=Z(ge,C);else if(Z==="value"){K=-1;for(var Ee=0;Ee<ge.length;Ee++)if(ge[Ee].value===C.activeLabel){K=Ee;break}}var Fe=kr(kr({},Ne),{},{x:Ne.left,y:Ne.top}),he=Math.min(U,Fe.x+Fe.width),le=Math.min(G,Fe.y+Fe.height),ve=ge[K]&&ge[K].value,se=Bw(I.state,I.props.data,K),re=ge[K]?{x:_==="horizontal"?ge[K].coordinate:he,y:_==="horizontal"?le:ge[K].coordinate}:CO;I.setState(kr(kr({},C),{},{activeLabel:ve,activeCoordinate:re,activePayload:se,activeTooltipIndex:K}))}else I.setState(C)}),Ta(I,"renderCursor",function(C){var D,_=I.state,Z=_.isTooltipActive,ae=_.activeCoordinate,V=_.activePayload,ie=_.offset,U=_.activeTooltipIndex,G=_.tooltipAxisBandSize,K=I.getTooltipEventType(),W=(D=C.props.active)!==null&&D!==void 0?D:Z,Ne=I.props.layout,ge=C.key||"_recharts-cursor";return wt.createElement(Oq,{key:ge,activeCoordinate:ae,activePayload:V,activeTooltipIndex:U,chartName:n,element:C,isActive:W,layout:Ne,offset:ie,tooltipAxisBandSize:G,tooltipEventType:K})}),Ta(I,"renderPolarAxis",function(C,D,_){var Z=pd(C,"type.axisType"),ae=pd(I.state,"".concat(Z,"Map")),V=C.type.defaultProps,ie=V!==void 0?kr(kr({},V),C.props):C.props,U=ae&&ae[ie["".concat(Z,"Id")]];return M.cloneElement(C,kr(kr({},U),{},{className:cs(Z,U.className),key:C.key||"".concat(D,"-").concat(_),ticks:oA(U,!0)}))}),Ta(I,"renderPolarGrid",function(C){var D=C.props,_=D.radialLines,Z=D.polarAngles,ae=D.polarRadius,V=I.state,ie=V.radiusAxisMap,U=V.angleAxisMap,G=zA(ie),K=zA(U),W=K.cx,Ne=K.cy,ge=K.innerRadius,Ee=K.outerRadius;return M.cloneElement(C,{polarAngles:Array.isArray(Z)?Z:oA(K,!0).map(function(Fe){return Fe.coordinate}),polarRadius:Array.isArray(ae)?ae:oA(G,!0).map(function(Fe){return Fe.coordinate}),cx:W,cy:Ne,innerRadius:ge,outerRadius:Ee,key:C.key||"polar-grid",radialLines:_})}),Ta(I,"renderLegend",function(){var C=I.state.formattedGraphicalItems,D=I.props,_=D.children,Z=D.width,ae=D.height,V=I.props.margin||{},ie=Z-(V.left||0)-(V.right||0),U=iP({children:_,formattedGraphicalItems:C,legendWidth:ie,legendContent:i});if(!U)return null;var G=U.item,K=ek(U,Mq);return M.cloneElement(G,kr(kr({},K),{},{chartWidth:Z,chartHeight:ae,margin:V,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),Ta(I,"renderTooltip",function(){var C,D=I.props,_=D.children,Z=D.accessibilityLayer,ae=ud(_,Ad);if(!ae)return null;var V=I.state,ie=V.isTooltipActive,U=V.activeCoordinate,G=V.activePayload,K=V.activeLabel,W=V.offset,Ne=(C=ae.props.active)!==null&&C!==void 0?C:ie;return M.cloneElement(ae,{viewBox:kr(kr({},W),{},{x:W.left,y:W.top}),active:Ne,label:K,payload:Ne?G:[],coordinate:U,accessibilityLayer:Z})}),Ta(I,"renderBrush",function(C){var D=I.props,_=D.margin,Z=D.data,ae=I.state,V=ae.offset,ie=ae.dataStartIndex,U=ae.dataEndIndex,G=ae.updateId;return M.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Tg(I.handleBrushChange,C.props.onChange),data:Z,x:An(C.props.x)?C.props.x:V.left,y:An(C.props.y)?C.props.y:V.top+V.height+V.brushBottom-(_.bottom||0),width:An(C.props.width)?C.props.width:V.width,startIndex:ie,endIndex:U,updateId:"brush-".concat(G)})}),Ta(I,"renderReferenceElement",function(C,D,_){if(!C)return null;var Z=I,ae=Z.clipPathId,V=I.state,ie=V.xAxisMap,U=V.yAxisMap,G=V.offset,K=C.type.defaultProps||{},W=C.props,Ne=W.xAxisId,ge=Ne===void 0?K.xAxisId:Ne,Ee=W.yAxisId,Fe=Ee===void 0?K.yAxisId:Ee;return M.cloneElement(C,{key:C.key||"".concat(D,"-").concat(_),xAxis:ie[ge],yAxis:U[Fe],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:ae})}),Ta(I,"renderActivePoints",function(C){var D=C.item,_=C.activePoint,Z=C.basePoint,ae=C.childIndex,V=C.isRange,ie=[],U=D.props.key,G=D.item.type.defaultProps!==void 0?kr(kr({},D.item.type.defaultProps),D.item.props):D.item.props,K=G.activeDot,W=G.dataKey,Ne=kr(kr({index:ae,dataKey:W,cx:_.x,cy:_.y,r:4,fill:EC(D.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Ca(K,!1)),kv(K));return ie.push(y.renderActiveDot(K,Ne,"".concat(U,"-activePoint-").concat(ae))),Z?ie.push(y.renderActiveDot(K,kr(kr({},Ne),{},{cx:Z.x,cy:Z.y}),"".concat(U,"-basePoint-").concat(ae))):V&&ie.push(null),ie}),Ta(I,"renderGraphicChild",function(C,D,_){var Z=I.filterFormatItem(C,D,_);if(!Z)return null;var ae=I.getTooltipEventType(),V=I.state,ie=V.isTooltipActive,U=V.tooltipAxis,G=V.activeTooltipIndex,K=V.activeLabel,W=I.props.children,Ne=ud(W,Ad),ge=Z.props,Ee=ge.points,Fe=ge.isRange,he=ge.baseLine,le=Z.item.type.defaultProps!==void 0?kr(kr({},Z.item.type.defaultProps),Z.item.props):Z.item.props,ve=le.activeDot,se=le.hide,re=le.activeBar,Ie=le.activeShape,Te=!!(!se&&ie&&Ne&&(ve||re||Ie)),xe={};ae!=="axis"&&Ne&&Ne.props.trigger==="click"?xe={onClick:Tg(I.handleItemMouseEnter,C.props.onClick)}:ae!=="axis"&&(xe={onMouseLeave:Tg(I.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Tg(I.handleItemMouseEnter,C.props.onMouseEnter)});var pe=M.cloneElement(C,kr(kr({},Z.props),xe));function X(qt){return typeof U.dataKey=="function"?U.dataKey(qt.payload):null}if(Te)if(G>=0){var fe,oe;if(U.dataKey&&!U.allowDuplicatedCategory){var We=typeof U.dataKey=="function"?X:"payload.".concat(U.dataKey.toString());fe=Iv(Ee,We,K),oe=Fe&&he&&Iv(he,We,K)}else fe=Ee==null?void 0:Ee[G],oe=Fe&&he&&he[G];if(Ie||re){var Ue=C.props.activeIndex!==void 0?C.props.activeIndex:G;return[M.cloneElement(C,kr(kr(kr({},Z.props),xe),{},{activeIndex:Ue})),null,null]}if(!es(fe))return[pe].concat(sp(I.renderActivePoints({item:Z,activePoint:fe,basePoint:oe,childIndex:G,isRange:Fe})))}else{var ue,be=(ue=I.getItemByXY(I.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:pe},Le=be.graphicalItem,ot=Le.item,Tt=ot===void 0?C:ot,Mt=Le.childIndex,Nt=kr(kr(kr({},Z.props),xe),{},{activeIndex:Mt});return[M.cloneElement(Tt,Nt),null,null]}return Fe?[pe,null,null]:[pe,null]}),Ta(I,"renderCustomized",function(C,D,_){return M.cloneElement(C,kr(kr({key:"recharts-customized-".concat(_)},I.props),I.state))}),Ta(I,"renderMap",{CartesianGrid:{handler:Dg,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Dg},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Dg},YAxis:{handler:Dg},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((N=j.id)!==null&&N!==void 0?N:dp("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=iF(I.triggeredAfterMouseMove,(T=j.throttleDelay)!==null&&T!==void 0?T:1e3/60),I.state={},I}return Kq(y,x),Wq(y,[{key:"componentDidMount",value:function(){var N,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,T=N.children,I=N.data,C=N.height,D=N.layout,_=ud(T,Ad);if(_){var Z=_.props.defaultIndex;if(!(typeof Z!="number"||Z<0||Z>this.state.tooltipTicks.length-1)){var ae=this.state.tooltipTicks[Z]&&this.state.tooltipTicks[Z].value,V=Bw(this.state,I,Z,ae),ie=this.state.tooltipTicks[Z].coordinate,U=(this.state.offset.top+C)/2,G=D==="horizontal",K=G?{x:ie,y:U}:{y:ie,x:U},W=this.state.formattedGraphicalItems.find(function(ge){var Ee=ge.item;return Ee.type.name==="Scatter"});W&&(K=kr(kr({},K),W.props.points[Z].tooltipPosition),V=W.props.points[Z].tooltipPayload);var Ne={activeTooltipIndex:Z,isTooltipActive:!0,activeLabel:ae,activePayload:V,activeCoordinate:K};this.setState(Ne),this.renderCursor(_),this.accessibilityManager.setIndex(Z)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var I,C;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(N){lj([ud(N.children,Ad)],[ud(this.props.children,Ad)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ud(this.props.children,Ad);if(N&&typeof N.props.shared=="boolean"){var T=N.props.shared?"axis":"item";return l.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var T=this.container,I=T.getBoundingClientRect(),C=pU(I),D={chartX:Math.round(N.pageX-C.left),chartY:Math.round(N.pageY-C.top)},_=I.width/T.offsetWidth||1,Z=this.inRange(D.chartX,D.chartY,_);if(!Z)return null;var ae=this.state,V=ae.xAxisMap,ie=ae.yAxisMap,U=this.getTooltipEventType();if(U!=="axis"&&V&&ie){var G=zA(V).scale,K=zA(ie).scale,W=G&&G.invert?G.invert(D.chartX):null,Ne=K&&K.invert?K.invert(D.chartY):null;return kr(kr({},D),{},{xValue:W,yValue:Ne})}var ge=rk(this.state,this.props.data,this.props.layout,Z);return ge?kr(kr({},D),ge):null}},{key:"inRange",value:function(N,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,D=N/I,_=T/I;if(C==="horizontal"||C==="vertical"){var Z=this.state.offset,ae=D>=Z.left&&D<=Z.left+Z.width&&_>=Z.top&&_<=Z.top+Z.height;return ae?{x:D,y:_}:null}var V=this.state,ie=V.angleAxisMap,U=V.radiusAxisMap;if(ie&&U){var G=zA(ie);return oE({x:D,y:_},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,T=this.getTooltipEventType(),I=ud(N,Ad),C={};I&&T==="axis"&&(I.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var D=kv(this.props,this.handleOuterEvent);return kr(kr({},D),C)}},{key:"addListener",value:function(){Cb.on(Nb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cb.removeListener(Nb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,T,I){for(var C=this.state.formattedGraphicalItems,D=0,_=C.length;D<_;D++){var Z=C[D];if(Z.item===N||Z.props.key===N.key||T===lA(Z.item.type)&&I===Z.childIndex)return Z}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,T=this.state.offset,I=T.left,C=T.top,D=T.height,_=T.width;return wt.createElement("defs",null,wt.createElement("clipPath",{id:N},wt.createElement("rect",{x:I,y:C,height:D,width:_})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(T,I){var C=ZI(I,2),D=C[0],_=C[1];return kr(kr({},T),{},Ta({},D,_.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(T,I){var C=ZI(I,2),D=C[0],_=C[1];return kr(kr({},T),{},Ta({},D,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[N])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(N){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[N])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(N){var T=this.state,I=T.formattedGraphicalItems,C=T.activeItem;if(I&&I.length)for(var D=0,_=I.length;D<_;D++){var Z=I[D],ae=Z.props,V=Z.item,ie=V.type.defaultProps!==void 0?kr(kr({},V.type.defaultProps),V.props):V.props,U=lA(V.type);if(U==="Bar"){var G=(ae.data||[]).find(function(ge){return D$(N,ge)});if(G)return{graphicalItem:Z,payload:G}}else if(U==="RadialBar"){var K=(ae.data||[]).find(function(ge){return oE(N,ge)});if(K)return{graphicalItem:Z,payload:K}}else if(o1(Z,C)||l1(Z,C)||Jm(Z,C)){var W=sV({graphicalItem:Z,activeTooltipItem:C,itemData:ie.data}),Ne=ie.activeIndex===void 0?W:ie.activeIndex;return{graphicalItem:kr(kr({},Z),{},{childIndex:Ne}),payload:Jm(Z,C)?ie.data[W]:Z.props.data[W]}}}return null}},{key:"render",value:function(){var N=this;if(!v4(this))return null;var T=this.props,I=T.children,C=T.className,D=T.width,_=T.height,Z=T.style,ae=T.compact,V=T.title,ie=T.desc,U=ek(T,Dq),G=Ca(U,!1);if(ae)return wt.createElement(OI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},wt.createElement(dj,If({},G,{width:D,height:_,title:V,desc:ie}),this.renderClipPath(),y4(I,this.renderMap)));if(this.props.accessibilityLayer){var K,W;G.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,G.role=(W=this.props.role)!==null&&W!==void 0?W:"application",G.onKeyDown=function(ge){N.accessibilityManager.keyboardEvent(ge)},G.onFocus=function(){N.accessibilityManager.focus()}}var Ne=this.parseEventsOfWrapper();return wt.createElement(OI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},wt.createElement("div",If({className:cs("recharts-wrapper",C),style:kr({position:"relative",cursor:"default",width:D,height:_},Z)},Ne,{ref:function(Ee){N.container=Ee}}),wt.createElement(dj,If({},G,{width:D,height:_,title:V,desc:ie,style:Zq}),this.renderClipPath(),y4(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Ta(v,"displayName",n),Ta(v,"defaultProps",kr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Ta(v,"getDerivedStateFromProps",function(x,y){var j=x.dataKey,N=x.data,T=x.children,I=x.width,C=x.height,D=x.layout,_=x.stackOffset,Z=x.margin,ae=y.dataStartIndex,V=y.dataEndIndex;if(y.updateId===void 0){var ie=nk(x);return kr(kr(kr({},ie),{},{updateId:0},m(kr(kr({props:x},ie),{},{updateId:0}),y)),{},{prevDataKey:j,prevData:N,prevWidth:I,prevHeight:C,prevLayout:D,prevStackOffset:_,prevMargin:Z,prevChildren:T})}if(j!==y.prevDataKey||N!==y.prevData||I!==y.prevWidth||C!==y.prevHeight||D!==y.prevLayout||_!==y.prevStackOffset||!Tf(Z,y.prevMargin)){var U=nk(x),G={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},K=kr(kr({},rk(y,N,D)),{},{updateId:y.updateId+1}),W=kr(kr(kr({},U),G),K);return kr(kr(kr({},W),m(kr({props:x},W),y)),{},{prevDataKey:j,prevData:N,prevWidth:I,prevHeight:C,prevLayout:D,prevStackOffset:_,prevMargin:Z,prevChildren:T})}if(!lj(T,y.prevChildren)){var Ne,ge,Ee,Fe,he=ud(T,Gf),le=he&&(Ne=(ge=he.props)===null||ge===void 0?void 0:ge.startIndex)!==null&&Ne!==void 0?Ne:ae,ve=he&&(Ee=(Fe=he.props)===null||Fe===void 0?void 0:Fe.endIndex)!==null&&Ee!==void 0?Ee:V,se=le!==ae||ve!==V,re=!es(N),Ie=re&&!se?y.updateId:y.updateId+1;return kr(kr({updateId:Ie},m(kr(kr({props:x},y),{},{updateId:Ie,dataStartIndex:le,dataEndIndex:ve}),y)),{},{prevChildren:T,dataStartIndex:le,dataEndIndex:ve})}return null}),Ta(v,"renderActiveDot",function(x,y,j){var N;return M.isValidElement(x)?N=M.cloneElement(x,y):Qa(x)?N=x(y):N=wt.createElement(r1,y),wt.createElement(Ks,{className:"recharts-active-dot",key:j},N)});var g=M.forwardRef(function(y,j){return wt.createElement(v,If({},y,{ref:j}))});return g.displayName=v.displayName,g},sk=UC({chartName:"LineChart",GraphicalChild:tp,axisComponents:[{axisType:"xAxis",AxisComp:Qh},{axisType:"yAxis",AxisComp:Hh}],formatAxisMap:zP}),cX=UC({chartName:"BarChart",GraphicalChild:Zh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qh},{axisType:"yAxis",AxisComp:Hh}],formatAxisMap:zP}),dX=UC({chartName:"PieChart",GraphicalChild:gA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:i1},{axisType:"radiusAxis",AxisComp:a1}],formatAxisMap:KH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const uX=({title:t,type:r,data:n=[],loading:a=!1,xAxis:s,yAxis:o,series:c})=>{const[l,h]=M.useState([]),[i,d]=M.useState([]),u=s||"label",f=o||"value";M.useEffect(()=>{Array.isArray(n)?(h(n),d(n.map((g,x)=>g.label||g[u]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(d(n.labels||[]),h((n.data||[]).map((g,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:g}}))):(h([]),d([]))},[n,u]);const m=M.useMemo(()=>Array.isArray(c)&&c.length>0?c:[f],[f,c]),v=M.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?e.jsxs("div",{className:"widget-panel widget-panel--chart",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:e.jsx("div",{className:"skeleton-chart"})})})]}):e.jsxs("div",{className:"widget-panel widget-panel--chart",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:l.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),e.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),e.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),e.jsx("p",{children:"No data available"})]}):e.jsx("div",{className:"chart-container",children:e.jsx(lU,{width:"100%",height:260,children:r==="line"?e.jsxs(sk,{data:l,children:[e.jsx(Nv,{strokeDasharray:"3 3"}),e.jsx(Qh,{dataKey:u}),e.jsx(Hh,{}),e.jsx(Ad,{}),e.jsx(Su,{}),m.map(g=>e.jsx(tp,{type:"monotone",dataKey:g,stroke:"#2563eb",strokeWidth:2,dot:!1},g))]}):r==="bar"?e.jsxs(cX,{data:l,children:[e.jsx(Nv,{strokeDasharray:"3 3"}),e.jsx(Qh,{dataKey:u}),e.jsx(Hh,{}),e.jsx(Ad,{}),e.jsx(Su,{}),m.map(g=>e.jsx(Zh,{dataKey:g,fill:"#2563eb",radius:[6,6,0,0]},g))]}):r==="pie"||r==="doughnut"?e.jsxs(dX,{children:[e.jsx(Ad,{}),e.jsx(Su,{}),e.jsx(gA,{data:l,dataKey:f,nameKey:u,cx:"50%",cy:"50%",outerRadius:90,innerRadius:r==="doughnut"?55:0,paddingAngle:2,children:l.map((g,x)=>e.jsx($0,{fill:v[x%v.length]},`cell-${x}`))})]}):e.jsxs(sk,{data:l,children:[e.jsx(Nv,{strokeDasharray:"3 3"}),e.jsx(Qh,{dataKey:u}),e.jsx(Hh,{}),e.jsx(Ad,{}),e.jsx(Su,{}),m.map(g=>e.jsx(tp,{type:"monotone",dataKey:g,stroke:"#2563eb",strokeWidth:2,dot:!1},g))]})})})})]})},AX=({title:t,columns:r,data:n,loading:a=!1,maxRows:s=5,onRowClick:o})=>{const c=n.slice(0,s);return a?e.jsxs("div",{className:"widget-panel widget-panel--table",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:e.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((l,h)=>e.jsx("div",{className:"skeleton-row",children:r.map((i,d)=>e.jsx("div",{className:"skeleton-cell"},d))},h))})})})]}):e.jsxs("div",{className:"widget-panel widget-panel--table",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:t}),n.length>s&&e.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:c.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),e.jsx("p",{children:"No data available"})]}):e.jsx("div",{className:"table-widget",children:e.jsxs("table",{className:"table-widget__table",children:[e.jsx("thead",{children:e.jsx("tr",{children:r.map(l=>e.jsx("th",{children:l.label},l.key))})}),e.jsx("tbody",{children:c.map((l,h)=>e.jsx("tr",{onClick:()=>o==null?void 0:o(l),className:o?"table-widget__row--clickable":"",children:r.map(i=>e.jsx("td",{children:i.render?i.render(l[i.key],l):l[i.key]||"-"},i.key))},h))})]})})})]})},hX=({title:t,tasks:r,loading:n=!1,maxItems:a=5,onTaskClick:s})=>{const o=r.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((l,h)=>e.jsx("div",{className:"skeleton-task-item"},h))})})]});const c=l=>{switch(l){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return e.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:t}),r.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[r.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:o.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),e.jsx("p",{children:"No tasks available"})]}):e.jsx("ul",{className:"task-list",children:o.map(l=>e.jsxs("li",{className:`task-item ${s?"task-item--clickable":""}`,onClick:()=>s==null?void 0:s(l),children:[e.jsxs("div",{className:"task-item__header",children:[e.jsx("h4",{className:"task-item__title",children:l.title}),e.jsx("span",{className:"task-item__status",style:{backgroundColor:c(l.status)},children:l.status})]}),l.description&&e.jsx("p",{className:"task-item__description",children:l.description}),l.dueDate&&e.jsx("div",{className:"task-item__meta",children:e.jsxs("span",{className:"task-item__due-date",children:["Due: ",l.dueDate]})})]},l.id))})})]})},fX=({title:t,items:r,loading:n=!1,maxItems:a=5,onApprove:s,onReject:o,onView:c,canApprove:l=!1,canReject:h=!1})=>{const i=r.slice(0,a);return n?e.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((d,u)=>e.jsx("div",{className:"skeleton-approval-item"},u))})})]}):e.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:t}),r.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[r.length," pending"]})]}),e.jsx("div",{className:"widget-panel__body",children:i.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"No pending approvals"})]}):e.jsx("ul",{className:"approval-queue",children:i.map(d=>e.jsxs("li",{className:"approval-item",children:[e.jsxs("div",{className:"approval-item__header",children:[e.jsxs("div",{className:"approval-item__info",children:[e.jsx("h4",{className:"approval-item__title",children:d.title}),d.description&&e.jsx("p",{className:"approval-item__description",children:d.description})]}),d.amount&&e.jsxs("div",{className:"approval-item__amount",children:["",d.amount.toLocaleString()]})]}),e.jsxs("div",{className:"approval-item__meta",children:[e.jsxs("span",{className:"approval-item__submitted",children:["By ",d.submittedBy,"  ",d.submittedOn]}),d.priority&&e.jsx("span",{className:`approval-item__priority approval-item__priority--${d.priority}`,children:d.priority})]}),e.jsxs("div",{className:"approval-item__actions",children:[c&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(d),children:"View"}),h&&o&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>o(d),children:"Reject"}),l&&s&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>s(d),children:"Approve"})]})]},d.id))})})]})},pX=({title:t,alerts:r,loading:n=!1,maxItems:a=5})=>{const s=r.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--alert",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,l)=>e.jsx("div",{className:"skeleton-alert-item"},l))})})]});const o=c=>{switch(c){case"error":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return e.jsxs("div",{className:"widget-panel widget-panel--alert",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:t}),r.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[r.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:s.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"No alerts"})]}):e.jsx("ul",{className:"alert-list",children:s.map(c=>e.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[e.jsx("div",{className:"alert-item__icon",children:o(c.type)}),e.jsxs("div",{className:"alert-item__content",children:[e.jsx("h4",{className:"alert-item__title",children:c.title}),e.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&e.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&e.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},mX=({title:t,activities:r,loading:n=!1,maxItems:a=10,onItemClick:s})=>{const o=r.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:t})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((l,h)=>e.jsx("div",{className:"skeleton-activity-item"},h))})})]});const c=l=>{switch(l){case"success":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return e.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:t}),r.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[r.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:o.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("ul",{className:"activity-timeline",children:o.map((l,h)=>e.jsxs("li",{className:`activity-item activity-item--${l.type||"info"} ${s?"activity-item--clickable":""}`,onClick:()=>s==null?void 0:s(l),children:[e.jsx("div",{className:"activity-item__line",children:h<o.length-1&&e.jsx("div",{className:"activity-item__line-connector"})}),e.jsx("div",{className:"activity-item__icon",children:l.icon||c(l.type)}),e.jsxs("div",{className:"activity-item__content",children:[e.jsxs("div",{className:"activity-item__header",children:[e.jsx("span",{className:"activity-item__user",children:l.user}),e.jsx("span",{className:"activity-item__timestamp",children:l.timestamp})]}),e.jsx("div",{className:"activity-item__action",children:l.action}),l.description&&e.jsx("div",{className:"activity-item__description",children:l.description})]})]},l.id))})})]})},gX=({widget:t,permissions:r,isPreviewMode:n})=>{var u,f,m,v,g,x,y,j,N,T,I,C,D,_;const[a,s]=M.useState(null),[o,c]=M.useState(!0),[l,h]=M.useState(null);if(!t||typeof t!="object"||Array.isArray(t))return console.error("[WidgetRenderer] Invalid widget passed:",t),null;if(!t.id||!t.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",t),null;const i=M.useMemo(()=>{var Z;return(Z=t.permissions)!=null&&Z.view?r[t.permissions.view]===!0:!0},[t.permissions,r]);if(M.useEffect(()=>{var V,ie,U,G;if(!t||!t.id||!t.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",t),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${t.id} check:`,{hasDataSource:!!t.dataSource,hasEndpoint:!!((V=t.dataSource)!=null&&V.endpoint),endpoint:(ie=t.dataSource)==null?void 0:ie.endpoint,canView:i,permissions:t.permissions,widgetType:t.type}),!((U=t.dataSource)!=null&&U.endpoint)){console.warn(`[WidgetRenderer] Widget ${t.id} has no dataSource.endpoint, skipping API call`,{widgetId:t.id,widgetTitle:t.title,widgetType:t.type,dataSource:t.dataSource,fullWidget:t}),c(!1);return}if(!i){console.warn(`[WidgetRenderer] Widget ${t.id} cannot be viewed (permission check failed)`,{widgetId:t.id,widgetTitle:t.title,requiredPermission:(G=t.permissions)==null?void 0:G.view,permissions:r}),c(!1);return}const Z=async()=>{var K;try{c(!0),h(null),console.log("[WidgetRenderer] Loading data for widget:",{id:t.id,type:t.type,endpoint:(K=t.dataSource)==null?void 0:K.endpoint,fullWidget:t});const W=await B8(t);console.log(`[WidgetRenderer] Data loaded for widget ${t.id}:`,{data:W,hasValue:(W==null?void 0:W.value)!==void 0,value:W==null?void 0:W.value,fullData:W}),W==null?(console.warn(`[WidgetRenderer] Widget ${t.id} returned null/undefined data`),s({value:0})):s(W)}catch(W){console.error(`[WidgetRenderer] Failed to load data for widget ${t.id}:`,W),console.error("[WidgetRenderer] Error type:",typeof W),console.error("[WidgetRenderer] Error message:",W==null?void 0:W.message),console.error("[WidgetRenderer] Error stack:",W==null?void 0:W.stack),console.error("[WidgetRenderer] Widget config:",t),h("Failed to load data"),s({value:0})}finally{c(!1)}};Z();let ae=null;return t.dataSource.refreshInterval&&t.dataSource.refreshInterval>0&&(ae=setInterval(Z,t.dataSource.refreshInterval*1e3)),()=>{ae&&clearInterval(ae)}},[t,i]),!i)return null;const d=((u=t.type)==null?void 0:u.toLowerCase().trim())||"metric";switch(d){case"metric":case"kpi":return e.jsx(E8,{title:t.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:o});case"chart":return e.jsx(uX,{title:t.title,type:((f=t.chartConfig)==null?void 0:f.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:o,xAxis:(m=t.chartConfig)==null?void 0:m.xAxis,yAxis:(v=t.chartConfig)==null?void 0:v.yAxis,series:(g=t.chartConfig)==null?void 0:g.series});case"table":return e.jsx(AX,{title:t.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:o,maxRows:((x=t.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":return e.jsx(hX,{title:t.title,tasks:(a==null?void 0:a.tasks)||[],loading:o,maxItems:((y=t.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return e.jsx(fX,{title:t.title,items:(a==null?void 0:a.items)||[],loading:o,maxItems:((j=t.props)==null?void 0:j.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:r[((T=(N=t.permissions)==null?void 0:N.actions)==null?void 0:T.approve)||""]||!1,canReject:r[((C=(I=t.permissions)==null?void 0:I.actions)==null?void 0:C.approve)||""]||!1});case"activity-timeline":return e.jsx(mX,{title:t.title,activities:(a==null?void 0:a.activities)||[],loading:o,maxItems:((D=t.props)==null?void 0:D.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return e.jsx(pX,{title:t.title,alerts:(a==null?void 0:a.alerts)||[],loading:o,maxItems:((_=t.props)==null?void 0:_.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${t.type}" (normalized: "${d}")`,t),e.jsxs("div",{className:"dashboard-widget-error",children:[e.jsxs("p",{children:["Unknown widget type: ",t.type||"undefined"]}),e.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",t.id||"N/A"]})]})}},vX=()=>{var I,C,D;const{user:t,logout:r}=ya(),n=In(),[a]=Ow(),[s,o]=M.useState([]),[c,l]=M.useState({}),[h,i]=M.useState(!0),[d,u]=M.useState(!1),[f,m]=M.useState({enabled:!1,role:null});M.useEffect(()=>{const _=a.get("preview")==="true",Z=sessionStorage.getItem("dashboard-preview-config"),ae=sessionStorage.getItem("dashboard-preview-role");if(_&&Z&&ae)try{const V=JSON.parse(Z);m({enabled:!0,role:ae}),o(V.widgets||[]),l(V.permissions||{}),i(!1)}catch(V){console.error("Failed to load preview config:",V)}},[a]);const v=f.enabled&&f.role?f.role:((I=t==null?void 0:t.roles)==null?void 0:I[0])||"viewer",g=f.enabled,x=a3(t),y=()=>{u(!d)},j=()=>{m({enabled:!1,role:null})},N=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...x?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")}]:[]];M.useEffect(()=>{if(f.enabled)return;(async()=>{i(!0);try{console.log("[DashboardPage] Loading dashboard for role:",v);const Z=await Oh.getDashboardConfig(v);console.log("[DashboardPage] Loaded role config:",{role:Z.role,widgetsCount:Array.isArray(Z.widgets)?Z.widgets.length:0,widgets:Z.widgets});const ae=t!=null&&t.id?await Oh.getUserOverrides(t.id):null,V=Oh.computePermissions(Z,ae);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray(V.widgets)?V.widgets.length:0,widgets:V.widgets});let ie=[];Array.isArray(V.widgets)?V.widgets.forEach(G=>{Array.isArray(G)?G.forEach(K=>{K&&typeof K=="object"&&!Array.isArray(K)&&ie.push(K)}):G&&typeof G=="object"&&!Array.isArray(G)&&ie.push(G)}):V.widgets&&typeof V.widgets=="object"&&!Array.isArray(V.widgets)&&(ie=[V.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray(V.widgets)?V.widgets.length:0,processedCount:ie.length,widgets:ie});const U=ie.filter(G=>!G||typeof G!="object"||Array.isArray(G)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",G),!1):!0).map((G,K)=>{var Ee,Fe,he,le,ve,se;if(G.id||(G.id=`widget-${Date.now()}-${K}-${Math.random()}`),G.dataSource||(G.dataSource={}),!G.dataSource.endpoint){const re=G.id.toLowerCase(),Ie=(G.title||"").toLowerCase(),Te=`${re} ${Ie}`;let xe=null;if(re.includes("total-invoices")||re.includes("totalinvoices")||re.startsWith("metric-total-invoices")?xe="/dashboard/kpi/total-invoices":re.includes("pending-invoices")||re.includes("pendinginvoices")||re.startsWith("metric-pending-invoices")?xe="/dashboard/kpi/pending-invoices":re.includes("total-revenue")||re.includes("totalrevenue")||re.startsWith("metric-total-revenue")?xe="/dashboard/kpi/total-revenue":re.includes("pending-payments")||re.includes("pendingpayments")||re.startsWith("metric-pending-payments")?xe="/dashboard/kpi/pending-payments":re.includes("receipts-today")||re.includes("receiptstoday")?xe="/dashboard/kpi/receipts-today":re.includes("active-users")||re.includes("activeusers")?xe="/dashboard/kpi/active-users":re.includes("errors-today")||re.includes("errorstoday")?xe="/dashboard/kpi/errors-today":re.includes("monthly-revenue")||re.includes("monthlyrevenue")||re.startsWith("chart-monthly-revenue")?xe="/dashboard/chart/monthly-revenue":re.includes("payment-status")||re.includes("paymentstatus")?xe="/dashboard/chart/payment-status":re.includes("invoice-aging")||re.includes("invoiceaging")?xe="/dashboard/chart/invoice-aging":re.includes("recent-invoices")||re.includes("recentinvoices")||re.startsWith("table-recent-invoices")?xe="/dashboard/table/recent-invoices":re.includes("recent-payments")||re.includes("recentpayments")?xe="/dashboard/table/recent-payments":re.includes("pending-receipts")||re.includes("pendingreceipts")?xe="/dashboard/table/pending-receipts":re.includes("pending-approvals")||re.includes("pendingapprovals")||re.includes("approval-queue")||re.startsWith("approval-queue")?xe="/dashboard/tasks/pending-approvals":re.includes("assigned-tasks")||re.includes("assignedtasks")?xe="/dashboard/tasks/assigned":re.includes("payment-overdue")||re.includes("paymentoverdue")?xe="/dashboard/alerts/payment-overdue":(re.includes("compliance-expiry")||re.includes("complianceexpiry"))&&(xe="/dashboard/alerts/compliance-expiry"),xe||(Te.includes("total invoices")||Te.includes("totalinvoices")?xe="/dashboard/kpi/total-invoices":Te.includes("pending invoices")||Te.includes("pendinginvoices")?xe="/dashboard/kpi/pending-invoices":Te.includes("total revenue")||Te.includes("totalrevenue")?xe="/dashboard/kpi/total-revenue":Te.includes("pending payments")||Te.includes("pendingpayments")?xe="/dashboard/kpi/pending-payments":Te.includes("receipts today")||Te.includes("receiptstoday")?xe="/dashboard/kpi/receipts-today":Te.includes("active users")||Te.includes("activeusers")?xe="/dashboard/kpi/active-users":Te.includes("errors today")||Te.includes("errorstoday")?xe="/dashboard/kpi/errors-today":Te.includes("monthly revenue")||Te.includes("monthlyrevenue")?xe="/dashboard/chart/monthly-revenue":Te.includes("payment status")||Te.includes("paymentstatus")?xe="/dashboard/chart/payment-status":Te.includes("invoice aging")||Te.includes("invoiceaging")?xe="/dashboard/chart/invoice-aging":Te.includes("recent invoices")||Te.includes("recentinvoices")?xe="/dashboard/table/recent-invoices":Te.includes("recent payments")||Te.includes("recentpayments")?xe="/dashboard/table/recent-payments":Te.includes("pending receipts")||Te.includes("pendingreceipts")?xe="/dashboard/table/pending-receipts":Te.includes("pending approvals")||Te.includes("pendingapprovals")||Te.includes("approval queue")?xe="/dashboard/tasks/pending-approvals":Te.includes("assigned tasks")||Te.includes("assignedtasks")?xe="/dashboard/tasks/assigned":Te.includes("payment overdue")||Te.includes("paymentoverdue")?xe="/dashboard/alerts/payment-overdue":(Te.includes("compliance expiry")||Te.includes("complianceexpiry"))&&(xe="/dashboard/alerts/compliance-expiry")),xe)console.log(`[DashboardPage] Widget ${G.id} endpoint inferred from ID/title:`,{widgetId:G.id,widgetTitle:G.title,inferredEndpoint:xe});else{const pe=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];G.type==="metric"||G.type==="kpi"?xe=pe[K%pe.length]||"/dashboard/kpi/total-invoices":G.type==="chart"?xe="/dashboard/chart/monthly-revenue":G.type==="table"?xe="/dashboard/table/recent-invoices":G.type==="task-list"||G.type==="approval-queue"?xe="/dashboard/tasks/pending-approvals":G.type==="alert"?xe="/dashboard/alerts/payment-overdue":xe=pe[K%pe.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${G.id} missing endpoint, using index-based assignment:`,{widgetId:G.id,widgetTitle:G.title,widgetType:G.type,widgetIndex:K,assignedEndpoint:xe})}G.dataSource.endpoint=xe}if(!G.title){const re=((Ee=G.dataSource)==null?void 0:Ee.endpoint)||"";re.includes("total-invoices")?G.title="Total Invoices":re.includes("pending-invoices")?G.title="Pending Invoices":re.includes("total-revenue")?G.title="Total Revenue":re.includes("pending-payments")?G.title="Pending Payments":re.includes("receipts-today")?G.title="Receipts Today":re.includes("active-users")?G.title="Active Users":re.includes("errors-today")?G.title="Errors Today":re.includes("monthly-revenue")?G.title="Monthly Revenue":re.includes("payment-status")?G.title="Payment Status":re.includes("invoice-aging")?G.title="Invoice Aging":re.includes("recent-invoices")?G.title="Recent Invoices":re.includes("recent-payments")?G.title="Recent Payments":re.includes("pending-receipts")?G.title="Pending Receipts":re.includes("pending-approvals")?G.title="Pending Approvals":re.includes("assigned-tasks")?G.title="Assigned Tasks":re.includes("payment-overdue")?G.title="Payment Overdue":re.includes("compliance-expiry")?G.title="Compliance Expiry":G.title=`Widget ${K+1}`,console.log(`[DashboardPage] Widget ${G.id} missing title, inferred from endpoint:`,{widgetId:G.id,inferredTitle:G.title,endpoint:(Fe=G.dataSource)==null?void 0:Fe.endpoint})}if(!G.type){const re=((he=G.dataSource)==null?void 0:he.endpoint)||"";re.includes("/kpi/")||re.includes("/dashboard/kpi/")?G.type="metric":re.includes("/chart/")||re.includes("/dashboard/chart/")?G.type="chart":re.includes("/table/")||re.includes("/dashboard/table/")?G.type="table":re.includes("/tasks/")||re.includes("/approval")||re.includes("/dashboard/tasks/")?G.type="task-list":re.includes("/alerts/")||re.includes("/dashboard/alerts/")?G.type="alert":re.includes("/activity")||re.includes("/timeline")?G.type="activity-timeline":(G.id&&!G.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:G.id,title:G.title,endpoint:re||"none"}),G.type="metric")}const W=G.type.toLowerCase().trim(),ge={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[W];return ge?G.type=ge:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(W)||(console.warn(`[DashboardPage] Unknown widget type "${G.type}", defaulting to "metric"`,G),G.type="metric"),(!G.gridColumn||G.gridColumn<1)&&(G.gridColumn=1),G.gridColumn>4&&(G.gridColumn=4),(le=G.dataSource)!=null&&le.endpoint||(console.error(`[DashboardPage] Widget ${G.id} still missing endpoint after validation!`,G),G.dataSource=G.dataSource||{},G.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:G.id,title:G.title,type:G.type,endpoint:(ve=G.dataSource)==null?void 0:ve.endpoint,hasEndpoint:!!((se=G.dataSource)!=null&&se.endpoint)}),G}).filter(G=>!G||typeof G!="object"||Array.isArray(G)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",G),!1):!G.id||!G.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",G),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(G.type)?!G.dataSource||!G.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",G),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",G),!1));console.log("[DashboardPage] Final validated widgets:",{count:U.length,widgets:U}),o(U),l(V.permissions)}catch(Z){console.error("[DashboardPage] Failed to load dashboard:",Z),o([]),l({})}finally{i(!1)}})()},[v,t==null?void 0:t.id,f.enabled,n.pathname]);const T=M.useMemo(()=>{const _=[];let Z=[],ae=0;return s.forEach(V=>{const ie=V.gridColumn||1;ae+ie>4?(_.push(Z),Z=[V],ae=ie):(Z.push(V),ae+=ie)}),Z.length>0&&_.push(Z),_},[s]);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${d?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!d&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:y,"aria-label":d?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:N.map(_=>e.jsx("li",{children:e.jsxs(Zr,{to:_.path,className:`nav-link ${_.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:_.icon}),!d&&e.jsx("span",{className:"nav-label",children:_.label})]})},_.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!d&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!d&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard"})})}),e.jsxs("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:[g&&e.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",((C=f.role)==null?void 0:C.charAt(0).toUpperCase())+((D=f.role)==null?void 0:D.slice(1))]})]}),e.jsx("button",{onClick:j,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),h&&e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"dashboard-loading-spinner"}),e.jsx("p",{children:"Loading dashboard..."})]}),!h&&e.jsx("div",{className:"dashboard-widget-grid",children:T.map((_,Z)=>e.jsx("div",{className:"dashboard-widget-row",children:_.map((ae,V)=>!ae||typeof ae!="object"||Array.isArray(ae)||!ae.id||!ae.type?(console.error("[DashboardPage] Invalid widget in render:",ae),e.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:"span 1"},children:e.jsx("div",{className:"widget-error",children:"Invalid widget configuration"})},`invalid-widget-${Z}-${V}`)):e.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:`span ${ae.gridColumn||1}`,gridRow:ae.gridRow?`span ${ae.gridRow}`:void 0},children:e.jsx(M.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(gX,{widget:ae,permissions:c,isPreviewMode:g})})},ae.id||`widget-${Z}-${V}`))},`row-${Z}`))}),!h&&s.length===0&&e.jsxs("div",{className:"dashboard-empty-state",children:[e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsx("h2",{children:"No widgets configured"}),e.jsx("p",{children:"Your dashboard is empty. Contact your administrator to configure widgets for your role."})]})]})]})]})},xX=({catalog:t,onAddWidget:r})=>{const[n,a]=wt.useState({kpis:!0,charts:!0,tables:!0,tasks:!0,alerts:!0}),s=c=>{a(l=>({...l,[c]:!l[c]}))},o=(c,l,h,i)=>{const d=n[i];return e.jsxs("div",{className:"catalog-group",children:[e.jsxs("button",{className:"catalog-group-header",onClick:()=>s(i),children:[e.jsx("span",{className:"catalog-group-title",children:c}),e.jsxs("span",{className:"catalog-group-count",children:["(",l.length,")"]}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`catalog-group-arrow ${d?"expanded":""}`,children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),d&&e.jsx("div",{className:"catalog-group-items",children:l.length===0?e.jsx("div",{className:"catalog-empty",children:"No items available"}):l.map(u=>e.jsxs("div",{className:"catalog-item",onClick:()=>r(u,h),children:[e.jsxs("div",{className:"catalog-item-header",children:[e.jsx("span",{className:"catalog-item-title",children:u.title}),e.jsx("button",{className:"catalog-item-add-btn",onClick:f=>{f.stopPropagation(),r(u,h)},title:"Add to dashboard",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),u.description&&e.jsx("div",{className:"catalog-item-description",children:u.description}),e.jsxs("div",{className:"catalog-item-meta",children:[e.jsx("span",{className:"catalog-item-type",children:h.toUpperCase()}),u.format&&e.jsx("span",{className:"catalog-item-format",children:u.format})]})]},u.code))})]})};return e.jsxs("div",{className:"catalog-panel",children:[e.jsxs("div",{className:"catalog-panel-header",children:[e.jsx("h2",{className:"catalog-panel-title",children:"Available Widgets"}),e.jsx("p",{className:"catalog-panel-subtitle",children:"Click to add widgets to the dashboard configuration"})]}),e.jsxs("div",{className:"catalog-panel-content",children:[o("KPIs",t.kpis,"kpi","kpis"),o("Charts",t.charts,"chart","charts"),o("Tables",t.tables,"table","tables"),o("Tasks",t.tasks,"task","tasks"),o("Alerts",t.alerts,"alert","alerts")]})]})},yX=({widgets:t,selectedWidgetId:r,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:s,onReorderWidget:o})=>{const c=h=>h===4?"Full":h===2?"Half":h===1?"Quarter":`${h}/4`,l=(h,i)=>{a(h,{gridColumn:i})};return e.jsxs("div",{className:"dashboard-canvas",children:[e.jsxs("div",{className:"dashboard-canvas-header",children:[e.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),e.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),e.jsx("div",{className:"dashboard-canvas-content",children:t.length===0?e.jsxs("div",{className:"dashboard-canvas-empty",children:[e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),e.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),e.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):e.jsx("div",{className:"dashboard-canvas-widgets",children:t.map((h,i)=>{const d=r===h.id,u=i>0,f=i<t.length-1;return e.jsxs("div",{className:`dashboard-canvas-widget ${d?"selected":""}`,style:{gridColumn:`span ${h.gridColumn}`},onClick:()=>n(h.id),children:[e.jsxs("div",{className:"dashboard-canvas-widget-header",children:[e.jsxs("div",{className:"dashboard-canvas-widget-info",children:[e.jsx("span",{className:"dashboard-canvas-widget-title",children:h.title}),e.jsx("span",{className:"dashboard-canvas-widget-type",children:h.type})]}),e.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[e.jsxs("select",{value:h.gridColumn,onChange:m=>l(h.id,parseInt(m.target.value,10)),onClick:m=>m.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[e.jsx("option",{value:"1",children:"Quarter"}),e.jsx("option",{value:"2",children:"Half"}),e.jsx("option",{value:"4",children:"Full"})]}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:m=>{m.stopPropagation(),u&&o(h.id,"up")},disabled:!u,title:"Move up",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})})}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:m=>{m.stopPropagation(),f&&o(h.id,"down")},disabled:!f,title:"Move down",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:m=>{m.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&s(h.id)},title:"Remove widget",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),e.jsx("div",{className:"dashboard-canvas-widget-preview",children:e.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[e.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[h.type==="metric"&&" Metric Widget",h.type==="chart"&&" Chart Widget",h.type==="table"&&" Table Widget",h.type==="task-list"&&" Task List Widget",h.type==="alert"&&" Alert Widget",!["metric","chart","table","task-list","alert"].includes(h.type)&&"Widget Preview"]}),e.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(h.gridColumn)})]})})]},h.id||`widget-${i}`)})})})]})},bX=({widget:t,onUpdateWidget:r})=>{if(!t)return e.jsx("div",{className:"widget-settings-panel",children:e.jsxs("div",{className:"widget-settings-empty",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),e.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{r(t.id,{title:c})},a=c=>{r(t.id,{description:c})},s=c=>{r(t.id,{gridColumn:c})},o=c=>{r(t.id,{chartConfig:{...t.chartConfig,type:c}})};return e.jsxs("div",{className:"widget-settings-panel",children:[e.jsxs("div",{className:"widget-settings-header",children:[e.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),e.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),e.jsxs("div",{className:"widget-settings-content",children:[e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),e.jsx("div",{className:"widget-settings-readonly",children:t.id})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),e.jsx("div",{className:"widget-settings-readonly",children:t.type})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),e.jsx("input",{id:"widget-title",type:"text",value:t.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),e.jsx("textarea",{id:"widget-description",value:t.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),e.jsxs("select",{id:"widget-size",value:t.gridColumn,onChange:c=>s(parseInt(c.target.value,10)),className:"widget-settings-select",children:[e.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),e.jsx("option",{value:"2",children:"Half (1/2 width)"}),e.jsx("option",{value:"4",children:"Full (full width)"})]})]}),t.type==="chart"&&t.chartConfig&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),e.jsxs("select",{id:"widget-chart-type",value:t.chartConfig.type||"line",onChange:c=>o(c.target.value),className:"widget-settings-select",children:[e.jsx("option",{value:"line",children:"Line Chart"}),e.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),t.dataSource&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),e.jsx("div",{className:"widget-settings-readonly",children:t.dataSource.endpoint}),e.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),t.permissions&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Permissions"}),e.jsxs("div",{className:"widget-settings-permissions",children:[t.permissions.view&&e.jsxs("div",{className:"widget-settings-permission",children:[e.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),e.jsx("span",{className:"widget-settings-permission-value",children:t.permissions.view})]}),t.permissions.actions&&Object.entries(t.permissions.actions).map(([c,l])=>e.jsxs("div",{className:"widget-settings-permission",children:[e.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),e.jsx("span",{className:"widget-settings-permission-value",children:l})]},c))]})]})]})]})},jX=()=>{const t=ds(),[r,n]=wt.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,s]=wt.useState([]),[o,c]=wt.useState(""),[l,h]=wt.useState("role"),[i,d]=wt.useState(null),[u,f]=wt.useState(null),[m,v]=wt.useState(!1),[g,x]=wt.useState(!1),[y,j]=wt.useState(null);wt.useEffect(()=>{(async()=>{v(!0);try{const[V,ie]=await Promise.all([Oh.getCatalog(),Oh.getAvailableRoles()]);n(V),s(ie)}catch(V){console.error("Failed to load catalog:",V),j("Failed to load dashboard catalog")}finally{v(!1)}})()},[]),wt.useEffect(()=>{o?(async()=>{v(!0);try{const V=await Oh.getDashboardConfigByTarget(o);d(V),f(null)}catch(V){console.error("Failed to load configuration:",V),j("Failed to load dashboard configuration")}finally{v(!1)}})():(d(null),f(null))},[o,l]);const N=(ae,V)=>{if(!i){alert("Please select a role or department first");return}const ie={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},U={id:`${ae.code.toLowerCase()}-${Date.now()}`,type:ie[V]||"metric",title:ae.title,description:ae.description,gridColumn:2,dataSource:{endpoint:ae.api,method:"GET"},...V==="chart"&&ae.chartTypes&&ae.chartTypes.length>0&&{chartConfig:{type:ae.chartTypes[0]}}};d({...i,widgets:[...i.widgets,U]}),f(U.id)},T=(ae,V)=>{i&&d({...i,widgets:i.widgets.map(ie=>ie.id===ae?{...ie,...V}:ie)})},I=ae=>{i&&(d({...i,widgets:i.widgets.filter(V=>V.id!==ae)}),u===ae&&f(null))},C=(ae,V)=>{if(!i)return;const ie=i.widgets.findIndex(K=>K.id===ae);if(ie===-1)return;const U=V==="up"?ie-1:ie+1;if(U<0||U>=i.widgets.length)return;const G=[...i.widgets];[G[ie],G[U]]=[G[U],G[ie]],d({...i,widgets:G})},D=async()=>{if(!i||!o){alert("Please select a role or department and configure widgets");return}x(!0),j(null);try{const ae={...i,widgets:(i.widgets||[]).filter(V=>V&&typeof V=="object"&&!Array.isArray(V)),menuItems:Array.isArray(i.menuItems)?i.menuItems:[],permissions:i.permissions&&typeof i.permissions=="object"&&!Array.isArray(i.permissions)?i.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:ae.role,widgetsCount:ae.widgets.length,widgets:ae.widgets}),await Oh.saveDashboardConfig(ae),alert("Dashboard configuration saved successfully")}catch(ae){console.error("Failed to save configuration:",ae);const V=(ae==null?void 0:ae.message)||"Failed to save dashboard configuration";j(V)}finally{x(!1)}},_=()=>{if(!i||!o){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(i)),sessionStorage.setItem("dashboard-preview-role",o),t("/dashboard?preview=true")},Z=(i==null?void 0:i.widgets.find(ae=>ae.id===u))||null;return e.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[e.jsxs("div",{className:"dashboard-configuration-toolbar",children:[e.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[e.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),e.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),e.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[e.jsxs("div",{className:"dashboard-configuration-target-selector",children:[e.jsxs("select",{value:l,onChange:ae=>{h(ae.target.value),c("")},className:"dashboard-configuration-type-select",children:[e.jsx("option",{value:"role",children:"Role"}),e.jsx("option",{value:"department",children:"Department"})]}),e.jsxs("select",{value:o,onChange:ae=>c(ae.target.value),className:"dashboard-configuration-target-select",disabled:m,children:[e.jsxs("option",{value:"",children:["Select ",l,"..."]}),l==="role"&&a.map(ae=>e.jsx("option",{value:ae,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))]})]}),e.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:_,disabled:!i||!o||i.widgets.length===0,title:"Preview dashboard with current configuration",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),e.jsx("button",{className:"dashboard-configuration-btn save",onClick:D,disabled:!i||!o||g,children:g?"Saving...":"Save Configuration"})]})]}),y&&e.jsxs("div",{className:"dashboard-configuration-error",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),e.jsxs("div",{className:"dashboard-configuration-panels",children:[e.jsx("div",{className:"dashboard-configuration-panel-left",children:m&&!r.kpis.length?e.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):e.jsx(xX,{catalog:r,onAddWidget:N})}),e.jsx("div",{className:"dashboard-configuration-panel-center",children:m&&!i?e.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):i?e.jsx(yX,{widgets:i.widgets,selectedWidgetId:u,onSelectWidget:f,onUpdateWidget:T,onRemoveWidget:I,onReorderWidget:C}):e.jsx("div",{className:"dashboard-configuration-empty-state",children:e.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),e.jsx("div",{className:"dashboard-configuration-panel-right",children:e.jsx(bX,{widget:Z,onUpdateWidget:T})})]})]})},wX=()=>{const{user:t,logout:r}=ya(),n=In(),[a,s]=wt.useState(!1),o=a3(t);wt.useEffect(()=>{o||(window.location.href="/dashboard")},[o]);const c=()=>{s(!a)},l=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...o?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")}]:[]];return o?e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(h=>e.jsx("li",{children:e.jsxs(Zr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!a&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Dashboard Configuration"})})}),e.jsx("div",{className:"dashboard-configuration-content",style:{padding:0,overflow:"hidden",flex:1},children:e.jsx(jX,{})})]})]}):null},CX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},h=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"}),e.jsx("path",{d:"M12 13l-2-2"}),e.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),e.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),i=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:i.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Transaction"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Transaction"}),e.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},NX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},h=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),i=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:i.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Finance"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Finance"}),e.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},BX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},h=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),i=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:i.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Commercial / Agreements"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),e.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},SX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},h=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),i=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:i.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Compliance & Training"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Compliance & Training"}),e.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},EX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},h=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),e.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),e.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),e.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"}),e.jsx("path",{d:"M12 13l-2-2"}),e.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase())),i=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:i.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Masters"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Masters"}),e.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},IX="http://localhost:3000/api/v1",kX=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},kp=async(t,r={})=>{const n=kX(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${IX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{s.status===401?o="User not authenticated":s.status===403&&(o="Access forbidden")}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Ha={createCompany:async t=>(await kp("/companies",{method:"POST",body:JSON.stringify(t)})).data,getCompanyById:async t=>(await kp(`/companies/${t}`,{method:"GET"})).data,getAllCompanies:async(t=!1)=>(await kp(t?"/companies?activeOnly=true":"/companies",{method:"GET"})).data,updateCompany:async(t,r)=>(await kp(`/companies/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteCompany:async t=>{await kp(`/companies/${t}`,{method:"DELETE"})}},RC=t=>{var a,s;if(!t)return!1;if(t.roles.includes("superadmin")||t.id==="00000000-0000-0000-0000-000000000001")return!0;const r=(a=t.email)==null?void 0:a.toLowerCase();return r==="superadmin@medi-waste.io"||r==="superadmin"||((s=t.name)==null?void 0:s.toLowerCase())==="superadmin"},ef=t=>t?RC(t)||t.roles.includes("admin"):!1,TX=t=>t?RC(t)||t.roles.includes("admin"):!1,FX=t=>t?RC(t):!1;function p1({data:t,columns:r,onEdit:n,onDelete:a,onRowClick:s,getId:o,emptyMessage:c="No data available"}){return e.jsx("div",{className:"data-table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[r.map(l=>e.jsx("th",{style:{minWidth:l.minWidth?`${l.minWidth}px`:"auto"},children:l.label},l.key)),(n||a)&&e.jsx("th",{className:"col-actions",children:"Actions"})]})}),e.jsx("tbody",{children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:r.length+(n||a?1:0),className:"empty-state",children:c})}):t.map(l=>e.jsxs("tr",{onClick:()=>s&&s(l),style:{cursor:s?"pointer":"default"},className:s?"data-table-row-clickable":"",children:[r.map(h=>e.jsx("td",{className:h.allowWrap?"allow-wrap":"",onClick:i=>{i.target.closest(".action-btn")&&i.stopPropagation()},children:h.render?h.render(l):l[h.key]||"-"},h.key)),(n||a)&&e.jsxs("td",{onClick:h=>h.stopPropagation(),children:[n&&e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>n(l),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),a&&e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>a(o(l)),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},o(l)))})]})})}function tf({title:t,breadcrumb:r,data:n,filteredData:a,columns:s,searchQuery:o,onSearchChange:c,onAdd:l,onEdit:h,onDelete:i,getId:d,addButtonLabel:u="Add",emptyMessage:f,children:m,showAddButton:v}){const{user:g}=ya(),x=v!==void 0?v:ef(g);return e.jsxs("div",{className:"master-page-layout",children:[e.jsx("div",{className:"master-page-header",children:e.jsx("h1",{className:"master-page-title",children:t})}),m&&e.jsx("div",{className:"master-page-content",children:m}),e.jsxs("div",{className:"master-page-actions",children:[e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:o,onChange:y=>c(y.target.value)})]}),x&&e.jsxs("button",{className:"add-item-btn",onClick:l,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),u]})]}),e.jsx(p1,{data:a,columns:s,onEdit:h,onDelete:i,getId:d,emptyMessage:f}),e.jsxs("div",{className:"master-pagination-info",children:["Showing ",a.length," of ",n.length," Items"]})]})}function rf({tabs:t,activeTab:r,onTabChange:n}){return e.jsx("div",{className:"tabs-container",children:t.map(a=>e.jsx("button",{className:`tab-button ${r===a.id?"tab-button--active":""}`,onClick:()=>n(a.id),children:a.label},a.id))})}const PX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(!1),s=()=>{a(!n)},o=ds(),[c,l]=M.useState(""),[h,i]=M.useState("list"),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j]=M.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[N]=M.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[T,I]=M.useState([]),C=K=>({id:K.id,companyCode:K.companyCode,companyName:K.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:K.status,createdBy:K.createdBy||"System",createdOn:K.createdOn,modifiedBy:K.modifiedBy||"System",modifiedOn:K.modifiedOn}),D=async()=>{g(!0),y(null);try{const W=(await Ha.getAllCompanies(!0)).map(Ne=>C(Ne));I(W)}catch(K){const W=K.message||"Failed to load companies";if(console.error("Error loading companies:",K),W.includes("not authenticated")||W.includes("Unauthorized")||W.includes("401")||W.includes("403")||(K==null?void 0:K.status)===401||(K==null?void 0:K.status)===403){localStorage.removeItem("mw-auth-user"),o("/login",{replace:!0});return}y(W)}finally{g(!1)}};M.useEffect(()=>{D()},[]);const _=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],Z=T.filter(K=>{const W=c.toLowerCase();return(K.companyName||"").toLowerCase().includes(W)||(K.companyCode||"").toLowerCase().includes(W)||(K.gstin||"").toLowerCase().includes(W)}),ae=()=>{m(null),u(!0)},V=K=>{m(K),u(!0)},ie=async K=>{if(window.confirm("Are you sure you want to delete this company?")){g(!0),y(null);try{await Ha.deleteCompany(K),await D()}catch(W){y(W.message||"Failed to delete company"),console.error("Error deleting company:",W)}finally{g(!1)}}},U=async K=>{g(!0),y(null);try{if(f){const W={companyCode:K.companyCode,companyName:K.companyName,status:K.status};await Ha.updateCompany(f.id,W)}else{if(!K.companyCode||!K.companyName)throw new Error("Company Code and Company Name are required");const W={companyCode:K.companyCode,companyName:K.companyName};await Ha.createCompany(W)}await D(),u(!1),m(null)}catch(W){const Ne=W.message||"Failed to save company";y(Ne),console.error("Error saving company:",W),(Ne.includes("403")||Ne.includes("401")||Ne.includes("Unauthorized"))&&y("Authentication failed. Please login again.")}finally{g(!1)}},G=[{key:"companyCode",label:"Code",minWidth:110},{key:"companyName",label:"Company Name",minWidth:150,allowWrap:!0},{key:"gstin",label:"GSTIN",minWidth:130},{key:"state",label:"State",minWidth:120},{key:"pcbauthNum",label:"PCB Auth #",minWidth:110},{key:"ctoWaterNum",label:"CTO Water #",minWidth:120},{key:"ctoWaterDate",label:"CTO Wtr Date",minWidth:130},{key:"ctoWaterValidUpto",label:"CTO Wtr Valid To",minWidth:150},{key:"ctoAirNum",label:"CTO Air #",minWidth:110},{key:"ctoAirDate",label:"CTO Air Date",minWidth:130},{key:"ctoAirValidUpto",label:"CTO Air Valid To",minWidth:150},{key:"cteWaterNum",label:"CTE Water #",minWidth:120},{key:"cteWaterDate",label:"CTE Wtr Date",minWidth:130},{key:"cteWaterValidUpto",label:"CTE Wtr Valid To",minWidth:150},{key:"cteAirNum",label:"CTE Air #",minWidth:110},{key:"cteAirDate",label:"CTE Air Date",minWidth:130},{key:"cteAirValidUpto",label:"CTE Air Valid To",minWidth:150},{key:"hazardousWasteNum",label:"Haz Waste #",minWidth:140},{key:"pcbZoneID",label:"PCB Zone",minWidth:110},{key:"gstValidFrom",label:"GST From",minWidth:130},{key:"gstRate",label:"GST Rate",minWidth:100},{key:"status",label:"Status",minWidth:90,render:K=>e.jsx("span",{className:`status-badge status-badge--${K.status.toLowerCase()}`,children:K.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:_.map(K=>e.jsx("li",{children:e.jsxs(Zr,{to:K.path,className:`nav-link ${K.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:K.icon}),!n&&e.jsx("span",{className:"nav-label",children:K.label})]})},K.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Company Master"})})}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),v&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),e.jsx(tf,{title:"Company Master",breadcrumb:"/ Masters / Company Master",data:T,filteredData:Z,columns:G,searchQuery:c,onSearchChange:l,onAdd:ae,onEdit:V,onDelete:ie,getId:K=>K.id,addButtonLabel:"Add Company",children:e.jsx(rf,{tabs:[{id:"list",label:"Company List"}],activeTab:h,onTabChange:K=>i(K)})})]}),d&&e.jsx(OX,{company:f,states:j.filter(K=>K.status==="Active"),pcbZones:N.filter(K=>K.status==="Active"),loading:v,onClose:()=>{u(!1),m(null)},onSave:U})]})},OX=({company:t,states:r,pcbZones:n,loading:a=!1,onClose:s,onSave:o})=>{const[c,l]=M.useState(t||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),h=i=>{i.preventDefault(),o(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Company":"Add Company"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"company-form",onSubmit:h,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Code *"}),e.jsx("input",{type:"text",value:c.companyCode||"",onChange:i=>l({...c,companyCode:i.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsx("input",{type:"text",value:c.companyName||"",onChange:i=>l({...c,companyName:i.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GSTIN *"}),e.jsx("input",{type:"text",value:c.gstin||"",onChange:i=>l({...c,gstin:i.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State *"}),e.jsxs("select",{value:c.state||"",onChange:i=>l({...c,state:i.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select State"}),r.map(i=>e.jsx("option",{value:i.stateCode,children:i.stateCode},i.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode"}),e.jsx("input",{type:"text",value:c.pincode||"",onChange:i=>l({...c,pincode:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:c.prefix||"",onChange:i=>l({...c,prefix:i.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Addresses"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Registered Office Address"}),e.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:i=>l({...c,regdOfficeAddress:i.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Admin Office Address"}),e.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:i=>l({...c,adminOfficeAddress:i.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Factory Address"}),e.jsx("textarea",{value:c.factoryAddress||"",onChange:i=>l({...c,factoryAddress:i.target.value}),rows:3})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Authorized Person"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",value:c.authPersonName||"",onChange:i=>l({...c,authPersonName:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Designation"}),e.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:i=>l({...c,authPersonDesignation:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:i=>l({...c,authPersonDOB:i.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"PCB Authorization"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Auth Num"}),e.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:i=>l({...c,pcbauthNum:i.target.value})})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"CTO Water"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTO Water Num"}),e.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:i=>l({...c,ctoWaterNum:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTO Water Date"}),e.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:i=>l({...c,ctoWaterDate:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTO Water Valid Upto"}),e.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:i=>l({...c,ctoWaterValidUpto:i.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"CTO Air"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTO Air Num"}),e.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:i=>l({...c,ctoAirNum:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTO Air Date"}),e.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:i=>l({...c,ctoAirDate:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTO Air Valid Upto"}),e.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:i=>l({...c,ctoAirValidUpto:i.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"CTE Water"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTE Water Num"}),e.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:i=>l({...c,cteWaterNum:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTE Water Date"}),e.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:i=>l({...c,cteWaterDate:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTE Water Valid Upto"}),e.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:i=>l({...c,cteWaterValidUpto:i.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"CTE Air"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTE Air Num"}),e.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:i=>l({...c,cteAirNum:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTE Air Date"}),e.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:i=>l({...c,cteAirDate:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CTE Air Valid Upto"}),e.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:i=>l({...c,cteAirValidUpto:i.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Additional Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hazardous Waste Num"}),e.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:i=>l({...c,hazardousWasteNum:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Zone ID"}),e.jsxs("select",{value:c.pcbZoneID||"",onChange:i=>l({...c,pcbZoneID:i.target.value}),children:[e.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(i=>e.jsx("option",{value:i.pcbZoneName,children:i.pcbZoneName},i.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GST Valid From"}),e.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:i=>l({...c,gstValidFrom:i.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GST Rate"}),e.jsx("input",{type:"text",value:c.gstRate||"",onChange:i=>l({...c,gstRate:i.target.value}),placeholder:"e.g., 18%"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Status"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Active",onChange:i=>l({...c,status:i.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":t?"Update":"Save"})]})]})]})})},MX="http://localhost:3000/api/v1",DX=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Tp=async(t,r={})=>{const n=DX(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${MX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},om={createState:async t=>(await Tp("/states",{method:"POST",body:JSON.stringify(t)})).data,getStateById:async t=>(await Tp(`/states/${t}`,{method:"GET"})).data,getAllStates:async(t=!1)=>(await Tp(t?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(t,r)=>(await Tp(`/states/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteState:async t=>{await Tp(`/states/${t}`,{method:"DELETE"})}},_X=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(!1),s=()=>{a(!n)},[o,c]=M.useState(""),[l,h]=M.useState("list"),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(null),N=async()=>{x(!0),j(null);try{const ie=(await om.getAllStates(!0)).map(U=>({id:U.id,stateCode:U.stateCode,stateName:U.stateName,status:U.status,createdBy:U.createdBy||"",createdOn:U.createdOn,modifiedBy:U.modifiedBy||"",modifiedOn:U.modifiedOn}));v(ie)}catch(V){const ie=V instanceof Error?V.message:"Failed to load states";j(ie),console.error("Error loading states:",V)}finally{x(!1)}};M.useEffect(()=>{N()},[]);const T=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],I=m.filter(V=>V.stateName.toLowerCase().includes(o.toLowerCase())||V.stateCode.toLowerCase().includes(o.toLowerCase())),C=()=>{f(null),d(!0)},D=V=>{f(V),d(!0)},_=async V=>{if(window.confirm("Are you sure you want to delete this state?"))try{x(!0),await om.deleteState(V),await N(),alert("State deleted successfully")}catch(ie){const U=ie instanceof Error?ie.message:"Failed to delete state";alert(`Error: ${U}`),console.error("Error deleting state:",ie)}finally{x(!1)}},Z=async V=>{try{if(x(!0),j(null),u)await om.updateState(u.id,{status:V.status}),alert("State updated successfully");else{if(!V.stateCode||!V.stateName){alert("Please fill in all required fields");return}await om.createState({stateCode:V.stateCode,stateName:V.stateName}),alert("State created successfully")}d(!1),f(null),await N()}catch(ie){const U=ie instanceof Error?ie.message:"Failed to save state";j(U),alert(`Error: ${U}`),console.error("Error saving state:",ie)}finally{x(!1)}},ae=[{key:"stateCode",label:"State Code",minWidth:120},{key:"stateName",label:"State Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:V=>e.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:T.map(V=>e.jsx("li",{children:e.jsxs(Zr,{to:V.path,className:`nav-link ${V.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:V.icon}),!n&&e.jsx("span",{className:"nav-label",children:V.label})]})},V.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / State Master"})})}),y&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),g&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading states..."}),e.jsx(tf,{title:"State Master",breadcrumb:"/ Masters / State Master",data:m,filteredData:I,columns:ae,searchQuery:o,onSearchChange:c,onAdd:C,onEdit:D,onDelete:_,getId:V=>V.id,addButtonLabel:"Add State",children:e.jsx(rf,{tabs:[{id:"list",label:"State List"}],activeTab:l,onTabChange:V=>h(V)})})]}),i&&e.jsx(LX,{state:u,onClose:()=>{d(!1),f(null)},onSave:Z})]})},LX=({state:t,onClose:r,onSave:n})=>{const[a,s]=M.useState(t||{stateCode:"",stateName:"",status:"Active"}),o=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit State":"Add State"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"state-form",onSubmit:o,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Code *"}),e.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>s({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Name *"}),e.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>s({...a,stateName:c.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},UX="http://localhost:3000/api/v1",RX=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Fp=async(t,r={})=>{const n=RX(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${UX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},lm={createArea:async t=>(await Fp("/areas",{method:"POST",body:JSON.stringify(t)})).data,getAreaById:async t=>(await Fp(`/areas/${t}`,{method:"GET"})).data,getAllAreas:async(t=!1)=>(await Fp(t?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(t,r)=>(await Fp(`/areas/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteArea:async t=>{await Fp(`/areas/${t}`,{method:"DELETE"})}},QX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(!1),s=()=>{a(!n)},[o,c]=M.useState(""),[l,h]=M.useState("list"),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(null),N=async()=>{x(!0),j(null);try{const ie=(await lm.getAllAreas(!0)).map(U=>({id:U.id,areaCode:U.areaCode,areaName:U.areaName,areaPincode:U.areaPincode,status:U.status,createdBy:U.createdBy||"",createdOn:U.createdOn,modifiedBy:U.modifiedBy||"",modifiedOn:U.modifiedOn}));v(ie)}catch(V){const ie=V instanceof Error?V.message:"Failed to load areas";j(ie),console.error("Error loading areas:",V)}finally{x(!1)}};M.useEffect(()=>{N()},[]);const T=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],I=m.filter(V=>V.areaName.toLowerCase().includes(o.toLowerCase())||V.areaCode.toLowerCase().includes(o.toLowerCase())||V.areaPincode.toLowerCase().includes(o.toLowerCase())),C=()=>{f(null),d(!0)},D=V=>{f(V),d(!0)},_=async V=>{if(window.confirm("Are you sure you want to delete this area?"))try{x(!0),await lm.deleteArea(V),await N(),alert("Area deleted successfully")}catch(ie){const U=ie instanceof Error?ie.message:"Failed to delete area";alert(`Error: ${U}`),console.error("Error deleting area:",ie)}finally{x(!1)}},Z=async V=>{try{if(x(!0),j(null),u)await lm.updateArea(u.id,{areaPincode:V.areaPincode,status:V.status}),alert("Area updated successfully");else{if(!V.areaCode||!V.areaName||!V.areaPincode){alert("Please fill in all required fields");return}await lm.createArea({areaCode:V.areaCode,areaName:V.areaName,areaPincode:V.areaPincode}),alert("Area created successfully")}d(!1),f(null),await N()}catch(ie){const U=ie instanceof Error?ie.message:"Failed to save area";j(U),alert(`Error: ${U}`),console.error("Error saving area:",ie)}finally{x(!1)}},ae=[{key:"areaCode",label:"Area Code",minWidth:120},{key:"areaName",label:"Area Name",minWidth:200,allowWrap:!0},{key:"areaPincode",label:"Area Pincode",minWidth:130},{key:"status",label:"Status",minWidth:100,render:V=>e.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:T.map(V=>e.jsx("li",{children:e.jsxs(Zr,{to:V.path,className:`nav-link ${V.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:V.icon}),!n&&e.jsx("span",{className:"nav-label",children:V.label})]})},V.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Area Master"})})}),y&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),g&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading areas..."}),e.jsx(tf,{title:"Area Master",breadcrumb:"/ Masters / Area Master",data:m,filteredData:I,columns:ae,searchQuery:o,onSearchChange:c,onAdd:C,onEdit:D,onDelete:_,getId:V=>V.id,addButtonLabel:"Add Area",children:e.jsx(rf,{tabs:[{id:"list",label:"Area List"}],activeTab:l,onTabChange:V=>h(V)})})]}),i&&e.jsx(HX,{area:u,onClose:()=>{d(!1),f(null)},onSave:Z})]})},HX=({area:t,onClose:r,onSave:n})=>{const[a,s]=M.useState(t||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),o=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Area":"Add Area"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"area-form",onSubmit:o,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Code *"}),e.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>s({...a,areaCode:c.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Name *"}),e.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>s({...a,areaName:c.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Pincode *"}),e.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>s({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},WX="http://localhost:3000/api/v1",$X=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Pp=async(t,r={})=>{const n=$X(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${WX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},cm={createCategory:async t=>(await Pp("/categories",{method:"POST",body:JSON.stringify(t)})).data,getCategoryById:async t=>(await Pp(`/categories/${t}`,{method:"GET"})).data,getAllCategories:async(t,r=!1)=>{let n="/categories";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Pp(n,{method:"GET"})).data},updateCategory:async(t,r)=>(await Pp(`/categories/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteCategory:async t=>{await Pp(`/categories/${t}`,{method:"DELETE"})}},zX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(!1),s=()=>{a(!n)},[o,c]=M.useState(""),[l,h]=M.useState("list"),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=async()=>{try{const K=(await Ha.getAllCompanies(!0)).map(W=>({id:W.id,companyCode:W.companyCode,companyName:W.companyName,status:W.status}));x(K)}catch(G){console.error("Error loading companies:",G)}},C=async()=>{j(!0),T(null);try{const K=(await cm.getAllCategories(void 0,!0)).map(W=>{const Ne=g.find(ge=>ge.id===W.companyId);return{id:W.id,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown Company",categoryCode:W.categoryCode,categoryName:W.categoryName,status:W.status,createdBy:W.createdBy||"",createdOn:W.createdOn,modifiedBy:W.modifiedBy||"",modifiedOn:W.modifiedOn}});v(K)}catch(G){const K=G instanceof Error?G.message:"Failed to load categories";T(K),console.error("Error loading categories:",G),v([])}finally{j(!1)}};M.useEffect(()=>{(async()=>{await I()})()},[]),M.useEffect(()=>{g.length>0&&C()},[g.length]);const D=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],_=m.filter(G=>G.categoryName.toLowerCase().includes(o.toLowerCase())||G.categoryCode.toLowerCase().includes(o.toLowerCase())||G.companyName.toLowerCase().includes(o.toLowerCase())),Z=()=>{f(null),d(!0)},ae=G=>{f(G),d(!0)},V=async G=>{if(window.confirm("Are you sure you want to delete this category?"))try{j(!0),await cm.deleteCategory(G),await C(),alert("Category deleted successfully")}catch(K){const W=K instanceof Error?K.message:"Failed to delete category";alert(`Error: ${W}`),console.error("Error deleting category:",K)}finally{j(!1)}},ie=async G=>{try{j(!0),T(null);const K=g.find(W=>W.companyName===G.companyName);if(!K){alert("Please select a valid company");return}if(u)await cm.updateCategory(u.id,{status:G.status}),alert("Category updated successfully");else{if(!G.categoryCode||!G.categoryName||!G.companyName){alert("Please fill in all required fields");return}await cm.createCategory({categoryCode:G.categoryCode,categoryName:G.categoryName,companyId:K.id}),alert("Category created successfully")}d(!1),f(null),await C()}catch(K){const W=K instanceof Error?K.message:"Failed to save category";T(W),alert(`Error: ${W}`),console.error("Error saving category:",K)}finally{j(!1)}},U=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"categoryCode",label:"Category Code",minWidth:140},{key:"categoryName",label:"Category Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:G=>e.jsx("span",{className:`status-badge status-badge--${G.status.toLowerCase()}`,children:G.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:D.map(G=>e.jsx("li",{children:e.jsxs(Zr,{to:G.path,className:`nav-link ${G.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:G.icon}),!n&&e.jsx("span",{className:"nav-label",children:G.label})]})},G.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Category Master"})})}),N&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:N}),y&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading categories..."}),e.jsx(tf,{title:"Category Master",breadcrumb:"/ Masters / Category Master",data:m,filteredData:_,columns:U,searchQuery:o,onSearchChange:c,onAdd:Z,onEdit:ae,onDelete:V,getId:G=>G.id,addButtonLabel:"Add Category",children:e.jsx(rf,{tabs:[{id:"list",label:"Category List"}],activeTab:l,onTabChange:G=>h(G)})})]}),i&&e.jsx(VX,{category:u,companies:g.filter(G=>G.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:ie})]})},VX=({category:t,companies:r,onClose:n,onSave:a})=>{const[s,o]=M.useState(t||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Category":"Add Category"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"category-form",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:l=>o({...s,companyName:l.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(l=>e.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Code *"}),e.jsx("input",{type:"text",value:s.categoryCode||"",onChange:l=>o({...s,categoryCode:l.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name *"}),e.jsx("input",{type:"text",value:s.categoryName||"",onChange:l=>o({...s,categoryName:l.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:l=>o({...s,status:l.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},KX="http://localhost:3000/api/v1",GX=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Op=async(t,r={})=>{const n=GX(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${KX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},dm={createPcbZone:async t=>(await Op("/pcb-zones",{method:"POST",body:JSON.stringify(t)})).data,getPcbZoneById:async t=>(await Op(`/pcb-zones/${t}`,{method:"GET"})).data,getAllPcbZones:async(t=!1)=>(await Op(t?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(t,r)=>(await Op(`/pcb-zones/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deletePcbZone:async t=>{await Op(`/pcb-zones/${t}`,{method:"DELETE"})}},qX=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(!1),s=()=>{a(!n)},[o,c]=M.useState(""),[l,h]=M.useState("list"),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(null),N=async()=>{x(!0),j(null);try{const ie=(await dm.getAllPcbZones(!0)).map(U=>({id:U.id,pcbZoneName:U.pcbZoneName,pcbZoneAddress:U.pcbZoneAddress||"",contactNum:U.contactNum||"",contactEmail:U.contactEmail||"",alertEmail:U.alertEmail||"",status:U.status,createdBy:U.createdBy||"",createdOn:U.createdOn,modifiedBy:U.modifiedBy||"",modifiedOn:U.modifiedOn}));v(ie)}catch(V){const ie=V instanceof Error?V.message:"Failed to load PCB zones";j(ie),console.error("Error loading PCB zones:",V)}finally{x(!1)}};M.useEffect(()=>{N()},[]);const T=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],I=m.filter(V=>V.pcbZoneName.toLowerCase().includes(o.toLowerCase())||V.pcbZoneAddress.toLowerCase().includes(o.toLowerCase())||V.contactEmail.toLowerCase().includes(o.toLowerCase())),C=()=>{f(null),d(!0)},D=V=>{f(V),d(!0)},_=async V=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{x(!0),await dm.deletePcbZone(V),await N(),alert("PCB Zone deleted successfully")}catch(ie){const U=ie instanceof Error?ie.message:"Failed to delete PCB zone";alert(`Error: ${U}`),console.error("Error deleting PCB zone:",ie)}finally{x(!1)}},Z=async V=>{try{if(x(!0),j(null),u)await dm.updatePcbZone(u.id,{pcbZoneAddress:V.pcbZoneAddress,contactNum:V.contactNum,contactEmail:V.contactEmail,alertEmail:V.alertEmail,status:V.status}),alert("PCB Zone updated successfully");else{if(!V.pcbZoneName){alert("Please fill in PCB Zone Name");return}await dm.createPcbZone({pcbZoneName:V.pcbZoneName,pcbZoneAddress:V.pcbZoneAddress,contactNum:V.contactNum,contactEmail:V.contactEmail,alertEmail:V.alertEmail}),alert("PCB Zone created successfully")}d(!1),f(null),await N()}catch(ie){const U=ie instanceof Error?ie.message:"Failed to save PCB zone";j(U),alert(`Error: ${U}`),console.error("Error saving PCB zone:",ie)}finally{x(!1)}},ae=[{key:"pcbZoneName",label:"PCB Zone Name",minWidth:150,allowWrap:!0},{key:"pcbZoneAddress",label:"PCB Zone Address",minWidth:250,allowWrap:!0},{key:"contactNum",label:"Contact Number",minWidth:140},{key:"contactEmail",label:"Contact Email",minWidth:180,allowWrap:!0},{key:"alertEmail",label:"Alert Email",minWidth:180,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:V=>e.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:T.map(V=>e.jsx("li",{children:e.jsxs(Zr,{to:V.path,className:`nav-link ${V.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:V.icon}),!n&&e.jsx("span",{className:"nav-label",children:V.label})]})},V.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / PCB Zone Master"})})}),y&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:y}),g&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading PCB zones..."}),e.jsx(tf,{title:"PCB Zone Master",breadcrumb:"/ Masters / PCB Zone Master",data:m,filteredData:I,columns:ae,searchQuery:o,onSearchChange:c,onAdd:C,onEdit:D,onDelete:_,getId:V=>V.id,addButtonLabel:"Add PCB Zone",children:e.jsx(rf,{tabs:[{id:"list",label:"PCB Zone List"}],activeTab:l,onTabChange:V=>h(V)})})]}),i&&e.jsx(XX,{pcbZone:u,onClose:()=>{d(!1),f(null)},onSave:Z})]})},XX=({pcbZone:t,onClose:r,onSave:n})=>{const[a,s]=M.useState(t||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),o=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit PCB Zone":"Add PCB Zone"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"pcb-zone-form",onSubmit:o,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Zone Name *"}),e.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>s({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"PCB Zone Address *"}),e.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>s({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Number *"}),e.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>s({...a,contactNum:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Email *"}),e.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>s({...a,contactEmail:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alert Email *"}),e.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>s({...a,alertEmail:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},YX="http://localhost:3000/api/v1",JX=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Mp=async(t,r={})=>{const n=JX(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${YX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},GA={createRoute:async t=>(await Mp("/routes",{method:"POST",body:JSON.stringify(t)})).data,getRouteById:async t=>(await Mp(`/routes/${t}`,{method:"GET"})).data,getAllRoutes:async(t=!1)=>(await Mp(t?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(t,r)=>(await Mp(`/routes/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteRoute:async t=>{await Mp(`/routes/${t}`,{method:"DELETE"})}},ZX="http://localhost:3000/api/v1",eY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Dp=async(t,r={})=>{const n=eY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${ZX}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},kf={createFrequency:async t=>(await Dp("/frequencies",{method:"POST",body:JSON.stringify(t)})).data,getFrequencyById:async t=>(await Dp(`/frequencies/${t}`,{method:"GET"})).data,getAllFrequencies:async(t,r=!1)=>{let n="/frequencies";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Dp(n,{method:"GET"})).data},updateFrequency:async(t,r)=>(await Dp(`/frequencies/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteFrequency:async t=>{await Dp(`/frequencies/${t}`,{method:"DELETE"})}},tY=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState("list"),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState([]),[f,m]=M.useState([]),[v,g]=M.useState([]),[x,y]=M.useState(!1),[j,N]=M.useState(null),T=async()=>{try{const K=(await Ha.getAllCompanies(!0)).map(W=>({id:W.id,companyCode:W.companyCode,companyName:W.companyName,status:W.status}));m(K)}catch(G){console.error("Error loading companies:",G)}},I=async()=>{try{const K=(await kf.getAllFrequencies(void 0,!0)).map(W=>({id:W.id,frequencyCode:W.frequencyCode,frequencyName:W.frequencyName,companyName:W.companyName||"",status:W.status}));g(K)}catch(G){console.error("Error loading frequencies:",G)}},C=async()=>{y(!0),N(null);try{let G=f;G.length===0&&(G=(await Ha.getAllCompanies(!0)).map(Ee=>({id:Ee.id,companyCode:Ee.companyCode,companyName:Ee.companyName,status:Ee.status})),m(G));let K=v;K.length===0&&(K=(await kf.getAllFrequencies(void 0,!0)).map(Ee=>({id:Ee.id,frequencyCode:Ee.frequencyCode,frequencyName:Ee.frequencyName,companyName:Ee.companyName||"",status:Ee.status})),g(K));const Ne=(await GA.getAllRoutes(!0)).map(ge=>{const Ee=G.find(ve=>ve.id===ge.companyId),Fe=(Ee==null?void 0:Ee.companyName)||"Unknown",he=K.find(ve=>ve.id===ge.frequencyId),le=(he==null?void 0:he.frequencyCode)||ge.frequencyId||"";return{id:ge.id,companyName:Fe,routeCode:ge.routeCode,routeName:ge.routeName,frequencyID:le,status:ge.status,createdBy:ge.createdBy||"",createdOn:ge.createdOn,modifiedBy:ge.modifiedBy||"",modifiedOn:ge.modifiedOn}});u(Ne)}catch(G){const K=G instanceof Error?G.message:"Failed to load routes";N(K),console.error("Error loading routes:",G)}finally{y(!1)}};M.useEffect(()=>{(async()=>{await T(),await I(),await C()})()},[]);const D=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],_=d.filter(G=>G.routeName.toLowerCase().includes(n.toLowerCase())||G.routeCode.toLowerCase().includes(n.toLowerCase())||G.frequencyID.toLowerCase().includes(n.toLowerCase())||G.companyName.toLowerCase().includes(n.toLowerCase())),Z=()=>{i(null),l(!0)},ae=G=>{i(G),l(!0)},V=async G=>{if(window.confirm("Are you sure you want to delete this route?"))try{y(!0),await GA.deleteRoute(G),await C(),alert("Route deleted successfully")}catch(K){const W=K instanceof Error?K.message:"Failed to delete route";alert(`Error: ${W}`),console.error("Error deleting route:",K)}finally{y(!1)}},ie=async G=>{try{y(!0),N(null);const K=f.find(Ne=>Ne.companyName===G.companyName);if(!K){alert("Please select a valid company");return}const W=v.find(Ne=>Ne.frequencyCode===G.frequencyID);if(h)await GA.updateRoute(h.id,{frequencyId:W==null?void 0:W.id,status:G.status}),alert("Route updated successfully");else{if(!G.routeCode||!G.routeName||!G.companyName){alert("Please fill in all required fields");return}await GA.createRoute({routeCode:G.routeCode,routeName:G.routeName,companyId:K.id,frequencyId:W==null?void 0:W.id}),alert("Route created successfully")}l(!1),i(null),await C()}catch(K){const W=K instanceof Error?K.message:"Failed to save route";N(W),alert(`Error: ${W}`),console.error("Error saving route:",K)}finally{y(!1)}},U=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"routeCode",label:"Route Code",minWidth:120},{key:"routeName",label:"Route Name",minWidth:200,allowWrap:!0},{key:"frequencyID",label:"Frequency ID",minWidth:130},{key:"status",label:"Status",minWidth:100,render:G=>e.jsx("span",{className:`status-badge status-badge--${G.status.toLowerCase()}`,children:G.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:D.map(G=>e.jsx("li",{children:e.jsxs(Zr,{to:G.path,className:`nav-link ${G.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:G.icon}),e.jsx("span",{className:"nav-label",children:G.label})]})},G.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Route Master"})})}),j&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:j}),x&&!d.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading routes..."}),e.jsx(tf,{title:"Route Master",breadcrumb:"/ Masters / Route Master",data:d,filteredData:_,columns:U,searchQuery:n,onSearchChange:a,onAdd:Z,onEdit:ae,onDelete:V,getId:G=>G.id,addButtonLabel:"Add Route",children:e.jsx(rf,{tabs:[{id:"list",label:"Route List"}],activeTab:s,onTabChange:G=>o(G)})})]}),c&&e.jsx(rY,{route:h,companies:f.filter(G=>G.status==="Active"),frequencies:v.filter(G=>G.status==="Active"),onClose:()=>{l(!1),i(null)},onSave:ie})]})},rY=({route:t,companies:r,frequencies:n,onClose:a,onSave:s})=>{const[o,c]=M.useState(t||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),l=h=>{h.preventDefault(),s(o)};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Route":"Add Route"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"route-form",onSubmit:l,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:o.companyName||"",onChange:h=>c({...o,companyName:h.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Code *"}),e.jsx("input",{type:"text",value:o.routeCode||"",onChange:h=>c({...o,routeCode:h.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Name *"}),e.jsx("input",{type:"text",value:o.routeName||"",onChange:h=>c({...o,routeName:h.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency"}),e.jsxs("select",{value:o.frequencyID||"",onChange:h=>c({...o,frequencyID:h.target.value}),children:[e.jsx("option",{value:"",children:"Select Frequency"}),n.map(h=>e.jsxs("option",{value:h.frequencyCode,children:[h.frequencyName," (",h.frequencyCode,")"]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o.status||"Active",onChange:h=>c({...o,status:h.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},nY="http://localhost:3000/api/v1",aY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},_p=async(t,r={})=>{const n=aY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${nY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},_g={createColor:async t=>(await _p("/colors",{method:"POST",body:JSON.stringify(t)})).data,getColorById:async t=>(await _p(`/colors/${t}`,{method:"GET"})).data,getAllColors:async(t,r=!1)=>{let n="/colors";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await _p(n,{method:"GET"})).data},updateColor:async(t,r)=>(await _p(`/colors/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteColor:async t=>{await _p(`/colors/${t}`,{method:"DELETE"})}},sY=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(!1),s=()=>{a(!n)},[o,c]=M.useState(""),[l,h]=M.useState("list"),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=async()=>{try{const K=(await Ha.getAllCompanies(!0)).map(W=>({id:W.id,companyCode:W.companyCode,companyName:W.companyName,status:W.status}));x(K)}catch(G){console.error("Error loading companies:",G)}},C=async()=>{j(!0),T(null);try{const K=(await _g.getAllColors(void 0,!0)).map(W=>{const Ne=g.find(ge=>ge.id===W.companyId);return{id:W.id,colorName:W.colorName,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown Company",status:W.status,createdBy:W.createdBy||"",createdOn:W.createdOn,modifiedBy:W.modifiedBy||"",modifiedOn:W.modifiedOn}});v(K)}catch(G){const K=G instanceof Error?G.message:"Failed to load color codes";T(K),console.error("Error loading color codes:",G)}finally{j(!1)}};M.useEffect(()=>{(async()=>{await I()})()},[]),M.useEffect(()=>{g.length>0&&C()},[g.length]);const D=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}],_=m.filter(G=>G.colorName.toLowerCase().includes(o.toLowerCase())||G.companyName.toLowerCase().includes(o.toLowerCase())),Z=()=>{f(null),d(!0)},ae=G=>{f(G),d(!0)},V=async G=>{if(window.confirm("Are you sure you want to delete this color code?"))try{j(!0),await _g.deleteColor(G),await C(),alert("Color code deleted successfully")}catch(K){const W=K instanceof Error?K.message:"Failed to delete color code";alert(`Error: ${W}`),console.error("Error deleting color code:",K)}finally{j(!1)}},ie=async G=>{try{j(!0),T(null);const K=g.find(W=>W.companyName===G.companyName);if(!K){alert("Please select a valid company");return}if(u)await _g.updateColor(u.id,{status:G.status}),alert("Color code updated successfully");else{if(!G.colorName||!G.companyName){alert("Please fill in all required fields");return}await _g.createColor({colorName:G.colorName,companyId:K.id}),alert("Color code created successfully")}d(!1),f(null),await C()}catch(K){const W=K instanceof Error?K.message:"Failed to save color code";T(W),alert(`Error: ${W}`),console.error("Error saving color code:",K)}finally{j(!1)}},U=[{key:"colorName",label:"Color Name",minWidth:200,allowWrap:!0},{key:"companyName",label:"Company Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:G=>e.jsx("span",{className:`status-badge status-badge--${G.status.toLowerCase()}`,children:G.status})}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${n?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:D.map(G=>e.jsx("li",{children:e.jsxs(Zr,{to:G.path,className:`nav-link ${G.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:G.icon}),!n&&e.jsx("span",{className:"nav-label",children:G.label})]})},G.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!n&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!n&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Color Code Master"})})}),N&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:N}),y&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading color codes..."}),e.jsx(tf,{title:"Color Code Master",breadcrumb:"/ Masters / Color Code Master",data:m,filteredData:_,columns:U,searchQuery:o,onSearchChange:c,onAdd:Z,onEdit:ae,onDelete:V,getId:G=>G.id,addButtonLabel:"Add Color Code",children:e.jsx(rf,{tabs:[{id:"list",label:"Color Code List"}],activeTab:l,onTabChange:G=>h(G)})})]}),i&&e.jsx(iY,{colorCode:u,companies:g.filter(G=>G.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:ie})]})},iY=({colorCode:t,companies:r,onClose:n,onSave:a})=>{const[s,o]=M.useState(t||{colorName:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Color Code":"Add Color Code"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"color-code-form",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Color Name *"}),e.jsx("input",{type:"text",value:s.colorName||"",onChange:l=>o({...s,colorName:l.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:l=>o({...s,companyName:l.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(l=>e.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:l=>o({...s,status:l.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},oY="http://localhost:3000/api/v1",lY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Nu=async(t,r={})=>{const n=lY(),a=`${oY}${t}`;console.log("[apiRequest] Making request:",{method:r.method||"GET",url:a,endpoint:t,hasToken:!!n,hasBody:!!r.body});const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers};try{const o=await fetch(a,{...r,headers:s});if(console.log("[apiRequest] Response received:",{status:o.status,statusText:o.statusText,ok:o.ok,headers:Object.fromEntries(o.headers.entries())}),!o.ok){let l=`HTTP ${o.status}: ${o.statusText}`,h=null;try{const d=await o.text();console.log("[apiRequest] Error response text:",d),d&&(h=JSON.parse(d),console.log("[apiRequest] Error response parsed:",h),Array.isArray(h.message)?l=h.message.join(", "):typeof h.message=="string"?l=h.message:h.error?l=typeof h.error=="string"?h.error:JSON.stringify(h.error):h.message&&(l=String(h.message)))}catch(d){console.error("[apiRequest] Failed to parse error response:",d)}console.error("[apiRequest] Request failed:",{status:o.status,statusText:o.statusText,errorMessage:l,errorData:h});const i=new Error(l);throw i.status=o.status,i.statusText=o.statusText,i.errorData=h,i}if(o.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await o.json();return console.log("[apiRequest] Success response data:",c),c}catch(o){if(console.error("[apiRequest] Fetch error:",o),console.error("[apiRequest] Fetch error details:",{message:o instanceof Error?o.message:String(o),name:o instanceof Error?o.name:void 0,stack:o instanceof Error?o.stack:void 0}),o instanceof Error&&o.status)throw o;const c=new Error(o instanceof Error?`Network error: ${o.message}`:"Network error: Failed to connect to server");throw c.originalError=o,c}},Ac={createUser:async t=>(await Nu("/users",{method:"POST",body:JSON.stringify(t)})).data,createCompleteUser:async t=>{console.log("[userService] createCompleteUser called with data:",t),console.log("[userService] API endpoint: POST /users/complete");try{const r=await Nu("/users/complete",{method:"POST",body:JSON.stringify(t)});return console.log("[userService] createCompleteUser success - Response:",r),r.data}catch(r){throw console.error("[userService] createCompleteUser error:",r),console.error("[userService] Error details:",{message:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0}),r}},getUserById:async t=>(await Nu(`/users/${t}`,{method:"GET"})).data,updateUser:async(t,r)=>(await Nu(`/users/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,updateCompleteUser:async(t,r)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",t),console.log("[userService] Data:",r),console.log("[userService] API endpoint: PUT /users/"+t+"/complete");try{const n=await Nu(`/users/${t}/complete`,{method:"PUT",body:JSON.stringify(r)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async t=>{await Nu(`/users/${t}`,{method:"DELETE"})},activateUser:async(t,r)=>(await Nu(`/users/${t}/activate`,{method:"POST",body:JSON.stringify(r)})).data,deactivateUser:async t=>(await Nu(`/users/${t}/deactivate`,{method:"POST"})).data,getUsersByCompany:async t=>(await Nu(`/users/company/${t}`,{method:"GET"})).data,getUserByUsername:async t=>(await Nu(`/users/username/${encodeURIComponent(t)}`,{method:"GET"})).data},cY="http://localhost:3000/api/v1",dY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Lp=async(t,r={})=>{const n=dY(),a=`${cY}${t}`;console.log("[roleService] Making request:",{method:r.method||"GET",url:a,endpoint:t,hasToken:!!n,hasBody:!!r.body});const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers};try{const o=await fetch(a,{...r,headers:s});if(console.log("[roleService] Response received:",{status:o.status,statusText:o.statusText,ok:o.ok}),!o.ok){let l=`HTTP ${o.status}: ${o.statusText}`,h=null;try{const d=await o.text();console.log("[roleService] Error response text:",d),d&&(h=JSON.parse(d),console.log("[roleService] Error response parsed:",h),Array.isArray(h.message)?l=h.message.join(", "):typeof h.message=="string"?l=h.message:h.error?l=typeof h.error=="string"?h.error:JSON.stringify(h.error):h.message&&(l=String(h.message)))}catch(d){console.error("[roleService] Failed to parse error response:",d)}console.error("[roleService] Request failed:",{status:o.status,statusText:o.statusText,errorMessage:l,errorData:h});const i=new Error(l);throw i.status=o.status,i.statusText=o.statusText,i.errorData=h,i}if(o.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await o.json();return console.log("[roleService] Success response data:",c),c}catch(o){if(console.error("[roleService] Fetch error:",o),o instanceof Error&&o.status)throw o;const c=new Error(o instanceof Error?`Network error: ${o.message}`:"Network error: Failed to connect to server");throw c.originalError=o,c}},um={createRole:async t=>(console.log("[roleService] createRole called with data:",t),(await Lp("/roles",{method:"POST",body:JSON.stringify(t)})).data),getRoleById:async t=>(await Lp(`/roles/${t}`,{method:"GET"})).data,getAllRoles:async(t,r)=>{let n="/roles";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Lp(n,{method:"GET"})).data},updateRole:async(t,r)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",t),console.log("[roleService] Data:",r),(await Lp(`/roles/${t}`,{method:"PUT",body:JSON.stringify(r)})).data),deleteRole:async t=>{await Lp(`/roles/${t}`,{method:"DELETE"})}},uY="http://localhost:3000/api/v1",AY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},QC=async(t,r={})=>{const n=AY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${uY}${t}`,{...r,headers:a});if(!s.ok){const c=await s.json().catch(()=>({}));let l=`HTTP error! status: ${s.status}`;throw c.message?Array.isArray(c.message)?l=c.message.join(", "):l=c.message:c.error&&(l=c.error),new Error(l)}return(await s.json()).data},hY=async(t,r)=>QC(`/users/${t}/activate-with-password`,{method:"POST",body:JSON.stringify(r)}),Sw=async(t,r)=>QC(`/users/${t}/change-password`,{method:"POST",body:JSON.stringify(r)}),fY=async t=>QC(`/users/${t}/reset-password`,{method:"POST"}),pY=({isOpen:t,onClose:r})=>{const{user:n}=ya(),[a,s]=M.useState(!1),[o,c]=M.useState(null),[l,h]=M.useState(null),[i,d]=M.useState("basic"),[u,f]=M.useState(null),[m,v]=M.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=M.useState(!1);M.useEffect(()=>{t&&n&&y()},[t,n]);const y=async()=>{if(n){s(!0),c(null);try{if(n.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id))try{const T=await Ac.getUserById(n.id);f(T),x(T.otpEnabled||!1);return}catch(T){console.log("User ID lookup failed, trying search by username:",T)}if(n.name)try{const T=await Ac.getUserByUsername(n.name);f(T),x(T.otpEnabled||!1);return}catch(T){console.log("User lookup by username failed:",T)}f({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}catch(N){console.error("Error loading user profile:",N),f({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}finally{s(!1)}}},j=async N=>{if(N.preventDefault(),c(null),h(null),m.newPassword!==m.confirmPassword){c("New password and confirm password do not match");return}if(m.newPassword.length<8){c("New password must be at least 8 characters long");return}s(!0);try{if(!(n!=null&&n.id))throw new Error("User ID not found");const T=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id);if(!T&&n.name){const I=await Ac.getUserByUsername(n.name);await Sw(I.userId,{currentPassword:m.currentPassword,newPassword:m.newPassword})}else if(T)await Sw(n.id,{currentPassword:m.currentPassword,newPassword:m.newPassword});else throw new Error("Unable to identify user for password change");h("Password changed successfully!"),v({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{r(),h(null),c(null)},1500)}catch(T){c(T.message||"Failed to change password")}finally{s(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content profile-modal-content",onClick:N=>N.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"My Profile"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"modal-body profile-modal-body",children:[o&&e.jsxs("div",{className:"profile-error-message",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),o]}),l&&e.jsxs("div",{className:"profile-success-message",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),l]}),e.jsxs("div",{className:"profile-section-tabs",children:[e.jsxs("button",{className:`section-tab ${i==="basic"?"active":""}`,onClick:()=>d("basic"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),e.jsxs("button",{className:`section-tab ${i==="contact"?"active":""}`,onClick:()=>d("contact"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),e.jsxs("button",{className:`section-tab ${i==="security"?"active":""}`,onClick:()=>d("security"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),e.jsx("div",{className:"profile-section-content",children:a&&!u?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading profile data..."}):e.jsxs(e.Fragment,{children:[i==="basic"&&e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsx("p",{className:"section-description",children:"Your account information (read-only)"}),e.jsxs("div",{className:"profile-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"User Name"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.userName)||(n==null?void 0:n.name)||"-"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Employee Code"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.employeeCode)||"-"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Mobile Number"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.mobileNumber)||"-"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Status"}),e.jsx("div",{className:"info-value",children:e.jsx("span",{className:`status-badge status-badge--${((u==null?void 0:u.status)||"active").toLowerCase()}`,children:(u==null?void 0:u.status)||"Active"})})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Role"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.userRoleId)||(n==null?void 0:n.roles.join(", "))||"-"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Employment Type"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.employmentType)||"-"})]})]})]}),i==="contact"&&e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Contact Information"}),e.jsx("p",{className:"section-description",children:"Update your contact details (email is optional)"}),e.jsxs("div",{className:"profile-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Email Address"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.emailAddress)||(n==null?void 0:n.email)||"Not provided"}),e.jsx("small",{className:"info-hint",children:"Email is optional and can be updated by admin"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{className:"info-label",children:"Emergency Contact"}),e.jsx("div",{className:"info-value",children:(u==null?void 0:u.emergencyContact)||"-"})]}),e.jsxs("div",{className:"info-item",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"info-label",children:"Address"}),e.jsx("div",{className:"info-value",children:u!=null&&u.addressLine?e.jsxs("div",{children:[e.jsx("div",{children:u.addressLine}),u.area&&e.jsx("div",{children:u.area}),u.city&&e.jsxs("div",{children:[u.city,", ",u.district]}),u.pincode&&e.jsxs("div",{children:["PIN: ",u.pincode]})]}):"-"})]})]})]}),i==="security"&&e.jsxs("div",{className:"profile-section",children:[e.jsx("h2",{className:"section-title",children:"Security Settings"}),e.jsx("p",{className:"section-description",children:"Manage your password and security preferences"}),e.jsxs("div",{className:"security-section",children:[e.jsx("h3",{className:"subsection-title",children:"Change Password"}),e.jsxs("form",{onSubmit:j,className:"password-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"currentPassword",children:"Current Password *"}),e.jsx("input",{type:"password",id:"currentPassword",value:m.currentPassword,onChange:N=>v({...m,currentPassword:N.target.value}),required:!0,placeholder:"Enter your current password"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"newPassword",children:"New Password *"}),e.jsx("input",{type:"password",id:"newPassword",value:m.newPassword,onChange:N=>v({...m,newPassword:N.target.value}),required:!0,minLength:8,placeholder:"Enter new password (min 8 characters)"}),e.jsx("small",{className:"form-hint",children:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password *"}),e.jsx("input",{type:"password",id:"confirmPassword",value:m.confirmPassword,onChange:N=>v({...m,confirmPassword:N.target.value}),required:!0,minLength:8,placeholder:"Confirm new password"})]}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Changing Password...":"Change Password"})]})]}),e.jsxs("div",{className:"security-section",children:[e.jsx("h3",{className:"subsection-title",children:"OTP Settings"}),e.jsxs("div",{className:"otp-settings",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("label",{className:"setting-label",children:"OTP Enabled"}),e.jsx("p",{className:"setting-description",children:u!=null&&u.emailAddress?"OTP can be enabled if you have an email address":"OTP requires an email address. Please contact admin to add your email."})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:N=>x(N.target.checked),disabled:!(u!=null&&u.emailAddress)}),e.jsx("span",{className:"toggle-slider"})]})})]}),!(u!=null&&u.emailAddress)&&e.jsxs("div",{className:"setting-note",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Email address is required to enable OTP. Please contact your administrator."]})]})]})]})]})})]})]})}):null},mY=()=>{const{user:t,logout:r}=ya(),n=In();ds();const[a,s]=M.useState("users"),[o,c]=M.useState(""),[l,h]=M.useState(!1),[i,d]=M.useState(!1),[u,f]=M.useState(!1),[m,v]=M.useState(!1),[g,x]=M.useState(null),[y,j]=M.useState(null),[N,T]=M.useState(null),[I,C]=M.useState(!1),[D,_]=M.useState(null),Z=He=>{if(console.log("[extractErrorMessage] Extracting error message from:",He),He instanceof Error){const Yt=He;Yt.status&&console.log("[extractErrorMessage] Error has status:",Yt.status),Yt.errorData&&console.log("[extractErrorMessage] Error has errorData:",Yt.errorData);const Ct=Yt.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",Ct),Ct}if(typeof He=="string")return He;if(He&&typeof He=="object"){const Yt=He;if(Array.isArray(Yt.message))return Yt.message.join(", ");if(Yt.message)return String(Yt.message);if(Yt.error)return Array.isArray(Yt.error)?Yt.error.join(", "):String(Yt.error);try{return JSON.stringify(Yt)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[ae,V]=M.useState([]),[ie,U]=M.useState(!1),G=He=>({id:He.id,companyCode:He.companyCode,companyName:He.companyName,status:He.status}),K=async()=>{U(!0);try{const Yt=(await Ha.getAllCompanies(!0)).map(Ct=>G(Ct));return V(Yt),Yt}catch(He){console.error("Error loading companies:",He);const Yt=Z(He);return _(Yt||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{U(!1)}},[W,Ne]=M.useState([]),[ge,Ee]=M.useState([]),Fe=He=>{if(!He)return null;if(X(He))return He;const Yt=ge.find(Ct=>Ct.roleName===He);return Yt?Yt.id:null},he=(He,Yt)=>{let Ct="-";if(He.userRoleId)if(ge.length>0){const Qr=ge.find(hr=>hr.id===He.userRoleId);Ct=Qr?Qr.roleName:"-"}else Ct=He.userRoleId;return{id:He.userId,companyName:Yt,mobileNumber:He.mobileNumber,userName:He.userName,empCode:He.employeeCode||"",userRoleID:Ct,employmentType:He.employmentType||"",designation:He.designation||"",contractorName:He.contractorName||"",companyNameThirdParty:He.companyNameThirdParty||"",grossSalary:He.grossSalary?String(He.grossSalary):"",emailAddress:He.emailAddress||"",aadhaar:He.aadhaarNumber||"",pan:He.panNumber||"",dlNum:He.drivingLicenseNumber||"",pfNum:He.pfNumber||"",uan:He.uanNumber||"",esiNum:He.esiNumber||"",address:He.addressLine||"",area:He.area||"",city:He.city||"",district:He.district||"",pincode:He.pincode||"",emergencyContact:He.emergencyContact||"",webLogin:He.webLogin,mobileApp:He.mobileAppAccess,password:"",status:He.status,passwordEnabled:He.passwordEnabled,otpEnabled:He.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:He.createdOn,modifiedBy:"",modifiedOn:He.modifiedOn}},le=async He=>{let Yt=He||ae;if(Yt.length===0&&(Yt=await K(),Yt.length===0)){Ne([]),C(!1),_("No companies found. Please create a company first.");return}C(!0),_(null);try{const Ct=[];let Qr=!1;for(const hr of Yt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(hr.id)){console.warn(`Skipping company ${hr.companyName} - ID is not a valid UUID: ${hr.id}`);continue}try{Qr=!0;const Vr=(await Ac.getUsersByCompany(hr.id)).map(Sr=>he(Sr,hr.companyName));Ct.push(...Vr)}catch(Gr){console.warn(`Failed to load users for company ${hr.companyName}:`,Gr);const Vr=Z(Gr);Vr.includes("403")||Vr.includes("401")||Vr.includes("Unauthorized")?_("Authentication failed. Please login again."):Vr.includes("404")||console.warn(`Error loading users for ${hr.companyName}: ${Vr}`)}}Qr?(Ne(Ct),Ct.length>0&&_(null)):_("No valid companies found. Please create a company first.")}catch(Ct){const Qr=Z(Ct);_(Qr||"Failed to load users"),console.error("Error loading users:",Ct)}finally{C(!1)}};M.useEffect(()=>{let He=!0;return(async()=>{try{const Ct=await K();if(!He)return;if(Ct.length>0){if(await We(Ct),!He)return;await le(Ct)}else _("No companies found. Please create a company first.")}catch(Ct){if(!He)return;console.error("[UserManagementPage] Error during initialization:",Ct);const Qr=Z(Ct);_(Qr||"Failed to initialize page. Please refresh.")}})(),()=>{He=!1}},[]),M.useEffect(()=>{if(ge.length>0&&W.length>0){const He=W.map(Ct=>{if(Ct.userRoleID&&X(Ct.userRoleID)){const Qr=ge.find(hr=>hr.id===Ct.userRoleID);return Qr?{...Ct,userRoleID:Qr.roleName}:{...Ct,userRoleID:"-"}}return Ct});He.some((Ct,Qr)=>Ct.userRoleID!==W[Qr].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),Ne(He))}},[ge]);const[ve]=M.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),se=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],re=W.filter(He=>{const Yt=o.toLowerCase();return(He.userName||"").toLowerCase().includes(Yt)||(He.emailAddress||"").toLowerCase().includes(Yt)||(He.empCode||"").toLowerCase().includes(Yt)||(He.mobileNumber||"").toLowerCase().includes(Yt)||(He.companyName||"").toLowerCase().includes(Yt)}),Ie=ge.filter(He=>He.roleName.toLowerCase().includes(o.toLowerCase())||He.description.toLowerCase().includes(o.toLowerCase())||He.companyName.toLowerCase().includes(o.toLowerCase())),Te=()=>{x(null),h(!0)},xe=async He=>{console.log("[handleEditUser] Editing user:",He.id),C(!0),_(null);try{const Yt=await Ac.getUserById(He.id);console.log("[handleEditUser] Complete user data fetched:",Yt);const Ct=ae.find(nn=>nn.id===Yt.companyId),Qr=(Ct==null?void 0:Ct.companyName)||He.companyName,hr=he(Yt,Qr);console.log("[handleEditUser] Mapped user data:",hr),x(hr),h(!0)}catch(Yt){console.error("[handleEditUser] Error fetching user data:",Yt);const Ct=Z(Yt);_(Ct||"Failed to load user data. Please try again."),x(He),h(!0)}finally{C(!1)}},pe=async He=>{if(window.confirm("Are you sure you want to delete this user?")){C(!0),_(null);try{await Ac.deleteUser(He),await le()}catch(Yt){const Ct=Z(Yt);_(Ct||"Failed to delete user"),console.error("Error deleting user:",Yt)}finally{C(!1)}}},X=He=>!He||He.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(He),fe=async He=>{console.log("handleSaveUser called with formData:",He),C(!0),_(null);try{if(g){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",g.id);const Yt=ae.find(hr=>hr.companyName===He.companyName)||ae[0];if(!Yt)throw new Error("Please select a company");if(!X(Yt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Yt.id}`);const Ct={companyId:Yt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode||null,emailAddress:He.emailAddress||null};if(He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const hr=Fe(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",hr),hr&&X(hr)?(Ct.userRoleId=hr,console.log("[handleSaveUser]  Using converted UUID role ID:",hr)):X(He.userRoleID)?(Ct.userRoleId=He.userRoleID,console.log("[handleSaveUser]  Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser]  Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:hr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Ct.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Ct.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Ct.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Ct.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Ct.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,Ct.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Ct.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Ct.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Ct.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Ct.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Ct.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,Ct.addressLine=He.address&&He.address.trim()?He.address.trim():null,Ct.area=He.area&&He.area.trim()?He.area.trim():null,Ct.city=He.city&&He.city.trim()?He.city.trim():null,Ct.district=He.district&&He.district.trim()?He.district.trim():null,Ct.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Ct.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,Ct.webLogin=He.webLogin||!1,Ct.mobileAppAccess=He.mobileApp||!1,Ct.status=He.status||"Draft",Ct.passwordEnabled=He.passwordEnabled||!1,Ct.otpEnabled=He.otpEnabled||!1,Ct.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(Ct,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Ct.emailAddress),console.log("  - Aadhaar:",Ct.aadhaarNumber),console.log("  - PAN:",Ct.panNumber),console.log("  - ESI:",Ct.esiNumber),console.log("  - Address:",Ct.addressLine);let Qr=!1;try{const hr=await Ac.updateCompleteUser(g.id,Ct);Qr=!0,console.log("[handleSaveUser]  UPDATE API call SUCCESSFUL! Result:",hr),alert(" User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),h(!1),x(null),_(null),console.log("[handleSaveUser]  Modal closed"),setTimeout(async()=>{try{await le(),console.log("[handleSaveUser]  Users reloaded")}catch(nn){console.error("[handleSaveUser]  Reload error (data was saved):",nn)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch(hr){throw Qr=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",hr),hr}}else{const Yt=ae.find(hr=>hr.companyName===He.companyName)||ae[0];if(!Yt)throw new Error("Please select a company");if(!X(Yt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Yt.id}`);const Ct={companyId:Yt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode,emailAddress:He.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",He.emailAddress),console.log("[handleSaveUser] Email address in createData:",Ct.emailAddress),He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const hr=Fe(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",hr),hr&&X(hr)?(Ct.userRoleId=hr,console.log("[handleSaveUser]  Using converted UUID role ID:",hr)):X(He.userRoleID)?(Ct.userRoleId=He.userRoleID,console.log("[handleSaveUser]  Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser]  Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:hr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Ct.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Ct.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Ct.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Ct.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Ct.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:Ct.employmentType,designation:Ct.designation,contractorName:Ct.contractorName,companyNameThirdParty:Ct.companyNameThirdParty,grossSalary:Ct.grossSalary}),Ct.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Ct.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Ct.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Ct.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Ct.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Ct.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:Ct.aadhaarNumber,pan:Ct.panNumber,drivingLicense:Ct.drivingLicenseNumber,pfNumber:Ct.pfNumber,uan:Ct.uanNumber,esi:Ct.esiNumber}),Ct.addressLine=He.address&&He.address.trim()?He.address.trim():null,Ct.area=He.area&&He.area.trim()?He.area.trim():null,Ct.city=He.city&&He.city.trim()?He.city.trim():null,Ct.district=He.district&&He.district.trim()?He.district.trim():null,Ct.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Ct.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:Ct.addressLine,area:Ct.area,city:Ct.city,district:Ct.district,pincode:Ct.pincode,emergencyContact:Ct.emergencyContact}),Ct.webLogin=He.webLogin||!1,Ct.mobileAppAccess=He.mobileApp||!1,Ct.status=He.status||"Draft",Ct.passwordEnabled=He.passwordEnabled||!1,Ct.otpEnabled=He.otpEnabled||!1,Ct.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",Ct),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(Ct,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Ct.emailAddress),console.log("  - Aadhaar:",Ct.aadhaarNumber),console.log("  - PAN:",Ct.panNumber),console.log("  - ESI:",Ct.esiNumber),console.log("  - Address:",Ct.addressLine),console.log("  - Area:",Ct.area),console.log("  - City:",Ct.city);let Qr=!1;try{const hr=await Ac.createCompleteUser(Ct);Qr=!0,console.log("[handleSaveUser]  API call SUCCESSFUL! Result:",hr),hr||console.warn("[handleSaveUser]  Warning: API returned empty result but status was 200"),alert(" User created successfully!"),console.log("[handleSaveUser] Closing modal..."),h(!1),x(null),_(null),console.log("[handleSaveUser]  Modal closed"),setTimeout(async()=>{try{await le(),console.log("[handleSaveUser]  Users reloaded")}catch(nn){console.error("[handleSaveUser]  Reload error (data was saved):",nn)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch(hr){throw Qr=!1,console.error("[handleSaveUser]  API CALL FAILED:",hr),hr}}}catch(Yt){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",Yt),console.error("[handleSaveUser] Error type:",typeof Yt),console.error("[handleSaveUser] Error instance check:",Yt instanceof Error);try{if(Yt instanceof Error){const hr=Yt;console.error("[handleSaveUser] Error details:",{message:hr.message,name:hr.name,stack:hr.stack,status:hr.status,statusText:hr.statusText,errorData:hr.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify(Yt,null,2))}catch(hr){console.error("[handleSaveUser] Could not log error details:",hr)}const Ct=Z(Yt);console.error("[handleSaveUser] Extracted error message:",Ct),console.error("[handleSaveUser] ========== ERROR END ==========");const Qr=Ct||"Failed to save user. Please check console (F12) for details.";_(Qr),alert(` Error Saving User

${Qr}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{C(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},oe=(He,Yt)=>({id:He.roleId,roleName:He.roleName,description:He.roleDescription||"",companyName:Yt,status:He.status,createdBy:He.createdBy||"",createdOn:He.createdOn,modifiedBy:He.modifiedBy||"",modifiedOn:He.modifiedOn}),We=async He=>{let Yt=He||ae;if(Yt.length===0&&(Yt=await K(),Yt.length===0)){console.warn("No companies available to load roles"),Ee([]);return}C(!0),_(null);try{const Ct=[];for(const Qr of Yt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Qr.id)){console.warn(`Skipping company ${Qr.companyName} - ID is not a valid UUID: ${Qr.id}`);continue}try{const Gr=(await um.getAllRoles(Qr.id,!1)).map(Vr=>oe(Vr,Qr.companyName));Ct.push(...Gr)}catch(nn){console.warn(`Failed to load roles for company ${Qr.companyName}:`,nn)}}Ee(Ct),console.log(`[loadRoles] Loaded ${Ct.length} roles`)}catch(Ct){const Qr=Z(Ct);_(Qr||"Failed to load roles"),console.error("Error loading roles:",Ct)}finally{C(!1)}},Ue=()=>{j(null),d(!0)},ue=He=>{j(He),d(!0)},be=async He=>{if(window.confirm("Are you sure you want to delete this role?")){C(!0),_(null);try{await um.deleteRole(He),await We(),alert(" Role deleted successfully!")}catch(Yt){const Ct=Z(Yt);_(Ct||"Failed to delete role"),console.error("Error deleting role:",Yt),alert(` Error Deleting Role

${Ct}

Please check the browser console (F12) for more details.`)}finally{C(!1)}}},Le=async He=>{C(!0),_(null);try{const Yt=ae.find(Ct=>Ct.companyName===He.companyName);if(!Yt)throw new Error("Please select a company");if(y){const Ct={roleName:He.roleName,roleDescription:He.description||null,status:He.status};console.log("[handleSaveRole] Updating role:",y.id,Ct),await um.updateRole(y.id,Ct),console.log("[handleSaveRole]  Role updated successfully"),alert(" Role updated successfully!")}else{const Ct={companyId:Yt.id,roleName:He.roleName||"",roleDescription:He.description||null,status:He.status||"Active"};console.log("[handleSaveRole] Creating role:",Ct),await um.createRole(Ct),console.log("[handleSaveRole]  Role created successfully"),alert(" Role created successfully!")}d(!1),j(null),await We()}catch(Yt){const Ct=Z(Yt);_(Ct||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",Yt),alert(` Error Saving Role

${Ct}

Please check the browser console (F12) for more details.`)}finally{C(!1)}},[ot,Tt]=M.useState(!1),[Mt,Nt]=M.useState(null),qt=async(He,Yt)=>{C(!0),_(null);try{if(Yt.passwordEnabled){const Ct=await hY(He,Yt);Nt({userName:Ct.userName,temporaryPassword:Ct.temporaryPassword,expiry:Ct.temporaryPasswordExpiry}),Tt(!0),await le()}else await Ac.activateUser(He,Yt),await le()}catch(Ct){const Qr=Z(Ct);_(Qr||"Failed to activate user"),console.error("Error activating user:",Ct)}finally{C(!1)}},Ir=async(He,Yt)=>{if(window.confirm(`Are you sure you want to reset the password for ${Yt}? A new temporary password will be generated.`)){C(!0),_(null);try{const Ct=await fY(He);Nt({userName:Ct.userName,temporaryPassword:Ct.temporaryPassword,expiry:Ct.temporaryPasswordExpiry}),Tt(!0),await le()}catch(Ct){const Qr=Z(Ct);_(Qr||"Failed to reset password"),console.error("Error resetting password:",Ct),alert(` Error Resetting Password

${Qr}

Please check the browser console (F12) for more details.`)}finally{C(!1)}}},fr=async He=>{if(window.confirm("Are you sure you want to deactivate this user?")){C(!0),_(null);try{await Ac.deactivateUser(He),await le()}catch(Yt){const Ct=Z(Yt);_(Ct||"Failed to deactivate user"),console.error("Error deactivating user:",Yt)}finally{C(!1)}}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:se.map(He=>e.jsx("li",{children:e.jsxs(Zr,{to:He.path,className:`nav-link ${He.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:He.icon}),e.jsx("span",{className:"nav-label",children:He.label})]})},He.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management"})})}),e.jsxs("div",{className:"user-management-page",children:[e.jsx("div",{className:"user-management-header",children:e.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})}),D&&e.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:D}),e.jsx("button",{onClick:()=>_(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),I&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),e.jsxs("div",{className:"user-management-tabs",children:[e.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>s("users"),children:"Users"}),e.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>s("roles"),children:"Roles & Permissions"})]}),e.jsxs("div",{className:"user-management-actions",children:[e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search",value:o,onChange:He=>c(He.target.value)})]}),e.jsx("button",{className:"add-btn",onClick:a==="users"?Te:Ue,children:"Add"})]}),a==="users"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Emp Code"}),e.jsx("th",{children:"Email Address"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"User Role"}),e.jsx("th",{children:"Employment Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:I?"Loading users...":"No users found"})}):re.map(He=>e.jsxs("tr",{children:[e.jsx("td",{children:He.companyName||"-"}),e.jsx("td",{children:He.userName||"-"}),e.jsx("td",{children:He.empCode||"-"}),e.jsx("td",{children:He.emailAddress||"-"}),e.jsx("td",{children:He.mobileNumber||"-"}),e.jsx("td",{children:He.userRoleID||"-"}),e.jsx("td",{children:He.employmentType||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>xe(He),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsxs("button",{className:"action-btn action-btn--reset",onClick:()=>Ir(He.id,He.userName),title:"Reset Password - Generate new temporary password",style:{color:"#ffffff",background:"#f59e0b",border:"1px solid #f59e0b",padding:"6px 10px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:"Reset"})]}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>pe(He.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},He.id))})]})}),e.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",re.length," of ",W.length," Items"]})]}),a==="roles"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"user-management-actions",children:[e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:o,onChange:He=>c(He.target.value)})]}),e.jsx("button",{className:"add-btn",onClick:Ue,children:"Add"})]}),e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:I?"Loading roles...":"No roles found"})}):Ie.map(He=>e.jsxs("tr",{children:[e.jsx("td",{children:He.roleName}),e.jsx("td",{children:He.description}),e.jsx("td",{children:He.companyName||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ue(He),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{T(He),f(!0)},title:"Manage Permissions",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>be(He.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},He.id))})]})}),e.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",Ie.length," of ",ge.length," Items"]})]})]})]}),l&&e.jsx(gY,{user:g,roles:ge.filter(He=>He.status==="Active"),companies:ae.filter(He=>He.status==="Active"),onClose:()=>{h(!1),x(null)},onSave:fe,onActivate:qt,onDeactivate:fr,loading:I}),ot&&Mt&&e.jsx("div",{className:"modal-overlay",onClick:()=>Tt(!1),children:e.jsxs("div",{className:"modal-content",onClick:He=>He.stopPropagation(),style:{maxWidth:"500px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Temporary Password Generated"}),e.jsx("button",{className:"modal-close-btn",onClick:()=>Tt(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[e.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[e.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:"600",color:"#92400e"},children:" Important: This password will only be shown once!"}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#78350f"},children:"Please copy this password and share it securely with the user. The user must change this password on their first login."})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"User Name:"}),e.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px"},children:Mt.userName})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Temporary Password:"}),e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{flex:1,padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"600",letterSpacing:"2px",color:"#1f2937"},children:Mt.temporaryPassword}),e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(Mt.temporaryPassword),alert("Password copied to clipboard!")},style:{padding:"8px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Copy"})]})]}),Mt.expiry&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Password Expires:"}),e.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontSize:"14px",color:"#6b7280"},children:new Date(Mt.expiry).toLocaleString()})]}),e.jsxs("div",{style:{background:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"8px",padding:"12px",fontSize:"14px",color:"#1e40af"},children:[e.jsx("strong",{children:"Note:"})," The user will be forced to change this password on their first login. This temporary password expires in 24 hours."]})]}),e.jsx("div",{className:"modal-footer",style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb"},children:e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>{Tt(!1),Nt(null)},style:{width:"100%"},children:"I've Copied the Password"})})]})}),i&&e.jsx(vY,{role:y,companies:ae.filter(He=>He.status==="Active"),onClose:()=>{d(!1),j(null)},onSave:Le}),u&&N&&e.jsx(xY,{role:N,onClose:()=>{f(!1),T(null)},onSave:He=>{console.log("Saving permissions for role:",N.roleName,He),f(!1),T(null)}}),e.jsx(pY,{isOpen:m,onClose:()=>v(!1)})]})},gY=({user:t,roles:r,companies:n,onClose:a,onSave:s,onActivate:o,onDeactivate:c,loading:l})=>{const h=C=>{if(!C)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(C))return C;if(r&&r.length>0){const D=r.find(_=>_.roleName===C);return D?D.id:""}return""},[i,d]=M.useState(1),[u,f]=M.useState(t||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",webLogin:!1,mobileApp:!1,passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});M.useEffect(()=>{if(t)try{const C=h(t.userRoleID);f(D=>({...t,userRoleID:C||t.userRoleID||""}))}catch(C){console.error("[UserFormModal] Error converting role:",C),f(t)}},[t==null?void 0:t.id]);const m=()=>{const C=[u.companyName,u.userName,u.mobileNumber,u.empCode,u.userRoleID,u.employmentType,u.designation,u.aadhaar,u.pan,u.address,u.area,u.city,u.district,u.pincode,u.emergencyContact],D=C.filter(_=>_&&_.toString().trim()!=="").length;return Math.round(D/C.length*100)},v=(C,D)=>{f(C==="companyName"?{...u,[C]:D,userRoleID:""}:{...u,[C]:D})},g=()=>{if(console.log("handleNext called - Current step:",i),i<6){const C=i+1;console.log("Setting step to:",C),d(C)}else console.warn("handleNext called but already at step 6")},x=()=>{i>1&&d(i-1)},y=C=>{const D=[];switch(C){case 1:(!u.companyName||u.companyName.trim()==="")&&D.push("Company"),(!u.userName||u.userName.trim()==="")&&D.push("User Name"),(!u.mobileNumber||u.mobileNumber.trim()==="")&&D.push("Mobile Number"),(!u.empCode||u.empCode.trim()==="")&&D.push("Employee Code"),(!u.userRoleID||u.userRoleID.trim()==="")&&D.push("User Role");break;case 2:(!u.employmentType||u.employmentType.trim()==="")&&D.push("Employment Type"),(!u.designation||u.designation.trim()==="")&&D.push("Designation"),u.employmentType==="Contract"&&(!u.contractorName||u.contractorName.trim()==="")&&D.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!u.companyName||u.companyName.trim()==="")&&D.push("Company (Step 1)"),(!u.userName||u.userName.trim()==="")&&D.push("User Name (Step 1)"),(!u.mobileNumber||u.mobileNumber.trim()==="")&&D.push("Mobile Number (Step 1)"),(!u.empCode||u.empCode.trim()==="")&&D.push("Employee Code (Step 1)"),(!u.userRoleID||u.userRoleID.trim()==="")&&D.push("User Role (Step 1)"),(!u.employmentType||u.employmentType.trim()==="")&&D.push("Employment Type (Step 2)"),(!u.designation||u.designation.trim()==="")&&D.push("Designation (Step 2)"),u.employmentType==="Contract"&&(!u.contractorName||u.contractorName.trim()==="")&&D.push("Contractor Name (Step 2)");break}const _=D.length===0,ae=_?"":` Validation Error - Step ${C}: ${C===1?"Create User":C===2?"Employee Profile":C===3?"Identity & Compliance":C===4?"Address & Emergency":C===5?"User Activation":"Summary"}

Please fill in the following required fields:

${D.map((V,ie)=>`  ${ie+1}. ${V}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:_,missingFields:D,message:ae}},j=C=>{C&&(C.preventDefault(),C.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",i),console.log("Form data:",u);const D=y(i);if(!D.isValid){alert(D.message),console.error(`Step ${i} validation failed - Missing fields:`,D.missingFields);return}i<6?(console.log(`Moving from Step ${i} to Step ${i+1}`),g()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},N=C=>{if(C&&(C.preventDefault(),C.stopPropagation()),console.log("handleFinalSave called - Current step:",i),i===6){const D=[],_=y(1);if(_.isValid||D.push({step:1,fields:_.missingFields}),D.length>0){const ae=D.map(({step:V,fields:ie})=>`Step ${V}:
${ie.map((U,G)=>`  ${G+1}. ${U}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${ae}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",D);return}const Z={...u,status:u.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",Z),console.log("[handleFinalSave] Email address in finalData:",Z.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),s(Z)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",i)},T=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&a()},I=[{number:1,title:"Create user"},{number:2,title:"Employee profile"},{number:3,title:"Identity & compliance"},{number:4,title:"Address & emergency"},{number:5,title:"User activation"},{number:6,title:"Summary & confirm"}];return e.jsx("div",{className:"modal-overlay",onClick:T,children:e.jsxs("div",{className:"modal-content wizard-modal",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit User":"Create User"}),e.jsx("button",{className:"modal-close-btn",onClick:T,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wizard-progress",children:I.map(C=>e.jsxs("div",{className:`wizard-step ${i>=C.number?"wizard-step--active":""} ${i===C.number?"wizard-step--current":""}`,children:[e.jsx("div",{className:"wizard-step-number",children:C.number}),e.jsx("div",{className:"wizard-step-title",children:C.title})]},C.number))}),e.jsxs("div",{className:"wizard-content",children:[i===1&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsx("h3",{className:"wizard-step-header",children:"Create user"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:u.companyName||"",onChange:C=>v("companyName",C.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select company"}),n.map(C=>e.jsx("option",{value:C.companyName,children:C.companyName},C.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User name *"}),e.jsx("input",{type:"text",value:u.userName||"",onChange:C=>v("userName",C.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$"}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),e.jsxs("div",{className:"form-group field-mobile",children:[e.jsx("label",{children:"Mobile number *"}),e.jsx("input",{type:"tel",value:u.mobileNumber||"",onChange:C=>v("mobileNumber",C.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email address"}),e.jsx("input",{type:"email",value:u.emailAddress||"",onChange:C=>v("emailAddress",C.target.value),placeholder:"e.g., user@example.com",maxLength:255}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),e.jsxs("div",{className:"form-group field-emp-code",children:[e.jsx("label",{children:"Employee code *"}),e.jsx("input",{type:"text",value:u.empCode||"",onChange:C=>v("empCode",C.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User role *"}),e.jsxs("select",{value:u.userRoleID||"",onChange:C=>v("userRoleID",C.target.value),required:!0,disabled:!u.companyName,children:[e.jsx("option",{value:"",children:u.companyName?"Select role":"Select company first"}),u.companyName&&r.filter(C=>C.companyName===u.companyName&&C.status==="Active").map(C=>e.jsx("option",{value:C.id,children:C.roleName},C.id))]}),!u.companyName&&e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),u.companyName&&r.filter(C=>C.companyName===u.companyName&&C.status==="Active").length===0&&e.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),i===2&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsx("h3",{className:"wizard-step-header",children:"Employee profile"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Employment type *"}),e.jsxs("select",{value:u.employmentType||"",onChange:C=>v("employmentType",C.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Permanent",children:"Permanent"}),e.jsx("option",{value:"Contract",children:"Contract"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Designation *"}),e.jsx("input",{type:"text",value:u.designation||"",onChange:C=>v("designation",C.target.value),required:!0})]}),u.employmentType==="Contract"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contractor name *"}),e.jsx("input",{type:"text",value:u.contractorName||"",onChange:C=>v("contractorName",C.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company name (if third-party)"}),e.jsx("input",{type:"text",value:u.companyNameThirdParty||"",onChange:C=>v("companyNameThirdParty",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Gross salary"}),e.jsx("input",{type:"text",value:u.grossSalary||"",onChange:C=>v("grossSalary",C.target.value)})]})]})]}),i===3&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsx("h3",{className:"wizard-step-header",children:"Identity & compliance details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group field-aadhaar",children:[e.jsx("label",{children:"Aadhaar"}),e.jsx("input",{type:"text",value:u.aadhaar||"",onChange:C=>v("aadhaar",C.target.value)})]}),e.jsxs("div",{className:"form-group field-pan",children:[e.jsx("label",{children:"PAN"}),e.jsx("input",{type:"text",value:u.pan||"",onChange:C=>v("pan",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Driving license"}),e.jsx("input",{type:"text",value:u.dlNum||"",onChange:C=>v("dlNum",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PF number"}),e.jsx("input",{type:"text",value:u.pfNum||"",onChange:C=>v("pfNum",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"UAN"}),e.jsx("input",{type:"text",value:u.uan||"",onChange:C=>v("uan",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ESI number"}),e.jsx("input",{type:"text",value:u.esiNum||"",onChange:C=>v("esiNum",C.target.value)})]})]})]}),i===4&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsx("h3",{className:"wizard-step-header",children:"Address & emergency"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("textarea",{value:u.address||"",onChange:C=>v("address",C.target.value),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area"}),e.jsx("input",{type:"text",value:u.area||"",onChange:C=>v("area",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City"}),e.jsx("input",{type:"text",value:u.city||"",onChange:C=>v("city",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"District"}),e.jsx("input",{type:"text",value:u.district||"",onChange:C=>v("district",C.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode"}),e.jsx("input",{type:"text",value:u.pincode||"",onChange:C=>v("pincode",C.target.value)})]}),e.jsxs("div",{className:"form-group field-mobile",children:[e.jsx("label",{children:"Emergency contact number"}),e.jsx("input",{type:"tel",value:u.emergencyContact||"",onChange:C=>v("emergencyContact",C.target.value)})]})]})]}),i===5&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsx("h3",{className:"wizard-step-header",children:"User activation & access enablement"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Web login *"}),e.jsxs("select",{value:u.webLogin?"Yes":"No",onChange:C=>v("webLogin",C.target.value==="Yes"),required:!0,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile app access *"}),e.jsxs("select",{value:u.mobileApp?"Yes":"No",onChange:C=>v("mobileApp",C.target.value==="Yes"),required:!0,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status *"}),e.jsxs("select",{value:u.status||"Draft",onChange:C=>v("status",C.target.value),required:!0,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password enabled *"}),e.jsxs("select",{value:u.passwordEnabled?"Yes":"No",onChange:C=>v("passwordEnabled",C.target.value==="Yes"),required:!0,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group field-otp",children:[e.jsx("label",{children:"OTP enabled *"}),e.jsxs("select",{value:u.otpEnabled?"Yes":"No",onChange:C=>v("otpEnabled",C.target.value==="Yes"),required:!0,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group field-otp",children:[e.jsx("label",{children:"Force OTP on next login *"}),e.jsxs("select",{value:u.forceOtpOnNextLogin?"Yes":"No",onChange:C=>v("forceOtpOnNextLogin",C.target.value==="Yes"),required:!0,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})]})]}),i===6&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsx("h3",{className:"wizard-step-header",children:"User summary & confirmation"}),e.jsx("div",{className:"activation-summary",children:e.jsxs("div",{className:"summary-card",children:[e.jsx("h4",{children:"User summary"}),e.jsxs("div",{className:"summary-info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Company:"}),e.jsx("span",{className:"info-value",children:u.companyName||"-"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"User name:"}),e.jsx("span",{className:"info-value",children:u.userName||"-"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Employee code:"}),e.jsx("span",{className:"info-value",children:u.empCode||"-"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Role:"}),e.jsx("span",{className:"info-value",children:u.userRoleID||"-"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"Profile completeness:"}),e.jsxs("span",{className:"info-value",children:[m(),"%"]})]})]}),e.jsxs("div",{className:"activation-actions",children:[e.jsx("button",{type:"button",className:"btn btn--activate",onClick:async()=>{t!=null&&t.id&&o&&(await o(t.id,{passwordEnabled:u.passwordEnabled||!1,otpEnabled:u.otpEnabled||!1,webLogin:u.webLogin||!1,mobileAppAccess:u.mobileApp||!1,forceOtpOnNextLogin:u.forceOtpOnNextLogin||!1}),a())},disabled:!(t!=null&&t.id)||l,children:" Activate User"}),e.jsx("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{t!=null&&t.id&&c&&(await c(t.id),a())},disabled:!(t!=null&&t.id)||l,children:" Deactivate User"})]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[i>1&&e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:T,children:"Cancel"}),i<6?e.jsx("button",{type:"button",className:"btn btn--primary",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("Save & Continue button clicked!"),j(C)},disabled:l,children:"Save & Continue"}):e.jsx("button",{type:"button",className:"btn btn--primary",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("Save & Complete button clicked!"),N(C)},disabled:l,children:"Save & Complete"})]})]})})},vY=({role:t,companies:r,onClose:n,onSave:a})=>{const[s,o]=M.useState(t||{roleName:"",description:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--role",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Role":"Add Role"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-single-column",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:s.companyName||"",onChange:l=>o({...s,companyName:l.target.value}),required:!0,disabled:!!t,children:[e.jsx("option",{value:"",children:"Select company"}),r.map(l=>e.jsx("option",{value:l.companyName,children:l.companyName},l.id))]}),t&&e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role name *"}),e.jsx("input",{type:"text",value:s.roleName||"",onChange:l=>o({...s,roleName:l.target.value}),required:!0,maxLength:100})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:s.description||"",onChange:l=>o({...s,description:l.target.value}),rows:3,maxLength:500})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:l=>o({...s,status:l.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},xY=({role:t,onClose:r,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[s,o]=M.useState(()=>{const d={};return a.forEach(u=>{u.permissions.forEach(f=>{d[f.code]=!1})}),d}),c=t.status==="Inactive",l=(d,u)=>{c||o({...s,[d]:u})},h=d=>{if(c)return;const u={...s},f=d.every(m=>s[m.code]);d.forEach(m=>{u[m.code]=!f}),o(u)},i=d=>{d.preventDefault(),n(s)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content modal-content--permissions",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",t.roleName]}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"permissions-form",onSubmit:i,children:[e.jsx("div",{className:"permissions-content",children:a.map(d=>{const u=d.permissions,f=u.every(m=>s[m.code]);return u.some(m=>s[m.code]),e.jsxs("div",{className:"permissions-module",children:[e.jsxs("div",{className:"permissions-module-header",children:[e.jsx("h3",{className:"permissions-module-title",children:d.module}),e.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>h(u),disabled:c,children:f?"Deselect All":"Select All"})]}),e.jsx("div",{className:"permissions-list",children:u.map(m=>e.jsxs("label",{className:"permission-item",children:[e.jsx("input",{type:"checkbox",checked:s[m.code]||!1,onChange:v=>l(m.code,v.target.checked),disabled:c}),e.jsx("span",{className:"permission-label",children:m.name})]},m.id))})]},d.module)})}),e.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},yY=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),[c,l]=M.useState(null),[h,i]=M.useState({}),d={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[u]=M.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[f,m]=M.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[v,g]=M.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:r.pathname==="/master/user-management"||r.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname.startsWith("/report")}],y=f.filter(V=>V.roleName.toLowerCase().includes(n.toLowerCase())||V.description.toLowerCase().includes(n.toLowerCase())||V.companyName.toLowerCase().includes(n.toLowerCase())),j=()=>{g({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),l(null),o(!0);const V={};Object.values(d).forEach(ie=>{ie.forEach(U=>{V[U.code]=!1})}),g(ie=>({...ie,permissions:V}))},N=V=>{g({roleName:V.roleName,description:V.description,companyName:V.companyName,landingPage:V.landingPage,status:V.status,accessLevel:V.accessLevel,permissions:V.permissions||{}}),l(V),o(!0)},T=V=>{window.confirm("Are you sure you want to delete this role?")&&m(f.filter(ie=>ie.id!==V))},I=()=>{if(!v.roleName||!v.companyName||!v.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)m(f.map(V=>V.id===c.id?{...V,roleName:v.roleName,description:v.description,companyName:v.companyName,landingPage:v.landingPage,status:v.status,accessLevel:v.accessLevel,permissions:v.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:V));else{const V={id:Date.now().toString(),roleName:v.roleName,description:v.description,companyName:v.companyName,landingPage:v.landingPage,status:v.status,accessLevel:v.accessLevel,permissions:v.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};m([...f,V])}o(!1),l(null)},C=(V,ie)=>{g(U=>({...U,permissions:{...U.permissions,[V]:ie}}))},D=(V,ie)=>{const U=d[V]||[],G={...v.permissions};U.forEach(K=>{G[K.code]=ie}),g(K=>({...K,permissions:G}))},_=V=>{i(ie=>({...ie,[V]:!ie[V]}))},Z=V=>{const ie=d[V]||[];return ie.length===0?!1:ie.every(U=>v.permissions[U.code])},ae=V=>{const ie=d[V]||[],U=ie.filter(G=>v.permissions[G.code]).length;return U>0&&U<ie.length};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),e.jsx("nav",{className:"sidebar-nav",children:x.map(V=>e.jsxs(Zr,{to:V.path,className:`nav-item ${V.active?"nav-item--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:V.icon}),e.jsx("span",{className:"nav-label",children:V.label})]},V.path))}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"logout-btn",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management / Roles & Permissions"})})}),e.jsxs("div",{className:"user-management-page",children:[e.jsxs("div",{className:"user-management-header",children:[e.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),e.jsxs("button",{className:"btn btn-primary",onClick:j,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),e.jsx("div",{className:"user-management-search-section",children:e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:V=>a(V.target.value)})]})}),e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(V=>e.jsxs("tr",{children:[e.jsx("td",{children:V.roleName}),e.jsx("td",{children:V.description}),e.jsx("td",{children:V.companyName}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${V.status.toLowerCase()}`,children:V.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>N(V),title:"Edit Role",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>N(V),title:"Manage Permissions",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>T(V.id),title:"Delete Role",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},V.id))})]})})]})]}),s&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content modal-content--role-form",onClick:V=>V.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),e.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"form-label",children:"Access Level"}),e.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(V=>e.jsxs("label",{className:"access-level-option",children:[e.jsx("input",{type:"radio",name:"accessLevel",value:V,checked:v.accessLevel===V,onChange:ie=>g({...v,accessLevel:ie.target.value})}),e.jsx("span",{children:V})]},V))})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Role Name *"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:v.roleName,onChange:V=>g({...v,roleName:V.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:v.description,onChange:V=>g({...v,description:V.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Company Name *"}),e.jsxs("select",{className:"form-input",value:v.companyName,onChange:V=>g({...v,companyName:V.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),u.filter(V=>V.status==="Active").map(V=>e.jsx("option",{value:V.companyName,children:V.companyName},V.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status *"}),e.jsxs("select",{className:"form-input",value:v.status,onChange:V=>g({...v,status:V.target.value}),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"form-label",children:"Permissions"}),e.jsx("div",{className:"permissions-list-container",children:Object.entries(d).map(([V,ie])=>e.jsxs("div",{className:"permission-module-item",children:[e.jsxs("div",{className:"permission-module-header-row",children:[e.jsxs("div",{className:"permission-module-header-left",children:[e.jsx("input",{type:"checkbox",checked:Z(V),ref:U=>{U&&(U.indeterminate=ae(V))},onChange:U=>D(V,U.target.checked),className:"permission-module-checkbox"}),e.jsx("span",{className:"permission-module-title",children:V})]}),e.jsx("button",{className:"permission-module-toggle",onClick:()=>_(V),children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:h[V]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),h[V]&&e.jsx("div",{className:"permission-module-permissions",children:ie.map(U=>e.jsxs("label",{className:"permission-item",children:[e.jsx("input",{type:"checkbox",checked:v.permissions[U.code]||!1,onChange:G=>C(U.code,G.target.checked)}),e.jsx("span",{children:U.name})]},U.id))})]},V))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary",onClick:I,children:"Save"})]})]})})]})},bY="http://localhost:3000/api/v1",jY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Up=async(t,r={})=>{const n=jY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${bY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Ei={createHcf:async t=>(await Up("/hcfs",{method:"POST",body:JSON.stringify(t)})).data,getHcfById:async t=>(await Up(`/hcfs/${t}`,{method:"GET"})).data,getAllHcfs:async(t,r=!1)=>{let n="/hcfs";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Up(n,{method:"GET"})).data},updateHcf:async(t,r)=>(await Up(`/hcfs/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteHcf:async t=>{await Up(`/hcfs/${t}`,{method:"DELETE"})}},wY="http://localhost:3000/api/v1",CY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Rp=async(t,r={})=>{const n=CY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${wY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Am={createHcfType:async t=>(await Rp("/hcf-types",{method:"POST",body:JSON.stringify(t)})).data,getHcfTypeById:async t=>(await Rp(`/hcf-types/${t}`,{method:"GET"})).data,getAllHcfTypes:async(t,r=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Rp(n,{method:"GET"})).data},updateHcfType:async(t,r)=>(await Rp(`/hcf-types/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteHcfType:async t=>{await Rp(`/hcf-types/${t}`,{method:"DELETE"})}},NY=()=>{const{logout:t,user:r}=ya(),n=In(),a=ef(r),s=TX(r),o=FX(r);M.useEffect(()=>{r&&(console.log("HCF Master - User:",{id:r.id,email:r.email,name:r.name,roles:r.roles}),console.log("HCF Master - Permissions:",{canCreate:a,canEdit:s,canDelete:o}))},[r,a,s]);const[c,l]=M.useState(""),[h,i]=M.useState(!1),[d,u]=M.useState(null),[f,m]=M.useState(!1),[v,g]=M.useState(null),[x,y]=M.useState(!1),[j,N]=M.useState(!1),T=()=>{N(!j)},[I,C]=M.useState([]),[D,_]=M.useState([]),[Z,ae]=M.useState([]),[V,ie]=M.useState([]),[U,G]=M.useState([]),[K,W]=M.useState([]),[Ne,ge]=M.useState([]),[Ee,Fe]=M.useState([]),he=M.useCallback(async()=>{try{const ue=await Ha.getAllCompanies(void 0,!0);C(ue.map(be=>({id:be.id,companyCode:be.companyCode,companyName:be.companyName,status:be.status})))}catch(ue){console.error("Failed to load companies:",ue)}},[]),le=M.useCallback(async()=>{try{const ue=await lm.getAllAreas(!0);_(ue.map(be=>({id:be.id,areaName:be.areaName,status:be.status})))}catch(ue){console.error("Failed to load areas:",ue)}},[]),ve=M.useCallback(async()=>{try{const ue=await om.getAllStates(!0);ae(ue.map(be=>({id:be.id,stateCode:be.stateCode,stateName:be.stateName,status:be.status})))}catch(ue){console.error("Failed to load states:",ue)}},[]),se=M.useCallback(async()=>{try{const ue=await dm.getAllPcbZones(!0);ie(ue.map(be=>({id:be.id,pcbZoneName:be.pcbZoneName,status:be.status})))}catch(ue){console.error("Failed to load PCB zones:",ue)}},[]),re=M.useCallback(async()=>{try{const ue=await cm.getAllCategories(void 0,!0);G(ue.map(be=>({id:be.id,categoryName:be.categoryName,status:be.status})))}catch(ue){console.error("Failed to load categories:",ue)}},[]),Ie=M.useCallback(async()=>{try{const ue=await GA.getAllRoutes(!0);W(ue.map(be=>({id:be.id,routeName:be.routeName,status:be.status})))}catch(ue){console.error("Failed to load routes:",ue)}},[]),Te=M.useCallback(async()=>{try{const ue=await Am.getAllHcfTypes(void 0,!0);ge(ue)}catch(ue){console.error("Failed to load HCF types:",ue)}},[]),xe=M.useCallback(async()=>{try{m(!0),g(null);const be=(await Ei.getAllHcfs()).map(Le=>{const ot=I.find(fr=>fr.id===Le.companyId),Tt=D.find(fr=>fr.id===Le.areaId),Mt=Z.find(fr=>fr.stateCode===Le.stateCode),Nt=V.find(fr=>fr.id===Le.pcbZone),qt=U.find(fr=>fr.id===Le.category),Ir=K.find(fr=>fr.id===Le.route);return{id:Le.id,companyName:(ot==null?void 0:ot.companyName)||"",companyID:Le.companyId,hcfCode:Le.hcfCode,password:Le.password||"",hcfTypeCode:Le.hcfTypeCode||"",hcfName:Le.hcfName,hcfShortName:Le.hcfShortName||"",areaID:Le.areaId||"",pincode:Le.pincode||"",district:Le.district||"",stateCode:Le.stateCode||"",groupCode:Le.groupCode||"",pcbZone:Le.pcbZone||"",billingName:Le.billingName||"",billingAddress:Le.billingAddress||"",serviceAddress:Le.serviceAddress||"",gstin:Le.gstin||"",regnNum:Le.regnNum||"",hospRegnDate:Le.hospRegnDate||"",billingType:Le.billingType||"",advAmount:Le.advAmount||"",billingOption:Le.billingOption||"",bedCount:Le.bedCount||"",bedRate:Le.bedRate||"",kgRate:Le.kgRate||"",lumpsum:Le.lumpsum||"",accountsLandline:Le.accountsLandline||"",accountsMobile:Le.accountsMobile||"",accountsEmail:Le.accountsEmail||"",contactName:Le.contactName||"",contactDesignation:Le.contactDesignation||"",contactMobile:Le.contactMobile||"",contactEmail:Le.contactEmail||"",agrSignAuthName:Le.agrSignAuthName||"",agrSignAuthDesignation:Le.agrSignAuthDesignation||"",drName:Le.drName||"",drPhNo:Le.drPhNo||"",drEmail:Le.drEmail||"",serviceStartDate:Le.serviceStartDate||"",serviceEndDate:Le.serviceEndDate||"",category:Le.category||"",route:Le.route||"",executive_Assigned:Le.executive_Assigned||"",submitBy:Le.submitBy||"",agrID:Le.agrID||"",sortOrder:Le.sortOrder||"",isGovt:Le.isGovt||!1,isGSTExempt:Le.isGSTExempt||!1,autoGen:Le.autoGen||!1,status:Le.status,createdBy:Le.createdBy||"",createdOn:Le.createdOn,modifiedBy:Le.modifiedBy||"",modifiedOn:Le.modifiedOn}});Fe(be)}catch(ue){console.error("Failed to load HCFs:",ue),g(ue.message||"Failed to load HCFs"),Fe([])}finally{m(!1)}},[I,D,Z,V,U,K]);M.useEffect(()=>{(async()=>{await Promise.all([he(),le(),ve(),se(),re(),Ie(),Te()])})()},[he,le,ve,se,re,Ie,Te]),M.useEffect(()=>{I.length>0&&xe()},[I.length,xe]);const pe=Ee.filter(ue=>ue.hcfName.toLowerCase().includes(c.toLowerCase())||ue.hcfCode.toLowerCase().includes(c.toLowerCase())||ue.companyName.toLowerCase().includes(c.toLowerCase())||ue.hcfShortName.toLowerCase().includes(c.toLowerCase()));M.useEffect(()=>{const ue=setTimeout(()=>{const be=document.querySelector(".add-hcf-btn"),Le=document.querySelectorAll(".action-btn"),ot=be?window.getComputedStyle(be):null,Tt=Le[0],Mt=Tt?window.getComputedStyle(Tt):null;console.log("HCF Master - Button Check:",{addButtonExists:!!be,addButtonVisible:be?(ot==null?void 0:ot.display)!=="none"&&(ot==null?void 0:ot.visibility)!=="hidden":!1,addButtonStyles:be?{display:ot==null?void 0:ot.display,visibility:ot==null?void 0:ot.visibility,opacity:ot==null?void 0:ot.opacity,width:ot==null?void 0:ot.width,height:ot==null?void 0:ot.height}:null,actionButtonsCount:Le.length,firstActionButtonStyles:Tt?{display:Mt==null?void 0:Mt.display,visibility:Mt==null?void 0:Mt.visibility,opacity:Mt==null?void 0:Mt.opacity}:null,canCreate:a,canEdit:s,hcfsCount:Ee.length,filteredHCFsCount:pe.length})},500);return()=>clearTimeout(ue)},[a,s,Ee.length,pe.length]);const X=()=>{u(null),i(!0)},fe=ue=>{u(ue),i(!0)},oe=async ue=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{m(!0),await Ei.deleteHcf(ue),await xe()}catch(be){console.error("Failed to delete HCF:",be),g(be.message||"Failed to delete HCF"),alert(be.message||"Failed to delete HCF")}finally{m(!1)}},We=async ue=>{try{if(y(!0),g(null),d){const be={hcfName:ue.hcfName,hcfShortName:ue.hcfShortName,areaId:ue.areaID,pincode:ue.pincode,district:ue.district,stateCode:ue.stateCode,groupCode:ue.groupCode,pcbZone:ue.pcbZone,billingName:ue.billingName,billingAddress:ue.billingAddress,serviceAddress:ue.serviceAddress,gstin:ue.gstin,regnNum:ue.regnNum,hospRegnDate:ue.hospRegnDate,billingType:ue.billingType,advAmount:ue.advAmount,billingOption:ue.billingOption,bedCount:ue.bedCount,bedRate:ue.bedRate,kgRate:ue.kgRate,lumpsum:ue.lumpsum,accountsLandline:ue.accountsLandline,accountsMobile:ue.accountsMobile,accountsEmail:ue.accountsEmail,contactName:ue.contactName,contactDesignation:ue.contactDesignation,contactMobile:ue.contactMobile,contactEmail:ue.contactEmail,agrSignAuthName:ue.agrSignAuthName,agrSignAuthDesignation:ue.agrSignAuthDesignation,drName:ue.drName,drPhNo:ue.drPhNo,drEmail:ue.drEmail,serviceStartDate:ue.serviceStartDate,serviceEndDate:ue.serviceEndDate,category:ue.category,route:ue.route,executive_Assigned:ue.executive_Assigned,submitBy:ue.submitBy,agrID:ue.agrID,sortOrder:ue.sortOrder,isGovt:ue.isGovt,isGSTExempt:ue.isGSTExempt,autoGen:ue.autoGen,status:ue.status};await Ei.updateHcf(d.id,be)}else{if(!ue.companyID)throw new Error("Company is required");if(!ue.hcfCode)throw new Error("HCF Code is required");if(!ue.hcfName)throw new Error("HCF Name is required");await Ei.createHcf({companyId:ue.companyID,hcfCode:ue.hcfCode,password:ue.password,hcfTypeCode:ue.hcfTypeCode,hcfName:ue.hcfName,hcfShortName:ue.hcfShortName,areaId:ue.areaID,pincode:ue.pincode,district:ue.district,stateCode:ue.stateCode,groupCode:ue.groupCode,pcbZone:ue.pcbZone,billingName:ue.billingName,billingAddress:ue.billingAddress,serviceAddress:ue.serviceAddress,gstin:ue.gstin,regnNum:ue.regnNum,hospRegnDate:ue.hospRegnDate,billingType:ue.billingType,advAmount:ue.advAmount,billingOption:ue.billingOption,bedCount:ue.bedCount,bedRate:ue.bedRate,kgRate:ue.kgRate,lumpsum:ue.lumpsum,accountsLandline:ue.accountsLandline,accountsMobile:ue.accountsMobile,accountsEmail:ue.accountsEmail,contactName:ue.contactName,contactDesignation:ue.contactDesignation,contactMobile:ue.contactMobile,contactEmail:ue.contactEmail,agrSignAuthName:ue.agrSignAuthName,agrSignAuthDesignation:ue.agrSignAuthDesignation,drName:ue.drName,drPhNo:ue.drPhNo,drEmail:ue.drEmail,serviceStartDate:ue.serviceStartDate,serviceEndDate:ue.serviceEndDate,category:ue.category,route:ue.route,executive_Assigned:ue.executive_Assigned,submitBy:ue.submitBy,agrID:ue.agrID,sortOrder:ue.sortOrder,isGovt:ue.isGovt,isGSTExempt:ue.isGSTExempt,autoGen:ue.autoGen})}await xe(),i(!1),u(null)}catch(be){console.error("Failed to save HCF:",be),g(be.message||"Failed to save HCF"),alert(be.message||"Failed to save HCF")}finally{y(!1)}},Ue=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:T,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Ue.map(ue=>e.jsx("li",{children:e.jsxs(Zr,{to:ue.path,className:`nav-link ${ue.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ue.icon}),!j&&e.jsx("span",{className:"nav-label",children:ue.label})]})},ue.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Master"})})}),e.jsxs("div",{className:"hcf-master-page",children:[v&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:v}),f&&Ee.length===0&&e.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),e.jsx("div",{className:"hcf-master-header",children:e.jsx("h1",{className:"hcf-master-title",children:"HCF Master"})}),e.jsxs("div",{className:"hcf-master-actions",style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center",gap:"16px",marginBottom:"20px",flexWrap:"nowrap"},children:[e.jsxs("div",{className:"hcf-search-box",style:{flex:"0 1 auto",maxWidth:"400px",minWidth:"200px"},children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"hcf-search-input",placeholder:"Search HCF...",value:c,onChange:ue=>l(ue.target.value)})]}),e.jsxs("button",{className:"add-hcf-btn",onClick:X,disabled:!a,style:{display:"flex !important",visibility:"visible !important",opacity:a?1:.6,cursor:a?"pointer":"not-allowed",position:"relative",zIndex:10,minWidth:"120px",minHeight:"40px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"13px",fontWeight:600,flexShrink:0,alignItems:"center",gap:"8px",whiteSpace:"nowrap"},title:a?"Add new HCF":"No permission to create HCF",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]}),e.jsx("div",{className:"hcf-table-container",children:e.jsxs("table",{className:"hcf-table",style:{width:"100%",tableLayout:"fixed"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"12%"},children:"Company Name"}),e.jsx("th",{style:{width:"8%"},children:"HCF Code"}),e.jsx("th",{style:{width:"12%"},children:"HCF Name"}),e.jsx("th",{style:{width:"10%"},children:"HCF Short Name"}),e.jsx("th",{style:{width:"7%"},children:"State Code"}),e.jsx("th",{style:{width:"10%"},children:"District"}),e.jsx("th",{style:{width:"8%"},children:"Pincode"}),e.jsx("th",{style:{width:"8%"},children:"Status"}),e.jsx("th",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"10px 8px",textAlign:"left",backgroundColor:"#f1f5f9"},children:"Actions"})]})}),e.jsx("tbody",{children:f&&Ee.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"Loading HCFs..."})}):pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):pe.map(ue=>e.jsxs("tr",{children:[e.jsx("td",{children:ue.companyName||"-"}),e.jsx("td",{children:ue.hcfCode||"-"}),e.jsx("td",{children:ue.hcfName||"-"}),e.jsx("td",{children:ue.hcfShortName||"-"}),e.jsx("td",{children:ue.stateCode||"-"}),e.jsx("td",{children:ue.district||"-"}),e.jsx("td",{children:ue.pincode||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${ue.status.toLowerCase()}`,children:ue.status})}),e.jsx("td",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"8px",whiteSpace:"nowrap",backgroundColor:"#ffffff"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-start",width:"100%",visibility:"visible",flexWrap:"nowrap"},children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>s&&fe(ue),title:s?"Edit":"No permission to edit",disabled:!s,style:{display:"flex",visibility:"visible",opacity:s?1:.5,cursor:s?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:s?"#3b82f6":"#e5e7eb",color:s?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>o&&oe(ue.id),title:o?"Delete":"No permission to delete",disabled:!o,style:{display:"flex",visibility:"visible",opacity:o?1:.5,cursor:o?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:o?"#ef4444":"#e5e7eb",color:o?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},ue.id))})]})}),e.jsxs("div",{className:"hcf-pagination-info",children:["Showing ",pe.length," of ",Ee.length," Items"]})]})]}),h&&e.jsx(BY,{hcf:d,companies:I.filter(ue=>ue.status==="Active"),areas:D.filter(ue=>ue.status==="Active"),states:Z.filter(ue=>ue.status==="Active"),pcbZones:V.filter(ue=>ue.status==="Active"),categories:U.filter(ue=>ue.status==="Active"),routes:K.filter(ue=>ue.status==="Active"),hcfTypes:Ne.filter(ue=>ue.status==="Active"),saving:x,onClose:()=>{i(!1),u(null)},onSave:We})]})},BY=({hcf:t,companies:r,areas:n,states:a,pcbZones:s,categories:o,routes:c,hcfTypes:l,saving:h,onClose:i,onSave:d})=>{const u=M.useCallback(()=>t?{...t}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[t]),[f,m]=M.useState(u);M.useEffect(()=>{m(u())},[t,u]);const v=g=>{g.preventDefault(),d(f)};return e.jsx("div",{className:"modal-overlay",onClick:i,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit HCF":"Add HCF"}),e.jsx("button",{className:"modal-close-btn",onClick:i,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"hcf-form",onSubmit:v,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:f.companyName||"",onChange:g=>{const x=r.find(y=>y.companyName===g.target.value);m({...f,companyName:g.target.value,companyID:(x==null?void 0:x.id)||""})},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(g=>e.jsx("option",{value:g.companyName,children:g.companyName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company ID"}),e.jsx("input",{type:"text",value:f.companyID||"",readOnly:!0,style:{backgroundColor:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Code *"}),e.jsx("input",{type:"text",value:f.hcfCode||"",onChange:g=>m({...f,hcfCode:g.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",value:f.password||"",onChange:g=>m({...f,password:g.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Code"}),e.jsxs("select",{value:f.hcfTypeCode||"",onChange:g=>m({...f,hcfTypeCode:g.target.value}),children:[e.jsx("option",{value:"",children:"Select HCF Type"}),l.map(g=>e.jsxs("option",{value:g.hcfTypeCode,children:[g.hcfTypeCode," - ",g.hcfTypeName]},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Name *"}),e.jsx("input",{type:"text",value:f.hcfName||"",onChange:g=>m({...f,hcfName:g.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Short Name"}),e.jsx("input",{type:"text",value:f.hcfShortName||"",onChange:g=>m({...f,hcfShortName:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Group Code"}),e.jsx("input",{type:"text",value:f.groupCode||"",onChange:g=>m({...f,groupCode:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Location Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area ID *"}),e.jsxs("select",{value:f.areaID||"",onChange:g=>m({...f,areaID:g.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Area"}),n.map(g=>e.jsx("option",{value:g.id,children:g.areaName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Code *"}),e.jsxs("select",{value:f.stateCode||"",onChange:g=>m({...f,stateCode:g.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select State"}),a.map(g=>e.jsxs("option",{value:g.stateCode,children:[g.stateCode," - ",g.stateName]},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"District *"}),e.jsx("input",{type:"text",value:f.district||"",onChange:g=>m({...f,district:g.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode *"}),e.jsx("input",{type:"text",value:f.pincode||"",onChange:g=>m({...f,pincode:g.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Zone"}),e.jsxs("select",{value:f.pcbZone||"",onChange:g=>m({...f,pcbZone:g.target.value}),children:[e.jsx("option",{value:"",children:"Select PCB Zone"}),s.map(g=>e.jsx("option",{value:g.id,children:g.pcbZoneName},g.id))]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Address Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Billing Address"}),e.jsx("textarea",{value:f.billingAddress||"",onChange:g=>m({...f,billingAddress:g.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Service Address"}),e.jsx("textarea",{value:f.serviceAddress||"",onChange:g=>m({...f,serviceAddress:g.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Name"}),e.jsx("input",{type:"text",value:f.billingName||"",onChange:g=>m({...f,billingName:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Registration & GST Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GSTIN"}),e.jsx("input",{type:"text",value:f.gstin||"",onChange:g=>m({...f,gstin:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registration Number"}),e.jsx("input",{type:"text",value:f.regnNum||"",onChange:g=>m({...f,regnNum:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hospital Registration Date"}),e.jsx("input",{type:"date",value:f.hospRegnDate||"",onChange:g=>m({...f,hospRegnDate:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Is GST Exempt"}),e.jsxs("select",{value:f.isGSTExempt?"true":"false",onChange:g=>m({...f,isGSTExempt:g.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Is Government"}),e.jsxs("select",{value:f.isGovt?"true":"false",onChange:g=>m({...f,isGovt:g.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Billing Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type"}),e.jsxs("select",{value:f.billingType||"",onChange:g=>m({...f,billingType:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Billing Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Option"}),e.jsxs("select",{value:f.billingOption||"",onChange:g=>m({...f,billingOption:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Billing Option"}),e.jsx("option",{value:"Per Bed",children:"Per Bed"}),e.jsx("option",{value:"Per Kg",children:"Per Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Advance Amount"}),e.jsx("input",{type:"text",value:f.advAmount||"",onChange:g=>m({...f,advAmount:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bed Count"}),e.jsx("input",{type:"text",value:f.bedCount||"",onChange:g=>m({...f,bedCount:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bed Rate"}),e.jsx("input",{type:"text",value:f.bedRate||"",onChange:g=>m({...f,bedRate:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kg Rate"}),e.jsx("input",{type:"text",value:f.kgRate||"",onChange:g=>m({...f,kgRate:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Lumpsum"}),e.jsx("input",{type:"text",value:f.lumpsum||"",onChange:g=>m({...f,lumpsum:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Accounts Contact"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Accounts Landline"}),e.jsx("input",{type:"tel",value:f.accountsLandline||"",onChange:g=>m({...f,accountsLandline:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Accounts Mobile"}),e.jsx("input",{type:"tel",value:f.accountsMobile||"",onChange:g=>m({...f,accountsMobile:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Accounts Email"}),e.jsx("input",{type:"email",value:f.accountsEmail||"",onChange:g=>m({...f,accountsEmail:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("input",{type:"text",value:f.contactName||"",onChange:g=>m({...f,contactName:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Designation"}),e.jsx("input",{type:"text",value:f.contactDesignation||"",onChange:g=>m({...f,contactDesignation:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Mobile"}),e.jsx("input",{type:"tel",value:f.contactMobile||"",onChange:g=>m({...f,contactMobile:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Email"}),e.jsx("input",{type:"email",value:f.contactEmail||"",onChange:g=>m({...f,contactEmail:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Agreement Signatory"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Signatory Auth Name"}),e.jsx("input",{type:"text",value:f.agrSignAuthName||"",onChange:g=>m({...f,agrSignAuthName:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Signatory Auth Designation"}),e.jsx("input",{type:"text",value:f.agrSignAuthDesignation||"",onChange:g=>m({...f,agrSignAuthDesignation:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement ID"}),e.jsx("input",{type:"text",value:f.agrID||"",onChange:g=>m({...f,agrID:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Doctor Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor Name"}),e.jsx("input",{type:"text",value:f.drName||"",onChange:g=>m({...f,drName:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor Phone Number"}),e.jsx("input",{type:"tel",value:f.drPhNo||"",onChange:g=>m({...f,drPhNo:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Doctor Email"}),e.jsx("input",{type:"email",value:f.drEmail||"",onChange:g=>m({...f,drEmail:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Service Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Start Date"}),e.jsx("input",{type:"date",value:f.serviceStartDate||"",onChange:g=>m({...f,serviceStartDate:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service End Date"}),e.jsx("input",{type:"date",value:f.serviceEndDate||"",onChange:g=>m({...f,serviceEndDate:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:f.category||"",onChange:g=>m({...f,category:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Category"}),o.map(g=>e.jsx("option",{value:g.id,children:g.categoryName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route"}),e.jsxs("select",{value:f.route||"",onChange:g=>m({...f,route:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Route"}),c.map(g=>e.jsx("option",{value:g.id,children:g.routeName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Executive Assigned"}),e.jsx("input",{type:"text",value:f.executive_Assigned||"",onChange:g=>m({...f,executive_Assigned:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Submit By"}),e.jsx("input",{type:"text",value:f.submitBy||"",onChange:g=>m({...f,submitBy:g.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Additional Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sort Order"}),e.jsx("input",{type:"text",value:f.sortOrder||"",onChange:g=>m({...f,sortOrder:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Auto Generate"}),e.jsxs("select",{value:f.autoGen?"true":"false",onChange:g=>m({...f,autoGen:g.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:f.status||"Active",onChange:g=>m({...f,status:g.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:h,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:h,children:h?"Saving...":t?"Update":"Save"})]})]})]})})},SY="http://localhost:3000/api/v1",EY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Qp=async(t,r={})=>{const n=EY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${SY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Lg={createHcfAmendment:async t=>(await Qp("/hcf-amendments",{method:"POST",body:JSON.stringify(t)})).data,getHcfAmendmentById:async t=>(await Qp(`/hcf-amendments/${t}`,{method:"GET"})).data,getAllHcfAmendments:async(t,r=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return t&&a.append("hcfId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Qp(n,{method:"GET"})).data},updateHcfAmendment:async(t,r)=>(await Qp(`/hcf-amendments/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteHcfAmendment:async t=>{await Qp(`/hcf-amendments/${t}`,{method:"DELETE"})}},IY=()=>{const{logout:t,user:r}=ya(),n=In(),a=ef(r),[s,o]=M.useState(""),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState(!0),[f,m]=M.useState(null),[v,g]=M.useState(!1),[x,y]=M.useState(!1),j=()=>{y(!x)},[N,T]=M.useState([]),[I,C]=M.useState([]),[D,_]=M.useState([]);M.useCallback(async()=>{try{const W=await Ha.getAllCompanies(void 0,!0);T(W)}catch(W){console.error("Failed to load companies:",W),m("Failed to load companies")}},[]),M.useCallback(async()=>{try{const W=await Ei.getAllHcfs(void 0,!0);C(W)}catch(W){console.error("Failed to load HCFs:",W),m("Failed to load HCFs")}},[]);const Z=M.useCallback(async()=>{try{u(!0),m(null),console.log("Loading amendments...");const W=await Lg.getAllHcfAmendments();console.log("Amendments loaded:",W),_(W.map(Ne=>({id:Ne.id,hcfId:Ne.hcfId,amendmentType:Ne.amendmentType,amendmentDate:Ne.amendmentDate,description:Ne.description,status:Ne.status,approvedBy:Ne.approvedBy,approvedDate:Ne.approvedDate,createdBy:Ne.createdBy,createdOn:Ne.createdOn,modifiedBy:Ne.modifiedBy,modifiedOn:Ne.modifiedOn}))),u(!1)}catch(W){console.error("Failed to load amendments:",W),m(W.message||"Failed to load amendments"),_([]),u(!1)}},[]);M.useEffect(()=>{D.length>0&&N.length>0&&I.length>0&&_(W=>{if(!W.some(Fe=>!Fe.hcfCode||!Fe.companyName))return W;const ge=W.map(Fe=>{if(Fe.hcfCode&&Fe.companyName)return Fe;const he=I.find(ve=>ve.id===Fe.hcfId),le=he?N.find(ve=>ve.id===he.companyId):null;return{...Fe,hcfCode:(he==null?void 0:he.hcfCode)||"",companyName:(le==null?void 0:le.companyName)||""}});return ge.some((Fe,he)=>{var le,ve;return Fe.hcfCode!==((le=W[he])==null?void 0:le.hcfCode)||Fe.companyName!==((ve=W[he])==null?void 0:ve.companyName)})?ge:W})},[N,I]),M.useEffect(()=>{let W=!0;return(async()=>{try{u(!0);const[ge,Ee]=await Promise.all([Ha.getAllCompanies(void 0,!0).catch(Fe=>(console.error("Failed to load companies:",Fe),[])),Ei.getAllHcfs(void 0,!0).catch(Fe=>(console.error("Failed to load HCFs:",Fe),[]))]);if(!W)return;T(ge),C(Ee),await Z()}catch(ge){console.error("Failed to initialize:",ge),W&&(m("Failed to load data"),u(!1))}})(),()=>{W=!1}},[Z]);const ae=D.filter(W=>(W.companyName||"").toLowerCase().includes(s.toLowerCase())||(W.hcfCode||"").toLowerCase().includes(s.toLowerCase())||W.amendmentType.toLowerCase().includes(s.toLowerCase())||(W.description||"").toLowerCase().includes(s.toLowerCase())),V=()=>{i(null),l(!0)},ie=W=>{i(W),l(!0)},U=async W=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{u(!0),await Lg.deleteHcfAmendment(W),await Z()}catch(Ne){console.error("Failed to delete amendment:",Ne),alert(Ne.message||"Failed to delete amendment")}finally{u(!1)}},G=async W=>{try{if(g(!0),m(null),h){const Ne={};W.amendmentType!==void 0&&(Ne.amendmentType=W.amendmentType),W.amendmentDate!==void 0&&(Ne.amendmentDate=W.amendmentDate),W.description!==void 0&&(Ne.description=W.description),W.status!==void 0&&(Ne.amendmentStatus=W.status),W.approvedBy!==void 0&&(Ne.approvedBy=W.approvedBy),W.approvedDate!==void 0&&(Ne.approvedDate=W.approvedDate),await Lg.updateHcfAmendment(h.id,Ne)}else{if(!W.hcfId)throw new Error("HCF is required");if(!W.amendmentType)throw new Error("Amendment type is required");if(!W.amendmentDate)throw new Error("Amendment date is required");await Lg.createHcfAmendment({hcfId:W.hcfId,amendmentType:W.amendmentType,amendmentDate:W.amendmentDate,description:W.description,status:W.status,approvedBy:W.approvedBy,approvedDate:W.approvedDate})}await Z(),l(!1),i(null)}catch(Ne){console.error("Failed to save amendment:",Ne),m(Ne.message||"Failed to save amendment"),alert(Ne.message||"Failed to save amendment")}finally{g(!1)}},K=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:j,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:K.map(W=>e.jsx("li",{children:e.jsxs(Zr,{to:W.path,className:`nav-link ${W.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:W.icon}),!x&&e.jsx("span",{className:"nav-label",children:W.label})]})},W.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Amendments"})})}),e.jsxs("div",{className:"hcf-amendments-page",children:[f&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:f}),d&&D.length===0&&e.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading amendments..."}),e.jsx("div",{className:"hcf-amendments-header",children:e.jsx("h1",{className:"hcf-amendments-title",children:"HCF Amendments"})}),e.jsxs("div",{className:"hcf-amendments-actions",children:[e.jsxs("div",{className:"hcf-amendments-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"hcf-amendments-search-input",placeholder:"Search Amendments...",value:s,onChange:W=>o(W.target.value)})]}),a&&e.jsxs("button",{className:"add-amendment-btn",onClick:V,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]}),e.jsx("div",{className:"hcf-amendments-table-container",children:e.jsxs("table",{className:"hcf-amendments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Amendment Type"}),e.jsx("th",{children:"Amendment Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Approved By"}),e.jsx("th",{children:"Approved Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d&&D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):ae.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):ae.map(W=>{const Ne=I.find(ge=>ge.id===W.hcfId);return e.jsxs("tr",{children:[e.jsx("td",{children:W.companyName||"-"}),e.jsx("td",{children:Ne?`${Ne.hcfCode} - ${Ne.hcfName}`:W.hcfCode||"-"}),e.jsx("td",{children:W.amendmentType||"-"}),e.jsx("td",{children:W.amendmentDate?new Date(W.amendmentDate).toLocaleDateString():"-"}),e.jsx("td",{children:W.description||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${(W.status||"Pending").toLowerCase()}`,children:W.status||"Pending"})}),e.jsx("td",{children:W.approvedBy||"-"}),e.jsx("td",{children:W.approvedDate?new Date(W.approvedDate).toLocaleDateString():"-"}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ie(W),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>U(W.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},W.id)})})]})}),e.jsxs("div",{className:"hcf-amendments-pagination-info",children:["Showing ",ae.length," of ",D.length," Items"]})]})]}),c&&e.jsx(kY,{amendment:h,companies:N.filter(W=>W.status==="Active"),hcfs:I.filter(W=>W.status==="Active"),onClose:()=>{l(!1),i(null),m(null)},onSave:G,saving:v})]})},kY=({amendment:t,companies:r,hcfs:n,onClose:a,onSave:s,saving:o=!1})=>{const c=()=>t?{...t,hcfId:t.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[l,h]=M.useState(c()),i=()=>{if(t&&t.hcfId){const v=n.find(g=>g.id===t.hcfId);return(v==null?void 0:v.companyId)||""}return""},[d,u]=M.useState(i());M.useEffect(()=>{d&&!t&&h(v=>({...v,hcfId:""}))},[d,t]),M.useEffect(()=>{if(t&&t.hcfId&&n.length>0&&!d){const v=n.find(g=>g.id===t.hcfId);v&&u(v.companyId)}},[t,n,d]);const f=d?n.filter(v=>v.companyId===d&&v.status==="Active"):n,m=v=>{if(v.preventDefault(),!l.hcfId){alert("Please select an HCF");return}if(!l.amendmentType){alert("Amendment type is required");return}if(!l.amendmentDate){alert("Amendment date is required");return}s(l)};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Amendment":"Add Amendment"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"amendment-form",onSubmit:m,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:d,onChange:v=>{u(v.target.value),h({...l,hcfId:""})},required:!0,disabled:!!t,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(v=>e.jsx("option",{value:v.id,children:v.companyName},v.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:l.hcfId||"",onChange:v=>h({...l,hcfId:v.target.value}),required:!0,disabled:!d&&!t,children:[e.jsx("option",{value:"",children:"Select HCF"}),f.length===0&&(d||t)?e.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):f.map(v=>e.jsxs("option",{value:v.id,children:[v.hcfCode," - ",v.hcfName]},v.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amendment Type *"}),e.jsx("input",{type:"text",value:l.amendmentType||"",onChange:v=>h({...l,amendmentType:v.target.value}),required:!0,placeholder:"Enter amendment type"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amendment Date *"}),e.jsx("input",{type:"date",value:l.amendmentDate||"",onChange:v=>h({...l,amendmentDate:v.target.value}),required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Description"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:l.description||"",onChange:v=>h({...l,description:v.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Approval Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:l.status||"Pending",onChange:v=>h({...l,status:v.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approved By"}),e.jsx("input",{type:"text",value:l.approvedBy||"",onChange:v=>h({...l,approvedBy:v.target.value}),placeholder:"Enter approver name or ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approved Date"}),e.jsx("input",{type:"date",value:l.approvedDate||"",onChange:v=>h({...l,approvedDate:v.target.value})})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:o,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:o,children:o?"Saving...":t?"Update":"Save"})]})]})]})})},TY=()=>{const{logout:t,user:r}=ya(),n=In(),a=ef(r),[s,o]=M.useState(""),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState([]),[f,m]=M.useState([]),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(!1),T=()=>{N(!j)},I=async()=>{try{const G=(await Ha.getAllCompanies(!0)).map(K=>({id:K.id,companyCode:K.companyCode,companyName:K.companyName,status:K.status}));m(G)}catch(U){console.error("Error loading companies:",U)}},C=async()=>{g(!0),y(null);try{const G=(await Am.getAllHcfTypes(void 0,!0)).map(K=>{const W=f.find(Ne=>Ne.id===K.companyId);return{id:K.id,companyName:(W==null?void 0:W.companyName)||"Unknown Company",hcfTypeCode:K.hcfTypeCode,hcfTypeName:K.hcfTypeName,status:K.status,createdBy:K.createdBy||"",createdOn:K.createdOn,modifiedBy:K.modifiedBy||"",modifiedOn:K.modifiedOn}});u(G)}catch(U){const G=U instanceof Error?U.message:"Failed to load HCF types";y(G),console.error("Error loading HCF types:",U),u([])}finally{g(!1)}};M.useEffect(()=>{(async()=>{await I()})()},[]),M.useEffect(()=>{f.length>0&&C()},[f.length]);const D=d.filter(U=>U.companyName.toLowerCase().includes(s.toLowerCase())||U.hcfTypeCode.toLowerCase().includes(s.toLowerCase())||U.hcfTypeName.toLowerCase().includes(s.toLowerCase())),_=()=>{i(null),l(!0)},Z=U=>{i(U),l(!0)},ae=async U=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{g(!0),await Am.deleteHcfType(U),await C(),alert("HCF Type deleted successfully")}catch(G){const K=G instanceof Error?G.message:"Failed to delete HCF type";alert(`Error: ${K}`),console.error("Error deleting HCF type:",G)}finally{g(!1)}},V=async U=>{try{g(!0),y(null);const G=f.find(K=>K.companyName===U.companyName);if(!G){alert("Please select a valid company");return}if(h)await Am.updateHcfType(h.id,{status:U.status}),alert("HCF Type updated successfully");else{if(!U.hcfTypeCode||!U.hcfTypeName||!U.companyName){alert("Please fill in all required fields");return}await Am.createHcfType({hcfTypeCode:U.hcfTypeCode,hcfTypeName:U.hcfTypeName,companyId:G.id}),alert("HCF Type created successfully")}l(!1),i(null),await C()}catch(G){const K=G instanceof Error?G.message:"Failed to save HCF type";y(K),alert(`Error: ${K}`),console.error("Error saving HCF type:",G)}finally{g(!1)}},ie=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:T,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(U=>e.jsx("li",{children:e.jsxs(Zr,{to:U.path,className:`nav-link ${U.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:U.icon}),!j&&e.jsx("span",{className:"nav-label",children:U.label})]})},U.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Type Master"})})}),x&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),v&&!d.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading HCF types..."}),e.jsxs("div",{className:"hcf-type-master-page",children:[e.jsx("div",{className:"hcf-type-master-header",children:e.jsx("h1",{className:"hcf-type-master-title",children:"HCF Type Master"})}),e.jsxs("div",{className:"hcf-type-master-actions",children:[e.jsxs("div",{className:"hcf-type-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"hcf-type-search-input",placeholder:"Search HCF Type...",value:s,onChange:U=>o(U.target.value)})]}),a&&e.jsxs("button",{className:"add-hcf-type-btn",onClick:_,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]}),e.jsx("div",{className:"hcf-type-table-container",children:e.jsxs("table",{className:"hcf-type-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"HCF Type Code"}),e.jsx("th",{children:"HCF Type Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:"No HCF Type records found"})}):D.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.companyName||"-"}),e.jsx("td",{children:U.hcfTypeCode||"-"}),e.jsx("td",{children:U.hcfTypeName||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${U.status.toLowerCase()}`,children:U.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(U),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ae(U.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},U.id))})]})}),e.jsxs("div",{className:"hcf-type-pagination-info",children:["Showing ",D.length," of ",d.length," Items"]})]})]}),c&&e.jsx(FY,{hcfType:h,companies:f.filter(U=>U.status==="Active"),onClose:()=>{l(!1),i(null)},onSave:V})]})},FY=({hcfType:t,companies:r,onClose:n,onSave:a})=>{const[s,o]=M.useState(t||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit HCF Type":"Add HCF Type"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:l=>o({...s,companyName:l.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(l=>e.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Code *"}),e.jsx("input",{type:"text",value:s.hcfTypeCode||"",onChange:l=>o({...s,hcfTypeCode:l.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Name *"}),e.jsx("input",{type:"text",value:s.hcfTypeName||"",onChange:l=>o({...s,hcfTypeName:l.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:l=>o({...s,status:l.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},PY="http://localhost:3000/api/v1",OY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Hp=async(t,r={})=>{const n=OY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${PY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Iu={createFleet:async t=>(await Hp("/fleets",{method:"POST",body:JSON.stringify(t)})).data,getFleetById:async t=>(await Hp(`/fleets/${t}`,{method:"GET"})).data,getAllFleets:async(t,r=!1)=>{let n="/fleets";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await Hp(n,{method:"GET"})).data},updateFleet:async(t,r)=>(await Hp(`/fleets/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteFleet:async t=>{await Hp(`/fleets/${t}`,{method:"DELETE"})}},MY=()=>{const{logout:t,user:r}=ya(),n=In(),a=ef(r),[s,o]=M.useState(""),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState([]),[f,m]=M.useState([]),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(!1),T=()=>{N(!j)},I=async()=>{try{const G=(await Ha.getAllCompanies(!0)).map(K=>({id:K.id,companyCode:K.companyCode,companyName:K.companyName,status:K.status}));m(G)}catch(U){console.error("Error loading companies:",U)}},C=async()=>{g(!0),y(null);try{const G=(await Iu.getAllFleets(void 0,!0)).map(K=>{const W=f.find(Ne=>Ne.id===K.companyId);return{id:K.id,companyName:(W==null?void 0:W.companyName)||"Unknown Company",vehicleNum:K.vehicleNum,capacity:K.capacity||"",vehMake:K.vehMake||"",vehModel:K.vehModel||"",mfgYear:K.mfgYear||"",nextFCDate:K.nextFCDate||"",pucDateValidUpto:K.pucDateValidUpto||"",insuranceValidUpto:K.insuranceValidUpto||"",ownerName:K.ownerName||"",ownerContact:K.ownerContact||"",ownerEmail:K.ownerEmail||"",ownerPAN:K.ownerPAN||"",ownerAadhaar:K.ownerAadhaar||"",pymtToName:K.pymtToName||"",pymtBankName:K.pymtBankName||"",pymtAccNum:K.pymtAccNum||"",pymtIFSCode:K.pymtIFSCode||"",pymtBranch:K.pymtBranch||"",contractAmount:K.contractAmount||"",tdsExemption:K.tdsExemption||!1,status:K.status,createdBy:K.createdBy||"",createdOn:K.createdOn,modifiedBy:K.modifiedBy||"",modifiedOn:K.modifiedOn}});u(G)}catch(U){const G=U instanceof Error?U.message:"Failed to load fleets";y(G),console.error("Error loading fleets:",U),u([])}finally{g(!1)}};M.useEffect(()=>{(async()=>{await I()})()},[]),M.useEffect(()=>{f.length>0&&C()},[f.length]);const D=d.filter(U=>U.companyName.toLowerCase().includes(s.toLowerCase())||U.vehicleNum.toLowerCase().includes(s.toLowerCase())||U.vehMake.toLowerCase().includes(s.toLowerCase())||U.vehModel.toLowerCase().includes(s.toLowerCase())||U.ownerName.toLowerCase().includes(s.toLowerCase())),_=()=>{i(null),l(!0)},Z=U=>{i(U),l(!0)},ae=async U=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{g(!0),await Iu.deleteFleet(U),await C(),alert("Fleet deleted successfully")}catch(G){const K=G instanceof Error?G.message:"Failed to delete fleet";alert(`Error: ${K}`),console.error("Error deleting fleet:",G)}finally{g(!1)}},V=async U=>{try{g(!0),y(null);const G=f.find(K=>K.companyName===U.companyName);if(!G){alert("Please select a valid company");return}if(h)await Iu.updateFleet(h.id,{capacity:U.capacity,vehMake:U.vehMake,vehModel:U.vehModel,mfgYear:U.mfgYear,nextFCDate:U.nextFCDate,pucDateValidUpto:U.pucDateValidUpto,insuranceValidUpto:U.insuranceValidUpto,ownerName:U.ownerName,ownerContact:U.ownerContact,ownerEmail:U.ownerEmail,ownerPAN:U.ownerPAN,ownerAadhaar:U.ownerAadhaar,pymtToName:U.pymtToName,pymtBankName:U.pymtBankName,pymtAccNum:U.pymtAccNum,pymtIFSCode:U.pymtIFSCode,pymtBranch:U.pymtBranch,contractAmount:U.contractAmount,tdsExemption:U.tdsExemption,status:U.status}),alert("Fleet updated successfully");else{if(!U.vehicleNum||!U.companyName){alert("Please fill in Vehicle Number and Company Name");return}await Iu.createFleet({companyId:G.id,vehicleNum:U.vehicleNum,capacity:U.capacity,vehMake:U.vehMake,vehModel:U.vehModel,mfgYear:U.mfgYear,nextFCDate:U.nextFCDate,pucDateValidUpto:U.pucDateValidUpto,insuranceValidUpto:U.insuranceValidUpto,ownerName:U.ownerName,ownerContact:U.ownerContact,ownerEmail:U.ownerEmail,ownerPAN:U.ownerPAN,ownerAadhaar:U.ownerAadhaar,pymtToName:U.pymtToName,pymtBankName:U.pymtBankName,pymtAccNum:U.pymtAccNum,pymtIFSCode:U.pymtIFSCode,pymtBranch:U.pymtBranch,contractAmount:U.contractAmount,tdsExemption:U.tdsExemption}),alert("Fleet created successfully")}l(!1),i(null),await C()}catch(G){const K=G instanceof Error?G.message:"Failed to save fleet";y(K),alert(`Error: ${K}`),console.error("Error saving fleet:",G)}finally{g(!1)}},ie=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:T,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(U=>e.jsx("li",{children:e.jsxs(Zr,{to:U.path,className:`nav-link ${U.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:U.icon}),!j&&e.jsx("span",{className:"nav-label",children:U.label})]})},U.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Fleet Management"})})}),x&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),v&&!d.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading fleets..."}),e.jsxs("div",{className:"fleet-management-page",children:[e.jsx("div",{className:"fleet-management-header",children:e.jsx("h1",{className:"fleet-management-title",children:"Fleet Management"})}),e.jsxs("div",{className:"fleet-management-actions",children:[e.jsxs("div",{className:"fleet-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"fleet-search-input",placeholder:"Search Fleet...",value:s,onChange:U=>o(U.target.value)})]}),a&&e.jsxs("button",{className:"add-fleet-btn",onClick:_,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]}),e.jsx("div",{className:"fleet-table-container",children:e.jsxs("table",{className:"fleet-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No fleet records found"})}):D.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.companyName||"-"}),e.jsx("td",{children:U.vehicleNum||"-"}),e.jsx("td",{children:U.vehMake||"-"}),e.jsx("td",{children:U.vehModel||"-"}),e.jsx("td",{children:U.capacity||"-"}),e.jsx("td",{children:U.ownerName||"-"}),e.jsx("td",{children:U.ownerContact||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${U.status.toLowerCase()}`,children:U.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(U),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ae(U.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},U.id))})]})}),e.jsxs("div",{className:"fleet-pagination-info",children:["Showing ",D.length," of ",d.length," Items"]})]})]}),c&&e.jsx(DY,{fleet:h,companies:f.filter(U=>U.status==="Active"),onClose:()=>{l(!1),i(null)},onSave:V})]})},DY=({fleet:t,companies:r,onClose:n,onSave:a})=>{const[s,o]=M.useState(t||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Vehicle":"Add Vehicle"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"fleet-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:l=>o({...s,companyName:l.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(l=>e.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Number *"}),e.jsx("input",{type:"text",value:s.vehicleNum||"",onChange:l=>o({...s,vehicleNum:l.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Capacity *"}),e.jsx("input",{type:"text",value:s.capacity||"",onChange:l=>o({...s,capacity:l.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Make *"}),e.jsx("input",{type:"text",value:s.vehMake||"",onChange:l=>o({...s,vehMake:l.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Model *"}),e.jsx("input",{type:"text",value:s.vehModel||"",onChange:l=>o({...s,vehModel:l.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Manufacturing Year"}),e.jsx("input",{type:"text",value:s.mfgYear||"",onChange:l=>o({...s,mfgYear:l.target.value}),placeholder:"e.g., 2020"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Next FC Date"}),e.jsx("input",{type:"date",value:s.nextFCDate||"",onChange:l=>o({...s,nextFCDate:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PUC Date Valid Upto"}),e.jsx("input",{type:"date",value:s.pucDateValidUpto||"",onChange:l=>o({...s,pucDateValidUpto:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Valid Upto"}),e.jsx("input",{type:"date",value:s.insuranceValidUpto||"",onChange:l=>o({...s,insuranceValidUpto:l.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Owner Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Name *"}),e.jsx("input",{type:"text",value:s.ownerName||"",onChange:l=>o({...s,ownerName:l.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Contact *"}),e.jsx("input",{type:"tel",value:s.ownerContact||"",onChange:l=>o({...s,ownerContact:l.target.value}),required:!0,placeholder:"+91-9876543210"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Email"}),e.jsx("input",{type:"email",value:s.ownerEmail||"",onChange:l=>o({...s,ownerEmail:l.target.value}),placeholder:"owner@example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner PAN"}),e.jsx("input",{type:"text",value:s.ownerPAN||"",onChange:l=>o({...s,ownerPAN:l.target.value}),placeholder:"ABCDE1234F"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Aadhaar"}),e.jsx("input",{type:"text",value:s.ownerAadhaar||"",onChange:l=>o({...s,ownerAadhaar:l.target.value}),placeholder:"1234-5678-9012"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment To Name"}),e.jsx("input",{type:"text",value:s.pymtToName||"",onChange:l=>o({...s,pymtToName:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:s.pymtBankName||"",onChange:l=>o({...s,pymtBankName:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:s.pymtAccNum||"",onChange:l=>o({...s,pymtAccNum:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC Code"}),e.jsx("input",{type:"text",value:s.pymtIFSCode||"",onChange:l=>o({...s,pymtIFSCode:l.target.value}),placeholder:"SBIN0001234"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Branch"}),e.jsx("input",{type:"text",value:s.pymtBranch||"",onChange:l=>o({...s,pymtBranch:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract Amount"}),e.jsx("input",{type:"text",value:s.contractAmount||"",onChange:l=>o({...s,contractAmount:l.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TDS Exemption"}),e.jsxs("select",{value:s.tdsExemption?"true":"false",onChange:l=>o({...s,tdsExemption:l.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:l=>o({...s,status:l.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},_Y="http://localhost:3000/api/v1",LY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Wp=async(t,r={})=>{const n=LY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${_Y}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"?o=c.message:o=String(c.message):c.error&&(typeof c.error=="string"?o=c.error:c.error.message?o=typeof c.error.message=="string"?c.error.message:String(c.error.message):o=JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},Ug={createRouteHcfMapping:async t=>(await Wp("/route-hcf-mappings",{method:"POST",body:JSON.stringify(t)})).data,getRouteHcfMappingById:async t=>(await Wp(`/route-hcf-mappings/${t}`,{method:"GET"})).data,getAllRouteHcfMappings:async(t,r,n,a=!1)=>{let s="/route-hcf-mappings";const o=new URLSearchParams;return t&&o.append("routeId",t),r&&o.append("hcfId",r),n&&o.append("companyId",n),a&&o.append("activeOnly","true"),o.toString()&&(s+=`?${o.toString()}`),(await Wp(s,{method:"GET"})).data},updateRouteHcfMapping:async(t,r)=>(await Wp(`/route-hcf-mappings/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteRouteHcfMapping:async t=>{await Wp(`/route-hcf-mappings/${t}`,{method:"DELETE"})}},UY=()=>{const{logout:t,user:r}=ya(),n=In(),a=ef(r),[s,o]=M.useState(""),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(null),[x,y]=M.useState(!1),j=()=>{y(!x)},[N,T]=M.useState([]),[I,C]=M.useState([]),[D,_]=M.useState([]),[Z,ae]=M.useState([]),V=M.useCallback(async()=>{try{const ve=(await Ha.getAllCompanies(!0)).map(se=>({id:se.id,companyCode:se.companyCode,companyName:se.companyName,status:se.status}));T(ve)}catch(le){console.error("Error loading companies:",le)}},[]),ie=M.useCallback(async()=>{try{const le=await GA.getAllRoutes(!0),ve=await Promise.all(le.map(async se=>{const re=N.find(Ie=>Ie.id===se.companyId);return{id:se.id,routeCode:se.routeCode,routeName:se.routeName,companyName:(re==null?void 0:re.companyName)||"Unknown",status:se.status}}));C(ve)}catch(le){console.error("Error loading routes:",le)}},[N]),U=M.useCallback(async()=>{try{const le=await Ei.getAllHcfs(void 0,!0),ve=await Promise.all(le.map(async se=>{const re=N.find(Ie=>Ie.id===se.companyId);return{id:se.id,hcfCode:se.hcfCode,hcfName:se.hcfName,companyName:(re==null?void 0:re.companyName)||"Unknown",status:se.status}}));_(ve)}catch(le){console.error("Error loading HCFs:",le)}},[N]),G=M.useCallback(async()=>{u(!0),m(null);try{const ve=(await Ug.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(se=>{const re=I.find(xe=>xe.id===se.routeId),Ie=D.find(xe=>xe.id===se.hcfId),Te=N.find(xe=>xe.id===se.companyId);return{id:se.id,routeId:se.routeId,routeCode:(re==null?void 0:re.routeCode)||"",routeName:(re==null?void 0:re.routeName)||"",hcfId:se.hcfId,hcfCode:(Ie==null?void 0:Ie.hcfCode)||"",hcfName:(Ie==null?void 0:Ie.hcfName)||"",companyId:se.companyId,companyName:(Te==null?void 0:Te.companyName)||"Unknown",sequenceOrder:se.sequenceOrder,status:se.status,createdBy:se.createdBy,createdOn:se.createdOn,modifiedBy:se.modifiedBy,modifiedOn:se.modifiedOn}});ae(ve)}catch(le){const ve=le instanceof Error?le.message:"Failed to load mappings";m(ve),console.error("Error loading mappings:",le)}finally{u(!1)}},[I,D,N]);M.useEffect(()=>{(async()=>{await V()})()},[V]),M.useEffect(()=>{N.length>0&&(ie(),U())},[N,ie,U]),M.useEffect(()=>{I.length>0&&D.length>0&&N.length>0&&G()},[I,D,N,G]);const K=Z.filter(le=>{var ve,se;return le.routeCode.toLowerCase().includes(s.toLowerCase())||le.hcfCode.toLowerCase().includes(s.toLowerCase())||le.companyName.toLowerCase().includes(s.toLowerCase())||((ve=I.find(re=>re.routeCode===le.routeCode))==null?void 0:ve.routeName.toLowerCase().includes(s.toLowerCase()))||((se=D.find(re=>re.hcfCode===le.hcfCode))==null?void 0:se.hcfName.toLowerCase().includes(s.toLowerCase()))}),W=()=>{i(null),l(!0)},Ne=le=>{i(le),l(!0)},ge=async le=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{u(!0),m(null),await Ug.deleteRouteHcfMapping(le),g("Mapping deleted successfully"),await G(),setTimeout(()=>{g(null)},3e3)}catch(ve){let se="Failed to delete mapping";ve instanceof Error&&(se=ve.message,se.includes("not found")?se="This mapping could not be found. It may have already been deleted.":(se.includes("permission")||se.includes("unauthorized"))&&(se="You do not have permission to delete this mapping.")),m(se),console.error("Error deleting mapping:",ve)}finally{u(!1)}},Ee=(le,ve,se)=>{let re="Failed to save mapping";return le instanceof Error&&(re=le.message,re.includes("already exists")||re.includes("mapping between")?ve&&se?re=`This mapping already exists: Route "${ve.routeCode} - ${ve.routeName}" and HCF "${se.hcfCode} - ${se.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:re="This mapping already exists. Each route-HCF combination can only be mapped once.":re.includes("not found")?re="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":re.includes("invalid")?re="Invalid data provided. Please check your inputs and try again.":re.includes("required")?re="Please fill in all required fields.":re.includes("permission")||re.includes("unauthorized")?re="You do not have permission to perform this action.":re.includes("HTTP 409")||re.includes("Conflict")?re="A conflict occurred. This mapping may already exist.":re.includes("HTTP 400")||re.includes("Bad Request")?re="Invalid request. Please check your inputs and try again.":(re.includes("HTTP 500")||re.includes("Internal Server Error"))&&(re="An internal server error occurred. Please try again later or contact support.")),re},Fe=async le=>{try{u(!0),m(null);const ve=N.find(Ie=>Ie.companyName===le.companyName);if(!ve){m("Please select a valid company");return}const se=I.find(Ie=>Ie.routeCode===le.routeCode&&Ie.companyName===le.companyName);if(!se){m("Please select a valid route");return}const re=D.find(Ie=>Ie.hcfCode===le.hcfCode&&Ie.companyName===le.companyName);if(!re){m("Please select a valid HCF");return}h?(await Ug.updateRouteHcfMapping(h.id,{sequenceOrder:le.sequenceOrder,status:le.status}),m(null),g("Mapping updated successfully"),l(!1),i(null),await G(),setTimeout(()=>{g(null)},3e3)):(await Ug.createRouteHcfMapping({routeId:se.id,hcfId:re.id,companyId:ve.id,sequenceOrder:le.sequenceOrder}),m(null),g("Mapping created successfully"),l(!1),i(null),await G(),setTimeout(()=>{g(null)},3e3))}catch(ve){const se=I.find(Te=>Te.routeCode===le.routeCode&&Te.companyName===le.companyName),re=D.find(Te=>Te.hcfCode===le.hcfCode&&Te.companyName===le.companyName),Ie=Ee(ve,se,re);m(Ie),console.error("Error saving mapping:",ve)}finally{u(!1)}},he=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:j,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:he.map(le=>e.jsx("li",{children:e.jsxs(Zr,{to:le.path,className:`nav-link ${le.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:le.icon}),!x&&e.jsx("span",{className:"nav-label",children:le.label})]})},le.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Route-HCF Mapping"})})}),v&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:v}),e.jsx("button",{onClick:()=>g(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),f&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:f}),e.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),d&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading mappings..."}),e.jsxs("div",{className:"route-hcf-mapping-page",children:[e.jsx("div",{className:"route-hcf-mapping-header",children:e.jsx("h1",{className:"route-hcf-mapping-title",children:"Route-HCF Mapping"})}),e.jsxs("div",{className:"route-hcf-mapping-actions",children:[e.jsxs("div",{className:"route-hcf-mapping-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"route-hcf-mapping-search-input",placeholder:"Search Mapping...",value:s,onChange:le=>o(le.target.value)})]}),a&&e.jsxs("button",{className:"add-mapping-btn",onClick:W,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]}),e.jsx("div",{className:"route-hcf-mapping-table-container",children:e.jsxs("table",{className:"route-hcf-mapping-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Route Code"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:K.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:"No mapping records found"})}):K.map(le=>e.jsxs("tr",{children:[e.jsx("td",{children:le.companyName||"-"}),e.jsx("td",{children:le.routeCode?`${le.routeCode} - ${le.routeName}`:"-"}),e.jsx("td",{children:le.hcfCode?`${le.hcfCode} - ${le.hcfName}`:"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${le.status.toLowerCase()}`,children:le.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ne(le),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ge(le.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},le.id))})]})}),e.jsxs("div",{className:"route-hcf-mapping-pagination-info",children:["Showing ",K.length," of ",Z.length," Items"]})]})]}),c&&e.jsx(RY,{mapping:h,companies:N.filter(le=>le.status==="Active"),routes:I.filter(le=>le.status==="Active"),hcfs:D.filter(le=>le.status==="Active"),onClose:()=>{l(!1),i(null)},onSave:Fe})]})},RY=({mapping:t,companies:r,routes:n,hcfs:a,onClose:s,onSave:o})=>{const[c,l]=M.useState(t||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),h=c.companyName?n.filter(u=>u.companyName===c.companyName):n,i=c.companyName?a.filter(u=>u.companyName===c.companyName):a,d=u=>{u.preventDefault(),o(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Mapping":"Add Mapping"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"mapping-form",onSubmit:d,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:c.companyName||"",onChange:u=>{l({...c,companyName:u.target.value,routeCode:"",hcfCode:""})},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(u=>e.jsx("option",{value:u.companyName,children:u.companyName},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Code *"}),e.jsxs("select",{value:c.routeCode||"",onChange:u=>l({...c,routeCode:u.target.value}),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select Route"}),h.map(u=>e.jsxs("option",{value:u.routeCode,children:[u.routeCode," - ",u.routeName]},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Code *"}),e.jsxs("select",{value:c.hcfCode||"",onChange:u=>l({...c,hcfCode:u.target.value}),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),i.map(u=>e.jsxs("option",{value:u.hcfCode,children:[u.hcfCode," - ",u.hcfName]},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Active",onChange:u=>l({...c,status:u.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},QY=()=>{const{logout:t,user:r}=ya(),n=In(),a=ef(r),[s,o]=M.useState(""),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState([]),[f,m]=M.useState([]),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(!1),T=()=>{N(!j)},I=async()=>{try{const G=(await Ha.getAllCompanies(!0)).map(K=>({id:K.id,companyCode:K.companyCode,companyName:K.companyName,status:K.status}));m(G)}catch(U){console.error("Error loading companies:",U)}},C=async()=>{g(!0),y(null);try{const G=(await kf.getAllFrequencies(void 0,!0)).map(K=>{const W=f.find(Ne=>Ne.id===K.companyId);return{id:K.id,frequencyCode:K.frequencyCode,frequencyName:K.frequencyName,companyName:(W==null?void 0:W.companyName)||"Unknown Company",status:K.status,createdBy:K.createdBy||"",createdOn:K.createdOn,modifiedBy:K.modifiedBy||"",modifiedOn:K.modifiedOn}});u(G)}catch(U){const G=U instanceof Error?U.message:"Failed to load frequencies";y(G),console.error("Error loading frequencies:",U),u([])}finally{g(!1)}};M.useEffect(()=>{(async()=>{await I()})()},[]),M.useEffect(()=>{f.length>0&&C()},[f.length]);const D=d.filter(U=>U.companyName.toLowerCase().includes(s.toLowerCase())||U.frequencyCode.toLowerCase().includes(s.toLowerCase())||U.frequencyName.toLowerCase().includes(s.toLowerCase())),_=()=>{i(null),l(!0)},Z=U=>{i(U),l(!0)},ae=async U=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{g(!0),await kf.deleteFrequency(U),await C(),alert("Frequency deleted successfully")}catch(G){const K=G instanceof Error?G.message:"Failed to delete frequency";alert(`Error: ${K}`),console.error("Error deleting frequency:",G)}finally{g(!1)}},V=async U=>{try{g(!0),y(null);const G=f.find(K=>K.companyName===U.companyName);if(!G){alert("Please select a valid company");return}if(h)await kf.updateFrequency(h.id,{status:U.status}),alert("Frequency updated successfully");else{if(!U.frequencyCode||!U.frequencyName||!U.companyName){alert("Please fill in all required fields");return}await kf.createFrequency({frequencyCode:U.frequencyCode,frequencyName:U.frequencyName,companyId:G.id}),alert("Frequency created successfully")}l(!1),i(null),await C()}catch(G){const K=G instanceof Error?G.message:"Failed to save frequency";y(K),alert(`Error: ${K}`),console.error("Error saving frequency:",G)}finally{g(!1)}},ie=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:T,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(U=>e.jsx("li",{children:e.jsxs(Zr,{to:U.path,className:`nav-link ${U.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:U.icon}),!j&&e.jsx("span",{className:"nav-label",children:U.label})]})},U.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Masters / Frequency Master"})})}),x&&e.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),v&&!d.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading frequencies..."}),e.jsxs("div",{className:"frequency-master-page",children:[e.jsx("div",{className:"frequency-master-header",children:e.jsx("h1",{className:"frequency-master-title",children:"Frequency Master"})}),e.jsxs("div",{className:"frequency-master-actions",children:[e.jsxs("div",{className:"frequency-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"frequency-search-input",placeholder:"Search Frequency...",value:s,onChange:U=>o(U.target.value)})]}),a&&e.jsxs("button",{className:"add-frequency-btn",onClick:_,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]}),e.jsx("div",{className:"frequency-table-container",children:e.jsxs("table",{className:"frequency-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Frequency Code"}),e.jsx("th",{children:"Frequency Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:"No frequency records found"})}):D.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.companyName||"-"}),e.jsx("td",{children:U.frequencyCode||"-"}),e.jsx("td",{children:U.frequencyName||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${U.status.toLowerCase()}`,children:U.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Z(U),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ae(U.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},U.id))})]})}),e.jsxs("div",{className:"frequency-pagination-info",children:["Showing ",D.length," of ",d.length," Items"]})]})]}),c&&e.jsx(HY,{frequency:h,companies:f.filter(U=>U.status==="Active"),onClose:()=>{l(!1),i(null)},onSave:V})]})},HY=({frequency:t,companies:r,onClose:n,onSave:a})=>{const[s,o]=M.useState(t||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Frequency":"Add Frequency"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"frequency-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:l=>o({...s,companyName:l.target.value}),required:!0,disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(l=>e.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency Code *"}),e.jsx("input",{type:"text",value:s.frequencyCode||"",onChange:l=>o({...s,frequencyCode:l.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency Name *"}),e.jsx("input",{type:"text",value:s.frequencyName||"",onChange:l=>o({...s,frequencyName:l.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!t,style:t?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:l=>o({...s,status:l.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Save"})]})]})]})})},WY="http://localhost:3000/api/v1",$Y=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},$p=async(t,r={})=>{const n=$Y(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${WY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"?o=c.message:o=String(c.message):c.error&&(typeof c.error=="string"?o=c.error:c.error.message?o=typeof c.error.message=="string"?c.error.message:String(c.error.message):o=JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},zp={createRouteAssignment:async t=>(await $p("/route-assignments",{method:"POST",body:JSON.stringify(t)})).data,getRouteAssignmentById:async t=>(await $p(`/route-assignments/${t}`,{method:"GET"})).data,getAllRouteAssignments:async(t,r,n)=>{let a="/route-assignments";const s=new URLSearchParams;return t&&s.append("companyId",t),r&&s.append("date",r),n&&s.append("status",n),s.toString()&&(a+=`?${s.toString()}`),(await $p(a,{method:"GET"})).data},updateRouteAssignment:async(t,r)=>(await $p(`/route-assignments/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteRouteAssignment:async t=>{await $p(`/route-assignments/${t}`,{method:"DELETE"})}},zY=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(new Date().toISOString().split("T")[0]),[c,l]=M.useState("all"),[h,i]=M.useState(!1),[d,u]=M.useState(null),[f,m]=M.useState(!1),[v,g]=M.useState(null),[x,y]=M.useState(null),[j,N]=M.useState([]),[T,I]=M.useState([]),[C,D]=M.useState([]),[_,Z]=M.useState([]),[ae,V]=M.useState([]),[ie,U]=M.useState([]),[G,K]=M.useState([]),W=M.useCallback(async()=>{try{const fe=(await Ha.getAllCompanies(!0)).map(oe=>({id:oe.id,companyCode:oe.companyCode,companyName:oe.companyName,status:oe.status}));N(fe)}catch(X){console.error("Error loading companies:",X)}},[]),Ne=M.useCallback(async X=>{try{const oe=(await GA.getAllRoutes(X,!0)).map(We=>({id:We.id,routeCode:We.routeCode,routeName:We.routeName,companyId:We.companyId,status:We.status}));I(oe)}catch(fe){console.error("Error loading routes:",fe)}},[]),ge=M.useCallback(async X=>{try{const oe=(await Iu.getAllFleets(X,!0)).map(We=>({id:We.id,vehicleNum:We.vehicleNum,companyId:We.companyId,status:We.status}));D(oe)}catch(fe){console.error("Error loading vehicles:",fe)}},[]),Ee=M.useCallback(async X=>{if(!X){Z([]),V([]),U([]);return}try{const We=(await Ac.getUsersByCompany(X)).map(Ue=>({id:Ue.userId,userName:Ue.userName,employeeCode:Ue.employeeCode,companyId:Ue.companyId,status:Ue.status})).filter(Ue=>Ue.status==="Active");Z(We),V(We),U(We)}catch(fe){console.error("Error loading users:",fe),Z([]),V([]),U([])}},[]),Fe=M.useCallback(async()=>{m(!0),g(null);try{const X=await zp.getAllRouteAssignments(void 0,s,c!=="all"?c:void 0),fe=await Promise.all(X.map(async oe=>{const We=T.find(Tt=>Tt.id===oe.routeId),Ue=C.find(Tt=>Tt.id===oe.vehicleId),ue=_.find(Tt=>Tt.id===oe.driverId),be=oe.pickerId?ae.find(Tt=>Tt.id===oe.pickerId):null,Le=oe.supervisorId?ie.find(Tt=>Tt.id===oe.supervisorId):null,ot=j.find(Tt=>Tt.id===oe.companyId);return{id:oe.id,assignmentDate:oe.assignmentDate,routeId:oe.routeId,routeCode:(We==null?void 0:We.routeCode)||"",routeName:(We==null?void 0:We.routeName)||"",vehicleId:oe.vehicleId,vehicleNum:(Ue==null?void 0:Ue.vehicleNum)||"",driverId:oe.driverId,driverName:(ue==null?void 0:ue.userName)||"",pickerId:oe.pickerId,pickerName:be==null?void 0:be.userName,supervisorId:oe.supervisorId,supervisorName:Le==null?void 0:Le.userName,companyId:oe.companyId,companyName:(ot==null?void 0:ot.companyName)||"Unknown",status:oe.status,notes:oe.notes,createdBy:oe.createdBy,createdOn:oe.createdOn,modifiedBy:oe.modifiedBy,modifiedOn:oe.modifiedOn}}));K(fe)}catch(X){const fe=X instanceof Error?X.message:"Failed to load assignments";g(fe),console.error("Error loading assignments:",X)}finally{m(!1)}},[s,c,T,C,_,ae,ie,j]);M.useEffect(()=>{(async()=>{await W()})()},[W]),M.useEffect(()=>{j.length>0&&(Ne(),ge())},[j,Ne,ge]),M.useEffect(()=>{T.length>0&&C.length>0&&Fe()},[s,c,T,C,_,ae,ie,j,Fe]);const he=G.filter(X=>X.routeCode.toLowerCase().includes(n.toLowerCase())||X.routeName.toLowerCase().includes(n.toLowerCase())||X.vehicleNum.toLowerCase().includes(n.toLowerCase())||X.driverName.toLowerCase().includes(n.toLowerCase())||X.companyName.toLowerCase().includes(n.toLowerCase())),le=()=>{u(null),i(!0)},ve=X=>{if(X.status==="In Progress"||X.status==="Completed"){g("Cannot edit assignments that are In Progress or Completed");return}u(X),i(!0)},se=async X=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{m(!0),g(null),await zp.deleteRouteAssignment(X),y("Assignment deleted successfully"),await Fe(),setTimeout(()=>y(null),3e3)}catch(fe){const oe=fe instanceof Error?fe.message:"Failed to delete assignment";g(oe),console.error("Error deleting assignment:",fe)}finally{m(!1)}},re=async X=>{try{if(m(!0),g(null),d)await zp.updateRouteAssignment(d.id,{status:X.status,pickerId:X.pickerId,supervisorId:X.supervisorId,notes:X.notes}),y("Assignment updated successfully");else{const fe=j.find(oe=>oe.id===X.companyId);if(!fe){g("Please select a valid company");return}await zp.createRouteAssignment({assignmentDate:s,routeId:X.routeId,vehicleId:X.vehicleId,driverId:X.driverId,pickerId:X.pickerId,supervisorId:X.supervisorId,companyId:fe.id,status:X.status||"Draft",notes:X.notes}),y("Assignment created successfully")}i(!1),u(null),await Fe(),setTimeout(()=>y(null),3e3)}catch(fe){const oe=fe instanceof Error?fe.message:"Failed to save assignment";g(oe),console.error("Error saving assignment:",fe)}finally{m(!1)}},Ie=async(X,fe)=>{try{m(!0),g(null),await zp.updateRouteAssignment(X.id,{status:fe}),y(`Assignment status changed to ${fe}`),await Fe(),setTimeout(()=>y(null),3e3)}catch(oe){const We=oe instanceof Error?oe.message:"Failed to update status";g(We),console.error("Error updating status:",oe)}finally{m(!1)}},Te=X=>{switch(X){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},xe=X=>X.status==="Draft"||X.status==="Assigned",pe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:pe.map(X=>e.jsx("li",{children:e.jsxs(Zr,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:X.icon}),e.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Transaction / Route Assignment"})})}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),v&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:v}),e.jsx("button",{onClick:()=>g(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),f&&!G.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsx("div",{className:"route-assignment-header",children:e.jsx("h1",{className:"route-assignment-title",children:"Route Assignment"})}),e.jsxs("div",{className:"route-assignment-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"assignment-date",children:"Assignment Date"}),e.jsx("input",{id:"assignment-date",type:"date",value:s,onChange:X=>o(X.target.value),className:"date-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:c,onChange:X=>l(X.target.value),className:"status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Assigned",children:"Assigned"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]}),e.jsxs("div",{className:"filter-group filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by route, vehicle, driver...",value:n,onChange:X=>a(X.target.value),className:"search-input"})]})]}),e.jsxs("button",{className:"add-assignment-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Route"}),e.jsx("th",{children:"Vehicle"}),e.jsx("th",{children:"Driver"}),e.jsx("th",{children:"Picker"}),e.jsx("th",{children:"Supervisor"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:he.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:f?"Loading...":"No assignments found for the selected date"})}):he.map(X=>e.jsxs("tr",{className:xe(X)?"":"read-only-row",children:[e.jsx("td",{children:new Date(X.assignmentDate).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"route-info",children:[e.jsx("span",{className:"route-code",children:X.routeCode}),e.jsx("span",{className:"route-name",children:X.routeName})]})}),e.jsx("td",{children:X.vehicleNum}),e.jsx("td",{children:X.driverName}),e.jsx("td",{children:X.pickerName||"-"}),e.jsx("td",{children:X.supervisorName||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${Te(X.status)}`,children:X.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[xe(X)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ve(X),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>se(X.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),X.status==="Assigned"&&e.jsx("button",{className:"action-btn action-btn--start",onClick:()=>Ie(X,"In Progress"),title:"Start Route",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),X.status==="In Progress"&&e.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>Ie(X,"Completed"),title:"Complete Route",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!xe(X)&&e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ve(X),title:"View (Read-only)",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},X.id))})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",he.length," of ",G.length," Items"]})]})]}),h&&e.jsx(VY,{assignment:d,companies:j.filter(X=>X.status==="Active"),routes:T.filter(X=>X.status==="Active"),vehicles:C.filter(X=>X.status==="Active"),drivers:_,pickers:ae,supervisors:ie,selectedDate:s,onLoadUsers:Ee,onClose:()=>{i(!1),u(null)},onSave:re})]})},VY=({assignment:t,companies:r,routes:n,vehicles:a,drivers:s,pickers:o,supervisors:c,selectedDate:l,onLoadUsers:h,onClose:i,onSave:d})=>{const[u,f]=M.useState(t||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),m=t&&(t.status==="In Progress"||t.status==="Completed");M.useEffect(()=>{u.companyId&&!t&&h(u.companyId)},[u.companyId,t,h]);const v=u.companyId?n.filter(T=>T.companyId===u.companyId):n,g=u.companyId?a.filter(T=>T.companyId===u.companyId):a,x=u.companyId?s.filter(T=>T.companyId===u.companyId):s,y=u.companyId?o.filter(T=>T.companyId===u.companyId):o,j=u.companyId?c.filter(T=>T.companyId===u.companyId):c,N=T=>{T.preventDefault(),d(u)};return e.jsx("div",{className:"modal-overlay",onClick:i,children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:T=>T.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?m?"View Assignment":"Edit Assignment":"Add Assignment"}),e.jsx("button",{className:"modal-close-btn",onClick:i,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"assignment-form",onSubmit:N,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Assignment Information"}),e.jsxs("div",{className:"form-grid form-grid--two-columns",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assignment Date *"}),e.jsx("input",{type:"date",value:t?t.assignmentDate:l,disabled:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:u.companyId||"",onChange:async T=>{const I=T.target.value;f({...u,companyId:I,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),I&&await h(I)},required:!0,disabled:!!t||m,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(T=>e.jsx("option",{value:T.id,children:T.companyName},T.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route *"}),e.jsxs("select",{value:u.routeId||"",onChange:T=>f({...u,routeId:T.target.value}),required:!0,disabled:!u.companyId||m,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Route"}),v.map(T=>e.jsxs("option",{value:T.id,children:[T.routeCode," - ",T.routeName]},T.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle *"}),e.jsxs("select",{value:u.vehicleId||"",onChange:T=>f({...u,vehicleId:T.target.value}),required:!0,disabled:!u.companyId||m,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Vehicle"}),g.map(T=>e.jsx("option",{value:T.id,children:T.vehicleNum},T.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Driver *"}),e.jsxs("select",{value:u.driverId||"",onChange:T=>f({...u,driverId:T.target.value}),required:!0,disabled:!u.companyId||m,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Driver"}),x.map(T=>e.jsxs("option",{value:T.id,children:[T.userName," ",T.employeeCode?`(${T.employeeCode})`:""]},T.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Picker"}),e.jsxs("select",{value:u.pickerId||"",onChange:T=>f({...u,pickerId:T.target.value||null}),disabled:!u.companyId||m,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(T=>e.jsxs("option",{value:T.id,children:[T.userName," ",T.employeeCode?`(${T.employeeCode})`:""]},T.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supervisor"}),e.jsxs("select",{value:u.supervisorId||"",onChange:T=>f({...u,supervisorId:T.target.value||null}),disabled:!u.companyId||m,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),j.map(T=>e.jsxs("option",{value:T.id,children:[T.userName," ",T.employeeCode?`(${T.employeeCode})`:""]},T.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:u.status||"Draft",onChange:T=>f({...u,status:T.target.value}),disabled:m,className:"form-select",children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Assigned",children:"Assigned"}),t&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),e.jsxs("div",{className:"form-group form-group--full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:u.notes||"",onChange:T=>f({...u,notes:T.target.value||null}),disabled:m,rows:3,className:"form-textarea",placeholder:"Additional notes or instructions..."})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:m?"Close":"Cancel"}),!m&&e.jsx("button",{type:"submit",className:"btn btn--primary",children:t?"Update":"Create"})]})]})]})})},KY="http://localhost:3000/api/v1",GY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Nh=async(t,r={})=>{const n=GY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${KY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"?o=c.message:o=String(c.message):c.error&&(typeof c.error=="string"?o=c.error:c.error.message?o=typeof c.error.message=="string"?c.error.message:String(c.error.message):o=JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},qA={lookupBarcode:async t=>(await Nh(`/waste-collections/barcode/${encodeURIComponent(t)}`,{method:"GET"})).data,createWasteCollection:async t=>(await Nh("/waste-collections",{method:"POST",body:JSON.stringify(t)})).data,getWasteCollectionById:async t=>(await Nh(`/waste-collections/${t}`,{method:"GET"})).data,getAllWasteCollections:async(t,r,n,a,s,o)=>{let c="/waste-collections";const l=new URLSearchParams;return t&&l.append("companyId",t),r&&l.append("hcfId",r),n&&l.append("date",n),a&&l.append("endDate",a),s&&l.append("status",s),o&&l.append("routeAssignmentId",o),l.toString()&&(c+=`?${l.toString()}`),(await Nh(c,{method:"GET"})).data},updateWasteCollection:async(t,r)=>(await Nh(`/waste-collections/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,collectWaste:async(t,r)=>(await Nh(`/waste-collections/${t}/collect`,{method:"POST",body:JSON.stringify({weightKg:r})})).data,deleteWasteCollection:async t=>{await Nh(`/waste-collections/${t}`,{method:"DELETE"})}},qY=()=>{const{logout:t,user:r}=ya(),n=In(),[a,s]=M.useState(""),[o,c]=M.useState(new Date().toISOString().split("T")[0]),[l,h]=M.useState("all"),[i,d]=M.useState("all"),[u,f]=M.useState(!1),[m,v]=M.useState(!1),[g,x]=M.useState(null),[y,j]=M.useState(!1),[N,T]=M.useState(null),[I,C]=M.useState(null),[D,_]=M.useState(""),[Z,ae]=M.useState(null),[V,ie]=M.useState(!1),U=M.useRef(null),[G,K]=M.useState([]),[W,Ne]=M.useState([]),ge=M.useCallback(async()=>{try{const X=(await Ha.getAllCompanies(!0)).map(fe=>({id:fe.id,companyCode:fe.companyCode,companyName:fe.companyName,status:fe.status}));K(X)}catch(pe){console.error("Error loading companies:",pe)}},[]),Ee=M.useCallback(async()=>{j(!0),T(null);try{const pe=await qA.getAllWasteCollections(void 0,void 0,o,void 0,l!=="all"?l:void 0),X=await Promise.all(pe.map(async fe=>{const oe=G.find(ue=>ue.id===fe.companyId);let We="",Ue="";try{const ue=await Ei.getHcfById(fe.hcfId);We=ue.hcfCode,Ue=ue.hcfName}catch(ue){console.error("Error loading HCF:",ue)}return{id:fe.id,barcode:fe.barcode,collectionDate:fe.collectionDate,companyId:fe.companyId,companyName:(oe==null?void 0:oe.companyName)||"Unknown",hcfId:fe.hcfId,hcfCode:We,hcfName:Ue,wasteColor:fe.wasteColor,weightKg:fe.weightKg,status:fe.status,routeAssignmentId:fe.routeAssignmentId,collectedBy:fe.collectedBy,collectedAt:fe.collectedAt,notes:fe.notes,createdOn:fe.createdOn}}));Ne(X)}catch(pe){const X=pe instanceof Error?pe.message:"Failed to load collections";T(X),console.error("Error loading collections:",pe)}finally{j(!1)}},[o,l,G]);M.useEffect(()=>{(async()=>{await ge()})()},[ge]),M.useEffect(()=>{G.length>0&&Ee()},[o,l,G,Ee]);const Fe=async pe=>{if(!pe||pe.length<5){T("Please enter a valid barcode (at least 5 characters)");return}ie(!0),T(null),ae(null);try{const X=await qA.lookupBarcode(pe);ae(X),W.find(oe=>oe.barcode===pe&&oe.collectionDate===o)?(T(`Barcode ${pe} has already been collected on ${o}`),ae(null)):f(!0)}catch(X){const fe=X instanceof Error?X.message:"Failed to lookup barcode";T(fe),ae(null)}finally{ie(!1)}},he=pe=>{pe==null||pe.preventDefault(),D.trim()&&(Fe(D.trim()),_(""))},le=async pe=>{if(!Z){T("Barcode lookup result is missing");return}try{j(!0),T(null),await qA.createWasteCollection({barcode:Z.barcode,collectionDate:o,companyId:Z.companyId,hcfId:Z.hcfId,wasteColor:Z.wasteColor,weightKg:pe.weightKg||null,status:"Pending",notes:pe.notes||null}),C("Waste collection recorded successfully"),f(!1),ae(null),await Ee(),setTimeout(()=>C(null),3e3)}catch(X){const fe=X instanceof Error?X.message:"Failed to save collection";T(fe),console.error("Error saving collection:",X)}finally{j(!1)}},ve=async(pe,X)=>{try{j(!0),T(null),await qA.collectWaste(pe,X),C("Waste collected successfully"),await Ee(),setTimeout(()=>C(null),3e3)}catch(fe){const oe=fe instanceof Error?fe.message:"Failed to collect waste";T(oe),console.error("Error collecting waste:",fe)}finally{j(!1)}},se=pe=>{x(pe),v(!0)},re=W.filter(pe=>{const X=pe.barcode.toLowerCase().includes(a.toLowerCase())||pe.hcfCode.toLowerCase().includes(a.toLowerCase())||pe.hcfName.toLowerCase().includes(a.toLowerCase())||pe.companyName.toLowerCase().includes(a.toLowerCase()),fe=i==="all"||pe.wasteColor===i;return X&&fe}),Ie=pe=>{switch(pe){case"Pending":return"status-badge--pending";case"Collected":return"status-badge--collected";case"In Transit":return"status-badge--in-transit";case"Processed":return"status-badge--processed";case"Disposed":return"status-badge--disposed";default:return""}},Te=pe=>{switch(pe){case"Yellow":return"color-badge--yellow";case"Red":return"color-badge--red";case"White":return"color-badge--white";default:return""}},xe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:n.pathname==="/report"}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:xe.map(pe=>e.jsx("li",{children:e.jsxs(Zr,{to:pe.path,className:`nav-link ${pe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:pe.icon}),e.jsx("span",{className:"nav-label",children:pe.label})]})},pe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Collection"})})}),I&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>C(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),N&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:N}),e.jsx("button",{onClick:()=>T(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),y&&!W.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),e.jsxs("div",{className:"waste-collection-page",children:[e.jsx("div",{className:"waste-collection-header",children:e.jsx("h1",{className:"waste-collection-title",children:"Waste Collection"})}),e.jsx("div",{className:"barcode-scanner-section",children:e.jsx("form",{onSubmit:he,className:"barcode-scanner-form",children:e.jsxs("div",{className:"barcode-input-group",children:[e.jsx("label",{htmlFor:"barcode-input",children:"Scan Barcode"}),e.jsxs("div",{className:"barcode-input-wrapper",children:[e.jsx("input",{id:"barcode-input",ref:U,type:"text",value:D,onChange:pe=>_(pe.target.value),placeholder:"Scan or enter barcode...",className:"barcode-input",autoFocus:!0,disabled:V}),e.jsx("button",{type:"submit",className:"barcode-scan-btn",disabled:V||!D.trim(),children:V?e.jsx("span",{children:"Looking up..."}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"})}),"Scan"]})})]})]})})}),e.jsxs("div",{className:"waste-collection-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),e.jsx("input",{id:"collection-date",type:"date",value:o,onChange:pe=>c(pe.target.value),className:"date-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:l,onChange:pe=>h(pe.target.value),className:"status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Collected",children:"Collected"}),e.jsx("option",{value:"In Transit",children:"In Transit"}),e.jsx("option",{value:"Processed",children:"Processed"}),e.jsx("option",{value:"Disposed",children:"Disposed"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"color-filter",children:"Color"}),e.jsxs("select",{id:"color-filter",value:i,onChange:pe=>d(pe.target.value),className:"color-select",children:[e.jsx("option",{value:"all",children:"All Colors"}),e.jsx("option",{value:"Yellow",children:"Yellow"}),e.jsx("option",{value:"Red",children:"Red"}),e.jsx("option",{value:"White",children:"White"})]})]}),e.jsxs("div",{className:"filter-group filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by barcode, HCF, company...",value:a,onChange:pe=>s(pe.target.value),className:"search-input"})]})]})]}),e.jsx("div",{className:"waste-collection-table-container",children:e.jsxs("table",{className:"waste-collection-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Barcode"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Color"}),e.jsx("th",{children:"Weight (Kg)"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:y?"Loading...":"No collections found for the selected date"})}):re.map(pe=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(pe.collectionDate).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"barcode-display",children:pe.barcode})}),e.jsx("td",{children:e.jsxs("div",{className:"hcf-info",children:[e.jsx("span",{className:"hcf-code",children:pe.hcfCode}),e.jsx("span",{className:"hcf-name",children:pe.hcfName})]})}),e.jsx("td",{children:pe.companyName}),e.jsx("td",{children:e.jsx("span",{className:`color-badge ${Te(pe.wasteColor)}`,children:pe.wasteColor})}),e.jsx("td",{children:pe.weightKg?`${pe.weightKg} kg`:"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${Ie(pe.status)}`,children:pe.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>se(pe),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),pe.status==="Pending"&&e.jsx("button",{className:"action-btn action-btn--collect",onClick:()=>{const X=prompt("Enter weight in kg:");X&&!isNaN(parseFloat(X))&&parseFloat(X)>0&&ve(pe.id,parseFloat(X))},title:"Collect Waste",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]},pe.id))})]})}),e.jsxs("div",{className:"waste-collection-pagination-info",children:["Showing ",re.length," of ",W.length," Items"]})]})]}),u&&Z&&e.jsx(XY,{barcodeLookup:Z,collectionDate:o,onClose:()=>{f(!1),ae(null)},onSave:le}),m&&g&&e.jsx(YY,{collection:g,onClose:()=>{v(!1),x(null)}})]})},XY=({barcodeLookup:t,collectionDate:r,onClose:n,onSave:a})=>{const[s,o]=M.useState({weightKg:null,notes:null}),c=l=>{l.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--medium",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Record Waste Collection"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"collection-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Barcode Information"}),e.jsxs("div",{className:"form-grid form-grid--two-columns",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Barcode"}),e.jsx("input",{type:"text",value:t.barcode,disabled:!0,className:"form-input form-input--readonly"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Collection Date"}),e.jsx("input",{type:"date",value:r,disabled:!0,className:"form-input form-input--readonly"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company"}),e.jsx("input",{type:"text",value:t.companyName,disabled:!0,className:"form-input form-input--readonly"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF"}),e.jsx("input",{type:"text",value:`${t.hcfCode} - ${t.hcfName}`,disabled:!0,className:"form-input form-input--readonly"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Waste Color"}),e.jsx("input",{type:"text",value:t.wasteColor,disabled:!0,className:"form-input form-input--readonly"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Collection Details"}),e.jsx("div",{className:"form-grid form-grid--two-columns",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weight (Kg) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:s.weightKg||"",onChange:l=>o({...s,weightKg:parseFloat(l.target.value)||null}),required:!0,className:"form-input",placeholder:"Enter weight"})]})}),e.jsxs("div",{className:"form-group form-group--full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:l=>o({...s,notes:l.target.value||null}),rows:3,className:"form-textarea",placeholder:"Additional notes or observations..."})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:"Record Collection"})]})]})]})})},YY=({collection:t,onClose:r})=>e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Collection Details"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"collection-detail-content",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{className:"detail-section-title",children:"Basic Information"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Barcode"}),e.jsx("span",{children:t.barcode})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Collection Date"}),e.jsx("span",{children:new Date(t.collectionDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Company"}),e.jsx("span",{children:t.companyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("span",{children:t.hcfCode})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("span",{children:t.hcfName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Waste Color"}),e.jsx("span",{className:`color-badge ${t.wasteColor.toLowerCase()}`,children:t.wasteColor})]})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{className:"detail-section-title",children:"Collection Details"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Weight"}),e.jsx("span",{children:t.weightKg?`${t.weightKg} kg`:"Not recorded"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`status-badge ${t.status.toLowerCase().replace(" ","-")}`,children:t.status})]}),t.collectedBy&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Collected By"}),e.jsx("span",{children:t.collectedBy})]}),t.collectedAt&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Collected At"}),e.jsx("span",{children:new Date(t.collectedAt).toLocaleString()})]}),t.notes&&e.jsxs("div",{className:"detail-item detail-item--full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("span",{children:t.notes})]})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{className:"detail-section-title",children:"Audit Information"}),e.jsx("div",{className:"detail-grid",children:e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Created On"}),e.jsx("span",{children:new Date(t.createdOn).toLocaleString()})]})})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:r,children:"Close"})})]})}),JY="http://localhost:3000/api/v1",ZY=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Bh=async(t,r={})=>{const n=ZY(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${JY}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"&&(o=c.message):c.error&&(o=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},xf={createTransaction:async t=>(await Bh("/waste-transactions",{method:"POST",body:JSON.stringify(t)})).data,getTransactionById:async t=>(await Bh(`/waste-transactions/${t}`,{method:"GET"})).data,getAllTransactions:async(t,r,n,a,s)=>{let o="/waste-transactions";const c=new URLSearchParams;return t&&c.append("companyId",t),r&&c.append("hcfId",r),n&&c.append("startDate",n),a&&c.append("endDate",a),s&&c.append("status",s),c.toString()&&(o+=`?${c.toString()}`),(await Bh(o,{method:"GET"})).data},updateTransaction:async(t,r)=>(await Bh(`/waste-transactions/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,submitTransaction:async t=>(await Bh(`/waste-transactions/${t}/submit`,{method:"PATCH"})).data,verifyTransaction:async t=>(await Bh(`/waste-transactions/${t}/verify`,{method:"PATCH"})).data,deleteTransaction:async t=>{await Bh(`/waste-transactions/${t}`,{method:"DELETE"})}},eJ=()=>{var fe;const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(new Date().toISOString().split("T")[0]),[c,l]=M.useState("all"),[h,i]=M.useState(!1),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(null),[T,I]=M.useState(!1),[C,D]=M.useState(null),[_,Z]=M.useState([]),[ae,V]=M.useState([]),[ie,U]=M.useState([]),[G,K]=M.useState([]),[W,Ne]=M.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),ge=M.useCallback(async()=>{try{const oe=await Ha.getAllCompanies(void 0,!0);Z(oe)}catch(oe){console.error("Failed to load companies:",oe),y("Failed to load companies")}},[]),Ee=M.useCallback(async()=>{try{const oe=await Ei.getAllHcfs(void 0,!0);V(oe)}catch(oe){console.error("Failed to load HCFs:",oe),y("Failed to load HCFs")}},[]),Fe=M.useCallback(async()=>{g(!0),y(null);try{const oe=s,We=s,Ue=await xf.getAllTransactions(void 0,void 0,oe,We,c!=="all"?c:void 0),ue=await Promise.all(Ue.map(async be=>{const Le=_.find(Mt=>Mt.id===be.companyId);let ot="",Tt="";try{const Mt=await Ei.getHcfById(be.hcfId);ot=Mt.hcfName,Tt=Mt.hcfCode}catch(Mt){console.error("Error loading HCF:",Mt)}return{id:be.id,companyId:be.companyId,companyName:(Le==null?void 0:Le.companyName)||"Unknown",hcfId:be.hcfId,hcfCode:Tt,hcfName:ot,pickupDate:be.pickupDate,isNilPickup:be.isNilPickup,yellowBagCount:be.yellowBagCount,redBagCount:be.redBagCount,whiteBagCount:be.whiteBagCount,yellowWeightKg:be.yellowWeightKg,redWeightKg:be.redWeightKg,whiteWeightKg:be.whiteWeightKg,latitude:be.latitude,longitude:be.longitude,segregationQuality:be.segregationQuality,status:be.status,notes:be.notes,createdOn:be.createdOn}}));K(ue)}catch(oe){const We=oe instanceof Error?oe.message:"Failed to load transactions";y(We),console.error("Error loading transactions:",oe)}finally{g(!1)}},[s,c,_]);M.useEffect(()=>{if(W.companyId){const oe=ae.filter(We=>We.companyId===W.companyId);U(oe),W.hcfId&&!oe.find(We=>We.id===W.hcfId)&&Ne(We=>({...We,hcfId:""}))}else U([]),Ne(oe=>({...oe,hcfId:""}))},[W.companyId,ae]),M.useEffect(()=>{ge(),Ee()},[ge,Ee]),M.useEffect(()=>{_.length>0&&Fe()},[s,c,_,Fe]);const he=M.useCallback(()=>{if(!navigator.geolocation){D("Geolocation is not supported by your browser");return}I(!0),D(null),navigator.geolocation.getCurrentPosition(oe=>{Ne(We=>({...We,latitude:oe.coords.latitude,longitude:oe.coords.longitude})),I(!1),N("GPS location captured successfully"),setTimeout(()=>N(null),3e3)},oe=>{D(`Failed to get GPS location: ${oe.message}`),I(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),le=async oe=>{if(oe.preventDefault(),!W.companyId||!W.hcfId||!W.pickupDate){y("Please fill in all required fields");return}if(!W.isNilPickup&&W.yellowBagCount===0&&W.redBagCount===0&&W.whiteBagCount===0){y("Please enter at least one bag count or select NIL pickup");return}try{if(g(!0),y(null),W.editingId){const We=ue=>{if(ue==null)return null;const be=Number(ue);return isNaN(be)?null:be},Ue={pickupDate:W.pickupDate,isNilPickup:W.isNilPickup,yellowBagCount:W.yellowBagCount,redBagCount:W.redBagCount,whiteBagCount:W.whiteBagCount,yellowWeightKg:We(W.yellowWeightKg),redWeightKg:We(W.redWeightKg),whiteWeightKg:We(W.whiteWeightKg),latitude:We(W.latitude),longitude:We(W.longitude),segregationQuality:W.segregationQuality,notes:W.notes};await xf.updateTransaction(W.editingId,Ue),N("Transaction updated successfully")}else{const We=ue=>{if(ue==null)return null;const be=Number(ue);return isNaN(be)?null:be},Ue={companyId:W.companyId,hcfId:W.hcfId,pickupDate:W.pickupDate,isNilPickup:W.isNilPickup,yellowBagCount:W.yellowBagCount,redBagCount:W.redBagCount,whiteBagCount:W.whiteBagCount,yellowWeightKg:We(W.yellowWeightKg),redWeightKg:We(W.redWeightKg),whiteWeightKg:We(W.whiteWeightKg),latitude:We(W.latitude),longitude:We(W.longitude),segregationQuality:W.segregationQuality,notes:W.notes};await xf.createTransaction(Ue),N("Transaction created successfully")}await Fe(),i(!1),re(),setTimeout(()=>N(null),3e3)}catch(We){const Ue=We instanceof Error?We.message:"Failed to save transaction";y(Ue),console.error("Error saving transaction:",We)}finally{g(!1)}},ve=async(oe,We)=>{try{g(!0),y(null),We==="submit"?(await xf.submitTransaction(oe),N("Transaction submitted successfully")):(await xf.verifyTransaction(oe),N("Transaction verified successfully")),await Fe(),u(!1),setTimeout(()=>N(null),3e3)}catch(Ue){const ue=Ue instanceof Error?Ue.message:"Failed to update status";y(ue),console.error("Error updating status:",Ue)}finally{g(!1)}},se=async oe=>{if(confirm("Are you sure you want to delete this transaction?"))try{g(!0),y(null),await xf.deleteTransaction(oe),N("Transaction deleted successfully"),await Fe(),u(!1),setTimeout(()=>N(null),3e3)}catch(We){const Ue=We instanceof Error?We.message:"Failed to delete transaction";y(Ue),console.error("Error deleting transaction:",We)}finally{g(!1)}},re=()=>{Ne({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Ie=oe=>{if(oe.status!=="Draft"){y("Only draft transactions can be edited");return}Ne({companyId:oe.companyId,hcfId:oe.hcfId,pickupDate:oe.pickupDate.split("T")[0],isNilPickup:oe.isNilPickup,yellowBagCount:oe.yellowBagCount,redBagCount:oe.redBagCount,whiteBagCount:oe.whiteBagCount,yellowWeightKg:oe.yellowWeightKg,redWeightKg:oe.redWeightKg,whiteWeightKg:oe.whiteWeightKg,latitude:oe.latitude,longitude:oe.longitude,segregationQuality:oe.segregationQuality,notes:oe.notes,editingId:oe.id}),i(!0)},Te=oe=>{m(oe),u(!0)},xe=G.filter(oe=>{if(!n.trim())return!0;const We=n.toLowerCase().trim();return oe.companyName.toLowerCase().includes(We)||oe.hcfName.toLowerCase().includes(We)||oe.hcfCode.toLowerCase().includes(We)}),pe=!W.editingId||((fe=G.find(oe=>oe.id===W.editingId))==null?void 0:fe.status)==="Draft",X=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:X.map(oe=>e.jsx("li",{children:e.jsxs(Zr,{to:oe.path,className:`nav-link ${oe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:oe.icon}),e.jsx("span",{className:"nav-label",children:oe.label})]})},oe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Transaction Data"})})}),j&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>N(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),v&&!G.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),e.jsxs("div",{className:"waste-transaction-page",children:[e.jsx("div",{className:"waste-transaction-header",children:e.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})}),e.jsxs("div",{className:"waste-transaction-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"pickup-date",children:"Pickup Date"}),e.jsx("input",{id:"pickup-date",type:"date",value:s,onChange:oe=>o(oe.target.value),className:"date-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:c,onChange:oe=>l(oe.target.value),className:"status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]}),e.jsxs("div",{className:"filter-group filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by company, HCF...",value:n,onChange:oe=>a(oe.target.value),className:"search-input"})]})]}),e.jsxs("div",{className:"filter-group filter-group--action",children:[e.jsx("label",{children:""}),e.jsxs("button",{className:"add-transaction-btn",onClick:()=>{re(),i(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),e.jsx("div",{className:"waste-transaction-table-container",children:e.jsxs("table",{className:"waste-transaction-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"NIL"}),e.jsx("th",{children:"Yellow"}),e.jsx("th",{children:"Red"}),e.jsx("th",{children:"White"}),e.jsx("th",{children:"Total Weight"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:xe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:v?"Loading...":"No transactions found for the selected date"})}):xe.map(oe=>{const We=(Number(oe.yellowWeightKg)||0)+(Number(oe.redWeightKg)||0)+(Number(oe.whiteWeightKg)||0);return e.jsxs("tr",{children:[e.jsx("td",{children:new Date(oe.pickupDate).toLocaleDateString()}),e.jsx("td",{children:oe.companyName}),e.jsx("td",{children:e.jsxs("div",{className:"hcf-info",children:[e.jsx("span",{className:"hcf-code",children:oe.hcfCode}),e.jsx("span",{className:"hcf-name",children:oe.hcfName})]})}),e.jsx("td",{children:oe.isNilPickup?e.jsx("span",{className:"nil-badge",children:"NIL"}):e.jsx("span",{className:"pickup-badge",children:"Yes"})}),e.jsx("td",{children:oe.yellowBagCount>0?e.jsxs("div",{className:"bag-info",children:[e.jsx("span",{className:"color-indicator color-indicator--yellow"}),oe.yellowBagCount,oe.yellowWeightKg&&` (${oe.yellowWeightKg}kg)`]}):"-"}),e.jsx("td",{children:oe.redBagCount>0?e.jsxs("div",{className:"bag-info",children:[e.jsx("span",{className:"color-indicator color-indicator--red"}),oe.redBagCount,oe.redWeightKg&&` (${oe.redWeightKg}kg)`]}):"-"}),e.jsx("td",{children:oe.whiteBagCount>0?e.jsxs("div",{className:"bag-info",children:[e.jsx("span",{className:"color-indicator color-indicator--white"}),oe.whiteBagCount,oe.whiteWeightKg&&` (${oe.whiteWeightKg}kg)`]}):"-"}),e.jsx("td",{children:We>0?`${Number(We).toFixed(2)} kg`:"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${oe.status.toLowerCase()}`,children:oe.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Te(oe),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),oe.status==="Draft"&&e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ie(oe),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},oe.id)})})]})}),e.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",xe.length," of ",G.length," Items"]})]})]}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>{i(!1),re()},children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:oe=>oe.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:W.editingId?"Edit Transaction":"Add Waste Transaction"}),e.jsx("button",{className:"modal-close-btn",onClick:()=>{i(!1),re()},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"waste-transaction-form",onSubmit:le,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:W.companyId,onChange:oe=>Ne({...W,companyId:oe.target.value,hcfId:""}),required:!0,disabled:!pe,children:[e.jsx("option",{value:"",children:"Select Company"}),_.map(oe=>e.jsxs("option",{value:oe.id,children:[oe.companyCode," - ",oe.companyName]},oe.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:W.hcfId,onChange:oe=>Ne({...W,hcfId:oe.target.value}),required:!0,disabled:!W.companyId||!pe,children:[e.jsx("option",{value:"",children:"Select HCF"}),ie.map(oe=>e.jsxs("option",{value:oe.id,children:[oe.hcfCode," - ",oe.hcfName]},oe.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pickup Date *"}),e.jsx("input",{type:"date",value:W.pickupDate,onChange:oe=>Ne({...W,pickupDate:oe.target.value}),required:!0,disabled:!pe})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:W.isNilPickup,onChange:oe=>Ne({...W,isNilPickup:oe.target.checked}),disabled:!pe}),"NIL Pickup (No waste collected)"]})})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"GPS Location"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Latitude"}),e.jsx("input",{type:"number",step:"any",value:W.latitude||"",onChange:oe=>Ne({...W,latitude:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!pe})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Longitude"}),e.jsx("input",{type:"number",step:"any",value:W.longitude||"",onChange:oe=>Ne({...W,longitude:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!pe})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:""}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:he,disabled:!pe||T,children:T?"Capturing...":"Capture GPS Location"}),C&&e.jsx("div",{className:"form-error",children:C})]})]})]}),!W.isNilPickup&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Bag Counts & Weights"}),e.jsxs("div",{className:"color-inputs-grid",children:[e.jsxs("div",{className:"color-input-group color-input-group--yellow",children:[e.jsx("h4",{className:"color-input-title",children:"Yellow Bags"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bag Count"}),e.jsx("input",{type:"number",min:"0",value:W.yellowBagCount||0,onChange:oe=>Ne({...W,yellowBagCount:parseInt(oe.target.value)||0}),disabled:!pe})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:W.yellowWeightKg||"",onChange:oe=>Ne({...W,yellowWeightKg:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"0.00",disabled:!pe})]})]}),e.jsxs("div",{className:"color-input-group color-input-group--red",children:[e.jsx("h4",{className:"color-input-title",children:"Red Bags"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bag Count"}),e.jsx("input",{type:"number",min:"0",value:W.redBagCount||0,onChange:oe=>Ne({...W,redBagCount:parseInt(oe.target.value)||0}),disabled:!pe})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:W.redWeightKg||"",onChange:oe=>Ne({...W,redWeightKg:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"0.00",disabled:!pe})]})]}),e.jsxs("div",{className:"color-input-group color-input-group--white",children:[e.jsx("h4",{className:"color-input-title",children:"White Bags"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bag Count"}),e.jsx("input",{type:"number",min:"0",value:W.whiteBagCount||0,onChange:oe=>Ne({...W,whiteBagCount:parseInt(oe.target.value)||0}),disabled:!pe})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:W.whiteWeightKg||"",onChange:oe=>Ne({...W,whiteWeightKg:oe.target.value?parseFloat(oe.target.value):null}),placeholder:"0.00",disabled:!pe})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Segregation Quality"}),e.jsx("div",{className:"form-group",children:e.jsxs("select",{value:W.segregationQuality||"",onChange:oe=>Ne({...W,segregationQuality:oe.target.value||null}),disabled:!pe,children:[e.jsx("option",{value:"",children:"Select Quality"}),e.jsx("option",{value:"Excellent",children:"Excellent"}),e.jsx("option",{value:"Good",children:"Good"}),e.jsx("option",{value:"Fair",children:"Fair"}),e.jsx("option",{value:"Poor",children:"Poor"})]})})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Additional Notes"}),e.jsx("div",{className:"form-group",children:e.jsx("textarea",{value:W.notes||"",onChange:oe=>Ne({...W,notes:oe.target.value||null}),placeholder:"Enter any additional notes or remarks...",rows:3,disabled:!pe})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>{i(!1),re()},disabled:v,children:"Cancel"}),pe&&e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:v,children:v?"Saving...":W.editingId?"Update":"Create"})]})]})]})}),d&&f&&e.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:oe=>oe.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Transaction Details"}),e.jsx("button",{className:"modal-close-btn",onClick:()=>u(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"transaction-details",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Basic Information"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:new Date(f.pickupDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Company"}),e.jsx("span",{children:f.companyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"HCF"}),e.jsxs("span",{children:[f.hcfCode," - ",f.hcfName]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`badge badge--${f.status.toLowerCase()}`,children:f.status})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"NIL Pickup"}),e.jsx("span",{children:f.isNilPickup?"Yes":"No"})]})]})]}),!f.isNilPickup&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Bag Counts & Weights"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Yellow Bags"}),e.jsxs("span",{children:[f.yellowBagCount," bags",f.yellowWeightKg&&` (${f.yellowWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Red Bags"}),e.jsxs("span",{children:[f.redBagCount," bags",f.redWeightKg&&` (${f.redWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"White Bags"}),e.jsxs("span",{children:[f.whiteBagCount," bags",f.whiteWeightKg&&` (${f.whiteWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Weight"}),e.jsxs("span",{children:[Number((Number(f.yellowWeightKg)||0)+(Number(f.redWeightKg)||0)+(Number(f.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),f.segregationQuality&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Segregation Quality"}),e.jsx("span",{children:f.segregationQuality})]})]})]}),(f.latitude||f.longitude)&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"GPS Location"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Latitude"}),e.jsx("span",{children:f.latitude})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Longitude"}),e.jsx("span",{children:f.longitude})]})]})]})]}),f.notes&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Notes"}),e.jsx("p",{children:f.notes})]}),e.jsxs("div",{className:"modal-footer",children:[f.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn--secondary",onClick:()=>{Ie(f),u(!1)},children:"Edit"}),e.jsx("button",{className:"btn btn--primary",onClick:()=>ve(f.id,"submit"),disabled:v,children:"Submit"})]}),f.status==="Submitted"&&e.jsx("button",{className:"btn btn--primary",onClick:()=>ve(f.id,"verify"),disabled:v,children:"Verify"}),f.status==="Draft"&&e.jsx("button",{className:"btn btn--danger",onClick:()=>se(f.id),disabled:v,children:"Delete"}),e.jsx("button",{className:"btn btn--secondary",onClick:()=>u(!1),children:"Close"})]})]})]})})]})},tJ="http://localhost:3000/api/v1",rJ=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Sh=async(t,r={})=>{const n=rJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${tJ}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"&&(o=c.message):c.error&&(o=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},yf={createCollection:async t=>(await Sh("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(t)})).data,getCollectionById:async t=>(await Sh(`/vehicle-waste-collections/${t}`,{method:"GET"})).data,getAllCollections:async(t,r,n,a)=>{let s="/vehicle-waste-collections";const o=new URLSearchParams;return t&&o.append("vehicleId",t),r&&o.append("startDate",r),n&&o.append("endDate",n),a&&o.append("status",a),o.toString()&&(s+=`?${o.toString()}`),(await Sh(s,{method:"GET"})).data},updateCollection:async(t,r)=>(await Sh(`/vehicle-waste-collections/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,submitCollection:async t=>(await Sh(`/vehicle-waste-collections/${t}/submit`,{method:"PUT"})).data,verifyCollection:async t=>(await Sh(`/vehicle-waste-collections/${t}/verify`,{method:"PUT"})).data,deleteCollection:async t=>{await Sh(`/vehicle-waste-collections/${t}`,{method:"DELETE"})}},nJ=()=>{var he,le;const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(new Date().toISOString().split("T")[0]),[c,l]=M.useState("all"),[h,i]=M.useState(!1),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(null),[T,I]=M.useState([]),[C,D]=M.useState([]),[_,Z]=M.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),ae=M.useCallback(async()=>{try{const ve=await Iu.getAllFleets(void 0,!0);I(ve)}catch(ve){console.error("Failed to load vehicles:",ve),y("Failed to load vehicles")}},[]),V=M.useCallback(async()=>{g(!0),y(null);try{const ve=s,se=s,Ie=(await yf.getAllCollections(void 0,ve,se,c!=="all"?c:void 0)).map(Te=>{const xe=T.find(pe=>pe.id===Te.vehicleId);return{id:Te.id,vehicleId:Te.vehicleId,vehicleNum:(xe==null?void 0:xe.vehicleNum)||"Unknown",collectionDate:Te.collectionDate,grossWeightKg:Number(Te.grossWeightKg)||0,tareWeightKg:Number(Te.tareWeightKg)||0,netWeightKg:Number(Te.netWeightKg)||0,incinerationWeightKg:Number(Te.incinerationWeightKg)||0,autoclaveWeightKg:Number(Te.autoclaveWeightKg)||0,vehicleKm:Te.vehicleKm!==null&&Te.vehicleKm!==void 0?Number(Te.vehicleKm):null,fuelUsageLiters:Te.fuelUsageLiters!==null&&Te.fuelUsageLiters!==void 0?Number(Te.fuelUsageLiters):null,status:Te.status,notes:Te.notes,createdOn:Te.createdOn}});D(Ie)}catch(ve){const se=ve instanceof Error?ve.message:"Failed to load collections";y(se),console.error("Error loading collections:",ve)}finally{g(!1)}},[s,c,T]);M.useEffect(()=>{ae()},[ae]),M.useEffect(()=>{T.length>0&&V()},[s,c,T,V]),M.useEffect(()=>{const ve=_.grossWeightKg-_.tareWeightKg;ve>=0&&Z(se=>({...se,netWeightKg:ve}))},[_.grossWeightKg,_.tareWeightKg]);const ie=async ve=>{if(ve.preventDefault(),!_.vehicleId){y("Please select a vehicle");return}if(_.grossWeightKg<_.tareWeightKg){y("Gross weight must be greater than or equal to tare weight");return}try{if(g(!0),y(null),_.editingId){const se={grossWeightKg:_.grossWeightKg,tareWeightKg:_.tareWeightKg,netWeightKg:_.netWeightKg,incinerationWeightKg:_.incinerationWeightKg,autoclaveWeightKg:_.autoclaveWeightKg,vehicleKm:_.vehicleKm!==null&&_.vehicleKm!==void 0?Number(_.vehicleKm):null,fuelUsageLiters:_.fuelUsageLiters!==null&&_.fuelUsageLiters!==void 0?Number(_.fuelUsageLiters):null,notes:_.notes};await yf.updateCollection(_.editingId,se),N("Collection updated successfully")}else{const se={vehicleId:_.vehicleId,collectionDate:_.collectionDate,grossWeightKg:Number(_.grossWeightKg),tareWeightKg:Number(_.tareWeightKg),netWeightKg:Number(_.netWeightKg),incinerationWeightKg:Number(_.incinerationWeightKg),autoclaveWeightKg:Number(_.autoclaveWeightKg),vehicleKm:_.vehicleKm!==null&&_.vehicleKm!==void 0?Number(_.vehicleKm):null,fuelUsageLiters:_.fuelUsageLiters!==null&&_.fuelUsageLiters!==void 0?Number(_.fuelUsageLiters):null,notes:_.notes};await yf.createCollection(se),N("Collection created successfully")}await V(),i(!1),Ne(),setTimeout(()=>N(null),3e3)}catch(se){const re=se instanceof Error?se.message:"Failed to save collection";y(re),console.error("Error saving collection:",se)}finally{g(!1)}},U=async(ve,se)=>{try{g(!0),y(null),se==="submit"?(await yf.submitCollection(ve),N("Collection submitted successfully")):(await yf.verifyCollection(ve),N("Collection verified successfully")),await V(),setTimeout(()=>N(null),3e3)}catch(re){const Ie=re instanceof Error?re.message:"Failed to update status";y(Ie),console.error("Error updating status:",re)}finally{g(!1)}},G=async ve=>{if(window.confirm("Are you sure you want to delete this collection?"))try{g(!0),y(null),await yf.deleteCollection(ve),N("Collection deleted successfully"),await V(),setTimeout(()=>N(null),3e3)}catch(se){const re=se instanceof Error?se.message:"Failed to delete collection";y(re),console.error("Error deleting collection:",se)}finally{g(!1)}},K=ve=>{Z({vehicleId:ve.vehicleId,collectionDate:ve.collectionDate,grossWeightKg:ve.grossWeightKg,tareWeightKg:ve.tareWeightKg,netWeightKg:ve.netWeightKg,incinerationWeightKg:ve.incinerationWeightKg,autoclaveWeightKg:ve.autoclaveWeightKg,vehicleKm:ve.vehicleKm,fuelUsageLiters:ve.fuelUsageLiters,notes:ve.notes,editingId:ve.id,editingStatus:ve.status}),i(!0)},W=ve=>{m(ve),u(!0)},Ne=()=>{Z({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},ge=C.filter(ve=>{if(n.trim()){const se=n.toLowerCase().trim();if(!ve.vehicleNum.toLowerCase().includes(se))return!1}return!0}),Ee=ve=>{switch(ve){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},Fe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),active:r.pathname==="/master"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/transaction")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Fe.map(ve=>e.jsx("li",{children:e.jsxs(Zr,{to:ve.path,className:`nav-link ${ve.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ve.icon}),e.jsx("span",{className:"nav-label",children:ve.label})]})},ve.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Transaction / Vehicle Waste Collection"})})}),j&&e.jsxs("div",{className:"success-banner",children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>N(null),"aria-label":"Close success message",children:""})]}),x&&e.jsxs("div",{className:"error-banner",children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),"aria-label":"Close error message",children:""})]}),v&&!C.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),e.jsxs("div",{className:"vehicle-waste-collection-page",children:[e.jsx("div",{className:"vehicle-waste-collection-header",children:e.jsx("h1",{className:"vehicle-waste-collection-title",children:"Vehicle Waste Collection"})}),e.jsxs("div",{className:"vehicle-waste-collection-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),e.jsx("input",{id:"collection-date",type:"date",value:s,onChange:ve=>o(ve.target.value),className:"date-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:c,onChange:ve=>l(ve.target.value),className:"status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]}),e.jsxs("div",{className:"filter-group filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by vehicle number...",value:n,onChange:ve=>a(ve.target.value),className:"search-input"})]})]}),e.jsxs("div",{className:"filter-group filter-group--action",children:[e.jsx("label",{children:""}),e.jsxs("button",{className:"add-collection-btn",onClick:()=>{Ne(),i(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),e.jsx("div",{className:"table-container",children:ge.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No collections found"})}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Vehicle"}),e.jsx("th",{children:"Gross Weight (kg)"}),e.jsx("th",{children:"Tare Weight (kg)"}),e.jsx("th",{children:"Net Weight (kg)"}),e.jsx("th",{children:"Incineration (kg)"}),e.jsx("th",{children:"Autoclave (kg)"}),e.jsx("th",{children:"KM"}),e.jsx("th",{children:"Fuel (L)"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:ge.map(ve=>{var se,re;return e.jsxs("tr",{children:[e.jsx("td",{children:new Date(ve.collectionDate).toLocaleDateString()}),e.jsx("td",{children:ve.vehicleNum}),e.jsx("td",{children:ve.grossWeightKg.toFixed(2)}),e.jsx("td",{children:ve.tareWeightKg.toFixed(2)}),e.jsx("td",{children:ve.netWeightKg.toFixed(2)}),e.jsx("td",{children:ve.incinerationWeightKg.toFixed(2)}),e.jsx("td",{children:ve.autoclaveWeightKg.toFixed(2)}),e.jsx("td",{children:((se=ve.vehicleKm)==null?void 0:se.toFixed(2))||"-"}),e.jsx("td",{children:((re=ve.fuelUsageLiters)==null?void 0:re.toFixed(2))||"-"}),e.jsx("td",{children:e.jsx("span",{className:Ee(ve.status),children:ve.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-icon",onClick:()=>W(ve),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ve.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-icon",onClick:()=>K(ve),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"btn btn-icon",onClick:()=>U(ve.id,"submit"),title:"Submit",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>G(ve.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ve.status==="Submitted"&&e.jsx("button",{className:"btn btn-icon",onClick:()=>U(ve.id,"verify"),title:"Verify",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},ve.id)})})]})}),ge.length>0&&e.jsxs("div",{className:"table-footer",children:["Showing ",ge.length," of ",C.length," Items"]})]})]}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content",onClick:ve=>ve.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:_.editingId?"Edit Collection":"Add Collection"}),e.jsx("button",{className:"modal-close",onClick:()=>i(!1),children:""})]}),e.jsxs("form",{onSubmit:ie,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleId",children:"Vehicle *"}),e.jsxs("select",{id:"vehicleId",value:_.vehicleId,onChange:ve=>Z({..._,vehicleId:ve.target.value}),required:!0,disabled:!!_.editingId,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),T.filter(ve=>ve.status==="Active").map(ve=>e.jsx("option",{value:ve.id,children:ve.vehicleNum},ve.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"collectionDate",children:"Collection Date *"}),e.jsx("input",{id:"collectionDate",type:"date",value:_.collectionDate,onChange:ve=>Z({..._,collectionDate:ve.target.value}),required:!0,disabled:!!_.editingId})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"grossWeightKg",children:"Gross Weight (kg) *"}),e.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",value:_.grossWeightKg,onChange:ve=>Z({..._,grossWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!_.editingId&&_.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"tareWeightKg",children:"Tare Weight (kg) *"}),e.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",value:_.tareWeightKg,onChange:ve=>Z({..._,tareWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!_.editingId&&_.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"netWeightKg",children:"Net Weight (kg) *"}),e.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",value:_.netWeightKg.toFixed(2),readOnly:!0,className:"readonly-input"}),e.jsx("small",{children:"Auto-calculated: Gross - Tare"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),e.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",value:_.incinerationWeightKg,onChange:ve=>Z({..._,incinerationWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!_.editingId&&_.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),e.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",value:_.autoclaveWeightKg,onChange:ve=>Z({..._,autoclaveWeightKg:parseFloat(ve.target.value)||0}),required:!0,disabled:!!_.editingId&&_.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vehicleKm",children:"Vehicle KM"}),e.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",value:_.vehicleKm||"",onChange:ve=>Z({..._,vehicleKm:ve.target.value?parseFloat(ve.target.value):null}),disabled:!!_.editingId&&_.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"fuelUsageLiters",children:"Fuel Usage (Liters)"}),e.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",value:_.fuelUsageLiters||"",onChange:ve=>Z({..._,fuelUsageLiters:ve.target.value?parseFloat(ve.target.value):null}),disabled:!!_.editingId&&_.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,value:_.notes||"",onChange:ve=>Z({..._,notes:ve.target.value||null}),disabled:_.editingId&&_.status!=="Draft"})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Saving...":"Save"})]})]})]})}),d&&f&&e.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:ve=>ve.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Collection Details"}),e.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:""})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Vehicle:"}),e.jsx("span",{children:f.vehicleNum})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Collection Date:"}),e.jsx("span",{children:new Date(f.collectionDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Gross Weight:"}),e.jsxs("span",{children:[f.grossWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Tare Weight:"}),e.jsxs("span",{children:[f.tareWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Net Weight:"}),e.jsxs("span",{children:[f.netWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Incineration Weight:"}),e.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Autoclave Weight:"}),e.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Vehicle KM:"}),e.jsx("span",{children:((he=f.vehicleKm)==null?void 0:he.toFixed(2))||"-"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Fuel Usage:"}),e.jsxs("span",{children:[((le=f.fuelUsageLiters)==null?void 0:le.toFixed(2))||"-"," L"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:Ee(f.status),children:f.status})]}),f.notes&&e.jsxs("div",{className:"detail-item detail-item--full",children:[e.jsx("label",{children:"Notes:"}),e.jsx("span",{children:f.notes})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>u(!1),children:"Close"})})]})})]})},aJ="http://localhost:3000/api/v1",sJ=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},RA=async(t,r={})=>{const n=sJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${aJ}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"&&(o=c.message):c.error&&(o=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},Eh={createProcess:async t=>(await RA("/waste-processes",{method:"POST",body:JSON.stringify(t)})).data,getProcessById:async t=>(await RA(`/waste-processes/${t}`,{method:"GET"})).data,getAllProcesses:async(t,r,n,a)=>{let s="/waste-processes";const o=new URLSearchParams;return t&&o.append("companyId",t),r&&o.append("startDate",r),n&&o.append("endDate",n),a&&o.append("status",a),o.toString()&&(s+=`?${o.toString()}`),(await RA(s,{method:"GET"})).data},updateProcess:async(t,r)=>(await RA(`/waste-processes/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,submitProcess:async t=>(await RA(`/waste-processes/${t}/submit`,{method:"PUT"})).data,verifyProcess:async t=>(await RA(`/waste-processes/${t}/verify`,{method:"PUT"})).data,closeProcess:async t=>(await RA(`/waste-processes/${t}/close`,{method:"PUT"})).data,deleteProcess:async t=>{await RA(`/waste-processes/${t}`,{method:"DELETE"})}},iJ=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(new Date().toISOString().split("T")[0]),[c,l]=M.useState("all"),[h,i]=M.useState(!1),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(null),[T,I]=M.useState([]),[C,D]=M.useState([]),[_,Z]=M.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),ae=M.useCallback(async()=>{try{const he=await Ha.getAllCompanies(void 0,!0);I(he)}catch(he){console.error("Failed to load companies:",he),y("Failed to load companies")}},[]),V=M.useCallback(async()=>{g(!0),y(null);try{const he=s,le=s,se=(await Eh.getAllProcesses(void 0,he,le,c!=="all"?c:void 0)).map(re=>{const Ie=T.find(Te=>Te.id===re.companyId);return{id:re.id,companyId:re.companyId,companyName:(Ie==null?void 0:Ie.companyName)||"Unknown",processDate:re.processDate,incinerationWeightKg:Number(re.incinerationWeightKg)||0,autoclaveWeightKg:Number(re.autoclaveWeightKg)||0,status:re.status,notes:re.notes,createdOn:re.createdOn}});D(se)}catch(he){const le=he instanceof Error?he.message:"Failed to load processes";y(le),console.error("Error loading processes:",he)}finally{g(!1)}},[s,c,T]);M.useEffect(()=>{ae()},[ae]),M.useEffect(()=>{T.length>0&&V()},[s,c,T,V]);const ie=async he=>{if(he.preventDefault(),!_.companyId){y("Please select a company");return}if(_.incinerationWeightKg<=0){y("Incineration weight must be greater than zero");return}if(_.autoclaveWeightKg<=0){y("Autoclave weight must be greater than zero");return}try{if(g(!0),y(null),_.editingId){const le={incinerationWeightKg:Number(_.incinerationWeightKg),autoclaveWeightKg:Number(_.autoclaveWeightKg),notes:_.notes};await Eh.updateProcess(_.editingId,le),N("Process updated successfully")}else{const le={companyId:_.companyId,processDate:_.processDate,incinerationWeightKg:Number(_.incinerationWeightKg),autoclaveWeightKg:Number(_.autoclaveWeightKg),notes:_.notes};await Eh.createProcess(le),N("Process created successfully")}await V(),i(!1),Ne(),setTimeout(()=>N(null),3e3)}catch(le){const ve=le instanceof Error?le.message:"Failed to save process";y(ve),console.error("Error saving process:",le)}finally{g(!1)}},U=async(he,le)=>{try{g(!0),y(null),le==="submit"?(await Eh.submitProcess(he),N("Process submitted successfully")):le==="verify"?(await Eh.verifyProcess(he),N("Process verified successfully")):(await Eh.closeProcess(he),N("Process closed successfully")),await V(),setTimeout(()=>N(null),3e3)}catch(ve){const se=ve instanceof Error?ve.message:"Failed to update status";y(se),console.error("Error updating status:",ve)}finally{g(!1)}},G=async he=>{if(window.confirm("Are you sure you want to delete this process?"))try{g(!0),y(null),await Eh.deleteProcess(he),N("Process deleted successfully"),await V(),setTimeout(()=>N(null),3e3)}catch(le){const ve=le instanceof Error?le.message:"Failed to delete process";y(ve),console.error("Error deleting process:",le)}finally{g(!1)}},K=he=>{Z({companyId:he.companyId,processDate:he.processDate,incinerationWeightKg:he.incinerationWeightKg,autoclaveWeightKg:he.autoclaveWeightKg,notes:he.notes,editingId:he.id,editingStatus:he.status}),i(!0)},W=he=>{m(he),u(!0)},Ne=()=>{Z({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},ge=C.filter(he=>{if(n.trim()){const le=n.toLowerCase().trim();if(!he.companyName.toLowerCase().includes(le))return!1}return!0}),Ee=he=>{switch(he){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},Fe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),active:r.pathname==="/master"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/transaction")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname==="/report"}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Fe.map(he=>e.jsx("li",{children:e.jsxs(Zr,{to:he.path,className:`nav-link ${he.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:he.icon}),e.jsx("span",{className:"nav-label",children:he.label})]})},he.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Processing"})})}),j&&e.jsxs("div",{className:"success-banner",children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>N(null),"aria-label":"Close success message",children:""})]}),x&&e.jsxs("div",{className:"error-banner",children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),"aria-label":"Close error message",children:""})]}),v&&!C.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),e.jsxs("div",{className:"waste-process-page",children:[e.jsx("div",{className:"waste-process-header",children:e.jsx("h1",{className:"waste-process-title",children:"Waste Processing"})}),e.jsxs("div",{className:"waste-process-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"process-date",children:"Process Date"}),e.jsx("input",{id:"process-date",type:"date",value:s,onChange:he=>o(he.target.value),className:"date-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:c,onChange:he=>l(he.target.value),className:"status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]}),e.jsxs("div",{className:"filter-group filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:n,onChange:he=>a(he.target.value),className:"search-input"})]})]}),e.jsxs("div",{className:"filter-group filter-group--action",children:[e.jsx("label",{children:""}),e.jsxs("button",{className:"add-process-btn",onClick:()=>{Ne(),i(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})]})]}),e.jsx("div",{className:"table-container",children:ge.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No processes found"})}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Incineration (kg)"}),e.jsx("th",{children:"Autoclave (kg)"}),e.jsx("th",{children:"Total (kg)"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:ge.map(he=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(he.processDate).toLocaleDateString()}),e.jsx("td",{children:he.companyName}),e.jsx("td",{children:he.incinerationWeightKg.toFixed(2)}),e.jsx("td",{children:he.autoclaveWeightKg.toFixed(2)}),e.jsx("td",{children:(Number(he.incinerationWeightKg)+Number(he.autoclaveWeightKg)).toFixed(2)}),e.jsx("td",{children:e.jsx("span",{className:Ee(he.status),children:he.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-icon",onClick:()=>W(he),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),he.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-icon",onClick:()=>K(he),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"btn btn-icon",onClick:()=>U(he.id,"submit"),title:"Submit",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>G(he.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),he.status==="Submitted"&&e.jsx("button",{className:"btn btn-icon",onClick:()=>U(he.id,"verify"),title:"Verify",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),he.status==="Verified"&&e.jsx("button",{className:"btn btn-icon",onClick:()=>U(he.id,"close"),title:"Close",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 6L6 18"}),e.jsx("path",{d:"M6 6l12 12"})]})})]})})]},he.id))})]})}),ge.length>0&&e.jsxs("div",{className:"table-footer",children:["Showing ",ge.length," of ",C.length," Items"]})]})]}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content",onClick:he=>he.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:_.editingId?"Edit Process":"Add Process"}),e.jsx("button",{className:"modal-close",onClick:()=>i(!1),children:""})]}),e.jsxs("form",{onSubmit:ie,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"companyId",children:"Company *"}),e.jsxs("select",{id:"companyId",value:_.companyId,onChange:he=>Z({..._,companyId:he.target.value}),required:!0,disabled:!!_.editingId,children:[e.jsx("option",{value:"",children:"Select Company"}),T.filter(he=>he.status==="Active").map(he=>e.jsx("option",{value:he.id,children:he.companyName},he.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"processDate",children:"Process Date *"}),e.jsx("input",{id:"processDate",type:"date",value:_.processDate,onChange:he=>Z({..._,processDate:he.target.value}),required:!0,disabled:!!_.editingId})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),e.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:_.incinerationWeightKg,onChange:he=>Z({..._,incinerationWeightKg:parseFloat(he.target.value)||0}),required:!0,disabled:!!_.editingId&&_.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),e.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:_.autoclaveWeightKg,onChange:he=>Z({..._,autoclaveWeightKg:parseFloat(he.target.value)||0}),required:!0,disabled:!!_.editingId&&_.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,value:_.notes||"",onChange:he=>Z({..._,notes:he.target.value||null}),disabled:!!_.editingId&&_.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Saving...":"Save"})]})]})]})}),d&&f&&e.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:he=>he.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Process Details"}),e.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:""})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Company:"}),e.jsx("span",{children:f.companyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Process Date:"}),e.jsx("span",{children:new Date(f.processDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Incineration Weight:"}),e.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Autoclave Weight:"}),e.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Weight:"}),e.jsxs("span",{children:[(Number(f.incinerationWeightKg)+Number(f.autoclaveWeightKg)).toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:Ee(f.status),children:f.status})]}),f.notes&&e.jsxs("div",{className:"detail-item detail-item--full",children:[e.jsx("label",{children:"Notes:"}),e.jsx("span",{children:f.notes})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>u(!1),children:"Close"})})]})})]})},oJ="http://localhost:3000/api/v1",lJ=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},nf=async(t,r={})=>{const n=lJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${oJ}${t}`,{...r,headers:a});if(!s.ok){let c=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?c=l.message.join(", "):typeof l.message=="string"?c=l.message:l.error&&(c=typeof l.error=="string"?l.error:JSON.stringify(l.error)),s.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):s.status===403?c=l.message||l.error||"Forbidden: You do not have permission to access this resource":s.status===500&&(c=l.message||l.error||"Internal server error")}catch{s.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):s.status===403?c="Forbidden: You do not have permission to access this resource":s.status===500&&(c="Internal server error")}throw new Error(c)}return(await s.json()).data},BO=async t=>{const n=new URLSearchParams().toString();return nf(`/invoices${n?`?${n}`:""}`)},ym=async t=>{const r=t?{...t}:{};r.fromDate&&!r.invoiceFromDate&&(r.invoiceFromDate=r.fromDate),r.toDate&&!r.invoiceToDate&&(r.invoiceToDate=r.toDate),r.search&&!r.searchText&&(r.searchText=r.search),r.sortDir&&!r.sortOrder&&(r.sortOrder=r.sortDir);const n={};return Object.keys(r).forEach(a=>{const s=r[a];s!=null&&s!==""&&(n[a]=s)}),nf("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},cJ=async t=>nf("/invoices",{method:"POST",body:JSON.stringify(t)}),dJ=async(t,r)=>nf(`/invoices/${t}`,{method:"PUT",body:JSON.stringify(r)}),uJ=async t=>nf("/invoices/generate",{method:"POST",body:JSON.stringify(t)}),AJ=async t=>nf("/invoices/generate-weight",{method:"POST",body:JSON.stringify(t)}),hJ=async t=>nf("/invoices/generate-month",{method:"POST",body:JSON.stringify(t)}),fJ="http://localhost:3000/api/v1",pJ=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},pg=async(t,r={})=>{const n=pJ(),a={"Content-Type":"application/json",...r.headers};if(n&&(a.Authorization=`Bearer ${n}`),r.body&&t.includes("/payments"))try{const c=JSON.parse(r.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",t),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const s=await fetch(`${fJ}${t}`,{...r,headers:a});if(!s.ok){let c=`HTTP error! status: ${s.status}`;try{const h=await s.json();c=h.message||h.error||c,h.message&&typeof h.message=="object"&&(c=JSON.stringify(h.message))}catch{s.status===500?c="Internal server error":s.status===401?c="Unauthorized. Please login again.":s.status===403?c="Forbidden. You do not have permission.":s.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=s.status,l.response={status:s.status},l}return(await s.json()).data};var Va=(t=>(t.CASH="Cash",t.CHEQUE="Cheque",t.BANK_TRANSFER="Bank Transfer",t.UPI="UPI",t.NEFT="NEFT",t.RTGS="RTGS",t.OTHER="Other",t))(Va||{});const SO=async t=>pg("/payments",{method:"POST",body:JSON.stringify(t)}),mJ=async t=>{const r=new URLSearchParams;t!=null&&t.companyId&&r.append("companyId",t.companyId),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.paymentDateFrom&&r.append("paymentDateFrom",t.paymentDateFrom),t!=null&&t.paymentDateTo&&r.append("paymentDateTo",t.paymentDateTo);const n=`/payments${r.toString()?`?${r.toString()}`:""}`;return pg(n,{method:"GET"})},ik=async t=>pg(`/payments/receipts/${t}`,{method:"GET"}),gJ=async t=>{const r=new URLSearchParams;t&&r.append("companyId",t);const n=`/payments/without-receipt${r.toString()?`?${r.toString()}`:""}`;return pg(n,{method:"GET"})},vJ=async t=>pg("/payments/receipts/manual",{method:"POST",body:JSON.stringify(t)}),xJ=()=>{const{logout:t}=ya(),r=In(),n=ds(),[a,s]=M.useState(""),[o,c]=M.useState("All"),[l,h]=M.useState(!1),[i,d]=M.useState(!1),[u,f]=M.useState(!1),[m,v]=M.useState(!1),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),[D,_]=M.useState(!1),[Z,ae]=M.useState([]),[V,ie]=M.useState(!1),[U,G]=M.useState(null),[K,W]=M.useState(!1),[Ne,ge]=M.useState(null),[Ee,Fe]=M.useState(new Set),[he,le]=M.useState(null),[ve,se]=M.useState(null),[re,Ie]=M.useState(!1),[Te,xe]=M.useState(null),[pe,X]=M.useState(null),[fe,oe]=M.useState(!1),We=()=>{oe(!fe)},[Ue,ue]=M.useState([]),[be,Le]=M.useState([]),[ot,Tt]=M.useState([]);M.useEffect(()=>{Mt()},[]);const Mt=async()=>{Ie(!0),xe(null);try{const yt=await Ha.getAllCompanies(!0),Nr=yt.map(Kr=>({id:Kr.id,companyCode:Kr.companyCode,companyName:Kr.companyName,status:Kr.status}));ue(Nr);const Fn=(await Ei.getAllHcfs(void 0,!0)).map(Kr=>{var Dn;return{id:Kr.id,hcfCode:Kr.hcfCode,hcfName:Kr.hcfName,companyName:((Dn=yt.find(_r=>_r.id===Kr.companyId))==null?void 0:Dn.companyName)||"",status:Kr.status||"Active"}});Le(Fn),await Nt(Nr,Fn)}catch(yt){console.error("Error loading data:",yt);const Nr=yt.message||"Failed to load data";Nr.includes("Internal server error")||Nr.includes("500")?xe("Internal server error. Please check the backend logs."):xe(Nr)}finally{Ie(!1)}},Nt=async(yt,Nr)=>{try{const ln=await BO();console.log("Loaded invoices:",ln.length),console.log("Companies available:",yt.length),console.log("HCFs available:",Nr.length);const Fn=ln.map(Kr=>{var Ka,qs,vn,ui,ps,us,Ts,vs;const Dn=yt.find(Ai=>Ai.id===Kr.companyId),_r=Nr.find(Ai=>Ai.id===Kr.hcfId);return ln.indexOf(Kr)===0&&console.log("First invoice mapping:",{invoiceId:Kr.invoiceId,companyId:Kr.companyId,hcfId:Kr.hcfId,foundCompany:!!Dn,foundHcf:!!_r,companyName:Dn==null?void 0:Dn.companyName,hcfCode:_r==null?void 0:_r.hcfCode}),{...Kr,id:Kr.invoiceId,invoiceNum:Kr.invoiceNumber,invoiceStatus:Kr.status,companyName:(Dn==null?void 0:Dn.companyName)||Kr.companyName||"",hcfCode:(_r==null?void 0:_r.hcfCode)||Kr.hcfCode||"",invoiceDate:Kr.invoiceDate||"",dueDate:Kr.dueDate||"",billingDays:Kr.billingDays!==null&&Kr.billingDays!==void 0?Kr.billingDays.toString():"",bedCount:Kr.bedCount!==null&&Kr.bedCount!==void 0?Kr.bedCount.toString():"",bedRate:Kr.bedRate!==null&&Kr.bedRate!==void 0?Kr.bedRate.toString():"",weightInKg:Kr.weightInKg!==null&&Kr.weightInKg!==void 0?Kr.weightInKg.toString():"",kgRate:Kr.kgRate!==null&&Kr.kgRate!==void 0?Kr.kgRate.toString():"",lumpsumAmount:Kr.lumpsumAmount!==null&&Kr.lumpsumAmount!==void 0?Kr.lumpsumAmount.toString():"",taxableValue:((Ka=Kr.taxableValue)==null?void 0:Ka.toString())||"",igst:((qs=Kr.igst)==null?void 0:qs.toString())||"",cgst:((vn=Kr.cgst)==null?void 0:vn.toString())||"",sgst:((ui=Kr.sgst)==null?void 0:ui.toString())||"",roundOff:((ps=Kr.roundOff)==null?void 0:ps.toString())||"",invoiceValue:((us=Kr.invoiceValue)==null?void 0:us.toString())||"",totalPaidAmount:((Ts=Kr.totalPaidAmount)==null?void 0:Ts.toString())||"",balanceAmount:((vs=Kr.balanceAmount)==null?void 0:vs.toString())||""}});console.log("Mapped invoices:",Fn.length),Tt(Fn),Fn.length>0&&xe(null)}catch(ln){console.error("Error loading invoices:",ln);const Fn=ln.message||"Failed to load invoices";if(Fn.includes("Unauthorized")||Fn.includes("Forbidden")||Fn.includes("permission")){xe("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw Fn.includes("Internal server error")||Fn.includes("500")?xe("Internal server error. Please check the backend logs."):xe(Fn),ln}},qt=async()=>{await Nt(Ue,be)},Ir=ot.filter(yt=>{var Fn;const Nr=yt.invoiceNum.toLowerCase().includes(a.toLowerCase())||yt.companyName.toLowerCase().includes(a.toLowerCase())||yt.hcfCode.toLowerCase().includes(a.toLowerCase())||((Fn=be.find(Kr=>Kr.hcfCode===yt.hcfCode))==null?void 0:Fn.hcfName.toLowerCase().includes(a.toLowerCase())),ln=o==="All"||yt.invoiceStatus===o;return Nr&&ln}),fr=()=>{le(null),h(!0)},He=yt=>{se(yt),d(!0)},Yt=yt=>{yt.invoiceStatus==="Draft"?(le(yt),h(!0)):alert("Only Draft invoices can be edited.")},Ct=yt=>{if(yt.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},Qr=yt=>{window.confirm("Are you sure you want to cancel this invoice?")&&Tt(ot.map(Nr=>Nr.id===yt.id?{...Nr,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:Nr))},hr=async yt=>{Ie(!0),xe(null),X(null);try{const Nr=await recordPayment(yt);X(`Payment recorded successfully! Receipt Number: ${Nr.data.receipt.receiptNumber}`);const ln=await ik(Nr.data.receipt.receiptId);G(ln.data),ie(!0),await qt(),W(!1),ge(null)}catch(Nr){console.error("Error recording payment:",Nr);const ln=Nr.message||"Failed to record payment";xe(ln)}finally{Ie(!1)}},nn=yt=>yt==="Generated"?"DUE":yt,Gr=yt=>yt.invoiceStatus==="Generated"||yt.invoiceStatus==="Partially Paid",Vr=yt=>Ee.has(yt),Sr=yt=>{if(!Gr(yt))return;const Nr=new Set(Ee);Nr.has(yt.id)?Nr.delete(yt.id):Nr.add(yt.id),Fe(Nr)},cr=()=>{if(Ir.filter(ln=>Ee.has(ln.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const Nr=Array.from(Ee);n(`/finance/payment?invoices=${Nr.join(",")}`)},wr=()=>{const yt=Ir.filter(ln=>Ee.has(ln.id)),Nr=yt.reduce((ln,Fn)=>ln+parseFloat(Fn.balanceAmount||"0"),0);return{count:yt.length,totalBalance:Nr}},Hr=async yt=>{Ie(!0),xe(null),X(null);try{const Nr=await SO(yt);X(`Payment processed successfully! Receipt Number: ${Nr.data.receipt.receiptNumber}`);const ln=await ik(Nr.data.receipt.receiptId);G(ln.data),ie(!0),await qt(),_(!1)}catch(Nr){console.error("Error processing payment:",Nr);const ln=Nr.message||"Failed to process payment";xe(ln)}finally{Ie(!1)}},Wr=yt=>{window.print()},hn=()=>{alert("Export functionality will be implemented")},Rr=async(yt,Nr=!1)=>{Ie(!0),xe(null),X(null);try{const ln=Ue.find(Kr=>Kr.companyName===yt.companyName),Fn=be.find(Kr=>Kr.hcfCode===yt.hcfCode);if(!ln||!Fn)throw new Error("Company or HCF not found");if(he){const Kr={invoiceDate:yt.invoiceDate,dueDate:yt.dueDate,billingType:yt.billingType,billingDays:yt.billingDays?parseInt(yt.billingDays):void 0,billingOption:yt.billingOption,bedCount:yt.bedCount?parseInt(yt.bedCount):void 0,bedRate:yt.bedRate?parseFloat(yt.bedRate):void 0,weightInKg:yt.weightInKg?parseFloat(yt.weightInKg):void 0,kgRate:yt.kgRate?parseFloat(yt.kgRate):void 0,lumpsumAmount:yt.lumpsumAmount?parseFloat(yt.lumpsumAmount):void 0,taxableValue:yt.taxableValue?parseFloat(yt.taxableValue):void 0,igst:yt.igst?parseFloat(yt.igst):void 0,cgst:yt.cgst?parseFloat(yt.cgst):void 0,sgst:yt.sgst?parseFloat(yt.sgst):void 0,roundOff:yt.roundOff?parseFloat(yt.roundOff):void 0,invoiceValue:yt.invoiceValue?parseFloat(yt.invoiceValue):void 0,notes:yt.notes};await dJ(he.id,Kr),X("Invoice updated successfully")}else{const Kr={companyId:ln.id,hcfId:Fn.id,invoiceDate:yt.invoiceDate||new Date().toISOString().split("T")[0],dueDate:yt.dueDate||new Date().toISOString().split("T")[0],billingType:yt.billingType||"Monthly",billingDays:yt.billingDays?parseInt(yt.billingDays):void 0,billingOption:yt.billingOption||"Bed-wise",generationType:"Manual",bedCount:yt.bedCount?parseInt(yt.bedCount):void 0,bedRate:yt.bedRate?parseFloat(yt.bedRate):void 0,weightInKg:yt.weightInKg?parseFloat(yt.weightInKg):void 0,kgRate:yt.kgRate?parseFloat(yt.kgRate):void 0,lumpsumAmount:yt.lumpsumAmount?parseFloat(yt.lumpsumAmount):void 0,taxableValue:yt.taxableValue?parseFloat(yt.taxableValue):void 0,igst:yt.igst?parseFloat(yt.igst):void 0,cgst:yt.cgst?parseFloat(yt.cgst):void 0,sgst:yt.sgst?parseFloat(yt.sgst):void 0,roundOff:yt.roundOff?parseFloat(yt.roundOff):void 0,invoiceValue:yt.invoiceValue?parseFloat(yt.invoiceValue):void 0,notes:yt.notes};await cJ(Kr),X("Invoice created successfully")}await qt(),h(!1),le(null)}catch(ln){console.error("Error saving invoice:",ln);const Fn=ln.message||"Failed to save invoice";Fn.includes("Internal server error")||Fn.includes("500")?xe("Internal server error. Please check the backend logs."):xe(Fn)}finally{Ie(!1)}},Rn=async yt=>{Ie(!0),xe(null),X(null);try{const Nr=await uJ(yt);if(Nr.summary.success>0&&X(`Generated ${Nr.summary.success} invoice(s) successfully. ${Nr.summary.failed} failed.`),Nr.failed.length>0){const ln=Nr.failed.map(Fn=>`${Fn.hcfCode}: ${Fn.reason}`).join(", ");xe(`Some invoices failed: ${ln}`)}await qt(),f(!1)}catch(Nr){console.error("Error generating invoices:",Nr);const ln=Nr.message||"Failed to generate invoices";ln.includes("Internal server error")||ln.includes("500")?xe("Internal server error. Please check the backend logs."):xe(ln)}finally{Ie(!1)}},Dr=async yt=>{Ie(!0),xe(null),X(null);try{const Nr=await AJ(yt);if(Nr.summary.success>0&&X(`Generated ${Nr.summary.success} invoice(s) successfully (Weight-based). ${Nr.summary.failed} failed.`),Nr.failed.length>0){const ln=Nr.failed.map(Fn=>`${Fn.hcfCode}: ${Fn.reason}`).join(", ");xe(`Some invoices failed: ${ln}`)}await qt(),v(!1)}catch(Nr){console.error("Error generating weight-based invoices:",Nr);const ln=Nr.message||"Failed to generate invoices";ln.includes("Internal server error")||ln.includes("500")?xe("Internal server error. Please check the backend logs."):xe(ln)}finally{Ie(!1)}},Pr=async yt=>{Ie(!0),xe(null),X(null);try{const Nr=await hJ(yt);if(X(`Generated ${Nr.summary.success} invoice(s) successfully. ${Nr.summary.failed} failed. ${Nr.summary.skipped||0} skipped.`),Nr.skipped&&Nr.skipped.length>0&&(C({skipped:Nr.skipped}),T(!0)),Nr.failed.length>0){const ln=Nr.failed.map(Fn=>`${Fn.hcfCode}: ${Fn.reason}`).join(", ");xe(`Some invoices failed: ${ln}`)}await qt(),x(!1),j(!1)}catch(Nr){console.error("Error generating month-based invoices:",Nr);const ln=Nr.message||"Failed to generate invoices";ln.includes("Internal server error")||ln.includes("500")?xe("Internal server error during invoice generation. Please check the backend logs."):xe(ln)}finally{Ie(!1)}},gn=yt=>{const Nr=parseFloat(yt.taxableValue||"0"),ln=parseFloat(yt.igst||"0"),Fn=parseFloat(yt.cgst||"0"),Kr=parseFloat(yt.sgst||"0"),Dn=parseFloat(yt.roundOff||"0");return(Nr+ln+Fn+Kr+Dn).toFixed(2)},sn=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${fe?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!fe&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:We,"aria-label":fe?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:fe?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:sn.map(yt=>e.jsx("li",{children:e.jsxs(Zr,{to:yt.path,className:`nav-link ${yt.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:yt.icon}),!fe&&e.jsx("span",{className:"nav-label",children:yt.label})]})},yt.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!fe&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!fe&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Finance / Invoice Management"})})}),e.jsxs("div",{className:"invoice-management-page",children:[e.jsx("div",{className:"invoice-management-header",children:e.jsx("h1",{className:"invoice-management-title",children:"Invoice Management"})}),Te&&e.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[Te,e.jsx("button",{onClick:()=>xe(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),pe&&e.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[pe,e.jsx("button",{onClick:()=>X(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),e.jsxs("div",{className:"invoice-management-actions",children:[e.jsxs("div",{className:"invoice-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search Invoice...",value:a,onChange:yt=>s(yt.target.value)})]}),e.jsxs("select",{className:"status-filter-select",value:o,onChange:yt=>c(yt.target.value),children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"DUE"}),e.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),e.jsxs("button",{className:"export-btn",onClick:hn,disabled:re,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),e.jsxs("button",{className:"add-invoice-btn",onClick:()=>x(!0),disabled:re,style:{marginRight:"8px",backgroundColor:"#3b82f6"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Bed / Lumpsum"]}),e.jsxs("button",{className:"add-invoice-btn",onClick:()=>j(!0),disabled:re,style:{marginRight:"8px",backgroundColor:"#10b981"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Weight Based"]}),e.jsxs("button",{className:"add-invoice-btn",onClick:fr,disabled:re,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Invoice"]})]}),re&&!ot.length&&e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),e.jsx("div",{className:"invoice-table-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice Number"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Invoice Value"}),e.jsx("th",{children:"Paid Amount"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Ir.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"empty-message",children:"No invoice records found"})}):Ir.map(yt=>{const Nr=be.find(Kr=>Kr.hcfCode===yt.hcfCode),ln=Gr(yt),Fn=Vr(yt.id);return e.jsxs("tr",{style:{opacity:yt.invoiceStatus==="Paid"?.6:1},children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:Fn,onChange:()=>Sr(yt),disabled:!ln,title:ln?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),e.jsx("td",{children:yt.invoiceNum||"-"}),e.jsx("td",{children:yt.companyName||"-"}),e.jsx("td",{children:Nr?`${yt.hcfCode} - ${Nr.hcfName}`:yt.hcfCode}),e.jsx("td",{children:yt.invoiceDate||"-"}),e.jsx("td",{children:yt.dueDate||"-"}),e.jsxs("td",{children:["",yt.invoiceValue||"0"]}),e.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(yt.totalPaidAmount||"0").toFixed(2)]}),e.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(yt.balanceAmount||"0").toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`invoice-status-badge invoice-status-badge--${yt.invoiceStatus.toLowerCase().replace(" ","-")}`,children:nn(yt.invoiceStatus)})}),e.jsx("td",{children:e.jsxs("div",{className:"invoice-action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>He(yt),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),yt.invoiceStatus==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Yt(yt),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>Ct(yt),title:"Generate",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>Wr(),title:"Download PDF",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),yt.invoiceStatus!=="Cancelled"&&yt.invoiceStatus!=="Paid"&&e.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>Qr(yt),title:"Cancel",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},yt.id)})})]})}),Ee.size>0&&e.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:wr().count})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),e.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",wr().totalBalance.toFixed(2)]})]})]}),e.jsx("div",{style:{flexShrink:0},children:e.jsxs("button",{onClick:cr,disabled:Ee.size===0,title:Ee.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:Ee.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:Ee.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:yt=>{Ee.size>0&&(yt.currentTarget.style.background="#059669",yt.currentTarget.style.transform="translateY(-1px)",yt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:yt=>{Ee.size>0&&(yt.currentTarget.style.background="#10b981",yt.currentTarget.style.transform="translateY(0)",yt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),e.jsxs("div",{className:"invoice-pagination-info",style:{marginBottom:Ee.size>0?"80px":"0"},children:["Showing ",Ir.length," of ",ot.length," Items"]})]})]}),l&&e.jsx(jJ,{invoice:he,companies:Ue.filter(yt=>yt.status==="Active"),hcfs:be.filter(yt=>yt.status==="Active"),onClose:()=>{h(!1),le(null)},onSave:Rr,calculateInvoiceValue:gn}),i&&ve&&e.jsx(wJ,{invoice:ve,hcfs:be,onClose:()=>{d(!1),se(null)},onPrint:Wr}),D&&e.jsx(NJ,{invoices:Z,companies:Ue.filter(yt=>yt.status==="Active"),onClose:()=>{_(!1),ae([])},onProcessPayment:Hr,loading:re}),K&&Ne&&e.jsx(BJ,{invoice:Ne,onClose:()=>{W(!1),ge(null)},onSubmit:hr,loading:re}),V&&U&&e.jsx(SJ,{receiptData:U,onClose:()=>{ie(!1),G(null)}}),u&&e.jsx(yJ,{companies:Ue.filter(yt=>yt.status==="Active"),hcfs:be.filter(yt=>yt.status==="Active"),onClose:()=>f(!1),onGenerate:Rn,loading:re}),m&&e.jsx(bJ,{companies:Ue.filter(yt=>yt.status==="Active"),hcfs:be.filter(yt=>yt.status==="Active"),onClose:()=>v(!1),onGenerate:Dr,loading:re}),g&&e.jsx(ok,{companies:Ue.filter(yt=>yt.status==="Active"),onClose:()=>x(!1),onGenerate:Pr,loading:re,generationMode:"Bed/Lumpsum"}),y&&e.jsx(ok,{companies:Ue.filter(yt=>yt.status==="Active"),onClose:()=>j(!1),onGenerate:Pr,loading:re,generationMode:"Weight Based"}),N&&I&&e.jsx(CJ,{skipped:I.skipped,onClose:()=>{T(!1),C(null)}})]})},yJ=({companies:t,hcfs:r,onClose:n,onGenerate:a,loading:s})=>{const[o,c]=M.useState({companyId:"",billingPeriodStart:"",billingPeriodEnd:"",billingType:"Monthly",dueDays:30}),[l,h]=M.useState([]),i=o.companyId?r.filter(u=>{const f=t.find(m=>m.id===o.companyId);return f&&u.companyName===f.companyName}):r,d=u=>{u.preventDefault(),a({...o,hcfIds:l.length>0?l:void 0})};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Auto Generate Invoices"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{required:!0,value:o.companyId,onChange:u=>{c({...o,companyId:u.target.value}),h([])},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(u=>e.jsx("option",{value:u.id,children:u.companyName},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),e.jsx("select",{multiple:!0,value:l,onChange:u=>{const f=Array.from(u.target.selectedOptions,m=>m.value);h(f)},style:{minHeight:"100px"},children:i.map(u=>e.jsxs("option",{value:u.id,children:[u.hcfCode," - ",u.hcfName]},u.id))}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Period Start *"}),e.jsx("input",{type:"date",required:!0,value:o.billingPeriodStart,onChange:u=>c({...o,billingPeriodStart:u.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Period End *"}),e.jsx("input",{type:"date",required:!0,value:o.billingPeriodEnd,onChange:u=>c({...o,billingPeriodEnd:u.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Option Filter"}),e.jsxs("select",{value:o.billingOption||"",onChange:u=>c({...o,billingOption:u.target.value}),children:[e.jsx("option",{value:"",children:"All Options"}),e.jsx("option",{value:"Bed-wise",children:"Bed-wise"}),e.jsx("option",{value:"Weight-wise",children:"Weight-wise"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Filter HCFs by billing option (optional)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type *"}),e.jsxs("select",{required:!0,value:o.billingType,onChange:u=>c({...o,billingType:u.target.value}),children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Due Days (from invoice date)"}),e.jsx("input",{type:"number",min:"1",value:o.dueDays||30,onChange:u=>c({...o,dueDays:parseInt(u.target.value)||30})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Generating...":"Generate Invoices"})]})]})]})})},bJ=({companies:t,hcfs:r,onClose:n,onGenerate:a,loading:s})=>{const[o,c]=M.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),[l,h]=M.useState([]),i=o.companyId?r.filter(u=>{const f=t.find(m=>m.id===o.companyId);return f&&u.companyName===f.companyName}):r,d=u=>{u.preventDefault(),a({...o,hcfIds:l.length>0?l:void 0})};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Generate Invoice (Weight-Based)"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{required:!0,value:o.companyId,onChange:u=>{c({...o,companyId:u.target.value}),h([])},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(u=>e.jsx("option",{value:u.id,children:u.companyName},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),e.jsx("select",{multiple:!0,value:l,onChange:u=>{const f=Array.from(u.target.selectedOptions,m=>m.value);h(f)},style:{minHeight:"100px"},children:i.map(u=>e.jsxs("option",{value:u.id,children:[u.hcfCode," - ",u.hcfName]},u.id))}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pickup Date From *"}),e.jsx("input",{type:"date",required:!0,value:o.pickupDateFrom,onChange:u=>c({...o,pickupDateFrom:u.target.value})}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Start date for waste transaction pickup"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pickup Date To *"}),e.jsx("input",{type:"date",required:!0,value:o.pickupDateTo,onChange:u=>c({...o,pickupDateTo:u.target.value})}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"End date for waste transaction pickup"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type *"}),e.jsxs("select",{required:!0,value:o.billingType,onChange:u=>c({...o,billingType:u.target.value}),children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Due Days (from invoice date)"}),e.jsx("input",{type:"number",min:"1",value:o.dueDays||30,onChange:u=>c({...o,dueDays:parseInt(u.target.value)||30})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Generating...":"Generate Invoices (Weight-Based)"})]})]})]})})},jJ=({invoice:t,companies:r,hcfs:n,onClose:a,onSave:s,calculateInvoiceValue:o})=>{const[c,l]=M.useState(t||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),h=c.companyName?n.filter(m=>m.companyName===c.companyName):n,i=(m,v)=>{const g={...c,[m]:v};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(m)){const N=o(g);g.invoiceValue=N}const x=parseFloat(g.invoiceValue||"0"),y=parseFloat(g.totalPaidAmount||"0"),j=(x-y).toFixed(2);g.balanceAmount=j,l(g)},d=m=>{m.preventDefault(),s(c,!1)},u=m=>{if(m.preventDefault(),!c.companyName||!c.hcfCode){alert("Please fill in all required fields");return}window.confirm("Are you sure you want to generate this invoice? This action cannot be undone.")&&s(c,!0)},f=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&l({companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"})};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Invoice":"Create Invoice"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"invoice-form",onSubmit:d,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:c.companyName||"",onChange:m=>{i("companyName",m.target.value),i("hcfCode","")},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(m=>e.jsx("option",{value:m.companyName,children:m.companyName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Code *"}),e.jsxs("select",{value:c.hcfCode||"",onChange:m=>i("hcfCode",m.target.value),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),h.map(m=>e.jsxs("option",{value:m.hcfCode,children:[m.hcfCode," - ",m.hcfName]},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Invoice Number *"}),e.jsx("input",{type:"text",value:c.invoiceNum||"",onChange:m=>i("invoiceNum",m.target.value),required:!0,placeholder:"e.g., INV-2024-001"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Invoice Date *"}),e.jsx("input",{type:"date",value:c.invoiceDate||"",onChange:m=>i("invoiceDate",m.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Due Date *"}),e.jsx("input",{type:"date",value:c.dueDate||"",onChange:m=>i("dueDate",m.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Billing Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type *"}),e.jsxs("select",{value:c.billingType||"",onChange:m=>i("billingType",m.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Billing Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Days"}),e.jsx("input",{type:"text",value:c.billingDays||"",onChange:m=>i("billingDays",m.target.value),placeholder:"Enter billing days"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bed Count"}),e.jsx("input",{type:"text",value:c.bedCount||"",onChange:m=>i("bedCount",m.target.value),placeholder:"Enter bed count"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bed Rate"}),e.jsx("input",{type:"text",value:c.bedRate||"",onChange:m=>i("bedRate",m.target.value),placeholder:"Enter bed rate"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weight in Kg"}),e.jsx("input",{type:"text",value:c.weightInKg||"",onChange:m=>i("weightInKg",m.target.value),placeholder:"Enter weight in kg"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kg Rate"}),e.jsx("input",{type:"text",value:c.kgRate||"",onChange:m=>i("kgRate",m.target.value),placeholder:"Enter kg rate"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Lumpsum Amount"}),e.jsx("input",{type:"text",value:c.lumpsumAmount||"",onChange:m=>i("lumpsumAmount",m.target.value),placeholder:"Enter lumpsum amount"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Tax & Amount Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Taxable Value *"}),e.jsx("input",{type:"text",value:c.taxableValue||"",onChange:m=>i("taxableValue",m.target.value),required:!0,placeholder:"Enter taxable value"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IGST"}),e.jsx("input",{type:"text",value:c.igst||"",onChange:m=>i("igst",m.target.value),placeholder:"Enter IGST"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CGST"}),e.jsx("input",{type:"text",value:c.cgst||"",onChange:m=>i("cgst",m.target.value),placeholder:"Enter CGST"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SGST"}),e.jsx("input",{type:"text",value:c.sgst||"",onChange:m=>i("sgst",m.target.value),placeholder:"Enter SGST"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Round Off"}),e.jsx("input",{type:"text",value:c.roundOff||"0",onChange:m=>i("roundOff",m.target.value),placeholder:"Enter round off"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Invoice Value"}),e.jsx("input",{type:"text",value:c.invoiceValue||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Paid Amount"}),e.jsx("input",{type:"text",value:c.totalPaidAmount||"0",onChange:m=>i("totalPaidAmount",m.target.value),placeholder:"Enter paid amount"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance Amount"}),e.jsx("input",{type:"text",value:c.balanceAmount||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:f,children:"Reset"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Draft"}),e.jsx("button",{type:"button",className:"btn btn--success",onClick:u,children:"Generate Invoice"})]})]})]})})},wJ=({invoice:t,hcfs:r,onClose:n,onPrint:a})=>{const s=r.find(l=>l.hcfCode===t.hcfCode),o=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--view",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",t.invoiceNum]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"invoice-view-content",children:[e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{children:t.companyName||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"HCF Code:"}),e.jsx("span",{children:s?`${t.hcfCode} - ${s.hcfName}`:t.hcfCode})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Invoice Number:"}),e.jsx("span",{children:t.invoiceNum||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Invoice Date:"}),e.jsx("span",{children:t.invoiceDate||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Due Date:"}),e.jsx("span",{children:t.dueDate||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`invoice-status-badge invoice-status-badge--${t.invoiceStatus.toLowerCase().replace(" ","-")}`,children:t.invoiceStatus})]})]})]}),e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Billing Type:"}),e.jsx("span",{children:t.billingType||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Billing Days:"}),e.jsx("span",{children:t.billingDays||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Bed Count:"}),e.jsx("span",{children:t.bedCount||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Bed Rate:"}),e.jsxs("span",{children:["",t.bedRate||"-"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Weight in Kg:"}),e.jsxs("span",{children:[t.weightInKg||"-"," kg"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Kg Rate:"}),e.jsxs("span",{children:["",t.kgRate||"-"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Lumpsum Amount:"}),e.jsxs("span",{children:["",t.lumpsumAmount||"-"]})]})]})]}),e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Taxable Value:"}),e.jsxs("span",{children:["",t.taxableValue||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"IGST:"}),e.jsxs("span",{children:["",t.igst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"CGST:"}),e.jsxs("span",{children:["",t.cgst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"SGST:"}),e.jsxs("span",{children:["",t.sgst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Round Off:"}),e.jsxs("span",{children:["",t.roundOff||"0"]})]}),e.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[e.jsx("label",{children:"Invoice Value:"}),e.jsxs("span",{children:["",t.invoiceValue||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Total Paid Amount:"}),e.jsxs("span",{children:["",t.totalPaidAmount||"0"]})]}),e.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[e.jsx("label",{children:"Balance Amount:"}),e.jsxs("span",{children:["",t.balanceAmount||"0"]})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(t.invoiceStatus==="Generated"||t.invoiceStatus==="Partially Paid"||t.invoiceStatus==="Paid")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),e.jsx("button",{type:"button",className:"btn btn--success",onClick:o,children:"Add Receipt"})]}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(t),children:"Print / Download PDF"})]})]})})},ok=({companies:t,onClose:r,onGenerate:n,loading:a,generationMode:s})=>{const o=new Date,c=o.getMonth()+1,l=o.getFullYear();let h=c-1,i=l;h===0&&(h=12,i=l-1);const[d,u]=M.useState({companyId:"",month:h,year:i,invoiceDate:new Date().toISOString().split("T")[0],generationMode:s,dueDays:30}),f=["January","February","March","April","May","June","July","August","September","October","November","December"],m=v=>{v.preventDefault(),n(d)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Auto Generate Invoices (",s,")"]}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:""})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{required:!0,value:d.companyId,onChange:v=>u({...d,companyId:v.target.value}),children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(v=>e.jsx("option",{value:v.id,children:v.companyName},v.id))]}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Month *"}),e.jsx("select",{required:!0,value:d.month,onChange:v=>u({...d,month:parseInt(v.target.value)}),children:f.map((v,g)=>e.jsxs("option",{value:g+1,disabled:g+1!==h,children:[v," ",g+1===h?"(Previous Month)":""]},g+1))}),e.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Only previous month (",f[h-1]," ",i,") can be selected"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Year *"}),e.jsx("input",{type:"number",required:!0,min:"2000",max:"2100",value:d.year,onChange:v=>u({...d,year:parseInt(v.target.value)}),disabled:!0}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Year is automatically set to previous month's year"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Invoice Date *"}),e.jsx("input",{type:"date",required:!0,value:d.invoiceDate,onChange:v=>u({...d,invoiceDate:v.target.value})}),e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Enter the invoice date"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Due Days (from invoice date)"}),e.jsx("input",{type:"number",min:"1",value:d.dueDays||30,onChange:v=>u({...d,dueDays:parseInt(v.target.value)||30})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:r,disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Generating...":`Generate Invoices (${s})`})]})]})]})})},CJ=({skipped:t,onClose:r})=>e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:""})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f5f5f5"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),e.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),e.jsx("tbody",{children:t.map((n,a)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--primary",onClick:r,children:"OK"})})]})}),NJ=({invoices:t,companies:r,onClose:n,onProcessPayment:a,loading:s})=>{const o=()=>{if(t.length===0)return"";const g=t[0],x=r.find(y=>y.companyName===g.companyName);return(x==null?void 0:x.id)||""},[c,l]=M.useState({companyId:o(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:Va.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[h,i]=M.useState("FIFO"),[d,u]=M.useState({}),f=t.reduce((g,x)=>g+parseFloat(x.balanceAmount||"0"),0);M.useEffect(()=>{l(g=>({...g,paymentAmount:h==="FIFO"?f:Object.values(d).reduce((x,y)=>x+y,0)}))},[h,d,f]);const m=g=>{if(g.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:h==="FIFO"?[]:t.map(y=>({invoiceId:y.id,allocatedAmount:d[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},v=(g,x)=>{const y=t.find(T=>T.id===g),j=parseFloat((y==null?void 0:y.balanceAmount)||"0"),N=Math.min(Math.max(0,x),j);u(T=>({...T,[g]:N}))};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Make Payment"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",t.length,")"]}),e.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),e.jsx("tbody",{children:t.map(g=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px"},children:g.invoiceNum}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(g.invoiceValue||"0").toFixed(2)]}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(g.totalPaidAmount||"0").toFixed(2)]}),e.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(g.balanceAmount||"0").toFixed(2)]})]},g.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[e.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),e.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",f.toFixed(2)]})]})})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{required:!0,value:c.companyId,onChange:g=>l({...c,companyId:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:g=>l({...c,paymentDate:g.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:c.paymentMode,onChange:g=>l({...c,paymentMode:g.target.value}),children:[e.jsx("option",{value:Va.CASH,children:"Cash"}),e.jsx("option",{value:Va.CHEQUE,children:"Cheque"}),e.jsx("option",{value:Va.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:Va.UPI,children:"UPI"}),e.jsx("option",{value:Va.NEFT,children:"NEFT"}),e.jsx("option",{value:Va.RTGS,children:"RTGS"}),e.jsx("option",{value:Va.OTHER,children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Amount *"}),e.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:g=>l({...c,paymentAmount:parseFloat(g.target.value)||0}),disabled:h==="FIFO"}),h==="FIFO"&&e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===Va.CHEQUE||c.paymentMode===Va.BANK_TRANSFER||c.paymentMode===Va.NEFT||c.paymentMode===Va.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:g=>l({...c,referenceNumber:g.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===Va.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:c.bankName||"",onChange:g=>l({...c,bankName:g.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:g=>l({...c,chequeNumber:g.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:c.chequeDate||"",onChange:g=>l({...c,chequeDate:g.target.value||null})})]})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:c.notes||"",onChange:g=>l({...c,notes:g.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:h==="FIFO",onChange:g=>i(g.target.value)}),e.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),e.jsx("div",{children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:h==="Manual",onChange:g=>i(g.target.value)}),e.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),h==="Manual"&&e.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:t.map(g=>{const x=parseFloat(g.balanceAmount||"0"),y=d[g.id]||0;return e.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[e.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:g.invoiceNum}),e.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),e.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:j=>v(g.id,parseFloat(j.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},g.id)})}),e.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[e.jsx("strong",{children:"Total Allocated:"})," ",Object.values(d).reduce((g,x)=>g+x,0).toFixed(2)]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Processing...":"Process Payment"})]})]})]})})},BJ=({invoice:t,onClose:r,onSubmit:n,loading:a})=>{const[s,o]=M.useState({invoiceId:t.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(t.balanceAmount||"0"),paymentMode:Va.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async l=>{l.preventDefault();const h=parseFloat(t.balanceAmount||"0");if(s.paymentAmount>h){alert(`Payment amount cannot exceed invoice balance of ${h.toFixed(2)}`);return}if(s.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(s)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Record Payment"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:""})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Invoice #:"}),e.jsx("span",{style:{fontWeight:600},children:t.invoiceNum})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Invoice Value:"}),e.jsxs("span",{children:["",parseFloat(t.invoiceValue||"0").toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Paid Amount:"}),e.jsxs("span",{children:["",parseFloat(t.totalPaidAmount||"0").toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[e.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),e.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(t.balanceAmount||"0").toFixed(2)]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:s.paymentDate,onChange:l=>o({...s,paymentDate:l.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:s.paymentMode,onChange:l=>o({...s,paymentMode:l.target.value}),children:[e.jsx("option",{value:Va.CASH,children:"Cash"}),e.jsx("option",{value:Va.CHEQUE,children:"Cheque"}),e.jsx("option",{value:Va.NEFT,children:"NEFT"}),e.jsx("option",{value:Va.RTGS,children:"RTGS"}),e.jsx("option",{value:Va.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:Va.UPI,children:"UPI"}),e.jsx("option",{value:Va.OTHER,children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Amount *"}),e.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(t.balanceAmount||"0"),value:s.paymentAmount,onChange:l=>o({...s,paymentAmount:parseFloat(l.target.value)||0})}),e.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(t.balanceAmount||"0").toFixed(2)]})]}),(s.paymentMode===Va.CHEQUE||s.paymentMode===Va.BANK_TRANSFER||s.paymentMode===Va.NEFT||s.paymentMode===Va.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:s.referenceNumber||"",onChange:l=>o({...s,referenceNumber:l.target.value||null}),placeholder:"Transaction/Reference number"})]}),s.paymentMode===Va.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:s.bankName||"",onChange:l=>o({...s,bankName:l.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:s.chequeNumber||"",onChange:l=>o({...s,chequeNumber:l.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:s.chequeDate||"",onChange:l=>o({...s,chequeDate:l.target.value||null})})]})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:l=>o({...s,notes:l.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},SJ=({receiptData:t,onClose:r})=>e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),e.jsx("button",{className:"modal-close-btn",onClick:r,children:""})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),e.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",t.receiptNumber]})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),e.jsx("span",{children:t.receiptDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),e.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",t.totalAmount.toFixed(2)]})]}),t.payment&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),e.jsx("span",{children:t.payment.paymentMode})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),e.jsx("span",{children:t.payment.paymentDate})]})]})]}),t.invoices&&t.invoices.length>0&&e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),e.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),e.jsx("tbody",{children:t.invoices.map((n,a)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),e.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:e.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",e.jsx("strong",{children:t.receiptNumber})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--primary",onClick:r,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),EJ=()=>{var ie;const{logout:t}=ya(),r=ds(),[n]=Ow(),a=n.get("invoices")||"",s=a.split(",").filter(U=>U),[o,c]=M.useState([]),[l,h]=M.useState([]),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState(null),[g,x]=M.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:Va.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,j]=M.useState(!1),[N,T]=M.useState(!1),I=M.useRef(0),C=M.useRef(null);M.useEffect(()=>{D()},[a]);const D=async()=>{var U,G;if(s.length===0){f("No invoices selected");return}d(!0),f(null);try{const K=await Ha.getAllCompanies();h(K.filter(Fe=>Fe.status==="Active"));const Ne=(await BO()).filter(Fe=>s.includes(Fe.invoiceId));if(Ne.length===0){f("Selected invoices not found");return}const ge=Ne.map(Fe=>({id:Fe.invoiceId,invoiceId:Fe.invoiceId,companyId:Fe.companyId,companyName:Fe.companyName,hcfId:Fe.hcfId,hcfCode:Fe.hcfCode,invoiceNum:Fe.invoiceNumber,invoiceDate:Fe.invoiceDate,dueDate:Fe.dueDate,invoiceValue:Fe.invoiceValue,totalPaidAmount:Fe.totalPaidAmount,balanceAmount:Fe.balanceAmount,invoiceStatus:Fe.status}));c(ge),ge.length>0&&ge[0].companyId&&x(Fe=>({...Fe,companyId:ge[0].companyId}));const Ee=ge.reduce((Fe,he)=>Fe+parseFloat(he.balanceAmount||"0"),0);I.current=Ee,x(Fe=>({...Fe,paymentAmount:Ee}))}catch(K){console.error("Error loading data:",K);let W="Failed to load invoice data";K.message?W=K.message:(G=(U=K.response)==null?void 0:U.data)!=null&&G.message?W=K.response.data.message:typeof K=="string"&&(W=K),(W.includes("Internal server error")||W.includes("500"))&&(W="Internal server error. Please check the backend logs or try again later."),f(W)}finally{d(!1)}},_=o.reduce((U,G)=>U+parseFloat(G.balanceAmount||"0"),0),Z=async U=>{var K;U.preventDefault();let G=0;if(C.current){const W=C.current.value;G=W?parseFloat(W):0}if((!G||G<=0)&&(G=I.current>0?I.current:g.paymentAmount),G=Number(G),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",(K=C.current)==null?void 0:K.value),console.log("Payment Amount Ref:",I.current),console.log("Form Data Payment Amount:",g.paymentAmount),console.log("Current Amount:",G),G>_){f(`Payment amount (${G.toFixed(2)}) cannot exceed total payable (${_.toFixed(2)})`);return}if(G<=0||isNaN(G)){f("Payment amount must be greater than zero"),G=_,I.current=_,x(W=>({...W,paymentAmount:_})),C.current&&(C.current.value=_.toString());return}I.current=G,x(W=>({...W,paymentAmount:G})),C.current&&(C.current.value=G.toString()),j(!0)},ae=async()=>{var U,G,K;j(!1),T(!0),d(!0),f(null),v(null);try{let W=0;if(C.current){const he=C.current.value;W=he?parseFloat(he):0,console.log("Reading from input field:",he,"->",W)}if((!W||W<=0)&&(W=I.current>0?I.current:g.paymentAmount,console.log("Using fallback - Ref:",I.current,"FormData:",g.paymentAmount)),W=Number(W),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(U=C.current)==null?void 0:U.value),console.log("Payment Amount Ref:",I.current),console.log("Form Data Payment Amount:",g.paymentAmount),console.log("Final Payment Amount:",W),console.log("Total Payable:",_),!W||W<=0||isNaN(W)){f(`Invalid payment amount: ${W}. Please enter a valid amount greater than zero.`),T(!1),d(!1);return}if(W>_){f(`Payment amount (${W.toFixed(2)}) cannot exceed total payable (${_.toFixed(2)})`),T(!1),d(!1);return}const Ne=o.map(he=>({invoiceId:he.id,allocatedAmount:0})),ge={companyId:g.companyId||"",paymentDate:g.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:W,paymentMode:g.paymentMode||Va.CASH,referenceNumber:g.referenceNumber||null,bankName:g.bankName||null,chequeNumber:g.chequeNumber||null,chequeDate:g.chequeDate||null,notes:g.notes||null,invoiceAllocations:Ne},Ee=Number(ge.paymentAmount);if(!Ee||Ee<=0||isNaN(Ee)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",ge),console.error("Payment Amount:",ge.paymentAmount),console.error("Final Payment Amount:",Ee),f(`Invalid payment amount: ${ge.paymentAmount}. Cannot proceed. Please check the amount and try again.`),T(!1),d(!1);return}ge.paymentAmount=Ee,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",ge),console.log("Payment Amount Type:",typeof ge.paymentAmount),console.log("Payment Amount Value:",ge.paymentAmount),console.log("Payment Amount is Number?",!isNaN(ge.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(ge,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(ge).match(/"paymentAmount":\s*([^,}]+)/));const Fe=await SO(ge);r("/finance/payment-success",{state:{receiptNumber:Fe.receipt.receiptNumber,receiptId:Fe.receipt.receiptId,totalAmount:Fe.receipt.totalAmount,receiptDate:Fe.receipt.receiptDate,invoiceUpdates:Fe.invoiceUpdates}})}catch(W){console.error("Error processing payment:",W);let Ne="Failed to process payment";W.message?Ne=W.message:(K=(G=W.response)==null?void 0:G.data)!=null&&K.message?Ne=W.response.data.message:typeof W=="string"&&(Ne=W),(Ne.includes("Internal server error")||Ne.includes("500"))&&(Ne="Internal server error. Please check the backend logs or try again later."),f(Ne),T(!1)}finally{d(!1)}},V=()=>{r("/finance/invoice-management")};return s.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("h2",{children:"No invoices selected"}),e.jsx("p",{children:"Please select invoices from the Invoice Management page."}),e.jsx("button",{onClick:V,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):e.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[e.jsxs("button",{onClick:V,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:U=>{U.currentTarget.style.background="#F1F5F9",U.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:U=>{U.currentTarget.style.background="#FFFFFF",U.currentTarget.style.borderColor="#E2E8F0"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),u&&e.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[u,e.jsx("button",{onClick:()=>f(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),m&&e.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:m}),e.jsxs("form",{onSubmit:Z,children:[e.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[e.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",o.length,")"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:o.map(U=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),e.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:U.invoiceNum}),e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),e.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(U.balanceAmount||"0").toFixed(2)]})]},U.id))}),e.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),e.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",_.toFixed(2)]})]})]}),e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),e.jsx("input",{type:"text",value:((ie=l.find(U=>U.id===g.companyId))==null?void 0:ie.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:g.paymentDate,onChange:U=>x(G=>({...G,paymentDate:U.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:g.paymentMode,onChange:U=>x(G=>({...G,paymentMode:U.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[e.jsx("option",{value:Va.CASH,children:"Cash"}),e.jsx("option",{value:Va.CHEQUE,children:"Cheque"}),e.jsx("option",{value:Va.NEFT,children:"NEFT"}),e.jsx("option",{value:Va.RTGS,children:"RTGS"}),e.jsx("option",{value:Va.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:Va.UPI,children:"UPI"}),e.jsx("option",{value:Va.OTHER,children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),e.jsx("input",{ref:C,type:"number",required:!0,min:"0.01",step:"0.01",max:_,value:g.paymentAmount>0?g.paymentAmount:"",onChange:U=>{const G=U.target.value.trim();if(G===""){x(W=>({...W,paymentAmount:0})),f(null);return}const K=parseFloat(G);if(isNaN(K)){x(W=>({...W,paymentAmount:0}));return}if(K<0){x(W=>({...W,paymentAmount:0}));return}K>_?f(`Payment amount cannot exceed total payable of ${_.toFixed(2)}`):f(null),I.current=K,x(W=>({...W,paymentAmount:K})),console.log("Payment amount updated to:",K)},onBlur:U=>{const G=U.target.value.trim();if(G===""){I.current=_,x(W=>({...W,paymentAmount:_}));return}const K=parseFloat(G);isNaN(K)||K<=0?(I.current=_,x(W=>({...W,paymentAmount:_}))):(I.current=K,x(W=>({...W,paymentAmount:K})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),e.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",_.toFixed(2)," (supports partial payments)"]})]}),(g.paymentMode===Va.CHEQUE||g.paymentMode===Va.BANK_TRANSFER||g.paymentMode===Va.NEFT||g.paymentMode===Va.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:g.referenceNumber||"",onChange:U=>x({...g,referenceNumber:U.target.value||null}),placeholder:"Transaction/Reference number"})]}),g.paymentMode===Va.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:g.bankName||"",onChange:U=>x({...g,bankName:U.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:g.chequeNumber||"",onChange:U=>x({...g,chequeNumber:U.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:g.chequeDate||"",onChange:U=>x({...g,chequeDate:U.target.value||null})})]})]})]}),(g.paymentMode===Va.CHEQUE||g.paymentMode===Va.BANK_TRANSFER||g.paymentMode===Va.NEFT||g.paymentMode===Va.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),e.jsx("input",{type:"text",value:g.referenceNumber||"",onChange:U=>x({...g,referenceNumber:U.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),g.paymentMode===Va.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),e.jsx("input",{type:"text",value:g.bankName||"",onChange:U=>x({...g,bankName:U.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),e.jsx("input",{type:"text",value:g.chequeNumber||"",onChange:U=>x({...g,chequeNumber:U.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),e.jsx("input",{type:"date",value:g.chequeDate||"",onChange:U=>x({...g,chequeDate:U.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),e.jsx("textarea",{value:g.notes||"",onChange:U=>x({...g,notes:U.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),e.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),e.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[e.jsx("button",{type:"button",onClick:V,disabled:i||N,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:i||N?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i||N,style:{padding:"12px 32px",background:N?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:N?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:N?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:U=>{!N&&!i&&(U.currentTarget.style.background="#059669",U.currentTarget.style.transform="translateY(-1px)",U.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:U=>{!N&&!i&&(U.currentTarget.style.background="#10b981",U.currentTarget.style.transform="translateY(0)",U.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:N?"Processing...":i?"Loading...":"Process Payment"})]})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>!N&&j(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"modal-content",onClick:U=>U.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:" This action cannot be undone."}),e.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",e.jsxs("strong",{children:["",g.paymentAmount.toFixed(2)]}),"."]}),e.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",onClick:()=>j(!1),disabled:N,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{type:"button",onClick:ae,disabled:N,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:N?"not-allowed":"pointer",fontWeight:600},children:N?"Processing...":"Confirm & Process Payment"})]})]})})]})})},IJ=()=>{const t=In(),r=ds(),n=t.state;M.useEffect(()=>{if(!(n!=null&&n.receiptId)){r("/finance/invoice-management");return}},[n,r]);const a=()=>{window.print()},s=()=>{r("/finance/invoice-management")};return n?e.jsxs("div",{className:"payment-success-page",children:[e.jsx("div",{className:"payment-success-header",children:e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),e.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),e.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),e.jsxs("div",{className:"payment-success-content",children:[e.jsxs("div",{className:"success-card receipt-card",children:[e.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[e.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),e.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),e.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),e.jsx("div",{className:"amount-received-section",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[e.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),e.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"success-card settlement-card",children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),e.jsx("tbody",{children:n.invoiceUpdates.map(o=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:o.invoiceNumber}),e.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",o.totalPaidAmount.toFixed(2)]}),e.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:o.balanceAmount>0?"#dc2626":"#059669"},children:["",o.balanceAmount.toFixed(2)]}),e.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:e.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:o.status==="Paid"?"#d1fae5":o.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:o.status==="Paid"?"#065f46":o.status==="Partially Paid"?"#92400e":"#3730a3"},children:o.status==="Generated"?"DUE":o.status})})]},o.invoiceId))})]})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{onClick:a,className:"primary-action-btn",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),e.jsx("button",{onClick:s,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:e.jsx("p",{children:"No payment data found. Redirecting..."})})},kJ=()=>{const{logout:t}=ya(),r=In();ds();const[n,a]=M.useState(""),[s,o]=M.useState(""),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState([]),[f,m]=M.useState([]),[v,g]=M.useState(!1),[x,y]=M.useState(null),[j,N]=M.useState(null),[T,I]=M.useState(!1),C=()=>{I(!T)},[D,_]=M.useState({paymentId:"",receiptDate:"",notes:null});M.useEffect(()=>{Z()},[]),M.useEffect(()=>{f.length>0&&(s?ae(s):ae())},[s,f.length]);const Z=async()=>{var K,W;try{g(!0),y(null);const ge=(await Ha.getAllCompanies(!0)).map(Ee=>({id:Ee.id,companyCode:Ee.companyCode,companyName:Ee.companyName,status:Ee.status}));m(ge),console.log("Loaded companies:",ge.length),await ae(),y(null)}catch(Ne){console.error("Error loading data:",Ne);const ge=Ne.message||((W=(K=Ne.response)==null?void 0:K.data)==null?void 0:W.message)||"Failed to load data";y(ge)}finally{g(!1)}},ae=async K=>{var W,Ne;try{g(!0),y(null);const ge=await gJ(K),Ee=Array.isArray(ge)?ge:[];u(Ee),y(null),Ee.length>0&&(console.log("Payments loaded:",Ee.length),console.log("Payment company IDs:",Ee.map(Fe=>Fe.companyId)),console.log("Available companies:",f.map(Fe=>({id:Fe.id,name:Fe.companyName}))))}catch(ge){console.error("Error loading payments:",ge);const Ee=ge.message||((Ne=(W=ge.response)==null?void 0:W.data)==null?void 0:Ne.message)||"Failed to load payments";y(Ee),u([])}finally{g(!1)}},V=K=>{i(K),_({paymentId:K.paymentId,receiptDate:K.paymentDate,notes:null}),l(!0)},ie=async()=>{if(!D.paymentId){y("Please select a payment");return}try{g(!0),y(null),N(null);const K=await vJ(D);N(`Receipt ${K.data.receipt.receiptNumber} created successfully!`),l(!1),i(null),_({paymentId:"",receiptDate:"",notes:null}),await ae(s||void 0)}catch(K){console.error("Error creating receipt:",K),y(K.message||"Failed to create receipt")}finally{g(!1)}},U=d.filter(K=>{var ge,Ee;const W=K.paymentId.toLowerCase().includes(n.toLowerCase())||((ge=K.receiptNumber)==null?void 0:ge.toLowerCase().includes(n.toLowerCase()))||((Ee=f.find(Fe=>Fe.id===K.companyId))==null?void 0:Ee.companyName.toLowerCase().includes(n.toLowerCase())),Ne=!s||K.companyId===s;return W&&Ne}),G=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${T?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!T&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:C,"aria-label":T?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:G.map(K=>e.jsx("li",{children:e.jsxs(Zr,{to:K.path,className:`nav-link ${K.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:K.icon}),!T&&e.jsx("span",{className:"nav-label",children:K.label})]})},K.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!T&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!T&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Finance / Receipt Management"})})}),e.jsxs("div",{className:"invoice-management-page",children:[e.jsx("div",{className:"invoice-management-header",children:e.jsx("h1",{className:"invoice-management-title",children:"Receipt Management"})}),x&&e.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[x,e.jsx("button",{onClick:()=>y(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),j&&e.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[j,e.jsx("button",{onClick:()=>N(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),e.jsxs("div",{className:"invoice-management-actions",children:[e.jsxs("div",{className:"invoice-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by payment ID, receipt number, or company...",value:n,onChange:K=>a(K.target.value)})]}),e.jsxs("select",{className:"status-filter-select",value:s,onChange:K=>o(K.target.value),children:[e.jsx("option",{value:"",children:"All Companies"}),f.filter(K=>K.status==="Active").map(K=>e.jsx("option",{value:K.id,children:K.companyName},K.id))]})]}),e.jsx("div",{className:"invoice-table-container",children:v&&d.length===0?e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading payments..."}):U.length===0?e.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:d.length===0?"No payments found without receipts":"No payments match your search criteria"}):e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Payment ID"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Payment Amount"}),e.jsx("th",{children:"Payment Mode"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:U.map(K=>{const W=f.find(Ne=>Ne.id===K.companyId);return e.jsxs("tr",{children:[e.jsxs("td",{children:[K.paymentId.substring(0,8),"..."]}),e.jsx("td",{children:(W==null?void 0:W.companyName)||K.companyId||"-"}),e.jsx("td",{children:K.paymentDate}),e.jsxs("td",{style:{fontWeight:600},children:["",Number(K.paymentAmount).toFixed(2)]}),e.jsx("td",{children:K.paymentMode}),e.jsx("td",{children:e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:K.status==="Completed"?"#d1fae5":"#fef3c7",color:K.status==="Completed"?"#065f46":"#92400e"},children:K.status})}),e.jsx("td",{children:e.jsx("button",{onClick:()=>V(K),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Create Receipt"})})]},K.paymentId)})})]})}),c&&h&&e.jsx("div",{className:"modal-overlay",onClick:()=>l(!1),children:e.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Create Receipt"}),e.jsx("button",{onClick:()=>l(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"grid",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),e.jsxs("span",{style:{fontWeight:600},children:[h.paymentId.substring(0,8),"..."]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),e.jsxs("span",{style:{fontWeight:600},children:["",Number(h.paymentAmount).toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),e.jsx("span",{children:h.paymentDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),e.jsx("span",{children:h.paymentMode})]})]})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"date",value:D.receiptDate||"",onChange:K=>_({...D,receiptDate:K.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),e.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:D.notes||"",onChange:K=>_({...D,notes:K.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>l(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:ie,disabled:v||!D.receiptDate,style:{padding:"10px 20px",background:v||!D.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:v||!D.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:v?"Creating...":"Create Receipt"})]})]})})]})]})]})},EO="http://localhost:3000/api/v1",IO=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},mg=async(t,r={})=>{const n=IO(),a={"Content-Type":"application/json",...r.headers};n&&(a.Authorization=`Bearer ${n}`);const s=await fetch(`${EO}${t}`,{...r,headers:a});if(!s.ok){let c=`HTTP error! status: ${s.status}`;try{const h=await s.json();c=h.message||h.error||c,h.message&&typeof h.message=="object"&&(c=JSON.stringify(h.message))}catch{s.status===500?c="Internal server error":s.status===401?c="Unauthorized. Please login again.":s.status===403?c="Forbidden. You do not have permission.":s.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=s.status,l.response={status:s.status},l}return(await s.json()).data},TJ=async t=>{const r=t?`?companyId=${t}`:"";return mg(`/fin-balance${r}`,{method:"GET"})},FJ=async t=>mg("/fin-balance",{method:"POST",body:JSON.stringify(t)}),PJ=async(t,r)=>mg(`/fin-balance/${t}`,{method:"PUT",body:JSON.stringify(r)}),OJ=async t=>mg(`/fin-balance/${t}`,{method:"DELETE"}),MJ=async t=>{const r=IO(),n=new FormData;n.append("file",t);const a=await fetch(`${EO}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:n});if(!a.ok){let o=`HTTP error! status: ${a.status}`;try{const c=await a.json();o=c.message||c.error||o}catch{o="Failed to preview bulk upload"}throw new Error(o)}return(await a.json()).data},DJ=async t=>mg("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:t})}),_J=()=>{const{logout:t}=ya(),r=In();ds();const n=M.useRef(null),[a,s]=M.useState(""),[o,c]=M.useState(""),[l,h]=M.useState([]),[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState(!1),[g,x]=M.useState(null),[y,j]=M.useState(null),[N,T]=M.useState(!1),I=()=>{T(!N)},[C,D]=M.useState(!1),[_,Z]=M.useState(!1),[ae,V]=M.useState(!1),[ie,U]=M.useState(null),[G,K]=M.useState(null),[W,Ne]=M.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});M.useEffect(()=>{ge()},[]),M.useEffect(()=>{o?Ee(o):Ee()},[o]);const ge=async()=>{try{v(!0),x(null);const X=await Ha.getAllCompanies(!0);d(X.map(oe=>({id:oe.id,companyCode:oe.companyCode,companyName:oe.companyName,status:oe.status})));const fe=await Ei.getAllHcfs(void 0,!1);f(fe.map(oe=>{var We;return{id:oe.id,hcfCode:oe.hcfCode,hcfName:oe.hcfName,companyId:oe.companyId,companyName:((We=X.find(Ue=>Ue.id===oe.companyId))==null?void 0:We.companyName)||""}})),await Ee()}catch(X){console.error("Error loading data:",X),x(X.message||"Failed to load data")}finally{v(!1)}},Ee=async X=>{var fe,oe;try{v(!0),x(null);const We=await TJ(X);h(Array.isArray(We)?We:[]),x(null)}catch(We){console.error("Error loading balances:",We);const Ue=We.message||((oe=(fe=We.response)==null?void 0:fe.data)==null?void 0:oe.message)||"Failed to load balances";x(Ue),h([])}finally{v(!1)}},Fe=async X=>{var oe;const fe=(oe=X.target.files)==null?void 0:oe[0];if(fe)try{v(!0),x(null),j(null);const We=await MJ(fe);K(We),V(!0)}catch(We){console.error("Error previewing upload:",We),x(We.message||"Failed to preview Excel file")}finally{v(!1),n.current&&(n.current.value="")}},he=async()=>{if(G)try{v(!0),x(null),j(null);const X=await DJ(G),fe=X.created.length+X.updated.length;j(`Successfully processed ${fe} records (${X.created.length} created, ${X.updated.length} updated)`),V(!1),K(null),await Ee(o||void 0)}catch(X){console.error("Error executing bulk upload:",X),x(X.message||"Failed to execute bulk upload")}finally{v(!1)}},le=()=>{Ne({companyId:"",hcfId:"",openingBalance:0,notes:null}),D(!0)},ve=X=>{U(X),Ne({companyId:X.companyId,hcfId:X.hcfId,openingBalance:X.openingBalance,notes:X.notes}),Z(!0)},se=async X=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{v(!0),x(null),await OJ(X),j("Financial balance deleted successfully"),await Ee(o||void 0)}catch(fe){console.error("Error deleting balance:",fe),x(fe.message||"Failed to delete financial balance")}finally{v(!1)}},re=async()=>{try{v(!0),x(null),j(null),await FJ(W),j("Financial balance created successfully"),D(!1),Ne({companyId:"",hcfId:"",openingBalance:0,notes:null}),await Ee(o||void 0)}catch(X){console.error("Error creating balance:",X),x(X.message||"Failed to create financial balance")}finally{v(!1)}},Ie=async()=>{if(ie)try{v(!0),x(null),j(null);const X={openingBalance:W.openingBalance,notes:W.notes};await PJ(ie.finBalanceId,X),j("Financial balance updated successfully (current balance reset to opening balance)"),Z(!1),U(null),await Ee(o||void 0)}catch(X){console.error("Error updating balance:",X),x(X.message||"Failed to update financial balance")}finally{v(!1)}},Te=l.filter(X=>{var We,Ue,ue,be;const fe=((We=X.companyName)==null?void 0:We.toLowerCase().includes(a.toLowerCase()))||((Ue=X.companyCode)==null?void 0:Ue.toLowerCase().includes(a.toLowerCase()))||((ue=X.hcfCode)==null?void 0:ue.toLowerCase().includes(a.toLowerCase()))||((be=X.hcfName)==null?void 0:be.toLowerCase().includes(a.toLowerCase())),oe=!o||X.companyId===o;return fe&&oe}),xe=W.companyId?u.filter(X=>X.companyId===W.companyId):[],pe=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${N?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!N&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:I,"aria-label":N?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:pe.map(X=>e.jsx("li",{children:e.jsxs(Zr,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:X.icon}),!N&&e.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!N&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!N&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Finance / Financial Balance Summary"})})}),e.jsxs("div",{className:"invoice-management-page",children:[e.jsx("div",{className:"invoice-management-header",children:e.jsx("h1",{className:"invoice-management-title",children:"Financial Balance Summary"})}),g&&e.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[g,e.jsx("button",{onClick:()=>x(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),y&&e.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[y,e.jsx("button",{onClick:()=>j(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),e.jsxs("div",{className:"invoice-management-actions",children:[e.jsxs("div",{className:"invoice-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by company, HCF code, or name...",value:a,onChange:X=>s(X.target.value)})]}),e.jsxs("select",{className:"status-filter-select",value:o,onChange:X=>c(X.target.value),children:[e.jsx("option",{value:"",children:"All Companies"}),i.filter(X=>X.status==="Active").map(X=>e.jsx("option",{value:X.id,children:X.companyName},X.id))]}),e.jsxs("label",{className:"export-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",e.jsx("input",{ref:n,type:"file",accept:".xlsx,.xls",onChange:Fe,style:{display:"none"}})]}),e.jsxs("button",{className:"add-invoice-btn",onClick:le,disabled:m,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]}),e.jsx("div",{className:"invoice-table-container",children:m&&l.length===0?e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading balances..."}):Te.length===0?e.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:l.length===0?"No financial balance records found":"No records match your search criteria"}):e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Opening Balance"}),e.jsx("th",{children:"Current Balance"}),e.jsx("th",{children:"Is Manual"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Te.map(X=>e.jsxs("tr",{children:[e.jsx("td",{children:X.companyName||"-"}),e.jsx("td",{children:X.hcfCode||"-"}),e.jsx("td",{children:X.hcfName||"-"}),e.jsxs("td",{style:{fontWeight:600},children:["",Number(X.openingBalance).toFixed(2)]}),e.jsxs("td",{style:{fontWeight:600,color:X.currentBalance<0?"#dc2626":"#059669"},children:["",Number(X.currentBalance).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:X.isManual?"#dbeafe":"#f3f4f6",color:X.isManual?"#1e40af":"#6b7280"},children:X.isManual?"Manual":"Auto"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>ve(X),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Edit"}),e.jsx("button",{onClick:()=>se(X.finBalanceId),style:{padding:"6px 12px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Delete"})]})})]},X.finBalanceId))})]})}),C&&e.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:e.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Add Financial Balance"}),e.jsx("button",{onClick:()=>D(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsxs("select",{value:W.companyId,onChange:X=>Ne({...W,companyId:X.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Select Company"}),i.filter(X=>X.status==="Active").map(X=>e.jsx("option",{value:X.id,children:X.companyName},X.id))]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsxs("select",{value:W.hcfId,onChange:X=>Ne({...W,hcfId:X.target.value}),required:!0,disabled:!W.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:W.companyId?"#fff":"#f1f5f9"},children:[e.jsx("option",{value:"",children:W.companyId?"Select HCF":"Select Company first"}),xe.map(X=>e.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:W.openingBalance,onChange:X=>Ne({...W,openingBalance:parseFloat(X.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:W.notes||"",onChange:X=>Ne({...W,notes:X.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>D(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:re,disabled:m||!W.companyId||!W.hcfId||W.openingBalance<0,style:{padding:"10px 20px",background:m||!W.companyId||!W.hcfId||W.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:m||!W.companyId||!W.hcfId||W.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:m?"Creating...":"Create"})]})]})}),_&&ie&&e.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:e.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Financial Balance"}),e.jsx("button",{onClick:()=>Z(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[e.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),e.jsx("input",{type:"text",value:ie.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),e.jsx("input",{type:"text",value:`${ie.hcfCode||""} - ${ie.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:W.openingBalance,onChange:X=>Ne({...W,openingBalance:parseFloat(X.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),e.jsx("input",{type:"text",value:`${Number(ie.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),e.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:W.notes||"",onChange:X=>Ne({...W,notes:X.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>Z(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:Ie,disabled:m||W.openingBalance<0,style:{padding:"10px 20px",background:m||W.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:m||W.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:m?"Updating...":"Update"})]})]})}),ae&&G&&e.jsx("div",{className:"modal-overlay",onClick:()=>V(!1),children:e.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Preview Bulk Upload"}),e.jsx("button",{onClick:()=>V(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:G.inserts.length})]}),e.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:G.updates.length})]}),e.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:G.errors.length+G.parseErrors.length})]})]}),G.parseErrors.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),e.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:G.parseErrors.map((X,fe)=>e.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[e.jsxs("strong",{children:["Row ",X.row,":"]})," ",X.message]},fe))})]}),G.errors.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),e.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:G.errors.map((X,fe)=>e.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[e.jsxs("strong",{children:["Row ",X.row,":"]})," ",X.message]},fe))})]}),(G.inserts.length>0||G.updates.length>0)&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),e.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[e.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),e.jsxs("tbody",{children:[G.inserts.map((X,fe)=>{const oe=i.find(Ue=>Ue.id===X.companyId),We=u.find(Ue=>Ue.id===X.hcfId);return e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),e.jsx("td",{style:{padding:"10px"},children:(oe==null?void 0:oe.companyName)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfCode)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfName)||"-"}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(X.openingBalance).toFixed(2)]})]},`insert-${fe}`)}),G.updates.map((X,fe)=>{const oe=i.find(Ue=>Ue.id===X.data.companyId),We=u.find(Ue=>Ue.id===X.data.hcfId);return e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),e.jsx("td",{style:{padding:"10px"},children:(oe==null?void 0:oe.companyName)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfCode)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(We==null?void 0:We.hcfName)||"-"}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(X.data.openingBalance).toFixed(2)]})]},`update-${fe}`)})]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>V(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:he,disabled:m||G.inserts.length===0&&G.updates.length===0,style:{padding:"10px 20px",background:m||G.inserts.length===0&&G.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:m||G.inserts.length===0&&G.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:m?"Processing...":"Save All"})]})]})})]})]})]})},LJ="http://localhost:3000/api/v1",UJ=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},Vp=async(t,r={})=>{const n=UJ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${LJ}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?o=c.message.join(", "):typeof c.message=="string"?o=c.message:o=String(c.message):c.error&&(typeof c.error=="string"?o=c.error:c.error.message?o=typeof c.error.message=="string"?c.error.message:String(c.error.message):o=JSON.stringify(c.error));const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l.errorData=c,l}catch{const l=new Error(o);throw l.status=s.status,l.statusText=s.statusText,l}}return s.status===204?{}:s.json()},JA={generateLabels:async t=>(await Vp("/barcode-labels",{method:"POST",body:JSON.stringify(t)})).data,getBarcodeLabelById:async t=>(await Vp(`/barcode-labels/${t}`,{method:"GET"})).data,getAllBarcodeLabels:async(t,r,n,a)=>{let s="/barcode-labels";const o=new URLSearchParams;return t&&o.append("companyId",t),r&&o.append("hcfId",r),n&&o.append("hcfCode",n),a&&o.append("barcodeType",a),o.toString()&&(s+=`?${o.toString()}`),(await Vp(s,{method:"GET"})).data},getLastSequence:async(t,r)=>(await Vp(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(t)}&barcodeType=${encodeURIComponent(r)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async t=>{await Vp(`/barcode-labels/${t}`,{method:"DELETE"})}};var Rg={},Kp={},Qg={},lk;function gd(){if(lk)return Qg;lk=1,Object.defineProperty(Qg,"__esModule",{value:!0});function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=function n(a,s){t(this,n),this.data=a,this.text=s.text||a,this.options=s};return Qg.default=r,Qg}var ck;function RJ(){if(ck)return Kp;ck=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.CODE39=void 0;var t=(function(){function g(x,y){for(var j=0;j<y.length;j++){var N=y[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,j){return y&&g(x.prototype,y),j&&g(x,j),x}})(),r=gd(),n=a(r);function a(g){return g&&g.__esModule?g:{default:g}}function s(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function o(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function c(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var l=(function(g){c(x,g);function x(y,j){return s(this,x),y=y.toUpperCase(),j.mod43&&(y+=f(v(y))),o(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,j))}return t(x,[{key:"encode",value:function(){for(var j=d("*"),N=0;N<this.data.length;N++)j+=d(this.data[N])+"0";return j+=d("*"),{data:j,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],i=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function d(g){return u(m(g))}function u(g){return i[g].toString(2)}function f(g){return h[g]}function m(g){return h.indexOf(g)}function v(g){for(var x=0,y=0;y<g.length;y++)x+=m(g[y]);return x=x%43,x}return Kp.CODE39=l,Kp}var lu={},Hg={},Wg={},Eo={},dk;function gg(){if(dk)return Eo;dk=1,Object.defineProperty(Eo,"__esModule",{value:!0});var t;function r(h,i,d){return i in h?Object.defineProperty(h,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[i]=d,h}var n=Eo.SET_A=0,a=Eo.SET_B=1,s=Eo.SET_C=2;Eo.SHIFT=98;var o=Eo.START_A=103,c=Eo.START_B=104,l=Eo.START_C=105;return Eo.MODULO=103,Eo.STOP=106,Eo.FNC1=207,Eo.SET_BY_CODE=(t={},r(t,o,n),r(t,c,a),r(t,l,s),t),Eo.SWAP={101:n,100:a,99:s},Eo.A_START_CHAR="",Eo.B_START_CHAR="",Eo.C_START_CHAR="",Eo.A_CHARS="[\0-_-]",Eo.B_CHARS="[ --]",Eo.C_CHARS="(*[0-9]{2}*)",Eo.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Eo}var uk;function m1(){if(uk)return Wg;uk=1,Object.defineProperty(Wg,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=gd(),n=s(r),a=gg();function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(u,f){o(this,d);var m=c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u.substring(1),f));return m.bytes=u.split("").map(function(v){return v.charCodeAt(0)}),m}return t(d,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.bytes,m=f.shift()-105,v=a.SET_BY_CODE[m];if(v===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&f.unshift(a.FNC1);var g=d.next(f,1,v);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:d.getBar(m)+g.result+d.getBar((g.checksum+m)%a.MODULO)+d.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var f=this.options.ean128||!1;return typeof f=="string"&&(f=f.toLowerCase()==="true"),f}}],[{key:"getBar",value:function(f){return a.BARS[f]?a.BARS[f].toString():""}},{key:"correctIndex",value:function(f,m){if(m===a.SET_A){var v=f.shift();return v<32?v+64:v-32}else return m===a.SET_B?f.shift()-32:(f.shift()-48)*10+f.shift()-48}},{key:"next",value:function(f,m,v){if(!f.length)return{result:"",checksum:0};var g=void 0,x=void 0;if(f[0]>=200){x=f.shift()-105;var y=a.SWAP[x];y!==void 0?g=d.next(f,m+1,y):((v===a.SET_A||v===a.SET_B)&&x===a.SHIFT&&(f[0]=v===a.SET_A?f[0]>95?f[0]-96:f[0]:f[0]<32?f[0]+96:f[0]),g=d.next(f,m+1,v))}else x=d.correctIndex(f,v),g=d.next(f,m+1,v);var j=d.getBar(x),N=x*m;return{result:j+g.result,checksum:N+g.checksum}}}]),d})(n.default);return Wg.default=h,Wg}var $g={},Ak;function QJ(){if(Ak)return $g;Ak=1,Object.defineProperty($g,"__esModule",{value:!0});var t=gg(),r=function(l){return l.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},n=function(l){return l.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},a=function(l){return l.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function s(c,l){var h=l?t.A_CHARS:t.B_CHARS,i=c.match(new RegExp("^("+h+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+""+o(c.substring(i[1].length));var d=c.match(new RegExp("^"+h+"+"))[0];return d.length===c.length?c:d+String.fromCharCode(l?205:206)+s(c.substring(d.length),!l)}function o(c){var l=a(c),h=l.length;if(h===c.length)return c;c=c.substring(h);var i=r(c)>=n(c);return l+String.fromCharCode(i?206:205)+s(c,i)}return $g.default=function(c){var l=void 0,h=a(c).length;if(h>=2)l=t.C_START_CHAR+o(c);else{var i=r(c)>n(c);l=(i?t.A_START_CHAR:t.B_START_CHAR)+s(c,i)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(d,u){return""+u})},$g}var hk;function HJ(){if(hk)return Hg;hk=1,Object.defineProperty(Hg,"__esModule",{value:!0});var t=m1(),r=s(t),n=QJ(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(u,f){if(o(this,d),/^[\x00-\x7F\xC8-\xD3]+$/.test(u))var m=c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,(0,a.default)(u),f));else var m=c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f));return c(m)}return d})(r.default);return Hg.default=h,Hg}var zg={},fk;function WJ(){if(fk)return zg;fk=1,Object.defineProperty(zg,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=m1(),n=s(r),a=gg();function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(u,f){return o(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a.A_START_CHAR+u,f))}return t(d,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),d})(n.default);return zg.default=h,zg}var Vg={},pk;function $J(){if(pk)return Vg;pk=1,Object.defineProperty(Vg,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=m1(),n=s(r),a=gg();function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(u,f){return o(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a.B_START_CHAR+u,f))}return t(d,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),d})(n.default);return Vg.default=h,Vg}var Kg={},mk;function zJ(){if(mk)return Kg;mk=1,Object.defineProperty(Kg,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=m1(),n=s(r),a=gg();function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(u,f){return o(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a.C_START_CHAR+u,f))}return t(d,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),d})(n.default);return Kg.default=h,Kg}var gk;function VJ(){if(gk)return lu;gk=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.CODE128C=lu.CODE128B=lu.CODE128A=lu.CODE128=void 0;var t=HJ(),r=h(t),n=WJ(),a=h(n),s=$J(),o=h(s),c=zJ(),l=h(c);function h(i){return i&&i.__esModule?i:{default:i}}return lu.CODE128=r.default,lu.CODE128A=a.default,lu.CODE128B=o.default,lu.CODE128C=l.default,lu}var Ec={},Gg={},rA={},vk;function vg(){return vk||(vk=1,Object.defineProperty(rA,"__esModule",{value:!0}),rA.SIDE_BIN="101",rA.MIDDLE_BIN="01010",rA.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},rA.EAN2_STRUCTURE=["LL","LG","GL","GG"],rA.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],rA.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),rA}var qg={},Xg={},xk;function xg(){if(xk)return Xg;xk=1,Object.defineProperty(Xg,"__esModule",{value:!0});var t=vg(),r=function(a,s,o){var c=a.split("").map(function(h,i){return t.BINARIES[s[i]]}).map(function(h,i){return h?h[a[i]]:""});if(o){var l=a.length-1;c=c.map(function(h,i){return i<l?h+o:h})}return c.join("")};return Xg.default=r,Xg}var yk;function kO(){if(yk)return qg;yk=1,Object.defineProperty(qg,"__esModule",{value:!0});var t=(function(){function u(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&u(f.prototype,m),v&&u(f,v),f}})(),r=vg(),n=xg(),a=c(n),s=gd(),o=c(s);function c(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function h(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function i(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=(function(u){i(f,u);function f(m,v){l(this,f);var g=h(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v));return g.fontSize=!v.flat&&v.fontSize>v.width*10?v.width*10:v.fontSize,g.guardHeight=v.height+g.fontSize/2+v.textMargin,g}return t(f,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(v,g){return this.text.substr(v,g)}},{key:"leftEncode",value:function(v,g){return(0,a.default)(v,g)}},{key:"rightText",value:function(v,g){return this.text.substr(v,g)}},{key:"rightEncode",value:function(v,g){return(0,a.default)(v,g)}},{key:"encodeGuarded",value:function(){var v={fontSize:this.fontSize},g={height:this.guardHeight};return[{data:r.SIDE_BIN,options:g},{data:this.leftEncode(),text:this.leftText(),options:v},{data:r.MIDDLE_BIN,options:g},{data:this.rightEncode(),text:this.rightText(),options:v},{data:r.SIDE_BIN,options:g}]}},{key:"encodeFlat",value:function(){var v=[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN];return{data:v.join(""),text:this.text}}}]),f})(o.default);return qg.default=d,qg}var bk;function KJ(){if(bk)return Gg;bk=1,Object.defineProperty(Gg,"__esModule",{value:!0});var t=(function(){function u(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&u(f.prototype,m),v&&u(f,v),f}})(),r=function u(f,m,v){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,m);if(g===void 0){var x=Object.getPrototypeOf(f);return x===null?void 0:u(x,m,v)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(v)}},n=vg(),a=kO(),s=o(a);function o(u){return u&&u.__esModule?u:{default:u}}function c(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function l(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function h(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var i=function(f){var m=f.substr(0,12).split("").map(function(v){return+v}).reduce(function(v,g,x){return x%2?v+g*3:v+g},0);return(10-m%10)%10},d=(function(u){h(f,u);function f(m,v){c(this,f),m.search(/^[0-9]{12}$/)!==-1&&(m+=i(m));var g=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v));return g.lastChar=v.lastChar,g}return t(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===i(this.data)}},{key:"leftText",value:function(){return r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var v=this.data.substr(1,6),g=n.EAN13_STRUCTURE[this.data[0]];return r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,v,g)}},{key:"rightText",value:function(){return r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var v=this.data.substr(7,6);return r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,v,"RRRRRR")}},{key:"encodeGuarded",value:function(){var v=r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(v.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(v.push({data:"00"}),v.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),v}}]),f})(s.default);return Gg.default=d,Gg}var Yg={},jk;function GJ(){if(jk)return Yg;jk=1,Object.defineProperty(Yg,"__esModule",{value:!0});var t=(function(){function d(u,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}return function(u,f,m){return f&&d(u.prototype,f),m&&d(u,m),u}})(),r=function d(u,f,m){u===null&&(u=Function.prototype);var v=Object.getOwnPropertyDescriptor(u,f);if(v===void 0){var g=Object.getPrototypeOf(u);return g===null?void 0:d(g,f,m)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(m)}},n=kO(),a=s(n);function s(d){return d&&d.__esModule?d:{default:d}}function o(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function c(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function l(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var h=function(u){var f=u.substr(0,7).split("").map(function(m){return+m}).reduce(function(m,v,g){return g%2?m+v:m+v*3},0);return(10-f%10)%10},i=(function(d){l(u,d);function u(f,m){return o(this,u),f.search(/^[0-9]{7}$/)!==-1&&(f+=h(f)),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f,m))}return t(u,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===h(this.data)}},{key:"leftText",value:function(){return r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var m=this.data.substr(0,4);return r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"leftEncode",this).call(this,m,"LLLL")}},{key:"rightText",value:function(){return r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var m=this.data.substr(4,4);return r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"rightEncode",this).call(this,m,"RRRR")}}]),u})(a.default);return Yg.default=i,Yg}var Jg={},wk;function qJ(){if(wk)return Jg;wk=1,Object.defineProperty(Jg,"__esModule",{value:!0});var t=(function(){function f(m,v){for(var g=0;g<v.length;g++){var x=v[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,g){return v&&f(m.prototype,v),g&&f(m,g),m}})(),r=vg(),n=xg(),a=c(n),s=gd(),o=c(s);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function h(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function i(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(m){var v=m.split("").map(function(g){return+g}).reduce(function(g,x,y){return y%2?g+x*9:g+x*3},0);return v%10},u=(function(f){i(m,f);function m(v,g){return l(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,g))}return t(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var g=r.EAN5_STRUCTURE[d(this.data)];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),m})(o.default);return Jg.default=u,Jg}var Zg={},Ck;function XJ(){if(Ck)return Zg;Ck=1,Object.defineProperty(Zg,"__esModule",{value:!0});var t=(function(){function u(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&u(f.prototype,m),v&&u(f,v),f}})(),r=vg(),n=xg(),a=c(n),s=gd(),o=c(s);function c(u){return u&&u.__esModule?u:{default:u}}function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function h(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function i(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var d=(function(u){i(f,u);function f(m,v){return l(this,f),h(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v))}return t(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var v=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,v,"01"),text:this.text}}}]),f})(o.default);return Zg.default=d,Zg}var Gp={},Nk;function TO(){if(Nk)return Gp;Nk=1,Object.defineProperty(Gp,"__esModule",{value:!0});var t=(function(){function u(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&u(f.prototype,m),v&&u(f,v),f}})();Gp.checksum=d;var r=xg(),n=o(r),a=gd(),s=o(a);function o(u){return u&&u.__esModule?u:{default:u}}function c(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function l(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function h(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var i=(function(u){h(f,u);function f(m,v){c(this,f),m.search(/^[0-9]{11}$/)!==-1&&(m+=d(m));var g=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v));return g.displayValue=v.displayValue,v.fontSize>v.width*10?g.fontSize=v.width*10:g.fontSize=v.fontSize,g.guardHeight=v.height+g.fontSize/2+v.textMargin,g}return t(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==d(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var v="";return v+="101",v+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),v+="01010",v+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),v+="101",{data:v,text:this.text}}},{key:"guardedEncoding",value:function(){var v=[];return this.displayValue&&v.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),v.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),v.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),v.push({data:"01010",options:{height:this.guardHeight}}),v.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),v.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&v.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),v}}]),f})(s.default);function d(u){var f=0,m;for(m=1;m<11;m+=2)f+=parseInt(u[m]);for(m=0;m<11;m+=2)f+=parseInt(u[m])*3;return(10-f%10)%10}return Gp.default=i,Gp}var ev={},Bk;function YJ(){if(Bk)return ev;Bk=1,Object.defineProperty(ev,"__esModule",{value:!0});var t=(function(){function v(g,x){for(var y=0;y<x.length;y++){var j=x[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,x,y){return x&&v(g.prototype,x),y&&v(g,y),g}})(),r=xg(),n=c(r),a=gd(),s=c(a),o=TO();function c(v){return v&&v.__esModule?v:{default:v}}function l(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function i(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var d=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],u=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f=(function(v){i(g,v);function g(x,y){l(this,g);var j=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,x,y));if(j.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)j.middleDigits=x,j.upcA=m(x,"0"),j.text=y.text||""+j.upcA[0]+x+j.upcA[j.upcA.length-1],j.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(j.middleDigits=x.substring(1,x.length-1),j.upcA=m(j.middleDigits,x[0]),j.upcA[j.upcA.length-1]===x[x.length-1])j.isValid=!0;else return h(j);else return h(j);return j.displayValue=y.displayValue,y.fontSize>y.width*10?j.fontSize=y.width*10:j.fontSize=y.fontSize,j.guardHeight=y.height+j.fontSize/2+y.textMargin,j}return t(g,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],j=this.upcA[this.upcA.length-1],N=u[parseInt(j)][parseInt(y)];return(0,n.default)(this.middleDigits,N)}}]),g})(s.default);function m(v,g){for(var x=parseInt(v[v.length-1]),y=d[x],j="",N=0,T=0;T<y.length;T++){var I=y[T];I==="X"?j+=v[N++]:j+=I}return j=""+g+j,""+j+(0,o.checksum)(j)}return ev.default=f,ev}var Sk;function JJ(){if(Sk)return Ec;Sk=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.UPCE=Ec.UPC=Ec.EAN2=Ec.EAN5=Ec.EAN8=Ec.EAN13=void 0;var t=KJ(),r=f(t),n=GJ(),a=f(n),s=qJ(),o=f(s),c=XJ(),l=f(c),h=TO(),i=f(h),d=YJ(),u=f(d);function f(m){return m&&m.__esModule?m:{default:m}}return Ec.EAN13=r.default,Ec.EAN8=a.default,Ec.EAN5=o.default,Ec.EAN2=l.default,Ec.UPC=i.default,Ec.UPCE=u.default,Ec}var Ih={},tv={},bf={},Ek;function ZJ(){return Ek||(Ek=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.START_BIN="1010",bf.END_BIN="11101",bf.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),bf}var Ik;function FO(){if(Ik)return tv;Ik=1,Object.defineProperty(tv,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=ZJ(),n=gd(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(){return o(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return t(d,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var f=this,m=this.data.match(/.{2}/g).map(function(v){return f.encodePair(v)}).join("");return{data:r.START_BIN+m+r.END_BIN,text:this.text}}},{key:"encodePair",value:function(f){var m=r.BINARIES[f[1]];return r.BINARIES[f[0]].split("").map(function(v,g){return(v==="1"?"111":"1")+(m[g]==="1"?"000":"0")}).join("")}}]),d})(a.default);return tv.default=h,tv}var rv={},kk;function eZ(){if(kk)return rv;kk=1,Object.defineProperty(rv,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=FO(),n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}function s(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function o(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function c(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var l=function(d){var u=d.substr(0,13).split("").map(function(f){return parseInt(f,10)}).reduce(function(f,m,v){return f+m*(3-v%2*2)},0);return Math.ceil(u/10)*10-u},h=(function(i){c(d,i);function d(u,f){return s(this,d),u.search(/^[0-9]{13}$/)!==-1&&(u+=l(u)),o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return t(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),d})(n.default);return rv.default=h,rv}var Tk;function tZ(){if(Tk)return Ih;Tk=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.ITF14=Ih.ITF=void 0;var t=FO(),r=s(t),n=eZ(),a=s(n);function s(o){return o&&o.__esModule?o:{default:o}}return Ih.ITF=r.default,Ih.ITF14=a.default,Ih}var od={},nv={},Fk;function yg(){if(Fk)return nv;Fk=1,Object.defineProperty(nv,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=gd(),n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}function s(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function o(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function c(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var l=(function(i){c(d,i);function d(u,f){return s(this,d),o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return t(d,[{key:"encode",value:function(){for(var f="110",m=0;m<this.data.length;m++){var v=parseInt(this.data[m]),g=v.toString(2);g=h(g,4-g.length);for(var x=0;x<g.length;x++)f+=g[x]=="0"?"100":"110"}return f+="1001",{data:f,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),d})(n.default);function h(i,d){for(var u=0;u<d;u++)i="0"+i;return i}return nv.default=l,nv}var av={},qp={},Pk;function g1(){if(Pk)return qp;Pk=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.mod10=t,qp.mod11=r;function t(n){for(var a=0,s=0;s<n.length;s++){var o=parseInt(n[s]);(s+n.length)%2===0?a+=o:a+=o*2%10+Math.floor(o*2/10)}return(10-a%10)%10}function r(n){for(var a=0,s=[2,3,4,5,6,7],o=0;o<n.length;o++){var c=parseInt(n[n.length-1-o]);a+=s[o%s.length]*c}return(11-a%11)%11}return qp}var Ok;function rZ(){if(Ok)return av;Ok=1,Object.defineProperty(av,"__esModule",{value:!0});var t=yg(),r=a(t),n=g1();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){return s(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d+(0,n.mod10)(d),u))}return i})(r.default);return av.default=l,av}var sv={},Mk;function nZ(){if(Mk)return sv;Mk=1,Object.defineProperty(sv,"__esModule",{value:!0});var t=yg(),r=a(t),n=g1();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){return s(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d+(0,n.mod11)(d),u))}return i})(r.default);return sv.default=l,sv}var iv={},Dk;function aZ(){if(Dk)return iv;Dk=1,Object.defineProperty(iv,"__esModule",{value:!0});var t=yg(),r=a(t),n=g1();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){return s(this,i),d+=(0,n.mod10)(d),d+=(0,n.mod10)(d),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d,u))}return i})(r.default);return iv.default=l,iv}var ov={},_k;function sZ(){if(_k)return ov;_k=1,Object.defineProperty(ov,"__esModule",{value:!0});var t=yg(),r=a(t),n=g1();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){return s(this,i),d+=(0,n.mod11)(d),d+=(0,n.mod10)(d),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d,u))}return i})(r.default);return ov.default=l,ov}var Lk;function iZ(){if(Lk)return od;Lk=1,Object.defineProperty(od,"__esModule",{value:!0}),od.MSI1110=od.MSI1010=od.MSI11=od.MSI10=od.MSI=void 0;var t=yg(),r=d(t),n=rZ(),a=d(n),s=nZ(),o=d(s),c=aZ(),l=d(c),h=sZ(),i=d(h);function d(u){return u&&u.__esModule?u:{default:u}}return od.MSI=r.default,od.MSI10=a.default,od.MSI11=o.default,od.MSI1010=l.default,od.MSI1110=i.default,od}var Xp={},Uk;function oZ(){if(Uk)return Xp;Uk=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.pharmacode=void 0;var t=(function(){function h(i,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,d,u){return d&&h(i.prototype,d),u&&h(i,u),i}})(),r=gd(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){s(this,i);var f=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d,u));return f.number=parseInt(d,10),f}return t(i,[{key:"encode",value:function(){for(var u=this.number,f="";!isNaN(u)&&u!=0;)u%2===0?(f="11100"+f,u=(u-2)/2):(f="100"+f,u=(u-1)/2);return f=f.slice(0,-2),{data:f,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),i})(n.default);return Xp.pharmacode=l,Xp}var Yp={},Rk;function lZ(){if(Rk)return Yp;Rk=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.codabar=void 0;var t=(function(){function h(i,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,d,u){return d&&h(i.prototype,d),u&&h(i,u),i}})(),r=gd(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){s(this,i),d.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(d="A"+d+"A");var f=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d.toUpperCase(),u));return f.text=f.options.text||f.text.replace(/[A-D]/g,""),f}return t(i,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var u=[],f=this.getEncodings(),m=0;m<this.data.length;m++)u.push(f[this.data.charAt(m)]),m!==this.data.length-1&&u.push("0");return{text:this.text,data:u.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),i})(n.default);return Yp.codabar=l,Yp}var kh={},lv={},jf={},Qk;function cZ(){return Qk||(Qk=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],jf.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],jf.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),jf}var Hk;function PO(){if(Hk)return lv;Hk=1,Object.defineProperty(lv,"__esModule",{value:!0});var t=(function(){function i(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&i(d.prototype,u),f&&i(d,f),d}})(),r=cZ(),n=gd(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function c(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function l(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var h=(function(i){l(d,i);function d(u,f){return o(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,u,f))}return t(d,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.data.split("").flatMap(function(x){return r.MULTI_SYMBOLS[x]||x}),m=f.map(function(x){return d.getEncoding(x)}).join(""),v=d.checksum(f,20),g=d.checksum(f.concat(v),15);return{text:this.text,data:d.getEncoding("")+m+d.getEncoding(v)+d.getEncoding(g)+d.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(f){return r.BINARIES[d.symbolValue(f)]}},{key:"getSymbol",value:function(f){return r.SYMBOLS[f]}},{key:"symbolValue",value:function(f){return r.SYMBOLS.indexOf(f)}},{key:"checksum",value:function(f,m){var v=f.slice().reverse().reduce(function(g,x,y){var j=y%m+1;return g+d.symbolValue(x)*j},0);return d.getSymbol(v%47)}}]),d})(a.default);return lv.default=h,lv}var cv={},Wk;function dZ(){if(Wk)return cv;Wk=1,Object.defineProperty(cv,"__esModule",{value:!0});var t=(function(){function h(i,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,d,u){return d&&h(i.prototype,d),u&&h(i,u),i}})(),r=PO(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){return s(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d,u))}return t(i,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),i})(n.default);return cv.default=l,cv}var $k;function uZ(){if($k)return kh;$k=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.CODE93FullASCII=kh.CODE93=void 0;var t=PO(),r=s(t),n=dZ(),a=s(n);function s(o){return o&&o.__esModule?o:{default:o}}return kh.CODE93=r.default,kh.CODE93FullASCII=a.default,kh}var Jp={},zk;function AZ(){if(zk)return Jp;zk=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.GenericBarcode=void 0;var t=(function(){function h(i,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,d,u){return d&&h(i.prototype,d),u&&h(i,u),i}})(),r=gd(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function o(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:h}function c(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}var l=(function(h){c(i,h);function i(d,u){return s(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d,u))}return t(i,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),i})(n.default);return Jp.GenericBarcode=l,Jp}var Vk;function hZ(){if(Vk)return Rg;Vk=1,Object.defineProperty(Rg,"__esModule",{value:!0});var t=RJ(),r=VJ(),n=JJ(),a=tZ(),s=iZ(),o=oZ(),c=lZ(),l=uZ(),h=AZ();return Rg.default={CODE39:t.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:o.pharmacode,codabar:c.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:h.GenericBarcode},Rg}var dv={},Kk;function v1(){if(Kk)return dv;Kk=1,Object.defineProperty(dv,"__esModule",{value:!0});var t=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r};return dv.default=function(r,n){return t({},r,n)},dv}var uv={},Gk;function fZ(){if(Gk)return uv;Gk=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.default=t;function t(r){var n=[];function a(s){if(Array.isArray(s))for(var o=0;o<s.length;o++)a(s[o]);else s.text=s.text||"",s.data=s.data||"",n.push(s)}return a(r),n}return uv}var Av={},qk;function pZ(){if(qk)return Av;qk=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.default=t;function t(r){return r.marginTop=r.marginTop||r.margin,r.marginBottom=r.marginBottom||r.margin,r.marginRight=r.marginRight||r.margin,r.marginLeft=r.marginLeft||r.margin,r}return Av}var hv={},fv={},pv={},Xk;function OO(){if(Xk)return pv;Xk=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.default=t;function t(r){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof r[a]=="string"&&(r[a]=parseInt(r[a],10)));return typeof r.displayValue=="string"&&(r.displayValue=r.displayValue!="false"),r}return pv}var mv={},Yk;function MO(){if(Yk)return mv;Yk=1,Object.defineProperty(mv,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return mv.default=t,mv}var Jk;function mZ(){if(Jk)return fv;Jk=1,Object.defineProperty(fv,"__esModule",{value:!0});var t=OO(),r=s(t),n=MO(),a=s(n);function s(c){return c&&c.__esModule?c:{default:c}}function o(c){var l={};for(var h in a.default)a.default.hasOwnProperty(h)&&(c.hasAttribute("jsbarcode-"+h.toLowerCase())&&(l[h]=c.getAttribute("jsbarcode-"+h.toLowerCase())),c.hasAttribute("data-"+h.toLowerCase())&&(l[h]=c.getAttribute("data-"+h.toLowerCase())));return l.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),l=(0,r.default)(l),l}return fv.default=o,fv}var gv={},vv={},ld={},Zk;function DO(){if(Zk)return ld;Zk=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.getTotalWidthOfEncodings=ld.calculateEncodingAttributes=ld.getBarcodePadding=ld.getEncodingHeight=ld.getMaximumHeightOfEncodings=void 0;var t=v1(),r=n(t);function n(i){return i&&i.__esModule?i:{default:i}}function a(i,d){return d.height+(d.displayValue&&i.text.length>0?d.fontSize+d.textMargin:0)+d.marginTop+d.marginBottom}function s(i,d,u){if(u.displayValue&&d<i){if(u.textAlign=="center")return Math.floor((i-d)/2);if(u.textAlign=="left")return 0;if(u.textAlign=="right")return Math.floor(i-d)}return 0}function o(i,d,u){for(var f=0;f<i.length;f++){var m=i[f],v=(0,r.default)(d,m.options),g;v.displayValue?g=h(m.text,v,u):g=0;var x=m.data.length*v.width;m.width=Math.ceil(Math.max(g,x)),m.height=a(m,v),m.barcodePadding=s(g,x,v)}}function c(i){for(var d=0,u=0;u<i.length;u++)d+=i[u].width;return d}function l(i){for(var d=0,u=0;u<i.length;u++)i[u].height>d&&(d=i[u].height);return d}function h(i,d,u){var f;if(u)f=u;else if(typeof document<"u")f=document.createElement("canvas").getContext("2d");else return 0;f.font=d.fontOptions+" "+d.fontSize+"px "+d.font;var m=f.measureText(i);if(!m)return 0;var v=m.width;return v}return ld.getMaximumHeightOfEncodings=l,ld.getEncodingHeight=a,ld.getBarcodePadding=s,ld.calculateEncodingAttributes=o,ld.getTotalWidthOfEncodings=c,ld}var eT;function gZ(){if(eT)return vv;eT=1,Object.defineProperty(vv,"__esModule",{value:!0});var t=(function(){function l(h,i){for(var d=0;d<i.length;d++){var u=i[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,i,d){return i&&l(h.prototype,i),d&&l(h,d),h}})(),r=v1(),n=s(r),a=DO();function s(l){return l&&l.__esModule?l:{default:l}}function o(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var c=(function(){function l(h,i,d){o(this,l),this.canvas=h,this.encodings=i,this.options=d}return t(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var d=(0,n.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(d,this.encodings[i]),this.drawCanvasText(d,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,i);var d=(0,a.getTotalWidthOfEncodings)(this.encodings),u=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=d+this.options.marginLeft+this.options.marginRight,this.canvas.height=u,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,d){var u=this.canvas.getContext("2d"),f=d.data,m;i.textPosition=="top"?m=i.marginTop+i.fontSize+i.textMargin:m=i.marginTop,u.fillStyle=i.lineColor;for(var v=0;v<f.length;v++){var g=v*i.width+d.barcodePadding;f[v]==="1"?u.fillRect(g,m,i.width,i.height):f[v]&&u.fillRect(g,m,i.width,i.height*f[v])}}},{key:"drawCanvasText",value:function(i,d){var u=this.canvas.getContext("2d"),f=i.fontOptions+" "+i.fontSize+"px "+i.font;if(i.displayValue){var m,v;i.textPosition=="top"?v=i.marginTop+i.fontSize-i.textMargin:v=i.height+i.textMargin+i.marginTop+i.fontSize,u.font=f,i.textAlign=="left"||d.barcodePadding>0?(m=0,u.textAlign="left"):i.textAlign=="right"?(m=d.width-1,u.textAlign="right"):(m=d.width/2,u.textAlign="center"),u.fillText(d.text,m,v)}}},{key:"moveCanvasDrawing",value:function(i){var d=this.canvas.getContext("2d");d.translate(i.width,0)}},{key:"restoreCanvas",value:function(){var i=this.canvas.getContext("2d");i.restore()}}]),l})();return vv.default=c,vv}var xv={},tT;function vZ(){if(tT)return xv;tT=1,Object.defineProperty(xv,"__esModule",{value:!0});var t=(function(){function h(i,d){for(var u=0;u<d.length;u++){var f=d[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,d,u){return d&&h(i.prototype,d),u&&h(i,u),i}})(),r=v1(),n=s(r),a=DO();function s(h){return h&&h.__esModule?h:{default:h}}function o(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",l=(function(){function h(i,d,u){o(this,h),this.svg=i,this.encodings=d,this.options=u,this.document=u.xmlDocument||document}return t(h,[{key:"render",value:function(){var d=this.options.marginLeft;this.prepareSVG();for(var u=0;u<this.encodings.length;u++){var f=this.encodings[u],m=(0,n.default)(this.options,f.options),v=this.createGroup(d,m.marginTop,this.svg);this.setGroupOptions(v,m),this.drawSvgBarcode(v,m,f),this.drawSVGText(v,m,f),d+=f.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var d=(0,a.getTotalWidthOfEncodings)(this.encodings),u=(0,a.getMaximumHeightOfEncodings)(this.encodings),f=d+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(f,u),this.options.background&&this.drawRect(0,0,f,u,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(d,u,f){var m=f.data,v;u.textPosition=="top"?v=u.fontSize+u.textMargin:v=0;for(var g=0,x=0,y=0;y<m.length;y++)x=y*u.width+f.barcodePadding,m[y]==="1"?g++:g>0&&(this.drawRect(x-u.width*g,v,u.width*g,u.height,d),g=0);g>0&&this.drawRect(x-u.width*(g-1),v,u.width*g,u.height,d)}},{key:"drawSVGText",value:function(d,u,f){var m=this.document.createElementNS(c,"text");if(u.displayValue){var v,g;m.setAttribute("font-family",u.font),m.setAttribute("font-size",u.fontSize),u.fontOptions.includes("bold")&&m.setAttribute("font-weight","bold"),u.fontOptions.includes("italic")&&m.setAttribute("font-style","italic"),u.textPosition=="top"?g=u.fontSize-u.textMargin:g=u.height+u.textMargin+u.fontSize,u.textAlign=="left"||f.barcodePadding>0?(v=0,m.setAttribute("text-anchor","start")):u.textAlign=="right"?(v=f.width-1,m.setAttribute("text-anchor","end")):(v=f.width/2,m.setAttribute("text-anchor","middle")),m.setAttribute("x",v),m.setAttribute("y",g),m.appendChild(this.document.createTextNode(f.text)),d.appendChild(m)}}},{key:"setSvgAttributes",value:function(d,u){var f=this.svg;f.setAttribute("width",d+"px"),f.setAttribute("height",u+"px"),f.setAttribute("x","0px"),f.setAttribute("y","0px"),f.setAttribute("viewBox","0 0 "+d+" "+u),f.setAttribute("xmlns",c),f.setAttribute("version","1.1")}},{key:"createGroup",value:function(d,u,f){var m=this.document.createElementNS(c,"g");return m.setAttribute("transform","translate("+d+", "+u+")"),f.appendChild(m),m}},{key:"setGroupOptions",value:function(d,u){d.setAttribute("fill",u.lineColor)}},{key:"drawRect",value:function(d,u,f,m,v){var g=this.document.createElementNS(c,"rect");return g.setAttribute("x",d),g.setAttribute("y",u),g.setAttribute("width",f),g.setAttribute("height",m),v.appendChild(g),g}}]),h})();return xv.default=l,xv}var yv={},rT;function xZ(){if(rT)return yv;rT=1,Object.defineProperty(yv,"__esModule",{value:!0});var t=(function(){function a(s,o){for(var c=0;c<o.length;c++){var l=o[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,o,c){return o&&a(s.prototype,o),c&&a(s,c),s}})();function r(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(s,o,c){r(this,a),this.object=s,this.encodings=o,this.options=c}return t(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return yv.default=n,yv}var nT;function yZ(){if(nT)return gv;nT=1,Object.defineProperty(gv,"__esModule",{value:!0});var t=gZ(),r=c(t),n=vZ(),a=c(n),s=xZ(),o=c(s);function c(l){return l&&l.__esModule?l:{default:l}}return gv.default={CanvasRenderer:r.default,SVGRenderer:a.default,ObjectRenderer:o.default},gv}var wf={},aT;function _O(){if(aT)return wf;aT=1,Object.defineProperty(wf,"__esModule",{value:!0});function t(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function r(c,l){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:c}function n(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(c,l):c.__proto__=l)}var a=(function(c){n(l,c);function l(h,i){t(this,l);var d=r(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return d.name="InvalidInputException",d.symbology=h,d.input=i,d.message='"'+d.input+'" is not a valid input for '+d.symbology,d}return l})(Error),s=(function(c){n(l,c);function l(){t(this,l);var h=r(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return h.name="InvalidElementException",h.message="Not supported type to render on",h}return l})(Error),o=(function(c){n(l,c);function l(){t(this,l);var h=r(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return h.name="NoElementException",h.message="No element to render on.",h}return l})(Error);return wf.InvalidInputException=a,wf.InvalidElementException=s,wf.NoElementException=o,wf}var sT;function bZ(){if(sT)return hv;sT=1,Object.defineProperty(hv,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=mZ(),n=c(r),a=yZ(),s=c(a),o=_O();function c(d){return d&&d.__esModule?d:{default:d}}function l(d){if(typeof d=="string")return h(d);if(Array.isArray(d)){for(var u=[],f=0;f<d.length;f++)u.push(l(d[f]));return u}else{if(typeof HTMLCanvasElement<"u"&&d instanceof HTMLImageElement)return i(d);if(d&&d.nodeName&&d.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&d instanceof SVGElement)return{element:d,options:(0,n.default)(d),renderer:s.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement)return{element:d,options:(0,n.default)(d),renderer:s.default.CanvasRenderer};if(d&&d.getContext)return{element:d,renderer:s.default.CanvasRenderer};if(d&&(typeof d>"u"?"undefined":t(d))==="object"&&!d.nodeName)return{element:d,renderer:s.default.ObjectRenderer};throw new o.InvalidElementException}}function h(d){var u=document.querySelectorAll(d);if(u.length!==0){for(var f=[],m=0;m<u.length;m++)f.push(l(u[m]));return f}}function i(d){var u=document.createElement("canvas");return{element:u,options:(0,n.default)(d),renderer:s.default.CanvasRenderer,afterRender:function(){d.setAttribute("src",u.toDataURL())}}}return hv.default=l,hv}var bv={},iT;function jZ(){if(iT)return bv;iT=1,Object.defineProperty(bv,"__esModule",{value:!0});var t=(function(){function a(s,o){for(var c=0;c<o.length;c++){var l=o[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,o,c){return o&&a(s.prototype,o),c&&a(s,c),s}})();function r(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(s){r(this,a),this.api=s}return t(a,[{key:"handleCatch",value:function(o){if(o.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw o.message;else throw o;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(o){try{var c=o.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(l){return this.handleCatch(l),this.api}}}]),a})();return bv.default=n,bv}var Sb,oT;function wZ(){if(oT)return Sb;oT=1;var t=hZ(),r=y(t),n=v1(),a=y(n),s=fZ(),o=y(s),c=pZ(),l=y(c),h=bZ(),i=y(h),d=OO(),u=y(d),f=jZ(),m=y(f),v=_O(),g=MO(),x=y(g);function y(Z){return Z&&Z.__esModule?Z:{default:Z}}var j=function(){},N=function(ae,V,ie){var U=new j;if(typeof ae>"u")throw Error("No element to render on was provided.");return U._renderProperties=(0,i.default)(ae),U._encodings=[],U._options=x.default,U._errorHandler=new m.default(U),typeof V<"u"&&(ie=ie||{},ie.format||(ie.format=D()),U.options(ie)[ie.format](V,ie).render()),U};N.getModule=function(Z){return r.default[Z]};for(var T in r.default)r.default.hasOwnProperty(T)&&I(r.default,T);function I(Z,ae){j.prototype[ae]=j.prototype[ae.toUpperCase()]=j.prototype[ae.toLowerCase()]=function(V,ie){var U=this;return U._errorHandler.wrapBarcodeCall(function(){ie.text=typeof ie.text>"u"?void 0:""+ie.text;var G=(0,a.default)(U._options,ie);G=(0,u.default)(G);var K=Z[ae],W=C(V,K,G);return U._encodings.push(W),U})}}function C(Z,ae,V){Z=""+Z;var ie=new ae(Z,V);if(!ie.valid())throw new v.InvalidInputException(ie.constructor.name,Z);var U=ie.encode();U=(0,o.default)(U);for(var G=0;G<U.length;G++)U[G].options=(0,a.default)(V,U[G].options);return U}function D(){return r.default.CODE128?"CODE128":Object.keys(r.default)[0]}j.prototype.options=function(Z){return this._options=(0,a.default)(this._options,Z),this},j.prototype.blank=function(Z){var ae=new Array(Z+1).join("0");return this._encodings.push({data:ae}),this},j.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var Z;for(var ae in this._renderProperties){Z=this._renderProperties[ae];var V=(0,a.default)(this._options,Z.options);V.format=="auto"&&(V.format=D()),this._errorHandler.wrapBarcodeCall(function(){var ie=V.value,U=r.default[V.format.toUpperCase()],G=C(ie,U,V);_(Z,G,V)})}}},j.prototype.render=function(){if(!this._renderProperties)throw new v.NoElementException;if(Array.isArray(this._renderProperties))for(var Z=0;Z<this._renderProperties.length;Z++)_(this._renderProperties[Z],this._encodings,this._options);else _(this._renderProperties,this._encodings,this._options);return this},j.prototype._defaults=x.default;function _(Z,ae,V){ae=(0,o.default)(ae);for(var ie=0;ie<ae.length;ie++)ae[ie].options=(0,a.default)(V,ae[ie].options),(0,l.default)(ae[ie].options);(0,l.default)(V);var U=Z.renderer,G=new U(Z.element,ae,V);G.render(),Z.afterRender&&Z.afterRender()}return typeof window<"u"&&(window.JsBarcode=N),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Z,ae){var V=[];return jQuery(this).each(function(){V.push(this)}),N(V,Z,ae)}),Sb=N,Sb}var CZ=wZ();const lT=Qs(CZ);var Cf={},Eb,cT;function NZ(){return cT||(cT=1,Eb=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Eb}var Ib={},QA={},dT;function af(){if(dT)return QA;dT=1;let t;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return QA.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},QA.getSymbolTotalCodewords=function(a){return r[a]},QA.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},QA.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');t=a},QA.isKanjiModeEnabled=function(){return typeof t<"u"},QA.toSJIS=function(a){return t(a)},QA}var kb={},uT;function HC(){return uT||(uT=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},t.from=function(a,s){if(t.isValid(a))return a;try{return r(a)}catch{return s}}})(kb)),kb}var Tb,AT;function BZ(){if(AT)return Tb;AT=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(r){const n=Math.floor(r/8);return(this.buffer[n]>>>7-r%8&1)===1},put:function(r,n){for(let a=0;a<n;a++)this.putBit((r>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),r&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Tb=t,Tb}var Fb,hT;function SZ(){if(hT)return Fb;hT=1;function t(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}return t.prototype.set=function(r,n,a,s){const o=r*this.size+n;this.data[o]=a,s&&(this.reservedBit[o]=!0)},t.prototype.get=function(r,n){return this.data[r*this.size+n]},t.prototype.xor=function(r,n,a){this.data[r*this.size+n]^=a},t.prototype.isReserved=function(r,n){return this.reservedBit[r*this.size+n]},Fb=t,Fb}var Pb={},fT;function EZ(){return fT||(fT=1,(function(t){const r=af().getSymbolSize;t.getRowColCoords=function(a){if(a===1)return[];const s=Math.floor(a/7)+2,o=r(a),c=o===145?26:Math.ceil((o-13)/(2*s-2))*2,l=[o-7];for(let h=1;h<s-1;h++)l[h]=l[h-1]-c;return l.push(6),l.reverse()},t.getPositions=function(a){const s=[],o=t.getRowColCoords(a),c=o.length;for(let l=0;l<c;l++)for(let h=0;h<c;h++)l===0&&h===0||l===0&&h===c-1||l===c-1&&h===0||s.push([o[l],o[h]]);return s}})(Pb)),Pb}var Ob={},pT;function IZ(){if(pT)return Ob;pT=1;const t=af().getSymbolSize,r=7;return Ob.getPositions=function(a){const s=t(a);return[[0,0],[s-r,0],[0,s-r]]},Ob}var Mb={},mT;function kZ(){return mT||(mT=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const o=s.size;let c=0,l=0,h=0,i=null,d=null;for(let u=0;u<o;u++){l=h=0,i=d=null;for(let f=0;f<o;f++){let m=s.get(u,f);m===i?l++:(l>=5&&(c+=r.N1+(l-5)),i=m,l=1),m=s.get(f,u),m===d?h++:(h>=5&&(c+=r.N1+(h-5)),d=m,h=1)}l>=5&&(c+=r.N1+(l-5)),h>=5&&(c+=r.N1+(h-5))}return c},t.getPenaltyN2=function(s){const o=s.size;let c=0;for(let l=0;l<o-1;l++)for(let h=0;h<o-1;h++){const i=s.get(l,h)+s.get(l,h+1)+s.get(l+1,h)+s.get(l+1,h+1);(i===4||i===0)&&c++}return c*r.N2},t.getPenaltyN3=function(s){const o=s.size;let c=0,l=0,h=0;for(let i=0;i<o;i++){l=h=0;for(let d=0;d<o;d++)l=l<<1&2047|s.get(i,d),d>=10&&(l===1488||l===93)&&c++,h=h<<1&2047|s.get(d,i),d>=10&&(h===1488||h===93)&&c++}return c*r.N3},t.getPenaltyN4=function(s){let o=0;const c=s.data.length;for(let h=0;h<c;h++)o+=s.data[h];return Math.abs(Math.ceil(o*100/c/5)-10)*r.N4};function n(a,s,o){switch(a){case t.Patterns.PATTERN000:return(s+o)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(s+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return s*o%2+s*o%3===0;case t.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case t.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}t.applyMask=function(s,o){const c=o.size;for(let l=0;l<c;l++)for(let h=0;h<c;h++)o.isReserved(h,l)||o.xor(h,l,n(s,h,l))},t.getBestMask=function(s,o){const c=Object.keys(t.Patterns).length;let l=0,h=1/0;for(let i=0;i<c;i++){o(i),t.applyMask(i,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(i,s),d<h&&(h=d,l=i)}return l}})(Mb)),Mb}var jv={},gT;function LO(){if(gT)return jv;gT=1;const t=HC(),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return jv.getBlocksCount=function(s,o){switch(o){case t.L:return r[(s-1)*4+0];case t.M:return r[(s-1)*4+1];case t.Q:return r[(s-1)*4+2];case t.H:return r[(s-1)*4+3];default:return}},jv.getTotalCodewordsCount=function(s,o){switch(o){case t.L:return n[(s-1)*4+0];case t.M:return n[(s-1)*4+1];case t.Q:return n[(s-1)*4+2];case t.H:return n[(s-1)*4+3];default:return}},jv}var Db={},Zp={},vT;function TZ(){if(vT)return Zp;vT=1;const t=new Uint8Array(512),r=new Uint8Array(256);return(function(){let a=1;for(let s=0;s<255;s++)t[s]=a,r[a]=s,a<<=1,a&256&&(a^=285);for(let s=255;s<512;s++)t[s]=t[s-255]})(),Zp.log=function(a){if(a<1)throw new Error("log("+a+")");return r[a]},Zp.exp=function(a){return t[a]},Zp.mul=function(a,s){return a===0||s===0?0:t[r[a]+r[s]]},Zp}var xT;function FZ(){return xT||(xT=1,(function(t){const r=TZ();t.mul=function(a,s){const o=new Uint8Array(a.length+s.length-1);for(let c=0;c<a.length;c++)for(let l=0;l<s.length;l++)o[c+l]^=r.mul(a[c],s[l]);return o},t.mod=function(a,s){let o=new Uint8Array(a);for(;o.length-s.length>=0;){const c=o[0];for(let h=0;h<s.length;h++)o[h]^=r.mul(s[h],c);let l=0;for(;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},t.generateECPolynomial=function(a){let s=new Uint8Array([1]);for(let o=0;o<a;o++)s=t.mul(s,new Uint8Array([1,r.exp(o)]));return s}})(Db)),Db}var _b,yT;function PZ(){if(yT)return _b;yT=1;const t=FZ();function r(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return r.prototype.initialize=function(a){this.degree=a,this.genPoly=t.generateECPolynomial(this.degree)},r.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(a.length+this.degree);s.set(a);const o=t.mod(s,this.genPoly),c=this.degree-o.length;if(c>0){const l=new Uint8Array(this.degree);return l.set(o,c),l}return o},_b=r,_b}var Lb={},Ub={},Rb={},bT;function UO(){return bT||(bT=1,Rb.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}),Rb}var Bu={},jT;function RO(){if(jT)return Bu;jT=1;const t="[0-9]+",r="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Bu.KANJI=new RegExp(n,"g"),Bu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Bu.BYTE=new RegExp(a,"g"),Bu.NUMERIC=new RegExp(t,"g"),Bu.ALPHANUMERIC=new RegExp(r,"g");const s=new RegExp("^"+n+"$"),o=new RegExp("^"+t+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Bu.testKanji=function(h){return s.test(h)},Bu.testNumeric=function(h){return o.test(h)},Bu.testAlphanumeric=function(h){return c.test(h)},Bu}var wT;function sf(){return wT||(wT=1,(function(t){const r=UO(),n=RO();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,c){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!r.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?o.ccBits[0]:c<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function a(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(o,c){if(t.isValid(o))return o;try{return a(o)}catch{return c}}})(Ub)),Ub}var CT;function OZ(){return CT||(CT=1,(function(t){const r=af(),n=LO(),a=HC(),s=sf(),o=UO(),c=7973,l=r.getBCHDigit(c);function h(f,m,v){for(let g=1;g<=40;g++)if(m<=t.getCapacity(g,v,f))return g}function i(f,m){return s.getCharCountIndicator(f,m)+4}function d(f,m){let v=0;return f.forEach(function(g){const x=i(g.mode,m);v+=x+g.getBitsLength()}),v}function u(f,m){for(let v=1;v<=40;v++)if(d(f,v)<=t.getCapacity(v,m,s.MIXED))return v}t.from=function(m,v){return o.isValid(m)?parseInt(m,10):v},t.getCapacity=function(m,v,g){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const x=r.getSymbolTotalCodewords(m),y=n.getTotalCodewordsCount(m,v),j=(x-y)*8;if(g===s.MIXED)return j;const N=j-i(g,m);switch(g){case s.NUMERIC:return Math.floor(N/10*3);case s.ALPHANUMERIC:return Math.floor(N/11*2);case s.KANJI:return Math.floor(N/13);case s.BYTE:default:return Math.floor(N/8)}},t.getBestVersionForData=function(m,v){let g;const x=a.from(v,a.M);if(Array.isArray(m)){if(m.length>1)return u(m,x);if(m.length===0)return 1;g=m[0]}else g=m;return h(g.mode,g.getLength(),x)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;r.getBCHDigit(v)-l>=0;)v^=c<<r.getBCHDigit(v)-l;return m<<12|v}})(Lb)),Lb}var Qb={},NT;function MZ(){if(NT)return Qb;NT=1;const t=af(),r=1335,n=21522,a=t.getBCHDigit(r);return Qb.getEncodedBits=function(o,c){const l=o.bit<<3|c;let h=l<<10;for(;t.getBCHDigit(h)-a>=0;)h^=r<<t.getBCHDigit(h)-a;return(l<<10|h)^n},Qb}var Hb={},Wb,BT;function DZ(){if(BT)return Wb;BT=1;const t=sf();function r(n){this.mode=t.NUMERIC,this.data=n.toString()}return r.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(a){let s,o,c;for(s=0;s+3<=this.data.length;s+=3)o=this.data.substr(s,3),c=parseInt(o,10),a.put(c,10);const l=this.data.length-s;l>0&&(o=this.data.substr(s),c=parseInt(o,10),a.put(c,l*3+1))},Wb=r,Wb}var $b,ST;function _Z(){if(ST)return $b;ST=1;const t=sf(),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=t.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let o;for(o=0;o+2<=this.data.length;o+=2){let c=r.indexOf(this.data[o])*45;c+=r.indexOf(this.data[o+1]),s.put(c,11)}this.data.length%2&&s.put(r.indexOf(this.data[o]),6)},$b=n,$b}var zb,ET;function LZ(){if(ET)return zb;ET=1;const t=sf();function r(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return r.getBitsLength=function(a){return a*8},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){for(let a=0,s=this.data.length;a<s;a++)n.put(this.data[a],8)},zb=r,zb}var Vb,IT;function UZ(){if(IT)return Vb;IT=1;const t=sf(),r=af();function n(a){this.mode=t.KANJI,this.data=a}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let s;for(s=0;s<this.data.length;s++){let o=r.toSJIS(this.data[s]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),a.put(o,13)}},Vb=n,Vb}var Kb={exports:{}},kT;function RZ(){return kT||(kT=1,(function(t){var r={single_source_shortest_paths:function(n,a,s){var o={},c={};c[a]=0;var l=r.PriorityQueue.make();l.push(a,0);for(var h,i,d,u,f,m,v,g,x;!l.empty();){h=l.pop(),i=h.value,u=h.cost,f=n[i]||{};for(d in f)f.hasOwnProperty(d)&&(m=f[d],v=u+m,g=c[d],x=typeof c[d]>"u",(x||g>v)&&(c[d]=v,l.push(d,v),o[d]=i))}if(typeof s<"u"&&typeof c[s]>"u"){var y=["Could not find a path from ",a," to ",s,"."].join("");throw new Error(y)}return o},extract_shortest_path_from_predecessor_list:function(n,a){for(var s=[],o=a;o;)s.push(o),n[o],o=n[o];return s.reverse(),s},find_path:function(n,a,s){var o=r.single_source_shortest_paths(n,a,s);return r.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(n){var a=r.PriorityQueue,s={},o;n=n||{};for(o in a)a.hasOwnProperty(o)&&(s[o]=a[o]);return s.queue=[],s.sorter=n.sorter||a.default_sorter,s},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var s={value:n,cost:a};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=r})(Kb)),Kb.exports}var TT;function QZ(){return TT||(TT=1,(function(t){const r=sf(),n=DZ(),a=_Z(),s=LZ(),o=UZ(),c=RO(),l=af(),h=RZ();function i(y){return unescape(encodeURIComponent(y)).length}function d(y,j,N){const T=[];let I;for(;(I=y.exec(N))!==null;)T.push({data:I[0],index:I.index,mode:j,length:I[0].length});return T}function u(y){const j=d(c.NUMERIC,r.NUMERIC,y),N=d(c.ALPHANUMERIC,r.ALPHANUMERIC,y);let T,I;return l.isKanjiModeEnabled()?(T=d(c.BYTE,r.BYTE,y),I=d(c.KANJI,r.KANJI,y)):(T=d(c.BYTE_KANJI,r.BYTE,y),I=[]),j.concat(N,T,I).sort(function(D,_){return D.index-_.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function f(y,j){switch(j){case r.NUMERIC:return n.getBitsLength(y);case r.ALPHANUMERIC:return a.getBitsLength(y);case r.KANJI:return o.getBitsLength(y);case r.BYTE:return s.getBitsLength(y)}}function m(y){return y.reduce(function(j,N){const T=j.length-1>=0?j[j.length-1]:null;return T&&T.mode===N.mode?(j[j.length-1].data+=N.data,j):(j.push(N),j)},[])}function v(y){const j=[];for(let N=0;N<y.length;N++){const T=y[N];switch(T.mode){case r.NUMERIC:j.push([T,{data:T.data,mode:r.ALPHANUMERIC,length:T.length},{data:T.data,mode:r.BYTE,length:T.length}]);break;case r.ALPHANUMERIC:j.push([T,{data:T.data,mode:r.BYTE,length:T.length}]);break;case r.KANJI:j.push([T,{data:T.data,mode:r.BYTE,length:i(T.data)}]);break;case r.BYTE:j.push([{data:T.data,mode:r.BYTE,length:i(T.data)}])}}return j}function g(y,j){const N={},T={start:{}};let I=["start"];for(let C=0;C<y.length;C++){const D=y[C],_=[];for(let Z=0;Z<D.length;Z++){const ae=D[Z],V=""+C+Z;_.push(V),N[V]={node:ae,lastCount:0},T[V]={};for(let ie=0;ie<I.length;ie++){const U=I[ie];N[U]&&N[U].node.mode===ae.mode?(T[U][V]=f(N[U].lastCount+ae.length,ae.mode)-f(N[U].lastCount,ae.mode),N[U].lastCount+=ae.length):(N[U]&&(N[U].lastCount=ae.length),T[U][V]=f(ae.length,ae.mode)+4+r.getCharCountIndicator(ae.mode,j))}}I=_}for(let C=0;C<I.length;C++)T[I[C]].end=0;return{map:T,table:N}}function x(y,j){let N;const T=r.getBestModeForData(y);if(N=r.from(j,T),N!==r.BYTE&&N.bit<T.bit)throw new Error('"'+y+'" cannot be encoded with mode '+r.toString(N)+`.
 Suggested mode is: `+r.toString(T));switch(N===r.KANJI&&!l.isKanjiModeEnabled()&&(N=r.BYTE),N){case r.NUMERIC:return new n(y);case r.ALPHANUMERIC:return new a(y);case r.KANJI:return new o(y);case r.BYTE:return new s(y)}}t.fromArray=function(j){return j.reduce(function(N,T){return typeof T=="string"?N.push(x(T,null)):T.data&&N.push(x(T.data,T.mode)),N},[])},t.fromString=function(j,N){const T=u(j,l.isKanjiModeEnabled()),I=v(T),C=g(I,N),D=h.find_path(C.map,"start","end"),_=[];for(let Z=1;Z<D.length-1;Z++)_.push(C.table[D[Z]].node);return t.fromArray(m(_))},t.rawSplit=function(j){return t.fromArray(u(j,l.isKanjiModeEnabled()))}})(Hb)),Hb}var FT;function HZ(){if(FT)return Ib;FT=1;const t=af(),r=HC(),n=BZ(),a=SZ(),s=EZ(),o=IZ(),c=kZ(),l=LO(),h=PZ(),i=OZ(),d=MZ(),u=sf(),f=QZ();function m(C,D){const _=C.size,Z=o.getPositions(D);for(let ae=0;ae<Z.length;ae++){const V=Z[ae][0],ie=Z[ae][1];for(let U=-1;U<=7;U++)if(!(V+U<=-1||_<=V+U))for(let G=-1;G<=7;G++)ie+G<=-1||_<=ie+G||(U>=0&&U<=6&&(G===0||G===6)||G>=0&&G<=6&&(U===0||U===6)||U>=2&&U<=4&&G>=2&&G<=4?C.set(V+U,ie+G,!0,!0):C.set(V+U,ie+G,!1,!0))}}function v(C){const D=C.size;for(let _=8;_<D-8;_++){const Z=_%2===0;C.set(_,6,Z,!0),C.set(6,_,Z,!0)}}function g(C,D){const _=s.getPositions(D);for(let Z=0;Z<_.length;Z++){const ae=_[Z][0],V=_[Z][1];for(let ie=-2;ie<=2;ie++)for(let U=-2;U<=2;U++)ie===-2||ie===2||U===-2||U===2||ie===0&&U===0?C.set(ae+ie,V+U,!0,!0):C.set(ae+ie,V+U,!1,!0)}}function x(C,D){const _=C.size,Z=i.getEncodedBits(D);let ae,V,ie;for(let U=0;U<18;U++)ae=Math.floor(U/3),V=U%3+_-8-3,ie=(Z>>U&1)===1,C.set(ae,V,ie,!0),C.set(V,ae,ie,!0)}function y(C,D,_){const Z=C.size,ae=d.getEncodedBits(D,_);let V,ie;for(V=0;V<15;V++)ie=(ae>>V&1)===1,V<6?C.set(V,8,ie,!0):V<8?C.set(V+1,8,ie,!0):C.set(Z-15+V,8,ie,!0),V<8?C.set(8,Z-V-1,ie,!0):V<9?C.set(8,15-V-1+1,ie,!0):C.set(8,15-V-1,ie,!0);C.set(Z-8,8,1,!0)}function j(C,D){const _=C.size;let Z=-1,ae=_-1,V=7,ie=0;for(let U=_-1;U>0;U-=2)for(U===6&&U--;;){for(let G=0;G<2;G++)if(!C.isReserved(ae,U-G)){let K=!1;ie<D.length&&(K=(D[ie]>>>V&1)===1),C.set(ae,U-G,K),V--,V===-1&&(ie++,V=7)}if(ae+=Z,ae<0||_<=ae){ae-=Z,Z=-Z;break}}}function N(C,D,_){const Z=new n;_.forEach(function(G){Z.put(G.mode.bit,4),Z.put(G.getLength(),u.getCharCountIndicator(G.mode,C)),G.write(Z)});const ae=t.getSymbolTotalCodewords(C),V=l.getTotalCodewordsCount(C,D),ie=(ae-V)*8;for(Z.getLengthInBits()+4<=ie&&Z.put(0,4);Z.getLengthInBits()%8!==0;)Z.putBit(0);const U=(ie-Z.getLengthInBits())/8;for(let G=0;G<U;G++)Z.put(G%2?17:236,8);return T(Z,C,D)}function T(C,D,_){const Z=t.getSymbolTotalCodewords(D),ae=l.getTotalCodewordsCount(D,_),V=Z-ae,ie=l.getBlocksCount(D,_),U=Z%ie,G=ie-U,K=Math.floor(Z/ie),W=Math.floor(V/ie),Ne=W+1,ge=K-W,Ee=new h(ge);let Fe=0;const he=new Array(ie),le=new Array(ie);let ve=0;const se=new Uint8Array(C.buffer);for(let pe=0;pe<ie;pe++){const X=pe<G?W:Ne;he[pe]=se.slice(Fe,Fe+X),le[pe]=Ee.encode(he[pe]),Fe+=X,ve=Math.max(ve,X)}const re=new Uint8Array(Z);let Ie=0,Te,xe;for(Te=0;Te<ve;Te++)for(xe=0;xe<ie;xe++)Te<he[xe].length&&(re[Ie++]=he[xe][Te]);for(Te=0;Te<ge;Te++)for(xe=0;xe<ie;xe++)re[Ie++]=le[xe][Te];return re}function I(C,D,_,Z){let ae;if(Array.isArray(C))ae=f.fromArray(C);else if(typeof C=="string"){let K=D;if(!K){const W=f.rawSplit(C);K=i.getBestVersionForData(W,_)}ae=f.fromString(C,K||40)}else throw new Error("Invalid data");const V=i.getBestVersionForData(ae,_);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=V;else if(D<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const ie=N(D,_,ae),U=t.getSymbolSize(D),G=new a(U);return m(G,D),v(G),g(G,D),y(G,_,0),D>=7&&x(G,D),j(G,ie),isNaN(Z)&&(Z=c.getBestMask(G,y.bind(null,G,_))),c.applyMask(Z,G),y(G,_,Z),{modules:G,version:D,errorCorrectionLevel:_,maskPattern:Z,segments:ae}}return Ib.create=function(D,_){if(typeof D>"u"||D==="")throw new Error("No input text");let Z=r.M,ae,V;return typeof _<"u"&&(Z=r.from(_.errorCorrectionLevel,r.M),ae=i.from(_.version),V=c.from(_.maskPattern),_.toSJISFunc&&t.setToSJISFunction(_.toSJISFunc)),I(D,ae,Z,V)},Ib}var Gb={},qb={},PT;function QO(){return PT||(PT=1,(function(t){function r(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(o){return[o,o]}))),a.length===6&&a.push("F","F");const s=parseInt(a.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+a.slice(0,6).join("")}}t.getOptions=function(a){a||(a={}),a.color||(a.color={});const s=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,o=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:o,scale:o?4:c,margin:s,color:{dark:r(a.color.dark||"#000000ff"),light:r(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},t.getScale=function(a,s){return s.width&&s.width>=a+s.margin*2?s.width/(a+s.margin*2):s.scale},t.getImageWidth=function(a,s){const o=t.getScale(a,s);return Math.floor((a+s.margin*2)*o)},t.qrToImageData=function(a,s,o){const c=s.modules.size,l=s.modules.data,h=t.getScale(c,o),i=Math.floor((c+o.margin*2)*h),d=o.margin*h,u=[o.color.light,o.color.dark];for(let f=0;f<i;f++)for(let m=0;m<i;m++){let v=(f*i+m)*4,g=o.color.light;if(f>=d&&m>=d&&f<i-d&&m<i-d){const x=Math.floor((f-d)/h),y=Math.floor((m-d)/h);g=u[l[x*c+y]?1:0]}a[v++]=g.r,a[v++]=g.g,a[v++]=g.b,a[v]=g.a}}})(qb)),qb}var OT;function WZ(){return OT||(OT=1,(function(t){const r=QO();function n(s,o,c){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=c,o.width=c,o.style.height=c+"px",o.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,c,l){let h=l,i=c;typeof h>"u"&&(!c||!c.getContext)&&(h=c,c=void 0),c||(i=a()),h=r.getOptions(h);const d=r.getImageWidth(o.modules.size,h),u=i.getContext("2d"),f=u.createImageData(d,d);return r.qrToImageData(f.data,o,h),n(u,i,d),u.putImageData(f,0,0),i},t.renderToDataURL=function(o,c,l){let h=l;typeof h>"u"&&(!c||!c.getContext)&&(h=c,c=void 0),h||(h={});const i=t.render(o,c,h),d=h.type||"image/png",u=h.rendererOpts||{};return i.toDataURL(d,u.quality)}})(Gb)),Gb}var Xb={},MT;function $Z(){if(MT)return Xb;MT=1;const t=QO();function r(s,o){const c=s.a/255,l=o+'="'+s.hex+'"';return c<1?l+" "+o+'-opacity="'+c.toFixed(2).slice(1)+'"':l}function n(s,o,c){let l=s+o;return typeof c<"u"&&(l+=" "+c),l}function a(s,o,c){let l="",h=0,i=!1,d=0;for(let u=0;u<s.length;u++){const f=Math.floor(u%o),m=Math.floor(u/o);!f&&!i&&(i=!0),s[u]?(d++,u>0&&f>0&&s[u-1]||(l+=i?n("M",f+c,.5+m+c):n("m",h,0),h=0,i=!1),f+1<o&&s[u+1]||(l+=n("h",d),d=0)):h++}return l}return Xb.render=function(o,c,l){const h=t.getOptions(c),i=o.modules.size,d=o.modules.data,u=i+h.margin*2,f=h.color.light.a?"<path "+r(h.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",m="<path "+r(h.color.dark,"stroke")+' d="'+a(d,i,h.margin)+'"/>',v='viewBox="0 0 '+u+" "+u+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+v+' shape-rendering="crispEdges">'+f+m+`</svg>
`;return typeof l=="function"&&l(null,x),x},Xb}var DT;function zZ(){if(DT)return Cf;DT=1;const t=NZ(),r=HZ(),n=WZ(),a=$Z();function s(o,c,l,h,i){const d=[].slice.call(arguments,1),u=d.length,f=typeof d[u-1]=="function";if(!f&&!t())throw new Error("Callback required as last argument");if(f){if(u<2)throw new Error("Too few arguments provided");u===2?(i=l,l=c,c=h=void 0):u===3&&(c.getContext&&typeof i>"u"?(i=h,h=void 0):(i=h,h=l,l=c,c=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(l=c,c=h=void 0):u===2&&!c.getContext&&(h=l,l=c,c=void 0),new Promise(function(m,v){try{const g=r.create(l,h);m(o(g,c,h))}catch(g){v(g)}})}try{const m=r.create(l,h);i(null,o(m,c,h))}catch(m){i(m)}}return Cf.create=r.create,Cf.toCanvas=s.bind(null,n.render),Cf.toDataURL=s.bind(null,n.renderToDataURL),Cf.toString=s.bind(null,function(o,c,l){return a.render(o,l)}),Cf}var VZ=zZ();const _T=Qs(VZ),KZ=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),[c,l]=M.useState(!1),[h,i]=M.useState([]),d=M.useRef(null),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState([]),[N,T]=M.useState(!1),[I,C]=M.useState(null),[D,_]=M.useState(!1),Z=()=>{_(!D)},[ae,V]=M.useState({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1}),ie=M.useCallback(async()=>{try{const Ee=await Ha.getAllCompanies(void 0,!0);f(Ee)}catch(Ee){console.error("Failed to load companies:",Ee),C("Failed to load companies")}},[]),U=M.useCallback(async()=>{try{const Ee=await Ei.getAllHcfs(void 0,!0);v(Ee)}catch(Ee){console.error("Failed to load HCFs:",Ee),C("Failed to load HCFs")}},[]);M.useEffect(()=>{if(ae.companyId){const Ee=m.filter(Fe=>Fe.companyId===ae.companyId);x(Ee),ae.hcfId&&!Ee.find(Fe=>Fe.id===ae.hcfId)&&V(Fe=>({...Fe,hcfId:""}))}else x([]),V(Ee=>({...Ee,hcfId:""}))},[ae.companyId,m]);const G=M.useCallback(async()=>{try{T(!0);const Ee=await JA.getAllBarcodeLabels(),Fe=await Promise.all(Ee.map(async he=>{const le=u.find(se=>se.id===he.companyId);let ve="";try{ve=(await Ei.getHcfById(he.hcfId)).hcfName}catch(se){console.error("Error loading HCF:",se)}return{id:he.id,hcfCode:he.hcfCode,hcfName:ve,companyId:he.companyId,companyName:(le==null?void 0:le.companyName)||"Unknown",sequenceNumber:he.sequenceNumber,barcodeType:he.barcodeType,colorBlock:he.colorBlock,barcodeValue:he.barcodeValue,createdAt:he.createdOn}}));j(Fe)}catch(Ee){console.error("Failed to load labels:",Ee),C("Failed to load labels")}finally{T(!1)}},[u]);M.useEffect(()=>{ie(),U()},[ie,U]),M.useEffect(()=>{u.length>0&&G()},[u,G]),M.useCallback(async(Ee,Fe)=>{try{return await JA.getLastSequence(Ee,Fe)}catch(he){return console.error("Failed to get last sequence:",he),0}},[]);const K=async()=>{if(!ae.companyId||!ae.hcfId||ae.count<1){C("Please select company, HCF, and enter valid count");return}const Ee=g.find(he=>he.id===ae.hcfId),Fe=u.find(he=>he.id===ae.companyId);if(!Ee||!Fe){C("Invalid selection");return}try{T(!0),C(null);const le=(await JA.generateLabels({hcfId:ae.hcfId,companyId:ae.companyId,barcodeType:ae.barcodeType,colorBlock:ae.colorBlock,count:ae.count})).map(ve=>({id:ve.id,hcfCode:ve.hcfCode,hcfName:Ee.hcfName,companyId:ve.companyId,companyName:Fe.companyName,sequenceNumber:ve.sequenceNumber,barcodeType:ve.barcodeType,colorBlock:ve.colorBlock,barcodeValue:ve.barcodeValue,createdAt:ve.createdOn}));await G(),i(le),l(!0),o(!1),V({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1})}catch(he){const le=he instanceof Error?he.message:"Failed to generate labels";C(le),console.error("Error generating labels:",he)}finally{T(!1)}};M.useEffect(()=>{c&&d.current&&h.length>0&&setTimeout(()=>{const Ee=d.current;if(!Ee)return;const Fe=Ee.querySelectorAll(".barcode-svg"),he=Ee.querySelectorAll(".qr-canvas");Fe.forEach((le,ve)=>{const se=h[ve];if(se&&se.barcodeType==="Barcode")try{le.innerHTML="",lT(le,se.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(re){console.error("Failed to generate barcode:",re)}}),he.forEach((le,ve)=>{const se=h[ve];se&&se.barcodeType==="QR Code"&&_T.toCanvas(le,se.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(re=>{console.error("Failed to generate QR code:",re)})})},100)},[h,c]);const W=()=>{!d.current||h.length===0||setTimeout(()=>{const Ee=d.current;if(!Ee)return;const Fe=Ee.querySelectorAll(".barcode-svg"),he=Ee.querySelectorAll(".qr-canvas");Fe.forEach((le,ve)=>{const se=h[ve];if(se&&se.barcodeType==="Barcode")try{le.innerHTML="",lT(le,se.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(re){console.error("Failed to generate barcode:",re)}}),he.forEach((le,ve)=>{const se=h[ve];se&&se.barcodeType==="QR Code"&&_T.toCanvas(le,se.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(re=>{console.error("Failed to generate QR code:",re)})}),setTimeout(()=>{window.print()},200)},100)},Ne=y.filter(Ee=>Ee.hcfCode.toLowerCase().includes(n.toLowerCase())||Ee.hcfName.toLowerCase().includes(n.toLowerCase())||Ee.companyName.toLowerCase().includes(n.toLowerCase())||Ee.barcodeValue.toLowerCase().includes(n.toLowerCase())),ge=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname==="/compliance-training"},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${D?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!D&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:Z,"aria-label":D?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:D?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ge.map(Ee=>e.jsx("li",{children:e.jsxs(Zr,{to:Ee.path,className:`nav-link ${Ee.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Ee.icon}),!D&&e.jsx("span",{className:"nav-label",children:Ee.label})]})},Ee.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!D&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!D&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Transaction / Barcode Generation"})})}),e.jsxs("div",{className:"barcode-generation-page",children:[e.jsxs("div",{className:"barcode-generation-header",children:[e.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),e.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]}),e.jsxs("div",{className:"barcode-generation-actions",children:[e.jsxs("div",{className:"barcode-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:n,onChange:Ee=>a(Ee.target.value)})]}),e.jsxs("button",{className:"generate-btn",onClick:()=>o(!0),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]}),I&&e.jsxs("div",{className:"barcode-error-banner",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),I]}),e.jsx("div",{className:"barcode-table-container",children:e.jsxs("table",{className:"barcode-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sequence"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Color Block"}),e.jsx("th",{children:"Barcode Value"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Ne.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:'No labels generated yet. Click "Generate Labels" to create barcode/QR labels.'})}):Ne.map(Ee=>e.jsxs("tr",{children:[e.jsx("td",{className:"sequence-cell",children:Ee.sequenceNumber}),e.jsx("td",{className:"hcf-code-cell",children:Ee.hcfCode}),e.jsx("td",{children:Ee.hcfName}),e.jsx("td",{children:Ee.companyName}),e.jsx("td",{children:e.jsx("span",{className:`barcode-type-badge barcode-type-badge--${Ee.barcodeType.toLowerCase().replace(" ","-")}`,children:Ee.barcodeType})}),e.jsx("td",{children:e.jsx("span",{className:`color-block-badge color-block-badge--${Ee.colorBlock.toLowerCase()}`,children:Ee.colorBlock})}),e.jsx("td",{className:"barcode-value-cell",children:Ee.barcodeValue}),e.jsx("td",{children:e.jsx("div",{className:"barcode-action-buttons",children:e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>{i([Ee]),l(!0)},title:"Preview & Print",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})})})]},Ee.id))})]})}),e.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",Ne.length," of ",y.length," Labels"]})]})]}),s&&e.jsx(GZ,{companies:u,hcfs:g,formData:ae,setFormData:V,onClose:()=>o(!1),onGenerate:K}),c&&h.length>0&&e.jsx(qZ,{labels:h,printContainerRef:d,onClose:()=>l(!1),onPrint:W}),e.jsx("div",{className:"print-container",ref:d,children:h.map(Ee=>e.jsxs("div",{className:"print-label",children:[e.jsxs("div",{className:"print-label-header",children:[e.jsx("div",{className:`print-color-block-square print-color-block-square--${Ee.colorBlock.toLowerCase()}`,children:Ee.colorBlock.toUpperCase()}),e.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",Ee.sequenceNumber.toString().padStart(15,"0")]})]}),e.jsxs("div",{className:"print-barcode-container",children:[Ee.barcodeType==="QR Code"?e.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):e.jsx("svg",{className:"barcode-svg"}),e.jsx("div",{className:"print-barcode-value",children:Ee.barcodeValue})]}),e.jsx("div",{className:"print-label-footer",children:e.jsx("div",{className:"print-type-label",children:Ee.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},Ee.id))})]})},GZ=({companies:t,hcfs:r,formData:n,setFormData:a,onClose:s,onGenerate:o})=>{const c=r.find(m=>m.id===n.hcfId),[l,h]=M.useState(0),[i,d]=M.useState(0),[u,f]=M.useState(!1);return M.useEffect(()=>{c?(f(!0),Promise.all([JA.getLastSequence(c.hcfCode,"Barcode").catch(()=>0),JA.getLastSequence(c.hcfCode,"QR Code").catch(()=>0)]).then(([m,v])=>{h(m),d(v),f(!1)}).catch(()=>{f(!1)})):(h(0),d(0))},[c]),e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Generate Barcode/QR Labels"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"barcode-form",onSubmit:m=>{m.preventDefault(),o()},children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Label Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:n.companyId,onChange:m=>a({...n,companyId:m.target.value,hcfId:""}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(m=>e.jsxs("option",{value:m.id,children:[m.companyCode," - ",m.companyName]},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:n.hcfId,onChange:m=>a({...n,hcfId:m.target.value}),required:!0,disabled:!n.companyId,children:[e.jsx("option",{value:"",children:"Select HCF"}),r.map(m=>e.jsxs("option",{value:m.id,children:[m.hcfCode," - ",m.hcfName]},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Barcode Type *"}),e.jsxs("select",{value:n.barcodeType,onChange:m=>a({...n,barcodeType:m.target.value}),required:!0,children:[e.jsx("option",{value:"Barcode",children:"Barcode (Code128)"}),e.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Print Color Block *"}),e.jsxs("select",{value:n.colorBlock,onChange:m=>a({...n,colorBlock:m.target.value}),required:!0,children:[e.jsx("option",{value:"Yellow",children:"Yellow"}),e.jsx("option",{value:"Red",children:"Red"}),e.jsx("option",{value:"White",children:"White"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Barcode Count *"}),e.jsx("input",{type:"number",value:n.count,onChange:m=>a({...n,count:parseInt(m.target.value)||1}),required:!0,min:1,max:1e3,placeholder:"Enter count (1-1000)"})]}),c&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Sequence"}),e.jsx("input",{type:"text",value:u?"Loading...":`Barcode: ${l} | QR: ${i}`,readOnly:!0,style:{backgroundColor:"#f1f5f9",cursor:"not-allowed"}})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:"Generate Labels"})]})]})]})})},qZ=({labels:t,printContainerRef:r,onClose:n,onPrint:a})=>{var s,o,c,l,h,i,d;return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--preview",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Preview Labels (",t.length,")"]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"preview-content",children:[e.jsxs("div",{className:"preview-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"HCF:"})," ",(s=t[0])==null?void 0:s.hcfCode," - ",(o=t[0])==null?void 0:o.hcfName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",(c=t[0])==null?void 0:c.companyName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",(l=t[0])==null?void 0:l.barcodeType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Color Block:"})," ",(h=t[0])==null?void 0:h.colorBlock]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sequence Range:"})," ",(i=t[0])==null?void 0:i.sequenceNumber," - ",(d=t[t.length-1])==null?void 0:d.sequenceNumber]})]}),e.jsx("div",{className:"preview-labels-grid",children:t.slice(0,6).map(u=>e.jsxs("div",{className:"preview-label",children:[e.jsxs("div",{className:"preview-label-header",children:[e.jsx("div",{className:`preview-color-block-square preview-color-block-square--${u.colorBlock.toLowerCase()}`,children:u.colorBlock.toUpperCase()}),e.jsxs("div",{className:"preview-sequence-text",children:["Seq. No. ",u.sequenceNumber.toString().padStart(15,"0")]})]}),e.jsx("div",{className:"preview-barcode-placeholder",children:u.barcodeType==="QR Code"?"QR Code":"Barcode"}),e.jsx("div",{className:"preview-barcode-value",children:u.barcodeValue}),e.jsx("div",{className:"preview-label-footer",children:e.jsx("div",{className:"preview-type-label",children:u.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},u.id))}),t.length>6&&e.jsxs("p",{className:"preview-more-info",children:["... and ",t.length-6," more labels"]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:a,children:"Print Labels"})]})]})})},XZ="http://localhost:3000/api/v1",YZ=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},em=async(t,r={})=>{const n=YZ(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${XZ}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Bv={createCertificate:async t=>(await em("/training-certificates",{method:"POST",body:JSON.stringify(t)})).data,getCertificateById:async t=>(await em(`/training-certificates/${t}`,{method:"GET"})).data,getAllCertificates:async(t,r,n)=>{let a="/training-certificates";const s=new URLSearchParams;return t&&s.append("companyId",t),r&&s.append("activeOnly","true"),n!=null&&n.hcfId&&s.append("hcfId",n.hcfId),n!=null&&n.status&&s.append("status",n.status),n!=null&&n.dateFrom&&s.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&s.append("dateTo",n.dateTo),n!=null&&n.search&&s.append("search",n.search),s.toString()&&(a+=`?${s.toString()}`),(await em(a,{method:"GET"})).data},updateCertificate:async(t,r)=>(await em(`/training-certificates/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteCertificate:async t=>{await em(`/training-certificates/${t}`,{method:"DELETE"})}},JZ=()=>{const{logout:t,user:r}=ya(),n=In(),[a,s]=M.useState(""),[o,c]=M.useState("All"),[l,h]=M.useState("All"),[i,d]=M.useState("All"),[u,f]=M.useState(""),[m,v]=M.useState(""),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),[I,C]=M.useState(null),[D,_]=M.useState(!0),[Z,ae]=M.useState(null),[V,ie]=M.useState(!1),[U,G]=M.useState(!1),K=()=>{G(!U)},[W,Ne]=M.useState([]),[ge,Ee]=M.useState([]),[Fe,he]=M.useState([]),le=M.useCallback(async()=>{try{const be=await Ha.getAllCompanies(void 0,!0);Ne(be)}catch(be){console.error("Failed to load companies:",be),ae("Failed to load companies")}},[]),ve=M.useCallback(async be=>{try{const Le=await Ei.getAllHcfs(be,!0);Ee(Le)}catch(Le){console.error("Failed to load HCFs:",Le),ae("Failed to load HCFs")}},[]),se=M.useCallback(async()=>{var be;try{_(!0),ae(null);const Le=o!=="All"?(be=W.find(Nt=>Nt.companyName===o))==null?void 0:be.id:void 0,ot={};if(l!=="All"){const Nt=ge.find(qt=>qt.hcfCode===l);Nt&&(ot.hcfId=Nt.id)}i!=="All"&&(ot.status=i),u&&(ot.dateFrom=u),m&&(ot.dateTo=m),a&&(ot.search=a);const Mt=(await Bv.getAllCertificates(Le,!1,Object.keys(ot).length>0?ot:void 0)).map(Nt=>{const qt=W.find(fr=>fr.id===Nt.companyId),Ir=ge.find(fr=>fr.id===Nt.hcfId);return{id:Nt.id,certificateNo:Nt.certificateNo,staffName:Nt.staffName,staffCode:Nt.staffCode,designation:Nt.designation||"",hcfCode:(Ir==null?void 0:Ir.hcfCode)||"",hcfId:Nt.hcfId,trainingDate:Nt.trainingDate,status:Nt.status,companyName:(qt==null?void 0:qt.companyName)||"",companyId:Nt.companyId,trainedBy:Nt.trainedBy,createdBy:Nt.createdBy||"",createdOn:Nt.createdOn,modifiedBy:Nt.modifiedBy||"",modifiedOn:Nt.modifiedOn}});he(Mt)}catch(Le){console.error("Failed to load certificates:",Le),ae(Le.message||"Failed to load certificates")}finally{_(!1)}},[o,l,i,u,m,a,W,ge]);M.useEffect(()=>{(async()=>{await le(),await ve()})()},[le,ve]),M.useEffect(()=>{W.length>0&&ge.length>0&&se()},[o,l,i,u,m,a,W,ge,se]),M.useEffect(()=>{if(o!=="All"){const be=W.find(Le=>Le.companyName===o);be&&ve(be.id)}else ve()},[o,W,ve]);const re=Fe,Ie=()=>{T(null),x(!0)},Te=be=>{C(be),j(!0)},xe=be=>{be.status==="Active"?(T(be),x(!0)):alert("Only Active certificates can be edited.")},pe=be=>{window.print()},X=()=>{alert("Export functionality will be implemented")},fe=async be=>{try{if(ie(!0),ae(null),N){const Le={};be.staffName!==void 0&&(Le.staffName=be.staffName),be.staffCode!==void 0&&(Le.staffCode=be.staffCode),be.designation!==void 0&&(Le.designation=be.designation),be.hcfId!==void 0&&(Le.hcfId=be.hcfId),be.trainingDate!==void 0&&(Le.trainingDate=be.trainingDate),be.trainedBy!==void 0&&(Le.trainedBy=be.trainedBy),be.status!==void 0&&(Le.status=be.status),await Bv.updateCertificate(N.id,Le)}else{const Le=W.find(ot=>ot.companyName===be.companyName);if(!Le)throw new Error("Company not found");if(!be.hcfId)throw new Error("HCF is required");if(!be.certificateNo)throw new Error("Certificate number is required");await Bv.createCertificate({certificateNo:be.certificateNo||oe(),staffName:be.staffName||"",staffCode:be.staffCode||"",designation:be.designation,hcfId:be.hcfId,trainingDate:be.trainingDate||new Date().toISOString().split("T")[0],companyId:Le.id,trainedBy:be.trainedBy||""})}await se(),x(!1),T(null)}catch(Le){console.error("Failed to save certificate:",Le),ae(Le.message||"Failed to save certificate"),alert(Le.message||"Failed to save certificate")}finally{ie(!1)}},oe=()=>{const be=new Date().getFullYear(),Le=Fe.length+1;return`CERT-${be}-${Le.toString().padStart(3,"0")}`},We=be=>{if(be==="All")return ge.filter(ot=>ot.status==="Active");const Le=W.find(ot=>ot.companyName===be);return Le?ge.filter(ot=>ot.companyId===Le.id&&ot.status==="Active"):[]},Ue=[{path:"/dashboard",label:"Dashboard",icon:"",active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:n.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:n.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:n.pathname==="/commercial-agreements"},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:n.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:n.pathname.startsWith("/report")}],ue=We(o);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${U?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!U&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:K,"aria-label":U?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:U?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Ue.map(be=>e.jsx("li",{children:e.jsxs(Zr,{to:be.path,className:`nav-link ${be.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:be.icon}),!U&&e.jsx("span",{className:"nav-label",children:be.label})]})},be.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!U&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!U&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Compliance & Training / Training Certificate Management"})})}),e.jsxs("div",{className:"training-certificate-page",children:[Z&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:Z}),D&&e.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading..."}),e.jsx("div",{className:"training-certificate-header",children:e.jsx("h1",{className:"training-certificate-title",children:"Training Certificate Management"})}),e.jsx("div",{className:"training-certificate-filters",children:e.jsxs("div",{className:"filter-row",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{className:"filter-select",value:o,onChange:be=>{c(be.target.value),be.target.value==="All"&&h("All")},children:[e.jsx("option",{value:"All",children:"All Companies"}),W.filter(be=>be.status==="Active").map(be=>e.jsx("option",{value:be.companyName,children:be.companyName},be.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"HCF"}),e.jsxs("select",{className:"filter-select",value:l,onChange:be=>h(be.target.value),children:[e.jsx("option",{value:"All",children:"All HCFs"}),ue.map(be=>e.jsxs("option",{value:be.hcfCode,children:[be.hcfCode," - ",be.hcfName]},be.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Date From"}),e.jsx("input",{type:"date",className:"filter-input",value:u,onChange:be=>f(be.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Date To"}),e.jsx("input",{type:"date",className:"filter-input",value:m,onChange:be=>v(be.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{className:"filter-select",value:i,onChange:be=>d(be.target.value),children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsx("div",{className:"filter-group",children:e.jsx("button",{className:"clear-filters-btn",onClick:()=>{c("All"),h("All"),d("All"),f(""),v("")},children:"Clear Filters"})})]})}),e.jsxs("div",{className:"training-certificate-actions",children:[e.jsxs("div",{className:"certificate-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"certificate-search-input",placeholder:"Search Certificate...",value:a,onChange:be=>s(be.target.value)})]}),e.jsxs("button",{className:"export-btn",onClick:X,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),e.jsxs("button",{className:"add-certificate-btn",onClick:Ie,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]}),e.jsx("div",{className:"certificate-table-container",children:e.jsxs("table",{className:"certificate-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Certificate No"}),e.jsx("th",{children:"Staff Name"}),e.jsx("th",{children:"Staff Code"}),e.jsx("th",{children:"Designation"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Training Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:"No certificate records found"})}):re.map(be=>{const Le=ge.find(ot=>ot.hcfCode===be.hcfCode);return e.jsxs("tr",{children:[e.jsx("td",{className:"certificate-no-cell",children:be.certificateNo}),e.jsx("td",{children:be.staffName}),e.jsx("td",{children:be.staffCode}),e.jsx("td",{children:be.designation}),e.jsx("td",{children:Le?`${be.hcfCode} - ${Le.hcfName}`:be.hcfCode}),e.jsx("td",{children:be.trainingDate}),e.jsx("td",{children:e.jsx("span",{className:`certificate-status-badge certificate-status-badge--${be.status.toLowerCase()}`,children:be.status})}),e.jsx("td",{children:e.jsxs("div",{className:"certificate-action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Te(be),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),be.status==="Active"&&e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>xe(be),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>pe(),title:"Print",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},be.id)})})]})}),e.jsxs("div",{className:"certificate-pagination-info",children:["Showing ",re.length," of ",Fe.length," Items"]})]})]}),g&&e.jsx(ZZ,{certificate:N,companies:W.filter(be=>be.status==="Active"),hcfs:ge.filter(be=>be.status==="Active"),onClose:()=>{x(!1),T(null)},onSave:fe,generateCertificateNo:oe}),y&&I&&e.jsx(eee,{certificate:I,hcfs:ge,companies:W,onClose:()=>{j(!1),C(null)},onPrint:pe})]})},ZZ=({certificate:t,companies:r,hcfs:n,onClose:a,onSave:s,generateCertificateNo:o})=>{const c=()=>{if(t){const y=r.find(j=>j.companyName===t.companyName);return{...t,companyId:t.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[l,h]=M.useState(c()),[i,d]=M.useState(t?"manual":"auto");M.useEffect(()=>{if(l.companyName&&!l.companyId&&r.length>0){const y=r.find(j=>j.companyName===l.companyName);y&&h(j=>({...j,companyId:y.id}))}},[l.companyName,r.length]);const u=(()=>{if(!l.companyId&&!l.companyName)return[];const y=l.companyId?r.find(N=>N.id===l.companyId):r.find(N=>N.companyName===l.companyName);return y?n.filter(N=>N.companyId===y.id):[]})(),f=(y,j)=>{const N={[y]:j};if(y==="companyName"){const T=r.find(I=>I.companyName===j);T&&(N.companyId=T.id),N.hcfCode="",N.hcfId=""}if(y==="hcfCode"){const T=u.find(I=>I.hcfCode===j);T&&(N.hcfId=T.id)}h({...l,...N})},m=y=>{d(y),h(y==="auto"?{...l,certificateNo:o()}:{...l,certificateNo:""})},v=()=>{h({...l,certificateNo:o()})},g=y=>{if(y.preventDefault(),!l.companyName||!l.hcfCode||!l.staffName||!l.staffCode||!l.trainingDate){alert("Please fill in all required fields");return}s(l)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&h({certificateNo:i==="auto"?o():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Training Certificate":"Create Training Certificate"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"certificate-form",onSubmit:g,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Organization Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:l.companyName||"",onChange:y=>{f("companyName",y.target.value)},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(y=>e.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:l.hcfCode||"",onChange:y=>f("hcfCode",y.target.value),required:!0,disabled:!l.companyId&&!l.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),u.length===0&&(l.companyId||l.companyName)?e.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):u.map(y=>e.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Staff Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staff Code *"}),e.jsx("input",{type:"text",value:l.staffCode||"",onChange:y=>f("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staff Name *"}),e.jsx("input",{type:"text",value:l.staffName||"",onChange:y=>f("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Designation *"}),e.jsx("input",{type:"text",value:l.designation||"",onChange:y=>f("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Training Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Certificate Number *"}),e.jsxs("div",{className:"certificate-no-input-group",children:[e.jsxs("div",{className:"certificate-no-mode-toggle",children:[e.jsx("button",{type:"button",className:`mode-toggle-btn ${i==="auto"?"active":""}`,onClick:()=>m("auto"),children:"Auto"}),e.jsx("button",{type:"button",className:`mode-toggle-btn ${i==="manual"?"active":""}`,onClick:()=>m("manual"),children:"Manual"})]}),e.jsx("input",{type:"text",value:l.certificateNo||"",onChange:y=>f("certificateNo",y.target.value),required:!0,placeholder:i==="auto"?"Auto-generated":"Enter certificate number",disabled:i==="auto"&&!t,style:{flex:1}}),i==="auto"&&!t&&e.jsx("button",{type:"button",className:"generate-btn-small",onClick:v,children:"Generate"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Training Date *"}),e.jsx("input",{type:"date",value:l.trainingDate||"",onChange:y=>f("trainingDate",y.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Trained By *"}),e.jsx("input",{type:"text",value:l.trainedBy||"",onChange:y=>f("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Status"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status *"}),e.jsxs("select",{value:l.status||"Active",onChange:y=>f("status",y.target.value),required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},eee=({certificate:t,hcfs:r,companies:n,onClose:a,onPrint:s})=>{const o=r.find(c=>c.hcfCode===t.hcfCode);return n.find(c=>c.companyName===t.companyName),e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",t.certificateNo]}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"certificate-view-content",children:[e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Company:"}),e.jsx("span",{children:t.companyName||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"HCF:"}),e.jsx("span",{children:o?`${t.hcfCode} - ${o.hcfName}`:t.hcfCode})]})]})]}),e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Staff Code:"}),e.jsx("span",{children:t.staffCode||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Staff Name:"}),e.jsx("span",{children:t.staffName||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Designation:"}),e.jsx("span",{children:t.designation||"-"})]})]})]}),e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Certificate Number:"}),e.jsx("span",{className:"certificate-no-display",children:t.certificateNo||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Training Date:"}),e.jsx("span",{children:t.trainingDate||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Trained By:"}),e.jsx("span",{children:t.trainedBy||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`certificate-status-badge certificate-status-badge--${t.status.toLowerCase()}`,children:t.status})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>s(t),children:"Print Certificate"})]})]})})},tee=({contracts:t,searchQuery:r,statusFilter:n})=>({filteredContracts:M.useMemo(()=>t.filter(s=>{const o=r===""||s.contractNum.toLowerCase().includes(r.toLowerCase())||s.companyName.toLowerCase().includes(r.toLowerCase()),c=n==="All"||s.status===n;return o&&c}),[t,r,n])}),ree="http://localhost:3000/api/v1",nee=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},tm=async(t,r={})=>{const n=nee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${ree}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},ZA={getAllContracts:async(t,r)=>{let n="/contracts";const a=new URLSearchParams;return t&&a.append("companyId",t),r&&a.append("status",r),a.toString()&&(n+=`?${a.toString()}`),(await tm(n,{method:"GET"})).data},getContractById:async t=>(await tm(`/contracts/${t}`,{method:"GET"})).data,createContract:async t=>(await tm("/contracts",{method:"POST",body:JSON.stringify(t)})).data,updateContract:async(t,r)=>(await tm(`/contracts/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,deleteContract:async t=>{await tm(`/contracts/${t}`,{method:"DELETE"})}},aee=()=>{const{logout:t}=ya(),r=In(),n=ds(),[a,s]=M.useState(""),[o,c]=M.useState("All"),[l,h]=M.useState(!1),[i,d]=M.useState(null),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState([]),[N,T]=M.useState(!1),[I,C]=M.useState(null),[D,_]=M.useState(!1),[Z,ae]=M.useState(!1),V=()=>{ae(!Z)},ie=M.useCallback(async()=>{try{const se=await Ha.getAllCompanies(!0);v(se.map(re=>({id:re.id,companyCode:re.companyCode,companyName:re.companyName})))}catch(se){console.error("Failed to load companies:",se)}},[]),U=M.useCallback(async()=>{try{const se=await Ei.getAllHcfs(void 0,!0);x(se.map(re=>({id:re.id,hcfCode:re.hcfCode,hcfName:re.hcfName,companyId:re.companyId})))}catch(se){console.error("Failed to load HCFs:",se)}},[]),G=M.useCallback(async()=>{try{T(!0),C(null);const se=await ZA.getAllContracts(),re=await Promise.all(se.map(async Ie=>{const Te=m.find(pe=>pe.id===Ie.companyId),xe=g.find(pe=>pe.id===Ie.hcfId);return{id:Ie.id,contractID:Ie.contractID,contractNum:Ie.contractNum,companyName:(Te==null?void 0:Te.companyName)||"Unknown",companyID:Ie.companyId,hcfName:(xe==null?void 0:xe.hcfName)||"Unknown",hcfID:Ie.hcfId,startDate:Ie.startDate,endDate:Ie.endDate,billingType:Ie.billingType,status:Ie.status}}));f(re)}catch(se){console.error("Failed to load contracts:",se),C(se.message||"Failed to load contracts")}finally{T(!1)}},[m,g]);M.useEffect(()=>{(async()=>{await Promise.all([ie(),U()])})()},[ie,U]),M.useEffect(()=>{m.length>0&&g.length>0&&G()},[m.length,g.length,G]),M.useEffect(()=>{i!=null&&i.companyID?j(g.filter(se=>se.companyId===i.companyID)):j(g)},[i==null?void 0:i.companyID,g]);const{filteredContracts:K}=tee({contracts:u,searchQuery:a,statusFilter:o}),W=()=>{d(null),h(!0)},Ne=(se,re)=>{re.stopPropagation(),d(se),h(!0)},ge=async se=>{try{_(!0),C(null),i?await ZA.updateContract(i.id,{contractNum:se.contractNum,startDate:se.startDate,endDate:se.endDate,billingType:se.billingType,status:se.status}):await ZA.createContract({contractNum:se.contractNum,companyId:se.companyID,hcfId:se.hcfID,startDate:se.startDate,endDate:se.endDate,billingType:se.billingType,status:se.status||"Draft"}),h(!1),d(null),await G()}catch(re){console.error("Failed to save contract:",re),C(re.message||"Failed to save contract"),alert(re.message||"Failed to save contract")}finally{_(!1)}},Ee=se=>{n(`/commercial-agreements/agreement?contractId=${se.id}`)},Fe=({status:se})=>{const re=`contract-status-badge contract-status-badge--${se.toLowerCase()}`;return e.jsx("span",{className:re,children:se})},he=({contract:se})=>e.jsx("div",{className:"contract-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:e.jsx("button",{className:"action-btn action-btn--edit",onClick:re=>Ne(se,re),title:"Edit Contract","aria-label":`Edit contract ${se.contractNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),le=[{key:"contractNum",label:"Contract Number",minWidth:180,render:se=>e.jsx("span",{className:"contract-num-cell",children:se.contractNum})},{key:"contractID",label:"Contract ID",minWidth:120},{key:"companyName",label:"Company",minWidth:150,render:se=>se.companyName},{key:"hcfName",label:"HCF",minWidth:150,render:se=>se.hcfName},{key:"startDate",label:"Start Date",minWidth:120},{key:"endDate",label:"End Date",minWidth:120},{key:"billingType",label:"Billing Type",minWidth:120},{key:"status",label:"Status",minWidth:100,render:se=>e.jsx(Fe,{status:se.status})},{key:"actions",label:"Actions",minWidth:100,render:se=>e.jsx(he,{contract:se})}],ve=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${Z?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Z&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:V,"aria-label":Z?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ve.map(se=>e.jsx("li",{children:e.jsxs(Zr,{to:se.path,className:`nav-link ${se.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:se.icon}),!Z&&e.jsx("span",{className:"nav-label",children:se.label})]})},se.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Z&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Z&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Contract Master"})})}),e.jsxs("div",{className:"contract-master-page",children:[e.jsx("div",{className:"contract-master-header",children:e.jsx("h1",{className:"contract-master-title",children:"Contract Master"})}),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:I}),e.jsxs("div",{className:"contract-master-actions",children:[e.jsxs("div",{className:"contract-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"contract-search-input",placeholder:"Search by contract number or company...",value:a,onChange:se=>s(se.target.value)})]}),e.jsxs("select",{className:"status-filter-select",value:o,onChange:se=>c(se.target.value),children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Expired",children:"Expired"})]}),e.jsxs("button",{className:"add-contract-btn",onClick:W,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]}),N&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),e.jsx("div",{className:"contract-table-container",children:e.jsx(p1,{data:K,columns:le,getId:se=>se.id,onRowClick:Ee,emptyMessage:"No contract records found"})}),e.jsxs("div",{className:"contract-pagination-info",children:["Showing ",K.length," of ",u.length," Items"]})]})]}),l&&e.jsx(see,{contract:i,companies:m,hcfs:y,saving:D,onClose:()=>{h(!1),d(null)},onSave:ge})]})},see=({contract:t,companies:r,hcfs:n,saving:a,onClose:s,onSave:o})=>{const[c,l]=M.useState(t||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),h=u=>{l({...c,companyID:u,hcfID:""})},i=u=>{if(u.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}o(c)},d=c.companyID?n.filter(u=>u.companyId===c.companyID):[];return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Contract":"Add Contract"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"contract-form",onSubmit:i,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Contract Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract Number *"}),e.jsx("input",{type:"text",value:c.contractNum||"",onChange:u=>l({...c,contractNum:u.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:c.companyID||"",onChange:u=>h(u.target.value),required:!0,disabled:a||!!t,children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(u=>e.jsxs("option",{value:u.id,children:[u.companyCode," - ",u.companyName]},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:c.hcfID||"",onChange:u=>l({...c,hcfID:u.target.value}),required:!0,disabled:a||!c.companyID,children:[e.jsx("option",{value:"",children:"Select HCF"}),d.map(u=>e.jsxs("option",{value:u.id,children:[u.hcfCode," - ",u.hcfName]},u.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Date *"}),e.jsx("input",{type:"date",value:c.startDate||"",onChange:u=>l({...c,startDate:u.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Date *"}),e.jsx("input",{type:"date",value:c.endDate||"",onChange:u=>l({...c,endDate:u.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type *"}),e.jsxs("select",{value:c.billingType||"Bed",onChange:u=>l({...c,billingType:u.target.value}),required:!0,disabled:a,children:[e.jsx("option",{value:"Bed",children:"Bed"}),e.jsx("option",{value:"Kg",children:"Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Draft",onChange:u=>l({...c,status:u.target.value}),disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":t?"Update":"Add"," Contract"]})]})]})]})})},iee=({agreements:t,searchQuery:r,statusFilter:n})=>({filteredAgreements:M.useMemo(()=>t.filter(s=>{const o=r===""||s.agreementNum.toLowerCase().includes(r.toLowerCase()),c=n==="All"||s.status===n;return o&&c}),[t,r,n])}),HO="http://localhost:3000/api/v1",WO=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},wv=async(t,r={})=>{const n=WO(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${HO}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},bm={getAllAgreements:async(t,r)=>{let n="/agreements";const a=new URLSearchParams;return t&&a.append("contractId",t),r&&a.append("status",r),a.toString()&&(n+=`?${a.toString()}`),(await wv(n,{method:"GET"})).data},getAgreementById:async t=>(await wv(`/agreements/${t}`,{method:"GET"})).data,createAgreement:async t=>(await wv("/agreements",{method:"POST",body:JSON.stringify(t)})).data,updateAgreement:async(t,r)=>(await wv(`/agreements/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,downloadAgreementPDF:async t=>{const r=WO(),n=await fetch(`${HO}/agreements/${t}/download`,{method:"GET",headers:{...r&&{Authorization:`Bearer ${r}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const s=await n.json();s.message&&(a=s.message)}catch{}throw new Error(a)}return n.blob()}},oee="http://localhost:3000/api/v1",lee=()=>{const t=localStorage.getItem("mw-auth-user");if(t)try{return JSON.parse(t).token||null}catch{return null}return null},rm=async(t,r={})=>{const n=lee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},s=await fetch(`${oee}${t}`,{...r,headers:a});if(!s.ok){let o=`HTTP ${s.status}: ${s.statusText}`;try{const l=await s.json();Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"?o=l.message:l.error?o=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(o=String(l.message))}catch{}const c=new Error(o);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},HA={getAllClauses:async(t,r)=>{let n="/agreement-clauses";const a=new URLSearchParams;return t&&a.append("agreementId",t),r&&a.append("status",r),a.toString()&&(n+=`?${a.toString()}`),(await rm(n,{method:"GET"})).data},getClauseById:async t=>(await rm(`/agreement-clauses/${t}`,{method:"GET"})).data,createClause:async t=>(await rm("/agreement-clauses",{method:"POST",body:JSON.stringify(t)})).data,updateClause:async(t,r)=>(await rm(`/agreement-clauses/${t}`,{method:"PUT",body:JSON.stringify(r)})).data,reorderClause:async(t,r)=>(await rm(`/agreement-clauses/${t}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:r})})).data};var Yb={exports:{}},Sv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var cee=Sv.exports,LT;function dee(){return LT||(LT=1,(function(t,r){(function(n,a){t.exports=a()})(cee,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,B){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var we in R)Object.prototype.hasOwnProperty.call(R,we)&&(L[we]=R[we])},n(F,B)};function a(F,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");n(F,B);function L(){this.constructor=F}F.prototype=B===null?Object.create(B):(L.prototype=B.prototype,new L)}var s=function(){return s=Object.assign||function(B){for(var L,R=1,we=arguments.length;R<we;R++){L=arguments[R];for(var Me in L)Object.prototype.hasOwnProperty.call(L,Me)&&(B[Me]=L[Me])}return B},s.apply(this,arguments)};function o(F,B,L,R){function we(Me){return Me instanceof L?Me:new L(function(Ve){Ve(Me)})}return new(L||(L=Promise))(function(Me,Ve){function ct(Rt){try{Lt(R.next(Rt))}catch(er){Ve(er)}}function lt(Rt){try{Lt(R.throw(Rt))}catch(er){Ve(er)}}function Lt(Rt){Rt.done?Me(Rt.value):we(Rt.value).then(ct,lt)}Lt((R=R.apply(F,[])).next())})}function c(F,B){var L={label:0,sent:function(){if(Me[0]&1)throw Me[1];return Me[1]},trys:[],ops:[]},R,we,Me,Ve;return Ve={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(Ve[Symbol.iterator]=function(){return this}),Ve;function ct(Lt){return function(Rt){return lt([Lt,Rt])}}function lt(Lt){if(R)throw new TypeError("Generator is already executing.");for(;L;)try{if(R=1,we&&(Me=Lt[0]&2?we.return:Lt[0]?we.throw||((Me=we.return)&&Me.call(we),0):we.next)&&!(Me=Me.call(we,Lt[1])).done)return Me;switch(we=0,Me&&(Lt=[Lt[0]&2,Me.value]),Lt[0]){case 0:case 1:Me=Lt;break;case 4:return L.label++,{value:Lt[1],done:!1};case 5:L.label++,we=Lt[1],Lt=[0];continue;case 7:Lt=L.ops.pop(),L.trys.pop();continue;default:if(Me=L.trys,!(Me=Me.length>0&&Me[Me.length-1])&&(Lt[0]===6||Lt[0]===2)){L=0;continue}if(Lt[0]===3&&(!Me||Lt[1]>Me[0]&&Lt[1]<Me[3])){L.label=Lt[1];break}if(Lt[0]===6&&L.label<Me[1]){L.label=Me[1],Me=Lt;break}if(Me&&L.label<Me[2]){L.label=Me[2],L.ops.push(Lt);break}Me[2]&&L.ops.pop(),L.trys.pop();continue}Lt=B.call(F,L)}catch(Rt){Lt=[6,Rt],we=0}finally{R=Me=0}if(Lt[0]&5)throw Lt[1];return{value:Lt[0]?Lt[1]:void 0,done:!0}}}function l(F,B,L){if(arguments.length===2)for(var R=0,we=B.length,Me;R<we;R++)(Me||!(R in B))&&(Me||(Me=Array.prototype.slice.call(B,0,R)),Me[R]=B[R]);return F.concat(Me||B)}for(var h=(function(){function F(B,L,R,we){this.left=B,this.top=L,this.width=R,this.height=we}return F.prototype.add=function(B,L,R,we){return new F(this.left+B,this.top+L,this.width+R,this.height+we)},F.fromClientRect=function(B,L){return new F(L.left+B.windowBounds.left,L.top+B.windowBounds.top,L.width,L.height)},F.fromDOMRectList=function(B,L){var R=Array.from(L).find(function(we){return we.width!==0});return R?new F(R.left+B.windowBounds.left,R.top+B.windowBounds.top,R.width,R.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),i=function(F,B){return h.fromClientRect(F,B.getBoundingClientRect())},d=function(F){var B=F.body,L=F.documentElement;if(!B||!L)throw new Error("Unable to get document size");var R=Math.max(Math.max(B.scrollWidth,L.scrollWidth),Math.max(B.offsetWidth,L.offsetWidth),Math.max(B.clientWidth,L.clientWidth)),we=Math.max(Math.max(B.scrollHeight,L.scrollHeight),Math.max(B.offsetHeight,L.offsetHeight),Math.max(B.clientHeight,L.clientHeight));return new h(0,0,R,we)},u=function(F){for(var B=[],L=0,R=F.length;L<R;){var we=F.charCodeAt(L++);if(we>=55296&&we<=56319&&L<R){var Me=F.charCodeAt(L++);(Me&64512)===56320?B.push(((we&1023)<<10)+(Me&1023)+65536):(B.push(we),L--)}else B.push(we)}return B},f=function(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var L=F.length;if(!L)return"";for(var R=[],we=-1,Me="";++we<L;){var Ve=F[we];Ve<=65535?R.push(Ve):(Ve-=65536,R.push((Ve>>10)+55296,Ve%1024+56320)),(we+1===L||R.length>16384)&&(Me+=String.fromCharCode.apply(String,R),R.length=0)}return Me},m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=typeof Uint8Array>"u"?[]:new Uint8Array(256),g=0;g<m.length;g++)v[m.charCodeAt(g)]=g;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),j=0;j<x.length;j++)y[x.charCodeAt(j)]=j;for(var N=function(F){var B=F.length*.75,L=F.length,R,we=0,Me,Ve,ct,lt;F[F.length-1]==="="&&(B--,F[F.length-2]==="="&&B--);var Lt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),Rt=Array.isArray(Lt)?Lt:new Uint8Array(Lt);for(R=0;R<L;R+=4)Me=y[F.charCodeAt(R)],Ve=y[F.charCodeAt(R+1)],ct=y[F.charCodeAt(R+2)],lt=y[F.charCodeAt(R+3)],Rt[we++]=Me<<2|Ve>>4,Rt[we++]=(Ve&15)<<4|ct>>2,Rt[we++]=(ct&3)<<6|lt&63;return Lt},T=function(F){for(var B=F.length,L=[],R=0;R<B;R+=2)L.push(F[R+1]<<8|F[R]);return L},I=function(F){for(var B=F.length,L=[],R=0;R<B;R+=4)L.push(F[R+3]<<24|F[R+2]<<16|F[R+1]<<8|F[R]);return L},C=5,D=11,_=2,Z=D-C,ae=65536>>C,V=1<<C,ie=V-1,U=1024>>C,G=ae+U,K=G,W=32,Ne=K+W,ge=65536>>D,Ee=1<<Z,Fe=Ee-1,he=function(F,B,L){return F.slice?F.slice(B,L):new Uint16Array(Array.prototype.slice.call(F,B,L))},le=function(F,B,L){return F.slice?F.slice(B,L):new Uint32Array(Array.prototype.slice.call(F,B,L))},ve=function(F,B){var L=N(F),R=Array.isArray(L)?I(L):new Uint32Array(L),we=Array.isArray(L)?T(L):new Uint16Array(L),Me=24,Ve=he(we,Me/2,R[4]/2),ct=R[5]===2?he(we,(Me+R[4])/2):le(R,Math.ceil((Me+R[4])/4));return new se(R[0],R[1],R[2],R[3],Ve,ct)},se=(function(){function F(B,L,R,we,Me,Ve){this.initialValue=B,this.errorValue=L,this.highStart=R,this.highValueIndex=we,this.index=Me,this.data=Ve}return F.prototype.get=function(B){var L;if(B>=0){if(B<55296||B>56319&&B<=65535)return L=this.index[B>>C],L=(L<<_)+(B&ie),this.data[L];if(B<=65535)return L=this.index[ae+(B-55296>>C)],L=(L<<_)+(B&ie),this.data[L];if(B<this.highStart)return L=Ne-ge+(B>>D),L=this.index[L],L+=B>>C&Fe,L=this.index[L],L=(L<<_)+(B&ie),this.data[L];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ie=typeof Uint8Array>"u"?[]:new Uint8Array(256),Te=0;Te<re.length;Te++)Ie[re.charCodeAt(Te)]=Te;var xe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pe=50,X=1,fe=2,oe=3,We=4,Ue=5,ue=7,be=8,Le=9,ot=10,Tt=11,Mt=12,Nt=13,qt=14,Ir=15,fr=16,He=17,Yt=18,Ct=19,Qr=20,hr=21,nn=22,Gr=23,Vr=24,Sr=25,cr=26,wr=27,Hr=28,Wr=29,hn=30,Rr=31,Rn=32,Dr=33,Pr=34,gn=35,sn=36,yt=37,Nr=38,ln=39,Fn=40,Kr=41,Dn=42,_r=43,Ka=[9001,65288],qs="!",vn="",ui="",ps=ve(xe),us=[hn,sn],Ts=[X,fe,oe,Ue],vs=[ot,be],Ai=[wr,cr],Ga=Ts.concat(vs),Ii=[Nr,ln,Fn,Pr,gn],Ma=[Ir,Nt],Rl=function(F,B){B===void 0&&(B="strict");var L=[],R=[],we=[];return F.forEach(function(Me,Ve){var ct=ps.get(Me);if(ct>pe?(we.push(!0),ct-=pe):we.push(!1),["normal","auto","loose"].indexOf(B)!==-1&&[8208,8211,12316,12448].indexOf(Me)!==-1)return R.push(Ve),L.push(fr);if(ct===We||ct===Tt){if(Ve===0)return R.push(Ve),L.push(hn);var lt=L[Ve-1];return Ga.indexOf(lt)===-1?(R.push(R[Ve-1]),L.push(lt)):(R.push(Ve),L.push(hn))}if(R.push(Ve),ct===Rr)return L.push(B==="strict"?hr:yt);if(ct===Dn||ct===Wr)return L.push(hn);if(ct===_r)return Me>=131072&&Me<=196605||Me>=196608&&Me<=262141?L.push(yt):L.push(hn);L.push(ct)}),[R,L,we]},ri=function(F,B,L,R){var we=R[L];if(Array.isArray(F)?F.indexOf(we)!==-1:F===we)for(var Me=L;Me<=R.length;){Me++;var Ve=R[Me];if(Ve===B)return!0;if(Ve!==ot)break}if(we===ot)for(var Me=L;Me>0;){Me--;var ct=R[Me];if(Array.isArray(F)?F.indexOf(ct)!==-1:F===ct)for(var lt=L;lt<=R.length;){lt++;var Ve=R[lt];if(Ve===B)return!0;if(Ve!==ot)break}if(ct!==ot)break}return!1},Zo=function(F,B){for(var L=F;L>=0;){var R=B[L];if(R===ot)L--;else return R}return 0},Ql=function(F,B,L,R,we){if(L[R]===0)return vn;var Me=R-1;if(Array.isArray(we)&&we[Me]===!0)return vn;var Ve=Me-1,ct=Me+1,lt=B[Me],Lt=Ve>=0?B[Ve]:0,Rt=B[ct];if(lt===fe&&Rt===oe)return vn;if(Ts.indexOf(lt)!==-1)return qs;if(Ts.indexOf(Rt)!==-1||vs.indexOf(Rt)!==-1)return vn;if(Zo(Me,B)===be)return ui;if(ps.get(F[Me])===Tt||(lt===Rn||lt===Dr)&&ps.get(F[ct])===Tt||lt===ue||Rt===ue||lt===Le||[ot,Nt,Ir].indexOf(lt)===-1&&Rt===Le||[He,Yt,Ct,Vr,Hr].indexOf(Rt)!==-1||Zo(Me,B)===nn||ri(Gr,nn,Me,B)||ri([He,Yt],hr,Me,B)||ri(Mt,Mt,Me,B))return vn;if(lt===ot)return ui;if(lt===Gr||Rt===Gr)return vn;if(Rt===fr||lt===fr)return ui;if([Nt,Ir,hr].indexOf(Rt)!==-1||lt===qt||Lt===sn&&Ma.indexOf(lt)!==-1||lt===Hr&&Rt===sn||Rt===Qr||us.indexOf(Rt)!==-1&&lt===Sr||us.indexOf(lt)!==-1&&Rt===Sr||lt===wr&&[yt,Rn,Dr].indexOf(Rt)!==-1||[yt,Rn,Dr].indexOf(lt)!==-1&&Rt===cr||us.indexOf(lt)!==-1&&Ai.indexOf(Rt)!==-1||Ai.indexOf(lt)!==-1&&us.indexOf(Rt)!==-1||[wr,cr].indexOf(lt)!==-1&&(Rt===Sr||[nn,Ir].indexOf(Rt)!==-1&&B[ct+1]===Sr)||[nn,Ir].indexOf(lt)!==-1&&Rt===Sr||lt===Sr&&[Sr,Hr,Vr].indexOf(Rt)!==-1)return vn;if([Sr,Hr,Vr,He,Yt].indexOf(Rt)!==-1)for(var er=Me;er>=0;){var jr=B[er];if(jr===Sr)return vn;if([Hr,Vr].indexOf(jr)!==-1)er--;else break}if([wr,cr].indexOf(Rt)!==-1)for(var er=[He,Yt].indexOf(lt)!==-1?Ve:Me;er>=0;){var jr=B[er];if(jr===Sr)return vn;if([Hr,Vr].indexOf(jr)!==-1)er--;else break}if(Nr===lt&&[Nr,ln,Pr,gn].indexOf(Rt)!==-1||[ln,Pr].indexOf(lt)!==-1&&[ln,Fn].indexOf(Rt)!==-1||[Fn,gn].indexOf(lt)!==-1&&Rt===Fn||Ii.indexOf(lt)!==-1&&[Qr,cr].indexOf(Rt)!==-1||Ii.indexOf(Rt)!==-1&&lt===wr||us.indexOf(lt)!==-1&&us.indexOf(Rt)!==-1||lt===Vr&&us.indexOf(Rt)!==-1||us.concat(Sr).indexOf(lt)!==-1&&Rt===nn&&Ka.indexOf(F[ct])===-1||us.concat(Sr).indexOf(Rt)!==-1&&lt===Yt)return vn;if(lt===Kr&&Rt===Kr){for(var mn=L[Me],en=1;mn>0&&(mn--,B[mn]===Kr);)en++;if(en%2!==0)return vn}return lt===Rn&&Rt===Dr?vn:ui},el=function(F,B){B||(B={lineBreak:"normal",wordBreak:"normal"});var L=Rl(F,B.lineBreak),R=L[0],we=L[1],Me=L[2];(B.wordBreak==="break-all"||B.wordBreak==="break-word")&&(we=we.map(function(ct){return[Sr,hn,Dn].indexOf(ct)!==-1?yt:ct}));var Ve=B.wordBreak==="keep-all"?Me.map(function(ct,lt){return ct&&F[lt]>=19968&&F[lt]<=40959}):void 0;return[R,we,Ve]},Fs=(function(){function F(B,L,R,we){this.codePoints=B,this.required=L===qs,this.start=R,this.end=we}return F.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),Gi=function(F,B){var L=u(F),R=el(L,B),we=R[0],Me=R[1],Ve=R[2],ct=L.length,lt=0,Lt=0;return{next:function(){if(Lt>=ct)return{done:!0,value:null};for(var Rt=vn;Lt<ct&&(Rt=Ql(L,Me,we,++Lt,Ve))===vn;);if(Rt!==vn||Lt===ct){var er=new Fs(L,Rt,lt,Lt);return lt=Lt,{value:er,done:!1}}return{done:!0,value:null}}}},oa=1,vl=2,qa=4,ao=8,ki=10,so=47,ko=92,io=9,ji=32,ms=34,Xa=61,Ho=35,oo=36,ec=37,Xs=39,zn=40,Ps=41,ni=95,ai=45,lo=33,Ss=60,Ri=62,Rs=64,Cs=91,qi=93,co=61,da=123,Os=63,si=125,Ti=124,pi=126,uo=128,Ut=65533,Q=42,ne=43,ce=44,O=58,H=59,ee=46,Ce=0,Oe=8,Ge=11,at=14,S=31,w=127,P=-1,z=48,Y=97,te=101,Be=102,me=117,ye=122,De=65,ze=69,Ze=70,st=85,Pe=90,gt=function(F){return F>=z&&F<=57},pt=function(F){return F>=55296&&F<=57343},xt=function(F){return gt(F)||F>=De&&F<=Ze||F>=Y&&F<=Be},rt=function(F){return F>=Y&&F<=ye},Ft=function(F){return F>=De&&F<=Pe},Vt=function(F){return rt(F)||Ft(F)},Bt=function(F){return F>=uo},et=function(F){return F===ki||F===io||F===ji},Qt=function(F){return Vt(F)||Bt(F)||F===ni},or=function(F){return Qt(F)||gt(F)||F===ai},Gt=function(F){return F>=Ce&&F<=Oe||F===Ge||F>=at&&F<=S||F===w},It=function(F,B){return F!==ko?!1:B!==ki},ir=function(F,B,L){return F===ai?Qt(B)||It(B,L):Qt(F)?!0:!!(F===ko&&It(F,B))},nt=function(F,B,L){return F===ne||F===ai?gt(B)?!0:B===ee&&gt(L):gt(F===ee?B:F)},ut=function(F){var B=0,L=1;(F[B]===ne||F[B]===ai)&&(F[B]===ai&&(L=-1),B++);for(var R=[];gt(F[B]);)R.push(F[B++]);var we=R.length?parseInt(f.apply(void 0,R),10):0;F[B]===ee&&B++;for(var Me=[];gt(F[B]);)Me.push(F[B++]);var Ve=Me.length,ct=Ve?parseInt(f.apply(void 0,Me),10):0;(F[B]===ze||F[B]===te)&&B++;var lt=1;(F[B]===ne||F[B]===ai)&&(F[B]===ai&&(lt=-1),B++);for(var Lt=[];gt(F[B]);)Lt.push(F[B++]);var Rt=Lt.length?parseInt(f.apply(void 0,Lt),10):0;return L*(we+ct*Math.pow(10,-Ve))*Math.pow(10,lt*Rt)},St={type:2},Et={type:3},lr={type:4},Ar={type:13},vr={type:8},Jt={type:21},mr={type:9},qr={type:10},Lr={type:11},Ye={type:12},vt={type:14},jt={type:23},Ht={type:1},zt={type:25},rr={type:24},pr={type:26},gr={type:27},Tr={type:28},Xr={type:29},xn={type:31},jn={type:32},aa=(function(){function F(){this._value=[]}return F.prototype.write=function(B){this._value=this._value.concat(u(B))},F.prototype.read=function(){for(var B=[],L=this.consumeToken();L!==jn;)B.push(L),L=this.consumeToken();return B},F.prototype.consumeToken=function(){var B=this.consumeCodePoint();switch(B){case ms:return this.consumeStringToken(ms);case Ho:var L=this.peekCodePoint(0),R=this.peekCodePoint(1),we=this.peekCodePoint(2);if(or(L)||It(R,we)){var Me=ir(L,R,we)?vl:oa,Ve=this.consumeName();return{type:5,value:Ve,flags:Me}}break;case oo:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),Ar;break;case Xs:return this.consumeStringToken(Xs);case zn:return St;case Ps:return Et;case Q:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),vt;break;case ne:if(nt(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case ce:return lr;case ai:var ct=B,lt=this.peekCodePoint(0),Lt=this.peekCodePoint(1);if(nt(ct,lt,Lt))return this.reconsumeCodePoint(B),this.consumeNumericToken();if(ir(ct,lt,Lt))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();if(lt===ai&&Lt===Ri)return this.consumeCodePoint(),this.consumeCodePoint(),rr;break;case ee:if(nt(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case so:if(this.peekCodePoint(0)===Q)for(this.consumeCodePoint();;){var Rt=this.consumeCodePoint();if(Rt===Q&&(Rt=this.consumeCodePoint(),Rt===so))return this.consumeToken();if(Rt===P)return this.consumeToken()}break;case O:return pr;case H:return gr;case Ss:if(this.peekCodePoint(0)===lo&&this.peekCodePoint(1)===ai&&this.peekCodePoint(2)===ai)return this.consumeCodePoint(),this.consumeCodePoint(),zt;break;case Rs:var er=this.peekCodePoint(0),jr=this.peekCodePoint(1),mn=this.peekCodePoint(2);if(ir(er,jr,mn)){var Ve=this.consumeName();return{type:7,value:Ve}}break;case Cs:return Tr;case ko:if(It(B,this.peekCodePoint(0)))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();break;case qi:return Xr;case co:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),vr;break;case da:return Lr;case si:return Ye;case me:case st:var en=this.peekCodePoint(0),fn=this.peekCodePoint(1);return en===ne&&(xt(fn)||fn===Os)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(B),this.consumeIdentLikeToken();case Ti:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),mr;if(this.peekCodePoint(0)===Ti)return this.consumeCodePoint(),Jt;break;case pi:if(this.peekCodePoint(0)===Xa)return this.consumeCodePoint(),qr;break;case P:return jn}return et(B)?(this.consumeWhiteSpace(),xn):gt(B)?(this.reconsumeCodePoint(B),this.consumeNumericToken()):Qt(B)?(this.reconsumeCodePoint(B),this.consumeIdentLikeToken()):{type:6,value:f(B)}},F.prototype.consumeCodePoint=function(){var B=this._value.shift();return typeof B>"u"?-1:B},F.prototype.reconsumeCodePoint=function(B){this._value.unshift(B)},F.prototype.peekCodePoint=function(B){return B>=this._value.length?-1:this._value[B]},F.prototype.consumeUnicodeRangeToken=function(){for(var B=[],L=this.consumeCodePoint();xt(L)&&B.length<6;)B.push(L),L=this.consumeCodePoint();for(var R=!1;L===Os&&B.length<6;)B.push(L),L=this.consumeCodePoint(),R=!0;if(R){var we=parseInt(f.apply(void 0,B.map(function(lt){return lt===Os?z:lt})),16),Me=parseInt(f.apply(void 0,B.map(function(lt){return lt===Os?Ze:lt})),16);return{type:30,start:we,end:Me}}var Ve=parseInt(f.apply(void 0,B),16);if(this.peekCodePoint(0)===ai&&xt(this.peekCodePoint(1))){this.consumeCodePoint(),L=this.consumeCodePoint();for(var ct=[];xt(L)&&ct.length<6;)ct.push(L),L=this.consumeCodePoint();var Me=parseInt(f.apply(void 0,ct),16);return{type:30,start:Ve,end:Me}}else return{type:30,start:Ve,end:Ve}},F.prototype.consumeIdentLikeToken=function(){var B=this.consumeName();return B.toLowerCase()==="url"&&this.peekCodePoint(0)===zn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zn?(this.consumeCodePoint(),{type:19,value:B}):{type:20,value:B}},F.prototype.consumeUrlToken=function(){var B=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===P)return{type:22,value:""};var L=this.peekCodePoint(0);if(L===Xs||L===ms){var R=this.consumeStringToken(this.consumeCodePoint());return R.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===P||this.peekCodePoint(0)===Ps)?(this.consumeCodePoint(),{type:22,value:R.value}):(this.consumeBadUrlRemnants(),jt)}for(;;){var we=this.consumeCodePoint();if(we===P||we===Ps)return{type:22,value:f.apply(void 0,B)};if(et(we))return this.consumeWhiteSpace(),this.peekCodePoint(0)===P||this.peekCodePoint(0)===Ps?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,B)}):(this.consumeBadUrlRemnants(),jt);if(we===ms||we===Xs||we===zn||Gt(we))return this.consumeBadUrlRemnants(),jt;if(we===ko)if(It(we,this.peekCodePoint(0)))B.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jt;else B.push(we)}},F.prototype.consumeWhiteSpace=function(){for(;et(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var B=this.consumeCodePoint();if(B===Ps||B===P)return;It(B,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(B){for(var L=5e4,R="";B>0;){var we=Math.min(L,B);R+=f.apply(void 0,this._value.splice(0,we)),B-=we}return this._value.shift(),R},F.prototype.consumeStringToken=function(B){var L="",R=0;do{var we=this._value[R];if(we===P||we===void 0||we===B)return L+=this.consumeStringSlice(R),{type:0,value:L};if(we===ki)return this._value.splice(0,R),Ht;if(we===ko){var Me=this._value[R+1];Me!==P&&Me!==void 0&&(Me===ki?(L+=this.consumeStringSlice(R),R=-1,this._value.shift()):It(we,Me)&&(L+=this.consumeStringSlice(R),L+=f(this.consumeEscapedCodePoint()),R=-1))}R++}while(!0)},F.prototype.consumeNumber=function(){var B=[],L=qa,R=this.peekCodePoint(0);for((R===ne||R===ai)&&B.push(this.consumeCodePoint());gt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());R=this.peekCodePoint(0);var we=this.peekCodePoint(1);if(R===ee&&gt(we))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),L=ao;gt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());R=this.peekCodePoint(0),we=this.peekCodePoint(1);var Me=this.peekCodePoint(2);if((R===ze||R===te)&&((we===ne||we===ai)&&gt(Me)||gt(we)))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),L=ao;gt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());return[ut(B),L]},F.prototype.consumeNumericToken=function(){var B=this.consumeNumber(),L=B[0],R=B[1],we=this.peekCodePoint(0),Me=this.peekCodePoint(1),Ve=this.peekCodePoint(2);if(ir(we,Me,Ve)){var ct=this.consumeName();return{type:15,number:L,flags:R,unit:ct}}return we===ec?(this.consumeCodePoint(),{type:16,number:L,flags:R}):{type:17,number:L,flags:R}},F.prototype.consumeEscapedCodePoint=function(){var B=this.consumeCodePoint();if(xt(B)){for(var L=f(B);xt(this.peekCodePoint(0))&&L.length<6;)L+=f(this.consumeCodePoint());et(this.peekCodePoint(0))&&this.consumeCodePoint();var R=parseInt(L,16);return R===0||pt(R)||R>1114111?Ut:R}return B===P?Ut:B},F.prototype.consumeName=function(){for(var B="";;){var L=this.consumeCodePoint();if(or(L))B+=f(L);else if(It(L,this.peekCodePoint(0)))B+=f(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(L),B}},F})(),dt=(function(){function F(B){this._tokens=B}return F.create=function(B){var L=new aa;return L.write(B),new F(L.read())},F.parseValue=function(B){return F.create(B).parseComponentValue()},F.parseValues=function(B){return F.create(B).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var B=this.consumeToken();B.type===31;)B=this.consumeToken();if(B.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(B);var L=this.consumeComponentValue();do B=this.consumeToken();while(B.type===31);if(B.type===32)return L;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var B=[];;){var L=this.consumeComponentValue();if(L.type===32)return B;B.push(L),B.push()}},F.prototype.consumeComponentValue=function(){var B=this.consumeToken();switch(B.type){case 11:case 28:case 2:return this.consumeSimpleBlock(B.type);case 19:return this.consumeFunction(B)}return B},F.prototype.consumeSimpleBlock=function(B){for(var L={type:B,values:[]},R=this.consumeToken();;){if(R.type===32||is(R,B))return L;this.reconsumeToken(R),L.values.push(this.consumeComponentValue()),R=this.consumeToken()}},F.prototype.consumeFunction=function(B){for(var L={name:B.value,values:[],type:18};;){var R=this.consumeToken();if(R.type===32||R.type===3)return L;this.reconsumeToken(R),L.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var B=this._tokens.shift();return typeof B>"u"?jn:B},F.prototype.reconsumeToken=function(B){this._tokens.unshift(B)},F})(),cn=function(F){return F.type===15},ua=function(F){return F.type===17},on=function(F){return F.type===20},Ur=function(F){return F.type===0},ra=function(F,B){return on(F)&&F.value===B},Pn=function(F){return F.type!==31},qn=function(F){return F.type!==31&&F.type!==4},On=function(F){var B=[],L=[];return F.forEach(function(R){if(R.type===4){if(L.length===0)throw new Error("Error parsing function args, zero tokens for arg");B.push(L),L=[];return}R.type!==31&&L.push(R)}),L.length&&B.push(L),B},is=function(F,B){return B===11&&F.type===12||B===28&&F.type===29?!0:B===2&&F.type===3},Fa=function(F){return F.type===17||F.type===15},kn=function(F){return F.type===16||Fa(F)},Ja=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},na={type:17,number:0,flags:qa},Bn={type:16,number:50,flags:qa},sa={type:16,number:100,flags:qa},Sn=function(F,B,L){var R=F[0],we=F[1];return[ma(R,B),ma(typeof we<"u"?we:R,L)]},ma=function(F,B){if(F.type===16)return F.number/100*B;if(cn(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},ts="deg",_a="grad",La="rad",Hs="turn",Wn={name:"angle",parse:function(F,B){if(B.type===15)switch(B.unit){case ts:return Math.PI*B.number/180;case _a:return Math.PI/200*B.number;case La:return B.number;case Hs:return Math.PI*2*B.number}throw new Error("Unsupported angle type")}},xs=function(F){return F.type===15&&(F.unit===ts||F.unit===_a||F.unit===La||F.unit===Hs)},Aa=function(F){var B=F.filter(on).map(function(L){return L.value}).join(" ");switch(B){case"to bottom right":case"to right bottom":case"left top":case"top left":return[na,na];case"to top":case"bottom":return Hn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[na,sa];case"to right":case"left":return Hn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sa,sa];case"to bottom":case"top":return Hn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sa,na];case"to left":case"right":return Hn(270)}return 0},Hn=function(F){return Math.PI*F/180},ys={name:"color",parse:function(F,B){if(B.type===18){var L=la[B.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported color function "'+B.name+'"');return L(F,B.values)}if(B.type===5){if(B.value.length===3){var R=B.value.substring(0,1),we=B.value.substring(1,2),Me=B.value.substring(2,3);return Wa(parseInt(R+R,16),parseInt(we+we,16),parseInt(Me+Me,16),1)}if(B.value.length===4){var R=B.value.substring(0,1),we=B.value.substring(1,2),Me=B.value.substring(2,3),Ve=B.value.substring(3,4);return Wa(parseInt(R+R,16),parseInt(we+we,16),parseInt(Me+Me,16),parseInt(Ve+Ve,16)/255)}if(B.value.length===6){var R=B.value.substring(0,2),we=B.value.substring(2,4),Me=B.value.substring(4,6);return Wa(parseInt(R,16),parseInt(we,16),parseInt(Me,16),1)}if(B.value.length===8){var R=B.value.substring(0,2),we=B.value.substring(2,4),Me=B.value.substring(4,6),Ve=B.value.substring(6,8);return Wa(parseInt(R,16),parseInt(we,16),parseInt(Me,16),parseInt(Ve,16)/255)}}if(B.type===20){var ct=Yi[B.value.toUpperCase()];if(typeof ct<"u")return ct}return Yi.TRANSPARENT}},ga=function(F){return(255&F)===0},wn=function(F){var B=255&F,L=255&F>>8,R=255&F>>16,we=255&F>>24;return B<255?"rgba("+we+","+R+","+L+","+B/255+")":"rgb("+we+","+R+","+L+")"},Wa=function(F,B,L,R){return(F<<24|B<<16|L<<8|Math.round(R*255)<<0)>>>0},fc=function(F,B){if(F.type===17)return F.number;if(F.type===16){var L=B===3?1:255;return B===3?F.number/100*L:Math.round(F.number/100*L)}return 0},wi=function(F,B){var L=B.filter(qn);if(L.length===3){var R=L.map(fc),we=R[0],Me=R[1],Ve=R[2];return Wa(we,Me,Ve,1)}if(L.length===4){var ct=L.map(fc),we=ct[0],Me=ct[1],Ve=ct[2],lt=ct[3];return Wa(we,Me,Ve,lt)}return 0};function Xi(F,B,L){return L<0&&(L+=1),L>=1&&(L-=1),L<1/6?(B-F)*L*6+F:L<1/2?B:L<2/3?(B-F)*6*(2/3-L)+F:F}var Hl=function(F,B){var L=B.filter(qn),R=L[0],we=L[1],Me=L[2],Ve=L[3],ct=(R.type===17?Hn(R.number):Wn.parse(F,R))/(Math.PI*2),lt=kn(we)?we.number/100:0,Lt=kn(Me)?Me.number/100:0,Rt=typeof Ve<"u"&&kn(Ve)?ma(Ve,1):1;if(lt===0)return Wa(Lt*255,Lt*255,Lt*255,1);var er=Lt<=.5?Lt*(lt+1):Lt+lt-Lt*lt,jr=Lt*2-er,mn=Xi(jr,er,ct+1/3),en=Xi(jr,er,ct),fn=Xi(jr,er,ct-1/3);return Wa(mn*255,en*255,fn*255,Rt)},la={hsl:Hl,hsla:Hl,rgb:wi,rgba:wi},ii=function(F,B){return ys.parse(F,dt.create(B).parseComponentValue())},Yi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,B){return B.map(function(L){if(on(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mi={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ns=function(F,B){var L=ys.parse(F,B[0]),R=B[1];return R&&kn(R)?{color:L,stop:R}:{color:L,stop:null}},hi=function(F,B){var L=F[0],R=F[F.length-1];L.stop===null&&(L.stop=na),R.stop===null&&(R.stop=sa);for(var we=[],Me=0,Ve=0;Ve<F.length;Ve++){var ct=F[Ve].stop;if(ct!==null){var lt=ma(ct,B);lt>Me?we.push(lt):we.push(Me),Me=lt}else we.push(null)}for(var Lt=null,Ve=0;Ve<we.length;Ve++){var Rt=we[Ve];if(Rt===null)Lt===null&&(Lt=Ve);else if(Lt!==null){for(var er=Ve-Lt,jr=we[Lt-1],mn=(Rt-jr)/(er+1),en=1;en<=er;en++)we[Lt+en-1]=mn*en;Lt=null}}return F.map(function(fn,za){var Kn=fn.color;return{color:Kn,stop:Math.max(Math.min(1,we[za]/B),0)}})},Qi=function(F,B,L){var R=B/2,we=L/2,Me=ma(F[0],B)-R,Ve=we-ma(F[1],L);return(Math.atan2(Ve,Me)+Math.PI*2)%(Math.PI*2)},pc=function(F,B,L){var R=typeof F=="number"?F:Qi(F,B,L),we=Math.abs(B*Math.sin(R))+Math.abs(L*Math.cos(R)),Me=B/2,Ve=L/2,ct=we/2,lt=Math.sin(R-Math.PI/2)*ct,Lt=Math.cos(R-Math.PI/2)*ct;return[we,Me-Lt,Me+Lt,Ve-lt,Ve+lt]},Fi=function(F,B){return Math.sqrt(F*F+B*B)},To=function(F,B,L,R,we){var Me=[[0,0],[0,B],[F,0],[F,B]];return Me.reduce(function(Ve,ct){var lt=ct[0],Lt=ct[1],Rt=Fi(L-lt,R-Lt);return(we?Rt<Ve.optimumDistance:Rt>Ve.optimumDistance)?{optimumCorner:ct,optimumDistance:Rt}:Ve},{optimumDistance:we?1/0:-1/0,optimumCorner:null}).optimumCorner},Wl=function(F,B,L,R,we){var Me=0,Ve=0;switch(F.size){case 0:F.shape===0?Me=Ve=Math.min(Math.abs(B),Math.abs(B-R),Math.abs(L),Math.abs(L-we)):F.shape===1&&(Me=Math.min(Math.abs(B),Math.abs(B-R)),Ve=Math.min(Math.abs(L),Math.abs(L-we)));break;case 2:if(F.shape===0)Me=Ve=Math.min(Fi(B,L),Fi(B,L-we),Fi(B-R,L),Fi(B-R,L-we));else if(F.shape===1){var ct=Math.min(Math.abs(L),Math.abs(L-we))/Math.min(Math.abs(B),Math.abs(B-R)),lt=To(R,we,B,L,!0),Lt=lt[0],Rt=lt[1];Me=Fi(Lt-B,(Rt-L)/ct),Ve=ct*Me}break;case 1:F.shape===0?Me=Ve=Math.max(Math.abs(B),Math.abs(B-R),Math.abs(L),Math.abs(L-we)):F.shape===1&&(Me=Math.max(Math.abs(B),Math.abs(B-R)),Ve=Math.max(Math.abs(L),Math.abs(L-we)));break;case 3:if(F.shape===0)Me=Ve=Math.max(Fi(B,L),Fi(B,L-we),Fi(B-R,L),Fi(B-R,L-we));else if(F.shape===1){var ct=Math.max(Math.abs(L),Math.abs(L-we))/Math.max(Math.abs(B),Math.abs(B-R)),er=To(R,we,B,L,!1),Lt=er[0],Rt=er[1];Me=Fi(Lt-B,(Rt-L)/ct),Ve=ct*Me}break}return Array.isArray(F.size)&&(Me=ma(F.size[0],R),Ve=F.size.length===2?ma(F.size[1],we):Me),[Me,Ve]},xl=function(F,B){var L=Hn(180),R=[];return On(B).forEach(function(we,Me){if(Me===0){var Ve=we[0];if(Ve.type===20&&Ve.value==="to"){L=Aa(we);return}else if(xs(Ve)){L=Wn.parse(F,Ve);return}}var ct=Ns(F,we);R.push(ct)}),{angle:L,stops:R,type:1}},Pi=function(F,B){var L=Hn(180),R=[];return On(B).forEach(function(we,Me){if(Me===0){var Ve=we[0];if(Ve.type===20&&["top","left","right","bottom"].indexOf(Ve.value)!==-1){L=Aa(we);return}else if(xs(Ve)){L=(Wn.parse(F,Ve)+Hn(270))%Hn(360);return}}var ct=Ns(F,we);R.push(ct)}),{angle:L,stops:R,type:1}},Fo=function(F,B){var L=Hn(180),R=[],we=1,Me=0,Ve=3,ct=[];return On(B).forEach(function(lt,Lt){var Rt=lt[0];if(Lt===0){if(on(Rt)&&Rt.value==="linear"){we=1;return}else if(on(Rt)&&Rt.value==="radial"){we=2;return}}if(Rt.type===18){if(Rt.name==="from"){var er=ys.parse(F,Rt.values[0]);R.push({stop:na,color:er})}else if(Rt.name==="to"){var er=ys.parse(F,Rt.values[0]);R.push({stop:sa,color:er})}else if(Rt.name==="color-stop"){var jr=Rt.values.filter(qn);if(jr.length===2){var er=ys.parse(F,jr[1]),mn=jr[0];ua(mn)&&R.push({stop:{type:16,number:mn.number*100,flags:mn.flags},color:er})}}}}),we===1?{angle:(L+Hn(180))%Hn(360),stops:R,type:we}:{size:Ve,shape:Me,stops:R,position:ct,type:we}},rl="closest-side",yo="farthest-side",Ao="closest-corner",yl="farthest-corner",nl="circle",$l="ellipse",vd="cover",tc="contain",xd=function(F,B){var L=0,R=3,we=[],Me=[];return On(B).forEach(function(Ve,ct){var lt=!0;if(ct===0){var Lt=!1;lt=Ve.reduce(function(er,jr){if(Lt)if(on(jr))switch(jr.value){case"center":return Me.push(Bn),er;case"top":case"left":return Me.push(na),er;case"right":case"bottom":return Me.push(sa),er}else(kn(jr)||Fa(jr))&&Me.push(jr);else if(on(jr))switch(jr.value){case nl:return L=0,!1;case $l:return L=1,!1;case"at":return Lt=!0,!1;case rl:return R=0,!1;case vd:case yo:return R=1,!1;case tc:case Ao:return R=2,!1;case yl:return R=3,!1}else if(Fa(jr)||kn(jr))return Array.isArray(R)||(R=[]),R.push(jr),!1;return er},lt)}if(lt){var Rt=Ns(F,Ve);we.push(Rt)}}),{size:R,shape:L,stops:we,position:Me,type:2}},mc=function(F,B){var L=0,R=3,we=[],Me=[];return On(B).forEach(function(Ve,ct){var lt=!0;if(ct===0?lt=Ve.reduce(function(Rt,er){if(on(er))switch(er.value){case"center":return Me.push(Bn),!1;case"top":case"left":return Me.push(na),!1;case"right":case"bottom":return Me.push(sa),!1}else if(kn(er)||Fa(er))return Me.push(er),!1;return Rt},lt):ct===1&&(lt=Ve.reduce(function(Rt,er){if(on(er))switch(er.value){case nl:return L=0,!1;case $l:return L=1,!1;case tc:case rl:return R=0,!1;case yo:return R=1,!1;case Ao:return R=2,!1;case vd:case yl:return R=3,!1}else if(Fa(er)||kn(er))return Array.isArray(R)||(R=[]),R.push(er),!1;return Rt},lt)),lt){var Lt=Ns(F,Ve);we.push(Lt)}}),{size:R,shape:L,stops:we,position:Me,type:2}},bo=function(F){return F.type===1},gc=function(F){return F.type===2},Fc={name:"image",parse:function(F,B){if(B.type===22){var L={url:B.value,type:0};return F.cache.addImage(B.value),L}if(B.type===18){var R=al[B.name];if(typeof R>"u")throw new Error('Attempting to parse an unsupported image function "'+B.name+'"');return R(F,B.values)}throw new Error("Unsupported image type "+B.type)}};function Kc(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!al[F.name])}var al={"linear-gradient":xl,"-moz-linear-gradient":Pi,"-ms-linear-gradient":Pi,"-o-linear-gradient":Pi,"-webkit-linear-gradient":Pi,"radial-gradient":xd,"-moz-radial-gradient":mc,"-ms-radial-gradient":mc,"-o-radial-gradient":mc,"-webkit-radial-gradient":mc,"-webkit-gradient":Fo},Gc={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,B){if(B.length===0)return[];var L=B[0];return L.type===20&&L.value==="none"?[]:B.filter(function(R){return qn(R)&&Kc(R)}).map(function(R){return Fc.parse(F,R)})}},qc={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,B){return B.map(function(L){if(on(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,B){return On(B).map(function(L){return L.filter(kn)}).map(Ja)}},Xc={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,B){return On(B).map(function(L){return L.filter(on).map(function(R){return R.value}).join(" ")}).map(Pc)}},Pc=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},fa;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(fa||(fa={}));var yd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,B){return On(B).map(function(L){return L.filter(jl)})}},jl=function(F){return on(F)||kn(F)},As=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},bd=As("top"),Wo=As("right"),fi=As("bottom"),zl=As("left"),vc=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(B,L){return Ja(L.filter(kn))}}},sl=vc("top-left"),Yc=vc("top-right"),jo=vc("bottom-right"),jd=vc("bottom-left"),Oc=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(B,L){switch(L){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},wd=Oc("top"),xc=Oc("right"),Mc=Oc("bottom"),Dc=Oc("left"),_c=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(B,L){return cn(L)?L.number:0}}},Lc=_c("top"),Cd=_c("right"),il=_c("bottom"),Du=_c("left"),Uc={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gd={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,B){switch(B){case"rtl":return 1;case"ltr":default:return 0}}},_u={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,B){return B.filter(on).reduce(function(L,R){return L|va(R.value)},0)}},va=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},rc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fu={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,B){return B.type===20&&B.value==="normal"?0:B.type===17||B.type===15?B.number:0}},Vl;(function(F){F.NORMAL="normal",F.STRICT="strict"})(Vl||(Vl={}));var Ji={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"strict":return Vl.STRICT;case"normal":default:return Vl.NORMAL}}},ol={name:"line-height",initialValue:"normal",prefix:!1,type:4},wl=function(F,B){return on(F)&&F.value==="normal"?1.2*B:F.type===17?B*F.number:kn(F)?ma(F,B):B},qd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,B){return B.type===20&&B.value==="none"?null:Fc.parse(F,B)}},$o={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,B){switch(B){case"inside":return 0;case"outside":default:return 1}}},Jc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},wo=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},Rc=wo("top"),zo=wo("right"),Nd=wo("bottom"),Kl=wo("left"),Cl={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,B){return B.filter(on).map(function(L){switch(L.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ll={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"break-word":return"break-word";case"normal":default:return"normal"}}},rs=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},bs=rs("top"),cl=rs("right"),oi=rs("bottom"),gi=rs("left"),Gl={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,B){switch(B){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},yc={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,B){switch(B){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ho={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,B){return B.length===1&&ra(B[0],"none")?[]:On(B).map(function(L){for(var R={color:Yi.TRANSPARENT,offsetX:na,offsetY:na,blur:na},we=0,Me=0;Me<L.length;Me++){var Ve=L[Me];Fa(Ve)?(we===0?R.offsetX=Ve:we===1?R.offsetY=Ve:R.blur=Ve,we++):R.color=ys.parse(F,Ve)}return R})}},Nl={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},nc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,B){if(B.type===20&&B.value==="none")return null;if(B.type===18){var L=Yd[B.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported transform function "'+B.name+'"');return L(B.values)}return null}},Xd=function(F){var B=F.filter(function(L){return L.type===17}).map(function(L){return L.number});return B.length===6?B:null},ac=function(F){var B=F.filter(function(lt){return lt.type===17}).map(function(lt){return lt.number}),L=B[0],R=B[1];B[2],B[3];var we=B[4],Me=B[5];B[6],B[7],B[8],B[9],B[10],B[11];var Ve=B[12],ct=B[13];return B[14],B[15],B.length===16?[L,R,we,Me,Ve,ct]:null},Yd={matrix:Xd,matrix3d:ac},de={type:16,number:50,flags:qa},Re=[de,de],mt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,B){var L=B.filter(kn);return L.length!==2?Re:[L[0],L[1]]}},kt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,B){switch(B){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Kt;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(Kt||(Kt={}));for(var xr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"break-all":return Kt.BREAK_ALL;case"keep-all":return Kt.KEEP_ALL;case"normal":default:return Kt.NORMAL}}},Fr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,B){if(B.type===20)return{auto:!0,order:0};if(ua(B))return{auto:!1,order:B.number};throw new Error("Invalid z-index number parsed")}},Cn={name:"time",parse:function(F,B){if(B.type===15)switch(B.unit.toLowerCase()){case"s":return 1e3*B.number;case"ms":return B.number}throw new Error("Unsupported time type")}},_n={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,B){return ua(B)?B.number:1}},ca={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,B){return B.filter(on).map(function(L){switch(L.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(L){return L!==0})}},Na={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,B){var L=[],R=[];return B.forEach(function(we){switch(we.type){case 20:case 0:L.push(we.value);break;case 17:L.push(we.number.toString());break;case 4:R.push(L.join(" ")),L.length=0;break}}),L.length&&R.push(L.join(" ")),R.map(function(we){return we.indexOf(" ")===-1?we:"'"+we+"'"})}},Bs={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Es={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,B){if(ua(B))return B.number;if(on(B))switch(B.value){case"bold":return 700;case"normal":default:return 400}return 400}},as={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,B){return B.filter(on).map(function(L){return L.value})}},Ys={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,B){switch(B){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},E=function(F,B){return(F&B)!==0},_e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,B){if(B.length===0)return[];var L=B[0];return L.type===20&&L.value==="none"?[]:B}},J={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,B){if(B.length===0)return null;var L=B[0];if(L.type===20&&L.value==="none")return null;for(var R=[],we=B.filter(Pn),Me=0;Me<we.length;Me++){var Ve=we[Me],ct=we[Me+1];if(Ve.type===20){var lt=ct&&ua(ct)?ct.number:1;R.push({counter:Ve.value,increment:lt})}}return R}},Xe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,B){if(B.length===0)return[];for(var L=[],R=B.filter(Pn),we=0;we<R.length;we++){var Me=R[we],Ve=R[we+1];if(on(Me)&&Me.value!=="none"){var ct=Ve&&ua(Ve)?Ve.number:0;L.push({counter:Me.value,reset:ct})}}return L}},At={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,B){return B.filter(cn).map(function(L){return Cn.parse(F,L)})}},it={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,B){if(B.length===0)return null;var L=B[0];if(L.type===20&&L.value==="none")return null;var R=[],we=B.filter(Ur);if(we.length%2!==0)return null;for(var Me=0;Me<we.length;Me+=2){var Ve=we[Me].value,ct=we[Me+1].value;R.push({open:Ve,close:ct})}return R}},Zt=function(F,B,L){if(!F)return"";var R=F[Math.min(B,F.length-1)];return R?L?R.open:R.close:""},Wt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,B){return B.length===1&&ra(B[0],"none")?[]:On(B).map(function(L){for(var R={color:255,offsetX:na,offsetY:na,blur:na,spread:na,inset:!1},we=0,Me=0;Me<L.length;Me++){var Ve=L[Me];ra(Ve,"inset")?R.inset=!0:Fa(Ve)?(we===0?R.offsetX=Ve:we===1?R.offsetY=Ve:we===2?R.blur=Ve:R.spread=Ve,we++):R.color=ys.parse(F,Ve)}return R})}},yn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,B){var L=[0,1,2],R=[];return B.filter(on).forEach(function(we){switch(we.value){case"stroke":R.push(1);break;case"fill":R.push(0);break;case"markers":R.push(2);break}}),L.forEach(function(we){R.indexOf(we)===-1&&R.push(we)}),R}},Pt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ar={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,B){return cn(B)?B.number:0}},ha=(function(){function F(B,L){var R,we;this.animationDuration=yr(B,At,L.animationDuration),this.backgroundClip=yr(B,tl,L.backgroundClip),this.backgroundColor=yr(B,mi,L.backgroundColor),this.backgroundImage=yr(B,Gc,L.backgroundImage),this.backgroundOrigin=yr(B,qc,L.backgroundOrigin),this.backgroundPosition=yr(B,bl,L.backgroundPosition),this.backgroundRepeat=yr(B,Xc,L.backgroundRepeat),this.backgroundSize=yr(B,yd,L.backgroundSize),this.borderTopColor=yr(B,bd,L.borderTopColor),this.borderRightColor=yr(B,Wo,L.borderRightColor),this.borderBottomColor=yr(B,fi,L.borderBottomColor),this.borderLeftColor=yr(B,zl,L.borderLeftColor),this.borderTopLeftRadius=yr(B,sl,L.borderTopLeftRadius),this.borderTopRightRadius=yr(B,Yc,L.borderTopRightRadius),this.borderBottomRightRadius=yr(B,jo,L.borderBottomRightRadius),this.borderBottomLeftRadius=yr(B,jd,L.borderBottomLeftRadius),this.borderTopStyle=yr(B,wd,L.borderTopStyle),this.borderRightStyle=yr(B,xc,L.borderRightStyle),this.borderBottomStyle=yr(B,Mc,L.borderBottomStyle),this.borderLeftStyle=yr(B,Dc,L.borderLeftStyle),this.borderTopWidth=yr(B,Lc,L.borderTopWidth),this.borderRightWidth=yr(B,Cd,L.borderRightWidth),this.borderBottomWidth=yr(B,il,L.borderBottomWidth),this.borderLeftWidth=yr(B,Du,L.borderLeftWidth),this.boxShadow=yr(B,Wt,L.boxShadow),this.color=yr(B,Uc,L.color),this.direction=yr(B,Gd,L.direction),this.display=yr(B,_u,L.display),this.float=yr(B,rc,L.cssFloat),this.fontFamily=yr(B,Na,L.fontFamily),this.fontSize=yr(B,Bs,L.fontSize),this.fontStyle=yr(B,Ys,L.fontStyle),this.fontVariant=yr(B,as,L.fontVariant),this.fontWeight=yr(B,Es,L.fontWeight),this.letterSpacing=yr(B,fu,L.letterSpacing),this.lineBreak=yr(B,Ji,L.lineBreak),this.lineHeight=yr(B,ol,L.lineHeight),this.listStyleImage=yr(B,qd,L.listStyleImage),this.listStylePosition=yr(B,$o,L.listStylePosition),this.listStyleType=yr(B,Jc,L.listStyleType),this.marginTop=yr(B,Rc,L.marginTop),this.marginRight=yr(B,zo,L.marginRight),this.marginBottom=yr(B,Nd,L.marginBottom),this.marginLeft=yr(B,Kl,L.marginLeft),this.opacity=yr(B,_n,L.opacity);var Me=yr(B,Cl,L.overflow);this.overflowX=Me[0],this.overflowY=Me[Me.length>1?1:0],this.overflowWrap=yr(B,ll,L.overflowWrap),this.paddingTop=yr(B,bs,L.paddingTop),this.paddingRight=yr(B,cl,L.paddingRight),this.paddingBottom=yr(B,oi,L.paddingBottom),this.paddingLeft=yr(B,gi,L.paddingLeft),this.paintOrder=yr(B,yn,L.paintOrder),this.position=yr(B,yc,L.position),this.textAlign=yr(B,Gl,L.textAlign),this.textDecorationColor=yr(B,ca,(R=L.textDecorationColor)!==null&&R!==void 0?R:L.color),this.textDecorationLine=yr(B,Zn,(we=L.textDecorationLine)!==null&&we!==void 0?we:L.textDecoration),this.textShadow=yr(B,ho,L.textShadow),this.textTransform=yr(B,Nl,L.textTransform),this.transform=yr(B,nc,L.transform),this.transformOrigin=yr(B,mt,L.transformOrigin),this.visibility=yr(B,kt,L.visibility),this.webkitTextStrokeColor=yr(B,Pt,L.webkitTextStrokeColor),this.webkitTextStrokeWidth=yr(B,ar,L.webkitTextStrokeWidth),this.wordBreak=yr(B,xr,L.wordBreak),this.zIndex=yr(B,Fr,L.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return ga(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return E(this.display,4)||E(this.display,33554432)||E(this.display,268435456)||E(this.display,536870912)||E(this.display,67108864)||E(this.display,134217728)},F})(),dn=(function(){function F(B,L){this.content=yr(B,_e,L.content),this.quotes=yr(B,it,L.quotes)}return F})(),Or=(function(){function F(B,L){this.counterIncrement=yr(B,J,L.counterIncrement),this.counterReset=yr(B,Xe,L.counterReset)}return F})(),yr=function(F,B,L){var R=new aa,we=L!==null&&typeof L<"u"?L.toString():B.initialValue;R.write(we);var Me=new dt(R.read());switch(B.type){case 2:var Ve=Me.parseComponentValue();return B.parse(F,on(Ve)?Ve.value:B.initialValue);case 0:return B.parse(F,Me.parseComponentValue());case 1:return B.parse(F,Me.parseComponentValues());case 4:return Me.parseComponentValue();case 3:switch(B.format){case"angle":return Wn.parse(F,Me.parseComponentValue());case"color":return ys.parse(F,Me.parseComponentValue());case"image":return Fc.parse(F,Me.parseComponentValue());case"length":var ct=Me.parseComponentValue();return Fa(ct)?ct:na;case"length-percentage":var lt=Me.parseComponentValue();return kn(lt)?lt:na;case"time":return Cn.parse(F,Me.parseComponentValue())}break}},Is="data-html2canvas-debug",pa=function(F){var B=F.getAttribute(Is);switch(B){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ea=function(F,B){var L=pa(F);return L===1||B===L},xa=(function(){function F(B,L){if(this.context=B,this.textNodes=[],this.elements=[],this.flags=0,ea(L,3))debugger;this.styles=new ha(B,window.getComputedStyle(L,null)),Fd(L)&&(this.styles.animationDuration.some(function(R){return R>0})&&(L.style.animationDuration="0s"),this.styles.transform!==null&&(L.style.transform="none")),this.bounds=i(this.context,L),ea(L,4)&&(this.flags|=16)}return F})(),$a="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ba=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ws=0;Ws<tn.length;Ws++)ba[tn.charCodeAt(Ws)]=Ws;for(var Xn=function(F){var B=F.length*.75,L=F.length,R,we=0,Me,Ve,ct,lt;F[F.length-1]==="="&&(B--,F[F.length-2]==="="&&B--);var Lt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),Rt=Array.isArray(Lt)?Lt:new Uint8Array(Lt);for(R=0;R<L;R+=4)Me=ba[F.charCodeAt(R)],Ve=ba[F.charCodeAt(R+1)],ct=ba[F.charCodeAt(R+2)],lt=ba[F.charCodeAt(R+3)],Rt[we++]=Me<<2|Ve>>4,Rt[we++]=(Ve&15)<<4|ct>>2,Rt[we++]=(ct&3)<<6|lt&63;return Lt},Za=function(F){for(var B=F.length,L=[],R=0;R<B;R+=2)L.push(F[R+1]<<8|F[R]);return L},Ba=function(F){for(var B=F.length,L=[],R=0;R<B;R+=4)L.push(F[R+3]<<24|F[R+2]<<16|F[R+1]<<8|F[R]);return L},Ln=5,ia=11,Zi=2,Bl=ia-Ln,fo=65536>>Ln,Hi=1<<Ln,Sl=Hi-1,Ci=1024>>Ln,Lu=fo+Ci,Co=Lu,Po=32,Jd=Co+Po,pu=65536>>ia,ql=1<<Bl,sc=ql-1,ic=function(F,B,L){return F.slice?F.slice(B,L):new Uint16Array(Array.prototype.slice.call(F,B,L))},Zc=function(F,B,L){return F.slice?F.slice(B,L):new Uint32Array(Array.prototype.slice.call(F,B,L))},bc=function(F,B){var L=Xn(F),R=Array.isArray(L)?Ba(L):new Uint32Array(L),we=Array.isArray(L)?Za(L):new Uint16Array(L),Me=24,Ve=ic(we,Me/2,R[4]/2),ct=R[5]===2?ic(we,(Me+R[4])/2):Zc(R,Math.ceil((Me+R[4])/4));return new Bd(R[0],R[1],R[2],R[3],Ve,ct)},Bd=(function(){function F(B,L,R,we,Me,Ve){this.initialValue=B,this.errorValue=L,this.highStart=R,this.highValueIndex=we,this.index=Me,this.data=Ve}return F.prototype.get=function(B){var L;if(B>=0){if(B<55296||B>56319&&B<=65535)return L=this.index[B>>Ln],L=(L<<Zi)+(B&Sl),this.data[L];if(B<=65535)return L=this.index[fo+(B-55296>>Ln)],L=(L<<Zi)+(B&Sl),this.data[L];if(B<this.highStart)return L=Jd-pu+(B>>ia),L=this.index[L],L+=B>>Ln&sc,L=this.index[L],L=(L<<Zi)+(B&Sl),this.data[L];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vo=typeof Uint8Array>"u"?[]:new Uint8Array(256),po=0;po<Xl.length;po++)Vo[Xl.charCodeAt(po)]=po;var El=1,ns=2,ks=3,Js=4,Wi=5,jc=7,$s=8,wc=9,Sd=10,Uu=11,mu=12,Ru=13,ed=14,li=15,eo=function(F){for(var B=[],L=0,R=F.length;L<R;){var we=F.charCodeAt(L++);if(we>=55296&&we<=56319&&L<R){var Me=F.charCodeAt(L++);(Me&64512)===56320?B.push(((we&1023)<<10)+(Me&1023)+65536):(B.push(we),L--)}else B.push(we)}return B},Oi=function(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var L=F.length;if(!L)return"";for(var R=[],we=-1,Me="";++we<L;){var Ve=F[we];Ve<=65535?R.push(Ve):(Ve-=65536,R.push((Ve>>10)+55296,Ve%1024+56320)),(we+1===L||R.length>16384)&&(Me+=String.fromCharCode.apply(String,R),R.length=0)}return Me},Qu=bc($a),Oo="",Ed="",of=function(F){return Qu.get(F)},Mo=function(F,B,L){var R=L-2,we=B[R],Me=B[L-1],Ve=B[L];if(Me===ns&&Ve===ks)return Oo;if(Me===ns||Me===ks||Me===Js||Ve===ns||Ve===ks||Ve===Js)return Ed;if(Me===$s&&[$s,wc,Uu,mu].indexOf(Ve)!==-1||(Me===Uu||Me===wc)&&(Ve===wc||Ve===Sd)||(Me===mu||Me===Sd)&&Ve===Sd||Ve===Ru||Ve===Wi||Ve===jc||Me===El)return Oo;if(Me===Ru&&Ve===ed){for(;we===Wi;)we=B[--R];if(we===ed)return Oo}if(Me===li&&Ve===li){for(var ct=0;we===li;)ct++,we=B[--R];if(ct%2===0)return Oo}return Ed},vA=function(F){var B=eo(F),L=B.length,R=0,we=0,Me=B.map(of);return{next:function(){if(R>=L)return{done:!0,value:null};for(var Ve=Oo;R<L&&(Ve=Mo(B,Me,++R))===Oo;);if(Ve!==Oo||R===L){var ct=Oi.apply(null,B.slice(we,R));return we=R,{value:ct,done:!1}}return{done:!0,value:null}}}},xA=function(F){for(var B=vA(F),L=[],R;!(R=B.next()).done;)R.value&&L.push(R.value.slice());return L},yA=function(F){var B=123;if(F.createRange){var L=F.createRange();if(L.getBoundingClientRect){var R=F.createElement("boundtest");R.style.height=B+"px",R.style.display="block",F.body.appendChild(R),L.selectNode(R);var we=L.getBoundingClientRect(),Me=Math.round(we.height);if(F.body.removeChild(R),Me===B)return!0}}return!1},oc=function(F){var B=F.createElement("boundtest");B.style.width="50px",B.style.display="block",B.style.fontSize="12px",B.style.letterSpacing="0px",B.style.wordSpacing="0px",F.body.appendChild(B);var L=F.createRange();B.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var R=B.firstChild,we=u(R.data).map(function(lt){return f(lt)}),Me=0,Ve={},ct=we.every(function(lt,Lt){L.setStart(R,Me),L.setEnd(R,Me+lt.length);var Rt=L.getBoundingClientRect();Me+=lt.length;var er=Rt.x>Ve.x||Rt.y>Ve.y;return Ve=Rt,Lt===0?!0:er});return F.body.removeChild(B),ct},dl=function(){return typeof new Image().crossOrigin<"u"},Do=function(){return typeof new XMLHttpRequest().responseType=="string"},Il=function(F){var B=new Image,L=F.createElement("canvas"),R=L.getContext("2d");if(!R)return!1;B.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{R.drawImage(B,0,0),L.toDataURL()}catch{return!1}return!0},Zd=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Hu=function(F){var B=F.createElement("canvas"),L=100;B.width=L,B.height=L;var R=B.getContext("2d");if(!R)return Promise.reject(!1);R.fillStyle="rgb(0, 255, 0)",R.fillRect(0,0,L,L);var we=new Image,Me=B.toDataURL();we.src=Me;var Ve=Wu(L,L,0,0,we);return R.fillStyle="red",R.fillRect(0,0,L,L),gu(Ve).then(function(ct){R.drawImage(ct,0,0);var lt=R.getImageData(0,0,L,L).data;R.fillStyle="red",R.fillRect(0,0,L,L);var Lt=F.createElement("div");return Lt.style.backgroundImage="url("+Me+")",Lt.style.height=L+"px",Zd(lt)?gu(Wu(L,L,0,0,Lt)):Promise.reject(!1)}).then(function(ct){return R.drawImage(ct,0,0),Zd(R.getImageData(0,0,L,L).data)}).catch(function(){return!1})},Wu=function(F,B,L,R,we){var Me="http://www.w3.org/2000/svg",Ve=document.createElementNS(Me,"svg"),ct=document.createElementNS(Me,"foreignObject");return Ve.setAttributeNS(null,"width",F.toString()),Ve.setAttributeNS(null,"height",B.toString()),ct.setAttributeNS(null,"width","100%"),ct.setAttributeNS(null,"height","100%"),ct.setAttributeNS(null,"x",L.toString()),ct.setAttributeNS(null,"y",R.toString()),ct.setAttributeNS(null,"externalResourcesRequired","true"),Ve.appendChild(ct),ct.appendChild(we),Ve},gu=function(F){return new Promise(function(B,L){var R=new Image;R.onload=function(){return B(R)},R.onerror=L,R.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},$i={get SUPPORT_RANGE_BOUNDS(){var F=yA(document);return Object.defineProperty($i,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=$i.SUPPORT_RANGE_BOUNDS&&oc(document);return Object.defineProperty($i,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=Il(document);return Object.defineProperty($i,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Hu(document):Promise.resolve(!1);return Object.defineProperty($i,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=dl();return Object.defineProperty($i,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=Do();return Object.defineProperty($i,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty($i,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty($i,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},Id=(function(){function F(B,L){this.text=B,this.bounds=L}return F})(),ih=function(F,B,L,R){var we=wA(B,L),Me=[],Ve=0;return we.forEach(function(ct){if(L.textDecorationLine.length||ct.trim().length>0)if($i.SUPPORT_RANGE_BOUNDS){var lt=$u(R,Ve,ct.length).getClientRects();if(lt.length>1){var Lt=Qc(ct),Rt=0;Lt.forEach(function(jr){Me.push(new Id(jr,h.fromDOMRectList(F,$u(R,Rt+Ve,jr.length).getClientRects()))),Rt+=jr.length})}else Me.push(new Id(ct,h.fromDOMRectList(F,lt)))}else{var er=R.splitText(ct.length);Me.push(new Id(ct,bA(F,R))),R=er}else $i.SUPPORT_RANGE_BOUNDS||(R=R.splitText(ct.length));Ve+=ct.length}),Me},bA=function(F,B){var L=B.ownerDocument;if(L){var R=L.createElement("html2canvaswrapper");R.appendChild(B.cloneNode(!0));var we=B.parentNode;if(we){we.replaceChild(R,B);var Me=i(F,R);return R.firstChild&&we.replaceChild(R.firstChild,R),Me}}return h.EMPTY},$u=function(F,B,L){var R=F.ownerDocument;if(!R)throw new Error("Node has no owner document");var we=R.createRange();return we.setStart(F,B),we.setEnd(F,B+L),we},Qc=function(F){if($i.SUPPORT_NATIVE_TEXT_SEGMENTATION){var B=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(B.segment(F)).map(function(L){return L.segment})}return xA(F)},jA=function(F,B){if($i.SUPPORT_NATIVE_TEXT_SEGMENTATION){var L=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(L.segment(F)).map(function(R){return R.segment})}return oh(F,B)},wA=function(F,B){return B.letterSpacing!==0?Qc(F):jA(F,B)},CA=[32,160,4961,65792,65793,4153,4241],oh=function(F,B){for(var L=Gi(F,{lineBreak:B.lineBreak,wordBreak:B.overflowWrap==="break-word"?"break-word":B.wordBreak}),R=[],we,Me=function(){if(we.value){var Ve=we.value.slice(),ct=u(Ve),lt="";ct.forEach(function(Lt){CA.indexOf(Lt)===-1?lt+=f(Lt):(lt.length&&R.push(lt),R.push(f(Lt)),lt="")}),lt.length&&R.push(lt)}};!(we=L.next()).done;)Me();return R},lh=(function(){function F(B,L,R){this.text=lf(L.data,R.textTransform),this.textBounds=ih(B,this.text,R,L)}return F})(),lf=function(F,B){switch(B){case 1:return F.toLowerCase();case 3:return F.replace(cf,df);case 2:return F.toUpperCase();default:return F}},cf=/(^|\s|:|-|\(|\))([a-z])/g,df=function(F,B,L){return F.length>0?B+L.toUpperCase():F},ch=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we.src=R.currentSrc||R.src,we.intrinsicWidth=R.naturalWidth,we.intrinsicHeight=R.naturalHeight,we.context.cache.addImage(we.src),we}return B})(xa),vu=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we.canvas=R,we.intrinsicWidth=R.width,we.intrinsicHeight=R.height,we}return B})(xa),zu=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this,Me=new XMLSerializer,Ve=i(L,R);return R.setAttribute("width",Ve.width+"px"),R.setAttribute("height",Ve.height+"px"),we.svg="data:image/svg+xml,"+encodeURIComponent(Me.serializeToString(R)),we.intrinsicWidth=R.width.baseVal.value,we.intrinsicHeight=R.height.baseVal.value,we.context.cache.addImage(we.svg),we}return B})(xa),eu=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we.value=R.value,we}return B})(xa),NA=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we.start=R.start,we.reversed=typeof R.reversed=="boolean"&&R.reversed===!0,we}return B})(xa),mp=[{type:15,flags:0,unit:"px",number:3}],dh=[{type:16,flags:0,number:50}],gp=function(F){return F.width>F.height?new h(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new h(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},vp=function(F){var B=F.type===td?new Array(F.value.length+1).join(""):F.value;return B.length===0?F.placeholder||"":B},Vu="checkbox",Ku="radio",td="password",ul=707406591,Cc=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;switch(we.type=R.type.toLowerCase(),we.checked=R.checked,we.value=vp(R),(we.type===Vu||we.type===Ku)&&(we.styles.backgroundColor=3739148031,we.styles.borderTopColor=we.styles.borderRightColor=we.styles.borderBottomColor=we.styles.borderLeftColor=2779096575,we.styles.borderTopWidth=we.styles.borderRightWidth=we.styles.borderBottomWidth=we.styles.borderLeftWidth=1,we.styles.borderTopStyle=we.styles.borderRightStyle=we.styles.borderBottomStyle=we.styles.borderLeftStyle=1,we.styles.backgroundClip=[0],we.styles.backgroundOrigin=[0],we.bounds=gp(we.bounds)),we.type){case Vu:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=mp;break;case Ku:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=dh;break}return we}return B})(xa),uf=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this,Me=R.options[R.selectedIndex||0];return we.value=Me&&Me.text||"",we}return B})(xa),uh=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we.value=R.value,we}return B})(xa),mo=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;we.src=R.src,we.width=parseInt(R.width,10)||0,we.height=parseInt(R.height,10)||0,we.backgroundColor=we.styles.backgroundColor;try{if(R.contentWindow&&R.contentWindow.document&&R.contentWindow.document.documentElement){we.tree=BA(L,R.contentWindow.document.documentElement);var Me=R.contentWindow.document.documentElement?ii(L,getComputedStyle(R.contentWindow.document.documentElement).backgroundColor):Yi.TRANSPARENT,Ve=R.contentWindow.document.body?ii(L,getComputedStyle(R.contentWindow.document.body).backgroundColor):Yi.TRANSPARENT;we.backgroundColor=ga(Me)?ga(Ve)?we.styles.backgroundColor:Ve:Me}}catch{}return we}return B})(xa),kl=["OL","UL","MENU"],tu=function(F,B,L,R){for(var we=B.firstChild,Me=void 0;we;we=Me)if(Me=we.nextSibling,kd(we)&&we.data.trim().length>0)L.textNodes.push(new lh(F,we,L.styles));else if(Td(we))if(TA(we)&&we.assignedNodes)we.assignedNodes().forEach(function(ct){return tu(F,ct,L,R)});else{var Ve=Ah(F,we);Ve.styles.isVisible()&&(hh(we,Ve,R)?Ve.flags|=4:SA(Ve.styles)&&(Ve.flags|=2),kl.indexOf(we.tagName)!==-1&&(Ve.flags|=8),L.elements.push(Ve),we.slot,we.shadowRoot?tu(F,we.shadowRoot,Ve,R):!qu(we)&&!ph(we)&&!yu(we)&&tu(F,we,Ve,R))}},Ah=function(F,B){return IA(B)?new ch(F,B):Al(B)?new vu(F,B):ph(B)?new zu(F,B):xu(B)?new eu(F,B):EA(B)?new NA(F,B):Af(B)?new Cc(F,B):yu(B)?new uf(F,B):qu(B)?new uh(F,B):gh(B)?new mo(F,B):new xa(F,B)},BA=function(F,B){var L=Ah(F,B);return L.flags|=4,tu(F,B,L,L),L},hh=function(F,B,L){return B.styles.isPositionedWithZIndex()||B.styles.opacity<1||B.styles.isTransformed()||mh(F)&&L.styles.isTransparent()},SA=function(F){return F.isPositioned()||F.isFloating()},kd=function(F){return F.nodeType===Node.TEXT_NODE},Td=function(F){return F.nodeType===Node.ELEMENT_NODE},Fd=function(F){return Td(F)&&typeof F.style<"u"&&!ru(F)},ru=function(F){return typeof F.className=="object"},xu=function(F){return F.tagName==="LI"},EA=function(F){return F.tagName==="OL"},Af=function(F){return F.tagName==="INPUT"},fh=function(F){return F.tagName==="HTML"},ph=function(F){return F.tagName==="svg"},mh=function(F){return F.tagName==="BODY"},Al=function(F){return F.tagName==="CANVAS"},Ko=function(F){return F.tagName==="VIDEO"},IA=function(F){return F.tagName==="IMG"},gh=function(F){return F.tagName==="IFRAME"},kA=function(F){return F.tagName==="STYLE"},Gu=function(F){return F.tagName==="SCRIPT"},qu=function(F){return F.tagName==="TEXTAREA"},yu=function(F){return F.tagName==="SELECT"},TA=function(F){return F.tagName==="SLOT"},k=function(F){return F.tagName.indexOf("-")>0},q=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(B){var L=this.counters[B];return L&&L.length?L[L.length-1]:1},F.prototype.getCounterValues=function(B){var L=this.counters[B];return L||[]},F.prototype.pop=function(B){var L=this;B.forEach(function(R){return L.counters[R].pop()})},F.prototype.parse=function(B){var L=this,R=B.counterIncrement,we=B.counterReset,Me=!0;R!==null&&R.forEach(function(ct){var lt=L.counters[ct.counter];lt&&ct.increment!==0&&(Me=!1,lt.length||lt.push(1),lt[Math.max(0,lt.length-1)]+=ct.increment)});var Ve=[];return Me&&we.forEach(function(ct){var lt=L.counters[ct.counter];Ve.push(ct.counter),lt||(lt=L.counters[ct.counter]=[]),lt.push(ct.reset)}),Ve},F})(),je={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ke={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qe=function(F,B,L,R,we,Me){return F<B||F>L?Mr(F,we,Me.length>0):R.integers.reduce(function(Ve,ct,lt){for(;F>=ct;)F-=ct,Ve+=R.values[lt];return Ve},"")+Me},Je=function(F,B,L,R){var we="";do L||F--,we=R(F)+we,F/=B;while(F*B>=B);return we},tt=function(F,B,L,R,we){var Me=L-B+1;return(F<0?"-":"")+(Je(Math.abs(F),Me,R,function(Ve){return f(Math.floor(Ve%Me)+B)})+we)},ft=function(F,B,L){L===void 0&&(L=". ");var R=B.length;return Je(Math.abs(F),R,!1,function(we){return B[Math.floor(we%R)]})+L},Ot=1,tr=2,ht=4,_t=8,Xt=function(F,B,L,R,we,Me){if(F<-9999||F>9999)return Mr(F,4,we.length>0);var Ve=Math.abs(F),ct=we;if(Ve===0)return B[0]+ct;for(var lt=0;Ve>0&&lt<=4;lt++){var Lt=Ve%10;Lt===0&&E(Me,Ot)&&ct!==""?ct=B[Lt]+ct:Lt>1||Lt===1&&lt===0||Lt===1&&lt===1&&E(Me,tr)||Lt===1&&lt===1&&E(Me,ht)&&F>100||Lt===1&&lt>1&&E(Me,_t)?ct=B[Lt]+(lt>0?L[lt-1]:"")+ct:Lt===1&&lt>0&&(ct=L[lt-1]+ct),Ve=Math.floor(Ve/10)}return(F<0?R:"")+ct},br="",nr="",Cr="",Br="",Mr=function(F,B,L){var R=L?". ":"",we=L?"":"",Me=L?", ":"",Ve=L?" ":"";switch(B){case 0:return""+Ve;case 1:return""+Ve;case 2:return""+Ve;case 5:var ct=tt(F,48,57,!0,R);return ct.length<4?"0"+ct:ct;case 4:return ft(F,"",we);case 6:return qe(F,1,3999,je,3,R).toLowerCase();case 7:return qe(F,1,3999,je,3,R);case 8:return tt(F,945,969,!1,R);case 9:return tt(F,97,122,!1,R);case 10:return tt(F,65,90,!1,R);case 11:return tt(F,1632,1641,!0,R);case 12:case 49:return qe(F,1,9999,ke,3,R);case 35:return qe(F,1,9999,ke,3,R).toLowerCase();case 13:return tt(F,2534,2543,!0,R);case 14:case 30:return tt(F,6112,6121,!0,R);case 15:return ft(F,"",we);case 16:return ft(F,"",we);case 17:case 48:return Xt(F,"",br,"",we,tr|ht|_t);case 47:return Xt(F,"",nr,"",we,Ot|tr|ht|_t);case 42:return Xt(F,"",br,"",we,tr|ht|_t);case 41:return Xt(F,"",nr,"",we,Ot|tr|ht|_t);case 26:return Xt(F,"","",Cr,we,0);case 25:return Xt(F,"","",Cr,we,Ot|tr|ht);case 31:return Xt(F,"","",Br,Me,Ot|tr|ht);case 33:return Xt(F,"","",Br,Me,0);case 32:return Xt(F,"","",Br,Me,Ot|tr|ht);case 18:return tt(F,2406,2415,!0,R);case 20:return qe(F,1,19999,Ke,3,R);case 21:return tt(F,2790,2799,!0,R);case 22:return tt(F,2662,2671,!0,R);case 22:return qe(F,1,10999,Qe,3,R);case 23:return ft(F,"");case 24:return ft(F,"");case 27:return tt(F,3302,3311,!0,R);case 28:return ft(F,"",we);case 29:return ft(F,"",we);case 34:return tt(F,3792,3801,!0,R);case 37:return tt(F,6160,6169,!0,R);case 38:return tt(F,4160,4169,!0,R);case 39:return tt(F,2918,2927,!0,R);case 40:return tt(F,1776,1785,!0,R);case 43:return tt(F,3046,3055,!0,R);case 44:return tt(F,3174,3183,!0,R);case 45:return tt(F,3664,3673,!0,R);case 46:return tt(F,3872,3881,!0,R);case 3:default:return tt(F,48,57,!0,R)}},Er="data-html2canvas-ignore",Yn=(function(){function F(B,L,R){if(this.context=B,this.options=R,this.scrolledElements=[],this.referenceElement=L,this.counters=new q,this.quoteDepth=0,!L.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(L.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(B,L){var R=this,we=Da(B,L);if(!we.contentWindow)return Promise.reject("Unable to find iframe window");var Me=B.defaultView.pageXOffset,Ve=B.defaultView.pageYOffset,ct=we.contentWindow,lt=ct.document,Lt=an(we).then(function(){return o(R,void 0,void 0,function(){var Rt,er;return c(this,function(jr){switch(jr.label){case 0:return this.scrolledElements.forEach(Sa),ct&&(ct.scrollTo(L.left,L.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ct.scrollY!==L.top||ct.scrollX!==L.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ct.scrollX-L.left,ct.scrollY-L.top,0,0))),Rt=this.options.onclone,er=this.clonedReferenceElement,typeof er>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:lt.fonts&&lt.fonts.ready?[4,lt.fonts.ready]:[3,2];case 1:jr.sent(),jr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hs(lt)]:[3,4];case 3:jr.sent(),jr.label=4;case 4:return typeof Rt=="function"?[2,Promise.resolve().then(function(){return Rt(lt,er)}).then(function(){return we})]:[2,we]}})})});return lt.open(),lt.write(un(document.doctype)+"<html></html>"),zi(this.referenceElement.ownerDocument,Me,Ve),lt.replaceChild(lt.adoptNode(this.documentElement),lt.documentElement),lt.close(),Lt},F.prototype.createElementClone=function(B){if(ea(B,2))debugger;if(Al(B))return this.createCanvasClone(B);if(Ko(B))return this.createVideoClone(B);if(kA(B))return this.createStyleClone(B);var L=B.cloneNode(!1);return IA(L)&&(IA(B)&&B.currentSrc&&B.currentSrc!==B.src&&(L.src=B.currentSrc,L.srcset=""),L.loading==="lazy"&&(L.loading="eager")),k(L)?this.createCustomElementClone(L):L},F.prototype.createCustomElementClone=function(B){var L=document.createElement("html2canvascustomelement");return Un(B.style,L),L},F.prototype.createStyleClone=function(B){try{var L=B.sheet;if(L&&L.cssRules){var R=[].slice.call(L.cssRules,0).reduce(function(Me,Ve){return Ve&&typeof Ve.cssText=="string"?Me+Ve.cssText:Me},""),we=B.cloneNode(!1);return we.textContent=R,we}}catch(Me){if(this.context.logger.error("Unable to access cssRules property",Me),Me.name!=="SecurityError")throw Me}return B.cloneNode(!1)},F.prototype.createCanvasClone=function(B){var L;if(this.options.inlineImages&&B.ownerDocument){var R=B.ownerDocument.createElement("img");try{return R.src=B.toDataURL(),R}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",B)}}var we=B.cloneNode(!1);try{we.width=B.width,we.height=B.height;var Me=B.getContext("2d"),Ve=we.getContext("2d");if(Ve)if(!this.options.allowTaint&&Me)Ve.putImageData(Me.getImageData(0,0,B.width,B.height),0,0);else{var ct=(L=B.getContext("webgl2"))!==null&&L!==void 0?L:B.getContext("webgl");if(ct){var lt=ct.getContextAttributes();(lt==null?void 0:lt.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",B)}Ve.drawImage(B,0,0)}return we}catch{this.context.logger.info("Unable to clone canvas as it is tainted",B)}return we},F.prototype.createVideoClone=function(B){var L=B.ownerDocument.createElement("canvas");L.width=B.offsetWidth,L.height=B.offsetHeight;var R=L.getContext("2d");try{return R&&(R.drawImage(B,0,0,L.width,L.height),this.options.allowTaint||R.getImageData(0,0,L.width,L.height)),L}catch{this.context.logger.info("Unable to clone video as it is tainted",B)}var we=B.ownerDocument.createElement("canvas");return we.width=B.offsetWidth,we.height=B.offsetHeight,we},F.prototype.appendChildNode=function(B,L,R){(!Td(L)||!Gu(L)&&!L.hasAttribute(Er)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(L)))&&(!this.options.copyStyles||!Td(L)||!kA(L))&&B.appendChild(this.cloneNode(L,R))},F.prototype.cloneChildNodes=function(B,L,R){for(var we=this,Me=B.shadowRoot?B.shadowRoot.firstChild:B.firstChild;Me;Me=Me.nextSibling)if(Td(Me)&&TA(Me)&&typeof Me.assignedNodes=="function"){var Ve=Me.assignedNodes();Ve.length&&Ve.forEach(function(ct){return we.appendChildNode(L,ct,R)})}else this.appendChildNode(L,Me,R)},F.prototype.cloneNode=function(B,L){if(kd(B))return document.createTextNode(B.data);if(!B.ownerDocument)return B.cloneNode(!1);var R=B.ownerDocument.defaultView;if(R&&Td(B)&&(Fd(B)||ru(B))){var we=this.createElementClone(B);we.style.transitionProperty="none";var Me=R.getComputedStyle(B),Ve=R.getComputedStyle(B,":before"),ct=R.getComputedStyle(B,":after");this.referenceElement===B&&Fd(we)&&(this.clonedReferenceElement=we),mh(we)&&Bo(we);var lt=this.counters.parse(new Or(this.context,Me)),Lt=this.resolvePseudoContent(B,we,Ve,En.BEFORE);k(B)&&(L=!0),Ko(B)||this.cloneChildNodes(B,we,L),Lt&&we.insertBefore(Lt,we.firstChild);var Rt=this.resolvePseudoContent(B,we,ct,En.AFTER);return Rt&&we.appendChild(Rt),this.counters.pop(lt),(Me&&(this.options.copyStyles||ru(B))&&!gh(B)||L)&&Un(Me,we),(B.scrollTop!==0||B.scrollLeft!==0)&&this.scrolledElements.push([we,B.scrollLeft,B.scrollTop]),(qu(B)||yu(B))&&(qu(we)||yu(we))&&(we.value=B.value),we}return B.cloneNode(!1)},F.prototype.resolvePseudoContent=function(B,L,R,we){var Me=this;if(R){var Ve=R.content,ct=L.ownerDocument;if(!(!ct||!Ve||Ve==="none"||Ve==="-moz-alt-content"||R.display==="none")){this.counters.parse(new Or(this.context,R));var lt=new dn(this.context,R),Lt=ct.createElement("html2canvaspseudoelement");Un(R,Lt),lt.content.forEach(function(er){if(er.type===0)Lt.appendChild(ct.createTextNode(er.value));else if(er.type===22){var jr=ct.createElement("img");jr.src=er.value,jr.style.opacity="1",Lt.appendChild(jr)}else if(er.type===18){if(er.name==="attr"){var mn=er.values.filter(on);mn.length&&Lt.appendChild(ct.createTextNode(B.getAttribute(mn[0].value)||""))}else if(er.name==="counter"){var en=er.values.filter(qn),fn=en[0],za=en[1];if(fn&&on(fn)){var Kn=Me.counters.getCounterValue(fn.value),Qn=za&&on(za)?Jc.parse(Me.context,za.value):3;Lt.appendChild(ct.createTextNode(Mr(Kn,Qn,!1)))}}else if(er.name==="counters"){var Ls=er.values.filter(qn),fn=Ls[0],Ya=Ls[1],za=Ls[2];if(fn&&on(fn)){var Oa=Me.counters.getCounterValues(fn.value),Nn=za&&on(za)?Jc.parse(Me.context,za.value):3,ws=Ya&&Ya.type===0?Ya.value:"",fs=Oa.map(function(Pl){return Mr(Pl,Nn,!1)}).join(ws);Lt.appendChild(ct.createTextNode(fs))}}}else if(er.type===20)switch(er.value){case"open-quote":Lt.appendChild(ct.createTextNode(Zt(lt.quotes,Me.quoteDepth++,!0)));break;case"close-quote":Lt.appendChild(ct.createTextNode(Zt(lt.quotes,--Me.quoteDepth,!1)));break;default:Lt.appendChild(ct.createTextNode(er.value))}}),Lt.className=to+" "+No;var Rt=we===En.BEFORE?" "+to:" "+No;return ru(L)?L.className.baseValue+=Rt:L.className+=Rt,Lt}}},F.destroy=function(B){return B.parentNode?(B.parentNode.removeChild(B),!0):!1},F})(),En;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(En||(En={}));var Da=function(F,B){var L=F.createElement("iframe");return L.className="html2canvas-container",L.style.visibility="hidden",L.style.position="fixed",L.style.left="-10000px",L.style.top="0px",L.style.border="0",L.width=B.width.toString(),L.height=B.height.toString(),L.scrolling="no",L.setAttribute(Er,"true"),F.body.appendChild(L),L},pn=function(F){return new Promise(function(B){if(F.complete){B();return}if(!F.src){B();return}F.onload=B,F.onerror=B})},hs=function(F){return Promise.all([].slice.call(F.images,0).map(pn))},an=function(F){return new Promise(function(B,L){var R=F.contentWindow;if(!R)return L("No window assigned for iframe");var we=R.document;R.onload=F.onload=function(){R.onload=F.onload=null;var Me=setInterval(function(){we.body.childNodes.length>0&&we.readyState==="complete"&&(clearInterval(Me),B(F))},50)}})},ka=["all","d","content"],Un=function(F,B){for(var L=F.length-1;L>=0;L--){var R=F.item(L);ka.indexOf(R)===-1&&B.style.setProperty(R,F.getPropertyValue(R))}return B},un=function(F){var B="";return F&&(B+="<!DOCTYPE ",F.name&&(B+=F.name),F.internalSubset&&(B+=F.internalSubset),F.publicId&&(B+='"'+F.publicId+'"'),F.systemId&&(B+='"'+F.systemId+'"'),B+=">"),B},zi=function(F,B,L){F&&F.defaultView&&(B!==F.defaultView.pageXOffset||L!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(B,L)},Sa=function(F){var B=F[0],L=F[1],R=F[2];B.scrollLeft=L,B.scrollTop=R},ss=":before",Zs=":after",to="___html2canvas___pseudoelement_before",No="___html2canvas___pseudoelement_after",vi=`{
    content: "" !important;
    display: none !important;
}`,Bo=function(F){_o(F,"."+to+ss+vi+`
         .`+No+Zs+vi)},_o=function(F,B){var L=F.ownerDocument;if(L){var R=L.createElement("style");R.textContent=B,F.appendChild(R)}},os=(function(){function F(){}return F.getOrigin=function(B){var L=F._link;return L?(L.href=B,L.href=L.href,L.protocol+L.hostname+L.port):"about:blank"},F.isSameOrigin=function(B){return F.getOrigin(B)===F._origin},F.setContext=function(B){F._link=B.document.createElement("a"),F._origin=F.getOrigin(B.location.href)},F._origin="about:blank",F})(),Ua=(function(){function F(B,L){this.context=B,this._options=L,this._cache={}}return F.prototype.addImage=function(B){var L=Promise.resolve();return this.has(B)||(Go(B)||ei(B))&&(this._cache[B]=this.loadImage(B)).catch(function(){}),L},F.prototype.match=function(B){return this._cache[B]},F.prototype.loadImage=function(B){return o(this,void 0,void 0,function(){var L,R,we,Me,Ve=this;return c(this,function(ct){switch(ct.label){case 0:return L=os.isSameOrigin(B),R=!Tl(B)&&this._options.useCORS===!0&&$i.SUPPORT_CORS_IMAGES&&!L,we=!Tl(B)&&!L&&!Go(B)&&typeof this._options.proxy=="string"&&$i.SUPPORT_CORS_XHR&&!R,!L&&this._options.allowTaint===!1&&!Tl(B)&&!Go(B)&&!we&&!R?[2]:(Me=B,we?[4,this.proxy(Me)]:[3,2]);case 1:Me=ct.sent(),ct.label=2;case 2:return this.context.logger.debug("Added image "+B.substring(0,256)),[4,new Promise(function(lt,Lt){var Rt=new Image;Rt.onload=function(){return lt(Rt)},Rt.onerror=Lt,(Ds(Me)||R)&&(Rt.crossOrigin="anonymous"),Rt.src=Me,Rt.complete===!0&&setTimeout(function(){return lt(Rt)},500),Ve._options.imageTimeout>0&&setTimeout(function(){return Lt("Timed out ("+Ve._options.imageTimeout+"ms) loading image")},Ve._options.imageTimeout)})];case 3:return[2,ct.sent()]}})})},F.prototype.has=function(B){return typeof this._cache[B]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(B){var L=this,R=this._options.proxy;if(!R)throw new Error("No proxy defined");var we=B.substring(0,256);return new Promise(function(Me,Ve){var ct=$i.SUPPORT_RESPONSE_TYPE?"blob":"text",lt=new XMLHttpRequest;lt.onload=function(){if(lt.status===200)if(ct==="text")Me(lt.response);else{var er=new FileReader;er.addEventListener("load",function(){return Me(er.result)},!1),er.addEventListener("error",function(jr){return Ve(jr)},!1),er.readAsDataURL(lt.response)}else Ve("Failed to proxy resource "+we+" with status code "+lt.status)},lt.onerror=Ve;var Lt=R.indexOf("?")>-1?"&":"?";if(lt.open("GET",""+R+Lt+"url="+encodeURIComponent(B)+"&responseType="+ct),ct!=="text"&&lt instanceof XMLHttpRequest&&(lt.responseType=ct),L._options.imageTimeout){var Rt=L._options.imageTimeout;lt.timeout=Rt,lt.ontimeout=function(){return Ve("Timed out ("+Rt+"ms) proxying "+we)}}lt.send()})},F})(),ls=/^data:image\/svg\+xml/i,Ni=/^data:image\/.*;base64,/i,Ms=/^data:image\/.*/i,ei=function(F){return $i.SUPPORT_SVG_DRAWING||!zs(F)},Tl=function(F){return Ms.test(F)},Ds=function(F){return Ni.test(F)},Go=function(F){return F.substr(0,4)==="blob"},zs=function(F){return F.substr(-3).toLowerCase()==="svg"||ls.test(F)},Jr=(function(){function F(B,L){this.type=0,this.x=B,this.y=L}return F.prototype.add=function(B,L){return new F(this.x+B,this.y+L)},F})(),go=function(F,B,L){return new Jr(F.x+(B.x-F.x)*L,F.y+(B.y-F.y)*L)},vo=(function(){function F(B,L,R,we){this.type=1,this.start=B,this.startControl=L,this.endControl=R,this.end=we}return F.prototype.subdivide=function(B,L){var R=go(this.start,this.startControl,B),we=go(this.startControl,this.endControl,B),Me=go(this.endControl,this.end,B),Ve=go(R,we,B),ct=go(we,Me,B),lt=go(Ve,ct,B);return L?new F(this.start,R,Ve,lt):new F(lt,ct,Me,this.end)},F.prototype.add=function(B,L){return new F(this.start.add(B,L),this.startControl.add(B,L),this.endControl.add(B,L),this.end.add(B,L))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),xi=function(F){return F.type===1},qo=(function(){function F(B){var L=B.styles,R=B.bounds,we=Sn(L.borderTopLeftRadius,R.width,R.height),Me=we[0],Ve=we[1],ct=Sn(L.borderTopRightRadius,R.width,R.height),lt=ct[0],Lt=ct[1],Rt=Sn(L.borderBottomRightRadius,R.width,R.height),er=Rt[0],jr=Rt[1],mn=Sn(L.borderBottomLeftRadius,R.width,R.height),en=mn[0],fn=mn[1],za=[];za.push((Me+lt)/R.width),za.push((en+er)/R.width),za.push((Ve+fn)/R.height),za.push((Lt+jr)/R.height);var Kn=Math.max.apply(Math,za);Kn>1&&(Me/=Kn,Ve/=Kn,lt/=Kn,Lt/=Kn,er/=Kn,jr/=Kn,en/=Kn,fn/=Kn);var Qn=R.width-lt,Ls=R.height-jr,Ya=R.width-er,Oa=R.height-fn,Nn=L.borderTopWidth,ws=L.borderRightWidth,fs=L.borderBottomWidth,Ia=L.borderLeftWidth,xo=ma(L.paddingTop,B.bounds.width),Pl=ma(L.paddingRight,B.bounds.width),Bc=ma(L.paddingBottom,B.bounds.width),ti=ma(L.paddingLeft,B.bounds.width);this.topLeftBorderDoubleOuterBox=Me>0||Ve>0?Ea(R.left+Ia/3,R.top+Nn/3,Me-Ia/3,Ve-Nn/3,Pa.TOP_LEFT):new Jr(R.left+Ia/3,R.top+Nn/3),this.topRightBorderDoubleOuterBox=Me>0||Ve>0?Ea(R.left+Qn,R.top+Nn/3,lt-ws/3,Lt-Nn/3,Pa.TOP_RIGHT):new Jr(R.left+R.width-ws/3,R.top+Nn/3),this.bottomRightBorderDoubleOuterBox=er>0||jr>0?Ea(R.left+Ya,R.top+Ls,er-ws/3,jr-fs/3,Pa.BOTTOM_RIGHT):new Jr(R.left+R.width-ws/3,R.top+R.height-fs/3),this.bottomLeftBorderDoubleOuterBox=en>0||fn>0?Ea(R.left+Ia/3,R.top+Oa,en-Ia/3,fn-fs/3,Pa.BOTTOM_LEFT):new Jr(R.left+Ia/3,R.top+R.height-fs/3),this.topLeftBorderDoubleInnerBox=Me>0||Ve>0?Ea(R.left+Ia*2/3,R.top+Nn*2/3,Me-Ia*2/3,Ve-Nn*2/3,Pa.TOP_LEFT):new Jr(R.left+Ia*2/3,R.top+Nn*2/3),this.topRightBorderDoubleInnerBox=Me>0||Ve>0?Ea(R.left+Qn,R.top+Nn*2/3,lt-ws*2/3,Lt-Nn*2/3,Pa.TOP_RIGHT):new Jr(R.left+R.width-ws*2/3,R.top+Nn*2/3),this.bottomRightBorderDoubleInnerBox=er>0||jr>0?Ea(R.left+Ya,R.top+Ls,er-ws*2/3,jr-fs*2/3,Pa.BOTTOM_RIGHT):new Jr(R.left+R.width-ws*2/3,R.top+R.height-fs*2/3),this.bottomLeftBorderDoubleInnerBox=en>0||fn>0?Ea(R.left+Ia*2/3,R.top+Oa,en-Ia*2/3,fn-fs*2/3,Pa.BOTTOM_LEFT):new Jr(R.left+Ia*2/3,R.top+R.height-fs*2/3),this.topLeftBorderStroke=Me>0||Ve>0?Ea(R.left+Ia/2,R.top+Nn/2,Me-Ia/2,Ve-Nn/2,Pa.TOP_LEFT):new Jr(R.left+Ia/2,R.top+Nn/2),this.topRightBorderStroke=Me>0||Ve>0?Ea(R.left+Qn,R.top+Nn/2,lt-ws/2,Lt-Nn/2,Pa.TOP_RIGHT):new Jr(R.left+R.width-ws/2,R.top+Nn/2),this.bottomRightBorderStroke=er>0||jr>0?Ea(R.left+Ya,R.top+Ls,er-ws/2,jr-fs/2,Pa.BOTTOM_RIGHT):new Jr(R.left+R.width-ws/2,R.top+R.height-fs/2),this.bottomLeftBorderStroke=en>0||fn>0?Ea(R.left+Ia/2,R.top+Oa,en-Ia/2,fn-fs/2,Pa.BOTTOM_LEFT):new Jr(R.left+Ia/2,R.top+R.height-fs/2),this.topLeftBorderBox=Me>0||Ve>0?Ea(R.left,R.top,Me,Ve,Pa.TOP_LEFT):new Jr(R.left,R.top),this.topRightBorderBox=lt>0||Lt>0?Ea(R.left+Qn,R.top,lt,Lt,Pa.TOP_RIGHT):new Jr(R.left+R.width,R.top),this.bottomRightBorderBox=er>0||jr>0?Ea(R.left+Ya,R.top+Ls,er,jr,Pa.BOTTOM_RIGHT):new Jr(R.left+R.width,R.top+R.height),this.bottomLeftBorderBox=en>0||fn>0?Ea(R.left,R.top+Oa,en,fn,Pa.BOTTOM_LEFT):new Jr(R.left,R.top+R.height),this.topLeftPaddingBox=Me>0||Ve>0?Ea(R.left+Ia,R.top+Nn,Math.max(0,Me-Ia),Math.max(0,Ve-Nn),Pa.TOP_LEFT):new Jr(R.left+Ia,R.top+Nn),this.topRightPaddingBox=lt>0||Lt>0?Ea(R.left+Math.min(Qn,R.width-ws),R.top+Nn,Qn>R.width+ws?0:Math.max(0,lt-ws),Math.max(0,Lt-Nn),Pa.TOP_RIGHT):new Jr(R.left+R.width-ws,R.top+Nn),this.bottomRightPaddingBox=er>0||jr>0?Ea(R.left+Math.min(Ya,R.width-Ia),R.top+Math.min(Ls,R.height-fs),Math.max(0,er-ws),Math.max(0,jr-fs),Pa.BOTTOM_RIGHT):new Jr(R.left+R.width-ws,R.top+R.height-fs),this.bottomLeftPaddingBox=en>0||fn>0?Ea(R.left+Ia,R.top+Math.min(Oa,R.height-fs),Math.max(0,en-Ia),Math.max(0,fn-fs),Pa.BOTTOM_LEFT):new Jr(R.left+Ia,R.top+R.height-fs),this.topLeftContentBox=Me>0||Ve>0?Ea(R.left+Ia+ti,R.top+Nn+xo,Math.max(0,Me-(Ia+ti)),Math.max(0,Ve-(Nn+xo)),Pa.TOP_LEFT):new Jr(R.left+Ia+ti,R.top+Nn+xo),this.topRightContentBox=lt>0||Lt>0?Ea(R.left+Math.min(Qn,R.width+Ia+ti),R.top+Nn+xo,Qn>R.width+Ia+ti?0:lt-Ia+ti,Lt-(Nn+xo),Pa.TOP_RIGHT):new Jr(R.left+R.width-(ws+Pl),R.top+Nn+xo),this.bottomRightContentBox=er>0||jr>0?Ea(R.left+Math.min(Ya,R.width-(Ia+ti)),R.top+Math.min(Ls,R.height+Nn+xo),Math.max(0,er-(ws+Pl)),jr-(fs+Bc),Pa.BOTTOM_RIGHT):new Jr(R.left+R.width-(ws+Pl),R.top+R.height-(fs+Bc)),this.bottomLeftContentBox=en>0||fn>0?Ea(R.left+Ia+ti,R.top+Oa,Math.max(0,en-(Ia+ti)),fn-(fs+Bc),Pa.BOTTOM_LEFT):new Jr(R.left+Ia+ti,R.top+R.height-(fs+Bc))}return F})(),Pa;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Pa||(Pa={}));var Ea=function(F,B,L,R,we){var Me=4*((Math.sqrt(2)-1)/3),Ve=L*Me,ct=R*Me,lt=F+L,Lt=B+R;switch(we){case Pa.TOP_LEFT:return new vo(new Jr(F,Lt),new Jr(F,Lt-ct),new Jr(lt-Ve,B),new Jr(lt,B));case Pa.TOP_RIGHT:return new vo(new Jr(F,B),new Jr(F+Ve,B),new Jr(lt,Lt-ct),new Jr(lt,Lt));case Pa.BOTTOM_RIGHT:return new vo(new Jr(lt,B),new Jr(lt,B+ct),new Jr(F+Ve,Lt),new Jr(F,Lt));case Pa.BOTTOM_LEFT:default:return new vo(new Jr(lt,Lt),new Jr(lt-Ve,Lt),new Jr(F,B+ct),new Jr(F,B))}},Vn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},_s=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},js=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},Bi=(function(){function F(B,L,R){this.offsetX=B,this.offsetY=L,this.matrix=R,this.type=0,this.target=6}return F})(),yi=(function(){function F(B,L){this.path=B,this.target=L,this.type=1}return F})(),Mi=(function(){function F(B){this.opacity=B,this.type=2,this.target=6}return F})(),Di=function(F){return F.type===0},Pd=function(F){return F.type===1},Hc=function(F){return F.type===2},rd=function(F,B){return F.length===B.length?F.some(function(L,R){return L===B[R]}):!1},vh=function(F,B,L,R,we){return F.map(function(Me,Ve){switch(Ve){case 0:return Me.add(B,L);case 1:return Me.add(B+R,L);case 2:return Me.add(B+R,L+we);case 3:return Me.add(B,L+we)}return Me})},bu=(function(){function F(B){this.element=B,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),Lo=(function(){function F(B,L){if(this.container=B,this.parent=L,this.effects=[],this.curves=new qo(this.container),this.container.styles.opacity<1&&this.effects.push(new Mi(this.container.styles.opacity)),this.container.styles.transform!==null){var R=this.container.bounds.left+this.container.styles.transformOrigin[0].number,we=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Me=this.container.styles.transform;this.effects.push(new Bi(R,we,Me))}if(this.container.styles.overflowX!==0){var Ve=Vn(this.curves),ct=js(this.curves);rd(Ve,ct)?this.effects.push(new yi(Ve,6)):(this.effects.push(new yi(Ve,2)),this.effects.push(new yi(ct,4)))}}return F.prototype.getEffects=function(B){for(var L=[2,3].indexOf(this.container.styles.position)===-1,R=this.parent,we=this.effects.slice(0);R;){var Me=R.effects.filter(function(lt){return!Pd(lt)});if(L||R.container.styles.position!==0||!R.parent){if(we.unshift.apply(we,Me),L=[2,3].indexOf(R.container.styles.position)===-1,R.container.styles.overflowX!==0){var Ve=Vn(R.curves),ct=js(R.curves);rd(Ve,ct)||we.unshift(new yi(ct,6))}}else we.unshift.apply(we,Me);R=R.parent}return we.filter(function(lt){return E(lt.target,B)})},F})(),lc=function(F,B,L,R){F.container.elements.forEach(function(we){var Me=E(we.flags,4),Ve=E(we.flags,2),ct=new Lo(we,F);E(we.styles.display,2048)&&R.push(ct);var lt=E(we.flags,8)?[]:R;if(Me||Ve){var Lt=Me||we.styles.isPositioned()?L:B,Rt=new bu(ct);if(we.styles.isPositioned()||we.styles.opacity<1||we.styles.isTransformed()){var er=we.styles.zIndex.order;if(er<0){var jr=0;Lt.negativeZIndex.some(function(en,fn){return er>en.element.container.styles.zIndex.order?(jr=fn,!1):jr>0}),Lt.negativeZIndex.splice(jr,0,Rt)}else if(er>0){var mn=0;Lt.positiveZIndex.some(function(en,fn){return er>=en.element.container.styles.zIndex.order?(mn=fn+1,!1):mn>0}),Lt.positiveZIndex.splice(mn,0,Rt)}else Lt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Rt)}else we.styles.isFloating()?Lt.nonPositionedFloats.push(Rt):Lt.nonPositionedInlineLevel.push(Rt);lc(ct,Rt,Me?Rt:L,lt)}else we.styles.isInlineLevel()?B.inlineLevel.push(ct):B.nonInlineLevel.push(ct),lc(ct,B,L,lt);E(we.flags,8)&&nu(we,lt)})},nu=function(F,B){for(var L=F instanceof NA?F.start:1,R=F instanceof NA?F.reversed:!1,we=0;we<B.length;we++){var Me=B[we];Me.container instanceof eu&&typeof Me.container.value=="number"&&Me.container.value!==0&&(L=Me.container.value),Me.listValue=Mr(L,Me.container.styles.listStyleType,!0),L+=R?-1:1}},nd=function(F){var B=new Lo(F,null),L=new bu(B),R=[];return lc(B,L,L,R),nu(B.container,R),L},Xu=function(F,B){switch(B){case 0:return So(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return So(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return So(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return So(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},FA=function(F,B){switch(B){case 0:return So(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return So(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return So(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return So(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},Nc=function(F,B){switch(B){case 0:return So(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return So(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return So(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return So(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},Yu=function(F,B){switch(B){case 0:return cc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return cc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return cc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return cc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},cc=function(F,B){var L=[];return xi(F)?L.push(F.subdivide(.5,!1)):L.push(F),xi(B)?L.push(B.subdivide(.5,!0)):L.push(B),L},So=function(F,B,L,R){var we=[];return xi(F)?we.push(F.subdivide(.5,!1)):we.push(F),xi(L)?we.push(L.subdivide(.5,!0)):we.push(L),xi(R)?we.push(R.subdivide(.5,!0).reverse()):we.push(R),xi(B)?we.push(B.subdivide(.5,!1).reverse()):we.push(B),we},Od=function(F){var B=F.bounds,L=F.styles;return B.add(L.borderLeftWidth,L.borderTopWidth,-(L.borderRightWidth+L.borderLeftWidth),-(L.borderTopWidth+L.borderBottomWidth))},Wc=function(F){var B=F.styles,L=F.bounds,R=ma(B.paddingLeft,L.width),we=ma(B.paddingRight,L.width),Me=ma(B.paddingTop,L.width),Ve=ma(B.paddingBottom,L.width);return L.add(R+B.borderLeftWidth,Me+B.borderTopWidth,-(B.borderRightWidth+B.borderLeftWidth+R+we),-(B.borderTopWidth+B.borderBottomWidth+Me+Ve))},Ju=function(F,B){return F===0?B.bounds:F===2?Wc(B):Od(B)},PA=function(F,B){return F===0?B.bounds:F===2?Wc(B):Od(B)},ro=function(F,B,L){var R=Ju(Md(F.styles.backgroundOrigin,B),F),we=PA(Md(F.styles.backgroundClip,B),F),Me=Vi(Md(F.styles.backgroundSize,B),L,R),Ve=Me[0],ct=Me[1],lt=Sn(Md(F.styles.backgroundPosition,B),R.width-Ve,R.height-ct),Lt=OA(Md(F.styles.backgroundRepeat,B),lt,Me,R,we),Rt=Math.round(R.left+lt[0]),er=Math.round(R.top+lt[1]);return[Lt,Rt,er,Ve,ct]},Fl=function(F){return on(F)&&F.value===fa.AUTO},Xo=function(F){return typeof F=="number"},Vi=function(F,B,L){var R=B[0],we=B[1],Me=B[2],Ve=F[0],ct=F[1];if(!Ve)return[0,0];if(kn(Ve)&&ct&&kn(ct))return[ma(Ve,L.width),ma(ct,L.height)];var lt=Xo(Me);if(on(Ve)&&(Ve.value===fa.CONTAIN||Ve.value===fa.COVER)){if(Xo(Me)){var Lt=L.width/L.height;return Lt<Me!=(Ve.value===fa.COVER)?[L.width,L.width/Me]:[L.height*Me,L.height]}return[L.width,L.height]}var Rt=Xo(R),er=Xo(we),jr=Rt||er;if(Fl(Ve)&&(!ct||Fl(ct))){if(Rt&&er)return[R,we];if(!lt&&!jr)return[L.width,L.height];if(jr&&lt){var mn=Rt?R:we*Me,en=er?we:R/Me;return[mn,en]}var fn=Rt?R:L.width,za=er?we:L.height;return[fn,za]}if(lt){var Kn=0,Qn=0;return kn(Ve)?Kn=ma(Ve,L.width):kn(ct)&&(Qn=ma(ct,L.height)),Fl(Ve)?Kn=Qn*Me:(!ct||Fl(ct))&&(Qn=Kn/Me),[Kn,Qn]}var Ls=null,Ya=null;if(kn(Ve)?Ls=ma(Ve,L.width):ct&&kn(ct)&&(Ya=ma(ct,L.height)),Ls!==null&&(!ct||Fl(ct))&&(Ya=Rt&&er?Ls/R*we:L.height),Ya!==null&&Fl(Ve)&&(Ls=Rt&&er?Ya/we*R:L.width),Ls!==null&&Ya!==null)return[Ls,Ya];throw new Error("Unable to calculate background-size for element")},Md=function(F,B){var L=F[B];return typeof L>"u"?F[0]:L},OA=function(F,B,L,R,we){var Me=B[0],Ve=B[1],ct=L[0],lt=L[1];switch(F){case 2:return[new Jr(Math.round(R.left),Math.round(R.top+Ve)),new Jr(Math.round(R.left+R.width),Math.round(R.top+Ve)),new Jr(Math.round(R.left+R.width),Math.round(lt+R.top+Ve)),new Jr(Math.round(R.left),Math.round(lt+R.top+Ve))];case 3:return[new Jr(Math.round(R.left+Me),Math.round(R.top)),new Jr(Math.round(R.left+Me+ct),Math.round(R.top)),new Jr(Math.round(R.left+Me+ct),Math.round(R.height+R.top)),new Jr(Math.round(R.left+Me),Math.round(R.height+R.top))];case 1:return[new Jr(Math.round(R.left+Me),Math.round(R.top+Ve)),new Jr(Math.round(R.left+Me+ct),Math.round(R.top+Ve)),new Jr(Math.round(R.left+Me+ct),Math.round(R.top+Ve+lt)),new Jr(Math.round(R.left+Me),Math.round(R.top+Ve+lt))];default:return[new Jr(Math.round(we.left),Math.round(we.top)),new Jr(Math.round(we.left+we.width),Math.round(we.top)),new Jr(Math.round(we.left+we.width),Math.round(we.height+we.top)),new Jr(Math.round(we.left),Math.round(we.height+we.top))]}},xh="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yh="Hidden Text",Yl=(function(){function F(B){this._data={},this._document=B}return F.prototype.parseMetrics=function(B,L){var R=this._document.createElement("div"),we=this._document.createElement("img"),Me=this._document.createElement("span"),Ve=this._document.body;R.style.visibility="hidden",R.style.fontFamily=B,R.style.fontSize=L,R.style.margin="0",R.style.padding="0",R.style.whiteSpace="nowrap",Ve.appendChild(R),we.src=xh,we.width=1,we.height=1,we.style.margin="0",we.style.padding="0",we.style.verticalAlign="baseline",Me.style.fontFamily=B,Me.style.fontSize=L,Me.style.margin="0",Me.style.padding="0",Me.appendChild(this._document.createTextNode(yh)),R.appendChild(Me),R.appendChild(we);var ct=we.offsetTop-Me.offsetTop+2;R.removeChild(Me),R.appendChild(this._document.createTextNode(yh)),R.style.lineHeight="normal",we.style.verticalAlign="super";var lt=we.offsetTop-R.offsetTop+2;return Ve.removeChild(R),{baseline:ct,middle:lt}},F.prototype.getMetrics=function(B,L){var R=B+" "+L;return typeof this._data[R]>"u"&&(this._data[R]=this.parseMetrics(B,L)),this._data[R]},F})(),bh=(function(){function F(B,L){this.context=B,this.options=L}return F})(),MA=1e4,au=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we._activeEffects=[],we.canvas=R.canvas?R.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),R.canvas||(we.canvas.width=Math.floor(R.width*R.scale),we.canvas.height=Math.floor(R.height*R.scale),we.canvas.style.width=R.width+"px",we.canvas.style.height=R.height+"px"),we.fontMetrics=new Yl(document),we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-R.x,-R.y),we.ctx.textBaseline="bottom",we._activeEffects=[],we.context.logger.debug("Canvas renderer initialized ("+R.width+"x"+R.height+") with scale "+R.scale),we}return B.prototype.applyEffects=function(L){for(var R=this;this._activeEffects.length;)this.popEffect();L.forEach(function(we){return R.applyEffect(we)})},B.prototype.applyEffect=function(L){this.ctx.save(),Hc(L)&&(this.ctx.globalAlpha=L.opacity),Di(L)&&(this.ctx.translate(L.offsetX,L.offsetY),this.ctx.transform(L.matrix[0],L.matrix[1],L.matrix[2],L.matrix[3],L.matrix[4],L.matrix[5]),this.ctx.translate(-L.offsetX,-L.offsetY)),Pd(L)&&(this.path(L.path),this.ctx.clip()),this._activeEffects.push(L)},B.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},B.prototype.renderStack=function(L){return o(this,void 0,void 0,function(){var R;return c(this,function(we){switch(we.label){case 0:return R=L.element.container.styles,R.isVisible()?[4,this.renderStackContent(L)]:[3,2];case 1:we.sent(),we.label=2;case 2:return[2]}})})},B.prototype.renderNode=function(L){return o(this,void 0,void 0,function(){return c(this,function(R){switch(R.label){case 0:if(E(L.container.flags,16))debugger;return L.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(L)]:[3,3];case 1:return R.sent(),[4,this.renderNodeContent(L)];case 2:R.sent(),R.label=3;case 3:return[2]}})})},B.prototype.renderTextWithLetterSpacing=function(L,R,we){var Me=this;if(R===0)this.ctx.fillText(L.text,L.bounds.left,L.bounds.top+we);else{var Ve=Qc(L.text);Ve.reduce(function(ct,lt){return Me.ctx.fillText(lt,ct,L.bounds.top+we),ct+Me.ctx.measureText(lt).width},L.bounds.left)}},B.prototype.createFontStyle=function(L){var R=L.fontVariant.filter(function(Ve){return Ve==="normal"||Ve==="small-caps"}).join(""),we=wu(L.fontFamily).join(", "),Me=cn(L.fontSize)?""+L.fontSize.number+L.fontSize.unit:L.fontSize.number+"px";return[[L.fontStyle,R,L.fontWeight,Me,we].join(" "),we,Me]},B.prototype.renderTextNode=function(L,R){return o(this,void 0,void 0,function(){var we,Me,Ve,ct,lt,Lt,Rt,er,jr=this;return c(this,function(mn){return we=this.createFontStyle(R),Me=we[0],Ve=we[1],ct=we[2],this.ctx.font=Me,this.ctx.direction=R.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",lt=this.fontMetrics.getMetrics(Ve,ct),Lt=lt.baseline,Rt=lt.middle,er=R.paintOrder,L.textBounds.forEach(function(en){er.forEach(function(fn){switch(fn){case 0:jr.ctx.fillStyle=wn(R.color),jr.renderTextWithLetterSpacing(en,R.letterSpacing,Lt);var za=R.textShadow;za.length&&en.text.trim().length&&(za.slice(0).reverse().forEach(function(Kn){jr.ctx.shadowColor=wn(Kn.color),jr.ctx.shadowOffsetX=Kn.offsetX.number*jr.options.scale,jr.ctx.shadowOffsetY=Kn.offsetY.number*jr.options.scale,jr.ctx.shadowBlur=Kn.blur.number,jr.renderTextWithLetterSpacing(en,R.letterSpacing,Lt)}),jr.ctx.shadowColor="",jr.ctx.shadowOffsetX=0,jr.ctx.shadowOffsetY=0,jr.ctx.shadowBlur=0),R.textDecorationLine.length&&(jr.ctx.fillStyle=wn(R.textDecorationColor||R.color),R.textDecorationLine.forEach(function(Kn){switch(Kn){case 1:jr.ctx.fillRect(en.bounds.left,Math.round(en.bounds.top+Lt),en.bounds.width,1);break;case 2:jr.ctx.fillRect(en.bounds.left,Math.round(en.bounds.top),en.bounds.width,1);break;case 3:jr.ctx.fillRect(en.bounds.left,Math.ceil(en.bounds.top+Rt),en.bounds.width,1);break}}));break;case 1:R.webkitTextStrokeWidth&&en.text.trim().length&&(jr.ctx.strokeStyle=wn(R.webkitTextStrokeColor),jr.ctx.lineWidth=R.webkitTextStrokeWidth,jr.ctx.lineJoin=window.chrome?"miter":"round",jr.ctx.strokeText(en.text,en.bounds.left,en.bounds.top+Lt)),jr.ctx.strokeStyle="",jr.ctx.lineWidth=0,jr.ctx.lineJoin="miter";break}})}),[2]})})},B.prototype.renderReplacedElement=function(L,R,we){if(we&&L.intrinsicWidth>0&&L.intrinsicHeight>0){var Me=Wc(L),Ve=js(R);this.path(Ve),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(we,0,0,L.intrinsicWidth,L.intrinsicHeight,Me.left,Me.top,Me.width,Me.height),this.ctx.restore()}},B.prototype.renderNodeContent=function(L){return o(this,void 0,void 0,function(){var R,we,Me,Ve,ct,lt,Qn,Qn,Lt,Rt,er,jr,Ya,mn,en,Oa,fn,za,Kn,Qn,Ls,Ya,Oa;return c(this,function(Nn){switch(Nn.label){case 0:this.applyEffects(L.getEffects(4)),R=L.container,we=L.curves,Me=R.styles,Ve=0,ct=R.textNodes,Nn.label=1;case 1:return Ve<ct.length?(lt=ct[Ve],[4,this.renderTextNode(lt,Me)]):[3,4];case 2:Nn.sent(),Nn.label=3;case 3:return Ve++,[3,1];case 4:if(!(R instanceof ch))return[3,8];Nn.label=5;case 5:return Nn.trys.push([5,7,,8]),[4,this.context.cache.match(R.src)];case 6:return Qn=Nn.sent(),this.renderReplacedElement(R,we,Qn),[3,8];case 7:return Nn.sent(),this.context.logger.error("Error loading image "+R.src),[3,8];case 8:if(R instanceof vu&&this.renderReplacedElement(R,we,R.canvas),!(R instanceof zu))return[3,12];Nn.label=9;case 9:return Nn.trys.push([9,11,,12]),[4,this.context.cache.match(R.svg)];case 10:return Qn=Nn.sent(),this.renderReplacedElement(R,we,Qn),[3,12];case 11:return Nn.sent(),this.context.logger.error("Error loading svg "+R.svg.substring(0,255)),[3,12];case 12:return R instanceof mo&&R.tree?(Lt=new B(this.context,{scale:this.options.scale,backgroundColor:R.backgroundColor,x:0,y:0,width:R.width,height:R.height}),[4,Lt.render(R.tree)]):[3,14];case 13:Rt=Nn.sent(),R.width&&R.height&&this.ctx.drawImage(Rt,0,0,R.width,R.height,R.bounds.left,R.bounds.top,R.bounds.width,R.bounds.height),Nn.label=14;case 14:if(R instanceof Cc&&(er=Math.min(R.bounds.width,R.bounds.height),R.type===Vu?R.checked&&(this.ctx.save(),this.path([new Jr(R.bounds.left+er*.39363,R.bounds.top+er*.79),new Jr(R.bounds.left+er*.16,R.bounds.top+er*.5549),new Jr(R.bounds.left+er*.27347,R.bounds.top+er*.44071),new Jr(R.bounds.left+er*.39694,R.bounds.top+er*.5649),new Jr(R.bounds.left+er*.72983,R.bounds.top+er*.23),new Jr(R.bounds.left+er*.84,R.bounds.top+er*.34085),new Jr(R.bounds.left+er*.39363,R.bounds.top+er*.79)]),this.ctx.fillStyle=wn(ul),this.ctx.fill(),this.ctx.restore()):R.type===Ku&&R.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(R.bounds.left+er/2,R.bounds.top+er/2,er/4,0,Math.PI*2,!0),this.ctx.fillStyle=wn(ul),this.ctx.fill(),this.ctx.restore())),DA(R)&&R.value.length){switch(jr=this.createFontStyle(Me),Ya=jr[0],mn=jr[1],en=this.fontMetrics.getMetrics(Ya,mn).baseline,this.ctx.font=Ya,this.ctx.fillStyle=wn(Me.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ju(R.styles.textAlign),Oa=Wc(R),fn=0,R.styles.textAlign){case 1:fn+=Oa.width/2;break;case 2:fn+=Oa.width;break}za=Oa.add(fn,0,0,-Oa.height/2+1),this.ctx.save(),this.path([new Jr(Oa.left,Oa.top),new Jr(Oa.left+Oa.width,Oa.top),new Jr(Oa.left+Oa.width,Oa.top+Oa.height),new Jr(Oa.left,Oa.top+Oa.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Id(R.value,za),Me.letterSpacing,en),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!E(R.styles.display,2048))return[3,20];if(R.styles.listStyleImage===null)return[3,19];if(Kn=R.styles.listStyleImage,Kn.type!==0)return[3,18];Qn=void 0,Ls=Kn.url,Nn.label=15;case 15:return Nn.trys.push([15,17,,18]),[4,this.context.cache.match(Ls)];case 16:return Qn=Nn.sent(),this.ctx.drawImage(Qn,R.bounds.left-(Qn.width+10),R.bounds.top),[3,18];case 17:return Nn.sent(),this.context.logger.error("Error loading list-style-image "+Ls),[3,18];case 18:return[3,20];case 19:L.listValue&&R.styles.listStyleType!==-1&&(Ya=this.createFontStyle(Me)[0],this.ctx.font=Ya,this.ctx.fillStyle=wn(Me.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Oa=new h(R.bounds.left,R.bounds.top+ma(R.styles.paddingTop,R.bounds.width),R.bounds.width,wl(Me.lineHeight,Me.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Id(L.listValue,Oa),Me.letterSpacing,wl(Me.lineHeight,Me.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Nn.label=20;case 20:return[2]}})})},B.prototype.renderStackContent=function(L){return o(this,void 0,void 0,function(){var R,we,Kn,Me,Ve,Kn,ct,lt,Kn,Lt,Rt,Kn,er,jr,Kn,mn,en,Kn,fn,za,Kn;return c(this,function(Qn){switch(Qn.label){case 0:if(E(L.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(L.element)];case 1:Qn.sent(),R=0,we=L.negativeZIndex,Qn.label=2;case 2:return R<we.length?(Kn=we[R],[4,this.renderStack(Kn)]):[3,5];case 3:Qn.sent(),Qn.label=4;case 4:return R++,[3,2];case 5:return[4,this.renderNodeContent(L.element)];case 6:Qn.sent(),Me=0,Ve=L.nonInlineLevel,Qn.label=7;case 7:return Me<Ve.length?(Kn=Ve[Me],[4,this.renderNode(Kn)]):[3,10];case 8:Qn.sent(),Qn.label=9;case 9:return Me++,[3,7];case 10:ct=0,lt=L.nonPositionedFloats,Qn.label=11;case 11:return ct<lt.length?(Kn=lt[ct],[4,this.renderStack(Kn)]):[3,14];case 12:Qn.sent(),Qn.label=13;case 13:return ct++,[3,11];case 14:Lt=0,Rt=L.nonPositionedInlineLevel,Qn.label=15;case 15:return Lt<Rt.length?(Kn=Rt[Lt],[4,this.renderStack(Kn)]):[3,18];case 16:Qn.sent(),Qn.label=17;case 17:return Lt++,[3,15];case 18:er=0,jr=L.inlineLevel,Qn.label=19;case 19:return er<jr.length?(Kn=jr[er],[4,this.renderNode(Kn)]):[3,22];case 20:Qn.sent(),Qn.label=21;case 21:return er++,[3,19];case 22:mn=0,en=L.zeroOrAutoZIndexOrTransformedOrOpacity,Qn.label=23;case 23:return mn<en.length?(Kn=en[mn],[4,this.renderStack(Kn)]):[3,26];case 24:Qn.sent(),Qn.label=25;case 25:return mn++,[3,23];case 26:fn=0,za=L.positiveZIndex,Qn.label=27;case 27:return fn<za.length?(Kn=za[fn],[4,this.renderStack(Kn)]):[3,30];case 28:Qn.sent(),Qn.label=29;case 29:return fn++,[3,27];case 30:return[2]}})})},B.prototype.mask=function(L){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(L.slice(0).reverse()),this.ctx.closePath()},B.prototype.path=function(L){this.ctx.beginPath(),this.formatPath(L),this.ctx.closePath()},B.prototype.formatPath=function(L){var R=this;L.forEach(function(we,Me){var Ve=xi(we)?we.start:we;Me===0?R.ctx.moveTo(Ve.x,Ve.y):R.ctx.lineTo(Ve.x,Ve.y),xi(we)&&R.ctx.bezierCurveTo(we.startControl.x,we.startControl.y,we.endControl.x,we.endControl.y,we.end.x,we.end.y)})},B.prototype.renderRepeat=function(L,R,we,Me){this.path(L),this.ctx.fillStyle=R,this.ctx.translate(we,Me),this.ctx.fill(),this.ctx.translate(-we,-Me)},B.prototype.resizeImage=function(L,R,we){var Me;if(L.width===R&&L.height===we)return L;var Ve=(Me=this.canvas.ownerDocument)!==null&&Me!==void 0?Me:document,ct=Ve.createElement("canvas");ct.width=Math.max(1,R),ct.height=Math.max(1,we);var lt=ct.getContext("2d");return lt.drawImage(L,0,0,L.width,L.height,0,0,R,we),ct},B.prototype.renderBackgroundImage=function(L){return o(this,void 0,void 0,function(){var R,we,Me,Ve,ct,lt;return c(this,function(Lt){switch(Lt.label){case 0:R=L.styles.backgroundImage.length-1,we=function(Rt){var er,jr,mn,xo,Ol,hl,ti,Uo,fs,en,xo,Ol,hl,ti,Uo,fn,za,Kn,Qn,Ls,Ya,Oa,Nn,ws,fs,Ia,xo,Pl,Bc,ti,Uo,ad,Ol,hl,Cu,Ud,sd,eA,id,iu,Rd,A;return c(this,function(p){switch(p.label){case 0:if(Rt.type!==0)return[3,5];er=void 0,jr=Rt.url,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Me.context.cache.match(jr)];case 2:return er=p.sent(),[3,4];case 3:return p.sent(),Me.context.logger.error("Error loading background-image "+jr),[3,4];case 4:return er&&(mn=ro(L,R,[er.width,er.height,er.width/er.height]),xo=mn[0],Ol=mn[1],hl=mn[2],ti=mn[3],Uo=mn[4],fs=Me.ctx.createPattern(Me.resizeImage(er,ti,Uo),"repeat"),Me.renderRepeat(xo,fs,Ol,hl)),[3,6];case 5:bo(Rt)?(en=ro(L,R,[null,null,null]),xo=en[0],Ol=en[1],hl=en[2],ti=en[3],Uo=en[4],fn=pc(Rt.angle,ti,Uo),za=fn[0],Kn=fn[1],Qn=fn[2],Ls=fn[3],Ya=fn[4],Oa=document.createElement("canvas"),Oa.width=ti,Oa.height=Uo,Nn=Oa.getContext("2d"),ws=Nn.createLinearGradient(Kn,Ls,Qn,Ya),hi(Rt.stops,za).forEach(function(b){return ws.addColorStop(b.stop,wn(b.color))}),Nn.fillStyle=ws,Nn.fillRect(0,0,ti,Uo),ti>0&&Uo>0&&(fs=Me.ctx.createPattern(Oa,"repeat"),Me.renderRepeat(xo,fs,Ol,hl))):gc(Rt)&&(Ia=ro(L,R,[null,null,null]),xo=Ia[0],Pl=Ia[1],Bc=Ia[2],ti=Ia[3],Uo=Ia[4],ad=Rt.position.length===0?[Bn]:Rt.position,Ol=ma(ad[0],ti),hl=ma(ad[ad.length-1],Uo),Cu=Wl(Rt,Ol,hl,ti,Uo),Ud=Cu[0],sd=Cu[1],Ud>0&&sd>0&&(eA=Me.ctx.createRadialGradient(Pl+Ol,Bc+hl,0,Pl+Ol,Bc+hl,Ud),hi(Rt.stops,Ud*2).forEach(function(b){return eA.addColorStop(b.stop,wn(b.color))}),Me.path(xo),Me.ctx.fillStyle=eA,Ud!==sd?(id=L.bounds.left+.5*L.bounds.width,iu=L.bounds.top+.5*L.bounds.height,Rd=sd/Ud,A=1/Rd,Me.ctx.save(),Me.ctx.translate(id,iu),Me.ctx.transform(1,0,0,Rd,0,0),Me.ctx.translate(-id,-iu),Me.ctx.fillRect(Pl,A*(Bc-iu)+iu,ti,Uo*A),Me.ctx.restore()):Me.ctx.fill())),p.label=6;case 6:return R--,[2]}})},Me=this,Ve=0,ct=L.styles.backgroundImage.slice(0).reverse(),Lt.label=1;case 1:return Ve<ct.length?(lt=ct[Ve],[5,we(lt)]):[3,4];case 2:Lt.sent(),Lt.label=3;case 3:return Ve++,[3,1];case 4:return[2]}})})},B.prototype.renderSolidBorder=function(L,R,we){return o(this,void 0,void 0,function(){return c(this,function(Me){return this.path(Xu(we,R)),this.ctx.fillStyle=wn(L),this.ctx.fill(),[2]})})},B.prototype.renderDoubleBorder=function(L,R,we,Me){return o(this,void 0,void 0,function(){var Ve,ct;return c(this,function(lt){switch(lt.label){case 0:return R<3?[4,this.renderSolidBorder(L,we,Me)]:[3,2];case 1:return lt.sent(),[2];case 2:return Ve=FA(Me,we),this.path(Ve),this.ctx.fillStyle=wn(L),this.ctx.fill(),ct=Nc(Me,we),this.path(ct),this.ctx.fill(),[2]}})})},B.prototype.renderNodeBackgroundAndBorders=function(L){return o(this,void 0,void 0,function(){var R,we,Me,Ve,ct,lt,Lt,Rt,er=this;return c(this,function(jr){switch(jr.label){case 0:return this.applyEffects(L.getEffects(2)),R=L.container.styles,we=!ga(R.backgroundColor)||R.backgroundImage.length,Me=[{style:R.borderTopStyle,color:R.borderTopColor,width:R.borderTopWidth},{style:R.borderRightStyle,color:R.borderRightColor,width:R.borderRightWidth},{style:R.borderBottomStyle,color:R.borderBottomColor,width:R.borderBottomWidth},{style:R.borderLeftStyle,color:R.borderLeftColor,width:R.borderLeftWidth}],Ve=su(Md(R.backgroundClip,0),L.curves),we||R.boxShadow.length?(this.ctx.save(),this.path(Ve),this.ctx.clip(),ga(R.backgroundColor)||(this.ctx.fillStyle=wn(R.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(L.container)]):[3,2];case 1:jr.sent(),this.ctx.restore(),R.boxShadow.slice(0).reverse().forEach(function(mn){er.ctx.save();var en=Vn(L.curves),fn=mn.inset?0:MA,za=vh(en,-fn+(mn.inset?1:-1)*mn.spread.number,(mn.inset?1:-1)*mn.spread.number,mn.spread.number*(mn.inset?-2:2),mn.spread.number*(mn.inset?-2:2));mn.inset?(er.path(en),er.ctx.clip(),er.mask(za)):(er.mask(en),er.ctx.clip(),er.path(za)),er.ctx.shadowOffsetX=mn.offsetX.number+fn,er.ctx.shadowOffsetY=mn.offsetY.number,er.ctx.shadowColor=wn(mn.color),er.ctx.shadowBlur=mn.blur.number,er.ctx.fillStyle=mn.inset?wn(mn.color):"rgba(0,0,0,1)",er.ctx.fill(),er.ctx.restore()}),jr.label=2;case 2:ct=0,lt=0,Lt=Me,jr.label=3;case 3:return lt<Lt.length?(Rt=Lt[lt],Rt.style!==0&&!ga(Rt.color)&&Rt.width>0?Rt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Rt.color,Rt.width,ct,L.curves,2)]:[3,11]):[3,13];case 4:return jr.sent(),[3,11];case 5:return Rt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Rt.color,Rt.width,ct,L.curves,3)];case 6:return jr.sent(),[3,11];case 7:return Rt.style!==4?[3,9]:[4,this.renderDoubleBorder(Rt.color,Rt.width,ct,L.curves)];case 8:return jr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Rt.color,ct,L.curves)];case 10:jr.sent(),jr.label=11;case 11:ct++,jr.label=12;case 12:return lt++,[3,3];case 13:return[2]}})})},B.prototype.renderDashedDottedBorder=function(L,R,we,Me,Ve){return o(this,void 0,void 0,function(){var ct,lt,Lt,Rt,er,jr,mn,en,fn,za,Kn,Qn,Ls,Ya,Oa,Nn,Oa,Nn;return c(this,function(ws){return this.ctx.save(),ct=Yu(Me,we),lt=Xu(Me,we),Ve===2&&(this.path(lt),this.ctx.clip()),xi(lt[0])?(Lt=lt[0].start.x,Rt=lt[0].start.y):(Lt=lt[0].x,Rt=lt[0].y),xi(lt[1])?(er=lt[1].end.x,jr=lt[1].end.y):(er=lt[1].x,jr=lt[1].y),we===0||we===2?mn=Math.abs(Lt-er):mn=Math.abs(Rt-jr),this.ctx.beginPath(),Ve===3?this.formatPath(ct):this.formatPath(lt.slice(0,2)),en=R<3?R*3:R*2,fn=R<3?R*2:R,Ve===3&&(en=R,fn=R),za=!0,mn<=en*2?za=!1:mn<=en*2+fn?(Kn=mn/(2*en+fn),en*=Kn,fn*=Kn):(Qn=Math.floor((mn+fn)/(en+fn)),Ls=(mn-Qn*en)/(Qn-1),Ya=(mn-(Qn+1)*en)/Qn,fn=Ya<=0||Math.abs(fn-Ls)<Math.abs(fn-Ya)?Ls:Ya),za&&(Ve===3?this.ctx.setLineDash([0,en+fn]):this.ctx.setLineDash([en,fn])),Ve===3?(this.ctx.lineCap="round",this.ctx.lineWidth=R):this.ctx.lineWidth=R*2+1.1,this.ctx.strokeStyle=wn(L),this.ctx.stroke(),this.ctx.setLineDash([]),Ve===2&&(xi(lt[0])&&(Oa=lt[3],Nn=lt[0],this.ctx.beginPath(),this.formatPath([new Jr(Oa.end.x,Oa.end.y),new Jr(Nn.start.x,Nn.start.y)]),this.ctx.stroke()),xi(lt[1])&&(Oa=lt[1],Nn=lt[2],this.ctx.beginPath(),this.formatPath([new Jr(Oa.end.x,Oa.end.y),new Jr(Nn.start.x,Nn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},B.prototype.render=function(L){return o(this,void 0,void 0,function(){var R;return c(this,function(we){switch(we.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=wn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),R=nd(L),[4,this.renderStack(R)];case 1:return we.sent(),this.applyEffects([]),[2,this.canvas]}})})},B})(bh),DA=function(F){return F instanceof uh||F instanceof uf?!0:F instanceof Cc&&F.type!==Ku&&F.type!==Vu},su=function(F,B){switch(F){case 0:return Vn(B);case 2:return _s(B);case 1:default:return js(B)}},ju=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_A=["-apple-system","system-ui"],wu=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(B){return _A.indexOf(B)===-1}):F},dc=(function(F){a(B,F);function B(L,R){var we=F.call(this,L,R)||this;return we.canvas=R.canvas?R.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),we.options=R,we.canvas.width=Math.floor(R.width*R.scale),we.canvas.height=Math.floor(R.height*R.scale),we.canvas.style.width=R.width+"px",we.canvas.style.height=R.height+"px",we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-R.x,-R.y),we.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+R.width+"x"+R.height+" at "+R.x+","+R.y+") with scale "+R.scale),we}return B.prototype.render=function(L){return o(this,void 0,void 0,function(){var R,we;return c(this,function(Me){switch(Me.label){case 0:return R=Wu(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,L),[4,Dd(R)];case 1:return we=Me.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=wn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(we,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},B})(bh),Dd=function(F){return new Promise(function(B,L){var R=new Image;R.onload=function(){B(R)},R.onerror=L,R.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},_d=(function(){function F(B){var L=B.id,R=B.enabled;this.id=L,this.enabled=R,this.start=Date.now()}return F.prototype.debug=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],B))},F.prototype.warn=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},F.prototype.error=function(){for(var B=[],L=0;L<arguments.length;L++)B[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},F.instances={},F})(),Zu=(function(){function F(B,L){var R;this.windowBounds=L,this.instanceName="#"+F.instanceCount++,this.logger=new _d({id:this.instanceName,enabled:B.logging}),this.cache=(R=B.cache)!==null&&R!==void 0?R:new Ua(this,B)}return F.instanceCount=1,F})(),LA=function(F,B){return B===void 0&&(B={}),Ld(F,B)};typeof window<"u"&&os.setContext(window);var Ld=function(F,B){return o(void 0,void 0,void 0,function(){var L,R,we,Me,Ve,ct,lt,Lt,Rt,er,jr,mn,en,fn,za,Kn,Qn,Ls,Ya,Oa,ws,Nn,ws,fs,Ia,xo,Pl,Bc,ti,Uo,ad,Ol,hl,Cu,Ud,sd,eA,id,iu,Rd;return c(this,function(A){switch(A.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(L=F.ownerDocument,!L)throw new Error("Element is not attached to a Document");if(R=L.defaultView,!R)throw new Error("Document is not attached to a Window");return we={allowTaint:(fs=B.allowTaint)!==null&&fs!==void 0?fs:!1,imageTimeout:(Ia=B.imageTimeout)!==null&&Ia!==void 0?Ia:15e3,proxy:B.proxy,useCORS:(xo=B.useCORS)!==null&&xo!==void 0?xo:!1},Me=s({logging:(Pl=B.logging)!==null&&Pl!==void 0?Pl:!0,cache:B.cache},we),Ve={windowWidth:(Bc=B.windowWidth)!==null&&Bc!==void 0?Bc:R.innerWidth,windowHeight:(ti=B.windowHeight)!==null&&ti!==void 0?ti:R.innerHeight,scrollX:(Uo=B.scrollX)!==null&&Uo!==void 0?Uo:R.pageXOffset,scrollY:(ad=B.scrollY)!==null&&ad!==void 0?ad:R.pageYOffset},ct=new h(Ve.scrollX,Ve.scrollY,Ve.windowWidth,Ve.windowHeight),lt=new Zu(Me,ct),Lt=(Ol=B.foreignObjectRendering)!==null&&Ol!==void 0?Ol:!1,Rt={allowTaint:(hl=B.allowTaint)!==null&&hl!==void 0?hl:!1,onclone:B.onclone,ignoreElements:B.ignoreElements,inlineImages:Lt,copyStyles:Lt},lt.logger.debug("Starting document clone with size "+ct.width+"x"+ct.height+" scrolled to "+-ct.left+","+-ct.top),er=new Yn(lt,F,Rt),jr=er.clonedReferenceElement,jr?[4,er.toIFrame(L,ct)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return mn=A.sent(),en=mh(jr)||fh(jr)?d(jr.ownerDocument):i(lt,jr),fn=en.width,za=en.height,Kn=en.left,Qn=en.top,Ls=xp(lt,jr,B.backgroundColor),Ya={canvas:B.canvas,backgroundColor:Ls,scale:(Ud=(Cu=B.scale)!==null&&Cu!==void 0?Cu:R.devicePixelRatio)!==null&&Ud!==void 0?Ud:1,x:((sd=B.x)!==null&&sd!==void 0?sd:0)+Kn,y:((eA=B.y)!==null&&eA!==void 0?eA:0)+Qn,width:(id=B.width)!==null&&id!==void 0?id:Math.ceil(fn),height:(iu=B.height)!==null&&iu!==void 0?iu:Math.ceil(za)},Lt?(lt.logger.debug("Document cloned, using foreign object rendering"),ws=new dc(lt,Ya),[4,ws.render(jr)]):[3,3];case 2:return Oa=A.sent(),[3,5];case 3:return lt.logger.debug("Document cloned, element located at "+Kn+","+Qn+" with size "+fn+"x"+za+" using computed rendering"),lt.logger.debug("Starting DOM parsing"),Nn=BA(lt,jr),Ls===Nn.styles.backgroundColor&&(Nn.styles.backgroundColor=Yi.TRANSPARENT),lt.logger.debug("Starting renderer for element at "+Ya.x+","+Ya.y+" with size "+Ya.width+"x"+Ya.height),ws=new au(lt,Ya),[4,ws.render(Nn)];case 4:Oa=A.sent(),A.label=5;case 5:return(!((Rd=B.removeContainer)!==null&&Rd!==void 0)||Rd)&&(Yn.destroy(mn)||lt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),lt.logger.debug("Finished rendering"),[2,Oa]}})})},xp=function(F,B,L){var R=B.ownerDocument,we=R.documentElement?ii(F,getComputedStyle(R.documentElement).backgroundColor):Yi.TRANSPARENT,Me=R.body?ii(F,getComputedStyle(R.body).backgroundColor):Yi.TRANSPARENT,Ve=typeof L=="string"?ii(F,L):L===null?Yi.TRANSPARENT:4294967295;return B===R.documentElement?ga(we)?ga(Me)?Ve:Me:we:Ve};return LA}))})(Sv)),Sv.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var UT;function uee(){return UT||(UT=1,(function(t,r){(function(a,s){t.exports=s(dee())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return d}});function d(u,f){(f==null||f>u.length)&&(f=u.length);for(var m=0,v=Array(f);m<f;m++)v[m]=u[m];return v}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return d}});function d(u){if(Array.isArray(u))return u}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return u}});function d(f,m,v,g,x,y,j){try{var N=f[y](j),T=N.value}catch(I){return void v(I)}N.done?m(T):Promise.resolve(T).then(g,x)}function u(f){return function(){var m=this,v=arguments;return new Promise(function(g,x){var y=f.apply(m,v);function j(T){d(y,g,x,j,N,"next",T)}function N(T){d(y,g,x,j,N,"throw",T)}j(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return u}});var d=i("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function u(f,m,v){return(m=(0,d.default)(m))in f?Object.defineProperty(f,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):f[m]=v,f}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return d}});function d(u,f){var m=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(m!=null){var v,g,x,y,j=[],N=!0,T=!1;try{if(x=(m=m.call(u)).next,f===0){if(Object(m)!==m)return;N=!1}else for(;!(N=(v=x.call(m)).done)&&(j.push(v.value),j.length!==f);N=!0);}catch(I){T=!0,g=I}finally{try{if(!N&&m.return!=null&&(y=m.return(),Object(y)!==y))return}finally{if(T)throw g}}return j}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return d}});function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return v}});var d=i("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),u=i("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),f=i("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),m=i("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function v(g,x){return(0,d.default)(g)||(0,u.default)(g,x)||(0,f.default)(g,x)||(0,m.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return u}});var d=i("./node_modules/@babel/runtime/helpers/esm/typeof.js");function u(f,m){if((0,d.default)(f)!="object"||!f)return f;var v=f[Symbol.toPrimitive];if(v!==void 0){var g=v.call(f,m||"default");if((0,d.default)(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(f)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return f}});var d=i("./node_modules/@babel/runtime/helpers/esm/typeof.js"),u=i("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function f(m){var v=(0,u.default)(m,"string");return(0,d.default)(v)=="symbol"?v:v+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return d}});function d(u){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},d(u)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return u}});var d=i("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function u(f,m){if(f){if(typeof f=="string")return(0,d.default)(f,m);var v={}.toString.call(f).slice(8,-1);return v==="Object"&&f.constructor&&(v=f.constructor.name),v==="Map"||v==="Set"?Array.from(f):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?(0,d.default)(f,m):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(l,h,i){i.r(h),i.d(h,{AElement:function(){return el},AnimateColorElement:function(){return Ii},AnimateElement:function(){return Ga},AnimateTransformElement:function(){return Ma},BoundingBox:function(){return hn},CB1:function(){return se},CB2:function(){return re},CB3:function(){return Ie},CB4:function(){return Te},Canvg:function(){return uo},CircleElement:function(){return Fn},ClipPathElement:function(){return Xs},DefsElement:function(){return ui},DescElement:function(){return Ri},Document:function(){return si},Element:function(){return Gr},EllipseElement:function(){return Kr},FeColorMatrixElement:function(){return Ho},FeCompositeElement:function(){return ai},FeDropShadowElement:function(){return Ps},FeGaussianBlurElement:function(){return lo},FeMorphologyElement:function(){return ni},FilterElement:function(){return zn},Font:function(){return Wr},FontElement:function(){return Rl},FontFaceElement:function(){return ri},GElement:function(){return ps},GlyphElement:function(){return Pr},GradientElement:function(){return us},ImageElement:function(){return qa},LineElement:function(){return Dn},LinearGradientElement:function(){return Ts},MarkerElement:function(){return vn},MaskElement:function(){return oo},Matrix:function(){return fr},MissingGlyphElement:function(){return Zo},Mouse:function(){return Ue},PSEUDO_ZERO:function(){return Fe},Parser:function(){return Mt},PathElement:function(){return Dr},PathParser:function(){return Rr},PatternElement:function(){return qs},Point:function(){return We},PolygonElement:function(){return Ka},PolylineElement:function(){return _r},Property:function(){return fe},QB1:function(){return xe},QB2:function(){return pe},QB3:function(){return X},RadialGradientElement:function(){return vs},RectElement:function(){return ln},RenderedElement:function(){return Rn},Rotate:function(){return qt},SVGElement:function(){return Nr},SVGFontLoader:function(){return ki},Scale:function(){return Ir},Screen:function(){return Le},Skew:function(){return He},SkewX:function(){return Yt},SkewY:function(){return Ct},StopElement:function(){return Ai},StyleElement:function(){return so},SymbolElement:function(){return ao},TRefElement:function(){return Ql},TSpanElement:function(){return sn},TextElement:function(){return gn},TextPathElement:function(){return oa},TitleElement:function(){return Ss},Transform:function(){return nn},Translate:function(){return Nt},UnknownElement:function(){return Vr},UseElement:function(){return ko},ViewPort:function(){return oe},compressSpaces:function(){return N},default:function(){return uo},getSelectorSpecificity:function(){return Ee},normalizeAttributeName:function(){return _},normalizeColor:function(){return ae},parseExternalUrl:function(){return Z},presets:function(){return j},toNumbers:function(){return C},trimLeft:function(){return T},trimRight:function(){return I},vectorMagnitude:function(){return he},vectorsAngle:function(){return ve},vectorsRatio:function(){return le}}),i("./node_modules/core-js/modules/es.promise.js");var d=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");i("./node_modules/core-js/modules/es.string.match.js"),i("./node_modules/core-js/modules/es.string.replace.js"),i("./node_modules/core-js/modules/es.string.starts-with.js"),i("./node_modules/core-js/modules/es.array.iterator.js"),i("./node_modules/core-js/modules/web.dom-collections.iterator.js");var u=i("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");i("./node_modules/core-js/modules/es.array.reduce.js"),i("./node_modules/core-js/modules/es.string.ends-with.js"),i("./node_modules/core-js/modules/es.string.split.js");var f=i("./node_modules/raf/index.js");i("./node_modules/core-js/modules/es.string.trim.js");var m=i("./node_modules/rgbcolor/index.js");i("./node_modules/core-js/modules/es.array.index-of.js"),i("./node_modules/core-js/modules/es.string.includes.js"),i("./node_modules/core-js/modules/es.array.reverse.js");var v=i("./node_modules/svg-pathdata/lib/SVGPathData.module.js");i("./node_modules/core-js/modules/es.regexp.to-string.js");var g=i("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Ut}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Ut,createCanvas(ne,ce){return new OffscreenCanvas(ne,ce)},createImage(ne){return(0,d.default)(function*(){var ce=yield fetch(ne),O=yield ce.blob(),H=yield createImageBitmap(O);return H})()}};return(typeof DOMParser<"u"||typeof Ut>"u")&&Reflect.deleteProperty(Q,"DOMParser"),Q}function y(Ut){var{DOMParser:Q,canvas:ne,fetch:ce}=Ut;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Q,fetch:ce,createCanvas:ne.createCanvas,createImage:ne.loadImage}}var j=Object.freeze({__proto__:null,offscreen:x,node:y});function N(Ut){return Ut.replace(/(?!\u3000)\s+/gm," ")}function T(Ut){return Ut.replace(/^[\n \t]+/,"")}function I(Ut){return Ut.replace(/[\n \t]+$/,"")}function C(Ut){var Q=(Ut||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return Q.map(parseFloat)}var D=/^[A-Z-]+$/;function _(Ut){return D.test(Ut)?Ut.toLowerCase():Ut}function Z(Ut){var Q=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Ut)||[];return Q[2]||Q[3]||Q[4]}function ae(Ut){if(!Ut.startsWith("rgb"))return Ut;var Q=3,ne=Ut.replace(/\d+(\.\d+)?/g,(ce,O)=>Q--&&O?String(Math.round(parseFloat(ce))):ce);return ne}var V=/(\[[^\]]+\])/g,ie=/(#[^\s+>~.[:]+)/g,U=/(\.[^\s+>~.[:]+)/g,G=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,K=/(:[\w-]+\([^)]*\))/gi,W=/(:[^\s+>~.[:]+)/g,Ne=/([^\s+>~.[:]+)/g;function ge(Ut,Q){var ne=Q.exec(Ut);return ne?[Ut.replace(Q," "),ne.length]:[Ut,0]}function Ee(Ut){var Q=[0,0,0],ne=Ut.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),ce=0;return[ne,ce]=ge(ne,V),Q[1]+=ce,[ne,ce]=ge(ne,ie),Q[0]+=ce,[ne,ce]=ge(ne,U),Q[1]+=ce,[ne,ce]=ge(ne,G),Q[2]+=ce,[ne,ce]=ge(ne,K),Q[1]+=ce,[ne,ce]=ge(ne,W),Q[1]+=ce,ne=ne.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[ne,ce]=ge(ne,Ne),Q[2]+=ce,Q.join("")}var Fe=1e-8;function he(Ut){return Math.sqrt(Math.pow(Ut[0],2)+Math.pow(Ut[1],2))}function le(Ut,Q){return(Ut[0]*Q[0]+Ut[1]*Q[1])/(he(Ut)*he(Q))}function ve(Ut,Q){return(Ut[0]*Q[1]<Ut[1]*Q[0]?-1:1)*Math.acos(le(Ut,Q))}function se(Ut){return Ut*Ut*Ut}function re(Ut){return 3*Ut*Ut*(1-Ut)}function Ie(Ut){return 3*Ut*(1-Ut)*(1-Ut)}function Te(Ut){return(1-Ut)*(1-Ut)*(1-Ut)}function xe(Ut){return Ut*Ut}function pe(Ut){return 2*Ut*(1-Ut)}function X(Ut){return(1-Ut)*(1-Ut)}class fe{constructor(Q,ne,ce){this.document=Q,this.name=ne,this.value=ce,this.isNormalizedColor=!1}static empty(Q){return new fe(Q,"EMPTY","")}split(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:ne,name:ce}=this;return N(this.getString()).trim().split(Q).map(O=>new fe(ne,ce,O))}hasValue(Q){var{value:ne}=this;return ne!==null&&ne!==""&&(Q||ne!==0)&&typeof ne<"u"}isString(Q){var{value:ne}=this,ce=typeof ne=="string";return!ce||!Q?ce:Q.test(ne)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var Q=this.getString();switch(!0){case Q.endsWith("px"):case/^[0-9]+$/.test(Q):return!0;default:return!1}}setValue(Q){return this.value=Q,this}getValue(Q){return typeof Q>"u"||this.hasValue()?this.value:Q}getNumber(Q){if(!this.hasValue())return typeof Q>"u"?0:parseFloat(Q);var{value:ne}=this,ce=parseFloat(ne);return this.isString(/%$/)&&(ce/=100),ce}getString(Q){return typeof Q>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(Q)}getColor(Q){var ne=this.getString(Q);return this.isNormalizedColor||(this.isNormalizedColor=!0,ne=ae(ne),this.value=ne),ne}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[ce,O]=typeof Q=="boolean"?[void 0,Q]:[Q],{viewPort:H}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(H.computeSize("x"),H.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(H.computeSize("x"),H.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*H.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*H.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&O):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*H.computeSize(ce);default:{var ee=this.getNumber();return ne&&ee<1?ee*H.computeSize(ce):ee}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var Q=this.getString(),ne=/#([^)'"]+)/.exec(Q);return ne&&(ne=ne[1]),ne||(ne=Q),this.document.definitions[ne]}getFillStyleDefinition(Q,ne){var ce=this.getDefinition();if(!ce)return null;if(typeof ce.createGradient=="function")return ce.createGradient(this.document.ctx,Q,ne);if(typeof ce.createPattern=="function"){if(ce.getHrefAttribute().hasValue()){var O=ce.getAttribute("patternTransform");ce=ce.getHrefAttribute().getDefinition(),O.hasValue()&&ce.getAttribute("patternTransform",!0).setValue(O.value)}return ce.createPattern(this.document.ctx,Q,ne)}return null}getTextBaseline(){return this.hasValue()?fe.textBaselineMapping[this.getString()]:null}addOpacity(Q){for(var ne=this.getColor(),ce=ne.length,O=0,H=0;H<ce&&(ne[H]===","&&O++,O!==3);H++);if(Q.hasValue()&&this.isString()&&O!==3){var ee=new m(ne);ee.ok&&(ee.alpha=Q.getNumber(),ne=ee.toRGBA())}return new fe(this.document,this.name,ne)}}fe.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class oe{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(Q,ne){this.viewPorts.push({width:Q,height:ne})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:Q}=this;return Q[Q.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(Q){return typeof Q=="number"?Q:Q==="x"?this.width:Q==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class We{constructor(Q,ne){this.x=Q,this.y=ne}static parse(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[ce=ne,O=ne]=C(Q);return new We(ce,O)}static parseScale(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[ce=ne,O=ce]=C(Q);return new We(ce,O)}static parsePath(Q){for(var ne=C(Q),ce=ne.length,O=[],H=0;H<ce;H+=2)O.push(new We(ne[H],ne[H+1]));return O}angleTo(Q){return Math.atan2(Q.y-this.y,Q.x-this.x)}applyTransform(Q){var{x:ne,y:ce}=this,O=ne*Q[0]+ce*Q[2]+Q[4],H=ne*Q[1]+ce*Q[3]+Q[5];this.x=O,this.y=H}}class Ue{constructor(Q){this.screen=Q,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:Q,onClick:ne,onMouseMove:ce}=this,O=Q.ctx.canvas;O.onclick=ne,O.onmousemove=ce,this.working=!0}}stop(){if(this.working){var Q=this.screen.ctx.canvas;this.working=!1,Q.onclick=null,Q.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:Q,events:ne,eventElements:ce}=this,{style:O}=Q.ctx.canvas;O&&(O.cursor=""),ne.forEach((H,ee)=>{for(var{run:Ce}=H,Oe=ce[ee];Oe;)Ce(Oe),Oe=Oe.parent}),this.events=[],this.eventElements=[]}}checkPath(Q,ne){if(!(!this.working||!ne)){var{events:ce,eventElements:O}=this;ce.forEach((H,ee)=>{var{x:Ce,y:Oe}=H;!O[ee]&&ne.isPointInPath&&ne.isPointInPath(Ce,Oe)&&(O[ee]=Q)})}}checkBoundingBox(Q,ne){if(!(!this.working||!ne)){var{events:ce,eventElements:O}=this;ce.forEach((H,ee)=>{var{x:Ce,y:Oe}=H;!O[ee]&&ne.isPointInBox(Ce,Oe)&&(O[ee]=Q)})}}mapXY(Q,ne){for(var{window:ce,ctx:O}=this.screen,H=new We(Q,ne),ee=O.canvas;ee;)H.x-=ee.offsetLeft,H.y-=ee.offsetTop,ee=ee.offsetParent;return ce.scrollX&&(H.x+=ce.scrollX),ce.scrollY&&(H.y+=ce.scrollY),H}onClick(Q){var{x:ne,y:ce}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onclick",x:ne,y:ce,run(O){O.onClick&&O.onClick()}})}onMouseMove(Q){var{x:ne,y:ce}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onmousemove",x:ne,y:ce,run(O){O.onMouseMove&&O.onMouseMove()}})}}var ue=typeof window<"u"?window:null,be=typeof fetch<"u"?fetch.bind(void 0):null;class Le{constructor(Q){var{fetch:ne=be,window:ce=ue}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=Q,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new oe,this.mouse=new Ue(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=ce,this.fetch=ne}wait(Q){this.waits.push(Q)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var Q=this.waits.every(ne=>ne());return Q&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=Q,Q}setDefaults(Q){Q.strokeStyle="rgba(0,0,0,0)",Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=4}setViewBox(Q){var{document:ne,ctx:ce,aspectRatio:O,width:H,desiredWidth:ee,height:Ce,desiredHeight:Oe,minX:Ge=0,minY:at=0,refX:S,refY:w,clip:P=!1,clipX:z=0,clipY:Y=0}=Q,te=N(O).replace(/^defer\s/,""),[Be,me]=te.split(" "),ye=Be||"xMidYMid",De=me||"meet",ze=H/ee,Ze=Ce/Oe,st=Math.min(ze,Ze),Pe=Math.max(ze,Ze),gt=ee,pt=Oe;De==="meet"&&(gt*=st,pt*=st),De==="slice"&&(gt*=Pe,pt*=Pe);var xt=new fe(ne,"refX",S),rt=new fe(ne,"refY",w),Ft=xt.hasValue()&&rt.hasValue();if(Ft&&ce.translate(-st*xt.getPixels("x"),-st*rt.getPixels("y")),P){var Vt=st*z,Bt=st*Y;ce.beginPath(),ce.moveTo(Vt,Bt),ce.lineTo(H,Bt),ce.lineTo(H,Ce),ce.lineTo(Vt,Ce),ce.closePath(),ce.clip()}if(!Ft){var et=De==="meet"&&st===Ze,Qt=De==="slice"&&Pe===Ze,or=De==="meet"&&st===ze,Gt=De==="slice"&&Pe===ze;ye.startsWith("xMid")&&(et||Qt)&&ce.translate(H/2-gt/2,0),ye.endsWith("YMid")&&(or||Gt)&&ce.translate(0,Ce/2-pt/2),ye.startsWith("xMax")&&(et||Qt)&&ce.translate(H-gt,0),ye.endsWith("YMax")&&(or||Gt)&&ce.translate(0,Ce-pt)}switch(!0){case ye==="none":ce.scale(ze,Ze);break;case De==="meet":ce.scale(st,st);break;case De==="slice":ce.scale(Pe,Pe);break}ce.translate(-Ge,-at)}start(Q){var{enableRedraw:ne=!1,ignoreMouse:ce=!1,ignoreAnimation:O=!1,ignoreDimensions:H=!1,ignoreClear:ee=!1,forceRedraw:Ce,scaleWidth:Oe,scaleHeight:Ge,offsetX:at,offsetY:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:w,mouse:P}=this,z=1e3/w;if(this.frameDuration=z,this.readyPromise=new Promise(ye=>{this.resolveReady=ye}),this.isReady()&&this.render(Q,H,ee,Oe,Ge,at,S),!!ne){var Y=Date.now(),te=Y,Be=0,me=()=>{Y=Date.now(),Be=Y-te,Be>=z&&(te=Y-Be%z,this.shouldUpdate(O,Ce)&&(this.render(Q,H,ee,Oe,Ge,at,S),P.runEvents())),this.intervalId=f(me)};ce||P.start(),this.intervalId=f(me)}}stop(){this.intervalId&&(f.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(Q,ne){if(!Q){var{frameDuration:ce}=this,O=this.animations.reduce((H,ee)=>ee.update(ce)||H,!1);if(O)return!0}return!!(typeof ne=="function"&&ne()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(Q,ne,ce,O,H,ee,Ce){var{CLIENT_WIDTH:Oe,CLIENT_HEIGHT:Ge,viewPort:at,ctx:S,isFirstRender:w}=this,P=S.canvas;at.clear(),P.width&&P.height?at.setCurrent(P.width,P.height):at.setCurrent(Oe,Ge);var z=Q.getStyle("width"),Y=Q.getStyle("height");!ne&&(w||typeof O!="number"&&typeof H!="number")&&(z.hasValue()&&(P.width=z.getPixels("x"),P.style&&(P.style.width="".concat(P.width,"px"))),Y.hasValue()&&(P.height=Y.getPixels("y"),P.style&&(P.style.height="".concat(P.height,"px"))));var te=P.clientWidth||P.width,Be=P.clientHeight||P.height;if(ne&&z.hasValue()&&Y.hasValue()&&(te=z.getPixels("x"),Be=Y.getPixels("y")),at.setCurrent(te,Be),typeof ee=="number"&&Q.getAttribute("x",!0).setValue(ee),typeof Ce=="number"&&Q.getAttribute("y",!0).setValue(Ce),typeof O=="number"||typeof H=="number"){var me=C(Q.getAttribute("viewBox").getString()),ye=0,De=0;if(typeof O=="number"){var ze=Q.getStyle("width");ze.hasValue()?ye=ze.getPixels("x")/O:isNaN(me[2])||(ye=me[2]/O)}if(typeof H=="number"){var Ze=Q.getStyle("height");Ze.hasValue()?De=Ze.getPixels("y")/H:isNaN(me[3])||(De=me[3]/H)}ye||(ye=De),De||(De=ye),Q.getAttribute("width",!0).setValue(O),Q.getAttribute("height",!0).setValue(H);var st=Q.getStyle("transform",!0,!0);st.setValue("".concat(st.getString()," scale(").concat(1/ye,", ").concat(1/De,")"))}ce||S.clearRect(0,0,te,Be),Q.render(S),w&&(this.isFirstRender=!1)}}Le.defaultWindow=ue,Le.defaultFetch=be;var{defaultFetch:ot}=Le,Tt=typeof DOMParser<"u"?DOMParser:null;class Mt{constructor(){var{fetch:Q=ot,DOMParser:ne=Tt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=Q,this.DOMParser=ne}parse(Q){var ne=this;return(0,d.default)(function*(){return Q.startsWith("<")?ne.parseFromString(Q):ne.load(Q)})()}parseFromString(Q){var ne=new this.DOMParser;try{return this.checkDocument(ne.parseFromString(Q,"image/svg+xml"))}catch{return this.checkDocument(ne.parseFromString(Q,"text/xml"))}}checkDocument(Q){var ne=Q.getElementsByTagName("parsererror")[0];if(ne)throw new Error(ne.textContent);return Q}load(Q){var ne=this;return(0,d.default)(function*(){var ce=yield ne.fetch(Q),O=yield ce.text();return ne.parseFromString(O)})()}}class Nt{constructor(Q,ne){this.type="translate",this.point=null,this.point=We.parse(ne)}apply(Q){var{x:ne,y:ce}=this.point;Q.translate(ne||0,ce||0)}unapply(Q){var{x:ne,y:ce}=this.point;Q.translate(-1*ne||0,-1*ce||0)}applyToPoint(Q){var{x:ne,y:ce}=this.point;Q.applyTransform([1,0,0,1,ne||0,ce||0])}}class qt{constructor(Q,ne,ce){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var O=C(ne);this.angle=new fe(Q,"angle",O[0]),this.originX=ce[0],this.originY=ce[1],this.cx=O[1]||0,this.cy=O[2]||0}apply(Q){var{cx:ne,cy:ce,originX:O,originY:H,angle:ee}=this,Ce=ne+O.getPixels("x"),Oe=ce+H.getPixels("y");Q.translate(Ce,Oe),Q.rotate(ee.getRadians()),Q.translate(-Ce,-Oe)}unapply(Q){var{cx:ne,cy:ce,originX:O,originY:H,angle:ee}=this,Ce=ne+O.getPixels("x"),Oe=ce+H.getPixels("y");Q.translate(Ce,Oe),Q.rotate(-1*ee.getRadians()),Q.translate(-Ce,-Oe)}applyToPoint(Q){var{cx:ne,cy:ce,angle:O}=this,H=O.getRadians();Q.applyTransform([1,0,0,1,ne||0,ce||0]),Q.applyTransform([Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0]),Q.applyTransform([1,0,0,1,-ne||0,-ce||0])}}class Ir{constructor(Q,ne,ce){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var O=We.parseScale(ne);(O.x===0||O.y===0)&&(O.x=Fe,O.y=Fe),this.scale=O,this.originX=ce[0],this.originY=ce[1]}apply(Q){var{scale:{x:ne,y:ce},originX:O,originY:H}=this,ee=O.getPixels("x"),Ce=H.getPixels("y");Q.translate(ee,Ce),Q.scale(ne,ce||ne),Q.translate(-ee,-Ce)}unapply(Q){var{scale:{x:ne,y:ce},originX:O,originY:H}=this,ee=O.getPixels("x"),Ce=H.getPixels("y");Q.translate(ee,Ce),Q.scale(1/ne,1/ce||ne),Q.translate(-ee,-Ce)}applyToPoint(Q){var{x:ne,y:ce}=this.scale;Q.applyTransform([ne||0,0,0,ce||0,0,0])}}class fr{constructor(Q,ne,ce){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=C(ne),this.originX=ce[0],this.originY=ce[1]}apply(Q){var{originX:ne,originY:ce,matrix:O}=this,H=ne.getPixels("x"),ee=ce.getPixels("y");Q.translate(H,ee),Q.transform(O[0],O[1],O[2],O[3],O[4],O[5]),Q.translate(-H,-ee)}unapply(Q){var{originX:ne,originY:ce,matrix:O}=this,H=O[0],ee=O[2],Ce=O[4],Oe=O[1],Ge=O[3],at=O[5],S=0,w=0,P=1,z=1/(H*(Ge*P-at*w)-ee*(Oe*P-at*S)+Ce*(Oe*w-Ge*S)),Y=ne.getPixels("x"),te=ce.getPixels("y");Q.translate(Y,te),Q.transform(z*(Ge*P-at*w),z*(at*S-Oe*P),z*(Ce*w-ee*P),z*(H*P-Ce*S),z*(ee*at-Ce*Ge),z*(Ce*Oe-H*at)),Q.translate(-Y,-te)}applyToPoint(Q){Q.applyTransform(this.matrix)}}class He extends fr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="skew",this.angle=null,this.angle=new fe(Q,"angle",ne)}}class Yt extends He{constructor(Q,ne,ce){super(Q,ne,ce),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Ct extends He{constructor(Q,ne,ce){super(Q,ne,ce),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Qr(Ut){return N(Ut).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function hr(Ut){var[Q,ne]=Ut.split("(");return[Q.trim(),ne.trim().replace(")","")]}class nn{constructor(Q,ne,ce){this.document=Q,this.transforms=[];var O=Qr(ne);O.forEach(H=>{if(H!=="none"){var[ee,Ce]=hr(H),Oe=nn.transformTypes[ee];typeof Oe<"u"&&this.transforms.push(new Oe(this.document,Ce,ce))}})}static fromElement(Q,ne){var ce=ne.getStyle("transform",!1,!0),[O,H=O]=ne.getStyle("transform-origin",!1,!0).split(),ee=[O,H];return ce.hasValue()?new nn(Q,ce.getString(),ee):null}apply(Q){for(var{transforms:ne}=this,ce=ne.length,O=0;O<ce;O++)ne[O].apply(Q)}unapply(Q){for(var{transforms:ne}=this,ce=ne.length,O=ce-1;O>=0;O--)ne[O].unapply(Q)}applyToPoint(Q){for(var{transforms:ne}=this,ce=ne.length,O=0;O<ce;O++)ne[O].applyToPoint(Q)}}nn.transformTypes={translate:Nt,rotate:qt,scale:Ir,matrix:fr,skewX:Yt,skewY:Ct};class Gr{constructor(Q,ne){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=Q,this.node=ne,this.captureTextNodes=ce,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!ne||ne.nodeType!==1)){if(Array.from(ne.attributes).forEach(Ce=>{var Oe=_(Ce.nodeName);this.attributes[Oe]=new fe(Q,Oe,Ce.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var O=this.getAttribute("style").getString().split(";").map(Ce=>Ce.trim());O.forEach(Ce=>{if(Ce){var[Oe,Ge]=Ce.split(":").map(at=>at.trim());this.styles[Oe]=new fe(Q,Oe,Ge)}})}var{definitions:H}=Q,ee=this.getAttribute("id");ee.hasValue()&&(H[ee.getString()]||(H[ee.getString()]=this)),Array.from(ne.childNodes).forEach(Ce=>{if(Ce.nodeType===1)this.addChild(Ce);else if(ce&&(Ce.nodeType===3||Ce.nodeType===4)){var Oe=Q.createTextNode(Ce);Oe.getText().length>0&&this.addChild(Oe)}})}}getAttribute(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=this.attributes[Q];if(!ce&&ne){var O=new fe(this.document,Q,"");return this.attributes[Q]=O,O}return ce||fe.empty(this.document)}getHrefAttribute(){for(var Q in this.attributes)if(Q==="href"||Q.endsWith(":href"))return this.attributes[Q];return fe.empty(this.document)}getStyle(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=this.styles[Q];if(O)return O;var H=this.getAttribute(Q);if(H!=null&&H.hasValue())return this.styles[Q]=H,H;if(!ce){var{parent:ee}=this;if(ee){var Ce=ee.getStyle(Q);if(Ce!=null&&Ce.hasValue())return Ce}}if(ne){var Oe=new fe(this.document,Q,"");return this.styles[Q]=Oe,Oe}return O||fe.empty(this.document)}render(Q){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(Q.save(),this.getStyle("mask").hasValue()){var ne=this.getStyle("mask").getDefinition();ne&&(this.applyEffects(Q),ne.apply(Q,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var ce=this.getStyle("filter").getDefinition();ce&&(this.applyEffects(Q),ce.apply(Q,this))}else this.setContext(Q),this.renderChildren(Q),this.clearContext(Q);Q.restore()}}setContext(Q){}applyEffects(Q){var ne=nn.fromElement(this.document,this);ne&&ne.apply(Q);var ce=this.getStyle("clip-path",!1,!0);if(ce.hasValue()){var O=ce.getDefinition();O&&O.apply(Q)}}clearContext(Q){}renderChildren(Q){this.children.forEach(ne=>{ne.render(Q)})}addChild(Q){var ne=Q instanceof Gr?Q:this.document.createElement(Q);ne.parent=this,Gr.ignoreChildTypes.includes(ne.type)||this.children.push(ne)}matchesSelector(Q){var ne,{node:ce}=this;if(typeof ce.matches=="function")return ce.matches(Q);var O=(ne=ce.getAttribute)===null||ne===void 0?void 0:ne.call(ce,"class");return!O||O===""?!1:O.split(" ").some(H=>".".concat(H)===Q)}addStylesFromStyleDefinition(){var{styles:Q,stylesSpecificity:ne}=this.document;for(var ce in Q)if(!ce.startsWith("@")&&this.matchesSelector(ce)){var O=Q[ce],H=ne[ce];if(O)for(var ee in O){var Ce=this.stylesSpecificity[ee];typeof Ce>"u"&&(Ce="000"),H>=Ce&&(this.styles[ee]=O[ee],this.stylesSpecificity[ee]=H)}}}removeStyles(Q,ne){var ce=ne.reduce((O,H)=>{var ee=Q.getStyle(H);if(!ee.hasValue())return O;var Ce=ee.getString();return ee.setValue(""),[...O,[H,Ce]]},[]);return ce}restoreStyles(Q,ne){ne.forEach(ce=>{var[O,H]=ce;Q.getStyle(O,!0).setValue(H)})}isFirstChild(){var Q;return((Q=this.parent)===null||Q===void 0?void 0:Q.children.indexOf(this))===0}}Gr.ignoreChildTypes=["title"];class Vr extends Gr{constructor(Q,ne,ce){super(Q,ne,ce)}}function Sr(Ut){var Q=Ut.trim();return/^('|")/.test(Q)?Q:'"'.concat(Q,'"')}function cr(Ut){return typeof process>"u"?Ut:Ut.trim().split(",").map(Sr).join(",")}function wr(Ut){if(!Ut)return"";var Q=Ut.trim().toLowerCase();switch(Q){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return Q;default:return/^oblique\s+(-|)\d+deg$/.test(Q)?Q:""}}function Hr(Ut){if(!Ut)return"";var Q=Ut.trim().toLowerCase();switch(Q){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return Q;default:return/^[\d.]+$/.test(Q)?Q:""}}class Wr{constructor(Q,ne,ce,O,H,ee){var Ce=ee?typeof ee=="string"?Wr.parse(ee):ee:{};this.fontFamily=H||Ce.fontFamily,this.fontSize=O||Ce.fontSize,this.fontStyle=Q||Ce.fontStyle,this.fontWeight=ce||Ce.fontWeight,this.fontVariant=ne||Ce.fontVariant}static parse(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ne=arguments.length>1?arguments[1]:void 0,ce="",O="",H="",ee="",Ce="",Oe=N(Q).trim().split(" "),Ge={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return Oe.forEach(at=>{switch(!0){case(!Ge.fontStyle&&Wr.styles.includes(at)):at!=="inherit"&&(ce=at),Ge.fontStyle=!0;break;case(!Ge.fontVariant&&Wr.variants.includes(at)):at!=="inherit"&&(O=at),Ge.fontStyle=!0,Ge.fontVariant=!0;break;case(!Ge.fontWeight&&Wr.weights.includes(at)):at!=="inherit"&&(H=at),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0;break;case!Ge.fontSize:at!=="inherit"&&([ee]=at.split("/")),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0,Ge.fontSize=!0;break;default:at!=="inherit"&&(Ce+=at)}}),new Wr(ce,O,H,ee,Ce,ne)}toString(){return[wr(this.fontStyle),this.fontVariant,Hr(this.fontWeight),this.fontSize,cr(this.fontFamily)].join(" ").trim()}}Wr.styles="normal|italic|oblique|inherit",Wr.variants="normal|small-caps|inherit",Wr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class hn{constructor(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=Q,this.y1=ne,this.x2=ce,this.y2=O,this.addPoint(Q,ne),this.addPoint(ce,O)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(Q,ne){typeof Q<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Q,this.x2=Q),Q<this.x1&&(this.x1=Q),Q>this.x2&&(this.x2=Q)),typeof ne<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=ne,this.y2=ne),ne<this.y1&&(this.y1=ne),ne>this.y2&&(this.y2=ne))}addX(Q){this.addPoint(Q,null)}addY(Q){this.addPoint(null,Q)}addBoundingBox(Q){if(Q){var{x1:ne,y1:ce,x2:O,y2:H}=Q;this.addPoint(ne,ce),this.addPoint(O,H)}}sumCubic(Q,ne,ce,O,H){return Math.pow(1-Q,3)*ne+3*Math.pow(1-Q,2)*Q*ce+3*(1-Q)*Math.pow(Q,2)*O+Math.pow(Q,3)*H}bezierCurveAdd(Q,ne,ce,O,H){var ee=6*ne-12*ce+6*O,Ce=-3*ne+9*ce-9*O+3*H,Oe=3*ce-3*ne;if(Ce===0){if(ee===0)return;var Ge=-Oe/ee;0<Ge&&Ge<1&&(Q?this.addX(this.sumCubic(Ge,ne,ce,O,H)):this.addY(this.sumCubic(Ge,ne,ce,O,H)));return}var at=Math.pow(ee,2)-4*Oe*Ce;if(!(at<0)){var S=(-ee+Math.sqrt(at))/(2*Ce);0<S&&S<1&&(Q?this.addX(this.sumCubic(S,ne,ce,O,H)):this.addY(this.sumCubic(S,ne,ce,O,H)));var w=(-ee-Math.sqrt(at))/(2*Ce);0<w&&w<1&&(Q?this.addX(this.sumCubic(w,ne,ce,O,H)):this.addY(this.sumCubic(w,ne,ce,O,H)))}}addBezierCurve(Q,ne,ce,O,H,ee,Ce,Oe){this.addPoint(Q,ne),this.addPoint(Ce,Oe),this.bezierCurveAdd(!0,Q,ce,H,Ce),this.bezierCurveAdd(!1,ne,O,ee,Oe)}addQuadraticCurve(Q,ne,ce,O,H,ee){var Ce=Q+.6666666666666666*(ce-Q),Oe=ne+2/3*(O-ne),Ge=Ce+1/3*(H-Q),at=Oe+1/3*(ee-ne);this.addBezierCurve(Q,ne,Ce,Ge,Oe,at,H,ee)}isPointInBox(Q,ne){var{x1:ce,y1:O,x2:H,y2:ee}=this;return ce<=Q&&Q<=H&&O<=ne&&ne<=ee}}class Rr extends v.SVGPathData{constructor(Q){super(Q.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new We(0,0),this.control=new We(0,0),this.current=new We(0,0),this.points=[],this.angles=[]}isEnd(){var{i:Q,commands:ne}=this;return Q>=ne.length-1}next(){var Q=this.commands[++this.i];return this.previousCommand=this.command,this.command=Q,Q}getPoint(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",ce=new We(this.command[Q],this.command[ne]);return this.makeAbsolute(ce)}getAsControlPoint(Q,ne){var ce=this.getPoint(Q,ne);return this.control=ce,ce}getAsCurrentPoint(Q,ne){var ce=this.getPoint(Q,ne);return this.current=ce,ce}getReflectedControlPoint(){var Q=this.previousCommand.type;if(Q!==v.SVGPathData.CURVE_TO&&Q!==v.SVGPathData.SMOOTH_CURVE_TO&&Q!==v.SVGPathData.QUAD_TO&&Q!==v.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:ne,y:ce},control:{x:O,y:H}}=this,ee=new We(2*ne-O,2*ce-H);return ee}makeAbsolute(Q){if(this.command.relative){var{x:ne,y:ce}=this.current;Q.x+=ne,Q.y+=ce}return Q}addMarker(Q,ne,ce){var{points:O,angles:H}=this;ce&&H.length>0&&!H[H.length-1]&&(H[H.length-1]=O[O.length-1].angleTo(ce)),this.addMarkerAngle(Q,ne?ne.angleTo(Q):null)}addMarkerAngle(Q,ne){this.points.push(Q),this.angles.push(ne)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:Q}=this,ne=Q.length,ce=0;ce<ne;ce++)if(!Q[ce]){for(var O=ce+1;O<ne;O++)if(Q[O]){Q[ce]=Q[O];break}}return Q}}class Rn extends Gr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var Q=1,ne=this;ne;){var ce=ne.getStyle("opacity",!1,!0);ce.hasValue(!0)&&(Q*=ce.getNumber()),ne=ne.parent}return Q}setContext(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!ne){var ce=this.getStyle("fill"),O=this.getStyle("fill-opacity"),H=this.getStyle("stroke"),ee=this.getStyle("stroke-opacity");if(ce.isUrlDefinition()){var Ce=ce.getFillStyleDefinition(this,O);Ce&&(Q.fillStyle=Ce)}else if(ce.hasValue()){ce.getString()==="currentColor"&&ce.setValue(this.getStyle("color").getColor());var Oe=ce.getColor();Oe!=="inherit"&&(Q.fillStyle=Oe==="none"?"rgba(0,0,0,0)":Oe)}if(O.hasValue()){var Ge=new fe(this.document,"fill",Q.fillStyle).addOpacity(O).getColor();Q.fillStyle=Ge}if(H.isUrlDefinition()){var at=H.getFillStyleDefinition(this,ee);at&&(Q.strokeStyle=at)}else if(H.hasValue()){H.getString()==="currentColor"&&H.setValue(this.getStyle("color").getColor());var S=H.getString();S!=="inherit"&&(Q.strokeStyle=S==="none"?"rgba(0,0,0,0)":S)}if(ee.hasValue()){var w=new fe(this.document,"stroke",Q.strokeStyle).addOpacity(ee).getString();Q.strokeStyle=w}var P=this.getStyle("stroke-width");if(P.hasValue()){var z=P.getPixels();Q.lineWidth=z||Fe}var Y=this.getStyle("stroke-linecap"),te=this.getStyle("stroke-linejoin"),Be=this.getStyle("stroke-miterlimit"),me=this.getStyle("stroke-dasharray"),ye=this.getStyle("stroke-dashoffset");if(Y.hasValue()&&(Q.lineCap=Y.getString()),te.hasValue()&&(Q.lineJoin=te.getString()),Be.hasValue()&&(Q.miterLimit=Be.getNumber()),me.hasValue()&&me.getString()!=="none"){var De=C(me.getString());typeof Q.setLineDash<"u"?Q.setLineDash(De):typeof Q.webkitLineDash<"u"?Q.webkitLineDash=De:typeof Q.mozDash<"u"&&!(De.length===1&&De[0]===0)&&(Q.mozDash=De);var ze=ye.getPixels();typeof Q.lineDashOffset<"u"?Q.lineDashOffset=ze:typeof Q.webkitLineDashOffset<"u"?Q.webkitLineDashOffset=ze:typeof Q.mozDashOffset<"u"&&(Q.mozDashOffset=ze)}}if(this.modifiedEmSizeStack=!1,typeof Q.font<"u"){var Ze=this.getStyle("font"),st=this.getStyle("font-style"),Pe=this.getStyle("font-variant"),gt=this.getStyle("font-weight"),pt=this.getStyle("font-size"),xt=this.getStyle("font-family"),rt=new Wr(st.getString(),Pe.getString(),gt.getString(),pt.hasValue()?"".concat(pt.getPixels(!0),"px"):"",xt.getString(),Wr.parse(Ze.getString(),Q.font));st.setValue(rt.fontStyle),Pe.setValue(rt.fontVariant),gt.setValue(rt.fontWeight),pt.setValue(rt.fontSize),xt.setValue(rt.fontFamily),Q.font=rt.toString(),pt.isPixels()&&(this.document.emSize=pt.getPixels(),this.modifiedEmSizeStack=!0)}ne||(this.applyEffects(Q),Q.globalAlpha=this.calculateOpacity())}clearContext(Q){super.clearContext(Q),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Dr extends Rn{constructor(Q,ne,ce){super(Q,ne,ce),this.type="path",this.pathParser=null,this.pathParser=new Rr(this.getAttribute("d").getString())}path(Q){var{pathParser:ne}=this,ce=new hn;for(ne.reset(),Q&&Q.beginPath();!ne.isEnd();)switch(ne.next().type){case Rr.MOVE_TO:this.pathM(Q,ce);break;case Rr.LINE_TO:this.pathL(Q,ce);break;case Rr.HORIZ_LINE_TO:this.pathH(Q,ce);break;case Rr.VERT_LINE_TO:this.pathV(Q,ce);break;case Rr.CURVE_TO:this.pathC(Q,ce);break;case Rr.SMOOTH_CURVE_TO:this.pathS(Q,ce);break;case Rr.QUAD_TO:this.pathQ(Q,ce);break;case Rr.SMOOTH_QUAD_TO:this.pathT(Q,ce);break;case Rr.ARC:this.pathA(Q,ce);break;case Rr.CLOSE_PATH:this.pathZ(Q,ce);break}return ce}getBoundingBox(Q){return this.path()}getMarkers(){var{pathParser:Q}=this,ne=Q.getMarkerPoints(),ce=Q.getMarkerAngles(),O=ne.map((H,ee)=>[H,ce[ee]]);return O}renderChildren(Q){this.path(Q),this.document.screen.mouse.checkPath(this,Q);var ne=this.getStyle("fill-rule");Q.fillStyle!==""&&(ne.getString("inherit")!=="inherit"?Q.fill(ne.getString()):Q.fill()),Q.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(Q.save(),Q.setTransform(1,0,0,1,0,0),Q.stroke(),Q.restore()):Q.stroke());var ce=this.getMarkers();if(ce){var O=ce.length-1,H=this.getStyle("marker-start"),ee=this.getStyle("marker-mid"),Ce=this.getStyle("marker-end");if(H.isUrlDefinition()){var Oe=H.getDefinition(),[Ge,at]=ce[0];Oe.render(Q,Ge,at)}if(ee.isUrlDefinition())for(var S=ee.getDefinition(),w=1;w<O;w++){var[P,z]=ce[w];S.render(Q,P,z)}if(Ce.isUrlDefinition()){var Y=Ce.getDefinition(),[te,Be]=ce[O];Y.render(Q,te,Be)}}}static pathM(Q){var ne=Q.getAsCurrentPoint();return Q.start=Q.current,{point:ne}}pathM(Q,ne){var{pathParser:ce}=this,{point:O}=Dr.pathM(ce),{x:H,y:ee}=O;ce.addMarker(O),ne.addPoint(H,ee),Q&&Q.moveTo(H,ee)}static pathL(Q){var{current:ne}=Q,ce=Q.getAsCurrentPoint();return{current:ne,point:ce}}pathL(Q,ne){var{pathParser:ce}=this,{current:O,point:H}=Dr.pathL(ce),{x:ee,y:Ce}=H;ce.addMarker(H,O),ne.addPoint(ee,Ce),Q&&Q.lineTo(ee,Ce)}static pathH(Q){var{current:ne,command:ce}=Q,O=new We((ce.relative?ne.x:0)+ce.x,ne.y);return Q.current=O,{current:ne,point:O}}pathH(Q,ne){var{pathParser:ce}=this,{current:O,point:H}=Dr.pathH(ce),{x:ee,y:Ce}=H;ce.addMarker(H,O),ne.addPoint(ee,Ce),Q&&Q.lineTo(ee,Ce)}static pathV(Q){var{current:ne,command:ce}=Q,O=new We(ne.x,(ce.relative?ne.y:0)+ce.y);return Q.current=O,{current:ne,point:O}}pathV(Q,ne){var{pathParser:ce}=this,{current:O,point:H}=Dr.pathV(ce),{x:ee,y:Ce}=H;ce.addMarker(H,O),ne.addPoint(ee,Ce),Q&&Q.lineTo(ee,Ce)}static pathC(Q){var{current:ne}=Q,ce=Q.getPoint("x1","y1"),O=Q.getAsControlPoint("x2","y2"),H=Q.getAsCurrentPoint();return{current:ne,point:ce,controlPoint:O,currentPoint:H}}pathC(Q,ne){var{pathParser:ce}=this,{current:O,point:H,controlPoint:ee,currentPoint:Ce}=Dr.pathC(ce);ce.addMarker(Ce,ee,H),ne.addBezierCurve(O.x,O.y,H.x,H.y,ee.x,ee.y,Ce.x,Ce.y),Q&&Q.bezierCurveTo(H.x,H.y,ee.x,ee.y,Ce.x,Ce.y)}static pathS(Q){var{current:ne}=Q,ce=Q.getReflectedControlPoint(),O=Q.getAsControlPoint("x2","y2"),H=Q.getAsCurrentPoint();return{current:ne,point:ce,controlPoint:O,currentPoint:H}}pathS(Q,ne){var{pathParser:ce}=this,{current:O,point:H,controlPoint:ee,currentPoint:Ce}=Dr.pathS(ce);ce.addMarker(Ce,ee,H),ne.addBezierCurve(O.x,O.y,H.x,H.y,ee.x,ee.y,Ce.x,Ce.y),Q&&Q.bezierCurveTo(H.x,H.y,ee.x,ee.y,Ce.x,Ce.y)}static pathQ(Q){var{current:ne}=Q,ce=Q.getAsControlPoint("x1","y1"),O=Q.getAsCurrentPoint();return{current:ne,controlPoint:ce,currentPoint:O}}pathQ(Q,ne){var{pathParser:ce}=this,{current:O,controlPoint:H,currentPoint:ee}=Dr.pathQ(ce);ce.addMarker(ee,H,H),ne.addQuadraticCurve(O.x,O.y,H.x,H.y,ee.x,ee.y),Q&&Q.quadraticCurveTo(H.x,H.y,ee.x,ee.y)}static pathT(Q){var{current:ne}=Q,ce=Q.getReflectedControlPoint();Q.control=ce;var O=Q.getAsCurrentPoint();return{current:ne,controlPoint:ce,currentPoint:O}}pathT(Q,ne){var{pathParser:ce}=this,{current:O,controlPoint:H,currentPoint:ee}=Dr.pathT(ce);ce.addMarker(ee,H,H),ne.addQuadraticCurve(O.x,O.y,H.x,H.y,ee.x,ee.y),Q&&Q.quadraticCurveTo(H.x,H.y,ee.x,ee.y)}static pathA(Q){var{current:ne,command:ce}=Q,{rX:O,rY:H,xRot:ee,lArcFlag:Ce,sweepFlag:Oe}=ce,Ge=ee*(Math.PI/180),at=Q.getAsCurrentPoint(),S=new We(Math.cos(Ge)*(ne.x-at.x)/2+Math.sin(Ge)*(ne.y-at.y)/2,-Math.sin(Ge)*(ne.x-at.x)/2+Math.cos(Ge)*(ne.y-at.y)/2),w=Math.pow(S.x,2)/Math.pow(O,2)+Math.pow(S.y,2)/Math.pow(H,2);w>1&&(O*=Math.sqrt(w),H*=Math.sqrt(w));var P=(Ce===Oe?-1:1)*Math.sqrt((Math.pow(O,2)*Math.pow(H,2)-Math.pow(O,2)*Math.pow(S.y,2)-Math.pow(H,2)*Math.pow(S.x,2))/(Math.pow(O,2)*Math.pow(S.y,2)+Math.pow(H,2)*Math.pow(S.x,2)));isNaN(P)&&(P=0);var z=new We(P*O*S.y/H,P*-H*S.x/O),Y=new We((ne.x+at.x)/2+Math.cos(Ge)*z.x-Math.sin(Ge)*z.y,(ne.y+at.y)/2+Math.sin(Ge)*z.x+Math.cos(Ge)*z.y),te=ve([1,0],[(S.x-z.x)/O,(S.y-z.y)/H]),Be=[(S.x-z.x)/O,(S.y-z.y)/H],me=[(-S.x-z.x)/O,(-S.y-z.y)/H],ye=ve(Be,me);return le(Be,me)<=-1&&(ye=Math.PI),le(Be,me)>=1&&(ye=0),{currentPoint:at,rX:O,rY:H,sweepFlag:Oe,xAxisRotation:Ge,centp:Y,a1:te,ad:ye}}pathA(Q,ne){var{pathParser:ce}=this,{currentPoint:O,rX:H,rY:ee,sweepFlag:Ce,xAxisRotation:Oe,centp:Ge,a1:at,ad:S}=Dr.pathA(ce),w=1-Ce?1:-1,P=at+w*(S/2),z=new We(Ge.x+H*Math.cos(P),Ge.y+ee*Math.sin(P));if(ce.addMarkerAngle(z,P-w*Math.PI/2),ce.addMarkerAngle(O,P-w*Math.PI),ne.addPoint(O.x,O.y),Q&&!isNaN(at)&&!isNaN(S)){var Y=H>ee?H:ee,te=H>ee?1:H/ee,Be=H>ee?ee/H:1;Q.translate(Ge.x,Ge.y),Q.rotate(Oe),Q.scale(te,Be),Q.arc(0,0,Y,at,at+S,!!(1-Ce)),Q.scale(1/te,1/Be),Q.rotate(-Oe),Q.translate(-Ge.x,-Ge.y)}}static pathZ(Q){Q.current=Q.start}pathZ(Q,ne){Dr.pathZ(this.pathParser),Q&&ne.x1!==ne.x2&&ne.y1!==ne.y2&&Q.closePath()}}class Pr extends Dr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class gn extends Rn{constructor(Q,ne,ce){super(Q,ne,new.target===gn?!0:ce),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(Q,ne);var ce=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();ce&&(Q.textBaseline=ce)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(Q){if(this.type!=="text")return this.getTElementBoundingBox(Q);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q);var ne=null;return this.children.forEach((ce,O)=>{var H=this.getChildBoundingBox(Q,this,this,O);ne?ne.addBoundingBox(H):ne=H}),ne}getFontSize(){var{document:Q,parent:ne}=this,ce=Wr.parse(Q.ctx.font).fontSize,O=ne.getStyle("font-size").getNumber(ce);return O}getTElementBoundingBox(Q){var ne=this.getFontSize();return new hn(this.x,this.y-ne,this.x+this.measureText(Q),this.y)}getGlyph(Q,ne,ce){var O=ne[ce],H=null;if(Q.isArabic){var ee=ne.length,Ce=ne[ce-1],Oe=ne[ce+1],Ge="isolated";if((ce===0||Ce===" ")&&ce<ee-1&&Oe!==" "&&(Ge="terminal"),ce>0&&Ce!==" "&&ce<ee-1&&Oe!==" "&&(Ge="medial"),ce>0&&Ce!==" "&&(ce===ee-1||Oe===" ")&&(Ge="initial"),typeof Q.glyphs[O]<"u"){var at=Q.glyphs[O];H=at instanceof Pr?at:at[Ge]}}else H=Q.glyphs[O];return H||(H=Q.missingGlyph),H}getText(){return""}getTextFromNode(Q){var ne=Q||this.node,ce=Array.from(ne.parentNode.childNodes),O=ce.indexOf(ne),H=ce.length-1,ee=N(ne.textContent||"");return O===0&&(ee=T(ee)),O===H&&(ee=I(ee)),ee}renderChildren(Q){if(this.type!=="text"){this.renderTElementChildren(Q);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q),this.children.forEach((ce,O)=>{this.renderChild(Q,this,this,O)});var{mouse:ne}=this.document.screen;ne.isWorking()&&ne.checkBoundingBox(this,this.getBoundingBox(Q))}renderTElementChildren(Q){var{document:ne,parent:ce}=this,O=this.getText(),H=ce.getStyle("font-family").getDefinition();if(H){for(var{unitsPerEm:ee}=H.fontFace,Ce=Wr.parse(ne.ctx.font),Oe=ce.getStyle("font-size").getNumber(Ce.fontSize),Ge=ce.getStyle("font-style").getString(Ce.fontStyle),at=Oe/ee,S=H.isRTL?O.split("").reverse().join(""):O,w=C(ce.getAttribute("dx").getString()),P=S.length,z=0;z<P;z++){var Y=this.getGlyph(H,S,z);Q.translate(this.x,this.y),Q.scale(at,-at);var te=Q.lineWidth;Q.lineWidth=Q.lineWidth*ee/Oe,Ge==="italic"&&Q.transform(1,0,.4,1,0,0),Y.render(Q),Ge==="italic"&&Q.transform(1,0,-.4,1,0,0),Q.lineWidth=te,Q.scale(1/at,-1/at),Q.translate(-this.x,-this.y),this.x+=Oe*(Y.horizAdvX||H.horizAdvX)/ee,typeof w[z]<"u"&&!isNaN(w[z])&&(this.x+=w[z])}return}var{x:Be,y:me}=this;Q.fillStyle&&Q.fillText(O,Be,me),Q.strokeStyle&&Q.strokeText(O,Be,me)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var Q=this.leafTexts[this.textChunkStart],ne=Q.getStyle("text-anchor").getString("start"),ce=!1,O=0;ne==="start"&&!ce||ne==="end"&&ce?O=Q.x-this.minX:ne==="end"&&!ce||ne==="start"&&ce?O=Q.x-this.maxX:O=Q.x-(this.minX+this.maxX)/2;for(var H=this.textChunkStart;H<this.leafTexts.length;H++)this.leafTexts[H].x+=O;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(Q){this.children.forEach((ne,ce)=>{this.adjustChildCoordinatesRecursiveCore(Q,this,this,ce)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(Q,ne,ce,O){var H=ce.children[O];H.children.length>0?H.children.forEach((ee,Ce)=>{ne.adjustChildCoordinatesRecursiveCore(Q,ne,H,Ce)}):this.adjustChildCoordinates(Q,ne,ce,O)}adjustChildCoordinates(Q,ne,ce,O){var H=ce.children[O];if(typeof H.measureText!="function")return H;Q.save(),H.setContext(Q,!0);var ee=H.getAttribute("x"),Ce=H.getAttribute("y"),Oe=H.getAttribute("dx"),Ge=H.getAttribute("dy"),at=H.getStyle("font-family").getDefinition(),S=!!at&&at.isRTL;O===0&&(ee.hasValue()||ee.setValue(H.getInheritedAttribute("x")),Ce.hasValue()||Ce.setValue(H.getInheritedAttribute("y")),Oe.hasValue()||Oe.setValue(H.getInheritedAttribute("dx")),Ge.hasValue()||Ge.setValue(H.getInheritedAttribute("dy")));var w=H.measureText(Q);return S&&(ne.x-=w),ee.hasValue()?(ne.applyAnchoring(),H.x=ee.getPixels("x"),Oe.hasValue()&&(H.x+=Oe.getPixels("x"))):(Oe.hasValue()&&(ne.x+=Oe.getPixels("x")),H.x=ne.x),ne.x=H.x,S||(ne.x+=w),Ce.hasValue()?(H.y=Ce.getPixels("y"),Ge.hasValue()&&(H.y+=Ge.getPixels("y"))):(Ge.hasValue()&&(ne.y+=Ge.getPixels("y")),H.y=ne.y),ne.y=H.y,ne.leafTexts.push(H),ne.minX=Math.min(ne.minX,H.x,H.x+w),ne.maxX=Math.max(ne.maxX,H.x,H.x+w),H.clearContext(Q),Q.restore(),H}getChildBoundingBox(Q,ne,ce,O){var H=ce.children[O];if(typeof H.getBoundingBox!="function")return null;var ee=H.getBoundingBox(Q);return ee?(H.children.forEach((Ce,Oe)=>{var Ge=ne.getChildBoundingBox(Q,ne,H,Oe);ee.addBoundingBox(Ge)}),ee):null}renderChild(Q,ne,ce,O){var H=ce.children[O];H.render(Q),H.children.forEach((ee,Ce)=>{ne.renderChild(Q,ne,H,Ce)})}measureText(Q){var{measureCache:ne}=this;if(~ne)return ne;var ce=this.getText(),O=this.measureTargetText(Q,ce);return this.measureCache=O,O}measureTargetText(Q,ne){if(!ne.length)return 0;var{parent:ce}=this,O=ce.getStyle("font-family").getDefinition();if(O){for(var H=this.getFontSize(),ee=O.isRTL?ne.split("").reverse().join(""):ne,Ce=C(ce.getAttribute("dx").getString()),Oe=ee.length,Ge=0,at=0;at<Oe;at++){var S=this.getGlyph(O,ee,at);Ge+=(S.horizAdvX||O.horizAdvX)*H/O.fontFace.unitsPerEm,typeof Ce[at]<"u"&&!isNaN(Ce[at])&&(Ge+=Ce[at])}return Ge}if(!Q.measureText)return ne.length*10;Q.save(),this.setContext(Q,!0);var{width:w}=Q.measureText(ne);return this.clearContext(Q),Q.restore(),w}getInheritedAttribute(Q){for(var ne=this;ne instanceof gn&&ne.isFirstChild();){var ce=ne.parent.getAttribute(Q);if(ce.hasValue(!0))return ce.getValue("0");ne=ne.parent}return null}}class sn extends gn{constructor(Q,ne,ce){super(Q,ne,new.target===sn?!0:ce),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class yt extends sn{constructor(){super(...arguments),this.type="textNode"}}class Nr extends Rn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(Q){var ne,{document:ce}=this,{screen:O,window:H}=ce,ee=Q.canvas;if(O.setDefaults(Q),ee.style&&typeof Q.font<"u"&&H&&typeof H.getComputedStyle<"u"){Q.font=H.getComputedStyle(ee).getPropertyValue("font");var Ce=new fe(ce,"fontSize",Wr.parse(Q.font).fontSize);Ce.hasValue()&&(ce.rootEmSize=Ce.getPixels("y"),ce.emSize=ce.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:Oe,height:Ge}=O.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var at=this.getAttribute("refX"),S=this.getAttribute("refY"),w=this.getAttribute("viewBox"),P=w.hasValue()?C(w.getString()):null,z=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",Y=0,te=0,Be=0,me=0;P&&(Y=P[0],te=P[1]),this.root||(Oe=this.getStyle("width").getPixels("x"),Ge=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Be=Y,me=te,Y=0,te=0)),O.viewPort.setCurrent(Oe,Ge),this.node&&(!this.parent||((ne=this.node.parentNode)===null||ne===void 0?void 0:ne.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(Q),Q.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),P&&(Oe=P[2],Ge=P[3]),ce.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:O.viewPort.width,desiredWidth:Oe,height:O.viewPort.height,desiredHeight:Ge,minX:Y,minY:te,refX:at.getValue(),refY:S.getValue(),clip:z,clipX:Be,clipY:me}),P&&(O.viewPort.removeCurrent(),O.viewPort.setCurrent(Oe,Ge))}clearContext(Q){super.clearContext(Q),this.document.screen.viewPort.removeCurrent()}resize(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=this.getAttribute("width",!0),H=this.getAttribute("height",!0),ee=this.getAttribute("viewBox"),Ce=this.getAttribute("style"),Oe=O.getNumber(0),Ge=H.getNumber(0);if(ce)if(typeof ce=="string")this.getAttribute("preserveAspectRatio",!0).setValue(ce);else{var at=this.getAttribute("preserveAspectRatio");at.hasValue()&&at.setValue(at.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(O.setValue(Q),H.setValue(ne),ee.hasValue()||ee.setValue("0 0 ".concat(Oe||Q," ").concat(Ge||ne)),Ce.hasValue()){var S=this.getStyle("width"),w=this.getStyle("height");S.hasValue()&&S.setValue("".concat(Q,"px")),w.hasValue()&&w.setValue("".concat(ne,"px"))}}}class ln extends Dr{constructor(){super(...arguments),this.type="rect"}path(Q){var ne=this.getAttribute("x").getPixels("x"),ce=this.getAttribute("y").getPixels("y"),O=this.getStyle("width",!1,!0).getPixels("x"),H=this.getStyle("height",!1,!0).getPixels("y"),ee=this.getAttribute("rx"),Ce=this.getAttribute("ry"),Oe=ee.getPixels("x"),Ge=Ce.getPixels("y");if(ee.hasValue()&&!Ce.hasValue()&&(Ge=Oe),Ce.hasValue()&&!ee.hasValue()&&(Oe=Ge),Oe=Math.min(Oe,O/2),Ge=Math.min(Ge,H/2),Q){var at=4*((Math.sqrt(2)-1)/3);Q.beginPath(),H>0&&O>0&&(Q.moveTo(ne+Oe,ce),Q.lineTo(ne+O-Oe,ce),Q.bezierCurveTo(ne+O-Oe+at*Oe,ce,ne+O,ce+Ge-at*Ge,ne+O,ce+Ge),Q.lineTo(ne+O,ce+H-Ge),Q.bezierCurveTo(ne+O,ce+H-Ge+at*Ge,ne+O-Oe+at*Oe,ce+H,ne+O-Oe,ce+H),Q.lineTo(ne+Oe,ce+H),Q.bezierCurveTo(ne+Oe-at*Oe,ce+H,ne,ce+H-Ge+at*Ge,ne,ce+H-Ge),Q.lineTo(ne,ce+Ge),Q.bezierCurveTo(ne,ce+Ge-at*Ge,ne+Oe-at*Oe,ce,ne+Oe,ce),Q.closePath())}return new hn(ne,ce,ne+O,ce+H)}getMarkers(){return null}}class Fn extends Dr{constructor(){super(...arguments),this.type="circle"}path(Q){var ne=this.getAttribute("cx").getPixels("x"),ce=this.getAttribute("cy").getPixels("y"),O=this.getAttribute("r").getPixels();return Q&&O>0&&(Q.beginPath(),Q.arc(ne,ce,O,0,Math.PI*2,!1),Q.closePath()),new hn(ne-O,ce-O,ne+O,ce+O)}getMarkers(){return null}}class Kr extends Dr{constructor(){super(...arguments),this.type="ellipse"}path(Q){var ne=4*((Math.sqrt(2)-1)/3),ce=this.getAttribute("rx").getPixels("x"),O=this.getAttribute("ry").getPixels("y"),H=this.getAttribute("cx").getPixels("x"),ee=this.getAttribute("cy").getPixels("y");return Q&&ce>0&&O>0&&(Q.beginPath(),Q.moveTo(H+ce,ee),Q.bezierCurveTo(H+ce,ee+ne*O,H+ne*ce,ee+O,H,ee+O),Q.bezierCurveTo(H-ne*ce,ee+O,H-ce,ee+ne*O,H-ce,ee),Q.bezierCurveTo(H-ce,ee-ne*O,H-ne*ce,ee-O,H,ee-O),Q.bezierCurveTo(H+ne*ce,ee-O,H+ce,ee-ne*O,H+ce,ee),Q.closePath()),new hn(H-ce,ee-O,H+ce,ee+O)}getMarkers(){return null}}class Dn extends Dr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new We(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new We(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(Q){var[{x:ne,y:ce},{x:O,y:H}]=this.getPoints();return Q&&(Q.beginPath(),Q.moveTo(ne,ce),Q.lineTo(O,H)),new hn(ne,ce,O,H)}getMarkers(){var[Q,ne]=this.getPoints(),ce=Q.angleTo(ne);return[[Q,ce],[ne,ce]]}}class _r extends Dr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="polyline",this.points=[],this.points=We.parsePath(this.getAttribute("points").getString())}path(Q){var{points:ne}=this,[{x:ce,y:O}]=ne,H=new hn(ce,O);return Q&&(Q.beginPath(),Q.moveTo(ce,O)),ne.forEach(ee=>{var{x:Ce,y:Oe}=ee;H.addPoint(Ce,Oe),Q&&Q.lineTo(Ce,Oe)}),H}getMarkers(){var{points:Q}=this,ne=Q.length-1,ce=[];return Q.forEach((O,H)=>{H!==ne&&ce.push([O,O.angleTo(Q[H+1])])}),ce.length>0&&ce.push([Q[Q.length-1],ce[ce.length-1][1]]),ce}}class Ka extends _r{constructor(){super(...arguments),this.type="polygon"}path(Q){var ne=super.path(Q),[{x:ce,y:O}]=this.points;return Q&&(Q.lineTo(ce,O),Q.closePath()),ne}}class qs extends Gr{constructor(){super(...arguments),this.type="pattern"}createPattern(Q,ne,ce){var O=this.getStyle("width").getPixels("x",!0),H=this.getStyle("height").getPixels("y",!0),ee=new Nr(this.document,null);ee.attributes.viewBox=new fe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ee.attributes.width=new fe(this.document,"width","".concat(O,"px")),ee.attributes.height=new fe(this.document,"height","".concat(H,"px")),ee.attributes.transform=new fe(this.document,"transform",this.getAttribute("patternTransform").getValue()),ee.children=this.children;var Ce=this.document.createCanvas(O,H),Oe=Ce.getContext("2d"),Ge=this.getAttribute("x"),at=this.getAttribute("y");Ge.hasValue()&&at.hasValue()&&Oe.translate(Ge.getPixels("x",!0),at.getPixels("y",!0)),ce.hasValue()?this.styles["fill-opacity"]=ce:Reflect.deleteProperty(this.styles,"fill-opacity");for(var S=-1;S<=1;S++)for(var w=-1;w<=1;w++)Oe.save(),ee.attributes.x=new fe(this.document,"x",S*Ce.width),ee.attributes.y=new fe(this.document,"y",w*Ce.height),ee.render(Oe),Oe.restore();var P=Q.createPattern(Ce,"repeat");return P}}class vn extends Gr{constructor(){super(...arguments),this.type="marker"}render(Q,ne,ce){if(ne){var{x:O,y:H}=ne,ee=this.getAttribute("orient").getString("auto"),Ce=this.getAttribute("markerUnits").getString("strokeWidth");Q.translate(O,H),ee==="auto"&&Q.rotate(ce),Ce==="strokeWidth"&&Q.scale(Q.lineWidth,Q.lineWidth),Q.save();var Oe=new Nr(this.document,null);Oe.type=this.type,Oe.attributes.viewBox=new fe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),Oe.attributes.refX=new fe(this.document,"refX",this.getAttribute("refX").getValue()),Oe.attributes.refY=new fe(this.document,"refY",this.getAttribute("refY").getValue()),Oe.attributes.width=new fe(this.document,"width",this.getAttribute("markerWidth").getValue()),Oe.attributes.height=new fe(this.document,"height",this.getAttribute("markerHeight").getValue()),Oe.attributes.overflow=new fe(this.document,"overflow",this.getAttribute("overflow").getValue()),Oe.attributes.fill=new fe(this.document,"fill",this.getAttribute("fill").getColor("black")),Oe.attributes.stroke=new fe(this.document,"stroke",this.getAttribute("stroke").getValue("none")),Oe.children=this.children,Oe.render(Q),Q.restore(),Ce==="strokeWidth"&&Q.scale(1/Q.lineWidth,1/Q.lineWidth),ee==="auto"&&Q.rotate(-ce),Q.translate(-O,-H)}}}class ui extends Gr{constructor(){super(...arguments),this.type="defs"}render(){}}class ps extends Rn{constructor(){super(...arguments),this.type="g"}getBoundingBox(Q){var ne=new hn;return this.children.forEach(ce=>{ne.addBoundingBox(ce.getBoundingBox(Q))}),ne}}class us extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:O,children:H}=this;H.forEach(ee=>{ee.type==="stop"&&O.push(ee)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(Q,ne,ce){var O=this;this.getHrefAttribute().hasValue()&&(O=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(O));var{stops:H}=O,ee=this.getGradient(Q,ne);if(!ee)return this.addParentOpacity(ce,H[H.length-1].color);if(H.forEach(te=>{ee.addColorStop(te.offset,this.addParentOpacity(ce,te.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:Ce}=this,{MAX_VIRTUAL_PIXELS:Oe,viewPort:Ge}=Ce.screen,[at]=Ge.viewPorts,S=new ln(Ce,null);S.attributes.x=new fe(Ce,"x",-Oe/3),S.attributes.y=new fe(Ce,"y",-Oe/3),S.attributes.width=new fe(Ce,"width",Oe),S.attributes.height=new fe(Ce,"height",Oe);var w=new ps(Ce,null);w.attributes.transform=new fe(Ce,"transform",this.getAttribute("gradientTransform").getValue()),w.children=[S];var P=new Nr(Ce,null);P.attributes.x=new fe(Ce,"x",0),P.attributes.y=new fe(Ce,"y",0),P.attributes.width=new fe(Ce,"width",at.width),P.attributes.height=new fe(Ce,"height",at.height),P.children=[w];var z=Ce.createCanvas(at.width,at.height),Y=z.getContext("2d");return Y.fillStyle=ee,P.render(Y),Y.createPattern(z,"no-repeat")}return ee}inheritStopContainer(Q){this.attributesToInherit.forEach(ne=>{!this.getAttribute(ne).hasValue()&&Q.getAttribute(ne).hasValue()&&this.getAttribute(ne,!0).setValue(Q.getAttribute(ne).getValue())})}addParentOpacity(Q,ne){if(Q.hasValue()){var ce=new fe(this.document,"color",ne);return ce.addOpacity(Q).getColor()}return ne}}class Ts extends us{constructor(Q,ne,ce){super(Q,ne,ce),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(Q,ne){var ce=this.getGradientUnits()==="objectBoundingBox",O=ce?ne.getBoundingBox(Q):null;if(ce&&!O)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var H=ce?O.x+O.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),ee=ce?O.y+O.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),Ce=ce?O.x+O.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),Oe=ce?O.y+O.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return H===Ce&&ee===Oe?null:Q.createLinearGradient(H,ee,Ce,Oe)}}class vs extends us{constructor(Q,ne,ce){super(Q,ne,ce),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(Q,ne){var ce=this.getGradientUnits()==="objectBoundingBox",O=ne.getBoundingBox(Q);if(ce&&!O)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var H=ce?O.x+O.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),ee=ce?O.y+O.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),Ce=H,Oe=ee;this.getAttribute("fx").hasValue()&&(Ce=ce?O.x+O.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(Oe=ce?O.y+O.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ge=ce?(O.width+O.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),at=this.getAttribute("fr").getPixels();return Q.createRadialGradient(Ce,Oe,at,H,ee,Ge)}}class Ai extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="stop";var O=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),H=this.getStyle("stop-opacity"),ee=this.getStyle("stop-color",!0);ee.getString()===""&&ee.setValue("#000"),H.hasValue()&&(ee=ee.addOpacity(H)),this.offset=O,this.color=ee.getColor()}}class Ga extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,Q.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new fe(Q,"values",null);var O=this.getAttribute("values");O.hasValue()&&this.values.setValue(O.getString().split(";"))}getProperty(){var Q=this.getAttribute("attributeType").getString(),ne=this.getAttribute("attributeName").getString();return Q==="CSS"?this.parent.getStyle(ne,!0):this.parent.getAttribute(ne,!0)}calcValue(){var{initialUnits:Q}=this,{progress:ne,from:ce,to:O}=this.getProgress(),H=ce.getNumber()+(O.getNumber()-ce.getNumber())*ne;return Q==="%"&&(H*=100),"".concat(H).concat(Q)}update(Q){var{parent:ne}=this,ce=this.getProperty();if(this.initialValue||(this.initialValue=ce.getString(),this.initialUnits=ce.getUnits()),this.duration>this.maxDuration){var O=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(O==="freeze"&&!this.frozen)this.frozen=!0,ne.animationFrozen=!0,ne.animationFrozenValue=ce.getString();else if(O==="remove"&&!this.removed)return this.removed=!0,ce.setValue(ne.animationFrozen?ne.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=Q;var H=!1;if(this.begin<this.duration){var ee=this.calcValue(),Ce=this.getAttribute("type");if(Ce.hasValue()){var Oe=Ce.getString();ee="".concat(Oe,"(").concat(ee,")")}ce.setValue(ee),H=!0}return H}getProgress(){var{document:Q,values:ne}=this,ce={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(ne.hasValue()){var O=ce.progress*(ne.getValue().length-1),H=Math.floor(O),ee=Math.ceil(O);ce.from=new fe(Q,"from",parseFloat(ne.getValue()[H])),ce.to=new fe(Q,"to",parseFloat(ne.getValue()[ee])),ce.progress=(O-H)/(ee-H)}else ce.from=this.from,ce.to=this.to;return ce}}class Ii extends Ga{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:Q,from:ne,to:ce}=this.getProgress(),O=new m(ne.getColor()),H=new m(ce.getColor());if(O.ok&&H.ok){var ee=O.r+(H.r-O.r)*Q,Ce=O.g+(H.g-O.g)*Q,Oe=O.b+(H.b-O.b)*Q;return"rgb(".concat(Math.floor(ee),", ").concat(Math.floor(Ce),", ").concat(Math.floor(Oe),")")}return this.getAttribute("from").getColor()}}class Ma extends Ga{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:Q,from:ne,to:ce}=this.getProgress(),O=C(ne.getString()),H=C(ce.getString()),ee=O.map((Ce,Oe)=>{var Ge=H[Oe];return Ce+(Ge-Ce)*Q}).join(" ");return ee}}class Rl extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:O}=Q,{children:H}=this;for(var ee of H)switch(ee.type){case"font-face":{this.fontFace=ee;var Ce=ee.getStyle("font-family");Ce.hasValue()&&(O[Ce.getString()]=this);break}case"missing-glyph":this.missingGlyph=ee;break;case"glyph":{var Oe=ee;Oe.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[Oe.unicode]>"u"&&(this.glyphs[Oe.unicode]=Object.create(null)),this.glyphs[Oe.unicode][Oe.arabicForm]=Oe):this.glyphs[Oe.unicode]=Oe;break}}}render(){}}class ri extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Zo extends Dr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Ql extends gn{constructor(){super(...arguments),this.type="tref"}getText(){var Q=this.getHrefAttribute().getDefinition();if(Q){var ne=Q.children[0];if(ne)return ne.getText()}return""}}class el extends gn{constructor(Q,ne,ce){super(Q,ne,ce),this.type="a";var{childNodes:O}=ne,H=O[0],ee=O.length>0&&Array.from(O).every(Ce=>Ce.nodeType===3);this.hasText=ee,this.text=ee?this.getTextFromNode(H):""}getText(){return this.text}renderChildren(Q){if(this.hasText){super.renderChildren(Q);var{document:ne,x:ce,y:O}=this,{mouse:H}=ne.screen,ee=new fe(ne,"fontSize",Wr.parse(ne.ctx.font).fontSize);H.isWorking()&&H.checkBoundingBox(this,new hn(ce,O-ee.getPixels("y"),ce+this.measureText(Q),O))}else if(this.children.length>0){var Ce=new ps(this.document,null);Ce.children=this.children,Ce.parent=this,Ce.render(Q)}}onClick(){var{window:Q}=this.document;Q&&Q.open(this.getHrefAttribute().getString())}onMouseMove(){var Q=this.document.ctx;Q.canvas.style.cursor="pointer"}}function Fs(Ut,Q){var ne=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(Ut);Q&&(ce=ce.filter(function(O){return Object.getOwnPropertyDescriptor(Ut,O).enumerable})),ne.push.apply(ne,ce)}return ne}function Gi(Ut){for(var Q=1;Q<arguments.length;Q++){var ne=arguments[Q]!=null?arguments[Q]:{};Q%2?Fs(Object(ne),!0).forEach(function(ce){(0,u.default)(Ut,ce,ne[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(ne)):Fs(Object(ne)).forEach(function(ce){Object.defineProperty(Ut,ce,Object.getOwnPropertyDescriptor(ne,ce))})}return Ut}class oa extends gn{constructor(Q,ne,ce){super(Q,ne,ce),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var O=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(O)}getText(){return this.text}path(Q){var{dataArray:ne}=this;Q&&Q.beginPath(),ne.forEach(ce=>{var{type:O,points:H}=ce;switch(O){case Rr.LINE_TO:Q&&Q.lineTo(H[0],H[1]);break;case Rr.MOVE_TO:Q&&Q.moveTo(H[0],H[1]);break;case Rr.CURVE_TO:Q&&Q.bezierCurveTo(H[0],H[1],H[2],H[3],H[4],H[5]);break;case Rr.QUAD_TO:Q&&Q.quadraticCurveTo(H[0],H[1],H[2],H[3]);break;case Rr.ARC:{var[ee,Ce,Oe,Ge,at,S,w,P]=H,z=Oe>Ge?Oe:Ge,Y=Oe>Ge?1:Oe/Ge,te=Oe>Ge?Ge/Oe:1;Q&&(Q.translate(ee,Ce),Q.rotate(w),Q.scale(Y,te),Q.arc(0,0,z,at,at+S,!!(1-P)),Q.scale(1/Y,1/te),Q.rotate(-w),Q.translate(-ee,-Ce));break}case Rr.CLOSE_PATH:Q&&Q.closePath();break}})}renderChildren(Q){this.setTextData(Q),Q.save();var ne=this.parent.getStyle("text-decoration").getString(),ce=this.getFontSize(),{glyphInfo:O}=this,H=Q.fillStyle;ne==="underline"&&Q.beginPath(),O.forEach((ee,Ce)=>{var{p0:Oe,p1:Ge,rotation:at,text:S}=ee;Q.save(),Q.translate(Oe.x,Oe.y),Q.rotate(at),Q.fillStyle&&Q.fillText(S,0,0),Q.strokeStyle&&Q.strokeText(S,0,0),Q.restore(),ne==="underline"&&(Ce===0&&Q.moveTo(Oe.x,Oe.y+ce/8),Q.lineTo(Ge.x,Ge.y+ce/5))}),ne==="underline"&&(Q.lineWidth=ce/20,Q.strokeStyle=H,Q.stroke(),Q.closePath()),Q.restore()}getLetterSpacingAt(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[Q]||0}findSegmentToFitChar(Q,ne,ce,O,H,ee,Ce,Oe,Ge){var at=ee,S=this.measureText(Q,Oe);Oe===" "&&ne==="justify"&&ce<O&&(S+=(O-ce)/H),Ge>-1&&(at+=this.getLetterSpacingAt(Ge));var w=this.textHeight/20,P=this.getEquidistantPointOnPath(at,w,0),z=this.getEquidistantPointOnPath(at+S,w,0),Y={p0:P,p1:z},te=P&&z?Math.atan2(z.y-P.y,z.x-P.x):0;if(Ce){var Be=Math.cos(Math.PI/2+te)*Ce,me=Math.cos(-te)*Ce;Y.p0=Gi(Gi({},P),{},{x:P.x+Be,y:P.y+me}),Y.p1=Gi(Gi({},z),{},{x:z.x+Be,y:z.y+me})}return at+=S,{offset:at,segment:Y,rotation:te}}measureText(Q,ne){var{measuresCache:ce}=this,O=ne||this.getText();if(ce.has(O))return ce.get(O);var H=this.measureTargetText(Q,O);return ce.set(O,H),H}setTextData(Q){if(!this.glyphInfo){var ne=this.getText(),ce=ne.split(""),O=ne.split(" ").length-1,H=this.parent.getAttribute("dx").split().map(De=>De.getPixels("x")),ee=this.parent.getAttribute("dy").getPixels("y"),Ce=this.parent.getStyle("text-anchor").getString("start"),Oe=this.getStyle("letter-spacing"),Ge=this.parent.getStyle("letter-spacing"),at=0;!Oe.hasValue()||Oe.getValue()==="inherit"?at=Ge.getPixels():Oe.hasValue()&&Oe.getValue()!=="initial"&&Oe.getValue()!=="unset"&&(at=Oe.getPixels());var S=[],w=ne.length;this.letterSpacingCache=S;for(var P=0;P<w;P++)S.push(typeof H[P]<"u"?H[P]:at);var z=S.reduce((De,ze,Ze)=>Ze===0?0:De+ze||0,0),Y=this.measureText(Q),te=Math.max(Y+z,0);this.textWidth=Y,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Be=this.getPathLength(),me=this.getStyle("startOffset").getNumber(0)*Be,ye=0;(Ce==="middle"||Ce==="center")&&(ye=-te/2),(Ce==="end"||Ce==="right")&&(ye=-te),ye+=me,ce.forEach((De,ze)=>{var{offset:Ze,segment:st,rotation:Pe}=this.findSegmentToFitChar(Q,Ce,te,Be,O,ye,ee,De,ze);ye=Ze,!(!st.p0||!st.p1)&&this.glyphInfo.push({text:ce[ze],p0:st.p0,p1:st.p1,rotation:Pe})})}}parsePathData(Q){if(this.pathLength=-1,!Q)return[];var ne=[],{pathParser:ce}=Q;for(ce.reset();!ce.isEnd();){var{current:O}=ce,H=O?O.x:0,ee=O?O.y:0,Ce=ce.next(),Oe=Ce.type,Ge=[];switch(Ce.type){case Rr.MOVE_TO:this.pathM(ce,Ge);break;case Rr.LINE_TO:Oe=this.pathL(ce,Ge);break;case Rr.HORIZ_LINE_TO:Oe=this.pathH(ce,Ge);break;case Rr.VERT_LINE_TO:Oe=this.pathV(ce,Ge);break;case Rr.CURVE_TO:this.pathC(ce,Ge);break;case Rr.SMOOTH_CURVE_TO:Oe=this.pathS(ce,Ge);break;case Rr.QUAD_TO:this.pathQ(ce,Ge);break;case Rr.SMOOTH_QUAD_TO:Oe=this.pathT(ce,Ge);break;case Rr.ARC:Ge=this.pathA(ce);break;case Rr.CLOSE_PATH:Dr.pathZ(ce);break}Ce.type!==Rr.CLOSE_PATH?ne.push({type:Oe,points:Ge,start:{x:H,y:ee},pathLength:this.calcLength(H,ee,Oe,Ge)}):ne.push({type:Rr.CLOSE_PATH,points:[],pathLength:0})}return ne}pathM(Q,ne){var{x:ce,y:O}=Dr.pathM(Q).point;ne.push(ce,O)}pathL(Q,ne){var{x:ce,y:O}=Dr.pathL(Q).point;return ne.push(ce,O),Rr.LINE_TO}pathH(Q,ne){var{x:ce,y:O}=Dr.pathH(Q).point;return ne.push(ce,O),Rr.LINE_TO}pathV(Q,ne){var{x:ce,y:O}=Dr.pathV(Q).point;return ne.push(ce,O),Rr.LINE_TO}pathC(Q,ne){var{point:ce,controlPoint:O,currentPoint:H}=Dr.pathC(Q);ne.push(ce.x,ce.y,O.x,O.y,H.x,H.y)}pathS(Q,ne){var{point:ce,controlPoint:O,currentPoint:H}=Dr.pathS(Q);return ne.push(ce.x,ce.y,O.x,O.y,H.x,H.y),Rr.CURVE_TO}pathQ(Q,ne){var{controlPoint:ce,currentPoint:O}=Dr.pathQ(Q);ne.push(ce.x,ce.y,O.x,O.y)}pathT(Q,ne){var{controlPoint:ce,currentPoint:O}=Dr.pathT(Q);return ne.push(ce.x,ce.y,O.x,O.y),Rr.QUAD_TO}pathA(Q){var{rX:ne,rY:ce,sweepFlag:O,xAxisRotation:H,centp:ee,a1:Ce,ad:Oe}=Dr.pathA(Q);return O===0&&Oe>0&&(Oe-=2*Math.PI),O===1&&Oe<0&&(Oe+=2*Math.PI),[ee.x,ee.y,ne,ce,Ce,Oe,H,O]}calcLength(Q,ne,ce,O){var H=0,ee=null,Ce=null,Oe=0;switch(ce){case Rr.LINE_TO:return this.getLineLength(Q,ne,O[0],O[1]);case Rr.CURVE_TO:for(H=0,ee=this.getPointOnCubicBezier(0,Q,ne,O[0],O[1],O[2],O[3],O[4],O[5]),Oe=.01;Oe<=1;Oe+=.01)Ce=this.getPointOnCubicBezier(Oe,Q,ne,O[0],O[1],O[2],O[3],O[4],O[5]),H+=this.getLineLength(ee.x,ee.y,Ce.x,Ce.y),ee=Ce;return H;case Rr.QUAD_TO:for(H=0,ee=this.getPointOnQuadraticBezier(0,Q,ne,O[0],O[1],O[2],O[3]),Oe=.01;Oe<=1;Oe+=.01)Ce=this.getPointOnQuadraticBezier(Oe,Q,ne,O[0],O[1],O[2],O[3]),H+=this.getLineLength(ee.x,ee.y,Ce.x,Ce.y),ee=Ce;return H;case Rr.ARC:{H=0;var Ge=O[4],at=O[5],S=O[4]+at,w=Math.PI/180;if(Math.abs(Ge-S)<w&&(w=Math.abs(Ge-S)),ee=this.getPointOnEllipticalArc(O[0],O[1],O[2],O[3],Ge,0),at<0)for(Oe=Ge-w;Oe>S;Oe-=w)Ce=this.getPointOnEllipticalArc(O[0],O[1],O[2],O[3],Oe,0),H+=this.getLineLength(ee.x,ee.y,Ce.x,Ce.y),ee=Ce;else for(Oe=Ge+w;Oe<S;Oe+=w)Ce=this.getPointOnEllipticalArc(O[0],O[1],O[2],O[3],Oe,0),H+=this.getLineLength(ee.x,ee.y,Ce.x,Ce.y),ee=Ce;return Ce=this.getPointOnEllipticalArc(O[0],O[1],O[2],O[3],S,0),H+=this.getLineLength(ee.x,ee.y,Ce.x,Ce.y),H}}return 0}getPointOnLine(Q,ne,ce,O,H){var ee=arguments.length>5&&arguments[5]!==void 0?arguments[5]:ne,Ce=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ce,Oe=(H-ce)/(O-ne+Fe),Ge=Math.sqrt(Q*Q/(1+Oe*Oe));O<ne&&(Ge*=-1);var at=Oe*Ge,S=null;if(O===ne)S={x:ee,y:Ce+at};else if((Ce-ce)/(ee-ne+Fe)===Oe)S={x:ee+Ge,y:Ce+at};else{var w=0,P=0,z=this.getLineLength(ne,ce,O,H);if(z<Fe)return null;var Y=(ee-ne)*(O-ne)+(Ce-ce)*(H-ce);Y/=z*z,w=ne+Y*(O-ne),P=ce+Y*(H-ce);var te=this.getLineLength(ee,Ce,w,P),Be=Math.sqrt(Q*Q-te*te);Ge=Math.sqrt(Be*Be/(1+Oe*Oe)),O<ne&&(Ge*=-1),at=Oe*Ge,S={x:w+Ge,y:P+at}}return S}getPointOnPath(Q){var ne=this.getPathLength(),ce=0,O=null;if(Q<-5e-5||Q-5e-5>ne)return null;var{dataArray:H}=this;for(var ee of H){if(ee&&(ee.pathLength<5e-5||ce+ee.pathLength+5e-5<Q)){ce+=ee.pathLength;continue}var Ce=Q-ce,Oe=0;switch(ee.type){case Rr.LINE_TO:O=this.getPointOnLine(Ce,ee.start.x,ee.start.y,ee.points[0],ee.points[1],ee.start.x,ee.start.y);break;case Rr.ARC:{var Ge=ee.points[4],at=ee.points[5],S=ee.points[4]+at;if(Oe=Ge+Ce/ee.pathLength*at,at<0&&Oe<S||at>=0&&Oe>S)break;O=this.getPointOnEllipticalArc(ee.points[0],ee.points[1],ee.points[2],ee.points[3],Oe,ee.points[6]);break}case Rr.CURVE_TO:Oe=Ce/ee.pathLength,Oe>1&&(Oe=1),O=this.getPointOnCubicBezier(Oe,ee.start.x,ee.start.y,ee.points[0],ee.points[1],ee.points[2],ee.points[3],ee.points[4],ee.points[5]);break;case Rr.QUAD_TO:Oe=Ce/ee.pathLength,Oe>1&&(Oe=1),O=this.getPointOnQuadraticBezier(Oe,ee.start.x,ee.start.y,ee.points[0],ee.points[1],ee.points[2],ee.points[3]);break}if(O)return O;break}return null}getLineLength(Q,ne,ce,O){return Math.sqrt((ce-Q)*(ce-Q)+(O-ne)*(O-ne))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((Q,ne)=>ne.pathLength>0?Q+ne.pathLength:Q,0)),this.pathLength}getPointOnCubicBezier(Q,ne,ce,O,H,ee,Ce,Oe,Ge){var at=Oe*se(Q)+ee*re(Q)+O*Ie(Q)+ne*Te(Q),S=Ge*se(Q)+Ce*re(Q)+H*Ie(Q)+ce*Te(Q);return{x:at,y:S}}getPointOnQuadraticBezier(Q,ne,ce,O,H,ee,Ce){var Oe=ee*xe(Q)+O*pe(Q)+ne*X(Q),Ge=Ce*xe(Q)+H*pe(Q)+ce*X(Q);return{x:Oe,y:Ge}}getPointOnEllipticalArc(Q,ne,ce,O,H,ee){var Ce=Math.cos(ee),Oe=Math.sin(ee),Ge={x:ce*Math.cos(H),y:O*Math.sin(H)};return{x:Q+(Ge.x*Ce-Ge.y*Oe),y:ne+(Ge.x*Oe+Ge.y*Ce)}}buildEquidistantCache(Q,ne){var ce=this.getPathLength(),O=ne||.25,H=Q||ce/100;if(!this.equidistantCache||this.equidistantCache.step!==H||this.equidistantCache.precision!==O){this.equidistantCache={step:H,precision:O,points:[]};for(var ee=0,Ce=0;Ce<=ce;Ce+=O){var Oe=this.getPointOnPath(Ce),Ge=this.getPointOnPath(Ce+O);!Oe||!Ge||(ee+=this.getLineLength(Oe.x,Oe.y,Ge.x,Ge.y),ee>=H&&(this.equidistantCache.points.push({x:Oe.x,y:Oe.y,distance:Ce}),ee-=H))}}}getEquidistantPointOnPath(Q,ne,ce){if(this.buildEquidistantCache(ne,ce),Q<0||Q-this.getPathLength()>5e-5)return null;var O=Math.round(Q/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[O]||null}}var vl=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class qa extends Rn{constructor(Q,ne,ce){super(Q,ne,ce),this.type="image",this.loaded=!1;var O=this.getHrefAttribute().getString();if(O){var H=O.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(O);Q.images.push(this),H?this.loadSvg(O):this.loadImage(O),this.isSvg=H}}loadImage(Q){var ne=this;return(0,d.default)(function*(){try{var ce=yield ne.document.createImage(Q);ne.image=ce}catch(O){console.error('Error while loading image "'.concat(Q,'":'),O)}ne.loaded=!0})()}loadSvg(Q){var ne=this;return(0,d.default)(function*(){var ce=vl.exec(Q);if(ce){var O=ce[5];ce[4]==="base64"?ne.image=atob(O):ne.image=decodeURIComponent(O)}else try{var H=yield ne.document.fetch(Q),ee=yield H.text();ne.image=ee}catch(Ce){console.error('Error while loading image "'.concat(Q,'":'),Ce)}ne.loaded=!0})()}renderChildren(Q){var{document:ne,image:ce,loaded:O}=this,H=this.getAttribute("x").getPixels("x"),ee=this.getAttribute("y").getPixels("y"),Ce=this.getStyle("width").getPixels("x"),Oe=this.getStyle("height").getPixels("y");if(!(!O||!ce||!Ce||!Oe)){if(Q.save(),Q.translate(H,ee),this.isSvg){var Ge=ne.canvg.forkString(Q,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:Ce,scaleHeight:Oe});Ge.document.documentElement.parent=this,Ge.render()}else{var at=this.image;ne.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:Ce,desiredWidth:at.width,height:Oe,desiredHeight:at.height}),this.loaded&&(typeof at.complete>"u"||at.complete)&&Q.drawImage(at,0,0)}Q.restore()}}getBoundingBox(){var Q=this.getAttribute("x").getPixels("x"),ne=this.getAttribute("y").getPixels("y"),ce=this.getStyle("width").getPixels("x"),O=this.getStyle("height").getPixels("y");return new hn(Q,ne,Q+ce,ne+O)}}class ao extends Rn{constructor(){super(...arguments),this.type="symbol"}render(Q){}}class ki{constructor(Q){this.document=Q,this.loaded=!1,Q.fonts.push(this)}load(Q,ne){var ce=this;return(0,d.default)(function*(){try{var{document:O}=ce,H=yield O.canvg.parser.load(ne),ee=H.getElementsByTagName("font");Array.from(ee).forEach(Ce=>{var Oe=O.createElement(Ce);O.definitions[Q]=Oe})}catch(Ce){console.error('Error while loading font "'.concat(ne,'":'),Ce)}ce.loaded=!0})()}}class so extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="style";var O=N(Array.from(ne.childNodes).map(ee=>ee.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),H=O.split("}");H.forEach(ee=>{var Ce=ee.trim();if(Ce){var Oe=Ce.split("{"),Ge=Oe[0].split(","),at=Oe[1].split(";");Ge.forEach(S=>{var w=S.trim();if(w){var P=Q.styles[w]||{};if(at.forEach(te=>{var Be=te.indexOf(":"),me=te.substr(0,Be).trim(),ye=te.substr(Be+1,te.length-Be).trim();me&&ye&&(P[me]=new fe(Q,me,ye))}),Q.styles[w]=P,Q.stylesSpecificity[w]=Ee(w),w==="@font-face"){var z=P["font-family"].getString().replace(/"|'/g,""),Y=P.src.getString().split(",");Y.forEach(te=>{if(te.indexOf('format("svg")')>0){var Be=Z(te);Be&&new ki(Q).load(z,Be)}})}}})}})}}so.parseExternalUrl=Z;class ko extends Rn{constructor(){super(...arguments),this.type="use"}setContext(Q){super.setContext(Q);var ne=this.getAttribute("x"),ce=this.getAttribute("y");ne.hasValue()&&Q.translate(ne.getPixels("x"),0),ce.hasValue()&&Q.translate(0,ce.getPixels("y"))}path(Q){var{element:ne}=this;ne&&ne.path(Q)}renderChildren(Q){var{document:ne,element:ce}=this;if(ce){var O=ce;if(ce.type==="symbol"&&(O=new Nr(ne,null),O.attributes.viewBox=new fe(ne,"viewBox",ce.getAttribute("viewBox").getString()),O.attributes.preserveAspectRatio=new fe(ne,"preserveAspectRatio",ce.getAttribute("preserveAspectRatio").getString()),O.attributes.overflow=new fe(ne,"overflow",ce.getAttribute("overflow").getString()),O.children=ce.children,ce.styles.opacity=new fe(ne,"opacity",this.calculateOpacity())),O.type==="svg"){var H=this.getStyle("width",!1,!0),ee=this.getStyle("height",!1,!0);H.hasValue()&&(O.attributes.width=new fe(ne,"width",H.getString())),ee.hasValue()&&(O.attributes.height=new fe(ne,"height",ee.getString()))}var Ce=O.parent;O.parent=this,O.render(Q),O.parent=Ce}}getBoundingBox(Q){var{element:ne}=this;return ne?ne.getBoundingBox(Q):null}elementTransform(){var{document:Q,element:ne}=this;return nn.fromElement(Q,ne)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function io(Ut,Q,ne,ce,O,H){return Ut[ne*ce*4+Q*4+H]}function ji(Ut,Q,ne,ce,O,H,ee){Ut[ne*ce*4+Q*4+H]=ee}function ms(Ut,Q,ne){var ce=Ut[Q];return ce*ne}function Xa(Ut,Q,ne,ce){return Q+Math.cos(Ut)*ne+Math.sin(Ut)*ce}class Ho extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="feColorMatrix";var O=C(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var H=O[0];O=[.213+.787*H,.715-.715*H,.072-.072*H,0,0,.213-.213*H,.715+.285*H,.072-.072*H,0,0,.213-.213*H,.715-.715*H,.072+.928*H,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var ee=O[0]*Math.PI/180;O=[Xa(ee,.213,.787,-.213),Xa(ee,.715,-.715,-.715),Xa(ee,.072,-.072,.928),0,0,Xa(ee,.213,-.213,.143),Xa(ee,.715,.285,.14),Xa(ee,.072,-.072,-.283),0,0,Xa(ee,.213,-.213,-.787),Xa(ee,.715,-.715,.715),Xa(ee,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=O,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(Q,ne,ce,O,H){for(var{includeOpacity:ee,matrix:Ce}=this,Oe=Q.getImageData(0,0,O,H),Ge=0;Ge<H;Ge++)for(var at=0;at<O;at++){var S=io(Oe.data,at,Ge,O,H,0),w=io(Oe.data,at,Ge,O,H,1),P=io(Oe.data,at,Ge,O,H,2),z=io(Oe.data,at,Ge,O,H,3),Y=ms(Ce,0,S)+ms(Ce,1,w)+ms(Ce,2,P)+ms(Ce,3,z)+ms(Ce,4,1),te=ms(Ce,5,S)+ms(Ce,6,w)+ms(Ce,7,P)+ms(Ce,8,z)+ms(Ce,9,1),Be=ms(Ce,10,S)+ms(Ce,11,w)+ms(Ce,12,P)+ms(Ce,13,z)+ms(Ce,14,1),me=ms(Ce,15,S)+ms(Ce,16,w)+ms(Ce,17,P)+ms(Ce,18,z)+ms(Ce,19,1);ee&&(Y=0,te=0,Be=0,me*=z/255),ji(Oe.data,at,Ge,O,H,0,Y),ji(Oe.data,at,Ge,O,H,1,te),ji(Oe.data,at,Ge,O,H,2,Be),ji(Oe.data,at,Ge,O,H,3,me)}Q.clearRect(0,0,O,H),Q.putImageData(Oe,0,0)}}class oo extends Gr{constructor(){super(...arguments),this.type="mask"}apply(Q,ne){var{document:ce}=this,O=this.getAttribute("x").getPixels("x"),H=this.getAttribute("y").getPixels("y"),ee=this.getStyle("width").getPixels("x"),Ce=this.getStyle("height").getPixels("y");if(!ee&&!Ce){var Oe=new hn;this.children.forEach(z=>{Oe.addBoundingBox(z.getBoundingBox(Q))}),O=Math.floor(Oe.x1),H=Math.floor(Oe.y1),ee=Math.floor(Oe.width),Ce=Math.floor(Oe.height)}var Ge=this.removeStyles(ne,oo.ignoreStyles),at=ce.createCanvas(O+ee,H+Ce),S=at.getContext("2d");ce.screen.setDefaults(S),this.renderChildren(S),new Ho(ce,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(S,0,0,O+ee,H+Ce);var w=ce.createCanvas(O+ee,H+Ce),P=w.getContext("2d");ce.screen.setDefaults(P),ne.render(P),P.globalCompositeOperation="destination-in",P.fillStyle=S.createPattern(at,"no-repeat"),P.fillRect(0,0,O+ee,H+Ce),Q.fillStyle=P.createPattern(w,"no-repeat"),Q.fillRect(0,0,O+ee,H+Ce),this.restoreStyles(ne,Ge)}render(Q){}}oo.ignoreStyles=["mask","transform","clip-path"];var ec=()=>{};class Xs extends Gr{constructor(){super(...arguments),this.type="clipPath"}apply(Q){var{document:ne}=this,ce=Reflect.getPrototypeOf(Q),{beginPath:O,closePath:H}=Q;ce&&(ce.beginPath=ec,ce.closePath=ec),Reflect.apply(O,Q,[]),this.children.forEach(ee=>{if(!(typeof ee.path>"u")){var Ce=typeof ee.elementTransform<"u"?ee.elementTransform():null;Ce||(Ce=nn.fromElement(ne,ee)),Ce&&Ce.apply(Q),ee.path(Q),ce&&(ce.closePath=H),Ce&&Ce.unapply(Q)}}),Reflect.apply(H,Q,[]),Q.clip(),ce&&(ce.beginPath=O,ce.closePath=H)}render(Q){}}class zn extends Gr{constructor(){super(...arguments),this.type="filter"}apply(Q,ne){var{document:ce,children:O}=this,H=ne.getBoundingBox(Q);if(H){var ee=0,Ce=0;O.forEach(Be=>{var me=Be.extraFilterDistance||0;ee=Math.max(ee,me),Ce=Math.max(Ce,me)});var Oe=Math.floor(H.width),Ge=Math.floor(H.height),at=Oe+2*ee,S=Ge+2*Ce;if(!(at<1||S<1)){var w=Math.floor(H.x),P=Math.floor(H.y),z=this.removeStyles(ne,zn.ignoreStyles),Y=ce.createCanvas(at,S),te=Y.getContext("2d");ce.screen.setDefaults(te),te.translate(-w+ee,-P+Ce),ne.render(te),O.forEach(Be=>{typeof Be.apply=="function"&&Be.apply(te,0,0,at,S)}),Q.drawImage(Y,0,0,at,S,w-ee,P-Ce,at,S),this.restoreStyles(ne,z)}}}render(Q){}}zn.ignoreStyles=["filter","transform","clip-path"];class Ps extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(Q,ne,ce,O,H){}}class ni extends Gr{constructor(){super(...arguments),this.type="feMorphology"}apply(Q,ne,ce,O,H){}}class ai extends Gr{constructor(){super(...arguments),this.type="feComposite"}apply(Q,ne,ce,O,H){}}class lo extends Gr{constructor(Q,ne,ce){super(Q,ne,ce),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(Q,ne,ce,O,H){var{document:ee,blurRadius:Ce}=this,Oe=ee.window?ee.window.document.body:null,Ge=Q.canvas;Ge.id=ee.getUniqueId(),Oe&&(Ge.style.display="none",Oe.appendChild(Ge)),(0,g.canvasRGBA)(Ge,ne,ce,O,H,Ce),Oe&&Oe.removeChild(Ge)}}class Ss extends Gr{constructor(){super(...arguments),this.type="title"}}class Ri extends Gr{constructor(){super(...arguments),this.type="desc"}}var Rs={svg:Nr,rect:ln,circle:Fn,ellipse:Kr,line:Dn,polyline:_r,polygon:Ka,path:Dr,pattern:qs,marker:vn,defs:ui,linearGradient:Ts,radialGradient:vs,stop:Ai,animate:Ga,animateColor:Ii,animateTransform:Ma,font:Rl,"font-face":ri,"missing-glyph":Zo,glyph:Pr,text:gn,tspan:sn,tref:Ql,a:el,textPath:oa,image:qa,g:ps,symbol:ao,style:so,use:ko,mask:oo,clipPath:Xs,filter:zn,feDropShadow:Ps,feMorphology:ni,feComposite:ai,feColorMatrix:Ho,feGaussianBlur:lo,title:Ss,desc:Ri};function Cs(Ut,Q){var ne=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(Ut);Q&&(ce=ce.filter(function(O){return Object.getOwnPropertyDescriptor(Ut,O).enumerable})),ne.push.apply(ne,ce)}return ne}function qi(Ut){for(var Q=1;Q<arguments.length;Q++){var ne=arguments[Q]!=null?arguments[Q]:{};Q%2?Cs(Object(ne),!0).forEach(function(ce){(0,u.default)(Ut,ce,ne[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(ne)):Cs(Object(ne)).forEach(function(ce){Object.defineProperty(Ut,ce,Object.getOwnPropertyDescriptor(ne,ce))})}return Ut}function co(Ut,Q){var ne=document.createElement("canvas");return ne.width=Ut,ne.height=Q,ne}function da(Ut){return Os.apply(this,arguments)}function Os(){return Os=(0,d.default)(function*(Ut){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ne=document.createElement("img");return Q&&(ne.crossOrigin="Anonymous"),new Promise((ce,O)=>{ne.onload=()=>{ce(ne)},ne.onerror=(H,ee,Ce,Oe,Ge)=>{O(Ge)},ne.src=Ut})}),Os.apply(this,arguments)}class si{constructor(Q){var{rootEmSize:ne=12,emSize:ce=12,createCanvas:O=si.createCanvas,createImage:H=si.createImage,anonymousCrossOrigin:ee}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=Q,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=Q.screen,this.rootEmSize=ne,this.emSize=ce,this.createCanvas=O,this.createImage=this.bindCreateImage(H,ee),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(Q,ne){return typeof ne=="boolean"?(ce,O)=>Q(ce,typeof O=="boolean"?O:ne):Q}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:Q}=this;return Q[Q.length-1]}set emSize(Q){var{emSizeStack:ne}=this;ne.push(Q)}popEmSize(){var{emSizeStack:Q}=this;Q.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(Q=>Q.loaded)}isFontsLoaded(){return this.fonts.every(Q=>Q.loaded)}createDocumentElement(Q){var ne=this.createElement(Q.documentElement);return ne.root=!0,ne.addStylesFromStyleDefinition(),this.documentElement=ne,ne}createElement(Q){var ne=Q.nodeName.replace(/^[^:]+:/,""),ce=si.elementTypes[ne];return typeof ce<"u"?new ce(this,Q):new Vr(this,Q)}createTextNode(Q){return new yt(this,Q)}setViewBox(Q){this.screen.setViewBox(qi({document:this},Q))}}si.createCanvas=co,si.createImage=da,si.elementTypes=Rs;function Ti(Ut,Q){var ne=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(Ut);Q&&(ce=ce.filter(function(O){return Object.getOwnPropertyDescriptor(Ut,O).enumerable})),ne.push.apply(ne,ce)}return ne}function pi(Ut){for(var Q=1;Q<arguments.length;Q++){var ne=arguments[Q]!=null?arguments[Q]:{};Q%2?Ti(Object(ne),!0).forEach(function(ce){(0,u.default)(Ut,ce,ne[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(ne)):Ti(Object(ne)).forEach(function(ce){Object.defineProperty(Ut,ce,Object.getOwnPropertyDescriptor(ne,ce))})}return Ut}class uo{constructor(Q,ne){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Mt(ce),this.screen=new Le(Q,ce),this.options=ce;var O=new si(this,ce),H=O.createDocumentElement(ne);this.document=O,this.documentElement=H}static from(Q,ne){var ce=arguments;return(0,d.default)(function*(){var O=ce.length>2&&ce[2]!==void 0?ce[2]:{},H=new Mt(O),ee=yield H.parse(ne);return new uo(Q,ee,O)})()}static fromString(Q,ne){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=new Mt(ce),H=O.parseFromString(ne);return new uo(Q,H,ce)}fork(Q,ne){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return uo.from(Q,ne,pi(pi({},this.options),ce))}forkString(Q,ne){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return uo.fromString(Q,ne,pi(pi({},this.options),ce))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var Q=arguments,ne=this;return(0,d.default)(function*(){var ce=Q.length>0&&Q[0]!==void 0?Q[0]:{};ne.start(pi({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},ce)),yield ne.ready(),ne.stop()})()}start(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:ne,screen:ce,options:O}=this;ce.start(ne,pi(pi({enableRedraw:!0},O),Q))}stop(){this.screen.stop()}resize(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(Q,ne,ce)}}}),"./node_modules/core-js/internals/a-callable.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-callable.js"),u=i("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;l.exports=function(m){if(d(m))return m;throw new f(u(m)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-constructor.js"),u=i("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;l.exports=function(m){if(d(m))return m;throw new f(u(m)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-possible-prototype.js"),u=String,f=TypeError;l.exports=function(m){if(d(m))return m;throw new f("Can't set "+u(m)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/set-helpers.js").has;l.exports=function(u){return d(u),u}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol.js"),u=i("./node_modules/core-js/internals/object-create.js"),f=i("./node_modules/core-js/internals/object-define-property.js").f,m=d("unscopables"),v=Array.prototype;v[m]===void 0&&f(v,m,{configurable:!0,value:u(null)}),l.exports=function(g){v[m][g]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/string-multibyte.js").charAt;l.exports=function(u,f,m){return f+(m?d(u,f).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/object-is-prototype-of.js"),u=TypeError;l.exports=function(f,m){if(d(m,f))return f;throw new u("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-object.js"),u=String,f=TypeError;l.exports=function(m){if(d(m))return m;throw new f(u(m)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=d(function(){if(typeof ArrayBuffer=="function"){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/array-iteration.js").forEach,u=i("./node_modules/core-js/internals/array-method-is-strict.js"),f=u("forEach");l.exports=f?[].forEach:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-bind-context.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-object.js"),m=i("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),v=i("./node_modules/core-js/internals/is-array-iterator-method.js"),g=i("./node_modules/core-js/internals/is-constructor.js"),x=i("./node_modules/core-js/internals/length-of-array-like.js"),y=i("./node_modules/core-js/internals/create-property.js"),j=i("./node_modules/core-js/internals/get-iterator.js"),N=i("./node_modules/core-js/internals/get-iterator-method.js"),T=Array;l.exports=function(C){var D=f(C),_=g(this),Z=arguments.length,ae=Z>1?arguments[1]:void 0,V=ae!==void 0;V&&(ae=d(ae,Z>2?arguments[2]:void 0));var ie=N(D),U=0,G,K,W,Ne,ge,Ee;if(ie&&!(this===T&&v(ie)))for(K=_?new this:[],Ne=j(D,ie),ge=Ne.next;!(W=u(ge,Ne)).done;U++)Ee=V?m(Ne,ae,[W.value,U],!0):W.value,y(K,U,Ee);else for(G=x(D),K=_?new this(G):T(G);G>U;U++)Ee=V?ae(D[U],U):D[U],y(K,U,Ee);return K.length=U,K}}),"./node_modules/core-js/internals/array-includes.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-indexed-object.js"),u=i("./node_modules/core-js/internals/to-absolute-index.js"),f=i("./node_modules/core-js/internals/length-of-array-like.js"),m=function(v){return function(g,x,y){var j=d(g),N=f(j);if(N===0)return!v&&-1;var T=u(y,N),I;if(v&&x!==x){for(;N>T;)if(I=j[T++],I!==I)return!0}else for(;N>T;T++)if((v||T in j)&&j[T]===x)return v||T||0;return!v&&-1}};l.exports={includes:m(!0),indexOf:m(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-bind-context.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/indexed-object.js"),m=i("./node_modules/core-js/internals/to-object.js"),v=i("./node_modules/core-js/internals/length-of-array-like.js"),g=i("./node_modules/core-js/internals/array-species-create.js"),x=u([].push),y=function(j){var N=j===1,T=j===2,I=j===3,C=j===4,D=j===6,_=j===7,Z=j===5||D;return function(ae,V,ie,U){for(var G=m(ae),K=f(G),W=v(K),Ne=d(V,ie),ge=0,Ee=U||g,Fe=N?Ee(ae,W):T||_?Ee(ae,0):void 0,he,le;W>ge;ge++)if((Z||ge in K)&&(he=K[ge],le=Ne(he,ge,G),j))if(N)Fe[ge]=le;else if(le)switch(j){case 3:return!0;case 5:return he;case 6:return ge;case 2:x(Fe,he)}else switch(j){case 4:return!1;case 7:x(Fe,he)}return D?-1:I||C?C:Fe}};l.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/well-known-symbol.js"),f=i("./node_modules/core-js/internals/environment-v8-version.js"),m=u("species");l.exports=function(v){return f>=51||!d(function(){var g=[],x=g.constructor={};return x[m]=function(){return{foo:1}},g[v](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=function(u,f){var m=[][u];return!!m&&d(function(){m.call(null,f||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-callable.js"),u=i("./node_modules/core-js/internals/to-object.js"),f=i("./node_modules/core-js/internals/indexed-object.js"),m=i("./node_modules/core-js/internals/length-of-array-like.js"),v=TypeError,g="Reduce of empty array with no initial value",x=function(y){return function(j,N,T,I){var C=u(j),D=f(C),_=m(C);if(d(N),_===0&&T<2)throw new v(g);var Z=y?_-1:0,ae=y?-1:1;if(T<2)for(;;){if(Z in D){I=D[Z],Z+=ae;break}if(Z+=ae,y?Z<0:_<=Z)throw new v(g)}for(;y?Z>=0:_>Z;Z+=ae)Z in D&&(I=N(I,D[Z],Z,C));return I}};l.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=d([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-array.js"),u=i("./node_modules/core-js/internals/is-constructor.js"),f=i("./node_modules/core-js/internals/is-object.js"),m=i("./node_modules/core-js/internals/well-known-symbol.js"),v=m("species"),g=Array;l.exports=function(x){var y;return d(x)&&(y=x.constructor,u(y)&&(y===g||d(y.prototype))?y=void 0:f(y)&&(y=y[v],y===null&&(y=void 0))),y===void 0?g:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/array-species-constructor.js");l.exports=function(u,f){return new(d(u))(f===0?0:f)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/an-object.js"),u=i("./node_modules/core-js/internals/iterator-close.js");l.exports=function(f,m,v,g){try{return g?m(d(v)[0],v[1]):m(v)}catch(x){u(f,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol.js"),u=d("iterator"),f=!1;try{var m=0,v={next:function(){return{done:!!m++}},return:function(){f=!0}};v[u]=function(){return this},Array.from(v,function(){throw 2})}catch{}l.exports=function(g,x){try{if(!x&&!f)return!1}catch{return!1}var y=!1;try{var j={};j[u]=function(){return{next:function(){return{done:y=!0}}}},g(j)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=d({}.toString),f=d("".slice);l.exports=function(m){return f(u(m),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-string-tag-support.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/classof-raw.js"),m=i("./node_modules/core-js/internals/well-known-symbol.js"),v=m("toStringTag"),g=Object,x=f((function(){return arguments})())==="Arguments",y=function(j,N){try{return j[N]}catch{}};l.exports=d?f:function(j){var N,T,I;return j===void 0?"Undefined":j===null?"Null":typeof(T=y(N=g(j),v))=="string"?T:x?f(N):(I=f(N))==="Object"&&u(N.callee)?"Arguments":I}}),"./node_modules/core-js/internals/collection-strong.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/object-create.js"),u=i("./node_modules/core-js/internals/define-built-in-accessor.js"),f=i("./node_modules/core-js/internals/define-built-ins.js"),m=i("./node_modules/core-js/internals/function-bind-context.js"),v=i("./node_modules/core-js/internals/an-instance.js"),g=i("./node_modules/core-js/internals/is-null-or-undefined.js"),x=i("./node_modules/core-js/internals/iterate.js"),y=i("./node_modules/core-js/internals/iterator-define.js"),j=i("./node_modules/core-js/internals/create-iter-result-object.js"),N=i("./node_modules/core-js/internals/set-species.js"),T=i("./node_modules/core-js/internals/descriptors.js"),I=i("./node_modules/core-js/internals/internal-metadata.js").fastKey,C=i("./node_modules/core-js/internals/internal-state.js"),D=C.set,_=C.getterFor;l.exports={getConstructor:function(Z,ae,V,ie){var U=Z(function(ge,Ee){v(ge,G),D(ge,{type:ae,index:d(null),first:null,last:null,size:0}),T||(ge.size=0),g(Ee)||x(Ee,ge[ie],{that:ge,AS_ENTRIES:V})}),G=U.prototype,K=_(ae),W=function(ge,Ee,Fe){var he=K(ge),le=Ne(ge,Ee),ve,se;return le?le.value=Fe:(he.last=le={index:se=I(Ee,!0),key:Ee,value:Fe,previous:ve=he.last,next:null,removed:!1},he.first||(he.first=le),ve&&(ve.next=le),T?he.size++:ge.size++,se!=="F"&&(he.index[se]=le)),ge},Ne=function(ge,Ee){var Fe=K(ge),he=I(Ee),le;if(he!=="F")return Fe.index[he];for(le=Fe.first;le;le=le.next)if(le.key===Ee)return le};return f(G,{clear:function(){for(var Ee=this,Fe=K(Ee),he=Fe.first;he;)he.removed=!0,he.previous&&(he.previous=he.previous.next=null),he=he.next;Fe.first=Fe.last=null,Fe.index=d(null),T?Fe.size=0:Ee.size=0},delete:function(ge){var Ee=this,Fe=K(Ee),he=Ne(Ee,ge);if(he){var le=he.next,ve=he.previous;delete Fe.index[he.index],he.removed=!0,ve&&(ve.next=le),le&&(le.previous=ve),Fe.first===he&&(Fe.first=le),Fe.last===he&&(Fe.last=ve),T?Fe.size--:Ee.size--}return!!he},forEach:function(Ee){for(var Fe=K(this),he=m(Ee,arguments.length>1?arguments[1]:void 0),le;le=le?le.next:Fe.first;)for(he(le.value,le.key,this);le&&le.removed;)le=le.previous},has:function(Ee){return!!Ne(this,Ee)}}),f(G,V?{get:function(Ee){var Fe=Ne(this,Ee);return Fe&&Fe.value},set:function(Ee,Fe){return W(this,Ee===0?0:Ee,Fe)}}:{add:function(Ee){return W(this,Ee=Ee===0?0:Ee,Ee)}}),T&&u(G,"size",{configurable:!0,get:function(){return K(this).size}}),U},setStrong:function(Z,ae,V){var ie=ae+" Iterator",U=_(ae),G=_(ie);y(Z,ae,function(K,W){D(this,{type:ie,target:K,state:U(K),kind:W,last:null})},function(){for(var K=G(this),W=K.kind,Ne=K.last;Ne&&Ne.removed;)Ne=Ne.previous;return!K.target||!(K.last=Ne=Ne?Ne.next:K.state.first)?(K.target=null,j(void 0,!0)):j(W==="keys"?Ne.key:W==="values"?Ne.value:[Ne.key,Ne.value],!1)},V?"entries":"values",!V,!0),N(ae)}}}),"./node_modules/core-js/internals/collection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/function-uncurry-this.js"),m=i("./node_modules/core-js/internals/is-forced.js"),v=i("./node_modules/core-js/internals/define-built-in.js"),g=i("./node_modules/core-js/internals/internal-metadata.js"),x=i("./node_modules/core-js/internals/iterate.js"),y=i("./node_modules/core-js/internals/an-instance.js"),j=i("./node_modules/core-js/internals/is-callable.js"),N=i("./node_modules/core-js/internals/is-null-or-undefined.js"),T=i("./node_modules/core-js/internals/is-object.js"),I=i("./node_modules/core-js/internals/fails.js"),C=i("./node_modules/core-js/internals/check-correctness-of-iteration.js"),D=i("./node_modules/core-js/internals/set-to-string-tag.js"),_=i("./node_modules/core-js/internals/inherit-if-required.js");l.exports=function(Z,ae,V){var ie=Z.indexOf("Map")!==-1,U=Z.indexOf("Weak")!==-1,G=ie?"set":"add",K=u[Z],W=K&&K.prototype,Ne=K,ge={},Ee=function(Ie){var Te=f(W[Ie]);v(W,Ie,Ie==="add"?function(pe){return Te(this,pe===0?0:pe),this}:Ie==="delete"?function(xe){return U&&!T(xe)?!1:Te(this,xe===0?0:xe)}:Ie==="get"?function(pe){return U&&!T(pe)?void 0:Te(this,pe===0?0:pe)}:Ie==="has"?function(pe){return U&&!T(pe)?!1:Te(this,pe===0?0:pe)}:function(pe,X){return Te(this,pe===0?0:pe,X),this})},Fe=m(Z,!j(K)||!(U||W.forEach&&!I(function(){new K().entries().next()})));if(Fe)Ne=V.getConstructor(ae,Z,ie,G),g.enable();else if(m(Z,!0)){var he=new Ne,le=he[G](U?{}:-0,1)!==he,ve=I(function(){he.has(1)}),se=C(function(Ie){new K(Ie)}),re=!U&&I(function(){for(var Ie=new K,Te=5;Te--;)Ie[G](Te,Te);return!Ie.has(-0)});se||(Ne=ae(function(Ie,Te){y(Ie,W);var xe=_(new K,Ie,Ne);return N(Te)||x(Te,xe[G],{that:xe,AS_ENTRIES:ie}),xe}),Ne.prototype=W,W.constructor=Ne),(ve||re)&&(Ee("delete"),Ee("has"),ie&&Ee("get")),(re||le)&&Ee(G),U&&W.clear&&delete W.clear}return ge[Z]=Ne,d({global:!0,constructor:!0,forced:Ne!==K},ge),D(Ne,Z),U||V.setStrong(Ne,Z,ie),Ne}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/has-own-property.js"),u=i("./node_modules/core-js/internals/own-keys.js"),f=i("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),m=i("./node_modules/core-js/internals/object-define-property.js");l.exports=function(v,g,x){for(var y=u(g),j=m.f,N=f.f,T=0;T<y.length;T++){var I=y[T];!d(v,I)&&!(x&&d(x,I))&&j(v,I,N(g,I))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol.js"),u=d("match");l.exports=function(f){var m=/./;try{"/./"[f](m)}catch{try{return m[u]=!1,"/./"[f](m)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/require-object-coercible.js"),f=i("./node_modules/core-js/internals/to-string.js"),m=/"/g,v=d("".replace);l.exports=function(g,x,y,j){var N=f(u(g)),T="<"+x;return y!==""&&(T+=" "+y+'="'+v(f(j),m,"&quot;")+'"'),T+">"+N+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(l){l.exports=function(h,i){return{value:h,done:i}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/object-define-property.js"),f=i("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=d?function(m,v,g){return u.f(m,v,f(1,g))}:function(m,v,g){return m[v]=g,m}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(l){l.exports=function(h,i){return{enumerable:!(h&1),configurable:!(h&2),writable:!(h&4),value:i}}}),"./node_modules/core-js/internals/create-property.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/object-define-property.js"),f=i("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=function(m,v,g){d?u.f(m,v,f(0,g)):m[v]=g}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/make-built-in.js"),u=i("./node_modules/core-js/internals/object-define-property.js");l.exports=function(f,m,v){return v.get&&d(v.get,m,{getter:!0}),v.set&&d(v.set,m,{setter:!0}),u.f(f,m,v)}}),"./node_modules/core-js/internals/define-built-in.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-callable.js"),u=i("./node_modules/core-js/internals/object-define-property.js"),f=i("./node_modules/core-js/internals/make-built-in.js"),m=i("./node_modules/core-js/internals/define-global-property.js");l.exports=function(v,g,x,y){y||(y={});var j=y.enumerable,N=y.name!==void 0?y.name:g;if(d(x)&&f(x,N,y),y.global)j?v[g]=x:m(g,x);else{try{y.unsafe?v[g]&&(j=!0):delete v[g]}catch{}j?v[g]=x:u.f(v,g,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return v}}),"./node_modules/core-js/internals/define-built-ins.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/define-built-in.js");l.exports=function(u,f,m){for(var v in f)d(u,v,f[v],m);return u}}),"./node_modules/core-js/internals/define-global-property.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=Object.defineProperty;l.exports=function(f,m){try{u(d,f,{value:m,configurable:!0,writable:!0})}catch{d[f]=m}return m}}),"./node_modules/core-js/internals/descriptors.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/is-object.js"),f=d.document,m=u(f)&&u(f.createElement);l.exports=function(v){return m?f.createElement(v):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(l){var h=TypeError,i=9007199254740991;l.exports=function(d){if(d>i)throw h("Maximum allowed index exceeded");return d}}),"./node_modules/core-js/internals/dom-iterables.js":(function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/document-create-element.js"),u=d("span").classList,f=u&&u.constructor&&u.constructor.prototype;l.exports=f===Object.prototype?void 0:f}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)}),"./node_modules/core-js/internals/environment-is-node.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/environment.js");l.exports=d==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/web0s(?!.*chrome)/i.test(d)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=d.navigator,f=u&&u.userAgent;l.exports=f?String(f):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/environment-user-agent.js"),f=d.process,m=d.Deno,v=f&&f.versions||m&&m.version,g=v&&v.v8,x,y;g&&(x=g.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&u&&(x=u.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=u.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),l.exports=y}),"./node_modules/core-js/internals/environment.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/environment-user-agent.js"),f=i("./node_modules/core-js/internals/classof-raw.js"),m=function(v){return u.slice(0,v.length)===v};l.exports=(function(){return m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":d.Bun&&typeof Bun.version=="string"?"BUN":d.Deno&&typeof Deno.version=="object"?"DENO":f(d.process)==="process"?"NODE":d.window&&d.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=i("./node_modules/core-js/internals/define-built-in.js"),v=i("./node_modules/core-js/internals/define-global-property.js"),g=i("./node_modules/core-js/internals/copy-constructor-properties.js"),x=i("./node_modules/core-js/internals/is-forced.js");l.exports=function(y,j){var N=y.target,T=y.global,I=y.stat,C,D,_,Z,ae,V;if(T?D=d:I?D=d[N]||v(N,{}):D=d[N]&&d[N].prototype,D)for(_ in j){if(ae=j[_],y.dontCallGetSet?(V=u(D,_),Z=V&&V.value):Z=D[_],C=x(T?_:N+(I?".":"#")+_,y.forced),!C&&Z!==void 0){if(typeof ae==typeof Z)continue;g(ae,Z)}(y.sham||Z&&Z.sham)&&f(ae,"sham",!0),m(D,_,ae,y)}}}),"./node_modules/core-js/internals/fails.js":(function(l){l.exports=function(h){try{return!!h()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(l,h,i){i("./node_modules/core-js/modules/es.regexp.exec.js");var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/define-built-in.js"),f=i("./node_modules/core-js/internals/regexp-exec.js"),m=i("./node_modules/core-js/internals/fails.js"),v=i("./node_modules/core-js/internals/well-known-symbol.js"),g=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=v("species"),y=RegExp.prototype;l.exports=function(j,N,T,I){var C=v(j),D=!m(function(){var V={};return V[C]=function(){return 7},""[j](V)!==7}),_=D&&!m(function(){var V=!1,ie=/a/;if(j==="split"){var U={};U[x]=function(){return ie},ie={constructor:U,flags:""},ie[C]=/./[C]}return ie.exec=function(){return V=!0,null},ie[C](""),!V});if(!D||!_||T){var Z=/./[C],ae=N(C,""[j],function(V,ie,U,G,K){var W=ie.exec;return W===f||W===y.exec?D&&!K?{done:!0,value:d(Z,ie,U,G)}:{done:!0,value:d(V,U,ie,G)}:{done:!1}});u(String.prototype,j,ae[0]),u(y,C,ae[1])}I&&g(y[C],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-bind-native.js"),u=Function.prototype,f=u.apply,m=u.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(d?m.bind(f):function(){return m.apply(f,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this-clause.js"),u=i("./node_modules/core-js/internals/a-callable.js"),f=i("./node_modules/core-js/internals/function-bind-native.js"),m=d(d.bind);l.exports=function(v,g){return u(v),g===void 0?v:f?m(v,g):function(){return v.apply(g,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-bind-native.js"),u=Function.prototype.call;l.exports=d?u.bind(u):function(){return u.apply(u,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=Function.prototype,m=d&&Object.getOwnPropertyDescriptor,v=u(f,"name"),g=v&&(function(){}).name==="something",x=v&&(!d||d&&m(f,"name").configurable);l.exports={EXISTS:v,PROPER:g,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/a-callable.js");l.exports=function(f,m,v){try{return d(u(Object.getOwnPropertyDescriptor(f,m)[v]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/classof-raw.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=function(f){if(d(f)==="Function")return u(f)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-bind-native.js"),u=Function.prototype,f=u.call,m=d&&u.bind.bind(f,f);l.exports=d?m:function(v){return function(){return f.apply(v,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=function(m){return u(m)?m:void 0};l.exports=function(m,v){return arguments.length<2?f(d[m]):d[m]&&d[m][v]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(l){l.exports=function(h){return{iterator:h,next:h.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/classof.js"),u=i("./node_modules/core-js/internals/get-method.js"),f=i("./node_modules/core-js/internals/is-null-or-undefined.js"),m=i("./node_modules/core-js/internals/iterators.js"),v=i("./node_modules/core-js/internals/well-known-symbol.js"),g=v("iterator");l.exports=function(x){if(!f(x))return u(x,g)||u(x,"@@iterator")||m[d(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/a-callable.js"),f=i("./node_modules/core-js/internals/an-object.js"),m=i("./node_modules/core-js/internals/try-to-string.js"),v=i("./node_modules/core-js/internals/get-iterator-method.js"),g=TypeError;l.exports=function(x,y){var j=arguments.length<2?v(x):y;if(u(j))return f(d(j,x));throw new g(m(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-callable.js"),u=i("./node_modules/core-js/internals/is-null-or-undefined.js");l.exports=function(f,m){var v=f[m];return u(v)?void 0:d(v)}}),"./node_modules/core-js/internals/get-set-record.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-callable.js"),u=i("./node_modules/core-js/internals/an-object.js"),f=i("./node_modules/core-js/internals/function-call.js"),m=i("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=i("./node_modules/core-js/internals/get-iterator-direct.js"),g="Invalid size",x=RangeError,y=TypeError,j=Math.max,N=function(T,I){this.set=T,this.size=j(I,0),this.has=d(T.has),this.keys=d(T.keys)};N.prototype={getIterator:function(){return v(u(f(this.keys,this.set)))},includes:function(T){return f(this.has,this.set,T)}},l.exports=function(T){u(T);var I=+T.size;if(I!==I)throw new y(g);var C=m(I);if(C<0)throw new x(g);return new N(T,C)}}),"./node_modules/core-js/internals/get-substitution.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/to-object.js"),f=Math.floor,m=d("".charAt),v=d("".replace),g=d("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;l.exports=function(j,N,T,I,C,D){var _=T+j.length,Z=I.length,ae=y;return C!==void 0&&(C=u(C),ae=x),v(D,ae,function(V,ie){var U;switch(m(ie,0)){case"$":return"$";case"&":return j;case"`":return g(N,0,T);case"'":return g(N,_);case"<":U=C[g(ie,1,-1)];break;default:var G=+ie;if(G===0)return V;if(G>Z){var K=f(G/10);return K===0?V:K<=Z?I[K-1]===void 0?m(ie,1):I[K-1]+m(ie,1):V}U=I[G-1]}return U===void 0?"":U})}}),"./node_modules/core-js/internals/global-this.js":(function(l){var h=function(i){return i&&i.Math===Math&&i};l.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof aA=="object"&&aA)||h(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/to-object.js"),f=d({}.hasOwnProperty);l.exports=Object.hasOwn||function(v,g){return f(u(v),g)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(l){l.exports=function(h,i){try{arguments.length===1?console.error(h):console.error(h,i)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/get-built-in.js");l.exports=d("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/document-create-element.js");l.exports=!d&&!u(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/classof-raw.js"),m=Object,v=d("".split);l.exports=u(function(){return!m("z").propertyIsEnumerable(0)})?function(g){return f(g)==="String"?v(g,""):m(g)}:m}),"./node_modules/core-js/internals/inherit-if-required.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-callable.js"),u=i("./node_modules/core-js/internals/is-object.js"),f=i("./node_modules/core-js/internals/object-set-prototype-of.js");l.exports=function(m,v,g){var x,y;return f&&d(x=v.constructor)&&x!==g&&u(y=x.prototype)&&y!==g.prototype&&f(m,y),m}}),"./node_modules/core-js/internals/inspect-source.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/shared-store.js"),m=d(Function.toString);u(f.inspectSource)||(f.inspectSource=function(v){return m(v)}),l.exports=f.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/hidden-keys.js"),m=i("./node_modules/core-js/internals/is-object.js"),v=i("./node_modules/core-js/internals/has-own-property.js"),g=i("./node_modules/core-js/internals/object-define-property.js").f,x=i("./node_modules/core-js/internals/object-get-own-property-names.js"),y=i("./node_modules/core-js/internals/object-get-own-property-names-external.js"),j=i("./node_modules/core-js/internals/object-is-extensible.js"),N=i("./node_modules/core-js/internals/uid.js"),T=i("./node_modules/core-js/internals/freezing.js"),I=!1,C=N("meta"),D=0,_=function(G){g(G,C,{value:{objectID:"O"+D++,weakData:{}}})},Z=function(G,K){if(!m(G))return typeof G=="symbol"?G:(typeof G=="string"?"S":"P")+G;if(!v(G,C)){if(!j(G))return"F";if(!K)return"E";_(G)}return G[C].objectID},ae=function(G,K){if(!v(G,C)){if(!j(G))return!0;if(!K)return!1;_(G)}return G[C].weakData},V=function(G){return T&&I&&j(G)&&!v(G,C)&&_(G),G},ie=function(){U.enable=function(){},I=!0;var G=x.f,K=u([].splice),W={};W[C]=1,G(W).length&&(x.f=function(Ne){for(var ge=G(Ne),Ee=0,Fe=ge.length;Ee<Fe;Ee++)if(ge[Ee]===C){K(ge,Ee,1);break}return ge},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},U=l.exports={enable:ie,fastKey:Z,getWeakData:ae,onFreeze:V};f[C]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/weak-map-basic-detection.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/is-object.js"),m=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=i("./node_modules/core-js/internals/has-own-property.js"),g=i("./node_modules/core-js/internals/shared-store.js"),x=i("./node_modules/core-js/internals/shared-key.js"),y=i("./node_modules/core-js/internals/hidden-keys.js"),j="Object already initialized",N=u.TypeError,T=u.WeakMap,I,C,D,_=function(ie){return D(ie)?C(ie):I(ie,{})},Z=function(ie){return function(U){var G;if(!f(U)||(G=C(U)).type!==ie)throw new N("Incompatible receiver, "+ie+" required");return G}};if(d||g.state){var ae=g.state||(g.state=new T);ae.get=ae.get,ae.has=ae.has,ae.set=ae.set,I=function(ie,U){if(ae.has(ie))throw new N(j);return U.facade=ie,ae.set(ie,U),U},C=function(ie){return ae.get(ie)||{}},D=function(ie){return ae.has(ie)}}else{var V=x("state");y[V]=!0,I=function(ie,U){if(v(ie,V))throw new N(j);return U.facade=ie,m(ie,V,U),U},C=function(ie){return v(ie,V)?ie[V]:{}},D=function(ie){return v(ie,V)}}l.exports={set:I,get:C,has:D,enforce:_,getterFor:Z}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol.js"),u=i("./node_modules/core-js/internals/iterators.js"),f=d("iterator"),m=Array.prototype;l.exports=function(v){return v!==void 0&&(u.Array===v||m[f]===v)}}),"./node_modules/core-js/internals/is-array.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/classof-raw.js");l.exports=Array.isArray||function(f){return d(f)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(l){var h=typeof document=="object"&&document.all;l.exports=typeof h>"u"&&h!==void 0?function(i){return typeof i=="function"||i===h}:function(i){return typeof i=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/is-callable.js"),m=i("./node_modules/core-js/internals/classof.js"),v=i("./node_modules/core-js/internals/get-built-in.js"),g=i("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=v("Reflect","construct"),j=/^\s*(?:class|function)\b/,N=d(j.exec),T=!j.test(x),I=function(_){if(!f(_))return!1;try{return y(x,[],_),!0}catch{return!1}},C=function(_){if(!f(_))return!1;switch(m(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return T||!!N(j,g(_))}catch{return!0}};C.sham=!0,l.exports=!y||u(function(){var D;return I(I.call)||!I(Object)||!I(function(){D=!0})||D})?C:I}),"./node_modules/core-js/internals/is-forced.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=/#|\.prototype\./,m=function(j,N){var T=g[v(j)];return T===y?!0:T===x?!1:u(N)?d(N):!!N},v=m.normalize=function(j){return String(j).replace(f,".").toLowerCase()},g=m.data={},x=m.NATIVE="N",y=m.POLYFILL="P";l.exports=m}),"./node_modules/core-js/internals/is-iterable.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/classof.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=i("./node_modules/core-js/internals/is-null-or-undefined.js"),m=i("./node_modules/core-js/internals/well-known-symbol.js"),v=i("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),x=Object;l.exports=function(y){if(f(y))return!1;var j=x(y);return j[g]!==void 0||"@@iterator"in j||u(v,d(j))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(l){l.exports=function(h){return h==null}}),"./node_modules/core-js/internals/is-object.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-callable.js");l.exports=function(u){return typeof u=="object"?u!==null:d(u)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-object.js");l.exports=function(u){return d(u)||u===null}}),"./node_modules/core-js/internals/is-pure.js":(function(l){l.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-object.js"),u=i("./node_modules/core-js/internals/internal-state.js").get;l.exports=function(m){if(!d(m))return!1;var v=u(m);return!!v&&v.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-object.js"),u=i("./node_modules/core-js/internals/classof-raw.js"),f=i("./node_modules/core-js/internals/well-known-symbol.js"),m=f("match");l.exports=function(v){var g;return d(v)&&((g=v[m])!==void 0?!!g:u(v)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/get-built-in.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/object-is-prototype-of.js"),m=i("./node_modules/core-js/internals/use-symbol-as-uid.js"),v=Object;l.exports=m?function(g){return typeof g=="symbol"}:function(g){var x=d("Symbol");return u(x)&&f(x.prototype,v(g))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js");l.exports=function(u,f,m){for(var v=m?u:u.iterator,g=u.next,x,y;!(x=d(g,v)).done;)if(y=f(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-bind-context.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/an-object.js"),m=i("./node_modules/core-js/internals/try-to-string.js"),v=i("./node_modules/core-js/internals/is-array-iterator-method.js"),g=i("./node_modules/core-js/internals/length-of-array-like.js"),x=i("./node_modules/core-js/internals/object-is-prototype-of.js"),y=i("./node_modules/core-js/internals/get-iterator.js"),j=i("./node_modules/core-js/internals/get-iterator-method.js"),N=i("./node_modules/core-js/internals/iterator-close.js"),T=TypeError,I=function(D,_){this.stopped=D,this.result=_},C=I.prototype;l.exports=function(D,_,Z){var ae=Z&&Z.that,V=!!(Z&&Z.AS_ENTRIES),ie=!!(Z&&Z.IS_RECORD),U=!!(Z&&Z.IS_ITERATOR),G=!!(Z&&Z.INTERRUPTED),K=d(_,ae),W,Ne,ge,Ee,Fe,he,le,ve=function(re){return W&&N(W,"normal"),new I(!0,re)},se=function(re){return V?(f(re),G?K(re[0],re[1],ve):K(re[0],re[1])):G?K(re,ve):K(re)};if(ie)W=D.iterator;else if(U)W=D;else{if(Ne=j(D),!Ne)throw new T(m(D)+" is not iterable");if(v(Ne)){for(ge=0,Ee=g(D);Ee>ge;ge++)if(Fe=se(D[ge]),Fe&&x(C,Fe))return Fe;return new I(!1)}W=y(D,Ne)}for(he=ie?D.next:W.next;!(le=u(he,W)).done;){try{Fe=se(le.value)}catch(re){N(W,"throw",re)}if(typeof Fe=="object"&&Fe&&x(C,Fe))return Fe}return new I(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/iterator-close.js");l.exports=function(u,f,m){for(var v=u.length-1;v>=0;v--)if(u[v]!==void 0)try{m=d(u[v].iterator,f,m)}catch(g){f="throw",m=g}if(f==="throw")throw m;return m}}),"./node_modules/core-js/internals/iterator-close.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/an-object.js"),f=i("./node_modules/core-js/internals/get-method.js");l.exports=function(m,v,g){var x,y;u(m);try{if(x=f(m,"return"),!x){if(v==="throw")throw g;return g}x=d(x,m)}catch(j){y=!0,x=j}if(v==="throw")throw g;if(y)throw x;return u(x),g}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,u=i("./node_modules/core-js/internals/object-create.js"),f=i("./node_modules/core-js/internals/create-property-descriptor.js"),m=i("./node_modules/core-js/internals/set-to-string-tag.js"),v=i("./node_modules/core-js/internals/iterators.js"),g=function(){return this};l.exports=function(x,y,j,N){var T=y+" Iterator";return x.prototype=u(d,{next:f(+!N,j)}),m(x,T,!1,!0),v[T]=g,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/object-create.js"),f=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=i("./node_modules/core-js/internals/define-built-ins.js"),v=i("./node_modules/core-js/internals/well-known-symbol.js"),g=i("./node_modules/core-js/internals/internal-state.js"),x=i("./node_modules/core-js/internals/get-method.js"),y=i("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,j=i("./node_modules/core-js/internals/create-iter-result-object.js"),N=i("./node_modules/core-js/internals/iterator-close.js"),T=i("./node_modules/core-js/internals/iterator-close-all.js"),I=v("toStringTag"),C="IteratorHelper",D="WrapForValidIterator",_="normal",Z="throw",ae=g.set,V=function(G){var K=g.getterFor(G?D:C);return m(u(y),{next:function(){var Ne=K(this);if(G)return Ne.nextHandler();if(Ne.done)return j(void 0,!0);try{var ge=Ne.nextHandler();return Ne.returnHandlerResult?ge:j(ge,Ne.done)}catch(Ee){throw Ne.done=!0,Ee}},return:function(){var W=K(this),Ne=W.iterator;if(W.done=!0,G){var ge=x(Ne,"return");return ge?d(ge,Ne):j(void 0,!0)}if(W.inner)try{N(W.inner.iterator,_)}catch(Ee){return N(Ne,Z,Ee)}if(W.openIters)try{T(W.openIters,_)}catch(Ee){return N(Ne,Z,Ee)}return Ne&&N(Ne,_),j(void 0,!0)}})},ie=V(!0),U=V(!1);f(U,I,"Iterator Helper"),l.exports=function(G,K,W){var Ne=function(Ee,Fe){Fe?(Fe.iterator=Ee.iterator,Fe.next=Ee.next):Fe=Ee,Fe.type=K?D:C,Fe.returnHandlerResult=!!W,Fe.nextHandler=G,Fe.counter=0,Fe.done=!1,ae(this,Fe)};return Ne.prototype=K?ie:U,Ne}}),"./node_modules/core-js/internals/iterator-define.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/is-pure.js"),m=i("./node_modules/core-js/internals/function-name.js"),v=i("./node_modules/core-js/internals/is-callable.js"),g=i("./node_modules/core-js/internals/iterator-create-constructor.js"),x=i("./node_modules/core-js/internals/object-get-prototype-of.js"),y=i("./node_modules/core-js/internals/object-set-prototype-of.js"),j=i("./node_modules/core-js/internals/set-to-string-tag.js"),N=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),T=i("./node_modules/core-js/internals/define-built-in.js"),I=i("./node_modules/core-js/internals/well-known-symbol.js"),C=i("./node_modules/core-js/internals/iterators.js"),D=i("./node_modules/core-js/internals/iterators-core.js"),_=m.PROPER,Z=m.CONFIGURABLE,ae=D.IteratorPrototype,V=D.BUGGY_SAFARI_ITERATORS,ie=I("iterator"),U="keys",G="values",K="entries",W=function(){return this};l.exports=function(Ne,ge,Ee,Fe,he,le,ve){g(Ee,ge,Fe);var se=function(Ue){if(Ue===he&&pe)return pe;if(!V&&Ue&&Ue in Te)return Te[Ue];switch(Ue){case U:return function(){return new Ee(this,Ue)};case G:return function(){return new Ee(this,Ue)};case K:return function(){return new Ee(this,Ue)}}return function(){return new Ee(this)}},re=ge+" Iterator",Ie=!1,Te=Ne.prototype,xe=Te[ie]||Te["@@iterator"]||he&&Te[he],pe=!V&&xe||se(he),X=ge==="Array"&&Te.entries||xe,fe,oe,We;if(X&&(fe=x(X.call(new Ne)),fe!==Object.prototype&&fe.next&&(!f&&x(fe)!==ae&&(y?y(fe,ae):v(fe[ie])||T(fe,ie,W)),j(fe,re,!0,!0),f&&(C[re]=W))),_&&he===G&&xe&&xe.name!==G&&(!f&&Z?N(Te,"name",G):(Ie=!0,pe=function(){return u(xe,this)})),he)if(oe={values:se(G),keys:le?pe:se(U),entries:se(K)},ve)for(We in oe)(V||Ie||!(We in Te))&&T(Te,We,oe[We]);else d({target:ge,proto:!0,forced:V||Ie},oe);return(!f||ve)&&Te[ie]!==pe&&T(Te,ie,pe,{name:he}),C[ge]=pe,oe}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(l){l.exports=function(h,i){var d=typeof Iterator=="function"&&Iterator.prototype[h];if(d)try{d.call({next:null},i).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js");l.exports=function(u,f){var m=d.Iterator,v=m&&m.prototype,g=v&&v[u],x=!1;if(g)try{g.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof f||(x=!1)}if(!x)return g}}),"./node_modules/core-js/internals/iterators-core.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/is-object.js"),m=i("./node_modules/core-js/internals/object-create.js"),v=i("./node_modules/core-js/internals/object-get-prototype-of.js"),g=i("./node_modules/core-js/internals/define-built-in.js"),x=i("./node_modules/core-js/internals/well-known-symbol.js"),y=i("./node_modules/core-js/internals/is-pure.js"),j=x("iterator"),N=!1,T,I,C;[].keys&&(C=[].keys(),"next"in C?(I=v(v(C)),I!==Object.prototype&&(T=I)):N=!0);var D=!f(T)||d(function(){var _={};return T[j].call(_)!==_});D?T={}:y&&(T=m(T)),u(T[j])||g(T,j,function(){return this}),l.exports={IteratorPrototype:T,BUGGY_SAFARI_ITERATORS:N}}),"./node_modules/core-js/internals/iterators.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-length.js");l.exports=function(u){return d(u.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/is-callable.js"),m=i("./node_modules/core-js/internals/has-own-property.js"),v=i("./node_modules/core-js/internals/descriptors.js"),g=i("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=i("./node_modules/core-js/internals/inspect-source.js"),y=i("./node_modules/core-js/internals/internal-state.js"),j=y.enforce,N=y.get,T=String,I=Object.defineProperty,C=d("".slice),D=d("".replace),_=d([].join),Z=v&&!u(function(){return I(function(){},"length",{value:8}).length!==8}),ae=String(String).split("String"),V=l.exports=function(ie,U,G){C(T(U),0,7)==="Symbol("&&(U="["+D(T(U),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),G&&G.getter&&(U="get "+U),G&&G.setter&&(U="set "+U),(!m(ie,"name")||g&&ie.name!==U)&&(v?I(ie,"name",{value:U,configurable:!0}):ie.name=U),Z&&G&&m(G,"arity")&&ie.length!==G.arity&&I(ie,"length",{value:G.arity});try{G&&m(G,"constructor")&&G.constructor?v&&I(ie,"prototype",{writable:!1}):ie.prototype&&(ie.prototype=void 0)}catch{}var K=j(ie);return m(K,"source")||(K.source=_(ae,typeof U=="string"?U:"")),ie};Function.prototype.toString=V(function(){return f(this)&&N(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(l){var h=Math.ceil,i=Math.floor;l.exports=Math.trunc||function(u){var f=+u;return(f>0?i:h)(f)}}),"./node_modules/core-js/internals/microtask.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/safe-get-built-in.js"),f=i("./node_modules/core-js/internals/function-bind-context.js"),m=i("./node_modules/core-js/internals/task.js").set,v=i("./node_modules/core-js/internals/queue.js"),g=i("./node_modules/core-js/internals/environment-is-ios.js"),x=i("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=i("./node_modules/core-js/internals/environment-is-webos-webkit.js"),j=i("./node_modules/core-js/internals/environment-is-node.js"),N=d.MutationObserver||d.WebKitMutationObserver,T=d.document,I=d.process,C=d.Promise,D=u("queueMicrotask"),_,Z,ae,V,ie;if(!D){var U=new v,G=function(){var K,W;for(j&&(K=I.domain)&&K.exit();W=U.get();)try{W()}catch(Ne){throw U.head&&_(),Ne}K&&K.enter()};!g&&!j&&!y&&N&&T?(Z=!0,ae=T.createTextNode(""),new N(G).observe(ae,{characterData:!0}),_=function(){ae.data=Z=!Z}):!x&&C&&C.resolve?(V=C.resolve(void 0),V.constructor=C,ie=f(V.then,V),_=function(){ie(G)}):j?_=function(){I.nextTick(G)}:(m=f(m,d),_=function(){m(G)}),D=function(K){U.head||_(),U.add(K)}}l.exports=D}),"./node_modules/core-js/internals/native-raw-json.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){var u="9007199254740993",f=JSON.rawJSON(u);return!JSON.isRawJSON(f)||JSON.stringify(f)!==u})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-callable.js"),u=TypeError,f=function(m){var v,g;this.promise=new m(function(x,y){if(v!==void 0||g!==void 0)throw new u("Bad Promise constructor");v=x,g=y}),this.resolve=d(v),this.reject=d(g)};l.exports.f=function(m){return new f(m)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-regexp.js"),u=TypeError;l.exports=function(f){if(d(f))throw new u("The method doesn't accept regular expressions");return f}}),"./node_modules/core-js/internals/object-assign.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/function-call.js"),m=i("./node_modules/core-js/internals/fails.js"),v=i("./node_modules/core-js/internals/object-keys.js"),g=i("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=i("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=i("./node_modules/core-js/internals/to-object.js"),j=i("./node_modules/core-js/internals/indexed-object.js"),N=Object.assign,T=Object.defineProperty,I=u([].concat);l.exports=!N||m(function(){if(d&&N({b:1},N(T({},"a",{enumerable:!0,get:function(){T(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var C={},D={},_=Symbol("assign detection"),Z="abcdefghijklmnopqrst";return C[_]=7,Z.split("").forEach(function(ae){D[ae]=ae}),N({},C)[_]!==7||v(N({},D)).join("")!==Z})?function(D,_){for(var Z=y(D),ae=arguments.length,V=1,ie=g.f,U=x.f;ae>V;)for(var G=j(arguments[V++]),K=ie?I(v(G),ie(G)):v(G),W=K.length,Ne=0,ge;W>Ne;)ge=K[Ne++],(!d||f(U,G,ge))&&(Z[ge]=G[ge]);return Z}:N}),"./node_modules/core-js/internals/object-create.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/an-object.js"),u=i("./node_modules/core-js/internals/object-define-properties.js"),f=i("./node_modules/core-js/internals/enum-bug-keys.js"),m=i("./node_modules/core-js/internals/hidden-keys.js"),v=i("./node_modules/core-js/internals/html.js"),g=i("./node_modules/core-js/internals/document-create-element.js"),x=i("./node_modules/core-js/internals/shared-key.js"),y=">",j="<",N="prototype",T="script",I=x("IE_PROTO"),C=function(){},D=function(ie){return j+T+y+ie+j+"/"+T+y},_=function(ie){ie.write(D("")),ie.close();var U=ie.parentWindow.Object;return ie=null,U},Z=function(){var ie=g("iframe"),U="java"+T+":",G;return ie.style.display="none",v.appendChild(ie),ie.src=String(U),G=ie.contentWindow.document,G.open(),G.write(D("document.F=Object")),G.close(),G.F},ae,V=function(){try{ae=new ActiveXObject("htmlfile")}catch{}V=typeof document<"u"?document.domain&&ae?_(ae):Z():_(ae);for(var ie=f.length;ie--;)delete V[N][f[ie]];return V()};m[I]=!0,l.exports=Object.create||function(U,G){var K;return U!==null?(C[N]=d(U),K=new C,C[N]=null,K[I]=U):K=V(),G===void 0?K:u.f(K,G)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=i("./node_modules/core-js/internals/object-define-property.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/to-indexed-object.js"),g=i("./node_modules/core-js/internals/object-keys.js");h.f=d&&!u?Object.defineProperties:function(y,j){m(y);for(var N=v(j),T=g(j),I=T.length,C=0,D;I>C;)f.f(y,D=T[C++],N[D]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/ie8-dom-define.js"),f=i("./node_modules/core-js/internals/v8-prototype-define-bug.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/to-property-key.js"),g=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,j="enumerable",N="configurable",T="writable";h.f=d?f?function(C,D,_){if(m(C),D=v(D),m(_),typeof C=="function"&&D==="prototype"&&"value"in _&&T in _&&!_[T]){var Z=y(C,D);Z&&Z[T]&&(C[D]=_.value,_={configurable:N in _?_[N]:Z[N],enumerable:j in _?_[j]:Z[j],writable:!1})}return x(C,D,_)}:x:function(C,D,_){if(m(C),D=v(D),m(_),u)try{return x(C,D,_)}catch{}if("get"in _||"set"in _)throw new g("Accessors not supported");return"value"in _&&(C[D]=_.value),C}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/object-property-is-enumerable.js"),m=i("./node_modules/core-js/internals/create-property-descriptor.js"),v=i("./node_modules/core-js/internals/to-indexed-object.js"),g=i("./node_modules/core-js/internals/to-property-key.js"),x=i("./node_modules/core-js/internals/has-own-property.js"),y=i("./node_modules/core-js/internals/ie8-dom-define.js"),j=Object.getOwnPropertyDescriptor;h.f=d?j:function(T,I){if(T=v(T),I=g(I),y)try{return j(T,I)}catch{}if(x(T,I))return m(!u(f.f,T,I),T[I])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/classof-raw.js"),u=i("./node_modules/core-js/internals/to-indexed-object.js"),f=i("./node_modules/core-js/internals/object-get-own-property-names.js").f,m=i("./node_modules/core-js/internals/array-slice.js"),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],g=function(x){try{return f(x)}catch{return m(v)}};l.exports.f=function(y){return v&&d(y)==="Window"?g(y):f(u(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/object-keys-internal.js"),u=i("./node_modules/core-js/internals/enum-bug-keys.js"),f=u.concat("length","prototype");h.f=Object.getOwnPropertyNames||function(v){return d(v,f)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(l,h){h.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/has-own-property.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/to-object.js"),m=i("./node_modules/core-js/internals/shared-key.js"),v=i("./node_modules/core-js/internals/correct-prototype-getter.js"),g=m("IE_PROTO"),x=Object,y=x.prototype;l.exports=v?x.getPrototypeOf:function(j){var N=f(j);if(d(N,g))return N[g];var T=N.constructor;return u(T)&&N instanceof T?T.prototype:N instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/is-object.js"),f=i("./node_modules/core-js/internals/classof-raw.js"),m=i("./node_modules/core-js/internals/array-buffer-non-extensible.js"),v=Object.isExtensible,g=d(function(){});l.exports=g||m?function(y){return!u(y)||m&&f(y)==="ArrayBuffer"?!1:v?v(y):!0}:v}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=d({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=i("./node_modules/core-js/internals/to-indexed-object.js"),m=i("./node_modules/core-js/internals/array-includes.js").indexOf,v=i("./node_modules/core-js/internals/hidden-keys.js"),g=d([].push);l.exports=function(x,y){var j=f(x),N=0,T=[],I;for(I in j)!u(v,I)&&u(j,I)&&g(T,I);for(;y.length>N;)u(j,I=y[N++])&&(~m(T,I)||g(T,I));return T}}),"./node_modules/core-js/internals/object-keys.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/object-keys-internal.js"),u=i("./node_modules/core-js/internals/enum-bug-keys.js");l.exports=Object.keys||function(m){return d(m,u)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(l,h){var i={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,u=d&&!i.call({1:2},1);h.f=u?function(m){var v=d(this,m);return!!v&&v.enumerable}:i}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),u=i("./node_modules/core-js/internals/is-object.js"),f=i("./node_modules/core-js/internals/require-object-coercible.js"),m=i("./node_modules/core-js/internals/a-possible-prototype.js");l.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var v=!1,g={},x;try{x=d(Object.prototype,"__proto__","set"),x(g,[]),v=g instanceof Array}catch{}return function(j,N){return f(j),m(N),u(j)&&(v?x(j,N):j.__proto__=N),j}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-string-tag-support.js"),u=i("./node_modules/core-js/internals/classof.js");l.exports=d?{}.toString:function(){return"[object "+u(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/is-object.js"),m=TypeError;l.exports=function(v,g){var x,y;if(g==="string"&&u(x=v.toString)&&!f(y=d(x,v))||u(x=v.valueOf)&&!f(y=d(x,v))||g!=="string"&&u(x=v.toString)&&!f(y=d(x,v)))return y;throw new m("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/get-built-in.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/object-get-own-property-names.js"),m=i("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=i("./node_modules/core-js/internals/an-object.js"),g=u([].concat);l.exports=d("Reflect","ownKeys")||function(y){var j=f.f(v(y)),N=m.f;return N?g(j,N(y)):j}}),"./node_modules/core-js/internals/parse-json-string.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=SyntaxError,m=parseInt,v=String.fromCharCode,g=d("".charAt),x=d("".slice),y=d(/./.exec),j={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},N=/^[\da-f]{4}$/i,T=/^[\u0000-\u001F]$/;l.exports=function(I,C){for(var D=!0,_="";C<I.length;){var Z=g(I,C);if(Z==="\\"){var ae=x(I,C,C+2);if(u(j,ae))_+=j[ae],C+=2;else if(ae==="\\u"){C+=2;var V=x(I,C,C+4);if(!y(N,V))throw new f("Bad Unicode escape at: "+C);_+=v(m(V,16)),C+=4}else throw new f('Unknown escape sequence: "'+ae+'"')}else if(Z==='"'){D=!1,C++;break}else{if(y(T,Z))throw new f("Bad control character in string literal at: "+C);_+=Z,C++}}if(D)throw new f("Unterminated string at: "+C);return{value:_,end:C}}}),"./node_modules/core-js/internals/path.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js");l.exports=d}),"./node_modules/core-js/internals/perform.js":(function(l){l.exports=function(h){try{return{error:!1,value:h()}}catch(i){return{error:!0,value:i}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/promise-native-constructor.js"),f=i("./node_modules/core-js/internals/is-callable.js"),m=i("./node_modules/core-js/internals/is-forced.js"),v=i("./node_modules/core-js/internals/inspect-source.js"),g=i("./node_modules/core-js/internals/well-known-symbol.js"),x=i("./node_modules/core-js/internals/environment.js"),y=i("./node_modules/core-js/internals/is-pure.js"),j=i("./node_modules/core-js/internals/environment-v8-version.js"),N=u&&u.prototype,T=g("species"),I=!1,C=f(d.PromiseRejectionEvent),D=m("Promise",function(){var _=v(u),Z=_!==String(u);if(!Z&&j===66||y&&!(N.catch&&N.finally))return!0;if(!j||j<51||!/native code/.test(_)){var ae=new u(function(U){U(1)}),V=function(U){U(function(){},function(){})},ie=ae.constructor={};if(ie[T]=V,I=ae.then(function(){})instanceof V,!I)return!0}return!Z&&(x==="BROWSER"||x==="DENO")&&!C});l.exports={CONSTRUCTOR:D,REJECTION_EVENT:C,SUBCLASSING:I}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js");l.exports=d.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/an-object.js"),u=i("./node_modules/core-js/internals/is-object.js"),f=i("./node_modules/core-js/internals/new-promise-capability.js");l.exports=function(m,v){if(d(m),u(v)&&v.constructor===m)return v;var g=f.f(m),x=g.resolve;return x(v),g.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/promise-native-constructor.js"),u=i("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=i("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;l.exports=f||!u(function(m){d.all(m).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(l){var h=function(){this.head=null,this.tail=null};h.prototype={add:function(i){var d={item:i,next:null},u=this.tail;u?u.next=d:this.head=d,this.tail=d},get:function(){var i=this.head;if(i){var d=this.head=i.next;return d===null&&(this.tail=null),i.item}}},l.exports=h}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/an-object.js"),f=i("./node_modules/core-js/internals/is-callable.js"),m=i("./node_modules/core-js/internals/classof-raw.js"),v=i("./node_modules/core-js/internals/regexp-exec.js"),g=TypeError;l.exports=function(x,y){var j=x.exec;if(f(j)){var N=d(j,x,y);return N!==null&&u(N),N}if(m(x)==="RegExp")return d(v,x,y);throw new g("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/to-string.js"),m=i("./node_modules/core-js/internals/regexp-flags.js"),v=i("./node_modules/core-js/internals/regexp-sticky-helpers.js"),g=i("./node_modules/core-js/internals/shared.js"),x=i("./node_modules/core-js/internals/object-create.js"),y=i("./node_modules/core-js/internals/internal-state.js").get,j=i("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),N=i("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),T=g("native-string-replace",String.prototype.replace),I=RegExp.prototype.exec,C=I,D=u("".charAt),_=u("".indexOf),Z=u("".replace),ae=u("".slice),V=(function(){var K=/a/,W=/b*/g;return d(I,K,"a"),d(I,W,"a"),K.lastIndex!==0||W.lastIndex!==0})(),ie=v.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0,G=V||U||ie||j||N;G&&(C=function(W){var Ne=this,ge=y(Ne),Ee=f(W),Fe=ge.raw,he,le,ve,se,re,Ie,Te;if(Fe)return Fe.lastIndex=Ne.lastIndex,he=d(C,Fe,Ee),Ne.lastIndex=Fe.lastIndex,he;var xe=ge.groups,pe=ie&&Ne.sticky,X=d(m,Ne),fe=Ne.source,oe=0,We=Ee;if(pe&&(X=Z(X,"y",""),_(X,"g")===-1&&(X+="g"),We=ae(Ee,Ne.lastIndex),Ne.lastIndex>0&&(!Ne.multiline||Ne.multiline&&D(Ee,Ne.lastIndex-1)!==`
`)&&(fe="(?: "+fe+")",We=" "+We,oe++),le=new RegExp("^(?:"+fe+")",X)),U&&(le=new RegExp("^"+fe+"$(?!\\s)",X)),V&&(ve=Ne.lastIndex),se=d(I,pe?le:Ne,We),pe?se?(se.input=ae(se.input,oe),se[0]=ae(se[0],oe),se.index=Ne.lastIndex,Ne.lastIndex+=se[0].length):Ne.lastIndex=0:V&&se&&(Ne.lastIndex=Ne.global?se.index+se[0].length:ve),U&&se&&se.length>1&&d(T,se[0],le,function(){for(re=1;re<arguments.length-2;re++)arguments[re]===void 0&&(se[re]=void 0)}),se&&xe)for(se.groups=Ie=x(null),re=0;re<xe.length;re++)Te=xe[re],Ie[Te[0]]=se[Te[1]];return se}),l.exports=C}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/fails.js"),f=d.RegExp,m=!u(function(){var v=!0;try{f(".","d")}catch{v=!1}var g={},x="",y=v?"dgimsy":"gimsy",j=function(C,D){Object.defineProperty(g,C,{get:function(){return x+=D,!0}})},N={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};v&&(N.hasIndices="d");for(var T in N)j(T,N[T]);var I=Object.getOwnPropertyDescriptor(f.prototype,"flags").get.call(g);return I!==y||x!==y});l.exports={correct:m}}),"./node_modules/core-js/internals/regexp-flags.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/an-object.js");l.exports=function(){var u=d(this),f="";return u.hasIndices&&(f+="d"),u.global&&(f+="g"),u.ignoreCase&&(f+="i"),u.multiline&&(f+="m"),u.dotAll&&(f+="s"),u.unicode&&(f+="u"),u.unicodeSets&&(f+="v"),u.sticky&&(f+="y"),f}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=i("./node_modules/core-js/internals/object-is-prototype-of.js"),m=i("./node_modules/core-js/internals/regexp-flags-detection.js"),v=i("./node_modules/core-js/internals/regexp-flags.js"),g=RegExp.prototype;l.exports=m.correct?function(x){return x.flags}:function(x){return!m.correct&&f(g,x)&&!u(x,"flags")?d(v,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=u.RegExp,m=d(function(){var x=f("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),v=m||d(function(){return!f("a","y").sticky}),g=m||d(function(){var x=f("^r","gy");return x.lastIndex=2,x.exec("str")!==null});l.exports={BROKEN_CARET:g,MISSED_STICKY:v,UNSUPPORTED_Y:m}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=u.RegExp;l.exports=d(function(){var m=f(".","s");return!(m.dotAll&&m.test(`
`)&&m.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=u.RegExp;l.exports=d(function(){var m=f("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-null-or-undefined.js"),u=TypeError;l.exports=function(f){if(d(f))throw new u("Can't call method on "+f);return f}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/descriptors.js"),f=Object.getOwnPropertyDescriptor;l.exports=function(m){if(!u)return d[m];var v=f(d,m);return v&&v.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/function-apply.js"),f=i("./node_modules/core-js/internals/is-callable.js"),m=i("./node_modules/core-js/internals/environment.js"),v=i("./node_modules/core-js/internals/environment-user-agent.js"),g=i("./node_modules/core-js/internals/array-slice.js"),x=i("./node_modules/core-js/internals/validate-arguments-length.js"),y=d.Function,j=/MSIE .\./.test(v)||m==="BUN"&&(function(){var N=d.Bun.version.split(".");return N.length<3||N[0]==="0"&&(N[1]<3||N[1]==="3"&&N[2]==="0")})();l.exports=function(N,T){var I=T?2:1;return j?function(C,D){var _=x(arguments.length,1)>I,Z=f(C)?C:y(C),ae=_?g(arguments,I):[],V=_?function(){u(Z,this,ae)}:Z;return T?N(V,D):N(V)}:N}}),"./node_modules/core-js/internals/set-clone.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/set-helpers.js"),u=i("./node_modules/core-js/internals/set-iterate.js"),f=d.Set,m=d.add;l.exports=function(v){var g=new f;return u(v,function(x){m(g,x)}),g}}),"./node_modules/core-js/internals/set-difference.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-helpers.js"),f=i("./node_modules/core-js/internals/set-clone.js"),m=i("./node_modules/core-js/internals/set-size.js"),v=i("./node_modules/core-js/internals/get-set-record.js"),g=i("./node_modules/core-js/internals/set-iterate.js"),x=i("./node_modules/core-js/internals/iterate-simple.js"),y=u.has,j=u.remove;l.exports=function(T){var I=d(this),C=v(T),D=f(I);return m(I)<=C.size?g(I,function(_){C.includes(_)&&j(D,_)}):x(C.getIterator(),function(_){y(D,_)&&j(D,_)}),D}}),"./node_modules/core-js/internals/set-helpers.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=Set.prototype;l.exports={Set,add:d(u.add),has:d(u.has),remove:d(u.delete),proto:u}}),"./node_modules/core-js/internals/set-intersection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-helpers.js"),f=i("./node_modules/core-js/internals/set-size.js"),m=i("./node_modules/core-js/internals/get-set-record.js"),v=i("./node_modules/core-js/internals/set-iterate.js"),g=i("./node_modules/core-js/internals/iterate-simple.js"),x=u.Set,y=u.add,j=u.has;l.exports=function(T){var I=d(this),C=m(T),D=new x;return f(I)>C.size?g(C.getIterator(),function(_){j(I,_)&&y(D,_)}):v(I,function(_){C.includes(_)&&y(D,_)}),D}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-helpers.js").has,f=i("./node_modules/core-js/internals/set-size.js"),m=i("./node_modules/core-js/internals/get-set-record.js"),v=i("./node_modules/core-js/internals/set-iterate.js"),g=i("./node_modules/core-js/internals/iterate-simple.js"),x=i("./node_modules/core-js/internals/iterator-close.js");l.exports=function(j){var N=d(this),T=m(j);if(f(N)<=T.size)return v(N,function(C){if(T.includes(C))return!1},!0)!==!1;var I=T.getIterator();return g(I,function(C){if(u(N,C))return x(I,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-size.js"),f=i("./node_modules/core-js/internals/set-iterate.js"),m=i("./node_modules/core-js/internals/get-set-record.js");l.exports=function(g){var x=d(this),y=m(g);return u(x)>y.size?!1:f(x,function(j){if(!y.includes(j))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-helpers.js").has,f=i("./node_modules/core-js/internals/set-size.js"),m=i("./node_modules/core-js/internals/get-set-record.js"),v=i("./node_modules/core-js/internals/iterate-simple.js"),g=i("./node_modules/core-js/internals/iterator-close.js");l.exports=function(y){var j=d(this),N=m(y);if(f(j)<N.size)return!1;var T=N.getIterator();return v(T,function(I){if(!u(j,I))return g(T,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/iterate-simple.js"),f=i("./node_modules/core-js/internals/set-helpers.js"),m=f.Set,v=f.proto,g=d(v.forEach),x=d(v.keys),y=x(new m).next;l.exports=function(j,N,T){return T?u({iterator:x(j),next:y},N):g(j,N)}}),"./node_modules/core-js/internals/set-size.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),u=i("./node_modules/core-js/internals/set-helpers.js");l.exports=d(u.proto,"size","get")||function(f){return f.size}}),"./node_modules/core-js/internals/set-species.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/get-built-in.js"),u=i("./node_modules/core-js/internals/define-built-in-accessor.js"),f=i("./node_modules/core-js/internals/well-known-symbol.js"),m=i("./node_modules/core-js/internals/descriptors.js"),v=f("species");l.exports=function(g){var x=d(g);m&&x&&!x[v]&&u(x,v,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-helpers.js"),f=i("./node_modules/core-js/internals/set-clone.js"),m=i("./node_modules/core-js/internals/get-set-record.js"),v=i("./node_modules/core-js/internals/iterate-simple.js"),g=u.add,x=u.has,y=u.remove;l.exports=function(N){var T=d(this),I=m(N).getIterator(),C=f(T);return v(I,function(D){x(T,D)?y(C,D):g(C,D)}),C}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/object-define-property.js").f,u=i("./node_modules/core-js/internals/has-own-property.js"),f=i("./node_modules/core-js/internals/well-known-symbol.js"),m=f("toStringTag");l.exports=function(v,g,x){v&&!x&&(v=v.prototype),v&&!u(v,m)&&d(v,m,{configurable:!0,value:g})}}),"./node_modules/core-js/internals/set-union.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/a-set.js"),u=i("./node_modules/core-js/internals/set-helpers.js").add,f=i("./node_modules/core-js/internals/set-clone.js"),m=i("./node_modules/core-js/internals/get-set-record.js"),v=i("./node_modules/core-js/internals/iterate-simple.js");l.exports=function(x){var y=d(this),j=m(x).getIterator(),N=f(y);return v(j,function(T){u(N,T)}),N}}),"./node_modules/core-js/internals/shared-key.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/shared.js"),u=i("./node_modules/core-js/internals/uid.js"),f=d("keys");l.exports=function(m){return f[m]||(f[m]=u(m))}}),"./node_modules/core-js/internals/shared-store.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/is-pure.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/define-global-property.js"),m="__core-js_shared__",v=l.exports=u[m]||f(m,{});(v.versions||(v.versions=[])).push({version:"3.47.0",mode:d?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/shared-store.js");l.exports=function(u,f){return d[u]||(d[u]=f||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/an-object.js"),u=i("./node_modules/core-js/internals/a-constructor.js"),f=i("./node_modules/core-js/internals/is-null-or-undefined.js"),m=i("./node_modules/core-js/internals/well-known-symbol.js"),v=m("species");l.exports=function(g,x){var y=d(g).constructor,j;return y===void 0||f(j=d(y)[v])?x:u(j)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/fails.js");l.exports=function(u){return d(function(){var f=""[u]('"');return f!==f.toLowerCase()||f.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=i("./node_modules/core-js/internals/to-string.js"),m=i("./node_modules/core-js/internals/require-object-coercible.js"),v=d("".charAt),g=d("".charCodeAt),x=d("".slice),y=function(j){return function(N,T){var I=f(m(N)),C=u(T),D=I.length,_,Z;return C<0||C>=D?j?"":void 0:(_=g(I,C),_<55296||_>56319||C+1===D||(Z=g(I,C+1))<56320||Z>57343?j?v(I,C):_:j?x(I,C,C+2):(_-55296<<10)+(Z-56320)+65536)}};l.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-name.js").PROPER,u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/whitespaces.js"),m="";l.exports=function(v){return u(function(){return!!f[v]()||m[v]()!==m||d&&f[v].name!==v})}}),"./node_modules/core-js/internals/string-trim.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=i("./node_modules/core-js/internals/require-object-coercible.js"),f=i("./node_modules/core-js/internals/to-string.js"),m=i("./node_modules/core-js/internals/whitespaces.js"),v=d("".replace),g=RegExp("^["+m+"]+"),x=RegExp("(^|[^"+m+"])["+m+"]+$"),y=function(j){return function(N){var T=f(u(N));return j&1&&(T=v(T,g,"")),j&2&&(T=v(T,x,"$1")),T}};l.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/environment-v8-version.js"),u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/global-this.js"),m=f.String;l.exports=!!Object.getOwnPropertySymbols&&!u(function(){var v=Symbol("symbol detection");return!m(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&d&&d<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/get-built-in.js"),f=i("./node_modules/core-js/internals/well-known-symbol.js"),m=i("./node_modules/core-js/internals/define-built-in.js");l.exports=function(){var v=u("Symbol"),g=v&&v.prototype,x=g&&g.valueOf,y=f("toPrimitive");g&&!g[y]&&m(g,y,function(j){return d(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=d&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/function-apply.js"),f=i("./node_modules/core-js/internals/function-bind-context.js"),m=i("./node_modules/core-js/internals/is-callable.js"),v=i("./node_modules/core-js/internals/has-own-property.js"),g=i("./node_modules/core-js/internals/fails.js"),x=i("./node_modules/core-js/internals/html.js"),y=i("./node_modules/core-js/internals/array-slice.js"),j=i("./node_modules/core-js/internals/document-create-element.js"),N=i("./node_modules/core-js/internals/validate-arguments-length.js"),T=i("./node_modules/core-js/internals/environment-is-ios.js"),I=i("./node_modules/core-js/internals/environment-is-node.js"),C=d.setImmediate,D=d.clearImmediate,_=d.process,Z=d.Dispatch,ae=d.Function,V=d.MessageChannel,ie=d.String,U=0,G={},K="onreadystatechange",W,Ne,ge,Ee;g(function(){W=d.location});var Fe=function(se){if(v(G,se)){var re=G[se];delete G[se],re()}},he=function(se){return function(){Fe(se)}},le=function(se){Fe(se.data)},ve=function(se){d.postMessage(ie(se),W.protocol+"//"+W.host)};(!C||!D)&&(C=function(re){N(arguments.length,1);var Ie=m(re)?re:ae(re),Te=y(arguments,1);return G[++U]=function(){u(Ie,void 0,Te)},Ne(U),U},D=function(re){delete G[re]},I?Ne=function(se){_.nextTick(he(se))}:Z&&Z.now?Ne=function(se){Z.now(he(se))}:V&&!T?(ge=new V,Ee=ge.port2,ge.port1.onmessage=le,Ne=f(Ee.postMessage,Ee)):d.addEventListener&&m(d.postMessage)&&!d.importScripts&&W&&W.protocol!=="file:"&&!g(ve)?(Ne=ve,d.addEventListener("message",le,!1)):K in j("script")?Ne=function(se){x.appendChild(j("script"))[K]=function(){x.removeChild(this),Fe(se)}}:Ne=function(se){setTimeout(he(se),0)}),l.exports={set:C,clear:D}}),"./node_modules/core-js/internals/this-number-value.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=d(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-integer-or-infinity.js"),u=Math.max,f=Math.min;l.exports=function(m,v){var g=d(m);return g<0?u(g+v,0):f(g,v)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/indexed-object.js"),u=i("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(f){return d(u(f))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/math-trunc.js");l.exports=function(u){var f=+u;return f!==f||f===0?0:d(f)}}),"./node_modules/core-js/internals/to-length.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-integer-or-infinity.js"),u=Math.min;l.exports=function(f){var m=d(f);return m>0?u(m,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/require-object-coercible.js"),u=Object;l.exports=function(f){return u(d(f))}}),"./node_modules/core-js/internals/to-primitive.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/is-object.js"),f=i("./node_modules/core-js/internals/is-symbol.js"),m=i("./node_modules/core-js/internals/get-method.js"),v=i("./node_modules/core-js/internals/ordinary-to-primitive.js"),g=i("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=g("toPrimitive");l.exports=function(j,N){if(!u(j)||f(j))return j;var T=m(j,y),I;if(T){if(N===void 0&&(N="default"),I=d(T,j,N),!u(I)||f(I))return I;throw new x("Can't convert object to primitive value")}return N===void 0&&(N="number"),v(j,N)}}),"./node_modules/core-js/internals/to-property-key.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-primitive.js"),u=i("./node_modules/core-js/internals/is-symbol.js");l.exports=function(f){var m=d(f,"string");return u(m)?m:m+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/get-built-in.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=i("./node_modules/core-js/internals/is-iterable.js"),m=i("./node_modules/core-js/internals/is-object.js"),v=d("Set"),g=function(x){return m(x)&&typeof x.size=="number"&&u(x.has)&&u(x.keys)};l.exports=function(x){return g(x)?x:f(x)?new v(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol.js"),u=d("toStringTag"),f={};f[u]="z",l.exports=String(f)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/classof.js"),u=String;l.exports=function(f){if(d(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return u(f)}}),"./node_modules/core-js/internals/try-to-string.js":(function(l){var h=String;l.exports=function(i){try{return h(i)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-uncurry-this.js"),u=0,f=Math.random(),m=d(1.1.toString);l.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+m(++u+f,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/fails.js");l.exports=d&&u(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(l){var h=TypeError;l.exports=function(i,d){if(i<d)throw new h("Not enough arguments");return i}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/is-callable.js"),f=d.WeakMap;l.exports=u(f)&&/native code/.test(String(f))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/path.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=i("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),m=i("./node_modules/core-js/internals/object-define-property.js").f;l.exports=function(v){var g=d.Symbol||(d.Symbol={});u(g,v)||m(g,v,{value:f.f(v)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol.js");h.f=d}),"./node_modules/core-js/internals/well-known-symbol.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/shared.js"),f=i("./node_modules/core-js/internals/has-own-property.js"),m=i("./node_modules/core-js/internals/uid.js"),v=i("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=i("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=d.Symbol,y=u("wks"),j=g?x.for||x:x&&x.withoutSetter||m;l.exports=function(N){return f(y,N)||(y[N]=v&&f(x,N)?x[N]:j("Symbol."+N)),y[N]}}),"./node_modules/core-js/internals/whitespaces.js":(function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/fails.js"),f=i("./node_modules/core-js/internals/is-array.js"),m=i("./node_modules/core-js/internals/is-object.js"),v=i("./node_modules/core-js/internals/to-object.js"),g=i("./node_modules/core-js/internals/length-of-array-like.js"),x=i("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=i("./node_modules/core-js/internals/create-property.js"),j=i("./node_modules/core-js/internals/array-species-create.js"),N=i("./node_modules/core-js/internals/array-method-has-species-support.js"),T=i("./node_modules/core-js/internals/well-known-symbol.js"),I=i("./node_modules/core-js/internals/environment-v8-version.js"),C=T("isConcatSpreadable"),D=I>=51||!u(function(){var ae=[];return ae[C]=!1,ae.concat()[0]!==ae}),_=function(ae){if(!m(ae))return!1;var V=ae[C];return V!==void 0?!!V:f(ae)},Z=!D||!N("concat");d({target:"Array",proto:!0,arity:1,forced:Z},{concat:function(V){var ie=v(this),U=j(ie,0),G=0,K,W,Ne,ge,Ee;for(K=-1,Ne=arguments.length;K<Ne;K++)if(Ee=K===-1?ie:arguments[K],_(Ee))for(ge=g(Ee),x(G+ge),W=0;W<ge;W++,G++)W in Ee&&y(U,G,Ee[W]);else x(G+1),y(U,G++,Ee);return U.length=G,U}})}),"./node_modules/core-js/modules/es.array.from.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/array-from.js"),f=i("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=!f(function(v){Array.from(v)});d({target:"Array",stat:!0,forced:m},{from:u})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=i("./node_modules/core-js/internals/array-includes.js").indexOf,m=i("./node_modules/core-js/internals/array-method-is-strict.js"),v=u([].indexOf),g=!!v&&1/v([1],1,-0)<0,x=g||!m("indexOf");d({target:"Array",proto:!0,forced:x},{indexOf:function(j){var N=arguments.length>1?arguments[1]:void 0;return g?v(this,j,N)||0:f(this,j,N)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-indexed-object.js"),u=i("./node_modules/core-js/internals/add-to-unscopables.js"),f=i("./node_modules/core-js/internals/iterators.js"),m=i("./node_modules/core-js/internals/internal-state.js"),v=i("./node_modules/core-js/internals/object-define-property.js").f,g=i("./node_modules/core-js/internals/iterator-define.js"),x=i("./node_modules/core-js/internals/create-iter-result-object.js"),y=i("./node_modules/core-js/internals/is-pure.js"),j=i("./node_modules/core-js/internals/descriptors.js"),N="Array Iterator",T=m.set,I=m.getterFor(N);l.exports=g(Array,"Array",function(D,_){T(this,{type:N,target:d(D),index:0,kind:_})},function(){var D=I(this),_=D.target,Z=D.index++;if(!_||Z>=_.length)return D.target=null,x(void 0,!0);switch(D.kind){case"keys":return x(Z,!1);case"values":return x(_[Z],!1)}return x([Z,_[Z]],!1)},"values");var C=f.Arguments=f.Array;if(u("keys"),u("values"),u("entries"),!y&&j&&C.name!=="values")try{v(C,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/indexed-object.js"),m=i("./node_modules/core-js/internals/to-indexed-object.js"),v=i("./node_modules/core-js/internals/array-method-is-strict.js"),g=u([].join),x=f!==Object,y=x||!v("join",",");d({target:"Array",proto:!0,forced:y},{join:function(N){return g(m(this),N===void 0?",":N)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/array-iteration.js").map,f=i("./node_modules/core-js/internals/array-method-has-species-support.js"),m=f("map");d({target:"Array",proto:!0,forced:!m},{map:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/array-reduce.js").left,f=i("./node_modules/core-js/internals/array-method-is-strict.js"),m=i("./node_modules/core-js/internals/environment-v8-version.js"),v=i("./node_modules/core-js/internals/environment-is-node.js"),g=!v&&m>79&&m<83,x=g||!f("reduce");d({target:"Array",proto:!0,forced:x},{reduce:function(j){var N=arguments.length;return u(this,j,N,N>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/is-array.js"),m=u([].reverse),v=[1,2];d({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),m(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/is-array.js"),f=i("./node_modules/core-js/internals/is-constructor.js"),m=i("./node_modules/core-js/internals/is-object.js"),v=i("./node_modules/core-js/internals/to-absolute-index.js"),g=i("./node_modules/core-js/internals/length-of-array-like.js"),x=i("./node_modules/core-js/internals/to-indexed-object.js"),y=i("./node_modules/core-js/internals/create-property.js"),j=i("./node_modules/core-js/internals/well-known-symbol.js"),N=i("./node_modules/core-js/internals/array-method-has-species-support.js"),T=i("./node_modules/core-js/internals/array-slice.js"),I=N("slice"),C=j("species"),D=Array,_=Math.max;d({target:"Array",proto:!0,forced:!I},{slice:function(ae,V){var ie=x(this),U=g(ie),G=v(ae,U),K=v(V===void 0?U:V,U),W,Ne,ge;if(u(ie)&&(W=ie.constructor,f(W)&&(W===D||u(W.prototype))?W=void 0:m(W)&&(W=W[C],W===null&&(W=void 0)),W===D||W===void 0))return T(ie,G,K);for(Ne=new(W===void 0?D:W)(_(K-G,0)),ge=0;G<K;G++,ge++)G in ie&&y(Ne,ge,ie[G]);return Ne.length=ge,Ne}})}),"./node_modules/core-js/modules/es.function.name.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/descriptors.js"),u=i("./node_modules/core-js/internals/function-name.js").EXISTS,f=i("./node_modules/core-js/internals/function-uncurry-this.js"),m=i("./node_modules/core-js/internals/define-built-in-accessor.js"),v=Function.prototype,g=f(v.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=f(x.exec),j="name";d&&!u&&m(v,j,{configurable:!0,get:function(){try{return y(x,g(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/an-instance.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/is-callable.js"),g=i("./node_modules/core-js/internals/object-get-prototype-of.js"),x=i("./node_modules/core-js/internals/define-built-in-accessor.js"),y=i("./node_modules/core-js/internals/create-property.js"),j=i("./node_modules/core-js/internals/fails.js"),N=i("./node_modules/core-js/internals/has-own-property.js"),T=i("./node_modules/core-js/internals/well-known-symbol.js"),I=i("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,C=i("./node_modules/core-js/internals/descriptors.js"),D=i("./node_modules/core-js/internals/is-pure.js"),_="constructor",Z="Iterator",ae=T("toStringTag"),V=TypeError,ie=u[Z],U=D||!v(ie)||ie.prototype!==I||!j(function(){ie({})}),G=function(){if(f(this,I),g(this)===I)throw new V("Abstract class Iterator not directly constructable")},K=function(W,Ne){C?x(I,W,{configurable:!0,get:function(){return Ne},set:function(ge){if(m(this),this===I)throw new V("You can't redefine this property");N(this,W)?this[W]=ge:y(this,W,ge)}}):I[W]=Ne};N(I,ae)||K(ae,Z),(U||!N(I,_)||I[_]===Object)&&K(_,G),G.prototype=I,d({global:!0,constructor:!0,forced:U},{Iterator:G})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/iterate.js"),m=i("./node_modules/core-js/internals/a-callable.js"),v=i("./node_modules/core-js/internals/an-object.js"),g=i("./node_modules/core-js/internals/get-iterator-direct.js"),x=i("./node_modules/core-js/internals/iterator-close.js"),y=i("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),j=y("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:j},{forEach:function(T){v(this);try{m(T)}catch(D){x(this,"throw",D)}if(j)return u(j,this,T);var I=g(this),C=0;f(I,function(D){T(D,C++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/a-callable.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/get-iterator-direct.js"),g=i("./node_modules/core-js/internals/iterator-create-proxy.js"),x=i("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=i("./node_modules/core-js/internals/iterator-close.js"),j=i("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),N=i("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),T=i("./node_modules/core-js/internals/is-pure.js"),I=!T&&!j("map",function(){}),C=!T&&!I&&N("map",TypeError),D=T||I||C,_=g(function(){var Z=this.iterator,ae=m(u(this.next,Z)),V=this.done=!!ae.done;if(!V)return x(Z,this.mapper,[ae.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:D},{map:function(ae){m(this);try{f(ae)}catch(V){y(this,"throw",V)}return C?u(C,this,ae):new _(v(this),{mapper:ae})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/get-built-in.js"),f=i("./node_modules/core-js/internals/function-apply.js"),m=i("./node_modules/core-js/internals/function-call.js"),v=i("./node_modules/core-js/internals/function-uncurry-this.js"),g=i("./node_modules/core-js/internals/fails.js"),x=i("./node_modules/core-js/internals/is-array.js"),y=i("./node_modules/core-js/internals/is-callable.js"),j=i("./node_modules/core-js/internals/is-raw-json.js"),N=i("./node_modules/core-js/internals/is-symbol.js"),T=i("./node_modules/core-js/internals/classof-raw.js"),I=i("./node_modules/core-js/internals/to-string.js"),C=i("./node_modules/core-js/internals/array-slice.js"),D=i("./node_modules/core-js/internals/parse-json-string.js"),_=i("./node_modules/core-js/internals/uid.js"),Z=i("./node_modules/core-js/internals/symbol-constructor-detection.js"),ae=i("./node_modules/core-js/internals/native-raw-json.js"),V=String,ie=u("JSON","stringify"),U=v(/./.exec),G=v("".charAt),K=v("".charCodeAt),W=v("".replace),Ne=v("".slice),ge=v([].push),Ee=v(1.1.toString),Fe=/[\uD800-\uDFFF]/g,he=/^[\uD800-\uDBFF]$/,le=/^[\uDC00-\uDFFF]$/,ve=_(),se=ve.length,re=!Z||g(function(){var X=u("Symbol")("stringify detection");return ie([X])!=="[null]"||ie({a:X})!=="{}"||ie(Object(X))!=="{}"}),Ie=g(function(){return ie("\uDF06\uD834")!=='"\\udf06\\ud834"'||ie("\uDEAD")!=='"\\udead"'}),Te=re?function(X,fe){var oe=C(arguments),We=pe(fe);if(!(!y(We)&&(X===void 0||N(X))))return oe[1]=function(Ue,ue){if(y(We)&&(ue=m(We,this,V(Ue),ue)),!N(ue))return ue},f(ie,null,oe)}:ie,xe=function(X,fe,oe){var We=G(oe,fe-1),Ue=G(oe,fe+1);return U(he,X)&&!U(le,Ue)||U(le,X)&&!U(he,We)?"\\u"+Ee(K(X,0),16):X},pe=function(X){if(y(X))return X;if(x(X)){for(var fe=X.length,oe=[],We=0;We<fe;We++){var Ue=X[We];typeof Ue=="string"?ge(oe,Ue):(typeof Ue=="number"||T(Ue)==="Number"||T(Ue)==="String")&&ge(oe,I(Ue))}var ue=oe.length,be=!0;return function(Le,ot){if(be)return be=!1,ot;if(x(this))return ot;for(var Tt=0;Tt<ue;Tt++)if(oe[Tt]===Le)return ot}}};ie&&d({target:"JSON",stat:!0,arity:3,forced:re||Ie||!ae},{stringify:function(fe,oe,We){var Ue=pe(oe),ue=[],be=Te(fe,function(Ir,fr){var He=y(Ue)?m(Ue,this,V(Ir),fr):fr;return!ae&&j(He)?ve+(ge(ue,He.rawJSON)-1):He},We);if(typeof be!="string"||(Ie&&(be=W(be,Fe,xe)),ae))return be;for(var Le="",ot=be.length,Tt=0;Tt<ot;Tt++){var Mt=G(be,Tt);if(Mt==='"'){var Nt=D(be,++Tt).end-1,qt=Ne(be,Tt,Nt);Le+=Ne(qt,0,se)===ve?ue[Ne(qt,se)]:'"'+qt+'"',Tt=Nt}else Le+=Mt}return Le}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/is-pure.js"),f=i("./node_modules/core-js/internals/descriptors.js"),m=i("./node_modules/core-js/internals/global-this.js"),v=i("./node_modules/core-js/internals/path.js"),g=i("./node_modules/core-js/internals/function-uncurry-this.js"),x=i("./node_modules/core-js/internals/is-forced.js"),y=i("./node_modules/core-js/internals/has-own-property.js"),j=i("./node_modules/core-js/internals/inherit-if-required.js"),N=i("./node_modules/core-js/internals/object-is-prototype-of.js"),T=i("./node_modules/core-js/internals/is-symbol.js"),I=i("./node_modules/core-js/internals/to-primitive.js"),C=i("./node_modules/core-js/internals/fails.js"),D=i("./node_modules/core-js/internals/object-get-own-property-names.js").f,_=i("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Z=i("./node_modules/core-js/internals/object-define-property.js").f,ae=i("./node_modules/core-js/internals/this-number-value.js"),V=i("./node_modules/core-js/internals/string-trim.js").trim,ie="Number",U=m[ie],G=v[ie],K=U.prototype,W=m.TypeError,Ne=g("".slice),ge=g("".charCodeAt),Ee=function(re){var Ie=I(re,"number");return typeof Ie=="bigint"?Ie:Fe(Ie)},Fe=function(re){var Ie=I(re,"number"),Te,xe,pe,X,fe,oe,We,Ue;if(T(Ie))throw new W("Cannot convert a Symbol value to a number");if(typeof Ie=="string"&&Ie.length>2){if(Ie=V(Ie),Te=ge(Ie,0),Te===43||Te===45){if(xe=ge(Ie,2),xe===88||xe===120)return NaN}else if(Te===48){switch(ge(Ie,1)){case 66:case 98:pe=2,X=49;break;case 79:case 111:pe=8,X=55;break;default:return+Ie}for(fe=Ne(Ie,2),oe=fe.length,We=0;We<oe;We++)if(Ue=ge(fe,We),Ue<48||Ue>X)return NaN;return parseInt(fe,pe)}}return+Ie},he=x(ie,!U(" 0o1")||!U("0b1")||U("+0x1")),le=function(re){return N(K,re)&&C(function(){ae(re)})},ve=function(Ie){var Te=arguments.length<1?0:U(Ee(Ie));return le(this)?j(Object(Te),this,ve):Te};ve.prototype=K,he&&!u&&(K.constructor=ve),d({global:!0,constructor:!0,wrap:!0,forced:he},{Number:ve});var se=function(re,Ie){for(var Te=f?D(Ie):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),xe=0,pe;Te.length>xe;xe++)y(Ie,pe=Te[xe])&&!y(re,pe)&&Z(re,pe,_(Ie,pe))};u&&G&&se(v[ie],G),(he||u)&&se(v[ie],U)}),"./node_modules/core-js/modules/es.object.assign.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==u},{assign:u})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/symbol-constructor-detection.js"),f=i("./node_modules/core-js/internals/fails.js"),m=i("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=i("./node_modules/core-js/internals/to-object.js"),g=!u||f(function(){m.f(1)});d({target:"Object",stat:!0,forced:g},{getOwnPropertySymbols:function(y){var j=m.f;return j?j(v(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/to-object.js"),f=i("./node_modules/core-js/internals/object-keys.js"),m=i("./node_modules/core-js/internals/fails.js"),v=m(function(){f(1)});d({target:"Object",stat:!0,forced:v},{keys:function(x){return f(u(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/to-string-tag-support.js"),u=i("./node_modules/core-js/internals/define-built-in.js"),f=i("./node_modules/core-js/internals/object-to-string.js");d||u(Object.prototype,"toString",f,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/a-callable.js"),m=i("./node_modules/core-js/internals/new-promise-capability.js"),v=i("./node_modules/core-js/internals/perform.js"),g=i("./node_modules/core-js/internals/iterate.js"),x=i("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:x},{all:function(j){var N=this,T=m.f(N),I=T.resolve,C=T.reject,D=v(function(){var _=f(N.resolve),Z=[],ae=0,V=1;g(j,function(ie){var U=ae++,G=!1;V++,u(_,N,ie).then(function(K){G||(G=!0,Z[U]=K,--V||I(Z))},C)}),--V||I(Z)});return D.error&&C(D.value),T.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/is-pure.js"),f=i("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=i("./node_modules/core-js/internals/promise-native-constructor.js"),v=i("./node_modules/core-js/internals/get-built-in.js"),g=i("./node_modules/core-js/internals/is-callable.js"),x=i("./node_modules/core-js/internals/define-built-in.js"),y=m&&m.prototype;if(d({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(N){return this.then(void 0,N)}}),!u&&g(m)){var j=v("Promise").prototype.catch;y.catch!==j&&x(y,"catch",j,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/is-pure.js"),f=i("./node_modules/core-js/internals/environment-is-node.js"),m=i("./node_modules/core-js/internals/global-this.js"),v=i("./node_modules/core-js/internals/path.js"),g=i("./node_modules/core-js/internals/function-call.js"),x=i("./node_modules/core-js/internals/define-built-in.js"),y=i("./node_modules/core-js/internals/object-set-prototype-of.js"),j=i("./node_modules/core-js/internals/set-to-string-tag.js"),N=i("./node_modules/core-js/internals/set-species.js"),T=i("./node_modules/core-js/internals/a-callable.js"),I=i("./node_modules/core-js/internals/is-callable.js"),C=i("./node_modules/core-js/internals/is-object.js"),D=i("./node_modules/core-js/internals/an-instance.js"),_=i("./node_modules/core-js/internals/species-constructor.js"),Z=i("./node_modules/core-js/internals/task.js").set,ae=i("./node_modules/core-js/internals/microtask.js"),V=i("./node_modules/core-js/internals/host-report-errors.js"),ie=i("./node_modules/core-js/internals/perform.js"),U=i("./node_modules/core-js/internals/queue.js"),G=i("./node_modules/core-js/internals/internal-state.js"),K=i("./node_modules/core-js/internals/promise-native-constructor.js"),W=i("./node_modules/core-js/internals/promise-constructor-detection.js"),Ne=i("./node_modules/core-js/internals/new-promise-capability.js"),ge="Promise",Ee=W.CONSTRUCTOR,Fe=W.REJECTION_EVENT,he=W.SUBCLASSING,le=G.getterFor(ge),ve=G.set,se=K&&K.prototype,re=K,Ie=se,Te=m.TypeError,xe=m.document,pe=m.process,X=Ne.f,fe=X,oe=!!(xe&&xe.createEvent&&m.dispatchEvent),We="unhandledrejection",Ue="rejectionhandled",ue=0,be=1,Le=2,ot=1,Tt=2,Mt,Nt,qt,Ir,fr=function(cr){var wr;return C(cr)&&I(wr=cr.then)?wr:!1},He=function(cr,wr){var Hr=wr.value,Wr=wr.state===be,hn=Wr?cr.ok:cr.fail,Rr=cr.resolve,Rn=cr.reject,Dr=cr.domain,Pr,gn,sn;try{hn?(Wr||(wr.rejection===Tt&&nn(wr),wr.rejection=ot),hn===!0?Pr=Hr:(Dr&&Dr.enter(),Pr=hn(Hr),Dr&&(Dr.exit(),sn=!0)),Pr===cr.promise?Rn(new Te("Promise-chain cycle")):(gn=fr(Pr))?g(gn,Pr,Rr,Rn):Rr(Pr)):Rn(Hr)}catch(yt){Dr&&!sn&&Dr.exit(),Rn(yt)}},Yt=function(cr,wr){cr.notified||(cr.notified=!0,ae(function(){for(var Hr=cr.reactions,Wr;Wr=Hr.get();)He(Wr,cr);cr.notified=!1,wr&&!cr.rejection&&Qr(cr)}))},Ct=function(cr,wr,Hr){var Wr,hn;oe?(Wr=xe.createEvent("Event"),Wr.promise=wr,Wr.reason=Hr,Wr.initEvent(cr,!1,!0),m.dispatchEvent(Wr)):Wr={promise:wr,reason:Hr},!Fe&&(hn=m["on"+cr])?hn(Wr):cr===We&&V("Unhandled promise rejection",Hr)},Qr=function(cr){g(Z,m,function(){var wr=cr.facade,Hr=cr.value,Wr=hr(cr),hn;if(Wr&&(hn=ie(function(){f?pe.emit("unhandledRejection",Hr,wr):Ct(We,wr,Hr)}),cr.rejection=f||hr(cr)?Tt:ot,hn.error))throw hn.value})},hr=function(cr){return cr.rejection!==ot&&!cr.parent},nn=function(cr){g(Z,m,function(){var wr=cr.facade;f?pe.emit("rejectionHandled",wr):Ct(Ue,wr,cr.value)})},Gr=function(cr,wr,Hr){return function(Wr){cr(wr,Wr,Hr)}},Vr=function(cr,wr,Hr){cr.done||(cr.done=!0,Hr&&(cr=Hr),cr.value=wr,cr.state=Le,Yt(cr,!0))},Sr=function(cr,wr,Hr){if(!cr.done){cr.done=!0,Hr&&(cr=Hr);try{if(cr.facade===wr)throw new Te("Promise can't be resolved itself");var Wr=fr(wr);Wr?ae(function(){var hn={done:!1};try{g(Wr,wr,Gr(Sr,hn,cr),Gr(Vr,hn,cr))}catch(Rr){Vr(hn,Rr,cr)}}):(cr.value=wr,cr.state=be,Yt(cr,!1))}catch(hn){Vr({done:!1},hn,cr)}}};if(Ee&&(re=function(wr){D(this,Ie),T(wr),g(Mt,this);var Hr=le(this);try{wr(Gr(Sr,Hr),Gr(Vr,Hr))}catch(Wr){Vr(Hr,Wr)}},Ie=re.prototype,Mt=function(wr){ve(this,{type:ge,done:!1,notified:!1,parent:!1,reactions:new U,rejection:!1,state:ue,value:null})},Mt.prototype=x(Ie,"then",function(wr,Hr){var Wr=le(this),hn=X(_(this,re));return Wr.parent=!0,hn.ok=I(wr)?wr:!0,hn.fail=I(Hr)&&Hr,hn.domain=f?pe.domain:void 0,Wr.state===ue?Wr.reactions.add(hn):ae(function(){He(hn,Wr)}),hn.promise}),Nt=function(){var cr=new Mt,wr=le(cr);this.promise=cr,this.resolve=Gr(Sr,wr),this.reject=Gr(Vr,wr)},Ne.f=X=function(cr){return cr===re||cr===qt?new Nt(cr):fe(cr)},!u&&I(K)&&se!==Object.prototype)){Ir=se.then,he||x(se,"then",function(wr,Hr){var Wr=this;return new re(function(hn,Rr){g(Ir,Wr,hn,Rr)}).then(wr,Hr)},{unsafe:!0});try{delete se.constructor}catch{}y&&y(se,Ie)}d({global:!0,constructor:!0,wrap:!0,forced:Ee},{Promise:re}),qt=v.Promise,j(re,ge,!1,!0),N(ge)}),"./node_modules/core-js/modules/es.promise.js":(function(l,h,i){i("./node_modules/core-js/modules/es.promise.constructor.js"),i("./node_modules/core-js/modules/es.promise.all.js"),i("./node_modules/core-js/modules/es.promise.catch.js"),i("./node_modules/core-js/modules/es.promise.race.js"),i("./node_modules/core-js/modules/es.promise.reject.js"),i("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/a-callable.js"),m=i("./node_modules/core-js/internals/new-promise-capability.js"),v=i("./node_modules/core-js/internals/perform.js"),g=i("./node_modules/core-js/internals/iterate.js"),x=i("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:x},{race:function(j){var N=this,T=m.f(N),I=T.reject,C=v(function(){var D=f(N.resolve);g(j,function(_){u(D,N,_).then(T.resolve,I)})});return C.error&&I(C.value),T.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/new-promise-capability.js"),f=i("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d({target:"Promise",stat:!0,forced:f},{reject:function(v){var g=u.f(this),x=g.reject;return x(v),g.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/get-built-in.js"),f=i("./node_modules/core-js/internals/is-pure.js"),m=i("./node_modules/core-js/internals/promise-native-constructor.js"),v=i("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,g=i("./node_modules/core-js/internals/promise-resolve.js"),x=u("Promise"),y=f&&!v;d({target:"Promise",stat:!0,forced:f||v},{resolve:function(N){return g(y&&this===x?m:this,N)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/regexp-exec.js");d({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(l,h,i){i("./node_modules/core-js/modules/es.regexp.exec.js");var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/is-callable.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/to-string.js"),g=(function(){var y=!1,j=/[ac]/;return j.exec=function(){return y=!0,/./.exec.apply(this,arguments)},j.test("abc")===!0&&y})(),x=/./.test;d({target:"RegExp",proto:!0,forced:!g},{test:function(y){var j=m(this),N=v(y),T=j.exec;if(!f(T))return u(x,j,N);var I=u(T,j,N);return I===null?!1:(m(I),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-name.js").PROPER,u=i("./node_modules/core-js/internals/define-built-in.js"),f=i("./node_modules/core-js/internals/an-object.js"),m=i("./node_modules/core-js/internals/to-string.js"),v=i("./node_modules/core-js/internals/fails.js"),g=i("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,j=y[x],N=v(function(){return j.call({source:"a",flags:"b"})!=="/a/b"}),T=d&&j.name!==x;(N||T)&&u(y,x,function(){var C=f(this),D=m(C.source),_=m(g(C));return"/"+D+"/"+_},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/collection.js"),u=i("./node_modules/core-js/internals/collection-strong.js");d("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},u)}),"./node_modules/core-js/modules/es.set.js":(function(l,h,i){i("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=i("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,m=i("./node_modules/core-js/internals/to-length.js"),v=i("./node_modules/core-js/internals/to-string.js"),g=i("./node_modules/core-js/internals/not-a-regexp.js"),x=i("./node_modules/core-js/internals/require-object-coercible.js"),y=i("./node_modules/core-js/internals/correct-is-regexp-logic.js"),j=i("./node_modules/core-js/internals/is-pure.js"),N=u("".slice),T=Math.min,I=y("endsWith"),C=!j&&!I&&!!(function(){var D=f(String.prototype,"endsWith");return D&&!D.writable})();d({target:"String",proto:!0,forced:!C&&!I},{endsWith:function(_){var Z=v(x(this));g(_);var ae=arguments.length>1?arguments[1]:void 0,V=Z.length,ie=ae===void 0?V:T(m(ae),V),U=v(_);return N(Z,ie-U.length,ie)===U}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/not-a-regexp.js"),m=i("./node_modules/core-js/internals/require-object-coercible.js"),v=i("./node_modules/core-js/internals/to-string.js"),g=i("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=u("".indexOf);d({target:"String",proto:!0,forced:!g("includes")},{includes:function(j){return!!~x(v(m(this)),v(f(j)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/string-multibyte.js").charAt,u=i("./node_modules/core-js/internals/to-string.js"),f=i("./node_modules/core-js/internals/internal-state.js"),m=i("./node_modules/core-js/internals/iterator-define.js"),v=i("./node_modules/core-js/internals/create-iter-result-object.js"),g="String Iterator",x=f.set,y=f.getterFor(g);m(String,"String",function(j){x(this,{type:g,string:u(j),index:0})},function(){var N=y(this),T=N.string,I=N.index,C;return I>=T.length?v(void 0,!0):(C=d(T,I),N.index+=C.length,v(C,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/create-html.js"),f=i("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:f("link")},{link:function(v){return u(this,"a","href",v)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/is-object.js"),g=i("./node_modules/core-js/internals/to-length.js"),x=i("./node_modules/core-js/internals/to-string.js"),y=i("./node_modules/core-js/internals/require-object-coercible.js"),j=i("./node_modules/core-js/internals/get-method.js"),N=i("./node_modules/core-js/internals/advance-string-index.js"),T=i("./node_modules/core-js/internals/regexp-get-flags.js"),I=i("./node_modules/core-js/internals/regexp-exec-abstract.js"),C=u("".indexOf);f("match",function(D,_,Z){return[function(V){var ie=y(this),U=v(V)?j(V,D):void 0;return U?d(U,V,ie):new RegExp(V)[D](x(ie))},function(ae){var V=m(this),ie=x(ae),U=Z(_,V,ie);if(U.done)return U.value;var G=x(T(V));if(C(G,"g")===-1)return I(V,ie);var K=C(G,"u")!==-1;V.lastIndex=0;for(var W=[],Ne=0,ge;(ge=I(V,ie))!==null;){var Ee=x(ge[0]);W[Ne]=Ee,Ee===""&&(V.lastIndex=N(ie,g(V.lastIndex),K)),Ne++}return Ne===0?null:W}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-apply.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/function-uncurry-this.js"),m=i("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),v=i("./node_modules/core-js/internals/fails.js"),g=i("./node_modules/core-js/internals/an-object.js"),x=i("./node_modules/core-js/internals/is-callable.js"),y=i("./node_modules/core-js/internals/is-object.js"),j=i("./node_modules/core-js/internals/to-integer-or-infinity.js"),N=i("./node_modules/core-js/internals/to-length.js"),T=i("./node_modules/core-js/internals/to-string.js"),I=i("./node_modules/core-js/internals/require-object-coercible.js"),C=i("./node_modules/core-js/internals/advance-string-index.js"),D=i("./node_modules/core-js/internals/get-method.js"),_=i("./node_modules/core-js/internals/get-substitution.js"),Z=i("./node_modules/core-js/internals/regexp-get-flags.js"),ae=i("./node_modules/core-js/internals/regexp-exec-abstract.js"),V=i("./node_modules/core-js/internals/well-known-symbol.js"),ie=V("replace"),U=Math.max,G=Math.min,K=f([].concat),W=f([].push),Ne=f("".indexOf),ge=f("".slice),Ee=function(ve){return ve===void 0?ve:String(ve)},Fe=(function(){return"a".replace(/./,"$0")==="$0"})(),he=(function(){return/./[ie]?/./[ie]("a","$0")==="":!1})(),le=!v(function(){var ve=/./;return ve.exec=function(){var se=[];return se.groups={a:"7"},se},"".replace(ve,"$<a>")!=="7"});m("replace",function(ve,se,re){var Ie=he?"$":"$0";return[function(xe,pe){var X=I(this),fe=y(xe)?D(xe,ie):void 0;return fe?u(fe,xe,X,pe):u(se,T(X),xe,pe)},function(Te,xe){var pe=g(this),X=T(Te);if(typeof xe=="string"&&Ne(xe,Ie)===-1&&Ne(xe,"$<")===-1){var fe=re(se,pe,X,xe);if(fe.done)return fe.value}var oe=x(xe);oe||(xe=T(xe));var We=T(Z(pe)),Ue=Ne(We,"g")!==-1,ue;Ue&&(ue=Ne(We,"u")!==-1,pe.lastIndex=0);for(var be=[],Le;Le=ae(pe,X),!(Le===null||(W(be,Le),!Ue));){var ot=T(Le[0]);ot===""&&(pe.lastIndex=C(X,N(pe.lastIndex),ue))}for(var Tt="",Mt=0,Nt=0;Nt<be.length;Nt++){Le=be[Nt];for(var qt=T(Le[0]),Ir=U(G(j(Le.index),X.length),0),fr=[],He,Yt=1;Yt<Le.length;Yt++)W(fr,Ee(Le[Yt]));var Ct=Le.groups;if(oe){var Qr=K([qt],fr,Ir,X);Ct!==void 0&&W(Qr,Ct),He=T(d(xe,void 0,Qr))}else He=_(qt,X,Ir,fr,Ct,xe);Ir>=Mt&&(Tt+=ge(X,Mt,Ir)+He,Mt=Ir+qt.length)}return Tt+ge(X,Mt)}]},!le||!Fe||he)}),"./node_modules/core-js/modules/es.string.split.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/function-call.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),m=i("./node_modules/core-js/internals/an-object.js"),v=i("./node_modules/core-js/internals/is-object.js"),g=i("./node_modules/core-js/internals/require-object-coercible.js"),x=i("./node_modules/core-js/internals/species-constructor.js"),y=i("./node_modules/core-js/internals/advance-string-index.js"),j=i("./node_modules/core-js/internals/to-length.js"),N=i("./node_modules/core-js/internals/to-string.js"),T=i("./node_modules/core-js/internals/get-method.js"),I=i("./node_modules/core-js/internals/regexp-exec-abstract.js"),C=i("./node_modules/core-js/internals/regexp-sticky-helpers.js"),D=i("./node_modules/core-js/internals/fails.js"),_=C.UNSUPPORTED_Y,Z=4294967295,ae=Math.min,V=u([].push),ie=u("".slice),U=!D(function(){var K=/(?:)/,W=K.exec;K.exec=function(){return W.apply(this,arguments)};var Ne="ab".split(K);return Ne.length!==2||Ne[0]!=="a"||Ne[1]!=="b"}),G="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",function(K,W,Ne){var ge="0".split(void 0,0).length?function(Ee,Fe){return Ee===void 0&&Fe===0?[]:d(W,this,Ee,Fe)}:W;return[function(Fe,he){var le=g(this),ve=v(Fe)?T(Fe,K):void 0;return ve?d(ve,Fe,le,he):d(ge,N(le),Fe,he)},function(Ee,Fe){var he=m(this),le=N(Ee);if(!G){var ve=Ne(ge,he,le,Fe,ge!==W);if(ve.done)return ve.value}var se=x(he,RegExp),re=he.unicode,Ie=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(_?"g":"y"),Te=new se(_?"^(?:"+he.source+")":he,Ie),xe=Fe===void 0?Z:Fe>>>0;if(xe===0)return[];if(le.length===0)return I(Te,le)===null?[le]:[];for(var pe=0,X=0,fe=[];X<le.length;){Te.lastIndex=_?0:X;var oe=I(Te,_?ie(le,X):le),We;if(oe===null||(We=ae(j(Te.lastIndex+(_?X:0)),le.length))===pe)X=y(le,X,re);else{if(V(fe,ie(le,pe,X)),fe.length===xe)return fe;for(var Ue=1;Ue<=oe.length-1;Ue++)if(V(fe,oe[Ue]),fe.length===xe)return fe;X=pe=We}}return V(fe,ie(le,pe)),fe}]},G||!U,_)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=i("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,m=i("./node_modules/core-js/internals/to-length.js"),v=i("./node_modules/core-js/internals/to-string.js"),g=i("./node_modules/core-js/internals/not-a-regexp.js"),x=i("./node_modules/core-js/internals/require-object-coercible.js"),y=i("./node_modules/core-js/internals/correct-is-regexp-logic.js"),j=i("./node_modules/core-js/internals/is-pure.js"),N=u("".slice),T=Math.min,I=y("startsWith"),C=!j&&!I&&!!(function(){var D=f(String.prototype,"startsWith");return D&&!D.writable})();d({target:"String",proto:!0,forced:!C&&!I},{startsWith:function(_){var Z=v(x(this));g(_);var ae=m(T(arguments.length>1?arguments[1]:void 0,Z.length)),V=v(_);return N(Z,ae,ae+V.length)===V}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/string-trim.js").trim,f=i("./node_modules/core-js/internals/string-trim-forced.js");d({target:"String",proto:!0,forced:f("trim")},{trim:function(){return u(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/function-call.js"),m=i("./node_modules/core-js/internals/function-uncurry-this.js"),v=i("./node_modules/core-js/internals/is-pure.js"),g=i("./node_modules/core-js/internals/descriptors.js"),x=i("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=i("./node_modules/core-js/internals/fails.js"),j=i("./node_modules/core-js/internals/has-own-property.js"),N=i("./node_modules/core-js/internals/object-is-prototype-of.js"),T=i("./node_modules/core-js/internals/an-object.js"),I=i("./node_modules/core-js/internals/to-indexed-object.js"),C=i("./node_modules/core-js/internals/to-property-key.js"),D=i("./node_modules/core-js/internals/to-string.js"),_=i("./node_modules/core-js/internals/create-property-descriptor.js"),Z=i("./node_modules/core-js/internals/object-create.js"),ae=i("./node_modules/core-js/internals/object-keys.js"),V=i("./node_modules/core-js/internals/object-get-own-property-names.js"),ie=i("./node_modules/core-js/internals/object-get-own-property-names-external.js"),U=i("./node_modules/core-js/internals/object-get-own-property-symbols.js"),G=i("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),K=i("./node_modules/core-js/internals/object-define-property.js"),W=i("./node_modules/core-js/internals/object-define-properties.js"),Ne=i("./node_modules/core-js/internals/object-property-is-enumerable.js"),ge=i("./node_modules/core-js/internals/define-built-in.js"),Ee=i("./node_modules/core-js/internals/define-built-in-accessor.js"),Fe=i("./node_modules/core-js/internals/shared.js"),he=i("./node_modules/core-js/internals/shared-key.js"),le=i("./node_modules/core-js/internals/hidden-keys.js"),ve=i("./node_modules/core-js/internals/uid.js"),se=i("./node_modules/core-js/internals/well-known-symbol.js"),re=i("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Ie=i("./node_modules/core-js/internals/well-known-symbol-define.js"),Te=i("./node_modules/core-js/internals/symbol-define-to-primitive.js"),xe=i("./node_modules/core-js/internals/set-to-string-tag.js"),pe=i("./node_modules/core-js/internals/internal-state.js"),X=i("./node_modules/core-js/internals/array-iteration.js").forEach,fe=he("hidden"),oe="Symbol",We="prototype",Ue=pe.set,ue=pe.getterFor(oe),be=Object[We],Le=u.Symbol,ot=Le&&Le[We],Tt=u.RangeError,Mt=u.TypeError,Nt=u.QObject,qt=G.f,Ir=K.f,fr=ie.f,He=Ne.f,Yt=m([].push),Ct=Fe("symbols"),Qr=Fe("op-symbols"),hr=Fe("wks"),nn=!Nt||!Nt[We]||!Nt[We].findChild,Gr=function(Dr,Pr,gn){var sn=qt(be,Pr);sn&&delete be[Pr],Ir(Dr,Pr,gn),sn&&Dr!==be&&Ir(be,Pr,sn)},Vr=g&&y(function(){return Z(Ir({},"a",{get:function(){return Ir(this,"a",{value:7}).a}})).a!==7})?Gr:Ir,Sr=function(Dr,Pr){var gn=Ct[Dr]=Z(ot);return Ue(gn,{type:oe,tag:Dr,description:Pr}),g||(gn.description=Pr),gn},cr=function(Pr,gn,sn){Pr===be&&cr(Qr,gn,sn),T(Pr);var yt=C(gn);return T(sn),j(Ct,yt)?(sn.enumerable?(j(Pr,fe)&&Pr[fe][yt]&&(Pr[fe][yt]=!1),sn=Z(sn,{enumerable:_(0,!1)})):(j(Pr,fe)||Ir(Pr,fe,_(1,Z(null))),Pr[fe][yt]=!0),Vr(Pr,yt,sn)):Ir(Pr,yt,sn)},wr=function(Pr,gn){T(Pr);var sn=I(gn),yt=ae(sn).concat(Rn(sn));return X(yt,function(Nr){(!g||f(Wr,sn,Nr))&&cr(Pr,Nr,sn[Nr])}),Pr},Hr=function(Pr,gn){return gn===void 0?Z(Pr):wr(Z(Pr),gn)},Wr=function(Pr){var gn=C(Pr),sn=f(He,this,gn);return this===be&&j(Ct,gn)&&!j(Qr,gn)?!1:sn||!j(this,gn)||!j(Ct,gn)||j(this,fe)&&this[fe][gn]?sn:!0},hn=function(Pr,gn){var sn=I(Pr),yt=C(gn);if(!(sn===be&&j(Ct,yt)&&!j(Qr,yt))){var Nr=qt(sn,yt);return Nr&&j(Ct,yt)&&!(j(sn,fe)&&sn[fe][yt])&&(Nr.enumerable=!0),Nr}},Rr=function(Pr){var gn=fr(I(Pr)),sn=[];return X(gn,function(yt){!j(Ct,yt)&&!j(le,yt)&&Yt(sn,yt)}),sn},Rn=function(Dr){var Pr=Dr===be,gn=fr(Pr?Qr:I(Dr)),sn=[];return X(gn,function(yt){j(Ct,yt)&&(!Pr||j(be,yt))&&Yt(sn,Ct[yt])}),sn};x||(Le=function(){if(N(ot,this))throw new Mt("Symbol is not a constructor");var Pr=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),gn=ve(Pr),sn=function(yt){var Nr=this===void 0?u:this;Nr===be&&f(sn,Qr,yt),j(Nr,fe)&&j(Nr[fe],gn)&&(Nr[fe][gn]=!1);var ln=_(1,yt);try{Vr(Nr,gn,ln)}catch(Fn){if(!(Fn instanceof Tt))throw Fn;Gr(Nr,gn,ln)}};return g&&nn&&Vr(be,gn,{configurable:!0,set:sn}),Sr(gn,Pr)},ot=Le[We],ge(ot,"toString",function(){return ue(this).tag}),ge(Le,"withoutSetter",function(Dr){return Sr(ve(Dr),Dr)}),Ne.f=Wr,K.f=cr,W.f=wr,G.f=hn,V.f=ie.f=Rr,U.f=Rn,re.f=function(Dr){return Sr(se(Dr),Dr)},g&&(Ee(ot,"description",{configurable:!0,get:function(){return ue(this).description}}),v||ge(be,"propertyIsEnumerable",Wr,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Le}),X(ae(hr),function(Dr){Ie(Dr)}),d({target:oe,stat:!0,forced:!x},{useSetter:function(){nn=!0},useSimple:function(){nn=!1}}),d({target:"Object",stat:!0,forced:!x,sham:!g},{create:Hr,defineProperty:cr,defineProperties:wr,getOwnPropertyDescriptor:hn}),d({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Rr}),Te(),xe(Le,oe),le[fe]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/descriptors.js"),f=i("./node_modules/core-js/internals/global-this.js"),m=i("./node_modules/core-js/internals/function-uncurry-this.js"),v=i("./node_modules/core-js/internals/has-own-property.js"),g=i("./node_modules/core-js/internals/is-callable.js"),x=i("./node_modules/core-js/internals/object-is-prototype-of.js"),y=i("./node_modules/core-js/internals/to-string.js"),j=i("./node_modules/core-js/internals/define-built-in-accessor.js"),N=i("./node_modules/core-js/internals/copy-constructor-properties.js"),T=f.Symbol,I=T&&T.prototype;if(u&&g(T)&&(!("description"in I)||T().description!==void 0)){var C={},D=function(){var K=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),W=x(I,this)?new T(K):K===void 0?T():T(K);return K===""&&(C[W]=!0),W};N(D,T),D.prototype=I,I.constructor=D;var _=String(T("description detection"))==="Symbol(description detection)",Z=m(I.valueOf),ae=m(I.toString),V=/^Symbol\((.*)\)[^)]+$/,ie=m("".replace),U=m("".slice);j(I,"description",{configurable:!0,get:function(){var K=Z(this);if(v(C,K))return"";var W=ae(K),Ne=_?U(W,7,-1):ie(W,V,"$1");return Ne===""?void 0:Ne}}),d({global:!0,constructor:!0,forced:!0},{Symbol:D})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/get-built-in.js"),f=i("./node_modules/core-js/internals/has-own-property.js"),m=i("./node_modules/core-js/internals/to-string.js"),v=i("./node_modules/core-js/internals/shared.js"),g=i("./node_modules/core-js/internals/symbol-registry-detection.js"),x=v("string-to-symbol-registry"),y=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!g},{for:function(j){var N=m(j);if(f(x,N))return x[N];var T=u("Symbol")(N);return x[N]=T,y[T]=N,T}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/well-known-symbol-define.js");d("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(l,h,i){i("./node_modules/core-js/modules/es.symbol.constructor.js"),i("./node_modules/core-js/modules/es.symbol.for.js"),i("./node_modules/core-js/modules/es.symbol.key-for.js"),i("./node_modules/core-js/modules/es.json.stringify.js"),i("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/has-own-property.js"),f=i("./node_modules/core-js/internals/is-symbol.js"),m=i("./node_modules/core-js/internals/try-to-string.js"),v=i("./node_modules/core-js/internals/shared.js"),g=i("./node_modules/core-js/internals/symbol-registry-detection.js"),x=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!g},{keyFor:function(j){if(!f(j))throw new TypeError(m(j)+" is not a symbol");if(u(x,j))return x[j]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(l,h,i){i("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(l,h,i){i("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(l,h,i){i("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/a-set.js"),f=i("./node_modules/core-js/internals/set-helpers.js").add;d({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var v=u(this),g=0,x=arguments.length;g<x;g++)f(v,arguments[g]);return v}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/a-set.js"),f=i("./node_modules/core-js/internals/set-helpers.js").remove;d({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var v=u(this),g=!0,x,y=0,j=arguments.length;y<j;y++)x=f(v,arguments[y]),g=g&&x;return!!g}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-bind-context.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{every:function(g){var x=f(this),y=u(g,arguments.length>1?arguments[1]:void 0);return m(x,function(j){if(!y(j,j,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-bind-context.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-helpers.js"),v=i("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,x=m.add;d({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(j){var N=f(this),T=u(j,arguments.length>1?arguments[1]:void 0),I=new g;return v(N,function(C){T(C,C,N)&&x(I,C)}),I}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-bind-context.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{find:function(g){var x=f(this),y=u(g,arguments.length>1?arguments[1]:void 0),j=m(x,function(N){if(y(N,N,x))return{value:N}},!0);return j&&j.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-intersection.js");d({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-is-disjoint-from.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-is-subset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-is-superset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-uncurry-this.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-iterate.js"),v=i("./node_modules/core-js/internals/to-string.js"),g=u([].join),x=u([].push);d({target:"Set",proto:!0,real:!0,forced:!0},{join:function(j){var N=f(this),T=j===void 0?",":v(j),I=[];return m(N,function(C){x(I,C)}),g(I,T)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-bind-context.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-helpers.js"),v=i("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,x=m.add;d({target:"Set",proto:!0,real:!0,forced:!0},{map:function(j){var N=f(this),T=u(j,arguments.length>1?arguments[1]:void 0),I=new g;return v(N,function(C){x(I,T(C,C,N))}),I}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/a-callable.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-iterate.js"),v=TypeError;d({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=f(this),j=arguments.length<2,N=j?void 0:arguments[1];if(u(x),m(y,function(T){j?(j=!1,N=T):N=x(N,T,T,y)}),j)throw new v("Reduce of empty set with no initial value");return N}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-bind-context.js"),f=i("./node_modules/core-js/internals/a-set.js"),m=i("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{some:function(g){var x=f(this),y=u(g,arguments.length>1?arguments[1]:void 0);return m(x,function(j){if(y(j,j,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-symmetric-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/function-call.js"),f=i("./node_modules/core-js/internals/to-set-like.js"),m=i("./node_modules/core-js/internals/set-union.js");d({target:"Set",proto:!0,real:!0,forced:!0},{union:function(g){return u(m,this,f(g))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/dom-iterables.js"),f=i("./node_modules/core-js/internals/dom-token-list-prototype.js"),m=i("./node_modules/core-js/internals/array-for-each.js"),v=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=function(y){if(y&&y.forEach!==m)try{v(y,"forEach",m)}catch{y.forEach=m}};for(var x in u)u[x]&&g(d[x]&&d[x].prototype);g(f)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/global-this.js"),u=i("./node_modules/core-js/internals/dom-iterables.js"),f=i("./node_modules/core-js/internals/dom-token-list-prototype.js"),m=i("./node_modules/core-js/modules/es.array.iterator.js"),v=i("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=i("./node_modules/core-js/internals/set-to-string-tag.js"),x=i("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),j=m.values,N=function(I,C){if(I){if(I[y]!==j)try{v(I,y,j)}catch{I[y]=j}if(g(I,C,!0),u[C]){for(var D in m)if(I[D]!==m[D])try{v(I,D,m[D])}catch{I[D]=m[D]}}}};for(var T in u)N(d[T]&&d[T].prototype,T);N(f,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/schedulers-fix.js"),m=f(u.setInterval,!0);d({global:!0,bind:!0,forced:u.setInterval!==m},{setInterval:m})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(l,h,i){var d=i("./node_modules/core-js/internals/export.js"),u=i("./node_modules/core-js/internals/global-this.js"),f=i("./node_modules/core-js/internals/schedulers-fix.js"),m=f(u.setTimeout,!0);d({global:!0,bind:!0,forced:u.setTimeout!==m},{setTimeout:m})}),"./node_modules/core-js/modules/web.timers.js":(function(l,h,i){i("./node_modules/core-js/modules/web.set-interval.js"),i("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(l,h,i){i.r(h),i.d(h,{default:function(){return Gr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:d,setPrototypeOf:u,isFrozen:f,getPrototypeOf:m,getOwnPropertyDescriptor:v}=Object;let{freeze:g,seal:x,create:y}=Object,{apply:j,construct:N}=typeof Reflect<"u"&&Reflect;g||(g=function(Sr){return Sr}),x||(x=function(Sr){return Sr}),j||(j=function(Sr,cr){for(var wr=arguments.length,Hr=new Array(wr>2?wr-2:0),Wr=2;Wr<wr;Wr++)Hr[Wr-2]=arguments[Wr];return Sr.apply(cr,Hr)}),N||(N=function(Sr){for(var cr=arguments.length,wr=new Array(cr>1?cr-1:0),Hr=1;Hr<cr;Hr++)wr[Hr-1]=arguments[Hr];return new Sr(...wr)});const T=ge(Array.prototype.forEach),I=ge(Array.prototype.lastIndexOf),C=ge(Array.prototype.pop),D=ge(Array.prototype.push),_=ge(Array.prototype.splice),Z=ge(String.prototype.toLowerCase),ae=ge(String.prototype.toString),V=ge(String.prototype.match),ie=ge(String.prototype.replace),U=ge(String.prototype.indexOf),G=ge(String.prototype.trim),K=ge(Object.prototype.hasOwnProperty),W=ge(RegExp.prototype.test),Ne=Ee(TypeError);function ge(Vr){return function(Sr){Sr instanceof RegExp&&(Sr.lastIndex=0);for(var cr=arguments.length,wr=new Array(cr>1?cr-1:0),Hr=1;Hr<cr;Hr++)wr[Hr-1]=arguments[Hr];return j(Vr,Sr,wr)}}function Ee(Vr){return function(){for(var Sr=arguments.length,cr=new Array(Sr),wr=0;wr<Sr;wr++)cr[wr]=arguments[wr];return N(Vr,cr)}}function Fe(Vr,Sr){let cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z;u&&u(Vr,null);let wr=Sr.length;for(;wr--;){let Hr=Sr[wr];if(typeof Hr=="string"){const Wr=cr(Hr);Wr!==Hr&&(f(Sr)||(Sr[wr]=Wr),Hr=Wr)}Vr[Hr]=!0}return Vr}function he(Vr){for(let Sr=0;Sr<Vr.length;Sr++)K(Vr,Sr)||(Vr[Sr]=null);return Vr}function le(Vr){const Sr=y(null);for(const[cr,wr]of d(Vr))K(Vr,cr)&&(Array.isArray(wr)?Sr[cr]=he(wr):wr&&typeof wr=="object"&&wr.constructor===Object?Sr[cr]=le(wr):Sr[cr]=wr);return Sr}function ve(Vr,Sr){for(;Vr!==null;){const wr=v(Vr,Sr);if(wr){if(wr.get)return ge(wr.get);if(typeof wr.value=="function")return ge(wr.value)}Vr=m(Vr)}function cr(){return null}return cr}const se=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),re=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ie=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Te=g(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xe=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),pe=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),X=g(["#text"]),fe=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),oe=g(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),We=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ue=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ue=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),be=x(/<%[\w\W]*|[\w\W]*%>/gm),Le=x(/\$\{[\w\W]*/gm),ot=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tt=x(/^aria-[\-\w]+$/),Mt=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Nt=x(/^(?:\w+script|data):/i),qt=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ir=x(/^html$/i),fr=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var He=Object.freeze({__proto__:null,ARIA_ATTR:Tt,ATTR_WHITESPACE:qt,CUSTOM_ELEMENT:fr,DATA_ATTR:ot,DOCTYPE_NAME:Ir,ERB_EXPR:be,IS_ALLOWED_URI:Mt,IS_SCRIPT_OR_DATA:Nt,MUSTACHE_EXPR:ue,TMPLIT_EXPR:Le});const Yt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ct=function(){return typeof window>"u"?null:window},Qr=function(Sr,cr){if(typeof Sr!="object"||typeof Sr.createPolicy!="function")return null;let wr=null;const Hr="data-tt-policy-suffix";cr&&cr.hasAttribute(Hr)&&(wr=cr.getAttribute(Hr));const Wr="dompurify"+(wr?"#"+wr:"");try{return Sr.createPolicy(Wr,{createHTML(hn){return hn},createScriptURL(hn){return hn}})}catch{return console.warn("TrustedTypes policy "+Wr+" could not be created."),null}},hr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function nn(){let Vr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct();const Sr=Bt=>nn(Bt);if(Sr.version="3.3.1",Sr.removed=[],!Vr||!Vr.document||Vr.document.nodeType!==Yt.document||!Vr.Element)return Sr.isSupported=!1,Sr;let{document:cr}=Vr;const wr=cr,Hr=wr.currentScript,{DocumentFragment:Wr,HTMLTemplateElement:hn,Node:Rr,Element:Rn,NodeFilter:Dr,NamedNodeMap:Pr=Vr.NamedNodeMap||Vr.MozNamedAttrMap,HTMLFormElement:gn,DOMParser:sn,trustedTypes:yt}=Vr,Nr=Rn.prototype,ln=ve(Nr,"cloneNode"),Fn=ve(Nr,"remove"),Kr=ve(Nr,"nextSibling"),Dn=ve(Nr,"childNodes"),_r=ve(Nr,"parentNode");if(typeof hn=="function"){const Bt=cr.createElement("template");Bt.content&&Bt.content.ownerDocument&&(cr=Bt.content.ownerDocument)}let Ka,qs="";const{implementation:vn,createNodeIterator:ui,createDocumentFragment:ps,getElementsByTagName:us}=cr,{importNode:Ts}=wr;let vs=hr();Sr.isSupported=typeof d=="function"&&typeof _r=="function"&&vn&&vn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ai,ERB_EXPR:Ga,TMPLIT_EXPR:Ii,DATA_ATTR:Ma,ARIA_ATTR:Rl,IS_SCRIPT_OR_DATA:ri,ATTR_WHITESPACE:Zo,CUSTOM_ELEMENT:Ql}=He;let{IS_ALLOWED_URI:el}=He,Fs=null;const Gi=Fe({},[...se,...re,...Ie,...xe,...X]);let oa=null;const vl=Fe({},[...fe,...oe,...We,...Ue]);let qa=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ao=null,ki=null;const so=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ko=!0,io=!0,ji=!1,ms=!0,Xa=!1,Ho=!0,oo=!1,ec=!1,Xs=!1,zn=!1,Ps=!1,ni=!1,ai=!0,lo=!1;const Ss="user-content-";let Ri=!0,Rs=!1,Cs={},qi=null;const co=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let da=null;const Os=Fe({},["audio","video","img","source","image","track"]);let si=null;const Ti=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pi="http://www.w3.org/1998/Math/MathML",uo="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let Q=Ut,ne=!1,ce=null;const O=Fe({},[pi,uo,Ut],ae);let H=Fe({},["mi","mo","mn","ms","mtext"]),ee=Fe({},["annotation-xml"]);const Ce=Fe({},["title","style","font","a","script"]);let Oe=null;const Ge=["application/xhtml+xml","text/html"],at="text/html";let S=null,w=null;const P=cr.createElement("form"),z=function(et){return et instanceof RegExp||et instanceof Function},Y=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(w&&w===et)){if((!et||typeof et!="object")&&(et={}),et=le(et),Oe=Ge.indexOf(et.PARSER_MEDIA_TYPE)===-1?at:et.PARSER_MEDIA_TYPE,S=Oe==="application/xhtml+xml"?ae:Z,Fs=K(et,"ALLOWED_TAGS")?Fe({},et.ALLOWED_TAGS,S):Gi,oa=K(et,"ALLOWED_ATTR")?Fe({},et.ALLOWED_ATTR,S):vl,ce=K(et,"ALLOWED_NAMESPACES")?Fe({},et.ALLOWED_NAMESPACES,ae):O,si=K(et,"ADD_URI_SAFE_ATTR")?Fe(le(Ti),et.ADD_URI_SAFE_ATTR,S):Ti,da=K(et,"ADD_DATA_URI_TAGS")?Fe(le(Os),et.ADD_DATA_URI_TAGS,S):Os,qi=K(et,"FORBID_CONTENTS")?Fe({},et.FORBID_CONTENTS,S):co,ao=K(et,"FORBID_TAGS")?Fe({},et.FORBID_TAGS,S):le({}),ki=K(et,"FORBID_ATTR")?Fe({},et.FORBID_ATTR,S):le({}),Cs=K(et,"USE_PROFILES")?et.USE_PROFILES:!1,ko=et.ALLOW_ARIA_ATTR!==!1,io=et.ALLOW_DATA_ATTR!==!1,ji=et.ALLOW_UNKNOWN_PROTOCOLS||!1,ms=et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Xa=et.SAFE_FOR_TEMPLATES||!1,Ho=et.SAFE_FOR_XML!==!1,oo=et.WHOLE_DOCUMENT||!1,zn=et.RETURN_DOM||!1,Ps=et.RETURN_DOM_FRAGMENT||!1,ni=et.RETURN_TRUSTED_TYPE||!1,Xs=et.FORCE_BODY||!1,ai=et.SANITIZE_DOM!==!1,lo=et.SANITIZE_NAMED_PROPS||!1,Ri=et.KEEP_CONTENT!==!1,Rs=et.IN_PLACE||!1,el=et.ALLOWED_URI_REGEXP||Mt,Q=et.NAMESPACE||Ut,H=et.MATHML_TEXT_INTEGRATION_POINTS||H,ee=et.HTML_INTEGRATION_POINTS||ee,qa=et.CUSTOM_ELEMENT_HANDLING||{},et.CUSTOM_ELEMENT_HANDLING&&z(et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(qa.tagNameCheck=et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),et.CUSTOM_ELEMENT_HANDLING&&z(et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(qa.attributeNameCheck=et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),et.CUSTOM_ELEMENT_HANDLING&&typeof et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(qa.allowCustomizedBuiltInElements=et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xa&&(io=!1),Ps&&(zn=!0),Cs&&(Fs=Fe({},X),oa=[],Cs.html===!0&&(Fe(Fs,se),Fe(oa,fe)),Cs.svg===!0&&(Fe(Fs,re),Fe(oa,oe),Fe(oa,Ue)),Cs.svgFilters===!0&&(Fe(Fs,Ie),Fe(oa,oe),Fe(oa,Ue)),Cs.mathMl===!0&&(Fe(Fs,xe),Fe(oa,We),Fe(oa,Ue))),et.ADD_TAGS&&(typeof et.ADD_TAGS=="function"?so.tagCheck=et.ADD_TAGS:(Fs===Gi&&(Fs=le(Fs)),Fe(Fs,et.ADD_TAGS,S))),et.ADD_ATTR&&(typeof et.ADD_ATTR=="function"?so.attributeCheck=et.ADD_ATTR:(oa===vl&&(oa=le(oa)),Fe(oa,et.ADD_ATTR,S))),et.ADD_URI_SAFE_ATTR&&Fe(si,et.ADD_URI_SAFE_ATTR,S),et.FORBID_CONTENTS&&(qi===co&&(qi=le(qi)),Fe(qi,et.FORBID_CONTENTS,S)),et.ADD_FORBID_CONTENTS&&(qi===co&&(qi=le(qi)),Fe(qi,et.ADD_FORBID_CONTENTS,S)),Ri&&(Fs["#text"]=!0),oo&&Fe(Fs,["html","head","body"]),Fs.table&&(Fe(Fs,["tbody"]),delete ao.tbody),et.TRUSTED_TYPES_POLICY){if(typeof et.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ne('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ne('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ka=et.TRUSTED_TYPES_POLICY,qs=Ka.createHTML("")}else Ka===void 0&&(Ka=Qr(yt,Hr)),Ka!==null&&typeof qs=="string"&&(qs=Ka.createHTML(""));g&&g(et),w=et}},te=Fe({},[...re,...Ie,...Te]),Be=Fe({},[...xe,...pe]),me=function(et){let Qt=_r(et);(!Qt||!Qt.tagName)&&(Qt={namespaceURI:Q,tagName:"template"});const or=Z(et.tagName),Gt=Z(Qt.tagName);return ce[et.namespaceURI]?et.namespaceURI===uo?Qt.namespaceURI===Ut?or==="svg":Qt.namespaceURI===pi?or==="svg"&&(Gt==="annotation-xml"||H[Gt]):!!te[or]:et.namespaceURI===pi?Qt.namespaceURI===Ut?or==="math":Qt.namespaceURI===uo?or==="math"&&ee[Gt]:!!Be[or]:et.namespaceURI===Ut?Qt.namespaceURI===uo&&!ee[Gt]||Qt.namespaceURI===pi&&!H[Gt]?!1:!Be[or]&&(Ce[or]||!te[or]):!!(Oe==="application/xhtml+xml"&&ce[et.namespaceURI]):!1},ye=function(et){D(Sr.removed,{element:et});try{_r(et).removeChild(et)}catch{Fn(et)}},De=function(et,Qt){try{D(Sr.removed,{attribute:Qt.getAttributeNode(et),from:Qt})}catch{D(Sr.removed,{attribute:null,from:Qt})}if(Qt.removeAttribute(et),et==="is")if(zn||Ps)try{ye(Qt)}catch{}else try{Qt.setAttribute(et,"")}catch{}},ze=function(et){let Qt=null,or=null;if(Xs)et="<remove></remove>"+et;else{const ir=V(et,/^[\r\n\t ]+/);or=ir&&ir[0]}Oe==="application/xhtml+xml"&&Q===Ut&&(et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+et+"</body></html>");const Gt=Ka?Ka.createHTML(et):et;if(Q===Ut)try{Qt=new sn().parseFromString(Gt,Oe)}catch{}if(!Qt||!Qt.documentElement){Qt=vn.createDocument(Q,"template",null);try{Qt.documentElement.innerHTML=ne?qs:Gt}catch{}}const It=Qt.body||Qt.documentElement;return et&&or&&It.insertBefore(cr.createTextNode(or),It.childNodes[0]||null),Q===Ut?us.call(Qt,oo?"html":"body")[0]:oo?Qt.documentElement:It},Ze=function(et){return ui.call(et.ownerDocument||et,et,Dr.SHOW_ELEMENT|Dr.SHOW_COMMENT|Dr.SHOW_TEXT|Dr.SHOW_PROCESSING_INSTRUCTION|Dr.SHOW_CDATA_SECTION,null)},st=function(et){return et instanceof gn&&(typeof et.nodeName!="string"||typeof et.textContent!="string"||typeof et.removeChild!="function"||!(et.attributes instanceof Pr)||typeof et.removeAttribute!="function"||typeof et.setAttribute!="function"||typeof et.namespaceURI!="string"||typeof et.insertBefore!="function"||typeof et.hasChildNodes!="function")},Pe=function(et){return typeof Rr=="function"&&et instanceof Rr};function gt(Bt,et,Qt){T(Bt,or=>{or.call(Sr,et,Qt,w)})}const pt=function(et){let Qt=null;if(gt(vs.beforeSanitizeElements,et,null),st(et))return ye(et),!0;const or=S(et.nodeName);if(gt(vs.uponSanitizeElement,et,{tagName:or,allowedTags:Fs}),Ho&&et.hasChildNodes()&&!Pe(et.firstElementChild)&&W(/<[/\w!]/g,et.innerHTML)&&W(/<[/\w!]/g,et.textContent)||et.nodeType===Yt.progressingInstruction||Ho&&et.nodeType===Yt.comment&&W(/<[/\w]/g,et.data))return ye(et),!0;if(!(so.tagCheck instanceof Function&&so.tagCheck(or))&&(!Fs[or]||ao[or])){if(!ao[or]&&rt(or)&&(qa.tagNameCheck instanceof RegExp&&W(qa.tagNameCheck,or)||qa.tagNameCheck instanceof Function&&qa.tagNameCheck(or)))return!1;if(Ri&&!qi[or]){const Gt=_r(et)||et.parentNode,It=Dn(et)||et.childNodes;if(It&&Gt){const ir=It.length;for(let nt=ir-1;nt>=0;--nt){const ut=ln(It[nt],!0);ut.__removalCount=(et.__removalCount||0)+1,Gt.insertBefore(ut,Kr(et))}}}return ye(et),!0}return et instanceof Rn&&!me(et)||(or==="noscript"||or==="noembed"||or==="noframes")&&W(/<\/no(script|embed|frames)/i,et.innerHTML)?(ye(et),!0):(Xa&&et.nodeType===Yt.text&&(Qt=et.textContent,T([Ai,Ga,Ii],Gt=>{Qt=ie(Qt,Gt," ")}),et.textContent!==Qt&&(D(Sr.removed,{element:et.cloneNode()}),et.textContent=Qt)),gt(vs.afterSanitizeElements,et,null),!1)},xt=function(et,Qt,or){if(ai&&(Qt==="id"||Qt==="name")&&(or in cr||or in P))return!1;if(!(io&&!ki[Qt]&&W(Ma,Qt))){if(!(ko&&W(Rl,Qt))){if(!(so.attributeCheck instanceof Function&&so.attributeCheck(Qt,et))){if(!oa[Qt]||ki[Qt]){if(!(rt(et)&&(qa.tagNameCheck instanceof RegExp&&W(qa.tagNameCheck,et)||qa.tagNameCheck instanceof Function&&qa.tagNameCheck(et))&&(qa.attributeNameCheck instanceof RegExp&&W(qa.attributeNameCheck,Qt)||qa.attributeNameCheck instanceof Function&&qa.attributeNameCheck(Qt,et))||Qt==="is"&&qa.allowCustomizedBuiltInElements&&(qa.tagNameCheck instanceof RegExp&&W(qa.tagNameCheck,or)||qa.tagNameCheck instanceof Function&&qa.tagNameCheck(or))))return!1}else if(!si[Qt]){if(!W(el,ie(or,Zo,""))){if(!((Qt==="src"||Qt==="xlink:href"||Qt==="href")&&et!=="script"&&U(or,"data:")===0&&da[et])){if(!(ji&&!W(ri,ie(or,Zo,"")))){if(or)return!1}}}}}}}return!0},rt=function(et){return et!=="annotation-xml"&&V(et,Ql)},Ft=function(et){gt(vs.beforeSanitizeAttributes,et,null);const{attributes:Qt}=et;if(!Qt||st(et))return;const or={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oa,forceKeepAttr:void 0};let Gt=Qt.length;for(;Gt--;){const It=Qt[Gt],{name:ir,namespaceURI:nt,value:ut}=It,St=S(ir),Et=ut;let lr=ir==="value"?Et:G(Et);if(or.attrName=St,or.attrValue=lr,or.keepAttr=!0,or.forceKeepAttr=void 0,gt(vs.uponSanitizeAttribute,et,or),lr=or.attrValue,lo&&(St==="id"||St==="name")&&(De(ir,et),lr=Ss+lr),Ho&&W(/((--!?|])>)|<\/(style|title|textarea)/i,lr)){De(ir,et);continue}if(St==="attributename"&&V(lr,"href")){De(ir,et);continue}if(or.forceKeepAttr)continue;if(!or.keepAttr){De(ir,et);continue}if(!ms&&W(/\/>/i,lr)){De(ir,et);continue}Xa&&T([Ai,Ga,Ii],vr=>{lr=ie(lr,vr," ")});const Ar=S(et.nodeName);if(!xt(Ar,St,lr)){De(ir,et);continue}if(Ka&&typeof yt=="object"&&typeof yt.getAttributeType=="function"&&!nt)switch(yt.getAttributeType(Ar,St)){case"TrustedHTML":{lr=Ka.createHTML(lr);break}case"TrustedScriptURL":{lr=Ka.createScriptURL(lr);break}}if(lr!==Et)try{nt?et.setAttributeNS(nt,ir,lr):et.setAttribute(ir,lr),st(et)?ye(et):C(Sr.removed)}catch{De(ir,et)}}gt(vs.afterSanitizeAttributes,et,null)},Vt=function Bt(et){let Qt=null;const or=Ze(et);for(gt(vs.beforeSanitizeShadowDOM,et,null);Qt=or.nextNode();)gt(vs.uponSanitizeShadowNode,Qt,null),pt(Qt),Ft(Qt),Qt.content instanceof Wr&&Bt(Qt.content);gt(vs.afterSanitizeShadowDOM,et,null)};return Sr.sanitize=function(Bt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qt=null,or=null,Gt=null,It=null;if(ne=!Bt,ne&&(Bt="<!-->"),typeof Bt!="string"&&!Pe(Bt))if(typeof Bt.toString=="function"){if(Bt=Bt.toString(),typeof Bt!="string")throw Ne("dirty is not a string, aborting")}else throw Ne("toString is not a function");if(!Sr.isSupported)return Bt;if(ec||Y(et),Sr.removed=[],typeof Bt=="string"&&(Rs=!1),Rs){if(Bt.nodeName){const ut=S(Bt.nodeName);if(!Fs[ut]||ao[ut])throw Ne("root node is forbidden and cannot be sanitized in-place")}}else if(Bt instanceof Rr)Qt=ze("<!---->"),or=Qt.ownerDocument.importNode(Bt,!0),or.nodeType===Yt.element&&or.nodeName==="BODY"||or.nodeName==="HTML"?Qt=or:Qt.appendChild(or);else{if(!zn&&!Xa&&!oo&&Bt.indexOf("<")===-1)return Ka&&ni?Ka.createHTML(Bt):Bt;if(Qt=ze(Bt),!Qt)return zn?null:ni?qs:""}Qt&&Xs&&ye(Qt.firstChild);const ir=Ze(Rs?Bt:Qt);for(;Gt=ir.nextNode();)pt(Gt),Ft(Gt),Gt.content instanceof Wr&&Vt(Gt.content);if(Rs)return Bt;if(zn){if(Ps)for(It=ps.call(Qt.ownerDocument);Qt.firstChild;)It.appendChild(Qt.firstChild);else It=Qt;return(oa.shadowroot||oa.shadowrootmode)&&(It=Ts.call(wr,It,!0)),It}let nt=oo?Qt.outerHTML:Qt.innerHTML;return oo&&Fs["!doctype"]&&Qt.ownerDocument&&Qt.ownerDocument.doctype&&Qt.ownerDocument.doctype.name&&W(Ir,Qt.ownerDocument.doctype.name)&&(nt="<!DOCTYPE "+Qt.ownerDocument.doctype.name+`>
`+nt),Xa&&T([Ai,Ga,Ii],ut=>{nt=ie(nt,ut," ")}),Ka&&ni?Ka.createHTML(nt):nt},Sr.setConfig=function(){let Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Y(Bt),ec=!0},Sr.clearConfig=function(){w=null,ec=!1},Sr.isValidAttribute=function(Bt,et,Qt){w||Y({});const or=S(Bt),Gt=S(et);return xt(or,Gt,Qt)},Sr.addHook=function(Bt,et){typeof et=="function"&&D(vs[Bt],et)},Sr.removeHook=function(Bt,et){if(et!==void 0){const Qt=I(vs[Bt],et);return Qt===-1?void 0:_(vs[Bt],Qt,1)[0]}return C(vs[Bt])},Sr.removeHooks=function(Bt){vs[Bt]=[]},Sr.removeAllHooks=function(){vs=hr()},Sr}var Gr=nn()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return j}});var d=i("./node_modules/iobuffer/lib-esm/IOBuffer.js"),u=i("./node_modules/pako/dist/pako.esm.mjs"),f=i("./node_modules/fast-png/lib-esm/helpers/crc.js"),m=i("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),v=i("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),g=i("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=i("./node_modules/fast-png/lib-esm/helpers/text.js"),y=i("./node_modules/fast-png/lib-esm/internalTypes.js");class j extends d.IOBuffer{constructor(C,D={}){super(C);Us(this,"_checkCrc");Us(this,"_inflator");Us(this,"_png");Us(this,"_apng");Us(this,"_end");Us(this,"_hasPalette");Us(this,"_palette");Us(this,"_hasTransparency");Us(this,"_transparency");Us(this,"_compressionMethod");Us(this,"_filterMethod");Us(this,"_interlaceMethod");Us(this,"_colorType");Us(this,"_isAnimated");Us(this,"_numberOfFrames");Us(this,"_numberOfPlays");Us(this,"_frames");Us(this,"_writingDataChunks");const{checkCrc:_=!1}=D;this._checkCrc=_,this._inflator=new u.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,g.checkSignature)(this);!this._end;){const C=this.readUint32(),D=this.readChars(4);this.decodeChunk(C,D)}return this.decodeImage(),this._png}decodeApng(){for((0,g.checkSignature)(this);!this._end;){const C=this.readUint32(),D=this.readChars(4);this.decodeApngChunk(C,D)}return this.decodeApngImage(),this._apng}decodeChunk(C,D){const _=this.offset;switch(D){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(C);break;case"IDAT":this.decodeIDAT(C);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(C);break;case"iCCP":this.decodeiCCP(C);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,C);break;case"pHYs":this.decodepHYs();break;default:this.skip(C);break}if(this.offset-_!==C)throw new Error(`Length mismatch while decoding chunk ${D}`);this._checkCrc?(0,f.checkCrc)(this,C+4,D):this.skip(4)}decodeApngChunk(C,D){const _=this.offset;switch(D!=="fdAT"&&D!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),D){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(C);break;default:this.decodeChunk(C,D),this.offset=_+C;break}if(this.offset-_!==C)throw new Error(`Length mismatch while decoding chunk ${D}`);this._checkCrc?(0,f.checkCrc)(this,C+4,D):this.skip(4)}decodeIHDR(){const C=this._png;C.width=this.readUint32(),C.height=this.readUint32(),C.depth=N(this.readUint8());const D=this.readUint8();this._colorType=D;let _;switch(D){case y.ColorType.GREYSCALE:_=1;break;case y.ColorType.TRUECOLOUR:_=3;break;case y.ColorType.INDEXED_COLOUR:_=1;break;case y.ColorType.GREYSCALE_ALPHA:_=2;break;case y.ColorType.TRUECOLOUR_ALPHA:_=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${D}`)}if(this._png.channels=_,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const C={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(C)}decodePLTE(C){if(C%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${C}`);const D=C/3;this._hasPalette=!0;const _=[];this._palette=_;for(let Z=0;Z<D;Z++)_.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(C){this._writingDataChunks=!0;const D=C,_=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,_,D)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodeFDAT(C){this._writingDataChunks=!0;let D=C,_=this.offset+this.byteOffset;if(_+=4,D-=4,this._inflator.push(new Uint8Array(this.buffer,_,D)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodetRNS(C){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(C%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${C}`);if(C/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${C/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(C/2);for(let D=0;D<C/2;D++)this._transparency[D]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(C>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${C} vs ${this._palette.length})`);let D=0;for(;D<C;D++){const _=this.readByte();this._palette[D].push(_)}for(;D<this._palette.length;D++)this._palette[D].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(C){const D=(0,x.readKeyword)(this),_=this.readUint8();if(_!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${_}`);const Z=this.readBytes(C-D.length-2);this._png.iccEmbeddedProfile={name:D,profile:(0,u.inflate)(Z)}}decodepHYs(){const C=this.readUint32(),D=this.readUint32(),_=this.readByte();this._png.resolution={x:C,y:D,unit:_}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let C=0;C<this._numberOfFrames;C++){const D={sequenceNumber:this._frames[C].sequenceNumber,delayNumber:this._frames[C].delayNumber,delayDenominator:this._frames[C].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},_=this._frames.at(C);if(_){if(_.data=(0,v.decodeInterlaceNull)({data:_.data,width:_.width,height:_.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),C===0||_.xOffset===0&&_.yOffset===0&&_.width===this._png.width&&_.height===this._png.height)D.data=_.data;else{const Z=this._apng.frames.at(C-1);this.disposeFrame(_,Z,D),this.addFrameDataToCanvas(D,_)}this._apng.frames.push(D)}}return this._apng}disposeFrame(C,D,_){switch(C.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let Z=0;Z<this._png.height;Z++)for(let ae=0;ae<this._png.width;ae++){const V=(Z*C.width+ae)*this._png.channels;for(let ie=0;ie<this._png.channels;ie++)_.data[V+ie]=0}break;case y.DisposeOpType.PREVIOUS:_.data.set(D.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(C,D){const _=1<<this._png.depth,Z=(ae,V)=>{const ie=((ae+D.yOffset)*this._png.width+D.xOffset+V)*this._png.channels,U=(ae*D.width+V)*this._png.channels;return{index:ie,frameIndex:U}};switch(D.blendOp){case y.BlendOpType.SOURCE:for(let ae=0;ae<D.height;ae++)for(let V=0;V<D.width;V++){const{index:ie,frameIndex:U}=Z(ae,V);for(let G=0;G<this._png.channels;G++)C.data[ie+G]=D.data[U+G]}break;case y.BlendOpType.OVER:for(let ae=0;ae<D.height;ae++)for(let V=0;V<D.width;V++){const{index:ie,frameIndex:U}=Z(ae,V);for(let G=0;G<this._png.channels;G++){const K=D.data[U+this._png.channels-1]/_,W=G%(this._png.channels-1)===0?1:D.data[U+G],Ne=Math.floor(K*W+(1-K)*C.data[ie+G]);C.data[ie+G]+=Ne}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var D;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const C=this._isAnimated?((D=this._frames)==null?void 0:D.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,v.decodeInterlaceNull)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,m.decodeInterlaceAdam7)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const C=this._inflator.result,D=this._frames.at(-1);D?D.data=C:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:C}),this._inflator=new u.Inflate,this._writingDataChunks=!1}}function N(T){if(T!==1&&T!==2&&T!==4&&T!==8&&T!==16)throw new Error(`invalid bit depth: ${T}`);return T}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(l,h,i){i.r(h),i.d(h,{default:function(){return y}});var d=i("./node_modules/iobuffer/lib-esm/IOBuffer.js"),u=i("./node_modules/pako/dist/pako.esm.mjs"),f=i("./node_modules/fast-png/lib-esm/helpers/crc.js"),m=i("./node_modules/fast-png/lib-esm/helpers/signature.js"),v=i("./node_modules/fast-png/lib-esm/helpers/text.js"),g=i("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends d.IOBuffer{constructor(Z,ae={}){super();Us(this,"_png");Us(this,"_zlibOptions");Us(this,"_colorType");Us(this,"_interlaceMethod");this._colorType=g.ColorType.UNKNOWN,this._zlibOptions={...x,...ae.zlib},this._png=this._checkData(Z),this._interlaceMethod=(ae.interlace==="Adam7"?g.InterlaceMethod.ADAM7:g.InterlaceMethod.NO_INTERLACE)??g.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,m.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[Z,ae]of Object.entries(this._png.text))(0,v.encodetEXt)(this,Z,ae);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(g.CompressionMethod.DEFLATE),this.writeByte(g.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,f.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,f.writeCrc)(this,4)}encodePLTE(){var ae;const Z=((ae=this._png.palette)==null?void 0:ae.length)*3;this.writeUint32(Z),this.writeChars("PLTE");for(const V of this._png.palette)this.writeByte(V[0]),this.writeByte(V[1]),this.writeByte(V[2]);(0,f.writeCrc)(this,4+Z)}encodeTRNS(){const Z=this._png.palette.filter(ae=>ae.at(-1)!==255);this.writeUint32(Z.length),this.writeChars("tRNS");for(const ae of Z)this.writeByte(ae.at(-1));(0,f.writeCrc)(this,4+Z.length)}encodeIDAT(Z){this.writeUint32(Z.length),this.writeChars("IDAT"),this.writeBytes(Z),(0,f.writeCrc)(this,Z.length+4)}encodeData(){const{width:Z,height:ae,channels:V,depth:ie,data:U}=this._png,G=ie<=8?Math.ceil(Z*ie/8)*V:Math.ceil(Z*ie/8*V/2),K=new d.IOBuffer().setBigEndian();let W=0;if(this._interlaceMethod===g.InterlaceMethod.NO_INTERLACE)for(let Ee=0;Ee<ae;Ee++)K.writeByte(0),ie===16?W=C(U,K,G,W):W=T(U,K,G,W);else this._interlaceMethod===g.InterlaceMethod.ADAM7&&(W=I(this._png,U,K,W));const Ne=K.toArray(),ge=(0,u.deflate)(Ne,this._zlibOptions);this.encodeIDAT(ge)}_checkData(Z){const{colorType:ae,channels:V,depth:ie}=N(Z,Z.palette),U={width:j(Z.width,"width"),height:j(Z.height,"height"),channels:V,data:Z.data,depth:ie,text:Z.text,palette:Z.palette};this._colorType=ae;const G=ie<8?Math.ceil(U.width*ie/8)*U.height*V:U.width*U.height*V;if(U.data.length!==G)throw new RangeError(`wrong data size. Found ${U.data.length}, expected ${G}`);return U}}function j(D,_){if(Number.isInteger(D)&&D>0)return D;throw new TypeError(`${_} must be a positive integer`)}function N(D,_){const{channels:Z=4,depth:ae=8}=D;if(Z!==4&&Z!==3&&Z!==2&&Z!==1)throw new RangeError(`unsupported number of channels: ${Z}`);const V={channels:Z,depth:ae,colorType:g.ColorType.UNKNOWN};switch(Z){case 4:V.colorType=g.ColorType.TRUECOLOUR_ALPHA;break;case 3:V.colorType=g.ColorType.TRUECOLOUR;break;case 1:_?V.colorType=g.ColorType.INDEXED_COLOUR:V.colorType=g.ColorType.GREYSCALE;break;case 2:V.colorType=g.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return V}function T(D,_,Z,ae){for(let V=0;V<Z;V++)_.writeByte(D[ae++]);return ae}function I(D,_,Z,ae){const V=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:ie,height:U,channels:G,depth:K}=D;let W=0;K===16?W=G*K/8/2:W=G*K/8;for(let Ne=0;Ne<7;Ne++){const ge=V[Ne],Ee=Math.floor((ie-ge.x+ge.xStep-1)/ge.xStep),Fe=Math.floor((U-ge.y+ge.yStep-1)/ge.yStep);if(Ee<=0||Fe<=0)continue;const he=Ee*W;for(let le=0;le<Fe;le++){const ve=ge.y+le*ge.yStep,se=K<=8?new Uint8Array(he):new Uint16Array(he);let re=0;for(let Ie=0;Ie<Ee;Ie++){const Te=ge.x+Ie*ge.xStep;if(Te<ie&&ve<U){const xe=(ve*ie+Te)*W;for(let pe=0;pe<W;pe++)se[re++]=_[xe+pe]}}if(Z.writeByte(0),K===8)Z.writeBytes(se);else if(K===16)for(const Ie of se)Z.writeByte(Ie>>8&255),Z.writeByte(Ie&255)}}return ae}function C(D,_,Z,ae){for(let V=0;V<Z;V++)_.writeUint16(D[ae++]);return ae}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(l,h,i){i.r(h),i.d(h,{convertIndexedToRgb:function(){return d}});function d(f){const m=f.palette,v=f.depth;if(!m)throw new Error("Color palette is undefined.");u(f);const g=f.width*f.height,x=g*m[0].length,y=new Uint8Array(x);let j=0,N=0;const T=new Uint8Array(g);let I=255;switch(v){case 1:I=128;break;case 2:I=192;break;case 4:I=240;break;case 8:I=255;break;default:throw new Error("Incorrect depth value")}for(const C of f.data){let D=I,_=8;for(;D&&(_-=v,T[j++]=(C&D)>>_,D=D>>v,j%f.width!==0););}if(f.palette)for(const C of T){const D=f.palette.at(C);if(!D)throw new Error("Incorrect index of palette color");y.set(D,N),N+=D.length}return y}function u(f){const m=f.depth<8?Math.ceil(f.width*f.depth/8)*f.height*f.channels:f.width*f.height*f.channels;if(f.data.length!==m)throw new RangeError(`wrong data size. Found ${f.data.length}, expected ${m}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(l,h,i){i.r(h),i.d(h,{applyUnfilter:function(){return u}});var d=i("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function u(f,m,v,g,x,y){switch(f){case 0:(0,d.unfilterNone)(m,v,x);break;case 1:(0,d.unfilterSub)(m,v,x,y);break;case 2:(0,d.unfilterUp)(m,v,g,x);break;case 3:(0,d.unfilterAverage)(m,v,g,x,y);break;case 4:(0,d.unfilterPaeth)(m,v,g,x,y);break;default:throw new Error(`Unsupported filter: ${f}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(l,h,i){i.r(h),i.d(h,{checkCrc:function(){return v},writeCrc:function(){return g}});const d=[];for(let x=0;x<256;x++){let y=x;for(let j=0;j<8;j++)y&1?y=3988292384^y>>>1:y=y>>>1;d[x]=y}const u=4294967295;function f(x,y,j){let N=x;for(let T=0;T<j;T++)N=d[(N^y[T])&255]^N>>>8;return N}function m(x,y){return(f(u,x,y)^u)>>>0}function v(x,y,j){const N=x.readUint32(),T=m(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(T!==N)throw new Error(`CRC mismatch for chunk ${j}. Expected ${N}, found ${T}`)}function g(x,y){x.writeUint32(m(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(l,h,i){i.r(h),i.d(h,{decodeInterlaceAdam7:function(){return v}});var d=i("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const u=new Uint16Array([255]),m=new Uint8Array(u.buffer)[0]===255;function v(x){const{data:y,width:j,height:N,channels:T,depth:I}=x,C=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],D=Math.ceil(I/8)*T,_=new Uint8Array(N*j*D);let Z=0;for(let ae=0;ae<7;ae++){const V=C[ae],ie=Math.ceil((j-V.x)/V.xStep),U=Math.ceil((N-V.y)/V.yStep);if(ie<=0||U<=0)continue;const G=ie*D,K=new Uint8Array(G);for(let W=0;W<U;W++){const Ne=y[Z++],ge=y.subarray(Z,Z+G);Z+=G;const Ee=new Uint8Array(G);(0,d.applyUnfilter)(Ne,ge,Ee,K,G,D),K.set(Ee);for(let Fe=0;Fe<ie;Fe++){const he=V.x+Fe*V.xStep,le=V.y+W*V.yStep;if(!(he>=j||le>=N))for(let ve=0;ve<D;ve++)_[(le*j+he)*D+ve]=Ee[Fe*D+ve]}}}if(I===16){const ae=new Uint16Array(_.buffer);if(m)for(let V=0;V<ae.length;V++)ae[V]=g(ae[V]);return ae}else return _}function g(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(l,h,i){i.r(h),i.d(h,{decodeInterlaceNull:function(){return g}});var d=i("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const u=new Uint16Array([255]),m=new Uint8Array(u.buffer)[0]===255,v=new Uint8Array(0);function g(y){const{data:j,width:N,height:T,channels:I,depth:C}=y,D=Math.ceil(C/8)*I,_=Math.ceil(C/8*I*N),Z=new Uint8Array(T*_);let ae=v,V=0,ie,U;for(let G=0;G<T;G++){switch(ie=j.subarray(V+1,V+1+_),U=Z.subarray(G*_,(G+1)*_),j[V]){case 0:(0,d.unfilterNone)(ie,U,_);break;case 1:(0,d.unfilterSub)(ie,U,_,D);break;case 2:(0,d.unfilterUp)(ie,U,ae,_);break;case 3:(0,d.unfilterAverage)(ie,U,ae,_,D);break;case 4:(0,d.unfilterPaeth)(ie,U,ae,_,D);break;default:throw new Error(`Unsupported filter: ${j[V]}`)}ae=U,V+=_+1}if(C===16){const G=new Uint16Array(Z.buffer);if(m)for(let K=0;K<G.length;K++)G[K]=x(G[K]);return G}else return Z}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(l,h,i){i.r(h),i.d(h,{checkSignature:function(){return f},hasPngSignature:function(){return m},writeSignature:function(){return u}});const d=Uint8Array.of(137,80,78,71,13,10,26,10);function u(v){v.writeBytes(d)}function f(v){if(!m(v.readBytes(d.length)))throw new Error("wrong PNG signature")}function m(v){if(v.length<d.length)return!1;for(let g=0;g<d.length;g++)if(v[g]!==d[g])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(l,h,i){i.r(h),i.d(h,{decodetEXt:function(){return y},encodetEXt:function(){return j},readKeyword:function(){return N},readLatin1:function(){return T},textChunkName:function(){return u}});var d=i("./node_modules/fast-png/lib-esm/helpers/crc.js");const u="tEXt",f=0,m=new TextDecoder("latin1");function v(I){if(x(I),I.length===0||I.length>79)throw new Error("keyword length must be between 1 and 79")}const g=/^[\u0000-\u00FF]*$/;function x(I){if(!g.test(I))throw new Error("invalid latin1 text")}function y(I,C,D){const _=N(C);I[_]=T(C,D-_.length-1)}function j(I,C,D){v(C),x(D);const _=C.length+1+D.length;I.writeUint32(_),I.writeChars(u),I.writeChars(C),I.writeByte(f),I.writeChars(D),(0,d.writeCrc)(I,_+4)}function N(I){for(I.mark();I.readByte()!==f;);const C=I.offset;I.reset();const D=m.decode(I.readBytes(C-I.offset-1));return I.skip(1),v(D),D}function T(I,C){return m.decode(I.readBytes(C))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(l,h,i){i.r(h),i.d(h,{unfilterAverage:function(){return m},unfilterNone:function(){return d},unfilterPaeth:function(){return v},unfilterSub:function(){return u},unfilterUp:function(){return f}});function d(x,y,j){for(let N=0;N<j;N++)y[N]=x[N]}function u(x,y,j,N){let T=0;for(;T<N;T++)y[T]=x[T];for(;T<j;T++)y[T]=x[T]+y[T-N]&255}function f(x,y,j,N){let T=0;if(j.length===0)for(;T<N;T++)y[T]=x[T];else for(;T<N;T++)y[T]=x[T]+j[T]&255}function m(x,y,j,N,T){let I=0;if(j.length===0){for(;I<T;I++)y[I]=x[I];for(;I<N;I++)y[I]=x[I]+(y[I-T]>>1)&255}else{for(;I<T;I++)y[I]=x[I]+(j[I]>>1)&255;for(;I<N;I++)y[I]=x[I]+(y[I-T]+j[I]>>1)&255}}function v(x,y,j,N,T){let I=0;if(j.length===0){for(;I<T;I++)y[I]=x[I];for(;I<N;I++)y[I]=x[I]+y[I-T]&255}else{for(;I<T;I++)y[I]=x[I]+j[I]&255;for(;I<N;I++)y[I]=x[I]+g(y[I-T],j[I],j[I-T])&255}}function g(x,y,j){const N=x+y-j,T=Math.abs(N-x),I=Math.abs(N-y),C=Math.abs(N-j);return T<=I&&T<=C?x:I<=C?y:j}}),"./node_modules/fast-png/lib-esm/index.js":(function(l,h,i){i.r(h),i.d(h,{ResolutionUnitSpecifier:function(){return m.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return v.convertIndexedToRgb},decode:function(){return g},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return f.hasPngSignature}});var d=i("./node_modules/fast-png/lib-esm/PngDecoder.js"),u=i("./node_modules/fast-png/lib-esm/PngEncoder.js"),f=i("./node_modules/fast-png/lib-esm/helpers/signature.js"),m=i("./node_modules/fast-png/lib-esm/types.js"),v=i("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function g(j,N){return new d.default(j,N).decode()}function x(j,N){return new u.default(j,N).encode()}function y(j,N){return new d.default(j,N).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(l,h,i){i.r(h),i.d(h,{BlendOpType:function(){return g},ColorType:function(){return d},CompressionMethod:function(){return u},DisposeOpType:function(){return v},FilterMethod:function(){return f},InterlaceMethod:function(){return m}});const d={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u={UNKNOWN:-1,DEFLATE:0},f={UNKNOWN:-1,ADAPTIVE:0},m={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},v={NONE:0,BACKGROUND:1,PREVIOUS:2},g={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(l,h,i){i.r(h),i.d(h,{ResolutionUnitSpecifier:function(){return d}});var d;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.METRE=1]="METRE"})(d||(d={}))}),"./node_modules/fflate/esm/browser.js":(function(l,h,i){i.r(h),i.d(h,{AsyncCompress:function(){return vs},AsyncDecompress:function(){return ki},AsyncDeflate:function(){return _r},AsyncGunzip:function(){return Ma},AsyncGzip:function(){return vs},AsyncInflate:function(){return ui},AsyncUnzipInflate:function(){return uo},AsyncUnzlib:function(){return oa},AsyncZipDeflate:function(){return co},AsyncZlib:function(){return Ql},Compress:function(){return Ts},DecodeUTF8:function(){return oo},Decompress:function(){return ao},Deflate:function(){return Dn},EncodeUTF8:function(){return ec},FlateErrorCode:function(){return se},Gunzip:function(){return Ii},Gzip:function(){return Ts},Inflate:function(){return vn},Unzip:function(){return Ut},UnzipInflate:function(){return pi},UnzipPassThrough:function(){return Ti},Unzlib:function(){return Gi},Zip:function(){return da},ZipDeflate:function(){return qi},ZipPassThrough:function(){return Cs},Zlib:function(){return Zo},compress:function(){return Ai},compressSync:function(){return Ga},decompress:function(){return so},decompressSync:function(){return ko},deflate:function(){return Ka},deflateSync:function(){return qs},gunzip:function(){return Rl},gunzipSync:function(){return ri},gzip:function(){return Ai},gzipSync:function(){return Ga},inflate:function(){return ps},inflateSync:function(){return us},strFromU8:function(){return zn},strToU8:function(){return Xs},unzip:function(){return ne},unzipSync:function(){return ce},unzlib:function(){return vl},unzlibSync:function(){return qa},zip:function(){return Os},zipSync:function(){return si},zlib:function(){return el},zlibSync:function(){return Fs}});var d={},u=(function(O,H,ee,Ce,Oe){var Ge=new Worker(d[H]||(d[H]=URL.createObjectURL(new Blob([O+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ge.onmessage=function(at){var S=at.data,w=S.$e$;if(w){var P=new Error(w[0]);P.code=w[1],P.stack=w[2],Oe(P,null)}else Oe(null,S)},Ge.postMessage(ee,Ce),Ge}),f=Uint8Array,m=Uint16Array,v=Int32Array,g=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=function(O,H){for(var ee=new m(31),Ce=0;Ce<31;++Ce)ee[Ce]=H+=1<<O[Ce-1];for(var Oe=new v(ee[30]),Ce=1;Ce<30;++Ce)for(var Ge=ee[Ce];Ge<ee[Ce+1];++Ge)Oe[Ge]=Ge-ee[Ce]<<5|Ce;return{b:ee,r:Oe}},N=j(g,2),T=N.b,I=N.r;T[28]=258,I[258]=28;for(var C=j(x,0),D=C.b,_=C.r,Z=new m(32768),ae=0;ae<32768;++ae){var V=(ae&43690)>>1|(ae&21845)<<1;V=(V&52428)>>2|(V&13107)<<2,V=(V&61680)>>4|(V&3855)<<4,Z[ae]=((V&65280)>>8|(V&255)<<8)>>1}for(var ie=(function(O,H,ee){for(var Ce=O.length,Oe=0,Ge=new m(H);Oe<Ce;++Oe)O[Oe]&&++Ge[O[Oe]-1];var at=new m(H);for(Oe=1;Oe<H;++Oe)at[Oe]=at[Oe-1]+Ge[Oe-1]<<1;var S;if(ee){S=new m(1<<H);var w=15-H;for(Oe=0;Oe<Ce;++Oe)if(O[Oe])for(var P=Oe<<4|O[Oe],z=H-O[Oe],Y=at[O[Oe]-1]++<<z,te=Y|(1<<z)-1;Y<=te;++Y)S[Z[Y]>>w]=P}else for(S=new m(Ce),Oe=0;Oe<Ce;++Oe)O[Oe]&&(S[Oe]=Z[at[O[Oe]-1]++]>>15-O[Oe]);return S}),U=new f(288),ae=0;ae<144;++ae)U[ae]=8;for(var ae=144;ae<256;++ae)U[ae]=9;for(var ae=256;ae<280;++ae)U[ae]=7;for(var ae=280;ae<288;++ae)U[ae]=8;for(var G=new f(32),ae=0;ae<32;++ae)G[ae]=5;var K=ie(U,9,0),W=ie(U,9,1),Ne=ie(G,5,0),ge=ie(G,5,1),Ee=function(O){for(var H=O[0],ee=1;ee<O.length;++ee)O[ee]>H&&(H=O[ee]);return H},Fe=function(O,H,ee){var Ce=H/8|0;return(O[Ce]|O[Ce+1]<<8)>>(H&7)&ee},he=function(O,H){var ee=H/8|0;return(O[ee]|O[ee+1]<<8|O[ee+2]<<16)>>(H&7)},le=function(O){return(O+7)/8|0},ve=function(O,H,ee){return(H==null||H<0)&&(H=0),(ee==null||ee>O.length)&&(ee=O.length),new f(O.subarray(H,ee))},se={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},re=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ie=function(O,H,ee){var Ce=new Error(H||re[O]);if(Ce.code=O,Error.captureStackTrace&&Error.captureStackTrace(Ce,Ie),!ee)throw Ce;return Ce},Te=function(O,H,ee,Ce){var Oe=O.length,Ge=Ce?Ce.length:0;if(!Oe||H.f&&!H.l)return ee||new f(0);var at=!ee,S=at||H.i!=2,w=H.i;at&&(ee=new f(Oe*3));var P=function(jt){var Ht=ee.length;if(jt>Ht){var zt=new f(Math.max(Ht*2,jt));zt.set(ee),ee=zt}},z=H.f||0,Y=H.p||0,te=H.b||0,Be=H.l,me=H.d,ye=H.m,De=H.n,ze=Oe*8;do{if(!Be){z=Fe(O,Y,1);var Ze=Fe(O,Y+1,3);if(Y+=3,Ze)if(Ze==1)Be=W,me=ge,ye=9,De=5;else if(Ze==2){var pt=Fe(O,Y,31)+257,xt=Fe(O,Y+10,15)+4,rt=pt+Fe(O,Y+5,31)+1;Y+=14;for(var Ft=new f(rt),Vt=new f(19),Bt=0;Bt<xt;++Bt)Vt[y[Bt]]=Fe(O,Y+Bt*3,7);Y+=xt*3;for(var et=Ee(Vt),Qt=(1<<et)-1,or=ie(Vt,et,1),Bt=0;Bt<rt;){var Gt=or[Fe(O,Y,Qt)];Y+=Gt&15;var st=Gt>>4;if(st<16)Ft[Bt++]=st;else{var It=0,ir=0;for(st==16?(ir=3+Fe(O,Y,3),Y+=2,It=Ft[Bt-1]):st==17?(ir=3+Fe(O,Y,7),Y+=3):st==18&&(ir=11+Fe(O,Y,127),Y+=7);ir--;)Ft[Bt++]=It}}var nt=Ft.subarray(0,pt),ut=Ft.subarray(pt);ye=Ee(nt),De=Ee(ut),Be=ie(nt,ye,1),me=ie(ut,De,1)}else Ie(1);else{var st=le(Y)+4,Pe=O[st-4]|O[st-3]<<8,gt=st+Pe;if(gt>Oe){w&&Ie(0);break}S&&P(te+Pe),ee.set(O.subarray(st,gt),te),H.b=te+=Pe,H.p=Y=gt*8,H.f=z;continue}if(Y>ze){w&&Ie(0);break}}S&&P(te+131072);for(var St=(1<<ye)-1,Et=(1<<De)-1,lr=Y;;lr=Y){var It=Be[he(O,Y)&St],Ar=It>>4;if(Y+=It&15,Y>ze){w&&Ie(0);break}if(It||Ie(2),Ar<256)ee[te++]=Ar;else if(Ar==256){lr=Y,Be=null;break}else{var vr=Ar-254;if(Ar>264){var Bt=Ar-257,Jt=g[Bt];vr=Fe(O,Y,(1<<Jt)-1)+T[Bt],Y+=Jt}var mr=me[he(O,Y)&Et],qr=mr>>4;mr||Ie(3),Y+=mr&15;var ut=D[qr];if(qr>3){var Jt=x[qr];ut+=he(O,Y)&(1<<Jt)-1,Y+=Jt}if(Y>ze){w&&Ie(0);break}S&&P(te+131072);var Lr=te+vr;if(te<ut){var Ye=Ge-ut,vt=Math.min(ut,Lr);for(Ye+te<0&&Ie(3);te<vt;++te)ee[te]=Ce[Ye+te]}for(;te<Lr;++te)ee[te]=ee[te-ut]}}H.l=Be,H.p=lr,H.b=te,H.f=z,Be&&(z=1,H.m=ye,H.d=me,H.n=De)}while(!z);return te!=ee.length&&at?ve(ee,0,te):ee.subarray(0,te)},xe=function(O,H,ee){ee<<=H&7;var Ce=H/8|0;O[Ce]|=ee,O[Ce+1]|=ee>>8},pe=function(O,H,ee){ee<<=H&7;var Ce=H/8|0;O[Ce]|=ee,O[Ce+1]|=ee>>8,O[Ce+2]|=ee>>16},X=function(O,H){for(var ee=[],Ce=0;Ce<O.length;++Ce)O[Ce]&&ee.push({s:Ce,f:O[Ce]});var Oe=ee.length,Ge=ee.slice();if(!Oe)return{t:Le,l:0};if(Oe==1){var at=new f(ee[0].s+1);return at[ee[0].s]=1,{t:at,l:1}}ee.sort(function(gt,pt){return gt.f-pt.f}),ee.push({s:-1,f:25001});var S=ee[0],w=ee[1],P=0,z=1,Y=2;for(ee[0]={s:-1,f:S.f+w.f,l:S,r:w};z!=Oe-1;)S=ee[ee[P].f<ee[Y].f?P++:Y++],w=ee[P!=z&&ee[P].f<ee[Y].f?P++:Y++],ee[z++]={s:-1,f:S.f+w.f,l:S,r:w};for(var te=Ge[0].s,Ce=1;Ce<Oe;++Ce)Ge[Ce].s>te&&(te=Ge[Ce].s);var Be=new m(te+1),me=fe(ee[z-1],Be,0);if(me>H){var Ce=0,ye=0,De=me-H,ze=1<<De;for(Ge.sort(function(pt,xt){return Be[xt.s]-Be[pt.s]||pt.f-xt.f});Ce<Oe;++Ce){var Ze=Ge[Ce].s;if(Be[Ze]>H)ye+=ze-(1<<me-Be[Ze]),Be[Ze]=H;else break}for(ye>>=De;ye>0;){var st=Ge[Ce].s;Be[st]<H?ye-=1<<H-Be[st]++-1:++Ce}for(;Ce>=0&&ye;--Ce){var Pe=Ge[Ce].s;Be[Pe]==H&&(--Be[Pe],++ye)}me=H}return{t:new f(Be),l:me}},fe=function(O,H,ee){return O.s==-1?Math.max(fe(O.l,H,ee+1),fe(O.r,H,ee+1)):H[O.s]=ee},oe=function(O){for(var H=O.length;H&&!O[--H];);for(var ee=new m(++H),Ce=0,Oe=O[0],Ge=1,at=function(w){ee[Ce++]=w},S=1;S<=H;++S)if(O[S]==Oe&&S!=H)++Ge;else{if(!Oe&&Ge>2){for(;Ge>138;Ge-=138)at(32754);Ge>2&&(at(Ge>10?Ge-11<<5|28690:Ge-3<<5|12305),Ge=0)}else if(Ge>3){for(at(Oe),--Ge;Ge>6;Ge-=6)at(8304);Ge>2&&(at(Ge-3<<5|8208),Ge=0)}for(;Ge--;)at(Oe);Ge=1,Oe=O[S]}return{c:ee.subarray(0,Ce),n:H}},We=function(O,H){for(var ee=0,Ce=0;Ce<H.length;++Ce)ee+=O[Ce]*H[Ce];return ee},Ue=function(O,H,ee){var Ce=ee.length,Oe=le(H+2);O[Oe]=Ce&255,O[Oe+1]=Ce>>8,O[Oe+2]=O[Oe]^255,O[Oe+3]=O[Oe+1]^255;for(var Ge=0;Ge<Ce;++Ge)O[Oe+Ge+4]=ee[Ge];return(Oe+4+Ce)*8},ue=function(O,H,ee,Ce,Oe,Ge,at,S,w,P,z){xe(H,z++,ee),++Oe[256];for(var Y=X(Oe,15),te=Y.t,Be=Y.l,me=X(Ge,15),ye=me.t,De=me.l,ze=oe(te),Ze=ze.c,st=ze.n,Pe=oe(ye),gt=Pe.c,pt=Pe.n,xt=new m(19),rt=0;rt<Ze.length;++rt)++xt[Ze[rt]&31];for(var rt=0;rt<gt.length;++rt)++xt[gt[rt]&31];for(var Ft=X(xt,7),Vt=Ft.t,Bt=Ft.l,et=19;et>4&&!Vt[y[et-1]];--et);var Qt=P+5<<3,or=We(Oe,U)+We(Ge,G)+at,Gt=We(Oe,te)+We(Ge,ye)+at+14+3*et+We(xt,Vt)+2*xt[16]+3*xt[17]+7*xt[18];if(w>=0&&Qt<=or&&Qt<=Gt)return Ue(H,z,O.subarray(w,w+P));var It,ir,nt,ut;if(xe(H,z,1+(Gt<or)),z+=2,Gt<or){It=ie(te,Be,0),ir=te,nt=ie(ye,De,0),ut=ye;var St=ie(Vt,Bt,0);xe(H,z,st-257),xe(H,z+5,pt-1),xe(H,z+10,et-4),z+=14;for(var rt=0;rt<et;++rt)xe(H,z+3*rt,Vt[y[rt]]);z+=3*et;for(var Et=[Ze,gt],lr=0;lr<2;++lr)for(var Ar=Et[lr],rt=0;rt<Ar.length;++rt){var vr=Ar[rt]&31;xe(H,z,St[vr]),z+=Vt[vr],vr>15&&(xe(H,z,Ar[rt]>>5&127),z+=Ar[rt]>>12)}}else It=K,ir=U,nt=Ne,ut=G;for(var rt=0;rt<S;++rt){var Jt=Ce[rt];if(Jt>255){var vr=Jt>>18&31;pe(H,z,It[vr+257]),z+=ir[vr+257],vr>7&&(xe(H,z,Jt>>23&31),z+=g[vr]);var mr=Jt&31;pe(H,z,nt[mr]),z+=ut[mr],mr>3&&(pe(H,z,Jt>>5&8191),z+=x[mr])}else pe(H,z,It[Jt]),z+=ir[Jt]}return pe(H,z,It[256]),z+ir[256]},be=new v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Le=new f(0),ot=function(O,H,ee,Ce,Oe,Ge){var at=Ge.z||O.length,S=new f(Ce+at+5*(1+Math.ceil(at/7e3))+Oe),w=S.subarray(Ce,S.length-Oe),P=Ge.l,z=(Ge.r||0)&7;if(H){z&&(w[0]=Ge.r>>3);for(var Y=be[H-1],te=Y>>13,Be=Y&8191,me=(1<<ee)-1,ye=Ge.p||new m(32768),De=Ge.h||new m(me+1),ze=Math.ceil(ee/3),Ze=2*ze,st=function(rr){return(O[rr]^O[rr+1]<<ze^O[rr+2]<<Ze)&me},Pe=new v(25e3),gt=new m(288),pt=new m(32),xt=0,rt=0,Ft=Ge.i||0,Vt=0,Bt=Ge.w||0,et=0;Ft+2<at;++Ft){var Qt=st(Ft),or=Ft&32767,Gt=De[Qt];if(ye[or]=Gt,De[Qt]=or,Bt<=Ft){var It=at-Ft;if((xt>7e3||Vt>24576)&&(It>423||!P)){z=ue(O,w,0,Pe,gt,pt,rt,Vt,et,Ft-et,z),Vt=xt=rt=0,et=Ft;for(var ir=0;ir<286;++ir)gt[ir]=0;for(var ir=0;ir<30;++ir)pt[ir]=0}var nt=2,ut=0,St=Be,Et=or-Gt&32767;if(It>2&&Qt==st(Ft-Et))for(var lr=Math.min(te,It)-1,Ar=Math.min(32767,Ft),vr=Math.min(258,It);Et<=Ar&&--St&&or!=Gt;){if(O[Ft+nt]==O[Ft+nt-Et]){for(var Jt=0;Jt<vr&&O[Ft+Jt]==O[Ft+Jt-Et];++Jt);if(Jt>nt){if(nt=Jt,ut=Et,Jt>lr)break;for(var mr=Math.min(Et,Jt-2),qr=0,ir=0;ir<mr;++ir){var Lr=Ft-Et+ir&32767,Ye=ye[Lr],vt=Lr-Ye&32767;vt>qr&&(qr=vt,Gt=Lr)}}}or=Gt,Gt=ye[or],Et+=or-Gt&32767}if(ut){Pe[Vt++]=268435456|I[nt]<<18|_[ut];var jt=I[nt]&31,Ht=_[ut]&31;rt+=g[jt]+x[Ht],++gt[257+jt],++pt[Ht],Bt=Ft+nt,++xt}else Pe[Vt++]=O[Ft],++gt[O[Ft]]}}for(Ft=Math.max(Ft,Bt);Ft<at;++Ft)Pe[Vt++]=O[Ft],++gt[O[Ft]];z=ue(O,w,P,Pe,gt,pt,rt,Vt,et,Ft-et,z),P||(Ge.r=z&7|w[z/8|0]<<3,z-=7,Ge.h=De,Ge.p=ye,Ge.i=Ft,Ge.w=Bt)}else{for(var Ft=Ge.w||0;Ft<at+P;Ft+=65535){var zt=Ft+65535;zt>=at&&(w[z/8|0]=P,zt=at),z=Ue(w,z+1,O.subarray(Ft,zt))}Ge.i=at}return ve(S,0,Ce+le(z)+Oe)},Tt=(function(){for(var O=new Int32Array(256),H=0;H<256;++H){for(var ee=H,Ce=9;--Ce;)ee=(ee&1&&-306674912)^ee>>>1;O[H]=ee}return O})(),Mt=function(){var O=-1;return{p:function(H){for(var ee=O,Ce=0;Ce<H.length;++Ce)ee=Tt[ee&255^H[Ce]]^ee>>>8;O=ee},d:function(){return~O}}},Nt=function(){var O=1,H=0;return{p:function(ee){for(var Ce=O,Oe=H,Ge=ee.length|0,at=0;at!=Ge;){for(var S=Math.min(at+2655,Ge);at<S;++at)Oe+=Ce+=ee[at];Ce=(Ce&65535)+15*(Ce>>16),Oe=(Oe&65535)+15*(Oe>>16)}O=Ce,H=Oe},d:function(){return O%=65521,H%=65521,(O&255)<<24|(O&65280)<<8|(H&255)<<8|H>>8}}},qt=function(O,H,ee,Ce,Oe){if(!Oe&&(Oe={l:1},H.dictionary)){var Ge=H.dictionary.subarray(-32768),at=new f(Ge.length+O.length);at.set(Ge),at.set(O,Ge.length),O=at,Oe.w=Ge.length}return ot(O,H.level==null?6:H.level,H.mem==null?Oe.l?Math.ceil(Math.max(8,Math.min(13,Math.log(O.length)))*1.5):20:12+H.mem,ee,Ce,Oe)},Ir=function(O,H){var ee={};for(var Ce in O)ee[Ce]=O[Ce];for(var Ce in H)ee[Ce]=H[Ce];return ee},fr=function(O,H,ee){for(var Ce=O(),Oe=O.toString(),Ge=Oe.slice(Oe.indexOf("[")+1,Oe.lastIndexOf("]")).replace(/\s+/g,"").split(","),at=0;at<Ce.length;++at){var S=Ce[at],w=Ge[at];if(typeof S=="function"){H+=";"+w+"=";var P=S.toString();if(S.prototype)if(P.indexOf("[native code]")!=-1){var z=P.indexOf(" ",8)+1;H+=P.slice(z,P.indexOf("(",z))}else{H+=P;for(var Y in S.prototype)H+=";"+w+".prototype."+Y+"="+S.prototype[Y].toString()}else H+=P}else ee[w]=S}return H},He=[],Yt=function(O){var H=[];for(var ee in O)O[ee].buffer&&H.push((O[ee]=new O[ee].constructor(O[ee])).buffer);return H},Ct=function(O,H,ee,Ce){if(!He[ee]){for(var Oe="",Ge={},at=O.length-1,S=0;S<at;++S)Oe=fr(O[S],Oe,Ge);He[ee]={c:fr(O[at],Oe,Ge),e:Ge}}var w=Ir({},He[ee].e);return u(He[ee].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+H.toString()+"}",ee,w,Yt(w),Ce)},Qr=function(){return[f,m,v,g,x,y,T,D,W,ge,Z,re,ie,Ee,Fe,he,le,ve,Ie,Te,us,cr,wr]},hr=function(){return[f,m,v,g,x,y,I,_,K,U,Ne,G,Z,be,Le,ie,xe,pe,X,fe,oe,We,Ue,ue,le,ve,ot,qt,qs,cr]},nn=function(){return[gn,Nr,Pr,Mt,Tt]},Gr=function(){return[sn,yt]},Vr=function(){return[ln,Pr,Nt]},Sr=function(){return[Fn]},cr=function(O){return postMessage(O,[O.buffer])},wr=function(O){return O&&{out:O.size&&new f(O.size),dictionary:O.dictionary}},Hr=function(O,H,ee,Ce,Oe,Ge){var at=Ct(ee,Ce,Oe,function(S,w){at.terminate(),Ge(S,w)});return at.postMessage([O,H],H.consume?[O.buffer]:[]),function(){at.terminate()}},Wr=function(O){return O.ondata=function(H,ee){return postMessage([H,ee],[H.buffer])},function(H){H.data.length?(O.push(H.data[0],H.data[1]),postMessage([H.data[0].length])):O.flush()}},hn=function(O,H,ee,Ce,Oe,Ge,at){var S,w=Ct(O,Ce,Oe,function(P,z){P?(w.terminate(),H.ondata.call(H,P)):Array.isArray(z)?z.length==1?(H.queuedSize-=z[0],H.ondrain&&H.ondrain(z[0])):(z[1]&&w.terminate(),H.ondata.call(H,P,z[0],z[1])):at(z)});w.postMessage(ee),H.queuedSize=0,H.push=function(P,z){H.ondata||Ie(5),S&&H.ondata(Ie(4,0,1),null,!!z),H.queuedSize+=P.length,w.postMessage([P,S=z],[P.buffer])},H.terminate=function(){w.terminate()},Ge&&(H.flush=function(){w.postMessage([])})},Rr=function(O,H){return O[H]|O[H+1]<<8},Rn=function(O,H){return(O[H]|O[H+1]<<8|O[H+2]<<16|O[H+3]<<24)>>>0},Dr=function(O,H){return Rn(O,H)+Rn(O,H+4)*4294967296},Pr=function(O,H,ee){for(;ee;++H)O[H]=ee,ee>>>=8},gn=function(O,H){var ee=H.filename;if(O[0]=31,O[1]=139,O[2]=8,O[8]=H.level<2?4:H.level==9?2:0,O[9]=3,H.mtime!=0&&Pr(O,4,Math.floor(new Date(H.mtime||Date.now())/1e3)),ee){O[3]=8;for(var Ce=0;Ce<=ee.length;++Ce)O[Ce+10]=ee.charCodeAt(Ce)}},sn=function(O){(O[0]!=31||O[1]!=139||O[2]!=8)&&Ie(6,"invalid gzip data");var H=O[3],ee=10;H&4&&(ee+=(O[10]|O[11]<<8)+2);for(var Ce=(H>>3&1)+(H>>4&1);Ce>0;Ce-=!O[ee++]);return ee+(H&2)},yt=function(O){var H=O.length;return(O[H-4]|O[H-3]<<8|O[H-2]<<16|O[H-1]<<24)>>>0},Nr=function(O){return 10+(O.filename?O.filename.length+1:0)},ln=function(O,H){var ee=H.level,Ce=ee==0?0:ee<6?1:ee==9?3:2;if(O[0]=120,O[1]=Ce<<6|(H.dictionary&&32),O[1]|=31-(O[0]<<8|O[1])%31,H.dictionary){var Oe=Nt();Oe.p(H.dictionary),Pr(O,2,Oe.d())}},Fn=function(O,H){return((O[0]&15)!=8||O[0]>>4>7||(O[0]<<8|O[1])%31)&&Ie(6,"invalid zlib data"),(O[1]>>5&1)==+!H&&Ie(6,"invalid zlib data: "+(O[1]&32?"need":"unexpected")+" dictionary"),(O[1]>>3&4)+2};function Kr(O,H){return typeof O=="function"&&(H=O,O={}),this.ondata=H,O}var Dn=(function(){function O(H,ee){if(typeof H=="function"&&(ee=H,H={}),this.ondata=ee,this.o=H||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new f(98304),this.o.dictionary){var Ce=this.o.dictionary.subarray(-32768);this.b.set(Ce,32768-Ce.length),this.s.i=32768-Ce.length}}return O.prototype.p=function(H,ee){this.ondata(qt(H,this.o,0,0,this.s),ee)},O.prototype.push=function(H,ee){this.ondata||Ie(5),this.s.l&&Ie(4);var Ce=H.length+this.s.z;if(Ce>this.b.length){if(Ce>2*this.b.length-32768){var Oe=new f(Ce&-32768);Oe.set(this.b.subarray(0,this.s.z)),this.b=Oe}var Ge=this.b.length-this.s.z;this.b.set(H.subarray(0,Ge),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(H.subarray(Ge),32768),this.s.z=H.length-Ge+32768,this.s.i=32766,this.s.w=32768}else this.b.set(H,this.s.z),this.s.z+=H.length;this.s.l=ee&1,(this.s.z>this.s.w+8191||ee)&&(this.p(this.b,ee||!1),this.s.w=this.s.i,this.s.i-=2)},O.prototype.flush=function(){this.ondata||Ie(5),this.s.l&&Ie(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},O})(),_r=(function(){function O(H,ee){hn([hr,function(){return[Wr,Dn]}],this,Kr.call(this,H,ee),function(Ce){var Oe=new Dn(Ce.data);onmessage=Wr(Oe)},6,1)}return O})();function Ka(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),Hr(O,H,[hr],function(Ce){return cr(qs(Ce.data[0],Ce.data[1]))},0,ee)}function qs(O,H){return qt(O,H||{},0,0)}var vn=(function(){function O(H,ee){typeof H=="function"&&(ee=H,H={}),this.ondata=ee;var Ce=H&&H.dictionary&&H.dictionary.subarray(-32768);this.s={i:0,b:Ce?Ce.length:0},this.o=new f(32768),this.p=new f(0),Ce&&this.o.set(Ce)}return O.prototype.e=function(H){if(this.ondata||Ie(5),this.d&&Ie(4),!this.p.length)this.p=H;else if(H.length){var ee=new f(this.p.length+H.length);ee.set(this.p),ee.set(H,this.p.length),this.p=ee}},O.prototype.c=function(H){this.s.i=+(this.d=H||!1);var ee=this.s.b,Ce=Te(this.p,this.s,this.o);this.ondata(ve(Ce,ee,this.s.b),this.d),this.o=ve(Ce,this.s.b-32768),this.s.b=this.o.length,this.p=ve(this.p,this.s.p/8|0),this.s.p&=7},O.prototype.push=function(H,ee){this.e(H),this.c(ee)},O})(),ui=(function(){function O(H,ee){hn([Qr,function(){return[Wr,vn]}],this,Kr.call(this,H,ee),function(Ce){var Oe=new vn(Ce.data);onmessage=Wr(Oe)},7,0)}return O})();function ps(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),Hr(O,H,[Qr],function(Ce){return cr(us(Ce.data[0],wr(Ce.data[1])))},1,ee)}function us(O,H){return Te(O,{i:2},H&&H.out,H&&H.dictionary)}var Ts=(function(){function O(H,ee){this.c=Mt(),this.l=0,this.v=1,Dn.call(this,H,ee)}return O.prototype.push=function(H,ee){this.c.p(H),this.l+=H.length,Dn.prototype.push.call(this,H,ee)},O.prototype.p=function(H,ee){var Ce=qt(H,this.o,this.v&&Nr(this.o),ee&&8,this.s);this.v&&(gn(Ce,this.o),this.v=0),ee&&(Pr(Ce,Ce.length-8,this.c.d()),Pr(Ce,Ce.length-4,this.l)),this.ondata(Ce,ee)},O.prototype.flush=function(){Dn.prototype.flush.call(this)},O})(),vs=(function(){function O(H,ee){hn([hr,nn,function(){return[Wr,Dn,Ts]}],this,Kr.call(this,H,ee),function(Ce){var Oe=new Ts(Ce.data);onmessage=Wr(Oe)},8,1)}return O})();function Ai(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),Hr(O,H,[hr,nn,function(){return[Ga]}],function(Ce){return cr(Ga(Ce.data[0],Ce.data[1]))},2,ee)}function Ga(O,H){H||(H={});var ee=Mt(),Ce=O.length;ee.p(O);var Oe=qt(O,H,Nr(H),8),Ge=Oe.length;return gn(Oe,H),Pr(Oe,Ge-8,ee.d()),Pr(Oe,Ge-4,Ce),Oe}var Ii=(function(){function O(H,ee){this.v=1,this.r=0,vn.call(this,H,ee)}return O.prototype.push=function(H,ee){if(vn.prototype.e.call(this,H),this.r+=H.length,this.v){var Ce=this.p.subarray(this.v-1),Oe=Ce.length>3?sn(Ce):4;if(Oe>Ce.length){if(!ee)return}else this.v>1&&this.onmember&&this.onmember(this.r-Ce.length);this.p=Ce.subarray(Oe),this.v=0}vn.prototype.c.call(this,ee),this.s.f&&!this.s.l&&!ee&&(this.v=le(this.s.p)+9,this.s={i:0},this.o=new f(0),this.push(new f(0),ee))},O})(),Ma=(function(){function O(H,ee){var Ce=this;hn([Qr,Gr,function(){return[Wr,vn,Ii]}],this,Kr.call(this,H,ee),function(Oe){var Ge=new Ii(Oe.data);Ge.onmember=function(at){return postMessage(at)},onmessage=Wr(Ge)},9,0,function(Oe){return Ce.onmember&&Ce.onmember(Oe)})}return O})();function Rl(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),Hr(O,H,[Qr,Gr,function(){return[ri]}],function(Ce){return cr(ri(Ce.data[0],Ce.data[1]))},3,ee)}function ri(O,H){var ee=sn(O);return ee+8>O.length&&Ie(6,"invalid gzip data"),Te(O.subarray(ee,-8),{i:2},H&&H.out||new f(yt(O)),H&&H.dictionary)}var Zo=(function(){function O(H,ee){this.c=Nt(),this.v=1,Dn.call(this,H,ee)}return O.prototype.push=function(H,ee){this.c.p(H),Dn.prototype.push.call(this,H,ee)},O.prototype.p=function(H,ee){var Ce=qt(H,this.o,this.v&&(this.o.dictionary?6:2),ee&&4,this.s);this.v&&(ln(Ce,this.o),this.v=0),ee&&Pr(Ce,Ce.length-4,this.c.d()),this.ondata(Ce,ee)},O.prototype.flush=function(){Dn.prototype.flush.call(this)},O})(),Ql=(function(){function O(H,ee){hn([hr,Vr,function(){return[Wr,Dn,Zo]}],this,Kr.call(this,H,ee),function(Ce){var Oe=new Zo(Ce.data);onmessage=Wr(Oe)},10,1)}return O})();function el(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),Hr(O,H,[hr,Vr,function(){return[Fs]}],function(Ce){return cr(Fs(Ce.data[0],Ce.data[1]))},4,ee)}function Fs(O,H){H||(H={});var ee=Nt();ee.p(O);var Ce=qt(O,H,H.dictionary?6:2,4);return ln(Ce,H),Pr(Ce,Ce.length-4,ee.d()),Ce}var Gi=(function(){function O(H,ee){vn.call(this,H,ee),this.v=H&&H.dictionary?2:1}return O.prototype.push=function(H,ee){if(vn.prototype.e.call(this,H),this.v){if(this.p.length<6&&!ee)return;this.p=this.p.subarray(Fn(this.p,this.v-1)),this.v=0}ee&&(this.p.length<4&&Ie(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),vn.prototype.c.call(this,ee)},O})(),oa=(function(){function O(H,ee){hn([Qr,Sr,function(){return[Wr,vn,Gi]}],this,Kr.call(this,H,ee),function(Ce){var Oe=new Gi(Ce.data);onmessage=Wr(Oe)},11,0)}return O})();function vl(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),Hr(O,H,[Qr,Sr,function(){return[qa]}],function(Ce){return cr(qa(Ce.data[0],wr(Ce.data[1])))},5,ee)}function qa(O,H){return Te(O.subarray(Fn(O,H&&H.dictionary),-4),{i:2},H&&H.out,H&&H.dictionary)}var ao=(function(){function O(H,ee){this.o=Kr.call(this,H,ee)||{},this.G=Ii,this.I=vn,this.Z=Gi}return O.prototype.i=function(){var H=this;this.s.ondata=function(ee,Ce){H.ondata(ee,Ce)}},O.prototype.push=function(H,ee){if(this.ondata||Ie(5),this.s)this.s.push(H,ee);else{if(this.p&&this.p.length){var Ce=new f(this.p.length+H.length);Ce.set(this.p),Ce.set(H,this.p.length)}else this.p=H;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,ee),this.p=null)}},O})(),ki=(function(){function O(H,ee){ao.call(this,H,ee),this.queuedSize=0,this.G=Ma,this.I=ui,this.Z=oa}return O.prototype.i=function(){var H=this;this.s.ondata=function(ee,Ce,Oe){H.ondata(ee,Ce,Oe)},this.s.ondrain=function(ee){H.queuedSize-=ee,H.ondrain&&H.ondrain(ee)}},O.prototype.push=function(H,ee){this.queuedSize+=H.length,ao.prototype.push.call(this,H,ee)},O})();function so(O,H,ee){return ee||(ee=H,H={}),typeof ee!="function"&&Ie(7),O[0]==31&&O[1]==139&&O[2]==8?Rl(O,H,ee):(O[0]&15)!=8||O[0]>>4>7||(O[0]<<8|O[1])%31?ps(O,H,ee):vl(O,H,ee)}function ko(O,H){return O[0]==31&&O[1]==139&&O[2]==8?ri(O,H):(O[0]&15)!=8||O[0]>>4>7||(O[0]<<8|O[1])%31?us(O,H):qa(O,H)}var io=function(O,H,ee,Ce){for(var Oe in O){var Ge=O[Oe],at=H+Oe,S=Ce;Array.isArray(Ge)&&(S=Ir(Ce,Ge[1]),Ge=Ge[0]),Ge instanceof f?ee[at]=[Ge,S]:(ee[at+="/"]=[new f(0),S],io(Ge,at,ee,Ce))}},ji=typeof TextEncoder<"u"&&new TextEncoder,ms=typeof TextDecoder<"u"&&new TextDecoder,Xa=0;try{ms.decode(Le,{stream:!0}),Xa=1}catch{}var Ho=function(O){for(var H="",ee=0;;){var Ce=O[ee++],Oe=(Ce>127)+(Ce>223)+(Ce>239);if(ee+Oe>O.length)return{s:H,r:ve(O,ee-1)};Oe?Oe==3?(Ce=((Ce&15)<<18|(O[ee++]&63)<<12|(O[ee++]&63)<<6|O[ee++]&63)-65536,H+=String.fromCharCode(55296|Ce>>10,56320|Ce&1023)):Oe&1?H+=String.fromCharCode((Ce&31)<<6|O[ee++]&63):H+=String.fromCharCode((Ce&15)<<12|(O[ee++]&63)<<6|O[ee++]&63):H+=String.fromCharCode(Ce)}},oo=(function(){function O(H){this.ondata=H,Xa?this.t=new TextDecoder:this.p=Le}return O.prototype.push=function(H,ee){if(this.ondata||Ie(5),ee=!!ee,this.t){this.ondata(this.t.decode(H,{stream:!0}),ee),ee&&(this.t.decode().length&&Ie(8),this.t=null);return}this.p||Ie(4);var Ce=new f(this.p.length+H.length);Ce.set(this.p),Ce.set(H,this.p.length);var Oe=Ho(Ce),Ge=Oe.s,at=Oe.r;ee?(at.length&&Ie(8),this.p=null):this.p=at,this.ondata(Ge,ee)},O})(),ec=(function(){function O(H){this.ondata=H}return O.prototype.push=function(H,ee){this.ondata||Ie(5),this.d&&Ie(4),this.ondata(Xs(H),this.d=ee||!1)},O})();function Xs(O,H){if(H){for(var ee=new f(O.length),Ce=0;Ce<O.length;++Ce)ee[Ce]=O.charCodeAt(Ce);return ee}if(ji)return ji.encode(O);for(var Oe=O.length,Ge=new f(O.length+(O.length>>1)),at=0,S=function(z){Ge[at++]=z},Ce=0;Ce<Oe;++Ce){if(at+5>Ge.length){var w=new f(at+8+(Oe-Ce<<1));w.set(Ge),Ge=w}var P=O.charCodeAt(Ce);P<128||H?S(P):P<2048?(S(192|P>>6),S(128|P&63)):P>55295&&P<57344?(P=65536+(P&1047552)|O.charCodeAt(++Ce)&1023,S(240|P>>18),S(128|P>>12&63),S(128|P>>6&63),S(128|P&63)):(S(224|P>>12),S(128|P>>6&63),S(128|P&63))}return ve(Ge,0,at)}function zn(O,H){if(H){for(var ee="",Ce=0;Ce<O.length;Ce+=16384)ee+=String.fromCharCode.apply(null,O.subarray(Ce,Ce+16384));return ee}else{if(ms)return ms.decode(O);var Oe=Ho(O),Ge=Oe.s,ee=Oe.r;return ee.length&&Ie(8),Ge}}var Ps=function(O){return O==1?3:O<6?2:O==9?1:0},ni=function(O,H){return H+30+Rr(O,H+26)+Rr(O,H+28)},ai=function(O,H,ee){var Ce=Rr(O,H+28),Oe=zn(O.subarray(H+46,H+46+Ce),!(Rr(O,H+8)&2048)),Ge=H+46+Ce,at=Rn(O,H+20),S=ee&&at==4294967295?lo(O,Ge):[at,Rn(O,H+24),Rn(O,H+42)],w=S[0],P=S[1],z=S[2];return[Rr(O,H+10),w,P,Oe,Ge+Rr(O,H+30)+Rr(O,H+32),z]},lo=function(O,H){for(;Rr(O,H)!=1;H+=4+Rr(O,H+2));return[Dr(O,H+12),Dr(O,H+4),Dr(O,H+20)]},Ss=function(O){var H=0;if(O)for(var ee in O){var Ce=O[ee].length;Ce>65535&&Ie(9),H+=Ce+4}return H},Ri=function(O,H,ee,Ce,Oe,Ge,at,S){var w=Ce.length,P=ee.extra,z=S&&S.length,Y=Ss(P);Pr(O,H,at!=null?33639248:67324752),H+=4,at!=null&&(O[H++]=20,O[H++]=ee.os),O[H]=20,H+=2,O[H++]=ee.flag<<1|(Ge<0&&8),O[H++]=Oe&&8,O[H++]=ee.compression&255,O[H++]=ee.compression>>8;var te=new Date(ee.mtime==null?Date.now():ee.mtime),Be=te.getFullYear()-1980;if((Be<0||Be>119)&&Ie(10),Pr(O,H,Be<<25|te.getMonth()+1<<21|te.getDate()<<16|te.getHours()<<11|te.getMinutes()<<5|te.getSeconds()>>1),H+=4,Ge!=-1&&(Pr(O,H,ee.crc),Pr(O,H+4,Ge<0?-Ge-2:Ge),Pr(O,H+8,ee.size)),Pr(O,H+12,w),Pr(O,H+14,Y),H+=16,at!=null&&(Pr(O,H,z),Pr(O,H+6,ee.attrs),Pr(O,H+10,at),H+=14),O.set(Ce,H),H+=w,Y)for(var me in P){var ye=P[me],De=ye.length;Pr(O,H,+me),Pr(O,H+2,De),O.set(ye,H+4),H+=4+De}return z&&(O.set(S,H),H+=z),H},Rs=function(O,H,ee,Ce,Oe){Pr(O,H,101010256),Pr(O,H+8,ee),Pr(O,H+10,ee),Pr(O,H+12,Ce),Pr(O,H+16,Oe)},Cs=(function(){function O(H){this.filename=H,this.c=Mt(),this.size=0,this.compression=0}return O.prototype.process=function(H,ee){this.ondata(null,H,ee)},O.prototype.push=function(H,ee){this.ondata||Ie(5),this.c.p(H),this.size+=H.length,ee&&(this.crc=this.c.d()),this.process(H,ee||!1)},O})(),qi=(function(){function O(H,ee){var Ce=this;ee||(ee={}),Cs.call(this,H),this.d=new Dn(ee,function(Oe,Ge){Ce.ondata(null,Oe,Ge)}),this.compression=8,this.flag=Ps(ee.level)}return O.prototype.process=function(H,ee){try{this.d.push(H,ee)}catch(Ce){this.ondata(Ce,null,ee)}},O.prototype.push=function(H,ee){Cs.prototype.push.call(this,H,ee)},O})(),co=(function(){function O(H,ee){var Ce=this;ee||(ee={}),Cs.call(this,H),this.d=new _r(ee,function(Oe,Ge,at){Ce.ondata(Oe,Ge,at)}),this.compression=8,this.flag=Ps(ee.level),this.terminate=this.d.terminate}return O.prototype.process=function(H,ee){this.d.push(H,ee)},O.prototype.push=function(H,ee){Cs.prototype.push.call(this,H,ee)},O})(),da=(function(){function O(H){this.ondata=H,this.u=[],this.d=1}return O.prototype.add=function(H){var ee=this;if(this.ondata||Ie(5),this.d&2)this.ondata(Ie(4+(this.d&1)*8,0,1),null,!1);else{var Ce=Xs(H.filename),Oe=Ce.length,Ge=H.comment,at=Ge&&Xs(Ge),S=Oe!=H.filename.length||at&&Ge.length!=at.length,w=Oe+Ss(H.extra)+30;Oe>65535&&this.ondata(Ie(11,0,1),null,!1);var P=new f(w);Ri(P,0,H,Ce,S,-1);var z=[P],Y=function(){for(var De=0,ze=z;De<ze.length;De++){var Ze=ze[De];ee.ondata(null,Ze,!1)}z=[]},te=this.d;this.d=0;var Be=this.u.length,me=Ir(H,{f:Ce,u:S,o:at,t:function(){H.terminate&&H.terminate()},r:function(){if(Y(),te){var De=ee.u[Be+1];De?De.r():ee.d=1}te=1}}),ye=0;H.ondata=function(De,ze,Ze){if(De)ee.ondata(De,ze,Ze),ee.terminate();else if(ye+=ze.length,z.push(ze),Ze){var st=new f(16);Pr(st,0,134695760),Pr(st,4,H.crc),Pr(st,8,ye),Pr(st,12,H.size),z.push(st),me.c=ye,me.b=w+ye+16,me.crc=H.crc,me.size=H.size,te&&me.r(),te=1}else te&&Y()},this.u.push(me)}},O.prototype.end=function(){var H=this;if(this.d&2){this.ondata(Ie(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){H.d&1&&(H.u.splice(-1,1),H.e())},t:function(){}}),this.d=3},O.prototype.e=function(){for(var H=0,ee=0,Ce=0,Oe=0,Ge=this.u;Oe<Ge.length;Oe++){var at=Ge[Oe];Ce+=46+at.f.length+Ss(at.extra)+(at.o?at.o.length:0)}for(var S=new f(Ce+22),w=0,P=this.u;w<P.length;w++){var at=P[w];Ri(S,H,at,at.f,at.u,-at.c-2,ee,at.o),H+=46+at.f.length+Ss(at.extra)+(at.o?at.o.length:0),ee+=at.b}Rs(S,H,this.u.length,Ce,ee),this.ondata(null,S,!0),this.d=2},O.prototype.terminate=function(){for(var H=0,ee=this.u;H<ee.length;H++){var Ce=ee[H];Ce.t()}this.d=2},O})();function Os(O,H,ee){ee||(ee=H,H={}),typeof ee!="function"&&Ie(7);var Ce={};io(O,"",Ce,H);var Oe=Object.keys(Ce),Ge=Oe.length,at=0,S=0,w=Ge,P=new Array(Ge),z=[],Y=function(){for(var De=0;De<z.length;++De)z[De]()},te=function(De,ze){Q(function(){ee(De,ze)})};Q(function(){te=ee});var Be=function(){var De=new f(S+22),ze=at,Ze=S-at;S=0;for(var st=0;st<w;++st){var Pe=P[st];try{var gt=Pe.c.length;Ri(De,S,Pe,Pe.f,Pe.u,gt);var pt=30+Pe.f.length+Ss(Pe.extra),xt=S+pt;De.set(Pe.c,xt),Ri(De,at,Pe,Pe.f,Pe.u,gt,S,Pe.m),at+=16+pt+(Pe.m?Pe.m.length:0),S=xt+gt}catch(rt){return te(rt,null)}}Rs(De,at,P.length,Ze,ze),te(null,De)};Ge||Be();for(var me=function(De){var ze=Oe[De],Ze=Ce[ze],st=Ze[0],Pe=Ze[1],gt=Mt(),pt=st.length;gt.p(st);var xt=Xs(ze),rt=xt.length,Ft=Pe.comment,Vt=Ft&&Xs(Ft),Bt=Vt&&Vt.length,et=Ss(Pe.extra),Qt=Pe.level==0?0:8,or=function(Gt,It){if(Gt)Y(),te(Gt,null);else{var ir=It.length;P[De]=Ir(Pe,{size:pt,crc:gt.d(),c:It,f:xt,m:Vt,u:rt!=ze.length||Vt&&Ft.length!=Bt,compression:Qt}),at+=30+rt+et+ir,S+=76+2*(rt+et)+(Bt||0)+ir,--Ge||Be()}};if(rt>65535&&or(Ie(11,0,1),null),!Qt)or(null,st);else if(pt<16e4)try{or(null,qs(st,Pe))}catch(Gt){or(Gt,null)}else z.push(Ka(st,Pe,or))},ye=0;ye<w;++ye)me(ye);return Y}function si(O,H){H||(H={});var ee={},Ce=[];io(O,"",ee,H);var Oe=0,Ge=0;for(var at in ee){var S=ee[at],w=S[0],P=S[1],z=P.level==0?0:8,Y=Xs(at),te=Y.length,Be=P.comment,me=Be&&Xs(Be),ye=me&&me.length,De=Ss(P.extra);te>65535&&Ie(11);var ze=z?qs(w,P):w,Ze=ze.length,st=Mt();st.p(w),Ce.push(Ir(P,{size:w.length,crc:st.d(),c:ze,f:Y,m:me,u:te!=at.length||me&&Be.length!=ye,o:Oe,compression:z})),Oe+=30+te+De+Ze,Ge+=76+2*(te+De)+(ye||0)+Ze}for(var Pe=new f(Ge+22),gt=Oe,pt=Ge-Oe,xt=0;xt<Ce.length;++xt){var Y=Ce[xt];Ri(Pe,Y.o,Y,Y.f,Y.u,Y.c.length);var rt=30+Y.f.length+Ss(Y.extra);Pe.set(Y.c,Y.o+rt),Ri(Pe,Oe,Y,Y.f,Y.u,Y.c.length,Y.o,Y.m),Oe+=16+rt+(Y.m?Y.m.length:0)}return Rs(Pe,Oe,Ce.length,pt,gt),Pe}var Ti=(function(){function O(){}return O.prototype.push=function(H,ee){this.ondata(null,H,ee)},O.compression=0,O})(),pi=(function(){function O(){var H=this;this.i=new vn(function(ee,Ce){H.ondata(null,ee,Ce)})}return O.prototype.push=function(H,ee){try{this.i.push(H,ee)}catch(Ce){this.ondata(Ce,null,ee)}},O.compression=8,O})(),uo=(function(){function O(H,ee){var Ce=this;ee<32e4?this.i=new vn(function(Oe,Ge){Ce.ondata(null,Oe,Ge)}):(this.i=new ui(function(Oe,Ge,at){Ce.ondata(Oe,Ge,at)}),this.terminate=this.i.terminate)}return O.prototype.push=function(H,ee){this.i.terminate&&(H=ve(H,0)),this.i.push(H,ee)},O.compression=8,O})(),Ut=(function(){function O(H){this.onfile=H,this.k=[],this.o={0:Ti},this.p=Le}return O.prototype.push=function(H,ee){var Ce=this;if(this.onfile||Ie(5),this.p||Ie(4),this.c>0){var Oe=Math.min(this.c,H.length),Ge=H.subarray(0,Oe);if(this.c-=Oe,this.d?this.d.push(Ge,!this.c):this.k[0].push(Ge),H=H.subarray(Oe),H.length)return this.push(H,ee)}else{var at=0,S=0,w=void 0,P=void 0;this.p.length?H.length?(P=new f(this.p.length+H.length),P.set(this.p),P.set(H,this.p.length)):P=this.p:P=H;for(var z=P.length,Y=this.c,te=Y&&this.d,Be=function(){var ze,Ze=Rn(P,S);if(Ze==67324752){at=1,w=S,me.d=null,me.c=0;var st=Rr(P,S+6),Pe=Rr(P,S+8),gt=st&2048,pt=st&8,xt=Rr(P,S+26),rt=Rr(P,S+28);if(z>S+30+xt+rt){var Ft=[];me.k.unshift(Ft),at=2;var Vt=Rn(P,S+18),Bt=Rn(P,S+22),et=zn(P.subarray(S+30,S+=30+xt),!gt);Vt==4294967295?(ze=pt?[-2]:lo(P,S),Vt=ze[0],Bt=ze[1]):pt&&(Vt=-1),S+=rt,me.c=Vt;var Qt,or={name:et,compression:Pe,start:function(){if(or.ondata||Ie(5),!Vt)or.ondata(null,Le,!0);else{var Gt=Ce.o[Pe];Gt||or.ondata(Ie(14,"unknown compression type "+Pe,1),null,!1),Qt=Vt<0?new Gt(et):new Gt(et,Vt,Bt),Qt.ondata=function(ut,St,Et){or.ondata(ut,St,Et)};for(var It=0,ir=Ft;It<ir.length;It++){var nt=ir[It];Qt.push(nt,!1)}Ce.k[0]==Ft&&Ce.c?Ce.d=Qt:Qt.push(Le,!0)}},terminate:function(){Qt&&Qt.terminate&&Qt.terminate()}};Vt>=0&&(or.size=Vt,or.originalSize=Bt),me.onfile(or)}return"break"}else if(Y){if(Ze==134695760)return w=S+=12+(Y==-2&&8),at=3,me.c=0,"break";if(Ze==33639248)return w=S-=4,at=3,me.c=0,"break"}},me=this;S<z-4;++S){var ye=Be();if(ye==="break")break}if(this.p=Le,Y<0){var De=at?P.subarray(0,w-12-(Y==-2&&8)-(Rn(P,w-16)==134695760&&4)):P.subarray(0,S);te?te.push(De,!!at):this.k[+(at==2)].push(De)}if(at&2)return this.push(P.subarray(S),ee);this.p=P.subarray(S)}ee&&(this.c&&Ie(13),this.p=null)},O.prototype.register=function(H){this.o[H.compression]=H},O})(),Q=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(O){O()};function ne(O,H,ee){ee||(ee=H,H={}),typeof ee!="function"&&Ie(7);var Ce=[],Oe=function(){for(var De=0;De<Ce.length;++De)Ce[De]()},Ge={},at=function(De,ze){Q(function(){ee(De,ze)})};Q(function(){at=ee});for(var S=O.length-22;Rn(O,S)!=101010256;--S)if(!S||O.length-S>65558)return at(Ie(13,0,1),null),Oe;var w=Rr(O,S+8);if(w){var P=w,z=Rn(O,S+16),Y=z==4294967295||P==65535;if(Y){var te=Rn(O,S-12);Y=Rn(O,te)==101075792,Y&&(P=w=Rn(O,te+32),z=Rn(O,te+48))}for(var Be=H&&H.filter,me=function(De){var ze=ai(O,z,Y),Ze=ze[0],st=ze[1],Pe=ze[2],gt=ze[3],pt=ze[4],xt=ze[5],rt=ni(O,xt);z=pt;var Ft=function(Bt,et){Bt?(Oe(),at(Bt,null)):(et&&(Ge[gt]=et),--w||at(null,Ge))};if(!Be||Be({name:gt,size:st,originalSize:Pe,compression:Ze}))if(!Ze)Ft(null,ve(O,rt,rt+st));else if(Ze==8){var Vt=O.subarray(rt,rt+st);if(Pe<524288||st>.8*Pe)try{Ft(null,us(Vt,{out:new f(Pe)}))}catch(Bt){Ft(Bt,null)}else Ce.push(ps(Vt,{size:Pe},Ft))}else Ft(Ie(14,"unknown compression type "+Ze,1),null);else Ft(null,null)},ye=0;ye<P;++ye)me(ye)}else at(null,{});return Oe}function ce(O,H){for(var ee={},Ce=O.length-22;Rn(O,Ce)!=101010256;--Ce)(!Ce||O.length-Ce>65558)&&Ie(13);var Oe=Rr(O,Ce+8);if(!Oe)return{};var Ge=Rn(O,Ce+16),at=Ge==4294967295||Oe==65535;if(at){var S=Rn(O,Ce-12);at=Rn(O,S)==101075792,at&&(Oe=Rn(O,S+32),Ge=Rn(O,S+48))}for(var w=H&&H.filter,P=0;P<Oe;++P){var z=ai(O,Ge,at),Y=z[0],te=z[1],Be=z[2],me=z[3],ye=z[4],De=z[5],ze=ni(O,De);Ge=ye,(!w||w({name:me,size:te,originalSize:Be,compression:Y}))&&(Y?Y==8?ee[me]=us(O.subarray(ze,ze+te),{out:new f(Be)}):Ie(14,"unknown compression type "+Y):ee[me]=ve(O,ze,ze+te))}return ee}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(l,h,i){i.r(h),i.d(h,{IOBuffer:function(){return v}});var d=i("./node_modules/iobuffer/lib-esm/text.js");const u=1024*8,f=(()=>{const g=new Uint8Array(4),x=new Uint32Array(g.buffer);return!((x[0]=1)&g[0])})(),m={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class v{constructor(x=u,y={}){Us(this,"buffer");Us(this,"byteLength");Us(this,"byteOffset");Us(this,"length");Us(this,"offset");Us(this,"lastWrittenByte");Us(this,"littleEndian");Us(this,"_data");Us(this,"_mark");Us(this,"_marks");let j=!1;typeof x=="number"?x=new ArrayBuffer(x):(j=!0,this.lastWrittenByte=x.byteLength);const N=y.offset?y.offset>>>0:0,T=x.byteLength-N;let I=N;(ArrayBuffer.isView(x)||x instanceof v)&&(x.byteLength!==x.buffer.byteLength&&(I=x.byteOffset+N),x=x.buffer),j?this.lastWrittenByte=T:this.lastWrittenByte=0,this.buffer=x,this.length=T,this.byteLength=T,this.byteOffset=I,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,I,T),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const j=(this.offset+x)*2,N=new Uint8Array(j);N.set(new Uint8Array(this.buffer)),this.buffer=N.buffer,this.length=j,this.byteLength=j,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const j=m[y].BYTES_PER_ELEMENT*x,N=this.byteOffset+this.offset,T=this.buffer.slice(N,N+j);if(this.littleEndian===f&&y!=="uint8"&&y!=="int8"){const C=new Uint8Array(this.buffer.slice(N,N+j));C.reverse();const D=new m[y](C.buffer);return this.offset+=j,D.reverse(),D}const I=new m[y](T);return this.offset+=j,I}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let j=0;j<x;j++)y+=this.readChar();return y}readUtf8(x=1){return(0,d.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,d.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,d.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(l,h,i){i.r(h),i.d(h,{decode:function(){return d},encode:function(){return f}});function d(m,v="utf8"){return new TextDecoder(v).decode(m)}const u=new TextEncoder;function f(m){return u.encode(m)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(l,h,i){i.r(h),i.d(h,{AcroForm:function(){return qs},AcroFormAppearance:function(){return _r},AcroFormButton:function(){return sn},AcroFormCheckBox:function(){return Fn},AcroFormChoiceField:function(){return Rn},AcroFormComboBox:function(){return Pr},AcroFormEditBox:function(){return gn},AcroFormListBox:function(){return Dr},AcroFormPasswordField:function(){return Dn},AcroFormPushButton:function(){return yt},AcroFormRadioButton:function(){return Nr},AcroFormTextField:function(){return Kr},GState:function(){return Te},ShadingPattern:function(){return pe},TilingPattern:function(){return X},default:function(){return fe},jsPDF:function(){return fe}});var d=i("./node_modules/@babel/runtime/helpers/esm/typeof.js"),u=i("./node_modules/fflate/esm/browser.js"),f=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),m=i("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var v=(function(){return typeof window<"u"?window:typeof aA<"u"?aA:typeof self<"u"?self:this})();function g(){v.console&&typeof v.console.log=="function"&&v.console.log.apply(v.console,arguments)}var x={log:g,warn:function(S){v.console&&(typeof v.console.warn=="function"?v.console.warn.apply(v.console,arguments):g.call(null,arguments))},error:function(S){v.console&&(typeof v.console.error=="function"?v.console.error.apply(v.console,arguments):g(S))}};function y(S,w,P){var z=new XMLHttpRequest;z.open("GET",S),z.responseType="blob",z.onload=function(){T(z.response,w,P)},z.onerror=function(){x.error("could not download file")},z.send()}function j(S){var w=new XMLHttpRequest;w.open("HEAD",S,!1);try{w.send()}catch{}return w.status>=200&&w.status<=299}function N(S){try{S.dispatchEvent(new MouseEvent("click"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),S.dispatchEvent(w)}}var T=v.saveAs||((typeof window>"u"?"undefined":(0,d.default)(window))!=="object"||window!==v?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(S,w,P){var z=v.URL||v.webkitURL,Y=document.createElement("a");w=w||S.name||"download",Y.download=w,Y.rel="noopener",typeof S=="string"?(Y.href=S,Y.origin!==location.origin?j(Y.href)?y(S,w,P):N(Y,Y.target="_blank"):N(Y)):(Y.href=z.createObjectURL(S),setTimeout(function(){z.revokeObjectURL(Y.href)},4e4),setTimeout(function(){N(Y)},0))}:"msSaveOrOpenBlob"in navigator?function(S,w,P){if(w=w||S.name||"download",typeof S=="string")if(j(S))y(S,w,P);else{var z=document.createElement("a");z.href=S,z.target="_blank",setTimeout(function(){N(z)})}else navigator.msSaveOrOpenBlob((function(Y,te){return te===void 0?te={autoBom:!1}:(0,d.default)(te)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),te={autoBom:!te}),te.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Y.type)?new Blob(["\uFEFF",Y],{type:Y.type}):Y})(S,P),w)}:function(S,w,P,z){if((z=z||open("","_blank"))&&(z.document.title=z.document.body.innerText="downloading..."),typeof S=="string")return y(S,w,P);var Y=S.type==="application/octet-stream",te=/constructor/i.test(v.HTMLElement)||v.safari,Be=/CriOS\/[\d]+/.test(navigator.userAgent);if((Be||Y&&te)&&(typeof FileReader>"u"?"undefined":(0,d.default)(FileReader))==="object"){var me=new FileReader;me.onloadend=function(){var ze=me.result;ze=Be?ze:ze.replace(/^data:[^;]*;/,"data:attachment/file;"),z?z.location.href=ze:location=ze,z=null},me.readAsDataURL(S)}else{var ye=v.URL||v.webkitURL,De=ye.createObjectURL(S);z?z.location=De:location.href=De,z=null,setTimeout(function(){ye.revokeObjectURL(De)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function I(S){var w;S=S||"",this.ok=!1,S.charAt(0)=="#"&&(S=S.substr(1,6)),S={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[S=(S=S.replace(/ /g,"")).toLowerCase()]||S;for(var P=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(me){return[parseInt(me[1]),parseInt(me[2]),parseInt(me[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(me){return[parseInt(me[1],16),parseInt(me[2],16),parseInt(me[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(me){return[parseInt(me[1]+me[1],16),parseInt(me[2]+me[2],16),parseInt(me[3]+me[3],16)]}}],z=0;z<P.length;z++){var Y=P[z].re,te=P[z].process,Be=Y.exec(S);Be&&(w=te(Be),this.r=w[0],this.g=w[1],this.b=w[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var me=this.r.toString(16),ye=this.g.toString(16),De=this.b.toString(16);return me.length==1&&(me="0"+me),ye.length==1&&(ye="0"+ye),De.length==1&&(De="0"+De),"#"+me+ye+De}}var C=v.atob.bind(v),D=v.btoa.bind(v);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _(S,w){var P=S[0],z=S[1],Y=S[2],te=S[3];P=ae(P,z,Y,te,w[0],7,-680876936),te=ae(te,P,z,Y,w[1],12,-389564586),Y=ae(Y,te,P,z,w[2],17,606105819),z=ae(z,Y,te,P,w[3],22,-1044525330),P=ae(P,z,Y,te,w[4],7,-176418897),te=ae(te,P,z,Y,w[5],12,1200080426),Y=ae(Y,te,P,z,w[6],17,-1473231341),z=ae(z,Y,te,P,w[7],22,-45705983),P=ae(P,z,Y,te,w[8],7,1770035416),te=ae(te,P,z,Y,w[9],12,-1958414417),Y=ae(Y,te,P,z,w[10],17,-42063),z=ae(z,Y,te,P,w[11],22,-1990404162),P=ae(P,z,Y,te,w[12],7,1804603682),te=ae(te,P,z,Y,w[13],12,-40341101),Y=ae(Y,te,P,z,w[14],17,-1502002290),P=V(P,z=ae(z,Y,te,P,w[15],22,1236535329),Y,te,w[1],5,-165796510),te=V(te,P,z,Y,w[6],9,-1069501632),Y=V(Y,te,P,z,w[11],14,643717713),z=V(z,Y,te,P,w[0],20,-373897302),P=V(P,z,Y,te,w[5],5,-701558691),te=V(te,P,z,Y,w[10],9,38016083),Y=V(Y,te,P,z,w[15],14,-660478335),z=V(z,Y,te,P,w[4],20,-405537848),P=V(P,z,Y,te,w[9],5,568446438),te=V(te,P,z,Y,w[14],9,-1019803690),Y=V(Y,te,P,z,w[3],14,-187363961),z=V(z,Y,te,P,w[8],20,1163531501),P=V(P,z,Y,te,w[13],5,-1444681467),te=V(te,P,z,Y,w[2],9,-51403784),Y=V(Y,te,P,z,w[7],14,1735328473),P=ie(P,z=V(z,Y,te,P,w[12],20,-1926607734),Y,te,w[5],4,-378558),te=ie(te,P,z,Y,w[8],11,-2022574463),Y=ie(Y,te,P,z,w[11],16,1839030562),z=ie(z,Y,te,P,w[14],23,-35309556),P=ie(P,z,Y,te,w[1],4,-1530992060),te=ie(te,P,z,Y,w[4],11,1272893353),Y=ie(Y,te,P,z,w[7],16,-155497632),z=ie(z,Y,te,P,w[10],23,-1094730640),P=ie(P,z,Y,te,w[13],4,681279174),te=ie(te,P,z,Y,w[0],11,-358537222),Y=ie(Y,te,P,z,w[3],16,-722521979),z=ie(z,Y,te,P,w[6],23,76029189),P=ie(P,z,Y,te,w[9],4,-640364487),te=ie(te,P,z,Y,w[12],11,-421815835),Y=ie(Y,te,P,z,w[15],16,530742520),P=U(P,z=ie(z,Y,te,P,w[2],23,-995338651),Y,te,w[0],6,-198630844),te=U(te,P,z,Y,w[7],10,1126891415),Y=U(Y,te,P,z,w[14],15,-1416354905),z=U(z,Y,te,P,w[5],21,-57434055),P=U(P,z,Y,te,w[12],6,1700485571),te=U(te,P,z,Y,w[3],10,-1894986606),Y=U(Y,te,P,z,w[10],15,-1051523),z=U(z,Y,te,P,w[1],21,-2054922799),P=U(P,z,Y,te,w[8],6,1873313359),te=U(te,P,z,Y,w[15],10,-30611744),Y=U(Y,te,P,z,w[6],15,-1560198380),z=U(z,Y,te,P,w[13],21,1309151649),P=U(P,z,Y,te,w[4],6,-145523070),te=U(te,P,z,Y,w[11],10,-1120210379),Y=U(Y,te,P,z,w[2],15,718787259),z=U(z,Y,te,P,w[9],21,-343485551),S[0]=he(P,S[0]),S[1]=he(z,S[1]),S[2]=he(Y,S[2]),S[3]=he(te,S[3])}function Z(S,w,P,z,Y,te){return w=he(he(w,S),he(z,te)),he(w<<Y|w>>>32-Y,P)}function ae(S,w,P,z,Y,te,Be){return Z(w&P|~w&z,S,w,Y,te,Be)}function V(S,w,P,z,Y,te,Be){return Z(w&z|P&~z,S,w,Y,te,Be)}function ie(S,w,P,z,Y,te,Be){return Z(w^P^z,S,w,Y,te,Be)}function U(S,w,P,z,Y,te,Be){return Z(P^(w|~z),S,w,Y,te,Be)}function G(S){var w,P=S.length,z=[1732584193,-271733879,-1732584194,271733878];for(w=64;w<=S.length;w+=64)_(z,K(S.substring(w-64,w)));S=S.substring(w-64);var Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(w=0;w<S.length;w++)Y[w>>2]|=S.charCodeAt(w)<<(w%4<<3);if(Y[w>>2]|=128<<(w%4<<3),w>55)for(_(z,Y),w=0;w<16;w++)Y[w]=0;return Y[14]=8*P,_(z,Y),z}function K(S){var w,P=[];for(w=0;w<64;w+=4)P[w>>2]=S.charCodeAt(w)+(S.charCodeAt(w+1)<<8)+(S.charCodeAt(w+2)<<16)+(S.charCodeAt(w+3)<<24);return P}var W="0123456789abcdef".split("");function Ne(S){for(var w="",P=0;P<4;P++)w+=W[S>>8*P+4&15]+W[S>>8*P&15];return w}function ge(S){return String.fromCharCode(255&S,(65280&S)>>8,(16711680&S)>>16,(4278190080&S)>>24)}function Ee(S){return G(S).map(ge).join("")}var Fe=(function(S){for(var w=0;w<S.length;w++)S[w]=Ne(S[w]);return S.join("")})(G("hello"))!="5d41402abc4b2a76b9719d911017c592";function he(S,w){if(Fe){var P=(65535&S)+(65535&w);return(S>>16)+(w>>16)+(P>>16)<<16|65535&P}return S+w&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function le(S,w){var P,z,Y,te;if(S!==P){for(var Be=(Y=S,te=1+(256/S.length|0),new Array(te+1).join(Y)),me=[],ye=0;ye<256;ye++)me[ye]=ye;var De=0;for(ye=0;ye<256;ye++){var ze=me[ye];De=(De+ze+Be.charCodeAt(ye))%256,me[ye]=me[De],me[De]=ze}P=S,z=me}else me=z;var Ze=w.length,st=0,Pe=0,gt="";for(ye=0;ye<Ze;ye++)Pe=(Pe+(ze=me[st=(st+1)%256]))%256,me[st]=me[Pe],me[Pe]=ze,Be=me[(me[st]+me[Pe])%256],gt+=String.fromCharCode(w.charCodeAt(ye)^Be);return gt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ve={print:4,modify:8,copy:16,"annot-forms":32};function se(S,w,P,z){this.v=1,this.r=2;var Y=192;S.forEach(function(me){if(ve.perm!==void 0)throw new Error("Invalid permission: "+me);Y+=ve[me]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var te=(w+this.padding).substr(0,32),Be=(P+this.padding).substr(0,32);this.O=this.processOwnerPassword(te,Be),this.P=-(1+(255^Y)),this.encryptionKey=Ee(te+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(z)).substr(0,5),this.U=le(this.encryptionKey,this.padding)}function re(S){if(/[^\u0000-\u00ff]/.test(S))throw new Error("Invalid PDF Name Object: "+S+", Only accept ASCII characters.");for(var w="",P=S.length,z=0;z<P;z++){var Y=S.charCodeAt(z);w+=Y<33||Y===35||Y===37||Y===40||Y===41||Y===47||Y===60||Y===62||Y===91||Y===93||Y===123||Y===125||Y>126?"#"+("0"+Y.toString(16)).slice(-2):S[z]}return w}function Ie(S){if((0,d.default)(S)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var w={};this.subscribe=function(P,z,Y){if(Y=Y||!1,typeof P!="string"||typeof z!="function"||typeof Y!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");w.hasOwnProperty(P)||(w[P]={});var te=Math.random().toString(35);return w[P][te]=[z,!!Y],te},this.unsubscribe=function(P){for(var z in w)if(w[z][P])return delete w[z][P],Object.keys(w[z]).length===0&&delete w[z],!0;return!1},this.publish=function(P){if(w.hasOwnProperty(P)){var z=Array.prototype.slice.call(arguments,1),Y=[];for(var te in w[P]){var Be=w[P][te];try{Be[0].apply(S,z)}catch(me){v.console&&x.error("jsPDF PubSub Error",me.message,me)}Be[1]&&Y.push(te)}Y.length&&Y.forEach(this.unsubscribe)}},this.getTopics=function(){return w}}function Te(S){if(!(this instanceof Te))return new Te(S);var w="opacity,stroke-opacity".split(",");for(var P in S)S.hasOwnProperty(P)&&w.indexOf(P)>=0&&(this[P]=S[P]);this.id="",this.objectNumber=-1}function xe(S,w){this.gState=S,this.matrix=w,this.id="",this.objectNumber=-1}function pe(S,w,P,z,Y){if(!(this instanceof pe))return new pe(S,w,P,z,Y);this.type=S==="axial"?2:3,this.coords=w,this.colors=P,xe.call(this,z,Y)}function X(S,w,P,z,Y){if(!(this instanceof X))return new X(S,w,P,z,Y);this.boundingBox=S,this.xStep=w,this.yStep=P,this.stream="",this.cloneIndex=0,xe.call(this,z,Y)}function fe(S){var w,P=typeof arguments[0]=="string"?arguments[0]:"p",z=arguments[1],Y=arguments[2],te=arguments[3],Be=[],me=1,ye=16,De="S",ze=null;(0,d.default)(S=S||{})==="object"&&(P=S.orientation,z=S.unit||z,Y=S.format||Y,te=S.compress||S.compressPdf||te,(ze=S.encryption||null)!==null&&(ze.userPassword=ze.userPassword||"",ze.ownerPassword=ze.ownerPassword||"",ze.userPermissions=ze.userPermissions||[]),me=typeof S.userUnit=="number"?Math.abs(S.userUnit):1,S.precision!==void 0&&(w=S.precision),S.floatPrecision!==void 0&&(ye=S.floatPrecision),De=S.defaultPathOperation||"S"),Be=S.filters||(te===!0?["FlateEncode"]:Be),z=z||"mm",P=(""+(P||"P")).toLowerCase();var Ze=S.putOnlyUsedFonts||!1,st={},Pe={internal:{},__private__:{}};Pe.__private__.PubSub=Ie;var gt="1.3",pt=Pe.__private__.getPdfVersion=function(){return gt};Pe.__private__.setPdfVersion=function(de){gt=de};var xt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Pe.__private__.getPageFormats=function(){return xt};var rt=Pe.__private__.getPageFormat=function(de){return xt[de]};Y=Y||"a4";var Ft="compat",Vt="advanced",Bt=Ft;function et(){this.saveGraphicsState(),dt(new la(sa,0,0,-sa,0,ac()*sa).toString()+" cm"),this.setFontSize(this.getFontSize()/sa),De="n",Bt=Vt}function Qt(){this.restoreGraphicsState(),De="S",Bt=Ft}var or=Pe.__private__.combineFontStyleAndFontWeight=function(de,Re){if(de=="bold"&&Re=="normal"||de=="bold"&&Re==400||de=="normal"&&Re=="italic"||de=="bold"&&Re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Re&&(de=Re==400||Re==="normal"?de==="italic"?"italic":"normal":Re!=700&&Re!=="bold"||de!=="normal"?(Re==700?"bold":Re)+""+de:"bold"),de};Pe.advancedAPI=function(de){var Re=Bt===Ft;return Re&&et.call(this),typeof de!="function"||(de(this),Re&&Qt.call(this)),this},Pe.compatAPI=function(de){var Re=Bt===Vt;return Re&&Qt.call(this),typeof de!="function"||(de(this),Re&&et.call(this)),this},Pe.isAdvancedAPI=function(){return Bt===Vt};var Gt,It=function(de){if(Bt!==Vt)throw new Error(de+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ir=Pe.roundToPrecision=Pe.__private__.roundToPrecision=function(de,Re){var mt=w||Re;if(isNaN(de)||isNaN(mt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return de.toFixed(mt).replace(/0+$/,"")};Gt=Pe.hpf=Pe.__private__.hpf=typeof ye=="number"?function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return ir(de,ye)}:ye==="smart"?function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return ir(de,de>-1&&de<1?16:5)}:function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return ir(de,16)};var nt=Pe.f2=Pe.__private__.f2=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.f2");return ir(de,2)},ut=Pe.__private__.f3=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.f3");return ir(de,3)},St=Pe.scale=Pe.__private__.scale=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.scale");return Bt===Ft?de*sa:Bt===Vt?de:void 0},Et=function(de){return St((function(Re){return Bt===Ft?ac()-Re:Bt===Vt?Re:void 0})(de))};Pe.__private__.setPrecision=Pe.setPrecision=function(de){typeof parseInt(de,10)=="number"&&(w=parseInt(de,10))};var lr,Ar="00000000000000000000000000000000",vr=Pe.__private__.getFileId=function(){return Ar},Jt=Pe.__private__.setFileId=function(de){return Ar=de!==void 0&&/^[a-fA-F0-9]{32}$/.test(de)?de.toUpperCase():Ar.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ze!==null&&(fi=new se(ze.userPermissions,ze.userPassword,ze.ownerPassword,Ar)),Ar};Pe.setFileId=function(de){return Jt(de),this},Pe.getFileId=function(){return vr()};var mr=Pe.__private__.convertDateToPDFDate=function(de){var Re=de.getTimezoneOffset(),mt=Re<0?"+":"-",kt=Math.floor(Math.abs(Re/60)),Kt=Math.abs(Re%60),xr=[mt,jt(kt),"'",jt(Kt),"'"].join("");return["D:",de.getFullYear(),jt(de.getMonth()+1),jt(de.getDate()),jt(de.getHours()),jt(de.getMinutes()),jt(de.getSeconds()),xr].join("")},qr=Pe.__private__.convertPDFDateToDate=function(de){var Re=parseInt(de.substr(2,4),10),mt=parseInt(de.substr(6,2),10)-1,kt=parseInt(de.substr(8,2),10),Kt=parseInt(de.substr(10,2),10),xr=parseInt(de.substr(12,2),10),Fr=parseInt(de.substr(14,2),10);return new Date(Re,mt,kt,Kt,xr,Fr,0)},Lr=Pe.__private__.setCreationDate=function(de){var Re;if(de===void 0&&(de=new Date),de instanceof Date)Re=mr(de);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(de))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Re=de}return lr=Re},Ye=Pe.__private__.getCreationDate=function(de){var Re=lr;return de==="jsDate"&&(Re=qr(lr)),Re};Pe.setCreationDate=function(de){return Lr(de),this},Pe.getCreationDate=function(de){return Ye(de)};var vt,jt=Pe.__private__.padd2=function(de){return("0"+parseInt(de)).slice(-2)},Ht=Pe.__private__.padd2Hex=function(de){return("00"+(de=de.toString())).substr(de.length)},zt=0,rr=[],pr=[],gr=0,Tr=[],Xr=[],xn=!1,jn=pr;Pe.__private__.setCustomOutputDestination=function(de){xn=!0,jn=de};var aa=function(de){xn||(jn=de)};Pe.__private__.resetCustomOutputDestination=function(){xn=!1,jn=pr};var dt=Pe.__private__.out=function(de){return de=de.toString(),gr+=de.length+1,jn.push(de),jn},cn=Pe.__private__.write=function(de){return dt(arguments.length===1?de.toString():Array.prototype.join.call(arguments," "))},ua=Pe.__private__.getArrayBuffer=function(de){for(var Re=de.length,mt=new ArrayBuffer(Re),kt=new Uint8Array(mt);Re--;)kt[Re]=de.charCodeAt(Re);return mt},on=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Pe.__private__.getStandardFonts=function(){return on};var Ur=S.fontSize||16;Pe.__private__.setFontSize=Pe.setFontSize=function(de){return Ur=Bt===Vt?de/sa:de,this};var ra,Pn=Pe.__private__.getFontSize=Pe.getFontSize=function(){return Bt===Ft?Ur:Ur*sa},qn=S.R2L||!1;Pe.__private__.setR2L=Pe.setR2L=function(de){return qn=de,this},Pe.__private__.getR2L=Pe.getR2L=function(){return qn};var On,is=Pe.__private__.setZoomMode=function(de){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(de))ra=de;else if(isNaN(de)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(de)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+de+'" is not recognized.');ra=de}else ra=parseInt(de,10)};Pe.__private__.getZoomMode=function(){return ra};var Fa,kn=Pe.__private__.setPageMode=function(de){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(de)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+de+'" is not recognized.');On=de};Pe.__private__.getPageMode=function(){return On};var Ja=Pe.__private__.setLayoutMode=function(de){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(de)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+de+'" is not recognized.');Fa=de};Pe.__private__.getLayoutMode=function(){return Fa},Pe.__private__.setDisplayMode=Pe.setDisplayMode=function(de,Re,mt){return is(de),Ja(Re),kn(mt),this};var na={title:"",subject:"",author:"",keywords:"",creator:""};Pe.__private__.getDocumentProperty=function(de){if(Object.keys(na).indexOf(de)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return na[de]},Pe.__private__.getDocumentProperties=function(){return na},Pe.__private__.setDocumentProperties=Pe.setProperties=Pe.setDocumentProperties=function(de){for(var Re in na)na.hasOwnProperty(Re)&&de[Re]&&(na[Re]=de[Re]);return this},Pe.__private__.setDocumentProperty=function(de,Re){if(Object.keys(na).indexOf(de)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return na[de]=Re};var Bn,sa,Sn,ma,ts,_a={},La={},Hs=[],Wn={},xs={},Aa={},Hn={},ys=null,ga=0,wn=[],Wa=new Ie(Pe),fc=S.hotfixes||[],wi={},Xi={},Hl=[],la=function de(Re,mt,kt,Kt,xr,Fr){if(!(this instanceof de))return new de(Re,mt,kt,Kt,xr,Fr);isNaN(Re)&&(Re=1),isNaN(mt)&&(mt=0),isNaN(kt)&&(kt=0),isNaN(Kt)&&(Kt=1),isNaN(xr)&&(xr=0),isNaN(Fr)&&(Fr=0),this._matrix=[Re,mt,kt,Kt,xr,Fr]};Object.defineProperty(la.prototype,"sx",{get:function(){return this._matrix[0]},set:function(de){this._matrix[0]=de}}),Object.defineProperty(la.prototype,"shy",{get:function(){return this._matrix[1]},set:function(de){this._matrix[1]=de}}),Object.defineProperty(la.prototype,"shx",{get:function(){return this._matrix[2]},set:function(de){this._matrix[2]=de}}),Object.defineProperty(la.prototype,"sy",{get:function(){return this._matrix[3]},set:function(de){this._matrix[3]=de}}),Object.defineProperty(la.prototype,"tx",{get:function(){return this._matrix[4]},set:function(de){this._matrix[4]=de}}),Object.defineProperty(la.prototype,"ty",{get:function(){return this._matrix[5]},set:function(de){this._matrix[5]=de}}),Object.defineProperty(la.prototype,"a",{get:function(){return this._matrix[0]},set:function(de){this._matrix[0]=de}}),Object.defineProperty(la.prototype,"b",{get:function(){return this._matrix[1]},set:function(de){this._matrix[1]=de}}),Object.defineProperty(la.prototype,"c",{get:function(){return this._matrix[2]},set:function(de){this._matrix[2]=de}}),Object.defineProperty(la.prototype,"d",{get:function(){return this._matrix[3]},set:function(de){this._matrix[3]=de}}),Object.defineProperty(la.prototype,"e",{get:function(){return this._matrix[4]},set:function(de){this._matrix[4]=de}}),Object.defineProperty(la.prototype,"f",{get:function(){return this._matrix[5]},set:function(de){this._matrix[5]=de}}),Object.defineProperty(la.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(la.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(la.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(la.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),la.prototype.join=function(de){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Gt).join(de)},la.prototype.multiply=function(de){var Re=de.sx*this.sx+de.shy*this.shx,mt=de.sx*this.shy+de.shy*this.sy,kt=de.shx*this.sx+de.sy*this.shx,Kt=de.shx*this.shy+de.sy*this.sy,xr=de.tx*this.sx+de.ty*this.shx+this.tx,Fr=de.tx*this.shy+de.ty*this.sy+this.ty;return new la(Re,mt,kt,Kt,xr,Fr)},la.prototype.decompose=function(){var de=this.sx,Re=this.shy,mt=this.shx,kt=this.sy,Kt=this.tx,xr=this.ty,Fr=Math.sqrt(de*de+Re*Re),Cn=(de/=Fr)*mt+(Re/=Fr)*kt;mt-=de*Cn,kt-=Re*Cn;var _n=Math.sqrt(mt*mt+kt*kt);return Cn/=_n,de*(kt/=_n)<Re*(mt/=_n)&&(de=-de,Re=-Re,Cn=-Cn,Fr=-Fr),{scale:new la(Fr,0,0,_n,0,0),translate:new la(1,0,0,1,Kt,xr),rotate:new la(de,Re,-Re,de,0,0),skew:new la(1,0,Cn,1,0,0)}},la.prototype.toString=function(de){return this.join(" ")},la.prototype.inversed=function(){var de=this.sx,Re=this.shy,mt=this.shx,kt=this.sy,Kt=this.tx,xr=this.ty,Fr=1/(de*kt-Re*mt),Cn=kt*Fr,_n=-Re*Fr,ca=-mt*Fr,Zn=de*Fr;return new la(Cn,_n,ca,Zn,-Cn*Kt-ca*xr,-_n*Kt-Zn*xr)},la.prototype.applyToPoint=function(de){var Re=de.x*this.sx+de.y*this.shx+this.tx,mt=de.x*this.shy+de.y*this.sy+this.ty;return new rs(Re,mt)},la.prototype.applyToRectangle=function(de){var Re=this.applyToPoint(de),mt=this.applyToPoint(new rs(de.x+de.w,de.y+de.h));return new bs(Re.x,Re.y,mt.x-Re.x,mt.y-Re.y)},la.prototype.clone=function(){var de=this.sx,Re=this.shy,mt=this.shx,kt=this.sy,Kt=this.tx,xr=this.ty;return new la(de,Re,mt,kt,Kt,xr)},Pe.Matrix=la;var ii=Pe.matrixMult=function(de,Re){return Re.multiply(de)},Yi=new la(1,0,0,1,0,0);Pe.unitMatrix=Pe.identityMatrix=Yi;var tl=function(de,Re){if(!xs[de]){var mt=(Re instanceof pe?"Sh":"P")+(Object.keys(Wn).length+1).toString(10);Re.id=mt,xs[de]=mt,Wn[mt]=Re,Wa.publish("addPattern",Re)}};Pe.ShadingPattern=pe,Pe.TilingPattern=X,Pe.addShadingPattern=function(de,Re){return It("addShadingPattern()"),tl(de,Re),this},Pe.beginTilingPattern=function(de){It("beginTilingPattern()"),oi(de.boundingBox[0],de.boundingBox[1],de.boundingBox[2]-de.boundingBox[0],de.boundingBox[3]-de.boundingBox[1],de.matrix)},Pe.endTilingPattern=function(de,Re){It("endTilingPattern()"),Re.stream=Xr[vt].join(`
`),tl(de,Re),Wa.publish("endTilingPattern",Re),Hl.pop().restore()};var mi,Ns=Pe.__private__.newObject=function(){var de=hi();return Qi(de,!0),de},hi=Pe.__private__.newObjectDeferred=function(){return zt++,rr[zt]=function(){return gr},zt},Qi=function(de,Re){return Re=typeof Re=="boolean"&&Re,rr[de]=gr,Re&&dt(de+" 0 obj"),de},pc=Pe.__private__.newAdditionalObject=function(){var de={objId:hi(),content:""};return Tr.push(de),de},Fi=hi(),To=hi(),Wl=Pe.__private__.decodeColorString=function(de){var Re=de.split(" ");if(Re.length!==2||Re[1]!=="g"&&Re[1]!=="G")Re.length!==5||Re[4]!=="k"&&Re[4]!=="K"||(Re=[(1-Re[0])*(1-Re[3]),(1-Re[1])*(1-Re[3]),(1-Re[2])*(1-Re[3]),"r"]);else{var mt=parseFloat(Re[0]);Re=[mt,mt,mt,"r"]}for(var kt="#",Kt=0;Kt<3;Kt++)kt+=("0"+Math.floor(255*parseFloat(Re[Kt])).toString(16)).slice(-2);return kt},xl=Pe.__private__.encodeColorString=function(de){var Re;typeof de=="string"&&(de={ch1:de});var mt=de.ch1,kt=de.ch2,Kt=de.ch3,xr=de.ch4,Fr=de.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof mt=="string"&&mt.charAt(0)!=="#"){var Cn=new I(mt);if(Cn.ok)mt=Cn.toHex();else if(!/^\d*\.?\d*$/.test(mt))throw new Error('Invalid color "'+mt+'" passed to jsPDF.encodeColorString.')}if(typeof mt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(mt)&&(mt="#"+mt[1]+mt[1]+mt[2]+mt[2]+mt[3]+mt[3]),typeof mt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(mt)){var _n=parseInt(mt.substr(1),16);mt=_n>>16&255,kt=_n>>8&255,Kt=255&_n}if(kt===void 0||xr===void 0&&mt===kt&&kt===Kt)Re=typeof mt=="string"?mt+" "+Fr[0]:de.precision===2?nt(mt/255)+" "+Fr[0]:ut(mt/255)+" "+Fr[0];else if(xr===void 0||(0,d.default)(xr)==="object"){if(xr&&!isNaN(xr.a)&&xr.a===0)return["1.","1.","1.",Fr[1]].join(" ");Re=typeof mt=="string"?[mt,kt,Kt,Fr[1]].join(" "):de.precision===2?[nt(mt/255),nt(kt/255),nt(Kt/255),Fr[1]].join(" "):[ut(mt/255),ut(kt/255),ut(Kt/255),Fr[1]].join(" ")}else Re=typeof mt=="string"?[mt,kt,Kt,xr,Fr[2]].join(" "):de.precision===2?[nt(mt),nt(kt),nt(Kt),nt(xr),Fr[2]].join(" "):[ut(mt),ut(kt),ut(Kt),ut(xr),Fr[2]].join(" ");return Re},Pi=Pe.__private__.getFilters=function(){return Be},Fo=Pe.__private__.putStream=function(de){var Re=(de=de||{}).data||"",mt=de.filters||Pi(),kt=de.alreadyAppliedFilters||[],Kt=de.addLength1||!1,xr=Re.length,Fr=de.objectId,Cn=function(Ys){return Ys};if(ze!==null&&Fr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ze!==null&&(Cn=fi.encryptor(Fr,0));var _n={};mt===!0&&(mt=["FlateEncode"]);var ca=de.additionalKeyValues||[],Zn=(_n=fe.API.processDataByFilters!==void 0?fe.API.processDataByFilters(Re,mt):{data:Re,reverseChain:[]}).reverseChain+(Array.isArray(kt)?kt.join(" "):kt.toString());if(_n.data.length!==0&&(ca.push({key:"Length",value:_n.data.length}),Kt===!0&&ca.push({key:"Length1",value:xr})),Zn.length!=0)if(Zn.split("/").length-1==1)ca.push({key:"Filter",value:Zn});else{ca.push({key:"Filter",value:"["+Zn+"]"});for(var Na=0;Na<ca.length;Na+=1)if(ca[Na].key==="DecodeParms"){for(var Bs=[],Es=0;Es<_n.reverseChain.split("/").length-1;Es+=1)Bs.push("null");Bs.push(ca[Na].value),ca[Na].value="["+Bs.join(" ")+"]"}}dt("<<");for(var as=0;as<ca.length;as++)dt("/"+ca[as].key+" "+ca[as].value);dt(">>"),_n.data.length!==0&&(dt("stream"),dt(Cn(_n.data)),dt("endstream"))},rl=Pe.__private__.putPage=function(de){var Re=de.number,mt=de.data,kt=de.objId,Kt=de.contentsObjId;Qi(kt,!0),dt("<</Type /Page"),dt("/Parent "+de.rootDictionaryObjId+" 0 R"),dt("/Resources "+de.resourceDictionaryObjId+" 0 R"),dt("/MediaBox ["+parseFloat(Gt(de.mediaBox.bottomLeftX))+" "+parseFloat(Gt(de.mediaBox.bottomLeftY))+" "+Gt(de.mediaBox.topRightX)+" "+Gt(de.mediaBox.topRightY)+"]"),de.cropBox!==null&&dt("/CropBox ["+Gt(de.cropBox.bottomLeftX)+" "+Gt(de.cropBox.bottomLeftY)+" "+Gt(de.cropBox.topRightX)+" "+Gt(de.cropBox.topRightY)+"]"),de.bleedBox!==null&&dt("/BleedBox ["+Gt(de.bleedBox.bottomLeftX)+" "+Gt(de.bleedBox.bottomLeftY)+" "+Gt(de.bleedBox.topRightX)+" "+Gt(de.bleedBox.topRightY)+"]"),de.trimBox!==null&&dt("/TrimBox ["+Gt(de.trimBox.bottomLeftX)+" "+Gt(de.trimBox.bottomLeftY)+" "+Gt(de.trimBox.topRightX)+" "+Gt(de.trimBox.topRightY)+"]"),de.artBox!==null&&dt("/ArtBox ["+Gt(de.artBox.bottomLeftX)+" "+Gt(de.artBox.bottomLeftY)+" "+Gt(de.artBox.topRightX)+" "+Gt(de.artBox.topRightY)+"]"),typeof de.userUnit=="number"&&de.userUnit!==1&&dt("/UserUnit "+de.userUnit),Wa.publish("putPage",{objId:kt,pageContext:wn[Re],pageNumber:Re,page:mt}),dt("/Contents "+Kt+" 0 R"),dt(">>"),dt("endobj");var xr=mt.join(`
`);return Bt===Vt&&(xr+=`
Q`),Qi(Kt,!0),Fo({data:xr,filters:Pi(),objectId:Kt}),dt("endobj"),kt},yo=Pe.__private__.putPages=function(){var de,Re,mt=[];for(de=1;de<=ga;de++)wn[de].objId=hi(),wn[de].contentsObjId=hi();for(de=1;de<=ga;de++)mt.push(rl({number:de,data:Xr[de],objId:wn[de].objId,contentsObjId:wn[de].contentsObjId,mediaBox:wn[de].mediaBox,cropBox:wn[de].cropBox,bleedBox:wn[de].bleedBox,trimBox:wn[de].trimBox,artBox:wn[de].artBox,userUnit:wn[de].userUnit,rootDictionaryObjId:Fi,resourceDictionaryObjId:To}));Qi(Fi,!0),dt("<</Type /Pages");var kt="/Kids [";for(Re=0;Re<ga;Re++)kt+=mt[Re]+" 0 R ";dt(kt+"]"),dt("/Count "+ga),dt(">>"),dt("endobj"),Wa.publish("postPutPages")},Ao=function(de){Wa.publish("putFont",{font:de,out:dt,newObject:Ns,putStream:Fo}),de.isAlreadyPutted!==!0&&(de.objectNumber=Ns(),dt("<<"),dt("/Type /Font"),dt("/BaseFont /"+re(de.postScriptName)),dt("/Subtype /Type1"),typeof de.encoding=="string"&&dt("/Encoding /"+de.encoding),dt("/FirstChar 32"),dt("/LastChar 255"),dt(">>"),dt("endobj"))},yl=function(de){de.objectNumber=Ns();var Re=[];Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Form"}),Re.push({key:"BBox",value:"["+[Gt(de.x),Gt(de.y),Gt(de.x+de.width),Gt(de.y+de.height)].join(" ")+"]"}),Re.push({key:"Matrix",value:"["+de.matrix.toString()+"]"});var mt=de.pages[1].join(`
`);Fo({data:mt,additionalKeyValues:Re,objectId:de.objectNumber}),dt("endobj")},nl=function(de,Re){Re||(Re=21);var mt=Ns(),kt=(function(Fr,Cn){var _n,ca=[],Zn=1/(Cn-1);for(_n=0;_n<1;_n+=Zn)ca.push(_n);if(ca.push(1),Fr[0].offset!=0){var Na={offset:0,color:Fr[0].color};Fr.unshift(Na)}if(Fr[Fr.length-1].offset!=1){var Bs={offset:1,color:Fr[Fr.length-1].color};Fr.push(Bs)}for(var Es="",as=0,Ys=0;Ys<ca.length;Ys++){for(_n=ca[Ys];_n>Fr[as+1].offset;)as++;var E=Fr[as].offset,_e=(_n-E)/(Fr[as+1].offset-E),J=Fr[as].color,Xe=Fr[as+1].color;Es+=Ht(Math.round((1-_e)*J[0]+_e*Xe[0]).toString(16))+Ht(Math.round((1-_e)*J[1]+_e*Xe[1]).toString(16))+Ht(Math.round((1-_e)*J[2]+_e*Xe[2]).toString(16))}return Es.trim()})(de.colors,Re),Kt=[];Kt.push({key:"FunctionType",value:"0"}),Kt.push({key:"Domain",value:"[0.0 1.0]"}),Kt.push({key:"Size",value:"["+Re+"]"}),Kt.push({key:"BitsPerSample",value:"8"}),Kt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fo({data:kt,additionalKeyValues:Kt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:mt}),dt("endobj"),de.objectNumber=Ns(),dt("<< /ShadingType "+de.type),dt("/ColorSpace /DeviceRGB");var xr="/Coords ["+Gt(parseFloat(de.coords[0]))+" "+Gt(parseFloat(de.coords[1]))+" ";de.type===2?xr+=Gt(parseFloat(de.coords[2]))+" "+Gt(parseFloat(de.coords[3])):xr+=Gt(parseFloat(de.coords[2]))+" "+Gt(parseFloat(de.coords[3]))+" "+Gt(parseFloat(de.coords[4]))+" "+Gt(parseFloat(de.coords[5])),dt(xr+="]"),de.matrix&&dt("/Matrix ["+de.matrix.toString()+"]"),dt("/Function "+mt+" 0 R"),dt("/Extend [true true]"),dt(">>"),dt("endobj")},$l=function(de,Re){var mt=hi(),kt=Ns();Re.push({resourcesOid:mt,objectOid:kt}),de.objectNumber=kt;var Kt=[];Kt.push({key:"Type",value:"/Pattern"}),Kt.push({key:"PatternType",value:"1"}),Kt.push({key:"PaintType",value:"1"}),Kt.push({key:"TilingType",value:"1"}),Kt.push({key:"BBox",value:"["+de.boundingBox.map(Gt).join(" ")+"]"}),Kt.push({key:"XStep",value:Gt(de.xStep)}),Kt.push({key:"YStep",value:Gt(de.yStep)}),Kt.push({key:"Resources",value:mt+" 0 R"}),de.matrix&&Kt.push({key:"Matrix",value:"["+de.matrix.toString()+"]"}),Fo({data:de.stream,additionalKeyValues:Kt,objectId:de.objectNumber}),dt("endobj")},vd=function(de){for(var Re in de.objectNumber=Ns(),dt("<<"),de)switch(Re){case"opacity":dt("/ca "+nt(de[Re]));break;case"stroke-opacity":dt("/CA "+nt(de[Re]))}dt(">>"),dt("endobj")},tc=function(de){Qi(de.resourcesOid,!0),dt("<<"),dt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Re in dt("/Font <<"),_a)_a.hasOwnProperty(Re)&&(Ze===!1||Ze===!0&&st.hasOwnProperty(Re))&&dt("/"+Re+" "+_a[Re].objectNumber+" 0 R");dt(">>")})(),(function(){if(Object.keys(Wn).length>0){for(var Re in dt("/Shading <<"),Wn)Wn.hasOwnProperty(Re)&&Wn[Re]instanceof pe&&Wn[Re].objectNumber>=0&&dt("/"+Re+" "+Wn[Re].objectNumber+" 0 R");Wa.publish("putShadingPatternDict"),dt(">>")}})(),(function(Re){if(Object.keys(Wn).length>0){for(var mt in dt("/Pattern <<"),Wn)Wn.hasOwnProperty(mt)&&Wn[mt]instanceof Pe.TilingPattern&&Wn[mt].objectNumber>=0&&Wn[mt].objectNumber<Re&&dt("/"+mt+" "+Wn[mt].objectNumber+" 0 R");Wa.publish("putTilingPatternDict"),dt(">>")}})(de.objectOid),(function(){if(Object.keys(Aa).length>0){var Re;for(Re in dt("/ExtGState <<"),Aa)Aa.hasOwnProperty(Re)&&Aa[Re].objectNumber>=0&&dt("/"+Re+" "+Aa[Re].objectNumber+" 0 R");Wa.publish("putGStateDict"),dt(">>")}})(),(function(){for(var Re in dt("/XObject <<"),wi)wi.hasOwnProperty(Re)&&wi[Re].objectNumber>=0&&dt("/"+Re+" "+wi[Re].objectNumber+" 0 R");Wa.publish("putXobjectDict"),dt(">>")})(),dt(">>"),dt("endobj")},xd=function(de){La[de.fontName]=La[de.fontName]||{},La[de.fontName][de.fontStyle]=de.id},mc=function(de,Re,mt,kt,Kt){var xr={id:"F"+(Object.keys(_a).length+1).toString(10),postScriptName:de,fontName:Re,fontStyle:mt,encoding:kt,isStandardFont:Kt||!1,metadata:{}};return Wa.publish("addFont",{font:xr,instance:this}),_a[xr.id]=xr,xd(xr),xr.id},bo=Pe.__private__.pdfEscape=Pe.pdfEscape=function(de,Re){return(function(mt,kt){var Kt,xr,Fr,Cn,_n,ca,Zn,Na,Bs;if(Fr=(kt=kt||{}).sourceEncoding||"Unicode",_n=kt.outputEncoding,(kt.autoencode||_n)&&_a[Bn].metadata&&_a[Bn].metadata[Fr]&&_a[Bn].metadata[Fr].encoding&&(Cn=_a[Bn].metadata[Fr].encoding,!_n&&_a[Bn].encoding&&(_n=_a[Bn].encoding),!_n&&Cn.codePages&&(_n=Cn.codePages[0]),typeof _n=="string"&&(_n=Cn[_n]),_n)){for(Zn=!1,ca=[],Kt=0,xr=mt.length;Kt<xr;Kt++)(Na=_n[mt.charCodeAt(Kt)])?ca.push(String.fromCharCode(Na)):ca.push(mt[Kt]),ca[Kt].charCodeAt(0)>>8&&(Zn=!0);mt=ca.join("")}for(Kt=mt.length;Zn===void 0&&Kt!==0;)mt.charCodeAt(Kt-1)>>8&&(Zn=!0),Kt--;if(!Zn)return mt;for(ca=kt.noBOM?[]:[254,255],Kt=0,xr=mt.length;Kt<xr;Kt++){if((Bs=(Na=mt.charCodeAt(Kt))>>8)>>8)throw new Error("Character at position "+Kt+" of string '"+mt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ca.push(Bs),ca.push(Na-(Bs<<8))}return String.fromCharCode.apply(void 0,ca)})(de,Re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gc=Pe.__private__.beginPage=function(de){Xr[++ga]=[],wn[ga]={objId:0,contentsObjId:0,userUnit:Number(me),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(de[0]),topRightY:Number(de[1])}},al(ga),aa(Xr[vt])},Fc=function(de,Re){var mt,kt,Kt;switch(P=Re||P,typeof de=="string"&&(mt=rt(de.toLowerCase()),Array.isArray(mt)&&(kt=mt[0],Kt=mt[1])),Array.isArray(de)&&(kt=de[0]*sa,Kt=de[1]*sa),isNaN(kt)&&(kt=Y[0],Kt=Y[1]),(kt>14400||Kt>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),kt=Math.min(14400,kt),Kt=Math.min(14400,Kt)),Y=[kt,Kt],P.substr(0,1)){case"l":Kt>kt&&(Y=[Kt,kt]);break;case"p":kt>Kt&&(Y=[Kt,kt])}gc(Y),va(Gd),dt($o),Kl!==0&&dt(Kl+" J"),Cl!==0&&dt(Cl+" j"),Wa.publish("addPage",{pageNumber:ga})},Kc=function(de){de>0&&de<=ga&&(Xr.splice(de,1),wn.splice(de,1),ga--,vt>ga&&(vt=ga),this.setPage(vt))},al=function(de){de>0&&de<=ga&&(vt=de)},Gc=Pe.__private__.getNumberOfPages=Pe.getNumberOfPages=function(){return Xr.length-1},qc=function(de,Re,mt){var kt,Kt=void 0;return mt=mt||{},de=de!==void 0?de:_a[Bn].fontName,Re=Re!==void 0?Re:_a[Bn].fontStyle,kt=de.toLowerCase(),La[kt]!==void 0&&La[kt][Re]!==void 0?Kt=La[kt][Re]:La[de]!==void 0&&La[de][Re]!==void 0?Kt=La[de][Re]:mt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+de+"', '"+Re+"'. Refer to getFontList() for available fonts."),Kt||mt.noFallback||(Kt=La.times[Re])==null&&(Kt=La.times.normal),Kt},bl=Pe.__private__.putInfo=function(){var de=Ns(),Re=function(kt){return kt};for(var mt in ze!==null&&(Re=fi.encryptor(de,0)),dt("<<"),dt("/Producer ("+bo(Re("jsPDF "+fe.version))+")"),na)na.hasOwnProperty(mt)&&na[mt]&&dt("/"+mt.substr(0,1).toUpperCase()+mt.substr(1)+" ("+bo(Re(na[mt]))+")");dt("/CreationDate ("+bo(Re(lr))+")"),dt(">>"),dt("endobj")},Xc=Pe.__private__.putCatalog=function(de){var Re=(de=de||{}).rootDictionaryObjId||Fi;switch(Ns(),dt("<<"),dt("/Type /Catalog"),dt("/Pages "+Re+" 0 R"),ra||(ra="fullwidth"),ra){case"fullwidth":dt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":dt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":dt("/OpenAction [3 0 R /Fit]");break;case"original":dt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var mt=""+ra;mt.substr(mt.length-1)==="%"&&(ra=parseInt(ra)/100),typeof ra=="number"&&dt("/OpenAction [3 0 R /XYZ null null "+nt(ra)+"]")}switch(Fa||(Fa="continuous"),Fa){case"continuous":dt("/PageLayout /OneColumn");break;case"single":dt("/PageLayout /SinglePage");break;case"two":case"twoleft":dt("/PageLayout /TwoColumnLeft");break;case"tworight":dt("/PageLayout /TwoColumnRight")}On&&dt("/PageMode /"+On),Wa.publish("putCatalog"),dt(">>"),dt("endobj")},Pc=Pe.__private__.putTrailer=function(){dt("trailer"),dt("<<"),dt("/Size "+(zt+1)),dt("/Root "+zt+" 0 R"),dt("/Info "+(zt-1)+" 0 R"),ze!==null&&dt("/Encrypt "+fi.oid+" 0 R"),dt("/ID [ <"+Ar+"> <"+Ar+"> ]"),dt(">>")},fa=Pe.__private__.putHeader=function(){dt("%PDF-"+gt),dt("%")},yd=Pe.__private__.putXRef=function(){var de="0000000000";dt("xref"),dt("0 "+(zt+1)),dt("0000000000 65535 f ");for(var Re=1;Re<=zt;Re++)typeof rr[Re]=="function"?dt((de+rr[Re]()).slice(-10)+" 00000 n "):rr[Re]!==void 0?dt((de+rr[Re]).slice(-10)+" 00000 n "):dt("0000000000 00000 n ")},jl=Pe.__private__.buildDocument=function(){var de;zt=0,gr=0,pr=[],rr=[],Tr=[],Fi=hi(),To=hi(),aa(pr),Wa.publish("buildDocument"),fa(),yo(),(function(){Wa.publish("putAdditionalObjects");for(var mt=0;mt<Tr.length;mt++){var kt=Tr[mt];Qi(kt.objId,!0),dt(kt.content),dt("endobj")}Wa.publish("postPutAdditionalObjects")})(),de=[],(function(){for(var mt in _a)_a.hasOwnProperty(mt)&&(Ze===!1||Ze===!0&&st.hasOwnProperty(mt))&&Ao(_a[mt])})(),(function(){var mt;for(mt in Aa)Aa.hasOwnProperty(mt)&&vd(Aa[mt])})(),(function(){for(var mt in wi)wi.hasOwnProperty(mt)&&yl(wi[mt])})(),(function(mt){var kt;for(kt in Wn)Wn.hasOwnProperty(kt)&&(Wn[kt]instanceof pe?nl(Wn[kt]):Wn[kt]instanceof X&&$l(Wn[kt],mt))})(de),Wa.publish("putResources"),de.forEach(tc),tc({resourcesOid:To,objectOid:Number.MAX_SAFE_INTEGER}),Wa.publish("postPutResources"),ze!==null&&(fi.oid=Ns(),dt("<<"),dt("/Filter /Standard"),dt("/V "+fi.v),dt("/R "+fi.r),dt("/U <"+fi.toHexString(fi.U)+">"),dt("/O <"+fi.toHexString(fi.O)+">"),dt("/P "+fi.P),dt(">>"),dt("endobj")),bl(),Xc();var Re=gr;return yd(),Pc(),dt("startxref"),dt(""+Re),dt("%%EOF"),aa(Xr[vt]),pr.join(`
`)},As=Pe.__private__.getBlob=function(de){return new Blob([ua(de)],{type:"application/pdf"})},bd=Pe.output=Pe.__private__.output=(mi=function(de,Re){switch(typeof(Re=Re||{})=="string"?Re={filename:Re}:Re.filename=Re.filename||"generated.pdf",de){case void 0:return jl();case"save":Pe.save(Re.filename);break;case"arraybuffer":return ua(jl());case"blob":return As(jl());case"bloburi":case"bloburl":if(v.URL!==void 0&&typeof v.URL.createObjectURL=="function")return v.URL&&v.URL.createObjectURL(As(jl()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var mt="",kt=jl();try{mt=D(kt)}catch{mt=D(unescape(encodeURIComponent(kt)))}return"data:application/pdf;filename="+Re.filename+";base64,"+mt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(v)==="[object Window]"){var Kt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Re.pdfObjectUrl&&(Kt=Re.pdfObjectUrl,xr="");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Kt+'"'+xr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Re)+");<\/script></body></html>",Cn=v.open();return Cn!==null&&Cn.document.write(Fr),Cn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(v)==="[object Window]"){var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Re.filename+'" width="500px" height="400px" /></body></html>',ca=v.open();if(ca!==null){ca.document.write(_n);var Zn=this;ca.document.documentElement.querySelector("#pdfViewer").onload=function(){ca.document.title=Re.filename,ca.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zn.output("bloburl"))}}return ca}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(v)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Na='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Re)+'"></iframe></body></html>',Bs=v.open();if(Bs!==null&&(Bs.document.write(Na),Bs.document.title=Re.filename),Bs||typeof safari>"u")return Bs;break;case"datauri":case"dataurl":return v.document.location.href=this.output("datauristring",Re);default:return null}},mi.foo=function(){try{return mi.apply(this,arguments)}catch(mt){var de=mt.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Re="Error in function "+de.split(`
`)[0].split("<")[0]+": "+mt.message;if(!v.console)throw new Error(Re);v.console.error(Re,mt),v.alert&&alert(Re)}},mi.foo.bar=mi,mi.foo),Wo=function(de){return Array.isArray(fc)===!0&&fc.indexOf(de)>-1};switch(z){case"pt":sa=1;break;case"mm":sa=2.834645669291339;break;case"cm":sa=28.346456692913385;break;case"in":sa=72;break;case"px":sa=Wo("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":sa=12;break;case"ex":sa=6;break;default:if(typeof z!="number")throw new Error("Invalid unit: "+z);sa=z}var fi=null;Lr(),Jt();var zl=Pe.__private__.getPageInfo=Pe.getPageInfo=function(de){if(isNaN(de)||de%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wn[de].objId,pageNumber:de,pageContext:wn[de]}},vc=Pe.__private__.getPageInfoByObjId=function(de){if(isNaN(de)||de%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Re in wn)if(wn[Re].objId===de)break;return zl(Re)},sl=Pe.__private__.getCurrentPageInfo=Pe.getCurrentPageInfo=function(){return{objId:wn[vt].objId,pageNumber:vt,pageContext:wn[vt]}};Pe.addPage=function(){return Fc.apply(this,arguments),this},Pe.setPage=function(){return al.apply(this,arguments),aa.call(this,Xr[vt]),this},Pe.insertPage=function(de){return this.addPage(),this.movePage(vt,de),this},Pe.movePage=function(de,Re){var mt,kt;if(de>Re){mt=Xr[de],kt=wn[de];for(var Kt=de;Kt>Re;Kt--)Xr[Kt]=Xr[Kt-1],wn[Kt]=wn[Kt-1];Xr[Re]=mt,wn[Re]=kt,this.setPage(Re)}else if(de<Re){mt=Xr[de],kt=wn[de];for(var xr=de;xr<Re;xr++)Xr[xr]=Xr[xr+1],wn[xr]=wn[xr+1];Xr[Re]=mt,wn[Re]=kt,this.setPage(Re)}return this},Pe.deletePage=function(){return Kc.apply(this,arguments),this},Pe.__private__.text=Pe.text=function(de,Re,mt,kt,Kt){var xr,Fr,Cn,_n,ca,Zn,Na,Bs,Es,as=(kt=kt||{}).scope||this;if(typeof de=="number"&&typeof Re=="number"&&(typeof mt=="string"||Array.isArray(mt))){var Ys=mt;mt=Re,Re=de,de=Ys}if(arguments[3]instanceof la==0?(Cn=arguments[4],_n=arguments[5],(0,d.default)(Na=arguments[3])==="object"&&Na!==null||(typeof Cn=="string"&&(_n=Cn,Cn=null),typeof Na=="string"&&(_n=Na,Na=null),typeof Na=="number"&&(Cn=Na,Na=null),kt={flags:Na,angle:Cn,align:_n})):(It("The transform parameter of text() with a Matrix value"),Es=Kt),isNaN(Re)||isNaN(mt)||de==null)throw new Error("Invalid arguments passed to jsPDF.text");if(de.length===0)return as;var E,_e="",J=typeof kt.lineHeightFactor=="number"?kt.lineHeightFactor:Uc,Xe=as.internal.scaleFactor;function At(ns){return ns=ns.split("	").join(Array(kt.TabLen||9).join(" ")),bo(ns,Na)}function it(ns){for(var ks,Js=ns.concat(),Wi=[],jc=Js.length;jc--;)typeof(ks=Js.shift())=="string"?Wi.push(ks):Array.isArray(ns)&&(ks.length===1||ks[1]===void 0&&ks[2]===void 0)?Wi.push(ks[0]):Wi.push([ks[0],ks[1],ks[2]]);return Wi}function Zt(ns,ks){var Js;if(typeof ns=="string")Js=ks(ns)[0];else if(Array.isArray(ns)){for(var Wi,jc,$s=ns.concat(),wc=[],Sd=$s.length;Sd--;)typeof(Wi=$s.shift())=="string"?wc.push(ks(Wi)[0]):Array.isArray(Wi)&&typeof Wi[0]=="string"&&(jc=ks(Wi[0],Wi[1],Wi[2]),wc.push([jc[0],jc[1],jc[2]]));Js=wc}return Js}var Wt=!1,yn=!0;if(typeof de=="string")Wt=!0;else if(Array.isArray(de)){var Pt=de.concat();Fr=[];for(var ar,ha=Pt.length;ha--;)(typeof(ar=Pt.shift())!="string"||Array.isArray(ar)&&typeof ar[0]!="string")&&(yn=!1);Wt=yn}if(Wt===!1)throw new Error('Type of text must be string or Array. "'+de+'" is not recognized.');typeof de=="string"&&(de=de.match(/[\r?\n]/)?de.split(/\r\n|\r|\n/g):[de]);var dn=Ur/as.internal.scaleFactor,Or=dn*(J-1);switch(kt.baseline){case"bottom":mt-=Or;break;case"top":mt+=dn-Or;break;case"hanging":mt+=dn-2*Or;break;case"middle":mt+=dn/2-Or}if((Zn=kt.maxWidth||0)>0&&(typeof de=="string"?de=as.splitTextToSize(de,Zn):Object.prototype.toString.call(de)==="[object Array]"&&(de=de.reduce(function(ns,ks){return ns.concat(as.splitTextToSize(ks,Zn))},[]))),xr={text:de,x:Re,y:mt,options:kt,mutex:{pdfEscape:bo,activeFontKey:Bn,fonts:_a,activeFontSize:Ur}},Wa.publish("preProcessText",xr),de=xr.text,Cn=(kt=xr.options).angle,Es instanceof la==0&&Cn&&typeof Cn=="number"){Cn*=Math.PI/180,kt.rotationDirection===0&&(Cn=-Cn),Bt===Vt&&(Cn=-Cn);var yr=Math.cos(Cn),Is=Math.sin(Cn);Es=new la(yr,Is,-Is,yr,0,0)}else Cn&&Cn instanceof la&&(Es=Cn);Bt!==Vt||Es||(Es=Yi),(ca=kt.charSpace||zo)!==void 0&&(_e+=Gt(St(ca))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Bs=kt.horizontalScale)!==void 0&&(_e+=Gt(100*Bs)+` Tz
`),kt.lang;var pa=-1,ea=kt.renderingMode!==void 0?kt.renderingMode:kt.stroke,xa=as.internal.getCurrentPageInfo().pageContext;switch(ea){case 0:case!1:case"fill":pa=0;break;case 1:case!0:case"stroke":pa=1;break;case 2:case"fillThenStroke":pa=2;break;case 3:case"invisible":pa=3;break;case 4:case"fillAndAddForClipping":pa=4;break;case 5:case"strokeAndAddPathForClipping":pa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pa=6;break;case 7:case"addToPathForClipping":pa=7}var $a=xa.usedRenderingMode!==void 0?xa.usedRenderingMode:-1;pa!==-1?_e+=pa+` Tr
`:$a!==-1&&(_e+=`0 Tr
`),pa!==-1&&(xa.usedRenderingMode=pa),_n=kt.align||"left";var tn,ba=Ur*J,Ws=as.internal.pageSize.getWidth(),Xn=_a[Bn];ca=kt.charSpace||zo,Zn=kt.maxWidth||0,Na=Object.assign({autoencode:!0,noBOM:!0},kt.flags);var Za=[],Ba=function(ns){return as.getStringUnitWidth(ns,{font:Xn,charSpace:ca,fontSize:Ur,doKerning:!1})*Ur/Xe};if(Object.prototype.toString.call(de)==="[object Array]"){var Ln;Fr=it(de),_n!=="left"&&(tn=Fr.map(Ba));var ia,Zi=0;if(_n==="right"){Re-=tn[0],de=[],ha=Fr.length;for(var Bl=0;Bl<ha;Bl++)Bl===0?(ia=Ji(Re),Ln=ol(mt)):(ia=St(Zi-tn[Bl]),Ln=-ba),de.push([Fr[Bl],ia,Ln]),Zi=tn[Bl]}else if(_n==="center"){Re-=tn[0]/2,de=[],ha=Fr.length;for(var fo=0;fo<ha;fo++)fo===0?(ia=Ji(Re),Ln=ol(mt)):(ia=St((Zi-tn[fo])/2),Ln=-ba),de.push([Fr[fo],ia,Ln]),Zi=tn[fo]}else if(_n==="left"){de=[],ha=Fr.length;for(var Hi=0;Hi<ha;Hi++)de.push(Fr[Hi])}else if(_n==="justify"&&Xn.encoding==="Identity-H"){de=[],ha=Fr.length,Zn=Zn!==0?Zn:Ws;for(var Sl=0,Ci=0;Ci<ha;Ci++)if(Ln=Ci===0?ol(mt):-ba,ia=Ci===0?Ji(Re):Sl,Ci<ha-1){var Lu=St((Zn-tn[Ci])/(Fr[Ci].split(" ").length-1)),Co=Fr[Ci].split(" ");de.push([Co[0]+" ",ia,Ln]),Sl=0;for(var Po=1;Po<Co.length;Po++){var Jd=(Ba(Co[Po-1]+" "+Co[Po])-Ba(Co[Po]))*Xe+Lu;Po==Co.length-1?de.push([Co[Po],Jd,0]):de.push([Co[Po]+" ",Jd,0]),Sl-=Jd}}else de.push([Fr[Ci],ia,Ln]);de.push(["",Sl,0])}else{if(_n!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(de=[],ha=Fr.length,Zn=Zn!==0?Zn:Ws,Ci=0;Ci<ha;Ci++){Ln=Ci===0?ol(mt):-ba,ia=Ci===0?Ji(Re):0;var pu=Fr[Ci].split(" ").length-1,ql=pu>0?(Zn-tn[Ci])/pu:0;Ci<ha-1?Za.push(Gt(St(ql))):Za.push(0),de.push([Fr[Ci],ia,Ln])}}}(typeof kt.R2L=="boolean"?kt.R2L:qn)===!0&&(de=Zt(de,function(ns,ks,Js){return[ns.split("").reverse().join(""),ks,Js]})),xr={text:de,x:Re,y:mt,options:kt,mutex:{pdfEscape:bo,activeFontKey:Bn,fonts:_a,activeFontSize:Ur}},Wa.publish("postProcessText",xr),de=xr.text,E=xr.mutex.isHex||!1;var sc=_a[Bn].encoding;sc!=="WinAnsiEncoding"&&sc!=="StandardEncoding"||(de=Zt(de,function(ns,ks,Js){return[At(ns),ks,Js]})),Fr=it(de),de=[];for(var ic,Zc,bc,Bd=Array.isArray(Fr[0])?1:0,Xl="",Vo=function(ns,ks,Js){var Wi="";return Js instanceof la?(Js=typeof kt.angle=="number"?ii(Js,new la(1,0,0,1,ns,ks)):ii(new la(1,0,0,1,ns,ks),Js),Bt===Vt&&(Js=ii(new la(1,0,0,-1,0,0),Js)),Wi=Js.join(" ")+` Tm
`):Wi=Gt(ns)+" "+Gt(ks)+` Td
`,Wi},po=0;po<Fr.length;po++){switch(Xl="",Bd){case 1:bc=(E?"<":"(")+Fr[po][0]+(E?">":")"),ic=parseFloat(Fr[po][1]),Zc=parseFloat(Fr[po][2]);break;case 0:bc=(E?"<":"(")+Fr[po]+(E?">":")"),ic=Ji(Re),Zc=ol(mt)}Za!==void 0&&Za[po]!==void 0&&(Xl=Za[po]+` Tw
`),po===0?de.push(Xl+Vo(ic,Zc,Es)+bc):Bd===0?de.push(Xl+bc):Bd===1&&de.push(Xl+Vo(ic,Zc,Es)+bc)}de=Bd===0?de.join(` Tj
T* `):de.join(` Tj
`),de+=` Tj
`;var El=`BT
/`;return El+=Bn+" "+Ur+` Tf
`,El+=Gt(Ur*J)+` TL
`,El+=wo+`
`,El+=_e,El+=de,dt(El+="ET"),st[Bn]=!0,as};var Yc=Pe.__private__.clip=Pe.clip=function(de){return dt(de==="evenodd"?"W*":"W"),this};Pe.clipEvenOdd=function(){return Yc("evenodd")},Pe.__private__.discardPath=Pe.discardPath=function(){return dt("n"),this};var jo=Pe.__private__.isValidStyle=function(de){var Re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(de)!==-1&&(Re=!0),Re};Pe.__private__.setDefaultPathOperation=Pe.setDefaultPathOperation=function(de){return jo(de)&&(De=de),this};var jd=Pe.__private__.getStyle=Pe.getStyle=function(de){var Re=De;switch(de){case"D":case"S":Re="S";break;case"F":Re="f";break;case"FD":case"DF":Re="B";break;case"f":case"f*":case"B":case"B*":Re=de}return Re},Oc=Pe.close=function(){return dt("h"),this};Pe.stroke=function(){return dt("S"),this},Pe.fill=function(de){return wd("f",de),this},Pe.fillEvenOdd=function(de){return wd("f*",de),this},Pe.fillStroke=function(de){return wd("B",de),this},Pe.fillStrokeEvenOdd=function(de){return wd("B*",de),this};var wd=function(de,Re){(0,d.default)(Re)==="object"?Dc(Re,de):dt(de)},xc=function(de){de===null||Bt===Vt&&de===void 0||(de=jd(de),dt(de))};function Mc(de,Re,mt,kt,Kt){var xr=new X(Re||this.boundingBox,mt||this.xStep,kt||this.yStep,this.gState,Kt||this.matrix);xr.stream=this.stream;var Fr=de+"$$"+this.cloneIndex+++"$$";return tl(Fr,xr),xr}var Dc=function(de,Re){var mt=xs[de.key],kt=Wn[mt];if(kt instanceof pe)dt("q"),dt(_c(Re)),kt.gState&&Pe.setGState(kt.gState),dt(de.matrix.toString()+" cm"),dt("/"+mt+" sh"),dt("Q");else if(kt instanceof X){var Kt=new la(1,0,0,-1,0,ac());de.matrix&&(Kt=Kt.multiply(de.matrix||Yi),mt=Mc.call(kt,de.key,de.boundingBox,de.xStep,de.yStep,Kt).id),dt("q"),dt("/Pattern cs"),dt("/"+mt+" scn"),kt.gState&&Pe.setGState(kt.gState),dt(Re),dt("Q")}},_c=function(de){switch(de){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lc=Pe.moveTo=function(de,Re){return dt(Gt(St(de))+" "+Gt(Et(Re))+" m"),this},Cd=Pe.lineTo=function(de,Re){return dt(Gt(St(de))+" "+Gt(Et(Re))+" l"),this},il=Pe.curveTo=function(de,Re,mt,kt,Kt,xr){return dt([Gt(St(de)),Gt(Et(Re)),Gt(St(mt)),Gt(Et(kt)),Gt(St(Kt)),Gt(Et(xr)),"c"].join(" ")),this};Pe.__private__.line=Pe.line=function(de,Re,mt,kt,Kt){if(isNaN(de)||isNaN(Re)||isNaN(mt)||isNaN(kt)||!jo(Kt))throw new Error("Invalid arguments passed to jsPDF.line");return Bt===Ft?this.lines([[mt-de,kt-Re]],de,Re,[1,1],Kt||"S"):this.lines([[mt-de,kt-Re]],de,Re,[1,1]).stroke()},Pe.__private__.lines=Pe.lines=function(de,Re,mt,kt,Kt,xr){var Fr,Cn,_n,ca,Zn,Na,Bs,Es,as,Ys,E,_e;if(typeof de=="number"&&(_e=mt,mt=Re,Re=de,de=_e),kt=kt||[1,1],xr=xr||!1,isNaN(Re)||isNaN(mt)||!Array.isArray(de)||!Array.isArray(kt)||!jo(Kt)||typeof xr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lc(Re,mt),Fr=kt[0],Cn=kt[1],ca=de.length,Ys=Re,E=mt,_n=0;_n<ca;_n++)(Zn=de[_n]).length===2?(Ys=Zn[0]*Fr+Ys,E=Zn[1]*Cn+E,Cd(Ys,E)):(Na=Zn[0]*Fr+Ys,Bs=Zn[1]*Cn+E,Es=Zn[2]*Fr+Ys,as=Zn[3]*Cn+E,Ys=Zn[4]*Fr+Ys,E=Zn[5]*Cn+E,il(Na,Bs,Es,as,Ys,E));return xr&&Oc(),xc(Kt),this},Pe.path=function(de){for(var Re=0;Re<de.length;Re++){var mt=de[Re],kt=mt.c;switch(mt.op){case"m":Lc(kt[0],kt[1]);break;case"l":Cd(kt[0],kt[1]);break;case"c":il.apply(this,kt);break;case"h":Oc()}}return this},Pe.__private__.rect=Pe.rect=function(de,Re,mt,kt,Kt){if(isNaN(de)||isNaN(Re)||isNaN(mt)||isNaN(kt)||!jo(Kt))throw new Error("Invalid arguments passed to jsPDF.rect");return Bt===Ft&&(kt=-kt),dt([Gt(St(de)),Gt(Et(Re)),Gt(St(mt)),Gt(St(kt)),"re"].join(" ")),xc(Kt),this},Pe.__private__.triangle=Pe.triangle=function(de,Re,mt,kt,Kt,xr,Fr){if(isNaN(de)||isNaN(Re)||isNaN(mt)||isNaN(kt)||isNaN(Kt)||isNaN(xr)||!jo(Fr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[mt-de,kt-Re],[Kt-mt,xr-kt],[de-Kt,Re-xr]],de,Re,[1,1],Fr,!0),this},Pe.__private__.roundedRect=Pe.roundedRect=function(de,Re,mt,kt,Kt,xr,Fr){if(isNaN(de)||isNaN(Re)||isNaN(mt)||isNaN(kt)||isNaN(Kt)||isNaN(xr)||!jo(Fr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Cn=4/3*(Math.SQRT2-1);return Kt=Math.min(Kt,.5*mt),xr=Math.min(xr,.5*kt),this.lines([[mt-2*Kt,0],[Kt*Cn,0,Kt,xr-xr*Cn,Kt,xr],[0,kt-2*xr],[0,xr*Cn,-Kt*Cn,xr,-Kt,xr],[2*Kt-mt,0],[-Kt*Cn,0,-Kt,-xr*Cn,-Kt,-xr],[0,2*xr-kt],[0,-xr*Cn,Kt*Cn,-xr,Kt,-xr]],de+Kt,Re,[1,1],Fr,!0),this},Pe.__private__.ellipse=Pe.ellipse=function(de,Re,mt,kt,Kt){if(isNaN(de)||isNaN(Re)||isNaN(mt)||isNaN(kt)||!jo(Kt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xr=4/3*(Math.SQRT2-1)*mt,Fr=4/3*(Math.SQRT2-1)*kt;return Lc(de+mt,Re),il(de+mt,Re-Fr,de+xr,Re-kt,de,Re-kt),il(de-xr,Re-kt,de-mt,Re-Fr,de-mt,Re),il(de-mt,Re+Fr,de-xr,Re+kt,de,Re+kt),il(de+xr,Re+kt,de+mt,Re+Fr,de+mt,Re),xc(Kt),this},Pe.__private__.circle=Pe.circle=function(de,Re,mt,kt){if(isNaN(de)||isNaN(Re)||isNaN(mt)||!jo(kt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(de,Re,mt,mt,kt)},Pe.setFont=function(de,Re,mt){return mt&&(Re=or(Re,mt)),Bn=qc(de,Re,{disableWarning:!1}),this};var Du=Pe.__private__.getFont=Pe.getFont=function(){return _a[qc.apply(Pe,arguments)]};Pe.__private__.getFontList=Pe.getFontList=function(){var de,Re,mt={};for(de in La)if(La.hasOwnProperty(de))for(Re in mt[de]=[],La[de])La[de].hasOwnProperty(Re)&&mt[de].push(Re);return mt},Pe.addFont=function(de,Re,mt,kt,Kt){var xr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xr.indexOf(arguments[3])!==-1?Kt=arguments[3]:arguments[3]&&xr.indexOf(arguments[3])==-1&&(mt=or(mt,kt)),mc.call(this,de,Re,mt,Kt=Kt||"Identity-H")};var Uc,Gd=S.lineWidth||.200025,_u=Pe.__private__.getLineWidth=Pe.getLineWidth=function(){return Gd},va=Pe.__private__.setLineWidth=Pe.setLineWidth=function(de){return Gd=de,dt(Gt(St(de))+" w"),this};Pe.__private__.setLineDash=fe.API.setLineDash=fe.API.setLineDashPattern=function(de,Re){if(de=de||[],Re=Re||0,isNaN(Re)||!Array.isArray(de))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return de=de.map(function(mt){return Gt(St(mt))}).join(" "),Re=Gt(St(Re)),dt("["+de+"] "+Re+" d"),this};var rc=Pe.__private__.getLineHeight=Pe.getLineHeight=function(){return Ur*Uc};Pe.__private__.getLineHeight=Pe.getLineHeight=function(){return Ur*Uc};var fu=Pe.__private__.setLineHeightFactor=Pe.setLineHeightFactor=function(de){return typeof(de=de||1.15)=="number"&&(Uc=de),this},Vl=Pe.__private__.getLineHeightFactor=Pe.getLineHeightFactor=function(){return Uc};fu(S.lineHeight);var Ji=Pe.__private__.getHorizontalCoordinate=function(de){return St(de)},ol=Pe.__private__.getVerticalCoordinate=function(de){return Bt===Vt?de:wn[vt].mediaBox.topRightY-wn[vt].mediaBox.bottomLeftY-St(de)},wl=Pe.__private__.getHorizontalCoordinateString=Pe.getHorizontalCoordinateString=function(de){return Gt(Ji(de))},qd=Pe.__private__.getVerticalCoordinateString=Pe.getVerticalCoordinateString=function(de){return Gt(ol(de))},$o=S.strokeColor||"0 G";Pe.__private__.getStrokeColor=Pe.getDrawColor=function(){return Wl($o)},Pe.__private__.setStrokeColor=Pe.setDrawColor=function(de,Re,mt,kt){return $o=xl({ch1:de,ch2:Re,ch3:mt,ch4:kt,pdfColorType:"draw",precision:2}),dt($o),this};var Jc=S.fillColor||"0 g";Pe.__private__.getFillColor=Pe.getFillColor=function(){return Wl(Jc)},Pe.__private__.setFillColor=Pe.setFillColor=function(de,Re,mt,kt){return Jc=xl({ch1:de,ch2:Re,ch3:mt,ch4:kt,pdfColorType:"fill",precision:2}),dt(Jc),this};var wo=S.textColor||"0 g",Rc=Pe.__private__.getTextColor=Pe.getTextColor=function(){return Wl(wo)};Pe.__private__.setTextColor=Pe.setTextColor=function(de,Re,mt,kt){return wo=xl({ch1:de,ch2:Re,ch3:mt,ch4:kt,pdfColorType:"text",precision:3}),this};var zo=S.charSpace,Nd=Pe.__private__.getCharSpace=Pe.getCharSpace=function(){return parseFloat(zo||0)};Pe.__private__.setCharSpace=Pe.setCharSpace=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zo=de,this};var Kl=0;Pe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Pe.__private__.setLineCap=Pe.setLineCap=function(de){var Re=Pe.CapJoinStyles[de];if(Re===void 0)throw new Error("Line cap style of '"+de+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=Re,dt(Re+" J"),this};var Cl=0;Pe.__private__.setLineJoin=Pe.setLineJoin=function(de){var Re=Pe.CapJoinStyles[de];if(Re===void 0)throw new Error("Line join style of '"+de+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=Re,dt(Re+" j"),this},Pe.__private__.setLineMiterLimit=Pe.__private__.setMiterLimit=Pe.setLineMiterLimit=Pe.setMiterLimit=function(de){if(de=de||0,isNaN(de))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return dt(Gt(St(de))+" M"),this},Pe.GState=Te,Pe.setGState=function(de){(de=typeof de=="string"?Aa[Hn[de]]:ll(null,de)).equals(ys)||(dt("/"+de.id+" gs"),ys=de)};var ll=function(de,Re){if(!de||!Hn[de]){var mt=!1;for(var kt in Aa)if(Aa.hasOwnProperty(kt)&&Aa[kt].equals(Re)){mt=!0;break}if(mt)Re=Aa[kt];else{var Kt="GS"+(Object.keys(Aa).length+1).toString(10);Aa[Kt]=Re,Re.id=Kt}return de&&(Hn[de]=Re.id),Wa.publish("addGState",Re),Re}};Pe.addGState=function(de,Re){return ll(de,Re),this},Pe.saveGraphicsState=function(){return dt("q"),Hs.push({key:Bn,size:Ur,color:wo}),this},Pe.restoreGraphicsState=function(){dt("Q");var de=Hs.pop();return Bn=de.key,Ur=de.size,wo=de.color,ys=null,this},Pe.setCurrentTransformationMatrix=function(de){return dt(de.toString()+" cm"),this},Pe.comment=function(de){return dt("#"+de),this};var rs=function(de,Re){var mt=de||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return mt},set:function(xr){isNaN(xr)||(mt=parseFloat(xr))}});var kt=Re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return kt},set:function(xr){isNaN(xr)||(kt=parseFloat(xr))}});var Kt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Kt},set:function(xr){Kt=xr.toString()}}),this},bs=function(de,Re,mt,kt){rs.call(this,de,Re),this.type="rect";var Kt=mt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Kt},set:function(Fr){isNaN(Fr)||(Kt=parseFloat(Fr))}});var xr=kt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xr},set:function(Fr){isNaN(Fr)||(xr=parseFloat(Fr))}}),this},cl=function(){this.page=ga,this.currentPage=vt,this.pages=Xr.slice(0),this.pagesContext=wn.slice(0),this.x=Sn,this.y=ma,this.matrix=ts,this.width=Gl(vt),this.height=ho(vt),this.outputDestination=jn,this.id="",this.objectNumber=-1};cl.prototype.restore=function(){ga=this.page,vt=this.currentPage,wn=this.pagesContext,Xr=this.pages,Sn=this.x,ma=this.y,ts=this.matrix,yc(vt,this.width),Nl(vt,this.height),jn=this.outputDestination};var oi=function(de,Re,mt,kt,Kt){Hl.push(new cl),ga=vt=0,Xr=[],Sn=de,ma=Re,ts=Kt,gc([mt,kt])};for(var gi in Pe.beginFormObject=function(de,Re,mt,kt,Kt){return oi(de,Re,mt,kt,Kt),this},Pe.endFormObject=function(de){return(function(Re){if(Xi[Re])Hl.pop().restore();else{var mt=new cl,kt="Xo"+(Object.keys(wi).length+1).toString(10);mt.id=kt,Xi[Re]=kt,wi[kt]=mt,Wa.publish("addFormObject",mt),Hl.pop().restore()}})(de),this},Pe.doFormObject=function(de,Re){var mt=wi[Xi[de]];return dt("q"),dt(Re.toString()+" cm"),dt("/"+mt.id+" Do"),dt("Q"),this},Pe.getFormObject=function(de){var Re=wi[Xi[de]];return{x:Re.x,y:Re.y,width:Re.width,height:Re.height,matrix:Re.matrix}},Pe.save=function(de,Re){return de=de||"generated.pdf",(Re=Re||{}).returnPromise=Re.returnPromise||!1,Re.returnPromise===!1?(T(As(jl()),de),typeof T.unload=="function"&&v.setTimeout&&setTimeout(T.unload,911),this):new Promise(function(mt,kt){try{var Kt=T(As(jl()),de);typeof T.unload=="function"&&v.setTimeout&&setTimeout(T.unload,911),mt(Kt)}catch(xr){kt(xr.message)}})},fe.API)fe.API.hasOwnProperty(gi)&&(gi==="events"&&fe.API.events.length?(function(de,Re){var mt,kt,Kt;for(Kt=Re.length-1;Kt!==-1;Kt--)mt=Re[Kt][0],kt=Re[Kt][1],de.subscribe.apply(de,[mt].concat(typeof kt=="function"?[kt]:kt))})(Wa,fe.API.events):Pe[gi]=fe.API[gi]);function Gl(de){return wn[de].mediaBox.topRightX-wn[de].mediaBox.bottomLeftX}function yc(de,Re){wn[de].mediaBox.topRightX=Re+wn[de].mediaBox.bottomLeftX}function ho(de){return wn[de].mediaBox.topRightY-wn[de].mediaBox.bottomLeftY}function Nl(de,Re){wn[de].mediaBox.topRightY=Re+wn[de].mediaBox.bottomLeftY}var nc=Pe.getPageWidth=function(de){return Gl(de=de||vt)/sa},Xd=Pe.setPageWidth=function(de,Re){yc(de,Re*sa)},ac=Pe.getPageHeight=function(de){return ho(de=de||vt)/sa},Yd=Pe.setPageHeight=function(de,Re){Nl(de,Re*sa)};return Pe.internal={pdfEscape:bo,getStyle:jd,getFont:Du,getFontSize:Pn,getCharSpace:Nd,getTextColor:Rc,getLineHeight:rc,getLineHeightFactor:Vl,getLineWidth:_u,write:cn,getHorizontalCoordinate:Ji,getVerticalCoordinate:ol,getCoordinateString:wl,getVerticalCoordinateString:qd,collections:{},newObject:Ns,newAdditionalObject:pc,newObjectDeferred:hi,newObjectDeferredBegin:Qi,getFilters:Pi,putStream:Fo,events:Wa,scaleFactor:sa,pageSize:{getWidth:function(){return nc(vt)},setWidth:function(de){Xd(vt,de)},getHeight:function(){return ac(vt)},setHeight:function(de){Yd(vt,de)}},encryptionOptions:ze,encryption:fi,getEncryptor:function(de){return ze!==null?fi.encryptor(de,0):function(Re){return Re}},output:bd,getNumberOfPages:Gc,get pages(){return Xr},out:dt,f2:nt,f3:ut,getPageInfo:zl,getPageInfoByObjId:vc,getCurrentPageInfo:sl,getPDFVersion:pt,Point:rs,Rectangle:bs,Matrix:la,hasHotfix:Wo},Object.defineProperty(Pe.internal.pageSize,"width",{get:function(){return nc(vt)},set:function(de){Xd(vt,de)},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.internal.pageSize,"height",{get:function(){return ac(vt)},set:function(de){Yd(vt,de)},enumerable:!0,configurable:!0}),(function(de){for(var Re=0,mt=on.length;Re<mt;Re++){var kt=mc.call(this,de[Re][0],de[Re][1],de[Re][2],on[Re][3],!0);Ze===!1&&(st[kt]=!0);var Kt=de[Re][0].split("-");xd({id:kt,fontName:Kt[0],fontStyle:Kt[1]||""})}Wa.publish("addFonts",{fonts:_a,dictionary:La})}).call(Pe,on),Bn="F1",Fc(Y,P),Wa.publish("initialized"),Pe}se.prototype.lsbFirstWord=function(S){return String.fromCharCode(255&S,S>>8&255,S>>16&255,S>>24&255)},se.prototype.toHexString=function(S){return S.split("").map(function(w){return("0"+(255&w.charCodeAt(0)).toString(16)).slice(-2)}).join("")},se.prototype.hexToBytes=function(S){for(var w=[],P=0;P<S.length;P+=2)w.push(String.fromCharCode(parseInt(S.substr(P,2),16)));return w.join("")},se.prototype.processOwnerPassword=function(S,w){return le(Ee(w).substr(0,5),S)},se.prototype.encryptor=function(S,w){var P=Ee(this.encryptionKey+String.fromCharCode(255&S,S>>8&255,S>>16&255,255&w,w>>8&255)).substr(0,10);return function(z){return le(P,z)}},Te.prototype.equals=function(S){var w,P="id,objectNumber,equals";if(!S||(0,d.default)(S)!==(0,d.default)(this))return!1;var z=0;for(w in this)if(!(P.indexOf(w)>=0)){if(this.hasOwnProperty(w)&&!S.hasOwnProperty(w)||this[w]!==S[w])return!1;z++}for(w in S)S.hasOwnProperty(w)&&P.indexOf(w)<0&&z--;return z===0},fe.API={events:[]},fe.version="4.0.0";var oe=fe.API,We=1,Ue=function(S){return S.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ue=function(S){return S.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},be=function(S){return S.toFixed(2)},Le=function(S){return S.toFixed(5)};oe.__acroform__={};var ot=function(S,w){S.prototype=Object.create(w.prototype),S.prototype.constructor=S},Tt=function(S){return S*We},Mt=function(S){var w=new Wr,P=_r.internal.getHeight(S)||0,z=_r.internal.getWidth(S)||0;return w.BBox=[0,0,Number(be(z)),Number(be(P))],w},Nt=oe.__acroform__.setBit=function(S,w){if(S=S||0,w=w||0,isNaN(S)||isNaN(w))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return S|1<<w},qt=oe.__acroform__.clearBit=function(S,w){if(S=S||0,w=w||0,isNaN(S)||isNaN(w))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return S&~(1<<w)},Ir=oe.__acroform__.getBit=function(S,w){if(isNaN(S)||isNaN(w))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return S&1<<w?1:0},fr=oe.__acroform__.getBitForPdf=function(S,w){if(isNaN(S)||isNaN(w))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ir(S,w-1)},He=oe.__acroform__.setBitForPdf=function(S,w){if(isNaN(S)||isNaN(w))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nt(S,w-1)},Yt=oe.__acroform__.clearBitForPdf=function(S,w){if(isNaN(S)||isNaN(w))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qt(S,w-1)},Ct=oe.__acroform__.calculateCoordinates=function(S,w){var P=w.internal.getHorizontalCoordinate,z=w.internal.getVerticalCoordinate,Y=S[0],te=S[1],Be=S[2],me=S[3],ye={};return ye.lowerLeft_X=P(Y)||0,ye.lowerLeft_Y=z(te+me)||0,ye.upperRight_X=P(Y+Be)||0,ye.upperRight_Y=z(te)||0,[Number(be(ye.lowerLeft_X)),Number(be(ye.lowerLeft_Y)),Number(be(ye.upperRight_X)),Number(be(ye.upperRight_Y))]},Qr=function(S){if(S.appearanceStreamContent)return S.appearanceStreamContent;if(S.V||S.DV){var w=[],P=S._V||S.DV,z=hr(S,P),Y=S.scope.internal.getFont(S.fontName,S.fontStyle).id;w.push("/Tx BMC"),w.push("q"),w.push("BT"),w.push(S.scope.__private__.encodeColorString(S.color)),w.push("/"+Y+" "+be(z.fontSize)+" Tf"),w.push("1 0 0 1 0 0 Tm"),w.push(z.text),w.push("ET"),w.push("Q"),w.push("EMC");var te=Mt(S);return te.scope=S.scope,te.stream=w.join(`
`),te}},hr=function(S,w){var P=S.fontSize===0?S.maxFontSize:S.fontSize,z={text:"",fontSize:""},Y=(w=(w=w.substr(0,1)=="("?w.substr(1):w).substr(w.length-1)==")"?w.substr(0,w.length-1):w).split(" ");Y=S.multiline?Y.map(function(nt){return nt.split(`
`)}):Y.map(function(nt){return[nt]});var te=P,Be=_r.internal.getHeight(S)||0;Be=Be<0?-Be:Be;var me=_r.internal.getWidth(S)||0;me=me<0?-me:me;var ye=function(nt,ut,St){if(nt+1<Y.length){var Et=ut+" "+Y[nt+1][0];return nn(Et,S,St).width<=me-4}return!1};te++;e:for(;te>0;){w="",te--;var De,ze,Ze=nn("3",S,te).height,st=S.multiline?Be-te:(Be-Ze)/2,Pe=st+=2,gt=0,pt=0,xt=0;if(te<=0){w=`(...) Tj
`,w+="% Width of Text: "+nn(w,S,te=12).width+", FieldWidth:"+me+`
`;break}for(var rt="",Ft=0,Vt=0;Vt<Y.length;Vt++)if(Y.hasOwnProperty(Vt)){var Bt=!1;if(Y[Vt].length!==1&&xt!==Y[Vt].length-1){if((Ze+2)*(Ft+2)+2>Be)continue e;rt+=Y[Vt][xt],Bt=!0,pt=Vt,Vt--}else{rt=(rt+=Y[Vt][xt]+" ").substr(rt.length-1)==" "?rt.substr(0,rt.length-1):rt;var et=parseInt(Vt),Qt=ye(et,rt,te),or=Vt>=Y.length-1;if(Qt&&!or){rt+=" ",xt=0;continue}if(Qt||or){if(or)pt=et;else if(S.multiline&&(Ze+2)*(Ft+2)+2>Be)continue e}else{if(!S.multiline||(Ze+2)*(Ft+2)+2>Be)continue e;pt=et}}for(var Gt="",It=gt;It<=pt;It++){var ir=Y[It];if(S.multiline){if(It===pt){Gt+=ir[xt]+" ",xt=(xt+1)%ir.length;continue}if(It===gt){Gt+=ir[ir.length-1]+" ";continue}}Gt+=ir[0]+" "}switch(Gt=Gt.substr(Gt.length-1)==" "?Gt.substr(0,Gt.length-1):Gt,ze=nn(Gt,S,te).width,S.textAlign){case"right":De=me-ze-2;break;case"center":De=(me-ze)/2;break;default:De=2}w+=be(De)+" "+be(Pe)+` Td
`,w+="("+Ue(Gt)+`) Tj
`,w+=-be(De)+` 0 Td
`,Pe=-(te+2),ze=0,gt=Bt?pt:pt+1,Ft++,rt=""}break}return z.text=w,z.fontSize=te,z},nn=function(S,w,P){var z=w.scope.internal.getFont(w.fontName,w.fontStyle),Y=w.scope.getStringUnitWidth(S,{font:z,fontSize:parseFloat(P),charSpace:0})*parseFloat(P);return{height:w.scope.getStringUnitWidth("3",{font:z,fontSize:parseFloat(P),charSpace:0})*parseFloat(P)*1.5,width:Y}},Gr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Vr=function(S,w){var P={type:"reference",object:S};w.internal.getPageInfo(S.page).pageContext.annotations.find(function(z){return z.type===P.type&&z.object===P.object})===void 0&&w.internal.getPageInfo(S.page).pageContext.annotations.push(P)},Sr=function(S,w){if(w.scope=S,S.internal!==void 0&&(S.internal.acroformPlugin===void 0||S.internal.acroformPlugin.isInitialized===!1)){if(Rr.FieldNum=0,S.internal.acroformPlugin=JSON.parse(JSON.stringify(Gr)),S.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");We=S.internal.scaleFactor,S.internal.acroformPlugin.acroFormDictionaryRoot=new hn,S.internal.acroformPlugin.acroFormDictionaryRoot.scope=S,S.internal.acroformPlugin.acroFormDictionaryRoot._eventID=S.internal.events.subscribe("postPutResources",function(){(function(P){P.internal.events.unsubscribe(P.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete P.internal.acroformPlugin.acroFormDictionaryRoot._eventID,P.internal.acroformPlugin.printedOut=!0})(S)}),S.internal.events.subscribe("buildDocument",function(){(function(P){P.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var z=P.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Y in z)if(z.hasOwnProperty(Y)){var te=z[Y];te.objId=void 0,te.hasAnnotation&&Vr(te,P)}})(S)}),S.internal.events.subscribe("putCatalog",function(){(function(P){if(P.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");P.internal.write("/AcroForm "+P.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(S)}),S.internal.events.subscribe("postPutPages",function(P){(function(z,Y){var te=!z;for(var Be in z||(Y.internal.newObjectDeferredBegin(Y.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Y.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),z=z||Y.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(z.hasOwnProperty(Be)){var me=z[Be],ye=[],De=me.Rect;if(me.Rect&&(me.Rect=Ct(me.Rect,Y)),Y.internal.newObjectDeferredBegin(me.objId,!0),me.DA=_r.createDefaultAppearanceStream(me),(0,d.default)(me)==="object"&&typeof me.getKeyValueListForStream=="function"&&(ye=me.getKeyValueListForStream()),me.Rect=De,me.hasAppearanceStream&&!me.appearanceStreamContent){var ze=Qr(me);ye.push({key:"AP",value:"<</N "+ze+">>"}),Y.internal.acroformPlugin.xForms.push(ze)}if(me.appearanceStreamContent){var Ze="";for(var st in me.appearanceStreamContent)if(me.appearanceStreamContent.hasOwnProperty(st)){var Pe=me.appearanceStreamContent[st];if(Ze+="/"+st+" ",Ze+="<<",Object.keys(Pe).length>=1||Array.isArray(Pe)){for(var Be in Pe)if(Pe.hasOwnProperty(Be)){var gt=Pe[Be];typeof gt=="function"&&(gt=gt.call(Y,me)),Ze+="/"+Be+" "+gt+" ",Y.internal.acroformPlugin.xForms.indexOf(gt)>=0||Y.internal.acroformPlugin.xForms.push(gt)}}else typeof(gt=Pe)=="function"&&(gt=gt.call(Y,me)),Ze+="/"+Be+" "+gt,Y.internal.acroformPlugin.xForms.indexOf(gt)>=0||Y.internal.acroformPlugin.xForms.push(gt);Ze+=">>"}ye.push({key:"AP",value:`<<
`+Ze+">>"})}Y.internal.putStream({additionalKeyValues:ye,objectId:me.objId}),Y.internal.out("endobj")}te&&(function(pt,xt){for(var rt in pt)if(pt.hasOwnProperty(rt)){var Ft=rt,Vt=pt[rt];xt.internal.newObjectDeferredBegin(Vt.objId,!0),(0,d.default)(Vt)==="object"&&typeof Vt.putStream=="function"&&Vt.putStream(),delete pt[Ft]}})(Y.internal.acroformPlugin.xForms,Y)})(P,S)}),S.internal.acroformPlugin.isInitialized=!0}},cr=oe.__acroform__.arrayToPdfArray=function(S,w,P){var z=function(Be){return Be};if(Array.isArray(S)){for(var Y="[",te=0;te<S.length;te++)switch(te!==0&&(Y+=" "),(0,d.default)(S[te])){case"boolean":case"number":case"object":Y+=S[te].toString();break;case"string":S[te].substr(0,1)!=="/"?(w!==void 0&&P&&(z=P.internal.getEncryptor(w)),Y+="("+Ue(z(S[te].toString()))+")"):Y+=S[te].toString()}return Y+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wr=function(S,w,P){var z=function(Y){return Y};return w!==void 0&&P&&(z=P.internal.getEncryptor(w)),(S=S||"").toString(),"("+Ue(z(S))+")"},Hr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(S){this._objId=S}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hr.prototype.toString=function(){return this.objId+" 0 R"},Hr.prototype.putStream=function(){var S=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:S,objectId:this.objId}),this.scope.internal.out("endobj")},Hr.prototype.getKeyValueListForStream=function(){var S=[],w=Object.getOwnPropertyNames(this).filter(function(te){return te!="content"&&te!="appearanceStreamContent"&&te!="scope"&&te!="objId"&&te.substring(0,1)!="_"});for(var P in w)if(Object.getOwnPropertyDescriptor(this,w[P]).configurable===!1){var z=w[P],Y=this[z];Y&&(Array.isArray(Y)?S.push({key:z,value:cr(Y,this.objId,this.scope)}):Y instanceof Hr?(Y.scope=this.scope,S.push({key:z,value:Y.objId+" 0 R"})):typeof Y!="function"&&S.push({key:z,value:Y}))}return S};var Wr=function(){Hr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var S,w=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return w},set:function(P){w=P}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(P){S=P.trim()},get:function(){return S||null}})};ot(Wr,Hr);var hn=function(){Hr.call(this);var S,w=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return w.length>0?w:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return w}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(S){var P=function(z){return z};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Ue(P(S))+")"}},set:function(P){S=P}})};ot(hn,Hr);var Rr=function S(){Hr.call(this);var w=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return w},set:function(rt){if(isNaN(rt))throw new Error('Invalid value "'+rt+'" for attribute F supplied.');w=rt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(w,3)},set:function(rt){rt?this.F=He(w,3):this.F=Yt(w,3)}});var P=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return P},set:function(rt){if(isNaN(rt))throw new Error('Invalid value "'+rt+'" for attribute Ff supplied.');P=rt}});var z=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(z.length!==0)return z},set:function(rt){z=rt!==void 0?rt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[0])?0:z[0]},set:function(rt){z[0]=rt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[1])?0:z[1]},set:function(rt){z[1]=rt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[2])?0:z[2]},set:function(rt){z[2]=rt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!z||isNaN(z[3])?0:z[3]},set:function(rt){z[3]=rt}});var Y="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Y},set:function(rt){switch(rt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Y=rt;break;default:throw new Error('Invalid value "'+rt+'" for attribute FT supplied.')}}});var te=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!te||te.length<1){if(this instanceof ln)return;te="FieldObject"+S.FieldNum++}var rt=function(Ft){return Ft};return this.scope&&(rt=this.scope.internal.getEncryptor(this.objId)),"("+Ue(rt(te))+")"},set:function(rt){te=rt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return te},set:function(rt){te=rt}});var Be="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(rt){Be=rt}});var me="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return me},set:function(rt){me=rt}});var ye=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ye},set:function(rt){ye=rt}});var De=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return De===void 0?50/We:De},set:function(rt){De=rt}});var ze="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ze},set:function(rt){ze=rt}});var Ze="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ze||this instanceof ln||this instanceof Kr))return wr(Ze,this.objId,this.scope)},set:function(rt){rt=rt.toString(),Ze=rt}});var st=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(st)return this instanceof sn==0?wr(st,this.objId,this.scope):st},set:function(rt){rt=rt.toString(),st=this instanceof sn==0?rt.substr(0,1)==="("?ue(rt.substr(1,rt.length-2)):ue(rt):rt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sn==1?ue(st.substr(1,st.length-1)):st},set:function(rt){rt=rt.toString(),st=this instanceof sn==1?"/"+rt:rt}});var Pe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Pe)return Pe},set:function(rt){this.V=rt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Pe)return this instanceof sn==0?wr(Pe,this.objId,this.scope):Pe},set:function(rt){rt=rt.toString(),Pe=this instanceof sn==0?rt.substr(0,1)==="("?ue(rt.substr(1,rt.length-2)):ue(rt):rt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sn==1?ue(Pe.substr(1,Pe.length-1)):Pe},set:function(rt){rt=rt.toString(),Pe=this instanceof sn==1?"/"+rt:rt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var gt,pt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return pt},set:function(rt){rt=!!rt,pt=rt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(gt)return gt},set:function(rt){gt=rt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(rt){rt?this.Ff=He(this.Ff,1):this.Ff=Yt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(rt){rt?this.Ff=He(this.Ff,2):this.Ff=Yt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(rt){rt?this.Ff=He(this.Ff,3):this.Ff=Yt(this.Ff,3)}});var xt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(xt!==null)return xt},set:function(rt){if([0,1,2].indexOf(rt)===-1)throw new Error('Invalid value "'+rt+'" for attribute Q supplied.');xt=rt}}),Object.defineProperty(this,"textAlign",{get:function(){var rt;switch(xt){case 0:default:rt="left";break;case 1:rt="center";break;case 2:rt="right"}return rt},configurable:!0,enumerable:!0,set:function(rt){switch(rt){case"right":case 2:xt=2;break;case"center":case 1:xt=1;break;default:xt=0}}})};ot(Rr,Hr);var Rn=function(){Rr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var S=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return S},set:function(P){S=P}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return S},set:function(P){S=P}});var w=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cr(w,this.objId,this.scope)},set:function(P){var z,Y;Y=[],typeof(z=P)=="string"&&(Y=(function(te,Be,me){me||(me=1);for(var ye,De=[];ye=Be.exec(te);)De.push(ye[me]);return De})(z,/\((.*?)\)/g)),w=Y}}),this.getOptions=function(){return w},this.setOptions=function(P){w=P,this.sort&&w.sort()},this.addOption=function(P){P=(P=P||"").toString(),w.push(P),this.sort&&w.sort()},this.removeOption=function(P,z){for(z=z||!1,P=(P=P||"").toString();w.indexOf(P)!==-1&&(w.splice(w.indexOf(P),1),z!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(P){P?this.Ff=He(this.Ff,18):this.Ff=Yt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(P){this.combo===!0&&(P?this.Ff=He(this.Ff,19):this.Ff=Yt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(P){P?(this.Ff=He(this.Ff,20),w.sort()):this.Ff=Yt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(P){P?this.Ff=He(this.Ff,22):this.Ff=Yt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(P){P?this.Ff=He(this.Ff,23):this.Ff=Yt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(P){P?this.Ff=He(this.Ff,27):this.Ff=Yt(this.Ff,27)}}),this.hasAppearanceStream=!1};ot(Rn,Rr);var Dr=function(){Rn.call(this),this.fontName="helvetica",this.combo=!1};ot(Dr,Rn);var Pr=function(){Dr.call(this),this.combo=!0};ot(Pr,Dr);var gn=function(){Pr.call(this),this.edit=!0};ot(gn,Pr);var sn=function(){Rr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(P){P?this.Ff=He(this.Ff,15):this.Ff=Yt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(P){P?this.Ff=He(this.Ff,16):this.Ff=Yt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(P){P?this.Ff=He(this.Ff,17):this.Ff=Yt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(P){P?this.Ff=He(this.Ff,26):this.Ff=Yt(this.Ff,26)}});var S,w={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(te){return te};if(this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),Object.keys(w).length!==0){var z,Y=[];for(z in Y.push("<<"),w)Y.push("/"+z+" ("+Ue(P(w[z]))+")");return Y.push(">>"),Y.join(`
`)}},set:function(P){(0,d.default)(P)==="object"&&(w=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return w.CA||""},set:function(P){typeof P=="string"&&(w.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return S},set:function(P){S=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return S.substr(1,S.length-1)},set:function(P){S="/"+P}})};ot(sn,Rr);var yt=function(){sn.call(this),this.pushButton=!0};ot(yt,sn);var Nr=function(){sn.call(this),this.radio=!0,this.pushButton=!1;var S=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return S},set:function(w){S=w!==void 0?w:[]}})};ot(Nr,sn);var ln=function(){var S,w;Rr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return S},set:function(Y){S=Y}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return w},set:function(Y){w=Y}});var P,z={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Y=function(me){return me};this.scope&&(Y=this.scope.internal.getEncryptor(this.objId));var te,Be=[];for(te in Be.push("<<"),z)Be.push("/"+te+" ("+Ue(Y(z[te]))+")");return Be.push(">>"),Be.join(`
`)},set:function(Y){(0,d.default)(Y)==="object"&&(z=Y)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return z.CA||""},set:function(Y){typeof Y=="string"&&(z.CA=Y)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return P},set:function(Y){P=Y}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return P.substr(1,P.length-1)},set:function(Y){P="/"+Y}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ot(ln,Rr),Nr.prototype.setAppearance=function(S){if(!("createAppearanceStream"in S)||!("getCA"in S))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var w in this.Kids)if(this.Kids.hasOwnProperty(w)){var P=this.Kids[w];P.appearanceStreamContent=S.createAppearanceStream(P.optionName),P.caption=S.getCA()}},Nr.prototype.createOption=function(S){var w=new ln;return w.Parent=this,w.optionName=S,this.Kids.push(w),Ka.call(this.scope,w),w};var Fn=function(){sn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};ot(Fn,sn);var Kr=function(){Rr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(w){w?this.Ff=He(this.Ff,13):this.Ff=Yt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(w){w?this.Ff=He(this.Ff,21):this.Ff=Yt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(w){w?this.Ff=He(this.Ff,23):this.Ff=Yt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(w){w?this.Ff=He(this.Ff,24):this.Ff=Yt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(w){w?this.Ff=He(this.Ff,25):this.Ff=Yt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(w){w?this.Ff=He(this.Ff,26):this.Ff=Yt(this.Ff,26)}});var S=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return S},set:function(w){S=w}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){Number.isInteger(w)&&(S=w)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ot(Kr,Rr);var Dn=function(){Kr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(S){S?this.Ff=He(this.Ff,14):this.Ff=Yt(this.Ff,14)}}),this.password=!0};ot(Dn,Kr);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(S){var w=Mt(S);w.scope=S.scope;var P=[],z=S.scope.internal.getFont(S.fontName,S.fontStyle).id,Y=S.scope.__private__.encodeColorString(S.color),te=hr(S,S.caption);return P.push("0.749023 g"),P.push("0 0 "+be(_r.internal.getWidth(S))+" "+be(_r.internal.getHeight(S))+" re"),P.push("f"),P.push("BMC"),P.push("q"),P.push("0 0 1 rg"),P.push("/"+z+" "+be(te.fontSize)+" Tf "+Y),P.push("BT"),P.push(te.text),P.push("ET"),P.push("Q"),P.push("EMC"),w.stream=P.join(`
`),w},YesNormal:function(S){var w=Mt(S);w.scope=S.scope;var P=S.scope.internal.getFont(S.fontName,S.fontStyle).id,z=S.scope.__private__.encodeColorString(S.color),Y=[],te=_r.internal.getHeight(S),Be=_r.internal.getWidth(S),me=hr(S,S.caption);return Y.push("1 g"),Y.push("0 0 "+be(Be)+" "+be(te)+" re"),Y.push("f"),Y.push("q"),Y.push("0 0 1 rg"),Y.push("0 0 "+be(Be-1)+" "+be(te-1)+" re"),Y.push("W"),Y.push("n"),Y.push("0 g"),Y.push("BT"),Y.push("/"+P+" "+be(me.fontSize)+" Tf "+z),Y.push(me.text),Y.push("ET"),Y.push("Q"),w.stream=Y.join(`
`),w},OffPushDown:function(S){var w=Mt(S);w.scope=S.scope;var P=[];return P.push("0.749023 g"),P.push("0 0 "+be(_r.internal.getWidth(S))+" "+be(_r.internal.getHeight(S))+" re"),P.push("f"),w.stream=P.join(`
`),w}},RadioButton:{Circle:{createAppearanceStream:function(S){var w={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return w.N[S]=_r.RadioButton.Circle.YesNormal,w.D[S]=_r.RadioButton.Circle.YesPushDown,w},getCA:function(){return"l"},YesNormal:function(S){var w=Mt(S);w.scope=S.scope;var P=[],z=_r.internal.getWidth(S)<=_r.internal.getHeight(S)?_r.internal.getWidth(S)/4:_r.internal.getHeight(S)/4;z=Number((.9*z).toFixed(5));var Y=_r.internal.Bezier_C,te=Number((z*Y).toFixed(5));return P.push("q"),P.push("1 0 0 1 "+Le(_r.internal.getWidth(S)/2)+" "+Le(_r.internal.getHeight(S)/2)+" cm"),P.push(z+" 0 m"),P.push(z+" "+te+" "+te+" "+z+" 0 "+z+" c"),P.push("-"+te+" "+z+" -"+z+" "+te+" -"+z+" 0 c"),P.push("-"+z+" -"+te+" -"+te+" -"+z+" 0 -"+z+" c"),P.push(te+" -"+z+" "+z+" -"+te+" "+z+" 0 c"),P.push("f"),P.push("Q"),w.stream=P.join(`
`),w},YesPushDown:function(S){var w=Mt(S);w.scope=S.scope;var P=[],z=_r.internal.getWidth(S)<=_r.internal.getHeight(S)?_r.internal.getWidth(S)/4:_r.internal.getHeight(S)/4;z=Number((.9*z).toFixed(5));var Y=Number((2*z).toFixed(5)),te=Number((Y*_r.internal.Bezier_C).toFixed(5)),Be=Number((z*_r.internal.Bezier_C).toFixed(5));return P.push("0.749023 g"),P.push("q"),P.push("1 0 0 1 "+Le(_r.internal.getWidth(S)/2)+" "+Le(_r.internal.getHeight(S)/2)+" cm"),P.push(Y+" 0 m"),P.push(Y+" "+te+" "+te+" "+Y+" 0 "+Y+" c"),P.push("-"+te+" "+Y+" -"+Y+" "+te+" -"+Y+" 0 c"),P.push("-"+Y+" -"+te+" -"+te+" -"+Y+" 0 -"+Y+" c"),P.push(te+" -"+Y+" "+Y+" -"+te+" "+Y+" 0 c"),P.push("f"),P.push("Q"),P.push("0 g"),P.push("q"),P.push("1 0 0 1 "+Le(_r.internal.getWidth(S)/2)+" "+Le(_r.internal.getHeight(S)/2)+" cm"),P.push(z+" 0 m"),P.push(z+" "+Be+" "+Be+" "+z+" 0 "+z+" c"),P.push("-"+Be+" "+z+" -"+z+" "+Be+" -"+z+" 0 c"),P.push("-"+z+" -"+Be+" -"+Be+" -"+z+" 0 -"+z+" c"),P.push(Be+" -"+z+" "+z+" -"+Be+" "+z+" 0 c"),P.push("f"),P.push("Q"),w.stream=P.join(`
`),w},OffPushDown:function(S){var w=Mt(S);w.scope=S.scope;var P=[],z=_r.internal.getWidth(S)<=_r.internal.getHeight(S)?_r.internal.getWidth(S)/4:_r.internal.getHeight(S)/4;z=Number((.9*z).toFixed(5));var Y=Number((2*z).toFixed(5)),te=Number((Y*_r.internal.Bezier_C).toFixed(5));return P.push("0.749023 g"),P.push("q"),P.push("1 0 0 1 "+Le(_r.internal.getWidth(S)/2)+" "+Le(_r.internal.getHeight(S)/2)+" cm"),P.push(Y+" 0 m"),P.push(Y+" "+te+" "+te+" "+Y+" 0 "+Y+" c"),P.push("-"+te+" "+Y+" -"+Y+" "+te+" -"+Y+" 0 c"),P.push("-"+Y+" -"+te+" -"+te+" -"+Y+" 0 -"+Y+" c"),P.push(te+" -"+Y+" "+Y+" -"+te+" "+Y+" 0 c"),P.push("f"),P.push("Q"),w.stream=P.join(`
`),w}},Cross:{createAppearanceStream:function(S){var w={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return w.N[S]=_r.RadioButton.Cross.YesNormal,w.D[S]=_r.RadioButton.Cross.YesPushDown,w},getCA:function(){return"8"},YesNormal:function(S){var w=Mt(S);w.scope=S.scope;var P=[],z=_r.internal.calculateCross(S);return P.push("q"),P.push("1 1 "+be(_r.internal.getWidth(S)-2)+" "+be(_r.internal.getHeight(S)-2)+" re"),P.push("W"),P.push("n"),P.push(be(z.x1.x)+" "+be(z.x1.y)+" m"),P.push(be(z.x2.x)+" "+be(z.x2.y)+" l"),P.push(be(z.x4.x)+" "+be(z.x4.y)+" m"),P.push(be(z.x3.x)+" "+be(z.x3.y)+" l"),P.push("s"),P.push("Q"),w.stream=P.join(`
`),w},YesPushDown:function(S){var w=Mt(S);w.scope=S.scope;var P=_r.internal.calculateCross(S),z=[];return z.push("0.749023 g"),z.push("0 0 "+be(_r.internal.getWidth(S))+" "+be(_r.internal.getHeight(S))+" re"),z.push("f"),z.push("q"),z.push("1 1 "+be(_r.internal.getWidth(S)-2)+" "+be(_r.internal.getHeight(S)-2)+" re"),z.push("W"),z.push("n"),z.push(be(P.x1.x)+" "+be(P.x1.y)+" m"),z.push(be(P.x2.x)+" "+be(P.x2.y)+" l"),z.push(be(P.x4.x)+" "+be(P.x4.y)+" m"),z.push(be(P.x3.x)+" "+be(P.x3.y)+" l"),z.push("s"),z.push("Q"),w.stream=z.join(`
`),w},OffPushDown:function(S){var w=Mt(S);w.scope=S.scope;var P=[];return P.push("0.749023 g"),P.push("0 0 "+be(_r.internal.getWidth(S))+" "+be(_r.internal.getHeight(S))+" re"),P.push("f"),w.stream=P.join(`
`),w}}},createDefaultAppearanceStream:function(S){var w=S.scope.internal.getFont(S.fontName,S.fontStyle).id,P=S.scope.__private__.encodeColorString(S.color);return"/"+w+" "+S.fontSize+" Tf "+P}};_r.internal={Bezier_C:.551915024494,calculateCross:function(S){var w=_r.internal.getWidth(S),P=_r.internal.getHeight(S),z=Math.min(w,P);return{x1:{x:(w-z)/2,y:(P-z)/2+z},x2:{x:(w-z)/2+z,y:(P-z)/2},x3:{x:(w-z)/2,y:(P-z)/2},x4:{x:(w-z)/2+z,y:(P-z)/2+z}}}},_r.internal.getWidth=function(S){var w=0;return(0,d.default)(S)==="object"&&(w=Tt(S.Rect[2])),w},_r.internal.getHeight=function(S){var w=0;return(0,d.default)(S)==="object"&&(w=Tt(S.Rect[3])),w};var Ka=oe.addField=function(S){if(Sr(this,S),!(S instanceof Rr))throw new Error("Invalid argument passed to jsPDF.addField.");var w;return(w=S).scope.internal.acroformPlugin.printedOut&&(w.scope.internal.acroformPlugin.printedOut=!1,w.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),w.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(w),S.page=S.scope.internal.getCurrentPageInfo().pageNumber,this};oe.AcroFormChoiceField=Rn,oe.AcroFormListBox=Dr,oe.AcroFormComboBox=Pr,oe.AcroFormEditBox=gn,oe.AcroFormButton=sn,oe.AcroFormPushButton=yt,oe.AcroFormRadioButton=Nr,oe.AcroFormCheckBox=Fn,oe.AcroFormTextField=Kr,oe.AcroFormPasswordField=Dn,oe.AcroFormAppearance=_r,oe.AcroForm={ChoiceField:Rn,ListBox:Dr,ComboBox:Pr,EditBox:gn,Button:sn,PushButton:yt,RadioButton:Nr,CheckBox:Fn,TextField:Kr,PasswordField:Dn,Appearance:_r},fe.AcroForm={ChoiceField:Rn,ListBox:Dr,ComboBox:Pr,EditBox:gn,Button:sn,PushButton:yt,RadioButton:Nr,CheckBox:Fn,TextField:Kr,PasswordField:Dn,Appearance:_r};var qs=fe.AcroForm;function vn(S){return S.reduce(function(w,P,z){return w[P]=z,w},{})}(function(S){var w="addImage_";S.__addimage__={};var P="UNKNOWN",z={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Y=S.__addimage__.getImageFileTypeByImageData=function(nt,ut){var St,Et,lr,Ar,vr,Jt=P;if((ut=ut||P)==="RGBA"||nt.data!==void 0&&nt.data instanceof Uint8ClampedArray&&"height"in nt&&"width"in nt)return"RGBA";if(Qt(nt))for(vr in z)for(lr=z[vr],St=0;St<lr.length;St+=1){for(Ar=!0,Et=0;Et<lr[St].length;Et+=1)if(lr[St][Et]!==void 0&&lr[St][Et]!==nt[Et]){Ar=!1;break}if(Ar===!0){Jt=vr;break}}else for(vr in z)for(lr=z[vr],St=0;St<lr.length;St+=1){for(Ar=!0,Et=0;Et<lr[St].length;Et+=1)if(lr[St][Et]!==void 0&&lr[St][Et]!==nt.charCodeAt(Et)){Ar=!1;break}if(Ar===!0){Jt=vr;break}}return Jt===P&&ut!==P&&(Jt=ut),Jt},te=function nt(ut){for(var St=this.internal.write,Et=this.internal.putStream,lr=(0,this.internal.getFilters)();lr.indexOf("FlateEncode")!==-1;)lr.splice(lr.indexOf("FlateEncode"),1);ut.objectId=this.internal.newObject();var Ar=[];if(Ar.push({key:"Type",value:"/XObject"}),Ar.push({key:"Subtype",value:"/Image"}),Ar.push({key:"Width",value:ut.width}),Ar.push({key:"Height",value:ut.height}),ut.colorSpace===rt.INDEXED?Ar.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ut.palette.length/3-1)+" "+("sMask"in ut&&ut.sMask!==void 0?ut.objectId+2:ut.objectId+1)+" 0 R]"}):(Ar.push({key:"ColorSpace",value:"/"+ut.colorSpace}),ut.colorSpace===rt.DEVICE_CMYK&&Ar.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ar.push({key:"BitsPerComponent",value:ut.bitsPerComponent}),"decodeParameters"in ut&&ut.decodeParameters!==void 0&&Ar.push({key:"DecodeParms",value:"<<"+ut.decodeParameters+">>"}),"transparency"in ut&&Array.isArray(ut.transparency)&&ut.transparency.length>0){for(var vr="",Jt=0,mr=ut.transparency.length;Jt<mr;Jt++)vr+=ut.transparency[Jt]+" "+ut.transparency[Jt]+" ";Ar.push({key:"Mask",value:"["+vr+"]"})}ut.sMask!==void 0&&Ar.push({key:"SMask",value:ut.objectId+1+" 0 R"});var qr=ut.filter!==void 0?["/"+ut.filter]:void 0;if(Et({data:ut.data,additionalKeyValues:Ar,alreadyAppliedFilters:qr,objectId:ut.objectId}),St("endobj"),"sMask"in ut&&ut.sMask!==void 0){var Lr,Ye=(Lr=ut.sMaskBitsPerComponent)!==null&&Lr!==void 0?Lr:ut.bitsPerComponent,vt={width:ut.width,height:ut.height,colorSpace:"DeviceGray",bitsPerComponent:Ye,data:ut.sMask};"filter"in ut&&(vt.decodeParameters="/Predictor ".concat(ut.predictor," /Colors 1 /BitsPerComponent ").concat(Ye," /Columns ").concat(ut.width),vt.filter=ut.filter),nt.call(this,vt)}if(ut.colorSpace===rt.INDEXED){var jt=this.internal.newObject();Et({data:Gt(new Uint8Array(ut.palette)),objectId:jt}),St("endobj")}},Be=function(){var nt=this.internal.collections[w+"images"];for(var ut in nt)te.call(this,nt[ut])},me=function(){var nt,ut=this.internal.collections[w+"images"],St=this.internal.write;for(var Et in ut)St("/I"+(nt=ut[Et]).index,nt.objectId,"0","R")},ye=function(){this.internal.collections[w+"images"]||(this.internal.collections[w+"images"]={},this.internal.events.subscribe("putResources",Be),this.internal.events.subscribe("putXobjectDict",me))},De=function(){var nt=this.internal.collections[w+"images"];return ye.call(this),nt},ze=function(){return Object.keys(this.internal.collections[w+"images"]).length},Ze=function(nt){return typeof S["process"+nt.toUpperCase()]=="function"},st=function(nt){return(0,d.default)(nt)==="object"&&nt.nodeType===1},Pe=function(nt,ut){if(nt.nodeName==="IMG"&&nt.hasAttribute("src")){var St=""+nt.getAttribute("src");if(St.indexOf("data:image/")===0)return C(unescape(St).split("base64,").pop());var Et=S.loadFile(St,!0);if(Et!==void 0)return Et}if(nt.nodeName==="CANVAS"){if(nt.width===0||nt.height===0)throw new Error("Given canvas must have data. Canvas width: "+nt.width+", height: "+nt.height);var lr;switch(ut){case"PNG":lr="image/png";break;case"WEBP":lr="image/webp";break;default:lr="image/jpeg"}return C(nt.toDataURL(lr,1).split("base64,").pop())}},gt=function(nt){var ut=this.internal.collections[w+"images"];if(ut){for(var St in ut)if(nt===ut[St].alias)return ut[St]}},pt=function(nt,ut,St){return nt||ut||(nt=-96,ut=-96),nt<0&&(nt=-1*St.width*72/nt/this.internal.scaleFactor),ut<0&&(ut=-1*St.height*72/ut/this.internal.scaleFactor),nt===0&&(nt=ut*St.width/St.height),ut===0&&(ut=nt*St.height/St.width),[nt,ut]},xt=function(nt,ut,St,Et,lr,Ar){var vr=pt.call(this,St,Et,lr),Jt=this.internal.getCoordinateString,mr=this.internal.getVerticalCoordinateString,qr=De.call(this);if(St=vr[0],Et=vr[1],qr[lr.index]=lr,Ar){Ar*=Math.PI/180;var Lr=Math.cos(Ar),Ye=Math.sin(Ar),vt=function(Ht){return Ht.toFixed(4)},jt=[vt(Lr),vt(Ye),vt(-1*Ye),vt(Lr),0,0,"cm"]}this.internal.write("q"),Ar?(this.internal.write([1,"0","0",1,Jt(nt),mr(ut+Et),"cm"].join(" ")),this.internal.write(jt.join(" ")),this.internal.write([Jt(St),"0","0",Jt(Et),"0","0","cm"].join(" "))):this.internal.write([Jt(St),"0","0",Jt(Et),Jt(nt),mr(ut+Et),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+lr.index+" Do"),this.internal.write("Q")},rt=S.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};S.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ft=S.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Vt=S.__addimage__.sHashCode=function(nt){var ut,St,Et=0;if(typeof nt=="string")for(St=nt.length,ut=0;ut<St;ut++)Et=(Et<<5)-Et+nt.charCodeAt(ut),Et|=0;else if(Qt(nt))for(St=nt.byteLength/2,ut=0;ut<St;ut++)Et=(Et<<5)-Et+nt[ut],Et|=0;return Et},Bt=S.__addimage__.validateStringAsBase64=function(nt){(nt=nt||"").toString().trim();var ut=!0;return nt.length===0&&(ut=!1),nt.length%4!=0&&(ut=!1),/^[A-Za-z0-9+/]+$/.test(nt.substr(0,nt.length-2))===!1&&(ut=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(nt.substr(-2))===!1&&(ut=!1),ut},et=S.__addimage__.extractImageFromDataUrl=function(nt){if(nt==null||!(nt=nt.trim()).startsWith("data:"))return null;var ut=nt.indexOf(",");return ut<0?null:nt.substring(0,ut).trim().endsWith("base64")?nt.substring(ut+1):null};S.__addimage__.isArrayBuffer=function(nt){return nt instanceof ArrayBuffer};var Qt=S.__addimage__.isArrayBufferView=function(nt){return nt instanceof Int8Array||nt instanceof Uint8Array||nt instanceof Uint8ClampedArray||nt instanceof Int16Array||nt instanceof Uint16Array||nt instanceof Int32Array||nt instanceof Uint32Array||nt instanceof Float32Array||nt instanceof Float64Array},or=S.__addimage__.binaryStringToUint8Array=function(nt){for(var ut=nt.length,St=new Uint8Array(ut),Et=0;Et<ut;Et++)St[Et]=nt.charCodeAt(Et);return St},Gt=S.__addimage__.arrayBufferToBinaryString=function(nt){for(var ut="",St=Qt(nt)?nt:new Uint8Array(nt),Et=0;Et<St.length;Et+=8192)ut+=String.fromCharCode.apply(null,St.subarray(Et,Et+8192));return ut};S.addImage=function(){var nt,ut,St,Et,lr,Ar,vr,Jt,mr;if(typeof arguments[1]=="number"?(ut=P,St=arguments[1],Et=arguments[2],lr=arguments[3],Ar=arguments[4],vr=arguments[5],Jt=arguments[6],mr=arguments[7]):(ut=arguments[1],St=arguments[2],Et=arguments[3],lr=arguments[4],Ar=arguments[5],vr=arguments[6],Jt=arguments[7],mr=arguments[8]),(0,d.default)(nt=arguments[0])==="object"&&!st(nt)&&"imageData"in nt){var qr=nt;nt=qr.imageData,ut=qr.format||ut||P,St=qr.x||St||0,Et=qr.y||Et||0,lr=qr.w||qr.width||lr,Ar=qr.h||qr.height||Ar,vr=qr.alias||vr,Jt=qr.compression||Jt,mr=qr.rotation||qr.angle||mr}var Lr=this.internal.getFilters();if(Jt===void 0&&Lr.indexOf("FlateEncode")!==-1&&(Jt="SLOW"),isNaN(St)||isNaN(Et))throw new Error("Invalid coordinates passed to jsPDF.addImage");ye.call(this);var Ye=It.call(this,nt,ut,vr,Jt);return xt.call(this,St,Et,lr,Ar,Ye,mr),this};var It=function(nt,ut,St,Et){var lr,Ar,vr;if(typeof nt=="string"&&Y(nt)===P){nt=unescape(nt);var Jt=ir(nt,!1);(Jt!==""||(Jt=S.loadFile(nt,!0))!==void 0)&&(nt=Jt)}if(st(nt)&&(nt=Pe(nt,ut)),ut=Y(nt,ut),!Ze(ut))throw new Error("addImage does not support files of type '"+ut+"', please ensure that a plugin for '"+ut+"' support is added.");if(((vr=St)==null||vr.length===0)&&(St=(function(mr){return typeof mr=="string"||Qt(mr)?Vt(mr):Qt(mr.data)?Vt(mr.data):null})(nt)),(lr=gt.call(this,St))||(nt instanceof Uint8Array||ut==="RGBA"||(Ar=nt,nt=or(nt)),lr=this["process"+ut.toUpperCase()](nt,ze.call(this),St,(function(mr){return mr&&typeof mr=="string"&&(mr=mr.toUpperCase()),mr in S.image_compression?mr:Ft.NONE})(Et),Ar)),!lr)throw new Error("An unknown error occurred whilst processing the image.");return lr},ir=S.__addimage__.convertBase64ToBinaryString=function(nt,ut){ut=typeof ut!="boolean"||ut;var St,Et="";if(typeof nt=="string"){var lr;St=(lr=et(nt))!==null&&lr!==void 0?lr:nt;try{Et=C(St)}catch(Ar){if(ut)throw Bt(St)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ar.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Et};S.getImageProperties=function(nt){var ut,St,Et="";if(st(nt)&&(nt=Pe(nt)),typeof nt=="string"&&Y(nt)===P&&((Et=ir(nt,!1))===""&&(Et=S.loadFile(nt)||""),nt=Et),St=Y(nt),!Ze(St))throw new Error("addImage does not support files of type '"+St+"', please ensure that a plugin for '"+St+"' support is added.");if(nt instanceof Uint8Array||(nt=or(nt)),!(ut=this["process"+St.toUpperCase()](nt)))throw new Error("An unknown error occurred whilst processing the image");return ut.fileType=St,ut}})(fe.API),(function(S){var w=function(P){if(P!==void 0&&P!="")return!0};fe.API.events.push(["addPage",function(P){this.internal.getPageInfo(P.pageNumber).pageContext.annotations=[]}]),S.events.push(["putPage",function(P){for(var z,Y,te,Be=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,ye=this.internal.getPageInfoByObjId(P.objId),De=P.pageContext.annotations,ze=!1,Ze=0;Ze<De.length&&!ze;Ze++)switch((z=De[Ze]).type){case"link":(w(z.options.url)||w(z.options.pageNumber))&&(ze=!0);break;case"reference":case"text":case"freetext":ze=!0}if(ze!=0){this.internal.write("/Annots [");for(var st=0;st<De.length;st++){z=De[st];var Pe=this.internal.pdfEscape,gt=this.internal.getEncryptor(P.objId);switch(z.type){case"reference":this.internal.write(" "+z.object.objId+" 0 R ");break;case"text":var pt=this.internal.newAdditionalObject(),xt=this.internal.newAdditionalObject(),rt=this.internal.getEncryptor(pt.objId),Ft=z.title||"Note";te="<</Type /Annot /Subtype /Text "+(Y="/Rect ["+Be(z.bounds.x)+" "+me(z.bounds.y+z.bounds.h)+" "+Be(z.bounds.x+z.bounds.w)+" "+me(z.bounds.y)+"] ")+"/Contents ("+Pe(rt(z.contents))+")",te+=" /Popup "+xt.objId+" 0 R",te+=" /P "+ye.objId+" 0 R",te+=" /T ("+Pe(rt(Ft))+") >>",pt.content=te;var Vt=pt.objId+" 0 R";te="<</Type /Annot /Subtype /Popup "+(Y="/Rect ["+Be(z.bounds.x+30)+" "+me(z.bounds.y+z.bounds.h)+" "+Be(z.bounds.x+z.bounds.w+30)+" "+me(z.bounds.y)+"] ")+" /Parent "+Vt,z.open&&(te+=" /Open true"),te+=" >>",xt.content=te,this.internal.write(pt.objId,"0 R",xt.objId,"0 R");break;case"freetext":Y="/Rect ["+Be(z.bounds.x)+" "+me(z.bounds.y)+" "+Be(z.bounds.x+z.bounds.w)+" "+me(z.bounds.y+z.bounds.h)+"] ";var Bt=z.color||"#000000";te="<</Type /Annot /Subtype /FreeText "+Y+"/Contents ("+Pe(gt(z.contents))+")",te+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Bt+")",te+=" /Border [0 0 0]",te+=" >>",this.internal.write(te);break;case"link":if(z.options.name){var et=this.annotations._nameMap[z.options.name];z.options.pageNumber=et.page,z.options.top=et.y}else z.options.top||(z.options.top=0);if(Y="/Rect ["+z.finalBounds.x+" "+z.finalBounds.y+" "+z.finalBounds.w+" "+z.finalBounds.h+"] ",te="",z.options.url)te="<</Type /Annot /Subtype /Link "+Y+"/Border [0 0 0] /A <</S /URI /URI ("+Pe(gt(z.options.url))+") >>";else if(z.options.pageNumber)switch(te="<</Type /Annot /Subtype /Link "+Y+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(z.options.pageNumber).objId+" 0 R",z.options.magFactor=z.options.magFactor||"XYZ",z.options.magFactor){case"Fit":te+=" /Fit]";break;case"FitH":te+=" /FitH "+z.options.top+"]";break;case"FitV":z.options.left=z.options.left||0,te+=" /FitV "+z.options.left+"]";break;default:var Qt=me(z.options.top);z.options.left=z.options.left||0,z.options.zoom===void 0&&(z.options.zoom=0),te+=" /XYZ "+z.options.left+" "+Qt+" "+z.options.zoom+"]"}te!=""&&(te+=" >>",this.internal.write(te))}}this.internal.write("]")}}]),S.createAnnotation=function(P){var z=this.internal.getCurrentPageInfo();switch(P.type){case"link":this.link(P.bounds.x,P.bounds.y,P.bounds.w,P.bounds.h,P);break;case"text":case"freetext":z.pageContext.annotations.push(P)}},S.link=function(P,z,Y,te,Be){var me=this.internal.getCurrentPageInfo(),ye=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString;me.pageContext.annotations.push({finalBounds:{x:ye(P),y:De(z),w:ye(P+Y),h:De(z+te)},options:Be,type:"link"})},S.textWithLink=function(P,z,Y,te){var Be,me,ye=this.getTextWidth(P),De=this.internal.getLineHeight()/this.internal.scaleFactor;if(te.maxWidth!==void 0){me=te.maxWidth;var ze=this.splitTextToSize(P,me).length;Be=Math.ceil(De*ze)}else me=ye,Be=De;return this.text(P,z,Y,te),Y+=.2*De,te.align==="center"&&(z-=ye/2),te.align==="right"&&(z-=ye),this.link(z,Y-De,me,Be,te),ye},S.getTextWidth=function(P){var z=this.internal.getFontSize();return this.getStringUnitWidth(P)*z/this.internal.scaleFactor}})(fe.API),(function(S){var w={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},P={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},z={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Y=[1570,1571,1573,1575];S.__arabicParser__={};var te=S.__arabicParser__.isInArabicSubstitutionA=function(pt){return w[pt.charCodeAt(0)]!==void 0},Be=S.__arabicParser__.isArabicLetter=function(pt){return typeof pt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(pt)},me=S.__arabicParser__.isArabicEndLetter=function(pt){return Be(pt)&&te(pt)&&w[pt.charCodeAt(0)].length<=2},ye=S.__arabicParser__.isArabicAlfLetter=function(pt){return Be(pt)&&Y.indexOf(pt.charCodeAt(0))>=0};S.__arabicParser__.arabicLetterHasIsolatedForm=function(pt){return Be(pt)&&te(pt)&&w[pt.charCodeAt(0)].length>=1};var De=S.__arabicParser__.arabicLetterHasFinalForm=function(pt){return Be(pt)&&te(pt)&&w[pt.charCodeAt(0)].length>=2};S.__arabicParser__.arabicLetterHasInitialForm=function(pt){return Be(pt)&&te(pt)&&w[pt.charCodeAt(0)].length>=3};var ze=S.__arabicParser__.arabicLetterHasMedialForm=function(pt){return Be(pt)&&te(pt)&&w[pt.charCodeAt(0)].length==4},Ze=S.__arabicParser__.resolveLigatures=function(pt){var xt=0,rt=P,Ft="",Vt=0;for(xt=0;xt<pt.length;xt+=1)rt[pt.charCodeAt(xt)]!==void 0?(Vt++,typeof(rt=rt[pt.charCodeAt(xt)])=="number"&&(Ft+=String.fromCharCode(rt),rt=P,Vt=0),xt===pt.length-1&&(rt=P,Ft+=pt.charAt(xt-(Vt-1)),xt-=Vt-1,Vt=0)):(rt=P,Ft+=pt.charAt(xt-Vt),xt-=Vt,Vt=0);return Ft};S.__arabicParser__.isArabicDiacritic=function(pt){return pt!==void 0&&z[pt.charCodeAt(0)]!==void 0};var st=S.__arabicParser__.getCorrectForm=function(pt,xt,rt){return Be(pt)?te(pt)===!1?-1:!De(pt)||!Be(xt)&&!Be(rt)||!Be(rt)&&me(xt)||me(pt)&&!Be(xt)||me(pt)&&ye(xt)||me(pt)&&me(xt)?0:ze(pt)&&Be(xt)&&!me(xt)&&Be(rt)&&De(rt)?3:me(pt)||!Be(rt)?1:2:-1},Pe=function(pt){var xt=0,rt=0,Ft=0,Vt="",Bt="",et="",Qt=(pt=pt||"").split("\\s+"),or=[];for(xt=0;xt<Qt.length;xt+=1){for(or.push(""),rt=0;rt<Qt[xt].length;rt+=1)Vt=Qt[xt][rt],Bt=Qt[xt][rt-1],et=Qt[xt][rt+1],Be(Vt)?(Ft=st(Vt,Bt,et),or[xt]+=Ft!==-1?String.fromCharCode(w[Vt.charCodeAt(0)][Ft]):Vt):or[xt]+=Vt;or[xt]=Ze(or[xt])}return or.join(" ")},gt=S.__arabicParser__.processArabic=S.processArabic=function(){var pt,xt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,rt=[];if(Array.isArray(xt)){var Ft=0;for(rt=[],Ft=0;Ft<xt.length;Ft+=1)Array.isArray(xt[Ft])?rt.push([Pe(xt[Ft][0]),xt[Ft][1],xt[Ft][2]]):rt.push([Pe(xt[Ft])]);pt=rt}else pt=Pe(xt);return typeof arguments[0]=="string"?pt:(arguments[0].text=pt,arguments[0])};S.events.push(["preProcessText",gt])})(fe.API),fe.API.autoPrint=function(S){var w;return(S=S||{}).variant=S.variant||"non-conform",S.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){w=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+w+" 0 R")})),this},(function(S){var w=function(){var P=void 0;Object.defineProperty(this,"pdf",{get:function(){return P},set:function(me){P=me}});var z=150;Object.defineProperty(this,"width",{get:function(){return z},set:function(me){z=isNaN(me)||Number.isInteger(me)===!1||me<0?150:me,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=z+1)}});var Y=300;Object.defineProperty(this,"height",{get:function(){return Y},set:function(me){Y=isNaN(me)||Number.isInteger(me)===!1||me<0?300:me,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Y+1)}});var te=[];Object.defineProperty(this,"childNodes",{get:function(){return te},set:function(me){te=me}});var Be={};Object.defineProperty(this,"style",{get:function(){return Be},set:function(me){Be=me}}),Object.defineProperty(this,"parentNode",{})};w.prototype.getContext=function(P,z){var Y;if((P=P||"2d")!=="2d")return null;for(Y in z)this.pdf.context2d.hasOwnProperty(Y)&&(this.pdf.context2d[Y]=z[Y]);return this.pdf.context2d._canvas=this,this.pdf.context2d},w.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},S.events.push(["initialized",function(){this.canvas=new w,this.canvas.pdf=this}])})(fe.API),(function(S){var w={left:0,top:0,bottom:0,right:0},P=!1,z=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},w),this.internal.__cell__.margins.width=this.getPageWidth(),Y.call(this))},Y=function(){this.internal.__cell__.lastCell=new te,this.internal.__cell__.pages=1},te=function(){var ye=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(pt){ye=pt}});var De=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(pt){De=pt}});var ze=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ze},set:function(pt){ze=pt}});var Ze=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ze},set:function(pt){Ze=pt}});var st=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return st},set:function(pt){st=pt}});var Pe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Pe},set:function(pt){Pe=pt}});var gt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return gt},set:function(pt){gt=pt}}),this};te.prototype.clone=function(){return new te(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},te.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},S.setHeaderFunction=function(ye){return z.call(this),this.internal.__cell__.headerFunction=typeof ye=="function"?ye:void 0,this},S.getTextDimensions=function(ye,De){z.call(this);var ze=(De=De||{}).fontSize||this.getFontSize(),Ze=De.font||this.getFont(),st=De.scaleFactor||this.internal.scaleFactor,Pe=0,gt=0,pt=0,xt=this;if(!Array.isArray(ye)&&typeof ye!="string"){if(typeof ye!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ye=String(ye)}var rt=De.maxWidth;rt>0?typeof ye=="string"?ye=this.splitTextToSize(ye,rt):Object.prototype.toString.call(ye)==="[object Array]"&&(ye=ye.reduce(function(Vt,Bt){return Vt.concat(xt.splitTextToSize(Bt,rt))},[])):ye=Array.isArray(ye)?ye:[ye];for(var Ft=0;Ft<ye.length;Ft++)Pe<(pt=this.getStringUnitWidth(ye[Ft],{font:Ze})*ze)&&(Pe=pt);return Pe!==0&&(gt=ye.length),{w:Pe/=st,h:Math.max((gt*ze*this.getLineHeightFactor()-ze*(this.getLineHeightFactor()-1))/st,0)}},S.cellAddPage=function(){z.call(this),this.addPage();var ye=this.internal.__cell__.margins||w;return this.internal.__cell__.lastCell=new te(ye.left,ye.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Be=S.cell=function(){var ye;ye=arguments[0]instanceof te?arguments[0]:new te(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),z.call(this);var De=this.internal.__cell__.lastCell,ze=this.internal.__cell__.padding,Ze=this.internal.__cell__.margins||w,st=this.internal.__cell__.tableHeaderRow,Pe=this.internal.__cell__.printHeaders;return De.lineNumber!==void 0&&(De.lineNumber===ye.lineNumber?(ye.x=(De.x||0)+(De.width||0),ye.y=De.y||0):De.y+De.height+ye.height+Ze.bottom>this.getPageHeight()?(this.cellAddPage(),ye.y=Ze.top,Pe&&st&&(this.printHeaderRow(ye.lineNumber,!0),ye.y+=st[0].height)):ye.y=De.y+De.height||ye.y),ye.text[0]!==void 0&&(this.rect(ye.x,ye.y,ye.width,ye.height,P===!0?"FD":void 0),ye.align==="right"?this.text(ye.text,ye.x+ye.width-ze,ye.y+ze,{align:"right",baseline:"top"}):ye.align==="center"?this.text(ye.text,ye.x+ye.width/2,ye.y+ze,{align:"center",baseline:"top",maxWidth:ye.width-ze-ze}):this.text(ye.text,ye.x+ze,ye.y+ze,{align:"left",baseline:"top",maxWidth:ye.width-ze-ze})),this.internal.__cell__.lastCell=ye,this};S.table=function(ye,De,ze,Ze,st){if(z.call(this),!ze)throw new Error("No data for PDF table.");var Pe,gt,pt,xt,rt=[],Ft=[],Vt=[],Bt={},et={},Qt=[],or=[],Gt=(st=st||{}).autoSize||!1,It=st.printHeaders!==!1,ir=st.css&&st.css["font-size"]!==void 0?16*st.css["font-size"]:st.fontSize||12,nt=st.margins||Object.assign({width:this.getPageWidth()},w),ut=typeof st.padding=="number"?st.padding:3,St=st.headerBackgroundColor||"#c8c8c8",Et=st.headerTextColor||"#000";if(Y.call(this),this.internal.__cell__.printHeaders=It,this.internal.__cell__.margins=nt,this.internal.__cell__.table_font_size=ir,this.internal.__cell__.padding=ut,this.internal.__cell__.headerBackgroundColor=St,this.internal.__cell__.headerTextColor=Et,this.setFontSize(ir),Ze==null)Ft=rt=Object.keys(ze[0]),Vt=rt.map(function(){return"left"});else if(Array.isArray(Ze)&&(0,d.default)(Ze[0])==="object")for(rt=Ze.map(function(qr){return qr.name}),Ft=Ze.map(function(qr){return qr.prompt||qr.name||""}),Vt=Ze.map(function(qr){return qr.align||"left"}),Pe=0;Pe<Ze.length;Pe+=1)et[Ze[Pe].name]=.7499990551181103*Ze[Pe].width;else Array.isArray(Ze)&&typeof Ze[0]=="string"&&(Ft=rt=Ze,Vt=rt.map(function(){return"left"}));if(Gt||Array.isArray(Ze)&&typeof Ze[0]=="string")for(Pe=0;Pe<rt.length;Pe+=1){for(Bt[xt=rt[Pe]]=ze.map(function(qr){return qr[xt]}),this.setFont(void 0,"bold"),Qt.push(this.getTextDimensions(Ft[Pe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),gt=Bt[xt],this.setFont(void 0,"normal"),pt=0;pt<gt.length;pt+=1)Qt.push(this.getTextDimensions(gt[pt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);et[xt]=Math.max.apply(null,Qt)+ut+ut,Qt=[]}if(It){var lr={};for(Pe=0;Pe<rt.length;Pe+=1)lr[rt[Pe]]={},lr[rt[Pe]].text=Ft[Pe],lr[rt[Pe]].align=Vt[Pe];var Ar=me.call(this,lr,et);or=rt.map(function(qr){return new te(ye,De,et[qr],Ar,lr[qr].text,void 0,lr[qr].align)}),this.setTableHeaderRow(or),this.printHeaderRow(1,!1)}var vr=Ze.reduce(function(qr,Lr){return qr[Lr.name]=Lr.align,qr},{});for(Pe=0;Pe<ze.length;Pe+=1){"rowStart"in st&&st.rowStart instanceof Function&&st.rowStart({row:Pe,data:ze[Pe]},this);var Jt=me.call(this,ze[Pe],et);for(pt=0;pt<rt.length;pt+=1){var mr=ze[Pe][rt[pt]];"cellStart"in st&&st.cellStart instanceof Function&&st.cellStart({row:Pe,col:pt,data:mr},this),Be.call(this,new te(ye,De,et[rt[pt]],Jt,mr,Pe+2,vr[rt[pt]]))}}return this.internal.__cell__.table_x=ye,this.internal.__cell__.table_y=De,this};var me=function(ye,De){var ze=this.internal.__cell__.padding,Ze=this.internal.__cell__.table_font_size,st=this.internal.scaleFactor;return Object.keys(ye).map(function(Pe){var gt=ye[Pe];return this.splitTextToSize(gt.hasOwnProperty("text")?gt.text:gt,De[Pe]-ze-ze)},this).map(function(Pe){return this.getLineHeightFactor()*Pe.length*Ze/st+ze+ze},this).reduce(function(Pe,gt){return Math.max(Pe,gt)},0)};S.setTableHeaderRow=function(ye){z.call(this),this.internal.__cell__.tableHeaderRow=ye},S.printHeaderRow=function(ye,De){if(z.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ze;if(P=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ze=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new te(Ze[0],Ze[1],Ze[2],Ze[3],void 0,-1)}this.setFont(void 0,"bold");for(var st=[],Pe=0;Pe<this.internal.__cell__.tableHeaderRow.length;Pe+=1){ze=this.internal.__cell__.tableHeaderRow[Pe].clone(),De&&(ze.y=this.internal.__cell__.margins.top||0,st.push(ze)),ze.lineNumber=ye;var gt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Be.call(this,ze),this.setTextColor(gt)}st.length>0&&this.setTableHeaderRow(st),this.setFont(void 0,"normal"),P=!1}})(fe.API);var ui={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ps=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],us=vn(ps),Ts=[100,200,300,400,500,600,700,800,900],vs=vn(Ts);function Ai(S){var w=S.family.replace(/"|'/g,"").toLowerCase(),P=(function(te){return ui[te=te||"normal"]?te:"normal"})(S.style),z=(function(te){return te?typeof te=="number"?te>=100&&te<=900&&te%100==0?te:400:/^\d00$/.test(te)?parseInt(te):te==="bold"?700:400:400})(S.weight),Y=(function(te){return typeof us[te=te||"normal"]=="number"?te:"normal"})(S.stretch);return{family:w,style:P,weight:z,stretch:Y,src:S.src||[],ref:S.ref||{name:w,style:[Y,P,z].join(" ")}}}function Ga(S,w,P,z){var Y;for(Y=P;Y>=0&&Y<w.length;Y+=z)if(S[w[Y]])return S[w[Y]];for(Y=P;Y>=0&&Y<w.length;Y-=z)if(S[w[Y]])return S[w[Y]]}var Ii={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ma={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Rl(S){return[S.stretch,S.style,S.weight,S.family].join(" ")}function ri(S){return S.trimLeft()}function Zo(S,w){for(var P=0;P<S.length;){if(S.charAt(P)===w)return[S.substring(0,P),S.substring(P+1)];P+=1}return null}function Ql(S){var w=S.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return w===null?null:[w[0],S.substring(w[0].length)]}var el,Fs,Gi,oa,vl,qa,ao,ki,so=["times"];function ko(S,w,P,z,Y){var te=4,Be=ms;switch(Y){case fe.API.image_compression.FAST:te=1,Be=ji;break;case fe.API.image_compression.MEDIUM:te=6,Be=Xa;break;case fe.API.image_compression.SLOW:te=9,Be=Ho}S=(function(ye,De,ze,Ze){for(var st,Pe=ye.length/De,gt=new Uint8Array(ye.length+Pe),pt=[io,ji,ms,Xa,Ho],xt=0;xt<Pe;xt+=1){var rt=xt*De,Ft=ye.subarray(rt,rt+De);if(Ze)gt.set(Ze(Ft,ze,st),rt+xt);else{for(var Vt=pt.length,Bt=[],et=0;et<Vt;et+=1)Bt[et]=pt[et](Ft,ze,st);var Qt=ec(Bt.concat());gt.set(Bt[Qt],rt+xt)}st=Ft}return gt})(S,w,Math.ceil(P*z/8),Be);var me=(0,u.zlibSync)(S,{level:te});return fe.API.__addimage__.arrayBufferToBinaryString(me)}function io(S){var w=Array.apply([],S);return w.unshift(0),w}function ji(S,w){var P=S.length,z=[];z[0]=1;for(var Y=0;Y<P;Y+=1){var te=S[Y-w]||0;z[Y+1]=S[Y]-te+256&255}return z}function ms(S,w,P){var z=S.length,Y=[];Y[0]=2;for(var te=0;te<z;te+=1){var Be=P&&P[te]||0;Y[te+1]=S[te]-Be+256&255}return Y}function Xa(S,w,P){var z=S.length,Y=[];Y[0]=3;for(var te=0;te<z;te+=1){var Be=S[te-w]||0,me=P&&P[te]||0;Y[te+1]=S[te]+256-(Be+me>>>1)&255}return Y}function Ho(S,w,P){var z=S.length,Y=[];Y[0]=4;for(var te=0;te<z;te+=1){var Be=oo(S[te-w]||0,P&&P[te]||0,P&&P[te-w]||0);Y[te+1]=S[te]-Be+256&255}return Y}function oo(S,w,P){if(S===w&&w===P)return S;var z=Math.abs(w-P),Y=Math.abs(S-P),te=Math.abs(S+w-P-P);return z<=Y&&z<=te?S:Y<=te?w:P}function ec(S){var w=S.map(function(P){return P.reduce(function(z,Y){return z+Math.abs(Y)},0)});return w.indexOf(Math.min.apply(null,w))}function Xs(S,w,P){var z=w*P,Y=Math.floor(z/8),te=16-(z-8*Y+P),Be=(1<<P)-1;return Ps(S,Y)>>te&Be}function zn(S,w,P,z){var Y=P*z,te=Math.floor(Y/8),Be=16-(Y-8*te+z),me=(1<<z)-1,ye=(w&me)<<Be;(function(De,ze,Ze){if(ze+1<De.byteLength)De.setUint16(ze,Ze,!1);else{var st=Ze>>8&255;De.setUint8(ze,st)}})(S,te,Ps(S,te)&~(me<<Be)&65535|ye)}function Ps(S,w){return w+1<S.byteLength?S.getUint16(w,!1):S.getUint8(w)<<8}function ni(S){var w=0;if(S[w++]!==71||S[w++]!==73||S[w++]!==70||S[w++]!==56||(S[w++]+1&253)!=56||S[w++]!==97)throw new Error("Invalid GIF 87a/89a header.");var P=S[w++]|S[w++]<<8,z=S[w++]|S[w++]<<8,Y=S[w++],te=Y>>7,Be=1<<1+(7&Y);S[w++],S[w++];var me=null,ye=null;te&&(me=w,ye=Be,w+=3*Be);var De=!0,ze=[],Ze=0,st=null,Pe=0,gt=null;for(this.width=P,this.height=z;De&&w<S.length;)switch(S[w++]){case 33:switch(S[w++]){case 255:if(S[w]!==11||S[w+1]==78&&S[w+2]==69&&S[w+3]==84&&S[w+4]==83&&S[w+5]==67&&S[w+6]==65&&S[w+7]==80&&S[w+8]==69&&S[w+9]==50&&S[w+10]==46&&S[w+11]==48&&S[w+12]==3&&S[w+13]==1&&S[w+16]==0)w+=14,gt=S[w++]|S[w++]<<8,w++;else for(w+=12;;){if(!((nt=S[w++])>=0))throw Error("Invalid block size");if(nt===0)break;w+=nt}break;case 249:if(S[w++]!==4||S[w+4]!==0)throw new Error("Invalid graphics extension block.");var pt=S[w++];Ze=S[w++]|S[w++]<<8,st=S[w++],1&pt||(st=null),Pe=pt>>2&7,w++;break;case 254:for(;;){if(!((nt=S[w++])>=0))throw Error("Invalid block size");if(nt===0)break;w+=nt}break;default:throw new Error("Unknown graphic control label: 0x"+S[w-1].toString(16))}break;case 44:var xt=S[w++]|S[w++]<<8,rt=S[w++]|S[w++]<<8,Ft=S[w++]|S[w++]<<8,Vt=S[w++]|S[w++]<<8,Bt=S[w++],et=Bt>>6&1,Qt=1<<1+(7&Bt),or=me,Gt=ye,It=!1;Bt>>7&&(It=!0,or=w,Gt=Qt,w+=3*Qt);var ir=w;for(w++;;){var nt;if(!((nt=S[w++])>=0))throw Error("Invalid block size");if(nt===0)break;w+=nt}ze.push({x:xt,y:rt,width:Ft,height:Vt,has_local_palette:It,palette_offset:or,palette_size:Gt,data_offset:ir,data_length:w-ir,transparent_index:st,interlaced:!!et,delay:Ze,disposal:Pe});break;case 59:De=!1;break;default:throw new Error("Unknown gif block: 0x"+S[w-1].toString(16))}this.numFrames=function(){return ze.length},this.loopCount=function(){return gt},this.frameInfo=function(ut){if(ut<0||ut>=ze.length)throw new Error("Frame index out of range.");return ze[ut]},this.decodeAndBlitFrameBGRA=function(ut,St){var Et=this.frameInfo(ut),lr=Et.width*Et.height,Ar=new Uint8Array(lr);ai(S,Et.data_offset,Ar,lr);var vr=Et.palette_offset,Jt=Et.transparent_index;Jt===null&&(Jt=256);var mr=Et.width,qr=P-mr,Lr=mr,Ye=4*(Et.y*P+Et.x),vt=4*((Et.y+Et.height)*P+Et.x),jt=Ye,Ht=4*qr;Et.interlaced===!0&&(Ht+=4*P*7);for(var zt=8,rr=0,pr=Ar.length;rr<pr;++rr){var gr=Ar[rr];if(Lr===0&&(Lr=mr,(jt+=Ht)>=vt&&(Ht=4*qr+4*P*(zt-1),jt=Ye+(mr+qr)*(zt<<1),zt>>=1)),gr===Jt)jt+=4;else{var Tr=S[vr+3*gr],Xr=S[vr+3*gr+1],xn=S[vr+3*gr+2];St[jt++]=xn,St[jt++]=Xr,St[jt++]=Tr,St[jt++]=255}--Lr}},this.decodeAndBlitFrameRGBA=function(ut,St){var Et=this.frameInfo(ut),lr=Et.width*Et.height,Ar=new Uint8Array(lr);ai(S,Et.data_offset,Ar,lr);var vr=Et.palette_offset,Jt=Et.transparent_index;Jt===null&&(Jt=256);var mr=Et.width,qr=P-mr,Lr=mr,Ye=4*(Et.y*P+Et.x),vt=4*((Et.y+Et.height)*P+Et.x),jt=Ye,Ht=4*qr;Et.interlaced===!0&&(Ht+=4*P*7);for(var zt=8,rr=0,pr=Ar.length;rr<pr;++rr){var gr=Ar[rr];if(Lr===0&&(Lr=mr,(jt+=Ht)>=vt&&(Ht=4*qr+4*P*(zt-1),jt=Ye+(mr+qr)*(zt<<1),zt>>=1)),gr===Jt)jt+=4;else{var Tr=S[vr+3*gr],Xr=S[vr+3*gr+1],xn=S[vr+3*gr+2];St[jt++]=Tr,St[jt++]=Xr,St[jt++]=xn,St[jt++]=255}--Lr}}}function ai(S,w,P,z){for(var Y=S[w++],te=1<<Y,Be=te+1,me=Be+1,ye=Y+1,De=(1<<ye)-1,ze=0,Ze=0,st=0,Pe=S[w++],gt=new Int32Array(4096),pt=null;;){for(;ze<16&&Pe!==0;)Ze|=S[w++]<<ze,ze+=8,Pe===1?Pe=S[w++]:--Pe;if(ze<ye)break;var xt=Ze&De;if(Ze>>=ye,ze-=ye,xt!==te){if(xt===Be)break;for(var rt=xt<me?xt:pt,Ft=0,Vt=rt;Vt>te;)Vt=gt[Vt]>>8,++Ft;var Bt=Vt;if(st+Ft+(rt!==xt?1:0)>z)return void x.log("Warning, gif stream longer than expected.");P[st++]=Bt;var et=st+=Ft;for(rt!==xt&&(P[st++]=Bt),Vt=rt;Ft--;)Vt=gt[Vt],P[--et]=255&Vt,Vt>>=8;pt!==null&&me<4096&&(gt[me++]=pt<<8|Bt,me>=De+1&&ye<12&&(++ye,De=De<<1|1)),pt=xt}else me=Be+1,De=(1<<(ye=Y+1))-1,pt=null}return st!==z&&x.log("Warning, gif stream shorter than expected."),P}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function lo(S){var w,P,z,Y,te,Be=Math.floor,me=new Array(64),ye=new Array(64),De=new Array(64),ze=new Array(64),Ze=new Array(65535),st=new Array(65535),Pe=new Array(64),gt=new Array(64),pt=[],xt=0,rt=7,Ft=new Array(64),Vt=new Array(64),Bt=new Array(64),et=new Array(256),Qt=new Array(2048),or=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Gt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],It=[0,1,2,3,4,5,6,7,8,9,10,11],ir=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],nt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ut=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],St=[0,1,2,3,4,5,6,7,8,9,10,11],Et=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],lr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ar(Ye,vt){for(var jt=0,Ht=0,zt=new Array,rr=1;rr<=16;rr++){for(var pr=1;pr<=Ye[rr];pr++)zt[vt[Ht]]=[],zt[vt[Ht]][0]=jt,zt[vt[Ht]][1]=rr,Ht++,jt++;jt*=2}return zt}function vr(Ye){for(var vt=Ye[0],jt=Ye[1]-1;jt>=0;)vt&1<<jt&&(xt|=1<<rt),jt--,--rt<0&&(xt==255?(Jt(255),Jt(0)):Jt(xt),rt=7,xt=0)}function Jt(Ye){pt.push(Ye)}function mr(Ye){Jt(Ye>>8&255),Jt(255&Ye)}function qr(Ye,vt,jt,Ht,zt){for(var rr,pr=zt[0],gr=zt[240],Tr=(function(Ur,ra){var Pn,qn,On,is,Fa,kn,Ja,na,Bn,sa,Sn=0;for(Bn=0;Bn<8;++Bn){Pn=Ur[Sn],qn=Ur[Sn+1],On=Ur[Sn+2],is=Ur[Sn+3],Fa=Ur[Sn+4],kn=Ur[Sn+5],Ja=Ur[Sn+6];var ma=Pn+(na=Ur[Sn+7]),ts=Pn-na,_a=qn+Ja,La=qn-Ja,Hs=On+kn,Wn=On-kn,xs=is+Fa,Aa=is-Fa,Hn=ma+xs,ys=ma-xs,ga=_a+Hs,wn=_a-Hs;Ur[Sn]=Hn+ga,Ur[Sn+4]=Hn-ga;var Wa=.707106781*(wn+ys);Ur[Sn+2]=ys+Wa,Ur[Sn+6]=ys-Wa;var fc=.382683433*((Hn=Aa+Wn)-(wn=La+ts)),wi=.5411961*Hn+fc,Xi=1.306562965*wn+fc,Hl=.707106781*(ga=Wn+La),la=ts+Hl,ii=ts-Hl;Ur[Sn+5]=ii+wi,Ur[Sn+3]=ii-wi,Ur[Sn+1]=la+Xi,Ur[Sn+7]=la-Xi,Sn+=8}for(Sn=0,Bn=0;Bn<8;++Bn){Pn=Ur[Sn],qn=Ur[Sn+8],On=Ur[Sn+16],is=Ur[Sn+24],Fa=Ur[Sn+32],kn=Ur[Sn+40],Ja=Ur[Sn+48];var Yi=Pn+(na=Ur[Sn+56]),tl=Pn-na,mi=qn+Ja,Ns=qn-Ja,hi=On+kn,Qi=On-kn,pc=is+Fa,Fi=is-Fa,To=Yi+pc,Wl=Yi-pc,xl=mi+hi,Pi=mi-hi;Ur[Sn]=To+xl,Ur[Sn+32]=To-xl;var Fo=.707106781*(Pi+Wl);Ur[Sn+16]=Wl+Fo,Ur[Sn+48]=Wl-Fo;var rl=.382683433*((To=Fi+Qi)-(Pi=Ns+tl)),yo=.5411961*To+rl,Ao=1.306562965*Pi+rl,yl=.707106781*(xl=Qi+Ns),nl=tl+yl,$l=tl-yl;Ur[Sn+40]=$l+yo,Ur[Sn+24]=$l-yo,Ur[Sn+8]=nl+Ao,Ur[Sn+56]=nl-Ao,Sn++}for(Bn=0;Bn<64;++Bn)sa=Ur[Bn]*ra[Bn],Pe[Bn]=sa>0?sa+.5|0:sa-.5|0;return Pe})(Ye,vt),Xr=0;Xr<64;++Xr)gt[or[Xr]]=Tr[Xr];var xn=gt[0]-jt;jt=gt[0],xn==0?vr(Ht[0]):(vr(Ht[st[rr=32767+xn]]),vr(Ze[rr]));for(var jn=63;jn>0&&gt[jn]==0;)jn--;if(jn==0)return vr(pr),jt;for(var aa,dt=1;dt<=jn;){for(var cn=dt;gt[dt]==0&&dt<=jn;)++dt;var ua=dt-cn;if(ua>=16){aa=ua>>4;for(var on=1;on<=aa;++on)vr(gr);ua&=15}rr=32767+gt[dt],vr(zt[(ua<<4)+st[rr]]),vr(Ze[rr]),dt++}return jn!=63&&vr(pr),jt}function Lr(Ye){Ye=Math.min(Math.max(Ye,1),100),te!=Ye&&((function(vt){for(var jt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ht=0;Ht<64;Ht++){var zt=Be((jt[Ht]*vt+50)/100);zt=Math.min(Math.max(zt,1),255),me[or[Ht]]=zt}for(var rr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pr=0;pr<64;pr++){var gr=Be((rr[pr]*vt+50)/100);gr=Math.min(Math.max(gr,1),255),ye[or[pr]]=gr}for(var Tr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xr=0,xn=0;xn<8;xn++)for(var jn=0;jn<8;jn++)De[Xr]=1/(me[or[Xr]]*Tr[xn]*Tr[jn]*8),ze[Xr]=1/(ye[or[Xr]]*Tr[xn]*Tr[jn]*8),Xr++})(Ye<50?Math.floor(5e3/Ye):Math.floor(200-2*Ye)),te=Ye)}this.encode=function(Ye,vt){vt&&Lr(vt),pt=new Array,xt=0,rt=7,mr(65496),mr(65504),mr(16),Jt(74),Jt(70),Jt(73),Jt(70),Jt(0),Jt(1),Jt(1),Jt(0),mr(1),mr(1),Jt(0),Jt(0),(function(){mr(65499),mr(132),Jt(0);for(var qn=0;qn<64;qn++)Jt(me[qn]);Jt(1);for(var On=0;On<64;On++)Jt(ye[On])})(),(function(qn,On){mr(65472),mr(17),Jt(8),mr(On),mr(qn),Jt(3),Jt(1),Jt(17),Jt(0),Jt(2),Jt(17),Jt(1),Jt(3),Jt(17),Jt(1)})(Ye.width,Ye.height),(function(){mr(65476),mr(418),Jt(0);for(var qn=0;qn<16;qn++)Jt(Gt[qn+1]);for(var On=0;On<=11;On++)Jt(It[On]);Jt(16);for(var is=0;is<16;is++)Jt(ir[is+1]);for(var Fa=0;Fa<=161;Fa++)Jt(nt[Fa]);Jt(1);for(var kn=0;kn<16;kn++)Jt(ut[kn+1]);for(var Ja=0;Ja<=11;Ja++)Jt(St[Ja]);Jt(17);for(var na=0;na<16;na++)Jt(Et[na+1]);for(var Bn=0;Bn<=161;Bn++)Jt(lr[Bn])})(),mr(65498),mr(12),Jt(3),Jt(1),Jt(0),Jt(2),Jt(17),Jt(3),Jt(17),Jt(0),Jt(63),Jt(0);var jt=0,Ht=0,zt=0;xt=0,rt=7,this.encode.displayName="_encode_";for(var rr,pr,gr,Tr,Xr,xn,jn,aa,dt,cn=Ye.data,ua=Ye.width,on=Ye.height,Ur=4*ua,ra=0;ra<on;){for(rr=0;rr<Ur;){for(Xr=Ur*ra+rr,jn=-1,aa=0,dt=0;dt<64;dt++)xn=Xr+(aa=dt>>3)*Ur+(jn=4*(7&dt)),ra+aa>=on&&(xn-=Ur*(ra+1+aa-on)),rr+jn>=Ur&&(xn-=rr+jn-Ur+4),pr=cn[xn++],gr=cn[xn++],Tr=cn[xn++],Ft[dt]=(Qt[pr]+Qt[gr+256|0]+Qt[Tr+512|0]>>16)-128,Vt[dt]=(Qt[pr+768|0]+Qt[gr+1024|0]+Qt[Tr+1280|0]>>16)-128,Bt[dt]=(Qt[pr+1280|0]+Qt[gr+1536|0]+Qt[Tr+1792|0]>>16)-128;jt=qr(Ft,De,jt,w,z),Ht=qr(Vt,ze,Ht,P,Y),zt=qr(Bt,ze,zt,P,Y),rr+=32}ra+=8}if(rt>=0){var Pn=[];Pn[1]=rt+1,Pn[0]=(1<<rt+1)-1,vr(Pn)}return mr(65497),new Uint8Array(pt)},S=S||50,(function(){for(var Ye=String.fromCharCode,vt=0;vt<256;vt++)et[vt]=Ye(vt)})(),w=Ar(Gt,It),P=Ar(ut,St),z=Ar(ir,nt),Y=Ar(Et,lr),(function(){for(var Ye=1,vt=2,jt=1;jt<=15;jt++){for(var Ht=Ye;Ht<vt;Ht++)st[32767+Ht]=jt,Ze[32767+Ht]=[],Ze[32767+Ht][1]=jt,Ze[32767+Ht][0]=Ht;for(var zt=-(vt-1);zt<=-Ye;zt++)st[32767+zt]=jt,Ze[32767+zt]=[],Ze[32767+zt][1]=jt,Ze[32767+zt][0]=vt-1+zt;Ye<<=1,vt<<=1}})(),(function(){for(var Ye=0;Ye<256;Ye++)Qt[Ye]=19595*Ye,Qt[Ye+256|0]=38470*Ye,Qt[Ye+512|0]=7471*Ye+32768,Qt[Ye+768|0]=-11059*Ye,Qt[Ye+1024|0]=-21709*Ye,Qt[Ye+1280|0]=32768*Ye+8421375,Qt[Ye+1536|0]=-27439*Ye,Qt[Ye+1792|0]=-5329*Ye})(),Lr(S)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ss(S,w){if(this.pos=0,this.buffer=S,this.datav=new DataView(S.buffer),this.is_with_alpha=!!w,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ri(S){function w(It){if(!It)throw Error("assert :P")}function P(It,ir,nt){for(var ut=0;4>ut;ut++)if(It[ir+ut]!=nt.charCodeAt(ut))return!0;return!1}function z(It,ir,nt,ut,St){for(var Et=0;Et<St;Et++)It[ir+Et]=nt[ut+Et]}function Y(It,ir,nt,ut){for(var St=0;St<ut;St++)It[ir+St]=nt}function te(It){return new Int32Array(It)}function Be(It,ir){for(var nt=[],ut=0;ut<It;ut++)nt.push(new ir);return nt}function me(It,ir){var nt=[];return(function ut(St,Et,lr){for(var Ar=lr[Et],vr=0;vr<Ar&&(St.push(lr.length>Et+1?[]:new ir),!(lr.length<Et+1));vr++)ut(St[vr],Et+1,lr)})(nt,0,It),nt}var ye=function(){var It=this;function ir(k,q){for(var je=1<<q-1>>>0;k&je;)je>>>=1;return je?(k&je-1)+je:k}function nt(k,q,je,ke,Qe){w(!(ke%je));do k[q+(ke-=je)]=Qe;while(0<ke)}function ut(k,q,je,ke,Qe){if(w(2328>=Qe),512>=Qe)var Ke=te(512);else if((Ke=te(Qe))==null)return 0;return(function(qe,Je,tt,ft,Ot,tr){var ht,_t,Xt=Je,br=1<<tt,nr=te(16),Cr=te(16);for(w(Ot!=0),w(ft!=null),w(qe!=null),w(0<tt),_t=0;_t<Ot;++_t){if(15<ft[_t])return 0;++nr[ft[_t]]}if(nr[0]==Ot)return 0;for(Cr[1]=0,ht=1;15>ht;++ht){if(nr[ht]>1<<ht)return 0;Cr[ht+1]=Cr[ht]+nr[ht]}for(_t=0;_t<Ot;++_t)ht=ft[_t],0<ft[_t]&&(tr[Cr[ht]++]=_t);if(Cr[15]==1)return(ft=new St).g=0,ft.value=tr[0],nt(qe,Xt,1,br,ft),br;var Br,Mr=-1,Er=br-1,Yn=0,En=1,Da=1,pn=1<<tt;for(_t=0,ht=1,Ot=2;ht<=tt;++ht,Ot<<=1){if(En+=Da<<=1,0>(Da-=nr[ht]))return 0;for(;0<nr[ht];--nr[ht])(ft=new St).g=ht,ft.value=tr[_t++],nt(qe,Xt+Yn,Ot,pn,ft),Yn=ir(Yn,ht)}for(ht=tt+1,Ot=2;15>=ht;++ht,Ot<<=1){if(En+=Da<<=1,0>(Da-=nr[ht]))return 0;for(;0<nr[ht];--nr[ht]){if(ft=new St,(Yn&Er)!=Mr){for(Xt+=pn,Br=1<<(Mr=ht)-tt;15>Mr&&!(0>=(Br-=nr[Mr]));)++Mr,Br<<=1;br+=pn=1<<(Br=Mr-tt),qe[Je+(Mr=Yn&Er)].g=Br+tt,qe[Je+Mr].value=Xt-Je-Mr}ft.g=ht-tt,ft.value=tr[_t++],nt(qe,Xt+(Yn>>tt),Ot,pn,ft),Yn=ir(Yn,ht)}}return En!=2*Cr[15]-1?0:br})(k,q,je,ke,Qe,Ke)}function St(){this.value=this.g=0}function Et(){this.value=this.g=0}function lr(){this.G=Be(5,St),this.H=te(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Be(Ba,Et)}function Ar(k,q,je,ke){w(k!=null),w(q!=null),w(2147483648>ke),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=q,k.pa=je,k.Jd=q,k.Yc=je+ke,k.Zc=4<=ke?je+ke-4+1:je,pr(k)}function vr(k,q){for(var je=0;0<q--;)je|=Tr(k,128)<<q;return je}function Jt(k,q){var je=vr(k,q);return gr(k)?-je:je}function mr(k,q,je,ke){var Qe,Ke=0;for(w(k!=null),w(q!=null),w(4294967288>ke),k.Sb=ke,k.Ra=0,k.u=0,k.h=0,4<ke&&(ke=4),Qe=0;Qe<ke;++Qe)Ke+=q[je+Qe]<<8*Qe;k.Ra=Ke,k.bb=ke,k.oa=q,k.pa=je}function qr(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<Zi-8>>>0,++k.bb,k.u-=8;Ht(k)&&(k.h=1,k.u=0)}function Lr(k,q){if(w(0<=q),!k.h&&q<=ia){var je=jt(k)&Ln[q];return k.u+=q,qr(k),je}return k.h=1,k.u=0}function Ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function vt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function jt(k){return k.Ra>>>(k.u&Zi-1)>>>0}function Ht(k){return w(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>Zi}function zt(k,q){k.u=q,k.h=Ht(k)}function rr(k){k.u>=Bl&&(w(k.u>=Bl),qr(k))}function pr(k){w(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(w(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function gr(k){return vr(k,1)}function Tr(k,q){var je=k.Ca;0>k.b&&pr(k);var ke=k.b,Qe=je*q>>>8,Ke=(k.I>>>ke>Qe)+0;for(Ke?(je-=Qe,k.I-=Qe+1<<ke>>>0):je=Qe+1,ke=je,Qe=0;256<=ke;)Qe+=8,ke>>=8;return ke=7^Qe+fo[ke],k.b-=ke,k.Ca=(je<<ke)-1,Ke}function Xr(k,q,je){k[q+0]=je>>24&255,k[q+1]=je>>16&255,k[q+2]=je>>8&255,k[q+3]=255&je}function xn(k,q){return k[q+0]|k[q+1]<<8}function jn(k,q){return xn(k,q)|k[q+2]<<16}function aa(k,q){return xn(k,q)|xn(k,q+2)<<16}function dt(k,q){var je=1<<q;return w(k!=null),w(0<q),k.X=te(je),k.X==null?0:(k.Mb=32-q,k.Xa=q,1)}function cn(k,q){w(k!=null),w(q!=null),w(k.Xa==q.Xa),z(q.X,0,k.X,0,1<<q.Xa)}function ua(){this.X=[],this.Xa=this.Mb=0}function on(k,q,je,ke){w(je!=null),w(ke!=null);var Qe=je[0],Ke=ke[0];return Qe==0&&(Qe=(k*Ke+q/2)/q),Ke==0&&(Ke=(q*Qe+k/2)/k),0>=Qe||0>=Ke?0:(je[0]=Qe,ke[0]=Ke,1)}function Ur(k,q){return k+(1<<q)-1>>>q}function ra(k,q){return((4278255360&k)+(4278255360&q)>>>0&4278255360)+((16711935&k)+(16711935&q)>>>0&16711935)>>>0}function Pn(k,q){It[q]=function(je,ke,Qe,Ke,qe,Je,tt){var ft;for(ft=0;ft<qe;++ft){var Ot=It[k](Je[tt+ft-1],Qe,Ke+ft);Je[tt+ft]=ra(je[ke+ft],Ot)}}}function qn(){this.ud=this.hd=this.jd=0}function On(k,q){return((4278124286&(k^q))>>>1)+(k&q)>>>0}function is(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function Fa(k,q){return is(k+(k-q+.5>>1))}function kn(k,q,je){return Math.abs(q-je)-Math.abs(k-je)}function Ja(k,q,je,ke,Qe,Ke,qe){for(ke=Ke[qe-1],je=0;je<Qe;++je)Ke[qe+je]=ke=ra(k[q+je],ke)}function na(k,q,je,ke,Qe){var Ke;for(Ke=0;Ke<je;++Ke){var qe=k[q+Ke],Je=qe>>8&255,tt=16711935&(tt=(tt=16711935&qe)+((Je<<16)+Je));ke[Qe+Ke]=(4278255360&qe)+tt>>>0}}function Bn(k,q){q.jd=255&k,q.hd=k>>8&255,q.ud=k>>16&255}function sa(k,q,je,ke,Qe,Ke){var qe;for(qe=0;qe<ke;++qe){var Je=q[je+qe],tt=Je>>>8,ft=Je,Ot=255&(Ot=(Ot=Je>>>16)+((k.jd<<24>>24)*(tt<<24>>24)>>>5));ft=255&(ft=(ft+=(k.hd<<24>>24)*(tt<<24>>24)>>>5)+((k.ud<<24>>24)*(Ot<<24>>24)>>>5)),Qe[Ke+qe]=(4278255360&Je)+(Ot<<16)+ft}}function Sn(k,q,je,ke,Qe){It[q]=function(Ke,qe,Je,tt,ft,Ot,tr,ht,_t){for(tt=tr;tt<ht;++tt)for(tr=0;tr<_t;++tr)ft[Ot++]=Qe(Je[ke(Ke[qe++])])},It[k]=function(Ke,qe,Je,tt,ft,Ot,tr){var ht=8>>Ke.b,_t=Ke.Ea,Xt=Ke.K[0],br=Ke.w;if(8>ht)for(Ke=(1<<Ke.b)-1,br=(1<<ht)-1;qe<Je;++qe){var nr,Cr=0;for(nr=0;nr<_t;++nr)nr&Ke||(Cr=ke(tt[ft++])),Ot[tr++]=Qe(Xt[Cr&br]),Cr>>=ht}else It["VP8LMapColor"+je](tt,ft,Xt,br,Ot,tr,qe,Je,_t)}}function ma(k,q,je,ke,Qe){for(je=q+je;q<je;){var Ke=k[q++];ke[Qe++]=Ke>>16&255,ke[Qe++]=Ke>>8&255,ke[Qe++]=255&Ke}}function ts(k,q,je,ke,Qe){for(je=q+je;q<je;){var Ke=k[q++];ke[Qe++]=Ke>>16&255,ke[Qe++]=Ke>>8&255,ke[Qe++]=255&Ke,ke[Qe++]=Ke>>24&255}}function _a(k,q,je,ke,Qe){for(je=q+je;q<je;){var Ke=(qe=k[q++])>>16&240|qe>>12&15,qe=240&qe|qe>>28&15;ke[Qe++]=Ke,ke[Qe++]=qe}}function La(k,q,je,ke,Qe){for(je=q+je;q<je;){var Ke=(qe=k[q++])>>16&248|qe>>13&7,qe=qe>>5&224|qe>>3&31;ke[Qe++]=Ke,ke[Qe++]=qe}}function Hs(k,q,je,ke,Qe){for(je=q+je;q<je;){var Ke=k[q++];ke[Qe++]=255&Ke,ke[Qe++]=Ke>>8&255,ke[Qe++]=Ke>>16&255}}function Wn(k,q,je,ke,Qe,Ke){if(Ke==0)for(je=q+je;q<je;)Xr(ke,((Ke=k[q++])[0]>>24|Ke[1]>>8&65280|Ke[2]<<8&16711680|Ke[3]<<24)>>>0),Qe+=32;else z(ke,Qe,k,q,je)}function xs(k,q){It[q][0]=It[k+"0"],It[q][1]=It[k+"1"],It[q][2]=It[k+"2"],It[q][3]=It[k+"3"],It[q][4]=It[k+"4"],It[q][5]=It[k+"5"],It[q][6]=It[k+"6"],It[q][7]=It[k+"7"],It[q][8]=It[k+"8"],It[q][9]=It[k+"9"],It[q][10]=It[k+"10"],It[q][11]=It[k+"11"],It[q][12]=It[k+"12"],It[q][13]=It[k+"13"],It[q][14]=It[k+"0"],It[q][15]=It[k+"0"]}function Aa(k){return k==bA||k==$u||k==Qc||k==jA}function Hn(){this.eb=[],this.size=this.A=this.fb=0}function ys(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ga(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hn,this.f.kb=new ys,this.sd=null}function wn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wa(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fc(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function wi(k,q){var je=k.T,ke=q.ba.f.RGBA,Qe=ke.eb,Ke=ke.fb+k.ka*ke.A,qe=kl[q.ba.S],Je=k.y,tt=k.O,ft=k.f,Ot=k.N,tr=k.ea,ht=k.W,_t=q.cc,Xt=q.dc,br=q.Mc,nr=q.Nc,Cr=k.ka,Br=k.ka+k.T,Mr=k.U,Er=Mr+1>>1;for(Cr==0?qe(Je,tt,null,null,ft,Ot,tr,ht,ft,Ot,tr,ht,Qe,Ke,null,null,Mr):(qe(q.ec,q.fc,Je,tt,_t,Xt,br,nr,ft,Ot,tr,ht,Qe,Ke-ke.A,Qe,Ke,Mr),++je);Cr+2<Br;Cr+=2)_t=ft,Xt=Ot,br=tr,nr=ht,Ot+=k.Rc,ht+=k.Rc,Ke+=2*ke.A,qe(Je,(tt+=2*k.fa)-k.fa,Je,tt,_t,Xt,br,nr,ft,Ot,tr,ht,Qe,Ke-ke.A,Qe,Ke,Mr);return tt+=k.fa,k.j+Br<k.o?(z(q.ec,q.fc,Je,tt,Mr),z(q.cc,q.dc,ft,Ot,Er),z(q.Mc,q.Nc,tr,ht,Er),je--):1&Br||qe(Je,tt,null,null,ft,Ot,tr,ht,ft,Ot,tr,ht,Qe,Ke+ke.A,null,null,Mr),je}function Xi(k,q,je){var ke=k.F,Qe=[k.J];if(ke!=null){var Ke=k.U,qe=q.ba.S,Je=qe==$i||qe==Qc;q=q.ba.f.RGBA;var tt=[0],ft=k.ka;tt[0]=k.T,k.Kb&&(ft==0?--tt[0]:(--ft,Qe[0]-=k.width),k.j+k.ka+k.T==k.o&&(tt[0]=k.o-k.j-ft));var Ot=q.eb;ft=q.fb+ft*q.A,k=Oo(ke,Qe[0],k.width,Ke,tt,Ot,ft+(Je?0:3),q.A),w(je==tt),k&&Aa(qe)&&Oi(Ot,ft,Je,Ke,tt,q.A)}return 0}function Hl(k){var q=k.ma,je=q.ba.S,ke=11>je,Qe=je==Hu||je==gu||je==$i||je==Id||je==12||Aa(je);if(q.memory=null,q.Ib=null,q.Jb=null,q.Nd=null,!Ws(q.Oa,k,Qe?11:12))return 0;if(Qe&&Aa(je)&&it(),k.da)alert("todo:use_scaling");else{if(ke){if(q.Ib=fc,k.Kb){if(je=k.U+1>>1,q.memory=te(k.U+2*je),q.memory==null)return 0;q.ec=q.memory,q.fc=0,q.cc=q.ec,q.dc=q.fc+k.U,q.Mc=q.cc,q.Nc=q.dc+je,q.Ib=wi,it()}}else alert("todo:EmitYUV");Qe&&(q.Jb=Xi,ke&&Xe())}if(ke&&!fh){for(k=0;256>k;++k)ph[k]=89858*(k-128)+ru>>Fd,Ko[k]=-22014*(k-128)+ru,Al[k]=-45773*(k-128),mh[k]=113618*(k-128)+ru>>Fd;for(k=xu;k<EA;++k)q=76283*(k-16)+ru>>Fd,IA[k-xu]=bl(q,255),gh[k-xu]=bl(q+8>>4,15);fh=1}return 1}function la(k){var q=k.ma,je=k.U,ke=k.T;return w(!(1&k.ka)),0>=je||0>=ke?0:(je=q.Ib(k,q),q.Jb!=null&&q.Jb(k,q,je),q.Dc+=je,1)}function ii(k){k.ma.memory=null}function Yi(k,q,je,ke){return Lr(k,8)!=47?0:(q[0]=Lr(k,14)+1,je[0]=Lr(k,14)+1,ke[0]=Lr(k,1),Lr(k,3)!=0?0:!k.h)}function tl(k,q){if(4>k)return k+1;var je=k-2>>1;return(2+(1&k)<<je)+Lr(q,je)+1}function mi(k,q){return 120<q?q-120:1<=(je=((je=cf[q-1])>>4)*k+(8-(15&je)))?je:1;var je}function Ns(k,q,je){var ke=jt(je),Qe=k[q+=255&ke].g-8;return 0<Qe&&(zt(je,je.u+8),ke=jt(je),q+=k[q].value,q+=ke&(1<<Qe)-1),zt(je,je.u+k[q].g),k[q].value}function hi(k,q,je){return je.g+=k.g,je.value+=k.value<<q>>>0,w(8>=je.g),k.g}function Qi(k,q,je){var ke=k.xc;return w((q=ke==0?0:k.vc[k.md*(je>>ke)+(q>>ke)])<k.Wb),k.Ya[q]}function pc(k,q,je,ke){var Qe=k.ab,Ke=k.c*q,qe=k.C;q=qe+q;var Je=je,tt=ke;for(ke=k.Ta,je=k.Ua;0<Qe--;){var ft=k.gc[Qe],Ot=qe,tr=q,ht=Je,_t=tt,Xt=(tt=ke,Je=je,ft.Ea);switch(w(Ot<tr),w(tr<=ft.nc),ft.hc){case 2:Ci(ht,_t,(tr-Ot)*Xt,tt,Je);break;case 0:var br=Ot,nr=tr,Cr=tt,Br=Je,Mr=(pn=ft).Ea;br==0&&(Hi(ht,_t,null,null,1,Cr,Br),Ja(ht,_t+1,0,0,Mr-1,Cr,Br+1),_t+=Mr,Br+=Mr,++br);for(var Er=1<<pn.b,Yn=Er-1,En=Ur(Mr,pn.b),Da=pn.K,pn=pn.w+(br>>pn.b)*En;br<nr;){var hs=Da,an=pn,ka=1;for(Sl(ht,_t,Cr,Br-Mr,1,Cr,Br);ka<Mr;){var Un=(ka&~Yn)+Er;Un>Mr&&(Un=Mr),(0,pu[hs[an++]>>8&15])(ht,_t+ +ka,Cr,Br+ka-Mr,Un-ka,Cr,Br+ka),ka=Un}_t+=Mr,Br+=Mr,++br&Yn||(pn+=En)}tr!=ft.nc&&z(tt,Je-Xt,tt,Je+(tr-Ot-1)*Xt,Xt);break;case 1:for(Xt=ht,nr=_t,Mr=(ht=ft.Ea)-(Br=ht&~(Cr=(_t=1<<ft.b)-1)),br=Ur(ht,ft.b),Er=ft.K,ft=ft.w+(Ot>>ft.b)*br;Ot<tr;){for(Yn=Er,En=ft,Da=new qn,pn=nr+Br,hs=nr+ht;nr<pn;)Bn(Yn[En++],Da),ql(Da,Xt,nr,_t,tt,Je),nr+=_t,Je+=_t;nr<hs&&(Bn(Yn[En++],Da),ql(Da,Xt,nr,Mr,tt,Je),nr+=Mr,Je+=Mr),++Ot&Cr||(ft+=br)}break;case 3:if(ht==tt&&_t==Je&&0<ft.b){for(nr=tt,ht=Xt=Je+(tr-Ot)*Xt-(Br=(tr-Ot)*Ur(ft.Ea,ft.b)),_t=tt,Cr=Je,br=[],Br=(Mr=Br)-1;0<=Br;--Br)br[Br]=_t[Cr+Br];for(Br=Mr-1;0<=Br;--Br)nr[ht+Br]=br[Br];Lu(ft,Ot,tr,tt,Xt,tt,Je)}else Lu(ft,Ot,tr,ht,_t,tt,Je)}Je=ke,tt=je}tt!=je&&z(ke,je,Je,tt,Ke)}function Fi(k,q){var je=k.V,ke=k.Ba+k.c*k.C,Qe=q-k.C;if(w(q<=k.l.o),w(16>=Qe),0<Qe){var Ke=k.l,qe=k.Ta,Je=k.Ua,tt=Ke.width;if(pc(k,Qe,je,ke),Qe=Je=[Je],w((je=k.C)<(ke=q)),w(Ke.v<Ke.va),ke>Ke.o&&(ke=Ke.o),je<Ke.j){var ft=Ke.j-je;je=Ke.j,Qe[0]+=ft*tt}if(je>=ke?je=0:(Qe[0]+=4*Ke.v,Ke.ka=je-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=ke-je,je=1),je){if(Je=Je[0],11>(je=k.ca).S){var Ot=je.f.RGBA,tr=(ke=je.S,Qe=Ke.U,Ke=Ke.T,ft=Ot.eb,Ot.A),ht=Ke;for(Ot=Ot.fb+k.Ma*Ot.A;0<ht--;){var _t=qe,Xt=Je,br=Qe,nr=ft,Cr=Ot;switch(ke){case Zd:sc(_t,Xt,br,nr,Cr);break;case Hu:ic(_t,Xt,br,nr,Cr);break;case bA:ic(_t,Xt,br,nr,Cr),Oi(nr,Cr,0,br,1,0);break;case Wu:Bd(_t,Xt,br,nr,Cr);break;case gu:Wn(_t,Xt,br,nr,Cr,1);break;case $u:Wn(_t,Xt,br,nr,Cr,1),Oi(nr,Cr,0,br,1,0);break;case $i:Wn(_t,Xt,br,nr,Cr,0);break;case Qc:Wn(_t,Xt,br,nr,Cr,0),Oi(nr,Cr,1,br,1,0);break;case Id:Zc(_t,Xt,br,nr,Cr);break;case jA:Zc(_t,Xt,br,nr,Cr),Qu(nr,Cr,br,1,0);break;case ih:bc(_t,Xt,br,nr,Cr);break;default:w(0)}Je+=tt,Ot+=tr}k.Ma+=Ke}else alert("todo:EmitRescaledRowsYUVA");w(k.Ma<=je.height)}}k.C=q,w(k.C<=k.i)}function To(k){var q;if(0<k.ua)return 0;for(q=0;q<k.Wb;++q){var je=k.Ya[q].G,ke=k.Ya[q].H;if(0<je[1][ke[1]+0].g||0<je[2][ke[2]+0].g||0<je[3][ke[3]+0].g)return 0}return 1}function Wl(k,q,je,ke,Qe,Ke){if(k.Z!=0){var qe=k.qd,Je=k.rd;for(w(mo[k.Z]!=null);q<je;++q)mo[k.Z](qe,Je,ke,Qe,ke,Qe,Ke),qe=ke,Je=Qe,Qe+=Ke;k.qd=qe,k.rd=Je}}function xl(k,q){var je=k.l.ma,ke=je.Z==0||je.Z==1?k.l.j:k.C;if(ke=k.C<ke?ke:k.C,w(q<=k.l.o),q>ke){var Qe=k.l.width,Ke=je.ca,qe=je.tb+Qe*ke,Je=k.V,tt=k.Ba+k.c*ke,ft=k.gc;w(k.ab==1),w(ft[0].hc==3),Po(ft[0],ke,q,Je,tt,Ke,qe),Wl(je,ke,q,Ke,qe,Qe)}k.C=k.Ma=q}function Pi(k,q,je,ke,Qe,Ke,qe){var Je=k.$/ke,tt=k.$%ke,ft=k.m,Ot=k.s,tr=je+k.$,ht=tr;Qe=je+ke*Qe;var _t=je+ke*Ke,Xt=280+Ot.ua,br=k.Pb?Je:16777216,nr=0<Ot.ua?Ot.Wa:null,Cr=Ot.wc,Br=tr<_t?Qi(Ot,tt,Je):null;w(k.C<Ke),w(_t<=Qe);var Mr=!1;e:for(;;){for(;Mr||tr<_t;){var Er=0;if(Je>=br){var Yn=tr-je;w((br=k).Pb),br.wd=br.m,br.xd=Yn,0<br.s.ua&&cn(br.s.Wa,br.s.vb),br=Je+ch}if(tt&Cr||(Br=Qi(Ot,tt,Je)),w(Br!=null),Br.Qb&&(q[tr]=Br.qb,Mr=!0),!Mr)if(rr(ft),Br.jc){Er=ft,Yn=q;var En=tr,Da=Br.pd[jt(Er)&Ba-1];w(Br.jc),256>Da.g?(zt(Er,Er.u+Da.g),Yn[En]=Da.value,Er=0):(zt(Er,Er.u+Da.g-256),w(256<=Da.value),Er=Da.value),Er==0&&(Mr=!0)}else Er=Ns(Br.G[0],Br.H[0],ft);if(ft.h)break;if(Mr||256>Er){if(!Mr)if(Br.nd)q[tr]=(Br.qb|Er<<8)>>>0;else{if(rr(ft),Mr=Ns(Br.G[1],Br.H[1],ft),rr(ft),Yn=Ns(Br.G[2],Br.H[2],ft),En=Ns(Br.G[3],Br.H[3],ft),ft.h)break;q[tr]=(En<<24|Mr<<16|Er<<8|Yn)>>>0}if(Mr=!1,++tr,++tt>=ke&&(tt=0,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(k,Je),nr!=null))for(;ht<tr;)Er=q[ht++],nr.X[(506832829*Er&4294967295)>>>nr.Mb]=Er}else if(280>Er){if(Er=tl(Er-256,ft),Yn=Ns(Br.G[4],Br.H[4],ft),rr(ft),Yn=mi(ke,Yn=tl(Yn,ft)),ft.h)break;if(tr-je<Yn||Qe-tr<Er)break e;for(En=0;En<Er;++En)q[tr+En]=q[tr+En-Yn];for(tr+=Er,tt+=Er;tt>=ke;)tt-=ke,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(k,Je);if(w(tr<=Qe),tt&Cr&&(Br=Qi(Ot,tt,Je)),nr!=null)for(;ht<tr;)Er=q[ht++],nr.X[(506832829*Er&4294967295)>>>nr.Mb]=Er}else{if(!(Er<Xt))break e;for(Mr=Er-280,w(nr!=null);ht<tr;)Er=q[ht++],nr.X[(506832829*Er&4294967295)>>>nr.Mb]=Er;Er=tr,w(!(Mr>>>(Yn=nr).Xa)),q[Er]=Yn.X[Mr],Mr=!0}Mr||w(ft.h==Ht(ft))}if(k.Pb&&ft.h&&tr<Qe)w(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&cn(k.s.vb,k.s.Wa);else{if(ft.h)break e;qe!=null&&qe(k,Je>Ke?Ke:Je),k.a=0,k.$=tr-je}return 1}return k.a=3,0}function Fo(k){w(k!=null),k.vc=null,k.yc=null,k.Ya=null;var q=k.Wa;q!=null&&(q.X=null),k.vb=null,w(k!=null)}function rl(){var k=new ca;return k==null?null:(k.a=0,k.xb=uh,xs("Predictor","VP8LPredictors"),xs("Predictor","VP8LPredictors_C"),xs("PredictorAdd","VP8LPredictorsAdd"),xs("PredictorAdd","VP8LPredictorsAdd_C"),Ci=na,ql=sa,sc=ma,ic=ts,Zc=_a,bc=La,Bd=Hs,It.VP8LMapColor32b=Co,It.VP8LMapColor8b=Jd,k)}function yo(k,q,je,ke,Qe){var Ke=1,qe=[k],Je=[q],tt=ke.m,ft=ke.s,Ot=null,tr=0;e:for(;;){if(je)for(;Ke&&Lr(tt,1);){var ht=qe,_t=Je,Xt=ke,br=1,nr=Xt.m,Cr=Xt.gc[Xt.ab],Br=Lr(nr,2);if(Xt.Oc&1<<Br)Ke=0;else{switch(Xt.Oc|=1<<Br,Cr.hc=Br,Cr.Ea=ht[0],Cr.nc=_t[0],Cr.K=[null],++Xt.ab,w(4>=Xt.ab),Br){case 0:case 1:Cr.b=Lr(nr,3)+2,br=yo(Ur(Cr.Ea,Cr.b),Ur(Cr.nc,Cr.b),0,Xt,Cr.K),Cr.K=Cr.K[0];break;case 3:var Mr,Er=Lr(nr,8)+1,Yn=16<Er?0:4<Er?1:2<Er?2:3;if(ht[0]=Ur(Cr.Ea,Yn),Cr.b=Yn,Mr=br=yo(Er,1,0,Xt,Cr.K)){var En,Da=Er,pn=Cr,hs=1<<(8>>pn.b),an=te(hs);if(an==null)Mr=0;else{var ka=pn.K[0],Un=pn.w;for(an[0]=pn.K[0][0],En=1;En<1*Da;++En)an[En]=ra(ka[Un+En],an[En-1]);for(;En<4*hs;++En)an[En]=0;pn.K[0]=null,pn.K[0]=an,Mr=1}}br=Mr;break;case 2:break;default:w(0)}Ke=br}}if(qe=qe[0],Je=Je[0],Ke&&Lr(tt,1)&&!(Ke=1<=(tr=Lr(tt,4))&&11>=tr)){ke.a=3;break e}var un;if(un=Ke)t:{var zi,Sa,ss,Zs=ke,to=qe,No=Je,vi=tr,Bo=je,_o=Zs.m,os=Zs.s,Ua=[null],ls=1,Ni=0,Ms=df[vi];r:for(;;){if(Bo&&Lr(_o,1)){var ei=Lr(_o,3)+2,Tl=Ur(to,ei),Ds=Ur(No,ei),Go=Tl*Ds;if(!yo(Tl,Ds,0,Zs,Ua))break r;for(Ua=Ua[0],os.xc=ei,zi=0;zi<Go;++zi){var zs=Ua[zi]>>8&65535;Ua[zi]=zs,zs>=ls&&(ls=zs+1)}}if(_o.h)break r;for(Sa=0;5>Sa;++Sa){var Jr=oh[Sa];!Sa&&0<vi&&(Jr+=1<<vi),Ni<Jr&&(Ni=Jr)}var go=Be(ls*Ms,St),vo=ls,xi=Be(vo,lr);if(xi==null)var qo=null;else w(65536>=vo),qo=xi;var Pa=te(Ni);if(qo==null||Pa==null||go==null){Zs.a=1;break r}var Ea=go;for(zi=ss=0;zi<ls;++zi){var Vn=qo[zi],_s=Vn.G,js=Vn.H,Bi=0,yi=1,Mi=0;for(Sa=0;5>Sa;++Sa){Jr=oh[Sa],_s[Sa]=Ea,js[Sa]=ss,!Sa&&0<vi&&(Jr+=1<<vi);a:{var Di,Pd=Jr,Hc=Zs,rd=Pa,vh=Ea,bu=ss,Lo=0,lc=Hc.m,nu=Lr(lc,1);if(Y(rd,0,0,Pd),nu){var nd=Lr(lc,1)+1,Xu=Lr(lc,1),FA=Lr(lc,Xu==0?1:8);rd[FA]=1,nd==2&&(rd[FA=Lr(lc,8)]=1);var Nc=1}else{var Yu=te(19),cc=Lr(lc,4)+4;if(19<cc){Hc.a=3;var So=0;break a}for(Di=0;Di<cc;++Di)Yu[lf[Di]]=Lr(lc,3);var Od=void 0,Wc=void 0,Ju=Hc,PA=Yu,ro=Pd,Fl=rd,Xo=0,Vi=Ju.m,Md=8,OA=Be(128,St);n:for(;ut(OA,0,7,PA,19);){if(Lr(Vi,1)){var xh=2+2*Lr(Vi,3);if((Od=2+Lr(Vi,xh))>ro)break n}else Od=ro;for(Wc=0;Wc<ro&&Od--;){rr(Vi);var yh=OA[0+(127&jt(Vi))];zt(Vi,Vi.u+yh.g);var Yl=yh.value;if(16>Yl)Fl[Wc++]=Yl,Yl!=0&&(Md=Yl);else{var bh=Yl==16,MA=Yl-16,au=CA[MA],DA=Lr(Vi,wA[MA])+au;if(Wc+DA>ro)break n;for(var su=bh?Md:0;0<DA--;)Fl[Wc++]=su}}Xo=1;break n}Xo||(Ju.a=3),Nc=Xo}(Nc=Nc&&!lc.h)&&(Lo=ut(vh,bu,8,rd,Pd)),Nc&&Lo!=0?So=Lo:(Hc.a=3,So=0)}if(So==0)break r;if(yi&&lh[Sa]==1&&(yi=Ea[ss].g==0),Bi+=Ea[ss].g,ss+=So,3>=Sa){var ju,_A=Pa[0];for(ju=1;ju<Jr;++ju)Pa[ju]>_A&&(_A=Pa[ju]);Mi+=_A}}if(Vn.nd=yi,Vn.Qb=0,yi&&(Vn.qb=(_s[3][js[3]+0].value<<24|_s[1][js[1]+0].value<<16|_s[2][js[2]+0].value)>>>0,Bi==0&&256>_s[0][js[0]+0].value&&(Vn.Qb=1,Vn.qb+=_s[0][js[0]+0].value<<8)),Vn.jc=!Vn.Qb&&6>Mi,Vn.jc){var wu,dc=Vn;for(wu=0;wu<Ba;++wu){var Dd=wu,_d=dc.pd[Dd],Zu=dc.G[0][dc.H[0]+Dd];256<=Zu.value?(_d.g=Zu.g+256,_d.value=Zu.value):(_d.g=0,_d.value=0,Dd>>=hi(Zu,8,_d),Dd>>=hi(dc.G[1][dc.H[1]+Dd],16,_d),Dd>>=hi(dc.G[2][dc.H[2]+Dd],0,_d),hi(dc.G[3][dc.H[3]+Dd],24,_d))}}}os.vc=Ua,os.Wb=ls,os.Ya=qo,os.yc=go,un=1;break t}un=0}if(!(Ke=un)){ke.a=3;break e}if(0<tr){if(ft.ua=1<<tr,!dt(ft.Wa,tr)){ke.a=1,Ke=0;break e}}else ft.ua=0;var LA=ke,Ld=qe,xp=Je,F=LA.s,B=F.xc;if(LA.c=Ld,LA.i=xp,F.md=Ur(Ld,B),F.wc=B==0?-1:(1<<B)-1,je){ke.xb=uf;break e}if((Ot=te(qe*Je))==null){ke.a=1,Ke=0;break e}Ke=(Ke=Pi(ke,Ot,0,qe,Je,Je,null))&&!tt.h;break e}return Ke?(Qe!=null?Qe[0]=Ot:(w(Ot==null),w(je)),ke.$=0,je||Fo(ft)):Fo(ft),Ke}function Ao(k,q){var je=k.c*k.i,ke=je+q+16*q;return w(k.c<=q),k.V=te(ke),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+je+q,1)}function yl(k,q){var je=k.C,ke=q-je,Qe=k.V,Ke=k.Ba+k.c*je;for(w(q<=k.l.o);0<ke;){var qe=16<ke?16:ke,Je=k.l.ma,tt=k.l.width,ft=tt*qe,Ot=Je.ca,tr=Je.tb+tt*je,ht=k.Ta,_t=k.Ua;pc(k,qe,Qe,Ke),Ed(ht,_t,Ot,tr,ft),Wl(Je,je,je+qe,Ot,tr,tt),ke-=qe,Qe+=qe*k.c,je+=qe}w(je==q),k.C=k.Ma=q}function nl(){this.ub=this.yd=this.td=this.Rb=0}function $l(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vd(){this.Fb=this.Bb=this.Cb=0,this.Zb=te(4),this.Lb=te(4)}function tc(){this.Yb=(function(){var k=[];return(function q(je,ke,Qe){for(var Ke=Qe[ke],qe=0;qe<Ke&&(je.push(Qe.length>ke+1?[]:0),!(Qe.length<ke+1));qe++)q(je[qe],ke+1,Qe)})(k,0,[3,11]),k})()}function xd(){this.jb=te(3),this.Wc=me([4,8],tc),this.Xc=me([4,17],tc)}function mc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new te(4),this.od=new te(4)}function bo(){this.ld=this.La=this.dd=this.tc=0}function gc(){this.Na=this.la=0}function Fc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kc(){this.ad=te(384),this.Za=0,this.Ob=te(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function al(){this.uc=this.M=this.Nb=0,this.wa=Array(new bo),this.Y=0,this.ya=Array(new Kc),this.aa=0,this.l=new Xc}function Gc(){this.y=te(16),this.f=te(8),this.ea=te(8)}function qc(){this.cb=this.a=0,this.sc="",this.m=new Ye,this.Od=new nl,this.Kc=new $l,this.ed=new mc,this.Qa=new vd,this.Ic=this.$c=this.Aa=0,this.D=new al,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Be(8,Ye),this.ia=0,this.pb=Be(4,Fc),this.Pa=new xd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gc),this.Hd=0,this.rb=Array(new gc),this.sb=0,this.wa=Array(new bo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kc),this.L=this.aa=0,this.gd=me([4,2],bo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bl(k,q){return 0>k?0:k>q?q:k}function Xc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pc(){var k=new qc;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,eu||(eu=As)),k}function fa(k,q,je){return k.a==0&&(k.a=q,k.sc=je,k.cb=0),0}function yd(k,q,je){return 3<=je&&k[q+0]==157&&k[q+1]==1&&k[q+2]==42}function jl(k,q){if(k==null)return 0;if(k.a=0,k.sc="OK",q==null)return fa(k,2,"null VP8Io passed to VP8GetHeaders()");var je=q.data,ke=q.w,Qe=q.ha;if(4>Qe)return fa(k,7,"Truncated header.");var Ke=je[ke+0]|je[ke+1]<<8|je[ke+2]<<16,qe=k.Od;if(qe.Rb=!(1&Ke),qe.td=Ke>>1&7,qe.yd=Ke>>4&1,qe.ub=Ke>>5,3<qe.td)return fa(k,3,"Incorrect keyframe parameters.");if(!qe.yd)return fa(k,4,"Frame not displayable.");ke+=3,Qe-=3;var Je=k.Kc;if(qe.Rb){if(7>Qe)return fa(k,7,"cannot parse picture header");if(!yd(je,ke,Qe))return fa(k,3,"Bad code word");Je.c=16383&(je[ke+4]<<8|je[ke+3]),Je.Td=je[ke+4]>>6,Je.i=16383&(je[ke+6]<<8|je[ke+5]),Je.Ud=je[ke+6]>>6,ke+=7,Qe-=7,k.za=Je.c+15>>4,k.Ub=Je.i+15>>4,q.width=Je.c,q.height=Je.i,q.Da=0,q.j=0,q.v=0,q.va=q.width,q.o=q.height,q.da=0,q.ib=q.width,q.hb=q.height,q.U=q.width,q.T=q.height,Y((Ke=k.Pa).jb,0,255,Ke.jb.length),w((Ke=k.Qa)!=null),Ke.Cb=0,Ke.Bb=0,Ke.Fb=1,Y(Ke.Zb,0,0,Ke.Zb.length),Y(Ke.Lb,0,0,Ke.Lb)}if(qe.ub>Qe)return fa(k,7,"bad partition length");Ar(Ke=k.m,je,ke,qe.ub),ke+=qe.ub,Qe-=qe.ub,qe.Rb&&(Je.Ld=gr(Ke),Je.Kd=gr(Ke)),Je=k.Qa;var tt,ft=k.Pa;if(w(Ke!=null),w(Je!=null),Je.Cb=gr(Ke),Je.Cb){if(Je.Bb=gr(Ke),gr(Ke)){for(Je.Fb=gr(Ke),tt=0;4>tt;++tt)Je.Zb[tt]=gr(Ke)?Jt(Ke,7):0;for(tt=0;4>tt;++tt)Je.Lb[tt]=gr(Ke)?Jt(Ke,6):0}if(Je.Bb)for(tt=0;3>tt;++tt)ft.jb[tt]=gr(Ke)?vr(Ke,8):255}else Je.Bb=0;if(Ke.Ka)return fa(k,3,"cannot parse segment header");if((Je=k.ed).zd=gr(Ke),Je.Tb=vr(Ke,6),Je.wb=vr(Ke,3),Je.Pc=gr(Ke),Je.Pc&&gr(Ke)){for(ft=0;4>ft;++ft)gr(Ke)&&(Je.vd[ft]=Jt(Ke,6));for(ft=0;4>ft;++ft)gr(Ke)&&(Je.od[ft]=Jt(Ke,6))}if(k.L=Je.Tb==0?0:Je.zd?1:2,Ke.Ka)return fa(k,3,"cannot parse filter header");var Ot=Qe;if(Qe=tt=ke,ke=tt+Ot,Je=Ot,k.Xb=(1<<vr(k.m,2))-1,Ot<3*(ft=k.Xb))je=7;else{for(tt+=3*ft,Je-=3*ft,Ot=0;Ot<ft;++Ot){var tr=je[Qe+0]|je[Qe+1]<<8|je[Qe+2]<<16;tr>Je&&(tr=Je),Ar(k.Jc[+Ot],je,tt,tr),tt+=tr,Je-=tr,Qe+=3}Ar(k.Jc[+ft],je,tt,Je),je=tt<ke?0:5}if(je!=0)return fa(k,je,"cannot parse partitions");for(je=vr(tt=k.m,7),Qe=gr(tt)?Jt(tt,4):0,ke=gr(tt)?Jt(tt,4):0,Je=gr(tt)?Jt(tt,4):0,ft=gr(tt)?Jt(tt,4):0,tt=gr(tt)?Jt(tt,4):0,Ot=k.Qa,tr=0;4>tr;++tr){if(Ot.Cb){var ht=Ot.Zb[tr];Ot.Fb||(ht+=je)}else{if(0<tr){k.pb[tr]=k.pb[0];continue}ht=je}var _t=k.pb[tr];_t.Sc[0]=vu[bl(ht+Qe,127)],_t.Sc[1]=zu[bl(ht+0,127)],_t.Eb[0]=2*vu[bl(ht+ke,127)],_t.Eb[1]=101581*zu[bl(ht+Je,127)]>>16,8>_t.Eb[1]&&(_t.Eb[1]=8),_t.Qc[0]=vu[bl(ht+ft,117)],_t.Qc[1]=zu[bl(ht+tt,127)],_t.lc=ht+tt}if(!qe.Rb)return fa(k,4,"Not a key frame.");for(gr(Ke),qe=k.Pa,je=0;4>je;++je){for(Qe=0;8>Qe;++Qe)for(ke=0;3>ke;++ke)for(Je=0;11>Je;++Je)ft=Tr(Ke,Vu[je][Qe][ke][Je])?vr(Ke,8):gp[je][Qe][ke][Je],qe.Wc[je][Qe].Yb[ke][Je]=ft;for(Qe=0;17>Qe;++Qe)qe.Xc[je][Qe]=qe.Wc[je][Ku[Qe]]}return k.kc=gr(Ke),k.kc&&(k.Bd=vr(Ke,8)),k.cb=1}function As(k,q,je,ke,Qe,Ke,qe){var Je=q[Qe].Yb[je];for(je=0;16>Qe;++Qe){if(!Tr(k,Je[je+0]))return Qe;for(;!Tr(k,Je[je+1]);)if(Je=q[++Qe].Yb[0],je=0,Qe==16)return 16;var tt=q[Qe+1].Yb;if(Tr(k,Je[je+2])){var ft=k,Ot=0;if(Tr(ft,(ht=Je)[(tr=je)+3]))if(Tr(ft,ht[tr+6])){for(Je=0,tr=2*(Ot=Tr(ft,ht[tr+8]))+(ht=Tr(ft,ht[tr+9+Ot])),Ot=0,ht=NA[tr];ht[Je];++Je)Ot+=Ot+Tr(ft,ht[Je]);Ot+=3+(8<<tr)}else Tr(ft,ht[tr+7])?(Ot=7+2*Tr(ft,165),Ot+=Tr(ft,145)):Ot=5+Tr(ft,159);else Ot=Tr(ft,ht[tr+4])?3+Tr(ft,ht[tr+5]):2;Je=tt[2]}else Ot=1,Je=tt[1];tt=qe+mp[Qe],0>(ft=k).b&&pr(ft);var tr,ht=ft.b,_t=(tr=ft.Ca>>1)-(ft.I>>ht)>>31;--ft.b,ft.Ca+=_t,ft.Ca|=1,ft.I-=(tr+1&_t)<<ht,Ke[tt]=((Ot^_t)-_t)*ke[(0<Qe)+0]}return 16}function bd(k){var q=k.rb[k.sb-1];q.la=0,q.Na=0,Y(k.zc,0,0,k.zc.length),k.ja=0}function Wo(k,q,je,ke,Qe){Qe=k[q+je+32*ke]+(Qe>>3),k[q+je+32*ke]=-256&Qe?0>Qe?0:255:Qe}function fi(k,q,je,ke,Qe,Ke){Wo(k,q,0,je,ke+Qe),Wo(k,q,1,je,ke+Ke),Wo(k,q,2,je,ke-Ke),Wo(k,q,3,je,ke-Qe)}function zl(k){return(20091*k>>16)+k}function vc(k,q,je,ke){var Qe,Ke=0,qe=te(16);for(Qe=0;4>Qe;++Qe){var Je=k[q+0]+k[q+8],tt=k[q+0]-k[q+8],ft=(35468*k[q+4]>>16)-zl(k[q+12]),Ot=zl(k[q+4])+(35468*k[q+12]>>16);qe[Ke+0]=Je+Ot,qe[Ke+1]=tt+ft,qe[Ke+2]=tt-ft,qe[Ke+3]=Je-Ot,Ke+=4,q++}for(Qe=Ke=0;4>Qe;++Qe)Je=(k=qe[Ke+0]+4)+qe[Ke+8],tt=k-qe[Ke+8],ft=(35468*qe[Ke+4]>>16)-zl(qe[Ke+12]),Wo(je,ke,0,0,Je+(Ot=zl(qe[Ke+4])+(35468*qe[Ke+12]>>16))),Wo(je,ke,1,0,tt+ft),Wo(je,ke,2,0,tt-ft),Wo(je,ke,3,0,Je-Ot),Ke++,ke+=32}function sl(k,q,je,ke){var Qe=k[q+0]+4,Ke=35468*k[q+4]>>16,qe=zl(k[q+4]),Je=35468*k[q+1]>>16;fi(je,ke,0,Qe+qe,k=zl(k[q+1]),Je),fi(je,ke,1,Qe+Ke,k,Je),fi(je,ke,2,Qe-Ke,k,Je),fi(je,ke,3,Qe-qe,k,Je)}function Yc(k,q,je,ke,Qe){vc(k,q,je,ke),Qe&&vc(k,q+16,je,ke+4)}function jo(k,q,je,ke){Vo(k,q+0,je,ke,1),Vo(k,q+32,je,ke+128,1)}function jd(k,q,je,ke){var Qe;for(k=k[q+0]+4,Qe=0;4>Qe;++Qe)for(q=0;4>q;++q)Wo(je,ke,q,Qe,k)}function Oc(k,q,je,ke){k[q+0]&&ns(k,q+0,je,ke),k[q+16]&&ns(k,q+16,je,ke+4),k[q+32]&&ns(k,q+32,je,ke+128),k[q+48]&&ns(k,q+48,je,ke+128+4)}function wd(k,q,je,ke){var Qe,Ke=te(16);for(Qe=0;4>Qe;++Qe){var qe=k[q+0+Qe]+k[q+12+Qe],Je=k[q+4+Qe]+k[q+8+Qe],tt=k[q+4+Qe]-k[q+8+Qe],ft=k[q+0+Qe]-k[q+12+Qe];Ke[0+Qe]=qe+Je,Ke[8+Qe]=qe-Je,Ke[4+Qe]=ft+tt,Ke[12+Qe]=ft-tt}for(Qe=0;4>Qe;++Qe)qe=(k=Ke[0+4*Qe]+3)+Ke[3+4*Qe],Je=Ke[1+4*Qe]+Ke[2+4*Qe],tt=Ke[1+4*Qe]-Ke[2+4*Qe],ft=k-Ke[3+4*Qe],je[ke+0]=qe+Je>>3,je[ke+16]=ft+tt>>3,je[ke+32]=qe-Je>>3,je[ke+48]=ft-tt>>3,ke+=64}function xc(k,q,je){var ke,Qe=q-32,Ke=Do,qe=255-k[Qe-1];for(ke=0;ke<je;++ke){var Je,tt=Ke,ft=qe+k[q-1];for(Je=0;Je<je;++Je)k[q+Je]=tt[ft+k[Qe+Je]];q+=32}}function Mc(k,q){xc(k,q,4)}function Dc(k,q){xc(k,q,8)}function _c(k,q){xc(k,q,16)}function Lc(k,q){var je;for(je=0;16>je;++je)z(k,q+32*je,k,q-32,16)}function Cd(k,q){var je;for(je=16;0<je;--je)Y(k,q,k[q-1],16),q+=32}function il(k,q,je){var ke;for(ke=0;16>ke;++ke)Y(q,je+32*ke,k,16)}function Du(k,q){var je,ke=16;for(je=0;16>je;++je)ke+=k[q-1+32*je]+k[q+je-32];il(ke>>5,k,q)}function Uc(k,q){var je,ke=8;for(je=0;16>je;++je)ke+=k[q-1+32*je];il(ke>>4,k,q)}function Gd(k,q){var je,ke=8;for(je=0;16>je;++je)ke+=k[q+je-32];il(ke>>4,k,q)}function _u(k,q){il(128,k,q)}function va(k,q,je){return k+2*q+je+2>>2}function rc(k,q){var je,ke=q-32;for(ke=new Uint8Array([va(k[ke-1],k[ke+0],k[ke+1]),va(k[ke+0],k[ke+1],k[ke+2]),va(k[ke+1],k[ke+2],k[ke+3]),va(k[ke+2],k[ke+3],k[ke+4])]),je=0;4>je;++je)z(k,q+32*je,ke,0,ke.length)}function fu(k,q){var je=k[q-1],ke=k[q-1+32],Qe=k[q-1+64],Ke=k[q-1+96];Xr(k,q+0,16843009*va(k[q-1-32],je,ke)),Xr(k,q+32,16843009*va(je,ke,Qe)),Xr(k,q+64,16843009*va(ke,Qe,Ke)),Xr(k,q+96,16843009*va(Qe,Ke,Ke))}function Vl(k,q){var je,ke=4;for(je=0;4>je;++je)ke+=k[q+je-32]+k[q-1+32*je];for(ke>>=3,je=0;4>je;++je)Y(k,q+32*je,ke,4)}function Ji(k,q){var je=k[q-1+0],ke=k[q-1+32],Qe=k[q-1+64],Ke=k[q-1-32],qe=k[q+0-32],Je=k[q+1-32],tt=k[q+2-32],ft=k[q+3-32];k[q+0+96]=va(ke,Qe,k[q-1+96]),k[q+1+96]=k[q+0+64]=va(je,ke,Qe),k[q+2+96]=k[q+1+64]=k[q+0+32]=va(Ke,je,ke),k[q+3+96]=k[q+2+64]=k[q+1+32]=k[q+0+0]=va(qe,Ke,je),k[q+3+64]=k[q+2+32]=k[q+1+0]=va(Je,qe,Ke),k[q+3+32]=k[q+2+0]=va(tt,Je,qe),k[q+3+0]=va(ft,tt,Je)}function ol(k,q){var je=k[q+1-32],ke=k[q+2-32],Qe=k[q+3-32],Ke=k[q+4-32],qe=k[q+5-32],Je=k[q+6-32],tt=k[q+7-32];k[q+0+0]=va(k[q+0-32],je,ke),k[q+1+0]=k[q+0+32]=va(je,ke,Qe),k[q+2+0]=k[q+1+32]=k[q+0+64]=va(ke,Qe,Ke),k[q+3+0]=k[q+2+32]=k[q+1+64]=k[q+0+96]=va(Qe,Ke,qe),k[q+3+32]=k[q+2+64]=k[q+1+96]=va(Ke,qe,Je),k[q+3+64]=k[q+2+96]=va(qe,Je,tt),k[q+3+96]=va(Je,tt,tt)}function wl(k,q){var je=k[q-1+0],ke=k[q-1+32],Qe=k[q-1+64],Ke=k[q-1-32],qe=k[q+0-32],Je=k[q+1-32],tt=k[q+2-32],ft=k[q+3-32];k[q+0+0]=k[q+1+64]=Ke+qe+1>>1,k[q+1+0]=k[q+2+64]=qe+Je+1>>1,k[q+2+0]=k[q+3+64]=Je+tt+1>>1,k[q+3+0]=tt+ft+1>>1,k[q+0+96]=va(Qe,ke,je),k[q+0+64]=va(ke,je,Ke),k[q+0+32]=k[q+1+96]=va(je,Ke,qe),k[q+1+32]=k[q+2+96]=va(Ke,qe,Je),k[q+2+32]=k[q+3+96]=va(qe,Je,tt),k[q+3+32]=va(Je,tt,ft)}function qd(k,q){var je=k[q+0-32],ke=k[q+1-32],Qe=k[q+2-32],Ke=k[q+3-32],qe=k[q+4-32],Je=k[q+5-32],tt=k[q+6-32],ft=k[q+7-32];k[q+0+0]=je+ke+1>>1,k[q+1+0]=k[q+0+64]=ke+Qe+1>>1,k[q+2+0]=k[q+1+64]=Qe+Ke+1>>1,k[q+3+0]=k[q+2+64]=Ke+qe+1>>1,k[q+0+32]=va(je,ke,Qe),k[q+1+32]=k[q+0+96]=va(ke,Qe,Ke),k[q+2+32]=k[q+1+96]=va(Qe,Ke,qe),k[q+3+32]=k[q+2+96]=va(Ke,qe,Je),k[q+3+64]=va(qe,Je,tt),k[q+3+96]=va(Je,tt,ft)}function $o(k,q){var je=k[q-1+0],ke=k[q-1+32],Qe=k[q-1+64],Ke=k[q-1+96];k[q+0+0]=je+ke+1>>1,k[q+2+0]=k[q+0+32]=ke+Qe+1>>1,k[q+2+32]=k[q+0+64]=Qe+Ke+1>>1,k[q+1+0]=va(je,ke,Qe),k[q+3+0]=k[q+1+32]=va(ke,Qe,Ke),k[q+3+32]=k[q+1+64]=va(Qe,Ke,Ke),k[q+3+64]=k[q+2+64]=k[q+0+96]=k[q+1+96]=k[q+2+96]=k[q+3+96]=Ke}function Jc(k,q){var je=k[q-1+0],ke=k[q-1+32],Qe=k[q-1+64],Ke=k[q-1+96],qe=k[q-1-32],Je=k[q+0-32],tt=k[q+1-32],ft=k[q+2-32];k[q+0+0]=k[q+2+32]=je+qe+1>>1,k[q+0+32]=k[q+2+64]=ke+je+1>>1,k[q+0+64]=k[q+2+96]=Qe+ke+1>>1,k[q+0+96]=Ke+Qe+1>>1,k[q+3+0]=va(Je,tt,ft),k[q+2+0]=va(qe,Je,tt),k[q+1+0]=k[q+3+32]=va(je,qe,Je),k[q+1+32]=k[q+3+64]=va(ke,je,qe),k[q+1+64]=k[q+3+96]=va(Qe,ke,je),k[q+1+96]=va(Ke,Qe,ke)}function wo(k,q){var je;for(je=0;8>je;++je)z(k,q+32*je,k,q-32,8)}function Rc(k,q){var je;for(je=0;8>je;++je)Y(k,q,k[q-1],8),q+=32}function zo(k,q,je){var ke;for(ke=0;8>ke;++ke)Y(q,je+32*ke,k,8)}function Nd(k,q){var je,ke=8;for(je=0;8>je;++je)ke+=k[q+je-32]+k[q-1+32*je];zo(ke>>4,k,q)}function Kl(k,q){var je,ke=4;for(je=0;8>je;++je)ke+=k[q+je-32];zo(ke>>3,k,q)}function Cl(k,q){var je,ke=4;for(je=0;8>je;++je)ke+=k[q-1+32*je];zo(ke>>3,k,q)}function ll(k,q){zo(128,k,q)}function rs(k,q,je){var ke=k[q-je],Qe=k[q+0],Ke=3*(Qe-ke)+oc[1020+k[q-2*je]-k[q+je]],qe=dl[112+(Ke+4>>3)];k[q-je]=Do[255+ke+dl[112+(Ke+3>>3)]],k[q+0]=Do[255+Qe-qe]}function bs(k,q,je,ke){var Qe=k[q+0],Ke=k[q+je];return Il[255+k[q-2*je]-k[q-je]]>ke||Il[255+Ke-Qe]>ke}function cl(k,q,je,ke){return 4*Il[255+k[q-je]-k[q+0]]+Il[255+k[q-2*je]-k[q+je]]<=ke}function oi(k,q,je,ke,Qe){var Ke=k[q-3*je],qe=k[q-2*je],Je=k[q-je],tt=k[q+0],ft=k[q+je],Ot=k[q+2*je],tr=k[q+3*je];return 4*Il[255+Je-tt]+Il[255+qe-ft]>ke?0:Il[255+k[q-4*je]-Ke]<=Qe&&Il[255+Ke-qe]<=Qe&&Il[255+qe-Je]<=Qe&&Il[255+tr-Ot]<=Qe&&Il[255+Ot-ft]<=Qe&&Il[255+ft-tt]<=Qe}function gi(k,q,je,ke){var Qe=2*ke+1;for(ke=0;16>ke;++ke)cl(k,q+ke,je,Qe)&&rs(k,q+ke,je)}function Gl(k,q,je,ke){var Qe=2*ke+1;for(ke=0;16>ke;++ke)cl(k,q+ke*je,1,Qe)&&rs(k,q+ke*je,1)}function yc(k,q,je,ke){var Qe;for(Qe=3;0<Qe;--Qe)gi(k,q+=4*je,je,ke)}function ho(k,q,je,ke){var Qe;for(Qe=3;0<Qe;--Qe)Gl(k,q+=4,je,ke)}function Nl(k,q,je,ke,Qe,Ke,qe,Je){for(Ke=2*Ke+1;0<Qe--;){if(oi(k,q,je,Ke,qe))if(bs(k,q,je,Je))rs(k,q,je);else{var tt=k,ft=q,Ot=je,tr=tt[ft-2*Ot],ht=tt[ft-Ot],_t=tt[ft+0],Xt=tt[ft+Ot],br=tt[ft+2*Ot],nr=27*(Br=oc[1020+3*(_t-ht)+oc[1020+tr-Xt]])+63>>7,Cr=18*Br+63>>7,Br=9*Br+63>>7;tt[ft-3*Ot]=Do[255+tt[ft-3*Ot]+Br],tt[ft-2*Ot]=Do[255+tr+Cr],tt[ft-Ot]=Do[255+ht+nr],tt[ft+0]=Do[255+_t-nr],tt[ft+Ot]=Do[255+Xt-Cr],tt[ft+2*Ot]=Do[255+br-Br]}q+=ke}}function nc(k,q,je,ke,Qe,Ke,qe,Je){for(Ke=2*Ke+1;0<Qe--;){if(oi(k,q,je,Ke,qe))if(bs(k,q,je,Je))rs(k,q,je);else{var tt=k,ft=q,Ot=je,tr=tt[ft-Ot],ht=tt[ft+0],_t=tt[ft+Ot],Xt=dl[112+(4+(br=3*(ht-tr))>>3)],br=dl[112+(br+3>>3)],nr=Xt+1>>1;tt[ft-2*Ot]=Do[255+tt[ft-2*Ot]+nr],tt[ft-Ot]=Do[255+tr+br],tt[ft+0]=Do[255+ht-Xt],tt[ft+Ot]=Do[255+_t-nr]}q+=ke}}function Xd(k,q,je,ke,Qe,Ke){Nl(k,q,je,1,16,ke,Qe,Ke)}function ac(k,q,je,ke,Qe,Ke){Nl(k,q,1,je,16,ke,Qe,Ke)}function Yd(k,q,je,ke,Qe,Ke){var qe;for(qe=3;0<qe;--qe)nc(k,q+=4*je,je,1,16,ke,Qe,Ke)}function de(k,q,je,ke,Qe,Ke){var qe;for(qe=3;0<qe;--qe)nc(k,q+=4,1,je,16,ke,Qe,Ke)}function Re(k,q,je,ke,Qe,Ke,qe,Je){Nl(k,q,Qe,1,8,Ke,qe,Je),Nl(je,ke,Qe,1,8,Ke,qe,Je)}function mt(k,q,je,ke,Qe,Ke,qe,Je){Nl(k,q,1,Qe,8,Ke,qe,Je),Nl(je,ke,1,Qe,8,Ke,qe,Je)}function kt(k,q,je,ke,Qe,Ke,qe,Je){nc(k,q+4*Qe,Qe,1,8,Ke,qe,Je),nc(je,ke+4*Qe,Qe,1,8,Ke,qe,Je)}function Kt(k,q,je,ke,Qe,Ke,qe,Je){nc(k,q+4,1,Qe,8,Ke,qe,Je),nc(je,ke+4,1,Qe,8,Ke,qe,Je)}function xr(){this.ba=new ga,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wa,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Cn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _n(){this.ua=0,this.Wa=new ua,this.vb=new ua,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new lr,this.yc=new St}function ca(){this.xb=this.a=0,this.l=new Xc,this.ca=new ga,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new vt,this.Pb=0,this.wd=new vt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _n,this.ab=0,this.gc=Be(4,Cn),this.Oc=0}function Zn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Na(k,q,je,ke,Qe,Ke,qe){for(k=k==null?0:k[q+0],q=0;q<qe;++q)Qe[Ke+q]=k+je[ke+q]&255,k=Qe[Ke+q]}function Bs(k,q,je,ke,Qe,Ke,qe){var Je;if(k==null)Na(null,null,je,ke,Qe,Ke,qe);else for(Je=0;Je<qe;++Je)Qe[Ke+Je]=k[q+Je]+je[ke+Je]&255}function Es(k,q,je,ke,Qe,Ke,qe){if(k==null)Na(null,null,je,ke,Qe,Ke,qe);else{var Je,tt=k[q+0],ft=tt,Ot=tt;for(Je=0;Je<qe;++Je)ft=Ot+(tt=k[q+Je])-ft,Ot=je[ke+Je]+(-256&ft?0>ft?0:255:ft)&255,ft=tt,Qe[Ke+Je]=Ot}}function as(k,q,je,ke){var Qe=q.width,Ke=q.o;if(w(k!=null&&q!=null),0>je||0>=ke||je+ke>Ke)return null;if(!k.Cc){if(k.ga==null){var qe;if(k.ga=new Zn,(qe=k.ga==null)||(qe=q.width*q.o,w(k.Gb.length==0),k.Gb=te(qe),k.Uc=0,k.Gb==null?qe=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,qe=1),qe=!qe),!qe){qe=k.ga;var Je=k.Fa,tt=k.P,ft=k.qc,Ot=k.mb,tr=k.nb,ht=tt+1,_t=ft-1,Xt=qe.l;if(w(Je!=null&&Ot!=null&&q!=null),mo[0]=null,mo[1]=Na,mo[2]=Bs,mo[3]=Es,qe.ca=Ot,qe.tb=tr,qe.c=q.width,qe.i=q.height,w(0<qe.c&&0<qe.i),1>=ft)q=0;else if(qe.$a=3&Je[tt+0],qe.Z=Je[tt+0]>>2&3,qe.Lc=Je[tt+0]>>4&3,tt=Je[tt+0]>>6&3,0>qe.$a||1<qe.$a||4<=qe.Z||1<qe.Lc||tt)q=0;else if(Xt.put=la,Xt.ac=Hl,Xt.bc=ii,Xt.ma=qe,Xt.width=q.width,Xt.height=q.height,Xt.Da=q.Da,Xt.v=q.v,Xt.va=q.va,Xt.j=q.j,Xt.o=q.o,qe.$a)e:{w(qe.$a==1),q=rl();t:for(;;){if(q==null){q=0;break e}if(w(qe!=null),qe.mc=q,q.c=qe.c,q.i=qe.i,q.l=qe.l,q.l.ma=qe,q.l.width=qe.c,q.l.height=qe.i,q.a=0,mr(q.m,Je,ht,_t),!yo(qe.c,qe.i,1,q,null)||(q.ab==1&&q.gc[0].hc==3&&To(q.s)?(qe.ic=1,Je=q.c*q.i,q.Ta=null,q.Ua=0,q.V=te(Je),q.Ba=0,q.V==null?(q.a=1,q=0):q=1):(qe.ic=0,q=Ao(q,qe.c)),!q))break t;q=1;break e}qe.mc=null,q=0}else q=_t>=qe.c*qe.i;qe=!q}if(qe)return null;k.ga.Lc!=1?k.Ga=0:ke=Ke-je}w(k.ga!=null),w(je+ke<=Ke);e:{if(q=(Je=k.ga).c,Ke=Je.l.o,Je.$a==0){if(ht=k.rc,_t=k.Vc,Xt=k.Fa,tt=k.P+1+je*q,ft=k.mb,Ot=k.nb+je*q,w(tt<=k.P+k.qc),Je.Z!=0)for(w(mo[Je.Z]!=null),qe=0;qe<ke;++qe)mo[Je.Z](ht,_t,Xt,tt,ft,Ot,q),ht=ft,_t=Ot,Ot+=q,tt+=q;else for(qe=0;qe<ke;++qe)z(ft,Ot,Xt,tt,q),ht=ft,_t=Ot,Ot+=q,tt+=q;k.rc=ht,k.Vc=_t}else{if(w(Je.mc!=null),q=je+ke,w((qe=Je.mc)!=null),w(q<=qe.i),qe.C>=q)q=1;else if(Je.ic||Xe(),Je.ic){Je=qe.V,ht=qe.Ba,_t=qe.c;var br=qe.i,nr=(Xt=1,tt=qe.$/_t,ft=qe.$%_t,Ot=qe.m,tr=qe.s,qe.$),Cr=_t*br,Br=_t*q,Mr=tr.wc,Er=nr<Br?Qi(tr,ft,tt):null;w(nr<=Cr),w(q<=br),w(To(tr));t:for(;;){for(;!Ot.h&&nr<Br;){if(ft&Mr||(Er=Qi(tr,ft,tt)),w(Er!=null),rr(Ot),256>(br=Ns(Er.G[0],Er.H[0],Ot)))Je[ht+nr]=br,++nr,++ft>=_t&&(ft=0,++tt<=q&&!(tt%16)&&xl(qe,tt));else{if(!(280>br)){Xt=0;break t}br=tl(br-256,Ot);var Yn,En=Ns(Er.G[4],Er.H[4],Ot);if(rr(Ot),!(nr>=(En=mi(_t,En=tl(En,Ot)))&&Cr-nr>=br)){Xt=0;break t}for(Yn=0;Yn<br;++Yn)Je[ht+nr+Yn]=Je[ht+nr+Yn-En];for(nr+=br,ft+=br;ft>=_t;)ft-=_t,++tt<=q&&!(tt%16)&&xl(qe,tt);nr<Br&&ft&Mr&&(Er=Qi(tr,ft,tt))}w(Ot.h==Ht(Ot))}xl(qe,tt>q?q:tt);break t}!Xt||Ot.h&&nr<Cr?(Xt=0,qe.a=Ot.h?5:3):qe.$=nr,q=Xt}else q=Pi(qe,qe.V,qe.Ba,qe.c,qe.i,q,yl);if(!q){ke=0;break e}}je+ke>=Ke&&(k.Cc=1),ke=1}if(!ke)return null;if(k.Cc&&((ke=k.ga)!=null&&(ke.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+je*Qe}function Ys(k,q,je,ke,Qe,Ke){for(;0<Qe--;){var qe,Je=k,tt=q+(je?1:0),ft=k,Ot=q+(je?0:3);for(qe=0;qe<ke;++qe){var tr=ft[Ot+4*qe];tr!=255&&(tr*=32897,Je[tt+4*qe+0]=Je[tt+4*qe+0]*tr>>23,Je[tt+4*qe+1]=Je[tt+4*qe+1]*tr>>23,Je[tt+4*qe+2]=Je[tt+4*qe+2]*tr>>23)}q+=Ke}}function E(k,q,je,ke,Qe){for(;0<ke--;){var Ke;for(Ke=0;Ke<je;++Ke){var qe=k[q+2*Ke+0],Je=15&(ft=k[q+2*Ke+1]),tt=4369*Je,ft=(240&ft|ft>>4)*tt>>16;k[q+2*Ke+0]=(240&qe|qe>>4)*tt>>16&240|(15&qe|qe<<4)*tt>>16>>4&15,k[q+2*Ke+1]=240&ft|Je}q+=Qe}}function _e(k,q,je,ke,Qe,Ke,qe,Je){var tt,ft,Ot=255;for(ft=0;ft<Qe;++ft){for(tt=0;tt<ke;++tt){var tr=k[q+tt];Ke[qe+4*tt]=tr,Ot&=tr}q+=je,qe+=Je}return Ot!=255}function J(k,q,je,ke,Qe){var Ke;for(Ke=0;Ke<Qe;++Ke)je[ke+Ke]=k[q+Ke]>>8}function Xe(){Oi=Ys,Qu=E,Oo=_e,Ed=J}function At(k,q,je){It[k]=function(ke,Qe,Ke,qe,Je,tt,ft,Ot,tr,ht,_t,Xt,br,nr,Cr,Br,Mr){var Er,Yn=Mr-1>>1,En=Je[tt+0]|ft[Ot+0]<<16,Da=tr[ht+0]|_t[Xt+0]<<16;w(ke!=null);var pn=3*En+Da+131074>>2;for(q(ke[Qe+0],255&pn,pn>>16,br,nr),Ke!=null&&(pn=3*Da+En+131074>>2,q(Ke[qe+0],255&pn,pn>>16,Cr,Br)),Er=1;Er<=Yn;++Er){var hs=Je[tt+Er]|ft[Ot+Er]<<16,an=tr[ht+Er]|_t[Xt+Er]<<16,ka=En+hs+Da+an+524296,Un=ka+2*(hs+Da)>>3;pn=Un+En>>1,En=(ka=ka+2*(En+an)>>3)+hs>>1,q(ke[Qe+2*Er-1],255&pn,pn>>16,br,nr+(2*Er-1)*je),q(ke[Qe+2*Er-0],255&En,En>>16,br,nr+(2*Er-0)*je),Ke!=null&&(pn=ka+Da>>1,En=Un+an>>1,q(Ke[qe+2*Er-1],255&pn,pn>>16,Cr,Br+(2*Er-1)*je),q(Ke[qe+2*Er+0],255&En,En>>16,Cr,Br+(2*Er+0)*je)),En=hs,Da=an}1&Mr||(pn=3*En+Da+131074>>2,q(ke[Qe+Mr-1],255&pn,pn>>16,br,nr+(Mr-1)*je),Ke!=null&&(pn=3*Da+En+131074>>2,q(Ke[qe+Mr-1],255&pn,pn>>16,Cr,Br+(Mr-1)*je)))}}function it(){kl[Zd]=tu,kl[Hu]=BA,kl[Wu]=Ah,kl[gu]=hh,kl[$i]=SA,kl[Id]=kd,kl[ih]=Td,kl[bA]=BA,kl[$u]=hh,kl[Qc]=SA,kl[jA]=kd}function Zt(k){return k&-16384?0>k?0:255:k>>Af}function Wt(k,q){return Zt((19077*k>>8)+(26149*q>>8)-14234)}function yn(k,q,je){return Zt((19077*k>>8)-(6419*q>>8)-(13320*je>>8)+8708)}function Pt(k,q){return Zt((19077*k>>8)+(33050*q>>8)-17685)}function ar(k,q,je,ke,Qe){ke[Qe+0]=Wt(k,je),ke[Qe+1]=yn(k,q,je),ke[Qe+2]=Pt(k,q)}function ha(k,q,je,ke,Qe){ke[Qe+0]=Pt(k,q),ke[Qe+1]=yn(k,q,je),ke[Qe+2]=Wt(k,je)}function dn(k,q,je,ke,Qe){var Ke=yn(k,q,je);q=Ke<<3&224|Pt(k,q)>>3,ke[Qe+0]=248&Wt(k,je)|Ke>>5,ke[Qe+1]=q}function Or(k,q,je,ke,Qe){var Ke=240&Pt(k,q)|15;ke[Qe+0]=240&Wt(k,je)|yn(k,q,je)>>4,ke[Qe+1]=Ke}function yr(k,q,je,ke,Qe){ke[Qe+0]=255,ar(k,q,je,ke,Qe+1)}function Is(k,q,je,ke,Qe){ha(k,q,je,ke,Qe),ke[Qe+3]=255}function pa(k,q,je,ke,Qe){ar(k,q,je,ke,Qe),ke[Qe+3]=255}function ea(k,q,je){It[k]=function(ke,Qe,Ke,qe,Je,tt,ft,Ot,tr){for(var ht=Ot+(-2&tr)*je;Ot!=ht;)q(ke[Qe+0],Ke[qe+0],Je[tt+0],ft,Ot),q(ke[Qe+1],Ke[qe+0],Je[tt+0],ft,Ot+je),Qe+=2,++qe,++tt,Ot+=2*je;1&tr&&q(ke[Qe+0],Ke[qe+0],Je[tt+0],ft,Ot)}}function xa(k,q,je){return je==0?k==0?q==0?6:5:q==0?4:0:je}function $a(k,q,je,ke,Qe){switch(k>>>30){case 3:Vo(q,je,ke,Qe,0);break;case 2:po(q,je,ke,Qe);break;case 1:ns(q,je,ke,Qe)}}function tn(k,q){var je,ke,Qe=q.M,Ke=q.Nb,qe=k.oc,Je=k.pc+40,tt=k.oc,ft=k.pc+584,Ot=k.oc,tr=k.pc+600;for(je=0;16>je;++je)qe[Je+32*je-1]=129;for(je=0;8>je;++je)tt[ft+32*je-1]=129,Ot[tr+32*je-1]=129;for(0<Qe?qe[Je-1-32]=tt[ft-1-32]=Ot[tr-1-32]=129:(Y(qe,Je-32-1,127,21),Y(tt,ft-32-1,127,9),Y(Ot,tr-32-1,127,9)),ke=0;ke<k.za;++ke){var ht=q.ya[q.aa+ke];if(0<ke){for(je=-1;16>je;++je)z(qe,Je+32*je-4,qe,Je+32*je+12,4);for(je=-1;8>je;++je)z(tt,ft+32*je-4,tt,ft+32*je+4,4),z(Ot,tr+32*je-4,Ot,tr+32*je+4,4)}var _t=k.Gd,Xt=k.Hd+ke,br=ht.ad,nr=ht.Hc;if(0<Qe&&(z(qe,Je-32,_t[Xt].y,0,16),z(tt,ft-32,_t[Xt].f,0,8),z(Ot,tr-32,_t[Xt].ea,0,8)),ht.Za){var Cr=qe,Br=Je-32+16;for(0<Qe&&(ke>=k.za-1?Y(Cr,Br,_t[Xt].y[15],4):z(Cr,Br,_t[Xt+1].y,0,4)),je=0;4>je;je++)Cr[Br+128+je]=Cr[Br+256+je]=Cr[Br+384+je]=Cr[Br+0+je];for(je=0;16>je;++je,nr<<=2)Cr=qe,Br=Je+kA[je],ul[ht.Ob[je]](Cr,Br),$a(nr,br,16*+je,Cr,Br)}else if(Cr=xa(ke,Qe,ht.Ob[0]),td[Cr](qe,Je),nr!=0)for(je=0;16>je;++je,nr<<=2)$a(nr,br,16*+je,qe,Je+kA[je]);for(je=ht.Gc,Cr=xa(ke,Qe,ht.Dd),Cc[Cr](tt,ft),Cc[Cr](Ot,tr),nr=br,Cr=tt,Br=ft,255&(ht=0|je)&&(170&ht?El(nr,256,Cr,Br):ks(nr,256,Cr,Br)),ht=Ot,nr=tr,255&(je>>=8)&&(170&je?El(br,320,ht,nr):ks(br,320,ht,nr)),Qe<k.Ub-1&&(z(_t[Xt].y,0,qe,Je+480,16),z(_t[Xt].f,0,tt,ft+224,8),z(_t[Xt].ea,0,Ot,tr+224,8)),je=8*Ke*k.B,_t=k.sa,Xt=k.ta+16*ke+16*Ke*k.R,br=k.qa,ht=k.ra+8*ke+je,nr=k.Ha,Cr=k.Ia+8*ke+je,je=0;16>je;++je)z(_t,Xt+je*k.R,qe,Je+32*je,16);for(je=0;8>je;++je)z(br,ht+je*k.B,tt,ft+32*je,8),z(nr,Cr+je*k.B,Ot,tr+32*je,8)}}function ba(k,q,je,ke,Qe,Ke,qe,Je,tt){var ft=[0],Ot=[0],tr=0,ht=tt!=null?tt.kd:0,_t=tt??new Fr;if(k==null||12>je)return 7;_t.data=k,_t.w=q,_t.ha=je,q=[q],je=[je],_t.gb=[_t.gb];e:{var Xt=q,br=je,nr=_t.gb;if(w(k!=null),w(br!=null),w(nr!=null),nr[0]=0,12<=br[0]&&!P(k,Xt[0],"RIFF")){if(P(k,Xt[0]+8,"WEBP")){nr=3;break e}var Cr=aa(k,Xt[0]+4);if(12>Cr||4294967286<Cr){nr=3;break e}if(ht&&Cr>br[0]-8){nr=7;break e}nr[0]=Cr,Xt[0]+=12,br[0]-=12}nr=0}if(nr!=0)return nr;for(Cr=0<_t.gb[0],je=je[0];;){e:{var Br=k;br=q,nr=je;var Mr=ft,Er=Ot,Yn=Xt=[0];if((pn=tr=[tr])[0]=0,8>nr[0])nr=7;else{if(!P(Br,br[0],"VP8X")){if(aa(Br,br[0]+4)!=10){nr=3;break e}if(18>nr[0]){nr=7;break e}var En=aa(Br,br[0]+8),Da=1+jn(Br,br[0]+12);if(2147483648<=Da*(Br=1+jn(Br,br[0]+15))){nr=3;break e}Yn!=null&&(Yn[0]=En),Mr!=null&&(Mr[0]=Da),Er!=null&&(Er[0]=Br),br[0]+=18,nr[0]-=18,pn[0]=1}nr=0}}if(tr=tr[0],Xt=Xt[0],nr!=0)return nr;if(br=!!(2&Xt),!Cr&&tr)return 3;if(Ke!=null&&(Ke[0]=!!(16&Xt)),qe!=null&&(qe[0]=br),Je!=null&&(Je[0]=0),qe=ft[0],Xt=Ot[0],tr&&br&&tt==null){nr=0;break}if(4>je){nr=7;break}if(Cr&&tr||!Cr&&!tr&&!P(k,q[0],"ALPH")){je=[je],_t.na=[_t.na],_t.P=[_t.P],_t.Sa=[_t.Sa];e:{En=k,nr=q,Cr=je;var pn=_t.gb;Mr=_t.na,Er=_t.P,Yn=_t.Sa,Da=22,w(En!=null),w(Cr!=null),Br=nr[0];var hs=Cr[0];for(w(Mr!=null),w(Yn!=null),Mr[0]=null,Er[0]=null,Yn[0]=0;;){if(nr[0]=Br,Cr[0]=hs,8>hs){nr=7;break e}var an=aa(En,Br+4);if(4294967286<an){nr=3;break e}var ka=8+an+1&-2;if(Da+=ka,0<pn&&Da>pn){nr=3;break e}if(!P(En,Br,"VP8 ")||!P(En,Br,"VP8L")){nr=0;break e}if(hs[0]<ka){nr=7;break e}P(En,Br,"ALPH")||(Mr[0]=En,Er[0]=Br+8,Yn[0]=an),Br+=ka,hs-=ka}}if(je=je[0],_t.na=_t.na[0],_t.P=_t.P[0],_t.Sa=_t.Sa[0],nr!=0)break}je=[je],_t.Ja=[_t.Ja],_t.xa=[_t.xa];e:if(pn=k,nr=q,Cr=je,Mr=_t.gb[0],Er=_t.Ja,Yn=_t.xa,En=nr[0],Br=!P(pn,En,"VP8 "),Da=!P(pn,En,"VP8L"),w(pn!=null),w(Cr!=null),w(Er!=null),w(Yn!=null),8>Cr[0])nr=7;else{if(Br||Da){if(pn=aa(pn,En+4),12<=Mr&&pn>Mr-12){nr=3;break e}if(ht&&pn>Cr[0]-8){nr=7;break e}Er[0]=pn,nr[0]+=8,Cr[0]-=8,Yn[0]=Da}else Yn[0]=5<=Cr[0]&&pn[En+0]==47&&!(pn[En+4]>>5),Er[0]=Cr[0];nr=0}if(je=je[0],_t.Ja=_t.Ja[0],_t.xa=_t.xa[0],q=q[0],nr!=0)break;if(4294967286<_t.Ja)return 3;if(Je==null||br||(Je[0]=_t.xa?2:1),qe=[qe],Xt=[Xt],_t.xa){if(5>je){nr=7;break}Je=qe,ht=Xt,br=Ke,k==null||5>je?k=0:5<=je&&k[q+0]==47&&!(k[q+4]>>5)?(Cr=[0],pn=[0],Mr=[0],mr(Er=new vt,k,q,je),Yi(Er,Cr,pn,Mr)?(Je!=null&&(Je[0]=Cr[0]),ht!=null&&(ht[0]=pn[0]),br!=null&&(br[0]=Mr[0]),k=1):k=0):k=0}else{if(10>je){nr=7;break}Je=Xt,k==null||10>je||!yd(k,q+3,je-3)?k=0:(ht=k[q+0]|k[q+1]<<8|k[q+2]<<16,br=16383&(k[q+7]<<8|k[q+6]),k=16383&(k[q+9]<<8|k[q+8]),1&ht||3<(ht>>1&7)||!(ht>>4&1)||ht>>5>=_t.Ja||!br||!k?k=0:(qe&&(qe[0]=br),Je&&(Je[0]=k),k=1))}if(!k||(qe=qe[0],Xt=Xt[0],tr&&(ft[0]!=qe||Ot[0]!=Xt)))return 3;tt!=null&&(tt[0]=_t,tt.offset=q-tt.w,w(4294967286>q-tt.w),w(tt.offset==tt.ha-je));break}return nr==0||nr==7&&tr&&tt==null?(Ke!=null&&(Ke[0]|=_t.na!=null&&0<_t.na.length),ke!=null&&(ke[0]=qe),Qe!=null&&(Qe[0]=Xt),0):nr}function Ws(k,q,je){var ke=q.width,Qe=q.height,Ke=0,qe=0,Je=ke,tt=Qe;if(q.Da=k!=null&&0<k.Da,q.Da&&(Je=k.cd,tt=k.bd,Ke=k.v,qe=k.j,11>je||(Ke&=-2,qe&=-2),0>Ke||0>qe||0>=Je||0>=tt||Ke+Je>ke||qe+tt>Qe))return 0;if(q.v=Ke,q.j=qe,q.va=Ke+Je,q.o=qe+tt,q.U=Je,q.T=tt,q.da=k!=null&&0<k.da,q.da){if(!on(Je,tt,je=[k.ib],Ke=[k.hb]))return 0;q.ib=je[0],q.hb=Ke[0]}return q.ob=k!=null&&k.ob,q.Kb=k==null||!k.Sd,q.da&&(q.ob=q.ib<3*ke/4&&q.hb<3*Qe/4,q.Kb=0),1}function Xn(k){if(k==null)return 2;if(11>k.S){var q=k.f.RGBA;q.fb+=(k.height-1)*q.A,q.A=-q.A}else q=k.f.kb,k=k.height,q.O+=(k-1)*q.fa,q.fa=-q.fa,q.N+=(k-1>>1)*q.Ab,q.Ab=-q.Ab,q.W+=(k-1>>1)*q.Db,q.Db=-q.Db,q.F!=null&&(q.J+=(k-1)*q.lb,q.lb=-q.lb);return 0}function Za(k,q,je,ke){if(ke==null||0>=k||0>=q)return 2;if(je!=null){if(je.Da){var Qe=je.cd,Ke=je.bd,qe=-2&je.v,Je=-2&je.j;if(0>qe||0>Je||0>=Qe||0>=Ke||qe+Qe>k||Je+Ke>q)return 2;k=Qe,q=Ke}if(je.da){if(!on(k,q,Qe=[je.ib],Ke=[je.hb]))return 2;k=Qe[0],q=Ke[0]}}ke.width=k,ke.height=q;e:{var tt=ke.width,ft=ke.height;if(k=ke.S,0>=tt||0>=ft||!(k>=Zd&&13>k))k=2;else{if(0>=ke.Rd&&ke.sd==null){qe=Ke=Qe=q=0;var Ot=(Je=tt*TA[k])*ft;if(11>k||(Ke=(ft+1)/2*(q=(tt+1)/2),k==12&&(qe=(Qe=tt)*ft)),(ft=te(Ot+2*Ke+qe))==null){k=1;break e}ke.sd=ft,11>k?((tt=ke.f.RGBA).eb=ft,tt.fb=0,tt.A=Je,tt.size=Ot):((tt=ke.f.kb).y=ft,tt.O=0,tt.fa=Je,tt.Fd=Ot,tt.f=ft,tt.N=0+Ot,tt.Ab=q,tt.Cd=Ke,tt.ea=ft,tt.W=0+Ot+Ke,tt.Db=q,tt.Ed=Ke,k==12&&(tt.F=ft,tt.J=0+Ot+2*Ke),tt.Tc=qe,tt.lb=Qe)}if(q=1,Qe=ke.S,Ke=ke.width,qe=ke.height,Qe>=Zd&&13>Qe)if(11>Qe)k=ke.f.RGBA,q&=(Je=Math.abs(k.A))*(qe-1)+Ke<=k.size,q&=Je>=Ke*TA[Qe],q&=k.eb!=null;else{k=ke.f.kb,Je=(Ke+1)/2,Ot=(qe+1)/2,tt=Math.abs(k.fa),ft=Math.abs(k.Ab);var tr=Math.abs(k.Db),ht=Math.abs(k.lb),_t=ht*(qe-1)+Ke;q&=tt*(qe-1)+Ke<=k.Fd,q&=ft*(Ot-1)+Je<=k.Cd,q=(q&=tr*(Ot-1)+Je<=k.Ed)&tt>=Ke&ft>=Je&tr>=Je,q&=k.y!=null,q&=k.f!=null,q&=k.ea!=null,Qe==12&&(q&=ht>=Ke,q&=_t<=k.Tc,q&=k.F!=null)}else q=0;k=q?0:2}}return k!=0||je!=null&&je.fd&&(k=Xn(ke)),k}var Ba=64,Ln=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ia=24,Zi=32,Bl=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pn("Predictor0","PredictorAdd0"),It.Predictor0=function(){return 4278190080},It.Predictor1=function(k){return k},It.Predictor2=function(k,q,je){return q[je+0]},It.Predictor3=function(k,q,je){return q[je+1]},It.Predictor4=function(k,q,je){return q[je-1]},It.Predictor5=function(k,q,je){return On(On(k,q[je+1]),q[je+0])},It.Predictor6=function(k,q,je){return On(k,q[je-1])},It.Predictor7=function(k,q,je){return On(k,q[je+0])},It.Predictor8=function(k,q,je){return On(q[je-1],q[je+0])},It.Predictor9=function(k,q,je){return On(q[je+0],q[je+1])},It.Predictor10=function(k,q,je){return On(On(k,q[je-1]),On(q[je+0],q[je+1]))},It.Predictor11=function(k,q,je){var ke=q[je+0];return 0>=kn(ke>>24&255,k>>24&255,(q=q[je-1])>>24&255)+kn(ke>>16&255,k>>16&255,q>>16&255)+kn(ke>>8&255,k>>8&255,q>>8&255)+kn(255&ke,255&k,255&q)?ke:k},It.Predictor12=function(k,q,je){var ke=q[je+0];return(is((k>>24&255)+(ke>>24&255)-((q=q[je-1])>>24&255))<<24|is((k>>16&255)+(ke>>16&255)-(q>>16&255))<<16|is((k>>8&255)+(ke>>8&255)-(q>>8&255))<<8|is((255&k)+(255&ke)-(255&q)))>>>0},It.Predictor13=function(k,q,je){var ke=q[je-1];return(Fa((k=On(k,q[je+0]))>>24&255,ke>>24&255)<<24|Fa(k>>16&255,ke>>16&255)<<16|Fa(k>>8&255,ke>>8&255)<<8|Fa(255&k,255&ke))>>>0};var Hi=It.PredictorAdd0;It.PredictorAdd1=Ja,Pn("Predictor2","PredictorAdd2"),Pn("Predictor3","PredictorAdd3"),Pn("Predictor4","PredictorAdd4"),Pn("Predictor5","PredictorAdd5"),Pn("Predictor6","PredictorAdd6"),Pn("Predictor7","PredictorAdd7"),Pn("Predictor8","PredictorAdd8"),Pn("Predictor9","PredictorAdd9"),Pn("Predictor10","PredictorAdd10"),Pn("Predictor11","PredictorAdd11"),Pn("Predictor12","PredictorAdd12"),Pn("Predictor13","PredictorAdd13");var Sl=It.PredictorAdd2;Sn("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Sn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var Ci,Lu=It.ColorIndexInverseTransform,Co=It.MapARGB,Po=It.VP8LColorIndexInverseTransformAlpha,Jd=It.MapAlpha,pu=It.VP8LPredictorsAdd=[];pu.length=16,(It.VP8LPredictors=[]).length=16,(It.VP8LPredictorsAdd_C=[]).length=16,(It.VP8LPredictors_C=[]).length=16;var ql,sc,ic,Zc,bc,Bd,Xl,Vo,po,El,ns,ks,Js,Wi,jc,$s,wc,Sd,Uu,mu,Ru,ed,li,eo,Oi,Qu,Oo,Ed,of=te(511),Mo=te(2041),vA=te(225),xA=te(767),yA=0,oc=Mo,dl=vA,Do=xA,Il=of,Zd=0,Hu=1,Wu=2,gu=3,$i=4,Id=5,ih=6,bA=7,$u=8,Qc=9,jA=10,wA=[2,3,7],CA=[3,3,11],oh=[280,256,256,256,40],lh=[0,1,1,1,0],lf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],df=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ch=8,vu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eu=null,NA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ku=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],td=[],ul=[],Cc=[],uf=1,uh=2,mo=[],kl=[];At("UpsampleRgbLinePair",ar,3),At("UpsampleBgrLinePair",ha,3),At("UpsampleRgbaLinePair",pa,4),At("UpsampleBgraLinePair",Is,4),At("UpsampleArgbLinePair",yr,4),At("UpsampleRgba4444LinePair",Or,2),At("UpsampleRgb565LinePair",dn,2);var tu=It.UpsampleRgbLinePair,Ah=It.UpsampleBgrLinePair,BA=It.UpsampleRgbaLinePair,hh=It.UpsampleBgraLinePair,SA=It.UpsampleArgbLinePair,kd=It.UpsampleRgba4444LinePair,Td=It.UpsampleRgb565LinePair,Fd=16,ru=1<<Fd-1,xu=-227,EA=482,Af=6,fh=0,ph=te(256),mh=te(256),Al=te(256),Ko=te(256),IA=te(EA-xu),gh=te(EA-xu);ea("YuvToRgbRow",ar,3),ea("YuvToBgrRow",ha,3),ea("YuvToRgbaRow",pa,4),ea("YuvToBgraRow",Is,4),ea("YuvToArgbRow",yr,4),ea("YuvToRgba4444Row",Or,2),ea("YuvToRgb565Row",dn,2);var kA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gu=[0,2,8],qu=[8,7,6,4,4,2,2,2,1,1,1,1],yu=1;this.WebPDecodeRGBA=function(k,q,je,ke,Qe){var Ke=Hu,qe=new xr,Je=new ga;qe.ba=Je,Je.S=Ke,Je.width=[Je.width],Je.height=[Je.height];var tt=Je.width,ft=Je.height,Ot=new wn;if(Ot==null||k==null)var tr=2;else w(Ot!=null),tr=ba(k,q,je,Ot.width,Ot.height,Ot.Pd,Ot.Qd,Ot.format,null);if(tr!=0?tt=0:(tt!=null&&(tt[0]=Ot.width[0]),ft!=null&&(ft[0]=Ot.height[0]),tt=1),tt){Je.width=Je.width[0],Je.height=Je.height[0],ke!=null&&(ke[0]=Je.width),Qe!=null&&(Qe[0]=Je.height);e:{if(ke=new Xc,(Qe=new Fr).data=k,Qe.w=q,Qe.ha=je,Qe.kd=1,q=[0],w(Qe!=null),((k=ba(Qe.data,Qe.w,Qe.ha,null,null,null,q,null,Qe))==0||k==7)&&q[0]&&(k=4),(q=k)==0){if(w(qe!=null),ke.data=Qe.data,ke.w=Qe.w+Qe.offset,ke.ha=Qe.ha-Qe.offset,ke.put=la,ke.ac=Hl,ke.bc=ii,ke.ma=qe,Qe.xa){if((k=rl())==null){qe=1;break e}if((function(ht,_t){var Xt=[0],br=[0],nr=[0];t:for(;;){if(ht==null)return 0;if(_t==null)return ht.a=2,0;if(ht.l=_t,ht.a=0,mr(ht.m,_t.data,_t.w,_t.ha),!Yi(ht.m,Xt,br,nr)){ht.a=3;break t}if(ht.xb=uh,_t.width=Xt[0],_t.height=br[0],!yo(Xt[0],br[0],1,ht,null))break t;return 1}return w(ht.a!=0),0})(k,ke)){if(ke=(q=Za(ke.width,ke.height,qe.Oa,qe.ba))==0){t:{ke=k;r:for(;;){if(ke==null){ke=0;break t}if(w(ke.s.yc!=null),w(ke.s.Ya!=null),w(0<ke.s.Wb),w((je=ke.l)!=null),w((Qe=je.ma)!=null),ke.xb!=0){if(ke.ca=Qe.ba,ke.tb=Qe.tb,w(ke.ca!=null),!Ws(Qe.Oa,je,gu)){ke.a=2;break r}if(!Ao(ke,je.width)||je.da)break r;if((je.da||Aa(ke.ca.S))&&Xe(),11>ke.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ke.ca.f.kb.F!=null&&Xe()),ke.Pb&&0<ke.s.ua&&ke.s.vb.X==null&&!dt(ke.s.vb,ke.s.Wa.Xa)){ke.a=1;break r}ke.xb=0}if(!Pi(ke,ke.V,ke.Ba,ke.c,ke.i,je.o,Fi))break r;Qe.Dc=ke.Ma,ke=1;break t}w(ke.a!=0),ke=0}ke=!ke}ke&&(q=k.a)}else q=k.a}else{if((k=new Pc)==null){qe=1;break e}if(k.Fa=Qe.na,k.P=Qe.P,k.qc=Qe.Sa,jl(k,ke)){if((q=Za(ke.width,ke.height,qe.Oa,qe.ba))==0){if(k.Aa=0,je=qe.Oa,w((Qe=k)!=null),je!=null){if(0<(tt=0>(tt=je.Md)?0:100<tt?255:255*tt/100)){for(ft=Ot=0;4>ft;++ft)12>(tr=Qe.pb[ft]).lc&&(tr.ia=tt*qu[0>tr.lc?0:tr.lc]>>3),Ot|=tr.ia;Ot&&(alert("todo:VP8InitRandom"),Qe.ia=1)}Qe.Ga=je.Id,100<Qe.Ga?Qe.Ga=100:0>Qe.Ga&&(Qe.Ga=0)}(function(ht,_t){if(ht==null)return 0;if(_t==null)return fa(ht,2,"NULL VP8Io parameter in VP8Decode().");if(!ht.cb&&!jl(ht,_t))return 0;if(w(ht.cb),_t.ac==null||_t.ac(_t)){_t.ob&&(ht.L=0);var Xt=Gu[ht.L];if(ht.L==2?(ht.yb=0,ht.zb=0):(ht.yb=_t.v-Xt>>4,ht.zb=_t.j-Xt>>4,0>ht.yb&&(ht.yb=0),0>ht.zb&&(ht.zb=0)),ht.Va=_t.o+15+Xt>>4,ht.Hb=_t.va+15+Xt>>4,ht.Hb>ht.za&&(ht.Hb=ht.za),ht.Va>ht.Ub&&(ht.Va=ht.Ub),0<ht.L){var br=ht.ed;for(Xt=0;4>Xt;++Xt){var nr;if(ht.Qa.Cb){var Cr=ht.Qa.Lb[Xt];ht.Qa.Fb||(Cr+=br.Tb)}else Cr=br.Tb;for(nr=0;1>=nr;++nr){var Br=ht.gd[Xt][nr],Mr=Cr;if(br.Pc&&(Mr+=br.vd[0],nr&&(Mr+=br.od[0])),0<(Mr=0>Mr?0:63<Mr?63:Mr)){var Er=Mr;0<br.wb&&(Er=4<br.wb?Er>>2:Er>>1)>9-br.wb&&(Er=9-br.wb),1>Er&&(Er=1),Br.dd=Er,Br.tc=2*Mr+Er,Br.ld=40<=Mr?2:15<=Mr?1:0}else Br.tc=0;Br.La=nr}}}Xt=0}else fa(ht,6,"Frame setup failed"),Xt=ht.a;if(Xt=Xt==0){if(Xt){ht.$c=0,0<ht.Aa||(ht.Ic=yu);t:{Xt=ht.Ic,br=4*(Er=ht.za);var Yn=32*Er,En=Er+1,Da=0<ht.L?Er*(0<ht.Aa?2:1):0,pn=(ht.Aa==2?2:1)*Er;if((Br=br+832+(nr=3*(16*Xt+Gu[ht.L])/2*Yn)+(Cr=ht.Fa!=null&&0<ht.Fa.length?ht.Kc.c*ht.Kc.i:0))!=Br)Xt=0;else{if(Br>ht.Vb){if(ht.Vb=0,ht.Ec=te(Br),ht.Fc=0,ht.Ec==null){Xt=fa(ht,1,"no memory during frame initialization.");break t}ht.Vb=Br}Br=ht.Ec,Mr=ht.Fc,ht.Ac=Br,ht.Bc=Mr,Mr+=br,ht.Gd=Be(Yn,Gc),ht.Hd=0,ht.rb=Be(En+1,gc),ht.sb=1,ht.wa=Da?Be(Da,bo):null,ht.Y=0,ht.D.Nb=0,ht.D.wa=ht.wa,ht.D.Y=ht.Y,0<ht.Aa&&(ht.D.Y+=Er),w(!0),ht.oc=Br,ht.pc=Mr,Mr+=832,ht.ya=Be(pn,Kc),ht.aa=0,ht.D.ya=ht.ya,ht.D.aa=ht.aa,ht.Aa==2&&(ht.D.aa+=Er),ht.R=16*Er,ht.B=8*Er,Er=(Yn=Gu[ht.L])*ht.R,Yn=Yn/2*ht.B,ht.sa=Br,ht.ta=Mr+Er,ht.qa=ht.sa,ht.ra=ht.ta+16*Xt*ht.R+Yn,ht.Ha=ht.qa,ht.Ia=ht.ra+8*Xt*ht.B+Yn,ht.$c=0,Mr+=nr,ht.mb=Cr?Br:null,ht.nb=Cr?Mr:null,w(Mr+Cr<=ht.Fc+ht.Vb),bd(ht),Y(ht.Ac,ht.Bc,0,br),Xt=1}}if(Xt){if(_t.ka=0,_t.y=ht.sa,_t.O=ht.ta,_t.f=ht.qa,_t.N=ht.ra,_t.ea=ht.Ha,_t.Vd=ht.Ia,_t.fa=ht.R,_t.Rc=ht.B,_t.F=null,_t.J=0,!yA){for(Xt=-255;255>=Xt;++Xt)of[255+Xt]=0>Xt?-Xt:Xt;for(Xt=-1020;1020>=Xt;++Xt)Mo[1020+Xt]=-128>Xt?-128:127<Xt?127:Xt;for(Xt=-112;112>=Xt;++Xt)vA[112+Xt]=-16>Xt?-16:15<Xt?15:Xt;for(Xt=-255;510>=Xt;++Xt)xA[255+Xt]=0>Xt?0:255<Xt?255:Xt;yA=1}Xl=wd,Vo=Yc,El=jo,ns=jd,ks=Oc,po=sl,Js=Xd,Wi=ac,jc=Re,$s=mt,wc=Yd,Sd=de,Uu=kt,mu=Kt,Ru=gi,ed=Gl,li=yc,eo=ho,ul[0]=Vl,ul[1]=Mc,ul[2]=rc,ul[3]=fu,ul[4]=Ji,ul[5]=wl,ul[6]=ol,ul[7]=qd,ul[8]=Jc,ul[9]=$o,td[0]=Du,td[1]=_c,td[2]=Lc,td[3]=Cd,td[4]=Uc,td[5]=Gd,td[6]=_u,Cc[0]=Nd,Cc[1]=Dc,Cc[2]=wo,Cc[3]=Rc,Cc[4]=Cl,Cc[5]=Kl,Cc[6]=ll,Xt=1}else Xt=0}Xt&&(Xt=(function(hs,an){for(hs.M=0;hs.M<hs.Va;++hs.M){var ka,Un=hs.Jc[hs.M&hs.Xb],un=hs.m,zi=hs;for(ka=0;ka<zi.za;++ka){var Sa=un,ss=zi,Zs=ss.Ac,to=ss.Bc+4*ka,No=ss.zc,vi=ss.ya[ss.aa+ka];if(ss.Qa.Bb?vi.$b=Tr(Sa,ss.Pa.jb[0])?2+Tr(Sa,ss.Pa.jb[2]):Tr(Sa,ss.Pa.jb[1]):vi.$b=0,ss.kc&&(vi.Ad=Tr(Sa,ss.Bd)),vi.Za=!Tr(Sa,145)+0,vi.Za){var Bo=vi.Ob,_o=0;for(ss=0;4>ss;++ss){var os,Ua=No[0+ss];for(os=0;4>os;++os){Ua=vp[Zs[to+os]][Ua];for(var ls=dh[Tr(Sa,Ua[0])];0<ls;)ls=dh[2*ls+Tr(Sa,Ua[ls])];Ua=-ls,Zs[to+os]=Ua}z(Bo,_o,Zs,to,4),_o+=4,No[0+ss]=Ua}}else Ua=Tr(Sa,156)?Tr(Sa,128)?1:3:Tr(Sa,163)?2:0,vi.Ob[0]=Ua,Y(Zs,to,Ua,4),Y(No,0,Ua,4);vi.Dd=Tr(Sa,142)?Tr(Sa,114)?Tr(Sa,183)?1:3:2:0}if(zi.m.Ka)return fa(hs,7,"Premature end-of-partition0 encountered.");for(;hs.ja<hs.za;++hs.ja){if(zi=Un,Sa=(un=hs).rb[un.sb-1],Zs=un.rb[un.sb+un.ja],ka=un.ya[un.aa+un.ja],to=un.kc?ka.Ad:0)Sa.la=Zs.la=0,ka.Za||(Sa.Na=Zs.Na=0),ka.Hc=0,ka.Gc=0,ka.ia=0;else{var Ni,Ms;if(Sa=Zs,Zs=zi,to=un.Pa.Xc,No=un.ya[un.aa+un.ja],vi=un.pb[No.$b],ss=No.ad,Bo=0,_o=un.rb[un.sb-1],Ua=os=0,Y(ss,Bo,0,384),No.Za)var ei=0,Tl=to[3];else{ls=te(16);var Ds=Sa.Na+_o.Na;if(Ds=eu(Zs,to[1],Ds,vi.Eb,0,ls,0),Sa.Na=_o.Na=(0<Ds)+0,1<Ds)Xl(ls,0,ss,Bo);else{var Go=ls[0]+3>>3;for(ls=0;256>ls;ls+=16)ss[Bo+ls]=Go}ei=1,Tl=to[0]}var zs=15&Sa.la,Jr=15&_o.la;for(ls=0;4>ls;++ls){var go=1&Jr;for(Go=Ms=0;4>Go;++Go)zs=zs>>1|(go=(Ds=eu(Zs,Tl,Ds=go+(1&zs),vi.Sc,ei,ss,Bo))>ei)<<7,Ms=Ms<<2|(3<Ds?3:1<Ds?2:ss[Bo+0]!=0),Bo+=16;zs>>=4,Jr=Jr>>1|go<<7,os=(os<<8|Ms)>>>0}for(Tl=zs,ei=Jr>>4,Ni=0;4>Ni;Ni+=2){for(Ms=0,zs=Sa.la>>4+Ni,Jr=_o.la>>4+Ni,ls=0;2>ls;++ls){for(go=1&Jr,Go=0;2>Go;++Go)Ds=go+(1&zs),zs=zs>>1|(go=0<(Ds=eu(Zs,to[2],Ds,vi.Qc,0,ss,Bo)))<<3,Ms=Ms<<2|(3<Ds?3:1<Ds?2:ss[Bo+0]!=0),Bo+=16;zs>>=2,Jr=Jr>>1|go<<5}Ua|=Ms<<4*Ni,Tl|=zs<<4<<Ni,ei|=(240&Jr)<<Ni}Sa.la=Tl,_o.la=ei,No.Hc=os,No.Gc=Ua,No.ia=43690&Ua?0:vi.ia,to=!(os|Ua)}if(0<un.L&&(un.wa[un.Y+un.ja]=un.gd[ka.$b][ka.Za],un.wa[un.Y+un.ja].La|=!to),zi.Ka)return fa(hs,7,"Premature end-of-file encountered.")}if(bd(hs),un=an,zi=1,ka=(Un=hs).D,Sa=0<Un.L&&Un.M>=Un.zb&&Un.M<=Un.Va,Un.Aa==0)t:{if(ka.M=Un.M,ka.uc=Sa,tn(Un,ka),zi=1,ka=(Ms=Un.D).Nb,Sa=(Ua=Gu[Un.L])*Un.R,Zs=Ua/2*Un.B,ls=16*ka*Un.R,Go=8*ka*Un.B,to=Un.sa,No=Un.ta-Sa+ls,vi=Un.qa,ss=Un.ra-Zs+Go,Bo=Un.Ha,_o=Un.Ia-Zs+Go,Jr=(zs=Ms.M)==0,os=zs>=Un.Va-1,Un.Aa==2&&tn(Un,Ms),Ms.uc)for(go=(Ds=Un).D.M,w(Ds.D.uc),Ms=Ds.yb;Ms<Ds.Hb;++Ms){ei=Ms,Tl=go;var vo=(xi=(Mi=Ds).D).Nb;Ni=Mi.R;var xi=xi.wa[xi.Y+ei],qo=Mi.sa,Pa=Mi.ta+16*vo*Ni+16*ei,Ea=xi.dd,Vn=xi.tc;if(Vn!=0)if(w(3<=Vn),Mi.L==1)0<ei&&ed(qo,Pa,Ni,Vn+4),xi.La&&eo(qo,Pa,Ni,Vn),0<Tl&&Ru(qo,Pa,Ni,Vn+4),xi.La&&li(qo,Pa,Ni,Vn);else{var _s=Mi.B,js=Mi.qa,Bi=Mi.ra+8*vo*_s+8*ei,yi=Mi.Ha,Mi=Mi.Ia+8*vo*_s+8*ei;vo=xi.ld,0<ei&&(Wi(qo,Pa,Ni,Vn+4,Ea,vo),$s(js,Bi,yi,Mi,_s,Vn+4,Ea,vo)),xi.La&&(Sd(qo,Pa,Ni,Vn,Ea,vo),mu(js,Bi,yi,Mi,_s,Vn,Ea,vo)),0<Tl&&(Js(qo,Pa,Ni,Vn+4,Ea,vo),jc(js,Bi,yi,Mi,_s,Vn+4,Ea,vo)),xi.La&&(wc(qo,Pa,Ni,Vn,Ea,vo),Uu(js,Bi,yi,Mi,_s,Vn,Ea,vo))}}if(Un.ia&&alert("todo:DitherRow"),un.put!=null){if(Ms=16*zs,zs=16*(zs+1),Jr?(un.y=Un.sa,un.O=Un.ta+ls,un.f=Un.qa,un.N=Un.ra+Go,un.ea=Un.Ha,un.W=Un.Ia+Go):(Ms-=Ua,un.y=to,un.O=No,un.f=vi,un.N=ss,un.ea=Bo,un.W=_o),os||(zs-=Ua),zs>un.o&&(zs=un.o),un.F=null,un.J=null,Un.Fa!=null&&0<Un.Fa.length&&Ms<zs&&(un.J=as(Un,un,Ms,zs-Ms),un.F=Un.mb,un.F==null&&un.F.length==0)){zi=fa(Un,3,"Could not decode alpha data.");break t}Ms<un.j&&(Ua=un.j-Ms,Ms=un.j,w(!(1&Ua)),un.O+=Un.R*Ua,un.N+=Un.B*(Ua>>1),un.W+=Un.B*(Ua>>1),un.F!=null&&(un.J+=un.width*Ua)),Ms<zs&&(un.O+=un.v,un.N+=un.v>>1,un.W+=un.v>>1,un.F!=null&&(un.J+=un.v),un.ka=Ms-un.j,un.U=un.va-un.v,un.T=zs-Ms,zi=un.put(un))}ka+1!=Un.Ic||os||(z(Un.sa,Un.ta-Sa,to,No+16*Un.R,Sa),z(Un.qa,Un.ra-Zs,vi,ss+8*Un.B,Zs),z(Un.Ha,Un.Ia-Zs,Bo,_o+8*Un.B,Zs))}if(!zi)return fa(hs,6,"Output aborted.")}return 1})(ht,_t)),_t.bc!=null&&_t.bc(_t),Xt&=1}return Xt?(ht.cb=0,Xt):0})(k,ke)||(q=k.a)}}else q=k.a}q==0&&qe.Oa!=null&&qe.Oa.fd&&(q=Xn(qe.ba))}qe=q}Ke=qe!=0?null:11>Ke?Je.f.RGBA.eb:Je.f.kb.y}else Ke=null;return Ke};var TA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function De(It,ir){for(var nt="",ut=0;ut<4;ut++)nt+=String.fromCharCode(It[ir++]);return nt}function ze(It,ir){return It[ir+0]|It[ir+1]<<8}function Ze(It,ir){return(It[ir+0]|It[ir+1]<<8|It[ir+2]<<16)>>>0}function st(It,ir){return(It[ir+0]|It[ir+1]<<8|It[ir+2]<<16|It[ir+3]<<24)>>>0}new ye;var Pe=[0],gt=[0],pt=[],xt=new ye,rt=S,Ft=(function(It,ir){var nt={},ut=0,St=!1,Et=0,lr=0;if(nt.frames=[],!(function(Ye,vt){for(var jt=0;jt<4;jt++)if(Ye[vt+jt]!="RIFF".charCodeAt(jt))return!0;return!1})(It,ir)){for(st(It,ir+=4),ir+=8;ir<It.length;){var Ar=De(It,ir),vr=st(It,ir+=4);ir+=4;var Jt=vr+(1&vr);switch(Ar){case"VP8 ":case"VP8L":nt.frames[ut]===void 0&&(nt.frames[ut]={}),(Lr=nt.frames[ut]).src_off=St?lr:ir-8,Lr.src_size=Et+vr+8,ut++,St&&(St=!1,Et=0,lr=0);break;case"VP8X":(Lr=nt.header={}).feature_flags=It[ir];var mr=ir+4;Lr.canvas_width=1+Ze(It,mr),mr+=3,Lr.canvas_height=1+Ze(It,mr),mr+=3;break;case"ALPH":St=!0,Et=Jt+8,lr=ir-8;break;case"ANIM":(Lr=nt.header).bgcolor=st(It,ir),mr=ir+4,Lr.loop_count=ze(It,mr),mr+=2;break;case"ANMF":var qr,Lr;(Lr=nt.frames[ut]={}).offset_x=2*Ze(It,ir),ir+=3,Lr.offset_y=2*Ze(It,ir),ir+=3,Lr.width=1+Ze(It,ir),ir+=3,Lr.height=1+Ze(It,ir),ir+=3,Lr.duration=Ze(It,ir),ir+=3,qr=It[ir++],Lr.dispose=1&qr,Lr.blend=qr>>1&1}Ar!="ANMF"&&(ir+=Jt)}return nt}})(rt,0);Ft.response=rt,Ft.rgbaoutput=!0,Ft.dataurl=!1;var Vt=Ft.header?Ft.header:null,Bt=Ft.frames?Ft.frames:null;if(Vt){Vt.loop_counter=Vt.loop_count,Pe=[Vt.canvas_height],gt=[Vt.canvas_width];for(var et=0;et<Bt.length&&Bt[et].blend!=0;et++);}var Qt=Bt[0],or=xt.WebPDecodeRGBA(rt,Qt.src_off,Qt.src_size,gt,Pe);Qt.rgba=or,Qt.imgwidth=gt[0],Qt.imgheight=Pe[0];for(var Gt=0;Gt<gt[0]*Pe[0]*4;Gt++)pt[Gt]=or[Gt];return this.width=gt,this.height=Pe,this.data=pt,this}(function(S){var w,P,z,Y,te,Be,me,ye,De,ze=function(Ye){return Ye=Ye||{},this.isStrokeTransparent=Ye.isStrokeTransparent||!1,this.strokeOpacity=Ye.strokeOpacity||1,this.strokeStyle=Ye.strokeStyle||"#000000",this.fillStyle=Ye.fillStyle||"#000000",this.isFillTransparent=Ye.isFillTransparent||!1,this.fillOpacity=Ye.fillOpacity||1,this.font=Ye.font||"10px sans-serif",this.textBaseline=Ye.textBaseline||"alphabetic",this.textAlign=Ye.textAlign||"left",this.lineWidth=Ye.lineWidth||1,this.lineJoin=Ye.lineJoin||"miter",this.lineCap=Ye.lineCap||"butt",this.path=Ye.path||[],this.transform=Ye.transform!==void 0?Ye.transform.clone():new ye,this.globalCompositeOperation=Ye.globalCompositeOperation||"normal",this.globalAlpha=Ye.globalAlpha||1,this.clip_path=Ye.clip_path||[],this.currentPoint=Ye.currentPoint||new Be,this.miterLimit=Ye.miterLimit||10,this.lastPoint=Ye.lastPoint||new Be,this.lineDashOffset=Ye.lineDashOffset||0,this.lineDash=Ye.lineDash||[],this.margin=Ye.margin||[0,0,0,0],this.prevPageLastElemOffset=Ye.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ye.ignoreClearRect!="boolean"||Ye.ignoreClearRect,this};S.events.push(["initialized",function(){this.context2d=new Ze(this),w=this.internal.f2,P=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Y=this.internal.getHorizontalCoordinate,te=this.internal.getVerticalCoordinate,Be=this.internal.Point,me=this.internal.Rectangle,ye=this.internal.Matrix,De=new ze}]);var Ze=function(Ye){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var vt=Ye;Object.defineProperty(this,"pdf",{get:function(){return vt}});var jt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return jt},set:function(dt){jt=!!dt}});var Ht=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ht},set:function(dt){Ht=!!dt}});var zt=0;Object.defineProperty(this,"posX",{get:function(){return zt},set:function(dt){isNaN(dt)||(zt=dt)}});var rr=0;Object.defineProperty(this,"posY",{get:function(){return rr},set:function(dt){isNaN(dt)||(rr=dt)}}),Object.defineProperty(this,"margin",{get:function(){return De.margin},set:function(dt){var cn;typeof dt=="number"?cn=[dt,dt,dt,dt]:((cn=new Array(4))[0]=dt[0],cn[1]=dt.length>=2?dt[1]:cn[0],cn[2]=dt.length>=3?dt[2]:cn[0],cn[3]=dt.length>=4?dt[3]:cn[1]),De.margin=cn}});var pr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pr},set:function(dt){pr=dt}});var gr=0;Object.defineProperty(this,"lastBreak",{get:function(){return gr},set:function(dt){gr=dt}});var Tr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tr},set:function(dt){Tr=dt}}),Object.defineProperty(this,"ctx",{get:function(){return De},set:function(dt){dt instanceof ze&&(De=dt)}}),Object.defineProperty(this,"path",{get:function(){return De.path},set:function(dt){De.path=dt}});var Xr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xr},set:function(dt){Xr=dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(dt){var cn;cn=st(dt),this.ctx.fillStyle=cn.style,this.ctx.isFillTransparent=cn.a===0,this.ctx.fillOpacity=cn.a,this.pdf.setFillColor(cn.r,cn.g,cn.b,{a:cn.a}),this.pdf.setTextColor(cn.r,cn.g,cn.b,{a:cn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(dt){var cn=st(dt);this.ctx.strokeStyle=cn.style,this.ctx.isStrokeTransparent=cn.a===0,this.ctx.strokeOpacity=cn.a,cn.a===0?this.pdf.setDrawColor(255,255,255):(cn.a,this.pdf.setDrawColor(cn.r,cn.g,cn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(dt){["butt","round","square"].indexOf(dt)!==-1&&(this.ctx.lineCap=dt,this.pdf.setLineCap(dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(dt){isNaN(dt)||(this.ctx.lineWidth=dt,this.pdf.setLineWidth(dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(dt){["bevel","round","miter"].indexOf(dt)!==-1&&(this.ctx.lineJoin=dt,this.pdf.setLineJoin(dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(dt){isNaN(dt)||(this.ctx.miterLimit=dt,this.pdf.setMiterLimit(dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(dt){this.ctx.textBaseline=dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(dt){["right","end","center","left","start"].indexOf(dt)!==-1&&(this.ctx.textAlign=dt)}});var xn=null,jn=null,aa=null;Object.defineProperty(this,"fontFaces",{get:function(){return aa},set:function(dt){xn=null,jn=null,aa=dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(dt){var cn;if(this.ctx.font=dt,(cn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(dt))!==null){var ua=cn[1];cn[2];var on=cn[3],Ur=cn[4];cn[5];var ra=cn[6],Pn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ur)[2];Ur=Math.floor(Pn==="px"?parseFloat(Ur)*this.pdf.internal.scaleFactor:Pn==="em"?parseFloat(Ur)*this.pdf.getFontSize():parseFloat(Ur)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ur);var qn=(function(Sn){var ma,ts,_a=[],La=Sn.trim();if(La==="")return so;if(La in Ma)return[Ma[La]];for(;La!=="";){switch(ts=null,ma=(La=ri(La)).charAt(0)){case'"':case"'":ts=Zo(La.substring(1),ma);break;default:ts=Ql(La)}if(ts===null||(_a.push(ts[0]),(La=ri(ts[1]))!==""&&La.charAt(0)!==","))return so;La=La.replace(/^,/,"")}return _a})(ra);if(this.fontFaces){var On=(function(Sn,ma){var ts=Sn.getFontList(),_a=JSON.stringify(ts);if(xn===null||jn!==_a){var La=(function(Hs){var Wn=[];return Object.keys(Hs).forEach(function(xs){Hs[xs].forEach(function(Aa){var Hn=null;switch(Aa){case"bold":Hn={family:xs,weight:"bold"};break;case"italic":Hn={family:xs,style:"italic"};break;case"bolditalic":Hn={family:xs,weight:"bold",style:"italic"};break;case"":case"normal":Hn={family:xs}}Hn!==null&&(Hn.ref={name:xs,style:Aa},Wn.push(Hn))})}),Wn})(ts);xn=(function(Hs){for(var Wn={},xs=0;xs<Hs.length;++xs){var Aa=Ai(Hs[xs]),Hn=Aa.family,ys=Aa.stretch,ga=Aa.style,wn=Aa.weight;Wn[Hn]=Wn[Hn]||{},Wn[Hn][ys]=Wn[Hn][ys]||{},Wn[Hn][ys][ga]=Wn[Hn][ys][ga]||{},Wn[Hn][ys][ga][wn]=Aa}return Wn})(La.concat(ma)),jn=_a}return xn})(this.pdf,this.fontFaces),is=qn.map(function(Sn){return{family:Sn,stretch:"normal",weight:on,style:ua}}),Fa=(function(Sn,ma,ts){for(var _a=(ts=ts||{}).defaultFontFamily||"times",La=Object.assign({},Ii,ts.genericFontFamilies||{}),Hs=null,Wn=null,xs=0;xs<ma.length;++xs)if(La[(Hs=Ai(ma[xs])).family]&&(Hs.family=La[Hs.family]),Sn.hasOwnProperty(Hs.family)){Wn=Sn[Hs.family];break}if(!(Wn=Wn||Sn[_a]))throw new Error("Could not find a font-family for the rule '"+Rl(Hs)+"' and default family '"+_a+"'.");if(Wn=(function(Aa,Hn){if(Hn[Aa])return Hn[Aa];var ys=us[Aa],ga=ys<=us.normal?-1:1,wn=Ga(Hn,ps,ys,ga);if(!wn)throw new Error("Could not find a matching font-stretch value for "+Aa);return wn})(Hs.stretch,Wn),Wn=(function(Aa,Hn){if(Hn[Aa])return Hn[Aa];for(var ys=ui[Aa],ga=0;ga<ys.length;++ga)if(Hn[ys[ga]])return Hn[ys[ga]];throw new Error("Could not find a matching font-style for "+Aa)})(Hs.style,Wn),!(Wn=(function(Aa,Hn){if(Hn[Aa])return Hn[Aa];if(Aa===400&&Hn[500])return Hn[500];if(Aa===500&&Hn[400])return Hn[400];var ys=vs[Aa],ga=Ga(Hn,Ts,ys,Aa<400?-1:1);if(!ga)throw new Error("Could not find a matching font-weight for value "+Aa);return ga})(Hs.weight,Wn)))throw new Error("Failed to resolve a font for the rule '"+Rl(Hs)+"'.");return Wn})(On,is);this.pdf.setFont(Fa.ref.name,Fa.ref.style)}else{var kn="";(on==="bold"||parseInt(on,10)>=700||ua==="bold")&&(kn="bold"),ua==="italic"&&(kn+="italic"),kn.length===0&&(kn="normal");for(var Ja="",na={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bn=0;Bn<qn.length;Bn++){if(this.pdf.internal.getFont(qn[Bn],kn,{noFallback:!0,disableWarning:!0})!==void 0){Ja=qn[Bn];break}if(kn==="bolditalic"&&this.pdf.internal.getFont(qn[Bn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ja=qn[Bn],kn="bold";else if(this.pdf.internal.getFont(qn[Bn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ja=qn[Bn],kn="normal";break}}if(Ja===""){for(var sa=0;sa<qn.length;sa++)if(na[qn[sa]]){Ja=na[qn[sa]];break}}Ja=Ja===""?"Times":Ja,this.pdf.setFont(Ja,kn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(dt){this.ctx.globalCompositeOperation=dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(dt){this.ctx.globalAlpha=dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(dt){this.ctx.lineDashOffset=dt,Lr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(dt){this.ctx.lineDash=dt,Lr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(dt){this.ctx.ignoreClearRect=!!dt}})};Ze.prototype.setLineDash=function(Ye){this.lineDash=Ye},Ze.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ze.prototype.fill=function(){Bt.call(this,"fill",!1)},Ze.prototype.stroke=function(){Bt.call(this,"stroke",!1)},Ze.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ze.prototype.moveTo=function(Ye,vt){if(isNaN(Ye)||isNaN(vt))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var jt=this.ctx.transform.applyToPoint(new Be(Ye,vt));this.path.push({type:"mt",x:jt.x,y:jt.y}),this.ctx.lastPoint=new Be(Ye,vt)},Ze.prototype.closePath=function(){var Ye=new Be(0,0),vt=0;for(vt=this.path.length-1;vt!==-1;vt--)if(this.path[vt].type==="begin"&&(0,d.default)(this.path[vt+1])==="object"&&typeof this.path[vt+1].x=="number"){Ye=new Be(this.path[vt+1].x,this.path[vt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Be(Ye.x,Ye.y)},Ze.prototype.lineTo=function(Ye,vt){if(isNaN(Ye)||isNaN(vt))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var jt=this.ctx.transform.applyToPoint(new Be(Ye,vt));this.path.push({type:"lt",x:jt.x,y:jt.y}),this.ctx.lastPoint=new Be(jt.x,jt.y)},Ze.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Bt.call(this,null,!0)},Ze.prototype.quadraticCurveTo=function(Ye,vt,jt,Ht){if(isNaN(jt)||isNaN(Ht)||isNaN(Ye)||isNaN(vt))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var zt=this.ctx.transform.applyToPoint(new Be(jt,Ht)),rr=this.ctx.transform.applyToPoint(new Be(Ye,vt));this.path.push({type:"qct",x1:rr.x,y1:rr.y,x:zt.x,y:zt.y}),this.ctx.lastPoint=new Be(zt.x,zt.y)},Ze.prototype.bezierCurveTo=function(Ye,vt,jt,Ht,zt,rr){if(isNaN(zt)||isNaN(rr)||isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pr=this.ctx.transform.applyToPoint(new Be(zt,rr)),gr=this.ctx.transform.applyToPoint(new Be(Ye,vt)),Tr=this.ctx.transform.applyToPoint(new Be(jt,Ht));this.path.push({type:"bct",x1:gr.x,y1:gr.y,x2:Tr.x,y2:Tr.y,x:pr.x,y:pr.y}),this.ctx.lastPoint=new Be(pr.x,pr.y)},Ze.prototype.arc=function(Ye,vt,jt,Ht,zt,rr){if(isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht)||isNaN(zt))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(rr=!!rr,!this.ctx.transform.isIdentity){var pr=this.ctx.transform.applyToPoint(new Be(Ye,vt));Ye=pr.x,vt=pr.y;var gr=this.ctx.transform.applyToPoint(new Be(0,jt)),Tr=this.ctx.transform.applyToPoint(new Be(0,0));jt=Math.sqrt(Math.pow(gr.x-Tr.x,2)+Math.pow(gr.y-Tr.y,2))}Math.abs(zt-Ht)>=2*Math.PI&&(Ht=0,zt=2*Math.PI),this.path.push({type:"arc",x:Ye,y:vt,radius:jt,startAngle:Ht,endAngle:zt,counterclockwise:rr})},Ze.prototype.arcTo=function(Ye,vt,jt,Ht,zt){throw new Error("arcTo not implemented.")},Ze.prototype.rect=function(Ye,vt,jt,Ht){if(isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ye,vt),this.lineTo(Ye+jt,vt),this.lineTo(Ye+jt,vt+Ht),this.lineTo(Ye,vt+Ht),this.lineTo(Ye,vt),this.lineTo(Ye+jt,vt),this.lineTo(Ye,vt)},Ze.prototype.fillRect=function(Ye,vt,jt,Ht){if(isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Pe.call(this)){var zt={};this.lineCap!=="butt"&&(zt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(zt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ye,vt,jt,Ht),this.fill(),zt.hasOwnProperty("lineCap")&&(this.lineCap=zt.lineCap),zt.hasOwnProperty("lineJoin")&&(this.lineJoin=zt.lineJoin)}},Ze.prototype.strokeRect=function(Ye,vt,jt,Ht){if(isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");gt.call(this)||(this.beginPath(),this.rect(Ye,vt,jt,Ht),this.stroke())},Ze.prototype.clearRect=function(Ye,vt,jt,Ht){if(isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ye,vt,jt,Ht))},Ze.prototype.save=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var vt=this.pdf.internal.getCurrentPageInfo().pageNumber,jt=0;jt<this.pdf.internal.getNumberOfPages();jt++)this.pdf.setPage(jt+1),this.pdf.internal.out("q");if(this.pdf.setPage(vt),Ye){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ht=new ze(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ht}},Ze.prototype.restore=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var vt=this.pdf.internal.getCurrentPageInfo().pageNumber,jt=0;jt<this.pdf.internal.getNumberOfPages();jt++)this.pdf.setPage(jt+1),this.pdf.internal.out("Q");this.pdf.setPage(vt),Ye&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ze.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var st=function(Ye){var vt,jt,Ht,zt;if(Ye.isCanvasGradient===!0&&(Ye=Ye.getColor()),!Ye)return{r:0,g:0,b:0,a:0,style:Ye};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ye))vt=0,jt=0,Ht=0,zt=0;else{var rr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ye);if(rr!==null)vt=parseInt(rr[1]),jt=parseInt(rr[2]),Ht=parseInt(rr[3]),zt=1;else if((rr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ye))!==null)vt=parseInt(rr[1]),jt=parseInt(rr[2]),Ht=parseInt(rr[3]),zt=parseFloat(rr[4]);else{if(zt=1,typeof Ye=="string"&&Ye.charAt(0)!=="#"){var pr=new I(Ye);Ye=pr.ok?pr.toHex():"#000000"}Ye.length===4?(vt=Ye.substring(1,2),vt+=vt,jt=Ye.substring(2,3),jt+=jt,Ht=Ye.substring(3,4),Ht+=Ht):(vt=Ye.substring(1,3),jt=Ye.substring(3,5),Ht=Ye.substring(5,7)),vt=parseInt(vt,16),jt=parseInt(jt,16),Ht=parseInt(Ht,16)}}return{r:vt,g:jt,b:Ht,a:zt,style:Ye}},Pe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},gt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ze.prototype.fillText=function(Ye,vt,jt,Ht){if(isNaN(vt)||isNaN(jt)||typeof Ye!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ht=isNaN(Ht)?void 0:Ht,!Pe.call(this)){var zt=Jt(this.ctx.transform.rotation),rr=this.ctx.transform.scaleX;ut.call(this,{text:Ye,x:vt,y:jt,scale:rr,angle:zt,align:this.textAlign,maxWidth:Ht})}},Ze.prototype.strokeText=function(Ye,vt,jt,Ht){if(isNaN(vt)||isNaN(jt)||typeof Ye!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!gt.call(this)){Ht=isNaN(Ht)?void 0:Ht;var zt=Jt(this.ctx.transform.rotation),rr=this.ctx.transform.scaleX;ut.call(this,{text:Ye,x:vt,y:jt,scale:rr,renderingMode:"stroke",angle:zt,align:this.textAlign,maxWidth:Ht})}},Ze.prototype.measureText=function(Ye){if(typeof Ye!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var vt=this.pdf,jt=this.pdf.internal.scaleFactor,Ht=vt.internal.getFontSize(),zt=vt.getStringUnitWidth(Ye)*Ht/vt.internal.scaleFactor;return new function(rr){var pr=(rr=rr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pr}}),this}({width:zt*=Math.round(96*jt/72*1e4)/1e4})},Ze.prototype.scale=function(Ye,vt){if(isNaN(Ye)||isNaN(vt))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var jt=new ye(Ye,0,0,vt,0,0);this.ctx.transform=this.ctx.transform.multiply(jt)},Ze.prototype.rotate=function(Ye){if(isNaN(Ye))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var vt=new ye(Math.cos(Ye),Math.sin(Ye),-Math.sin(Ye),Math.cos(Ye),0,0);this.ctx.transform=this.ctx.transform.multiply(vt)},Ze.prototype.translate=function(Ye,vt){if(isNaN(Ye)||isNaN(vt))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var jt=new ye(1,0,0,1,Ye,vt);this.ctx.transform=this.ctx.transform.multiply(jt)},Ze.prototype.transform=function(Ye,vt,jt,Ht,zt,rr){if(isNaN(Ye)||isNaN(vt)||isNaN(jt)||isNaN(Ht)||isNaN(zt)||isNaN(rr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pr=new ye(Ye,vt,jt,Ht,zt,rr);this.ctx.transform=this.ctx.transform.multiply(pr)},Ze.prototype.setTransform=function(Ye,vt,jt,Ht,zt,rr){Ye=isNaN(Ye)?1:Ye,vt=isNaN(vt)?0:vt,jt=isNaN(jt)?0:jt,Ht=isNaN(Ht)?1:Ht,zt=isNaN(zt)?0:zt,rr=isNaN(rr)?0:rr,this.ctx.transform=new ye(Ye,vt,jt,Ht,zt,rr)};var pt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ze.prototype.drawImage=function(Ye,vt,jt,Ht,zt,rr,pr,gr,Tr){var Xr=this.pdf.getImageProperties(Ye),xn=1,jn=1,aa=1,dt=1;Ht!==void 0&&gr!==void 0&&(aa=gr/Ht,dt=Tr/zt,xn=Xr.width/Ht*gr/Ht,jn=Xr.height/zt*Tr/zt),rr===void 0&&(rr=vt,pr=jt,vt=0,jt=0),Ht!==void 0&&gr===void 0&&(gr=Ht,Tr=zt),Ht===void 0&&gr===void 0&&(gr=Xr.width,Tr=Xr.height);var cn=this.ctx.transform.decompose(),ua=Jt(cn.rotate.shx),on=new ye,Ur=(on=(on=(on=on.multiply(cn.translate)).multiply(cn.skew)).multiply(cn.scale)).applyToRectangle(new me(rr-vt*aa,pr-jt*dt,Ht*xn,zt*jn));if(this.autoPaging){for(var ra,Pn=xt.call(this,Ur),qn=[],On=0;On<Pn.length;On+=1)qn.indexOf(Pn[On])===-1&&qn.push(Pn[On]);Vt(qn);for(var is=qn[0],Fa=qn[qn.length-1],kn=is;kn<Fa+1;kn++){this.pdf.setPage(kn);var Ja=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],na=kn===1?this.posY+this.margin[0]:this.margin[0],Bn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sa=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Sn=kn===1?0:Bn+(kn-2)*sa;if(this.ctx.clip_path.length!==0){var ma=this.path;ra=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ft(ra,this.posX+this.margin[3],-Sn+na+this.ctx.prevPageLastElemOffset),et.call(this,"fill",!0),this.path=ma}var ts=JSON.parse(JSON.stringify(Ur));ts=Ft([ts],this.posX+this.margin[3],-Sn+na+this.ctx.prevPageLastElemOffset)[0];var _a=(kn>is||kn<Fa)&&pt.call(this);_a&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ja,sa,null).clip().discardPath()),this.pdf.addImage(Ye,"JPEG",ts.x,ts.y,ts.w,ts.h,null,null,ua),_a&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ye,"JPEG",Ur.x,Ur.y,Ur.w,Ur.h,null,null,ua)};var xt=function(Ye,vt,jt){var Ht=[];vt=vt||this.pdf.internal.pageSize.width,jt=jt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var zt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ye.type){default:case"mt":case"lt":Ht.push(Math.floor((Ye.y+zt)/jt)+1);break;case"arc":Ht.push(Math.floor((Ye.y+zt-Ye.radius)/jt)+1),Ht.push(Math.floor((Ye.y+zt+Ye.radius)/jt)+1);break;case"qct":var rr=mr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x,Ye.y);Ht.push(Math.floor((rr.y+zt)/jt)+1),Ht.push(Math.floor((rr.y+rr.h+zt)/jt)+1);break;case"bct":var pr=qr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y);Ht.push(Math.floor((pr.y+zt)/jt)+1),Ht.push(Math.floor((pr.y+pr.h+zt)/jt)+1);break;case"rect":Ht.push(Math.floor((Ye.y+zt)/jt)+1),Ht.push(Math.floor((Ye.y+Ye.h+zt)/jt)+1)}for(var gr=0;gr<Ht.length;gr+=1)for(;this.pdf.internal.getNumberOfPages()<Ht[gr];)rt.call(this);return Ht},rt=function(){var Ye=this.fillStyle,vt=this.strokeStyle,jt=this.font,Ht=this.lineCap,zt=this.lineWidth,rr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ye,this.strokeStyle=vt,this.font=jt,this.lineCap=Ht,this.lineWidth=zt,this.lineJoin=rr},Ft=function(Ye,vt,jt){for(var Ht=0;Ht<Ye.length;Ht++)switch(Ye[Ht].type){case"bct":Ye[Ht].x2+=vt,Ye[Ht].y2+=jt;case"qct":Ye[Ht].x1+=vt,Ye[Ht].y1+=jt;default:Ye[Ht].x+=vt,Ye[Ht].y+=jt}return Ye},Vt=function(Ye){return Ye.sort(function(vt,jt){return vt-jt})},Bt=function(Ye,vt){var jt=this.fillStyle,Ht=this.strokeStyle,zt=this.lineCap,rr=this.lineWidth,pr=Math.abs(rr*this.ctx.transform.scaleX),gr=this.lineJoin;if(this.autoPaging){for(var Tr,Xr,xn=JSON.parse(JSON.stringify(this.path)),jn=JSON.parse(JSON.stringify(this.path)),aa=[],dt=0;dt<jn.length;dt++)if(jn[dt].x!==void 0)for(var cn=xt.call(this,jn[dt]),ua=0;ua<cn.length;ua+=1)aa.indexOf(cn[ua])===-1&&aa.push(cn[ua]);for(var on=0;on<aa.length;on++)for(;this.pdf.internal.getNumberOfPages()<aa[on];)rt.call(this);Vt(aa);for(var Ur=aa[0],ra=aa[aa.length-1],Pn=Ur;Pn<ra+1;Pn++){this.pdf.setPage(Pn),this.fillStyle=jt,this.strokeStyle=Ht,this.lineCap=zt,this.lineWidth=pr,this.lineJoin=gr;var qn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],On=Pn===1?this.posY+this.margin[0]:this.margin[0],is=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fa=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kn=Pn===1?0:is+(Pn-2)*Fa;if(this.ctx.clip_path.length!==0){var Ja=this.path;Tr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ft(Tr,this.posX+this.margin[3],-kn+On+this.ctx.prevPageLastElemOffset),et.call(this,Ye,!0),this.path=Ja}if(Xr=JSON.parse(JSON.stringify(xn)),this.path=Ft(Xr,this.posX+this.margin[3],-kn+On+this.ctx.prevPageLastElemOffset),vt===!1||Pn===0){var na=(Pn>Ur||Pn<ra)&&pt.call(this);na&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qn,Fa,null).clip().discardPath()),et.call(this,Ye,vt),na&&this.pdf.restoreGraphicsState()}this.lineWidth=rr}this.path=xn}else this.lineWidth=pr,et.call(this,Ye,vt),this.lineWidth=rr},et=function(Ye,vt){if((Ye!=="stroke"||vt||!gt.call(this))&&(Ye==="stroke"||vt||!Pe.call(this))){for(var jt,Ht,zt=[],rr=this.path,pr=0;pr<rr.length;pr++){var gr=rr[pr];switch(gr.type){case"begin":zt.push({begin:!0});break;case"close":zt.push({close:!0});break;case"mt":zt.push({start:gr,deltas:[],abs:[]});break;case"lt":var Tr=zt.length;if(rr[pr-1]&&!isNaN(rr[pr-1].x)&&(jt=[gr.x-rr[pr-1].x,gr.y-rr[pr-1].y],Tr>0)){for(;Tr>=0;Tr--)if(zt[Tr-1].close!==!0&&zt[Tr-1].begin!==!0){zt[Tr-1].deltas.push(jt),zt[Tr-1].abs.push(gr);break}}break;case"bct":jt=[gr.x1-rr[pr-1].x,gr.y1-rr[pr-1].y,gr.x2-rr[pr-1].x,gr.y2-rr[pr-1].y,gr.x-rr[pr-1].x,gr.y-rr[pr-1].y],zt[zt.length-1].deltas.push(jt);break;case"qct":var Xr=rr[pr-1].x+2/3*(gr.x1-rr[pr-1].x),xn=rr[pr-1].y+2/3*(gr.y1-rr[pr-1].y),jn=gr.x+2/3*(gr.x1-gr.x),aa=gr.y+2/3*(gr.y1-gr.y),dt=gr.x,cn=gr.y;jt=[Xr-rr[pr-1].x,xn-rr[pr-1].y,jn-rr[pr-1].x,aa-rr[pr-1].y,dt-rr[pr-1].x,cn-rr[pr-1].y],zt[zt.length-1].deltas.push(jt);break;case"arc":zt.push({deltas:[],abs:[],arc:!0}),Array.isArray(zt[zt.length-1].abs)&&zt[zt.length-1].abs.push(gr)}}Ht=vt?null:Ye==="stroke"?"stroke":"fill";for(var ua=!1,on=0;on<zt.length;on++)if(zt[on].arc)for(var Ur=zt[on].abs,ra=0;ra<Ur.length;ra++){var Pn=Ur[ra];Pn.type==="arc"?Gt.call(this,Pn.x,Pn.y,Pn.radius,Pn.startAngle,Pn.endAngle,Pn.counterclockwise,void 0,vt,!ua):St.call(this,Pn.x,Pn.y),ua=!0}else if(zt[on].close===!0)this.pdf.internal.out("h"),ua=!1;else if(zt[on].begin!==!0){var qn=zt[on].start.x,On=zt[on].start.y;Et.call(this,zt[on].deltas,qn,On),ua=!0}Ht&&It.call(this,Ht),vt&&ir.call(this)}},Qt=function(Ye){var vt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,jt=vt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ye-jt;case"top":return Ye+vt-jt;case"hanging":return Ye+vt-2*jt;case"middle":return Ye+vt/2-jt;default:return Ye}},or=function(Ye){return Ye+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ze.prototype.createLinearGradient=function(){var Ye=function(){};return Ye.colorStops=[],Ye.addColorStop=function(vt,jt){this.colorStops.push([vt,jt])},Ye.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ye.isCanvasGradient=!0,Ye},Ze.prototype.createPattern=function(){return this.createLinearGradient()},Ze.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Gt=function(Ye,vt,jt,Ht,zt,rr,pr,gr,Tr){for(var Xr=Ar.call(this,jt,Ht,zt,rr),xn=0;xn<Xr.length;xn++){var jn=Xr[xn];xn===0&&(Tr?nt.call(this,jn.x1+Ye,jn.y1+vt):St.call(this,jn.x1+Ye,jn.y1+vt)),lr.call(this,Ye,vt,jn.x2,jn.y2,jn.x3,jn.y3,jn.x4,jn.y4)}gr?ir.call(this):It.call(this,pr)},It=function(Ye){switch(Ye){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ir=function(){this.pdf.clip(),this.pdf.discardPath()},nt=function(Ye,vt){this.pdf.internal.out(P(Ye)+" "+z(vt)+" m")},ut=function(Ye){var vt;switch(Ye.align){case"right":case"end":vt="right";break;case"center":vt="center";break;default:vt="left"}var jt,Ht,zt,rr=this.pdf.getTextDimensions(Ye.text),pr=Qt.call(this,Ye.y),gr=or.call(this,pr)-rr.h,Tr=this.ctx.transform.applyToPoint(new Be(Ye.x,pr));if(this.autoPaging){var Xr=this.ctx.transform.decompose(),xn=new ye;xn=(xn=(xn=xn.multiply(Xr.translate)).multiply(Xr.skew)).multiply(Xr.scale);for(var jn=this.ctx.transform.applyToRectangle(new me(Ye.x,pr,rr.w,rr.h)),aa=xn.applyToRectangle(new me(Ye.x,gr,rr.w,rr.h)),dt=xt.call(this,aa),cn=[],ua=0;ua<dt.length;ua+=1)cn.indexOf(dt[ua])===-1&&cn.push(dt[ua]);Vt(cn);for(var on=cn[0],Ur=cn[cn.length-1],ra=on;ra<Ur+1;ra++){this.pdf.setPage(ra);var Pn=ra===1?this.posY+this.margin[0]:this.margin[0],qn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],On=this.pdf.internal.pageSize.height-this.margin[2],is=On-this.margin[0],Fa=this.pdf.internal.pageSize.width-this.margin[1],kn=Fa-this.margin[3],Ja=ra===1?0:qn+(ra-2)*is;if(this.ctx.clip_path.length!==0){var na=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ft(jt,this.posX+this.margin[3],-1*Ja+Pn),et.call(this,"fill",!0),this.path=na}var Bn=Ft([JSON.parse(JSON.stringify(aa))],this.posX+this.margin[3],-Ja+Pn+this.ctx.prevPageLastElemOffset)[0];Ye.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*Ye.scale),zt=this.lineWidth,this.lineWidth=zt*Ye.scale);var sa=this.autoPaging!=="text";if(sa||Bn.y+Bn.h<=On){if(sa||Bn.y>=Pn&&Bn.x<=Fa){var Sn=sa?Ye.text:this.pdf.splitTextToSize(Ye.text,Ye.maxWidth||Fa-Bn.x)[0],ma=Ft([JSON.parse(JSON.stringify(jn))],this.posX+this.margin[3],-Ja+Pn+this.ctx.prevPageLastElemOffset)[0],ts=sa&&(ra>on||ra<Ur)&&pt.call(this);ts&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kn,is,null).clip().discardPath()),this.pdf.text(Sn,ma.x,ma.y,{angle:Ye.angle,align:vt,renderingMode:Ye.renderingMode}),ts&&this.pdf.restoreGraphicsState()}}else Bn.y<On&&(this.ctx.prevPageLastElemOffset+=On-Bn.y);Ye.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=zt)}}else Ye.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*Ye.scale),zt=this.lineWidth,this.lineWidth=zt*Ye.scale),this.pdf.text(Ye.text,Tr.x+this.posX,Tr.y+this.posY,{angle:Ye.angle,align:vt,renderingMode:Ye.renderingMode,maxWidth:Ye.maxWidth}),Ye.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=zt)},St=function(Ye,vt,jt,Ht){jt=jt||0,Ht=Ht||0,this.pdf.internal.out(P(Ye+jt)+" "+z(vt+Ht)+" l")},Et=function(Ye,vt,jt){return this.pdf.lines(Ye,vt,jt,null,null)},lr=function(Ye,vt,jt,Ht,zt,rr,pr,gr){this.pdf.internal.out([w(Y(jt+Ye)),w(te(Ht+vt)),w(Y(zt+Ye)),w(te(rr+vt)),w(Y(pr+Ye)),w(te(gr+vt)),"c"].join(" "))},Ar=function(Ye,vt,jt,Ht){for(var zt=2*Math.PI,rr=Math.PI/2;vt>jt;)vt-=zt;var pr=Math.abs(jt-vt);pr<zt&&Ht&&(pr=zt-pr);for(var gr=[],Tr=Ht?-1:1,Xr=vt;pr>1e-5;){var xn=Xr+Tr*Math.min(pr,rr);gr.push(vr.call(this,Ye,Xr,xn)),pr-=Math.abs(xn-Xr),Xr=xn}return gr},vr=function(Ye,vt,jt){var Ht=(jt-vt)/2,zt=Ye*Math.cos(Ht),rr=Ye*Math.sin(Ht),pr=zt,gr=-rr,Tr=pr*pr+gr*gr,Xr=Tr+pr*zt+gr*rr,xn=4/3*(Math.sqrt(2*Tr*Xr)-Xr)/(pr*rr-gr*zt),jn=pr-xn*gr,aa=gr+xn*pr,dt=jn,cn=-aa,ua=Ht+vt,on=Math.cos(ua),Ur=Math.sin(ua);return{x1:Ye*Math.cos(vt),y1:Ye*Math.sin(vt),x2:jn*on-aa*Ur,y2:jn*Ur+aa*on,x3:dt*on-cn*Ur,y3:dt*Ur+cn*on,x4:Ye*Math.cos(jt),y4:Ye*Math.sin(jt)}},Jt=function(Ye){return 180*Ye/Math.PI},mr=function(Ye,vt,jt,Ht,zt,rr){var pr=Ye+.5*(jt-Ye),gr=vt+.5*(Ht-vt),Tr=zt+.5*(jt-zt),Xr=rr+.5*(Ht-rr),xn=Math.min(Ye,zt,pr,Tr),jn=Math.max(Ye,zt,pr,Tr),aa=Math.min(vt,rr,gr,Xr),dt=Math.max(vt,rr,gr,Xr);return new me(xn,aa,jn-xn,dt-aa)},qr=function(Ye,vt,jt,Ht,zt,rr,pr,gr){var Tr,Xr,xn,jn,aa,dt,cn,ua,on,Ur,ra,Pn,qn,On,is=jt-Ye,Fa=Ht-vt,kn=zt-jt,Ja=rr-Ht,na=pr-zt,Bn=gr-rr;for(Xr=0;Xr<41;Xr++)on=(cn=(xn=Ye+(Tr=Xr/40)*is)+Tr*((aa=jt+Tr*kn)-xn))+Tr*(aa+Tr*(zt+Tr*na-aa)-cn),Ur=(ua=(jn=vt+Tr*Fa)+Tr*((dt=Ht+Tr*Ja)-jn))+Tr*(dt+Tr*(rr+Tr*Bn-dt)-ua),Xr==0?(ra=on,Pn=Ur,qn=on,On=Ur):(ra=Math.min(ra,on),Pn=Math.min(Pn,Ur),qn=Math.max(qn,on),On=Math.max(On,Ur));return new me(Math.round(ra),Math.round(Pn),Math.round(qn-ra),Math.round(On-Pn))},Lr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ye,vt,jt=(Ye=this.ctx.lineDash,vt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ye,lineDashOffset:vt}));this.prevLineDash!==jt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=jt)}}})(fe.API),(function(S){var w=function(Be){var me,ye,De,ze,Ze,st,Pe,gt,pt,xt;for(ye=[],De=0,ze=(Be+=me="\0\0\0\0".slice(Be.length%4||4)).length;ze>De;De+=4)(Ze=(Be.charCodeAt(De)<<24)+(Be.charCodeAt(De+1)<<16)+(Be.charCodeAt(De+2)<<8)+Be.charCodeAt(De+3))!==0?(st=(Ze=((Ze=((Ze=((Ze=(Ze-(xt=Ze%85))/85)-(pt=Ze%85))/85)-(gt=Ze%85))/85)-(Pe=Ze%85))/85)%85,ye.push(st+33,Pe+33,gt+33,pt+33,xt+33)):ye.push(122);return(function(rt,Ft){for(var Vt=Ft;Vt>0;Vt--)rt.pop()})(ye,me.length),String.fromCharCode.apply(String,ye)+"~>"},P=function(Be){var me,ye,De,ze,Ze,st=String,Pe="length",gt=255,pt="charCodeAt",xt="slice",rt="replace";for(Be[xt](-2),Be=Be[xt](0,-2)[rt](/\s/g,"")[rt]("z","!!!!!"),De=[],ze=0,Ze=(Be+=me="uuuuu"[xt](Be[Pe]%5||5))[Pe];Ze>ze;ze+=5)ye=52200625*(Be[pt](ze)-33)+614125*(Be[pt](ze+1)-33)+7225*(Be[pt](ze+2)-33)+85*(Be[pt](ze+3)-33)+(Be[pt](ze+4)-33),De.push(gt&ye>>24,gt&ye>>16,gt&ye>>8,gt&ye);return(function(Ft,Vt){for(var Bt=Vt;Bt>0;Bt--)Ft.pop()})(De,me[Pe]),st.fromCharCode.apply(st,De)},z=function(Be){return Be.split("").map(function(me){return("0"+me.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Y=function(Be){var me=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Be=Be.replace(/\s/g,"")).indexOf(">")!==-1&&(Be=Be.substr(0,Be.indexOf(">"))),Be.length%2&&(Be+="0"),me.test(Be)===!1)return"";for(var ye="",De=0;De<Be.length;De+=2)ye+=String.fromCharCode("0x"+(Be[De]+Be[De+1]));return ye},te=function(Be){for(var me=new Uint8Array(Be.length),ye=Be.length;ye--;)me[ye]=Be.charCodeAt(ye);return(me=(0,u.zlibSync)(me)).reduce(function(De,ze){return De+String.fromCharCode(ze)},"")};S.processDataByFilters=function(Be,me){var ye=0,De=Be||"",ze=[];for(typeof(me=me||[])=="string"&&(me=[me]),ye=0;ye<me.length;ye+=1)switch(me[ye]){case"ASCII85Decode":case"/ASCII85Decode":De=P(De),ze.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":De=w(De),ze.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":De=Y(De),ze.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":De=z(De),ze.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":De=te(De),ze.push("/FlateDecode");break;default:throw new Error('The filter: "'+me[ye]+'" is not implemented')}return{data:De,reverseChain:ze.reverse().join(" ")}}})(fe.API),(function(S){S.loadFile=function(w,P,z){return(function(Y,te,Be){te=te!==!1,Be=typeof Be=="function"?Be:function(){};var me=void 0;try{me=(function(ye,De,ze){var Ze=new XMLHttpRequest,st=0,Pe=function(gt){var pt=gt.length,xt=[],rt=String.fromCharCode;for(st=0;st<pt;st+=1)xt.push(rt(255&gt.charCodeAt(st)));return xt.join("")};if(Ze.open("GET",ye,!De),Ze.overrideMimeType("text/plain; charset=x-user-defined"),De===!1&&(Ze.onload=function(){Ze.status===200?ze(Pe(this.responseText)):ze(void 0)}),Ze.send(null),De&&Ze.status===200)return Pe(Ze.responseText)})(Y,te,Be)}catch{}return me})(w,P,z)},S.allowFsRead=void 0,S.loadImageFile=S.loadFile})(fe.API),(function(S){function w(){return(v.html2canvas?Promise.resolve(v.html2canvas):Promise.resolve().then(i.t.bind(i,"html2canvas",23))).catch(function(me){return Promise.reject(new Error("Could not load html2canvas: "+me))}).then(function(me){return me.default?me.default:me})}function P(){return(v.DOMPurify?Promise.resolve(v.DOMPurify):Promise.resolve().then(i.bind(i,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(me){return Promise.reject(new Error("Could not load dompurify: "+me))}).then(function(me){return me.default?me.default:me})}var z=function(me){var ye=(0,d.default)(me);return ye==="undefined"?"undefined":ye==="string"||me instanceof String?"string":ye==="number"||me instanceof Number?"number":ye==="function"||me instanceof Function?"function":me&&me.constructor===Array?"array":me&&me.nodeType===1?"element":ye==="object"?"object":"unknown"},Y=function(me,ye){var De=document.createElement(me);for(var ze in ye.className&&(De.className=ye.className),ye.innerHTML&&ye.dompurify&&(De.innerHTML=ye.dompurify.sanitize(ye.innerHTML)),ye.style)De.style[ze]=ye.style[ze];return De},te=function me(ye,De){for(var ze=ye.nodeType===3?document.createTextNode(ye.nodeValue):ye.cloneNode(!1),Ze=ye.firstChild;Ze;Ze=Ze.nextSibling)De!==!0&&Ze.nodeType===1&&Ze.nodeName==="SCRIPT"||ze.appendChild(me(Ze,De));return ye.nodeType===1&&(ye.nodeName==="CANVAS"?(ze.width=ye.width,ze.height=ye.height,ze.getContext("2d").drawImage(ye,0,0)):ye.nodeName!=="TEXTAREA"&&ye.nodeName!=="SELECT"||(ze.value=ye.value),ze.addEventListener("load",function(){ze.scrollTop=ye.scrollTop,ze.scrollLeft=ye.scrollLeft},!0)),ze},Be=function me(ye){var De=Object.assign(me.convert(Promise.resolve()),JSON.parse(JSON.stringify(me.template))),ze=me.convert(Promise.resolve(),De);return(ze=ze.setProgress(1,me,1,[me])).set(ye)};(Be.prototype=Object.create(Promise.prototype)).constructor=Be,Be.convert=function(me,ye){return me.__proto__=ye||Be.prototype,me},Be.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Be.prototype.from=function(me,ye){return this.then(function(){switch(ye=ye||(function(De){switch(z(De)){case"string":return"string";case"element":return De.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(me),ye){case"string":return this.then(P).then(function(De){return this.set({src:Y("div",{innerHTML:me,dompurify:De})})});case"element":return this.set({src:me});case"canvas":return this.set({canvas:me});case"img":return this.set({img:me});default:return this.error("Unknown source type.")}})},Be.prototype.to=function(me){switch(me){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Be.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var me={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ye=te(this.prop.src,this.opt.html2canvas.javascriptEnabled);ye.tagName==="BODY"&&(me.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Y("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Y("div",{className:"html2pdf__container",style:me}),this.prop.container.appendChild(ye),this.prop.container.firstChild.appendChild(Y("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Be.prototype.toCanvas=function(){var me=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(me).then(w).then(function(ye){var De=Object.assign({},this.opt.html2canvas);return delete De.onrendered,ye(this.prop.container,De)}).then(function(ye){(this.opt.html2canvas.onrendered||function(){})(ye),this.prop.canvas=ye,document.body.removeChild(this.prop.overlay)})},Be.prototype.toContext2d=function(){var me=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(me).then(w).then(function(ye){var De=this.opt.jsPDF,ze=this.opt.fontFaces,Ze=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,st=Object.assign({async:!0,allowTaint:!0,scale:Ze,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete st.onrendered,De.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,De.context2d.posX=this.opt.x,De.context2d.posY=this.opt.y,De.context2d.margin=this.opt.margin,De.context2d.fontFaces=ze,ze)for(var Pe=0;Pe<ze.length;++Pe){var gt=ze[Pe],pt=gt.src.find(function(xt){return xt.format==="truetype"});pt&&De.addFont(pt.url,gt.ref.name,gt.ref.style)}return st.windowHeight=st.windowHeight||0,st.windowHeight=st.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):st.windowHeight,De.context2d.save(!0),ye(this.prop.container,st)}).then(function(ye){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ye),this.prop.canvas=ye,document.body.removeChild(this.prop.overlay)})},Be.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var me=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=me})},Be.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Be.prototype.output=function(me,ye,De){return(De=De||"pdf").toLowerCase()==="img"||De.toLowerCase()==="image"?this.outputImg(me,ye):this.outputPdf(me,ye)},Be.prototype.outputPdf=function(me,ye){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(me,ye)})},Be.prototype.outputImg=function(me){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(me){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+me+'" is not supported.'}})},Be.prototype.save=function(me){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(me?{filename:me}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Be.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Be.prototype.set=function(me){if(z(me)!=="object")return this;var ye=Object.keys(me||{}).map(function(De){if(De in Be.template.prop)return function(){this.prop[De]=me[De]};switch(De){case"margin":return this.setMargin.bind(this,me.margin);case"jsPDF":return function(){return this.opt.jsPDF=me.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,me.pageSize);default:return function(){this.opt[De]=me[De]}}},this);return this.then(function(){return this.thenList(ye)})},Be.prototype.get=function(me,ye){return this.then(function(){var De=me in Be.template.prop?this.prop[me]:this.opt[me];return ye?ye(De):De})},Be.prototype.setMargin=function(me){return this.then(function(){switch(z(me)){case"number":me=[me,me,me,me];case"array":if(me.length===2&&(me=[me[0],me[1],me[0],me[1]]),me.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=me}).then(this.setPageSize)},Be.prototype.setPageSize=function(me){function ye(De,ze){return Math.floor(De*ze/72*96)}return this.then(function(){(me=me||fe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(me.inner={width:me.width-this.opt.margin[1]-this.opt.margin[3],height:me.height-this.opt.margin[0]-this.opt.margin[2]},me.inner.px={width:ye(me.inner.width,me.k),height:ye(me.inner.height,me.k)},me.inner.ratio=me.inner.height/me.inner.width),this.prop.pageSize=me})},Be.prototype.setProgress=function(me,ye,De,ze){return me!=null&&(this.progress.val=me),ye!=null&&(this.progress.state=ye),De!=null&&(this.progress.n=De),ze!=null&&(this.progress.stack=ze),this.progress.ratio=this.progress.val/this.progress.state,this},Be.prototype.updateProgress=function(me,ye,De,ze){return this.setProgress(me?this.progress.val+me:null,ye||null,De?this.progress.n+De:null,ze?this.progress.stack.concat(ze):null)},Be.prototype.then=function(me,ye){var De=this;return this.thenCore(me,ye,function(ze,Ze){return De.updateProgress(null,null,1,[ze]),Promise.prototype.then.call(this,function(st){return De.updateProgress(null,ze),st}).then(ze,Ze).then(function(st){return De.updateProgress(1),st})})},Be.prototype.thenCore=function(me,ye,De){De=De||Promise.prototype.then;var ze=this;me&&(me=me.bind(ze)),ye&&(ye=ye.bind(ze));var Ze=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?ze:Be.convert(Object.assign({},ze),Promise.prototype),st=De.call(Ze,me,ye);return Be.convert(st,ze.__proto__)},Be.prototype.thenExternal=function(me,ye){return Promise.prototype.then.call(this,me,ye)},Be.prototype.thenList=function(me){var ye=this;return me.forEach(function(De){ye=ye.thenCore(De)}),ye},Be.prototype.catch=function(me){me&&(me=me.bind(this));var ye=Promise.prototype.catch.call(this,me);return Be.convert(ye,this)},Be.prototype.catchExternal=function(me){return Promise.prototype.catch.call(this,me)},Be.prototype.error=function(me){return this.then(function(){throw new Error(me)})},Be.prototype.using=Be.prototype.set,Be.prototype.saveAs=Be.prototype.save,Be.prototype.export=Be.prototype.output,Be.prototype.run=Be.prototype.then,fe.getPageSize=function(me,ye,De){if((0,d.default)(me)==="object"){var ze=me;me=ze.orientation,ye=ze.unit||ye,De=ze.format||De}ye=ye||"mm",De=De||"a4",me=(""+(me||"P")).toLowerCase();var Ze,st=(""+De).toLowerCase(),Pe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ye){case"pt":Ze=1;break;case"mm":Ze=2.834645669291339;break;case"cm":Ze=28.346456692913385;break;case"in":Ze=72;break;case"px":Ze=.75;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:throw"Invalid unit: "+ye}var gt,pt=0,xt=0;if(Pe.hasOwnProperty(st))pt=Pe[st][1]/Ze,xt=Pe[st][0]/Ze;else try{pt=De[1],xt=De[0]}catch{throw new Error("Invalid format: "+De)}if(me==="p"||me==="portrait")me="p",xt>pt&&(gt=xt,xt=pt,pt=gt);else{if(me!=="l"&&me!=="landscape")throw"Invalid orientation: "+me;me="l",pt>xt&&(gt=xt,xt=pt,pt=gt)}return{width:xt,height:pt,unit:ye,k:Ze,orientation:me}},S.html=function(me,ye){(ye=ye||{}).callback=ye.callback||function(){},ye.html2canvas=ye.html2canvas||{},ye.html2canvas.canvas=ye.html2canvas.canvas||this.canvas,ye.jsPDF=ye.jsPDF||this,ye.fontFaces=ye.fontFaces?ye.fontFaces.map(Ai):null;var De=new Be(ye);return ye.worker?De:De.from(me).doCallback()}})(fe.API),fe.API.addJS=function(S){return Gi=S,this.internal.events.subscribe("postPutResources",function(){el=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(el+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Fs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Gi+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){el!==void 0&&Fs!==void 0&&this.internal.out("/Names <</JavaScript "+el+" 0 R>>")}),this},(function(S){var w;S.events.push(["postPutResources",function(){var P=this,z=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Y=P.outline.render().split(/\r\n/),te=0;te<Y.length;te++){var Be=Y[te],me=z.exec(Be);if(me!=null){var ye=me[1];P.internal.newObjectDeferredBegin(ye,!1)}P.internal.write(Be)}if(this.outline.createNamedDestinations){var De=this.internal.pages.length,ze=[];for(te=0;te<De;te++){var Ze=P.internal.newObject();ze.push(Ze);var st=P.internal.getPageInfo(te+1);P.internal.write("<< /D["+st.objId+" 0 R /XYZ null null null]>> endobj")}var Pe=P.internal.newObject();for(P.internal.write("<< /Names [ "),te=0;te<ze.length;te++)P.internal.write("(page_"+(te+1)+")"+ze[te]+" 0 R");P.internal.write(" ] >>","endobj"),w=P.internal.newObject(),P.internal.write("<< /Dests "+Pe+" 0 R"),P.internal.write(">>","endobj")}}]),S.events.push(["putCatalog",function(){var P=this;P.outline.root.children.length>0&&(P.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&P.internal.write("/Names "+w+" 0 R"))}]),S.events.push(["initialized",function(){var P=this;P.outline={createNamedDestinations:!1,root:{children:[]}},P.outline.add=function(z,Y,te){var Be={title:Y,options:te,children:[]};return z==null&&(z=this.root),z.children.push(Be),Be},P.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=P,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},P.outline.genIds_r=function(z){z.id=P.internal.newObjectDeferred();for(var Y=0;Y<z.children.length;Y++)this.genIds_r(z.children[Y])},P.outline.renderRoot=function(z){this.objStart(z),this.line("/Type /Outlines"),z.children.length>0&&(this.line("/First "+this.makeRef(z.children[0])),this.line("/Last "+this.makeRef(z.children[z.children.length-1]))),this.line("/Count "+this.count_r({count:0},z)),this.objEnd()},P.outline.renderItems=function(z){for(var Y=this.ctx.pdf.internal.getVerticalCoordinateString,te=0;te<z.children.length;te++){var Be=z.children[te];this.objStart(Be),this.line("/Title "+this.makeString(Be.title)),this.line("/Parent "+this.makeRef(z)),te>0&&this.line("/Prev "+this.makeRef(z.children[te-1])),te<z.children.length-1&&this.line("/Next "+this.makeRef(z.children[te+1])),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1])));var me=this.count=this.count_r({count:0},Be);if(me>0&&this.line("/Count "+me),Be.options&&Be.options.pageNumber){var ye=P.internal.getPageInfo(Be.options.pageNumber);this.line("/Dest ["+ye.objId+" 0 R /XYZ 0 "+Y(0)+" 0]")}this.objEnd()}for(var De=0;De<z.children.length;De++)this.renderItems(z.children[De])},P.outline.line=function(z){this.ctx.val+=z+`\r
`},P.outline.makeRef=function(z){return z.id+" 0 R"},P.outline.makeString=function(z){return"("+P.internal.pdfEscape(z)+")"},P.outline.objStart=function(z){this.ctx.val+=`\r
`+z.id+` 0 obj\r
<<\r
`},P.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},P.outline.count_r=function(z,Y){for(var te=0;te<Y.children.length;te++)z.count++,this.count_r(z,Y.children[te]);return z.count}}])})(fe.API),(function(S){var w=[192,193,194,195,196,197,198,199];S.processJPEG=function(P,z,Y,te,Be,me){var ye,De=this.decode.DCT_DECODE,ze=null;if(typeof P=="string"||this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P)){switch(P=Be||P,P=this.__addimage__.isArrayBuffer(P)?new Uint8Array(P):P,ye=(function(Ze){for(var st,Pe=256*Ze.charCodeAt(4)+Ze.charCodeAt(5),gt=Ze.length,pt={width:0,height:0,numcomponents:1},xt=4;xt<gt;xt+=2){if(xt+=Pe,w.indexOf(Ze.charCodeAt(xt+1))!==-1){st=256*Ze.charCodeAt(xt+5)+Ze.charCodeAt(xt+6),pt={width:256*Ze.charCodeAt(xt+7)+Ze.charCodeAt(xt+8),height:st,numcomponents:Ze.charCodeAt(xt+9)};break}Pe=256*Ze.charCodeAt(xt+2)+Ze.charCodeAt(xt+3)}return pt})(P=this.__addimage__.isArrayBufferView(P)?this.__addimage__.arrayBufferToBinaryString(P):P),ye.numcomponents){case 1:me=this.color_spaces.DEVICE_GRAY;break;case 4:me=this.color_spaces.DEVICE_CMYK;break;case 3:me=this.color_spaces.DEVICE_RGB}ze={data:P,width:ye.width,height:ye.height,colorSpace:me,bitsPerComponent:8,filter:De,index:z,alias:Y}}return ze}})(fe.API),fe.API.processPNG=function(S,w,P,z){if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){var Y,te=(0,m.decode)(S,{checkCrc:!0}),Be=te.width,me=te.height,ye=te.channels,De=te.palette,ze=te.depth;Y=De&&ye===1?(function(Gt){for(var It=Gt.width,ir=Gt.height,nt=Gt.data,ut=Gt.palette,St=Gt.depth,Et=!1,lr=[],Ar=[],vr=void 0,Jt=!1,mr=0,qr=0;qr<ut.length;qr++){var Lr=(0,f.default)(ut[qr],4),Ye=Lr[0],vt=Lr[1],jt=Lr[2],Ht=Lr[3];lr.push(Ye,vt,jt),Ht!=null&&(Ht===0?(mr++,Ar.length<1&&Ar.push(qr)):Ht<255&&(Jt=!0))}if(Jt||mr>1){Et=!0,Ar=void 0;var zt=It*ir;vr=new Uint8Array(zt);for(var rr=new DataView(nt.buffer),pr=0;pr<zt;pr++){var gr=Xs(rr,pr,St),Tr=(0,f.default)(ut[gr],4)[3];vr[pr]=Tr}}else mr===0&&(Ar=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Et?8:void 0,colorBytes:nt,alphaBytes:vr,needSMask:Et,palette:lr,mask:Ar}})(te):ye===2||ye===4?(function(Gt){for(var It=Gt.data,ir=Gt.width,nt=Gt.height,ut=Gt.channels,St=Gt.depth,Et=ut===2?"DeviceGray":"DeviceRGB",lr=ut-1,Ar=ir*nt,vr=lr,Jt=Ar*vr,mr=1*Ar,qr=Math.ceil(Jt*St/8),Lr=Math.ceil(mr*St/8),Ye=new Uint8Array(qr),vt=new Uint8Array(Lr),jt=new DataView(It.buffer),Ht=new DataView(Ye.buffer),zt=new DataView(vt.buffer),rr=!1,pr=0;pr<Ar;pr++){for(var gr=pr*ut,Tr=0;Tr<vr;Tr++)zn(Ht,Xs(jt,gr+Tr,St),pr*vr+Tr,St);var Xr=Xs(jt,gr+vr,St);Xr<(1<<St)-1&&(rr=!0),zn(zt,Xr,1*pr,St)}return{colorSpace:Et,colorsPerPixel:lr,sMaskBitsPerComponent:rr?St:void 0,colorBytes:Ye,alphaBytes:vt,needSMask:rr}})(te):(function(Gt){var It=Gt.data,ir=Gt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ir,colorsPerPixel:ir==="DeviceGray"?1:3,colorBytes:It instanceof Uint16Array?(function(nt){for(var ut=nt.length,St=new Uint8Array(2*ut),Et=new DataView(St.buffer,St.byteOffset,St.byteLength),lr=0;lr<ut;lr++)Et.setUint16(2*lr,nt[lr],!1);return St})(It):It,needSMask:!1}})(te);var Ze,st,Pe,gt=Y,pt=gt.colorSpace,xt=gt.colorsPerPixel,rt=gt.sMaskBitsPerComponent,Ft=gt.colorBytes,Vt=gt.alphaBytes,Bt=gt.needSMask,et=gt.palette,Qt=gt.mask,or=null;return z!==fe.API.image_compression.NONE&&typeof u.zlibSync=="function"?(or=(function(Gt){var It;switch(Gt){case fe.API.image_compression.FAST:It=11;break;case fe.API.image_compression.MEDIUM:It=13;break;case fe.API.image_compression.SLOW:It=14;break;default:It=12}return It})(z),Ze=this.decode.FLATE_DECODE,st="/Predictor ".concat(or," /Colors ").concat(xt," /BitsPerComponent ").concat(ze," /Columns ").concat(Be),S=ko(Ft,Math.ceil(Be*xt*ze/8),xt,ze,z),Bt&&(Pe=ko(Vt,Math.ceil(Be*rt/8),1,rt,z))):(Ze=void 0,st=void 0,S=Ft,Bt&&(Pe=Vt)),(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(Pe&&this.__addimage__.isArrayBuffer(Pe)||this.__addimage__.isArrayBufferView(Pe))&&(Pe=this.__addimage__.arrayBufferToBinaryString(Pe)),{alias:P,data:S,index:w,filter:Ze,decodeParameters:st,transparency:Qt,palette:et,sMask:Pe,predictor:or,width:Be,height:me,bitsPerComponent:ze,sMaskBitsPerComponent:rt,colorSpace:pt}}},(function(S){S.processGIF89A=function(w,P,z,Y){var te=new ni(w),Be=te.width,me=te.height,ye=[];te.decodeAndBlitFrameRGBA(0,ye);var De={data:ye,width:Be,height:me},ze=new lo(100).encode(De,100);return S.processJPEG.call(this,ze,P,z,Y)},S.processGIF87A=S.processGIF89A})(fe.API),Ss.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var S=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(S);for(var w=0;w<S;w++){var P=this.datav.getUint8(this.pos++,!0),z=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),te=this.datav.getUint8(this.pos++,!0);this.palette[w]={red:Y,green:z,blue:P,quad:te}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ss.prototype.parseBGR=function(){this.pos=this.offset;try{var S="bit"+this.bitPP,w=this.width*this.height*4;this.data=new Uint8Array(w),this[S]()}catch(P){x.log("bit decode error:"+P)}},Ss.prototype.bit1=function(){var S,w=Math.ceil(this.width/8),P=w%4;for(S=this.height-1;S>=0;S--){for(var z=this.bottom_up?S:this.height-1-S,Y=0;Y<w;Y++)for(var te=this.datav.getUint8(this.pos++,!0),Be=z*this.width*4+8*Y*4,me=0;me<8&&8*Y+me<this.width;me++){var ye=this.palette[te>>7-me&1];this.data[Be+4*me]=ye.blue,this.data[Be+4*me+1]=ye.green,this.data[Be+4*me+2]=ye.red,this.data[Be+4*me+3]=255}P!==0&&(this.pos+=4-P)}},Ss.prototype.bit4=function(){for(var S=Math.ceil(this.width/2),w=S%4,P=this.height-1;P>=0;P--){for(var z=this.bottom_up?P:this.height-1-P,Y=0;Y<S;Y++){var te=this.datav.getUint8(this.pos++,!0),Be=z*this.width*4+2*Y*4,me=te>>4,ye=15&te,De=this.palette[me];if(this.data[Be]=De.blue,this.data[Be+1]=De.green,this.data[Be+2]=De.red,this.data[Be+3]=255,2*Y+1>=this.width)break;De=this.palette[ye],this.data[Be+4]=De.blue,this.data[Be+4+1]=De.green,this.data[Be+4+2]=De.red,this.data[Be+4+3]=255}w!==0&&(this.pos+=4-w)}},Ss.prototype.bit8=function(){for(var S=this.width%4,w=this.height-1;w>=0;w--){for(var P=this.bottom_up?w:this.height-1-w,z=0;z<this.width;z++){var Y=this.datav.getUint8(this.pos++,!0),te=P*this.width*4+4*z;if(Y<this.palette.length){var Be=this.palette[Y];this.data[te]=Be.red,this.data[te+1]=Be.green,this.data[te+2]=Be.blue,this.data[te+3]=255}else this.data[te]=255,this.data[te+1]=255,this.data[te+2]=255,this.data[te+3]=255}S!==0&&(this.pos+=4-S)}},Ss.prototype.bit15=function(){for(var S=this.width%3,w=parseInt("11111",2),P=this.height-1;P>=0;P--){for(var z=this.bottom_up?P:this.height-1-P,Y=0;Y<this.width;Y++){var te=this.datav.getUint16(this.pos,!0);this.pos+=2;var Be=(te&w)/w*255|0,me=(te>>5&w)/w*255|0,ye=(te>>10&w)/w*255|0,De=te>>15?255:0,ze=z*this.width*4+4*Y;this.data[ze]=ye,this.data[ze+1]=me,this.data[ze+2]=Be,this.data[ze+3]=De}this.pos+=S}},Ss.prototype.bit16=function(){for(var S=this.width%3,w=parseInt("11111",2),P=parseInt("111111",2),z=this.height-1;z>=0;z--){for(var Y=this.bottom_up?z:this.height-1-z,te=0;te<this.width;te++){var Be=this.datav.getUint16(this.pos,!0);this.pos+=2;var me=(Be&w)/w*255|0,ye=(Be>>5&P)/P*255|0,De=(Be>>11)/w*255|0,ze=Y*this.width*4+4*te;this.data[ze]=De,this.data[ze+1]=ye,this.data[ze+2]=me,this.data[ze+3]=255}this.pos+=S}},Ss.prototype.bit24=function(){for(var S=this.height-1;S>=0;S--){for(var w=this.bottom_up?S:this.height-1-S,P=0;P<this.width;P++){var z=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),te=this.datav.getUint8(this.pos++,!0),Be=w*this.width*4+4*P;this.data[Be]=te,this.data[Be+1]=Y,this.data[Be+2]=z,this.data[Be+3]=255}this.pos+=this.width%4}},Ss.prototype.bit32=function(){for(var S=this.height-1;S>=0;S--)for(var w=this.bottom_up?S:this.height-1-S,P=0;P<this.width;P++){var z=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),te=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),me=w*this.width*4+4*P;this.data[me]=te,this.data[me+1]=Y,this.data[me+2]=z,this.data[me+3]=Be}},Ss.prototype.getData=function(){return this.data},(function(S){S.processBMP=function(w,P,z,Y){var te=new Ss(w,!1),Be=te.width,me=te.height,ye={data:te.getData(),width:Be,height:me},De=new lo(100).encode(ye,100);return S.processJPEG.call(this,De,P,z,Y)}})(fe.API),Ri.prototype.getData=function(){return this.data},(function(S){S.processWEBP=function(w,P,z,Y){var te=new Ri(w),Be=te.width,me=te.height,ye={data:te.getData(),width:Be,height:me},De=new lo(100).encode(ye,100);return S.processJPEG.call(this,De,P,z,Y)}})(fe.API),fe.API.processRGBA=function(S,w,P){for(var z=S.data,Y=z.length,te=new Uint8Array(Y/4*3),Be=new Uint8Array(Y/4),me=0,ye=0,De=0;De<Y;De+=4){var ze=z[De],Ze=z[De+1],st=z[De+2],Pe=z[De+3];te[me++]=ze,te[me++]=Ze,te[me++]=st,Be[ye++]=Pe}var gt=this.__addimage__.arrayBufferToBinaryString(te);return{alpha:this.__addimage__.arrayBufferToBinaryString(Be),data:gt,index:w,alias:P,colorSpace:"DeviceRGB",bitsPerComponent:8,width:S.width,height:S.height}},fe.API.setLanguage=function(S){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[S]!==void 0&&(this.internal.languageSettings.languageCode=S,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oa=fe.API,vl=oa.getCharWidthsArray=function(S,w){var P,z,Y=(w=w||{}).font||this.internal.getFont(),te=w.fontSize||this.internal.getFontSize(),Be=w.charSpace||this.internal.getCharSpace(),me=w.widths?w.widths:Y.metadata.Unicode.widths,ye=me.fof?me.fof:1,De=w.kerning?w.kerning:Y.metadata.Unicode.kerning,ze=De.fof?De.fof:1,Ze=w.doKerning!==!1,st=0,Pe=S.length,gt=0,pt=me[0]||ye,xt=[];for(P=0;P<Pe;P++)z=S.charCodeAt(P),typeof Y.metadata.widthOfString=="function"?xt.push((Y.metadata.widthOfGlyph(Y.metadata.characterToGlyph(z))+Be*(1e3/te)||0)/1e3):(st=Ze&&(0,d.default)(De[z])==="object"&&!isNaN(parseInt(De[z][gt],10))?De[z][gt]/ze:0,xt.push((me[z]||pt)/ye+st)),gt=z;return xt},qa=oa.getStringUnitWidth=function(S,w){var P=(w=w||{}).fontSize||this.internal.getFontSize(),z=w.font||this.internal.getFont(),Y=w.charSpace||this.internal.getCharSpace();return oa.processArabic&&(S=oa.processArabic(S)),typeof z.metadata.widthOfString=="function"?z.metadata.widthOfString(S,P,Y)/P:vl.apply(this,arguments).reduce(function(te,Be){return te+Be},0)},ao=function(S,w,P,z){for(var Y=[],te=0,Be=S.length,me=0;te!==Be&&me+w[te]<P;)me+=w[te],te++;Y.push(S.slice(0,te));var ye=te;for(me=0;te!==Be;)me+w[te]>z&&(Y.push(S.slice(ye,te)),me=0,ye=te),me+=w[te],te++;return ye!==te&&Y.push(S.slice(ye,te)),Y},ki=function(S,w,P){P||(P={});var z,Y,te,Be,me,ye,De,ze=[],Ze=[ze],st=P.textIndent||0,Pe=0,gt=0,pt=S.split(" "),xt=vl.apply(this,[" ",P])[0];if(ye=P.lineIndent===-1?pt[0].length+2:P.lineIndent||0){var rt=Array(ye).join(" "),Ft=[];pt.map(function(Bt){(Bt=Bt.split(/\s*\n/)).length>1?Ft=Ft.concat(Bt.map(function(et,Qt){return(Qt&&et.length?`
`:"")+et})):Ft.push(Bt[0])}),pt=Ft,ye=qa.apply(this,[rt,P])}for(te=0,Be=pt.length;te<Be;te++){var Vt=0;if(z=pt[te],ye&&z[0]==`
`&&(z=z.substr(1),Vt=1),st+Pe+(gt=(Y=vl.apply(this,[z,P])).reduce(function(Bt,et){return Bt+et},0))>w||Vt){if(gt>w){for(me=ao.apply(this,[z,Y,w-(st+Pe),w]),ze.push(me.shift()),ze=[me.pop()];me.length;)Ze.push([me.shift()]);gt=Y.slice(z.length-(ze[0]?ze[0].length:0)).reduce(function(Bt,et){return Bt+et},0)}else ze=[z];Ze.push(ze),st=gt+ye,Pe=xt}else ze.push(z),st+=Pe+gt,Pe=xt}return De=ye?function(Bt,et){return(et?rt:"")+Bt.join(" ")}:function(Bt){return Bt.join(" ")},Ze.map(De)},oa.splitTextToSize=function(S,w,P){var z,Y=(P=P||{}).fontSize||this.internal.getFontSize(),te=(function(ze){if(ze.widths&&ze.kerning)return{widths:ze.widths,kerning:ze.kerning};var Ze=this.internal.getFont(ze.fontName,ze.fontStyle),st="Unicode";return Ze.metadata[st]?{widths:Ze.metadata[st].widths||{0:1},kerning:Ze.metadata[st].kerning||{}}:{font:Ze.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,P);z=Array.isArray(S)?S:String(S).split(/\r?\n/);var Be=1*this.internal.scaleFactor*w/Y;te.textIndent=P.textIndent?1*P.textIndent*this.internal.scaleFactor/Y:0,te.lineIndent=P.lineIndent;var me,ye,De=[];for(me=0,ye=z.length;me<ye;me++)De=De.concat(ki.apply(this,[z[me],Be,te]));return De},(function(S){S.__fontmetrics__=S.__fontmetrics__||{};for(var w="0123456789abcdef",P="klmnopqrstuvwxyz",z={},Y={},te=0;te<16;te++)z[P[te]]=w[te],Y[w[te]]=P[te];var Be=function(st){return"0x"+parseInt(st,10).toString(16)},me=S.__fontmetrics__.compress=function(st){var Pe,gt,pt,xt,rt=["{"];for(var Ft in st){if(Pe=st[Ft],isNaN(parseInt(Ft,10))?gt="'"+Ft+"'":(Ft=parseInt(Ft,10),gt=(gt=Be(Ft).slice(2)).slice(0,-1)+Y[gt.slice(-1)]),typeof Pe=="number")Pe<0?(pt=Be(Pe).slice(3),xt="-"):(pt=Be(Pe).slice(2),xt=""),pt=xt+pt.slice(0,-1)+Y[pt.slice(-1)];else{if((0,d.default)(Pe)!=="object")throw new Error("Don't know what to do with value type "+(0,d.default)(Pe)+".");pt=me(Pe)}rt.push(gt+pt)}return rt.push("}"),rt.join("")},ye=S.__fontmetrics__.uncompress=function(st){if(typeof st!="string")throw new Error("Invalid argument passed to uncompress.");for(var Pe,gt,pt,xt,rt={},Ft=1,Vt=rt,Bt=[],et="",Qt="",or=st.length-1,Gt=1;Gt<or;Gt+=1)(xt=st[Gt])=="'"?Pe?(pt=Pe.join(""),Pe=void 0):Pe=[]:Pe?Pe.push(xt):xt=="{"?(Bt.push([Vt,pt]),Vt={},pt=void 0):xt=="}"?((gt=Bt.pop())[0][gt[1]]=Vt,pt=void 0,Vt=gt[0]):xt=="-"?Ft=-1:pt===void 0?z.hasOwnProperty(xt)?(et+=z[xt],pt=parseInt(et,16)*Ft,Ft=1,et=""):et+=xt:z.hasOwnProperty(xt)?(Qt+=z[xt],Vt[pt]=parseInt(Qt,16)*Ft,Ft=1,pt=void 0,Qt=""):Qt+=xt;return rt},De={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ye("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ze={Unicode:{Courier:De,"Courier-Bold":De,"Courier-BoldOblique":De,"Courier-Oblique":De,Helvetica:De,"Helvetica-Bold":De,"Helvetica-BoldOblique":De,"Helvetica-Oblique":De,"Times-Roman":De,"Times-Bold":De,"Times-BoldItalic":De,"Times-Italic":De}},Ze={Unicode:{"Courier-Oblique":ye("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ye("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ye("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ye("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ye("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ye("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ye("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ye("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ye("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ye("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ye("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ye("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ye("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ye("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};S.events.push(["addFont",function(st){var Pe=st.font,gt=Ze.Unicode[Pe.postScriptName];gt&&(Pe.metadata.Unicode={},Pe.metadata.Unicode.widths=gt.widths,Pe.metadata.Unicode.kerning=gt.kerning);var pt=ze.Unicode[Pe.postScriptName];pt&&(Pe.metadata.Unicode.encoding=pt,Pe.encoding=pt.codePages[0])}])})(fe.API),(function(S){var w=function(P){for(var z=P.length,Y=new Uint8Array(z),te=0;te<z;te++)Y[te]=P.charCodeAt(te);return Y};S.API.events.push(["addFont",function(P){var z=void 0,Y=P.font,te=P.instance;if(!Y.isStandardFont){if(te===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Y.postScriptName+"').");if(typeof(z=te.existsFileInVFS(Y.postScriptName)===!1?te.loadFile(Y.postScriptName):te.getFileFromVFS(Y.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Y.postScriptName+"').");(function(Be,me){me=/^\x00\x01\x00\x00/.test(me)?w(me):w(C(me)),Be.metadata=S.API.TTFFont.open(me),Be.metadata.Unicode=Be.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Be.metadata.glyIdsUsed=[0]})(Y,z)}}])})(fe),fe.API.addSvgAsImage=function(S,w,P,z,Y,te,Be,me){if(isNaN(w)||isNaN(P))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(z)||isNaN(Y))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ye=document.createElement("canvas");ye.width=z,ye.height=Y;var De=ye.getContext("2d");De.fillStyle="#fff",De.fillRect(0,0,ye.width,ye.height);var ze={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Ze=this;return(v.canvg?Promise.resolve(v.canvg):Promise.resolve().then(i.bind(i,"./node_modules/canvg/lib/index.es.js"))).catch(function(st){return Promise.reject(new Error("Could not load canvg: "+st))}).then(function(st){return st.default?st.default:st}).then(function(st){return st.fromString(De,S,ze)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(st){return st.render(ze)}).then(function(){Ze.addImage(ye.toDataURL("image/jpeg",1),w,P,z,Y,Be,me)})},fe.API.putTotalPages=function(S){var w,P=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(w=new RegExp(S,"g"),P=this.internal.getNumberOfPages()):(w=new RegExp(this.pdfEscape16(S,this.internal.getFont()),"g"),P=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var z=1;z<=this.internal.getNumberOfPages();z++)for(var Y=0;Y<this.internal.pages[z].length;Y++)this.internal.pages[z][Y]=this.internal.pages[z][Y].replace(w,P);return this},fe.API.viewerPreferences=function(S,w){var P;S=S||{},w=w||!1;var z,Y,te,Be={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},me=Object.keys(Be),ye=[],De=0,ze=0,Ze=0;function st(gt,pt){var xt,rt=!1;for(xt=0;xt<gt.length;xt+=1)gt[xt]===pt&&(rt=!0);return rt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Be)),this.internal.viewerpreferences.isSubscribed=!1),P=this.internal.viewerpreferences.configuration,S==="reset"||w===!0){var Pe=me.length;for(Ze=0;Ze<Pe;Ze+=1)P[me[Ze]].value=P[me[Ze]].defaultValue,P[me[Ze]].explicitSet=!1}if((0,d.default)(S)==="object"){for(Y in S)if(te=S[Y],st(me,Y)&&te!==void 0){if(P[Y].type==="boolean"&&typeof te=="boolean")P[Y].value=te;else if(P[Y].type==="name"&&st(P[Y].valueSet,te))P[Y].value=te;else if(P[Y].type==="integer"&&Number.isInteger(te))P[Y].value=te;else if(P[Y].type==="array"){for(De=0;De<te.length;De+=1)if(z=!0,te[De].length===1&&typeof te[De][0]=="number")ye.push(String(te[De]-1));else if(te[De].length>1){for(ze=0;ze<te[De].length;ze+=1)typeof te[De][ze]!="number"&&(z=!1);z===!0&&ye.push([te[De][0]-1,te[De][1]-1].join(" "))}P[Y].value="["+ye.join(" ")+"]"}else P[Y].value=P[Y].defaultValue;P[Y].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var gt,pt=[];for(gt in P)P[gt].explicitSet===!0&&(P[gt].type==="name"?pt.push("/"+gt+" /"+P[gt].value):pt.push("/"+gt+" "+P[gt].value));pt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+pt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=P,this},(function(S){var w=function(){var z='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Y=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),te=unescape(encodeURIComponent(z)),Be=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),me=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ye=unescape(encodeURIComponent("</x:xmpmeta>")),De=te.length+Be.length+me.length+Y.length+ye.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+De+" >>"),this.internal.write("stream"),this.internal.write(Y+te+Be+me+ye),this.internal.write("endstream"),this.internal.write("endobj")},P=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};S.addMetadata=function(z,Y){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:z,namespaceuri:Y||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",P),this.internal.events.subscribe("postPutResources",w)),this}})(fe.API),(function(S){var w=S.API,P=w.pdfEscape16=function(te,Be){for(var me,ye=Be.metadata.Unicode.widths,De=["","0","00","000","0000"],ze=[""],Ze=0,st=te.length;Ze<st;++Ze){if(me=Be.metadata.characterToGlyph(te.charCodeAt(Ze)),Be.metadata.glyIdsUsed.push(me),Be.metadata.toUnicode[me]=te.charCodeAt(Ze),ye.indexOf(me)==-1&&(ye.push(me),ye.push([parseInt(Be.metadata.widthOfGlyph(me),10)])),me=="0")return ze.join("");me=me.toString(16),ze.push(De[4-me.length],me)}return ze.join("")},z=function(te){var Be,me,ye,De,ze,Ze,st;for(ze=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ye=[],Ze=0,st=(me=Object.keys(te).sort(function(Pe,gt){return Pe-gt})).length;Ze<st;Ze++)Be=me[Ze],ye.length>=100&&(ze+=`
`+ye.length+` beginbfchar
`+ye.join(`
`)+`
endbfchar`,ye=[]),te[Be]!==void 0&&te[Be]!==null&&typeof te[Be].toString=="function"&&(De=("0000"+te[Be].toString(16)).slice(-4),Be=("0000"+(+Be).toString(16)).slice(-4),ye.push("<"+Be+"><"+De+">"));return ye.length&&(ze+=`
`+ye.length+` beginbfchar
`+ye.join(`
`)+`
endbfchar
`),ze+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};w.events.push(["putFont",function(te){(function(Be){var me=Be.font,ye=Be.out,De=Be.newObject,ze=Be.putStream;if(me.metadata instanceof S.API.TTFFont&&me.encoding==="Identity-H"){for(var Ze=me.metadata.Unicode.widths,st=me.metadata.subset.encode(me.metadata.glyIdsUsed,1),Pe="",gt=0;gt<st.length;gt++)Pe+=String.fromCharCode(st[gt]);var pt=De();ze({data:Pe,addLength1:!0,objectId:pt}),ye("endobj");var xt=De();ze({data:z(me.metadata.toUnicode),addLength1:!0,objectId:xt}),ye("endobj");var rt=De();ye("<<"),ye("/Type /FontDescriptor"),ye("/FontName /"+re(me.fontName)),ye("/FontFile2 "+pt+" 0 R"),ye("/FontBBox "+S.API.PDFObject.convert(me.metadata.bbox)),ye("/Flags "+me.metadata.flags),ye("/StemV "+me.metadata.stemV),ye("/ItalicAngle "+me.metadata.italicAngle),ye("/Ascent "+me.metadata.ascender),ye("/Descent "+me.metadata.decender),ye("/CapHeight "+me.metadata.capHeight),ye(">>"),ye("endobj");var Ft=De();ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+re(me.fontName)),ye("/FontDescriptor "+rt+" 0 R"),ye("/W "+S.API.PDFObject.convert(Ze)),ye("/CIDToGIDMap /Identity"),ye("/DW 1000"),ye("/Subtype /CIDFontType2"),ye("/CIDSystemInfo"),ye("<<"),ye("/Supplement 0"),ye("/Registry (Adobe)"),ye("/Ordering ("+me.encoding+")"),ye(">>"),ye(">>"),ye("endobj"),me.objectNumber=De(),ye("<<"),ye("/Type /Font"),ye("/Subtype /Type0"),ye("/ToUnicode "+xt+" 0 R"),ye("/BaseFont /"+re(me.fontName)),ye("/Encoding /"+me.encoding),ye("/DescendantFonts ["+Ft+" 0 R]"),ye(">>"),ye("endobj"),me.isAlreadyPutted=!0}})(te)}]),w.events.push(["putFont",function(te){(function(Be){var me=Be.font,ye=Be.out,De=Be.newObject,ze=Be.putStream;if(me.metadata instanceof S.API.TTFFont&&me.encoding==="WinAnsiEncoding"){for(var Ze=me.metadata.rawData,st="",Pe=0;Pe<Ze.length;Pe++)st+=String.fromCharCode(Ze[Pe]);var gt=De();ze({data:st,addLength1:!0,objectId:gt}),ye("endobj");var pt=De();ze({data:z(me.metadata.toUnicode),addLength1:!0,objectId:pt}),ye("endobj");var xt=De();ye("<<"),ye("/Descent "+me.metadata.decender),ye("/CapHeight "+me.metadata.capHeight),ye("/StemV "+me.metadata.stemV),ye("/Type /FontDescriptor"),ye("/FontFile2 "+gt+" 0 R"),ye("/Flags 96"),ye("/FontBBox "+S.API.PDFObject.convert(me.metadata.bbox)),ye("/FontName /"+re(me.fontName)),ye("/ItalicAngle "+me.metadata.italicAngle),ye("/Ascent "+me.metadata.ascender),ye(">>"),ye("endobj"),me.objectNumber=De();for(var rt=0;rt<me.metadata.hmtx.widths.length;rt++)me.metadata.hmtx.widths[rt]=parseInt(me.metadata.hmtx.widths[rt]*(1e3/me.metadata.head.unitsPerEm));ye("<</Subtype/TrueType/Type/Font/ToUnicode "+pt+" 0 R/BaseFont/"+re(me.fontName)+"/FontDescriptor "+xt+" 0 R/Encoding/"+me.encoding+" /FirstChar 29 /LastChar 255 /Widths "+S.API.PDFObject.convert(me.metadata.hmtx.widths)+">>"),ye("endobj"),me.isAlreadyPutted=!0}})(te)}]);var Y=function(te){var Be,me=te.text||"",ye=te.x,De=te.y,ze=te.options||{},Ze=te.mutex||{},st=Ze.pdfEscape,Pe=Ze.activeFontKey,gt=Ze.fonts,pt=Pe,xt="",rt=0,Ft="",Vt=gt[pt].encoding;if(gt[pt].encoding!=="Identity-H")return{text:me,x:ye,y:De,options:ze,mutex:Ze};for(Ft=me,pt=Pe,Array.isArray(me)&&(Ft=me[0]),rt=0;rt<Ft.length;rt+=1)gt[pt].metadata.hasOwnProperty("cmap")&&(Be=gt[pt].metadata.cmap.unicode.codeMap[Ft[rt].charCodeAt(0)]),Be||Ft[rt].charCodeAt(0)<256&&gt[pt].metadata.hasOwnProperty("Unicode")?xt+=Ft[rt]:xt+="";var Bt="";return parseInt(pt.slice(1))<14||Vt==="WinAnsiEncoding"?Bt=st(xt,pt).split("").map(function(et){return et.charCodeAt(0).toString(16)}).join(""):Vt==="Identity-H"&&(Bt=P(xt,gt[pt])),Ze.isHex=!0,{text:Bt,x:ye,y:De,options:ze,mutex:Ze}};w.events.push(["postProcessText",function(te){var Be=te.text||"",me=[],ye={text:Be,x:te.x,y:te.y,options:te.options,mutex:te.mutex};if(Array.isArray(Be)){var De=0;for(De=0;De<Be.length;De+=1)Array.isArray(Be[De])&&Be[De].length===3?me.push([Y(Object.assign({},ye,{text:Be[De][0]})).text,Be[De][1],Be[De][2]]):me.push(Y(Object.assign({},ye,{text:Be[De]})).text);te.text=me}else te.text=Y(Object.assign({},ye,{text:Be})).text}])})(fe),(function(S){var w=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};S.existsFileInVFS=function(P){return w.call(this),this.internal.vFS[P]!==void 0},S.addFileToVFS=function(P,z){return w.call(this),this.internal.vFS[P]=z,this},S.getFileFromVFS=function(P){return w.call(this),this.internal.vFS[P]!==void 0?this.internal.vFS[P]:null}})(fe.API),(function(S){S.__bidiEngine__=S.prototype.__bidiEngine__=function(z){var Y,te,Be,me,ye,De,ze,Ze=w,st=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Pe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],gt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},pt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},xt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],rt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ft=!1,Vt=0;this.__bidiEngine__={};var Bt=function(nt){var ut=nt.charCodeAt(),St=ut>>8,Et=pt[St];return Et!==void 0?Ze[256*Et+(255&ut)]:St===252||St===253?"AL":rt.test(St)?"L":St===8?"R":"N"},et=function(nt){for(var ut,St=0;St<nt.length;St++){if((ut=Bt(nt.charAt(St)))==="L")return!1;if(ut==="R")return!0}return!1},Qt=function(nt,ut,St,Et){var lr,Ar,vr,Jt,mr=ut[Et];switch(mr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ft=!1;break;case"N":case"AN":break;case"EN":Ft&&(mr="AN");break;case"AL":Ft=!0,mr="R";break;case"WS":case"BN":mr="N";break;case"CS":Et<1||Et+1>=ut.length||(lr=St[Et-1])!=="EN"&&lr!=="AN"||(Ar=ut[Et+1])!=="EN"&&Ar!=="AN"?mr="N":Ft&&(Ar="AN"),mr=Ar===lr?Ar:"N";break;case"ES":mr=(lr=Et>0?St[Et-1]:"B")==="EN"&&Et+1<ut.length&&ut[Et+1]==="EN"?"EN":"N";break;case"ET":if(Et>0&&St[Et-1]==="EN"){mr="EN";break}if(Ft){mr="N";break}for(vr=Et+1,Jt=ut.length;vr<Jt&&ut[vr]==="ET";)vr++;mr=vr<Jt&&ut[vr]==="EN"?"EN":"N";break;case"NSM":if(Be&&!me){for(Jt=ut.length,vr=Et+1;vr<Jt&&ut[vr]==="NSM";)vr++;if(vr<Jt){var qr=nt[Et],Lr=qr>=1425&&qr<=2303||qr===64286;if(lr=ut[vr],Lr&&(lr==="R"||lr==="AL")){mr="R";break}}}mr=Et<1||(lr=ut[Et-1])==="B"?"N":St[Et-1];break;case"B":Ft=!1,Y=!0,mr=Vt;break;case"S":te=!0,mr="N"}return mr},or=function(nt,ut,St){var Et=nt.split("");return St&&Gt(Et,St,{hiLevel:Vt}),Et.reverse(),ut&&ut.reverse(),Et.join("")},Gt=function(nt,ut,St){var Et,lr,Ar,vr,Jt,mr=-1,qr=nt.length,Lr=0,Ye=[],vt=Vt?Pe:st,jt=[];for(Ft=!1,Y=!1,te=!1,lr=0;lr<qr;lr++)jt[lr]=Bt(nt[lr]);for(Ar=0;Ar<qr;Ar++){if(Jt=Lr,Ye[Ar]=Qt(nt,jt,Ye,Ar),Et=240&(Lr=vt[Jt][gt[Ye[Ar]]]),Lr&=15,ut[Ar]=vr=vt[Lr][5],Et>0)if(Et===16){for(lr=mr;lr<Ar;lr++)ut[lr]=1;mr=-1}else mr=-1;if(vt[Lr][6])mr===-1&&(mr=Ar);else if(mr>-1){for(lr=mr;lr<Ar;lr++)ut[lr]=vr;mr=-1}jt[Ar]==="B"&&(ut[Ar]=0),St.hiLevel|=vr}te&&(function(Ht,zt,rr){for(var pr=0;pr<rr;pr++)if(Ht[pr]==="S"){zt[pr]=Vt;for(var gr=pr-1;gr>=0&&Ht[gr]==="WS";gr--)zt[gr]=Vt}})(jt,ut,qr)},It=function(nt,ut,St,Et,lr){if(!(lr.hiLevel<nt)){if(nt===1&&Vt===1&&!Y)return ut.reverse(),void(St&&St.reverse());for(var Ar,vr,Jt,mr,qr=ut.length,Lr=0;Lr<qr;){if(Et[Lr]>=nt){for(Jt=Lr+1;Jt<qr&&Et[Jt]>=nt;)Jt++;for(mr=Lr,vr=Jt-1;mr<vr;mr++,vr--)Ar=ut[mr],ut[mr]=ut[vr],ut[vr]=Ar,St&&(Ar=St[mr],St[mr]=St[vr],St[vr]=Ar);Lr=Jt}Lr++}}},ir=function(nt,ut,St){var Et=nt.split(""),lr={hiLevel:Vt};return St||(St=[]),Gt(Et,St,lr),(function(Ar,vr,Jt){if(Jt.hiLevel!==0&&ze)for(var mr,qr=0;qr<Ar.length;qr++)vr[qr]===1&&(mr=xt.indexOf(Ar[qr]))>=0&&(Ar[qr]=xt[mr+1])})(Et,St,lr),It(2,Et,ut,St,lr),It(1,Et,ut,St,lr),Et.join("")};return this.__bidiEngine__.doBidiReorder=function(nt,ut,St){if((function(lr,Ar){if(Ar)for(var vr=0;vr<lr.length;vr++)Ar[vr]=vr;me===void 0&&(me=et(lr)),De===void 0&&(De=et(lr))})(nt,ut),Be||!ye||De)if(Be&&ye&&me^De)Vt=me?1:0,nt=or(nt,ut,St);else if(!Be&&ye&&De)Vt=me?1:0,nt=ir(nt,ut,St),nt=or(nt,ut);else if(!Be||me||ye||De){if(Be&&!ye&&me^De)nt=or(nt,ut),me?(Vt=0,nt=ir(nt,ut,St)):(Vt=1,nt=ir(nt,ut,St),nt=or(nt,ut));else if(Be&&me&&!ye&&De)Vt=1,nt=ir(nt,ut,St),nt=or(nt,ut);else if(!Be&&!ye&&me^De){var Et=ze;me?(Vt=1,nt=ir(nt,ut,St),Vt=0,ze=!1,nt=ir(nt,ut,St),ze=Et):(Vt=0,nt=ir(nt,ut,St),nt=or(nt,ut),Vt=1,ze=!1,nt=ir(nt,ut,St),ze=Et,nt=or(nt,ut))}}else Vt=0,nt=ir(nt,ut,St);else Vt=me?1:0,nt=ir(nt,ut,St);return nt},this.__bidiEngine__.setOptions=function(nt){nt&&(Be=nt.isInputVisual,ye=nt.isOutputVisual,me=nt.isInputRtl,De=nt.isOutputRtl,ze=nt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(z),this.__bidiEngine__};var w=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],P=new S.__bidiEngine__({isInputVisual:!0});S.API.events.push(["postProcessText",function(z){var Y=z.text;z.x,z.y;var te=z.options||{};z.mutex,te.lang;var Be=[];if(te.isInputVisual=typeof te.isInputVisual!="boolean"||te.isInputVisual,P.setOptions(te),Object.prototype.toString.call(Y)==="[object Array]"){var me=0;for(Be=[],me=0;me<Y.length;me+=1)Object.prototype.toString.call(Y[me])==="[object Array]"?Be.push([P.doBidiReorder(Y[me][0]),Y[me][1],Y[me][2]]):Be.push([P.doBidiReorder(Y[me])]);z.text=Be}else z.text=P.doBidiReorder(Y);P.setOptions({isInputVisual:!0})}])})(fe),fe.API.TTFFont=(function(){function S(w){var P;if(this.rawData=w,P=this.contents=new Cs(w),this.contents.pos=4,P.readString(4)==="ttcf")throw new Error("TTCF not supported.");P.pos=0,this.parse(),this.subset=new at(this),this.registerTTF()}return S.open=function(w){return new S(w)},S.prototype.parse=function(){return this.directory=new qi(this.contents),this.head=new Os(this),this.name=new ne(this),this.cmap=new Ti(this),this.toUnicode={},this.hhea=new pi(this),this.maxp=new ce(this),this.hmtx=new O(this),this.post=new Ut(this),this.os2=new uo(this),this.loca=new Ge(this),this.glyf=new ee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},S.prototype.registerTTF=function(){var w,P,z,Y,te;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Be,me,ye,De;for(De=[],Be=0,me=(ye=this.bbox).length;Be<me;Be++)w=ye[Be],De.push(Math.round(w*this.scaleFactor));return De}).call(this),this.stemV=0,this.post.exists?(z=255&(Y=this.post.italic_angle),32768&(P=Y>>16)&&(P=-(1+(65535^P))),this.italicAngle=+(P+"."+z)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(te=this.familyClass)===1||te===2||te===3||te===4||te===5||te===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},S.prototype.characterToGlyph=function(w){var P;return((P=this.cmap.unicode)!=null?P.codeMap[w]:void 0)||0},S.prototype.widthOfGlyph=function(w){var P;return P=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(w).advance*P},S.prototype.widthOfString=function(w,P,z){var Y,te,Be,me;for(Be=0,te=0,me=(w=""+w).length;0<=me?te<me:te>me;te=0<=me?++te:--te)Y=w.charCodeAt(te),Be+=this.widthOfGlyph(this.characterToGlyph(Y))+z*(1e3/P)||0;return Be*(P/1e3)},S.prototype.lineHeight=function(w,P){var z;return P==null&&(P=!1),z=P?this.lineGap:0,(this.ascender+z-this.decender)/1e3*w},S})();var Rs,Cs=(function(){function S(w){this.data=w??[],this.pos=0,this.length=this.data.length}return S.prototype.readByte=function(){return this.data[this.pos++]},S.prototype.writeByte=function(w){return this.data[this.pos++]=w},S.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},S.prototype.writeUInt32=function(w){return this.writeByte(w>>>24&255),this.writeByte(w>>16&255),this.writeByte(w>>8&255),this.writeByte(255&w)},S.prototype.readInt32=function(){var w;return(w=this.readUInt32())>=2147483648?w-4294967296:w},S.prototype.writeInt32=function(w){return w<0&&(w+=4294967296),this.writeUInt32(w)},S.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},S.prototype.writeUInt16=function(w){return this.writeByte(w>>8&255),this.writeByte(255&w)},S.prototype.readInt16=function(){var w;return(w=this.readUInt16())>=32768?w-65536:w},S.prototype.writeInt16=function(w){return w<0&&(w+=65536),this.writeUInt16(w)},S.prototype.readString=function(w){var P,z;for(z=[],P=0;0<=w?P<w:P>w;P=0<=w?++P:--P)z[P]=String.fromCharCode(this.readByte());return z.join("")},S.prototype.writeString=function(w){var P,z,Y;for(Y=[],P=0,z=w.length;0<=z?P<z:P>z;P=0<=z?++P:--P)Y.push(this.writeByte(w.charCodeAt(P)));return Y},S.prototype.readShort=function(){return this.readInt16()},S.prototype.writeShort=function(w){return this.writeInt16(w)},S.prototype.readLongLong=function(){var w,P,z,Y,te,Be,me,ye;return w=this.readByte(),P=this.readByte(),z=this.readByte(),Y=this.readByte(),te=this.readByte(),Be=this.readByte(),me=this.readByte(),ye=this.readByte(),128&w?-1*(72057594037927940*(255^w)+281474976710656*(255^P)+1099511627776*(255^z)+4294967296*(255^Y)+16777216*(255^te)+65536*(255^Be)+256*(255^me)+(255^ye)+1):72057594037927940*w+281474976710656*P+1099511627776*z+4294967296*Y+16777216*te+65536*Be+256*me+ye},S.prototype.writeLongLong=function(w){var P,z;return P=Math.floor(w/4294967296),z=4294967295&w,this.writeByte(P>>24&255),this.writeByte(P>>16&255),this.writeByte(P>>8&255),this.writeByte(255&P),this.writeByte(z>>24&255),this.writeByte(z>>16&255),this.writeByte(z>>8&255),this.writeByte(255&z)},S.prototype.readInt=function(){return this.readInt32()},S.prototype.writeInt=function(w){return this.writeInt32(w)},S.prototype.read=function(w){var P,z;for(P=[],z=0;0<=w?z<w:z>w;z=0<=w?++z:--z)P.push(this.readByte());return P},S.prototype.write=function(w){var P,z,Y,te;for(te=[],z=0,Y=w.length;z<Y;z++)P=w[z],te.push(this.writeByte(P));return te},S})(),qi=(function(){var S;function w(P){var z,Y,te;for(this.scalarType=P.readInt(),this.tableCount=P.readShort(),this.searchRange=P.readShort(),this.entrySelector=P.readShort(),this.rangeShift=P.readShort(),this.tables={},Y=0,te=this.tableCount;0<=te?Y<te:Y>te;Y=0<=te?++Y:--Y)z={tag:P.readString(4),checksum:P.readInt(),offset:P.readInt(),length:P.readInt()},this.tables[z.tag]=z}return w.prototype.encode=function(P){var z,Y,te,Be,me,ye,De,ze,Ze,st,Pe,gt,pt;for(pt in Pe=Object.keys(P).length,ye=Math.log(2),Ze=16*Math.floor(Math.log(Pe)/ye),Be=Math.floor(Ze/ye),ze=16*Pe-Ze,(Y=new Cs).writeInt(this.scalarType),Y.writeShort(Pe),Y.writeShort(Ze),Y.writeShort(Be),Y.writeShort(ze),te=16*Pe,De=Y.pos+te,me=null,gt=[],P)for(st=P[pt],Y.writeString(pt),Y.writeInt(S(st)),Y.writeInt(De),Y.writeInt(st.length),gt=gt.concat(st),pt==="head"&&(me=De),De+=st.length;De%4;)gt.push(0),De++;return Y.write(gt),z=2981146554-S(Y.data),Y.pos=me+8,Y.writeUInt32(z),Y.data},S=function(P){var z,Y,te,Be;for(P=H.call(P);P.length%4;)P.push(0);for(te=new Cs(P),Y=0,z=0,Be=P.length;z<Be;z=z+=4)Y+=te.readUInt32();return 4294967295&Y},w})(),co={}.hasOwnProperty,da=function(S,w){for(var P in w)co.call(w,P)&&(S[P]=w[P]);function z(){this.constructor=S}return z.prototype=w.prototype,S.prototype=new z,S.__super__=w.prototype,S};Rs=(function(){function S(w){var P;this.file=w,P=this.file.directory.tables[this.tag],this.exists=!!P,P&&(this.offset=P.offset,this.length=P.length,this.parse(this.file.contents))}return S.prototype.parse=function(){},S.prototype.encode=function(){},S.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},S})();var Os=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="head",S.prototype.parse=function(w){return w.pos=this.offset,this.version=w.readInt(),this.revision=w.readInt(),this.checkSumAdjustment=w.readInt(),this.magicNumber=w.readInt(),this.flags=w.readShort(),this.unitsPerEm=w.readShort(),this.created=w.readLongLong(),this.modified=w.readLongLong(),this.xMin=w.readShort(),this.yMin=w.readShort(),this.xMax=w.readShort(),this.yMax=w.readShort(),this.macStyle=w.readShort(),this.lowestRecPPEM=w.readShort(),this.fontDirectionHint=w.readShort(),this.indexToLocFormat=w.readShort(),this.glyphDataFormat=w.readShort()},S.prototype.encode=function(w){var P;return(P=new Cs).writeInt(this.version),P.writeInt(this.revision),P.writeInt(this.checkSumAdjustment),P.writeInt(this.magicNumber),P.writeShort(this.flags),P.writeShort(this.unitsPerEm),P.writeLongLong(this.created),P.writeLongLong(this.modified),P.writeShort(this.xMin),P.writeShort(this.yMin),P.writeShort(this.xMax),P.writeShort(this.yMax),P.writeShort(this.macStyle),P.writeShort(this.lowestRecPPEM),P.writeShort(this.fontDirectionHint),P.writeShort(w),P.writeShort(this.glyphDataFormat),P.data},S})(),si=(function(){function S(w,P){var z,Y,te,Be,me,ye,De,ze,Ze,st,Pe,gt,pt,xt,rt,Ft,Vt;switch(this.platformID=w.readUInt16(),this.encodingID=w.readShort(),this.offset=P+w.readInt(),Ze=w.pos,w.pos=this.offset,this.format=w.readUInt16(),this.length=w.readUInt16(),this.language=w.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ye=0;ye<256;++ye)this.codeMap[ye]=w.readByte();break;case 4:for(Pe=w.readUInt16(),st=Pe/2,w.pos+=6,te=(function(){var Bt,et;for(et=[],ye=Bt=0;0<=st?Bt<st:Bt>st;ye=0<=st?++Bt:--Bt)et.push(w.readUInt16());return et})(),w.pos+=2,pt=(function(){var Bt,et;for(et=[],ye=Bt=0;0<=st?Bt<st:Bt>st;ye=0<=st?++Bt:--Bt)et.push(w.readUInt16());return et})(),De=(function(){var Bt,et;for(et=[],ye=Bt=0;0<=st?Bt<st:Bt>st;ye=0<=st?++Bt:--Bt)et.push(w.readUInt16());return et})(),ze=(function(){var Bt,et;for(et=[],ye=Bt=0;0<=st?Bt<st:Bt>st;ye=0<=st?++Bt:--Bt)et.push(w.readUInt16());return et})(),Y=(this.length-w.pos+this.offset)/2,me=(function(){var Bt,et;for(et=[],ye=Bt=0;0<=Y?Bt<Y:Bt>Y;ye=0<=Y?++Bt:--Bt)et.push(w.readUInt16());return et})(),ye=rt=0,Vt=te.length;rt<Vt;ye=++rt)for(xt=te[ye],z=Ft=gt=pt[ye];gt<=xt?Ft<=xt:Ft>=xt;z=gt<=xt?++Ft:--Ft)ze[ye]===0?Be=z+De[ye]:(Be=me[ze[ye]/2+(z-gt)-(st-ye)]||0)!==0&&(Be+=De[ye]),this.codeMap[z]=65535&Be}w.pos=Ze}return S.encode=function(w,P){var z,Y,te,Be,me,ye,De,ze,Ze,st,Pe,gt,pt,xt,rt,Ft,Vt,Bt,et,Qt,or,Gt,It,ir,nt,ut,St,Et,lr,Ar,vr,Jt,mr,qr,Lr,Ye,vt,jt,Ht,zt,rr,pr,gr,Tr,Xr,xn;switch(Et=new Cs,Be=Object.keys(w).sort(function(jn,aa){return jn-aa}),P){case"macroman":for(pt=0,xt=(function(){var jn=[];for(gt=0;gt<256;++gt)jn.push(0);return jn})(),Ft={0:0},te={},lr=0,mr=Be.length;lr<mr;lr++)Ft[gr=w[Y=Be[lr]]]==null&&(Ft[gr]=++pt),te[Y]={old:w[Y],new:Ft[w[Y]]},xt[Y]=Ft[w[Y]];return Et.writeUInt16(1),Et.writeUInt16(0),Et.writeUInt32(12),Et.writeUInt16(0),Et.writeUInt16(262),Et.writeUInt16(0),Et.write(xt),{charMap:te,subtable:Et.data,maxGlyphID:pt+1};case"unicode":for(ut=[],Ze=[],Vt=0,Ft={},z={},rt=De=null,Ar=0,qr=Be.length;Ar<qr;Ar++)Ft[et=w[Y=Be[Ar]]]==null&&(Ft[et]=++Vt),z[Y]={old:et,new:Ft[et]},me=Ft[et]-Y,rt!=null&&me===De||(rt&&Ze.push(rt),ut.push(Y),De=me),rt=Y;for(rt&&Ze.push(rt),Ze.push(65535),ut.push(65535),ir=2*(It=ut.length),Gt=2*Math.pow(Math.log(It)/Math.LN2,2),st=Math.log(Gt/2)/Math.LN2,or=2*It-Gt,ye=[],Qt=[],Pe=[],gt=vr=0,Lr=ut.length;vr<Lr;gt=++vr){if(nt=ut[gt],ze=Ze[gt],nt===65535){ye.push(0),Qt.push(0);break}if(nt-(St=z[nt].new)>=32768)for(ye.push(0),Qt.push(2*(Pe.length+It-gt)),Y=Jt=nt;nt<=ze?Jt<=ze:Jt>=ze;Y=nt<=ze?++Jt:--Jt)Pe.push(z[Y].new);else ye.push(St-nt),Qt.push(0)}for(Et.writeUInt16(3),Et.writeUInt16(1),Et.writeUInt32(12),Et.writeUInt16(4),Et.writeUInt16(16+8*It+2*Pe.length),Et.writeUInt16(0),Et.writeUInt16(ir),Et.writeUInt16(Gt),Et.writeUInt16(st),Et.writeUInt16(or),rr=0,Ye=Ze.length;rr<Ye;rr++)Y=Ze[rr],Et.writeUInt16(Y);for(Et.writeUInt16(0),pr=0,vt=ut.length;pr<vt;pr++)Y=ut[pr],Et.writeUInt16(Y);for(Tr=0,jt=ye.length;Tr<jt;Tr++)me=ye[Tr],Et.writeUInt16(me);for(Xr=0,Ht=Qt.length;Xr<Ht;Xr++)Bt=Qt[Xr],Et.writeUInt16(Bt);for(xn=0,zt=Pe.length;xn<zt;xn++)pt=Pe[xn],Et.writeUInt16(pt);return{charMap:z,subtable:Et.data,maxGlyphID:Vt+1}}},S})(),Ti=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="cmap",S.prototype.parse=function(w){var P,z,Y;for(w.pos=this.offset,this.version=w.readUInt16(),Y=w.readUInt16(),this.tables=[],this.unicode=null,z=0;0<=Y?z<Y:z>Y;z=0<=Y?++z:--z)P=new si(w,this.offset),this.tables.push(P),P.isUnicode&&this.unicode==null&&(this.unicode=P);return!0},S.encode=function(w,P){var z,Y;return P==null&&(P="macroman"),z=si.encode(w,P),(Y=new Cs).writeUInt16(0),Y.writeUInt16(1),z.table=Y.data.concat(z.subtable),z},S})(),pi=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="hhea",S.prototype.parse=function(w){return w.pos=this.offset,this.version=w.readInt(),this.ascender=w.readShort(),this.decender=w.readShort(),this.lineGap=w.readShort(),this.advanceWidthMax=w.readShort(),this.minLeftSideBearing=w.readShort(),this.minRightSideBearing=w.readShort(),this.xMaxExtent=w.readShort(),this.caretSlopeRise=w.readShort(),this.caretSlopeRun=w.readShort(),this.caretOffset=w.readShort(),w.pos+=8,this.metricDataFormat=w.readShort(),this.numberOfMetrics=w.readUInt16()},S})(),uo=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="OS/2",S.prototype.parse=function(w){if(w.pos=this.offset,this.version=w.readUInt16(),this.averageCharWidth=w.readShort(),this.weightClass=w.readUInt16(),this.widthClass=w.readUInt16(),this.type=w.readShort(),this.ySubscriptXSize=w.readShort(),this.ySubscriptYSize=w.readShort(),this.ySubscriptXOffset=w.readShort(),this.ySubscriptYOffset=w.readShort(),this.ySuperscriptXSize=w.readShort(),this.ySuperscriptYSize=w.readShort(),this.ySuperscriptXOffset=w.readShort(),this.ySuperscriptYOffset=w.readShort(),this.yStrikeoutSize=w.readShort(),this.yStrikeoutPosition=w.readShort(),this.familyClass=w.readShort(),this.panose=(function(){var P,z;for(z=[],P=0;P<10;++P)z.push(w.readByte());return z})(),this.charRange=(function(){var P,z;for(z=[],P=0;P<4;++P)z.push(w.readInt());return z})(),this.vendorID=w.readString(4),this.selection=w.readShort(),this.firstCharIndex=w.readShort(),this.lastCharIndex=w.readShort(),this.version>0&&(this.ascent=w.readShort(),this.descent=w.readShort(),this.lineGap=w.readShort(),this.winAscent=w.readShort(),this.winDescent=w.readShort(),this.codePageRange=(function(){var P,z;for(z=[],P=0;P<2;P=++P)z.push(w.readInt());return z})(),this.version>1))return this.xHeight=w.readShort(),this.capHeight=w.readShort(),this.defaultChar=w.readShort(),this.breakChar=w.readShort(),this.maxContext=w.readShort()},S})(),Ut=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="post",S.prototype.parse=function(w){var P,z,Y;switch(w.pos=this.offset,this.format=w.readInt(),this.italicAngle=w.readInt(),this.underlinePosition=w.readShort(),this.underlineThickness=w.readShort(),this.isFixedPitch=w.readInt(),this.minMemType42=w.readInt(),this.maxMemType42=w.readInt(),this.minMemType1=w.readInt(),this.maxMemType1=w.readInt(),this.format){case 65536:case 196608:break;case 131072:var te;for(z=w.readUInt16(),this.glyphNameIndex=[],te=0;0<=z?te<z:te>z;te=0<=z?++te:--te)this.glyphNameIndex.push(w.readUInt16());for(this.names=[],Y=[];w.pos<this.offset+this.length;)P=w.readByte(),Y.push(this.names.push(w.readString(P)));return Y;case 151552:return z=w.readUInt16(),this.offsets=w.read(z);case 262144:return this.map=(function(){var Be,me,ye;for(ye=[],te=Be=0,me=this.file.maxp.numGlyphs;0<=me?Be<me:Be>me;te=0<=me?++Be:--Be)ye.push(w.readUInt32());return ye}).call(this)}},S})(),Q=function(S,w){this.raw=S,this.length=S.length,this.platformID=w.platformID,this.encodingID=w.encodingID,this.languageID=w.languageID},ne=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="name",S.prototype.parse=function(w){var P,z,Y,te,Be,me,ye,De,ze,Ze,st;for(w.pos=this.offset,w.readShort(),P=w.readShort(),me=w.readShort(),z=[],te=0;0<=P?te<P:te>P;te=0<=P?++te:--te)z.push({platformID:w.readShort(),encodingID:w.readShort(),languageID:w.readShort(),nameID:w.readShort(),length:w.readShort(),offset:this.offset+me+w.readShort()});for(ye={},te=ze=0,Ze=z.length;ze<Ze;te=++ze)Y=z[te],w.pos=Y.offset,De=w.readString(Y.length),Be=new Q(De,Y),ye[st=Y.nameID]==null&&(ye[st]=[]),ye[Y.nameID].push(Be);this.strings=ye,this.copyright=ye[0],this.fontFamily=ye[1],this.fontSubfamily=ye[2],this.uniqueSubfamily=ye[3],this.fontName=ye[4],this.version=ye[5];try{this.postscriptName=ye[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ye[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ye[7],this.manufacturer=ye[8],this.designer=ye[9],this.description=ye[10],this.vendorUrl=ye[11],this.designerUrl=ye[12],this.license=ye[13],this.licenseUrl=ye[14],this.preferredFamily=ye[15],this.preferredSubfamily=ye[17],this.compatibleFull=ye[18],this.sampleText=ye[19]},S})(),ce=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="maxp",S.prototype.parse=function(w){return w.pos=this.offset,this.version=w.readInt(),this.numGlyphs=w.readUInt16(),this.maxPoints=w.readUInt16(),this.maxContours=w.readUInt16(),this.maxCompositePoints=w.readUInt16(),this.maxComponentContours=w.readUInt16(),this.maxZones=w.readUInt16(),this.maxTwilightPoints=w.readUInt16(),this.maxStorage=w.readUInt16(),this.maxFunctionDefs=w.readUInt16(),this.maxInstructionDefs=w.readUInt16(),this.maxStackElements=w.readUInt16(),this.maxSizeOfInstructions=w.readUInt16(),this.maxComponentElements=w.readUInt16(),this.maxComponentDepth=w.readUInt16()},S})(),O=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="hmtx",S.prototype.parse=function(w){var P,z,Y,te,Be,me,ye;for(w.pos=this.offset,this.metrics=[],P=0,me=this.file.hhea.numberOfMetrics;0<=me?P<me:P>me;P=0<=me?++P:--P)this.metrics.push({advance:w.readUInt16(),lsb:w.readInt16()});for(Y=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var De,ze;for(ze=[],P=De=0;0<=Y?De<Y:De>Y;P=0<=Y?++De:--De)ze.push(w.readInt16());return ze})(),this.widths=(function(){var De,ze,Ze,st;for(st=[],De=0,ze=(Ze=this.metrics).length;De<ze;De++)te=Ze[De],st.push(te.advance);return st}).call(this),z=this.widths[this.widths.length-1],ye=[],P=Be=0;0<=Y?Be<Y:Be>Y;P=0<=Y?++Be:--Be)ye.push(this.widths.push(z));return ye},S.prototype.forGlyph=function(w){return w in this.metrics?this.metrics[w]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[w-this.metrics.length]}},S})(),H=[].slice,ee=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="glyf",S.prototype.parse=function(){return this.cache={}},S.prototype.glyphFor=function(w){var P,z,Y,te,Be,me,ye,De,ze,Ze;return w in this.cache?this.cache[w]:(te=this.file.loca,P=this.file.contents,z=te.indexOf(w),(Y=te.lengthOf(w))===0?this.cache[w]=null:(P.pos=this.offset+z,Be=(me=new Cs(P.read(Y))).readShort(),De=me.readShort(),Ze=me.readShort(),ye=me.readShort(),ze=me.readShort(),this.cache[w]=Be===-1?new Oe(me,De,Ze,ye,ze):new Ce(me,Be,De,Ze,ye,ze),this.cache[w]))},S.prototype.encode=function(w,P,z){var Y,te,Be,me,ye;for(Be=[],te=[],me=0,ye=P.length;me<ye;me++)Y=w[P[me]],te.push(Be.length),Y&&(Be=Be.concat(Y.encode(z)));return te.push(Be.length),{table:Be,offsets:te}},S})(),Ce=(function(){function S(w,P,z,Y,te,Be){this.raw=w,this.numberOfContours=P,this.xMin=z,this.yMin=Y,this.xMax=te,this.yMax=Be,this.compound=!1}return S.prototype.encode=function(){return this.raw.data},S})(),Oe=(function(){function S(w,P,z,Y,te){var Be,me;for(this.raw=w,this.xMin=P,this.yMin=z,this.xMax=Y,this.yMax=te,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Be=this.raw;me=Be.readShort(),this.glyphOffsets.push(Be.pos),this.glyphIDs.push(Be.readUInt16()),32&me;)Be.pos+=1&me?4:2,128&me?Be.pos+=8:64&me?Be.pos+=4:8&me&&(Be.pos+=2)}return S.prototype.encode=function(){var w,P,z;for(P=new Cs(H.call(this.raw.data)),w=0,z=this.glyphIDs.length;w<z;++w)P.pos=this.glyphOffsets[w];return P.data},S})(),Ge=(function(){function S(){return S.__super__.constructor.apply(this,arguments)}return da(S,Rs),S.prototype.tag="loca",S.prototype.parse=function(w){var P,z;return w.pos=this.offset,P=this.file.head.indexToLocFormat,this.offsets=P===0?(function(){var Y,te;for(te=[],z=0,Y=this.length;z<Y;z+=2)te.push(2*w.readUInt16());return te}).call(this):(function(){var Y,te;for(te=[],z=0,Y=this.length;z<Y;z+=4)te.push(w.readUInt32());return te}).call(this)},S.prototype.indexOf=function(w){return this.offsets[w]},S.prototype.lengthOf=function(w){return this.offsets[w+1]-this.offsets[w]},S.prototype.encode=function(w,P){for(var z=new Uint32Array(this.offsets.length),Y=0,te=0,Be=0;Be<z.length;++Be)if(z[Be]=Y,te<P.length&&P[te]==Be){++te,z[Be]=Y;var me=this.offsets[Be],ye=this.offsets[Be+1]-me;ye>0&&(Y+=ye)}for(var De=new Array(4*z.length),ze=0;ze<z.length;++ze)De[4*ze+3]=255&z[ze],De[4*ze+2]=(65280&z[ze])>>8,De[4*ze+1]=(16711680&z[ze])>>16,De[4*ze]=(4278190080&z[ze])>>24;return De},S})(),at=(function(){function S(w){this.font=w,this.subset={},this.unicodes={},this.next=33}return S.prototype.generateCmap=function(){var w,P,z,Y,te;for(P in Y=this.font.cmap.tables[0].codeMap,w={},te=this.subset)z=te[P],w[P]=Y[z];return w},S.prototype.glyphsFor=function(w){var P,z,Y,te,Be,me,ye;for(Y={},Be=0,me=w.length;Be<me;Be++)Y[te=w[Be]]=this.font.glyf.glyphFor(te);for(te in P=[],Y)(z=Y[te])!=null&&z.compound&&P.push.apply(P,z.glyphIDs);if(P.length>0)for(te in ye=this.glyphsFor(P))z=ye[te],Y[te]=z;return Y},S.prototype.encode=function(w,P){var z,Y,te,Be,me,ye,De,ze,Ze,st,Pe,gt,pt,xt,rt;for(Y in z=Ti.encode(this.generateCmap(),"unicode"),Be=this.glyphsFor(w),Pe={0:0},rt=z.charMap)Pe[(ye=rt[Y]).old]=ye.new;for(gt in st=z.maxGlyphID,Be)gt in Pe||(Pe[gt]=st++);return ze=(function(Ft){var Vt,Bt;for(Vt in Bt={},Ft)Bt[Ft[Vt]]=Vt;return Bt})(Pe),Ze=Object.keys(ze).sort(function(Ft,Vt){return Ft-Vt}),pt=(function(){var Ft,Vt,Bt;for(Bt=[],Ft=0,Vt=Ze.length;Ft<Vt;Ft++)me=Ze[Ft],Bt.push(ze[me]);return Bt})(),te=this.font.glyf.encode(Be,pt,Pe),De=this.font.loca.encode(te.offsets,pt),xt={cmap:this.font.cmap.raw(),glyf:te.table,loca:De,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(P)},this.font.os2.exists&&(xt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(xt)},S})();fe.API.PDFObject=(function(){var S;function w(){}return S=function(P,z){return(Array(z+1).join("0")+P).slice(-z)},w.convert=function(P){var z,Y,te,Be;if(Array.isArray(P))return"["+(function(){var me,ye,De;for(De=[],me=0,ye=P.length;me<ye;me++)z=P[me],De.push(w.convert(z));return De})().join(" ")+"]";if(typeof P=="string")return"/"+P;if(P!=null&&P.isString)return"("+P+")";if(P instanceof Date)return"(D:"+S(P.getUTCFullYear(),4)+S(P.getUTCMonth(),2)+S(P.getUTCDate(),2)+S(P.getUTCHours(),2)+S(P.getUTCMinutes(),2)+S(P.getUTCSeconds(),2)+"Z)";if({}.toString.call(P)==="[object Object]"){for(Y in te=["<<"],P)Be=P[Y],te.push("/"+Y+" "+w.convert(Be));return te.push(">>"),te.join(`
`)}return""+P},w})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(l,h,i){i.r(h),i.d(h,{Deflate:function(){return Fr},Inflate:function(){return Zn},constants:function(){return as},default:function(){return Ys},deflate:function(){return Cn},deflateRaw:function(){return _n},gzip:function(){return ca},inflate:function(){return Na},inflateRaw:function(){return Bs},ungzip:function(){return Es}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const d=4,u=0,f=1,m=2;function v(E){let _e=E.length;for(;--_e>=0;)E[_e]=0}const g=0,x=1,y=2,j=3,N=258,T=29,I=256,C=I+1+T,D=30,_=19,Z=2*C+1,ae=15,V=16,ie=7,U=256,G=16,K=17,W=18,Ne=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ge=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Fe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),he=512,le=new Array((C+2)*2);v(le);const ve=new Array(D*2);v(ve);const se=new Array(he);v(se);const re=new Array(N-j+1);v(re);const Ie=new Array(T);v(Ie);const Te=new Array(D);v(Te);function xe(E,_e,J,Xe,At){this.static_tree=E,this.extra_bits=_e,this.extra_base=J,this.elems=Xe,this.max_length=At,this.has_stree=E&&E.length}let pe,X,fe;function oe(E,_e){this.dyn_tree=E,this.max_code=0,this.stat_desc=_e}const We=E=>E<256?se[E]:se[256+(E>>>7)],Ue=(E,_e)=>{E.pending_buf[E.pending++]=_e&255,E.pending_buf[E.pending++]=_e>>>8&255},ue=(E,_e,J)=>{E.bi_valid>V-J?(E.bi_buf|=_e<<E.bi_valid&65535,Ue(E,E.bi_buf),E.bi_buf=_e>>V-E.bi_valid,E.bi_valid+=J-V):(E.bi_buf|=_e<<E.bi_valid&65535,E.bi_valid+=J)},be=(E,_e,J)=>{ue(E,J[_e*2],J[_e*2+1])},Le=(E,_e)=>{let J=0;do J|=E&1,E>>>=1,J<<=1;while(--_e>0);return J>>>1},ot=E=>{E.bi_valid===16?(Ue(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):E.bi_valid>=8&&(E.pending_buf[E.pending++]=E.bi_buf&255,E.bi_buf>>=8,E.bi_valid-=8)},Tt=(E,_e)=>{const J=_e.dyn_tree,Xe=_e.max_code,At=_e.stat_desc.static_tree,it=_e.stat_desc.has_stree,Zt=_e.stat_desc.extra_bits,Wt=_e.stat_desc.extra_base,yn=_e.stat_desc.max_length;let Pt,ar,ha,dn,Or,yr,Is=0;for(dn=0;dn<=ae;dn++)E.bl_count[dn]=0;for(J[E.heap[E.heap_max]*2+1]=0,Pt=E.heap_max+1;Pt<Z;Pt++)ar=E.heap[Pt],dn=J[J[ar*2+1]*2+1]+1,dn>yn&&(dn=yn,Is++),J[ar*2+1]=dn,!(ar>Xe)&&(E.bl_count[dn]++,Or=0,ar>=Wt&&(Or=Zt[ar-Wt]),yr=J[ar*2],E.opt_len+=yr*(dn+Or),it&&(E.static_len+=yr*(At[ar*2+1]+Or)));if(Is!==0){do{for(dn=yn-1;E.bl_count[dn]===0;)dn--;E.bl_count[dn]--,E.bl_count[dn+1]+=2,E.bl_count[yn]--,Is-=2}while(Is>0);for(dn=yn;dn!==0;dn--)for(ar=E.bl_count[dn];ar!==0;)ha=E.heap[--Pt],!(ha>Xe)&&(J[ha*2+1]!==dn&&(E.opt_len+=(dn-J[ha*2+1])*J[ha*2],J[ha*2+1]=dn),ar--)}},Mt=(E,_e,J)=>{const Xe=new Array(ae+1);let At=0,it,Zt;for(it=1;it<=ae;it++)At=At+J[it-1]<<1,Xe[it]=At;for(Zt=0;Zt<=_e;Zt++){let Wt=E[Zt*2+1];Wt!==0&&(E[Zt*2]=Le(Xe[Wt]++,Wt))}},Nt=()=>{let E,_e,J,Xe,At;const it=new Array(ae+1);for(J=0,Xe=0;Xe<T-1;Xe++)for(Ie[Xe]=J,E=0;E<1<<Ne[Xe];E++)re[J++]=Xe;for(re[J-1]=Xe,At=0,Xe=0;Xe<16;Xe++)for(Te[Xe]=At,E=0;E<1<<ge[Xe];E++)se[At++]=Xe;for(At>>=7;Xe<D;Xe++)for(Te[Xe]=At<<7,E=0;E<1<<ge[Xe]-7;E++)se[256+At++]=Xe;for(_e=0;_e<=ae;_e++)it[_e]=0;for(E=0;E<=143;)le[E*2+1]=8,E++,it[8]++;for(;E<=255;)le[E*2+1]=9,E++,it[9]++;for(;E<=279;)le[E*2+1]=7,E++,it[7]++;for(;E<=287;)le[E*2+1]=8,E++,it[8]++;for(Mt(le,C+1,it),E=0;E<D;E++)ve[E*2+1]=5,ve[E*2]=Le(E,5);pe=new xe(le,Ne,I+1,C,ae),X=new xe(ve,ge,0,D,ae),fe=new xe(new Array(0),Ee,0,_,ie)},qt=E=>{let _e;for(_e=0;_e<C;_e++)E.dyn_ltree[_e*2]=0;for(_e=0;_e<D;_e++)E.dyn_dtree[_e*2]=0;for(_e=0;_e<_;_e++)E.bl_tree[_e*2]=0;E.dyn_ltree[U*2]=1,E.opt_len=E.static_len=0,E.sym_next=E.matches=0},Ir=E=>{E.bi_valid>8?Ue(E,E.bi_buf):E.bi_valid>0&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0},fr=(E,_e,J,Xe)=>{const At=_e*2,it=J*2;return E[At]<E[it]||E[At]===E[it]&&Xe[_e]<=Xe[J]},He=(E,_e,J)=>{const Xe=E.heap[J];let At=J<<1;for(;At<=E.heap_len&&(At<E.heap_len&&fr(_e,E.heap[At+1],E.heap[At],E.depth)&&At++,!fr(_e,Xe,E.heap[At],E.depth));)E.heap[J]=E.heap[At],J=At,At<<=1;E.heap[J]=Xe},Yt=(E,_e,J)=>{let Xe,At,it=0,Zt,Wt;if(E.sym_next!==0)do Xe=E.pending_buf[E.sym_buf+it++]&255,Xe+=(E.pending_buf[E.sym_buf+it++]&255)<<8,At=E.pending_buf[E.sym_buf+it++],Xe===0?be(E,At,_e):(Zt=re[At],be(E,Zt+I+1,_e),Wt=Ne[Zt],Wt!==0&&(At-=Ie[Zt],ue(E,At,Wt)),Xe--,Zt=We(Xe),be(E,Zt,J),Wt=ge[Zt],Wt!==0&&(Xe-=Te[Zt],ue(E,Xe,Wt)));while(it<E.sym_next);be(E,U,_e)},Ct=(E,_e)=>{const J=_e.dyn_tree,Xe=_e.stat_desc.static_tree,At=_e.stat_desc.has_stree,it=_e.stat_desc.elems;let Zt,Wt,yn=-1,Pt;for(E.heap_len=0,E.heap_max=Z,Zt=0;Zt<it;Zt++)J[Zt*2]!==0?(E.heap[++E.heap_len]=yn=Zt,E.depth[Zt]=0):J[Zt*2+1]=0;for(;E.heap_len<2;)Pt=E.heap[++E.heap_len]=yn<2?++yn:0,J[Pt*2]=1,E.depth[Pt]=0,E.opt_len--,At&&(E.static_len-=Xe[Pt*2+1]);for(_e.max_code=yn,Zt=E.heap_len>>1;Zt>=1;Zt--)He(E,J,Zt);Pt=it;do Zt=E.heap[1],E.heap[1]=E.heap[E.heap_len--],He(E,J,1),Wt=E.heap[1],E.heap[--E.heap_max]=Zt,E.heap[--E.heap_max]=Wt,J[Pt*2]=J[Zt*2]+J[Wt*2],E.depth[Pt]=(E.depth[Zt]>=E.depth[Wt]?E.depth[Zt]:E.depth[Wt])+1,J[Zt*2+1]=J[Wt*2+1]=Pt,E.heap[1]=Pt++,He(E,J,1);while(E.heap_len>=2);E.heap[--E.heap_max]=E.heap[1],Tt(E,_e),Mt(J,yn,E.bl_count)},Qr=(E,_e,J)=>{let Xe,At=-1,it,Zt=_e[1],Wt=0,yn=7,Pt=4;for(Zt===0&&(yn=138,Pt=3),_e[(J+1)*2+1]=65535,Xe=0;Xe<=J;Xe++)it=Zt,Zt=_e[(Xe+1)*2+1],!(++Wt<yn&&it===Zt)&&(Wt<Pt?E.bl_tree[it*2]+=Wt:it!==0?(it!==At&&E.bl_tree[it*2]++,E.bl_tree[G*2]++):Wt<=10?E.bl_tree[K*2]++:E.bl_tree[W*2]++,Wt=0,At=it,Zt===0?(yn=138,Pt=3):it===Zt?(yn=6,Pt=3):(yn=7,Pt=4))},hr=(E,_e,J)=>{let Xe,At=-1,it,Zt=_e[1],Wt=0,yn=7,Pt=4;for(Zt===0&&(yn=138,Pt=3),Xe=0;Xe<=J;Xe++)if(it=Zt,Zt=_e[(Xe+1)*2+1],!(++Wt<yn&&it===Zt)){if(Wt<Pt)do be(E,it,E.bl_tree);while(--Wt!==0);else it!==0?(it!==At&&(be(E,it,E.bl_tree),Wt--),be(E,G,E.bl_tree),ue(E,Wt-3,2)):Wt<=10?(be(E,K,E.bl_tree),ue(E,Wt-3,3)):(be(E,W,E.bl_tree),ue(E,Wt-11,7));Wt=0,At=it,Zt===0?(yn=138,Pt=3):it===Zt?(yn=6,Pt=3):(yn=7,Pt=4)}},nn=E=>{let _e;for(Qr(E,E.dyn_ltree,E.l_desc.max_code),Qr(E,E.dyn_dtree,E.d_desc.max_code),Ct(E,E.bl_desc),_e=_-1;_e>=3&&E.bl_tree[Fe[_e]*2+1]===0;_e--);return E.opt_len+=3*(_e+1)+5+5+4,_e},Gr=(E,_e,J,Xe)=>{let At;for(ue(E,_e-257,5),ue(E,J-1,5),ue(E,Xe-4,4),At=0;At<Xe;At++)ue(E,E.bl_tree[Fe[At]*2+1],3);hr(E,E.dyn_ltree,_e-1),hr(E,E.dyn_dtree,J-1)},Vr=E=>{let _e=4093624447,J;for(J=0;J<=31;J++,_e>>>=1)if(_e&1&&E.dyn_ltree[J*2]!==0)return u;if(E.dyn_ltree[18]!==0||E.dyn_ltree[20]!==0||E.dyn_ltree[26]!==0)return f;for(J=32;J<I;J++)if(E.dyn_ltree[J*2]!==0)return f;return u};let Sr=!1;const cr=E=>{Sr||(Nt(),Sr=!0),E.l_desc=new oe(E.dyn_ltree,pe),E.d_desc=new oe(E.dyn_dtree,X),E.bl_desc=new oe(E.bl_tree,fe),E.bi_buf=0,E.bi_valid=0,qt(E)},wr=(E,_e,J,Xe)=>{ue(E,(g<<1)+(Xe?1:0),3),Ir(E),Ue(E,J),Ue(E,~J),J&&E.pending_buf.set(E.window.subarray(_e,_e+J),E.pending),E.pending+=J},Hr=E=>{ue(E,x<<1,3),be(E,U,le),ot(E)},Wr=(E,_e,J,Xe)=>{let At,it,Zt=0;E.level>0?(E.strm.data_type===m&&(E.strm.data_type=Vr(E)),Ct(E,E.l_desc),Ct(E,E.d_desc),Zt=nn(E),At=E.opt_len+3+7>>>3,it=E.static_len+3+7>>>3,it<=At&&(At=it)):At=it=J+5,J+4<=At&&_e!==-1?wr(E,_e,J,Xe):E.strategy===d||it===At?(ue(E,(x<<1)+(Xe?1:0),3),Yt(E,le,ve)):(ue(E,(y<<1)+(Xe?1:0),3),Gr(E,E.l_desc.max_code+1,E.d_desc.max_code+1,Zt+1),Yt(E,E.dyn_ltree,E.dyn_dtree)),qt(E),Xe&&Ir(E)},hn=(E,_e,J)=>(E.pending_buf[E.sym_buf+E.sym_next++]=_e,E.pending_buf[E.sym_buf+E.sym_next++]=_e>>8,E.pending_buf[E.sym_buf+E.sym_next++]=J,_e===0?E.dyn_ltree[J*2]++:(E.matches++,_e--,E.dyn_ltree[(re[J]+I+1)*2]++,E.dyn_dtree[We(_e)*2]++),E.sym_next===E.sym_end);var Rr=cr,Rn=wr,Dr=Wr,Pr=hn,gn=Hr,sn={_tr_init:Rr,_tr_stored_block:Rn,_tr_flush_block:Dr,_tr_tally:Pr,_tr_align:gn},Nr=(E,_e,J,Xe)=>{let At=E&65535|0,it=E>>>16&65535|0,Zt=0;for(;J!==0;){Zt=J>2e3?2e3:J,J-=Zt;do At=At+_e[Xe++]|0,it=it+At|0;while(--Zt);At%=65521,it%=65521}return At|it<<16|0};const ln=()=>{let E,_e=[];for(var J=0;J<256;J++){E=J;for(var Xe=0;Xe<8;Xe++)E=E&1?3988292384^E>>>1:E>>>1;_e[J]=E}return _e},Fn=new Uint32Array(ln());var Dn=(E,_e,J,Xe)=>{const At=Fn,it=Xe+J;E^=-1;for(let Zt=Xe;Zt<it;Zt++)E=E>>>8^At[(E^_e[Zt])&255];return E^-1},_r={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ka={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:qs,_tr_stored_block:vn,_tr_flush_block:ui,_tr_tally:ps,_tr_align:us}=sn,{Z_NO_FLUSH:Ts,Z_PARTIAL_FLUSH:vs,Z_FULL_FLUSH:Ai,Z_FINISH:Ga,Z_BLOCK:Ii,Z_OK:Ma,Z_STREAM_END:Rl,Z_STREAM_ERROR:ri,Z_DATA_ERROR:Zo,Z_BUF_ERROR:Ql,Z_DEFAULT_COMPRESSION:el,Z_FILTERED:Fs,Z_HUFFMAN_ONLY:Gi,Z_RLE:oa,Z_FIXED:vl,Z_DEFAULT_STRATEGY:qa,Z_UNKNOWN:ao,Z_DEFLATED:ki}=Ka,so=9,ko=15,io=8,Xa=256+1+29,Ho=30,oo=19,ec=2*Xa+1,Xs=15,zn=3,Ps=258,ni=Ps+zn+1,ai=32,lo=42,Ss=57,Ri=69,Rs=73,Cs=91,qi=103,co=113,da=666,Os=1,si=2,Ti=3,pi=4,uo=3,Ut=(E,_e)=>(E.msg=_r[_e],_e),Q=E=>E*2-(E>4?9:0),ne=E=>{let _e=E.length;for(;--_e>=0;)E[_e]=0},ce=E=>{let _e,J,Xe,At=E.w_size;_e=E.hash_size,Xe=_e;do J=E.head[--Xe],E.head[Xe]=J>=At?J-At:0;while(--_e);_e=At,Xe=_e;do J=E.prev[--Xe],E.prev[Xe]=J>=At?J-At:0;while(--_e)};let H=(E,_e,J)=>(_e<<E.hash_shift^J)&E.hash_mask;const ee=E=>{const _e=E.state;let J=_e.pending;J>E.avail_out&&(J=E.avail_out),J!==0&&(E.output.set(_e.pending_buf.subarray(_e.pending_out,_e.pending_out+J),E.next_out),E.next_out+=J,_e.pending_out+=J,E.total_out+=J,E.avail_out-=J,_e.pending-=J,_e.pending===0&&(_e.pending_out=0))},Ce=(E,_e)=>{ui(E,E.block_start>=0?E.block_start:-1,E.strstart-E.block_start,_e),E.block_start=E.strstart,ee(E.strm)},Oe=(E,_e)=>{E.pending_buf[E.pending++]=_e},Ge=(E,_e)=>{E.pending_buf[E.pending++]=_e>>>8&255,E.pending_buf[E.pending++]=_e&255},at=(E,_e,J,Xe)=>{let At=E.avail_in;return At>Xe&&(At=Xe),At===0?0:(E.avail_in-=At,_e.set(E.input.subarray(E.next_in,E.next_in+At),J),E.state.wrap===1?E.adler=Nr(E.adler,_e,At,J):E.state.wrap===2&&(E.adler=Dn(E.adler,_e,At,J)),E.next_in+=At,E.total_in+=At,At)},S=(E,_e)=>{let J=E.max_chain_length,Xe=E.strstart,At,it,Zt=E.prev_length,Wt=E.nice_match;const yn=E.strstart>E.w_size-ni?E.strstart-(E.w_size-ni):0,Pt=E.window,ar=E.w_mask,ha=E.prev,dn=E.strstart+Ps;let Or=Pt[Xe+Zt-1],yr=Pt[Xe+Zt];E.prev_length>=E.good_match&&(J>>=2),Wt>E.lookahead&&(Wt=E.lookahead);do if(At=_e,!(Pt[At+Zt]!==yr||Pt[At+Zt-1]!==Or||Pt[At]!==Pt[Xe]||Pt[++At]!==Pt[Xe+1])){Xe+=2,At++;do;while(Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Pt[++Xe]===Pt[++At]&&Xe<dn);if(it=Ps-(dn-Xe),Xe=dn-Ps,it>Zt){if(E.match_start=_e,Zt=it,it>=Wt)break;Or=Pt[Xe+Zt-1],yr=Pt[Xe+Zt]}}while((_e=ha[_e&ar])>yn&&--J!==0);return Zt<=E.lookahead?Zt:E.lookahead},w=E=>{const _e=E.w_size;let J,Xe,At;do{if(Xe=E.window_size-E.lookahead-E.strstart,E.strstart>=_e+(_e-ni)&&(E.window.set(E.window.subarray(_e,_e+_e-Xe),0),E.match_start-=_e,E.strstart-=_e,E.block_start-=_e,E.insert>E.strstart&&(E.insert=E.strstart),ce(E),Xe+=_e),E.strm.avail_in===0)break;if(J=at(E.strm,E.window,E.strstart+E.lookahead,Xe),E.lookahead+=J,E.lookahead+E.insert>=zn)for(At=E.strstart-E.insert,E.ins_h=E.window[At],E.ins_h=H(E,E.ins_h,E.window[At+1]);E.insert&&(E.ins_h=H(E,E.ins_h,E.window[At+zn-1]),E.prev[At&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=At,At++,E.insert--,!(E.lookahead+E.insert<zn)););}while(E.lookahead<ni&&E.strm.avail_in!==0)},P=(E,_e)=>{let J=E.pending_buf_size-5>E.w_size?E.w_size:E.pending_buf_size-5,Xe,At,it,Zt=0,Wt=E.strm.avail_in;do{if(Xe=65535,it=E.bi_valid+42>>3,E.strm.avail_out<it||(it=E.strm.avail_out-it,At=E.strstart-E.block_start,Xe>At+E.strm.avail_in&&(Xe=At+E.strm.avail_in),Xe>it&&(Xe=it),Xe<J&&(Xe===0&&_e!==Ga||_e===Ts||Xe!==At+E.strm.avail_in)))break;Zt=_e===Ga&&Xe===At+E.strm.avail_in?1:0,vn(E,0,0,Zt),E.pending_buf[E.pending-4]=Xe,E.pending_buf[E.pending-3]=Xe>>8,E.pending_buf[E.pending-2]=~Xe,E.pending_buf[E.pending-1]=~Xe>>8,ee(E.strm),At&&(At>Xe&&(At=Xe),E.strm.output.set(E.window.subarray(E.block_start,E.block_start+At),E.strm.next_out),E.strm.next_out+=At,E.strm.avail_out-=At,E.strm.total_out+=At,E.block_start+=At,Xe-=At),Xe&&(at(E.strm,E.strm.output,E.strm.next_out,Xe),E.strm.next_out+=Xe,E.strm.avail_out-=Xe,E.strm.total_out+=Xe)}while(Zt===0);return Wt-=E.strm.avail_in,Wt&&(Wt>=E.w_size?(E.matches=2,E.window.set(E.strm.input.subarray(E.strm.next_in-E.w_size,E.strm.next_in),0),E.strstart=E.w_size,E.insert=E.strstart):(E.window_size-E.strstart<=Wt&&(E.strstart-=E.w_size,E.window.set(E.window.subarray(E.w_size,E.w_size+E.strstart),0),E.matches<2&&E.matches++,E.insert>E.strstart&&(E.insert=E.strstart)),E.window.set(E.strm.input.subarray(E.strm.next_in-Wt,E.strm.next_in),E.strstart),E.strstart+=Wt,E.insert+=Wt>E.w_size-E.insert?E.w_size-E.insert:Wt),E.block_start=E.strstart),E.high_water<E.strstart&&(E.high_water=E.strstart),Zt?pi:_e!==Ts&&_e!==Ga&&E.strm.avail_in===0&&E.strstart===E.block_start?si:(it=E.window_size-E.strstart,E.strm.avail_in>it&&E.block_start>=E.w_size&&(E.block_start-=E.w_size,E.strstart-=E.w_size,E.window.set(E.window.subarray(E.w_size,E.w_size+E.strstart),0),E.matches<2&&E.matches++,it+=E.w_size,E.insert>E.strstart&&(E.insert=E.strstart)),it>E.strm.avail_in&&(it=E.strm.avail_in),it&&(at(E.strm,E.window,E.strstart,it),E.strstart+=it,E.insert+=it>E.w_size-E.insert?E.w_size-E.insert:it),E.high_water<E.strstart&&(E.high_water=E.strstart),it=E.bi_valid+42>>3,it=E.pending_buf_size-it>65535?65535:E.pending_buf_size-it,J=it>E.w_size?E.w_size:it,At=E.strstart-E.block_start,(At>=J||(At||_e===Ga)&&_e!==Ts&&E.strm.avail_in===0&&At<=it)&&(Xe=At>it?it:At,Zt=_e===Ga&&E.strm.avail_in===0&&Xe===At?1:0,vn(E,E.block_start,Xe,Zt),E.block_start+=Xe,ee(E.strm)),Zt?Ti:Os)},z=(E,_e)=>{let J,Xe;for(;;){if(E.lookahead<ni){if(w(E),E.lookahead<ni&&_e===Ts)return Os;if(E.lookahead===0)break}if(J=0,E.lookahead>=zn&&(E.ins_h=H(E,E.ins_h,E.window[E.strstart+zn-1]),J=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),J!==0&&E.strstart-J<=E.w_size-ni&&(E.match_length=S(E,J)),E.match_length>=zn)if(Xe=ps(E,E.strstart-E.match_start,E.match_length-zn),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=zn){E.match_length--;do E.strstart++,E.ins_h=H(E,E.ins_h,E.window[E.strstart+zn-1]),J=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart;while(--E.match_length!==0);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=H(E,E.ins_h,E.window[E.strstart+1]);else Xe=ps(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(Xe&&(Ce(E,!1),E.strm.avail_out===0))return Os}return E.insert=E.strstart<zn-1?E.strstart:zn-1,_e===Ga?(Ce(E,!0),E.strm.avail_out===0?Ti:pi):E.sym_next&&(Ce(E,!1),E.strm.avail_out===0)?Os:si},Y=(E,_e)=>{let J,Xe,At;for(;;){if(E.lookahead<ni){if(w(E),E.lookahead<ni&&_e===Ts)return Os;if(E.lookahead===0)break}if(J=0,E.lookahead>=zn&&(E.ins_h=H(E,E.ins_h,E.window[E.strstart+zn-1]),J=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=zn-1,J!==0&&E.prev_length<E.max_lazy_match&&E.strstart-J<=E.w_size-ni&&(E.match_length=S(E,J),E.match_length<=5&&(E.strategy===Fs||E.match_length===zn&&E.strstart-E.match_start>4096)&&(E.match_length=zn-1)),E.prev_length>=zn&&E.match_length<=E.prev_length){At=E.strstart+E.lookahead-zn,Xe=ps(E,E.strstart-1-E.prev_match,E.prev_length-zn),E.lookahead-=E.prev_length-1,E.prev_length-=2;do++E.strstart<=At&&(E.ins_h=H(E,E.ins_h,E.window[E.strstart+zn-1]),J=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart);while(--E.prev_length!==0);if(E.match_available=0,E.match_length=zn-1,E.strstart++,Xe&&(Ce(E,!1),E.strm.avail_out===0))return Os}else if(E.match_available){if(Xe=ps(E,0,E.window[E.strstart-1]),Xe&&Ce(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return Os}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(Xe=ps(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<zn-1?E.strstart:zn-1,_e===Ga?(Ce(E,!0),E.strm.avail_out===0?Ti:pi):E.sym_next&&(Ce(E,!1),E.strm.avail_out===0)?Os:si},te=(E,_e)=>{let J,Xe,At,it;const Zt=E.window;for(;;){if(E.lookahead<=Ps){if(w(E),E.lookahead<=Ps&&_e===Ts)return Os;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=zn&&E.strstart>0&&(At=E.strstart-1,Xe=Zt[At],Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At])){it=E.strstart+Ps;do;while(Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At]&&Xe===Zt[++At]&&At<it);E.match_length=Ps-(it-At),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=zn?(J=ps(E,1,E.match_length-zn),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(J=ps(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),J&&(Ce(E,!1),E.strm.avail_out===0))return Os}return E.insert=0,_e===Ga?(Ce(E,!0),E.strm.avail_out===0?Ti:pi):E.sym_next&&(Ce(E,!1),E.strm.avail_out===0)?Os:si},Be=(E,_e)=>{let J;for(;;){if(E.lookahead===0&&(w(E),E.lookahead===0)){if(_e===Ts)return Os;break}if(E.match_length=0,J=ps(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,J&&(Ce(E,!1),E.strm.avail_out===0))return Os}return E.insert=0,_e===Ga?(Ce(E,!0),E.strm.avail_out===0?Ti:pi):E.sym_next&&(Ce(E,!1),E.strm.avail_out===0)?Os:si};function me(E,_e,J,Xe,At){this.good_length=E,this.max_lazy=_e,this.nice_length=J,this.max_chain=Xe,this.func=At}const ye=[new me(0,0,0,0,P),new me(4,4,8,4,z),new me(4,5,16,8,z),new me(4,6,32,32,z),new me(4,4,16,16,Y),new me(8,16,32,32,Y),new me(8,16,128,128,Y),new me(8,32,128,256,Y),new me(32,128,258,1024,Y),new me(32,258,258,4096,Y)],De=E=>{E.window_size=2*E.w_size,ne(E.head),E.max_lazy_match=ye[E.level].max_lazy,E.good_match=ye[E.level].good_length,E.nice_match=ye[E.level].nice_length,E.max_chain_length=ye[E.level].max_chain,E.strstart=0,E.block_start=0,E.lookahead=0,E.insert=0,E.match_length=E.prev_length=zn-1,E.match_available=0,E.ins_h=0};function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ki,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ec*2),this.dyn_dtree=new Uint16Array((2*Ho+1)*2),this.bl_tree=new Uint16Array((2*oo+1)*2),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Xs+1),this.heap=new Uint16Array(2*Xa+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Xa+1),ne(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ze=E=>{if(!E)return 1;const _e=E.state;return!_e||_e.strm!==E||_e.status!==lo&&_e.status!==Ss&&_e.status!==Ri&&_e.status!==Rs&&_e.status!==Cs&&_e.status!==qi&&_e.status!==co&&_e.status!==da?1:0},st=E=>{if(Ze(E))return Ut(E,ri);E.total_in=E.total_out=0,E.data_type=ao;const _e=E.state;return _e.pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap===2?Ss:_e.wrap?lo:co,E.adler=_e.wrap===2?0:1,_e.last_flush=-2,qs(_e),Ma},Pe=E=>{const _e=st(E);return _e===Ma&&De(E.state),_e},gt=(E,_e)=>Ze(E)||E.state.wrap!==2?ri:(E.state.gzhead=_e,Ma),pt=(E,_e,J,Xe,At,it)=>{if(!E)return ri;let Zt=1;if(_e===el&&(_e=6),Xe<0?(Zt=0,Xe=-Xe):Xe>15&&(Zt=2,Xe-=16),At<1||At>so||J!==ki||Xe<8||Xe>15||_e<0||_e>9||it<0||it>vl||Xe===8&&Zt!==1)return Ut(E,ri);Xe===8&&(Xe=9);const Wt=new ze;return E.state=Wt,Wt.strm=E,Wt.status=lo,Wt.wrap=Zt,Wt.gzhead=null,Wt.w_bits=Xe,Wt.w_size=1<<Wt.w_bits,Wt.w_mask=Wt.w_size-1,Wt.hash_bits=At+7,Wt.hash_size=1<<Wt.hash_bits,Wt.hash_mask=Wt.hash_size-1,Wt.hash_shift=~~((Wt.hash_bits+zn-1)/zn),Wt.window=new Uint8Array(Wt.w_size*2),Wt.head=new Uint16Array(Wt.hash_size),Wt.prev=new Uint16Array(Wt.w_size),Wt.lit_bufsize=1<<At+6,Wt.pending_buf_size=Wt.lit_bufsize*4,Wt.pending_buf=new Uint8Array(Wt.pending_buf_size),Wt.sym_buf=Wt.lit_bufsize,Wt.sym_end=(Wt.lit_bufsize-1)*3,Wt.level=_e,Wt.strategy=it,Wt.method=J,Pe(E)},xt=(E,_e)=>pt(E,_e,ki,ko,io,qa),rt=(E,_e)=>{if(Ze(E)||_e>Ii||_e<0)return E?Ut(E,ri):ri;const J=E.state;if(!E.output||E.avail_in!==0&&!E.input||J.status===da&&_e!==Ga)return Ut(E,E.avail_out===0?Ql:ri);const Xe=J.last_flush;if(J.last_flush=_e,J.pending!==0){if(ee(E),E.avail_out===0)return J.last_flush=-1,Ma}else if(E.avail_in===0&&Q(_e)<=Q(Xe)&&_e!==Ga)return Ut(E,Ql);if(J.status===da&&E.avail_in!==0)return Ut(E,Ql);if(J.status===lo&&J.wrap===0&&(J.status=co),J.status===lo){let At=ki+(J.w_bits-8<<4)<<8,it=-1;if(J.strategy>=Gi||J.level<2?it=0:J.level<6?it=1:J.level===6?it=2:it=3,At|=it<<6,J.strstart!==0&&(At|=ai),At+=31-At%31,Ge(J,At),J.strstart!==0&&(Ge(J,E.adler>>>16),Ge(J,E.adler&65535)),E.adler=1,J.status=co,ee(E),J.pending!==0)return J.last_flush=-1,Ma}if(J.status===Ss){if(E.adler=0,Oe(J,31),Oe(J,139),Oe(J,8),J.gzhead)Oe(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),Oe(J,J.gzhead.time&255),Oe(J,J.gzhead.time>>8&255),Oe(J,J.gzhead.time>>16&255),Oe(J,J.gzhead.time>>24&255),Oe(J,J.level===9?2:J.strategy>=Gi||J.level<2?4:0),Oe(J,J.gzhead.os&255),J.gzhead.extra&&J.gzhead.extra.length&&(Oe(J,J.gzhead.extra.length&255),Oe(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(E.adler=Dn(E.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=Ri;else if(Oe(J,0),Oe(J,0),Oe(J,0),Oe(J,0),Oe(J,0),Oe(J,J.level===9?2:J.strategy>=Gi||J.level<2?4:0),Oe(J,uo),J.status=co,ee(E),J.pending!==0)return J.last_flush=-1,Ma}if(J.status===Ri){if(J.gzhead.extra){let At=J.pending,it=(J.gzhead.extra.length&65535)-J.gzindex;for(;J.pending+it>J.pending_buf_size;){let Wt=J.pending_buf_size-J.pending;if(J.pending_buf.set(J.gzhead.extra.subarray(J.gzindex,J.gzindex+Wt),J.pending),J.pending=J.pending_buf_size,J.gzhead.hcrc&&J.pending>At&&(E.adler=Dn(E.adler,J.pending_buf,J.pending-At,At)),J.gzindex+=Wt,ee(E),J.pending!==0)return J.last_flush=-1,Ma;At=0,it-=Wt}let Zt=new Uint8Array(J.gzhead.extra);J.pending_buf.set(Zt.subarray(J.gzindex,J.gzindex+it),J.pending),J.pending+=it,J.gzhead.hcrc&&J.pending>At&&(E.adler=Dn(E.adler,J.pending_buf,J.pending-At,At)),J.gzindex=0}J.status=Rs}if(J.status===Rs){if(J.gzhead.name){let At=J.pending,it;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>At&&(E.adler=Dn(E.adler,J.pending_buf,J.pending-At,At)),ee(E),J.pending!==0)return J.last_flush=-1,Ma;At=0}J.gzindex<J.gzhead.name.length?it=J.gzhead.name.charCodeAt(J.gzindex++)&255:it=0,Oe(J,it)}while(it!==0);J.gzhead.hcrc&&J.pending>At&&(E.adler=Dn(E.adler,J.pending_buf,J.pending-At,At)),J.gzindex=0}J.status=Cs}if(J.status===Cs){if(J.gzhead.comment){let At=J.pending,it;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>At&&(E.adler=Dn(E.adler,J.pending_buf,J.pending-At,At)),ee(E),J.pending!==0)return J.last_flush=-1,Ma;At=0}J.gzindex<J.gzhead.comment.length?it=J.gzhead.comment.charCodeAt(J.gzindex++)&255:it=0,Oe(J,it)}while(it!==0);J.gzhead.hcrc&&J.pending>At&&(E.adler=Dn(E.adler,J.pending_buf,J.pending-At,At))}J.status=qi}if(J.status===qi){if(J.gzhead.hcrc){if(J.pending+2>J.pending_buf_size&&(ee(E),J.pending!==0))return J.last_flush=-1,Ma;Oe(J,E.adler&255),Oe(J,E.adler>>8&255),E.adler=0}if(J.status=co,ee(E),J.pending!==0)return J.last_flush=-1,Ma}if(E.avail_in!==0||J.lookahead!==0||_e!==Ts&&J.status!==da){let At=J.level===0?P(J,_e):J.strategy===Gi?Be(J,_e):J.strategy===oa?te(J,_e):ye[J.level].func(J,_e);if((At===Ti||At===pi)&&(J.status=da),At===Os||At===Ti)return E.avail_out===0&&(J.last_flush=-1),Ma;if(At===si&&(_e===vs?us(J):_e!==Ii&&(vn(J,0,0,!1),_e===Ai&&(ne(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),ee(E),E.avail_out===0))return J.last_flush=-1,Ma}return _e!==Ga?Ma:J.wrap<=0?Rl:(J.wrap===2?(Oe(J,E.adler&255),Oe(J,E.adler>>8&255),Oe(J,E.adler>>16&255),Oe(J,E.adler>>24&255),Oe(J,E.total_in&255),Oe(J,E.total_in>>8&255),Oe(J,E.total_in>>16&255),Oe(J,E.total_in>>24&255)):(Ge(J,E.adler>>>16),Ge(J,E.adler&65535)),ee(E),J.wrap>0&&(J.wrap=-J.wrap),J.pending!==0?Ma:Rl)},Ft=E=>{if(Ze(E))return ri;const _e=E.state.status;return E.state=null,_e===co?Ut(E,Zo):Ma},Vt=(E,_e)=>{let J=_e.length;if(Ze(E))return ri;const Xe=E.state,At=Xe.wrap;if(At===2||At===1&&Xe.status!==lo||Xe.lookahead)return ri;if(At===1&&(E.adler=Nr(E.adler,_e,J,0)),Xe.wrap=0,J>=Xe.w_size){At===0&&(ne(Xe.head),Xe.strstart=0,Xe.block_start=0,Xe.insert=0);let yn=new Uint8Array(Xe.w_size);yn.set(_e.subarray(J-Xe.w_size,J),0),_e=yn,J=Xe.w_size}const it=E.avail_in,Zt=E.next_in,Wt=E.input;for(E.avail_in=J,E.next_in=0,E.input=_e,w(Xe);Xe.lookahead>=zn;){let yn=Xe.strstart,Pt=Xe.lookahead-(zn-1);do Xe.ins_h=H(Xe,Xe.ins_h,Xe.window[yn+zn-1]),Xe.prev[yn&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=yn,yn++;while(--Pt);Xe.strstart=yn,Xe.lookahead=zn-1,w(Xe)}return Xe.strstart+=Xe.lookahead,Xe.block_start=Xe.strstart,Xe.insert=Xe.lookahead,Xe.lookahead=0,Xe.match_length=Xe.prev_length=zn-1,Xe.match_available=0,E.next_in=Zt,E.input=Wt,E.avail_in=it,Xe.wrap=At,Ma};var Bt=xt,et=pt,Qt=Pe,or=st,Gt=gt,It=rt,ir=Ft,nt=Vt,ut="pako deflate (from Nodeca project)",St={deflateInit:Bt,deflateInit2:et,deflateReset:Qt,deflateResetKeep:or,deflateSetHeader:Gt,deflate:It,deflateEnd:ir,deflateSetDictionary:nt,deflateInfo:ut};const Et=(E,_e)=>Object.prototype.hasOwnProperty.call(E,_e);var lr=function(E){const _e=Array.prototype.slice.call(arguments,1);for(;_e.length;){const J=_e.shift();if(J){if(typeof J!="object")throw new TypeError(J+"must be non-object");for(const Xe in J)Et(J,Xe)&&(E[Xe]=J[Xe])}}return E},Ar=E=>{let _e=0;for(let Xe=0,At=E.length;Xe<At;Xe++)_e+=E[Xe].length;const J=new Uint8Array(_e);for(let Xe=0,At=0,it=E.length;Xe<it;Xe++){let Zt=E[Xe];J.set(Zt,At),At+=Zt.length}return J},vr={assign:lr,flattenChunks:Ar};let Jt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jt=!1}const mr=new Uint8Array(256);for(let E=0;E<256;E++)mr[E]=E>=252?6:E>=248?5:E>=240?4:E>=224?3:E>=192?2:1;mr[254]=mr[254]=1;var qr=E=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(E);let _e,J,Xe,At,it,Zt=E.length,Wt=0;for(At=0;At<Zt;At++)J=E.charCodeAt(At),(J&64512)===55296&&At+1<Zt&&(Xe=E.charCodeAt(At+1),(Xe&64512)===56320&&(J=65536+(J-55296<<10)+(Xe-56320),At++)),Wt+=J<128?1:J<2048?2:J<65536?3:4;for(_e=new Uint8Array(Wt),it=0,At=0;it<Wt;At++)J=E.charCodeAt(At),(J&64512)===55296&&At+1<Zt&&(Xe=E.charCodeAt(At+1),(Xe&64512)===56320&&(J=65536+(J-55296<<10)+(Xe-56320),At++)),J<128?_e[it++]=J:J<2048?(_e[it++]=192|J>>>6,_e[it++]=128|J&63):J<65536?(_e[it++]=224|J>>>12,_e[it++]=128|J>>>6&63,_e[it++]=128|J&63):(_e[it++]=240|J>>>18,_e[it++]=128|J>>>12&63,_e[it++]=128|J>>>6&63,_e[it++]=128|J&63);return _e};const Lr=(E,_e)=>{if(_e<65534&&E.subarray&&Jt)return String.fromCharCode.apply(null,E.length===_e?E:E.subarray(0,_e));let J="";for(let Xe=0;Xe<_e;Xe++)J+=String.fromCharCode(E[Xe]);return J};var Ye=(E,_e)=>{const J=_e||E.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(E.subarray(0,_e));let Xe,At;const it=new Array(J*2);for(At=0,Xe=0;Xe<J;){let Zt=E[Xe++];if(Zt<128){it[At++]=Zt;continue}let Wt=mr[Zt];if(Wt>4){it[At++]=65533,Xe+=Wt-1;continue}for(Zt&=Wt===2?31:Wt===3?15:7;Wt>1&&Xe<J;)Zt=Zt<<6|E[Xe++]&63,Wt--;if(Wt>1){it[At++]=65533;continue}Zt<65536?it[At++]=Zt:(Zt-=65536,it[At++]=55296|Zt>>10&1023,it[At++]=56320|Zt&1023)}return Lr(it,At)},vt=(E,_e)=>{_e=_e||E.length,_e>E.length&&(_e=E.length);let J=_e-1;for(;J>=0&&(E[J]&192)===128;)J--;return J<0||J===0?_e:J+mr[E[J]]>_e?J:_e},jt={string2buf:qr,buf2string:Ye,utf8border:vt};function Ht(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zt=Ht;const rr=Object.prototype.toString,{Z_NO_FLUSH:pr,Z_SYNC_FLUSH:gr,Z_FULL_FLUSH:Tr,Z_FINISH:Xr,Z_OK:xn,Z_STREAM_END:jn,Z_DEFAULT_COMPRESSION:aa,Z_DEFAULT_STRATEGY:dt,Z_DEFLATED:cn}=Ka;function ua(E){this.options=vr.assign({level:aa,method:cn,chunkSize:16384,windowBits:15,memLevel:8,strategy:dt},E||{});let _e=this.options;_e.raw&&_e.windowBits>0?_e.windowBits=-_e.windowBits:_e.gzip&&_e.windowBits>0&&_e.windowBits<16&&(_e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zt,this.strm.avail_out=0;let J=St.deflateInit2(this.strm,_e.level,_e.method,_e.windowBits,_e.memLevel,_e.strategy);if(J!==xn)throw new Error(_r[J]);if(_e.header&&St.deflateSetHeader(this.strm,_e.header),_e.dictionary){let Xe;if(typeof _e.dictionary=="string"?Xe=jt.string2buf(_e.dictionary):rr.call(_e.dictionary)==="[object ArrayBuffer]"?Xe=new Uint8Array(_e.dictionary):Xe=_e.dictionary,J=St.deflateSetDictionary(this.strm,Xe),J!==xn)throw new Error(_r[J]);this._dict_set=!0}}ua.prototype.push=function(E,_e){const J=this.strm,Xe=this.options.chunkSize;let At,it;if(this.ended)return!1;for(_e===~~_e?it=_e:it=_e===!0?Xr:pr,typeof E=="string"?J.input=jt.string2buf(E):rr.call(E)==="[object ArrayBuffer]"?J.input=new Uint8Array(E):J.input=E,J.next_in=0,J.avail_in=J.input.length;;){if(J.avail_out===0&&(J.output=new Uint8Array(Xe),J.next_out=0,J.avail_out=Xe),(it===gr||it===Tr)&&J.avail_out<=6){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(At=St.deflate(J,it),At===jn)return J.next_out>0&&this.onData(J.output.subarray(0,J.next_out)),At=St.deflateEnd(this.strm),this.onEnd(At),this.ended=!0,At===xn;if(J.avail_out===0){this.onData(J.output);continue}if(it>0&&J.next_out>0){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(J.avail_in===0)break}return!0},ua.prototype.onData=function(E){this.chunks.push(E)},ua.prototype.onEnd=function(E){E===xn&&(this.result=vr.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg};function on(E,_e){const J=new ua(_e);if(J.push(E,!0),J.err)throw J.msg||_r[J.err];return J.result}function Ur(E,_e){return _e=_e||{},_e.raw=!0,on(E,_e)}function ra(E,_e){return _e=_e||{},_e.gzip=!0,on(E,_e)}var Pn=ua,qn=on,On=Ur,is=ra,Fa={Deflate:Pn,deflate:qn,deflateRaw:On,gzip:is};const kn=16209,Ja=16191;var na=function(_e,J){let Xe,At,it,Zt,Wt,yn,Pt,ar,ha,dn,Or,yr,Is,pa,ea,xa,$a,tn,ba,Ws,Xn,Za,Ba,Ln;const ia=_e.state;Xe=_e.next_in,Ba=_e.input,At=Xe+(_e.avail_in-5),it=_e.next_out,Ln=_e.output,Zt=it-(J-_e.avail_out),Wt=it+(_e.avail_out-257),yn=ia.dmax,Pt=ia.wsize,ar=ia.whave,ha=ia.wnext,dn=ia.window,Or=ia.hold,yr=ia.bits,Is=ia.lencode,pa=ia.distcode,ea=(1<<ia.lenbits)-1,xa=(1<<ia.distbits)-1;e:do{yr<15&&(Or+=Ba[Xe++]<<yr,yr+=8,Or+=Ba[Xe++]<<yr,yr+=8),$a=Is[Or&ea];t:for(;;){if(tn=$a>>>24,Or>>>=tn,yr-=tn,tn=$a>>>16&255,tn===0)Ln[it++]=$a&65535;else if(tn&16){ba=$a&65535,tn&=15,tn&&(yr<tn&&(Or+=Ba[Xe++]<<yr,yr+=8),ba+=Or&(1<<tn)-1,Or>>>=tn,yr-=tn),yr<15&&(Or+=Ba[Xe++]<<yr,yr+=8,Or+=Ba[Xe++]<<yr,yr+=8),$a=pa[Or&xa];r:for(;;){if(tn=$a>>>24,Or>>>=tn,yr-=tn,tn=$a>>>16&255,tn&16){if(Ws=$a&65535,tn&=15,yr<tn&&(Or+=Ba[Xe++]<<yr,yr+=8,yr<tn&&(Or+=Ba[Xe++]<<yr,yr+=8)),Ws+=Or&(1<<tn)-1,Ws>yn){_e.msg="invalid distance too far back",ia.mode=kn;break e}if(Or>>>=tn,yr-=tn,tn=it-Zt,Ws>tn){if(tn=Ws-tn,tn>ar&&ia.sane){_e.msg="invalid distance too far back",ia.mode=kn;break e}if(Xn=0,Za=dn,ha===0){if(Xn+=Pt-tn,tn<ba){ba-=tn;do Ln[it++]=dn[Xn++];while(--tn);Xn=it-Ws,Za=Ln}}else if(ha<tn){if(Xn+=Pt+ha-tn,tn-=ha,tn<ba){ba-=tn;do Ln[it++]=dn[Xn++];while(--tn);if(Xn=0,ha<ba){tn=ha,ba-=tn;do Ln[it++]=dn[Xn++];while(--tn);Xn=it-Ws,Za=Ln}}}else if(Xn+=ha-tn,tn<ba){ba-=tn;do Ln[it++]=dn[Xn++];while(--tn);Xn=it-Ws,Za=Ln}for(;ba>2;)Ln[it++]=Za[Xn++],Ln[it++]=Za[Xn++],Ln[it++]=Za[Xn++],ba-=3;ba&&(Ln[it++]=Za[Xn++],ba>1&&(Ln[it++]=Za[Xn++]))}else{Xn=it-Ws;do Ln[it++]=Ln[Xn++],Ln[it++]=Ln[Xn++],Ln[it++]=Ln[Xn++],ba-=3;while(ba>2);ba&&(Ln[it++]=Ln[Xn++],ba>1&&(Ln[it++]=Ln[Xn++]))}}else if((tn&64)===0){$a=pa[($a&65535)+(Or&(1<<tn)-1)];continue r}else{_e.msg="invalid distance code",ia.mode=kn;break e}break}}else if((tn&64)===0){$a=Is[($a&65535)+(Or&(1<<tn)-1)];continue t}else if(tn&32){ia.mode=Ja;break e}else{_e.msg="invalid literal/length code",ia.mode=kn;break e}break}}while(Xe<At&&it<Wt);ba=yr>>3,Xe-=ba,yr-=ba<<3,Or&=(1<<yr)-1,_e.next_in=Xe,_e.next_out=it,_e.avail_in=Xe<At?5+(At-Xe):5-(Xe-At),_e.avail_out=it<Wt?257+(Wt-it):257-(it-Wt),ia.hold=Or,ia.bits=yr};const Bn=15,sa=852,Sn=592,ma=0,ts=1,_a=2,La=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hs=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Wn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xs=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Hn=(E,_e,J,Xe,At,it,Zt,Wt)=>{const yn=Wt.bits;let Pt=0,ar=0,ha=0,dn=0,Or=0,yr=0,Is=0,pa=0,ea=0,xa=0,$a,tn,ba,Ws,Xn,Za=null,Ba;const Ln=new Uint16Array(Bn+1),ia=new Uint16Array(Bn+1);let Zi=null,Bl,fo,Hi;for(Pt=0;Pt<=Bn;Pt++)Ln[Pt]=0;for(ar=0;ar<Xe;ar++)Ln[_e[J+ar]]++;for(Or=yn,dn=Bn;dn>=1&&Ln[dn]===0;dn--);if(Or>dn&&(Or=dn),dn===0)return At[it++]=1<<24|64<<16|0,At[it++]=1<<24|64<<16|0,Wt.bits=1,0;for(ha=1;ha<dn&&Ln[ha]===0;ha++);for(Or<ha&&(Or=ha),pa=1,Pt=1;Pt<=Bn;Pt++)if(pa<<=1,pa-=Ln[Pt],pa<0)return-1;if(pa>0&&(E===ma||dn!==1))return-1;for(ia[1]=0,Pt=1;Pt<Bn;Pt++)ia[Pt+1]=ia[Pt]+Ln[Pt];for(ar=0;ar<Xe;ar++)_e[J+ar]!==0&&(Zt[ia[_e[J+ar]]++]=ar);if(E===ma?(Za=Zi=Zt,Ba=20):E===ts?(Za=La,Zi=Hs,Ba=257):(Za=Wn,Zi=xs,Ba=0),xa=0,ar=0,Pt=ha,Xn=it,yr=Or,Is=0,ba=-1,ea=1<<Or,Ws=ea-1,E===ts&&ea>sa||E===_a&&ea>Sn)return 1;for(;;){Bl=Pt-Is,Zt[ar]+1<Ba?(fo=0,Hi=Zt[ar]):Zt[ar]>=Ba?(fo=Zi[Zt[ar]-Ba],Hi=Za[Zt[ar]-Ba]):(fo=96,Hi=0),$a=1<<Pt-Is,tn=1<<yr,ha=tn;do tn-=$a,At[Xn+(xa>>Is)+tn]=Bl<<24|fo<<16|Hi|0;while(tn!==0);for($a=1<<Pt-1;xa&$a;)$a>>=1;if($a!==0?(xa&=$a-1,xa+=$a):xa=0,ar++,--Ln[Pt]===0){if(Pt===dn)break;Pt=_e[J+Zt[ar]]}if(Pt>Or&&(xa&Ws)!==ba){for(Is===0&&(Is=Or),Xn+=ha,yr=Pt-Is,pa=1<<yr;yr+Is<dn&&(pa-=Ln[yr+Is],!(pa<=0));)yr++,pa<<=1;if(ea+=1<<yr,E===ts&&ea>sa||E===_a&&ea>Sn)return 1;ba=xa&Ws,At[ba]=Or<<24|yr<<16|Xn-it|0}}return xa!==0&&(At[Xn+xa]=Pt-Is<<24|64<<16|0),Wt.bits=Or,0};const ys=0,ga=1,wn=2,{Z_FINISH:Wa,Z_BLOCK:fc,Z_TREES:wi,Z_OK:Xi,Z_STREAM_END:Hl,Z_NEED_DICT:la,Z_STREAM_ERROR:ii,Z_DATA_ERROR:Yi,Z_MEM_ERROR:tl,Z_BUF_ERROR:mi,Z_DEFLATED:Ns}=Ka,hi=16180,Qi=16181,pc=16182,Fi=16183,To=16184,Wl=16185,xl=16186,Pi=16187,Fo=16188,rl=16189,yo=16190,Ao=16191,yl=16192,nl=16193,$l=16194,vd=16195,tc=16196,xd=16197,mc=16198,bo=16199,gc=16200,Fc=16201,Kc=16202,al=16203,Gc=16204,qc=16205,bl=16206,Xc=16207,Pc=16208,fa=16209,yd=16210,jl=16211,As=852,bd=592,fi=15,zl=E=>(E>>>24&255)+(E>>>8&65280)+((E&65280)<<8)+((E&255)<<24);function vc(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sl=E=>{if(!E)return 1;const _e=E.state;return!_e||_e.strm!==E||_e.mode<hi||_e.mode>jl?1:0},Yc=E=>{if(sl(E))return ii;const _e=E.state;return E.total_in=E.total_out=_e.total=0,E.msg="",_e.wrap&&(E.adler=_e.wrap&1),_e.mode=hi,_e.last=0,_e.havedict=0,_e.flags=-1,_e.dmax=32768,_e.head=null,_e.hold=0,_e.bits=0,_e.lencode=_e.lendyn=new Int32Array(As),_e.distcode=_e.distdyn=new Int32Array(bd),_e.sane=1,_e.back=-1,Xi},jo=E=>{if(sl(E))return ii;const _e=E.state;return _e.wsize=0,_e.whave=0,_e.wnext=0,Yc(E)},jd=(E,_e)=>{let J;if(sl(E))return ii;const Xe=E.state;return _e<0?(J=0,_e=-_e):(J=(_e>>4)+5,_e<48&&(_e&=15)),_e&&(_e<8||_e>15)?ii:(Xe.window!==null&&Xe.wbits!==_e&&(Xe.window=null),Xe.wrap=J,Xe.wbits=_e,jo(E))},Oc=(E,_e)=>{if(!E)return ii;const J=new vc;E.state=J,J.strm=E,J.window=null,J.mode=hi;const Xe=jd(E,_e);return Xe!==Xi&&(E.state=null),Xe},wd=E=>Oc(E,fi);let xc=!0,Mc,Dc;const _c=E=>{if(xc){Mc=new Int32Array(512),Dc=new Int32Array(32);let _e=0;for(;_e<144;)E.lens[_e++]=8;for(;_e<256;)E.lens[_e++]=9;for(;_e<280;)E.lens[_e++]=7;for(;_e<288;)E.lens[_e++]=8;for(Hn(ga,E.lens,0,288,Mc,0,E.work,{bits:9}),_e=0;_e<32;)E.lens[_e++]=5;Hn(wn,E.lens,0,32,Dc,0,E.work,{bits:5}),xc=!1}E.lencode=Mc,E.lenbits=9,E.distcode=Dc,E.distbits=5},Lc=(E,_e,J,Xe)=>{let At;const it=E.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),Xe>=it.wsize?(it.window.set(_e.subarray(J-it.wsize,J),0),it.wnext=0,it.whave=it.wsize):(At=it.wsize-it.wnext,At>Xe&&(At=Xe),it.window.set(_e.subarray(J-Xe,J-Xe+At),it.wnext),Xe-=At,Xe?(it.window.set(_e.subarray(J-Xe,J),0),it.wnext=Xe,it.whave=it.wsize):(it.wnext+=At,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=At))),0},Cd=(E,_e)=>{let J,Xe,At,it,Zt,Wt,yn,Pt,ar,ha,dn,Or,yr,Is,pa=0,ea,xa,$a,tn,ba,Ws,Xn,Za;const Ba=new Uint8Array(4);let Ln,ia;const Zi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sl(E)||!E.output||!E.input&&E.avail_in!==0)return ii;J=E.state,J.mode===Ao&&(J.mode=yl),Zt=E.next_out,At=E.output,yn=E.avail_out,it=E.next_in,Xe=E.input,Wt=E.avail_in,Pt=J.hold,ar=J.bits,ha=Wt,dn=yn,Za=Xi;e:for(;;)switch(J.mode){case hi:if(J.wrap===0){J.mode=yl;break}for(;ar<16;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(J.wrap&2&&Pt===35615){J.wbits===0&&(J.wbits=15),J.check=0,Ba[0]=Pt&255,Ba[1]=Pt>>>8&255,J.check=Dn(J.check,Ba,2,0),Pt=0,ar=0,J.mode=Qi;break}if(J.head&&(J.head.done=!1),!(J.wrap&1)||(((Pt&255)<<8)+(Pt>>8))%31){E.msg="incorrect header check",J.mode=fa;break}if((Pt&15)!==Ns){E.msg="unknown compression method",J.mode=fa;break}if(Pt>>>=4,ar-=4,Xn=(Pt&15)+8,J.wbits===0&&(J.wbits=Xn),Xn>15||Xn>J.wbits){E.msg="invalid window size",J.mode=fa;break}J.dmax=1<<J.wbits,J.flags=0,E.adler=J.check=1,J.mode=Pt&512?rl:Ao,Pt=0,ar=0;break;case Qi:for(;ar<16;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(J.flags=Pt,(J.flags&255)!==Ns){E.msg="unknown compression method",J.mode=fa;break}if(J.flags&57344){E.msg="unknown header flags set",J.mode=fa;break}J.head&&(J.head.text=Pt>>8&1),J.flags&512&&J.wrap&4&&(Ba[0]=Pt&255,Ba[1]=Pt>>>8&255,J.check=Dn(J.check,Ba,2,0)),Pt=0,ar=0,J.mode=pc;case pc:for(;ar<32;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}J.head&&(J.head.time=Pt),J.flags&512&&J.wrap&4&&(Ba[0]=Pt&255,Ba[1]=Pt>>>8&255,Ba[2]=Pt>>>16&255,Ba[3]=Pt>>>24&255,J.check=Dn(J.check,Ba,4,0)),Pt=0,ar=0,J.mode=Fi;case Fi:for(;ar<16;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}J.head&&(J.head.xflags=Pt&255,J.head.os=Pt>>8),J.flags&512&&J.wrap&4&&(Ba[0]=Pt&255,Ba[1]=Pt>>>8&255,J.check=Dn(J.check,Ba,2,0)),Pt=0,ar=0,J.mode=To;case To:if(J.flags&1024){for(;ar<16;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}J.length=Pt,J.head&&(J.head.extra_len=Pt),J.flags&512&&J.wrap&4&&(Ba[0]=Pt&255,Ba[1]=Pt>>>8&255,J.check=Dn(J.check,Ba,2,0)),Pt=0,ar=0}else J.head&&(J.head.extra=null);J.mode=Wl;case Wl:if(J.flags&1024&&(Or=J.length,Or>Wt&&(Or=Wt),Or&&(J.head&&(Xn=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Uint8Array(J.head.extra_len)),J.head.extra.set(Xe.subarray(it,it+Or),Xn)),J.flags&512&&J.wrap&4&&(J.check=Dn(J.check,Xe,Or,it)),Wt-=Or,it+=Or,J.length-=Or),J.length))break e;J.length=0,J.mode=xl;case xl:if(J.flags&2048){if(Wt===0)break e;Or=0;do Xn=Xe[it+Or++],J.head&&Xn&&J.length<65536&&(J.head.name+=String.fromCharCode(Xn));while(Xn&&Or<Wt);if(J.flags&512&&J.wrap&4&&(J.check=Dn(J.check,Xe,Or,it)),Wt-=Or,it+=Or,Xn)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=Pi;case Pi:if(J.flags&4096){if(Wt===0)break e;Or=0;do Xn=Xe[it+Or++],J.head&&Xn&&J.length<65536&&(J.head.comment+=String.fromCharCode(Xn));while(Xn&&Or<Wt);if(J.flags&512&&J.wrap&4&&(J.check=Dn(J.check,Xe,Or,it)),Wt-=Or,it+=Or,Xn)break e}else J.head&&(J.head.comment=null);J.mode=Fo;case Fo:if(J.flags&512){for(;ar<16;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(J.wrap&4&&Pt!==(J.check&65535)){E.msg="header crc mismatch",J.mode=fa;break}Pt=0,ar=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),E.adler=J.check=0,J.mode=Ao;break;case rl:for(;ar<32;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}E.adler=J.check=zl(Pt),Pt=0,ar=0,J.mode=yo;case yo:if(J.havedict===0)return E.next_out=Zt,E.avail_out=yn,E.next_in=it,E.avail_in=Wt,J.hold=Pt,J.bits=ar,la;E.adler=J.check=1,J.mode=Ao;case Ao:if(_e===fc||_e===wi)break e;case yl:if(J.last){Pt>>>=ar&7,ar-=ar&7,J.mode=bl;break}for(;ar<3;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}switch(J.last=Pt&1,Pt>>>=1,ar-=1,Pt&3){case 0:J.mode=nl;break;case 1:if(_c(J),J.mode=bo,_e===wi){Pt>>>=2,ar-=2;break e}break;case 2:J.mode=tc;break;case 3:E.msg="invalid block type",J.mode=fa}Pt>>>=2,ar-=2;break;case nl:for(Pt>>>=ar&7,ar-=ar&7;ar<32;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if((Pt&65535)!==(Pt>>>16^65535)){E.msg="invalid stored block lengths",J.mode=fa;break}if(J.length=Pt&65535,Pt=0,ar=0,J.mode=$l,_e===wi)break e;case $l:J.mode=vd;case vd:if(Or=J.length,Or){if(Or>Wt&&(Or=Wt),Or>yn&&(Or=yn),Or===0)break e;At.set(Xe.subarray(it,it+Or),Zt),Wt-=Or,it+=Or,yn-=Or,Zt+=Or,J.length-=Or;break}J.mode=Ao;break;case tc:for(;ar<14;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(J.nlen=(Pt&31)+257,Pt>>>=5,ar-=5,J.ndist=(Pt&31)+1,Pt>>>=5,ar-=5,J.ncode=(Pt&15)+4,Pt>>>=4,ar-=4,J.nlen>286||J.ndist>30){E.msg="too many length or distance symbols",J.mode=fa;break}J.have=0,J.mode=xd;case xd:for(;J.have<J.ncode;){for(;ar<3;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}J.lens[Zi[J.have++]]=Pt&7,Pt>>>=3,ar-=3}for(;J.have<19;)J.lens[Zi[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,Ln={bits:J.lenbits},Za=Hn(ys,J.lens,0,19,J.lencode,0,J.work,Ln),J.lenbits=Ln.bits,Za){E.msg="invalid code lengths set",J.mode=fa;break}J.have=0,J.mode=mc;case mc:for(;J.have<J.nlen+J.ndist;){for(;pa=J.lencode[Pt&(1<<J.lenbits)-1],ea=pa>>>24,xa=pa>>>16&255,$a=pa&65535,!(ea<=ar);){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if($a<16)Pt>>>=ea,ar-=ea,J.lens[J.have++]=$a;else{if($a===16){for(ia=ea+2;ar<ia;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(Pt>>>=ea,ar-=ea,J.have===0){E.msg="invalid bit length repeat",J.mode=fa;break}Xn=J.lens[J.have-1],Or=3+(Pt&3),Pt>>>=2,ar-=2}else if($a===17){for(ia=ea+3;ar<ia;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}Pt>>>=ea,ar-=ea,Xn=0,Or=3+(Pt&7),Pt>>>=3,ar-=3}else{for(ia=ea+7;ar<ia;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}Pt>>>=ea,ar-=ea,Xn=0,Or=11+(Pt&127),Pt>>>=7,ar-=7}if(J.have+Or>J.nlen+J.ndist){E.msg="invalid bit length repeat",J.mode=fa;break}for(;Or--;)J.lens[J.have++]=Xn}}if(J.mode===fa)break;if(J.lens[256]===0){E.msg="invalid code -- missing end-of-block",J.mode=fa;break}if(J.lenbits=9,Ln={bits:J.lenbits},Za=Hn(ga,J.lens,0,J.nlen,J.lencode,0,J.work,Ln),J.lenbits=Ln.bits,Za){E.msg="invalid literal/lengths set",J.mode=fa;break}if(J.distbits=6,J.distcode=J.distdyn,Ln={bits:J.distbits},Za=Hn(wn,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,Ln),J.distbits=Ln.bits,Za){E.msg="invalid distances set",J.mode=fa;break}if(J.mode=bo,_e===wi)break e;case bo:J.mode=gc;case gc:if(Wt>=6&&yn>=258){E.next_out=Zt,E.avail_out=yn,E.next_in=it,E.avail_in=Wt,J.hold=Pt,J.bits=ar,na(E,dn),Zt=E.next_out,At=E.output,yn=E.avail_out,it=E.next_in,Xe=E.input,Wt=E.avail_in,Pt=J.hold,ar=J.bits,J.mode===Ao&&(J.back=-1);break}for(J.back=0;pa=J.lencode[Pt&(1<<J.lenbits)-1],ea=pa>>>24,xa=pa>>>16&255,$a=pa&65535,!(ea<=ar);){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(xa&&(xa&240)===0){for(tn=ea,ba=xa,Ws=$a;pa=J.lencode[Ws+((Pt&(1<<tn+ba)-1)>>tn)],ea=pa>>>24,xa=pa>>>16&255,$a=pa&65535,!(tn+ea<=ar);){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}Pt>>>=tn,ar-=tn,J.back+=tn}if(Pt>>>=ea,ar-=ea,J.back+=ea,J.length=$a,xa===0){J.mode=qc;break}if(xa&32){J.back=-1,J.mode=Ao;break}if(xa&64){E.msg="invalid literal/length code",J.mode=fa;break}J.extra=xa&15,J.mode=Fc;case Fc:if(J.extra){for(ia=J.extra;ar<ia;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}J.length+=Pt&(1<<J.extra)-1,Pt>>>=J.extra,ar-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=Kc;case Kc:for(;pa=J.distcode[Pt&(1<<J.distbits)-1],ea=pa>>>24,xa=pa>>>16&255,$a=pa&65535,!(ea<=ar);){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if((xa&240)===0){for(tn=ea,ba=xa,Ws=$a;pa=J.distcode[Ws+((Pt&(1<<tn+ba)-1)>>tn)],ea=pa>>>24,xa=pa>>>16&255,$a=pa&65535,!(tn+ea<=ar);){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}Pt>>>=tn,ar-=tn,J.back+=tn}if(Pt>>>=ea,ar-=ea,J.back+=ea,xa&64){E.msg="invalid distance code",J.mode=fa;break}J.offset=$a,J.extra=xa&15,J.mode=al;case al:if(J.extra){for(ia=J.extra;ar<ia;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}J.offset+=Pt&(1<<J.extra)-1,Pt>>>=J.extra,ar-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){E.msg="invalid distance too far back",J.mode=fa;break}J.mode=Gc;case Gc:if(yn===0)break e;if(Or=dn-yn,J.offset>Or){if(Or=J.offset-Or,Or>J.whave&&J.sane){E.msg="invalid distance too far back",J.mode=fa;break}Or>J.wnext?(Or-=J.wnext,yr=J.wsize-Or):yr=J.wnext-Or,Or>J.length&&(Or=J.length),Is=J.window}else Is=At,yr=Zt-J.offset,Or=J.length;Or>yn&&(Or=yn),yn-=Or,J.length-=Or;do At[Zt++]=Is[yr++];while(--Or);J.length===0&&(J.mode=gc);break;case qc:if(yn===0)break e;At[Zt++]=J.length,yn--,J.mode=gc;break;case bl:if(J.wrap){for(;ar<32;){if(Wt===0)break e;Wt--,Pt|=Xe[it++]<<ar,ar+=8}if(dn-=yn,E.total_out+=dn,J.total+=dn,J.wrap&4&&dn&&(E.adler=J.check=J.flags?Dn(J.check,At,dn,Zt-dn):Nr(J.check,At,dn,Zt-dn)),dn=yn,J.wrap&4&&(J.flags?Pt:zl(Pt))!==J.check){E.msg="incorrect data check",J.mode=fa;break}Pt=0,ar=0}J.mode=Xc;case Xc:if(J.wrap&&J.flags){for(;ar<32;){if(Wt===0)break e;Wt--,Pt+=Xe[it++]<<ar,ar+=8}if(J.wrap&4&&Pt!==(J.total&4294967295)){E.msg="incorrect length check",J.mode=fa;break}Pt=0,ar=0}J.mode=Pc;case Pc:Za=Hl;break e;case fa:Za=Yi;break e;case yd:return tl;case jl:default:return ii}return E.next_out=Zt,E.avail_out=yn,E.next_in=it,E.avail_in=Wt,J.hold=Pt,J.bits=ar,(J.wsize||dn!==E.avail_out&&J.mode<fa&&(J.mode<bl||_e!==Wa))&&Lc(E,E.output,E.next_out,dn-E.avail_out),ha-=E.avail_in,dn-=E.avail_out,E.total_in+=ha,E.total_out+=dn,J.total+=dn,J.wrap&4&&dn&&(E.adler=J.check=J.flags?Dn(J.check,At,dn,E.next_out-dn):Nr(J.check,At,dn,E.next_out-dn)),E.data_type=J.bits+(J.last?64:0)+(J.mode===Ao?128:0)+(J.mode===bo||J.mode===$l?256:0),(ha===0&&dn===0||_e===Wa)&&Za===Xi&&(Za=mi),Za},il=E=>{if(sl(E))return ii;let _e=E.state;return _e.window&&(_e.window=null),E.state=null,Xi},Du=(E,_e)=>{if(sl(E))return ii;const J=E.state;return(J.wrap&2)===0?ii:(J.head=_e,_e.done=!1,Xi)},Uc=(E,_e)=>{const J=_e.length;let Xe,At,it;return sl(E)||(Xe=E.state,Xe.wrap!==0&&Xe.mode!==yo)?ii:Xe.mode===yo&&(At=1,At=Nr(At,_e,J,0),At!==Xe.check)?Yi:(it=Lc(E,_e,J,J),it?(Xe.mode=yd,tl):(Xe.havedict=1,Xi))};var Gd=jo,_u=jd,va=Yc,rc=wd,fu=Oc,Vl=Cd,Ji=il,ol=Du,wl=Uc,qd="pako inflate (from Nodeca project)",$o={inflateReset:Gd,inflateReset2:_u,inflateResetKeep:va,inflateInit:rc,inflateInit2:fu,inflate:Vl,inflateEnd:Ji,inflateGetHeader:ol,inflateSetDictionary:wl,inflateInfo:qd};function Jc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wo=Jc;const Rc=Object.prototype.toString,{Z_NO_FLUSH:zo,Z_FINISH:Nd,Z_OK:Kl,Z_STREAM_END:Cl,Z_NEED_DICT:ll,Z_STREAM_ERROR:rs,Z_DATA_ERROR:bs,Z_MEM_ERROR:cl}=Ka;function oi(E){this.options=vr.assign({chunkSize:65536,windowBits:15,to:""},E||{});const _e=this.options;_e.raw&&_e.windowBits>=0&&_e.windowBits<16&&(_e.windowBits=-_e.windowBits,_e.windowBits===0&&(_e.windowBits=-15)),_e.windowBits>=0&&_e.windowBits<16&&!(E&&E.windowBits)&&(_e.windowBits+=32),_e.windowBits>15&&_e.windowBits<48&&(_e.windowBits&15)===0&&(_e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zt,this.strm.avail_out=0;let J=$o.inflateInit2(this.strm,_e.windowBits);if(J!==Kl)throw new Error(_r[J]);if(this.header=new wo,$o.inflateGetHeader(this.strm,this.header),_e.dictionary&&(typeof _e.dictionary=="string"?_e.dictionary=jt.string2buf(_e.dictionary):Rc.call(_e.dictionary)==="[object ArrayBuffer]"&&(_e.dictionary=new Uint8Array(_e.dictionary)),_e.raw&&(J=$o.inflateSetDictionary(this.strm,_e.dictionary),J!==Kl)))throw new Error(_r[J])}oi.prototype.push=function(E,_e){const J=this.strm,Xe=this.options.chunkSize,At=this.options.dictionary;let it,Zt,Wt;if(this.ended)return!1;for(_e===~~_e?Zt=_e:Zt=_e===!0?Nd:zo,Rc.call(E)==="[object ArrayBuffer]"?J.input=new Uint8Array(E):J.input=E,J.next_in=0,J.avail_in=J.input.length;;){for(J.avail_out===0&&(J.output=new Uint8Array(Xe),J.next_out=0,J.avail_out=Xe),it=$o.inflate(J,Zt),it===ll&&At&&(it=$o.inflateSetDictionary(J,At),it===Kl?it=$o.inflate(J,Zt):it===bs&&(it=ll));J.avail_in>0&&it===Cl&&J.state.wrap>0&&E[J.next_in]!==0;)$o.inflateReset(J),it=$o.inflate(J,Zt);switch(it){case rs:case bs:case ll:case cl:return this.onEnd(it),this.ended=!0,!1}if(Wt=J.avail_out,J.next_out&&(J.avail_out===0||it===Cl))if(this.options.to==="string"){let yn=jt.utf8border(J.output,J.next_out),Pt=J.next_out-yn,ar=jt.buf2string(J.output,yn);J.next_out=Pt,J.avail_out=Xe-Pt,Pt&&J.output.set(J.output.subarray(yn,yn+Pt),0),this.onData(ar)}else this.onData(J.output.length===J.next_out?J.output:J.output.subarray(0,J.next_out));if(!(it===Kl&&Wt===0)){if(it===Cl)return it=$o.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(J.avail_in===0)break}}return!0},oi.prototype.onData=function(E){this.chunks.push(E)},oi.prototype.onEnd=function(E){E===Kl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=vr.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg};function gi(E,_e){const J=new oi(_e);if(J.push(E),J.err)throw J.msg||_r[J.err];return J.result}function Gl(E,_e){return _e=_e||{},_e.raw=!0,gi(E,_e)}var yc=oi,ho=gi,Nl=Gl,nc=gi,Xd={Inflate:yc,inflate:ho,inflateRaw:Nl,ungzip:nc};const{Deflate:ac,deflate:Yd,deflateRaw:de,gzip:Re}=Fa,{Inflate:mt,inflate:kt,inflateRaw:Kt,ungzip:xr}=Xd;var Fr=ac,Cn=Yd,_n=de,ca=Re,Zn=mt,Na=kt,Bs=Kt,Es=xr,as=Ka,Ys={Deflate:Fr,deflate:Cn,deflateRaw:_n,gzip:ca,Inflate:Zn,inflate:Na,inflateRaw:Bs,ungzip:Es,constants:as}}),"./node_modules/performance-now/lib/performance-now.js":(function(l){(function(){var h,i,d,u,f,m;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(h()-f)/1e6},i=process.hrtime,h=function(){var v;return v=i(),v[0]*1e9+v[1]},u=h(),m=process.uptime()*1e9,f=u-m):Date.now?(l.exports=function(){return Date.now()-d},d=Date.now()):(l.exports=function(){return new Date().getTime()-d},d=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(l,h,i){for(var d=i("./node_modules/performance-now/lib/performance-now.js"),u=typeof window>"u"?aA:window,f=["moz","webkit"],m="AnimationFrame",v=u["request"+m],g=u["cancel"+m]||u["cancelRequest"+m],x=0;!v&&x<f.length;x++)v=u[f[x]+"Request"+m],g=u[f[x]+"Cancel"+m]||u[f[x]+"CancelRequest"+m];if(!v||!g){var y=0,j=0,N=[],T=1e3/60;v=function(I){if(N.length===0){var C=d(),D=Math.max(0,T-(C-y));y=D+C,setTimeout(function(){var _=N.slice(0);N.length=0;for(var Z=0;Z<_.length;Z++)if(!_[Z].cancelled)try{_[Z].callback(y)}catch(ae){setTimeout(function(){throw ae},0)}},Math.round(D))}return N.push({handle:++j,callback:I,cancelled:!1}),j},g=function(I){for(var C=0;C<N.length;C++)N[C].handle===I&&(N[C].cancelled=!0)}}l.exports=function(I){return v.call(u,I)},l.exports.cancel=function(){g.apply(u,arguments)},l.exports.polyfill=function(I){I||(I=u),I.requestAnimationFrame=v,I.cancelAnimationFrame=g}}),"./node_modules/rgbcolor/index.js":(function(l){l.exports=function(h){this.ok=!1,this.alpha=1,h.charAt(0)=="#"&&(h=h.substr(1,6)),h=h.replace(/ /g,""),h=h.toLowerCase();var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};h=i[h]||h;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],u=0;u<d.length;u++){var f=d[u].re,m=d[u].process,v=f.exec(h);if(v){var g=m(v);this.r=g[0],this.g=g[1],this.b=g[2],g.length>3&&(this.alpha=g[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),j=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),j.length==1&&(j="0"+j),"#"+x+y+j},this.getHelpXML=function(){for(var x=new Array,y=0;y<d.length;y++)for(var j=d[y].example,N=0;N<j.length;N++)x[x.length]=j[N];for(var T in i)x[x.length]=T;var I=document.createElement("ul");I.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var C=document.createElement("li"),D=new RGBColor(x[y]),_=document.createElement("div");_.style.cssText="margin: 3px; border: 1px solid black; background:"+D.toHex()+"; color:"+D.toHex(),_.appendChild(document.createTextNode("test"));var Z=document.createTextNode(" "+x[y]+" -> "+D.toRGB()+" -> "+D.toHex());C.appendChild(_),C.appendChild(Z),I.appendChild(C)}catch{}return I}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(l,h,i){i.r(h),i.d(h,{BlurStack:function(){return T},canvasRGB:function(){return j},canvasRGBA:function(){return x},image:function(){return v},imageDataRGB:function(){return N},imageDataRGBA:function(){return y}});function d(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(C){return typeof C}:d=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},d(I)}function u(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}var f=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],m=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function v(I,C,D,_,Z,ae){if(typeof I=="string"&&(I=document.getElementById(I)),!(!I||Object.prototype.toString.call(I).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in I))){var V=Z?"offset":"natural",ie=I[V+"Width"],U=I[V+"Height"];if(Object.prototype.toString.call(I).slice(8,-1)==="ImageBitmap"&&(ie=I.width,U=I.height),typeof C=="string"&&(C=document.getElementById(C)),!(!C||!("getContext"in C))){ae||(C.style.width=ie+"px",C.style.height=U+"px"),C.width=ie,C.height=U;var G=C.getContext("2d");G.clearRect(0,0,ie,U),G.drawImage(I,0,0,I.naturalWidth,I.naturalHeight,0,0,ie,U),!(isNaN(D)||D<1)&&(_?x(C,0,0,ie,U,D):j(C,0,0,ie,U,D))}}}function g(I,C,D,_,Z){if(typeof I=="string"&&(I=document.getElementById(I)),!I||d(I)!=="object"||!("getContext"in I))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ae=I.getContext("2d");try{return ae.getImageData(C,D,_,Z)}catch(V){throw new Error("unable to access image data: "+V)}}function x(I,C,D,_,Z,ae){if(!(isNaN(ae)||ae<1)){ae|=0;var V=g(I,C,D,_,Z);V=y(V,C,D,_,Z,ae),I.getContext("2d").putImageData(V,C,D)}}function y(I,C,D,_,Z,ae){for(var V=I.data,ie=2*ae+1,U=_-1,G=Z-1,K=ae+1,W=K*(K+1)/2,Ne=new T,ge=Ne,Ee,Fe=1;Fe<ie;Fe++)ge=ge.next=new T,Fe===K&&(Ee=ge);ge.next=Ne;for(var he=null,le=null,ve=0,se=0,re=f[ae],Ie=m[ae],Te=0;Te<Z;Te++){ge=Ne;for(var xe=V[se],pe=V[se+1],X=V[se+2],fe=V[se+3],oe=0;oe<K;oe++)ge.r=xe,ge.g=pe,ge.b=X,ge.a=fe,ge=ge.next;for(var We=0,Ue=0,ue=0,be=0,Le=K*xe,ot=K*pe,Tt=K*X,Mt=K*fe,Nt=W*xe,qt=W*pe,Ir=W*X,fr=W*fe,He=1;He<K;He++){var Yt=se+((U<He?U:He)<<2),Ct=V[Yt],Qr=V[Yt+1],hr=V[Yt+2],nn=V[Yt+3],Gr=K-He;Nt+=(ge.r=Ct)*Gr,qt+=(ge.g=Qr)*Gr,Ir+=(ge.b=hr)*Gr,fr+=(ge.a=nn)*Gr,We+=Ct,Ue+=Qr,ue+=hr,be+=nn,ge=ge.next}he=Ne,le=Ee;for(var Vr=0;Vr<_;Vr++){var Sr=fr*re>>>Ie;if(V[se+3]=Sr,Sr!==0){var cr=255/Sr;V[se]=(Nt*re>>>Ie)*cr,V[se+1]=(qt*re>>>Ie)*cr,V[se+2]=(Ir*re>>>Ie)*cr}else V[se]=V[se+1]=V[se+2]=0;Nt-=Le,qt-=ot,Ir-=Tt,fr-=Mt,Le-=he.r,ot-=he.g,Tt-=he.b,Mt-=he.a;var wr=Vr+ae+1;wr=ve+(wr<U?wr:U)<<2,We+=he.r=V[wr],Ue+=he.g=V[wr+1],ue+=he.b=V[wr+2],be+=he.a=V[wr+3],Nt+=We,qt+=Ue,Ir+=ue,fr+=be,he=he.next;var Hr=le,Wr=Hr.r,hn=Hr.g,Rr=Hr.b,Rn=Hr.a;Le+=Wr,ot+=hn,Tt+=Rr,Mt+=Rn,We-=Wr,Ue-=hn,ue-=Rr,be-=Rn,le=le.next,se+=4}ve+=_}for(var Dr=0;Dr<_;Dr++){se=Dr<<2;var Pr=V[se],gn=V[se+1],sn=V[se+2],yt=V[se+3],Nr=K*Pr,ln=K*gn,Fn=K*sn,Kr=K*yt,Dn=W*Pr,_r=W*gn,Ka=W*sn,qs=W*yt;ge=Ne;for(var vn=0;vn<K;vn++)ge.r=Pr,ge.g=gn,ge.b=sn,ge.a=yt,ge=ge.next;for(var ui=_,ps=0,us=0,Ts=0,vs=0,Ai=1;Ai<=ae;Ai++){se=ui+Dr<<2;var Ga=K-Ai;Dn+=(ge.r=Pr=V[se])*Ga,_r+=(ge.g=gn=V[se+1])*Ga,Ka+=(ge.b=sn=V[se+2])*Ga,qs+=(ge.a=yt=V[se+3])*Ga,vs+=Pr,ps+=gn,us+=sn,Ts+=yt,ge=ge.next,Ai<G&&(ui+=_)}se=Dr,he=Ne,le=Ee;for(var Ii=0;Ii<Z;Ii++){var Ma=se<<2;V[Ma+3]=yt=qs*re>>>Ie,yt>0?(yt=255/yt,V[Ma]=(Dn*re>>>Ie)*yt,V[Ma+1]=(_r*re>>>Ie)*yt,V[Ma+2]=(Ka*re>>>Ie)*yt):V[Ma]=V[Ma+1]=V[Ma+2]=0,Dn-=Nr,_r-=ln,Ka-=Fn,qs-=Kr,Nr-=he.r,ln-=he.g,Fn-=he.b,Kr-=he.a,Ma=Dr+((Ma=Ii+K)<G?Ma:G)*_<<2,Dn+=vs+=he.r=V[Ma],_r+=ps+=he.g=V[Ma+1],Ka+=us+=he.b=V[Ma+2],qs+=Ts+=he.a=V[Ma+3],he=he.next,Nr+=Pr=le.r,ln+=gn=le.g,Fn+=sn=le.b,Kr+=yt=le.a,vs-=Pr,ps-=gn,us-=sn,Ts-=yt,le=le.next,se+=_}}return I}function j(I,C,D,_,Z,ae){if(!(isNaN(ae)||ae<1)){ae|=0;var V=g(I,C,D,_,Z);V=N(V,C,D,_,Z,ae),I.getContext("2d").putImageData(V,C,D)}}function N(I,C,D,_,Z,ae){for(var V=I.data,ie=2*ae+1,U=_-1,G=Z-1,K=ae+1,W=K*(K+1)/2,Ne=new T,ge=Ne,Ee,Fe=1;Fe<ie;Fe++)ge=ge.next=new T,Fe===K&&(Ee=ge);ge.next=Ne;for(var he=null,le=null,ve=f[ae],se=m[ae],re,Ie,Te=0,xe=0,pe=0;pe<Z;pe++){var X=V[xe],fe=V[xe+1],oe=V[xe+2],We=K*X,Ue=K*fe,ue=K*oe,be=W*X,Le=W*fe,ot=W*oe;ge=Ne;for(var Tt=0;Tt<K;Tt++)ge.r=X,ge.g=fe,ge.b=oe,ge=ge.next;for(var Mt=0,Nt=0,qt=0,Ir=1;Ir<K;Ir++)re=xe+((U<Ir?U:Ir)<<2),be+=(ge.r=X=V[re])*(Ie=K-Ir),Le+=(ge.g=fe=V[re+1])*Ie,ot+=(ge.b=oe=V[re+2])*Ie,Mt+=X,Nt+=fe,qt+=oe,ge=ge.next;he=Ne,le=Ee;for(var fr=0;fr<_;fr++)V[xe]=be*ve>>>se,V[xe+1]=Le*ve>>>se,V[xe+2]=ot*ve>>>se,be-=We,Le-=Ue,ot-=ue,We-=he.r,Ue-=he.g,ue-=he.b,re=Te+((re=fr+ae+1)<U?re:U)<<2,Mt+=he.r=V[re],Nt+=he.g=V[re+1],qt+=he.b=V[re+2],be+=Mt,Le+=Nt,ot+=qt,he=he.next,We+=X=le.r,Ue+=fe=le.g,ue+=oe=le.b,Mt-=X,Nt-=fe,qt-=oe,le=le.next,xe+=4;Te+=_}for(var He=0;He<_;He++){xe=He<<2;var Yt=V[xe],Ct=V[xe+1],Qr=V[xe+2],hr=K*Yt,nn=K*Ct,Gr=K*Qr,Vr=W*Yt,Sr=W*Ct,cr=W*Qr;ge=Ne;for(var wr=0;wr<K;wr++)ge.r=Yt,ge.g=Ct,ge.b=Qr,ge=ge.next;for(var Hr=0,Wr=0,hn=0,Rr=1,Rn=_;Rr<=ae;Rr++)xe=Rn+He<<2,Vr+=(ge.r=Yt=V[xe])*(Ie=K-Rr),Sr+=(ge.g=Ct=V[xe+1])*Ie,cr+=(ge.b=Qr=V[xe+2])*Ie,Hr+=Yt,Wr+=Ct,hn+=Qr,ge=ge.next,Rr<G&&(Rn+=_);xe=He,he=Ne,le=Ee;for(var Dr=0;Dr<Z;Dr++)re=xe<<2,V[re]=Vr*ve>>>se,V[re+1]=Sr*ve>>>se,V[re+2]=cr*ve>>>se,Vr-=hr,Sr-=nn,cr-=Gr,hr-=he.r,nn-=he.g,Gr-=he.b,re=He+((re=Dr+K)<G?re:G)*_<<2,Vr+=Hr+=he.r=V[re],Sr+=Wr+=he.g=V[re+1],cr+=hn+=he.b=V[re+2],he=he.next,hr+=Yt=le.r,nn+=Ct=le.g,Gr+=Qr=le.b,Hr-=Yt,Wr-=Ct,hn-=Qr,le=le.next,xe+=_}return I}var T=function I(){u(this,I),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(l,h,i){i.r(h),i.d(h,{COMMAND_ARG_COUNTS:function(){return G},SVGPathData:function(){return U},SVGPathDataParser:function(){return ie},SVGPathDataTransformer:function(){return j},encodeSVGPath:function(){return f}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var d=function(K,W){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ne,ge){Ne.__proto__=ge}||function(Ne,ge){for(var Ee in ge)Object.prototype.hasOwnProperty.call(ge,Ee)&&(Ne[Ee]=ge[Ee])})(K,W)};function u(K,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function Ne(){this.constructor=K}d(K,W),K.prototype=W===null?Object.create(W):(Ne.prototype=W.prototype,new Ne)}function f(K){var W="";Array.isArray(K)||(K=[K]);for(var Ne=0;Ne<K.length;Ne++){var ge=K[Ne];if(ge.type===U.CLOSE_PATH)W+="z";else if(ge.type===U.HORIZ_LINE_TO)W+=(ge.relative?"h":"H")+ge.x;else if(ge.type===U.VERT_LINE_TO)W+=(ge.relative?"v":"V")+ge.y;else if(ge.type===U.MOVE_TO)W+=(ge.relative?"m":"M")+ge.x+" "+ge.y;else if(ge.type===U.LINE_TO)W+=(ge.relative?"l":"L")+ge.x+" "+ge.y;else if(ge.type===U.CURVE_TO)W+=(ge.relative?"c":"C")+ge.x1+" "+ge.y1+" "+ge.x2+" "+ge.y2+" "+ge.x+" "+ge.y;else if(ge.type===U.SMOOTH_CURVE_TO)W+=(ge.relative?"s":"S")+ge.x2+" "+ge.y2+" "+ge.x+" "+ge.y;else if(ge.type===U.QUAD_TO)W+=(ge.relative?"q":"Q")+ge.x1+" "+ge.y1+" "+ge.x+" "+ge.y;else if(ge.type===U.SMOOTH_QUAD_TO)W+=(ge.relative?"t":"T")+ge.x+" "+ge.y;else{if(ge.type!==U.ARC)throw new Error('Unexpected command type "'+ge.type+'" at index '+Ne+".");W+=(ge.relative?"a":"A")+ge.rX+" "+ge.rY+" "+ge.xRot+" "+ +ge.lArcFlag+" "+ +ge.sweepFlag+" "+ge.x+" "+ge.y}}return W}function m(K,W){var Ne=K[0],ge=K[1];return[Ne*Math.cos(W)-ge*Math.sin(W),Ne*Math.sin(W)+ge*Math.cos(W)]}function v(){for(var K=[],W=0;W<arguments.length;W++)K[W]=arguments[W];for(var Ne=0;Ne<K.length;Ne++)if(typeof K[Ne]!="number")throw new Error("assertNumbers arguments["+Ne+"] is not a number. "+typeof K[Ne]+" == typeof "+K[Ne]);return!0}var g=Math.PI;function x(K,W,Ne){K.lArcFlag=K.lArcFlag===0?0:1,K.sweepFlag=K.sweepFlag===0?0:1;var ge=K.rX,Ee=K.rY,Fe=K.x,he=K.y;ge=Math.abs(K.rX),Ee=Math.abs(K.rY);var le=m([(W-Fe)/2,(Ne-he)/2],-K.xRot/180*g),ve=le[0],se=le[1],re=Math.pow(ve,2)/Math.pow(ge,2)+Math.pow(se,2)/Math.pow(Ee,2);1<re&&(ge*=Math.sqrt(re),Ee*=Math.sqrt(re)),K.rX=ge,K.rY=Ee;var Ie=Math.pow(ge,2)*Math.pow(se,2)+Math.pow(Ee,2)*Math.pow(ve,2),Te=(K.lArcFlag!==K.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(ge,2)*Math.pow(Ee,2)-Ie)/Ie)),xe=ge*se/Ee*Te,pe=-Ee*ve/ge*Te,X=m([xe,pe],K.xRot/180*g);K.cX=X[0]+(W+Fe)/2,K.cY=X[1]+(Ne+he)/2,K.phi1=Math.atan2((se-pe)/Ee,(ve-xe)/ge),K.phi2=Math.atan2((-se-pe)/Ee,(-ve-xe)/ge),K.sweepFlag===0&&K.phi2>K.phi1&&(K.phi2-=2*g),K.sweepFlag===1&&K.phi2<K.phi1&&(K.phi2+=2*g),K.phi1*=180/g,K.phi2*=180/g}function y(K,W,Ne){v(K,W,Ne);var ge=K*K+W*W-Ne*Ne;if(0>ge)return[];if(ge===0)return[[K*Ne/(K*K+W*W),W*Ne/(K*K+W*W)]];var Ee=Math.sqrt(ge);return[[(K*Ne+W*Ee)/(K*K+W*W),(W*Ne-K*Ee)/(K*K+W*W)],[(K*Ne-W*Ee)/(K*K+W*W),(W*Ne+K*Ee)/(K*K+W*W)]]}var j,N=Math.PI/180;function T(K,W,Ne){return(1-Ne)*K+Ne*W}function I(K,W,Ne,ge){return K+Math.cos(ge/180*g)*W+Math.sin(ge/180*g)*Ne}function C(K,W,Ne,ge){var Ee=1e-6,Fe=W-K,he=Ne-W,le=3*Fe+3*(ge-Ne)-6*he,ve=6*(he-Fe),se=3*Fe;return Math.abs(le)<Ee?[-se/ve]:(function(re,Ie,Te){var xe=re*re/4-Ie;if(xe<-Te)return[];if(xe<=Te)return[-re/2];var pe=Math.sqrt(xe);return[-re/2-pe,-re/2+pe]})(ve/le,se/le,Ee)}function D(K,W,Ne,ge,Ee){var Fe=1-Ee;return K*(Fe*Fe*Fe)+W*(3*Fe*Fe*Ee)+Ne*(3*Fe*Ee*Ee)+ge*(Ee*Ee*Ee)}(function(K){function W(){return Ee((function(le,ve,se){return le.relative&&(le.x1!==void 0&&(le.x1+=ve),le.y1!==void 0&&(le.y1+=se),le.x2!==void 0&&(le.x2+=ve),le.y2!==void 0&&(le.y2+=se),le.x!==void 0&&(le.x+=ve),le.y!==void 0&&(le.y+=se),le.relative=!1),le}))}function Ne(){var le=NaN,ve=NaN,se=NaN,re=NaN;return Ee((function(Ie,Te,xe){return Ie.type&U.SMOOTH_CURVE_TO&&(Ie.type=U.CURVE_TO,le=isNaN(le)?Te:le,ve=isNaN(ve)?xe:ve,Ie.x1=Ie.relative?Te-le:2*Te-le,Ie.y1=Ie.relative?xe-ve:2*xe-ve),Ie.type&U.CURVE_TO?(le=Ie.relative?Te+Ie.x2:Ie.x2,ve=Ie.relative?xe+Ie.y2:Ie.y2):(le=NaN,ve=NaN),Ie.type&U.SMOOTH_QUAD_TO&&(Ie.type=U.QUAD_TO,se=isNaN(se)?Te:se,re=isNaN(re)?xe:re,Ie.x1=Ie.relative?Te-se:2*Te-se,Ie.y1=Ie.relative?xe-re:2*xe-re),Ie.type&U.QUAD_TO?(se=Ie.relative?Te+Ie.x1:Ie.x1,re=Ie.relative?xe+Ie.y1:Ie.y1):(se=NaN,re=NaN),Ie}))}function ge(){var le=NaN,ve=NaN;return Ee((function(se,re,Ie){if(se.type&U.SMOOTH_QUAD_TO&&(se.type=U.QUAD_TO,le=isNaN(le)?re:le,ve=isNaN(ve)?Ie:ve,se.x1=se.relative?re-le:2*re-le,se.y1=se.relative?Ie-ve:2*Ie-ve),se.type&U.QUAD_TO){le=se.relative?re+se.x1:se.x1,ve=se.relative?Ie+se.y1:se.y1;var Te=se.x1,xe=se.y1;se.type=U.CURVE_TO,se.x1=((se.relative?0:re)+2*Te)/3,se.y1=((se.relative?0:Ie)+2*xe)/3,se.x2=(se.x+2*Te)/3,se.y2=(se.y+2*xe)/3}else le=NaN,ve=NaN;return se}))}function Ee(le){var ve=0,se=0,re=NaN,Ie=NaN;return function(Te){if(isNaN(re)&&!(Te.type&U.MOVE_TO))throw new Error("path must start with moveto");var xe=le(Te,ve,se,re,Ie);return Te.type&U.CLOSE_PATH&&(ve=re,se=Ie),Te.x!==void 0&&(ve=Te.relative?ve+Te.x:Te.x),Te.y!==void 0&&(se=Te.relative?se+Te.y:Te.y),Te.type&U.MOVE_TO&&(re=ve,Ie=se),xe}}function Fe(le,ve,se,re,Ie,Te){return v(le,ve,se,re,Ie,Te),Ee((function(xe,pe,X,fe){var oe=xe.x1,We=xe.x2,Ue=xe.relative&&!isNaN(fe),ue=xe.x!==void 0?xe.x:Ue?0:pe,be=xe.y!==void 0?xe.y:Ue?0:X;function Le(Sr){return Sr*Sr}xe.type&U.HORIZ_LINE_TO&&ve!==0&&(xe.type=U.LINE_TO,xe.y=xe.relative?0:X),xe.type&U.VERT_LINE_TO&&se!==0&&(xe.type=U.LINE_TO,xe.x=xe.relative?0:pe),xe.x!==void 0&&(xe.x=xe.x*le+be*se+(Ue?0:Ie)),xe.y!==void 0&&(xe.y=ue*ve+xe.y*re+(Ue?0:Te)),xe.x1!==void 0&&(xe.x1=xe.x1*le+xe.y1*se+(Ue?0:Ie)),xe.y1!==void 0&&(xe.y1=oe*ve+xe.y1*re+(Ue?0:Te)),xe.x2!==void 0&&(xe.x2=xe.x2*le+xe.y2*se+(Ue?0:Ie)),xe.y2!==void 0&&(xe.y2=We*ve+xe.y2*re+(Ue?0:Te));var ot=le*re-ve*se;if(xe.xRot!==void 0&&(le!==1||ve!==0||se!==0||re!==1))if(ot===0)delete xe.rX,delete xe.rY,delete xe.xRot,delete xe.lArcFlag,delete xe.sweepFlag,xe.type=U.LINE_TO;else{var Tt=xe.xRot*Math.PI/180,Mt=Math.sin(Tt),Nt=Math.cos(Tt),qt=1/Le(xe.rX),Ir=1/Le(xe.rY),fr=Le(Nt)*qt+Le(Mt)*Ir,He=2*Mt*Nt*(qt-Ir),Yt=Le(Mt)*qt+Le(Nt)*Ir,Ct=fr*re*re-He*ve*re+Yt*ve*ve,Qr=He*(le*re+ve*se)-2*(fr*se*re+Yt*le*ve),hr=fr*se*se-He*le*se+Yt*le*le,nn=(Math.atan2(Qr,Ct-hr)+Math.PI)%Math.PI/2,Gr=Math.sin(nn),Vr=Math.cos(nn);xe.rX=Math.abs(ot)/Math.sqrt(Ct*Le(Vr)+Qr*Gr*Vr+hr*Le(Gr)),xe.rY=Math.abs(ot)/Math.sqrt(Ct*Le(Gr)-Qr*Gr*Vr+hr*Le(Vr)),xe.xRot=180*nn/Math.PI}return xe.sweepFlag!==void 0&&0>ot&&(xe.sweepFlag=+!xe.sweepFlag),xe}))}function he(){return function(le){var ve={};for(var se in le)ve[se]=le[se];return ve}}K.ROUND=function(le){function ve(se){return Math.round(se*le)/le}return le===void 0&&(le=1e13),v(le),function(se){return se.x1!==void 0&&(se.x1=ve(se.x1)),se.y1!==void 0&&(se.y1=ve(se.y1)),se.x2!==void 0&&(se.x2=ve(se.x2)),se.y2!==void 0&&(se.y2=ve(se.y2)),se.x!==void 0&&(se.x=ve(se.x)),se.y!==void 0&&(se.y=ve(se.y)),se.rX!==void 0&&(se.rX=ve(se.rX)),se.rY!==void 0&&(se.rY=ve(se.rY)),se}},K.TO_ABS=W,K.TO_REL=function(){return Ee((function(le,ve,se){return le.relative||(le.x1!==void 0&&(le.x1-=ve),le.y1!==void 0&&(le.y1-=se),le.x2!==void 0&&(le.x2-=ve),le.y2!==void 0&&(le.y2-=se),le.x!==void 0&&(le.x-=ve),le.y!==void 0&&(le.y-=se),le.relative=!0),le}))},K.NORMALIZE_HVZ=function(le,ve,se){return le===void 0&&(le=!0),ve===void 0&&(ve=!0),se===void 0&&(se=!0),Ee((function(re,Ie,Te,xe,pe){if(isNaN(xe)&&!(re.type&U.MOVE_TO))throw new Error("path must start with moveto");return ve&&re.type&U.HORIZ_LINE_TO&&(re.type=U.LINE_TO,re.y=re.relative?0:Te),se&&re.type&U.VERT_LINE_TO&&(re.type=U.LINE_TO,re.x=re.relative?0:Ie),le&&re.type&U.CLOSE_PATH&&(re.type=U.LINE_TO,re.x=re.relative?xe-Ie:xe,re.y=re.relative?pe-Te:pe),re.type&U.ARC&&(re.rX===0||re.rY===0)&&(re.type=U.LINE_TO,delete re.rX,delete re.rY,delete re.xRot,delete re.lArcFlag,delete re.sweepFlag),re}))},K.NORMALIZE_ST=Ne,K.QT_TO_C=ge,K.INFO=Ee,K.SANITIZE=function(le){le===void 0&&(le=0),v(le);var ve=NaN,se=NaN,re=NaN,Ie=NaN;return Ee((function(Te,xe,pe,X,fe){var oe=Math.abs,We=!1,Ue=0,ue=0;if(Te.type&U.SMOOTH_CURVE_TO&&(Ue=isNaN(ve)?0:xe-ve,ue=isNaN(se)?0:pe-se),Te.type&(U.CURVE_TO|U.SMOOTH_CURVE_TO)?(ve=Te.relative?xe+Te.x2:Te.x2,se=Te.relative?pe+Te.y2:Te.y2):(ve=NaN,se=NaN),Te.type&U.SMOOTH_QUAD_TO?(re=isNaN(re)?xe:2*xe-re,Ie=isNaN(Ie)?pe:2*pe-Ie):Te.type&U.QUAD_TO?(re=Te.relative?xe+Te.x1:Te.x1,Ie=Te.relative?pe+Te.y1:Te.y2):(re=NaN,Ie=NaN),Te.type&U.LINE_COMMANDS||Te.type&U.ARC&&(Te.rX===0||Te.rY===0||!Te.lArcFlag)||Te.type&U.CURVE_TO||Te.type&U.SMOOTH_CURVE_TO||Te.type&U.QUAD_TO||Te.type&U.SMOOTH_QUAD_TO){var be=Te.x===void 0?0:Te.relative?Te.x:Te.x-xe,Le=Te.y===void 0?0:Te.relative?Te.y:Te.y-pe;Ue=isNaN(re)?Te.x1===void 0?Ue:Te.relative?Te.x:Te.x1-xe:re-xe,ue=isNaN(Ie)?Te.y1===void 0?ue:Te.relative?Te.y:Te.y1-pe:Ie-pe;var ot=Te.x2===void 0?0:Te.relative?Te.x:Te.x2-xe,Tt=Te.y2===void 0?0:Te.relative?Te.y:Te.y2-pe;oe(be)<=le&&oe(Le)<=le&&oe(Ue)<=le&&oe(ue)<=le&&oe(ot)<=le&&oe(Tt)<=le&&(We=!0)}return Te.type&U.CLOSE_PATH&&oe(xe-X)<=le&&oe(pe-fe)<=le&&(We=!0),We?[]:Te}))},K.MATRIX=Fe,K.ROTATE=function(le,ve,se){ve===void 0&&(ve=0),se===void 0&&(se=0),v(le,ve,se);var re=Math.sin(le),Ie=Math.cos(le);return Fe(Ie,re,-re,Ie,ve-ve*Ie+se*re,se-ve*re-se*Ie)},K.TRANSLATE=function(le,ve){return ve===void 0&&(ve=0),v(le,ve),Fe(1,0,0,1,le,ve)},K.SCALE=function(le,ve){return ve===void 0&&(ve=le),v(le,ve),Fe(le,0,0,ve,0,0)},K.SKEW_X=function(le){return v(le),Fe(1,0,Math.atan(le),1,0,0)},K.SKEW_Y=function(le){return v(le),Fe(1,Math.atan(le),0,1,0,0)},K.X_AXIS_SYMMETRY=function(le){return le===void 0&&(le=0),v(le),Fe(-1,0,0,1,le,0)},K.Y_AXIS_SYMMETRY=function(le){return le===void 0&&(le=0),v(le),Fe(1,0,0,-1,0,le)},K.A_TO_C=function(){return Ee((function(le,ve,se){return U.ARC===le.type?(function(re,Ie,Te){var xe,pe,X,fe;re.cX||x(re,Ie,Te);for(var oe=Math.min(re.phi1,re.phi2),We=Math.max(re.phi1,re.phi2)-oe,Ue=Math.ceil(We/90),ue=new Array(Ue),be=Ie,Le=Te,ot=0;ot<Ue;ot++){var Tt=T(re.phi1,re.phi2,ot/Ue),Mt=T(re.phi1,re.phi2,(ot+1)/Ue),Nt=Mt-Tt,qt=4/3*Math.tan(Nt*N/4),Ir=[Math.cos(Tt*N)-qt*Math.sin(Tt*N),Math.sin(Tt*N)+qt*Math.cos(Tt*N)],fr=Ir[0],He=Ir[1],Yt=[Math.cos(Mt*N),Math.sin(Mt*N)],Ct=Yt[0],Qr=Yt[1],hr=[Ct+qt*Math.sin(Mt*N),Qr-qt*Math.cos(Mt*N)],nn=hr[0],Gr=hr[1];ue[ot]={relative:re.relative,type:U.CURVE_TO};var Vr=function(Sr,cr){var wr=m([Sr*re.rX,cr*re.rY],re.xRot),Hr=wr[0],Wr=wr[1];return[re.cX+Hr,re.cY+Wr]};xe=Vr(fr,He),ue[ot].x1=xe[0],ue[ot].y1=xe[1],pe=Vr(nn,Gr),ue[ot].x2=pe[0],ue[ot].y2=pe[1],X=Vr(Ct,Qr),ue[ot].x=X[0],ue[ot].y=X[1],re.relative&&(ue[ot].x1-=be,ue[ot].y1-=Le,ue[ot].x2-=be,ue[ot].y2-=Le,ue[ot].x-=be,ue[ot].y-=Le),be=(fe=[ue[ot].x,ue[ot].y])[0],Le=fe[1]}return ue})(le,le.relative?0:ve,le.relative?0:se):le}))},K.ANNOTATE_ARCS=function(){return Ee((function(le,ve,se){return le.relative&&(ve=0,se=0),U.ARC===le.type&&x(le,ve,se),le}))},K.CLONE=he,K.CALCULATE_BOUNDS=function(){var le=function(Te){var xe={};for(var pe in Te)xe[pe]=Te[pe];return xe},ve=W(),se=ge(),re=Ne(),Ie=Ee((function(Te,xe,pe){var X=re(se(ve(le(Te))));function fe(Gr){Gr>Ie.maxX&&(Ie.maxX=Gr),Gr<Ie.minX&&(Ie.minX=Gr)}function oe(Gr){Gr>Ie.maxY&&(Ie.maxY=Gr),Gr<Ie.minY&&(Ie.minY=Gr)}if(X.type&U.DRAWING_COMMANDS&&(fe(xe),oe(pe)),X.type&U.HORIZ_LINE_TO&&fe(X.x),X.type&U.VERT_LINE_TO&&oe(X.y),X.type&U.LINE_TO&&(fe(X.x),oe(X.y)),X.type&U.CURVE_TO){fe(X.x),oe(X.y);for(var We=0,Ue=C(xe,X.x1,X.x2,X.x);We<Ue.length;We++)0<(nn=Ue[We])&&1>nn&&fe(D(xe,X.x1,X.x2,X.x,nn));for(var ue=0,be=C(pe,X.y1,X.y2,X.y);ue<be.length;ue++)0<(nn=be[ue])&&1>nn&&oe(D(pe,X.y1,X.y2,X.y,nn))}if(X.type&U.ARC){fe(X.x),oe(X.y),x(X,xe,pe);for(var Le=X.xRot/180*Math.PI,ot=Math.cos(Le)*X.rX,Tt=Math.sin(Le)*X.rX,Mt=-Math.sin(Le)*X.rY,Nt=Math.cos(Le)*X.rY,qt=X.phi1<X.phi2?[X.phi1,X.phi2]:-180>X.phi2?[X.phi2+360,X.phi1+360]:[X.phi2,X.phi1],Ir=qt[0],fr=qt[1],He=function(Gr){var Vr=Gr[0],Sr=Gr[1],cr=180*Math.atan2(Sr,Vr)/Math.PI;return cr<Ir?cr+360:cr},Yt=0,Ct=y(Mt,-ot,0).map(He);Yt<Ct.length;Yt++)(nn=Ct[Yt])>Ir&&nn<fr&&fe(I(X.cX,ot,Mt,nn));for(var Qr=0,hr=y(Nt,-Tt,0).map(He);Qr<hr.length;Qr++){var nn;(nn=hr[Qr])>Ir&&nn<fr&&oe(I(X.cY,Tt,Nt,nn))}}return Te}));return Ie.minX=1/0,Ie.maxX=-1/0,Ie.minY=1/0,Ie.maxY=-1/0,Ie}})(j||(j={}));var _,Z=(function(){function K(){}return K.prototype.round=function(W){return this.transform(j.ROUND(W))},K.prototype.toAbs=function(){return this.transform(j.TO_ABS())},K.prototype.toRel=function(){return this.transform(j.TO_REL())},K.prototype.normalizeHVZ=function(W,Ne,ge){return this.transform(j.NORMALIZE_HVZ(W,Ne,ge))},K.prototype.normalizeST=function(){return this.transform(j.NORMALIZE_ST())},K.prototype.qtToC=function(){return this.transform(j.QT_TO_C())},K.prototype.aToC=function(){return this.transform(j.A_TO_C())},K.prototype.sanitize=function(W){return this.transform(j.SANITIZE(W))},K.prototype.translate=function(W,Ne){return this.transform(j.TRANSLATE(W,Ne))},K.prototype.scale=function(W,Ne){return this.transform(j.SCALE(W,Ne))},K.prototype.rotate=function(W,Ne,ge){return this.transform(j.ROTATE(W,Ne,ge))},K.prototype.matrix=function(W,Ne,ge,Ee,Fe,he){return this.transform(j.MATRIX(W,Ne,ge,Ee,Fe,he))},K.prototype.skewX=function(W){return this.transform(j.SKEW_X(W))},K.prototype.skewY=function(W){return this.transform(j.SKEW_Y(W))},K.prototype.xSymmetry=function(W){return this.transform(j.X_AXIS_SYMMETRY(W))},K.prototype.ySymmetry=function(W){return this.transform(j.Y_AXIS_SYMMETRY(W))},K.prototype.annotateArcs=function(){return this.transform(j.ANNOTATE_ARCS())},K})(),ae=function(K){return K===" "||K==="	"||K==="\r"||K===`
`},V=function(K){return 48<=K.charCodeAt(0)&&K.charCodeAt(0)<=57},ie=(function(K){function W(){var Ne=K.call(this)||this;return Ne.curNumber="",Ne.curCommandType=-1,Ne.curCommandRelative=!1,Ne.canParseCommandOrComma=!0,Ne.curNumberHasExp=!1,Ne.curNumberHasExpDigits=!1,Ne.curNumberHasDecimal=!1,Ne.curArgs=[],Ne}return u(W,K),W.prototype.finish=function(Ne){if(Ne===void 0&&(Ne=[]),this.parse(" ",Ne),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return Ne},W.prototype.parse=function(Ne,ge){var Ee=this;ge===void 0&&(ge=[]);for(var Fe=function(Ie){ge.push(Ie),Ee.curArgs.length=0,Ee.canParseCommandOrComma=!0},he=0;he<Ne.length;he++){var le=Ne[he],ve=!(this.curCommandType!==U.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),se=V(le)&&(this.curNumber==="0"&&le==="0"||ve);if(!V(le)||se)if(le!=="e"&&le!=="E")if(le!=="-"&&le!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(le!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ve){if(this.curNumber&&this.curCommandType!==-1){var re=Number(this.curNumber);if(isNaN(re))throw new SyntaxError("Invalid number ending at "+he);if(this.curCommandType===U.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>re)throw new SyntaxError('Expected positive number, got "'+re+'" at index "'+he+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+he+'"')}this.curArgs.push(re),this.curArgs.length===G[this.curCommandType]&&(U.HORIZ_LINE_TO===this.curCommandType?Fe({type:U.HORIZ_LINE_TO,relative:this.curCommandRelative,x:re}):U.VERT_LINE_TO===this.curCommandType?Fe({type:U.VERT_LINE_TO,relative:this.curCommandRelative,y:re}):this.curCommandType===U.MOVE_TO||this.curCommandType===U.LINE_TO||this.curCommandType===U.SMOOTH_QUAD_TO?(Fe({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),U.MOVE_TO===this.curCommandType&&(this.curCommandType=U.LINE_TO)):this.curCommandType===U.CURVE_TO?Fe({type:U.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===U.SMOOTH_CURVE_TO?Fe({type:U.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===U.QUAD_TO?Fe({type:U.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===U.ARC&&Fe({type:U.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ae(le))if(le===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(le!=="+"&&le!=="-"&&le!==".")if(se)this.curNumber=le,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+he+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+le+'" at index '+he+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,le!=="z"&&le!=="Z")if(le==="h"||le==="H")this.curCommandType=U.HORIZ_LINE_TO,this.curCommandRelative=le==="h";else if(le==="v"||le==="V")this.curCommandType=U.VERT_LINE_TO,this.curCommandRelative=le==="v";else if(le==="m"||le==="M")this.curCommandType=U.MOVE_TO,this.curCommandRelative=le==="m";else if(le==="l"||le==="L")this.curCommandType=U.LINE_TO,this.curCommandRelative=le==="l";else if(le==="c"||le==="C")this.curCommandType=U.CURVE_TO,this.curCommandRelative=le==="c";else if(le==="s"||le==="S")this.curCommandType=U.SMOOTH_CURVE_TO,this.curCommandRelative=le==="s";else if(le==="q"||le==="Q")this.curCommandType=U.QUAD_TO,this.curCommandRelative=le==="q";else if(le==="t"||le==="T")this.curCommandType=U.SMOOTH_QUAD_TO,this.curCommandRelative=le==="t";else{if(le!=="a"&&le!=="A")throw new SyntaxError('Unexpected character "'+le+'" at index '+he+".");this.curCommandType=U.ARC,this.curCommandRelative=le==="a"}else ge.push({type:U.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=le,this.curNumberHasDecimal=le==="."}else this.curNumber+=le,this.curNumberHasDecimal=!0;else this.curNumber+=le;else this.curNumber+=le,this.curNumberHasExp=!0;else this.curNumber+=le,this.curNumberHasExpDigits=this.curNumberHasExp}return ge},W.prototype.transform=function(Ne){return Object.create(this,{parse:{value:function(ge,Ee){Ee===void 0&&(Ee=[]);for(var Fe=0,he=Object.getPrototypeOf(this).parse.call(this,ge);Fe<he.length;Fe++){var le=he[Fe],ve=Ne(le);Array.isArray(ve)?Ee.push.apply(Ee,ve):Ee.push(ve)}return Ee}}})},W})(Z),U=(function(K){function W(Ne){var ge=K.call(this)||this;return ge.commands=typeof Ne=="string"?W.parse(Ne):Ne,ge}return u(W,K),W.prototype.encode=function(){return W.encode(this.commands)},W.prototype.getBounds=function(){var Ne=j.CALCULATE_BOUNDS();return this.transform(Ne),Ne},W.prototype.transform=function(Ne){for(var ge=[],Ee=0,Fe=this.commands;Ee<Fe.length;Ee++){var he=Ne(Fe[Ee]);Array.isArray(he)?ge.push.apply(ge,he):ge.push(he)}return this.commands=ge,this},W.encode=function(Ne){return f(Ne)},W.parse=function(Ne){var ge=new ie,Ee=[];return ge.parse(Ne,Ee),ge.finish(Ee),Ee},W.CLOSE_PATH=1,W.MOVE_TO=2,W.HORIZ_LINE_TO=4,W.VERT_LINE_TO=8,W.LINE_TO=16,W.CURVE_TO=32,W.SMOOTH_CURVE_TO=64,W.QUAD_TO=128,W.SMOOTH_QUAD_TO=256,W.ARC=512,W.LINE_COMMANDS=W.LINE_TO|W.HORIZ_LINE_TO|W.VERT_LINE_TO,W.DRAWING_COMMANDS=W.HORIZ_LINE_TO|W.VERT_LINE_TO|W.LINE_TO|W.CURVE_TO|W.SMOOTH_CURVE_TO|W.QUAD_TO|W.SMOOTH_QUAD_TO|W.ARC,W})(Z),G=((_={})[U.MOVE_TO]=2,_[U.LINE_TO]=2,_[U.HORIZ_LINE_TO]=1,_[U.VERT_LINE_TO]=1,_[U.CLOSE_PATH]=0,_[U.QUAD_TO]=4,_[U.SMOOTH_QUAD_TO]=2,_[U.CURVE_TO]=6,_[U.SMOOTH_CURVE_TO]=4,_[U.ARC]=7,_)}),"./src/plugin/hyperlinks.js":(function(l,h,i){i.r(h),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/es.string.link.js"),i("./node_modules/core-js/modules/esnext.iterator.constructor.js"),i("./node_modules/core-js/modules/esnext.iterator.for-each.js"),i("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=i("./src/worker.js"),u=i("./src/utils.js"),f=[],m={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),j=(0,u.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);f=[],Array.prototype.forEach.call(y,function(N){for(var T=N.getClientRects(),I=0;I<T.length;I++){var C=(0,u.unitConvert)(T[I],this.prop.pageSize.k);C.left-=j.left,C.top-=j.top;var D=Math.floor(C.top/this.prop.pageSize.inner.height)+1,_=this.opt.margin[0]+C.top%this.prop.pageSize.inner.height,Z=this.opt.margin[1]+C.left;f.push({page:D,top:_,left:Z,clientRect:C,link:N})}},this)}})},d.default.prototype.toPdf=function(){return m.toPdf.call(this).then(function(){if(this.opt.enableLinks){f.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(l,h,i){i.r(h),i("./node_modules/core-js/modules/es.symbol.js"),i("./node_modules/core-js/modules/es.symbol.description.js"),i("./node_modules/core-js/modules/es.symbol.iterator.js"),i("./node_modules/core-js/modules/es.array.iterator.js"),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/es.string.iterator.js"),i("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=i("./node_modules/jspdf/dist/jspdf.es.min.js");function u(f){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(f)}d.jsPDF.getPageSize=function(f,m,v){if(u(f)==="object"){var g=f;f=g.orientation,m=g.unit||m,v=g.format||v}m=m||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var x=(""+v).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":var j=1;break;case"mm":var j=72/25.4;break;case"cm":var j=72/2.54;break;case"in":var j=72;break;case"px":var j=72/96;break;case"pc":var j=12;break;case"em":var j=12;break;case"ex":var j=6;break;default:throw"Invalid unit: "+m}if(y.hasOwnProperty(x))var N=y[x][1]/j,T=y[x][0]/j;else try{var N=v[1],T=v[0]}catch{throw new Error("Invalid format: "+v)}if(f==="p"||f==="portrait"){if(f="p",T>N){var I=T;T=N,N=I}}else if(f==="l"||f==="landscape"){if(f="l",N>T){var I=T;T=N,N=I}}else throw"Invalid orientation: "+f;var C={width:T,height:N,unit:m,k:j};return C},h.default=d.jsPDF}),"./src/plugin/pagebreaks.js":(function(l,h,i){i.r(h),i("./node_modules/core-js/modules/es.array.concat.js"),i("./node_modules/core-js/modules/es.array.join.js"),i("./node_modules/core-js/modules/es.array.slice.js"),i("./node_modules/core-js/modules/es.object.keys.js"),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/esnext.iterator.constructor.js"),i("./node_modules/core-js/modules/esnext.iterator.for-each.js"),i("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=i("./src/worker.js"),u=i("./src/utils.js"),f={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){var g=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),j={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},N={},T=this;["before","after","avoid"].forEach(function(D){var _=j.avoidAll&&D==="avoid";N[D]=_?[]:[].concat(T.opt.pagebreak[D]||[]),N[D].length>0&&(N[D]=Array.prototype.slice.call(g.querySelectorAll(N[D].join(", "))))});var I=g.querySelectorAll(".html2pdf__page-break");I=Array.prototype.slice.call(I);var C=g.querySelectorAll("*");Array.prototype.forEach.call(C,function(_){var Z={before:!1,after:j.legacy&&I.indexOf(_)!==-1,avoid:j.avoidAll};if(j.css){var ae=window.getComputedStyle(_),V=["always","page","left","right"],ie=["avoid","avoid-page"];Z={before:Z.before||V.indexOf(ae.breakBefore||ae.pageBreakBefore)!==-1,after:Z.after||V.indexOf(ae.breakAfter||ae.pageBreakAfter)!==-1,avoid:Z.avoid||ie.indexOf(ae.breakInside||ae.pageBreakInside)!==-1}}Object.keys(Z).forEach(function(ge){Z[ge]=Z[ge]||N[ge].indexOf(_)!==-1});var U=_.getBoundingClientRect();if(Z.avoid&&!Z.before){var G=Math.floor(U.top/x),K=Math.floor(U.bottom/x),W=Math.abs(U.bottom-U.top)/x;K!==G&&W<=1&&(Z.before=!0)}if(Z.before){var Ne=(0,u.createElement)("div",{style:{display:"block",height:x-U.top%x+"px"}});_.parentNode.insertBefore(Ne,_)}if(Z.after){var Ne=(0,u.createElement)("div",{style:{display:"block",height:x-U.bottom%x+"px"}});_.parentNode.insertBefore(Ne,_.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(l,h,i){i.r(h),i.d(h,{deepCloneBasic:function(){return v}}),i("./node_modules/core-js/modules/es.symbol.js"),i("./node_modules/core-js/modules/es.symbol.description.js"),i("./node_modules/core-js/modules/es.symbol.iterator.js"),i("./node_modules/core-js/modules/es.array.concat.js"),i("./node_modules/core-js/modules/es.array.from.js"),i("./node_modules/core-js/modules/es.array.iterator.js"),i("./node_modules/core-js/modules/es.array.slice.js"),i("./node_modules/core-js/modules/es.function.name.js"),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/es.regexp.exec.js"),i("./node_modules/core-js/modules/es.regexp.test.js"),i("./node_modules/core-js/modules/es.regexp.to-string.js"),i("./node_modules/core-js/modules/es.set.js"),i("./node_modules/core-js/modules/es.string.iterator.js"),i("./node_modules/core-js/modules/esnext.set.add-all.js"),i("./node_modules/core-js/modules/esnext.set.delete-all.js"),i("./node_modules/core-js/modules/esnext.set.difference.js"),i("./node_modules/core-js/modules/esnext.set.every.js"),i("./node_modules/core-js/modules/esnext.set.filter.js"),i("./node_modules/core-js/modules/esnext.set.find.js"),i("./node_modules/core-js/modules/esnext.set.intersection.js"),i("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),i("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),i("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),i("./node_modules/core-js/modules/esnext.set.join.js"),i("./node_modules/core-js/modules/esnext.set.map.js"),i("./node_modules/core-js/modules/esnext.set.reduce.js"),i("./node_modules/core-js/modules/esnext.set.some.js"),i("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),i("./node_modules/core-js/modules/esnext.set.union.js"),i("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(g,x){var y=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=u(g))||x){y&&(g=y);var j=0,N=function(){};return{s:N,n:function(){return j>=g.length?{done:!0}:{done:!1,value:g[j++]}},e:function(_){throw _},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,I=!0,C=!1;return{s:function(){y=y.call(g)},n:function(){var _=y.next();return I=_.done,_},e:function(_){C=!0,T=_},f:function(){try{I||y.return==null||y.return()}finally{if(C)throw T}}}}function u(g,x){if(g){if(typeof g=="string")return f(g,x);var y={}.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?f(g,x):void 0}}function f(g,x){(x==null||x>g.length)&&(x=g.length);for(var y=0,j=Array(x);y<x;y++)j[y]=g[y];return j}function m(g,x){try{var y=g.currentSrc||g.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function v(g){if(!g)throw new Error("Invalid node");var x=new Set,y=null;if(g.nodeType===Node.TEXT_NODE||g.nodeType!==Node.ELEMENT_NODE)return g.cloneNode(!0);if(g.tagName==="IFRAME"){var j=document.createElement("div");return j.style.cssText="width:".concat(g.offsetWidth,"px;height:").concat(g.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),j}if(g.tagName==="CANVAS"){var N=g.toDataURL(),T=document.createElement("img");return T.src=N,T.width=g.width,T.height=g.height,T}var I;try{I=g.cloneNode(!1),g.tagName==="IMG"&&m(g,I)}catch(oe){throw console.error("[Snapdom] Failed to clone node:",g,oe),oe}if(g instanceof HTMLTextAreaElement){I.textContent=g.value,I.value=g.value;var C=g.getBoundingClientRect();return I.style.boxSizing="border-box",I.style.width="".concat(C.width,"px"),I.style.height="".concat(C.height,"px"),I}if(g instanceof HTMLInputElement&&(g.hasAttribute("value")&&(I.value=g.value,I.setAttribute("value",g.value)),g.checked!==void 0&&(I.checked=g.checked,g.checked&&I.setAttribute("checked",""),g.indeterminate&&(I.indeterminate=g.indeterminate))),g instanceof HTMLSelectElement&&(y=g.value),g.shadowRoot){var D=Array.from(g.shadowRoot.querySelectorAll("slot")).length>0;if(!D){var _=document.createDocumentFragment(),Z=d(g.shadowRoot.childNodes),ae;try{for(Z.s();!(ae=Z.n()).done;){var V=ae.value;if(!(V.nodeType===Node.ELEMENT_NODE&&V.tagName==="STYLE")){var ie=v(V);ie&&_.appendChild(ie)}}}catch(oe){Z.e(oe)}finally{Z.f()}I.appendChild(_)}}if(g.tagName==="SLOT"){var U,G=((U=g.assignedNodes)===null||U===void 0?void 0:U.call(g,{flatten:!0}))||[],K=G.length>0?G:Array.from(g.childNodes),W=document.createDocumentFragment(),Ne=d(K),ge;try{for(Ne.s();!(ge=Ne.n()).done;){var Ee=ge.value,Fe=v(Ee);Fe&&W.appendChild(Fe)}}catch(oe){Ne.e(oe)}finally{Ne.f()}return W}var he=d(g.childNodes),le;try{for(he.s();!(le=he.n()).done;){var ve=le.value;if(!x.has(ve)){var se=v(ve);se&&I.appendChild(se)}}}catch(oe){he.e(oe)}finally{he.f()}if(y!==null&&I instanceof HTMLSelectElement){I.value=y;var re=d(I.options),Ie;try{for(re.s();!(Ie=re.n()).done;){var Te=Ie.value;Te.value===y?Te.setAttribute("selected",""):Te.removeAttribute("selected")}}catch(oe){re.e(oe)}finally{re.f()}}var xe=g.scrollLeft,pe=g.scrollTop,X=xe||pe;if(X&&I instanceof HTMLElement){I.style.overflow="hidden",I.style.scrollbarWidth="none",I.style.msOverflowStyle="none";var fe=document.createElement("div");for(fe.style.transform="translate(".concat(-xe,"px, ").concat(-pe,"px)"),fe.style.willChange="transform",fe.style.display="inline-block",fe.style.width="100%";I.firstChild;)fe.appendChild(I.firstChild);I.appendChild(fe)}return I}}),"./src/utils.js":(function(l,h,i){i.r(h),i.d(h,{createElement:function(){return m},objType:function(){return f},toPx:function(){return g},unitConvert:function(){return v}}),i("./node_modules/core-js/modules/es.symbol.js"),i("./node_modules/core-js/modules/es.symbol.description.js"),i("./node_modules/core-js/modules/es.symbol.iterator.js"),i("./node_modules/core-js/modules/es.array.iterator.js"),i("./node_modules/core-js/modules/es.number.constructor.js"),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/es.string.iterator.js"),i("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=i("./node_modules/dompurify/dist/purify.es.mjs");function u(x){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},u(x)}var f=function(y){var j=u(y);return j==="undefined"?"undefined":j==="string"||y instanceof String?"string":j==="number"||y instanceof Number?"number":j==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":j==="object"?"object":"unknown"},m=function(y,j){var N=document.createElement(y);j.className&&(N.className=j.className),j.innerHTML&&(N.innerHTML=d.default.sanitize(j.innerHTML));for(var T in j.style)N.style[T]=j.style[T];return N},v=function(y,j){if(f(y)==="number")return y*72/96/j;var N={};for(var T in y)N[T]=y[T]*72/96/j;return N},g=function(y,j){return Math.floor(y*j/72*96)}}),"./src/worker.js":(function(l,h,i){i.r(h),i("./node_modules/core-js/modules/es.array.concat.js"),i("./node_modules/core-js/modules/es.array.map.js"),i("./node_modules/core-js/modules/es.function.name.js"),i("./node_modules/core-js/modules/es.json.stringify.js"),i("./node_modules/core-js/modules/es.object.assign.js"),i("./node_modules/core-js/modules/es.object.keys.js"),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/es.promise.js"),i("./node_modules/core-js/modules/es.regexp.to-string.js"),i("./node_modules/core-js/modules/esnext.iterator.constructor.js"),i("./node_modules/core-js/modules/esnext.iterator.for-each.js"),i("./node_modules/core-js/modules/esnext.iterator.map.js"),i("./node_modules/core-js/modules/web.dom-collections.for-each.js"),i("./node_modules/core-js/modules/web.timers.js");var d=i("./node_modules/jspdf/dist/jspdf.es.min.js"),u=i("html2canvas"),f=i.n(u),m=i("./src/snapdom/clone.js"),v=i("./src/utils.js"),g=function x(y){var j=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),N=x.convert(Promise.resolve(),j);return N=N.setProgress(1,x,1,[x]),N=N.set(y),N};g.prototype=Object.create(Promise.prototype),g.prototype.constructor=g,g.convert=function(y,j){return y.__proto__=j||g.prototype,y},g.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},g.prototype.from=function(y,j){function N(T){switch((0,v.objType)(T)){case"string":return"string";case"element":return T.nodeName.toLowerCase&&T.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(j=j||N(y),j){case"string":return this.set({src:(0,v.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},g.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},g.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var N={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},T={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};N.opacity=0;var I=(0,m.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,v.createElement)("div",{className:"html2pdf__overlay",style:N}),this.prop.container=(0,v.createElement)("div",{className:"html2pdf__container",style:T}),this.prop.container.appendChild(I),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(C){return setTimeout(C,10)})})},g.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var N=Object.assign({},this.opt.html2canvas);return delete N.onrendered,f()(this.prop.container,N)}).then(function(N){var T=this.opt.html2canvas.onrendered||function(){};T(N),this.prop.canvas=N,document.body.removeChild(this.prop.overlay)})},g.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var N=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=N})},g.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var N=this.prop.canvas,T=this.opt,I=N.height,C=Math.floor(N.width*this.prop.pageSize.inner.ratio),D=Math.ceil(I/C),_=this.prop.pageSize.inner.height,Z=document.createElement("canvas"),ae=Z.getContext("2d");Z.width=N.width,Z.height=C,this.prop.pdf=this.prop.pdf||new d.jsPDF(T.jsPDF);for(var V=0;V<D;V++){V===D-1&&I%C!==0&&(Z.height=I%C,_=Z.height*this.prop.pageSize.inner.width/Z.width);var ie=Z.width,U=Z.height;ae.fillStyle="white",ae.fillRect(0,0,ie,U),ae.drawImage(N,0,V*C,ie,U,0,0,ie,U),V&&this.prop.pdf.addPage();var G=Z.toDataURL("image/"+T.image.type,T.image.quality);this.prop.pdf.addImage(G,T.image.type,T.margin[1],T.margin[0],this.prop.pageSize.inner.width,_)}})},g.prototype.output=function(y,j,N){return N=N||"pdf",N.toLowerCase()==="img"||N.toLowerCase()==="image"?this.outputImg(y,j):this.outputPdf(y,j)},g.prototype.outputPdf=function(y,j){var N=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(N).then(function(){return this.prop.pdf.output(y,j)})},g.prototype.outputImg=function(y,j){var N=[function(){return this.prop.img||this.toImg()}];return this.thenList(N).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},g.prototype.save=function(y){var j=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(j).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},g.prototype.set=function(y){if((0,v.objType)(y)!=="object")return this;var j=Object.keys(y||{}).map(function(N){switch(N){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return N in g.template.prop?function(){this.prop[N]=y[N]}:function(){this.opt[N]=y[N]}}},this);return this.then(function(){return this.thenList(j)})},g.prototype.get=function(y,j){return this.then(function(){var T=y in g.template.prop?this.prop[y]:this.opt[y];return j?j(T):T})},g.prototype.setMargin=function(y){return this.then(function(){switch((0,v.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},g.prototype.setPageSize=function(y){return this.then(function(){y=y||d.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,v.toPx)(y.inner.width,y.k),height:(0,v.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},g.prototype.setProgress=function(y,j,N,T){return y!=null&&(this.progress.val=y),j!=null&&(this.progress.state=j),N!=null&&(this.progress.n=N),T!=null&&(this.progress.stack=T),this.progress.ratio=this.progress.val/this.progress.state,this},g.prototype.updateProgress=function(y,j,N,T){return this.setProgress(y?this.progress.val+y:null,j||null,N?this.progress.n+N:null,T?this.progress.stack.concat(T):null)},g.prototype.then=function(y,j){var N=this;return this.thenCore(y,j,function(I,C){return N.updateProgress(null,null,1,[I]),Promise.prototype.then.call(this,function(_){return N.updateProgress(null,I),_}).then(I,C).then(function(_){return N.updateProgress(1),_})})},g.prototype.thenCore=function(y,j,N){N=N||Promise.prototype.then;var T=this;y&&(y=y.bind(T)),j&&(j=j.bind(T));var I=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",C=I?T:g.convert(Object.assign({},T),Promise.prototype),D=N.call(C,y,j);return g.convert(D,T.__proto__)},g.prototype.thenExternal=function(y,j){return Promise.prototype.then.call(this,y,j)},g.prototype.thenList=function(y){var j=this;return y.forEach(function(T){j=j.thenCore(T)}),j},g.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return g.convert(y,this)},g.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},g.prototype.error=function(y){return this.then(function(){throw new Error(y)})},g.prototype.using=g.prototype.set,g.prototype.saveAs=g.prototype.save,g.prototype.export=g.prototype.output,g.prototype.run=g.prototype.then,h.default=g}),html2canvas:(function(l){l.exports=n})},s={};function o(l){var h=s[l];if(h!==void 0)return h.exports;if(a[l]===void 0){var i=new Error("Cannot find module '"+l+"'");throw i.code="MODULE_NOT_FOUND",i}var d=s[l]={exports:{}};return a[l].call(d.exports,d,d.exports,o),d.exports}(function(){o.n=function(l){var h=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(h,{a:h}),h}})(),(function(){var l=Object.getPrototypeOf?function(i){return Object.getPrototypeOf(i)}:function(i){return i.__proto__},h;o.t=function(i,d){if(d&1&&(i=this(i)),d&8||typeof i=="object"&&i&&(d&4&&i.__esModule||d&16&&typeof i.then=="function"))return i;var u=Object.create(null);o.r(u);var f={};h=h||[null,l({}),l([]),l(l)];for(var m=d&2&&i;(typeof m=="object"||typeof m=="function")&&!~h.indexOf(m);m=l(m))Object.getOwnPropertyNames(m).forEach(function(v){f[v]=function(){return i[v]}});return f.default=function(){return i},o.d(u,f),u}})(),(function(){o.d=function(l,h){for(var i in h)o.o(h,i)&&!o.o(l,i)&&Object.defineProperty(l,i,{enumerable:!0,get:h[i]})}})(),(function(){o.o=function(l,h){return Object.prototype.hasOwnProperty.call(l,h)}})(),(function(){o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/o.r(c);var l=o("./src/worker.js");o("./src/plugin/jspdf-plugin.js"),o("./src/plugin/pagebreaks.js"),o("./src/plugin/hyperlinks.js");var h=function i(d,u){var f=new i.Worker(u);return d?f.from(d).save():f};h.Worker=l.default,c.default=h})(),c=c.default,c})()})})(Yb)),Yb.exports}var Aee=uee();const hee=Qs(Aee),fee=()=>{const{logout:t}=ya(),r=In(),[n]=Ow(),a=n.get("contractId"),[s,o]=M.useState(""),[c,l]=M.useState("All"),[h,i]=M.useState(!1),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(null),[x,y]=M.useState([]),[j,N]=M.useState([]),[T,I]=M.useState(!1),[C,D]=M.useState(null),[_,Z]=M.useState(!1),[ae,V]=M.useState(!1),ie=()=>{V(!ae)},U=M.useCallback(async()=>{try{const se=await ZA.getAllContracts();N(se.map(re=>({id:re.id,contractID:re.contractID,contractNum:re.contractNum})))}catch(se){console.error("Failed to load contracts:",se)}},[]),G=M.useCallback(async()=>{try{I(!0),D(null);const re=(await bm.getAllAgreements(a||void 0)).map(Ie=>{const Te=j.find(xe=>xe.id===Ie.contractId);return{id:Ie.id,agreementID:Ie.agreementID,contractID:Ie.contractId,contractNum:(Te==null?void 0:Te.contractNum)||"",agreementNum:Ie.agreementNum,agreementDate:Ie.agreementDate,status:Ie.status}});y(re)}catch(se){console.error("Failed to load agreements:",se),D(se.message||"Failed to load agreements")}finally{I(!1)}},[a,j]);M.useEffect(()=>{U()},[U]),M.useEffect(()=>{j.length>0&&G()},[j.length,G]);const{filteredAgreements:K}=iee({agreements:x,searchQuery:s,statusFilter:c}),W=()=>{g(null),u(!0)},Ne=(se,re)=>{re.stopPropagation(),g(se),u(!0)},ge=async se=>{try{if(Z(!0),D(null),v)await bm.updateAgreement(v.id,{agreementNum:se.agreementNum,agreementDate:se.agreementDate,status:se.status});else{if(!se.contractID){alert("Please select a contract");return}await bm.createAgreement({contractId:se.contractID,agreementDate:se.agreementDate,status:se.status})}u(!1),g(null),await G()}catch(re){console.error("Failed to save agreement:",re),D(re.message||"Failed to save agreement"),alert(re.message||"Failed to save agreement")}finally{Z(!1)}},Ee=se=>{m(se),i(!0)},Fe=({status:se})=>{const re=`agreement-status-badge agreement-status-badge--${se.toLowerCase()}`;return e.jsx("span",{className:re,role:"status","aria-label":`Status: ${se}`,children:se})},he=({agreement:se})=>e.jsxs("div",{className:"agreement-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:re=>Ne(se,re),title:"Edit Agreement","aria-label":`Edit agreement ${se.agreementNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Ee(se),title:"View Agreement","aria-label":`View agreement ${se.agreementNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),le=[{key:"agreementNum",label:"Agreement Number",minWidth:180,render:se=>e.jsx("span",{className:"agreement-num-cell",children:se.agreementNum})},{key:"agreementID",label:"Agreement ID",minWidth:120},{key:"contractNum",label:"Contract Reference",minWidth:180,render:se=>se.contractNum?`${se.contractID} - ${se.contractNum}`:se.contractID},{key:"agreementDate",label:"Agreement Date",minWidth:140},{key:"status",label:"Status",minWidth:120,render:se=>e.jsx(Fe,{status:se.status})},{key:"actions",label:"Actions",minWidth:120,render:se=>e.jsx(he,{agreement:se})}],ve=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${ae?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!ae&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ie,"aria-label":ae?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:ae?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ve.map(se=>e.jsx("li",{children:e.jsxs(Zr,{to:se.path,className:`nav-link ${se.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:se.icon}),!ae&&e.jsx("span",{className:"nav-label",children:se.label})]})},se.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!ae&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!ae&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Management"})})}),e.jsxs("div",{className:"agreement-page",children:[e.jsx("div",{className:"agreement-header",children:e.jsx("h1",{className:"agreement-title",children:"Agreement Management"})}),C&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:C}),e.jsxs("div",{className:"agreement-actions",children:[e.jsxs("div",{className:"agreement-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"agreement-search-input",placeholder:"Search by agreement number...",value:s,onChange:se=>o(se.target.value),"aria-label":"Search agreements by agreement number"})]}),e.jsxs("select",{className:"status-filter-select",value:c,onChange:se=>l(se.target.value),"aria-label":"Filter by status",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"Generated"}),e.jsx("option",{value:"Signed",children:"Signed"})]}),e.jsxs("button",{className:"add-agreement-btn",onClick:W,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]}),T&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading agreements..."}),e.jsx("div",{className:"agreement-table-container",children:e.jsx(p1,{data:K,columns:le,getId:se=>se.id,emptyMessage:"No agreement records found"})}),e.jsxs("div",{className:"agreement-pagination-info",children:["Showing ",K.length," of ",x.length," Items"]})]})]}),d&&e.jsx(pee,{agreement:v,contracts:j,contractIdParam:a,saving:_,onClose:()=>{u(!1),g(null)},onSave:ge}),h&&f&&e.jsx(mee,{agreement:f,contractNum:f.contractNum,onClose:()=>{i(!1),m(null)}})]})},pee=({agreement:t,contracts:r,contractIdParam:n,saving:a,onClose:s,onSave:o})=>{const[c,l]=M.useState(t||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),h=i=>{if(i.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}o(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Agreement":"Add Agreement"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"agreement-form",onSubmit:h,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract *"}),e.jsxs("select",{value:c.contractID||"",onChange:i=>l({...c,contractID:i.target.value}),required:!0,disabled:a||!!n||!!t,children:[e.jsx("option",{value:"",children:"Select Contract"}),r.map(i=>e.jsxs("option",{value:i.id,children:[i.contractID," - ",i.contractNum]},i.id))]})]}),t&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Number"}),e.jsx("input",{type:"text",value:c.agreementNum||"",onChange:i=>l({...c,agreementNum:i.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Date *"}),e.jsx("input",{type:"date",value:c.agreementDate||"",onChange:i=>l({...c,agreementDate:i.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Draft",onChange:i=>l({...c,status:i.target.value}),disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"Generated"}),e.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":t?"Update":"Add"," Agreement"]})]})]})]})})},mee=({agreement:t,contractNum:r,onClose:n})=>{const[a,s]=M.useState(!1),[o,c]=M.useState([]),[l,h]=M.useState(!1),[i,d]=M.useState(!1),[u,f]=M.useState(null),[m,v]=M.useState(null),[g,x]=M.useState(!1),y=M.useRef(null);M.useEffect(()=>{const D=async()=>{try{h(!0);const Z=(await HA.getAllClauses(t.id)).map(ae=>({id:ae.id,pointNum:ae.pointNum,pointTitle:ae.pointTitle,pointText:ae.pointText,sequenceNo:ae.sequenceNo,status:ae.status})).sort((ae,V)=>ae.sequenceNo-V.sequenceNo);c(Z)}catch(_){console.error("Failed to load clauses:",_),c([])}finally{h(!1)}};t.id&&D()},[t.id]),M.useEffect(()=>{(async()=>{if(t.contractID)try{x(!0);const _=await ZA.getContractById(t.contractID),[Z,ae]=await Promise.all([Ha.getCompanyById(_.companyId),Ei.getHcfById(_.hcfId)]);f(Z),v(ae)}catch(_){console.error("Failed to load party data:",_)}finally{x(!1)}})()},[t.contractID]);const j=()=>{window.print()},N=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{d(!0);const D=y.current,_={margin:[10,10,10,10],filename:`${t.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await hee().set(_).from(D).save()}catch(D){console.error("Failed to generate PDF:",D),alert("Failed to generate PDF. Please try again.")}finally{d(!1)}},T=D=>{const _=D.pointTitle.toLowerCase().includes("whereas"),Z=D.pointNum.toLowerCase().startsWith("w"),ae=D.pointNum.toLowerCase().startsWith("whereas");return _||Z||ae},I=D=>!!(D.pointNum&&D.pointNum.trim()!==""&&/^\d+$/.test(D.pointNum.trim())),C=D=>!T(D)&&!I(D);return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",t.agreementNum]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"agreement-preview-controls",children:[e.jsxs("label",{className:"stamp-paper-toggle",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:D=>s(D.target.checked)}),e.jsx("span",{children:"Print on Stamp Paper"})]}),e.jsxs("div",{className:"preview-actions",children:[e.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:j,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),e.jsxs("button",{type:"button",className:"btn btn--primary",onClick:N,disabled:i,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),i?"Generating...":"Download PDF"]})]})]}),e.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:l?e.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):e.jsxs(e.Fragment,{children:[a&&e.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[e.jsx("div",{className:"stamp-paper-blank-space"}),e.jsxs("div",{className:"agreement-party-intro",children:[e.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),e.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",e.jsx("strong",{children:new Date(t.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"party-details",children:[e.jsxs("div",{className:"party-section",children:[e.jsx("p",{className:"party-intro-text",children:e.jsx("strong",{children:"BETWEEN"})}),e.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),e.jsx("p",{className:"party-description",children:u?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:u.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):e.jsxs(e.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),e.jsxs("div",{className:"party-section",children:[e.jsx("p",{className:"party-intro-text",children:e.jsx("strong",{children:"AND"})}),e.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),e.jsx("p",{className:"party-description",children:m?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:m.hcfName}),", a healthcare facility located at ",m.serviceAddress||"[Address]",", represented by",m.agrSignAuthName?` ${m.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):e.jsxs(e.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),e.jsxs("div",{className:"agreement-page",children:[e.jsxs("div",{className:"agreement-header-section",children:[e.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),e.jsxs("div",{className:"agreement-meta",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Agreement No.:"})," ",t.agreementNum]}),r&&e.jsxs("p",{children:[e.jsx("strong",{children:"Contract Reference:"})," ",r]})]})]}),o.length>0&&T(o[0])&&e.jsx("div",{className:"agreement-section agreement-intro-section",children:e.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',e.jsx("strong",{children:new Date(t.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",u?e.jsx("strong",{children:u.companyName}):"[Company Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'") and ',m?e.jsx("strong",{children:m.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'"):']})}),(o.length===0||!T(o[0]))&&e.jsxs("div",{className:"agreement-section agreement-intro-section",children:[e.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',e.jsx("strong",{children:new Date(t.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",u?e.jsx("strong",{children:u.companyName}):"[Company Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'") and ',m?e.jsx("strong",{children:m.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'").']}),o.length>0&&e.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),o.length>0&&(()=>{let D=0;return e.jsx("div",{className:"agreement-section agreement-clauses-section",children:o.map((_,Z)=>{const ae=T(_),V=I(_),ie=C(_);ae&&D++;const U=Z>0?o[Z-1]:null,G=U&&T(U)&&!ae;return e.jsxs("div",{children:[G&&e.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:e.jsxs("p",{className:"now-therefore-text",children:[e.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),ae?e.jsx("div",{className:"whereas-item",children:e.jsxs("p",{className:"whereas-text",children:[e.jsxs("strong",{children:["WHEREAS ",D===1?"":String.fromCharCode(64+D)+") "]}),_.pointText]})}):V?e.jsx("div",{className:"clause-item clause-item--numbered",children:e.jsxs("p",{className:"clause-text",children:[e.jsxs("strong",{children:[_.pointNum,"."]})," ",_.pointText]})}):ie?e.jsx("div",{className:"clause-item clause-item--normal",children:e.jsx("p",{className:"clause-text",children:_.pointText})}):e.jsx("div",{className:"clause-item",children:e.jsx("p",{className:"clause-text",children:_.pointText})})]},_.id)})})})(),e.jsxs("div",{className:"agreement-section agreement-signature-section",children:[e.jsxs("div",{className:"signature-block",children:[e.jsxs("div",{className:"signature-party",children:[e.jsx("p",{className:"signature-party-title",children:e.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),e.jsxs("div",{className:"signature-space",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"signature-name",children:"Signature"}),e.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),e.jsx("p",{className:"signature-designation",children:"[Designation]"}),e.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",u?u.companyName:"[Company Name]"]})]})]}),e.jsxs("div",{className:"signature-party",children:[e.jsx("p",{className:"signature-party-title",children:e.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),e.jsxs("div",{className:"signature-space",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"signature-name",children:"Signature"}),e.jsx("p",{className:"signature-name",children:m&&m.agrSignAuthName||"[Name of Authorized Signatory]"}),e.jsx("p",{className:"signature-designation",children:m&&m.agrSignAuthDesignation||"[Designation]"}),e.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",m?m.hcfName:"[HCF Name]"]})]})]})]}),e.jsxs("div",{className:"signature-date-place",children:[e.jsxs("p",{className:"date-place-text",children:[e.jsx("strong",{children:"Date:"})," _______________________"]}),e.jsxs("p",{className:"date-place-text",children:[e.jsx("strong",{children:"Place:"})," _______________________"]})]}),e.jsxs("div",{className:"witness-section",children:[e.jsx("p",{className:"witness-title",children:e.jsx("strong",{children:"WITNESSES:"})}),e.jsxs("div",{className:"witness-block",children:[e.jsxs("div",{className:"witness-item",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),e.jsx("p",{className:"witness-address",children:"[Address]"})]}),e.jsxs("div",{className:"witness-item",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),e.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},gee=({clauses:t,agreementFilter:r,statusFilter:n})=>({filteredClauses:M.useMemo(()=>t.filter(s=>{const o=r==="All"||s.agreementID===r,c=n==="All"||s.status===n;return o&&c}).sort((s,o)=>s.agreementID!==o.agreementID?s.agreementID.localeCompare(o.agreementID):s.sequenceNo-o.sequenceNo),[t,r,n])}),vee=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState("All"),[s,o]=M.useState("All"),[c,l]=M.useState(!1),[h,i]=M.useState(null),[d,u]=M.useState(!1),[f,m]=M.useState(null),[v,g]=M.useState(!1),[x,y]=M.useState(!1),j=()=>{y(!x)},[N,T]=M.useState([]),[I,C]=M.useState([]),D=M.useCallback(async()=>{try{u(!0),m(null);const he=await bm.getAllAgreements();T(he.map(le=>({id:le.id,agreementID:le.agreementID,agreementNum:le.agreementNum,status:le.status})))}catch(he){console.error("Failed to load agreements:",he),m(he.message||"Failed to load agreements")}finally{u(!1)}},[]),_=M.useCallback(async he=>{var le;try{u(!0),m(null);const ve=n!=="All"?(le=he.find(Te=>Te.agreementID===n))==null?void 0:le.id:void 0,se=s!=="All"?s:void 0,Ie=(await HA.getAllClauses(ve,se)).map(Te=>{const xe=he.find(pe=>pe.id===Te.agreementId);return{id:Te.id,agreementClauseID:Te.agreementClauseID,agreementID:(xe==null?void 0:xe.agreementID)||Te.agreementId,pointNum:Te.pointNum,pointTitle:Te.pointTitle,pointText:Te.pointText,sequenceNo:Te.sequenceNo,status:Te.status}});Ie.sort((Te,xe)=>Te.agreementID!==xe.agreementID?Te.agreementID.localeCompare(xe.agreementID):Te.sequenceNo-xe.sequenceNo),C(Ie)}catch(ve){console.error("Failed to load clauses:",ve),m(ve.message||"Failed to load clauses")}finally{u(!1)}},[n,s]);M.useEffect(()=>{D()},[D]),M.useEffect(()=>{N.length>0&&_(N)},[N.length,n,s,_]);const{filteredClauses:Z}=gee({clauses:I,agreementFilter:n,statusFilter:s}),ae=he=>{const le=N.find(ve=>ve.agreementID===he);return le||console.warn(`Agreement not found for agreementID: ${he}. Available agreements:`,N.map(ve=>ve.agreementID)),(le==null?void 0:le.status)||null},V=he=>ae(he.agreementID)==="Draft",ie=he=>{if(!V(he)){alert("Clauses can only be edited when the agreement status is Draft.");return}i(he),l(!0)},U=async he=>{if(!V(he)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ve=[...I.filter(re=>re.agreementID===he.agreementID)].sort((re,Ie)=>re.sequenceNo-Ie.sequenceNo),se=ve.findIndex(re=>re.id===he.id);if(se>0){const re=ve[se-1];try{u(!0),m(null),await HA.reorderClause(he.id,re.sequenceNo),await HA.reorderClause(re.id,he.sequenceNo),await _(N)}catch(Ie){console.error("Failed to reorder clause:",Ie),m(Ie.message||"Failed to reorder clause"),alert(Ie.message||"Failed to reorder clause")}finally{u(!1)}}},G=async he=>{if(!V(he)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ve=[...I.filter(re=>re.agreementID===he.agreementID)].sort((re,Ie)=>re.sequenceNo-Ie.sequenceNo),se=ve.findIndex(re=>re.id===he.id);if(se<ve.length-1){const re=ve[se+1];try{u(!0),m(null),await HA.reorderClause(he.id,re.sequenceNo),await HA.reorderClause(re.id,he.sequenceNo),await _(N)}catch(Ie){console.error("Failed to reorder clause:",Ie),m(Ie.message||"Failed to reorder clause"),alert(Ie.message||"Failed to reorder clause")}finally{u(!1)}}},K=async he=>{try{if(g(!0),m(null),he.pointNum&&he.agreementID&&I.find(ve=>ve.agreementID===he.agreementID&&ve.pointNum===he.pointNum&&ve.id!==(h==null?void 0:h.id)))throw new Error(`Point number ${he.pointNum} already exists for this agreement.`);if(h)await HA.updateClause(h.id,{pointNum:he.pointNum,pointTitle:he.pointTitle,pointText:he.pointText,sequenceNo:he.sequenceNo});else{const le=I.filter(se=>se.agreementID===he.agreementID).reduce((se,re)=>Math.max(se,re.sequenceNo),0),ve=N.find(se=>se.agreementID===he.agreementID);if(!ve)throw new Error("Agreement not found");await HA.createClause({agreementId:ve.id,pointNum:he.pointNum,pointTitle:he.pointTitle,pointText:he.pointText,sequenceNo:le+1})}l(!1),i(null),await _(N)}catch(le){console.error("Failed to save clause:",le),m(le.message||"Failed to save clause"),alert(le.message||"Failed to save clause")}finally{g(!1)}},W=({text:he,maxLength:le=50})=>{const ve=he.length>le?`${he.substring(0,le)}...`:he,se=he.length>le;return e.jsx("span",{className:"point-text-cell",title:se?he:void 0,style:{cursor:se?"help":"default"},children:ve})},Ne=({status:he})=>{const le=`clause-status-badge clause-status-badge--${he.toLowerCase()}`;return e.jsx("span",{className:le,role:"status","aria-label":`Status: ${he}`,children:he})},ge=({clause:he})=>{const le=ae(he.agreementID),ve=le==="Draft",re=[...I.filter(oe=>oe.agreementID===he.agreementID)].sort((oe,We)=>oe.sequenceNo-We.sequenceNo),Ie=re.findIndex(oe=>oe.id===he.id),Te=ve&&Ie>0,xe=ve&&Ie<re.length-1,pe=ve?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${le||"Unknown"}`,X=Te?"Move Up":ve?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${le||"Unknown"}`,fe=xe?"Move Down":ve?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${le||"Unknown"}`;return e.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ie(he),title:pe,"aria-label":`Edit clause ${he.pointTitle}`,disabled:!ve,type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--up",onClick:()=>U(he),disabled:!Te,title:X,"aria-label":`Move clause ${he.pointTitle} up`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})})}),e.jsx("button",{className:"action-btn action-btn--down",onClick:()=>G(he),disabled:!xe,title:fe,"aria-label":`Move clause ${he.pointTitle} down`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},Ee=[{key:"agreementID",label:"Agreement ID",minWidth:150,render:he=>{const le=N.find(ve=>ve.agreementID===he.agreementID);return le?`${he.agreementID} - ${le.agreementNum}`:he.agreementID}},{key:"sequenceNo",label:"Sequence",minWidth:100,render:he=>e.jsx("span",{className:"sequence-cell",children:he.sequenceNo})},{key:"pointNum",label:"Point Number",minWidth:120},{key:"pointTitle",label:"Point Title",minWidth:150},{key:"pointText",label:"Point Text",minWidth:300,allowWrap:!0,render:he=>e.jsx(W,{text:he.pointText,maxLength:80})},{key:"status",label:"Status",minWidth:100,render:he=>e.jsx(Ne,{status:he.status})},{key:"actions",label:"Actions",minWidth:150,render:he=>e.jsx(ge,{clause:he})}],Fe=[{path:"/dashboard",label:"Dashboard",icon:"",active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:"",active:r.pathname==="/transaction"},{path:"/finance",label:"Finance",icon:"",active:r.pathname==="/finance"},{path:"/commercial-agreements",label:"Commercial Agreements",icon:"",active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:"",active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:"",active:r.pathname.startsWith("/master")},{path:"/report/billing-finance",label:"Reports",icon:"",active:r.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:j,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Fe.map(he=>e.jsx("li",{children:e.jsxs(Zr,{to:he.path,className:`nav-link ${he.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:he.icon}),!x&&e.jsx("span",{className:"nav-label",children:he.label})]})},he.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Clause Management"})})}),e.jsxs("div",{className:"agreement-clause-page",children:[e.jsx("div",{className:"agreement-clause-header",children:e.jsx("h1",{className:"agreement-clause-title",children:"Agreement Clause Management"})}),f&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:f}),e.jsxs("div",{className:"agreement-clause-filters",children:[e.jsxs("select",{className:"filter-select",value:n,onChange:he=>a(he.target.value),"aria-label":"Filter by agreement",children:[e.jsx("option",{value:"All",children:"All Agreements"}),N.map(he=>e.jsxs("option",{value:he.agreementID,children:[he.agreementID," - ",he.agreementNum]},he.id))]}),e.jsxs("select",{className:"filter-select",value:s,onChange:he=>o(he.target.value),"aria-label":"Filter by status",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]}),e.jsxs("button",{className:"add-clause-btn",onClick:()=>l(!0),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]}),d&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading clauses..."}),!d&&e.jsx("div",{className:"clause-table-container",children:e.jsx(p1,{data:Z,columns:Ee,getId:he=>he.id,emptyMessage:"No clause records found"})}),e.jsx("div",{className:"clause-pagination-info",children:d?"Loading...":`Showing ${Z.length} of ${I.length} Items`})]})]}),c&&e.jsx(xee,{clause:h,agreements:N,clauses:I,saving:v,onClose:()=>{l(!1),i(null)},onSave:K})]})},xee=({clause:t,agreements:r,clauses:n,saving:a,onClose:s,onSave:o})=>{const[c,l]=M.useState(t||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[h,i]=M.useState(null),d=(v,g)=>!v||!g?!0:n.find(y=>y.agreementID===g&&y.pointNum===v&&y.id!==(t==null?void 0:t.id))?(i(`Point number ${v} already exists for this agreement.`),!1):(i(null),!0),u=v=>{l({...c,pointNum:v}),c.agreementID&&d(v,c.agreementID)},f=v=>{l({...c,agreementID:v,pointNum:""}),i(null)},m=v=>{if(v.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}d(c.pointNum,c.agreementID)&&o(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:t?"Edit Agreement Clause":"Add Agreement Clause"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"clause-form",onSubmit:m,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Clause Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement ID *"}),e.jsxs("select",{value:c.agreementID||"",onChange:v=>f(v.target.value),required:!0,disabled:!!t||a,children:[e.jsx("option",{value:"",children:"Select Agreement"}),r.map(v=>e.jsxs("option",{value:v.agreementID,children:[v.agreementID," - ",v.agreementNum]},v.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Point Number *"}),e.jsx("input",{type:"text",value:c.pointNum||"",onChange:v=>u(v.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),h&&e.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:h}),e.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Point Title"}),e.jsx("input",{type:"text",value:c.pointTitle||"",onChange:v=>l({...c,pointTitle:v.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Point Text *"}),e.jsx("textarea",{value:c.pointText||"",onChange:v=>l({...c,pointText:v.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!h,children:[a?"Saving...":t?"Update":"Add"," Clause"]})]})]})]})})},yee=()=>{const{createUser:t,loading:r,user:n}=ya(),[a,s]=M.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[o,c]=M.useState(null),[l,h]=M.useState(null),i=async u=>{u.preventDefault(),c(null),h(null);try{const f=await t({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${f.name} created successfully!`),s({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(f){h(f.message||"Unable to create user")}},d=(u,f)=>{s(m=>({...m,[u]:f}))};return e.jsx("div",{className:"user-management-page",children:e.jsxs("div",{className:"user-management-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"User Management"}),e.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),e.jsxs("form",{className:"user-form",onSubmit:i,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),e.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:u=>d("userName",u.target.value),required:!0,maxLength:50})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),e.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:u=>d("mobileNumber",u.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),e.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:u=>d("empCode",u.target.value),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),e.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:u=>d("userRoleID",u.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"viewer",children:"Viewer"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),e.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:u=>d("employmentType",u.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Access Control"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:u=>d("webLogin",u.target.checked)}),e.jsx("span",{children:"Web Login Access"})]})}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:u=>d("mobileApp",u.target.checked)}),e.jsx("span",{children:"Mobile App Access"})]})})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Identity Documents"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),e.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:u=>d("dlNum",u.target.value),maxLength:20})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),e.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:u=>d("aadhaar",u.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),e.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:u=>d("pan",u.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Employment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),e.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:u=>d("uan",u.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),e.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:u=>d("pfNum",u.target.value),maxLength:22})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),e.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:u=>d("esiNum",u.target.value),maxLength:22})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),e.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:u=>d("grossSalary",u.target.value),required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),e.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:u=>d("contractorName",u.target.value),maxLength:50})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),e.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:u=>d("companyName",u.target.value),maxLength:50})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Address Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),e.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:u=>d("address",u.target.value),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),e.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:u=>d("area",u.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),e.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:u=>d("city",u.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),e.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:u=>d("district",u.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),e.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:u=>d("pincode",u.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),e.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:u=>d("emergencyContact",u.target.value),maxLength:25})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Status"}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.status,onChange:u=>d("status",u.target.checked)}),e.jsx("span",{children:"Active Status"})]})})]}),l&&e.jsx("div",{className:"form-error",children:l}),o&&e.jsx("div",{className:"form-success",children:o}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:r,children:r?"Creating User...":"Create User"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},Ul=({children:t,navItems:r=[]})=>{const{user:n,logout:a}=ya(),s=In();ds();const[o,c]=M.useState(!1),[l,h]=M.useState(!1),[i,d]=M.useState(!1);M.useEffect(()=>{const g=()=>{d(window.innerWidth<=768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const u=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:s.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:s.pathname==="/transaction"||s.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:s.pathname==="/finance"||s.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:s.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:s.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:s.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:s.pathname.startsWith("/report")}],f=r.length>0?r:u,m=()=>{c(!o)},v=()=>{h(!l)};return e.jsxs("div",{className:"app-layout",children:[i&&e.jsx("button",{className:"mobile-menu-toggle",onClick:v,"aria-label":"Toggle menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),i&&l&&e.jsx("div",{className:"mobile-overlay",onClick:v}),e.jsxs("aside",{className:`app-layout__sidebar ${o?"collapsed":""} ${i&&l?"open":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!o&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),!i&&e.jsx("button",{className:"sidebar-toggle",onClick:m,"aria-label":o?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(g=>e.jsx("li",{children:e.jsxs(Zr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:g.icon}),!o&&e.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Zr,{to:"/profile",className:"sidebar-profile-link",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!o&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:a,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!o&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsx("main",{className:"app-layout__content",children:t})]})},bee=({id:t,title:r,description:n,icon:a,path:s,parameters:o,indicators:c=[]})=>{const l=()=>{if(o.length===0)return"No parameters";const h=3,i=o.slice(0,h),d=o.length-h;let u=i.join("  ");return d>0&&(u+=` +${d} more`),u};return e.jsxs(Zr,{to:s,className:"report-card-modern","aria-label":`View ${r} report`,children:[e.jsxs("div",{className:"report-card-modern-header",children:[e.jsx("div",{className:"report-card-modern-icon",children:a}),e.jsxs("div",{className:"report-card-modern-title-section",children:[e.jsx("h3",{className:"report-card-modern-title",children:r}),c.length>0&&e.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&e.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&e.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&e.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&e.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),e.jsxs("div",{className:"report-card-modern-body",children:[e.jsx("p",{className:"report-card-modern-description",children:n}),e.jsxs("div",{className:"report-card-modern-parameters",children:[e.jsx("span",{className:"parameters-label",children:"Params:"}),e.jsx("span",{className:"parameters-value",children:l()})]})]})]})},jee=()=>{var C;const t=In(),[r,n]=M.useState(""),[a,s]=M.useState("All"),[o,c]=M.useState(!1),[l,h]=M.useState(!1),[i,d]=M.useState({reportType:"",ownership:"",favorites:!1}),[u,f]=M.useState(new Set),m=M.useRef(null),v=M.useRef(null),g=[{id:"All",label:"All Reports",icon:""},{id:"BillingFinance",label:"Billing & Finance",icon:"",children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:""},{id:"BillingFinance-Payments",label:"Payments",icon:""},{id:"BillingFinance-Revenue",label:"Revenue",icon:""},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:""}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:"",children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:""},{id:"ContractAgreement-Agreements",label:"Agreements",icon:""},{id:"ContractAgreement-Renewals",label:"Renewals",icon:""}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:"",children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:""},{id:"OperationsLogistics-Routes",label:"Routes",icon:""},{id:"OperationsLogistics-Collection",label:"Collection",icon:""},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:""}]},{id:"MasterData",label:"Master Data",icon:"",children:[{id:"MasterData-Company",label:"Company",icon:""},{id:"MasterData-HCF",label:"HCF",icon:""},{id:"MasterData-User",label:"User",icon:""},{id:"MasterData-Fleet",label:"Fleet",icon:""}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:"",children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:""},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:""}]}],y=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(D=>{const _=D.title.toLowerCase().includes(r.toLowerCase())||D.description.toLowerCase().includes(r.toLowerCase())||D.parameters.some(V=>V.toLowerCase().includes(r.toLowerCase())),Z=a==="All"||D.category===a||a.startsWith(D.category+"-"),ae=(!i.reportType||D.reportType===i.reportType)&&(!i.ownership||D.ownership===i.ownership)&&(!i.favorites||u.has(D.id)||D.isFavorite);return _&&Z&&ae});M.useEffect(()=>{const D=_=>{m.current&&!m.current.contains(_.target)&&c(!1),v.current&&!v.current.contains(_.target)&&(_.target.closest(".filters-toggle-btn")||h(!1))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const j=()=>{if(a==="All")return"All Reports";const D=(Z,ae)=>{for(const V of Z){if(V.id===ae)return V;if(V.children){const ie=D(V.children,ae);if(ie)return ie}}return null},_=D(g,a);return(_==null?void 0:_.label)||"All Reports"},N=D=>{s(D),c(!1)},T=()=>{let D=0;return i.reportType&&D++,i.ownership&&D++,i.favorites&&D++,D},I=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname==="/transaction"||t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname==="/finance"||t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname==="/commercial-agreements"||t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:t.pathname==="/compliance-training"||t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:I,children:e.jsxs("div",{className:"reports-page",children:[e.jsx("div",{className:"reports-header",children:e.jsx("div",{className:"reports-header-content",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports"})})})}),l&&e.jsxs("div",{className:"filters-drawer-compact",ref:v,children:[e.jsxs("div",{className:"filters-drawer-header-compact",children:[e.jsx("h3",{children:"Filters"}),e.jsx("button",{className:"filters-drawer-close",onClick:()=>h(!1),"aria-label":"Close filters",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"filters-drawer-content-compact",children:[e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Report Type"}),e.jsxs("div",{className:"filter-segmented-buttons",children:[e.jsx("button",{className:`segmented-btn ${i.reportType?"":"active"}`,onClick:()=>d({...i,reportType:""}),children:"All"}),e.jsx("button",{className:`segmented-btn ${i.reportType==="Transactional"?"active":""}`,onClick:()=>d({...i,reportType:"Transactional"}),children:"Transactional"}),e.jsx("button",{className:`segmented-btn ${i.reportType==="Master"?"active":""}`,onClick:()=>d({...i,reportType:"Master"}),children:"Master"}),e.jsx("button",{className:`segmented-btn ${i.reportType==="Analytics"?"active":""}`,onClick:()=>d({...i,reportType:"Analytics"}),children:"Analytics"})]})]}),e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Ownership"}),e.jsxs("div",{className:"filter-segmented-buttons",children:[e.jsx("button",{className:`segmented-btn ${i.ownership?"":"active"}`,onClick:()=>d({...i,ownership:""}),children:"All"}),e.jsx("button",{className:`segmented-btn ${i.ownership==="My Reports"?"active":""}`,onClick:()=>d({...i,ownership:"My Reports"}),children:"My Reports"}),e.jsx("button",{className:`segmented-btn ${i.ownership==="Shared"?"active":""}`,onClick:()=>d({...i,ownership:"Shared"}),children:"Shared"}),e.jsx("button",{className:`segmented-btn ${i.ownership==="System"?"active":""}`,onClick:()=>d({...i,ownership:"System"}),children:"System"})]})]}),e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Favorites"}),e.jsxs("div",{className:"filter-toggle-wrapper",children:[e.jsx("button",{className:`filter-toggle-btn ${i.favorites?"active":""}`,onClick:()=>d({...i,favorites:!i.favorites}),"aria-pressed":i.favorites,children:e.jsx("span",{className:"filter-toggle-slider"})}),e.jsx("span",{className:"filter-toggle-label",children:i.favorites?"Show favorites only":"Show all reports"})]})]}),T()>0&&e.jsx("div",{className:"filters-drawer-actions-compact",children:e.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>d({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),e.jsxs("div",{className:"reports-content-wrapper",children:[e.jsx("div",{className:"reports-title-section",children:e.jsx("h1",{className:"reports-title",children:"Reports"})}),e.jsxs("div",{className:"reports-search-section",children:[e.jsxs("div",{className:"reports-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:r,onChange:D=>n(D.target.value),"aria-label":"Search reports"})]}),e.jsxs("div",{className:"category-popover-wrapper",ref:m,children:[e.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!o),"aria-expanded":o,children:[e.jsx("span",{className:"category-icon",children:((C=g.find(D=>D.id===a))==null?void 0:C.icon)||""}),e.jsx("span",{className:"category-label",children:j()}),e.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),o&&e.jsx("div",{className:"category-popover",children:g.map(D=>e.jsxs("div",{className:"category-group",children:[e.jsxs("button",{className:`category-item ${a===D.id?"active":""}`,onClick:()=>!D.children&&N(D.id),children:[e.jsx("span",{className:"category-item-icon",children:D.icon}),e.jsx("span",{className:"category-item-label",children:D.label}),D.children&&e.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),D.children&&e.jsx("div",{className:"category-children",children:D.children.map(_=>e.jsxs("button",{className:`category-item category-child ${a===_.id?"active":""}`,onClick:()=>N(_.id),children:[e.jsx("span",{className:"category-item-icon",children:_.icon}),e.jsx("span",{className:"category-item-label",children:_.label})]},_.id))})]},D.id))})]}),e.jsxs("button",{className:"filters-toggle-btn",onClick:()=>h(!l),"aria-expanded":l,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("span",{children:"Filters"}),T()>0&&e.jsx("span",{className:"filter-count-badge",children:T()})]}),e.jsxs("span",{className:"results-count-inline",children:[y.length," report",y.length!==1?"s":""]})]}),e.jsx("div",{className:"reports-grid-container",children:e.jsxs("div",{className:"reports-grid",children:[y.map(D=>e.jsx(bee,{id:D.id,title:D.title,description:D.description,icon:D.icon,path:D.path,parameters:D.parameters,indicators:D.indicators},D.id)),y.length===0&&e.jsxs("div",{className:"reports-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("h3",{children:"No reports found"}),e.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},wee=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},l=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname.startsWith("/report")}],i=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Billing & Finance Reports"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),e.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:i.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Cee=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},l=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],i=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Operations & Logistics"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),e.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:i.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Nee=()=>{const{logout:t}=ya(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(!1),c=()=>{o(!s)},l=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname==="/master"||r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:r.pathname.startsWith("/report")}],i=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:c,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(d=>e.jsx("li",{children:e.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:d.icon}),!s&&e.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${r.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / HCF & Compliance"})})}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),e.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:n,onChange:d=>a(d.target.value)})]})}),e.jsx("div",{className:"master-grid",children:i.map(d=>e.jsxs(Zr,{to:d.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:d.icon}),e.jsx("h3",{className:"master-card-title",children:d.title}),e.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Bee=()=>{const[t,r]=M.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=M.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),s=M.useCallback((f,m)=>{r(v=>({...v,[f]:m}))},[]),o=M.useCallback((f,m)=>{a(v=>({...v,[f]:m}))},[]),c=M.useCallback(()=>{r(f=>({...f,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),l=M.useCallback(()=>{const f={page:1,pageSize:t.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};r(f),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[t.pageSize]),h=M.useCallback((f,m)=>{r(v=>({...v,page:f,...m!==void 0&&{pageSize:m}}))},[]),i=M.useCallback(f=>{r(m=>({...m,searchText:f,page:1}))},[]),d=M.useCallback(()=>{var f;return!!(t.invoiceFromDate||t.invoiceToDate||t.companyId||t.hcfId||t.status&&t.status!=="All"||t.billingType&&t.billingType!=="All"||(f=t.searchText)!=null&&f.trim())},[t]),u=M.useCallback(()=>{var m;const f={page:t.page||1,pageSize:t.pageSize||25,sortBy:t.sortBy||"invoiceDate",sortOrder:t.sortOrder||"DESC"};return t.invoiceFromDate&&(f.invoiceFromDate=t.invoiceFromDate),t.invoiceToDate&&(f.invoiceToDate=t.invoiceToDate),t.companyId&&(f.companyId=t.companyId),t.hcfId&&(f.hcfId=t.hcfId),t.status&&t.status!=="All"&&(f.status=t.status),t.billingType&&t.billingType!=="All"&&(f.billingType=t.billingType),(m=t.searchText)!=null&&m.trim()&&(f.searchText=t.searchText.trim()),f},[t]);return{filters:t,pendingFilters:n,updateFilter:s,updatePendingFilter:o,applyFilters:c,clearFilters:l,updatePagination:h,updateSearchText:i,hasFiltersApplied:d,buildApiFilters:u}},Jb=()=>{const t=In(),r=ds(),{filters:n,pendingFilters:a,updatePendingFilter:s,applyFilters:o,clearFilters:c,updatePagination:l,updateSearchText:h,hasFiltersApplied:i,buildApiFilters:d}=Bee(),[u,f]=M.useState(!1),m=n.searchText||"",[v,g]=M.useState([]),[x,y]=M.useState([]),[j,N]=M.useState([]),[T,I]=M.useState([]),[C,D]=M.useState(!1),[_,Z]=M.useState(!1),[ae,V]=M.useState(null),ie=n.page||1,U=n.pageSize||25,G=M.useRef(null),K=M.useRef(null),[W,Ne]=M.useState(null),[ge,Ee]=M.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});M.useEffect(()=>{(async()=>{try{const[Le,ot]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);g(Le),y(ot)}catch(Le){console.error("Error loading master data:",Le)}})()},[]);const Fe=n.companyId?x.filter(be=>be.companyId===n.companyId):x,he=()=>{if(!i())return"No filters applied. Select a date range or search to view invoices.";const be=[];if(n.invoiceFromDate&&n.invoiceToDate){const Le=new Date(n.invoiceFromDate),ot=new Date(n.invoiceToDate),Tt=new Date,Mt=Tt.getMonth(),Nt=Tt.getFullYear();if(Le.getMonth()===Mt&&Le.getFullYear()===Nt&&ot.getMonth()===Mt&&ot.getFullYear()===Nt)be.push("Current Month");else{const qt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ir=ot.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});be.push(`${qt} - ${Ir}`)}}else if(n.invoiceFromDate||n.invoiceToDate){if(n.invoiceFromDate){const Le=new Date(n.invoiceFromDate);be.push(`From ${Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.invoiceToDate){const Le=new Date(n.invoiceToDate);be.push(`To ${Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Le=v.find(ot=>ot.id===n.companyId);be.push(Le?Le.companyName:"Selected Company")}else be.push("All Companies");if(n.hcfId){const Le=Fe.find(ot=>ot.id===n.hcfId);be.push(Le?Le.hcfName:"Selected HCF")}else be.push("All HCFs");return n.status&&n.status!=="All"?be.push(n.status):be.push("All Status"),`Showing invoices for: ${be.join("  ")}`},le=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],ve=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],se=be=>{I(be),re(be)};M.useEffect(()=>{var be;!_&&!C&&!((be=n.searchText)!=null&&be.trim())&&!i()&&Te()},[]),M.useEffect(()=>{var Le;if(C||!_&&!((Le=n.searchText)!=null&&Le.trim())&&!i())return;const be=setTimeout(()=>{C||Te()},500);return()=>clearTimeout(be)},[n.searchText,n.invoiceFromDate,n.invoiceToDate,n.companyId,n.hcfId,n.status,n.billingType,n.page,n.pageSize]);const re=be=>{const Le=be.length,ot=be.reduce((Nt,qt)=>Nt+(qt.invoiceValue||0),0),Tt=be.reduce((Nt,qt)=>Nt+(qt.totalPaidAmount||0),0),Mt=be.reduce((Nt,qt)=>Nt+(qt.balanceAmount||0),0);Ee({totalInvoices:Le,totalAmount:ot,paidAmount:Tt,balanceAmount:Mt})},Ie=async()=>{var Le,ot;o(),f(!1);const be={page:1,pageSize:n.pageSize||25,sortBy:n.sortBy||"invoiceDate",sortOrder:n.sortOrder||"DESC"};a.invoiceFromDate&&(be.invoiceFromDate=a.invoiceFromDate),a.invoiceToDate&&(be.invoiceToDate=a.invoiceToDate),a.companyId&&(be.companyId=a.companyId),a.hcfId&&(be.hcfId=a.hcfId),a.status&&a.status!=="All"&&(be.status=a.status),a.billingType&&a.billingType!=="All"&&(be.billingType=a.billingType),(Le=n.searchText)!=null&&Le.trim()&&(be.searchText=n.searchText.trim()),D(!0),V(null);try{const Tt=await ym(be);if(!Tt||!Tt.data||!Array.isArray(Tt.data))throw console.error("Invalid response structure:",Tt),new Error("Invalid response format from server");if(!Tt.meta)throw console.error("Missing meta in response:",Tt),new Error("Missing pagination metadata in response");let Mt=(Tt.data||[]).map(fr=>({id:fr.invoiceId,invoiceNumber:fr.invoiceNumber,invoiceDate:fr.invoiceDate,dueDate:fr.dueDate,companyId:fr.companyId,companyName:fr.companyName,hcfId:fr.hcfId,hcfName:fr.hcfName,hcfCode:fr.hcfCode,billingType:fr.billingType,invoiceValue:fr.invoiceValue,totalPaidAmount:fr.totalPaidAmount,balanceAmount:fr.balanceAmount,status:fr.status}));N(Mt),se(Mt),Z(!0);const Nt=Mt.reduce((fr,He)=>fr+(He.invoiceValue||0),0),qt=Mt.reduce((fr,He)=>fr+(He.totalPaidAmount||0),0),Ir=Mt.reduce((fr,He)=>fr+(He.balanceAmount||0),0);Ee({totalInvoices:((ot=Tt.meta)==null?void 0:ot.totalRecords)||0,totalAmount:Nt,paidAmount:qt,balanceAmount:Ir})}catch(Tt){console.error("Error applying filters:",Tt),V(Tt.message||"Failed to apply filters")}finally{D(!1)}},Te=async()=>{var be,Le,ot,Tt,Mt;D(!0),V(null);try{const Nt=d(),qt=await ym(Nt);if(Nt.searchText&&qt.data.length===0&&((be=qt==null?void 0:qt.meta)==null?void 0:be.state)==="HAS_RESULTS"&&((Le=qt==null?void 0:qt.meta)==null?void 0:Le.totalRecords)===0)try{const hr={...Nt};delete hr.searchText,hr.page=1,hr.pageSize=100;let nn=[],Gr=1;const Vr=5;for(;Gr<=Vr;){hr.page=Gr;const Sr=await ym(hr);if(Sr!=null&&Sr.data&&Sr.data.length>0){if(nn=nn.concat(Sr.data),Sr.data.length<hr.pageSize)break;Gr++}else break}if(nn.length>0){const Sr=Nt.searchText.toLowerCase().trim(),cr=nn.filter(wr=>{const Hr=(wr.invoiceNumber||"").toLowerCase(),Wr=(wr.companyName||"").toLowerCase(),hn=(wr.hcfCode||"").toLowerCase(),Rr=(wr.status||"").toLowerCase();return Hr.includes(Sr)||Wr.includes(Sr)||hn.includes(Sr)||Rr.includes(Sr)||wr.invoiceValue&&wr.invoiceValue.toString().includes(Sr)});cr.length>0&&(qt.data=cr,qt.meta&&(qt.meta.totalRecords=cr.length,qt.meta.dataCount=cr.length,qt.meta.state=cr.length>0?"HAS_RESULTS":"NO_RESULTS",qt.meta.totalPages=Math.ceil(cr.length/(Nt.pageSize||25))))}}catch(hr){console.error("Client-side fallback failed:",hr)}if(!qt||!qt.data||!Array.isArray(qt.data))throw console.error("Invalid response structure:",qt),new Error("Invalid response format from server");if(!qt.meta)throw console.error("Missing meta in response:",qt),new Error("Missing pagination metadata in response");const fr=(qt.data||[]).map(hr=>({invoiceId:hr.invoiceId,companyId:hr.companyId,hcfId:hr.hcfId,invoiceNumber:hr.invoiceNumber,invoiceDate:hr.invoiceDate,dueDate:hr.dueDate,billingType:hr.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:hr.invoiceValue,totalPaidAmount:hr.totalPaidAmount,balanceAmount:hr.balanceAmount,status:hr.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:hr.companyName,companyCode:hr.companyCode,hcfName:hr.hcfName,hcfCode:hr.hcfCode}))||[];N(()=>fr),I(()=>fr),Z(()=>!0),qt.meta&&!m.trim()?l(qt.meta.page):qt.meta&&m.trim()&&l(ie===1?1:qt.meta.page);const He=qt.data||[],Yt=He.reduce((hr,nn)=>hr+(nn.invoiceValue||0),0),Ct=He.reduce((hr,nn)=>hr+(nn.totalPaidAmount||0),0),Qr=He.reduce((hr,nn)=>hr+(nn.balanceAmount||0),0);Ee({totalInvoices:((ot=qt.meta)==null?void 0:ot.totalRecords)||0,totalAmount:Yt,paidAmount:Ct,balanceAmount:Qr}),f(!1),setTimeout(()=>{var hr;(hr=G.current)==null||hr.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(Nt){console.error("Error generating report:",Nt),V(Nt.message||"Failed to generate report"),((Tt=Nt.message)!=null&&Tt.includes("Invalid response")||(Mt=Nt.message)!=null&&Mt.includes("Missing"))&&(N([]),I([]),Z(!1)),console.error("Report error:",Nt)}finally{D(!1)}},xe=async()=>{c(),f(!1),await Te()},pe=be=>be==null?"0.00":`${be.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,X=be=>be?new Date(be).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",fe=be=>{switch(be){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},oe=_&&ge.totalInvoices>0?Math.ceil(ge.totalInvoices/U):0;(ie-1)*U+((T==null?void 0:T.length)||0);const Ue=T||[],ue=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:ue,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Invoice Generation & Printing"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Invoice Generation & Printing Report"}),!i()&&e.jsx("div",{className:"page-context-subtitle",children:he()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${C?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status, or Amount",value:m,onChange:be=>h(be.target.value),onKeyDown:be=>{be.key==="Enter"&&!C&&(be.preventDefault(),Te())},disabled:C}),m&&!C&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{h(""),(_||i())&&await Te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:K,className:`btn btn-filters-toggle ${u?"active":""} ${C?"loading":""}`,onClick:()=>{if(!C){if(u||(s("companyId",n.companyId||""),s("hcfId",n.hcfId||""),s("status",n.status||"All"),s("billingType",n.billingType||"All"),s("invoiceFromDate",n.invoiceFromDate||""),s("invoiceToDate",n.invoiceToDate||"")),K.current){const be=K.current.getBoundingClientRect();Ne({top:be.bottom+8,left:be.left})}f(!u)}},disabled:C,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length})]})]}),u&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{f(!1),Ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:be=>be.stopPropagation(),style:W?{position:"fixed",top:`${W.top}px`,left:`${W.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s("companyId",""),s("hcfId",""),s("invoiceFromDate",""),s("invoiceToDate",""),s("status","All"),s("billingType","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>f(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceFromDate||"",onChange:be=>s("invoiceFromDate",be.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceToDate||"",onChange:be=>s("invoiceToDate",be.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:be=>{s("companyId",be.target.value),s("hcfId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),v.map(be=>e.jsxs("option",{value:be.id,children:[be.companyCode," - ",be.companyName]},be.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:be=>s("hcfId",be.target.value),disabled:!a.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(be=>be.companyId===a.companyId):x).map(be=>e.jsxs("option",{value:be.id,children:[be.hcfCode," - ",be.hcfName]},be.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:be=>s("status",be.target.value),children:le.map(be=>e.jsx("option",{value:be.value,children:be.label},be.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),e.jsx("select",{className:"filter-modal-select",value:a.billingType||"All",onChange:be=>s("billingType",be.target.value),children:ve.map(be=>e.jsx("option",{value:be.value,children:be.label},be.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ie(),f(!1)},disabled:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:G,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Balance"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:C?Array.from({length:5}).map((be,Le)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Le}`)):_?Ue.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),e.jsx("p",{className:"empty-state-text",children:m.trim()?`No invoices match "${m.trim()}". Try adjusting your search or filters.`:i()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(i()||m.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:xe,children:"Clear Filters"})})]})})}):Ue.map((be,Le)=>e.jsxs("tr",{className:Le%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:be.invoiceNumber}),e.jsx("td",{children:be.companyName||"N/A"}),e.jsx("td",{children:be.hcfCode||"N/A"}),e.jsx("td",{children:X(be.invoiceDate)}),e.jsx("td",{children:be.billingType}),e.jsx("td",{className:"text-right",children:pe(be.invoiceValue)}),e.jsx("td",{className:"text-right",children:pe(be.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:pe(be.balanceAmount)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:fe(be.status),children:be.status})})]},be.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:_&&T.length>0?`Showing ${U} of ${ge.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:U,disabled:!_||T.length===0,onChange:async be=>{l(1,Number(be.target.value)),_&&await Te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const be=Math.max(1,ie-1);l(be),_&&await Te()},disabled:ie===1||!_||T.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const be=[];let ot=Math.max(1,ie-Math.floor(2.5)),Tt=Math.min(oe,ot+5-1);Tt-ot<4&&(ot=Math.max(1,Tt-5+1)),ot>1&&(be.push(1),ot>2&&be.push("..."));for(let Mt=ot;Mt<=Tt;Mt++)be.push(Mt);return Tt<oe&&(Tt<oe-1&&be.push("..."),be.push(oe)),be.map((Mt,Nt)=>{if(Mt==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Nt}`);const qt=Mt;return e.jsx("button",{className:`pagination-page-btn ${ie===qt?"active":""}`,onClick:async()=>{l(qt),_&&await Te()},disabled:!_||T.length===0,children:qt},qt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const be=Math.min(oe,ie+1);l(be),_&&await Te()},disabled:ie===oe||oe===0||!_||T.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},See=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[s,o]=M.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalContracts:0});M.useEffect(()=>{(async()=>{try{const[X,fe]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(X),f(fe)}catch(X){console.error("Error loading master data:",X)}})()},[]);const K=n.companyId?u.filter(pe=>pe.companyId===n.companyId):u,W=()=>{var pe;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(pe=n.searchText)!=null&&pe.trim())},Ne=()=>{if(!W())return"No filters applied. Select a date range or search to view contracts.";const pe=[];if(n.fromDate&&n.toDate){const X=new Date(n.fromDate),fe=new Date(n.toDate),oe=X.toLocaleDateString("en-US",{month:"short",day:"numeric"}),We=fe.toLocaleDateString("en-US",{month:"short",day:"numeric"});pe.push(`Date: ${oe}${We}`)}if(n.companyId){const X=i.find(fe=>fe.id===n.companyId);X&&pe.push(`Company: ${X.companyName}`)}if(n.hcfId){const X=K.find(fe=>fe.id===n.hcfId);X&&pe.push(`HCF: ${X.hcfCode}`)}return n.status&&n.status!=="All"&&pe.push(`Status: ${n.status}`),pe.join("  ")},ge=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],Ee=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],Fe=async()=>{var pe;j(!0),C(null);try{const X={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let fe=await ZA.getAllContracts(X.companyId,X.status);if(n.hcfId&&(fe=fe.filter(ue=>ue.hcfId===n.hcfId)),n.fromDate){const ue=new Date(n.fromDate);fe=fe.filter(be=>new Date(be.startDate)>=ue)}if(n.toDate){const ue=new Date(n.toDate);ue.setHours(23,59,59,999),fe=fe.filter(be=>new Date(be.startDate)<=ue)}if(n.billingType&&n.billingType!=="All"&&(fe=fe.filter(ue=>ue.billingType===n.billingType)),(pe=n.searchText)!=null&&pe.trim()){const ue=n.searchText.toLowerCase().trim();fe=fe.filter(be=>{const Le=(be.contractNum||"").toLowerCase(),ot=i.find(qt=>qt.id===be.companyId),Tt=((ot==null?void 0:ot.companyName)||"").toLowerCase(),Mt=u.find(qt=>qt.id===be.hcfId),Nt=((Mt==null?void 0:Mt.hcfCode)||"").toLowerCase();return Le.includes(ue)||Tt.includes(ue)||Nt.includes(ue)})}fe.sort((ue,be)=>{const Le=ue[n.sortBy]||"",ot=be[n.sortBy]||"";return n.sortOrder==="ASC"?Le>ot?1:-1:Le<ot?1:-1});const oe=(D-1)*_,We=oe+_,Ue=fe.slice(oe,We);v(fe),x(Ue),T(!0),G({totalContracts:fe.length})}catch(X){console.error("Error loading contracts:",X),C(X.message||"Failed to load contract data"),v([]),x([])}finally{j(!1)}},he=async()=>{a(pe=>({...pe,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",status:s.status||"All",billingType:s.billingType||"All",page:1})),l(!1),await Fe()},le=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),o({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),l(!1),await Fe()};M.useEffect(()=>{if(i.length>0||!n.companyId){const pe=setTimeout(()=>{Fe()},500);return()=>clearTimeout(pe)}},[n,i]);const ve=pe=>pe?new Date(pe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=pe=>{switch(pe){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},re=N&&U.totalContracts>0?Math.ceil(U.totalContracts/_):0,Ie=(D-1)*_,Te=Math.min(Ie+g.length,U.totalContracts),xe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:xe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Contract Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:h,onChange:pe=>a(X=>({...X,searchText:pe.target.value,page:1})),onKeyDown:pe=>{pe.key==="Enter"&&!y&&(pe.preventDefault(),Fe())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(pe=>({...pe,searchText:"",page:1})),(N||W())&&await Fe()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),ae.current){const pe=ae.current.getBoundingClientRect();ie({top:pe.bottom+8,left:pe.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:pe=>pe.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:pe=>o(X=>({...X,fromDate:pe.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:pe=>o(X=>({...X,toDate:pe.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:pe=>{o(X=>({...X,companyId:pe.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(pe=>e.jsxs("option",{value:pe.id,children:[pe.companyCode," - ",pe.companyName]},pe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:pe=>o(X=>({...X,hcfId:pe.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(pe=>pe.companyId===s.companyId):u).map(pe=>e.jsxs("option",{value:pe.id,children:[pe.hcfCode," - ",pe.hcfName]},pe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:pe=>o(X=>({...X,status:pe.target.value})),children:ge.map(pe=>e.jsx("option",{value:pe.value,children:pe.label},pe.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),e.jsx("select",{className:"filter-modal-select",value:s.billingType||"All",onChange:pe=>o(X=>({...X,billingType:pe.target.value})),children:Ee.map(pe=>e.jsx("option",{value:pe.value,children:pe.label},pe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await he(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((pe,X)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${X}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No contracts match "${h.trim()}". Try adjusting your search or filters.`:W()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):g.map((pe,X)=>{var fe,oe;return e.jsxs("tr",{className:X%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:pe.contractNum}),e.jsx("td",{children:((fe=i.find(We=>We.id===pe.companyId))==null?void 0:fe.companyName)||"N/A"}),e.jsx("td",{children:((oe=u.find(We=>We.id===pe.hcfId))==null?void 0:oe.hcfCode)||"N/A"}),e.jsx("td",{children:ve(pe.startDate)}),e.jsx("td",{children:ve(pe.endDate)}),e.jsx("td",{children:pe.billingType}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:se(pe.status),children:pe.status})})]},pe.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${Ie+1}-${Te} of ${U.totalContracts} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async pe=>{a(X=>({...X,page:1,pageSize:Number(pe.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.max(1,D-1);a(X=>({...X,page:pe}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const pe=[];let fe=Math.max(1,D-Math.floor(2.5)),oe=Math.min(re,fe+5-1);oe-fe<4&&(fe=Math.max(1,oe-5+1)),fe>1&&(pe.push(1),fe>2&&pe.push("..."));for(let We=fe;We<=oe;We++)pe.push(We);return oe<re&&(oe<re-1&&pe.push("..."),pe.push(re)),pe.map((We,Ue)=>{if(We==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ue}`);const ue=We;return e.jsx("button",{className:`pagination-page-btn ${D===ue?"active":""}`,onClick:async()=>{a(be=>({...be,page:ue}))},disabled:!N||g.length===0,children:ue},ue)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.min(re,D+1);a(X=>({...X,page:pe}))},disabled:D===re||re===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Eee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[s,o]=M.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=n.page||1,C=n.pageSize||25,D=M.useRef(null),_=M.useRef(null),[Z,ae]=M.useState(null),[V,ie]=M.useState({totalHcfs:0});M.useEffect(()=>{(async()=>{try{const Ie=await Ha.getAllCompanies();d(Ie)}catch(Ie){console.error("Error loading master data:",Ie)}})()},[]);const U=()=>{var re;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(re=n.searchText)!=null&&re.trim())},G=()=>{if(!U())return"No filters applied. View all healthcare facilities.";const re=[];if(n.companyId){const Ie=i.find(Te=>Te.id===n.companyId);Ie&&re.push(`Company: ${Ie.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&re.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&re.push(`Status: ${n.status}`),n.stateCode&&re.push(`State: ${n.stateCode}`),n.district&&re.push(`District: ${n.district}`),n.category&&re.push(`Category: ${n.category}`),re.join("  ")},K=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],W=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Ne=async()=>{var re;x(!0),T(null);try{let Ie=await Ei.getAllHcfs();if(n.companyId&&(Ie=Ie.filter(X=>X.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(Ie=Ie.filter(X=>X.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(Ie=Ie.filter(X=>X.status===n.status)),n.stateCode&&(Ie=Ie.filter(X=>X.stateCode===n.stateCode)),n.district){const X=n.district.toLowerCase().trim();Ie=Ie.filter(fe=>fe.district&&fe.district.toLowerCase().includes(X))}if(n.category){const X=n.category.toLowerCase().trim();Ie=Ie.filter(fe=>fe.category&&fe.category.toLowerCase().includes(X))}if((re=n.searchText)!=null&&re.trim()){const X=n.searchText.toLowerCase().trim();Ie=Ie.filter(fe=>{const oe=(fe.hcfCode||"").toLowerCase(),We=(fe.hcfName||"").toLowerCase(),Ue=(fe.hcfShortName||"").toLowerCase(),ue=i.find(Tt=>Tt.id===fe.companyId),be=((ue==null?void 0:ue.companyName)||"").toLowerCase(),Le=(fe.district||"").toLowerCase(),ot=(fe.category||"").toLowerCase();return oe.includes(X)||We.includes(X)||Ue.includes(X)||be.includes(X)||Le.includes(X)||ot.includes(X)||fe.pincode&&fe.pincode.includes(X)||fe.gstin&&fe.gstin.toLowerCase().includes(X)})}Ie.sort((X,fe)=>{const oe=X[n.sortBy]||"",We=fe[n.sortBy]||"";return n.sortOrder==="ASC"?oe>We?1:-1:oe<We?1:-1});const Te=(I-1)*C,xe=Te+C,pe=Ie.slice(Te,xe);f(Ie),v(pe),j(!0),ie({totalHcfs:Ie.length})}catch(Ie){console.error("Error loading HCFs:",Ie),T(Ie.message||"Failed to load HCF data"),f([]),v([])}finally{x(!1)}},ge=async()=>{a(re=>({...re,companyId:s.companyId||"",hcfType:s.hcfType||"All",status:s.status||"All",stateCode:s.stateCode||"",district:s.district||"",category:s.category||"",page:1})),l(!1),await Ne()},Ee=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),o({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),l(!1),await Ne()};M.useEffect(()=>{if(i.length>0||!n.companyId){const re=setTimeout(()=>{Ne()},500);return()=>clearTimeout(re)}},[n,i]);const Fe=re=>{switch(re){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},he=y&&V.totalHcfs>0?Math.ceil(V.totalHcfs/C):0,le=(I-1)*C,ve=Math.min(le+m.length,V.totalHcfs),se=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:se,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!U()&&e.jsx("div",{className:"page-context-subtitle",children:G()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${g?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:h,onChange:re=>a(Ie=>({...Ie,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!g&&(re.preventDefault(),Ne())},disabled:g}),h&&!g&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(y||U())&&await Ne()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:_,className:`btn btn-filters-toggle ${c?"active":""} ${g?"loading":""}`,onClick:()=>{if(!g){if(c||o({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),_.current){const re=_.current.getBoundingClientRect();ae({top:re.bottom+8,left:re.left})}l(!c)}},disabled:g,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:re=>o(Ie=>({...Ie,companyId:re.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(re=>e.jsxs("option",{value:re.id,children:[re.companyCode," - ",re.companyName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),e.jsx("select",{className:"filter-modal-select",value:s.hcfType||"All",onChange:re=>o(Ie=>({...Ie,hcfType:re.target.value})),children:K.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:re=>o(Ie=>({...Ie,status:re.target.value})),children:W.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"State Code"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.stateCode||"",onChange:re=>o(Ie=>({...Ie,stateCode:re.target.value})),placeholder:"Enter state code"})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"District"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.district||"",onChange:re=>o(Ie=>({...Ie,district:re.target.value})),placeholder:"Enter district name"})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Category"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.category||"",onChange:re=>o(Ie=>({...Ie,category:re.target.value})),placeholder:"Enter category"})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ge(),l(!1)},disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),e.jsxs("div",{className:"results-section",ref:D,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF Type"}),e.jsx("th",{children:"District"}),e.jsx("th",{children:"State"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Pincode"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:g?Array.from({length:5}).map((re,Ie)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ie}`)):y?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No HCFs match "${h.trim()}". Try adjusting your search or filters.`:U()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(U()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Ee,children:"Clear Filters"})})]})})}):m.map((re,Ie)=>{var Te;return e.jsxs("tr",{className:Ie%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:re.hcfCode}),e.jsx("td",{children:re.hcfName}),e.jsx("td",{children:((Te=i.find(xe=>xe.id===re.companyId))==null?void 0:Te.companyName)||"N/A"}),e.jsx("td",{children:re.hcfTypeCode||"N/A"}),e.jsx("td",{children:re.district||"N/A"}),e.jsx("td",{children:re.stateCode||"N/A"}),e.jsx("td",{children:re.category||"N/A"}),e.jsx("td",{children:re.pincode||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:Fe(re.status),children:re.status})})]},re.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&m.length>0?`Showing ${le+1}-${ve} of ${V.totalHcfs} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||m.length===0,onChange:async re=>{a(Ie=>({...Ie,page:1,pageSize:Number(re.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,I-1);a(Ie=>({...Ie,page:re}))},disabled:I===1||!y||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let Te=Math.max(1,I-Math.floor(2.5)),xe=Math.min(he,Te+5-1);xe-Te<4&&(Te=Math.max(1,xe-5+1)),Te>1&&(re.push(1),Te>2&&re.push("..."));for(let pe=Te;pe<=xe;pe++)re.push(pe);return xe<he&&(xe<he-1&&re.push("..."),re.push(he)),re.map((pe,X)=>{if(pe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${X}`);const fe=pe;return e.jsx("button",{className:`pagination-page-btn ${I===fe?"active":""}`,onClick:async()=>{a(oe=>({...oe,page:fe}))},disabled:!y||m.length===0,children:fe},fe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(he,I+1);a(Ie=>({...Ie,page:re}))},disabled:I===he||he===0||!y||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Iee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[s,o]=M.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalCertificates:0});M.useEffect(()=>{(async()=>{try{const[pe,X]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(pe),f(X)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const K=n.companyId?u.filter(xe=>xe.companyId===n.companyId):u,W=()=>{var xe;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(xe=n.searchText)!=null&&xe.trim())},Ne=()=>{if(!W())return"No filters applied. Select a date range or search to view training certificates.";const xe=[];if(n.trainingFromDate&&n.trainingToDate){const pe=new Date(n.trainingFromDate),X=new Date(n.trainingToDate),fe=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),oe=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});xe.push(`Date: ${fe}${oe}`)}if(n.companyId){const pe=i.find(X=>X.id===n.companyId);pe&&xe.push(`Company: ${pe.companyName}`)}if(n.hcfId){const pe=K.find(X=>X.id===n.hcfId);pe&&xe.push(`HCF: ${pe.hcfCode}`)}return n.status&&n.status!=="All"&&xe.push(`Status: ${n.status}`),xe.join("  ")},ge=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Ee=async()=>{var xe;j(!0),C(null);try{const pe={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let X=await Bv.getAllCertificates(pe.companyId,!1,pe);if((xe=n.searchText)!=null&&xe.trim()){const Ue=n.searchText.toLowerCase().trim();X=X.filter(ue=>{const be=(ue.certificateNo||"").toLowerCase(),Le=(ue.staffName||"").toLowerCase(),ot=(ue.staffCode||"").toLowerCase(),Tt=i.find(Ir=>Ir.id===ue.companyId),Mt=((Tt==null?void 0:Tt.companyName)||"").toLowerCase(),Nt=u.find(Ir=>Ir.id===ue.hcfId),qt=((Nt==null?void 0:Nt.hcfCode)||"").toLowerCase();return be.includes(Ue)||Le.includes(Ue)||ot.includes(Ue)||Mt.includes(Ue)||qt.includes(Ue)})}X.sort((Ue,ue)=>{const be=Ue[n.sortBy]||"",Le=ue[n.sortBy]||"";return n.sortOrder==="ASC"?be>Le?1:-1:be<Le?1:-1});const fe=(D-1)*_,oe=fe+_,We=X.slice(fe,oe);v(X),x(We),T(!0),G({totalCertificates:X.length})}catch(pe){console.error("Error loading training certificates:",pe),C(pe.message||"Failed to load training certificate data"),v([]),x([])}finally{j(!1)}},Fe=async()=>{a(xe=>({...xe,trainingFromDate:s.trainingFromDate||"",trainingToDate:s.trainingToDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",status:s.status||"All",page:1})),l(!1),await Ee()},he=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),o({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),l(!1),await Ee()};M.useEffect(()=>{if(i.length>0||!n.companyId){const xe=setTimeout(()=>{Ee()},500);return()=>clearTimeout(xe)}},[n,i]);const le=xe=>xe?new Date(xe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ve=xe=>{switch(xe){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},se=N&&U.totalCertificates>0?Math.ceil(U.totalCertificates/_):0,re=(D-1)*_,Ie=Math.min(re+g.length,U.totalCertificates),Te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:Te,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:h,onChange:xe=>a(pe=>({...pe,searchText:xe.target.value,page:1})),onKeyDown:xe=>{xe.key==="Enter"&&!y&&(xe.preventDefault(),Ee())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(xe=>({...xe,searchText:"",page:1})),(N||W())&&await Ee()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),ae.current){const xe=ae.current.getBoundingClientRect();ie({top:xe.bottom+8,left:xe.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:xe=>xe.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Training Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.trainingFromDate||"",onChange:xe=>o(pe=>({...pe,trainingFromDate:xe.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.trainingToDate||"",onChange:xe=>o(pe=>({...pe,trainingToDate:xe.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:xe=>{o(pe=>({...pe,companyId:xe.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(xe=>e.jsxs("option",{value:xe.id,children:[xe.companyCode," - ",xe.companyName]},xe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:xe=>o(pe=>({...pe,hcfId:xe.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(xe=>xe.companyId===s.companyId):u).map(xe=>e.jsxs("option",{value:xe.id,children:[xe.hcfCode," - ",xe.hcfName]},xe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:xe=>o(pe=>({...pe,status:xe.target.value})),children:ge.map(xe=>e.jsx("option",{value:xe.value,children:xe.label},xe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Fe(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Certificate No"}),e.jsx("th",{children:"Staff Name"}),e.jsx("th",{children:"Staff Code"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Training Date"}),e.jsx("th",{children:"Trained By"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((xe,pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No certificates match "${h.trim()}". Try adjusting your search or filters.`:W()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:he,children:"Clear Filters"})})]})})}):g.map((xe,pe)=>{var X,fe;return e.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:xe.certificateNo}),e.jsx("td",{children:xe.staffName}),e.jsx("td",{children:xe.staffCode}),e.jsx("td",{children:((X=i.find(oe=>oe.id===xe.companyId))==null?void 0:X.companyName)||"N/A"}),e.jsx("td",{children:((fe=u.find(oe=>oe.id===xe.hcfId))==null?void 0:fe.hcfCode)||"N/A"}),e.jsx("td",{children:le(xe.trainingDate)}),e.jsx("td",{children:xe.trainedBy}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ve(xe.status),children:xe.status})})]},xe.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${re+1}-${Ie} of ${U.totalCertificates} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async xe=>{a(pe=>({...pe,page:1,pageSize:Number(xe.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const xe=Math.max(1,D-1);a(pe=>({...pe,page:xe}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const xe=[];let X=Math.max(1,D-Math.floor(2.5)),fe=Math.min(se,X+5-1);fe-X<4&&(X=Math.max(1,fe-5+1)),X>1&&(xe.push(1),X>2&&xe.push("..."));for(let oe=X;oe<=fe;oe++)xe.push(oe);return fe<se&&(fe<se-1&&xe.push("..."),xe.push(se)),xe.map((oe,We)=>{if(oe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const Ue=oe;return e.jsx("button",{className:`pagination-page-btn ${D===Ue?"active":""}`,onClick:async()=>{a(ue=>({...ue,page:Ue}))},disabled:!N||g.length===0,children:Ue},Ue)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const xe=Math.min(se,D+1);a(pe=>({...pe,page:xe}))},disabled:D===se||se===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},RT=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[s,o]=M.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=n.page||1,C=n.pageSize||25,D=M.useRef(null),_=M.useRef(null),[Z,ae]=M.useState(null),[V,ie]=M.useState({totalPayments:0,totalAmount:0});M.useEffect(()=>{(async()=>{try{const xe=await Ha.getAllCompanies();d(xe)}catch(xe){console.error("Error loading master data:",xe)}})()},[]);const U=()=>{var Te;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(Te=n.searchText)!=null&&Te.trim())},G=()=>{if(!U())return"No filters applied. Select a date range or search to view payments.";const Te=[];if(n.paymentFromDate&&n.paymentToDate){const xe=new Date(n.paymentFromDate),pe=new Date(n.paymentToDate),X=xe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),fe=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"});Te.push(`Date: ${X}${fe}`)}if(n.companyId){const xe=i.find(pe=>pe.id===n.companyId);xe&&Te.push(`Company: ${xe.companyName}`)}return n.status&&n.status!=="All"&&Te.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&Te.push(`Mode: ${n.paymentMode}`),Te.join("  ")},K=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],W=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],Ne=async()=>{var Te;x(!0),T(null);try{const xe={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let X=(await mJ(xe)).data||[];if((Te=n.searchText)!=null&&Te.trim()){const Ue=n.searchText.toLowerCase().trim();X=X.filter(ue=>{const be=(ue.receiptNumber||"").toLowerCase(),Le=(ue.referenceNumber||"").toLowerCase(),ot=i.find(Mt=>Mt.id===ue.companyId),Tt=((ot==null?void 0:ot.companyName)||"").toLowerCase();return be.includes(Ue)||Le.includes(Ue)||Tt.includes(Ue)||ue.paymentAmount.toString().includes(Ue)})}n.paymentMode&&n.paymentMode!=="All"&&(X=X.filter(Ue=>Ue.paymentMode===n.paymentMode)),X.sort((Ue,ue)=>{const be=Ue[n.sortBy]||"",Le=ue[n.sortBy]||"";return n.sortOrder==="ASC"?be>Le?1:-1:be<Le?1:-1});const fe=(I-1)*C,oe=fe+C,We=X.slice(fe,oe);f(X),v(We),j(!0),ie({totalPayments:X.length,totalAmount:X.reduce((Ue,ue)=>Ue+(ue.paymentAmount||0),0)})}catch(xe){console.error("Error loading payments:",xe),T(xe.message||"Failed to load payment data"),f([]),v([])}finally{x(!1)}},ge=async()=>{a(Te=>({...Te,paymentFromDate:s.paymentFromDate||"",paymentToDate:s.paymentToDate||"",companyId:s.companyId||"",status:s.status||"All",paymentMode:s.paymentMode||"All",page:1})),l(!1),await Ne()},Ee=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),o({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),l(!1),await Ne()};M.useEffect(()=>{if(i.length>0||!n.companyId){const Te=setTimeout(()=>{Ne()},500);return()=>clearTimeout(Te)}},[n,i]);const Fe=Te=>Te==null?"0.00":`${Te.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,he=Te=>Te?new Date(Te).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",le=Te=>{switch(Te){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ve=y&&V.totalPayments>0?Math.ceil(V.totalPayments/C):0,se=(I-1)*C,re=Math.min(se+m.length,V.totalPayments),Ie=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:Ie,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Payment Report"}),!U()&&e.jsx("div",{className:"page-context-subtitle",children:G()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${g?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:h,onChange:Te=>a(xe=>({...xe,searchText:Te.target.value,page:1})),onKeyDown:Te=>{Te.key==="Enter"&&!g&&(Te.preventDefault(),Ne())},disabled:g}),h&&!g&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Te=>({...Te,searchText:"",page:1})),(y||U())&&await Ne()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:_,className:`btn btn-filters-toggle ${c?"active":""} ${g?"loading":""}`,onClick:()=>{if(!g){if(c||o({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),_.current){const Te=_.current.getBoundingClientRect();ae({top:Te.bottom+8,left:Te.left})}l(!c)}},disabled:g,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Te=>Te.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.paymentFromDate||"",onChange:Te=>o(xe=>({...xe,paymentFromDate:Te.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.paymentToDate||"",onChange:Te=>o(xe=>({...xe,paymentToDate:Te.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:Te=>o(xe=>({...xe,companyId:Te.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(Te=>e.jsxs("option",{value:Te.id,children:[Te.companyCode," - ",Te.companyName]},Te.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:Te=>o(xe=>({...xe,status:Te.target.value})),children:K.map(Te=>e.jsx("option",{value:Te.value,children:Te.label},Te.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),e.jsx("select",{className:"filter-modal-select",value:s.paymentMode||"All",onChange:Te=>o(xe=>({...xe,paymentMode:Te.target.value})),children:W.map(Te=>e.jsx("option",{value:Te.value,children:Te.label},Te.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ge(),l(!1)},disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),e.jsxs("div",{className:"results-section",ref:D,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receipt No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Payment Mode"}),e.jsx("th",{className:"text-right",children:"Payment Amount"}),e.jsx("th",{children:"Reference Number"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:g?Array.from({length:5}).map((Te,xe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${xe}`)):y?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No payments found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No payments match "${h.trim()}". Try adjusting your search or filters.`:U()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(U()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Ee,children:"Clear Filters"})})]})})}):m.map((Te,xe)=>{var pe;return e.jsxs("tr",{className:xe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Te.receiptNumber||"N/A"}),e.jsx("td",{children:((pe=i.find(X=>X.id===Te.companyId))==null?void 0:pe.companyName)||"N/A"}),e.jsx("td",{children:he(Te.paymentDate)}),e.jsx("td",{children:Te.paymentMode}),e.jsx("td",{className:"text-right",children:Fe(Te.paymentAmount)}),e.jsx("td",{children:Te.referenceNumber||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:le(Te.status),children:Te.status})})]},Te.paymentId)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No payments found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&m.length>0?`Showing ${se+1}-${re} of ${V.totalPayments} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||m.length===0,onChange:async Te=>{a(xe=>({...xe,page:1,pageSize:Number(Te.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Te=Math.max(1,I-1);a(xe=>({...xe,page:Te}))},disabled:I===1||!y||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Te=[];let pe=Math.max(1,I-Math.floor(2.5)),X=Math.min(ve,pe+5-1);X-pe<4&&(pe=Math.max(1,X-5+1)),pe>1&&(Te.push(1),pe>2&&Te.push("..."));for(let fe=pe;fe<=X;fe++)Te.push(fe);return X<ve&&(X<ve-1&&Te.push("..."),Te.push(ve)),Te.map((fe,oe)=>{if(fe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${oe}`);const We=fe;return e.jsx("button",{className:`pagination-page-btn ${I===We?"active":""}`,onClick:async()=>{a(Ue=>({...Ue,page:We}))},disabled:!y||m.length===0,children:We},We)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Te=Math.min(ve,I+1);a(xe=>({...xe,page:Te}))},disabled:I===ve||ve===0||!y||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},kee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[s,o]=M.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=n.page||1,C=n.pageSize||25,D=M.useRef(null),_=M.useRef(null),[Z,ae]=M.useState(null),[V,ie]=M.useState({totalAgreements:0});M.useEffect(()=>{(async()=>{try{const Ie=await ZA.getAllContracts();d(Ie)}catch(Ie){console.error("Error loading master data:",Ie)}})()},[]);const U=()=>{var re;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(re=n.searchText)!=null&&re.trim())},G=()=>{if(!U())return"No filters applied. Select a date range or search to view agreements.";const re=[];if(n.fromDate&&n.toDate){const Ie=new Date(n.fromDate),Te=new Date(n.toDate),xe=Ie.toLocaleDateString("en-US",{month:"short",day:"numeric"}),pe=Te.toLocaleDateString("en-US",{month:"short",day:"numeric"});re.push(`Date: ${xe}${pe}`)}if(n.contractId){const Ie=i.find(Te=>Te.id===n.contractId);Ie&&re.push(`Contract: ${Ie.contractNum}`)}return n.status&&n.status!=="All"&&re.push(`Status: ${n.status}`),re.join("  ")},K=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],W=async()=>{var re;x(!0),T(null);try{const Ie={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let Te=await bm.getAllAgreements(Ie.contractId,Ie.status);if(n.fromDate){const fe=new Date(n.fromDate);Te=Te.filter(oe=>new Date(oe.agreementDate)>=fe)}if(n.toDate){const fe=new Date(n.toDate);fe.setHours(23,59,59,999),Te=Te.filter(oe=>new Date(oe.agreementDate)<=fe)}if((re=n.searchText)!=null&&re.trim()){const fe=n.searchText.toLowerCase().trim();Te=Te.filter(oe=>{const We=(oe.agreementNum||"").toLowerCase(),Ue=(oe.contractNum||"").toLowerCase();return We.includes(fe)||Ue.includes(fe)})}Te.sort((fe,oe)=>{const We=fe[n.sortBy]||"",Ue=oe[n.sortBy]||"";return n.sortOrder==="ASC"?We>Ue?1:-1:We<Ue?1:-1});const xe=(I-1)*C,pe=xe+C,X=Te.slice(xe,pe);f(Te),v(X),j(!0),ie({totalAgreements:Te.length})}catch(Ie){console.error("Error loading agreements:",Ie),T(Ie.message||"Failed to load agreement data"),f([]),v([])}finally{x(!1)}},Ne=async()=>{a(re=>({...re,fromDate:s.fromDate||"",toDate:s.toDate||"",contractId:s.contractId||"",status:s.status||"All",page:1})),l(!1),await W()},ge=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),o({fromDate:"",toDate:"",contractId:"",status:"All"}),l(!1),await W()};M.useEffect(()=>{if(i.length>0||!n.contractId){const re=setTimeout(()=>{W()},500);return()=>clearTimeout(re)}},[n,i]);const Ee=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Fe=re=>{switch(re){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},he=y&&V.totalAgreements>0?Math.ceil(V.totalAgreements/C):0,le=(I-1)*C,ve=Math.min(le+m.length,V.totalAgreements),se=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:se,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Agreement Report"}),!U()&&e.jsx("div",{className:"page-context-subtitle",children:G()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${g?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:h,onChange:re=>a(Ie=>({...Ie,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!g&&(re.preventDefault(),W())},disabled:g}),h&&!g&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(y||U())&&await W()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:_,className:`btn btn-filters-toggle ${c?"active":""} ${g?"loading":""}`,onClick:()=>{if(!g){if(c||o({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),_.current){const re=_.current.getBoundingClientRect();ae({top:re.bottom+8,left:re.left})}l(!c)}},disabled:g,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:re=>o(Ie=>({...Ie,fromDate:re.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:re=>o(Ie=>({...Ie,toDate:re.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Contract"}),e.jsxs("select",{className:"filter-modal-select",value:s.contractId||"",onChange:re=>o(Ie=>({...Ie,contractId:re.target.value})),children:[e.jsx("option",{value:"",children:"Select Contract"}),i.map(re=>e.jsx("option",{value:re.id,children:re.contractNum},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:re=>o(Ie=>({...Ie,status:re.target.value})),children:K.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ne(),l(!1)},disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),e.jsxs("div",{className:"results-section",ref:D,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agreement No"}),e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Agreement Date"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:g?Array.from({length:5}).map((re,Ie)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ie}`)):y?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No agreements match "${h.trim()}". Try adjusting your search or filters.`:U()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(U()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:ge,children:"Clear Filters"})})]})})}):m.map((re,Ie)=>e.jsxs("tr",{className:Ie%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:re.agreementNum}),e.jsx("td",{children:re.contractNum||"N/A"}),e.jsx("td",{children:Ee(re.agreementDate)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:Fe(re.status),children:re.status})})]},re.id)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&m.length>0?`Showing ${le+1}-${ve} of ${V.totalAgreements} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||m.length===0,onChange:async re=>{a(Ie=>({...Ie,page:1,pageSize:Number(re.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,I-1);a(Ie=>({...Ie,page:re}))},disabled:I===1||!y||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let Te=Math.max(1,I-Math.floor(2.5)),xe=Math.min(he,Te+5-1);xe-Te<4&&(Te=Math.max(1,xe-5+1)),Te>1&&(re.push(1),Te>2&&re.push("..."));for(let pe=Te;pe<=xe;pe++)re.push(pe);return xe<he&&(xe<he-1&&re.push("..."),re.push(he)),re.map((pe,X)=>{if(pe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${X}`);const fe=pe;return e.jsx("button",{className:`pagination-page-btn ${I===fe?"active":""}`,onClick:async()=>{a(oe=>({...oe,page:fe}))},disabled:!y||m.length===0,children:fe},fe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(he,I+1);a(Ie=>({...Ie,page:re}))},disabled:I===he||he===0||!y||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Tee=()=>{const[t,r]=M.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=M.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),s=M.useCallback((f,m)=>{r(v=>({...v,[f]:m}))},[]),o=M.useCallback((f,m)=>{a(v=>({...v,[f]:m}))},[]),c=M.useCallback(()=>{r(f=>({...f,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),l=M.useCallback(()=>{const f={page:1,pageSize:t.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};r(f),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[t.pageSize]),h=M.useCallback((f,m)=>{r(v=>({...v,page:f,...m!==void 0&&{pageSize:m}}))},[]),i=M.useCallback(f=>{r(m=>({...m,searchText:f,page:1}))},[]),d=M.useCallback(()=>{var f;return!!(t.createdFromDate||t.createdToDate||t.companyId||t.hcfId||t.barcodeType&&t.barcodeType!=="All"||t.colorBlock&&t.colorBlock!=="All"||(f=t.searchText)!=null&&f.trim())},[t]),u=M.useCallback(()=>{var m;const f={page:t.page,pageSize:t.pageSize,sortBy:t.sortBy,sortOrder:t.sortOrder};return t.createdFromDate&&(f.createdFromDate=t.createdFromDate),t.createdToDate&&(f.createdToDate=t.createdToDate),t.companyId&&(f.companyId=t.companyId),t.hcfId&&(f.hcfId=t.hcfId),t.barcodeType&&t.barcodeType!=="All"&&(f.barcodeType=t.barcodeType),t.colorBlock&&t.colorBlock!=="All"&&(f.colorBlock=t.colorBlock),(m=t.searchText)!=null&&m.trim()&&(f.searchText=t.searchText.trim()),f},[t]);return{filters:t,pendingFilters:n,updateFilter:s,updatePendingFilter:o,applyFilters:c,clearFilters:l,updatePagination:h,updateSearchText:i,hasFiltersApplied:d,buildApiFilters:u}},QT=()=>{const t=In(),r=ds(),{filters:n,pendingFilters:a,updatePendingFilter:s,applyFilters:o,clearFilters:c,updatePagination:l,updateSearchText:h,hasFiltersApplied:i,buildApiFilters:d}=Tee(),[u,f]=M.useState(!1),m=n.searchText||"",[v,g]=M.useState([]),[x,y]=M.useState([]),[j,N]=M.useState([]),[T,I]=M.useState([]),[C,D]=M.useState(!1),[_,Z]=M.useState(!1),[ae,V]=M.useState(null),ie=n.page||1,U=n.pageSize||25,G=M.useRef(null),K=M.useRef(null),[W,Ne]=M.useState(null),[ge,Ee]=M.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});M.useEffect(()=>{(async()=>{try{const[We,Ue]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);g(We),y(Ue)}catch(We){console.error("Error loading master data:",We),V(We.message||"Failed to load master data. Please refresh the page."),g([]),y([])}})()},[]);const Fe=n.companyId?x.filter(oe=>oe.companyId===n.companyId):x,he=()=>{if(!i())return"No filters applied. Select a date range or search to view barcode usage.";const oe=[];if(n.createdFromDate&&n.createdToDate){const We=new Date(n.createdFromDate),Ue=new Date(n.createdToDate),ue=We.toLocaleDateString("en-US",{month:"short",day:"numeric"}),be=Ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});oe.push(`${ue} - ${be}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const We=new Date(n.createdFromDate);oe.push(`From ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const We=new Date(n.createdToDate);oe.push(`To ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const We=v.find(Ue=>Ue.id===n.companyId);oe.push(We?We.companyName:"Selected Company")}else oe.push("All Companies");if(n.hcfId){const We=Fe.find(Ue=>Ue.id===n.hcfId);oe.push(We?`HCF: ${We.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&oe.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&oe.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${oe.join("  ")}`},le=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],ve=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],se=async()=>{var oe;D(!0),V(null);try{const We=d();let Ue=[];if(We.companyId)Ue=await JA.getAllBarcodeLabels(We.companyId);else if(v.length>0)for(const Tt of v)try{const Mt=await JA.getAllBarcodeLabels(Tt.id);Ue.push(...Mt)}catch(Mt){console.warn(`Failed to load barcodes for company ${Tt.companyName}:`,Mt)}else try{Ue=await JA.getAllBarcodeLabels()}catch(Tt){console.warn("Failed to load barcodes without company filter:",Tt)}let ue=Ue;if(n.createdFromDate){const Tt=new Date(n.createdFromDate);ue=ue.filter(Mt=>new Date(Mt.createdOn)>=Tt)}if(n.createdToDate){const Tt=new Date(n.createdToDate);Tt.setHours(23,59,59,999),ue=ue.filter(Mt=>new Date(Mt.createdOn)<=Tt)}if(n.companyId&&(ue=ue.filter(Tt=>Tt.companyId===n.companyId)),n.hcfId&&(ue=ue.filter(Tt=>Tt.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(ue=ue.filter(Tt=>Tt.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(ue=ue.filter(Tt=>Tt.colorBlock===n.colorBlock)),(oe=n.searchText)!=null&&oe.trim()){const Tt=n.searchText.toLowerCase().trim();ue=ue.filter(Mt=>{const Nt=(Mt.barcodeValue||"").toLowerCase(),qt=(Mt.hcfCode||"").toLowerCase(),Ir=v.find(He=>He.id===Mt.companyId),fr=((Ir==null?void 0:Ir.companyName)||"").toLowerCase();return Nt.includes(Tt)||qt.includes(Tt)||fr.includes(Tt)||Mt.sequenceNumber.toString().includes(Tt)})}ue.sort((Tt,Mt)=>{const Nt=Tt[n.sortBy]||"",qt=Mt[n.sortBy]||"";return n.sortOrder==="ASC"?Nt>qt?1:-1:Nt<qt?1:-1});const be=(ie-1)*U,Le=be+U,ot=ue.slice(be,Le);N(ue),I(ot),Z(!0),Ee({totalBarcodes:ue.length,barcodeCount:ue.filter(Tt=>Tt.barcodeType==="Barcode").length,qrCodeCount:ue.filter(Tt=>Tt.barcodeType==="QR Code").length})}catch(We){console.error("Error loading barcodes:",We),V(We.message||"Failed to load barcode usage data"),N([]),I([])}finally{D(!1)}},re=async()=>{o(),f(!1),await se()},Ie=async()=>{c(),f(!1),await se()};M.useEffect(()=>{var oe;if(v.length>0||i()||(oe=n.searchText)!=null&&oe.trim()){const We=setTimeout(()=>{se()},500);return()=>clearTimeout(We)}},[n,v]);const Te=oe=>oe?new Date(oe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",xe=_&&ge.totalBarcodes>0?Math.ceil(ge.totalBarcodes/U):0,pe=(ie-1)*U,X=Math.min(pe+T.length,ge.totalBarcodes),fe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:fe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!i()&&e.jsx("div",{className:"page-context-subtitle",children:he()}),ae&&v.length===0&&e.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[e.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${C?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:m,onChange:oe=>h(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&!C&&(oe.preventDefault(),se())},disabled:C}),m&&!C&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{h(""),se()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:K,className:`btn btn-filters-toggle ${u?"active":""} ${C?"loading":""}`,onClick:()=>{if(!C){if(u||(s("companyId",n.companyId||""),s("hcfId",n.hcfId||""),s("barcodeType",n.barcodeType||"All"),s("colorBlock",n.colorBlock||"All"),s("createdFromDate",n.createdFromDate||""),s("createdToDate",n.createdToDate||"")),K.current){const oe=K.current.getBoundingClientRect();Ne({top:oe.bottom+8,left:oe.left})}f(!u)}},disabled:C,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),u&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{f(!1),Ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:oe=>oe.stopPropagation(),style:W?{position:"fixed",top:`${W.top}px`,left:`${W.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s("companyId",""),s("hcfId",""),s("createdFromDate",""),s("createdToDate",""),s("barcodeType","All"),s("colorBlock","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>f(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:oe=>s("createdFromDate",oe.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:oe=>s("createdToDate",oe.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:oe=>{s("companyId",oe.target.value),s("hcfId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),v.map(oe=>e.jsxs("option",{value:oe.id,children:[oe.companyCode," - ",oe.companyName]},oe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:oe=>s("hcfId",oe.target.value),disabled:!a.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(oe=>oe.companyId===a.companyId):x).map(oe=>e.jsxs("option",{value:oe.id,children:[oe.hcfCode," - ",oe.hcfName]},oe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),e.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:oe=>s("barcodeType",oe.target.value),children:le.map(oe=>e.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Color Block"}),e.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:oe=>s("colorBlock",oe.target.value),children:ve.map(oe=>e.jsx("option",{value:oe.value,children:oe.label},oe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:re,disabled:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:G,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Barcode Value"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Barcode Type"}),e.jsx("th",{children:"Color Block"}),e.jsx("th",{children:"Sequence Number"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:C?Array.from({length:5}).map((oe,We)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${We}`)):_?T.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),e.jsx("p",{className:"empty-state-text",children:m.trim()?`No barcodes match "${m.trim()}". Try adjusting your search or filters.`:i()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(i()||m.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):T.map((oe,We)=>{const Ue=v.find(ue=>ue.id===oe.companyId);return e.jsxs("tr",{className:We%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:oe.barcodeValue}),e.jsx("td",{children:oe.hcfCode||"N/A"}),e.jsx("td",{children:(Ue==null?void 0:Ue.companyName)||"N/A"}),e.jsx("td",{children:oe.barcodeType}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${oe.colorBlock.toLowerCase()}`,children:oe.colorBlock})}),e.jsx("td",{children:oe.sequenceNumber}),e.jsx("td",{children:Te(oe.createdOn)})]},oe.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:_&&T.length>0?`Showing ${X} of ${ge.totalBarcodes} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:U,disabled:!_||T.length===0,onChange:async oe=>{l(1,Number(oe.target.value)),await se()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const oe=Math.max(1,ie-1);l(oe),await se()},disabled:ie===1||!_||T.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const oe=[];let Ue=Math.max(1,ie-Math.floor(2.5)),ue=Math.min(xe,Ue+5-1);ue-Ue<4&&(Ue=Math.max(1,ue-5+1)),Ue>1&&(oe.push(1),Ue>2&&oe.push("..."));for(let be=Ue;be<=ue;be++)oe.push(be);return ue<xe&&(ue<xe-1&&oe.push("..."),oe.push(xe)),oe.map((be,Le)=>{if(be==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const ot=be;return e.jsx("button",{className:`pagination-page-btn ${ie===ot?"active":""}`,onClick:async()=>{l(ot),await se()},disabled:!_||T.length===0,children:ot},ot)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const oe=Math.min(xe,ie+1);l(oe),await se()},disabled:ie===xe||xe===0||!_||T.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Fee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,o]=M.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});M.useEffect(()=>{(async()=>{try{const[ue,be]=await Promise.all([Ha.getAllCompanies(),um.getAllRoles()]);d(ue),f(be)}catch(ue){console.error("Error loading master data:",ue)}})()},[]);const K=n.companyId?u.filter(Ue=>Ue.companyId===n.companyId):u,W=()=>{var Ue;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.roleId||n.status&&n.status!=="All"||n.employmentType&&n.employmentType!=="All"||(Ue=n.searchText)!=null&&Ue.trim())},Ne=()=>{if(!W())return"No filters applied. Select a date range or search to view users.";const Ue=[];if(n.createdFromDate&&n.createdToDate){const ue=new Date(n.createdFromDate),be=new Date(n.createdToDate),Le=ue.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ot=be.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ue.push(`${Le} - ${ot}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ue=new Date(n.createdFromDate);Ue.push(`From ${ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ue=new Date(n.createdToDate);Ue.push(`To ${ue.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ue=i.find(be=>be.id===n.companyId);Ue.push(ue?ue.companyName:"Selected Company")}else Ue.push("All Companies");if(n.roleId){const ue=K.find(be=>be.roleId===n.roleId);Ue.push(ue?ue.roleName:"Selected Role")}else Ue.push("All Roles");return n.status&&n.status!=="All"?Ue.push(n.status):Ue.push("All Status"),`Showing users for: ${Ue.join("  ")}`},ge=(Ue,ue)=>{o(be=>({...be,[Ue]:ue}))},Ee=()=>{a(Ue=>({...Ue,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",roleId:s.roleId||"",status:s.status||"All",employmentType:s.employmentType||"All",page:1}))},Fe=()=>{const Ue={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ue),o({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},he=(Ue,ue)=>{a(be=>({...be,page:Ue,...ue!==void 0&&{pageSize:ue}}))},le=Ue=>{a(ue=>({...ue,searchText:Ue,page:1}))},ve=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],se=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],re=async()=>{var Ue;j(!0),C(null);try{let ue=[];if(n.companyId)ue=await Ac.getUsersByCompany(n.companyId);else{const Mt=i.length>0?i:await Ha.getAllCompanies();for(const Nt of Mt)try{const qt=await Ac.getUsersByCompany(Nt.id);ue.push(...qt)}catch(qt){console.warn(`Failed to load users for company ${Nt.companyName}:`,qt)}}let be=ue;if(n.createdFromDate){const Mt=new Date(n.createdFromDate);be=be.filter(Nt=>new Date(Nt.createdOn)>=Mt)}if(n.createdToDate){const Mt=new Date(n.createdToDate);Mt.setHours(23,59,59,999),be=be.filter(Nt=>new Date(Nt.createdOn)<=Mt)}if(n.roleId&&(be=be.filter(Mt=>Mt.userRoleId===n.roleId)),n.status&&n.status!=="All"&&(be=be.filter(Mt=>Mt.status===n.status)),n.employmentType&&n.employmentType!=="All"&&(be=be.filter(Mt=>Mt.employmentType===n.employmentType)),(Ue=n.searchText)!=null&&Ue.trim()){const Mt=n.searchText.toLowerCase().trim();be=be.filter(Nt=>{const qt=(Nt.userName||"").toLowerCase(),Ir=(Nt.employeeCode||"").toLowerCase(),fr=(Nt.emailAddress||"").toLowerCase(),He=(Nt.mobileNumber||"").toLowerCase();return qt.includes(Mt)||Ir.includes(Mt)||fr.includes(Mt)||He.includes(Mt)})}be.sort((Mt,Nt)=>{const qt=Mt[n.sortBy]||"",Ir=Nt[n.sortBy]||"";return n.sortOrder==="ASC"?qt>Ir?1:-1:qt<Ir?1:-1});const Le=(D-1)*_,ot=Le+_,Tt=be.slice(Le,ot);v(be),x(Tt),T(!0),G({totalUsers:be.length,activeUsers:be.filter(Mt=>Mt.status==="Active").length,inactiveUsers:be.filter(Mt=>Mt.status==="Inactive").length})}catch(ue){console.error("Error loading users:",ue),C(ue.message||"Failed to load users"),v([]),x([])}finally{j(!1)}};M.useEffect(()=>{if(i.length>0){const Ue=setTimeout(()=>{re()},500);return()=>clearTimeout(Ue)}},[n,i]);const Ie=async()=>{Ee(),l(!1),await re()},Te=async()=>{Fe(),l(!1),await re()},xe=Ue=>Ue?new Date(Ue).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",pe=Ue=>{switch(Ue){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},X=N&&U.totalUsers>0?Math.ceil(U.totalUsers/_):0,fe=(D-1)*_,oe=Math.min(fe+g.length,U.totalUsers),We=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:We,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"User Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"User Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:h,onChange:Ue=>le(Ue.target.value),onKeyDown:Ue=>{Ue.key==="Enter"&&!y&&(Ue.preventDefault(),re())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{le(""),re()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||(ge("companyId",n.companyId||""),ge("roleId",n.roleId||""),ge("status",n.status||"All"),ge("employmentType",n.employmentType||"All"),ge("createdFromDate",n.createdFromDate||""),ge("createdToDate",n.createdToDate||"")),ae.current){const Ue=ae.current.getBoundingClientRect();ie({top:Ue.bottom+8,left:Ue.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.roleId,s.status&&s.status!=="All"?s.status:"",s.employmentType&&s.employmentType!=="All"?s.employmentType:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.roleId,s.status&&s.status!=="All"?s.status:"",s.employmentType&&s.employmentType!=="All"?s.employmentType:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Ue=>Ue.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{ge("companyId",""),ge("roleId",""),ge("createdFromDate",""),ge("createdToDate",""),ge("status","All"),ge("employmentType","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:Ue=>ge("createdFromDate",Ue.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:Ue=>ge("createdToDate",Ue.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:Ue=>{ge("companyId",Ue.target.value),ge("roleId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(Ue=>e.jsxs("option",{value:Ue.id,children:[Ue.companyCode," - ",Ue.companyName]},Ue.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Role"}),e.jsxs("select",{className:"filter-modal-select",value:s.roleId||"",onChange:Ue=>ge("roleId",Ue.target.value),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select Role"}),(s.companyId?u.filter(Ue=>Ue.companyId===s.companyId):u).map(Ue=>e.jsx("option",{value:Ue.roleId,children:Ue.roleName},Ue.roleId))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:Ue=>ge("status",Ue.target.value),children:ve.map(Ue=>e.jsx("option",{value:Ue.value,children:Ue.label},Ue.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),e.jsx("select",{className:"filter-modal-select",value:s.employmentType||"All",onChange:Ue=>ge("employmentType",Ue.target.value),children:se.map(Ue=>e.jsx("option",{value:Ue.value,children:Ue.label},Ue.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ie,disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Employee Code"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Employment Type"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Ue,ue)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ue}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No users found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No users match "${h.trim()}". Try adjusting your search or filters.`:W()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Te,children:"Clear Filters"})})]})})}):g.map((Ue,ue)=>{const be=u.find(ot=>ot.roleId===Ue.userRoleId),Le=i.find(ot=>ot.id===Ue.companyId);return e.jsxs("tr",{className:ue%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Ue.userName}),e.jsx("td",{children:Ue.employeeCode||"N/A"}),e.jsx("td",{children:Ue.emailAddress||"N/A"}),e.jsx("td",{children:Ue.mobileNumber}),e.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),e.jsx("td",{children:(be==null?void 0:be.roleName)||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:pe(Ue.status),children:Ue.status})}),e.jsx("td",{children:Ue.employmentType||"N/A"}),e.jsx("td",{children:xe(Ue.createdOn)})]},Ue.userId)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No users found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${oe} of ${U.totalUsers} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async Ue=>{he(1,Number(Ue.target.value)),await re()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ue=Math.max(1,D-1);he(Ue),await re()},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ue=[];let be=Math.max(1,D-Math.floor(2.5)),Le=Math.min(X,be+5-1);Le-be<4&&(be=Math.max(1,Le-5+1)),be>1&&(Ue.push(1),be>2&&Ue.push("..."));for(let ot=be;ot<=Le;ot++)Ue.push(ot);return Le<X&&(Le<X-1&&Ue.push("..."),Ue.push(X)),Ue.map((ot,Tt)=>{if(ot==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Tt}`);const Mt=ot;return e.jsx("button",{className:`pagination-page-btn ${D===Mt?"active":""}`,onClick:async()=>{he(Mt),await re()},disabled:!N||g.length===0,children:Mt},Mt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ue=Math.min(X,D+1);he(Ue),await re()},disabled:D===X||X===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Pee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,o]=M.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=n.page||1,C=n.pageSize||25,D=M.useRef(null),_=M.useRef(null),[Z,ae]=M.useState(null),[V,ie]=M.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});M.useEffect(()=>{(async()=>{try{const be=await Ha.getAllCompanies();d(be)}catch(be){console.error("Error loading master data:",be)}})()},[]);const U=()=>{var ue;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(ue=n.searchText)!=null&&ue.trim())},G=()=>{if(!U())return"No filters applied. Select a date range or search to view fleet vehicles.";const ue=[];if(n.createdFromDate&&n.createdToDate){const be=new Date(n.createdFromDate),Le=new Date(n.createdToDate),ot=be.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Tt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ue.push(`${ot} - ${Tt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const be=new Date(n.createdFromDate);ue.push(`From ${be.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const be=new Date(n.createdToDate);ue.push(`To ${be.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const be=i.find(Le=>Le.id===n.companyId);ue.push(be?be.companyName:"Selected Company")}else ue.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&ue.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?ue.push(n.status):ue.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&ue.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${ue.join("  ")}`},K=(ue,be)=>{o(Le=>({...Le,[ue]:be}))},W=()=>{a(ue=>({...ue,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",vehMake:s.vehMake||"",status:s.status||"All",complianceStatus:s.complianceStatus||"All",page:1}))},Ne=()=>{const ue={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(ue),o({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},ge=(ue,be)=>{a(Le=>({...Le,page:ue,...be!==void 0&&{pageSize:be}}))},Ee=ue=>{a(be=>({...be,searchText:ue,page:1}))},Fe=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],he=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],le=()=>{const ue=new Set;return u.forEach(be=>{be.vehMake&&ue.add(be.vehMake)}),Array.from(ue).sort()},ve=ue=>{const be=new Date;be.setHours(0,0,0,0);const Le=[ue.nextFCDate?new Date(ue.nextFCDate):null,ue.pucDateValidUpto?new Date(ue.pucDateValidUpto):null,ue.insuranceValidUpto?new Date(ue.insuranceValidUpto):null].filter(Boolean);if(Le.length===0)return"Compliant";if(Le.filter(Nt=>Nt<be).length>0)return"Expired";const Tt=new Date(be);return Tt.setDate(Tt.getDate()+30),Le.filter(Nt=>Nt<=Tt&&Nt>=be).length>0?"Expiring Soon":"Compliant"},se=async()=>{var ue;x(!0),T(null);try{let be=[];if(n.companyId)be=await Iu.getAllFleets(n.companyId);else{const Nt=i.length>0?i:await Ha.getAllCompanies();for(const qt of Nt)try{const Ir=await Iu.getAllFleets(qt.id);be.push(...Ir)}catch(Ir){console.warn(`Failed to load fleets for company ${qt.companyName}:`,Ir)}}let Le=be;if(n.createdFromDate){const Nt=new Date(n.createdFromDate);Le=Le.filter(qt=>new Date(qt.createdOn)>=Nt)}if(n.createdToDate){const Nt=new Date(n.createdToDate);Nt.setHours(23,59,59,999),Le=Le.filter(qt=>new Date(qt.createdOn)<=Nt)}if(n.companyId&&(Le=Le.filter(Nt=>Nt.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Le=Le.filter(Nt=>Nt.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Le=Le.filter(Nt=>Nt.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Le=Le.filter(Nt=>ve(Nt)===n.complianceStatus)),(ue=n.searchText)!=null&&ue.trim()){const Nt=n.searchText.toLowerCase().trim();Le=Le.filter(qt=>{const Ir=(qt.vehicleNum||"").toLowerCase(),fr=(qt.vehMake||"").toLowerCase(),He=(qt.vehModel||"").toLowerCase(),Yt=(qt.ownerName||"").toLowerCase(),Ct=(qt.ownerContact||"").toLowerCase(),Qr=(qt.capacity||"").toLowerCase();return Ir.includes(Nt)||fr.includes(Nt)||He.includes(Nt)||Yt.includes(Nt)||Ct.includes(Nt)||Qr.includes(Nt)})}Le.sort((Nt,qt)=>{const Ir=Nt[n.sortBy]||"",fr=qt[n.sortBy]||"";return n.sortOrder==="ASC"?Ir>fr?1:-1:Ir<fr?1:-1});const ot=(I-1)*C,Tt=ot+C,Mt=Le.slice(ot,Tt);f(Le),v(Mt),j(!0),ie({totalFleets:Le.length,activeFleets:Le.filter(Nt=>Nt.status==="Active").length,inactiveFleets:Le.filter(Nt=>Nt.status==="Inactive").length})}catch(be){console.error("Error loading fleets:",be),T(be.message||"Failed to load fleet vehicles"),f([]),v([])}finally{x(!1)}};M.useEffect(()=>{if(i.length>0){const ue=setTimeout(()=>{se()},500);return()=>clearTimeout(ue)}},[n,i]);const re=async()=>{W(),l(!1),await se()},Ie=async()=>{Ne(),l(!1),await se()},Te=ue=>ue?new Date(ue).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",xe=ue=>{switch(ue){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},pe=ue=>{switch(ue){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},X=y&&V.totalFleets>0?Math.ceil(V.totalFleets/C):0,fe=(I-1)*C,oe=Math.min(fe+m.length,V.totalFleets),We=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}],Ue=le();return e.jsx(Ul,{navItems:We,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!U()&&e.jsx("div",{className:"page-context-subtitle",children:G()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${g?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:h,onChange:ue=>Ee(ue.target.value),onKeyDown:ue=>{ue.key==="Enter"&&!g&&(ue.preventDefault(),se())},disabled:g}),h&&!g&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{Ee(""),se()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:_,className:`btn btn-filters-toggle ${c?"active":""} ${g?"loading":""}`,onClick:()=>{if(!g){if(c||(K("companyId",n.companyId||""),K("vehMake",n.vehMake||""),K("status",n.status||"All"),K("complianceStatus",n.complianceStatus||"All"),K("createdFromDate",n.createdFromDate||""),K("createdToDate",n.createdToDate||"")),_.current){const ue=_.current.getBoundingClientRect();ae({top:ue.bottom+8,left:ue.left})}l(!c)}},disabled:g,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ue=>ue.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{K("companyId",""),K("vehMake",""),K("createdFromDate",""),K("createdToDate",""),K("status","All"),K("complianceStatus","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:ue=>K("createdFromDate",ue.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:ue=>K("createdToDate",ue.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ue=>K("companyId",ue.target.value),children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(ue=>e.jsxs("option",{value:ue.id,children:[ue.companyCode," - ",ue.companyName]},ue.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),e.jsxs("select",{className:"filter-modal-select",value:s.vehMake||"All",onChange:ue=>K("vehMake",ue.target.value),children:[e.jsx("option",{value:"All",children:"All Makes"}),Ue.map(ue=>e.jsx("option",{value:ue,children:ue},ue))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ue=>K("status",ue.target.value),children:Fe.map(ue=>e.jsx("option",{value:ue.value,children:ue.label},ue.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceStatus||"All",onChange:ue=>K("complianceStatus",ue.target.value),children:he.map(ue=>e.jsx("option",{value:ue.value,children:ue.label},ue.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:re,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:D,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Compliance"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:g?Array.from({length:5}).map((ue,be)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${be}`)):y?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No vehicles match "${h.trim()}". Try adjusting your search or filters.`:U()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(U()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):m.map((ue,be)=>{const Le=i.find(Tt=>Tt.id===ue.companyId),ot=ve(ue);return e.jsxs("tr",{className:be%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ue.vehicleNum}),e.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),e.jsx("td",{children:ue.vehMake||"N/A"}),e.jsx("td",{children:ue.vehModel||"N/A"}),e.jsx("td",{children:ue.capacity||"N/A"}),e.jsx("td",{children:ue.ownerName||"N/A"}),e.jsx("td",{children:ue.ownerContact||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:xe(ue.status),children:ue.status})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:pe(ot),children:ot})}),e.jsx("td",{children:Te(ue.createdOn)})]},ue.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&m.length>0?`Showing ${oe} of ${V.totalFleets} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||m.length===0,onChange:async ue=>{ge(1,Number(ue.target.value)),await se()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ue=Math.max(1,I-1);ge(ue),await se()},disabled:I===1||!y||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ue=[];let Le=Math.max(1,I-Math.floor(2.5)),ot=Math.min(X,Le+5-1);ot-Le<4&&(Le=Math.max(1,ot-5+1)),Le>1&&(ue.push(1),Le>2&&ue.push("..."));for(let Tt=Le;Tt<=ot;Tt++)ue.push(Tt);return ot<X&&(ot<X-1&&ue.push("..."),ue.push(X)),ue.map((Tt,Mt)=>{if(Tt==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Mt}`);const Nt=Tt;return e.jsx("button",{className:`pagination-page-btn ${I===Nt?"active":""}`,onClick:async()=>{ge(Nt),await se()},disabled:!y||m.length===0,children:Nt},Nt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ue=Math.min(X,I+1);ge(ue),await se()},disabled:I===X||X===0||!y||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},HT=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[s,o]=M.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});M.useEffect(()=>{(async()=>{try{const[pe,X]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(pe),f(X)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const K=n.companyId?u.filter(xe=>xe.companyId===n.companyId):u,W=()=>{var xe;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(xe=n.searchText)!=null&&xe.trim())},Ne=()=>{if(!W())return"No filters applied. Select a date range or search to view revenue analysis.";const xe=[];if(n.fromDate&&n.toDate){const pe=new Date(n.fromDate),X=new Date(n.toDate),fe=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),oe=X.toLocaleDateString("en-US",{month:"short",day:"numeric"});xe.push(`Date: ${fe}${oe}`)}if(n.companyId){const pe=i.find(X=>X.id===n.companyId);pe&&xe.push(`Company: ${pe.companyName}`)}if(n.hcfId){const pe=K.find(X=>X.id===n.hcfId);pe&&xe.push(`HCF: ${pe.hcfCode}`)}return n.groupBy&&xe.push(`Group By: ${n.groupBy}`),xe.join("  ")},ge=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],Ee=async()=>{var xe;j(!0),C(null);try{const pe={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let fe=((await ym(pe)).data||[]).map(ue=>({invoiceId:ue.invoiceId,companyId:ue.companyId,hcfId:ue.hcfId,invoiceNumber:ue.invoiceNumber,invoiceDate:ue.invoiceDate,dueDate:ue.dueDate,billingType:ue.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:ue.invoiceValue,totalPaidAmount:ue.totalPaidAmount,balanceAmount:ue.balanceAmount,status:ue.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:ue.companyName,companyCode:ue.companyCode,hcfName:ue.hcfName,hcfCode:ue.hcfCode}));if((xe=n.searchText)!=null&&xe.trim()){const ue=n.searchText.toLowerCase().trim();fe=fe.filter(be=>{const Le=(be.invoiceNumber||"").toLowerCase(),ot=(be.companyName||"").toLowerCase(),Tt=(be.hcfCode||"").toLowerCase();return Le.includes(ue)||ot.includes(ue)||Tt.includes(ue)||be.invoiceValue.toString().includes(ue)})}fe.sort((ue,be)=>{const Le=ue[n.sortBy]||"",ot=be[n.sortBy]||"";return n.sortOrder==="ASC"?Le>ot?1:-1:Le<ot?1:-1});const oe=(D-1)*_,We=oe+_,Ue=fe.slice(oe,We);v(fe),x(Ue),T(!0),G({totalRevenue:fe.reduce((ue,be)=>ue+(be.invoiceValue||0),0),totalInvoices:fe.length,paidAmount:fe.reduce((ue,be)=>ue+(be.totalPaidAmount||0),0)})}catch(pe){console.error("Error loading revenue data:",pe),C(pe.message||"Failed to load revenue analysis data"),v([]),x([])}finally{j(!1)}},Fe=async()=>{a(xe=>({...xe,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",groupBy:s.groupBy||"Company",page:1})),l(!1),await Ee()},he=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),o({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),l(!1),await Ee()};M.useEffect(()=>{if(i.length>0||!n.companyId){const xe=setTimeout(()=>{Ee()},500);return()=>clearTimeout(xe)}},[n,i]);const le=xe=>xe==null?"0.00":`${xe.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ve=xe=>xe?new Date(xe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=N&&U.totalInvoices>0?Math.ceil(U.totalInvoices/_):0,re=(D-1)*_,Ie=Math.min(re+g.length,U.totalInvoices),Te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:Te,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:h,onChange:xe=>a(pe=>({...pe,searchText:xe.target.value,page:1})),onKeyDown:xe=>{xe.key==="Enter"&&!y&&(xe.preventDefault(),Ee())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(xe=>({...xe,searchText:"",page:1})),(N||W())&&await Ee()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),ae.current){const xe=ae.current.getBoundingClientRect();ie({top:xe.bottom+8,left:xe.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:xe=>xe.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Date Range"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:xe=>o(pe=>({...pe,fromDate:xe.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:xe=>o(pe=>({...pe,toDate:xe.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:xe=>{o(pe=>({...pe,companyId:xe.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(xe=>e.jsxs("option",{value:xe.id,children:[xe.companyCode," - ",xe.companyName]},xe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:xe=>o(pe=>({...pe,hcfId:xe.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(xe=>xe.companyId===s.companyId):u).map(xe=>e.jsxs("option",{value:xe.id,children:[xe.hcfCode," - ",xe.hcfName]},xe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Group By"}),e.jsx("select",{className:"filter-modal-select",value:s.groupBy||"Company",onChange:xe=>o(pe=>({...pe,groupBy:xe.target.value})),children:ge.map(xe=>e.jsx("option",{value:xe.value,children:xe.label},xe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Fe(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Revenue"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((xe,pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${pe}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No data match "${h.trim()}". Try adjusting your search or filters.`:W()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:he,children:"Clear Filters"})})]})})}):g.map((xe,pe)=>e.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:xe.invoiceNumber}),e.jsx("td",{children:xe.companyName||"N/A"}),e.jsx("td",{children:xe.hcfCode||"N/A"}),e.jsx("td",{children:ve(xe.invoiceDate)}),e.jsx("td",{className:"text-right",children:le(xe.invoiceValue)}),e.jsx("td",{className:"text-right",children:le(xe.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:le(xe.invoiceValue)})]},xe.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${re+1}-${Ie} of ${U.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async xe=>{a(pe=>({...pe,page:1,pageSize:Number(xe.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const xe=Math.max(1,D-1);a(pe=>({...pe,page:xe}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const xe=[];let X=Math.max(1,D-Math.floor(2.5)),fe=Math.min(se,X+5-1);fe-X<4&&(X=Math.max(1,fe-5+1)),X>1&&(xe.push(1),X>2&&xe.push("..."));for(let oe=X;oe<=fe;oe++)xe.push(oe);return fe<se&&(fe<se-1&&xe.push("..."),xe.push(se)),xe.map((oe,We)=>{if(oe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const Ue=oe;return e.jsx("button",{className:`pagination-page-btn ${D===Ue?"active":""}`,onClick:async()=>{a(ue=>({...ue,page:Ue}))},disabled:!N||g.length===0,children:Ue},Ue)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const xe=Math.min(se,D+1);a(pe=>({...pe,page:xe}))},disabled:D===se||se===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},WT=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[s,o]=M.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalOutstanding:0,totalInvoices:0});M.useEffect(()=>{(async()=>{try{const[fe,oe]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(fe),f(oe)}catch(fe){console.error("Error loading master data:",fe)}})()},[]);const K=n.companyId?u.filter(X=>X.companyId===n.companyId):u,W=()=>{var X;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(X=n.searchText)!=null&&X.trim())},Ne=()=>{if(!W())return"No filters applied. Select a date range or search to view outstanding payments.";const X=[];if(n.fromDate&&n.toDate){const fe=new Date(n.fromDate),oe=new Date(n.toDate),We=fe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ue=oe.toLocaleDateString("en-US",{month:"short",day:"numeric"});X.push(`Date: ${We}${Ue}`)}if(n.companyId){const fe=i.find(oe=>oe.id===n.companyId);fe&&X.push(`Company: ${fe.companyName}`)}if(n.hcfId){const fe=K.find(oe=>oe.id===n.hcfId);fe&&X.push(`HCF: ${fe.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&X.push(`Aging: ${n.agingPeriod}`),X.join("  ")},ge=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],Ee=X=>{const fe=new Date(X),We=Math.abs(new Date().getTime()-fe.getTime());return Math.ceil(We/(1e3*60*60*24))},Fe=async()=>{var X;j(!0),C(null);try{const fe={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let We=((await ym(fe)).data||[]).map(Le=>({invoiceId:Le.invoiceId,companyId:Le.companyId,hcfId:Le.hcfId,invoiceNumber:Le.invoiceNumber,invoiceDate:Le.invoiceDate,dueDate:Le.dueDate,billingType:Le.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Le.invoiceValue,totalPaidAmount:Le.totalPaidAmount,balanceAmount:Le.balanceAmount,status:Le.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Le.companyName,companyCode:Le.companyCode,hcfName:Le.hcfName,hcfCode:Le.hcfCode}));if(We=We.filter(Le=>(Le.balanceAmount||0)>0),(X=n.searchText)!=null&&X.trim()){const Le=n.searchText.toLowerCase().trim();We=We.filter(ot=>{const Tt=(ot.invoiceNumber||"").toLowerCase(),Mt=(ot.companyName||"").toLowerCase(),Nt=(ot.hcfCode||"").toLowerCase();return Tt.includes(Le)||Mt.includes(Le)||Nt.includes(Le)||ot.balanceAmount.toString().includes(Le)})}n.agingPeriod&&n.agingPeriod!=="All"&&(We=We.filter(Le=>{const ot=Ee(Le.invoiceDate);switch(n.agingPeriod){case"0-30":return ot>=0&&ot<=30;case"31-60":return ot>=31&&ot<=60;case"61-90":return ot>=61&&ot<=90;case"90+":return ot>90;default:return!0}})),We.sort((Le,ot)=>{const Tt=Le[n.sortBy]||"",Mt=ot[n.sortBy]||"";return n.sortOrder==="ASC"?Tt>Mt?1:-1:Tt<Mt?1:-1});const Ue=(D-1)*_,ue=Ue+_,be=We.slice(Ue,ue);v(We),x(be),T(!0),G({totalOutstanding:We.reduce((Le,ot)=>Le+(ot.balanceAmount||0),0),totalInvoices:We.length})}catch(fe){console.error("Error loading outstanding data:",fe),C(fe.message||"Failed to load outstanding payment data"),v([]),x([])}finally{j(!1)}},he=async()=>{a(X=>({...X,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",agingPeriod:s.agingPeriod||"All",page:1})),l(!1),await Fe()},le=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),o({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),l(!1),await Fe()};M.useEffect(()=>{if(i.length>0||!n.companyId){const X=setTimeout(()=>{Fe()},500);return()=>clearTimeout(X)}},[n,i]);const ve=X=>X==null?"0.00":`${X.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,se=X=>X?new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=X=>{switch(X){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ie=N&&U.totalInvoices>0?Math.ceil(U.totalInvoices/_):0,Te=(D-1)*_,xe=Math.min(Te+g.length,U.totalInvoices),pe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:pe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:h,onChange:X=>a(fe=>({...fe,searchText:X.target.value,page:1})),onKeyDown:X=>{X.key==="Enter"&&!y&&(X.preventDefault(),Fe())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(X=>({...X,searchText:"",page:1})),(N||W())&&await Fe()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),ae.current){const X=ae.current.getBoundingClientRect();ie({top:X.bottom+8,left:X.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:X=>X.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:X=>o(fe=>({...fe,fromDate:X.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:X=>o(fe=>({...fe,toDate:X.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:X=>{o(fe=>({...fe,companyId:X.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(X=>e.jsxs("option",{value:X.id,children:[X.companyCode," - ",X.companyName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:X=>o(fe=>({...fe,hcfId:X.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(X=>X.companyId===s.companyId):u).map(X=>e.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),e.jsx("select",{className:"filter-modal-select",value:s.agingPeriod||"All",onChange:X=>o(fe=>({...fe,agingPeriod:X.target.value})),children:ge.map(X=>e.jsx("option",{value:X.value,children:X.label},X.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await he(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Outstanding"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((X,fe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${fe}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No outstanding payments match "${h.trim()}". Try adjusting your search or filters.`:W()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):g.map((X,fe)=>e.jsxs("tr",{className:fe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:X.invoiceNumber}),e.jsx("td",{children:X.companyName||"N/A"}),e.jsx("td",{children:X.hcfCode||"N/A"}),e.jsx("td",{children:se(X.invoiceDate)}),e.jsx("td",{children:se(X.dueDate)}),e.jsx("td",{className:"text-right",children:ve(X.invoiceValue)}),e.jsx("td",{className:"text-right",children:ve(X.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:ve(X.balanceAmount)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(X.status),children:X.status})})]},X.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${Te+1}-${xe} of ${U.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async X=>{a(fe=>({...fe,page:1,pageSize:Number(X.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.max(1,D-1);a(fe=>({...fe,page:X}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const X=[];let oe=Math.max(1,D-Math.floor(2.5)),We=Math.min(Ie,oe+5-1);We-oe<4&&(oe=Math.max(1,We-5+1)),oe>1&&(X.push(1),oe>2&&X.push("..."));for(let Ue=oe;Ue<=We;Ue++)X.push(Ue);return We<Ie&&(We<Ie-1&&X.push("..."),X.push(Ie)),X.map((Ue,ue)=>{if(Ue==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ue}`);const be=Ue;return e.jsx("button",{className:`pagination-page-btn ${D===be?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:be}))},disabled:!N||g.length===0,children:be},be)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.min(Ie,D+1);a(fe=>({...fe,page:X}))},disabled:D===Ie||Ie===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Oee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[s,o]=M.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalContracts:0,expiringSoon:0});M.useEffect(()=>{(async()=>{try{const[fe,oe]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(fe),f(oe)}catch(fe){console.error("Error loading master data:",fe)}})()},[]);const K=n.companyId?u.filter(X=>X.companyId===n.companyId):u,W=()=>{var X;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(X=n.searchText)!=null&&X.trim())},Ne=()=>{if(!W())return"No filters applied. View contracts that are due for renewal.";const X=[];if(n.companyId){const fe=i.find(oe=>oe.id===n.companyId);fe&&X.push(`Company: ${fe.companyName}`)}if(n.hcfId){const fe=K.find(oe=>oe.id===n.hcfId);fe&&X.push(`HCF: ${fe.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&X.push(`Expiring: ${n.daysToExpiry}`),X.join("  ")},ge=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],Ee=X=>{const fe=new Date(X),oe=new Date,We=fe.getTime()-oe.getTime();return Math.ceil(We/(1e3*60*60*24))},Fe=async()=>{var X;j(!0),C(null);try{const fe={companyId:n.companyId||void 0,status:"Active"};let oe=await ZA.getAllContracts(fe.companyId,fe.status);if(n.hcfId&&(oe=oe.filter(Le=>Le.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(oe=oe.filter(Le=>{const ot=Ee(Le.endDate);switch(n.daysToExpiry){case"0-30":return ot>=0&&ot<=30;case"31-60":return ot>=31&&ot<=60;case"61-90":return ot>=61&&ot<=90;case"90+":return ot>90;default:return!0}})),(X=n.searchText)!=null&&X.trim()){const Le=n.searchText.toLowerCase().trim();oe=oe.filter(ot=>{const Tt=(ot.contractNum||"").toLowerCase(),Mt=i.find(fr=>fr.id===ot.companyId),Nt=((Mt==null?void 0:Mt.companyName)||"").toLowerCase(),qt=u.find(fr=>fr.id===ot.hcfId),Ir=((qt==null?void 0:qt.hcfCode)||"").toLowerCase();return Tt.includes(Le)||Nt.includes(Le)||Ir.includes(Le)})}oe.sort((Le,ot)=>{const Tt=Le[n.sortBy]||"",Mt=ot[n.sortBy]||"";return n.sortOrder==="ASC"?Tt>Mt?1:-1:Tt<Mt?1:-1});const We=(D-1)*_,Ue=We+_,ue=oe.slice(We,Ue);v(oe),x(ue),T(!0);const be=oe.filter(Le=>{const ot=Ee(Le.endDate);return ot>=0&&ot<=90}).length;G({totalContracts:oe.length,expiringSoon:be})}catch(fe){console.error("Error loading contracts:",fe),C(fe.message||"Failed to load contract renewal data"),v([]),x([])}finally{j(!1)}},he=async()=>{a(X=>({...X,companyId:s.companyId||"",hcfId:s.hcfId||"",daysToExpiry:s.daysToExpiry||"All",page:1})),l(!1),await Fe()},le=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),o({companyId:"",hcfId:"",daysToExpiry:"All"}),l(!1),await Fe()};M.useEffect(()=>{if(i.length>0||!n.companyId){const X=setTimeout(()=>{Fe()},500);return()=>clearTimeout(X)}},[n,i]);const ve=X=>X?new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=X=>{switch(X){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},re=X=>X<0?"status-badge status-badge--cancelled":X<=30?"status-badge status-badge--due":X<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",Ie=N&&U.totalContracts>0?Math.ceil(U.totalContracts/_):0,Te=(D-1)*_,xe=Math.min(Te+g.length,U.totalContracts),pe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:pe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:h,onChange:X=>a(fe=>({...fe,searchText:X.target.value,page:1})),onKeyDown:X=>{X.key==="Enter"&&!y&&(X.preventDefault(),Fe())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(X=>({...X,searchText:"",page:1})),(N||W())&&await Fe()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),ae.current){const X=ae.current.getBoundingClientRect();ie({top:X.bottom+8,left:X.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:X=>X.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:X=>{o(fe=>({...fe,companyId:X.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(X=>e.jsxs("option",{value:X.id,children:[X.companyCode," - ",X.companyName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:X=>o(fe=>({...fe,hcfId:X.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(X=>X.companyId===s.companyId):u).map(X=>e.jsxs("option",{value:X.id,children:[X.hcfCode," - ",X.hcfName]},X.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),e.jsx("select",{className:"filter-modal-select",value:s.daysToExpiry||"All",onChange:X=>o(fe=>({...fe,daysToExpiry:X.target.value})),children:ge.map(X=>e.jsx("option",{value:X.value,children:X.label},X.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await he(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Days to Expiry"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((X,fe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${fe}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No contracts match "${h.trim()}". Try adjusting your search or filters.`:W()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):g.map((X,fe)=>{var We,Ue;const oe=Ee(X.endDate);return e.jsxs("tr",{className:fe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:X.contractNum}),e.jsx("td",{children:((We=i.find(ue=>ue.id===X.companyId))==null?void 0:We.companyName)||"N/A"}),e.jsx("td",{children:((Ue=u.find(ue=>ue.id===X.hcfId))==null?void 0:Ue.hcfCode)||"N/A"}),e.jsx("td",{children:ve(X.startDate)}),e.jsx("td",{children:ve(X.endDate)}),e.jsx("td",{children:e.jsx("span",{className:re(oe),children:oe<0?"Expired":`${oe} days`})}),e.jsx("td",{children:X.billingType}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:se(X.status),children:X.status})})]},X.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${Te+1}-${xe} of ${U.totalContracts} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async X=>{a(fe=>({...fe,page:1,pageSize:Number(X.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.max(1,D-1);a(fe=>({...fe,page:X}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const X=[];let oe=Math.max(1,D-Math.floor(2.5)),We=Math.min(Ie,oe+5-1);We-oe<4&&(oe=Math.max(1,We-5+1)),oe>1&&(X.push(1),oe>2&&X.push("..."));for(let Ue=oe;Ue<=We;Ue++)X.push(Ue);return We<Ie&&(We<Ie-1&&X.push("..."),X.push(Ie)),X.map((Ue,ue)=>{if(Ue==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ue}`);const be=Ue;return e.jsx("button",{className:`pagination-page-btn ${D===be?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:be}))},disabled:!N||g.length===0,children:be},be)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const X=Math.min(Ie,D+1);a(fe=>({...fe,page:X}))},disabled:D===Ie||Ie===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Mee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[s,o]=M.useState({companyId:"",status:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=n.page||1,C=n.pageSize||25,D=M.useRef(null),_=M.useRef(null),[Z,ae]=M.useState(null),[V,ie]=M.useState({totalRoutes:0});M.useEffect(()=>{(async()=>{try{const re=await Ha.getAllCompanies();d(re)}catch(re){console.error("Error loading master data:",re)}})()},[]);const U=()=>{var se;return!!(n.companyId||n.status&&n.status!=="All"||(se=n.searchText)!=null&&se.trim())},G=()=>{if(!U())return"No filters applied. View all routes.";const se=[];if(n.companyId){const re=i.find(Ie=>Ie.id===n.companyId);re&&se.push(`Company: ${re.companyName}`)}return n.status&&n.status!=="All"&&se.push(`Status: ${n.status}`),se.join("  ")},K=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],W=async()=>{var se;x(!0),T(null);try{let re=await GA.getAllRoutes(!0);if(n.companyId&&(re=re.filter(pe=>pe.companyId===n.companyId)),n.status&&n.status!=="All"&&(re=re.filter(pe=>pe.status===n.status)),(se=n.searchText)!=null&&se.trim()){const pe=n.searchText.toLowerCase().trim();re=re.filter(X=>{const fe=(X.routeCode||"").toLowerCase(),oe=(X.routeName||"").toLowerCase(),We=i.find(ue=>ue.id===X.companyId),Ue=((We==null?void 0:We.companyName)||"").toLowerCase();return fe.includes(pe)||oe.includes(pe)||Ue.includes(pe)})}re.sort((pe,X)=>{const fe=pe[n.sortBy]||"",oe=X[n.sortBy]||"";return n.sortOrder==="ASC"?fe>oe?1:-1:fe<oe?1:-1});const Ie=(I-1)*C,Te=Ie+C,xe=re.slice(Ie,Te);f(re),v(xe),j(!0),ie({totalRoutes:re.length})}catch(re){console.error("Error loading routes:",re),T(re.message||"Failed to load route data"),f([]),v([])}finally{x(!1)}},Ne=async()=>{a(se=>({...se,companyId:s.companyId||"",status:s.status||"All",page:1})),l(!1),await W()},ge=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),o({companyId:"",status:"All"}),l(!1),await W()};M.useEffect(()=>{if(i.length>0||!n.companyId){const se=setTimeout(()=>{W()},500);return()=>clearTimeout(se)}},[n,i]);const Ee=se=>{switch(se){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Fe=y&&V.totalRoutes>0?Math.ceil(V.totalRoutes/C):0,he=(I-1)*C,le=Math.min(he+m.length,V.totalRoutes),ve=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:ve,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Route Report"}),!U()&&e.jsx("div",{className:"page-context-subtitle",children:G()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${g?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:h,onChange:se=>a(re=>({...re,searchText:se.target.value,page:1})),onKeyDown:se=>{se.key==="Enter"&&!g&&(se.preventDefault(),W())},disabled:g}),h&&!g&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(se=>({...se,searchText:"",page:1})),(y||U())&&await W()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:_,className:`btn btn-filters-toggle ${c?"active":""} ${g?"loading":""}`,onClick:()=>{if(!g){if(c||o({companyId:n.companyId||"",status:n.status||"All"}),_.current){const se=_.current.getBoundingClientRect();ae({top:se.bottom+8,left:se.left})}l(!c)}},disabled:g,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:se=>se.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({companyId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:se=>o(re=>({...re,companyId:se.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(se=>e.jsxs("option",{value:se.id,children:[se.companyCode," - ",se.companyName]},se.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:se=>o(re=>({...re,status:se.target.value})),children:K.map(se=>e.jsx("option",{value:se.value,children:se.label},se.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ne(),l(!1)},disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),N&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:N}),e.jsxs("div",{className:"results-section",ref:D,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Route Code"}),e.jsx("th",{children:"Route Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:g?Array.from({length:5}).map((se,re)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${re}`)):y?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No routes found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No routes match "${h.trim()}". Try adjusting your search or filters.`:U()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(U()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:ge,children:"Clear Filters"})})]})})}):m.map((se,re)=>{var Ie;return e.jsxs("tr",{className:re%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:se.routeCode}),e.jsx("td",{children:se.routeName}),e.jsx("td",{children:((Ie=i.find(Te=>Te.id===se.companyId))==null?void 0:Ie.companyName)||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:Ee(se.status),children:se.status})})]},se.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No routes found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&m.length>0?`Showing ${he+1}-${le} of ${V.totalRoutes} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||m.length===0,onChange:async se=>{a(re=>({...re,page:1,pageSize:Number(se.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.max(1,I-1);a(re=>({...re,page:se}))},disabled:I===1||!y||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const se=[];let Ie=Math.max(1,I-Math.floor(2.5)),Te=Math.min(Fe,Ie+5-1);Te-Ie<4&&(Ie=Math.max(1,Te-5+1)),Ie>1&&(se.push(1),Ie>2&&se.push("..."));for(let xe=Ie;xe<=Te;xe++)se.push(xe);return Te<Fe&&(Te<Fe-1&&se.push("..."),se.push(Fe)),se.map((xe,pe)=>{if(xe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${pe}`);const X=xe;return e.jsx("button",{className:`pagination-page-btn ${I===X?"active":""}`,onClick:async()=>{a(fe=>({...fe,page:X}))},disabled:!y||m.length===0,children:X},X)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.min(Fe,I+1);a(re=>({...re,page:se}))},disabled:I===Fe||Fe===0||!y||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Dee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[s,o]=M.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalCollections:0,totalWeight:0});M.useEffect(()=>{(async()=>{try{const[oe,We]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(oe),f(We)}catch(oe){console.error("Error loading master data:",oe)}})()},[]);const K=n.companyId?u.filter(fe=>fe.companyId===n.companyId):u,W=()=>{var fe;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(fe=n.searchText)!=null&&fe.trim())},Ne=()=>{if(!W())return"No filters applied. Select a date range or search to view waste collection data.";const fe=[];if(n.collectionFromDate&&n.collectionToDate){const oe=new Date(n.collectionFromDate),We=new Date(n.collectionToDate),Ue=oe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ue=We.toLocaleDateString("en-US",{month:"short",day:"numeric"});fe.push(`Date: ${Ue}${ue}`)}if(n.companyId){const oe=i.find(We=>We.id===n.companyId);oe&&fe.push(`Company: ${oe.companyName}`)}if(n.hcfId){const oe=K.find(We=>We.id===n.hcfId);oe&&fe.push(`HCF: ${oe.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&fe.push(`Color: ${n.wasteColor}`),fe.join("  ")},ge=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],Ee=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],Fe=async()=>{var fe;j(!0),C(null);try{let oe=[];if(n.companyId)try{oe=await qA.getAllCollections(),oe=oe.filter(be=>be.companyId===n.companyId)}catch(be){console.warn("Error loading collections:",be),oe=[]}else try{oe=await qA.getAllCollections()}catch(be){console.warn("Error loading collections:",be),oe=[]}if(n.collectionFromDate){const be=new Date(n.collectionFromDate);oe=oe.filter(Le=>new Date(Le.collectionDate)>=be)}if(n.collectionToDate){const be=new Date(n.collectionToDate);be.setHours(23,59,59,999),oe=oe.filter(Le=>new Date(Le.collectionDate)<=be)}if(n.hcfId&&(oe=oe.filter(be=>be.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(oe=oe.filter(be=>be.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(oe=oe.filter(be=>be.status===n.status)),(fe=n.searchText)!=null&&fe.trim()){const be=n.searchText.toLowerCase().trim();oe=oe.filter(Le=>{const ot=(Le.barcode||"").toLowerCase(),Tt=i.find(Ir=>Ir.id===Le.companyId),Mt=((Tt==null?void 0:Tt.companyName)||"").toLowerCase(),Nt=u.find(Ir=>Ir.id===Le.hcfId),qt=((Nt==null?void 0:Nt.hcfCode)||"").toLowerCase();return ot.includes(be)||Mt.includes(be)||qt.includes(be)||Le.weightKg&&Le.weightKg.toString().includes(be)})}oe.sort((be,Le)=>{const ot=be[n.sortBy]||"",Tt=Le[n.sortBy]||"";return n.sortOrder==="ASC"?ot>Tt?1:-1:ot<Tt?1:-1});const We=(D-1)*_,Ue=We+_,ue=oe.slice(We,Ue);v(oe),x(ue),T(!0),G({totalCollections:oe.length,totalWeight:oe.reduce((be,Le)=>be+(Le.weightKg||0),0)})}catch(oe){console.error("Error loading waste collections:",oe),C(oe.message||"Failed to load waste collection data"),v([]),x([])}finally{j(!1)}},he=async()=>{a(fe=>({...fe,collectionFromDate:s.collectionFromDate||"",collectionToDate:s.collectionToDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",wasteColor:s.wasteColor||"All",status:s.status||"All",page:1})),l(!1),await Fe()},le=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),o({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),l(!1),await Fe()};M.useEffect(()=>{if(i.length>0||!n.companyId){const fe=setTimeout(()=>{Fe()},500);return()=>clearTimeout(fe)}},[n,i]);const ve=fe=>fe?new Date(fe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=fe=>fe==null?"N/A":`${fe.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,re=fe=>{switch(fe){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},Ie=fe=>{switch(fe){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},Te=N&&U.totalCollections>0?Math.ceil(U.totalCollections/_):0,xe=(D-1)*_,pe=Math.min(xe+g.length,U.totalCollections),X=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:X,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:h,onChange:fe=>a(oe=>({...oe,searchText:fe.target.value,page:1})),onKeyDown:fe=>{fe.key==="Enter"&&!y&&(fe.preventDefault(),Fe())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(fe=>({...fe,searchText:"",page:1})),(N||W())&&await Fe()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),ae.current){const fe=ae.current.getBoundingClientRect();ie({top:fe.bottom+8,left:fe.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:fe=>fe.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.collectionFromDate||"",onChange:fe=>o(oe=>({...oe,collectionFromDate:fe.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.collectionToDate||"",onChange:fe=>o(oe=>({...oe,collectionToDate:fe.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:fe=>{o(oe=>({...oe,companyId:fe.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(fe=>e.jsxs("option",{value:fe.id,children:[fe.companyCode," - ",fe.companyName]},fe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:fe=>o(oe=>({...oe,hcfId:fe.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(fe=>fe.companyId===s.companyId):u).map(fe=>e.jsxs("option",{value:fe.id,children:[fe.hcfCode," - ",fe.hcfName]},fe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),e.jsx("select",{className:"filter-modal-select",value:s.wasteColor||"All",onChange:fe=>o(oe=>({...oe,wasteColor:fe.target.value})),children:ge.map(fe=>e.jsx("option",{value:fe.value,children:fe.label},fe.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:fe=>o(oe=>({...oe,status:fe.target.value})),children:Ee.map(fe=>e.jsx("option",{value:fe.value,children:fe.label},fe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await he(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Barcode"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Collection Date"}),e.jsx("th",{children:"Waste Color"}),e.jsx("th",{className:"text-right",children:"Weight (kg)"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((fe,oe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${oe}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No collections match "${h.trim()}". Try adjusting your search or filters.`:W()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):g.map((fe,oe)=>{var We,Ue;return e.jsxs("tr",{className:oe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:fe.barcode}),e.jsx("td",{children:((We=i.find(ue=>ue.id===fe.companyId))==null?void 0:We.companyName)||"N/A"}),e.jsx("td",{children:((Ue=u.find(ue=>ue.id===fe.hcfId))==null?void 0:Ue.hcfCode)||"N/A"}),e.jsx("td",{children:ve(fe.collectionDate)}),e.jsx("td",{children:e.jsx("span",{className:Ie(fe.wasteColor),children:fe.wasteColor})}),e.jsx("td",{className:"text-right",children:se(fe.weightKg)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(fe.status),children:fe.status})})]},fe.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${xe+1}-${pe} of ${U.totalCollections} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async fe=>{a(oe=>({...oe,page:1,pageSize:Number(fe.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const fe=Math.max(1,D-1);a(oe=>({...oe,page:fe}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const fe=[];let We=Math.max(1,D-Math.floor(2.5)),Ue=Math.min(Te,We+5-1);Ue-We<4&&(We=Math.max(1,Ue-5+1)),We>1&&(fe.push(1),We>2&&fe.push("..."));for(let ue=We;ue<=Ue;ue++)fe.push(ue);return Ue<Te&&(Ue<Te-1&&fe.push("..."),fe.push(Te)),fe.map((ue,be)=>{if(ue==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${be}`);const Le=ue;return e.jsx("button",{className:`pagination-page-btn ${D===Le?"active":""}`,onClick:async()=>{a(ot=>({...ot,page:Le}))},disabled:!N||g.length===0,children:Le},Le)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const fe=Math.min(Te,D+1);a(oe=>({...oe,page:fe}))},disabled:D===Te||Te===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},_ee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[s,o]=M.useState({status:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState(!1),[g,x]=M.useState(!1),[y,j]=M.useState(null),N=n.page||1,T=n.pageSize||25,I=M.useRef(null),C=M.useRef(null),[D,_]=M.useState(null),[Z,ae]=M.useState({totalCompanies:0}),V=()=>{var ve;return!!(n.status&&n.status!=="All"||(ve=n.searchText)!=null&&ve.trim())},ie=()=>{if(!V())return"No filters applied. View all companies.";const ve=[];return n.status&&n.status!=="All"&&ve.push(`Status: ${n.status}`),ve.join("  ")},U=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],G=async()=>{var ve;v(!0),j(null);try{let se=await Ha.getAllCompanies();if(n.status&&n.status!=="All"&&(se=se.filter(xe=>xe.status===n.status)),(ve=n.searchText)!=null&&ve.trim()){const xe=n.searchText.toLowerCase().trim();se=se.filter(pe=>{const X=(pe.companyCode||"").toLowerCase(),fe=(pe.companyName||"").toLowerCase();return X.includes(xe)||fe.includes(xe)})}se.sort((xe,pe)=>{const X=xe[n.sortBy]||"",fe=pe[n.sortBy]||"";return n.sortOrder==="ASC"?X>fe?1:-1:X<fe?1:-1});const re=(N-1)*T,Ie=re+T,Te=se.slice(re,Ie);d(se),f(Te),x(!0),ae({totalCompanies:se.length})}catch(se){console.error("Error loading companies:",se),j(se.message||"Failed to load company data"),d([]),f([])}finally{v(!1)}},K=async()=>{a(ve=>({...ve,status:s.status||"All",page:1})),l(!1),await G()},W=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),o({status:"All"}),l(!1),await G()};M.useEffect(()=>{const ve=setTimeout(()=>{G()},500);return()=>clearTimeout(ve)},[n]);const Ne=ve=>ve?new Date(ve).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ge=ve=>{switch(ve){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ee=g&&Z.totalCompanies>0?Math.ceil(Z.totalCompanies/T):0,Fe=(N-1)*T,he=Math.min(Fe+u.length,Z.totalCompanies),le=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:le,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Company Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:ie()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:h,onChange:ve=>a(se=>({...se,searchText:ve.target.value,page:1})),onKeyDown:ve=>{ve.key==="Enter"&&!m&&(ve.preventDefault(),G())},disabled:m}),h&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ve=>({...ve,searchText:"",page:1})),(g||V())&&await G()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:C,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||o({status:n.status||"All"}),C.current){const ve=C.current.getBoundingClientRect();_({top:ve.bottom+8,left:ve.left})}l(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),_(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ve=>ve.stopPropagation(),style:D?{position:"fixed",top:`${D.top}px`,left:`${D.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsx("div",{className:"filter-modal-grid",children:e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ve=>o(se=>({...se,status:ve.target.value})),children:U.map(ve=>e.jsx("option",{value:ve.value,children:ve.label},ve.value))})]})})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await K(),l(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Code"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Created Date"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ve,se)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${se}`)):g?u.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No companies found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No companies match "${h.trim()}". Try adjusting your search or filters.`:V()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(V()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:W,children:"Clear Filters"})})]})})}):u.map((ve,se)=>e.jsxs("tr",{className:se%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ve.companyCode}),e.jsx("td",{children:ve.companyName}),e.jsx("td",{children:Ne(ve.createdOn)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ge(ve.status),children:ve.status})})]},ve.id)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No companies found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:g&&u.length>0?`Showing ${Fe+1}-${he} of ${Z.totalCompanies} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:T,disabled:!g||u.length===0,onChange:async ve=>{a(se=>({...se,page:1,pageSize:Number(ve.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ve=Math.max(1,N-1);a(se=>({...se,page:ve}))},disabled:N===1||!g||u.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ve=[];let re=Math.max(1,N-Math.floor(2.5)),Ie=Math.min(Ee,re+5-1);Ie-re<4&&(re=Math.max(1,Ie-5+1)),re>1&&(ve.push(1),re>2&&ve.push("..."));for(let Te=re;Te<=Ie;Te++)ve.push(Te);return Ie<Ee&&(Ie<Ee-1&&ve.push("..."),ve.push(Ee)),ve.map((Te,xe)=>{if(Te==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${xe}`);const pe=Te;return e.jsx("button",{className:`pagination-page-btn ${N===pe?"active":""}`,onClick:async()=>{a(X=>({...X,page:pe}))},disabled:!g||u.length===0,children:pe},pe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ve=Math.min(Ee,N+1);a(se=>({...se,page:ve}))},disabled:N===Ee||Ee===0||!g||u.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Lee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[s,o]=M.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState([]),[y,j]=M.useState(!1),[N,T]=M.useState(!1),[I,C]=M.useState(null),D=n.page||1,_=n.pageSize||25,Z=M.useRef(null),ae=M.useRef(null),[V,ie]=M.useState(null),[U,G]=M.useState({totalItems:0,compliant:0,nonCompliant:0});M.useEffect(()=>{(async()=>{try{const[X,fe]=await Promise.all([Ha.getAllCompanies(),Ei.getAllHcfs()]);d(X),f(fe)}catch(X){console.error("Error loading master data:",X)}})()},[]);const K=n.companyId?u.filter(pe=>pe.companyId===n.companyId):u,W=()=>{var pe;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(pe=n.searchText)!=null&&pe.trim())},Ne=()=>{if(!W())return"No filters applied. View all compliance statuses.";const pe=[];if(n.companyId){const X=i.find(fe=>fe.id===n.companyId);X&&pe.push(`Company: ${X.companyName}`)}if(n.hcfId){const X=K.find(fe=>fe.id===n.hcfId);X&&pe.push(`HCF: ${X.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&pe.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&pe.push(`Status: ${n.status}`),pe.join("  ")},ge=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],Ee=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Fe=async()=>{var pe;j(!0),C(null);try{let X=[];if(n.companyId&&(X=X.filter(Ue=>Ue.companyId===n.companyId)),n.hcfId&&(X=X.filter(Ue=>Ue.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(X=X.filter(Ue=>Ue.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(X=X.filter(Ue=>Ue.status===n.status)),(pe=n.searchText)!=null&&pe.trim()){const Ue=n.searchText.toLowerCase().trim();X=X.filter(ue=>{const be=i.find(Mt=>Mt.id===ue.companyId),Le=((be==null?void 0:be.companyName)||"").toLowerCase(),ot=u.find(Mt=>Mt.id===ue.hcfId),Tt=((ot==null?void 0:ot.hcfCode)||"").toLowerCase();return ue.complianceType.toLowerCase().includes(Ue)||Le.includes(Ue)||Tt.includes(Ue)||ue.notes&&ue.notes.toLowerCase().includes(Ue)})}X.sort((Ue,ue)=>{const be=Ue[n.sortBy]||"",Le=ue[n.sortBy]||"";return n.sortOrder==="ASC"?be>Le?1:-1:be<Le?1:-1});const fe=(D-1)*_,oe=fe+_,We=X.slice(fe,oe);v(X),x(We),T(!0),G({totalItems:X.length,compliant:X.filter(Ue=>Ue.status==="Compliant").length,nonCompliant:X.filter(Ue=>Ue.status==="Non-Compliant"||Ue.status==="Expired").length})}catch(X){console.error("Error loading compliance data:",X),C(X.message||"Failed to load compliance status data"),v([]),x([])}finally{j(!1)}},he=async()=>{a(pe=>({...pe,companyId:s.companyId||"",hcfId:s.hcfId||"",complianceType:s.complianceType||"All",status:s.status||"All",page:1})),l(!1),await Fe()},le=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),o({companyId:"",hcfId:"",complianceType:"All",status:"All"}),l(!1),await Fe()};M.useEffect(()=>{if(i.length>0||!n.companyId){const pe=setTimeout(()=>{Fe()},500);return()=>clearTimeout(pe)}},[n,i]);const ve=pe=>pe?new Date(pe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",se=pe=>{switch(pe){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},re=N&&U.totalItems>0?Math.ceil(U.totalItems/_):0,Ie=(D-1)*_,Te=Math.min(Ie+g.length,U.totalItems),xe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:t.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}];return e.jsx(Ul,{navItems:xe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!W()&&e.jsx("div",{className:"page-context-subtitle",children:Ne()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:h,onChange:pe=>a(X=>({...X,searchText:pe.target.value,page:1})),onKeyDown:pe=>{pe.key==="Enter"&&!y&&(pe.preventDefault(),Fe())},disabled:y}),h&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(pe=>({...pe,searchText:"",page:1})),(N||W())&&await Fe()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ae,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||o({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),ae.current){const pe=ae.current.getBoundingClientRect();ie({top:pe.bottom+8,left:pe.left})}l(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ie(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:pe=>pe.stopPropagation(),style:V?{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{o({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:pe=>{o(X=>({...X,companyId:pe.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(pe=>e.jsxs("option",{value:pe.id,children:[pe.companyCode," - ",pe.companyName]},pe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:pe=>o(X=>({...X,hcfId:pe.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?u.filter(pe=>pe.companyId===s.companyId):u).map(pe=>e.jsxs("option",{value:pe.id,children:[pe.hcfCode," - ",pe.hcfName]},pe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceType||"All",onChange:pe=>o(X=>({...X,complianceType:pe.target.value})),children:ge.map(pe=>e.jsx("option",{value:pe.value,children:pe.label},pe.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:pe=>o(X=>({...X,status:pe.target.value})),children:Ee.map(pe=>e.jsx("option",{value:pe.value,children:pe.label},pe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await he(),l(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),I&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:I}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Compliance Type"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Expiry Date"}),e.jsx("th",{children:"Last Checked"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((pe,X)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${X}`)):N?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:6,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No compliance items match "${h.trim()}". Try adjusting your search or filters.`:W()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),(W()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:le,children:"Clear Filters"})})]})})}):g.map((pe,X)=>{var fe,oe;return e.jsxs("tr",{className:X%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{children:pe.complianceType}),e.jsx("td",{children:((fe=i.find(We=>We.id===pe.companyId))==null?void 0:fe.companyName)||"N/A"}),e.jsx("td",{children:((oe=u.find(We=>We.id===pe.hcfId))==null?void 0:oe.hcfCode)||"N/A"}),e.jsx("td",{children:ve(pe.expiryDate)}),e.jsx("td",{children:ve(pe.lastChecked)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:se(pe.status),children:pe.status})})]},pe.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:6,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:N&&g.length>0?`Showing ${Ie+1}-${Te} of ${U.totalItems} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:_,disabled:!N||g.length===0,onChange:async pe=>{a(X=>({...X,page:1,pageSize:Number(pe.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.max(1,D-1);a(X=>({...X,page:pe}))},disabled:D===1||!N||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const pe=[];let fe=Math.max(1,D-Math.floor(2.5)),oe=Math.min(re,fe+5-1);oe-fe<4&&(fe=Math.max(1,oe-5+1)),fe>1&&(pe.push(1),fe>2&&pe.push("..."));for(let We=fe;We<=oe;We++)pe.push(We);return oe<re&&(oe<re-1&&pe.push("..."),pe.push(re)),pe.map((We,Ue)=>{if(We==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ue}`);const ue=We;return e.jsx("button",{className:`pagination-page-btn ${D===ue?"active":""}`,onClick:async()=>{a(be=>({...be,page:ue}))},disabled:!N||g.length===0,children:ue},ue)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.min(re,D+1);a(X=>({...X,page:pe}))},disabled:D===re||re===0||!N||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Uee=()=>{const t=In(),r=ds(),[n,a]=M.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,o]=M.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=M.useState(!1),h=n.searchText||"",[i,d]=M.useState([]),[u,f]=M.useState([]),[m,v]=M.useState([]),[g,x]=M.useState(!1),[y,j]=M.useState(!1),[N,T]=M.useState(null),I=n.page||1,C=n.pageSize||25,D=M.useRef(null),_=M.useRef(null),[Z,ae]=M.useState(null),[V,ie]=M.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});M.useEffect(()=>{(async()=>{try{const be=await Ha.getAllCompanies();d(be)}catch(be){console.error("Error loading master data:",be)}})()},[]);const U=()=>{var ue;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(ue=n.searchText)!=null&&ue.trim())},G=()=>{if(!U())return"No filters applied. Select a date range or search to view fleet vehicles.";const ue=[];if(n.createdFromDate&&n.createdToDate){const be=new Date(n.createdFromDate),Le=new Date(n.createdToDate),ot=be.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Tt=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ue.push(`${ot} - ${Tt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const be=new Date(n.createdFromDate);ue.push(`From ${be.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const be=new Date(n.createdToDate);ue.push(`To ${be.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const be=i.find(Le=>Le.id===n.companyId);ue.push(be?be.companyName:"Selected Company")}else ue.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&ue.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?ue.push(n.status):ue.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&ue.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${ue.join("  ")}`},K=(ue,be)=>{o(Le=>({...Le,[ue]:be}))},W=()=>{a(ue=>({...ue,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",vehMake:s.vehMake||"",status:s.status||"All",complianceStatus:s.complianceStatus||"All",page:1}))},Ne=()=>{const ue={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(ue),o({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},ge=(ue,be)=>{a(Le=>({...Le,page:ue,...be!==void 0&&{pageSize:be}}))},Ee=ue=>{a(be=>({...be,searchText:ue,page:1}))},Fe=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],he=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],le=()=>{const ue=new Set;return u.forEach(be=>{be.vehMake&&ue.add(be.vehMake)}),Array.from(ue).sort()},ve=ue=>{const be=new Date;be.setHours(0,0,0,0);const Le=[ue.nextFCDate?new Date(ue.nextFCDate):null,ue.pucDateValidUpto?new Date(ue.pucDateValidUpto):null,ue.insuranceValidUpto?new Date(ue.insuranceValidUpto):null].filter(Boolean);if(Le.length===0)return"Compliant";if(Le.filter(Nt=>Nt<be).length>0)return"Expired";const Tt=new Date(be);return Tt.setDate(Tt.getDate()+30),Le.filter(Nt=>Nt<=Tt&&Nt>=be).length>0?"Expiring Soon":"Compliant"},se=async()=>{var ue;x(!0),T(null);try{let be=[];if(n.companyId)be=await Iu.getAllFleets(n.companyId);else{const Nt=i.length>0?i:await Ha.getAllCompanies();for(const qt of Nt)try{const Ir=await Iu.getAllFleets(qt.id);be.push(...Ir)}catch(Ir){console.warn(`Failed to load fleets for company ${qt.companyName}:`,Ir)}}let Le=be;if(n.createdFromDate){const Nt=new Date(n.createdFromDate);Le=Le.filter(qt=>new Date(qt.createdOn)>=Nt)}if(n.createdToDate){const Nt=new Date(n.createdToDate);Nt.setHours(23,59,59,999),Le=Le.filter(qt=>new Date(qt.createdOn)<=Nt)}if(n.companyId&&(Le=Le.filter(Nt=>Nt.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Le=Le.filter(Nt=>Nt.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Le=Le.filter(Nt=>Nt.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Le=Le.filter(Nt=>ve(Nt)===n.complianceStatus)),(ue=n.searchText)!=null&&ue.trim()){const Nt=n.searchText.toLowerCase().trim();Le=Le.filter(qt=>{const Ir=(qt.vehicleNum||"").toLowerCase(),fr=(qt.vehMake||"").toLowerCase(),He=(qt.vehModel||"").toLowerCase(),Yt=(qt.ownerName||"").toLowerCase(),Ct=(qt.ownerContact||"").toLowerCase(),Qr=(qt.capacity||"").toLowerCase();return Ir.includes(Nt)||fr.includes(Nt)||He.includes(Nt)||Yt.includes(Nt)||Ct.includes(Nt)||Qr.includes(Nt)})}Le.sort((Nt,qt)=>{const Ir=Nt[n.sortBy]||"",fr=qt[n.sortBy]||"";return n.sortOrder==="ASC"?Ir>fr?1:-1:Ir<fr?1:-1});const ot=(I-1)*C,Tt=ot+C,Mt=Le.slice(ot,Tt);f(Le),v(Mt),j(!0),ie({totalFleets:Le.length,activeFleets:Le.filter(Nt=>Nt.status==="Active").length,inactiveFleets:Le.filter(Nt=>Nt.status==="Inactive").length})}catch(be){console.error("Error loading fleets:",be),T(be.message||"Failed to load fleet vehicles"),f([]),v([])}finally{x(!1)}};M.useEffect(()=>{if(i.length>0){const ue=setTimeout(()=>{se()},500);return()=>clearTimeout(ue)}},[n,i]);const re=async()=>{W(),l(!1),await se()},Ie=async()=>{Ne(),l(!1),await se()},Te=ue=>ue?new Date(ue).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",xe=ue=>{switch(ue){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},pe=ue=>{switch(ue){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},X=y&&V.totalFleets>0?Math.ceil(V.totalFleets/C):0,fe=(I-1)*C,oe=Math.min(fe+m.length,V.totalFleets),We=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:t.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.pathname.startsWith("/report")}],Ue=le();return e.jsx(Ul,{navItems:We,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>r("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!U()&&e.jsx("div",{className:"page-context-subtitle",children:G()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${g?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:h,onChange:ue=>Ee(ue.target.value),onKeyDown:ue=>{ue.key==="Enter"&&!g&&(ue.preventDefault(),se())},disabled:g}),h&&!g&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{Ee(""),se()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:_,className:`btn btn-filters-toggle ${c?"active":""} ${g?"loading":""}`,onClick:()=>{if(!g){if(c||(K("companyId",n.companyId||""),K("vehMake",n.vehMake||""),K("status",n.status||"All"),K("complianceStatus",n.complianceStatus||"All"),K("createdFromDate",n.createdFromDate||""),K("createdToDate",n.createdToDate||"")),_.current){const ue=_.current.getBoundingClientRect();ae({top:ue.bottom+8,left:ue.left})}l(!c)}},disabled:g,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Zl.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),ae(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ue=>ue.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{K("companyId",""),K("vehMake",""),K("createdFromDate",""),K("createdToDate",""),K("status","All"),K("complianceStatus","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:ue=>K("createdFromDate",ue.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:ue=>K("createdToDate",ue.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ue=>K("companyId",ue.target.value),children:[e.jsx("option",{value:"",children:"Select Company Name"}),i.map(ue=>e.jsxs("option",{value:ue.id,children:[ue.companyCode," - ",ue.companyName]},ue.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),e.jsxs("select",{className:"filter-modal-select",value:s.vehMake||"All",onChange:ue=>K("vehMake",ue.target.value),children:[e.jsx("option",{value:"All",children:"All Makes"}),Ue.map(ue=>e.jsx("option",{value:ue,children:ue},ue))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ue=>K("status",ue.target.value),children:Fe.map(ue=>e.jsx("option",{value:ue.value,children:ue.label},ue.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceStatus||"All",onChange:ue=>K("complianceStatus",ue.target.value),children:he.map(ue=>e.jsx("option",{value:ue.value,children:ue.label},ue.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:re,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:D,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Compliance"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:g?Array.from({length:5}).map((ue,be)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${be}`)):y?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:h.trim()?`No vehicles match "${h.trim()}". Try adjusting your search or filters.`:U()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(U()||h.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Ie,children:"Clear Filters"})})]})})}):m.map((ue,be)=>{const Le=i.find(Tt=>Tt.id===ue.companyId),ot=ve(ue);return e.jsxs("tr",{className:be%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ue.vehicleNum}),e.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),e.jsx("td",{children:ue.vehMake||"N/A"}),e.jsx("td",{children:ue.vehModel||"N/A"}),e.jsx("td",{children:ue.capacity||"N/A"}),e.jsx("td",{children:ue.ownerName||"N/A"}),e.jsx("td",{children:ue.ownerContact||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:xe(ue.status),children:ue.status})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:pe(ot),children:ot})}),e.jsx("td",{children:Te(ue.createdOn)})]},ue.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&m.length>0?`Showing ${oe} of ${V.totalFleets} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||m.length===0,onChange:async ue=>{ge(1,Number(ue.target.value)),await se()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ue=Math.max(1,I-1);ge(ue),await se()},disabled:I===1||!y||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ue=[];let Le=Math.max(1,I-Math.floor(2.5)),ot=Math.min(X,Le+5-1);ot-Le<4&&(Le=Math.max(1,ot-5+1)),Le>1&&(ue.push(1),Le>2&&ue.push("..."));for(let Tt=Le;Tt<=ot;Tt++)ue.push(Tt);return ot<X&&(ot<X-1&&ue.push("..."),ue.push(X)),ue.map((Tt,Mt)=>{if(Tt==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Mt}`);const Nt=Tt;return e.jsx("button",{className:`pagination-page-btn ${I===Nt?"active":""}`,onClick:async()=>{ge(Nt),await se()},disabled:!y||m.length===0,children:Nt},Nt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ue=Math.min(X,I+1);ge(ue),await se()},disabled:I===X||X===0||!y||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Ree=()=>{const{login:t,verifyOTP:r,loading:n,user:a}=ya(),s=ds(),o=In(),[c,l]=M.useState(""),[h,i]=M.useState(""),[d,u]=M.useState(!1),[f,m]=M.useState(!1),[v,g]=M.useState(null),[x,y]=M.useState(!1),[j,N]=M.useState(""),[T,I]=M.useState(["","","","","",""]),[C,D]=M.useState(0);M.useEffect(()=>{if(C>0){const G=setTimeout(()=>D(C-1),1e3);return()=>clearTimeout(G)}},[C]);const _=G=>{if(!G||G.trim().length===0)return!1;const K=/^[a-zA-Z0-9_-]+$/,W=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return K.test(G.trim())||W.test(G.trim())},Z=async G=>{var K,W;if(G.preventDefault(),g(null),!_(c)){g("Please enter a valid username or email address");return}if(!h||h.trim().length===0){g("Please enter your password");return}try{const Ne=await t(c.trim(),h);if(Ne.requiresOTP&&Ne.email)N(Ne.email),y(!0),D(60);else{const ge=(W=(K=o.state)==null?void 0:K.from)==null?void 0:W.pathname;s(ge||"/mobile/home",{replace:!0})}}catch(Ne){g(Ne.message||"Invalid credentials. Please check your username and password.")}},ae=(G,K)=>{if(K.length>1)return;const W=[...T];if(W[G]=K,I(W),K&&G<5){const Ne=document.getElementById(`otp-input-mobile-${G+1}`);Ne==null||Ne.focus()}},V=(G,K)=>{if(K.key==="Backspace"&&!T[G]&&G>0){const W=document.getElementById(`otp-input-mobile-${G-1}`);W==null||W.focus()}},ie=async G=>{var W,Ne,ge;G.preventDefault(),g(null);const K=T.join("");if(K.length!==6){g("Please enter a valid 6-digit OTP");return}try{await r(j,K);const Ee=(Ne=(W=o.state)==null?void 0:W.from)==null?void 0:Ne.pathname;s(Ee||"/mobile/home",{replace:!0})}catch(Ee){g(Ee.message||"Invalid OTP"),I(["","","","","",""]),(ge=document.getElementById("otp-input-mobile-0"))==null||ge.focus()}},U=async()=>{if(!(C>0)){g(null);try{await t(c,h),D(60),I(["","","","","",""])}catch(G){g(G.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!h?e.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):e.jsxs("div",{className:"mobile-login-container",children:[e.jsxs("header",{className:"login-header",children:[e.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),e.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),e.jsx("main",{className:"login-main",children:e.jsxs("div",{className:"login-card",children:[e.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?e.jsxs("form",{className:"login-form",onSubmit:ie,children:[e.jsx("div",{className:"otp-instruction-mobile",children:j.toLowerCase()==="superadmin@medi-waste.io"||j.toLowerCase()==="superadmin"?e.jsxs("p",{children:["Use static OTP: ",e.jsx("strong",{children:"123456"})]}):e.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),e.jsx("div",{className:"otp-inputs-row-mobile",children:T.map((G,K)=>e.jsx("input",{id:`otp-input-mobile-${K}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:G,onChange:W=>ae(K,W.target.value),onKeyDown:W=>V(K,W),autoFocus:K===0,disabled:n},K))}),v&&e.jsx("div",{className:"error-message-mobile",children:v}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||T.some(G=>!G),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend-mobile",children:e.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",C>0?e.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",C,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:U,children:"Resend OTP"})]})})]}):e.jsxs("form",{className:"login-form",onSubmit:Z,children:[e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:G=>{l(G.target.value),g(null)},autoComplete:"username",disabled:n})]})}),e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("input",{type:f?"text":"password",className:"form-input",placeholder:"Password",value:h,onChange:G=>{i(G.target.value),g(null)},autoComplete:"current-password",disabled:n}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>m(!f),"aria-label":f?"Hide password":"Show password",disabled:n,children:f?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),e.jsxs("div",{className:"form-options",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",className:"checkbox-input",checked:d,onChange:G=>u(G.target.checked),disabled:n}),e.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),e.jsx(Zr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),v&&e.jsx("div",{className:"error-message-mobile",children:v}),e.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},Qee=({title:t,subtitle:r,action:n,children:a})=>e.jsxs("section",{className:"form-card",children:[e.jsxs("div",{className:"form-card__header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:t}),r&&e.jsx("p",{children:r})]}),n&&e.jsx("div",{className:"form-card__action",children:n})]}),e.jsx("div",{className:"form-card__body",children:a})]}),Zb=({label:t,type:r="text",error:n,hint:a,...s})=>{const[o,c]=M.useState(!1),l=r==="password",h=l&&o?"text":r;return e.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:"input-field__control",children:[e.jsx("input",{type:h,...s}),l&&e.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(i=>!i),"aria-label":o?"Hide password":"Show password",children:o?"Hide":"Show"})]}),n?e.jsx("small",{className:"input-field__error",children:n}):a&&e.jsx("small",{children:a})]})},Hee=({loading:t,children:r,...n})=>e.jsx("button",{className:"primary-btn",disabled:t||n.disabled,...n,children:t?"Working...":r}),Wee=({role:t})=>e.jsx("span",{className:"role-pill",children:t}),$T={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},$ee=()=>{const{createUser:t,loading:r,user:n}=ya(),[a,s]=M.useState({name:"",email:"",password:"",role:"staff"}),[o,c]=M.useState(null),[l,h]=M.useState(null),i=async d=>{d.preventDefault(),c(null),h(null);try{const u=await t(a);c(`Created ${u.name} (${u.roles.join(", ")})`),s({...a,name:"",email:"",password:""})}catch(u){h(u.message||"Unable to create user")}};return e.jsx(Qee,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?e.jsx(Wee,{role:n.roles[0]}):null,children:e.jsxs("form",{className:"form-grid mobile",onSubmit:i,children:[e.jsx(Zb,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:d=>s(u=>({...u,name:d.target.value}))}),e.jsx(Zb,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:d=>s(u=>({...u,email:d.target.value}))}),e.jsx(Zb,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:d=>s(u=>({...u,password:d.target.value})),hint:"Min 8 characters"}),e.jsxs("label",{className:"input-field",children:[e.jsx("span",{children:"Role"}),e.jsx("div",{className:"role-options",children:Object.keys($T).map(d=>e.jsxs("button",{type:"button",className:`role-chip ${a.role===d?"role-chip--active":""}`,onClick:()=>s(u=>({...u,role:d})),children:[e.jsx("strong",{children:d}),e.jsx("small",{children:$T[d]})]},d))})]}),l&&e.jsx("div",{className:"form-error",children:l}),o&&e.jsx("div",{className:"form-success",children:o}),e.jsx(Hee,{type:"submit",loading:r,children:"Save User"}),e.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},zee=()=>{const{user:t,logout:r}=ya(),n=In();ds();const[a,s]=M.useState(!1),[o,c]=M.useState(!1),l=()=>{c(!o)},[h,i]=M.useState(null),[d,u]=M.useState(null),[f,m]=M.useState("basic"),[v,g]=M.useState(null),[x,y]=M.useState(!1),[j,N]=M.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[T,I]=M.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,D]=M.useState({current:!1,new:!1,confirm:!1}),[_,Z]=M.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});M.useEffect(()=>{t!=null&&t.id&&ae()},[t]);const ae=async()=>{if(t){s(!0),i(null);try{const ve=t.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id);let se=null;if(ve)try{se=await Ac.getUserById(t.id)}catch(re){console.log("User ID lookup failed, trying search by username:",re)}if(!se&&t.name)try{se=await Ac.getUserByUsername(t.name)}catch(re){console.log("User lookup by username failed:",re)}if(se)g(se),N({emailAddress:se.emailAddress||"",emergencyContact:se.emergencyContact||"",addressLine:se.addressLine||"",area:se.area||"",city:se.city||"",district:se.district||"",pincode:se.pincode||""});else{const re={userName:t.name,emailAddress:t.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:t.roles.join(", ")||null};g(re),i("Showing basic information from your session. Some details may be incomplete.")}}catch(ve){console.error("Error loading user profile:",ve),i("Unable to load complete profile data. Showing basic information from your session.")}finally{s(!1)}}},V=async()=>{if(v!=null&&v.userId){s(!0),u(null),i(null);try{await Ac.updateCompleteUser(v.userId,{emailAddress:j.emailAddress||void 0,emergencyContact:j.emergencyContact||void 0,addressLine:j.addressLine||void 0,area:j.area||void 0,city:j.city||void 0,district:j.district||void 0,pincode:j.pincode||void 0}),u("Contact information updated successfully!"),y(!1),await ae()}catch(ve){i(ve.message||"Failed to update contact information")}finally{s(!1)}}},ie=()=>{v&&N({emailAddress:v.emailAddress||"",emergencyContact:v.emergencyContact||"",addressLine:v.addressLine||"",area:v.area||"",city:v.city||"",district:v.district||"",pincode:v.pincode||""}),y(!1)},U=ve=>{Z({length:ve.length>=8,uppercase:/[A-Z]/.test(ve),lowercase:/[a-z]/.test(ve),number:/[0-9]/.test(ve),special:/[!@#$%^&*(),.?":{}|<>]/.test(ve),match:ve===T.confirmPassword&&ve.length>0})},G=(ve,se)=>{const re={...T,[ve]:se};I(re),ve==="newPassword"?(U(se),T.confirmPassword&&Z(Ie=>({...Ie,match:se===T.confirmPassword&&se.length>0}))):Z(Ie=>({...Ie,match:se===T.newPassword&&se.length>0}))},K=()=>{const se=[_.length,_.uppercase,_.lowercase,_.number,_.special].filter(Boolean).length;return se===0?{level:0,label:"",color:""}:se<=2?{level:1,label:"Weak",color:"#ef4444"}:se<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},W=async ve=>{if(ve.preventDefault(),i(null),u(null),!_.length){i("Password must be at least 8 characters long");return}if(!_.uppercase){i("Password must contain at least one uppercase letter");return}if(!_.lowercase){i("Password must contain at least one lowercase letter");return}if(!_.number){i("Password must contain at least one number");return}if(!_.special){i("Password must contain at least one special character");return}if(!_.match){i("New password and confirm password do not match");return}s(!0);try{if(!(t!=null&&t.id))throw new Error("User ID not found");await Sw(t.id,{currentPassword:T.currentPassword,newPassword:T.newPassword}),u("Password changed successfully!"),I({currentPassword:"",newPassword:"",confirmPassword:""}),Z({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),D({current:!1,new:!1,confirm:!1})}catch(se){i(se.message||"Failed to change password")}finally{s(!1)}},Ne=ve=>{const se=ve.toLowerCase();return se==="active"?"status-badge--active":se==="inactive"?"status-badge--inactive":se==="draft"?"status-badge--draft":"status-badge--active"},ge=ve=>{const se=ve.trim().split(" ");return se.length>=2?(se[0][0]+se[se.length-1][0]).toUpperCase():ve.charAt(0).toUpperCase()},Ee=(v==null?void 0:v.userName)||(t==null?void 0:t.name)||"User",Fe=(v==null?void 0:v.userRoleId)||(t==null?void 0:t.roles.join(", "))||"User",he=(v==null?void 0:v.status)||"Active",le=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${o?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!o&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":o?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(ve=>e.jsx("li",{children:e.jsxs(Zr,{to:ve.path,className:`nav-link ${ve.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ve.icon}),!o&&e.jsx("span",{className:"nav-label",children:ve.label})]})},ve.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsx("span",{className:"nav-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!o&&e.jsx("span",{className:"nav-label",children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!o&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx("header",{className:"dashboard-header",children:e.jsx("div",{className:"header-left",children:e.jsx("span",{className:"breadcrumb",children:"/ Profile"})})}),e.jsx("div",{className:"dashboard-content",children:e.jsxs("div",{className:"profile-page",children:[e.jsxs("div",{className:"profile-header-card",children:[e.jsx("div",{className:"profile-header-avatar",children:e.jsx("div",{className:"profile-avatar-large",children:ge(Ee)})}),e.jsxs("div",{className:"profile-header-info",children:[e.jsx("h1",{className:"profile-header-name",children:Ee}),e.jsxs("div",{className:"profile-header-meta",children:[e.jsx("span",{className:"profile-header-role",children:Fe}),e.jsx("span",{className:"profile-header-separator",children:""}),e.jsx("span",{className:`profile-header-status ${Ne(he)}`,children:he})]}),(v==null?void 0:v.mobileNumber)&&v.mobileNumber!=="-"&&e.jsxs("div",{className:"profile-header-contact",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),v.mobileNumber]})]})]}),h&&e.jsxs("div",{className:"profile-info-banner",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),e.jsx("span",{children:h})]}),d&&e.jsxs("div",{className:"profile-success-message",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d]}),e.jsxs("div",{className:"profile-section-tabs",children:[e.jsxs("button",{className:`section-tab ${f==="basic"?"active":""}`,onClick:()=>m("basic"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),e.jsxs("button",{className:`section-tab ${f==="contact"?"active":""}`,onClick:()=>m("contact"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),e.jsxs("button",{className:`section-tab ${f==="security"?"active":""}`,onClick:()=>m("security"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),e.jsx("div",{className:"profile-section-content",children:a&&!v?e.jsxs("div",{className:"profile-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading profile data..."})]}):e.jsxs(e.Fragment,{children:[f==="basic"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),e.jsxs("div",{className:"profile-cards-grid",children:[e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{className:"profile-card-title",children:"User Name"})]}),e.jsx("div",{className:"profile-card-value",children:(v==null?void 0:v.userName)||(t==null?void 0:t.name)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]}),e.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),e.jsx("div",{className:"profile-card-value",children:(v==null?void 0:v.employeeCode)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),e.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),e.jsx("div",{className:"profile-card-value",children:(v==null?void 0:v.mobileNumber)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),e.jsx("span",{className:"profile-card-title",children:"Status"})]}),e.jsx("div",{className:"profile-card-value",children:e.jsx("span",{className:`status-badge ${Ne(he)}`,children:he})})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{className:"profile-card-title",children:"Role"})]}),e.jsx("div",{className:"profile-card-value",children:Fe})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),e.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),e.jsx("div",{className:"profile-card-value",children:(v==null?void 0:v.employmentType)||"-"})]})]})]}),f==="contact"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Contact Information"}),e.jsx("p",{className:"section-description",children:x?"Edit your contact details":"Update your contact details"})]}),e.jsxs("div",{className:"profile-contact-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),x?e.jsx("input",{type:"email",id:"emailAddress",value:j.emailAddress,onChange:ve=>N({...j,emailAddress:ve.target.value}),placeholder:"Enter email address",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.emailAddress)||"Not provided"}),e.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),x?e.jsx("input",{type:"text",id:"emergencyContact",value:j.emergencyContact,onChange:ve=>N({...j,emergencyContact:ve.target.value}),placeholder:"Enter emergency contact number",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.emergencyContact)||"-"})]})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),x?e.jsx("input",{type:"text",id:"addressLine",value:j.addressLine,onChange:ve=>N({...j,addressLine:ve.target.value}),placeholder:"Enter address line",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.addressLine)||"-"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"area",children:"Area"}),x?e.jsx("input",{type:"text",id:"area",value:j.area,onChange:ve=>N({...j,area:ve.target.value}),placeholder:"Enter area",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.area)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),x?e.jsx("input",{type:"text",id:"city",value:j.city,onChange:ve=>N({...j,city:ve.target.value}),placeholder:"Enter city",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.city)||"-"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"district",children:"District"}),x?e.jsx("input",{type:"text",id:"district",value:j.district,onChange:ve=>N({...j,district:ve.target.value}),placeholder:"Enter district",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.district)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pincode",children:"Pincode"}),x?e.jsx("input",{type:"text",id:"pincode",value:j.pincode,onChange:ve=>N({...j,pincode:ve.target.value}),placeholder:"Enter pincode",disabled:a}):e.jsx("div",{className:"form-value",children:(v==null?void 0:v.pincode)||"-"})]})]}),e.jsx("div",{className:"form-actions",children:x?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:ie,disabled:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:V,disabled:a,children:a?"Saving...":"Save Changes"})]}):e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>y(!0),children:"Edit Contact Info"})})]})]}),f==="security"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Security Settings"}),e.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),e.jsxs("div",{className:"security-card security-card--password",children:[e.jsx("div",{className:"security-card-header",children:e.jsxs("div",{className:"security-card-title-group",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"security-card-title",children:"Change Password"}),e.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),e.jsxs("form",{onSubmit:W,className:"password-form",children:[e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:C.current?"text":"password",id:"currentPassword",value:T.currentPassword,onChange:ve=>I({...T,currentPassword:ve.target.value}),required:!0,placeholder:"Enter your current password",disabled:a,className:T.currentPassword?"has-value":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>D({...C,current:!C.current}),tabIndex:-1,"aria-label":C.current?"Hide password":"Show password",children:C.current?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"newPassword",children:["New Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:C.new?"text":"password",id:"newPassword",value:T.newPassword,onChange:ve=>G("newPassword",ve.target.value),required:!0,placeholder:"Enter new password",disabled:a,className:T.newPassword?"has-value":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>D({...C,new:!C.new}),tabIndex:-1,"aria-label":C.new?"Hide password":"Show password",children:C.new?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),T.newPassword&&e.jsxs("div",{className:"password-strength",children:[e.jsx("div",{className:"password-strength-bar",children:e.jsx("div",{className:"password-strength-fill",style:{width:`${K().level/3*100}%`,backgroundColor:K().color}})}),e.jsx("span",{className:"password-strength-label",style:{color:K().color},children:K().label||"Enter password"})]}),e.jsxs("div",{className:"password-requirements",children:[e.jsxs("div",{className:`requirement-item ${_.length?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.length?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("div",{className:`requirement-item ${_.uppercase?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.uppercase?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One uppercase letter"})]}),e.jsxs("div",{className:`requirement-item ${_.lowercase?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.lowercase?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One lowercase letter"})]}),e.jsxs("div",{className:`requirement-item ${_.number?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.number?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One number"})]}),e.jsxs("div",{className:`requirement-item ${_.special?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.special?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One special character"})]})]})]}),e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:C.confirm?"text":"password",id:"confirmPassword",value:T.confirmPassword,onChange:ve=>G("confirmPassword",ve.target.value),required:!0,placeholder:"Re-enter new password",disabled:a,className:`${T.confirmPassword?"has-value":""} ${T.confirmPassword&&_.match?"password-match":T.confirmPassword&&!_.match?"password-mismatch":""}`}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>D({...C,confirm:!C.confirm}),tabIndex:-1,"aria-label":C.confirm?"Hide password":"Show password",children:C.confirm?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),T.confirmPassword&&e.jsxs("div",{className:`password-match-indicator ${_.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.match?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),e.jsx("span",{children:_.match?"Passwords match":"Passwords do not match"})]})]}),e.jsx("div",{className:"form-actions form-actions--password",children:e.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:a||!_.match||!_.length||!_.uppercase||!_.lowercase||!_.number||!_.special,children:a?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},Vee=()=>{const t=ds(),r=In(),{user:n,logout:a}=ya(),[s,o]=M.useState(!1),[c,l]=M.useState(null),[h,i]=M.useState(!1);M.useEffect(()=>{(async()=>{if(n!=null&&n.token){const T=await s3(n.token);l(T)}})()},[n]);const d=[{id:"home",label:"Home",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),e.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"M12 21v-9"}),e.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"1"}),e.jsx("circle",{cx:"12",cy:"5",r:"1"}),e.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],u=N=>{if(N.scanButton||N.id==="more"||N.id==="home")return!0;if(N.permission&&c){if(N.permission.includes("ROUTE_ASSIGNMENT")||N.permission.includes("WASTE_COLLECTION"))return $A(c,"transaction");if(N.permission.includes("HCF"))return $A(c,"master","hcf")}return!0},f=N=>{if(N.id==="more"){o(!s);return}N.path&&N.path!=="#"&&(t(N.path),o(!1))},m=()=>{t("/mobile/scan"),o(!1)},v=()=>{a(),t("/mobile/login"),o(!1)},g=d.filter(u),x=g.find(N=>N.id==="home"),y=g.find(N=>N.scanButton),j=g.find(N=>N.id==="more");return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"mobile-more-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"mobile-more-menu",onClick:N=>N.stopPropagation(),children:[e.jsxs("div",{className:"mobile-more-header",children:[e.jsx("h3",{children:"More Options"}),e.jsx("button",{className:"mobile-more-close",onClick:()=>o(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"mobile-more-content",children:[e.jsxs("button",{className:"mobile-more-item",onClick:()=>{t("/mobile/assign-hospital"),o(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{children:"Assign Hospital"})]}),e.jsxs("button",{className:"mobile-more-item",onClick:()=>{t("/mobile/waste-entry"),o(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),e.jsx("span",{children:"Waste Entry"})]}),e.jsxs("button",{className:"mobile-more-item",onClick:()=>{t("/mobile/hcf-master"),o(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"HCF Master"})]}),e.jsxs("button",{className:"mobile-more-item",onClick:()=>{t("/mobile/profile"),o(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{className:"mobile-more-item",onClick:()=>{t("/mobile/settings"),o(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("span",{children:"Settings"})]}),e.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:v,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]})}),e.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&e.jsxs("button",{className:`mobile-nav-item ${r.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>f(x),"aria-label":"Home",children:[e.jsx("span",{className:"mobile-nav-icon",children:x.icon}),e.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&e.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:m,"aria-label":"Scan Barcode",children:[e.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),e.jsx("span",{className:"mobile-nav-label",children:y.label})]}),j&&e.jsxs("button",{className:`mobile-nav-item ${s?"mobile-nav-item--active":""}`,onClick:()=>f(j),"aria-label":"More",children:[e.jsx("span",{className:"mobile-nav-icon",children:j.icon}),e.jsx("span",{className:"mobile-nav-label",children:j.label})]})]})]})},bg=({children:t,title:r,showBackButton:n=!1,onBack:a})=>e.jsxs("div",{className:"mobile-layout",children:[(r||n)&&e.jsxs("header",{className:"mobile-header",children:[n&&e.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r&&e.jsx("h1",{className:"mobile-header-title",children:r}),e.jsx("div",{style:{width:n?"40px":"auto"}})]}),e.jsx("main",{className:"mobile-page-content",children:t}),e.jsx(Vee,{})]}),Kee=({isOpen:t,onClose:r})=>{const n=ds(),a=In(),{user:s,logout:o}=ya(),[c,l]=M.useState(null),[h,i]=M.useState(new Set);M.useEffect(()=>{(async()=>{if(s!=null&&s.token){const y=await s3(s.token);l(y)}})()},[s]);const d=()=>{if(s!=null&&s.name){const x=s.name.split(" ");return x.length>=2?`${x[0][0]}${x[1][0]}`.toUpperCase():s.name.substring(0,2).toUpperCase()}return"MW"},u=[{title:"Operations",items:[{id:"dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/dashboard",permission:"HOME_VIEW"},{id:"waste-collection",label:"Waste Collection",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION_CREATE"},{id:"route-assignment",label:"Route Assignment",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT_VIEW"},{id:"scan",label:"Scan Barcode",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),e.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"M12 21v-9"}),e.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"analytics",label:"Analytics",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),e.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/report",permission:"REPORT_VIEW"}]},{title:"Admin",items:[{id:"hcf-master",label:"HCF Master",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF_VIEW"},{id:"users",label:"User Management",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],f=x=>{if(x.permission&&c){if(x.permission.includes("ROUTE_ASSIGNMENT")||x.permission.includes("WASTE_COLLECTION"))return $A(c,"transaction");if(x.permission.includes("HCF"))return $A(c,"master","hcf");if(x.permission.includes("USER"))return $A(c,"master");if(x.permission.includes("REPORT"))return $A(c,"report")}return!0},m=x=>{if(x.children&&x.children.length>0){const y=new Set(h);y.has(x.id)?y.delete(x.id):y.add(x.id),i(y)}else x.path&&(n(x.path),r())},v=()=>{o(),n("/mobile/login"),r()},g=x=>a.pathname===x||a.pathname.startsWith(x+"/");return M.useEffect(()=>(t?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[t]),e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:"mobile-drawer-overlay",onClick:r}),e.jsxs("div",{className:`mobile-drawer ${t?"mobile-drawer--open":""}`,children:[e.jsxs("div",{className:"mobile-drawer-header",children:[e.jsxs("div",{className:"mobile-drawer-profile",children:[e.jsx("div",{className:"mobile-drawer-avatar",children:d()}),e.jsxs("div",{className:"mobile-drawer-profile-info",children:[e.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),e.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),e.jsx("button",{className:"mobile-drawer-close",onClick:r,"aria-label":"Close menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"mobile-drawer-content",children:u.map(x=>{const y=x.items.filter(f);return y.length===0?null:e.jsxs("div",{className:"mobile-drawer-group",children:[e.jsx("div",{className:"mobile-drawer-group-title",children:x.title}),y.map(j=>{const N=j.children&&j.children.length>0,T=h.has(j.id),I=g(j.path);return e.jsxs("div",{children:[e.jsxs("button",{className:`mobile-drawer-item ${I?"mobile-drawer-item--active":""}`,onClick:()=>m(j),children:[e.jsx("span",{className:"mobile-drawer-item-icon",children:j.icon}),e.jsx("span",{className:"mobile-drawer-item-label",children:j.label}),N&&e.jsx("svg",{className:`mobile-drawer-item-chevron ${T?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),N&&T&&e.jsx("div",{className:"mobile-drawer-submenu",children:j.children.map(C=>e.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${g(C.path)?"mobile-drawer-item--active":""}`,onClick:()=>m(C),children:[e.jsx("span",{className:"mobile-drawer-item-icon",children:C.icon}),e.jsx("span",{className:"mobile-drawer-item-label",children:C.label})]},C.id))})]},j.id)})]},x.title)})}),e.jsx("div",{className:"mobile-drawer-footer",children:e.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:v,children:[e.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},Gee=()=>{const{user:t}=ya(),[r,n]=M.useState(!1),a=()=>{if(t!=null&&t.name){const s=t.name.split(" ");return s.length>=2?`${s[0][0]}${s[1][0]}`.toUpperCase():t.name.substring(0,2).toUpperCase()}return"MW"};return e.jsxs(bg,{children:[e.jsx(Kee,{isOpen:r,onClose:()=>n(!1)}),e.jsx("div",{className:"mobile-home-template",children:e.jsxs("div",{className:"mobile-home-profile",children:[e.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[e.jsx("div",{className:"mobile-home-avatar",children:a()}),e.jsxs("div",{className:"mobile-home-profile-info",children:[e.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),e.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),e.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})},qee=()=>{const t=ds(),[r,n]=M.useState(""),[a,s]=M.useState(null),[o,c]=M.useState(!1),[l,h]=M.useState(null),i=M.useRef(null);M.useEffect(()=>{i.current&&i.current.focus()},[]);const d=async m=>{if(!m||m.length<5){h("Please enter a valid barcode (at least 5 characters)");return}c(!0),h(null),s(null);try{const v=await qA.lookupBarcode(m);s(v),n("")}catch(v){const g=(v==null?void 0:v.message)||"Barcode not found";h(g),s(null)}finally{c(!1)}},u=m=>{m.preventDefault(),r.trim()&&d(r.trim())},f=()=>{a&&t("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return e.jsx(bg,{title:"Scan Barcode",showBackButton:!0,onBack:()=>t("/mobile/home"),children:e.jsxs("div",{className:"mobile-scan",children:[e.jsxs("div",{className:"mobile-scan-input-section",children:[e.jsx("form",{onSubmit:u,className:"mobile-scan-form",children:e.jsxs("div",{className:"mobile-scan-input-wrapper",children:[e.jsx("input",{ref:i,type:"text",value:r,onChange:m=>n(m.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),e.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:o||!r.trim(),children:o?"...":""})]})}),l&&e.jsxs("div",{className:"mobile-scan-error",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:l})]})]}),a&&e.jsxs("div",{className:"mobile-scan-result",children:[e.jsxs("div",{className:"mobile-scan-result-header",children:[e.jsx("h3",{children:"Barcode Found"}),e.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),e.jsxs("div",{className:"mobile-scan-result-details",children:[e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),e.jsx("button",{className:"mobile-scan-proceed-btn",onClick:f,children:"Proceed to Waste Entry"})]}),!a&&!l&&e.jsxs("div",{className:"mobile-scan-instructions",children:[e.jsx("h4",{children:"How to scan:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Enter the barcode manually in the input field above"}),e.jsx("li",{children:"Or use your device camera to scan the barcode"}),e.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},Xee=()=>{const t=ds(),r=In(),[n,a]=M.useState(""),[s,o]=M.useState(""),[c,l]=M.useState(""),[h,i]=M.useState(!1),[d,u]=M.useState(null),[f,m]=M.useState(!1);M.useEffect(()=>{if(r.state){const{barcode:g}=r.state;g&&a(g)}},[r.state]);const v=async g=>{if(g.preventDefault(),u(null),m(!1),!n||n.length<5){u("Please enter a valid barcode");return}if(!s||parseFloat(s)<=0){u("Please enter a valid weight");return}i(!0);try{await qA.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(s),notes:c.trim()||void 0}),m(!0),a(""),o(""),l(""),setTimeout(()=>{t("/mobile/home")},2e3)}catch(x){u((x==null?void 0:x.message)||"Failed to save waste entry")}finally{i(!1)}};return e.jsx(bg,{title:"Waste Entry",showBackButton:!0,onBack:()=>t("/mobile/home"),children:e.jsxs("div",{className:"mobile-waste-entry",children:[f&&e.jsxs("div",{className:"mobile-waste-entry-success",children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Waste entry saved successfully!"})]}),d&&e.jsxs("div",{className:"mobile-waste-entry-error",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:d})]}),e.jsxs("form",{onSubmit:v,className:"mobile-waste-entry-form",children:[e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),e.jsx("input",{id:"barcode",type:"text",value:n,onChange:g=>a(g.target.value),placeholder:"Enter barcode",required:!0,disabled:h})]}),e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),e.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:s,onChange:g=>o(g.target.value),placeholder:"0.00",required:!0,disabled:h})]}),e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx("textarea",{id:"notes",value:c,onChange:g=>l(g.target.value),placeholder:"Add any additional notes...",rows:4,disabled:h})]}),e.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:h||f,children:h?"Saving...":f?"Saved!":"Save Entry"})]})]})})},Yee=()=>{const t=ds();return e.jsx(bg,{title:"Assign Hospital",showBackButton:!0,onBack:()=>t("/mobile/home"),children:e.jsx("div",{className:"mobile-assign-hospital",children:e.jsxs("div",{className:"mobile-assign-hospital-info",children:[e.jsx("p",{children:"Route assignment functionality will be available here."}),e.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>t("/transaction/route-assignment"),children:"Open Full View"})]})})})},Jee=()=>{const t=ds();return e.jsx(bg,{title:"HCF Master",showBackButton:!0,onBack:()=>t("/mobile/home"),children:e.jsx("div",{className:"mobile-hcf-master",children:e.jsxs("div",{className:"mobile-hcf-master-info",children:[e.jsx("p",{children:"HCF Master data management will be available here."}),e.jsx("button",{className:"mobile-hcf-master-btn",onClick:()=>t("/master/hcf"),children:"Open Full View"})]})})})},Zee=()=>{const{user:t}=n3();return e.jsx(m8,{user:t,children:e.jsxs(X6,{children:[e.jsx(bn,{path:"/",element:e.jsx(tj,{to:"/login",replace:!0})}),e.jsx(bn,{path:"/login",element:e.jsx(g8,{})}),e.jsx(bn,{path:"/verify-otp",element:e.jsx(v8,{})}),e.jsx(bn,{path:"/mobile/login",element:e.jsx(Ree,{})}),e.jsx(bn,{path:"/mobile/home",element:e.jsx(Tn,{children:e.jsx(Gee,{})})}),e.jsx(bn,{path:"/mobile/scan",element:e.jsx(Tn,{children:e.jsx(qee,{})})}),e.jsx(bn,{path:"/mobile/waste-entry",element:e.jsx(Tn,{children:e.jsx(Xee,{})})}),e.jsx(bn,{path:"/mobile/assign-hospital",element:e.jsx(Tn,{children:e.jsx(Yee,{})})}),e.jsx(bn,{path:"/mobile/hcf-master",element:e.jsx(Tn,{children:e.jsx(Jee,{})})}),e.jsx(bn,{path:"/dashboard",element:e.jsx(Tn,{children:e.jsx(vX,{})})}),e.jsx(bn,{path:"/admin/dashboard-configuration",element:e.jsx(Tn,{children:e.jsx(wX,{})})}),e.jsx(bn,{path:"/profile",element:e.jsx(Tn,{children:e.jsx(zee,{})})}),e.jsx(bn,{path:"/transaction",element:e.jsx(Tn,{children:e.jsx(CX,{})})}),e.jsx(bn,{path:"/transaction/barcode-generation",element:e.jsx(Tn,{children:e.jsx(KZ,{})})}),e.jsx(bn,{path:"/transaction/route-assignment",element:e.jsx(Tn,{children:e.jsx(zY,{})})}),e.jsx(bn,{path:"/transaction/waste-collection",element:e.jsx(Tn,{children:e.jsx(qY,{})})}),e.jsx(bn,{path:"/transaction/waste-transaction-data",element:e.jsx(Tn,{children:e.jsx(eJ,{})})}),e.jsx(bn,{path:"/transaction/vehicle-wise-waste-collection",element:e.jsx(Tn,{children:e.jsx(nJ,{})})}),e.jsx(bn,{path:"/transaction/waste-processing",element:e.jsx(Tn,{children:e.jsx(iJ,{})})}),e.jsx(bn,{path:"/finance",element:e.jsx(Tn,{children:e.jsx(NX,{})})}),e.jsx(bn,{path:"/commercial-agreements",element:e.jsx(Tn,{children:e.jsx(BX,{})})}),e.jsx(bn,{path:"/commercial-agreements/contract-master",element:e.jsx(Tn,{children:e.jsx(aee,{})})}),e.jsx(bn,{path:"/commercial-agreements/agreement",element:e.jsx(Tn,{children:e.jsx(fee,{})})}),e.jsx(bn,{path:"/commercial-agreements/agreement-clause",element:e.jsx(Tn,{children:e.jsx(vee,{})})}),e.jsx(bn,{path:"/compliance-training",element:e.jsx(Tn,{children:e.jsx(SX,{})})}),e.jsx(bn,{path:"/compliance-training/training-certificate-management",element:e.jsx(Tn,{children:e.jsx(JZ,{})})}),e.jsx(bn,{path:"/master",element:e.jsx(Tn,{children:e.jsx(EX,{})})}),e.jsx(bn,{path:"/master/company",element:e.jsx(Tn,{children:e.jsx(PX,{})})}),e.jsx(bn,{path:"/master/state",element:e.jsx(Tn,{children:e.jsx(_X,{})})}),e.jsx(bn,{path:"/master/area",element:e.jsx(Tn,{children:e.jsx(QX,{})})}),e.jsx(bn,{path:"/master/category",element:e.jsx(Tn,{children:e.jsx(zX,{})})}),e.jsx(bn,{path:"/master/pcb-zone",element:e.jsx(Tn,{children:e.jsx(qX,{})})}),e.jsx(bn,{path:"/master/route",element:e.jsx(Tn,{children:e.jsx(tY,{})})}),e.jsx(bn,{path:"/master/color-code",element:e.jsx(Tn,{children:e.jsx(sY,{})})}),e.jsx(bn,{path:"/master/user-management",element:e.jsx(Tn,{children:e.jsx(mY,{})})}),e.jsx(bn,{path:"/master/roles-permissions",element:e.jsx(Tn,{children:e.jsx(yY,{})})}),e.jsx(bn,{path:"/master/hcf-master",element:e.jsx(Tn,{children:e.jsx(NY,{})})}),e.jsx(bn,{path:"/master/hcf-amendments",element:e.jsx(Tn,{children:e.jsx(IY,{})})}),e.jsx(bn,{path:"/master/hcf-type",element:e.jsx(Tn,{children:e.jsx(TY,{})})}),e.jsx(bn,{path:"/master/fleet-management",element:e.jsx(Tn,{children:e.jsx(MY,{})})}),e.jsx(bn,{path:"/master/route-hcf-mapping",element:e.jsx(Tn,{children:e.jsx(UY,{})})}),e.jsx(bn,{path:"/master/frequency",element:e.jsx(Tn,{children:e.jsx(QY,{})})}),e.jsx(bn,{path:"/finance/invoice-management",element:e.jsx(Tn,{children:e.jsx(xJ,{})})}),e.jsx(bn,{path:"/finance/payment",element:e.jsx(Tn,{children:e.jsx(EJ,{})})}),e.jsx(bn,{path:"/finance/payment-success",element:e.jsx(Tn,{children:e.jsx(IJ,{})})}),e.jsx(bn,{path:"/finance/receipt-management",element:e.jsx(Tn,{children:e.jsx(kJ,{})})}),e.jsx(bn,{path:"/finance/financial-balance-summary",element:e.jsx(Tn,{children:e.jsx(_J,{})})}),e.jsx(bn,{path:"/report",element:e.jsx(Tn,{children:e.jsx(jee,{})})}),e.jsx(bn,{path:"/report/invoice",element:e.jsx(Tn,{children:e.jsx(Jb,{})})}),e.jsx(bn,{path:"/report/contract",element:e.jsx(Tn,{children:e.jsx(See,{})})}),e.jsx(bn,{path:"/report/hcf",element:e.jsx(Tn,{children:e.jsx(Eee,{})})}),e.jsx(bn,{path:"/report/training-certificate",element:e.jsx(Tn,{children:e.jsx(Iee,{})})}),e.jsx(bn,{path:"/report/payment",element:e.jsx(Tn,{children:e.jsx(RT,{})})}),e.jsx(bn,{path:"/report/agreement",element:e.jsx(Tn,{children:e.jsx(kee,{})})}),e.jsx(bn,{path:"/report/barcode",element:e.jsx(Tn,{children:e.jsx(QT,{})})}),e.jsx(bn,{path:"/report/barcode-usage",element:e.jsx(Tn,{children:e.jsx(QT,{})})}),e.jsx(bn,{path:"/report/user",element:e.jsx(Tn,{children:e.jsx(Fee,{})})}),e.jsx(bn,{path:"/report/fleet",element:e.jsx(Tn,{children:e.jsx(Pee,{})})}),e.jsx(bn,{path:"/report/revenue",element:e.jsx(Tn,{children:e.jsx(HT,{})})}),e.jsx(bn,{path:"/report/outstanding",element:e.jsx(Tn,{children:e.jsx(WT,{})})}),e.jsx(bn,{path:"/report/contract-renewal",element:e.jsx(Tn,{children:e.jsx(Oee,{})})}),e.jsx(bn,{path:"/report/route",element:e.jsx(Tn,{children:e.jsx(Mee,{})})}),e.jsx(bn,{path:"/report/collection",element:e.jsx(Tn,{children:e.jsx(Dee,{})})}),e.jsx(bn,{path:"/report/company",element:e.jsx(Tn,{children:e.jsx(_ee,{})})}),e.jsx(bn,{path:"/report/compliance",element:e.jsx(Tn,{children:e.jsx(Lee,{})})}),e.jsx(bn,{path:"/report/fleet-master",element:e.jsx(Tn,{children:e.jsx(Uee,{})})}),e.jsx(bn,{path:"/report/billing-finance",element:e.jsx(Tn,{children:e.jsx(wee,{})})}),e.jsx(bn,{path:"/report/billing-finance/invoice-generation",element:e.jsx(Tn,{children:e.jsx(Jb,{})})}),e.jsx(bn,{path:"/report/billing-finance/unbilled-services",element:e.jsx(Tn,{children:e.jsx(Jb,{})})}),e.jsx(bn,{path:"/report/billing-finance/outstanding-payments",element:e.jsx(Tn,{children:e.jsx(WT,{})})}),e.jsx(bn,{path:"/report/billing-finance/pending-payments",element:e.jsx(Tn,{children:e.jsx(RT,{})})}),e.jsx(bn,{path:"/report/billing-finance/cost-revenue-analysis",element:e.jsx(Tn,{children:e.jsx(HT,{})})}),e.jsx(bn,{path:"/report/operations-logistics",element:e.jsx(Tn,{children:e.jsx(Cee,{})})}),e.jsx(bn,{path:"/report/hcf-compliance",element:e.jsx(Tn,{children:e.jsx(Nee,{})})}),e.jsx(bn,{path:"/users/new",element:e.jsx(lN,{children:e.jsx(Tn,{roles:["admin"],children:e.jsx(yee,{})})})}),e.jsx(bn,{path:"/mobile/users/new",element:e.jsx(lN,{children:e.jsx(Tn,{roles:["admin","manager"],children:e.jsx($ee,{})})})})]})})},ete=()=>e.jsx(f8,{children:e.jsx(Zee,{})});class tte extends M.Component{constructor(){super(...arguments);Us(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),e.jsx("p",{children:"Please check the browser console for details."}),e.jsxs("details",{style:{marginTop:"10px"},children:[e.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),e.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const $O=document.getElementById("root");if(!$O)throw new Error("Root element #root not found. Make sure index.html mounts it.");a6.createRoot($O).render(e.jsx(wt.StrictMode,{children:e.jsx(tte,{children:e.jsx(a8,{children:e.jsx(ete,{})})})}));
